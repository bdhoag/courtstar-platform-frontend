var b6=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var qNe=b6((rr,po)=>{function A6(t,n){for(var o=0;o<n.length;o++){const s=n[o];if(typeof s!="string"&&!Array.isArray(s)){for(const d in s)if(d!=="default"&&!(d in t)){const m=Object.getOwnPropertyDescriptor(s,d);m&&Object.defineProperty(t,d,m.get?m:{enumerable:!0,get:()=>s[d]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))s(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const p of m.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function o(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function s(d){if(d.ep)return;d.ep=!0;const m=o(d);fetch(d.href,m)}})();var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Js(t){if(t.__esModule)return t;var n=t.default;if(typeof n=="function"){var o=function s(){return this instanceof s?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};o.prototype=n.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var d=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(o,s,d.get?d:{enumerable:!0,get:function(){return t[s]}})}),o}var nD={exports:{}},pf={},iD={exports:{}},sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pm=Symbol.for("react.element"),y6=Symbol.for("react.portal"),k6=Symbol.for("react.fragment"),v6=Symbol.for("react.strict_mode"),w6=Symbol.for("react.profiler"),x6=Symbol.for("react.provider"),S6=Symbol.for("react.context"),B6=Symbol.for("react.forward_ref"),Z6=Symbol.for("react.suspense"),G6=Symbol.for("react.memo"),R6=Symbol.for("react.lazy"),UN=Symbol.iterator;function V6(t){return t===null||typeof t!="object"?null:(t=UN&&t[UN]||t["@@iterator"],typeof t=="function"?t:null)}var oD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rD=Object.assign,sD={};function Sd(t,n,o){this.props=t,this.context=n,this.refs=sD,this.updater=o||oD}Sd.prototype.isReactComponent={};Sd.prototype.setState=function(t,n){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,n,"setState")};Sd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function aD(){}aD.prototype=Sd.prototype;function Hw(t,n,o){this.props=t,this.context=n,this.refs=sD,this.updater=o||oD}var Fw=Hw.prototype=new aD;Fw.constructor=Hw;rD(Fw,Sd.prototype);Fw.isPureReactComponent=!0;var QN=Array.isArray,lD=Object.prototype.hasOwnProperty,Mw={current:null},cD={key:!0,ref:!0,__self:!0,__source:!0};function gD(t,n,o){var s,d={},m=null,p=null;if(n!=null)for(s in n.ref!==void 0&&(p=n.ref),n.key!==void 0&&(m=""+n.key),n)lD.call(n,s)&&!cD.hasOwnProperty(s)&&(d[s]=n[s]);var v=arguments.length-2;if(v===1)d.children=o;else if(1<v){for(var k=Array(v),Z=0;Z<v;Z++)k[Z]=arguments[Z+2];d.children=k}if(t&&t.defaultProps)for(s in v=t.defaultProps,v)d[s]===void 0&&(d[s]=v[s]);return{$$typeof:pm,type:t,key:m,ref:p,props:d,_owner:Mw.current}}function W6(t,n){return{$$typeof:pm,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}function Tw(t){return typeof t=="object"&&t!==null&&t.$$typeof===pm}function _6(t){var n={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(o){return n[o]})}var qN=/\/+/g;function vy(t,n){return typeof t=="object"&&t!==null&&t.key!=null?_6(""+t.key):n.toString(36)}function Yp(t,n,o,s,d){var m=typeof t;(m==="undefined"||m==="boolean")&&(t=null);var p=!1;if(t===null)p=!0;else switch(m){case"string":case"number":p=!0;break;case"object":switch(t.$$typeof){case pm:case y6:p=!0}}if(p)return p=t,d=d(p),t=s===""?"."+vy(p,0):s,QN(d)?(o="",t!=null&&(o=t.replace(qN,"$&/")+"/"),Yp(d,n,o,"",function(Z){return Z})):d!=null&&(Tw(d)&&(d=W6(d,o+(!d.key||p&&p.key===d.key?"":(""+d.key).replace(qN,"$&/")+"/")+t)),n.push(d)),1;if(p=0,s=s===""?".":s+":",QN(t))for(var v=0;v<t.length;v++){m=t[v];var k=s+vy(m,v);p+=Yp(m,n,o,k,d)}else if(k=V6(t),typeof k=="function")for(t=k.call(t),v=0;!(m=t.next()).done;)m=m.value,k=s+vy(m,v++),p+=Yp(m,n,o,k,d);else if(m==="object")throw n=String(t),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return p}function qC(t,n,o){if(t==null)return t;var s=[],d=0;return Yp(t,s,"","",function(m){return n.call(o,m,d++)}),s}function N6(t){if(t._status===-1){var n=t._result;n=n(),n.then(function(o){(t._status===0||t._status===-1)&&(t._status=1,t._result=o)},function(o){(t._status===0||t._status===-1)&&(t._status=2,t._result=o)}),t._status===-1&&(t._status=0,t._result=n)}if(t._status===1)return t._result.default;throw t._result}var Bo={current:null},Dp={transition:null},E6={ReactCurrentDispatcher:Bo,ReactCurrentBatchConfig:Dp,ReactCurrentOwner:Mw};function dD(){throw Error("act(...) is not supported in production builds of React.")}sn.Children={map:qC,forEach:function(t,n,o){qC(t,function(){n.apply(this,arguments)},o)},count:function(t){var n=0;return qC(t,function(){n++}),n},toArray:function(t){return qC(t,function(n){return n})||[]},only:function(t){if(!Tw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};sn.Component=Sd;sn.Fragment=k6;sn.Profiler=w6;sn.PureComponent=Hw;sn.StrictMode=v6;sn.Suspense=Z6;sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E6;sn.act=dD;sn.cloneElement=function(t,n,o){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=rD({},t.props),d=t.key,m=t.ref,p=t._owner;if(n!=null){if(n.ref!==void 0&&(m=n.ref,p=Mw.current),n.key!==void 0&&(d=""+n.key),t.type&&t.type.defaultProps)var v=t.type.defaultProps;for(k in n)lD.call(n,k)&&!cD.hasOwnProperty(k)&&(s[k]=n[k]===void 0&&v!==void 0?v[k]:n[k])}var k=arguments.length-2;if(k===1)s.children=o;else if(1<k){v=Array(k);for(var Z=0;Z<k;Z++)v[Z]=arguments[Z+2];s.children=v}return{$$typeof:pm,type:t.type,key:d,ref:m,props:s,_owner:p}};sn.createContext=function(t){return t={$$typeof:S6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:x6,_context:t},t.Consumer=t};sn.createElement=gD;sn.createFactory=function(t){var n=gD.bind(null,t);return n.type=t,n};sn.createRef=function(){return{current:null}};sn.forwardRef=function(t){return{$$typeof:B6,render:t}};sn.isValidElement=Tw;sn.lazy=function(t){return{$$typeof:R6,_payload:{_status:-1,_result:t},_init:N6}};sn.memo=function(t,n){return{$$typeof:G6,type:t,compare:n===void 0?null:n}};sn.startTransition=function(t){var n=Dp.transition;Dp.transition={};try{t()}finally{Dp.transition=n}};sn.unstable_act=dD;sn.useCallback=function(t,n){return Bo.current.useCallback(t,n)};sn.useContext=function(t){return Bo.current.useContext(t)};sn.useDebugValue=function(){};sn.useDeferredValue=function(t){return Bo.current.useDeferredValue(t)};sn.useEffect=function(t,n){return Bo.current.useEffect(t,n)};sn.useId=function(){return Bo.current.useId()};sn.useImperativeHandle=function(t,n,o){return Bo.current.useImperativeHandle(t,n,o)};sn.useInsertionEffect=function(t,n){return Bo.current.useInsertionEffect(t,n)};sn.useLayoutEffect=function(t,n){return Bo.current.useLayoutEffect(t,n)};sn.useMemo=function(t,n){return Bo.current.useMemo(t,n)};sn.useReducer=function(t,n,o){return Bo.current.useReducer(t,n,o)};sn.useRef=function(t){return Bo.current.useRef(t)};sn.useState=function(t){return Bo.current.useState(t)};sn.useSyncExternalStore=function(t,n,o){return Bo.current.useSyncExternalStore(t,n,o)};sn.useTransition=function(){return Bo.current.useTransition()};sn.version="18.3.1";iD.exports=sn;var q=iD.exports;const en=Cf(q),mI=A6({__proto__:null,default:en},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X6=q,Y6=Symbol.for("react.element"),D6=Symbol.for("react.fragment"),H6=Object.prototype.hasOwnProperty,F6=X6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M6={key:!0,ref:!0,__self:!0,__source:!0};function uD(t,n,o){var s,d={},m=null,p=null;o!==void 0&&(m=""+o),n.key!==void 0&&(m=""+n.key),n.ref!==void 0&&(p=n.ref);for(s in n)H6.call(n,s)&&!M6.hasOwnProperty(s)&&(d[s]=n[s]);if(t&&t.defaultProps)for(s in n=t.defaultProps,n)d[s]===void 0&&(d[s]=n[s]);return{$$typeof:Y6,type:t,key:m,ref:p,props:d,_owner:F6.current}}pf.Fragment=D6;pf.jsx=uD;pf.jsxs=uD;nD.exports=pf;var A=nD.exports,Ek={},hD={exports:{}},gr={},mD={exports:{}},CD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function n(fe,Ze){var _e=fe.length;fe.push(Ze);e:for(;0<_e;){var Pe=_e-1>>>1,Qe=fe[Pe];if(0<d(Qe,Ze))fe[Pe]=Ze,fe[_e]=Qe,_e=Pe;else break e}}function o(fe){return fe.length===0?null:fe[0]}function s(fe){if(fe.length===0)return null;var Ze=fe[0],_e=fe.pop();if(_e!==Ze){fe[0]=_e;e:for(var Pe=0,Qe=fe.length,Je=Qe>>>1;Pe<Je;){var ve=2*(Pe+1)-1,Ye=fe[ve],He=ve+1,Oe=fe[He];if(0>d(Ye,_e))He<Qe&&0>d(Oe,Ye)?(fe[Pe]=Oe,fe[He]=_e,Pe=He):(fe[Pe]=Ye,fe[ve]=_e,Pe=ve);else if(He<Qe&&0>d(Oe,_e))fe[Pe]=Oe,fe[He]=_e,Pe=He;else break e}}return Ze}function d(fe,Ze){var _e=fe.sortIndex-Ze.sortIndex;return _e!==0?_e:fe.id-Ze.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;t.unstable_now=function(){return m.now()}}else{var p=Date,v=p.now();t.unstable_now=function(){return p.now()-v}}var k=[],Z=[],_=1,N=null,G=3,D=!1,M=!1,L=!1,O=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(fe){for(var Ze=o(Z);Ze!==null;){if(Ze.callback===null)s(Z);else if(Ze.startTime<=fe)s(Z),Ze.sortIndex=Ze.expirationTime,n(k,Ze);else break;Ze=o(Z)}}function ie(fe){if(L=!1,j(fe),!M)if(o(k)!==null)M=!0,Be(ne);else{var Ze=o(Z);Ze!==null&&Re(ie,Ze.startTime-fe)}}function ne(fe,Ze){M=!1,L&&(L=!1,P(de),de=-1),D=!0;var _e=G;try{for(j(Ze),N=o(k);N!==null&&(!(N.expirationTime>Ze)||fe&&!be());){var Pe=N.callback;if(typeof Pe=="function"){N.callback=null,G=N.priorityLevel;var Qe=Pe(N.expirationTime<=Ze);Ze=t.unstable_now(),typeof Qe=="function"?N.callback=Qe:N===o(k)&&s(k),j(Ze)}else s(k);N=o(k)}if(N!==null)var Je=!0;else{var ve=o(Z);ve!==null&&Re(ie,ve.startTime-Ze),Je=!1}return Je}finally{N=null,G=_e,D=!1}}var ue=!1,K=null,de=-1,pe=5,Ce=-1;function be(){return!(t.unstable_now()-Ce<pe)}function Ge(){if(K!==null){var fe=t.unstable_now();Ce=fe;var Ze=!0;try{Ze=K(!0,fe)}finally{Ze?Ee():(ue=!1,K=null)}}else ue=!1}var Ee;if(typeof F=="function")Ee=function(){F(Ge)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,ke=Se.port2;Se.port1.onmessage=Ge,Ee=function(){ke.postMessage(null)}}else Ee=function(){O(Ge,0)};function Be(fe){K=fe,ue||(ue=!0,Ee())}function Re(fe,Ze){de=O(function(){fe(t.unstable_now())},Ze)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(fe){fe.callback=null},t.unstable_continueExecution=function(){M||D||(M=!0,Be(ne))},t.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<fe?Math.floor(1e3/fe):5},t.unstable_getCurrentPriorityLevel=function(){return G},t.unstable_getFirstCallbackNode=function(){return o(k)},t.unstable_next=function(fe){switch(G){case 1:case 2:case 3:var Ze=3;break;default:Ze=G}var _e=G;G=Ze;try{return fe()}finally{G=_e}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(fe,Ze){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var _e=G;G=fe;try{return Ze()}finally{G=_e}},t.unstable_scheduleCallback=function(fe,Ze,_e){var Pe=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Pe+_e:Pe):_e=Pe,fe){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=_e+Qe,fe={id:_++,callback:Ze,priorityLevel:fe,startTime:_e,expirationTime:Qe,sortIndex:-1},_e>Pe?(fe.sortIndex=_e,n(Z,fe),o(k)===null&&fe===o(Z)&&(L?(P(de),de=-1):L=!0,Re(ie,_e-Pe))):(fe.sortIndex=Qe,n(k,fe),M||D||(M=!0,Be(ne))),fe},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(fe){var Ze=G;return function(){var _e=G;G=Ze;try{return fe.apply(this,arguments)}finally{G=_e}}}})(CD);mD.exports=CD;var T6=mD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J6=q,cr=T6;function it(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pD=new Set,Wh={};function Yc(t,n){cd(t,n),cd(t+"Capture",n)}function cd(t,n){for(Wh[t]=n,t=0;t<n.length;t++)pD.add(n[t])}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xk=Object.prototype.hasOwnProperty,L6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$N={},e5={};function z6(t){return Xk.call(e5,t)?!0:Xk.call($N,t)?!1:L6.test(t)?e5[t]=!0:($N[t]=!0,!1)}function K6(t,n,o,s){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return s?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function P6(t,n,o,s){if(n===null||typeof n>"u"||K6(t,n,o,s))return!0;if(s)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Zo(t,n,o,s,d,m,p){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=s,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=n,this.sanitizeURL=m,this.removeEmptyString=p}var ao={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ao[t]=new Zo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];ao[n]=new Zo(n,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ao[t]=new Zo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ao[t]=new Zo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ao[t]=new Zo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ao[t]=new Zo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ao[t]=new Zo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ao[t]=new Zo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ao[t]=new Zo(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jw=/[\-:]([a-z])/g;function Lw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(Jw,Lw);ao[n]=new Zo(n,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(Jw,Lw);ao[n]=new Zo(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(Jw,Lw);ao[n]=new Zo(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ao[t]=new Zo(t,1,!1,t.toLowerCase(),null,!1,!1)});ao.xlinkHref=new Zo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ao[t]=new Zo(t,1,!1,t.toLowerCase(),null,!0,!0)});function zw(t,n,o,s){var d=ao.hasOwnProperty(n)?ao[n]:null;(d!==null?d.type!==0:s||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(P6(n,o,d,s)&&(o=null),s||d===null?z6(n)&&(o===null?t.removeAttribute(n):t.setAttribute(n,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(n=d.attributeName,s=d.attributeNamespace,o===null?t.removeAttribute(n):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,s?t.setAttributeNS(s,n,o):t.setAttribute(n,o))))}var Ra=J6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$C=Symbol.for("react.element"),Yg=Symbol.for("react.portal"),Dg=Symbol.for("react.fragment"),Kw=Symbol.for("react.strict_mode"),Yk=Symbol.for("react.profiler"),ID=Symbol.for("react.provider"),fD=Symbol.for("react.context"),Pw=Symbol.for("react.forward_ref"),Dk=Symbol.for("react.suspense"),Hk=Symbol.for("react.suspense_list"),jw=Symbol.for("react.memo"),el=Symbol.for("react.lazy"),bD=Symbol.for("react.offscreen"),t5=Symbol.iterator;function Nu(t){return t===null||typeof t!="object"?null:(t=t5&&t[t5]||t["@@iterator"],typeof t=="function"?t:null)}var li=Object.assign,wy;function th(t){if(wy===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);wy=n&&n[1]||""}return`
`+wy+t}var xy=!1;function Sy(t,n){if(!t||xy)return"";xy=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(Z){var s=Z}Reflect.construct(t,[],n)}else{try{n.call()}catch(Z){s=Z}t.call(n.prototype)}else{try{throw Error()}catch(Z){s=Z}t()}}catch(Z){if(Z&&s&&typeof Z.stack=="string"){for(var d=Z.stack.split(`
`),m=s.stack.split(`
`),p=d.length-1,v=m.length-1;1<=p&&0<=v&&d[p]!==m[v];)v--;for(;1<=p&&0<=v;p--,v--)if(d[p]!==m[v]){if(p!==1||v!==1)do if(p--,v--,0>v||d[p]!==m[v]){var k=`
`+d[p].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=p&&0<=v);break}}}finally{xy=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?th(t):""}function j6(t){switch(t.tag){case 5:return th(t.type);case 16:return th("Lazy");case 13:return th("Suspense");case 19:return th("SuspenseList");case 0:case 2:case 15:return t=Sy(t.type,!1),t;case 11:return t=Sy(t.type.render,!1),t;case 1:return t=Sy(t.type,!0),t;default:return""}}function Fk(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Dg:return"Fragment";case Yg:return"Portal";case Yk:return"Profiler";case Kw:return"StrictMode";case Dk:return"Suspense";case Hk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fD:return(t.displayName||"Context")+".Consumer";case ID:return(t._context.displayName||"Context")+".Provider";case Pw:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jw:return n=t.displayName||null,n!==null?n:Fk(t.type)||"Memo";case el:n=t._payload,t=t._init;try{return Fk(t(n))}catch{}}return null}function O6(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fk(n);case 8:return n===Kw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function vl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function AD(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function U6(t){var n=AD(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),s=""+t[n];if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,m=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(p){s=""+p,m.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ep(t){t._valueTracker||(t._valueTracker=U6(t))}function yD(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return t&&(s=AD(t)?t.checked?"true":"false":t.value),t=s,t!==o?(n.setValue(t),!0):!1}function CI(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mk(t,n){var o=n.checked;return li({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function n5(t,n){var o=n.defaultValue==null?"":n.defaultValue,s=n.checked!=null?n.checked:n.defaultChecked;o=vl(n.value!=null?n.value:o),t._wrapperState={initialChecked:s,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function kD(t,n){n=n.checked,n!=null&&zw(t,"checked",n,!1)}function Tk(t,n){kD(t,n);var o=vl(n.value),s=n.type;if(o!=null)s==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Jk(t,n.type,o):n.hasOwnProperty("defaultValue")&&Jk(t,n.type,vl(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function i5(t,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var s=n.type;if(!(s!=="submit"&&s!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,o||n===t.value||(t.value=n),t.defaultValue=n}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Jk(t,n,o){(n!=="number"||CI(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var nh=Array.isArray;function Qg(t,n,o,s){if(t=t.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=n.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&s&&(t[o].defaultSelected=!0)}else{for(o=""+vl(o),n=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,s&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function Lk(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(it(91));return li({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function o5(t,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(it(92));if(nh(o)){if(1<o.length)throw Error(it(93));o=o[0]}n=o}n==null&&(n=""),o=n}t._wrapperState={initialValue:vl(o)}}function vD(t,n){var o=vl(n.value),s=vl(n.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),n.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),s!=null&&(t.defaultValue=""+s)}function r5(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function wD(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zk(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?wD(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tp,xD=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,s,d){MSApp.execUnsafeLocalFunction(function(){return t(n,o,s,d)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(tp=tp||document.createElement("div"),tp.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=tp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function _h(t,n){if(n){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=n;return}}t.textContent=n}var ch={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q6=["Webkit","ms","Moz","O"];Object.keys(ch).forEach(function(t){Q6.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),ch[n]=ch[t]})});function SD(t,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||ch.hasOwnProperty(t)&&ch[t]?(""+n).trim():n+"px"}function BD(t,n){t=t.style;for(var o in n)if(n.hasOwnProperty(o)){var s=o.indexOf("--")===0,d=SD(o,n[o],s);o==="float"&&(o="cssFloat"),s?t.setProperty(o,d):t[o]=d}}var q6=li({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kk(t,n){if(n){if(q6[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(it(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(it(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(it(61))}if(n.style!=null&&typeof n.style!="object")throw Error(it(62))}}function Pk(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jk=null;function Ow(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ok=null,qg=null,$g=null;function s5(t){if(t=bm(t)){if(typeof Ok!="function")throw Error(it(280));var n=t.stateNode;n&&(n=yf(n),Ok(t.stateNode,t.type,n))}}function ZD(t){qg?$g?$g.push(t):$g=[t]:qg=t}function GD(){if(qg){var t=qg,n=$g;if($g=qg=null,s5(t),n)for(t=0;t<n.length;t++)s5(n[t])}}function RD(t,n){return t(n)}function VD(){}var By=!1;function WD(t,n,o){if(By)return t(n,o);By=!0;try{return RD(t,n,o)}finally{By=!1,(qg!==null||$g!==null)&&(VD(),GD())}}function Nh(t,n){var o=t.stateNode;if(o===null)return null;var s=yf(o);if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(it(231,n,typeof o));return o}var Uk=!1;if(va)try{var Eu={};Object.defineProperty(Eu,"passive",{get:function(){Uk=!0}}),window.addEventListener("test",Eu,Eu),window.removeEventListener("test",Eu,Eu)}catch{Uk=!1}function $6(t,n,o,s,d,m,p,v,k){var Z=Array.prototype.slice.call(arguments,3);try{n.apply(o,Z)}catch(_){this.onError(_)}}var gh=!1,pI=null,II=!1,Qk=null,eq={onError:function(t){gh=!0,pI=t}};function tq(t,n,o,s,d,m,p,v,k){gh=!1,pI=null,$6.apply(eq,arguments)}function nq(t,n,o,s,d,m,p,v,k){if(tq.apply(this,arguments),gh){if(gh){var Z=pI;gh=!1,pI=null}else throw Error(it(198));II||(II=!0,Qk=Z)}}function Dc(t){var n=t,o=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(o=n.return),t=n.return;while(t)}return n.tag===3?o:null}function _D(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function a5(t){if(Dc(t)!==t)throw Error(it(188))}function iq(t){var n=t.alternate;if(!n){if(n=Dc(t),n===null)throw Error(it(188));return n!==t?null:t}for(var o=t,s=n;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return a5(d),t;if(m===s)return a5(d),n;m=m.sibling}throw Error(it(188))}if(o.return!==s.return)o=d,s=m;else{for(var p=!1,v=d.child;v;){if(v===o){p=!0,o=d,s=m;break}if(v===s){p=!0,s=d,o=m;break}v=v.sibling}if(!p){for(v=m.child;v;){if(v===o){p=!0,o=m,s=d;break}if(v===s){p=!0,s=m,o=d;break}v=v.sibling}if(!p)throw Error(it(189))}}if(o.alternate!==s)throw Error(it(190))}if(o.tag!==3)throw Error(it(188));return o.stateNode.current===o?t:n}function ND(t){return t=iq(t),t!==null?ED(t):null}function ED(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=ED(t);if(n!==null)return n;t=t.sibling}return null}var XD=cr.unstable_scheduleCallback,l5=cr.unstable_cancelCallback,oq=cr.unstable_shouldYield,rq=cr.unstable_requestPaint,wi=cr.unstable_now,sq=cr.unstable_getCurrentPriorityLevel,Uw=cr.unstable_ImmediatePriority,YD=cr.unstable_UserBlockingPriority,fI=cr.unstable_NormalPriority,aq=cr.unstable_LowPriority,DD=cr.unstable_IdlePriority,If=null,Hs=null;function lq(t){if(Hs&&typeof Hs.onCommitFiberRoot=="function")try{Hs.onCommitFiberRoot(If,t,void 0,(t.current.flags&128)===128)}catch{}}var cs=Math.clz32?Math.clz32:dq,cq=Math.log,gq=Math.LN2;function dq(t){return t>>>=0,t===0?32:31-(cq(t)/gq|0)|0}var np=64,ip=4194304;function ih(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bI(t,n){var o=t.pendingLanes;if(o===0)return 0;var s=0,d=t.suspendedLanes,m=t.pingedLanes,p=o&268435455;if(p!==0){var v=p&~d;v!==0?s=ih(v):(m&=p,m!==0&&(s=ih(m)))}else p=o&~d,p!==0?s=ih(p):m!==0&&(s=ih(m));if(s===0)return 0;if(n!==0&&n!==s&&!(n&d)&&(d=s&-s,m=n&-n,d>=m||d===16&&(m&4194240)!==0))return n;if(s&4&&(s|=o&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=s;0<n;)o=31-cs(n),d=1<<o,s|=t[o],n&=~d;return s}function uq(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hq(t,n){for(var o=t.suspendedLanes,s=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes;0<m;){var p=31-cs(m),v=1<<p,k=d[p];k===-1?(!(v&o)||v&s)&&(d[p]=uq(v,n)):k<=n&&(t.expiredLanes|=v),m&=~v}}function qk(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HD(){var t=np;return np<<=1,!(np&4194240)&&(np=64),t}function Zy(t){for(var n=[],o=0;31>o;o++)n.push(t);return n}function Im(t,n,o){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-cs(n),t[n]=o}function mq(t,n){var o=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-cs(o),m=1<<d;n[d]=0,s[d]=-1,t[d]=-1,o&=~m}}function Qw(t,n){var o=t.entangledLanes|=n;for(t=t.entanglements;o;){var s=31-cs(o),d=1<<s;d&n|t[s]&n&&(t[s]|=n),o&=~d}}var Vn=0;function FD(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MD,qw,TD,JD,LD,$k=!1,op=[],gl=null,dl=null,ul=null,Eh=new Map,Xh=new Map,nl=[],Cq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c5(t,n){switch(t){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":dl=null;break;case"mouseover":case"mouseout":ul=null;break;case"pointerover":case"pointerout":Eh.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xh.delete(n.pointerId)}}function Xu(t,n,o,s,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=bm(n),n!==null&&qw(n)),t):(t.eventSystemFlags|=s,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function pq(t,n,o,s,d){switch(n){case"focusin":return gl=Xu(gl,t,n,o,s,d),!0;case"dragenter":return dl=Xu(dl,t,n,o,s,d),!0;case"mouseover":return ul=Xu(ul,t,n,o,s,d),!0;case"pointerover":var m=d.pointerId;return Eh.set(m,Xu(Eh.get(m)||null,t,n,o,s,d)),!0;case"gotpointercapture":return m=d.pointerId,Xh.set(m,Xu(Xh.get(m)||null,t,n,o,s,d)),!0}return!1}function zD(t){var n=hc(t.target);if(n!==null){var o=Dc(n);if(o!==null){if(n=o.tag,n===13){if(n=_D(o),n!==null){t.blockedOn=n,LD(t.priority,function(){TD(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hp(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var o=ev(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var s=new o.constructor(o.type,o);jk=s,o.target.dispatchEvent(s),jk=null}else return n=bm(o),n!==null&&qw(n),t.blockedOn=o,!1;n.shift()}return!0}function g5(t,n,o){Hp(t)&&o.delete(n)}function Iq(){$k=!1,gl!==null&&Hp(gl)&&(gl=null),dl!==null&&Hp(dl)&&(dl=null),ul!==null&&Hp(ul)&&(ul=null),Eh.forEach(g5),Xh.forEach(g5)}function Yu(t,n){t.blockedOn===n&&(t.blockedOn=null,$k||($k=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,Iq)))}function Yh(t){function n(d){return Yu(d,t)}if(0<op.length){Yu(op[0],t);for(var o=1;o<op.length;o++){var s=op[o];s.blockedOn===t&&(s.blockedOn=null)}}for(gl!==null&&Yu(gl,t),dl!==null&&Yu(dl,t),ul!==null&&Yu(ul,t),Eh.forEach(n),Xh.forEach(n),o=0;o<nl.length;o++)s=nl[o],s.blockedOn===t&&(s.blockedOn=null);for(;0<nl.length&&(o=nl[0],o.blockedOn===null);)zD(o),o.blockedOn===null&&nl.shift()}var ed=Ra.ReactCurrentBatchConfig,AI=!0;function fq(t,n,o,s){var d=Vn,m=ed.transition;ed.transition=null;try{Vn=1,$w(t,n,o,s)}finally{Vn=d,ed.transition=m}}function bq(t,n,o,s){var d=Vn,m=ed.transition;ed.transition=null;try{Vn=4,$w(t,n,o,s)}finally{Vn=d,ed.transition=m}}function $w(t,n,o,s){if(AI){var d=ev(t,n,o,s);if(d===null)Dy(t,n,s,yI,o),c5(t,s);else if(pq(d,t,n,o,s))s.stopPropagation();else if(c5(t,s),n&4&&-1<Cq.indexOf(t)){for(;d!==null;){var m=bm(d);if(m!==null&&MD(m),m=ev(t,n,o,s),m===null&&Dy(t,n,s,yI,o),m===d)break;d=m}d!==null&&s.stopPropagation()}else Dy(t,n,s,null,o)}}var yI=null;function ev(t,n,o,s){if(yI=null,t=Ow(s),t=hc(t),t!==null)if(n=Dc(t),n===null)t=null;else if(o=n.tag,o===13){if(t=_D(n),t!==null)return t;t=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return yI=t,null}function KD(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sq()){case Uw:return 1;case YD:return 4;case fI:case aq:return 16;case DD:return 536870912;default:return 16}default:return 16}}var rl=null,ex=null,Fp=null;function PD(){if(Fp)return Fp;var t,n=ex,o=n.length,s,d="value"in rl?rl.value:rl.textContent,m=d.length;for(t=0;t<o&&n[t]===d[t];t++);var p=o-t;for(s=1;s<=p&&n[o-s]===d[m-s];s++);return Fp=d.slice(t,1<s?1-s:void 0)}function Mp(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function rp(){return!0}function d5(){return!1}function dr(t){function n(o,s,d,m,p){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=p,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(o=t[v],this[v]=o?o(m):m[v]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?rp:d5,this.isPropagationStopped=d5,this}return li(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=rp)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=rp)},persist:function(){},isPersistent:rp}),n}var Bd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tx=dr(Bd),fm=li({},Bd,{view:0,detail:0}),Aq=dr(fm),Gy,Ry,Du,ff=li({},fm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nx,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Du&&(Du&&t.type==="mousemove"?(Gy=t.screenX-Du.screenX,Ry=t.screenY-Du.screenY):Ry=Gy=0,Du=t),Gy)},movementY:function(t){return"movementY"in t?t.movementY:Ry}}),u5=dr(ff),yq=li({},ff,{dataTransfer:0}),kq=dr(yq),vq=li({},fm,{relatedTarget:0}),Vy=dr(vq),wq=li({},Bd,{animationName:0,elapsedTime:0,pseudoElement:0}),xq=dr(wq),Sq=li({},Bd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bq=dr(Sq),Zq=li({},Bd,{data:0}),h5=dr(Zq),Gq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wq(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Vq[t])?!!n[t]:!1}function nx(){return Wq}var _q=li({},fm,{key:function(t){if(t.key){var n=Gq[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Mp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Rq[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nx,charCode:function(t){return t.type==="keypress"?Mp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nq=dr(_q),Eq=li({},ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m5=dr(Eq),Xq=li({},fm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nx}),Yq=dr(Xq),Dq=li({},Bd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hq=dr(Dq),Fq=li({},ff,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mq=dr(Fq),Tq=[9,13,27,32],ix=va&&"CompositionEvent"in window,dh=null;va&&"documentMode"in document&&(dh=document.documentMode);var Jq=va&&"TextEvent"in window&&!dh,jD=va&&(!ix||dh&&8<dh&&11>=dh),C5=" ",p5=!1;function OD(t,n){switch(t){case"keyup":return Tq.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UD(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hg=!1;function Lq(t,n){switch(t){case"compositionend":return UD(n);case"keypress":return n.which!==32?null:(p5=!0,C5);case"textInput":return t=n.data,t===C5&&p5?null:t;default:return null}}function zq(t,n){if(Hg)return t==="compositionend"||!ix&&OD(t,n)?(t=PD(),Fp=ex=rl=null,Hg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return jD&&n.locale!=="ko"?null:n.data;default:return null}}var Kq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I5(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Kq[t.type]:n==="textarea"}function QD(t,n,o,s){ZD(s),n=kI(n,"onChange"),0<n.length&&(o=new tx("onChange","change",null,o,s),t.push({event:o,listeners:n}))}var uh=null,Dh=null;function Pq(t){lH(t,0)}function bf(t){var n=Tg(t);if(yD(n))return t}function jq(t,n){if(t==="change")return n}var qD=!1;if(va){var Wy;if(va){var _y="oninput"in document;if(!_y){var f5=document.createElement("div");f5.setAttribute("oninput","return;"),_y=typeof f5.oninput=="function"}Wy=_y}else Wy=!1;qD=Wy&&(!document.documentMode||9<document.documentMode)}function b5(){uh&&(uh.detachEvent("onpropertychange",$D),Dh=uh=null)}function $D(t){if(t.propertyName==="value"&&bf(Dh)){var n=[];QD(n,Dh,t,Ow(t)),WD(Pq,n)}}function Oq(t,n,o){t==="focusin"?(b5(),uh=n,Dh=o,uh.attachEvent("onpropertychange",$D)):t==="focusout"&&b5()}function Uq(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bf(Dh)}function Qq(t,n){if(t==="click")return bf(n)}function qq(t,n){if(t==="input"||t==="change")return bf(n)}function $q(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hs=typeof Object.is=="function"?Object.is:$q;function Hh(t,n){if(hs(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var o=Object.keys(t),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!Xk.call(n,d)||!hs(t[d],n[d]))return!1}return!0}function A5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function y5(t,n){var o=A5(t);t=0;for(var s;o;){if(o.nodeType===3){if(s=t+o.textContent.length,t<=n&&s>=n)return{node:o,offset:n-t};t=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=A5(o)}}function eH(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?eH(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function tH(){for(var t=window,n=CI();n instanceof t.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)t=n.contentWindow;else break;n=CI(t.document)}return n}function ox(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function e$(t){var n=tH(),o=t.focusedElem,s=t.selectionRange;if(n!==o&&o&&o.ownerDocument&&eH(o.ownerDocument.documentElement,o)){if(s!==null&&ox(o)){if(n=s.start,t=s.end,t===void 0&&(t=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(t,o.value.length);else if(t=(n=o.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,m=Math.min(s.start,d);s=s.end===void 0?m:Math.min(s.end,d),!t.extend&&m>s&&(d=s,s=m,m=d),d=y5(o,m);var p=y5(o,s);d&&p&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==p.node||t.focusOffset!==p.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),t.removeAllRanges(),m>s?(t.addRange(n),t.extend(p.node,p.offset)):(n.setEnd(p.node,p.offset),t.addRange(n)))}}for(n=[],t=o;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)t=n[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var t$=va&&"documentMode"in document&&11>=document.documentMode,Fg=null,tv=null,hh=null,nv=!1;function k5(t,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;nv||Fg==null||Fg!==CI(s)||(s=Fg,"selectionStart"in s&&ox(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),hh&&Hh(hh,s)||(hh=s,s=kI(tv,"onSelect"),0<s.length&&(n=new tx("onSelect","select",null,n,o),t.push({event:n,listeners:s}),n.target=Fg)))}function sp(t,n){var o={};return o[t.toLowerCase()]=n.toLowerCase(),o["Webkit"+t]="webkit"+n,o["Moz"+t]="moz"+n,o}var Mg={animationend:sp("Animation","AnimationEnd"),animationiteration:sp("Animation","AnimationIteration"),animationstart:sp("Animation","AnimationStart"),transitionend:sp("Transition","TransitionEnd")},Ny={},nH={};va&&(nH=document.createElement("div").style,"AnimationEvent"in window||(delete Mg.animationend.animation,delete Mg.animationiteration.animation,delete Mg.animationstart.animation),"TransitionEvent"in window||delete Mg.transitionend.transition);function Af(t){if(Ny[t])return Ny[t];if(!Mg[t])return t;var n=Mg[t],o;for(o in n)if(n.hasOwnProperty(o)&&o in nH)return Ny[t]=n[o];return t}var iH=Af("animationend"),oH=Af("animationiteration"),rH=Af("animationstart"),sH=Af("transitionend"),aH=new Map,v5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sl(t,n){aH.set(t,n),Yc(n,[t])}for(var Ey=0;Ey<v5.length;Ey++){var Xy=v5[Ey],n$=Xy.toLowerCase(),i$=Xy[0].toUpperCase()+Xy.slice(1);Sl(n$,"on"+i$)}Sl(iH,"onAnimationEnd");Sl(oH,"onAnimationIteration");Sl(rH,"onAnimationStart");Sl("dblclick","onDoubleClick");Sl("focusin","onFocus");Sl("focusout","onBlur");Sl(sH,"onTransitionEnd");cd("onMouseEnter",["mouseout","mouseover"]);cd("onMouseLeave",["mouseout","mouseover"]);cd("onPointerEnter",["pointerout","pointerover"]);cd("onPointerLeave",["pointerout","pointerover"]);Yc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o$=new Set("cancel close invalid load scroll toggle".split(" ").concat(oh));function w5(t,n,o){var s=t.type||"unknown-event";t.currentTarget=o,nq(s,n,void 0,t),t.currentTarget=null}function lH(t,n){n=(n&4)!==0;for(var o=0;o<t.length;o++){var s=t[o],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var p=s.length-1;0<=p;p--){var v=s[p],k=v.instance,Z=v.currentTarget;if(v=v.listener,k!==m&&d.isPropagationStopped())break e;w5(d,v,Z),m=k}else for(p=0;p<s.length;p++){if(v=s[p],k=v.instance,Z=v.currentTarget,v=v.listener,k!==m&&d.isPropagationStopped())break e;w5(d,v,Z),m=k}}}if(II)throw t=Qk,II=!1,Qk=null,t}function jn(t,n){var o=n[av];o===void 0&&(o=n[av]=new Set);var s=t+"__bubble";o.has(s)||(cH(n,t,2,!1),o.add(s))}function Yy(t,n,o){var s=0;n&&(s|=4),cH(o,t,s,n)}var ap="_reactListening"+Math.random().toString(36).slice(2);function Fh(t){if(!t[ap]){t[ap]=!0,pD.forEach(function(o){o!=="selectionchange"&&(o$.has(o)||Yy(o,!1,t),Yy(o,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ap]||(n[ap]=!0,Yy("selectionchange",!1,n))}}function cH(t,n,o,s){switch(KD(n)){case 1:var d=fq;break;case 4:d=bq;break;default:d=$w}o=d.bind(null,n,o,t),d=void 0,!Uk||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?t.addEventListener(n,o,{capture:!0,passive:d}):t.addEventListener(n,o,!0):d!==void 0?t.addEventListener(n,o,{passive:d}):t.addEventListener(n,o,!1)}function Dy(t,n,o,s,d){var m=s;if(!(n&1)&&!(n&2)&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var v=s.stateNode.containerInfo;if(v===d||v.nodeType===8&&v.parentNode===d)break;if(p===4)for(p=s.return;p!==null;){var k=p.tag;if((k===3||k===4)&&(k=p.stateNode.containerInfo,k===d||k.nodeType===8&&k.parentNode===d))return;p=p.return}for(;v!==null;){if(p=hc(v),p===null)return;if(k=p.tag,k===5||k===6){s=m=p;continue e}v=v.parentNode}}s=s.return}WD(function(){var Z=m,_=Ow(o),N=[];e:{var G=aH.get(t);if(G!==void 0){var D=tx,M=t;switch(t){case"keypress":if(Mp(o)===0)break e;case"keydown":case"keyup":D=Nq;break;case"focusin":M="focus",D=Vy;break;case"focusout":M="blur",D=Vy;break;case"beforeblur":case"afterblur":D=Vy;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=u5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=kq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=Yq;break;case iH:case oH:case rH:D=xq;break;case sH:D=Hq;break;case"scroll":D=Aq;break;case"wheel":D=Mq;break;case"copy":case"cut":case"paste":D=Bq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=m5}var L=(n&4)!==0,O=!L&&t==="scroll",P=L?G!==null?G+"Capture":null:G;L=[];for(var F=Z,j;F!==null;){j=F;var ie=j.stateNode;if(j.tag===5&&ie!==null&&(j=ie,P!==null&&(ie=Nh(F,P),ie!=null&&L.push(Mh(F,ie,j)))),O)break;F=F.return}0<L.length&&(G=new D(G,M,null,o,_),N.push({event:G,listeners:L}))}}if(!(n&7)){e:{if(G=t==="mouseover"||t==="pointerover",D=t==="mouseout"||t==="pointerout",G&&o!==jk&&(M=o.relatedTarget||o.fromElement)&&(hc(M)||M[wa]))break e;if((D||G)&&(G=_.window===_?_:(G=_.ownerDocument)?G.defaultView||G.parentWindow:window,D?(M=o.relatedTarget||o.toElement,D=Z,M=M?hc(M):null,M!==null&&(O=Dc(M),M!==O||M.tag!==5&&M.tag!==6)&&(M=null)):(D=null,M=Z),D!==M)){if(L=u5,ie="onMouseLeave",P="onMouseEnter",F="mouse",(t==="pointerout"||t==="pointerover")&&(L=m5,ie="onPointerLeave",P="onPointerEnter",F="pointer"),O=D==null?G:Tg(D),j=M==null?G:Tg(M),G=new L(ie,F+"leave",D,o,_),G.target=O,G.relatedTarget=j,ie=null,hc(_)===Z&&(L=new L(P,F+"enter",M,o,_),L.target=j,L.relatedTarget=O,ie=L),O=ie,D&&M)t:{for(L=D,P=M,F=0,j=L;j;j=Ag(j))F++;for(j=0,ie=P;ie;ie=Ag(ie))j++;for(;0<F-j;)L=Ag(L),F--;for(;0<j-F;)P=Ag(P),j--;for(;F--;){if(L===P||P!==null&&L===P.alternate)break t;L=Ag(L),P=Ag(P)}L=null}else L=null;D!==null&&x5(N,G,D,L,!1),M!==null&&O!==null&&x5(N,O,M,L,!0)}}e:{if(G=Z?Tg(Z):window,D=G.nodeName&&G.nodeName.toLowerCase(),D==="select"||D==="input"&&G.type==="file")var ne=jq;else if(I5(G))if(qD)ne=qq;else{ne=Uq;var ue=Oq}else(D=G.nodeName)&&D.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ne=Qq);if(ne&&(ne=ne(t,Z))){QD(N,ne,o,_);break e}ue&&ue(t,G,Z),t==="focusout"&&(ue=G._wrapperState)&&ue.controlled&&G.type==="number"&&Jk(G,"number",G.value)}switch(ue=Z?Tg(Z):window,t){case"focusin":(I5(ue)||ue.contentEditable==="true")&&(Fg=ue,tv=Z,hh=null);break;case"focusout":hh=tv=Fg=null;break;case"mousedown":nv=!0;break;case"contextmenu":case"mouseup":case"dragend":nv=!1,k5(N,o,_);break;case"selectionchange":if(t$)break;case"keydown":case"keyup":k5(N,o,_)}var K;if(ix)e:{switch(t){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Hg?OD(t,o)&&(de="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(de="onCompositionStart");de&&(jD&&o.locale!=="ko"&&(Hg||de!=="onCompositionStart"?de==="onCompositionEnd"&&Hg&&(K=PD()):(rl=_,ex="value"in rl?rl.value:rl.textContent,Hg=!0)),ue=kI(Z,de),0<ue.length&&(de=new h5(de,t,null,o,_),N.push({event:de,listeners:ue}),K?de.data=K:(K=UD(o),K!==null&&(de.data=K)))),(K=Jq?Lq(t,o):zq(t,o))&&(Z=kI(Z,"onBeforeInput"),0<Z.length&&(_=new h5("onBeforeInput","beforeinput",null,o,_),N.push({event:_,listeners:Z}),_.data=K))}lH(N,n)})}function Mh(t,n,o){return{instance:t,listener:n,currentTarget:o}}function kI(t,n){for(var o=n+"Capture",s=[];t!==null;){var d=t,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=Nh(t,o),m!=null&&s.unshift(Mh(t,m,d)),m=Nh(t,n),m!=null&&s.push(Mh(t,m,d))),t=t.return}return s}function Ag(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x5(t,n,o,s,d){for(var m=n._reactName,p=[];o!==null&&o!==s;){var v=o,k=v.alternate,Z=v.stateNode;if(k!==null&&k===s)break;v.tag===5&&Z!==null&&(v=Z,d?(k=Nh(o,m),k!=null&&p.unshift(Mh(o,k,v))):d||(k=Nh(o,m),k!=null&&p.push(Mh(o,k,v)))),o=o.return}p.length!==0&&t.push({event:n,listeners:p})}var r$=/\r\n?/g,s$=/\u0000|\uFFFD/g;function S5(t){return(typeof t=="string"?t:""+t).replace(r$,`
`).replace(s$,"")}function lp(t,n,o){if(n=S5(n),S5(t)!==n&&o)throw Error(it(425))}function vI(){}var iv=null,ov=null;function rv(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sv=typeof setTimeout=="function"?setTimeout:void 0,a$=typeof clearTimeout=="function"?clearTimeout:void 0,B5=typeof Promise=="function"?Promise:void 0,l$=typeof queueMicrotask=="function"?queueMicrotask:typeof B5<"u"?function(t){return B5.resolve(null).then(t).catch(c$)}:sv;function c$(t){setTimeout(function(){throw t})}function Hy(t,n){var o=n,s=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(s===0){t.removeChild(d),Yh(n);return}s--}else o!=="$"&&o!=="$?"&&o!=="$!"||s++;o=d}while(o);Yh(n)}function hl(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Z5(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return t;n--}else o==="/$"&&n++}t=t.previousSibling}return null}var Zd=Math.random().toString(36).slice(2),_s="__reactFiber$"+Zd,Th="__reactProps$"+Zd,wa="__reactContainer$"+Zd,av="__reactEvents$"+Zd,g$="__reactListeners$"+Zd,d$="__reactHandles$"+Zd;function hc(t){var n=t[_s];if(n)return n;for(var o=t.parentNode;o;){if(n=o[wa]||o[_s]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(t=Z5(t);t!==null;){if(o=t[_s])return o;t=Z5(t)}return n}t=o,o=t.parentNode}return null}function bm(t){return t=t[_s]||t[wa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(it(33))}function yf(t){return t[Th]||null}var lv=[],Jg=-1;function Bl(t){return{current:t}}function qn(t){0>Jg||(t.current=lv[Jg],lv[Jg]=null,Jg--)}function Kn(t,n){Jg++,lv[Jg]=t.current,t.current=n}var wl={},fo=Bl(wl),Ho=Bl(!1),Sc=wl;function gd(t,n){var o=t.type.contextTypes;if(!o)return wl;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===n)return s.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in o)d[m]=n[m];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=d),d}function Fo(t){return t=t.childContextTypes,t!=null}function wI(){qn(Ho),qn(fo)}function G5(t,n,o){if(fo.current!==wl)throw Error(it(168));Kn(fo,n),Kn(Ho,o)}function gH(t,n,o){var s=t.stateNode;if(n=n.childContextTypes,typeof s.getChildContext!="function")return o;s=s.getChildContext();for(var d in s)if(!(d in n))throw Error(it(108,O6(t)||"Unknown",d));return li({},o,s)}function xI(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wl,Sc=fo.current,Kn(fo,t),Kn(Ho,Ho.current),!0}function R5(t,n,o){var s=t.stateNode;if(!s)throw Error(it(169));o?(t=gH(t,n,Sc),s.__reactInternalMemoizedMergedChildContext=t,qn(Ho),qn(fo),Kn(fo,t)):qn(Ho),Kn(Ho,o)}var ua=null,kf=!1,Fy=!1;function dH(t){ua===null?ua=[t]:ua.push(t)}function u$(t){kf=!0,dH(t)}function Zl(){if(!Fy&&ua!==null){Fy=!0;var t=0,n=Vn;try{var o=ua;for(Vn=1;t<o.length;t++){var s=o[t];do s=s(!0);while(s!==null)}ua=null,kf=!1}catch(d){throw ua!==null&&(ua=ua.slice(t+1)),XD(Uw,Zl),d}finally{Vn=n,Fy=!1}}return null}var Lg=[],zg=0,SI=null,BI=0,xr=[],Sr=0,Bc=null,pa=1,Ia="";function sc(t,n){Lg[zg++]=BI,Lg[zg++]=SI,SI=t,BI=n}function uH(t,n,o){xr[Sr++]=pa,xr[Sr++]=Ia,xr[Sr++]=Bc,Bc=t;var s=pa;t=Ia;var d=32-cs(s)-1;s&=~(1<<d),o+=1;var m=32-cs(n)+d;if(30<m){var p=d-d%5;m=(s&(1<<p)-1).toString(32),s>>=p,d-=p,pa=1<<32-cs(n)+d|o<<d|s,Ia=m+t}else pa=1<<m|o<<d|s,Ia=t}function rx(t){t.return!==null&&(sc(t,1),uH(t,1,0))}function sx(t){for(;t===SI;)SI=Lg[--zg],Lg[zg]=null,BI=Lg[--zg],Lg[zg]=null;for(;t===Bc;)Bc=xr[--Sr],xr[Sr]=null,Ia=xr[--Sr],xr[Sr]=null,pa=xr[--Sr],xr[Sr]=null}var sr=null,nr=null,ri=!1,as=null;function hH(t,n){var o=Rr(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=t,n=t.deletions,n===null?(t.deletions=[o],t.flags|=16):n.push(o)}function V5(t,n){switch(t.tag){case 5:var o=t.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,sr=t,nr=hl(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,sr=t,nr=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=Bc!==null?{id:pa,overflow:Ia}:null,t.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Rr(18,null,null,0),o.stateNode=n,o.return=t,t.child=o,sr=t,nr=null,!0):!1;default:return!1}}function cv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function gv(t){if(ri){var n=nr;if(n){var o=n;if(!V5(t,n)){if(cv(t))throw Error(it(418));n=hl(o.nextSibling);var s=sr;n&&V5(t,n)?hH(s,o):(t.flags=t.flags&-4097|2,ri=!1,sr=t)}}else{if(cv(t))throw Error(it(418));t.flags=t.flags&-4097|2,ri=!1,sr=t}}}function W5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sr=t}function cp(t){if(t!==sr)return!1;if(!ri)return W5(t),ri=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!rv(t.type,t.memoizedProps)),n&&(n=nr)){if(cv(t))throw mH(),Error(it(418));for(;n;)hH(t,n),n=hl(n.nextSibling)}if(W5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(it(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(n===0){nr=hl(t.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}t=t.nextSibling}nr=null}}else nr=sr?hl(t.stateNode.nextSibling):null;return!0}function mH(){for(var t=nr;t;)t=hl(t.nextSibling)}function dd(){nr=sr=null,ri=!1}function ax(t){as===null?as=[t]:as.push(t)}var h$=Ra.ReactCurrentBatchConfig;function Hu(t,n,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(it(309));var s=o.stateNode}if(!s)throw Error(it(147,t));var d=s,m=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===m?n.ref:(n=function(p){var v=d.refs;p===null?delete v[m]:v[m]=p},n._stringRef=m,n)}if(typeof t!="string")throw Error(it(284));if(!o._owner)throw Error(it(290,t))}return t}function gp(t,n){throw t=Object.prototype.toString.call(n),Error(it(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function _5(t){var n=t._init;return n(t._payload)}function CH(t){function n(P,F){if(t){var j=P.deletions;j===null?(P.deletions=[F],P.flags|=16):j.push(F)}}function o(P,F){if(!t)return null;for(;F!==null;)n(P,F),F=F.sibling;return null}function s(P,F){for(P=new Map;F!==null;)F.key!==null?P.set(F.key,F):P.set(F.index,F),F=F.sibling;return P}function d(P,F){return P=Il(P,F),P.index=0,P.sibling=null,P}function m(P,F,j){return P.index=j,t?(j=P.alternate,j!==null?(j=j.index,j<F?(P.flags|=2,F):j):(P.flags|=2,F)):(P.flags|=1048576,F)}function p(P){return t&&P.alternate===null&&(P.flags|=2),P}function v(P,F,j,ie){return F===null||F.tag!==6?(F=Py(j,P.mode,ie),F.return=P,F):(F=d(F,j),F.return=P,F)}function k(P,F,j,ie){var ne=j.type;return ne===Dg?_(P,F,j.props.children,ie,j.key):F!==null&&(F.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===el&&_5(ne)===F.type)?(ie=d(F,j.props),ie.ref=Hu(P,F,j),ie.return=P,ie):(ie=jp(j.type,j.key,j.props,null,P.mode,ie),ie.ref=Hu(P,F,j),ie.return=P,ie)}function Z(P,F,j,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==j.containerInfo||F.stateNode.implementation!==j.implementation?(F=jy(j,P.mode,ie),F.return=P,F):(F=d(F,j.children||[]),F.return=P,F)}function _(P,F,j,ie,ne){return F===null||F.tag!==7?(F=bc(j,P.mode,ie,ne),F.return=P,F):(F=d(F,j),F.return=P,F)}function N(P,F,j){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Py(""+F,P.mode,j),F.return=P,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case $C:return j=jp(F.type,F.key,F.props,null,P.mode,j),j.ref=Hu(P,null,F),j.return=P,j;case Yg:return F=jy(F,P.mode,j),F.return=P,F;case el:var ie=F._init;return N(P,ie(F._payload),j)}if(nh(F)||Nu(F))return F=bc(F,P.mode,j,null),F.return=P,F;gp(P,F)}return null}function G(P,F,j,ie){var ne=F!==null?F.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return ne!==null?null:v(P,F,""+j,ie);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case $C:return j.key===ne?k(P,F,j,ie):null;case Yg:return j.key===ne?Z(P,F,j,ie):null;case el:return ne=j._init,G(P,F,ne(j._payload),ie)}if(nh(j)||Nu(j))return ne!==null?null:_(P,F,j,ie,null);gp(P,j)}return null}function D(P,F,j,ie,ne){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return P=P.get(j)||null,v(F,P,""+ie,ne);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case $C:return P=P.get(ie.key===null?j:ie.key)||null,k(F,P,ie,ne);case Yg:return P=P.get(ie.key===null?j:ie.key)||null,Z(F,P,ie,ne);case el:var ue=ie._init;return D(P,F,j,ue(ie._payload),ne)}if(nh(ie)||Nu(ie))return P=P.get(j)||null,_(F,P,ie,ne,null);gp(F,ie)}return null}function M(P,F,j,ie){for(var ne=null,ue=null,K=F,de=F=0,pe=null;K!==null&&de<j.length;de++){K.index>de?(pe=K,K=null):pe=K.sibling;var Ce=G(P,K,j[de],ie);if(Ce===null){K===null&&(K=pe);break}t&&K&&Ce.alternate===null&&n(P,K),F=m(Ce,F,de),ue===null?ne=Ce:ue.sibling=Ce,ue=Ce,K=pe}if(de===j.length)return o(P,K),ri&&sc(P,de),ne;if(K===null){for(;de<j.length;de++)K=N(P,j[de],ie),K!==null&&(F=m(K,F,de),ue===null?ne=K:ue.sibling=K,ue=K);return ri&&sc(P,de),ne}for(K=s(P,K);de<j.length;de++)pe=D(K,P,de,j[de],ie),pe!==null&&(t&&pe.alternate!==null&&K.delete(pe.key===null?de:pe.key),F=m(pe,F,de),ue===null?ne=pe:ue.sibling=pe,ue=pe);return t&&K.forEach(function(be){return n(P,be)}),ri&&sc(P,de),ne}function L(P,F,j,ie){var ne=Nu(j);if(typeof ne!="function")throw Error(it(150));if(j=ne.call(j),j==null)throw Error(it(151));for(var ue=ne=null,K=F,de=F=0,pe=null,Ce=j.next();K!==null&&!Ce.done;de++,Ce=j.next()){K.index>de?(pe=K,K=null):pe=K.sibling;var be=G(P,K,Ce.value,ie);if(be===null){K===null&&(K=pe);break}t&&K&&be.alternate===null&&n(P,K),F=m(be,F,de),ue===null?ne=be:ue.sibling=be,ue=be,K=pe}if(Ce.done)return o(P,K),ri&&sc(P,de),ne;if(K===null){for(;!Ce.done;de++,Ce=j.next())Ce=N(P,Ce.value,ie),Ce!==null&&(F=m(Ce,F,de),ue===null?ne=Ce:ue.sibling=Ce,ue=Ce);return ri&&sc(P,de),ne}for(K=s(P,K);!Ce.done;de++,Ce=j.next())Ce=D(K,P,de,Ce.value,ie),Ce!==null&&(t&&Ce.alternate!==null&&K.delete(Ce.key===null?de:Ce.key),F=m(Ce,F,de),ue===null?ne=Ce:ue.sibling=Ce,ue=Ce);return t&&K.forEach(function(Ge){return n(P,Ge)}),ri&&sc(P,de),ne}function O(P,F,j,ie){if(typeof j=="object"&&j!==null&&j.type===Dg&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case $C:e:{for(var ne=j.key,ue=F;ue!==null;){if(ue.key===ne){if(ne=j.type,ne===Dg){if(ue.tag===7){o(P,ue.sibling),F=d(ue,j.props.children),F.return=P,P=F;break e}}else if(ue.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===el&&_5(ne)===ue.type){o(P,ue.sibling),F=d(ue,j.props),F.ref=Hu(P,ue,j),F.return=P,P=F;break e}o(P,ue);break}else n(P,ue);ue=ue.sibling}j.type===Dg?(F=bc(j.props.children,P.mode,ie,j.key),F.return=P,P=F):(ie=jp(j.type,j.key,j.props,null,P.mode,ie),ie.ref=Hu(P,F,j),ie.return=P,P=ie)}return p(P);case Yg:e:{for(ue=j.key;F!==null;){if(F.key===ue)if(F.tag===4&&F.stateNode.containerInfo===j.containerInfo&&F.stateNode.implementation===j.implementation){o(P,F.sibling),F=d(F,j.children||[]),F.return=P,P=F;break e}else{o(P,F);break}else n(P,F);F=F.sibling}F=jy(j,P.mode,ie),F.return=P,P=F}return p(P);case el:return ue=j._init,O(P,F,ue(j._payload),ie)}if(nh(j))return M(P,F,j,ie);if(Nu(j))return L(P,F,j,ie);gp(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,F!==null&&F.tag===6?(o(P,F.sibling),F=d(F,j),F.return=P,P=F):(o(P,F),F=Py(j,P.mode,ie),F.return=P,P=F),p(P)):o(P,F)}return O}var ud=CH(!0),pH=CH(!1),ZI=Bl(null),GI=null,Kg=null,lx=null;function cx(){lx=Kg=GI=null}function gx(t){var n=ZI.current;qn(ZI),t._currentValue=n}function dv(t,n,o){for(;t!==null;){var s=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),t===o)break;t=t.return}}function td(t,n){GI=t,lx=Kg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&n&&(Yo=!0),t.firstContext=null)}function Nr(t){var n=t._currentValue;if(lx!==t)if(t={context:t,memoizedValue:n,next:null},Kg===null){if(GI===null)throw Error(it(308));Kg=t,GI.dependencies={lanes:0,firstContext:t}}else Kg=Kg.next=t;return n}var mc=null;function dx(t){mc===null?mc=[t]:mc.push(t)}function IH(t,n,o,s){var d=n.interleaved;return d===null?(o.next=o,dx(n)):(o.next=d.next,d.next=o),n.interleaved=o,xa(t,s)}function xa(t,n){t.lanes|=n;var o=t.alternate;for(o!==null&&(o.lanes|=n),o=t,t=t.return;t!==null;)t.childLanes|=n,o=t.alternate,o!==null&&(o.childLanes|=n),o=t,t=t.return;return o.tag===3?o.stateNode:null}var tl=!1;function ux(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fH(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Aa(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function ml(t,n,o){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,fn&2){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,xa(t,o)}return d=s.interleaved,d===null?(n.next=n,dx(s)):(n.next=d.next,d.next=n),s.interleaved=n,xa(t,o)}function Tp(t,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var s=n.lanes;s&=t.pendingLanes,o|=s,n.lanes=o,Qw(t,o)}}function N5(t,n){var o=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var p={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?d=m=p:m=m.next=p,o=o.next}while(o!==null);m===null?d=m=n:m=m.next=n}else d=m=n;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,effects:s.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=n:t.next=n,o.lastBaseUpdate=n}function RI(t,n,o,s){var d=t.updateQueue;tl=!1;var m=d.firstBaseUpdate,p=d.lastBaseUpdate,v=d.shared.pending;if(v!==null){d.shared.pending=null;var k=v,Z=k.next;k.next=null,p===null?m=Z:p.next=Z,p=k;var _=t.alternate;_!==null&&(_=_.updateQueue,v=_.lastBaseUpdate,v!==p&&(v===null?_.firstBaseUpdate=Z:v.next=Z,_.lastBaseUpdate=k))}if(m!==null){var N=d.baseState;p=0,_=Z=k=null,v=m;do{var G=v.lane,D=v.eventTime;if((s&G)===G){_!==null&&(_=_.next={eventTime:D,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var M=t,L=v;switch(G=n,D=o,L.tag){case 1:if(M=L.payload,typeof M=="function"){N=M.call(D,N,G);break e}N=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=L.payload,G=typeof M=="function"?M.call(D,N,G):M,G==null)break e;N=li({},N,G);break e;case 2:tl=!0}}v.callback!==null&&v.lane!==0&&(t.flags|=64,G=d.effects,G===null?d.effects=[v]:G.push(v))}else D={eventTime:D,lane:G,tag:v.tag,payload:v.payload,callback:v.callback,next:null},_===null?(Z=_=D,k=N):_=_.next=D,p|=G;if(v=v.next,v===null){if(v=d.shared.pending,v===null)break;G=v,v=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);if(_===null&&(k=N),d.baseState=k,d.firstBaseUpdate=Z,d.lastBaseUpdate=_,n=d.shared.interleaved,n!==null){d=n;do p|=d.lane,d=d.next;while(d!==n)}else m===null&&(d.shared.lanes=0);Gc|=p,t.lanes=p,t.memoizedState=N}}function E5(t,n,o){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var s=t[n],d=s.callback;if(d!==null){if(s.callback=null,s=o,typeof d!="function")throw Error(it(191,d));d.call(s)}}}var Am={},Fs=Bl(Am),Jh=Bl(Am),Lh=Bl(Am);function Cc(t){if(t===Am)throw Error(it(174));return t}function hx(t,n){switch(Kn(Lh,n),Kn(Jh,t),Kn(Fs,Am),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:zk(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=zk(n,t)}qn(Fs),Kn(Fs,n)}function hd(){qn(Fs),qn(Jh),qn(Lh)}function bH(t){Cc(Lh.current);var n=Cc(Fs.current),o=zk(n,t.type);n!==o&&(Kn(Jh,t),Kn(Fs,o))}function mx(t){Jh.current===t&&(qn(Fs),qn(Jh))}var si=Bl(0);function VI(t){for(var n=t;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var My=[];function Cx(){for(var t=0;t<My.length;t++)My[t]._workInProgressVersionPrimary=null;My.length=0}var Jp=Ra.ReactCurrentDispatcher,Ty=Ra.ReactCurrentBatchConfig,Zc=0,ai=null,Fi=null,ji=null,WI=!1,mh=!1,zh=0,m$=0;function co(){throw Error(it(321))}function px(t,n){if(n===null)return!1;for(var o=0;o<n.length&&o<t.length;o++)if(!hs(t[o],n[o]))return!1;return!0}function Ix(t,n,o,s,d,m){if(Zc=m,ai=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Jp.current=t===null||t.memoizedState===null?f$:b$,t=o(s,d),mh){m=0;do{if(mh=!1,zh=0,25<=m)throw Error(it(301));m+=1,ji=Fi=null,n.updateQueue=null,Jp.current=A$,t=o(s,d)}while(mh)}if(Jp.current=_I,n=Fi!==null&&Fi.next!==null,Zc=0,ji=Fi=ai=null,WI=!1,n)throw Error(it(300));return t}function fx(){var t=zh!==0;return zh=0,t}function Gs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ji===null?ai.memoizedState=ji=t:ji=ji.next=t,ji}function Er(){if(Fi===null){var t=ai.alternate;t=t!==null?t.memoizedState:null}else t=Fi.next;var n=ji===null?ai.memoizedState:ji.next;if(n!==null)ji=n,Fi=t;else{if(t===null)throw Error(it(310));Fi=t,t={memoizedState:Fi.memoizedState,baseState:Fi.baseState,baseQueue:Fi.baseQueue,queue:Fi.queue,next:null},ji===null?ai.memoizedState=ji=t:ji=ji.next=t}return ji}function Kh(t,n){return typeof n=="function"?n(t):n}function Jy(t){var n=Er(),o=n.queue;if(o===null)throw Error(it(311));o.lastRenderedReducer=t;var s=Fi,d=s.baseQueue,m=o.pending;if(m!==null){if(d!==null){var p=d.next;d.next=m.next,m.next=p}s.baseQueue=d=m,o.pending=null}if(d!==null){m=d.next,s=s.baseState;var v=p=null,k=null,Z=m;do{var _=Z.lane;if((Zc&_)===_)k!==null&&(k=k.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),s=Z.hasEagerState?Z.eagerState:t(s,Z.action);else{var N={lane:_,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};k===null?(v=k=N,p=s):k=k.next=N,ai.lanes|=_,Gc|=_}Z=Z.next}while(Z!==null&&Z!==m);k===null?p=s:k.next=v,hs(s,n.memoizedState)||(Yo=!0),n.memoizedState=s,n.baseState=p,n.baseQueue=k,o.lastRenderedState=s}if(t=o.interleaved,t!==null){d=t;do m=d.lane,ai.lanes|=m,Gc|=m,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function Ly(t){var n=Er(),o=n.queue;if(o===null)throw Error(it(311));o.lastRenderedReducer=t;var s=o.dispatch,d=o.pending,m=n.memoizedState;if(d!==null){o.pending=null;var p=d=d.next;do m=t(m,p.action),p=p.next;while(p!==d);hs(m,n.memoizedState)||(Yo=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),o.lastRenderedState=m}return[m,s]}function AH(){}function yH(t,n){var o=ai,s=Er(),d=n(),m=!hs(s.memoizedState,d);if(m&&(s.memoizedState=d,Yo=!0),s=s.queue,bx(wH.bind(null,o,s,t),[t]),s.getSnapshot!==n||m||ji!==null&&ji.memoizedState.tag&1){if(o.flags|=2048,Ph(9,vH.bind(null,o,s,d,n),void 0,null),Ui===null)throw Error(it(349));Zc&30||kH(o,n,d)}return d}function kH(t,n,o){t.flags|=16384,t={getSnapshot:n,value:o},n=ai.updateQueue,n===null?(n={lastEffect:null,stores:null},ai.updateQueue=n,n.stores=[t]):(o=n.stores,o===null?n.stores=[t]:o.push(t))}function vH(t,n,o,s){n.value=o,n.getSnapshot=s,xH(n)&&SH(t)}function wH(t,n,o){return o(function(){xH(n)&&SH(t)})}function xH(t){var n=t.getSnapshot;t=t.value;try{var o=n();return!hs(t,o)}catch{return!0}}function SH(t){var n=xa(t,1);n!==null&&gs(n,t,1,-1)}function X5(t){var n=Gs();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kh,lastRenderedState:t},n.queue=t,t=t.dispatch=I$.bind(null,ai,t),[n.memoizedState,t]}function Ph(t,n,o,s){return t={tag:t,create:n,destroy:o,deps:s,next:null},n=ai.updateQueue,n===null?(n={lastEffect:null,stores:null},ai.updateQueue=n,n.lastEffect=t.next=t):(o=n.lastEffect,o===null?n.lastEffect=t.next=t:(s=o.next,o.next=t,t.next=s,n.lastEffect=t)),t}function BH(){return Er().memoizedState}function Lp(t,n,o,s){var d=Gs();ai.flags|=t,d.memoizedState=Ph(1|n,o,void 0,s===void 0?null:s)}function vf(t,n,o,s){var d=Er();s=s===void 0?null:s;var m=void 0;if(Fi!==null){var p=Fi.memoizedState;if(m=p.destroy,s!==null&&px(s,p.deps)){d.memoizedState=Ph(n,o,m,s);return}}ai.flags|=t,d.memoizedState=Ph(1|n,o,m,s)}function Y5(t,n){return Lp(8390656,8,t,n)}function bx(t,n){return vf(2048,8,t,n)}function ZH(t,n){return vf(4,2,t,n)}function GH(t,n){return vf(4,4,t,n)}function RH(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function VH(t,n,o){return o=o!=null?o.concat([t]):null,vf(4,4,RH.bind(null,n,t),o)}function Ax(){}function WH(t,n){var o=Er();n=n===void 0?null:n;var s=o.memoizedState;return s!==null&&n!==null&&px(n,s[1])?s[0]:(o.memoizedState=[t,n],t)}function _H(t,n){var o=Er();n=n===void 0?null:n;var s=o.memoizedState;return s!==null&&n!==null&&px(n,s[1])?s[0]:(t=t(),o.memoizedState=[t,n],t)}function NH(t,n,o){return Zc&21?(hs(o,n)||(o=HD(),ai.lanes|=o,Gc|=o,t.baseState=!0),n):(t.baseState&&(t.baseState=!1,Yo=!0),t.memoizedState=o)}function C$(t,n){var o=Vn;Vn=o!==0&&4>o?o:4,t(!0);var s=Ty.transition;Ty.transition={};try{t(!1),n()}finally{Vn=o,Ty.transition=s}}function EH(){return Er().memoizedState}function p$(t,n,o){var s=pl(t);if(o={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null},XH(t))YH(n,o);else if(o=IH(t,n,o,s),o!==null){var d=So();gs(o,t,s,d),DH(o,n,s)}}function I$(t,n,o){var s=pl(t),d={lane:s,action:o,hasEagerState:!1,eagerState:null,next:null};if(XH(t))YH(n,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var p=n.lastRenderedState,v=m(p,o);if(d.hasEagerState=!0,d.eagerState=v,hs(v,p)){var k=n.interleaved;k===null?(d.next=d,dx(n)):(d.next=k.next,k.next=d),n.interleaved=d;return}}catch{}finally{}o=IH(t,n,d,s),o!==null&&(d=So(),gs(o,t,s,d),DH(o,n,s))}}function XH(t){var n=t.alternate;return t===ai||n!==null&&n===ai}function YH(t,n){mh=WI=!0;var o=t.pending;o===null?n.next=n:(n.next=o.next,o.next=n),t.pending=n}function DH(t,n,o){if(o&4194240){var s=n.lanes;s&=t.pendingLanes,o|=s,n.lanes=o,Qw(t,o)}}var _I={readContext:Nr,useCallback:co,useContext:co,useEffect:co,useImperativeHandle:co,useInsertionEffect:co,useLayoutEffect:co,useMemo:co,useReducer:co,useRef:co,useState:co,useDebugValue:co,useDeferredValue:co,useTransition:co,useMutableSource:co,useSyncExternalStore:co,useId:co,unstable_isNewReconciler:!1},f$={readContext:Nr,useCallback:function(t,n){return Gs().memoizedState=[t,n===void 0?null:n],t},useContext:Nr,useEffect:Y5,useImperativeHandle:function(t,n,o){return o=o!=null?o.concat([t]):null,Lp(4194308,4,RH.bind(null,n,t),o)},useLayoutEffect:function(t,n){return Lp(4194308,4,t,n)},useInsertionEffect:function(t,n){return Lp(4,2,t,n)},useMemo:function(t,n){var o=Gs();return n=n===void 0?null:n,t=t(),o.memoizedState=[t,n],t},useReducer:function(t,n,o){var s=Gs();return n=o!==void 0?o(n):n,s.memoizedState=s.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},s.queue=t,t=t.dispatch=p$.bind(null,ai,t),[s.memoizedState,t]},useRef:function(t){var n=Gs();return t={current:t},n.memoizedState=t},useState:X5,useDebugValue:Ax,useDeferredValue:function(t){return Gs().memoizedState=t},useTransition:function(){var t=X5(!1),n=t[0];return t=C$.bind(null,t[1]),Gs().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,o){var s=ai,d=Gs();if(ri){if(o===void 0)throw Error(it(407));o=o()}else{if(o=n(),Ui===null)throw Error(it(349));Zc&30||kH(s,n,o)}d.memoizedState=o;var m={value:o,getSnapshot:n};return d.queue=m,Y5(wH.bind(null,s,m,t),[t]),s.flags|=2048,Ph(9,vH.bind(null,s,m,o,n),void 0,null),o},useId:function(){var t=Gs(),n=Ui.identifierPrefix;if(ri){var o=Ia,s=pa;o=(s&~(1<<32-cs(s)-1)).toString(32)+o,n=":"+n+"R"+o,o=zh++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=m$++,n=":"+n+"r"+o.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},b$={readContext:Nr,useCallback:WH,useContext:Nr,useEffect:bx,useImperativeHandle:VH,useInsertionEffect:ZH,useLayoutEffect:GH,useMemo:_H,useReducer:Jy,useRef:BH,useState:function(){return Jy(Kh)},useDebugValue:Ax,useDeferredValue:function(t){var n=Er();return NH(n,Fi.memoizedState,t)},useTransition:function(){var t=Jy(Kh)[0],n=Er().memoizedState;return[t,n]},useMutableSource:AH,useSyncExternalStore:yH,useId:EH,unstable_isNewReconciler:!1},A$={readContext:Nr,useCallback:WH,useContext:Nr,useEffect:bx,useImperativeHandle:VH,useInsertionEffect:ZH,useLayoutEffect:GH,useMemo:_H,useReducer:Ly,useRef:BH,useState:function(){return Ly(Kh)},useDebugValue:Ax,useDeferredValue:function(t){var n=Er();return Fi===null?n.memoizedState=t:NH(n,Fi.memoizedState,t)},useTransition:function(){var t=Ly(Kh)[0],n=Er().memoizedState;return[t,n]},useMutableSource:AH,useSyncExternalStore:yH,useId:EH,unstable_isNewReconciler:!1};function rs(t,n){if(t&&t.defaultProps){n=li({},n),t=t.defaultProps;for(var o in t)n[o]===void 0&&(n[o]=t[o]);return n}return n}function uv(t,n,o,s){n=t.memoizedState,o=o(s,n),o=o==null?n:li({},n,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var wf={isMounted:function(t){return(t=t._reactInternals)?Dc(t)===t:!1},enqueueSetState:function(t,n,o){t=t._reactInternals;var s=So(),d=pl(t),m=Aa(s,d);m.payload=n,o!=null&&(m.callback=o),n=ml(t,m,d),n!==null&&(gs(n,t,d,s),Tp(n,t,d))},enqueueReplaceState:function(t,n,o){t=t._reactInternals;var s=So(),d=pl(t),m=Aa(s,d);m.tag=1,m.payload=n,o!=null&&(m.callback=o),n=ml(t,m,d),n!==null&&(gs(n,t,d,s),Tp(n,t,d))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var o=So(),s=pl(t),d=Aa(o,s);d.tag=2,n!=null&&(d.callback=n),n=ml(t,d,s),n!==null&&(gs(n,t,s,o),Tp(n,t,s))}};function D5(t,n,o,s,d,m,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,m,p):n.prototype&&n.prototype.isPureReactComponent?!Hh(o,s)||!Hh(d,m):!0}function HH(t,n,o){var s=!1,d=wl,m=n.contextType;return typeof m=="object"&&m!==null?m=Nr(m):(d=Fo(n)?Sc:fo.current,s=n.contextTypes,m=(s=s!=null)?gd(t,d):wl),n=new n(o,m),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=wf,t.stateNode=n,n._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=m),n}function H5(t,n,o,s){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==t&&wf.enqueueReplaceState(n,n.state,null)}function hv(t,n,o,s){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},ux(t);var m=n.contextType;typeof m=="object"&&m!==null?d.context=Nr(m):(m=Fo(n)?Sc:fo.current,d.context=gd(t,m)),d.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(uv(t,n,m,o),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&wf.enqueueReplaceState(d,d.state,null),RI(t,o,d,s),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function md(t,n){try{var o="",s=n;do o+=j6(s),s=s.return;while(s);var d=o}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:n,stack:d,digest:null}}function zy(t,n,o){return{value:t,source:null,stack:o??null,digest:n??null}}function mv(t,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var y$=typeof WeakMap=="function"?WeakMap:Map;function FH(t,n,o){o=Aa(-1,o),o.tag=3,o.payload={element:null};var s=n.value;return o.callback=function(){EI||(EI=!0,wv=s),mv(t,n)},o}function MH(t,n,o){o=Aa(-1,o),o.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var d=n.value;o.payload=function(){return s(d)},o.callback=function(){mv(t,n)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){mv(t,n),typeof s!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var p=n.stack;this.componentDidCatch(n.value,{componentStack:p!==null?p:""})}),o}function F5(t,n,o){var s=t.pingCache;if(s===null){s=t.pingCache=new y$;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(o)||(d.add(o),t=E$.bind(null,t,n,o),n.then(t,t))}function M5(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function T5(t,n,o,s,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===n?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=Aa(-1,1),n.tag=2,ml(o,n,1))),o.lanes|=1),t)}var k$=Ra.ReactCurrentOwner,Yo=!1;function wo(t,n,o,s){n.child=t===null?pH(n,null,o,s):ud(n,t.child,o,s)}function J5(t,n,o,s,d){o=o.render;var m=n.ref;return td(n,d),s=Ix(t,n,o,s,m,d),o=fx(),t!==null&&!Yo?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,Sa(t,n,d)):(ri&&o&&rx(n),n.flags|=1,wo(t,n,s,d),n.child)}function L5(t,n,o,s,d){if(t===null){var m=o.type;return typeof m=="function"&&!Zx(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=m,TH(t,n,m,s,d)):(t=jp(o.type,null,s,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!(t.lanes&d)){var p=m.memoizedProps;if(o=o.compare,o=o!==null?o:Hh,o(p,s)&&t.ref===n.ref)return Sa(t,n,d)}return n.flags|=1,t=Il(m,s),t.ref=n.ref,t.return=n,n.child=t}function TH(t,n,o,s,d){if(t!==null){var m=t.memoizedProps;if(Hh(m,s)&&t.ref===n.ref)if(Yo=!1,n.pendingProps=s=m,(t.lanes&d)!==0)t.flags&131072&&(Yo=!0);else return n.lanes=t.lanes,Sa(t,n,d)}return Cv(t,n,o,s,d)}function JH(t,n,o){var s=n.pendingProps,d=s.children,m=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kn(jg,$o),$o|=o;else{if(!(o&1073741824))return t=m!==null?m.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Kn(jg,$o),$o|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=m!==null?m.baseLanes:o,Kn(jg,$o),$o|=s}else m!==null?(s=m.baseLanes|o,n.memoizedState=null):s=o,Kn(jg,$o),$o|=s;return wo(t,n,d,o),n.child}function LH(t,n){var o=n.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Cv(t,n,o,s,d){var m=Fo(o)?Sc:fo.current;return m=gd(n,m),td(n,d),o=Ix(t,n,o,s,m,d),s=fx(),t!==null&&!Yo?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,Sa(t,n,d)):(ri&&s&&rx(n),n.flags|=1,wo(t,n,o,d),n.child)}function z5(t,n,o,s,d){if(Fo(o)){var m=!0;xI(n)}else m=!1;if(td(n,d),n.stateNode===null)zp(t,n),HH(n,o,s),hv(n,o,s,d),s=!0;else if(t===null){var p=n.stateNode,v=n.memoizedProps;p.props=v;var k=p.context,Z=o.contextType;typeof Z=="object"&&Z!==null?Z=Nr(Z):(Z=Fo(o)?Sc:fo.current,Z=gd(n,Z));var _=o.getDerivedStateFromProps,N=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function";N||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==s||k!==Z)&&H5(n,p,s,Z),tl=!1;var G=n.memoizedState;p.state=G,RI(n,s,p,d),k=n.memoizedState,v!==s||G!==k||Ho.current||tl?(typeof _=="function"&&(uv(n,o,_,s),k=n.memoizedState),(v=tl||D5(n,o,v,s,G,k,Z))?(N||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=k),p.props=s,p.state=k,p.context=Z,s=v):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{p=n.stateNode,fH(t,n),v=n.memoizedProps,Z=n.type===n.elementType?v:rs(n.type,v),p.props=Z,N=n.pendingProps,G=p.context,k=o.contextType,typeof k=="object"&&k!==null?k=Nr(k):(k=Fo(o)?Sc:fo.current,k=gd(n,k));var D=o.getDerivedStateFromProps;(_=typeof D=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==N||G!==k)&&H5(n,p,s,k),tl=!1,G=n.memoizedState,p.state=G,RI(n,s,p,d);var M=n.memoizedState;v!==N||G!==M||Ho.current||tl?(typeof D=="function"&&(uv(n,o,D,s),M=n.memoizedState),(Z=tl||D5(n,o,Z,s,G,M,k)||!1)?(_||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,M,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,M,k)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=M),p.props=s,p.state=M,p.context=k,s=Z):(typeof p.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),s=!1)}return pv(t,n,o,s,m,d)}function pv(t,n,o,s,d,m){LH(t,n);var p=(n.flags&128)!==0;if(!s&&!p)return d&&R5(n,o,!1),Sa(t,n,m);s=n.stateNode,k$.current=n;var v=p&&typeof o.getDerivedStateFromError!="function"?null:s.render();return n.flags|=1,t!==null&&p?(n.child=ud(n,t.child,null,m),n.child=ud(n,null,v,m)):wo(t,n,v,m),n.memoizedState=s.state,d&&R5(n,o,!0),n.child}function zH(t){var n=t.stateNode;n.pendingContext?G5(t,n.pendingContext,n.pendingContext!==n.context):n.context&&G5(t,n.context,!1),hx(t,n.containerInfo)}function K5(t,n,o,s,d){return dd(),ax(d),n.flags|=256,wo(t,n,o,s),n.child}var Iv={dehydrated:null,treeContext:null,retryLane:0};function fv(t){return{baseLanes:t,cachePool:null,transitions:null}}function KH(t,n,o){var s=n.pendingProps,d=si.current,m=!1,p=(n.flags&128)!==0,v;if((v=p)||(v=t!==null&&t.memoizedState===null?!1:(d&2)!==0),v?(m=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Kn(si,d&1),t===null)return gv(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(n.mode&1?t.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(p=s.children,t=s.fallback,m?(s=n.mode,m=n.child,p={mode:"hidden",children:p},!(s&1)&&m!==null?(m.childLanes=0,m.pendingProps=p):m=Bf(p,s,0,null),t=bc(t,s,o,null),m.return=n,t.return=n,m.sibling=t,n.child=m,n.child.memoizedState=fv(o),n.memoizedState=Iv,t):yx(n,p));if(d=t.memoizedState,d!==null&&(v=d.dehydrated,v!==null))return v$(t,n,p,s,v,d,o);if(m){m=s.fallback,p=n.mode,d=t.child,v=d.sibling;var k={mode:"hidden",children:s.children};return!(p&1)&&n.child!==d?(s=n.child,s.childLanes=0,s.pendingProps=k,n.deletions=null):(s=Il(d,k),s.subtreeFlags=d.subtreeFlags&14680064),v!==null?m=Il(v,m):(m=bc(m,p,o,null),m.flags|=2),m.return=n,s.return=n,s.sibling=m,n.child=s,s=m,m=n.child,p=t.child.memoizedState,p=p===null?fv(o):{baseLanes:p.baseLanes|o,cachePool:null,transitions:p.transitions},m.memoizedState=p,m.childLanes=t.childLanes&~o,n.memoizedState=Iv,s}return m=t.child,t=m.sibling,s=Il(m,{mode:"visible",children:s.children}),!(n.mode&1)&&(s.lanes=o),s.return=n,s.sibling=null,t!==null&&(o=n.deletions,o===null?(n.deletions=[t],n.flags|=16):o.push(t)),n.child=s,n.memoizedState=null,s}function yx(t,n){return n=Bf({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function dp(t,n,o,s){return s!==null&&ax(s),ud(n,t.child,null,o),t=yx(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function v$(t,n,o,s,d,m,p){if(o)return n.flags&256?(n.flags&=-257,s=zy(Error(it(422))),dp(t,n,p,s)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(m=s.fallback,d=n.mode,s=Bf({mode:"visible",children:s.children},d,0,null),m=bc(m,d,p,null),m.flags|=2,s.return=n,m.return=n,s.sibling=m,n.child=s,n.mode&1&&ud(n,t.child,null,p),n.child.memoizedState=fv(p),n.memoizedState=Iv,m);if(!(n.mode&1))return dp(t,n,p,null);if(d.data==="$!"){if(s=d.nextSibling&&d.nextSibling.dataset,s)var v=s.dgst;return s=v,m=Error(it(419)),s=zy(m,s,void 0),dp(t,n,p,s)}if(v=(p&t.childLanes)!==0,Yo||v){if(s=Ui,s!==null){switch(p&-p){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(s.suspendedLanes|p)?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,xa(t,d),gs(s,t,d,-1))}return Bx(),s=zy(Error(it(421))),dp(t,n,p,s)}return d.data==="$?"?(n.flags|=128,n.child=t.child,n=X$.bind(null,t),d._reactRetry=n,null):(t=m.treeContext,nr=hl(d.nextSibling),sr=n,ri=!0,as=null,t!==null&&(xr[Sr++]=pa,xr[Sr++]=Ia,xr[Sr++]=Bc,pa=t.id,Ia=t.overflow,Bc=n),n=yx(n,s.children),n.flags|=4096,n)}function P5(t,n,o){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n),dv(t.return,n,o)}function Ky(t,n,o,s,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=o,m.tailMode=d)}function PH(t,n,o){var s=n.pendingProps,d=s.revealOrder,m=s.tail;if(wo(t,n,s.children,o),s=si.current,s&2)s=s&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P5(t,o,n);else if(t.tag===19)P5(t,o,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Kn(si,s),!(n.mode&1))n.memoizedState=null;else switch(d){case"forwards":for(o=n.child,d=null;o!==null;)t=o.alternate,t!==null&&VI(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),Ky(n,!1,d,o,m);break;case"backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&VI(t)===null){n.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Ky(n,!0,o,null,m);break;case"together":Ky(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zp(t,n){!(n.mode&1)&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function Sa(t,n,o){if(t!==null&&(n.dependencies=t.dependencies),Gc|=n.lanes,!(o&n.childLanes))return null;if(t!==null&&n.child!==t.child)throw Error(it(153));if(n.child!==null){for(t=n.child,o=Il(t,t.pendingProps),n.child=o,o.return=n;t.sibling!==null;)t=t.sibling,o=o.sibling=Il(t,t.pendingProps),o.return=n;o.sibling=null}return n.child}function w$(t,n,o){switch(n.tag){case 3:zH(n),dd();break;case 5:bH(n);break;case 1:Fo(n.type)&&xI(n);break;case 4:hx(n,n.stateNode.containerInfo);break;case 10:var s=n.type._context,d=n.memoizedProps.value;Kn(ZI,s._currentValue),s._currentValue=d;break;case 13:if(s=n.memoizedState,s!==null)return s.dehydrated!==null?(Kn(si,si.current&1),n.flags|=128,null):o&n.child.childLanes?KH(t,n,o):(Kn(si,si.current&1),t=Sa(t,n,o),t!==null?t.sibling:null);Kn(si,si.current&1);break;case 19:if(s=(o&n.childLanes)!==0,t.flags&128){if(s)return PH(t,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Kn(si,si.current),s)break;return null;case 22:case 23:return n.lanes=0,JH(t,n,o)}return Sa(t,n,o)}var jH,bv,OH,UH;jH=function(t,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};bv=function(){};OH=function(t,n,o,s){var d=t.memoizedProps;if(d!==s){t=n.stateNode,Cc(Fs.current);var m=null;switch(o){case"input":d=Mk(t,d),s=Mk(t,s),m=[];break;case"select":d=li({},d,{value:void 0}),s=li({},s,{value:void 0}),m=[];break;case"textarea":d=Lk(t,d),s=Lk(t,s),m=[];break;default:typeof d.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=vI)}Kk(o,s);var p;o=null;for(Z in d)if(!s.hasOwnProperty(Z)&&d.hasOwnProperty(Z)&&d[Z]!=null)if(Z==="style"){var v=d[Z];for(p in v)v.hasOwnProperty(p)&&(o||(o={}),o[p]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(Wh.hasOwnProperty(Z)?m||(m=[]):(m=m||[]).push(Z,null));for(Z in s){var k=s[Z];if(v=d!=null?d[Z]:void 0,s.hasOwnProperty(Z)&&k!==v&&(k!=null||v!=null))if(Z==="style")if(v){for(p in v)!v.hasOwnProperty(p)||k&&k.hasOwnProperty(p)||(o||(o={}),o[p]="");for(p in k)k.hasOwnProperty(p)&&v[p]!==k[p]&&(o||(o={}),o[p]=k[p])}else o||(m||(m=[]),m.push(Z,o)),o=k;else Z==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,v=v?v.__html:void 0,k!=null&&v!==k&&(m=m||[]).push(Z,k)):Z==="children"?typeof k!="string"&&typeof k!="number"||(m=m||[]).push(Z,""+k):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(Wh.hasOwnProperty(Z)?(k!=null&&Z==="onScroll"&&jn("scroll",t),m||v===k||(m=[])):(m=m||[]).push(Z,k))}o&&(m=m||[]).push("style",o);var Z=m;(n.updateQueue=Z)&&(n.flags|=4)}};UH=function(t,n,o,s){o!==s&&(n.flags|=4)};function Fu(t,n){if(!ri)switch(t.tailMode){case"hidden":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function go(t){var n=t.alternate!==null&&t.alternate.child===t.child,o=0,s=0;if(n)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&14680064,s|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=s,t.childLanes=o,n}function x$(t,n,o){var s=n.pendingProps;switch(sx(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return go(n),null;case 1:return Fo(n.type)&&wI(),go(n),null;case 3:return s=n.stateNode,hd(),qn(Ho),qn(fo),Cx(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(cp(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,as!==null&&(Bv(as),as=null))),bv(t,n),go(n),null;case 5:mx(n);var d=Cc(Lh.current);if(o=n.type,t!==null&&n.stateNode!=null)OH(t,n,o,s,d),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!s){if(n.stateNode===null)throw Error(it(166));return go(n),null}if(t=Cc(Fs.current),cp(n)){s=n.stateNode,o=n.type;var m=n.memoizedProps;switch(s[_s]=n,s[Th]=m,t=(n.mode&1)!==0,o){case"dialog":jn("cancel",s),jn("close",s);break;case"iframe":case"object":case"embed":jn("load",s);break;case"video":case"audio":for(d=0;d<oh.length;d++)jn(oh[d],s);break;case"source":jn("error",s);break;case"img":case"image":case"link":jn("error",s),jn("load",s);break;case"details":jn("toggle",s);break;case"input":n5(s,m),jn("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!m.multiple},jn("invalid",s);break;case"textarea":o5(s,m),jn("invalid",s)}Kk(o,m),d=null;for(var p in m)if(m.hasOwnProperty(p)){var v=m[p];p==="children"?typeof v=="string"?s.textContent!==v&&(m.suppressHydrationWarning!==!0&&lp(s.textContent,v,t),d=["children",v]):typeof v=="number"&&s.textContent!==""+v&&(m.suppressHydrationWarning!==!0&&lp(s.textContent,v,t),d=["children",""+v]):Wh.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&jn("scroll",s)}switch(o){case"input":ep(s),i5(s,m,!0);break;case"textarea":ep(s),r5(s);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(s.onclick=vI)}s=d,n.updateQueue=s,s!==null&&(n.flags|=4)}else{p=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wD(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=p.createElement(o,{is:s.is}):(t=p.createElement(o),o==="select"&&(p=t,s.multiple?p.multiple=!0:s.size&&(p.size=s.size))):t=p.createElementNS(t,o),t[_s]=n,t[Th]=s,jH(t,n,!1,!1),n.stateNode=t;e:{switch(p=Pk(o,s),o){case"dialog":jn("cancel",t),jn("close",t),d=s;break;case"iframe":case"object":case"embed":jn("load",t),d=s;break;case"video":case"audio":for(d=0;d<oh.length;d++)jn(oh[d],t);d=s;break;case"source":jn("error",t),d=s;break;case"img":case"image":case"link":jn("error",t),jn("load",t),d=s;break;case"details":jn("toggle",t),d=s;break;case"input":n5(t,s),d=Mk(t,s),jn("invalid",t);break;case"option":d=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},d=li({},s,{value:void 0}),jn("invalid",t);break;case"textarea":o5(t,s),d=Lk(t,s),jn("invalid",t);break;default:d=s}Kk(o,d),v=d;for(m in v)if(v.hasOwnProperty(m)){var k=v[m];m==="style"?BD(t,k):m==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&xD(t,k)):m==="children"?typeof k=="string"?(o!=="textarea"||k!=="")&&_h(t,k):typeof k=="number"&&_h(t,""+k):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Wh.hasOwnProperty(m)?k!=null&&m==="onScroll"&&jn("scroll",t):k!=null&&zw(t,m,k,p))}switch(o){case"input":ep(t),i5(t,s,!1);break;case"textarea":ep(t),r5(t);break;case"option":s.value!=null&&t.setAttribute("value",""+vl(s.value));break;case"select":t.multiple=!!s.multiple,m=s.value,m!=null?Qg(t,!!s.multiple,m,!1):s.defaultValue!=null&&Qg(t,!!s.multiple,s.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=vI)}switch(o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return go(n),null;case 6:if(t&&n.stateNode!=null)UH(t,n,t.memoizedProps,s);else{if(typeof s!="string"&&n.stateNode===null)throw Error(it(166));if(o=Cc(Lh.current),Cc(Fs.current),cp(n)){if(s=n.stateNode,o=n.memoizedProps,s[_s]=n,(m=s.nodeValue!==o)&&(t=sr,t!==null))switch(t.tag){case 3:lp(s.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lp(s.nodeValue,o,(t.mode&1)!==0)}m&&(n.flags|=4)}else s=(o.nodeType===9?o:o.ownerDocument).createTextNode(s),s[_s]=n,n.stateNode=s}return go(n),null;case 13:if(qn(si),s=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ri&&nr!==null&&n.mode&1&&!(n.flags&128))mH(),dd(),n.flags|=98560,m=!1;else if(m=cp(n),s!==null&&s.dehydrated!==null){if(t===null){if(!m)throw Error(it(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(it(317));m[_s]=n}else dd(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;go(n),m=!1}else as!==null&&(Bv(as),as=null),m=!0;if(!m)return n.flags&65536?n:null}return n.flags&128?(n.lanes=o,n):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(n.child.flags|=8192,n.mode&1&&(t===null||si.current&1?Mi===0&&(Mi=3):Bx())),n.updateQueue!==null&&(n.flags|=4),go(n),null);case 4:return hd(),bv(t,n),t===null&&Fh(n.stateNode.containerInfo),go(n),null;case 10:return gx(n.type._context),go(n),null;case 17:return Fo(n.type)&&wI(),go(n),null;case 19:if(qn(si),m=n.memoizedState,m===null)return go(n),null;if(s=(n.flags&128)!==0,p=m.rendering,p===null)if(s)Fu(m,!1);else{if(Mi!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(p=VI(t),p!==null){for(n.flags|=128,Fu(m,!1),s=p.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),n.subtreeFlags=0,s=o,o=n.child;o!==null;)m=o,t=s,m.flags&=14680066,p=m.alternate,p===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=p.childLanes,m.lanes=p.lanes,m.child=p.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=p.memoizedProps,m.memoizedState=p.memoizedState,m.updateQueue=p.updateQueue,m.type=p.type,t=p.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Kn(si,si.current&1|2),n.child}t=t.sibling}m.tail!==null&&wi()>Cd&&(n.flags|=128,s=!0,Fu(m,!1),n.lanes=4194304)}else{if(!s)if(t=VI(p),t!==null){if(n.flags|=128,s=!0,o=t.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),Fu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!p.alternate&&!ri)return go(n),null}else 2*wi()-m.renderingStartTime>Cd&&o!==1073741824&&(n.flags|=128,s=!0,Fu(m,!1),n.lanes=4194304);m.isBackwards?(p.sibling=n.child,n.child=p):(o=m.last,o!==null?o.sibling=p:n.child=p,m.last=p)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=wi(),n.sibling=null,o=si.current,Kn(si,s?o&1|2:o&1),n):(go(n),null);case 22:case 23:return Sx(),s=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(n.flags|=8192),s&&n.mode&1?$o&1073741824&&(go(n),n.subtreeFlags&6&&(n.flags|=8192)):go(n),null;case 24:return null;case 25:return null}throw Error(it(156,n.tag))}function S$(t,n){switch(sx(n),n.tag){case 1:return Fo(n.type)&&wI(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return hd(),qn(Ho),qn(fo),Cx(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 5:return mx(n),null;case 13:if(qn(si),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(it(340));dd()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return qn(si),null;case 4:return hd(),null;case 10:return gx(n.type._context),null;case 22:case 23:return Sx(),null;case 24:return null;default:return null}}var up=!1,Co=!1,B$=typeof WeakSet=="function"?WeakSet:Set,At=null;function Pg(t,n){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(s){hi(t,n,s)}else o.current=null}function Av(t,n,o){try{o()}catch(s){hi(t,n,s)}}var j5=!1;function Z$(t,n){if(iv=AI,t=tH(),ox(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var p=0,v=-1,k=-1,Z=0,_=0,N=t,G=null;t:for(;;){for(var D;N!==o||d!==0&&N.nodeType!==3||(v=p+d),N!==m||s!==0&&N.nodeType!==3||(k=p+s),N.nodeType===3&&(p+=N.nodeValue.length),(D=N.firstChild)!==null;)G=N,N=D;for(;;){if(N===t)break t;if(G===o&&++Z===d&&(v=p),G===m&&++_===s&&(k=p),(D=N.nextSibling)!==null)break;N=G,G=N.parentNode}N=D}o=v===-1||k===-1?null:{start:v,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(ov={focusedElem:t,selectionRange:o},AI=!1,At=n;At!==null;)if(n=At,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,At=t;else for(;At!==null;){n=At;try{var M=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var L=M.memoizedProps,O=M.memoizedState,P=n.stateNode,F=P.getSnapshotBeforeUpdate(n.elementType===n.type?L:rs(n.type,L),O);P.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var j=n.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(it(163))}}catch(ie){hi(n,n.return,ie)}if(t=n.sibling,t!==null){t.return=n.return,At=t;break}At=n.return}return M=j5,j5=!1,M}function Ch(t,n,o){var s=n.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var d=s=s.next;do{if((d.tag&t)===t){var m=d.destroy;d.destroy=void 0,m!==void 0&&Av(n,o,m)}d=d.next}while(d!==s)}}function xf(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&t)===t){var s=o.create;o.destroy=s()}o=o.next}while(o!==n)}}function yv(t){var n=t.ref;if(n!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof n=="function"?n(t):n.current=t}}function QH(t){var n=t.alternate;n!==null&&(t.alternate=null,QH(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[_s],delete n[Th],delete n[av],delete n[g$],delete n[d$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qH(t){return t.tag===5||t.tag===3||t.tag===4}function O5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kv(t,n,o){var s=t.tag;if(s===5||s===6)t=t.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(t,n):o.insertBefore(t,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(t,o)):(n=o,n.appendChild(t)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=vI));else if(s!==4&&(t=t.child,t!==null))for(kv(t,n,o),t=t.sibling;t!==null;)kv(t,n,o),t=t.sibling}function vv(t,n,o){var s=t.tag;if(s===5||s===6)t=t.stateNode,n?o.insertBefore(t,n):o.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(vv(t,n,o),t=t.sibling;t!==null;)vv(t,n,o),t=t.sibling}var io=null,ss=!1;function Oa(t,n,o){for(o=o.child;o!==null;)$H(t,n,o),o=o.sibling}function $H(t,n,o){if(Hs&&typeof Hs.onCommitFiberUnmount=="function")try{Hs.onCommitFiberUnmount(If,o)}catch{}switch(o.tag){case 5:Co||Pg(o,n);case 6:var s=io,d=ss;io=null,Oa(t,n,o),io=s,ss=d,io!==null&&(ss?(t=io,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):io.removeChild(o.stateNode));break;case 18:io!==null&&(ss?(t=io,o=o.stateNode,t.nodeType===8?Hy(t.parentNode,o):t.nodeType===1&&Hy(t,o),Yh(t)):Hy(io,o.stateNode));break;case 4:s=io,d=ss,io=o.stateNode.containerInfo,ss=!0,Oa(t,n,o),io=s,ss=d;break;case 0:case 11:case 14:case 15:if(!Co&&(s=o.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){d=s=s.next;do{var m=d,p=m.destroy;m=m.tag,p!==void 0&&(m&2||m&4)&&Av(o,n,p),d=d.next}while(d!==s)}Oa(t,n,o);break;case 1:if(!Co&&(Pg(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=o.memoizedProps,s.state=o.memoizedState,s.componentWillUnmount()}catch(v){hi(o,n,v)}Oa(t,n,o);break;case 21:Oa(t,n,o);break;case 22:o.mode&1?(Co=(s=Co)||o.memoizedState!==null,Oa(t,n,o),Co=s):Oa(t,n,o);break;default:Oa(t,n,o)}}function U5(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new B$),n.forEach(function(s){var d=Y$.bind(null,t,s);o.has(s)||(o.add(s),s.then(d,d))})}}function ts(t,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s];try{var m=t,p=n,v=p;e:for(;v!==null;){switch(v.tag){case 5:io=v.stateNode,ss=!1;break e;case 3:io=v.stateNode.containerInfo,ss=!0;break e;case 4:io=v.stateNode.containerInfo,ss=!0;break e}v=v.return}if(io===null)throw Error(it(160));$H(m,p,d),io=null,ss=!1;var k=d.alternate;k!==null&&(k.return=null),d.return=null}catch(Z){hi(d,n,Z)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)eF(n,t),n=n.sibling}function eF(t,n){var o=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ts(n,t),Zs(t),s&4){try{Ch(3,t,t.return),xf(3,t)}catch(L){hi(t,t.return,L)}try{Ch(5,t,t.return)}catch(L){hi(t,t.return,L)}}break;case 1:ts(n,t),Zs(t),s&512&&o!==null&&Pg(o,o.return);break;case 5:if(ts(n,t),Zs(t),s&512&&o!==null&&Pg(o,o.return),t.flags&32){var d=t.stateNode;try{_h(d,"")}catch(L){hi(t,t.return,L)}}if(s&4&&(d=t.stateNode,d!=null)){var m=t.memoizedProps,p=o!==null?o.memoizedProps:m,v=t.type,k=t.updateQueue;if(t.updateQueue=null,k!==null)try{v==="input"&&m.type==="radio"&&m.name!=null&&kD(d,m),Pk(v,p);var Z=Pk(v,m);for(p=0;p<k.length;p+=2){var _=k[p],N=k[p+1];_==="style"?BD(d,N):_==="dangerouslySetInnerHTML"?xD(d,N):_==="children"?_h(d,N):zw(d,_,N,Z)}switch(v){case"input":Tk(d,m);break;case"textarea":vD(d,m);break;case"select":var G=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var D=m.value;D!=null?Qg(d,!!m.multiple,D,!1):G!==!!m.multiple&&(m.defaultValue!=null?Qg(d,!!m.multiple,m.defaultValue,!0):Qg(d,!!m.multiple,m.multiple?[]:"",!1))}d[Th]=m}catch(L){hi(t,t.return,L)}}break;case 6:if(ts(n,t),Zs(t),s&4){if(t.stateNode===null)throw Error(it(162));d=t.stateNode,m=t.memoizedProps;try{d.nodeValue=m}catch(L){hi(t,t.return,L)}}break;case 3:if(ts(n,t),Zs(t),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Yh(n.containerInfo)}catch(L){hi(t,t.return,L)}break;case 4:ts(n,t),Zs(t);break;case 13:ts(n,t),Zs(t),d=t.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(wx=wi())),s&4&&U5(t);break;case 22:if(_=o!==null&&o.memoizedState!==null,t.mode&1?(Co=(Z=Co)||_,ts(n,t),Co=Z):ts(n,t),Zs(t),s&8192){if(Z=t.memoizedState!==null,(t.stateNode.isHidden=Z)&&!_&&t.mode&1)for(At=t,_=t.child;_!==null;){for(N=At=_;At!==null;){switch(G=At,D=G.child,G.tag){case 0:case 11:case 14:case 15:Ch(4,G,G.return);break;case 1:Pg(G,G.return);var M=G.stateNode;if(typeof M.componentWillUnmount=="function"){s=G,o=G.return;try{n=s,M.props=n.memoizedProps,M.state=n.memoizedState,M.componentWillUnmount()}catch(L){hi(s,o,L)}}break;case 5:Pg(G,G.return);break;case 22:if(G.memoizedState!==null){q5(N);continue}}D!==null?(D.return=G,At=D):q5(N)}_=_.sibling}e:for(_=null,N=t;;){if(N.tag===5){if(_===null){_=N;try{d=N.stateNode,Z?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(v=N.stateNode,k=N.memoizedProps.style,p=k!=null&&k.hasOwnProperty("display")?k.display:null,v.style.display=SD("display",p))}catch(L){hi(t,t.return,L)}}}else if(N.tag===6){if(_===null)try{N.stateNode.nodeValue=Z?"":N.memoizedProps}catch(L){hi(t,t.return,L)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===t)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===t)break e;for(;N.sibling===null;){if(N.return===null||N.return===t)break e;_===N&&(_=null),N=N.return}_===N&&(_=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:ts(n,t),Zs(t),s&4&&U5(t);break;case 21:break;default:ts(n,t),Zs(t)}}function Zs(t){var n=t.flags;if(n&2){try{e:{for(var o=t.return;o!==null;){if(qH(o)){var s=o;break e}o=o.return}throw Error(it(160))}switch(s.tag){case 5:var d=s.stateNode;s.flags&32&&(_h(d,""),s.flags&=-33);var m=O5(t);vv(t,m,d);break;case 3:case 4:var p=s.stateNode.containerInfo,v=O5(t);kv(t,v,p);break;default:throw Error(it(161))}}catch(k){hi(t,t.return,k)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function G$(t,n,o){At=t,tF(t)}function tF(t,n,o){for(var s=(t.mode&1)!==0;At!==null;){var d=At,m=d.child;if(d.tag===22&&s){var p=d.memoizedState!==null||up;if(!p){var v=d.alternate,k=v!==null&&v.memoizedState!==null||Co;v=up;var Z=Co;if(up=p,(Co=k)&&!Z)for(At=d;At!==null;)p=At,k=p.child,p.tag===22&&p.memoizedState!==null?$5(d):k!==null?(k.return=p,At=k):$5(d);for(;m!==null;)At=m,tF(m),m=m.sibling;At=d,up=v,Co=Z}Q5(t)}else d.subtreeFlags&8772&&m!==null?(m.return=d,At=m):Q5(t)}}function Q5(t){for(;At!==null;){var n=At;if(n.flags&8772){var o=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Co||xf(5,n);break;case 1:var s=n.stateNode;if(n.flags&4&&!Co)if(o===null)s.componentDidMount();else{var d=n.elementType===n.type?o.memoizedProps:rs(n.type,o.memoizedProps);s.componentDidUpdate(d,o.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var m=n.updateQueue;m!==null&&E5(n,m,s);break;case 3:var p=n.updateQueue;if(p!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}E5(n,p,o)}break;case 5:var v=n.stateNode;if(o===null&&n.flags&4){o=v;var k=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&o.focus();break;case"img":k.src&&(o.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var Z=n.alternate;if(Z!==null){var _=Z.memoizedState;if(_!==null){var N=_.dehydrated;N!==null&&Yh(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(it(163))}Co||n.flags&512&&yv(n)}catch(G){hi(n,n.return,G)}}if(n===t){At=null;break}if(o=n.sibling,o!==null){o.return=n.return,At=o;break}At=n.return}}function q5(t){for(;At!==null;){var n=At;if(n===t){At=null;break}var o=n.sibling;if(o!==null){o.return=n.return,At=o;break}At=n.return}}function $5(t){for(;At!==null;){var n=At;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{xf(4,n)}catch(k){hi(n,o,k)}break;case 1:var s=n.stateNode;if(typeof s.componentDidMount=="function"){var d=n.return;try{s.componentDidMount()}catch(k){hi(n,d,k)}}var m=n.return;try{yv(n)}catch(k){hi(n,m,k)}break;case 5:var p=n.return;try{yv(n)}catch(k){hi(n,p,k)}}}catch(k){hi(n,n.return,k)}if(n===t){At=null;break}var v=n.sibling;if(v!==null){v.return=n.return,At=v;break}At=n.return}}var R$=Math.ceil,NI=Ra.ReactCurrentDispatcher,kx=Ra.ReactCurrentOwner,Wr=Ra.ReactCurrentBatchConfig,fn=0,Ui=null,Vi=null,ro=0,$o=0,jg=Bl(0),Mi=0,jh=null,Gc=0,Sf=0,vx=0,ph=null,Xo=null,wx=0,Cd=1/0,ca=null,EI=!1,wv=null,Cl=null,hp=!1,sl=null,XI=0,Ih=0,xv=null,Kp=-1,Pp=0;function So(){return fn&6?wi():Kp!==-1?Kp:Kp=wi()}function pl(t){return t.mode&1?fn&2&&ro!==0?ro&-ro:h$.transition!==null?(Pp===0&&(Pp=HD()),Pp):(t=Vn,t!==0||(t=window.event,t=t===void 0?16:KD(t.type)),t):1}function gs(t,n,o,s){if(50<Ih)throw Ih=0,xv=null,Error(it(185));Im(t,o,s),(!(fn&2)||t!==Ui)&&(t===Ui&&(!(fn&2)&&(Sf|=o),Mi===4&&il(t,ro)),Mo(t,s),o===1&&fn===0&&!(n.mode&1)&&(Cd=wi()+500,kf&&Zl()))}function Mo(t,n){var o=t.callbackNode;hq(t,n);var s=bI(t,t===Ui?ro:0);if(s===0)o!==null&&l5(o),t.callbackNode=null,t.callbackPriority=0;else if(n=s&-s,t.callbackPriority!==n){if(o!=null&&l5(o),n===1)t.tag===0?u$(eE.bind(null,t)):dH(eE.bind(null,t)),l$(function(){!(fn&6)&&Zl()}),o=null;else{switch(FD(s)){case 1:o=Uw;break;case 4:o=YD;break;case 16:o=fI;break;case 536870912:o=DD;break;default:o=fI}o=cF(o,nF.bind(null,t))}t.callbackPriority=n,t.callbackNode=o}}function nF(t,n){if(Kp=-1,Pp=0,fn&6)throw Error(it(327));var o=t.callbackNode;if(nd()&&t.callbackNode!==o)return null;var s=bI(t,t===Ui?ro:0);if(s===0)return null;if(s&30||s&t.expiredLanes||n)n=YI(t,s);else{n=s;var d=fn;fn|=2;var m=oF();(Ui!==t||ro!==n)&&(ca=null,Cd=wi()+500,fc(t,n));do try{_$();break}catch(v){iF(t,v)}while(!0);cx(),NI.current=m,fn=d,Vi!==null?n=0:(Ui=null,ro=0,n=Mi)}if(n!==0){if(n===2&&(d=qk(t),d!==0&&(s=d,n=Sv(t,d))),n===1)throw o=jh,fc(t,0),il(t,s),Mo(t,wi()),o;if(n===6)il(t,s);else{if(d=t.current.alternate,!(s&30)&&!V$(d)&&(n=YI(t,s),n===2&&(m=qk(t),m!==0&&(s=m,n=Sv(t,m))),n===1))throw o=jh,fc(t,0),il(t,s),Mo(t,wi()),o;switch(t.finishedWork=d,t.finishedLanes=s,n){case 0:case 1:throw Error(it(345));case 2:ac(t,Xo,ca);break;case 3:if(il(t,s),(s&130023424)===s&&(n=wx+500-wi(),10<n)){if(bI(t,0)!==0)break;if(d=t.suspendedLanes,(d&s)!==s){So(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=sv(ac.bind(null,t,Xo,ca),n);break}ac(t,Xo,ca);break;case 4:if(il(t,s),(s&4194240)===s)break;for(n=t.eventTimes,d=-1;0<s;){var p=31-cs(s);m=1<<p,p=n[p],p>d&&(d=p),s&=~m}if(s=d,s=wi()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*R$(s/1960))-s,10<s){t.timeoutHandle=sv(ac.bind(null,t,Xo,ca),s);break}ac(t,Xo,ca);break;case 5:ac(t,Xo,ca);break;default:throw Error(it(329))}}}return Mo(t,wi()),t.callbackNode===o?nF.bind(null,t):null}function Sv(t,n){var o=ph;return t.current.memoizedState.isDehydrated&&(fc(t,n).flags|=256),t=YI(t,n),t!==2&&(n=Xo,Xo=o,n!==null&&Bv(n)),t}function Bv(t){Xo===null?Xo=t:Xo.push.apply(Xo,t)}function V$(t){for(var n=t;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var s=0;s<o.length;s++){var d=o[s],m=d.getSnapshot;d=d.value;try{if(!hs(m(),d))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function il(t,n){for(n&=~vx,n&=~Sf,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var o=31-cs(n),s=1<<o;t[o]=-1,n&=~s}}function eE(t){if(fn&6)throw Error(it(327));nd();var n=bI(t,0);if(!(n&1))return Mo(t,wi()),null;var o=YI(t,n);if(t.tag!==0&&o===2){var s=qk(t);s!==0&&(n=s,o=Sv(t,s))}if(o===1)throw o=jh,fc(t,0),il(t,n),Mo(t,wi()),o;if(o===6)throw Error(it(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,ac(t,Xo,ca),Mo(t,wi()),null}function xx(t,n){var o=fn;fn|=1;try{return t(n)}finally{fn=o,fn===0&&(Cd=wi()+500,kf&&Zl())}}function Rc(t){sl!==null&&sl.tag===0&&!(fn&6)&&nd();var n=fn;fn|=1;var o=Wr.transition,s=Vn;try{if(Wr.transition=null,Vn=1,t)return t()}finally{Vn=s,Wr.transition=o,fn=n,!(fn&6)&&Zl()}}function Sx(){$o=jg.current,qn(jg)}function fc(t,n){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,a$(o)),Vi!==null)for(o=Vi.return;o!==null;){var s=o;switch(sx(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&wI();break;case 3:hd(),qn(Ho),qn(fo),Cx();break;case 5:mx(s);break;case 4:hd();break;case 13:qn(si);break;case 19:qn(si);break;case 10:gx(s.type._context);break;case 22:case 23:Sx()}o=o.return}if(Ui=t,Vi=t=Il(t.current,null),ro=$o=n,Mi=0,jh=null,vx=Sf=Gc=0,Xo=ph=null,mc!==null){for(n=0;n<mc.length;n++)if(o=mc[n],s=o.interleaved,s!==null){o.interleaved=null;var d=s.next,m=o.pending;if(m!==null){var p=m.next;m.next=d,s.next=p}o.pending=s}mc=null}return t}function iF(t,n){do{var o=Vi;try{if(cx(),Jp.current=_I,WI){for(var s=ai.memoizedState;s!==null;){var d=s.queue;d!==null&&(d.pending=null),s=s.next}WI=!1}if(Zc=0,ji=Fi=ai=null,mh=!1,zh=0,kx.current=null,o===null||o.return===null){Mi=1,jh=n,Vi=null;break}e:{var m=t,p=o.return,v=o,k=n;if(n=ro,v.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var Z=k,_=v,N=_.tag;if(!(_.mode&1)&&(N===0||N===11||N===15)){var G=_.alternate;G?(_.updateQueue=G.updateQueue,_.memoizedState=G.memoizedState,_.lanes=G.lanes):(_.updateQueue=null,_.memoizedState=null)}var D=M5(p);if(D!==null){D.flags&=-257,T5(D,p,v,m,n),D.mode&1&&F5(m,Z,n),n=D,k=Z;var M=n.updateQueue;if(M===null){var L=new Set;L.add(k),n.updateQueue=L}else M.add(k);break e}else{if(!(n&1)){F5(m,Z,n),Bx();break e}k=Error(it(426))}}else if(ri&&v.mode&1){var O=M5(p);if(O!==null){!(O.flags&65536)&&(O.flags|=256),T5(O,p,v,m,n),ax(md(k,v));break e}}m=k=md(k,v),Mi!==4&&(Mi=2),ph===null?ph=[m]:ph.push(m),m=p;do{switch(m.tag){case 3:m.flags|=65536,n&=-n,m.lanes|=n;var P=FH(m,k,n);N5(m,P);break e;case 1:v=k;var F=m.type,j=m.stateNode;if(!(m.flags&128)&&(typeof F.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Cl===null||!Cl.has(j)))){m.flags|=65536,n&=-n,m.lanes|=n;var ie=MH(m,v,n);N5(m,ie);break e}}m=m.return}while(m!==null)}sF(o)}catch(ne){n=ne,Vi===o&&o!==null&&(Vi=o=o.return);continue}break}while(!0)}function oF(){var t=NI.current;return NI.current=_I,t===null?_I:t}function Bx(){(Mi===0||Mi===3||Mi===2)&&(Mi=4),Ui===null||!(Gc&268435455)&&!(Sf&268435455)||il(Ui,ro)}function YI(t,n){var o=fn;fn|=2;var s=oF();(Ui!==t||ro!==n)&&(ca=null,fc(t,n));do try{W$();break}catch(d){iF(t,d)}while(!0);if(cx(),fn=o,NI.current=s,Vi!==null)throw Error(it(261));return Ui=null,ro=0,Mi}function W$(){for(;Vi!==null;)rF(Vi)}function _$(){for(;Vi!==null&&!oq();)rF(Vi)}function rF(t){var n=lF(t.alternate,t,$o);t.memoizedProps=t.pendingProps,n===null?sF(t):Vi=n,kx.current=null}function sF(t){var n=t;do{var o=n.alternate;if(t=n.return,n.flags&32768){if(o=S$(o,n),o!==null){o.flags&=32767,Vi=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mi=6,Vi=null;return}}else if(o=x$(o,n,$o),o!==null){Vi=o;return}if(n=n.sibling,n!==null){Vi=n;return}Vi=n=t}while(n!==null);Mi===0&&(Mi=5)}function ac(t,n,o){var s=Vn,d=Wr.transition;try{Wr.transition=null,Vn=1,N$(t,n,o,s)}finally{Wr.transition=d,Vn=s}return null}function N$(t,n,o,s){do nd();while(sl!==null);if(fn&6)throw Error(it(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(it(177));t.callbackNode=null,t.callbackPriority=0;var m=o.lanes|o.childLanes;if(mq(t,m),t===Ui&&(Vi=Ui=null,ro=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||hp||(hp=!0,cF(fI,function(){return nd(),null})),m=(o.flags&15990)!==0,o.subtreeFlags&15990||m){m=Wr.transition,Wr.transition=null;var p=Vn;Vn=1;var v=fn;fn|=4,kx.current=null,Z$(t,o),eF(o,t),e$(ov),AI=!!iv,ov=iv=null,t.current=o,G$(o),rq(),fn=v,Vn=p,Wr.transition=m}else t.current=o;if(hp&&(hp=!1,sl=t,XI=d),m=t.pendingLanes,m===0&&(Cl=null),lq(o.stateNode),Mo(t,wi()),n!==null)for(s=t.onRecoverableError,o=0;o<n.length;o++)d=n[o],s(d.value,{componentStack:d.stack,digest:d.digest});if(EI)throw EI=!1,t=wv,wv=null,t;return XI&1&&t.tag!==0&&nd(),m=t.pendingLanes,m&1?t===xv?Ih++:(Ih=0,xv=t):Ih=0,Zl(),null}function nd(){if(sl!==null){var t=FD(XI),n=Wr.transition,o=Vn;try{if(Wr.transition=null,Vn=16>t?16:t,sl===null)var s=!1;else{if(t=sl,sl=null,XI=0,fn&6)throw Error(it(331));var d=fn;for(fn|=4,At=t.current;At!==null;){var m=At,p=m.child;if(At.flags&16){var v=m.deletions;if(v!==null){for(var k=0;k<v.length;k++){var Z=v[k];for(At=Z;At!==null;){var _=At;switch(_.tag){case 0:case 11:case 15:Ch(8,_,m)}var N=_.child;if(N!==null)N.return=_,At=N;else for(;At!==null;){_=At;var G=_.sibling,D=_.return;if(QH(_),_===Z){At=null;break}if(G!==null){G.return=D,At=G;break}At=D}}}var M=m.alternate;if(M!==null){var L=M.child;if(L!==null){M.child=null;do{var O=L.sibling;L.sibling=null,L=O}while(L!==null)}}At=m}}if(m.subtreeFlags&2064&&p!==null)p.return=m,At=p;else e:for(;At!==null;){if(m=At,m.flags&2048)switch(m.tag){case 0:case 11:case 15:Ch(9,m,m.return)}var P=m.sibling;if(P!==null){P.return=m.return,At=P;break e}At=m.return}}var F=t.current;for(At=F;At!==null;){p=At;var j=p.child;if(p.subtreeFlags&2064&&j!==null)j.return=p,At=j;else e:for(p=F;At!==null;){if(v=At,v.flags&2048)try{switch(v.tag){case 0:case 11:case 15:xf(9,v)}}catch(ne){hi(v,v.return,ne)}if(v===p){At=null;break e}var ie=v.sibling;if(ie!==null){ie.return=v.return,At=ie;break e}At=v.return}}if(fn=d,Zl(),Hs&&typeof Hs.onPostCommitFiberRoot=="function")try{Hs.onPostCommitFiberRoot(If,t)}catch{}s=!0}return s}finally{Vn=o,Wr.transition=n}}return!1}function tE(t,n,o){n=md(o,n),n=FH(t,n,1),t=ml(t,n,1),n=So(),t!==null&&(Im(t,1,n),Mo(t,n))}function hi(t,n,o){if(t.tag===3)tE(t,t,o);else for(;n!==null;){if(n.tag===3){tE(n,t,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Cl===null||!Cl.has(s))){t=md(o,t),t=MH(n,t,1),n=ml(n,t,1),t=So(),n!==null&&(Im(n,1,t),Mo(n,t));break}}n=n.return}}function E$(t,n,o){var s=t.pingCache;s!==null&&s.delete(n),n=So(),t.pingedLanes|=t.suspendedLanes&o,Ui===t&&(ro&o)===o&&(Mi===4||Mi===3&&(ro&130023424)===ro&&500>wi()-wx?fc(t,0):vx|=o),Mo(t,n)}function aF(t,n){n===0&&(t.mode&1?(n=ip,ip<<=1,!(ip&130023424)&&(ip=4194304)):n=1);var o=So();t=xa(t,n),t!==null&&(Im(t,n,o),Mo(t,o))}function X$(t){var n=t.memoizedState,o=0;n!==null&&(o=n.retryLane),aF(t,o)}function Y$(t,n){var o=0;switch(t.tag){case 13:var s=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(it(314))}s!==null&&s.delete(n),aF(t,o)}var lF;lF=function(t,n,o){if(t!==null)if(t.memoizedProps!==n.pendingProps||Ho.current)Yo=!0;else{if(!(t.lanes&o)&&!(n.flags&128))return Yo=!1,w$(t,n,o);Yo=!!(t.flags&131072)}else Yo=!1,ri&&n.flags&1048576&&uH(n,BI,n.index);switch(n.lanes=0,n.tag){case 2:var s=n.type;zp(t,n),t=n.pendingProps;var d=gd(n,fo.current);td(n,o),d=Ix(null,n,s,t,d,o);var m=fx();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Fo(s)?(m=!0,xI(n)):m=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ux(n),d.updater=wf,n.stateNode=d,d._reactInternals=n,hv(n,s,t,o),n=pv(null,n,s,!0,m,o)):(n.tag=0,ri&&m&&rx(n),wo(null,n,d,o),n=n.child),n;case 16:s=n.elementType;e:{switch(zp(t,n),t=n.pendingProps,d=s._init,s=d(s._payload),n.type=s,d=n.tag=H$(s),t=rs(s,t),d){case 0:n=Cv(null,n,s,t,o);break e;case 1:n=z5(null,n,s,t,o);break e;case 11:n=J5(null,n,s,t,o);break e;case 14:n=L5(null,n,s,rs(s.type,t),o);break e}throw Error(it(306,s,""))}return n;case 0:return s=n.type,d=n.pendingProps,d=n.elementType===s?d:rs(s,d),Cv(t,n,s,d,o);case 1:return s=n.type,d=n.pendingProps,d=n.elementType===s?d:rs(s,d),z5(t,n,s,d,o);case 3:e:{if(zH(n),t===null)throw Error(it(387));s=n.pendingProps,m=n.memoizedState,d=m.element,fH(t,n),RI(n,s,null,o);var p=n.memoizedState;if(s=p.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){d=md(Error(it(423)),n),n=K5(t,n,s,o,d);break e}else if(s!==d){d=md(Error(it(424)),n),n=K5(t,n,s,o,d);break e}else for(nr=hl(n.stateNode.containerInfo.firstChild),sr=n,ri=!0,as=null,o=pH(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(dd(),s===d){n=Sa(t,n,o);break e}wo(t,n,s,o)}n=n.child}return n;case 5:return bH(n),t===null&&gv(n),s=n.type,d=n.pendingProps,m=t!==null?t.memoizedProps:null,p=d.children,rv(s,d)?p=null:m!==null&&rv(s,m)&&(n.flags|=32),LH(t,n),wo(t,n,p,o),n.child;case 6:return t===null&&gv(n),null;case 13:return KH(t,n,o);case 4:return hx(n,n.stateNode.containerInfo),s=n.pendingProps,t===null?n.child=ud(n,null,s,o):wo(t,n,s,o),n.child;case 11:return s=n.type,d=n.pendingProps,d=n.elementType===s?d:rs(s,d),J5(t,n,s,d,o);case 7:return wo(t,n,n.pendingProps,o),n.child;case 8:return wo(t,n,n.pendingProps.children,o),n.child;case 12:return wo(t,n,n.pendingProps.children,o),n.child;case 10:e:{if(s=n.type._context,d=n.pendingProps,m=n.memoizedProps,p=d.value,Kn(ZI,s._currentValue),s._currentValue=p,m!==null)if(hs(m.value,p)){if(m.children===d.children&&!Ho.current){n=Sa(t,n,o);break e}}else for(m=n.child,m!==null&&(m.return=n);m!==null;){var v=m.dependencies;if(v!==null){p=m.child;for(var k=v.firstContext;k!==null;){if(k.context===s){if(m.tag===1){k=Aa(-1,o&-o),k.tag=2;var Z=m.updateQueue;if(Z!==null){Z=Z.shared;var _=Z.pending;_===null?k.next=k:(k.next=_.next,_.next=k),Z.pending=k}}m.lanes|=o,k=m.alternate,k!==null&&(k.lanes|=o),dv(m.return,o,n),v.lanes|=o;break}k=k.next}}else if(m.tag===10)p=m.type===n.type?null:m.child;else if(m.tag===18){if(p=m.return,p===null)throw Error(it(341));p.lanes|=o,v=p.alternate,v!==null&&(v.lanes|=o),dv(p,o,n),p=m.sibling}else p=m.child;if(p!==null)p.return=m;else for(p=m;p!==null;){if(p===n){p=null;break}if(m=p.sibling,m!==null){m.return=p.return,p=m;break}p=p.return}m=p}wo(t,n,d.children,o),n=n.child}return n;case 9:return d=n.type,s=n.pendingProps.children,td(n,o),d=Nr(d),s=s(d),n.flags|=1,wo(t,n,s,o),n.child;case 14:return s=n.type,d=rs(s,n.pendingProps),d=rs(s.type,d),L5(t,n,s,d,o);case 15:return TH(t,n,n.type,n.pendingProps,o);case 17:return s=n.type,d=n.pendingProps,d=n.elementType===s?d:rs(s,d),zp(t,n),n.tag=1,Fo(s)?(t=!0,xI(n)):t=!1,td(n,o),HH(n,s,d),hv(n,s,d,o),pv(null,n,s,!0,t,o);case 19:return PH(t,n,o);case 22:return JH(t,n,o)}throw Error(it(156,n.tag))};function cF(t,n){return XD(t,n)}function D$(t,n,o,s){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(t,n,o,s){return new D$(t,n,o,s)}function Zx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function H$(t){if(typeof t=="function")return Zx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pw)return 11;if(t===jw)return 14}return 2}function Il(t,n){var o=t.alternate;return o===null?(o=Rr(t.tag,n,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=n,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,n=t.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function jp(t,n,o,s,d,m){var p=2;if(s=t,typeof t=="function")Zx(t)&&(p=1);else if(typeof t=="string")p=5;else e:switch(t){case Dg:return bc(o.children,d,m,n);case Kw:p=8,d|=8;break;case Yk:return t=Rr(12,o,n,d|2),t.elementType=Yk,t.lanes=m,t;case Dk:return t=Rr(13,o,n,d),t.elementType=Dk,t.lanes=m,t;case Hk:return t=Rr(19,o,n,d),t.elementType=Hk,t.lanes=m,t;case bD:return Bf(o,d,m,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ID:p=10;break e;case fD:p=9;break e;case Pw:p=11;break e;case jw:p=14;break e;case el:p=16,s=null;break e}throw Error(it(130,t==null?t:typeof t,""))}return n=Rr(p,o,n,d),n.elementType=t,n.type=s,n.lanes=m,n}function bc(t,n,o,s){return t=Rr(7,t,s,n),t.lanes=o,t}function Bf(t,n,o,s){return t=Rr(22,t,s,n),t.elementType=bD,t.lanes=o,t.stateNode={isHidden:!1},t}function Py(t,n,o){return t=Rr(6,t,null,n),t.lanes=o,t}function jy(t,n,o){return n=Rr(4,t.children!==null?t.children:[],t.key,n),n.lanes=o,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function F$(t,n,o,s,d){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zy(0),this.expirationTimes=Zy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zy(0),this.identifierPrefix=s,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Gx(t,n,o,s,d,m,p,v,k){return t=new F$(t,n,o,v,k),n===1?(n=1,m===!0&&(n|=8)):n=0,m=Rr(3,null,null,n),t.current=m,m.stateNode=t,m.memoizedState={element:s,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ux(m),t}function M$(t,n,o){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yg,key:s==null?null:""+s,children:t,containerInfo:n,implementation:o}}function gF(t){if(!t)return wl;t=t._reactInternals;e:{if(Dc(t)!==t||t.tag!==1)throw Error(it(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Fo(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(it(171))}if(t.tag===1){var o=t.type;if(Fo(o))return gH(t,o,n)}return n}function dF(t,n,o,s,d,m,p,v,k){return t=Gx(o,s,!0,t,d,m,p,v,k),t.context=gF(null),o=t.current,s=So(),d=pl(o),m=Aa(s,d),m.callback=n??null,ml(o,m,d),t.current.lanes=d,Im(t,d,s),Mo(t,s),t}function Zf(t,n,o,s){var d=n.current,m=So(),p=pl(d);return o=gF(o),n.context===null?n.context=o:n.pendingContext=o,n=Aa(m,p),n.payload={element:t},s=s===void 0?null:s,s!==null&&(n.callback=s),t=ml(d,n,p),t!==null&&(gs(t,d,p,m),Tp(t,d,p)),p}function DI(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nE(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<n?o:n}}function Rx(t,n){nE(t,n),(t=t.alternate)&&nE(t,n)}function T$(){return null}var uF=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vx(t){this._internalRoot=t}Gf.prototype.render=Vx.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(it(409));Zf(t,n,null,null)};Gf.prototype.unmount=Vx.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Rc(function(){Zf(null,t,null,null)}),n[wa]=null}};function Gf(t){this._internalRoot=t}Gf.prototype.unstable_scheduleHydration=function(t){if(t){var n=JD();t={blockedOn:null,target:t,priority:n};for(var o=0;o<nl.length&&n!==0&&n<nl[o].priority;o++);nl.splice(o,0,t),o===0&&zD(t)}};function Wx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iE(){}function J$(t,n,o,s,d){if(d){if(typeof s=="function"){var m=s;s=function(){var Z=DI(p);m.call(Z)}}var p=dF(n,s,t,0,null,!1,!1,"",iE);return t._reactRootContainer=p,t[wa]=p.current,Fh(t.nodeType===8?t.parentNode:t),Rc(),p}for(;d=t.lastChild;)t.removeChild(d);if(typeof s=="function"){var v=s;s=function(){var Z=DI(k);v.call(Z)}}var k=Gx(t,0,!1,null,null,!1,!1,"",iE);return t._reactRootContainer=k,t[wa]=k.current,Fh(t.nodeType===8?t.parentNode:t),Rc(function(){Zf(n,k,o,s)}),k}function Vf(t,n,o,s,d){var m=o._reactRootContainer;if(m){var p=m;if(typeof d=="function"){var v=d;d=function(){var k=DI(p);v.call(k)}}Zf(n,p,t,d)}else p=J$(o,n,t,d,s);return DI(p)}MD=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var o=ih(n.pendingLanes);o!==0&&(Qw(n,o|1),Mo(n,wi()),!(fn&6)&&(Cd=wi()+500,Zl()))}break;case 13:Rc(function(){var s=xa(t,1);if(s!==null){var d=So();gs(s,t,1,d)}}),Rx(t,1)}};qw=function(t){if(t.tag===13){var n=xa(t,134217728);if(n!==null){var o=So();gs(n,t,134217728,o)}Rx(t,134217728)}};TD=function(t){if(t.tag===13){var n=pl(t),o=xa(t,n);if(o!==null){var s=So();gs(o,t,n,s)}Rx(t,n)}};JD=function(){return Vn};LD=function(t,n){var o=Vn;try{return Vn=t,n()}finally{Vn=o}};Ok=function(t,n,o){switch(n){case"input":if(Tk(t,o),n=o.name,o.type==="radio"&&n!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==t&&s.form===t.form){var d=yf(s);if(!d)throw Error(it(90));yD(s),Tk(s,d)}}}break;case"textarea":vD(t,o);break;case"select":n=o.value,n!=null&&Qg(t,!!o.multiple,n,!1)}};RD=xx;VD=Rc;var L$={usingClientEntryPoint:!1,Events:[bm,Tg,yf,ZD,GD,xx]},Mu={findFiberByHostInstance:hc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z$={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ra.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ND(t),t===null?null:t.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||T$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mp.isDisabled&&mp.supportsFiber)try{If=mp.inject(z$),Hs=mp}catch{}}gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L$;gr.createPortal=function(t,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wx(n))throw Error(it(200));return M$(t,n,null,o)};gr.createRoot=function(t,n){if(!Wx(t))throw Error(it(299));var o=!1,s="",d=uF;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=Gx(t,1,!1,null,null,o,!1,s,d),t[wa]=n.current,Fh(t.nodeType===8?t.parentNode:t),new Vx(n)};gr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(it(188)):(t=Object.keys(t).join(","),Error(it(268,t)));return t=ND(n),t=t===null?null:t.stateNode,t};gr.flushSync=function(t){return Rc(t)};gr.hydrate=function(t,n,o){if(!Rf(n))throw Error(it(200));return Vf(null,t,n,!0,o)};gr.hydrateRoot=function(t,n,o){if(!Wx(t))throw Error(it(405));var s=o!=null&&o.hydratedSources||null,d=!1,m="",p=uF;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),n=dF(n,null,t,1,o??null,d,!1,m,p),t[wa]=n.current,Fh(t),s)for(t=0;t<s.length;t++)o=s[t],d=o._getVersion,d=d(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,d]:n.mutableSourceEagerHydrationData.push(o,d);return new Gf(n)};gr.render=function(t,n,o){if(!Rf(n))throw Error(it(200));return Vf(null,t,n,!1,o)};gr.unmountComponentAtNode=function(t){if(!Rf(t))throw Error(it(40));return t._reactRootContainer?(Rc(function(){Vf(null,null,t,!1,function(){t._reactRootContainer=null,t[wa]=null})}),!0):!1};gr.unstable_batchedUpdates=xx;gr.unstable_renderSubtreeIntoContainer=function(t,n,o,s){if(!Rf(o))throw Error(it(200));if(t==null||t._reactInternals===void 0)throw Error(it(38));return Vf(t,n,o,!1,s)};gr.version="18.3.1-next-f1338f8080-20240426";function hF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hF)}catch(t){console.error(t)}}hF(),hD.exports=gr;var _x=hD.exports;const Cp=Cf(_x);var oE=_x;Ek.createRoot=oE.createRoot,Ek.hydrateRoot=oE.hydrateRoot;const K$={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,n){console&&console[t]&&console[t].apply(console,n)}};let P$=class Zv{constructor(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(n,o)}init(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=o.prefix||"i18next:",this.logger=n||K$,this.options=o,this.debug=o.debug}log(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return this.forward(o,"log","",!0)}warn(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return this.forward(o,"warn","",!0)}error(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return this.forward(o,"error","")}deprecate(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return this.forward(o,"warn","WARNING DEPRECATED: ",!0)}forward(n,o,s,d){return d&&!this.debug?null:(typeof n[0]=="string"&&(n[0]=`${s}${this.prefix} ${n[0]}`),this.logger[o](n))}create(n){return new Zv(this.logger,{prefix:`${this.prefix}:${n}:`,...this.options})}clone(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new Zv(this.logger,n)}};var Es=new P$;class Wf{constructor(){this.observers={}}on(n,o){return n.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const d=this.observers[s].get(o)||0;this.observers[s].set(o,d+1)}),this}off(n,o){if(this.observers[n]){if(!o){delete this.observers[n];return}this.observers[n].delete(o)}}emit(n){for(var o=arguments.length,s=new Array(o>1?o-1:0),d=1;d<o;d++)s[d-1]=arguments[d];this.observers[n]&&Array.from(this.observers[n].entries()).forEach(p=>{let[v,k]=p;for(let Z=0;Z<k;Z++)v(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(p=>{let[v,k]=p;for(let Z=0;Z<k;Z++)v.apply(v,[n,...s])})}}function Tu(){let t,n;const o=new Promise((s,d)=>{t=s,n=d});return o.resolve=t,o.reject=n,o}function rE(t){return t==null?"":""+t}function j$(t,n,o){t.forEach(s=>{n[s]&&(o[s]=n[s])})}const O$=/###/g;function fh(t,n,o){function s(v){return v&&v.indexOf("###")>-1?v.replace(O$,"."):v}function d(){return!t||typeof t=="string"}const m=typeof n!="string"?n:n.split(".");let p=0;for(;p<m.length-1;){if(d())return{};const v=s(m[p]);!t[v]&&o&&(t[v]=new o),Object.prototype.hasOwnProperty.call(t,v)?t=t[v]:t={},++p}return d()?{}:{obj:t,k:s(m[p])}}function sE(t,n,o){const{obj:s,k:d}=fh(t,n,Object);if(s!==void 0||n.length===1){s[d]=o;return}let m=n[n.length-1],p=n.slice(0,n.length-1),v=fh(t,p,Object);for(;v.obj===void 0&&p.length;)m=`${p[p.length-1]}.${m}`,p=p.slice(0,p.length-1),v=fh(t,p,Object),v&&v.obj&&typeof v.obj[`${v.k}.${m}`]<"u"&&(v.obj=void 0);v.obj[`${v.k}.${m}`]=o}function U$(t,n,o,s){const{obj:d,k:m}=fh(t,n,Object);d[m]=d[m]||[],d[m].push(o)}function HI(t,n){const{obj:o,k:s}=fh(t,n);if(o)return o[s]}function Q$(t,n,o){const s=HI(t,o);return s!==void 0?s:HI(n,o)}function mF(t,n,o){for(const s in n)s!=="__proto__"&&s!=="constructor"&&(s in t?typeof t[s]=="string"||t[s]instanceof String||typeof n[s]=="string"||n[s]instanceof String?o&&(t[s]=n[s]):mF(t[s],n[s],o):t[s]=n[s]);return t}function yg(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var q$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function $$(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,n=>q$[n]):t}class eee{constructor(n){this.capacity=n,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(n){const o=this.regExpMap.get(n);if(o!==void 0)return o;const s=new RegExp(n);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(n,s),this.regExpQueue.push(n),s}}const tee=[" ",",","?","!",";"],nee=new eee(20);function iee(t,n,o){n=n||"",o=o||"";const s=tee.filter(p=>n.indexOf(p)<0&&o.indexOf(p)<0);if(s.length===0)return!0;const d=nee.getRegExp(`(${s.map(p=>p==="?"?"\\?":p).join("|")})`);let m=!d.test(t);if(!m){const p=t.indexOf(o);p>0&&!d.test(t.substring(0,p))&&(m=!0)}return m}function Gv(t,n){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[n])return t[n];const s=n.split(o);let d=t;for(let m=0;m<s.length;){if(!d||typeof d!="object")return;let p,v="";for(let k=m;k<s.length;++k)if(k!==m&&(v+=o),v+=s[k],p=d[v],p!==void 0){if(["string","number","boolean"].indexOf(typeof p)>-1&&k<s.length-1)continue;m+=k-m+1;break}d=p}return d}function FI(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class aE extends Wf{constructor(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=n||{},this.options=o,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}removeNamespaces(n){const o=this.options.ns.indexOf(n);o>-1&&this.options.ns.splice(o,1)}getResource(n,o,s){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const m=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator,p=d.ignoreJSONStructure!==void 0?d.ignoreJSONStructure:this.options.ignoreJSONStructure;let v;n.indexOf(".")>-1?v=n.split("."):(v=[n,o],s&&(Array.isArray(s)?v.push(...s):typeof s=="string"&&m?v.push(...s.split(m)):v.push(s)));const k=HI(this.data,v);return!k&&!o&&!s&&n.indexOf(".")>-1&&(n=v[0],o=v[1],s=v.slice(2).join(".")),k||!p||typeof s!="string"?k:Gv(this.data&&this.data[n]&&this.data[n][o],s,m)}addResource(n,o,s,d){let m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const p=m.keySeparator!==void 0?m.keySeparator:this.options.keySeparator;let v=[n,o];s&&(v=v.concat(p?s.split(p):s)),n.indexOf(".")>-1&&(v=n.split("."),d=o,o=v[1]),this.addNamespaces(o),sE(this.data,v,d),m.silent||this.emit("added",n,o,s,d)}addResources(n,o,s){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const m in s)(typeof s[m]=="string"||Array.isArray(s[m]))&&this.addResource(n,o,m,s[m],{silent:!0});d.silent||this.emit("added",n,o,s)}addResourceBundle(n,o,s,d,m){let p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},v=[n,o];n.indexOf(".")>-1&&(v=n.split("."),d=s,s=o,o=v[1]),this.addNamespaces(o);let k=HI(this.data,v)||{};p.skipCopy||(s=JSON.parse(JSON.stringify(s))),d?mF(k,s,m):k={...k,...s},sE(this.data,v,k),p.silent||this.emit("added",n,o,s)}removeResourceBundle(n,o){this.hasResourceBundle(n,o)&&delete this.data[n][o],this.removeNamespaces(o),this.emit("removed",n,o)}hasResourceBundle(n,o){return this.getResource(n,o)!==void 0}getResourceBundle(n,o){return o||(o=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(n,o)}:this.getResource(n,o)}getDataByLanguage(n){return this.data[n]}hasLanguageSomeTranslations(n){const o=this.getDataByLanguage(n);return!!(o&&Object.keys(o)||[]).find(d=>o[d]&&Object.keys(o[d]).length>0)}toJSON(){return this.data}}var CF={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,n,o,s,d){return t.forEach(m=>{this.processors[m]&&(n=this.processors[m].process(n,o,s,d))}),n}};const lE={};class MI extends Wf{constructor(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),j$(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,this),this.options=o,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Es.create("translator")}changeLanguage(n){n&&(this.language=n)}exists(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(n==null)return!1;const s=this.resolve(n,o);return s&&s.res!==void 0}extractFromKey(n,o){let s=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const d=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let m=o.ns||this.options.defaultNS||[];const p=s&&n.indexOf(s)>-1,v=!this.options.userDefinedKeySeparator&&!o.keySeparator&&!this.options.userDefinedNsSeparator&&!o.nsSeparator&&!iee(n,s,d);if(p&&!v){const k=n.match(this.interpolator.nestingRegexp);if(k&&k.length>0)return{key:n,namespaces:m};const Z=n.split(s);(s!==d||s===d&&this.options.ns.indexOf(Z[0])>-1)&&(m=Z.shift()),n=Z.join(d)}return typeof m=="string"&&(m=[m]),{key:n,namespaces:m}}translate(n,o,s){if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),n==null)return"";Array.isArray(n)||(n=[String(n)]);const d=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,m=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:p,namespaces:v}=this.extractFromKey(n[n.length-1],o),k=v[v.length-1],Z=o.lng||this.language,_=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(Z&&Z.toLowerCase()==="cimode"){if(_){const ie=o.nsSeparator||this.options.nsSeparator;return d?{res:`${k}${ie}${p}`,usedKey:p,exactUsedKey:p,usedLng:Z,usedNS:k,usedParams:this.getUsedParamsDetails(o)}:`${k}${ie}${p}`}return d?{res:p,usedKey:p,exactUsedKey:p,usedLng:Z,usedNS:k,usedParams:this.getUsedParamsDetails(o)}:p}const N=this.resolve(n,o);let G=N&&N.res;const D=N&&N.usedKey||p,M=N&&N.exactUsedKey||p,L=Object.prototype.toString.apply(G),O=["[object Number]","[object Function]","[object RegExp]"],P=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,F=!this.i18nFormat||this.i18nFormat.handleAsObject;if(F&&G&&(typeof G!="string"&&typeof G!="boolean"&&typeof G!="number")&&O.indexOf(L)<0&&!(typeof P=="string"&&Array.isArray(G))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ie=this.options.returnedObjectHandler?this.options.returnedObjectHandler(D,G,{...o,ns:v}):`key '${p} (${this.language})' returned an object instead of string.`;return d?(N.res=ie,N.usedParams=this.getUsedParamsDetails(o),N):ie}if(m){const ie=Array.isArray(G),ne=ie?[]:{},ue=ie?M:D;for(const K in G)if(Object.prototype.hasOwnProperty.call(G,K)){const de=`${ue}${m}${K}`;ne[K]=this.translate(de,{...o,joinArrays:!1,ns:v}),ne[K]===de&&(ne[K]=G[K])}G=ne}}else if(F&&typeof P=="string"&&Array.isArray(G))G=G.join(P),G&&(G=this.extendTranslation(G,n,o,s));else{let ie=!1,ne=!1;const ue=o.count!==void 0&&typeof o.count!="string",K=MI.hasDefaultValue(o),de=ue?this.pluralResolver.getSuffix(Z,o.count,o):"",pe=o.ordinal&&ue?this.pluralResolver.getSuffix(Z,o.count,{ordinal:!1}):"",Ce=ue&&!o.ordinal&&o.count===0&&this.pluralResolver.shouldUseIntlApi(),be=Ce&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${de}`]||o[`defaultValue${pe}`]||o.defaultValue;!this.isValidLookup(G)&&K&&(ie=!0,G=be),this.isValidLookup(G)||(ne=!0,G=p);const Ee=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ne?void 0:G,Se=K&&be!==G&&this.options.updateMissing;if(ne||ie||Se){if(this.logger.log(Se?"updateKey":"missingKey",Z,k,p,Se?be:G),m){const fe=this.resolve(p,{...o,keySeparator:!1});fe&&fe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ke=[];const Be=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Be&&Be[0])for(let fe=0;fe<Be.length;fe++)ke.push(Be[fe]);else this.options.saveMissingTo==="all"?ke=this.languageUtils.toResolveHierarchy(o.lng||this.language):ke.push(o.lng||this.language);const Re=(fe,Ze,_e)=>{const Pe=K&&_e!==G?_e:Ee;this.options.missingKeyHandler?this.options.missingKeyHandler(fe,k,Ze,Pe,Se,o):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(fe,k,Ze,Pe,Se,o),this.emit("missingKey",fe,k,Ze,G)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ue?ke.forEach(fe=>{const Ze=this.pluralResolver.getSuffixes(fe,o);Ce&&o[`defaultValue${this.options.pluralSeparator}zero`]&&Ze.indexOf(`${this.options.pluralSeparator}zero`)<0&&Ze.push(`${this.options.pluralSeparator}zero`),Ze.forEach(_e=>{Re([fe],p+_e,o[`defaultValue${_e}`]||be)})}):Re(ke,p,be))}G=this.extendTranslation(G,n,o,N,s),ne&&G===p&&this.options.appendNamespaceToMissingKey&&(G=`${k}:${p}`),(ne||ie)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?G=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${k}:${p}`:p,ie?G:void 0):G=this.options.parseMissingKeyHandler(G))}return d?(N.res=G,N.usedParams=this.getUsedParamsDetails(o),N):G}extendTranslation(n,o,s,d,m){var p=this;if(this.i18nFormat&&this.i18nFormat.parse)n=this.i18nFormat.parse(n,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||d.usedLng,d.usedNS,d.usedKey,{resolved:d});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const Z=typeof n=="string"&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let _;if(Z){const G=n.match(this.interpolator.nestingRegexp);_=G&&G.length}let N=s.replace&&typeof s.replace!="string"?s.replace:s;if(this.options.interpolation.defaultVariables&&(N={...this.options.interpolation.defaultVariables,...N}),n=this.interpolator.interpolate(n,N,s.lng||this.language,s),Z){const G=n.match(this.interpolator.nestingRegexp),D=G&&G.length;_<D&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&d&&d.res&&(s.lng=d.usedLng),s.nest!==!1&&(n=this.interpolator.nest(n,function(){for(var G=arguments.length,D=new Array(G),M=0;M<G;M++)D[M]=arguments[M];return m&&m[0]===D[0]&&!s.context?(p.logger.warn(`It seems you are nesting recursively key: ${D[0]} in key: ${o[0]}`),null):p.translate(...D,o)},s)),s.interpolation&&this.interpolator.reset()}const v=s.postProcess||this.options.postProcess,k=typeof v=="string"?[v]:v;return n!=null&&k&&k.length&&s.applyPostProcessor!==!1&&(n=CF.handle(k,n,o,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...d,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),n}resolve(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,d,m,p,v;return typeof n=="string"&&(n=[n]),n.forEach(k=>{if(this.isValidLookup(s))return;const Z=this.extractFromKey(k,o),_=Z.key;d=_;let N=Z.namespaces;this.options.fallbackNS&&(N=N.concat(this.options.fallbackNS));const G=o.count!==void 0&&typeof o.count!="string",D=G&&!o.ordinal&&o.count===0&&this.pluralResolver.shouldUseIntlApi(),M=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",L=o.lngs?o.lngs:this.languageUtils.toResolveHierarchy(o.lng||this.language,o.fallbackLng);N.forEach(O=>{this.isValidLookup(s)||(v=O,!lE[`${L[0]}-${O}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(v)&&(lE[`${L[0]}-${O}`]=!0,this.logger.warn(`key "${d}" for languages "${L.join(", ")}" won't get resolved as namespace "${v}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),L.forEach(P=>{if(this.isValidLookup(s))return;p=P;const F=[_];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(F,_,P,O,o);else{let ie;G&&(ie=this.pluralResolver.getSuffix(P,o.count,o));const ne=`${this.options.pluralSeparator}zero`,ue=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(G&&(F.push(_+ie),o.ordinal&&ie.indexOf(ue)===0&&F.push(_+ie.replace(ue,this.options.pluralSeparator)),D&&F.push(_+ne)),M){const K=`${_}${this.options.contextSeparator}${o.context}`;F.push(K),G&&(F.push(K+ie),o.ordinal&&ie.indexOf(ue)===0&&F.push(K+ie.replace(ue,this.options.pluralSeparator)),D&&F.push(K+ne))}}let j;for(;j=F.pop();)this.isValidLookup(s)||(m=j,s=this.getResource(P,O,j,o))}))})}),{res:s,usedKey:d,exactUsedKey:m,usedLng:p,usedNS:v}}isValidLookup(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}getResource(n,o,s){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(n,o,s,d):this.resourceStore.getResource(n,o,s,d)}getUsedParamsDetails(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=n.replace&&typeof n.replace!="string";let d=s?n.replace:n;if(s&&typeof n.count<"u"&&(d.count=n.count),this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),!s){d={...d};for(const m of o)delete d[m]}return d}static hasDefaultValue(n){const o="defaultValue";for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&o===s.substring(0,o.length)&&n[s]!==void 0)return!0;return!1}}function Oy(t){return t.charAt(0).toUpperCase()+t.slice(1)}class cE{constructor(n){this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Es.create("languageUtils")}getScriptPartFromCode(n){if(n=FI(n),!n||n.indexOf("-")<0)return null;const o=n.split("-");return o.length===2||(o.pop(),o[o.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(o.join("-"))}getLanguagePartFromCode(n){if(n=FI(n),!n||n.indexOf("-")<0)return n;const o=n.split("-");return this.formatLanguageCode(o[0])}formatLanguageCode(n){if(typeof n=="string"&&n.indexOf("-")>-1){const o=["hans","hant","latn","cyrl","cans","mong","arab"];let s=n.split("-");return this.options.lowerCaseLng?s=s.map(d=>d.toLowerCase()):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),o.indexOf(s[1].toLowerCase())>-1&&(s[1]=Oy(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),o.indexOf(s[1].toLowerCase())>-1&&(s[1]=Oy(s[1].toLowerCase())),o.indexOf(s[2].toLowerCase())>-1&&(s[2]=Oy(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}isSupportedCode(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}getBestMatchFromCodes(n){if(!n)return null;let o;return n.forEach(s=>{if(o)return;const d=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(d))&&(o=d)}),!o&&this.options.supportedLngs&&n.forEach(s=>{if(o)return;const d=this.getLanguagePartFromCode(s);if(this.isSupportedCode(d))return o=d;o=this.options.supportedLngs.find(m=>{if(m===d)return m;if(!(m.indexOf("-")<0&&d.indexOf("-")<0)&&(m.indexOf("-")>0&&d.indexOf("-")<0&&m.substring(0,m.indexOf("-"))===d||m.indexOf(d)===0&&d.length>1))return m})}),o||(o=this.getFallbackCodes(this.options.fallbackLng)[0]),o}getFallbackCodes(n,o){if(!n)return[];if(typeof n=="function"&&(n=n(o)),typeof n=="string"&&(n=[n]),Array.isArray(n))return n;if(!o)return n.default||[];let s=n[o];return s||(s=n[this.getScriptPartFromCode(o)]),s||(s=n[this.formatLanguageCode(o)]),s||(s=n[this.getLanguagePartFromCode(o)]),s||(s=n.default),s||[]}toResolveHierarchy(n,o){const s=this.getFallbackCodes(o||this.options.fallbackLng||[],n),d=[],m=p=>{p&&(this.isSupportedCode(p)?d.push(p):this.logger.warn(`rejecting language code not found in supportedLngs: ${p}`))};return typeof n=="string"&&(n.indexOf("-")>-1||n.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&m(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&m(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&m(this.getLanguagePartFromCode(n))):typeof n=="string"&&m(this.formatLanguageCode(n)),s.forEach(p=>{d.indexOf(p)<0&&m(this.formatLanguageCode(p))}),d}}let oee=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ree={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const see=["v1","v2","v3"],aee=["v4"],gE={zero:0,one:1,two:2,few:3,many:4,other:5};function lee(){const t={};return oee.forEach(n=>{n.lngs.forEach(o=>{t[o]={numbers:n.nr,plurals:ree[n.fc]}})}),t}class cee{constructor(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=n,this.options=o,this.logger=Es.create("pluralResolver"),(!this.options.compatibilityJSON||aee.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=lee()}addRule(n,o){this.rules[n]=o}getRule(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(FI(n==="dev"?"en":n),{type:o.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}needsPlural(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(n,o);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}getPluralFormsOfKey(n,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,s).map(d=>`${o}${d}`)}getSuffixes(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(n,o);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((d,m)=>gE[d]-gE[m]).map(d=>`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${d}`):s.numbers.map(d=>this.getSuffix(n,d,o)):[]}getSuffix(n,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const d=this.getRule(n,s);return d?this.shouldUseIntlApi()?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${d.select(o)}`:this.getSuffixRetroCompatible(d,o):(this.logger.warn(`no plural rule found for: ${n}`),"")}getSuffixRetroCompatible(n,o){const s=n.noAbs?n.plurals(o):n.plurals(Math.abs(o));let d=n.numbers[s];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(d===2?d="plural":d===1&&(d=""));const m=()=>this.options.prepend&&d.toString()?this.options.prepend+d.toString():d.toString();return this.options.compatibilityJSON==="v1"?d===1?"":typeof d=="number"?`_plural_${d.toString()}`:m():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?m():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}shouldUseIntlApi(){return!see.includes(this.options.compatibilityJSON)}}function dE(t,n,o){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,m=Q$(t,n,o);return!m&&d&&typeof o=="string"&&(m=Gv(t,o,s),m===void 0&&(m=Gv(n,o,s))),m}class gee{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Es.create("interpolator"),this.options=n,this.format=n.interpolation&&n.interpolation.format||(o=>o),this.init(n)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});const{escape:o,escapeValue:s,useRawValueToEscape:d,prefix:m,prefixEscaped:p,suffix:v,suffixEscaped:k,formatSeparator:Z,unescapeSuffix:_,unescapePrefix:N,nestingPrefix:G,nestingPrefixEscaped:D,nestingSuffix:M,nestingSuffixEscaped:L,nestingOptionsSeparator:O,maxReplaces:P,alwaysFormat:F}=n.interpolation;this.escape=o!==void 0?o:$$,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=d!==void 0?d:!1,this.prefix=m?yg(m):p||"{{",this.suffix=v?yg(v):k||"}}",this.formatSeparator=Z||",",this.unescapePrefix=_?"":N||"-",this.unescapeSuffix=this.unescapePrefix?"":_||"",this.nestingPrefix=G?yg(G):D||yg("$t("),this.nestingSuffix=M?yg(M):L||yg(")"),this.nestingOptionsSeparator=O||",",this.maxReplaces=P||1e3,this.alwaysFormat=F!==void 0?F:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const n=(o,s)=>o&&o.source===s?(o.lastIndex=0,o):new RegExp(s,"g");this.regexp=n(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=n(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=n(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(n,o,s,d){let m,p,v;const k=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function Z(M){return M.replace(/\$/g,"$$$$")}const _=M=>{if(M.indexOf(this.formatSeparator)<0){const F=dE(o,k,M,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(F,void 0,s,{...d,...o,interpolationkey:M}):F}const L=M.split(this.formatSeparator),O=L.shift().trim(),P=L.join(this.formatSeparator).trim();return this.format(dE(o,k,O,this.options.keySeparator,this.options.ignoreJSONStructure),P,s,{...d,...o,interpolationkey:O})};this.resetRegExp();const N=d&&d.missingInterpolationHandler||this.options.missingInterpolationHandler,G=d&&d.interpolation&&d.interpolation.skipOnVariables!==void 0?d.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:M=>Z(M)},{regex:this.regexp,safeValue:M=>this.escapeValue?Z(this.escape(M)):Z(M)}].forEach(M=>{for(v=0;m=M.regex.exec(n);){const L=m[1].trim();if(p=_(L),p===void 0)if(typeof N=="function"){const P=N(n,m,d);p=typeof P=="string"?P:""}else if(d&&Object.prototype.hasOwnProperty.call(d,L))p="";else if(G){p=m[0];continue}else this.logger.warn(`missed to pass in variable ${L} for interpolating ${n}`),p="";else typeof p!="string"&&!this.useRawValueToEscape&&(p=rE(p));const O=M.safeValue(p);if(n=n.replace(m[0],O),G?(M.regex.lastIndex+=p.length,M.regex.lastIndex-=m[0].length):M.regex.lastIndex=0,v++,v>=this.maxReplaces)break}}),n}nest(n,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d,m,p;function v(k,Z){const _=this.nestingOptionsSeparator;if(k.indexOf(_)<0)return k;const N=k.split(new RegExp(`${_}[ ]*{`));let G=`{${N[1]}`;k=N[0],G=this.interpolate(G,p);const D=G.match(/'/g),M=G.match(/"/g);(D&&D.length%2===0&&!M||M.length%2!==0)&&(G=G.replace(/'/g,'"'));try{p=JSON.parse(G),Z&&(p={...Z,...p})}catch(L){return this.logger.warn(`failed parsing options string in nesting for key ${k}`,L),`${k}${_}${G}`}return p.defaultValue&&p.defaultValue.indexOf(this.prefix)>-1&&delete p.defaultValue,k}for(;d=this.nestingRegexp.exec(n);){let k=[];p={...s},p=p.replace&&typeof p.replace!="string"?p.replace:p,p.applyPostProcessor=!1,delete p.defaultValue;let Z=!1;if(d[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(d[1])){const _=d[1].split(this.formatSeparator).map(N=>N.trim());d[1]=_.shift(),k=_,Z=!0}if(m=o(v.call(this,d[1].trim(),p),p),m&&d[0]===n&&typeof m!="string")return m;typeof m!="string"&&(m=rE(m)),m||(this.logger.warn(`missed to resolve ${d[1]} for nesting ${n}`),m=""),Z&&(m=k.reduce((_,N)=>this.format(_,N,s.lng,{...s,interpolationkey:d[1].trim()}),m.trim())),n=n.replace(d[0],m),this.regexp.lastIndex=0}return n}}function dee(t){let n=t.toLowerCase().trim();const o={};if(t.indexOf("(")>-1){const s=t.split("(");n=s[0].toLowerCase().trim();const d=s[1].substring(0,s[1].length-1);n==="currency"&&d.indexOf(":")<0?o.currency||(o.currency=d.trim()):n==="relativetime"&&d.indexOf(":")<0?o.range||(o.range=d.trim()):d.split(";").forEach(p=>{if(p){const[v,...k]=p.split(":"),Z=k.join(":").trim().replace(/^'+|'+$/g,""),_=v.trim();o[_]||(o[_]=Z),Z==="false"&&(o[_]=!1),Z==="true"&&(o[_]=!0),isNaN(Z)||(o[_]=parseInt(Z,10))}})}return{formatName:n,formatOptions:o}}function kg(t){const n={};return function(s,d,m){const p=d+JSON.stringify(m);let v=n[p];return v||(v=t(FI(d),m),n[p]=v),v(s)}}class uee{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Es.create("formatter"),this.options=n,this.formats={number:kg((o,s)=>{const d=new Intl.NumberFormat(o,{...s});return m=>d.format(m)}),currency:kg((o,s)=>{const d=new Intl.NumberFormat(o,{...s,style:"currency"});return m=>d.format(m)}),datetime:kg((o,s)=>{const d=new Intl.DateTimeFormat(o,{...s});return m=>d.format(m)}),relativetime:kg((o,s)=>{const d=new Intl.RelativeTimeFormat(o,{...s});return m=>d.format(m,s.range||"day")}),list:kg((o,s)=>{const d=new Intl.ListFormat(o,{...s});return m=>d.format(m)})},this.init(n)}init(n){const s=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||","}add(n,o){this.formats[n.toLowerCase().trim()]=o}addCached(n,o){this.formats[n.toLowerCase().trim()]=kg(o)}format(n,o,s){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return o.split(this.formatSeparator).reduce((v,k)=>{const{formatName:Z,formatOptions:_}=dee(k);if(this.formats[Z]){let N=v;try{const G=d&&d.formatParams&&d.formatParams[d.interpolationkey]||{},D=G.locale||G.lng||d.locale||d.lng||s;N=this.formats[Z](v,D,{..._,...d,...G})}catch(G){this.logger.warn(G)}return N}else this.logger.warn(`there was no format function for ${Z}`);return v},n)}}function hee(t,n){t.pending[n]!==void 0&&(delete t.pending[n],t.pendingCount--)}class mee extends Wf{constructor(n,o,s){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=n,this.store=o,this.services=s,this.languageUtils=s.languageUtils,this.options=d,this.logger=Es.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=d.maxParallelReads||10,this.readingCalls=0,this.maxRetries=d.maxRetries>=0?d.maxRetries:5,this.retryTimeout=d.retryTimeout>=1?d.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,d.backend,d)}queueLoad(n,o,s,d){const m={},p={},v={},k={};return n.forEach(Z=>{let _=!0;o.forEach(N=>{const G=`${Z}|${N}`;!s.reload&&this.store.hasResourceBundle(Z,N)?this.state[G]=2:this.state[G]<0||(this.state[G]===1?p[G]===void 0&&(p[G]=!0):(this.state[G]=1,_=!1,p[G]===void 0&&(p[G]=!0),m[G]===void 0&&(m[G]=!0),k[N]===void 0&&(k[N]=!0)))}),_||(v[Z]=!0)}),(Object.keys(m).length||Object.keys(p).length)&&this.queue.push({pending:p,pendingCount:Object.keys(p).length,loaded:{},errors:[],callback:d}),{toLoad:Object.keys(m),pending:Object.keys(p),toLoadLanguages:Object.keys(v),toLoadNamespaces:Object.keys(k)}}loaded(n,o,s){const d=n.split("|"),m=d[0],p=d[1];o&&this.emit("failedLoading",m,p,o),s&&this.store.addResourceBundle(m,p,s,void 0,void 0,{skipCopy:!0}),this.state[n]=o?-1:2;const v={};this.queue.forEach(k=>{U$(k.loaded,[m],p),hee(k,n),o&&k.errors.push(o),k.pendingCount===0&&!k.done&&(Object.keys(k.loaded).forEach(Z=>{v[Z]||(v[Z]={});const _=k.loaded[Z];_.length&&_.forEach(N=>{v[Z][N]===void 0&&(v[Z][N]=!0)})}),k.done=!0,k.errors.length?k.callback(k.errors):k.callback())}),this.emit("loaded",v),this.queue=this.queue.filter(k=>!k.done)}read(n,o,s){let d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,p=arguments.length>5?arguments[5]:void 0;if(!n.length)return p(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:n,ns:o,fcName:s,tried:d,wait:m,callback:p});return}this.readingCalls++;const v=(Z,_)=>{if(this.readingCalls--,this.waitingReads.length>0){const N=this.waitingReads.shift();this.read(N.lng,N.ns,N.fcName,N.tried,N.wait,N.callback)}if(Z&&_&&d<this.maxRetries){setTimeout(()=>{this.read.call(this,n,o,s,d+1,m*2,p)},m);return}p(Z,_)},k=this.backend[s].bind(this.backend);if(k.length===2){try{const Z=k(n,o);Z&&typeof Z.then=="function"?Z.then(_=>v(null,_)).catch(v):v(null,Z)}catch(Z){v(Z)}return}return k(n,o,v)}prepareLoading(n,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),d&&d();typeof n=="string"&&(n=this.languageUtils.toResolveHierarchy(n)),typeof o=="string"&&(o=[o]);const m=this.queueLoad(n,o,s,d);if(!m.toLoad.length)return m.pending.length||d(),null;m.toLoad.forEach(p=>{this.loadOne(p)})}load(n,o,s){this.prepareLoading(n,o,{},s)}reload(n,o,s){this.prepareLoading(n,o,{reload:!0},s)}loadOne(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=n.split("|"),d=s[0],m=s[1];this.read(d,m,"read",void 0,void 0,(p,v)=>{p&&this.logger.warn(`${o}loading namespace ${m} for language ${d} failed`,p),!p&&v&&this.logger.log(`${o}loaded namespace ${m} for language ${d}`,v),this.loaded(n,p,v)})}saveMissing(n,o,s,d,m){let p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(o)){this.logger.warn(`did not save key "${s}" as the namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend&&this.backend.create){const k={...p,isUpdate:m},Z=this.backend.create.bind(this.backend);if(Z.length<6)try{let _;Z.length===5?_=Z(n,o,s,d,k):_=Z(n,o,s,d),_&&typeof _.then=="function"?_.then(N=>v(null,N)).catch(v):v(null,_)}catch(_){v(_)}else Z(n,o,s,d,v,k)}!n||!n[0]||this.store.addResource(n[0],o,s,d)}}}function uE(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(n){let o={};if(typeof n[1]=="object"&&(o=n[1]),typeof n[1]=="string"&&(o.defaultValue=n[1]),typeof n[2]=="string"&&(o.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const s=n[3]||n[2];Object.keys(s).forEach(d=>{o[d]=s[d]})}return o},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function hE(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function pp(){}function Cee(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(o=>{typeof t[o]=="function"&&(t[o]=t[o].bind(t))})}class Oh extends Wf{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(super(),this.options=hE(n),this.services={},this.logger=Es,this.modules={external:[]},Cee(this),o&&!this.isInitialized&&!n.isClone){if(!this.options.initImmediate)return this.init(n,o),this;setTimeout(()=>{this.init(n,o)},0)}}init(){var n=this;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof o=="function"&&(s=o,o={}),!o.defaultNS&&o.defaultNS!==!1&&o.ns&&(typeof o.ns=="string"?o.defaultNS=o.ns:o.ns.indexOf("translation")<0&&(o.defaultNS=o.ns[0]));const d=uE();this.options={...d,...this.options,...hE(o)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...d.interpolation,...this.options.interpolation}),o.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=o.keySeparator),o.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=o.nsSeparator);function m(_){return _?typeof _=="function"?new _:_:null}if(!this.options.isClone){this.modules.logger?Es.init(m(this.modules.logger),this.options):Es.init(null,this.options);let _;this.modules.formatter?_=this.modules.formatter:typeof Intl<"u"&&(_=uee);const N=new cE(this.options);this.store=new aE(this.options.resources,this.options);const G=this.services;G.logger=Es,G.resourceStore=this.store,G.languageUtils=N,G.pluralResolver=new cee(N,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),_&&(!this.options.interpolation.format||this.options.interpolation.format===d.interpolation.format)&&(G.formatter=m(_),G.formatter.init(G,this.options),this.options.interpolation.format=G.formatter.format.bind(G.formatter)),G.interpolator=new gee(this.options),G.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},G.backendConnector=new mee(m(this.modules.backend),G.resourceStore,G,this.options),G.backendConnector.on("*",function(D){for(var M=arguments.length,L=new Array(M>1?M-1:0),O=1;O<M;O++)L[O-1]=arguments[O];n.emit(D,...L)}),this.modules.languageDetector&&(G.languageDetector=m(this.modules.languageDetector),G.languageDetector.init&&G.languageDetector.init(G,this.options.detection,this.options)),this.modules.i18nFormat&&(G.i18nFormat=m(this.modules.i18nFormat),G.i18nFormat.init&&G.i18nFormat.init(this)),this.translator=new MI(this.services,this.options),this.translator.on("*",function(D){for(var M=arguments.length,L=new Array(M>1?M-1:0),O=1;O<M;O++)L[O-1]=arguments[O];n.emit(D,...L)}),this.modules.external.forEach(D=>{D.init&&D.init(this)})}if(this.format=this.options.interpolation.format,s||(s=pp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const _=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);_.length>0&&_[0]!=="dev"&&(this.options.lng=_[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(_=>{this[_]=function(){return n.store[_](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(_=>{this[_]=function(){return n.store[_](...arguments),n}});const k=Tu(),Z=()=>{const _=(N,G)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),k.resolve(G),s(N,G)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return _(null,this.t.bind(this));this.changeLanguage(this.options.lng,_)};return this.options.resources||!this.options.initImmediate?Z():setTimeout(Z,0),k}loadResources(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pp;const d=typeof n=="string"?n:this.language;if(typeof n=="function"&&(s=n),!this.options.resources||this.options.partialBundledLanguages){if(d&&d.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const m=[],p=v=>{if(!v||v==="cimode")return;this.services.languageUtils.toResolveHierarchy(v).forEach(Z=>{Z!=="cimode"&&m.indexOf(Z)<0&&m.push(Z)})};d?p(d):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(k=>p(k)),this.options.preload&&this.options.preload.forEach(v=>p(v)),this.services.backendConnector.load(m,this.options.ns,v=>{!v&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(v)})}else s(null)}reloadResources(n,o,s){const d=Tu();return n||(n=this.languages),o||(o=this.options.ns),s||(s=pp),this.services.backendConnector.reload(n,o,m=>{d.resolve(),s(m)}),d}use(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&CF.addPostProcessor(n),n.type==="formatter"&&(this.modules.formatter=n),n.type==="3rdParty"&&this.modules.external.push(n),this}setResolvedLanguage(n){if(!(!n||!this.languages)&&!(["cimode","dev"].indexOf(n)>-1))for(let o=0;o<this.languages.length;o++){const s=this.languages[o];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}changeLanguage(n,o){var s=this;this.isLanguageChangingTo=n;const d=Tu();this.emit("languageChanging",n);const m=k=>{this.language=k,this.languages=this.services.languageUtils.toResolveHierarchy(k),this.resolvedLanguage=void 0,this.setResolvedLanguage(k)},p=(k,Z)=>{Z?(m(Z),this.translator.changeLanguage(Z),this.isLanguageChangingTo=void 0,this.emit("languageChanged",Z),this.logger.log("languageChanged",Z)):this.isLanguageChangingTo=void 0,d.resolve(function(){return s.t(...arguments)}),o&&o(k,function(){return s.t(...arguments)})},v=k=>{!n&&!k&&this.services.languageDetector&&(k=[]);const Z=typeof k=="string"?k:this.services.languageUtils.getBestMatchFromCodes(k);Z&&(this.language||m(Z),this.translator.language||this.translator.changeLanguage(Z),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(Z)),this.loadResources(Z,_=>{p(_,Z)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?v(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(v):this.services.languageDetector.detect(v):v(n),d}getFixedT(n,o,s){var d=this;const m=function(p,v){let k;if(typeof v!="object"){for(var Z=arguments.length,_=new Array(Z>2?Z-2:0),N=2;N<Z;N++)_[N-2]=arguments[N];k=d.options.overloadTranslationOptionHandler([p,v].concat(_))}else k={...v};k.lng=k.lng||m.lng,k.lngs=k.lngs||m.lngs,k.ns=k.ns||m.ns,k.keyPrefix=k.keyPrefix||s||m.keyPrefix;const G=d.options.keySeparator||".";let D;return k.keyPrefix&&Array.isArray(p)?D=p.map(M=>`${k.keyPrefix}${G}${M}`):D=k.keyPrefix?`${k.keyPrefix}${G}${p}`:p,d.t(D,k)};return typeof n=="string"?m.lng=n:m.lngs=n,m.ns=o,m.keyPrefix=s,m}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(n){this.options.defaultNS=n}hasLoadedNamespace(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=o.lng||this.resolvedLanguage||this.languages[0],d=this.options?this.options.fallbackLng:!1,m=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const p=(v,k)=>{const Z=this.services.backendConnector.state[`${v}|${k}`];return Z===-1||Z===2};if(o.precheck){const v=o.precheck(this,p);if(v!==void 0)return v}return!!(this.hasResourceBundle(s,n)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||p(s,n)&&(!d||p(m,n)))}loadNamespaces(n,o){const s=Tu();return this.options.ns?(typeof n=="string"&&(n=[n]),n.forEach(d=>{this.options.ns.indexOf(d)<0&&this.options.ns.push(d)}),this.loadResources(d=>{s.resolve(),o&&o(d)}),s):(o&&o(),Promise.resolve())}loadLanguages(n,o){const s=Tu();typeof n=="string"&&(n=[n]);const d=this.options.preload||[],m=n.filter(p=>d.indexOf(p)<0&&this.services.languageUtils.isSupportedCode(p));return m.length?(this.options.preload=d.concat(m),this.loadResources(p=>{s.resolve(),o&&o(p)}),s):(o&&o(),Promise.resolve())}dir(n){if(n||(n=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!n)return"rtl";const o=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services&&this.services.languageUtils||new cE(uE());return o.indexOf(s.getLanguagePartFromCode(n))>-1||n.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return new Oh(n,o)}cloneInstance(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pp;const s=n.forkResourceStore;s&&delete n.forkResourceStore;const d={...this.options,...n,isClone:!0},m=new Oh(d);return(n.debug!==void 0||n.prefix!==void 0)&&(m.logger=m.logger.clone(n)),["store","services","language"].forEach(v=>{m[v]=this[v]}),m.services={...this.services},m.services.utils={hasLoadedNamespace:m.hasLoadedNamespace.bind(m)},s&&(m.store=new aE(this.store.data,d),m.services.resourceStore=m.store),m.translator=new MI(m.services,d),m.translator.on("*",function(v){for(var k=arguments.length,Z=new Array(k>1?k-1:0),_=1;_<k;_++)Z[_-1]=arguments[_];m.emit(v,...Z)}),m.init(d,o),m.translator.options=d,m.translator.backendConnector.services.utils={hasLoadedNamespace:m.hasLoadedNamespace.bind(m)},m}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const bo=Oh.createInstance();bo.createInstance=Oh.createInstance;bo.createInstance;bo.dir;bo.init;bo.loadResources;bo.reloadResources;bo.use;bo.changeLanguage;bo.getFixedT;bo.t;bo.exists;bo.setDefaultNamespace;bo.hasLoadedNamespace;bo.loadNamespaces;bo.loadLanguages;function pee(){if(console&&console.warn){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];typeof n[0]=="string"&&(n[0]=`react-i18next:: ${n[0]}`),console.warn(...n)}}const mE={};function Rv(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];typeof n[0]=="string"&&mE[n[0]]||(typeof n[0]=="string"&&(mE[n[0]]=new Date),pee(...n))}const pF=(t,n)=>()=>{if(t.isInitialized)n();else{const o=()=>{setTimeout(()=>{t.off("initialized",o)},0),n()};t.on("initialized",o)}};function CE(t,n,o){t.loadNamespaces(n,pF(t,o))}function pE(t,n,o,s){typeof o=="string"&&(o=[o]),o.forEach(d=>{t.options.ns.indexOf(d)<0&&t.options.ns.push(d)}),t.loadLanguages(n,pF(t,s))}function Iee(t,n){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=n.languages[0],d=n.options?n.options.fallbackLng:!1,m=n.languages[n.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const p=(v,k)=>{const Z=n.services.backendConnector.state[`${v}|${k}`];return Z===-1||Z===2};return o.bindI18n&&o.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!p(n.isLanguageChangingTo,t)?!1:!!(n.hasResourceBundle(s,t)||!n.services.backendConnector.backend||n.options.resources&&!n.options.partialBundledLanguages||p(s,t)&&(!d||p(m,t)))}function fee(t,n){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!n.languages||!n.languages.length?(Rv("i18n.languages were undefined or empty",n.languages),!0):n.options.ignoreJSONStructure!==void 0?n.hasLoadedNamespace(t,{lng:o.lng,precheck:(d,m)=>{if(o.bindI18n&&o.bindI18n.indexOf("languageChanging")>-1&&d.services.backendConnector.backend&&d.isLanguageChangingTo&&!m(d.isLanguageChangingTo,t))return!1}}):Iee(t,n,o)}const bee=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Aee={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},yee=t=>Aee[t],kee=t=>t.replace(bee,yee);let Vv={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:kee};function vee(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Vv={...Vv,...t}}function wee(){return Vv}let IF;function xee(t){IF=t}function See(){return IF}const Bee={type:"3rdParty",init(t){vee(t.options.react),xee(t)}},Zee=q.createContext();class Gee{constructor(){this.usedNamespaces={}}addUsedNamespaces(n){n.forEach(o=>{this.usedNamespaces[o]||(this.usedNamespaces[o]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Ree=(t,n)=>{const o=q.useRef();return q.useEffect(()=>{o.current=t},[t,n]),o.current};function fF(t,n,o,s){return t.getFixedT(n,o,s)}function Vee(t,n,o,s){return q.useCallback(fF(t,n,o,s),[t,n,o,s])}function on(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:o}=n,{i18n:s,defaultNS:d}=q.useContext(Zee)||{},m=o||s||See();if(m&&!m.reportNamespaces&&(m.reportNamespaces=new Gee),!m){Rv("You will need to pass in an i18next instance by using initReactI18next");const ie=(ue,K)=>typeof K=="string"?K:K&&typeof K=="object"&&typeof K.defaultValue=="string"?K.defaultValue:Array.isArray(ue)?ue[ue.length-1]:ue,ne=[ie,{},!1];return ne.t=ie,ne.i18n={},ne.ready=!1,ne}m.options.react&&m.options.react.wait!==void 0&&Rv("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const p={...wee(),...m.options.react,...n},{useSuspense:v,keyPrefix:k}=p;let Z=d||m.options&&m.options.defaultNS;Z=typeof Z=="string"?[Z]:Z||["translation"],m.reportNamespaces.addUsedNamespaces&&m.reportNamespaces.addUsedNamespaces(Z);const _=(m.isInitialized||m.initializedStoreOnce)&&Z.every(ie=>fee(ie,m,p)),N=Vee(m,n.lng||null,p.nsMode==="fallback"?Z:Z[0],k),G=()=>N,D=()=>fF(m,n.lng||null,p.nsMode==="fallback"?Z:Z[0],k),[M,L]=q.useState(G);let O=Z.join();n.lng&&(O=`${n.lng}${O}`);const P=Ree(O),F=q.useRef(!0);q.useEffect(()=>{const{bindI18n:ie,bindI18nStore:ne}=p;F.current=!0,!_&&!v&&(n.lng?pE(m,n.lng,Z,()=>{F.current&&L(D)}):CE(m,Z,()=>{F.current&&L(D)})),_&&P&&P!==O&&F.current&&L(D);function ue(){F.current&&L(D)}return ie&&m&&m.on(ie,ue),ne&&m&&m.store.on(ne,ue),()=>{F.current=!1,ie&&m&&ie.split(" ").forEach(K=>m.off(K,ue)),ne&&m&&ne.split(" ").forEach(K=>m.store.off(K,ue))}},[m,O]),q.useEffect(()=>{F.current&&_&&L(G)},[m,k,_]);const j=[M,m,_];if(j.t=M,j.i18n=m,j.ready=_,_||!_&&!v)return j;throw new Promise(ie=>{n.lng?pE(m,n.lng,Z,()=>ie()):CE(m,Z,()=>ie())})}const Wee="Trang ch",_ee="V chng ti",Nee="ng k i tc",Eee="My Dashboard",Xee="Sn ca ti",Yee="ng nhp",Dee="ng k",Hee="Thnh ph Th c",Fee="Qun 1",Mee="Qun 3",Tee="Qun 4",Jee="Qun 5",Lee="Qun 6",zee="Qun 7",Kee="Qun 8",Pee="Qun 10",jee="Qun 11",Oee="Qun 12",Uee="Qun Bnh Tn",Qee="Qun Bnh Thnh",qee="Qun G Vp",$ee="Qun Ph Nhun",ete="Qun Tn Bnh",tte="Qun Tn Ph",nte="Huyn Nh B",ite="Huyn Cn Gi",ote="Huyn C Chi",rte="Huyn Hc Mn",ste="Huyn Bnh Chnh",ate="Tm sn ngay",lte="Tm kim sn cu lng ti Thnh ph H Ch Minh",cte="Tm",gte="Chn qun",dte="Danh sch sn",ute="nh gi",hte="Gi thu",mte="a ch",Cte="Gi hot ng",pte="S sn",Ite="Gi thu",fte="Xem chi tit",bte="iu khon ngi dng",Ate="iu khon i tc",yte="Chnh sch bo mt",kte="Bn quyn thuc s hu ca Court Star 2024",vte="Cha c ti khon",wte="ng k",xte="Qun mt khu",Ste="ng nhp bng Google",Bte="ng k Ngi dng",Zte="Nhp Tn",Gte="Nhp H",Rte="Nhp Email",Vte="Nhp S in thoi",Wte="Nhp Mt khu",_te="Tn",Nte="H",Ete="S in Thoi",Xte="Mt Khu",Yte="S dng 8 k t tr ln kt hp ch ci, s v k hiu",Dte="ng  vi",Hte="iu khon s dng",Fte="v",Mte="ng k vi ti khon Google",Tte=" c ti khon",Jte="Thng tin C nhn",Lte="Cp Nht",zte="Hu b",Kte="Qun Mt Khu",Pte="Nhp email ca bn v chng ti s gi m xc nhn n email!",jte="Gi m",Ote="Kim tra Email",Ute="Chng ti  gi m xc nhn n ",Qte="Nhp mt m gm 6 ch s  c gi n",qte="Nhp mt khu mi",$te="Mt khu mi",ene="Xc nhn li mt khu",tne="Xc nhn li mt khu mi",nne="Cha nhn c email?",ine="Gi li",one="Xc nhn",rne="S d ca ti",sne="Nhn vin",ane="Thng tin Sn",lne="Nhp tn sn",cne="Tn sn",gne="Nhp a ch sn",dne="a Ch sn",une="Nhp s sn",hne="Nhp gi mi gi",mne="Gi mi gi",Cne="Gi m ca",pne="Chn gi m ca",Ine="Gi ng ca",fne="Chn gi ng ca",bne="Phng thc thanh ton",Ane="Nhp phng thc thanh ton",yne="ang m ca",kne="M ca",vne=" ng ca",wne="ng ca",xne="Thng tin",Sne="Sa",Bne="Trng thi",Zne="nh gi",Gne="nh gi",Rne="Thng tin nhn vin",Vne="Thm Nhn vin",Wne="H Tn",_ne="Nhp Tn khch hng",Nne="Nhp Email khch hng",Ene="Nhp S in thoi khch hng",Xne="Chn khung gi",Yne="Khung gi",Dne="Nhp email ca nhn vin",Hne="Nhp s in thoi ca nhn vin",Fne="Nhp mt khu ca nhn vin",Mne="Thng bo mi",Tne="C yu cu ng sn mi t i tc",Jne="Sn ca bn  b t chi",Lne="Cho mng n vi Court Star!",zne="C n hng mi",Kne="To mi",Pne="Hy b",jne="Nhp a ch",One="- Cng ty c thnh lp nm 2024 vi tn CourtStar. CourtStar ni ln l trang t ch sn cu lng hng u Vit Nam.",Une="- CourtStar t ho c mt i ng nng ng, tr trung v nhit huyt.",Qne="- CourtStar hin c nhiu sn cu lng vi c s vt cht tt.",qne="- Vi i ng nhn vin nhit tnh v nng ng. Chnh sch ph duyt sn nghim ngt. Chng ti chc chn s mang n cho bn tri nghim tuyt vi khi t sn cu lng trn trang web ca chng ti.",$ne="Tm nhn",eie="CourStar mong mun tr thnh trung tm hng u trong lnh vc sn cu lng ti Vit Nam.",tie="S mnh",nie="Courtstar cam kt cung cp cc sn cu lng cht lng tt nht  p ng am m ca khch hng.  t c iu , chng ti phi khng ngng ci tin quy trnh x l, nh gi cht lng sn. Trong tng lai gn, Courtstar s l trung tm ca cc sn cu lng cht lng hng u ti Vit Nam.",iie=["Sn cu lng chnh hng vi gi tt nht.","Tri nghim chi cu lng vt tri.","Chnh sch thay i, hy sn minh bch.","Lun lng nghe khch hng  h tr kp thi v nng cao cht lng dch v.","Cung cp a dng cc sn cu lng vi nhiu mc gi v cht lng khc nhau  khch hng la chn.","Khch hng c th d dng so snh cc sn trc khi t.","Nhn vin h tr khch hng 24/7, sn sng gii p mi thc mc ca khch hng.","Chnh sch thay i, hy sn minh bch."],oie=["Chnh sch hp tc minh bch.","Thu ht khch hng tim nng.","Chnh sch qung co a dng.","Nng cao uy tn ca sn cu lng."],rie="Xem nhanh",sie="D LIU C NHN CHNG TI THU THP",aie="CUNG CP D LIU C NHN CA BN TH BA BI BN",lie="MC CH X L D LIU",cie="Chia s d liu c nhn",gie="CHUYN D LIU QUC T",die="THI GIAN LU TR V X L D LIU",uie="QUYN V NGHA V CA KHCH HNG",hie="BO V D LIU",mie="COOKIES",Cie="CP NHT CHNH SCH BO V D LIU",pie="Cm n bn  gh thm trang web. Chng ti tn trng v cam kt bo v quyn ring t ca bn. Vui lng c chnh sch bo mt di y  hiu r hn v cc cam kt ca chng ti i vi vic tn trng v bo v quyn li ca khch hng.",Iie="Tng quan",fie='L Ngi kim sot d liu v/hoc Ngi x l d liu c nhn (theo nh ngha trong Ngh nh s 13/2023/N-CP ban hnh ngy 17 thng 4 nm 2023, c hiu lc t ngy 1 thng 7 nm 2023 - gi tt l "Ngh nh 13"), Chnh sch Bo v D liu ny ("Chnh sch") s trnh by cch CourtStar x l d liu bn cung cp hoc c thu thp bi CourtStar.',bie='"X l d liu" c ngha l mt hoc nhiu hot ng nh hng n D liu c nhn, chng hn nh: thu thp, ghi li, phn tch, xc minh, lu tr, chnh sa, tit l, kt hp, truy cp, truy xut, khi phc, m ha, gii m, sao chp, chia s, truyn ti, cung cp, chuyn giao, xa, tiu hy D liu c nhn hoc cc hnh ng lin quan khc.',Aie='"D liu c nhn" l thng tin di dng k hiu, ch vit, s, hnh nh, m thanh hoc tng t trn mi trng in t lin quan n mt c nhn c th hoc gip nhn dng mt c nhn c th. D liu c nhn bao gm d liu c nhn c bn v d liu c nhn nhy cm.',yie="CourtStar thu thp nhiu loi thng tin lin quan n cc dch v, bao gm:",kie="D liu c nhn",vie="CourtStar thu thp d liu v cch bn s dng cc dch v v sn phm ca chng ti, chng hn nh loi dch v bn xem hoc quan tm, hoc tn sut bn s dng dch v. Chng ti cng thu thp d liu c nhn m bn cung cp cho chng ti khi bn ng k nhn bn tin tip th, hon thnh kho st hoc ng k ti khon  mua sn phm/dch v ca chng ti. Khi thc hin iu ny, chng ti c th yu cu thng tin c nhn nh tn, gii tnh, ngy sinh, a ch, a ch email, s in thoi hoc chi tit th tn dng ca bn. Xin lu  rng thng tin th tn dng l d liu c nhn nhy cm theo quy nh ca Ngh nh 13.",wie="D liu c nhn c CourtStar t ng thu thp",xie="Cc loi d liu c nhn m chng ti c th thu thp bao gm, nhng khng gii hn , cc thng tin sau:",Sie="Thng tin lin lc",Bie="V d: a ch email, s in thoi.",Zie="Thng tin ti chnh",Gie="V d: s ti khon ngn hng/th ghi n/th tn dng, tn ch ti khon, loi th hoc ti khon thanh ton c s dng... Xin lu  rng thng tin ny l d liu c nhn nhy cm theo quy nh ca Ngh nh 13.",Rie="Thng tin giao dch",Vie="V d: lch s mua hng ca sn phm/dch v.",Wie="Thng tin hnh vi",_ie="V d: cc hot ng, s thch v thi quen ca bn khi truy cp cc dch v.",Nie="Thng tin h s",Eie="V d: tui, gii tnh, s thch v s thch c nhn.",Xie="Thng tin tip th v lin lc",Yie="V d: s thch v vic nhn thng tin tip th t CourtStar v s thch lin lc.",Die="Chng ti cng c th thu thp thng tin v bn t cc bn th ba m bn  ng  hoc nu cn thit  cung cp dch v cho bn. D liu ny bao gm, nhng khng gii hn :",Hie="D liu c nhn bn  cung cp cho cc i tc dch v ca chng ti.",Fie="D liu c nhn c sn trn mng x hi.",Mie="D liu c nhn do cc bn th ba cung cp.",Tie="D liu c nhn t cc ngun khc.",Jie="D liu c nhn thu thp bng cch s dng cookie ca bn th ba.",Lie="Trong phm vi cho php ca bn v/hoc trong phm vi php lut yu cu hoc cho php, CourtStar c th s dng D Liu C Nhn ca bn cho ng thi mt hoc nhiu mc ch sau y:",zie=" ng k v xc thc",Kie="Chng ti c th X L D Liu ca bn  thc hin cho mc ch ng k, xc minh hoc xc thc danh tnh ca bn khi chng ti cung cp sn phm/dch v n bn v/hoc phc v cho cc mc ch khc theo qui nh php lut v theo Chnh Sch ny.",Pie="Qun l mi quan h",jie="Chng ti c th X L D Liu ca bn  phc v cho mc ch lin h, lin lc, qun l tp khch hng, x l cc truy vn thng tin, yu cu, phn hi, khiu ni theo yu cu ca bn lin quan n cc sn phm m chng ti cung cp cho bn.",Oie="Phn tch d liu",Uie="Chng ti c th X L D Liu ca bn  thc hin cho mc ch gii thiu cc sn phm m bn c th quan tm, xc nh s thch ca bn v c nhn ha tri nghim ca bn;  tm hiu thm v bn, cc sn phm bn nhn c cng nh cc sn phm khc m bn c th mun nhn;  o lng mc  tng tc ca bn, thc hin phn tch d liu, lp h s d liu, nghin cu th trng, kho st, nh gi hnh vi, thng k v phn khc, xu hng v m hnh tiu dng ",Qie="Ci thin sn phm/dch v",qie="Chng ti c th X L D Liu ca bn  phc v cho mc ch khc phc v chn on s c, li, h hng, khuyt im ca sn phm cng nh cung cp cc dch v chm sc v h tr khch hng;  nh gi, ci thin v pht trin cc sn phm da trn mc  hi lng v hnh vi tiu dng ca bn;  o lng mc  hiu qu cc chin dch tip th, truyn thng cng nh m hnh kinh doanh.",$ie=" p ng cc chc nng trn trang trc tuyn",eoe="Chng ti c th X L D Liu ca bn  thc hin cho mc ch qun l, vn hnh, theo di, gim st v qun l cc website v nn tng trc tuyn, m bo rng website hot ng ng cch, hiu qu v an ton;  to iu kin thun li cho tri nghim ca bn trn cc website",toe=" Qun l cng ngh thng tin",noe="CourtStar c th X L D Liu ca bn  thc hin cho mc ch qun l vn hnh, ci tin, pht trin h thng cng ngh thng tin c th bao gm nh m bo an ninh thng tin v bo v d liu, m bo tnh kh dng, ton vn v bo mt ca h thng, m bo hiu sut ca h thng p ng nhu cu ca ngi s dng",ioe="Bo v li ch chung",ooe="CourtStar c th X L D Liu ca bn  thc hin cho mc ch bo v tnh bo mt, tnh ton vn, an ton ca d liu, hot ng kinh doanh ca chng ti;  thc hin cc quyn ca chng ti hoc bo v li ch hp php ca chng ti khi cn thit. V d nh  gii quyt cc khiu ni, khiu kin, pht hin, ngn chn v hnh vi vi phm php lut;  m bo tun th cc iu khon v iu kin ca chng ti theo Hp ng v hoc bt k vn bn no i vi bn th ba bt k;",roe="Tun th cc qui nh php lut",soe="CourtStar c th X L D Liu ca bn  thc hin cho mc ch tun th cc qui nh php lut v yu cu t c quan nh nc c thm quyn ti Vit Nam cng nh ca nc ngoi  ni chng ti ang hot ng kinh doanh hp php.",aoe="CHIA S D LIU C NHN",loe="Chng ti c th tit l hoc chuyn D Liu C Nhn ca bn cho cc bn th ba sau y ph hp vi cc Mc ch trong Chnh Sch ny. Cc bn th ba c  cp di y c th ti lnh th Vit Nam hoc ti cc khu vc ngoi lnh th Vit Nam.",coe="Cc trang mng (Website), nn tng mng x hi",goe="Chng ti c th ty chn cung cp cho bn tnh nng ng nhp trn website CourtStar m khng cn nhp thng tin vo biu mu.",doe="Bn th ba theo yu cu ca c quan nh nc c thm quyn v/hoc theo qui nh ca php lut",uoe="Chng ti cam kt bo v D Liu C Nhn ca bn v ch tit l hoc chia s khi c yu cu ca c quan nh nc c thm quyn v/hoc theo qui nh ca php lut. Trong trng hp nh vy, chng ti s hp tc vi cc c quan nh nc c thm quyn hoc bn th ba khc  tun th lut php, bo v quyn li ca chng ti v ca chnh bn, nhm ngn chn gian ln, bo mt hoc cc vn  an ton thng tin.",hoe="CHUYN D LIU RA NC NGOI",moe="D Liu C Nhn ca bn c th c chng ti chuyn t Vit Nam (Quc Gia S Ti) n mt v tr, thnh ph, quc gia khc ngoi phm vi lnh th Vit Nam (Quc Gia Thay Th). Khi chng ti chuyn D Liu C Nhn ca bn t Quc Gia S Ti n Quc Gia Thay Th, chng ti s tun th cc ngha v php l v quy nh lin quan n D Liu C Nhn ca bn, bao gm c c s hp php  chuyn D Liu C Nhn v p dng cc bin php bo v ph hp  m bo y  mc  bo v D Liu C Nhn.",Coe="C s hp php  chng ti thc hin chuyn D Liu C Nhn quy nh ti iu ny s l s ng  bn i vi Chnh Sch v nhng bin php bo v theo qui nh php lut.",poe="THI GIAN LU TR V X L D LIU",Ioe="Chng ti ch lu tr v x l D Liu C Nhn ca bn trong khong thi gian m chng ti cn n thng tin   phc v cho cc Mc ch ti Chnh Sch i vi bn hoc  tun th cc ngha v php l ca chng ti. D Liu C Nhn ca bn c bt u x l t thi im chng ti tip cn c D Liu C Nhn ca bn.",foe="Chng ti s ngng vic lu tr D Liu C Nhn ca bn bng cch hy b D Liu C Nhn  mt cch an ton ph hp vi qui nh php lut v Chnh Sch ngay khi (i) c l do hp l  cho rng vic lu tr  khng cn phc v cho cc Mc ch m D Liu C Nhn c thu thp v khng cn cn thit cho bt k Mc ch php l hoc kinh doanh no v/hoc (ii) thi hn lu tr thng tin chm dt theo quy nh php lut v/hoc (iii) c yu cu t bn v vic hy b D Liu C Nhn, phn i, hn ch X L D Liu hoc rt li s ng  v vic cho php X L D Liu ca bn.",boe="Khng mu thun vi qui nh trn, chng ti c th gi li mt s D Liu C Nhn ca bn  thc hin cc quyn ca mnh hoc tun th qui nh ti Chnh Sch hoc tun th cc qui nh php lut.",Aoe="QUYN V NGHA V CA KHCH HNG",yoe="Quyn c bit",koe="Bn c quyn c bit r rng, minh bch, y  v cch thc chng ti X L D Liu ca bn v bao gm thng tin bn c cc quyn v ngha v g i vi D Liu C Nhn khi c chng ti X L D Liu, tr trng hp php lut c quy nh khc.",voe="Quyn ng  v rt li s ng ",woe="Bn c quyn ng  cho php chng ti X L D Liu ca mnh theo Chnh Sch ny (c th l chng ti da vo s ng   lm c s php l cho vic X L D Liu).",xoe="Bn c quyn rt li s ng  ca mnh, tr trng hp php lut c quy nh khc, vo bt k thi im no bng vic thng bo cho chng ti bit v vic ny (mc d nu bn rt li s ng  ca mnh, vic  khng c ngha l X L D Liu i vi D Liu C Nhn ca bn khi  c s ng  ca bn tnh n thi im  l bt hp php).",Soe=" Quyn truy cp v sa i",Boe="Bn c quyn truy cp  xem, chnh sa hoc yu cu chng ti chnh sa bt k D Liu C Nhn no v bn m chng ti ang x l , tr trng hp php lut c quy nh khc.",Zoe="Chng ti khng chu trch nhim i vi cc vn  pht sinh trong trng hp D Liu C Nhn do bn cung cp (i) gi mo/khng chnh xc (mt phn hoc ton b thng tin) hoc (ii) gy hiu nhm hoc (iii) khng y / khng hon chnh/ khng lin quan hoc (iv) khng cp nht cho chng ti v bt k thay i no i vi D Liu C Nhn ca bn nh thng tin m bn  cung cp cho chng ti v/hoc cc trng hp khc theo qui nh php lut.",Goe="Quyn xa d liu",Roe="Bn c quyn yu cu chng ti xa mt phn hoc ton b D Liu C Nhn ca mnh, tr trng hp php lut c quy nh khc. Xin lu  rng y khng phi l mt yu cu tuyt i trong mi trng hp, v chng ti c th c cc cn c php l  gi li thng tin c nhn ca bn phc v cho Mc ch tun th cc qui nh ca php lut v/hoc yu cu t c quan nh nc c thm quyn.",Voe=" Quyn hn ch X L D Liu",Woe="Bn c quyn yu cu gii hn vic chng ti X L D Liu i vi D Liu C Nhn ca bn, tr trng hp php lut c quy nh khc. Quyn ny c ngha l phm vi chng ti X L D Liu i vi D Liu C Nhn ca bn s b hn ch, do , chng ti c th lu tr thng tin nhng khng c s dng tip thng tin hoc x l tip thng tin.",_oe=" Quyn c cung cp d liu",Noe="Bn c th yu cu chng ti cung cp mt bn sao D Liu C Nhn v bn m chng ti ang c.",Eoe=" Quyn phn i X L D Liu",Xoe="Bn c quyn phn i X L D Liu ca mnh nhm ngn chn hoc hn ch tit l D Liu C Nhn hoc s dng cho Mc ch qung co, tip th, tr trng hp php lut c quy nh khc.",Yoe="Quyn khiu ni",Doe="Khch hng c quyn gi khiu ni v vic l thng tin c nhn cho bn th ba n Ban qun tr ca website theo thng tin lin h  mc s 12. Khi tip nhn nhng phn hi ny,CourtStar s xc nhn li thng tin v phi c trch nhim tr li l do v hng dn khch hng kim tra v bo mt li thng tin.",Hoe="Quyn yu cu bi thng thit hi",Foe="Bn c quyn yu cu bi thng thit hi theo quy nh ca php lut khi c cn c cho rng chng ti vi phm quy nh bo v D Liu C Nhn ca mnh, tr trng hp cc bn c tha thun khc hoc lut c quy nh khc.",Moe="Quyn t bo v",Toe="Bn c quyn t bo v theo quy nh ca B lut Dn s v php lut hin hnh, hoc yu cu c quan, t chc c thm quyn thc hin cc phng thc bo v quyn dn s ca bn theo quy nh ca B lut Dn s.",Joe="Chng ti lun c gng x l cc yu cu ca bn mt cch nhanh chng, cng bng v minh bch. Tuy nhin, chng ti c quyn t chi cc yu cu khng c cn c, trng lp hoc vi phm quyn v li ch hp php ca chng ti hoc ca bn th ba bt k hoc nm ngoi thm quyn/phm vi x l d liu ca chng ti. Chng ti s thng bo cho bn v l do t chi v cch khc phc nu c th..",Loe="Bn c th thc hin cc quyn ny bng cch gi e-mail (th in t) cho chng ti ti phn Lin H Vi Chng Ti v nh km h s c lin quan (khi chng ti yu cu v/hoc qui nh php lut cho php). Nu yu cu c a ra bi mt ngi khc khng phi bn nhng ngi ny khng cung cp c bng chng chng minh yu cu  c thc hin thay mt bn mt cch hp php v c s ng  hp l ca bn, th yu cu  s b t chi.",zoe="V quyn ring t v bo mt thng tin ca ring bn, chng ti c th yu cu bn xc minh danh tnh trc khi p ng yu thc hin cc quyn nu ti iu 7 ca Chnh Sch ny t bn.",Koe="Ngha v ca khch hng",Poe="Cung cp y , chnh xc D Liu C Nhn khi bn ng  cho chng ti X L D Liu.",joe="Tn trng, bo v D Liu C Nhn ca ngi khc.",Ooe="Tun th cc yu cu v ngha v php l khc i vi ch th d liu theo quy nh ca php lut.",Uoe="Lu  v hu qu, thit hi khng mong mun c kh nng xy ra",Qoe="Nu bn thc hin mt hoc ng thi cc quyn ca mnh th chng ti (i) c kh nng khng th thc hin cc hnh ng cn thit  t c Mc ch x l c m t ti Chnh Sch i vi bn; v/hoc (ii) khng th thc hin, k kt c hp ng m chng ti  hoc ang c gng k kt vi bn; v/hoc (iii) khng th cung cp cho bn cc sn phm/dch v ca chng ti.",qoe="Vic bn thc hin cc quyn ca mnh v cc h qu khng mong mun ny s c xem l s chm dt t pha bn cho bt k mi quan h no m bn c vi chng ti, v/hoc vi phm ngha v, cc cam kt theo hp ng.  lm r, chng ti bo lu mt cch r rng cc quyn v bin php khc phc hp php ca mnh trong nhng trng hp  v ng thi s khng chu trch nhim i vi bn cho bt k tn tht, thit hi, khiu ni, khiu kin no pht sinh t vic bn thc hin quyn ca mnh nh nu trn.",$oe=" BO V D LIU",ere="Chng ti  v ang p dng nhiu bin php v mt k thut v t chc  bo v v bo mt D Liu C Nhn ca bn, chng hn nh:",tre="Thng tin c nhn ca thnh vin trn CourtStar c CourtStar cam kt bo mt tuyt i theo chnh sch bo v thng tin c nhn ca CourtStar. Vic thu thp v s dng thng tin ca mi thnh vin ch c thc hin khi c s ng  ca Qu khch hng  tr nhng trng hp php lut c quy nh khc;",nre="Thc hin cc chnh sch, quy tc v bo mt thng tin cng cc bin php k thut nhm bo v D Liu C Nhn v tun th cc yu cu theo qui nh php lut.",ire="Kim tra an ninh mng i vi h thng v phng tin, thit b phc v x l D Liu C Nhn trc khi x l, xa khng th khi phc c hoc hy cc thit b cha D Liu C Nhn.",ore="Chng ti cng yu cu cc nh cung cp dch v ca chng ti, hoc cc bn th ba khc m chng ti hp tc v c chng ti tit l d liu c nhn ca qu khch hng phi thc hin cc tiu chun v bin php tng t v bo mt, quyn ring t v an ninh d liu khi h X L D Liu ca bn.",rre="Trong trng hp my ch lu tr thng tin b hacker tn cng dn n mt mt d liu c nhn khch hng, CourtStar s c trch nhim thng bo v vic cho c quan chc nng iu tra x l kp thi v thng bo cho khch hng c bit.",sre="COOKIES",are="Cookie l mt file vn bn c t trn a cng ca qu khch bi mt my ch ca trang web. Cookie khng c dng  chy chng trnh hay a virus vo my tnh ca qu khch. Cookie c ch nh vo my tnh ca qu khch v ch c th c c bi mt my ch trang web trn min c a ra cookie cho qu khch.",lre="Chng ti dng (cookie)  gip c nhn ha v nng cao ti a hiu qu s dng thi gian trc tuyn ca qu khch khi truy cp trang web CourtStar m khng cn ng k li thng tin sn c.",cre="Qu khch c th chp nhn hoc t chi dng cookie. Hu ht nhng browser t ng chp nhn cookie, nhng qu khch c th thay i nhng ci t  t chi tt c nhng cookie nu qu khch thch. Tuy nhin, nu qu khch chn t chi cookie, iu  c th gy cn tr v nh hng khng tt n mt s dch v v tnh nng ph thuc vo cookie ti trang web/app.",gre="CP NHT CHNH SCH BO V D LIU",dre="Chng ti c th xem xt, sa i hoc cp nht t ng Chnh Sch ny trn cc website CourtStar ca chng ti theo quyt nh ring ca mnh vo tng thi im,  m bo rng vic cp nht ph hp vi hot ng kinh doanh ca chng ti cng nh tun th nhng thay i ca qui nh php lut. Nu cc thay i  c tnh cht ng k, chng ti s cung cp mt thng bo d nhn thy hn (bng mt thng bo chung c cng b trn website CourtStar hoc n a ch th in t (email) do bn cung cp).",ure="Bn ng  rng bn c trch nhim xem li Chnh Sch ny thng xuyn  bit thng tin mi nht v vic chng ti X L D Liu ca bn v do , vic bn tip tc s dng website CourtStar hoc s dng cc sn/phm dch v do chng ti cung cp sau bt k sa i no i vi Chnh Sch ny s cu thnh s ng  ca bn i vi Chnh Sch ny v tt c cc sa i (nu c) v vic X L D Liu ca bn theo Chnh Sch ny v tt c cc sa i (nu c).",hre="S NG ",mre="Vui lng c k chnh sch ny v m bo rng bn  c, hiu ton b ni dung ca Chnh Sch v ng , cho php chng ti X L D Liu ca Bn theo quy nh ti Chnh Sch ny.",Cre="Nu Bn khng ng  bt k ni dung no trong Chnh Sch, vui lng khng tip tc truy cp website hoc cung cp/gi D Liu C Nhn cho Chng Ti. Bn c quyn gi cc phn hi, khiu ni, thc mc ca mnh ti phn LIN H VI CHNG TI  c gii p.",pre="Tt c sn",Ire="Np tin",fre="Rt tin",bre="Ha n",Are="Thu nhp hm nay",yre="Lt t hm nay",kre="Doanh thu d kin",vre="S tin",wre="Nhp s tin",xre="ang ch",Sre="Dashboard",Bre="Tt c ngi dng",Zre="Qun l",Gre="Khch hng",Rre="Yu cu rt tin",Vre="Yu cu ng sn",Wre="im ni bt",_re="Hy t sn",Nre=" hy",Ere="T chi",Xre="t sn",Yre="t sn ngay",Dre="Lch t sn",Hre="n",Fre="Sn",Mre="Th Hai",Tre="Th Ba",Jre="Th T",Lre="Th Nm",zre="Th Su",Kre="Th By",Pre="Ch Nht",jre="M t",Ore="t li",Ure="iu khon i tc",Qre="iu khon c bn",qre=["Tt c cc i tc mun hp tc vi chng ti u phi c giy php kinh doanh r rng, minh bch.","Sn phi c a ch r rng v cht lng tt.","i tc phi chp nhn tt c cc iu khon ca chng ti."],$re="iu kin chung",ese="Chnh sch ng sn",tse=["Chng ti yu cu bn cung cp y  cc thng tin v sn nh tn trung tm, a ch trung tm, qun, qun, gi mi gi, s lng sn, thi gian m v ng, hnh nh tht ca sn, m t sn.","Khi bn  ng thnh cng Trung tm ca mnh, h thng ca chng ti s kim tra v xc thc n. Sau khi xc thc thnh cng, Trung tm ca bn s c hin th trn trang web ca chng ti."],nse="Chnh sch hoa hng",ise=["Chnh sch ca chng ti da trn gi th trng hin ti, chng ti s c hng 5% cho mi ln t sn m khch hng thc hin.","Gi chng ti a ra l hp l nht trn th trng, chng ti s khng chp nhn bt k trng hp no mun thng lng v gi c."],ose="Chnh sch rt tin",rse=["i vi tin ca Ngi qun l sn trn web ca chng ti, bn c th yu cu rt tin bt c lc no. Chng ti yu cu bn nhp chnh xc Tn ngn hng, M s ngn hng, S tin, Tn ch th.","Chnh sch rt tin ca chng ti s xut hin trong vng 2 n 3 ngy. Chng ti hy vng rng Ngi qun l sn s i cho n khi tin vo ti khon ca h sau khi a ra yu cu. Nu sau 2 n 3 ngy khng nhn c, vui lng lin h email Courtstar.se@gmail.com  chng ti c th h tr kp thi."],sse="Nhng hot ng b cm",ase=["Qun l sn khng c ng thng tin sai lch v sn m bn mun hp tc trn trang web ca chng ti.","Khng c c hnh vi la o tin bc i vi khch hng ca chng ti.","Khng thu thp thng tin v sn trn h thng ca chng ti khi cha c s ng  ca CourtStar."],lse="Bn Quyn",cse="Ni dung trn ng dng ny, bao gm hnh nh, vn bn v video c bo v theo bn quyn v nhn hiu, v vy vic s dng bt k ni dung no trong s  m khng c s ng  s l bt hp php. Ngoi tr ni dung do ngi dng ti ln, tt c ti liu c sn u l ti sn ca ng dng ny. iu khon ca ng dng ny khng cp cho ai quyn s dng tn ca ng dng hoc bt k thng tin no khc nh tn min, nhn hiu, mu v cc tnh nng phn bit khc. Chng ti c quyn s dng nhn xt, phn hi v  xut ca bn v ng dng ny.",gse="Chnh sch v iu kin cho Khch Hng",dse="Bn s chu trch nhim v mi hot ng din ra trong h s ngi dng ca mnh.",use=["Bn chu trch nhim v mi hot ng xy ra trong ti khon ngi dng ca mnh.","Bn khng c spam cc tnh nng trn trang web ca chng ti.","Bn khng c n cp  tng hoc nhn hiu ca chng ti.","Bn phi tun th cc iu khon t phng ca chng ti."],hse=["Chng ti c quyn chm dt dch v ca mnh v bt k l do g m khng cn thng bo bt c lc no.","Vic bn tip tc s dng ng dng ny s ng ngha vi vic bn chp nhn nhng thay i hoc sa i , nhng g cu thnh nn thay i quan trng s c xc nh theo quyt nh ring ca chng ti, mt cch thin ch v s dng l thng cng nh phn on hp l.","Chng ti c quyn t chi cung cp dch v cho bt k ai v bt k phn quyt hp l no.","Khi bn s dng dch v ca bt k sn no m bn  t, bn phi tun th cc quy nh ca sn  cng nh trn trang web ca chng ti.","Gi sn m chng ti trng by  c chng ti kim chng so vi cht lng ca sn  nn bn c th yn tm rng mnh s c tri nghim dch v vi mc gi ph hp."],mse="Bn khng c truy cp hoc s dng ng dng cho bt k mc ch no khc ngoi mc ch m chng ti cung cp ng dng. Khng c s dng ng dng ny lin quan n bt k n lc thng mi no ngoi tr nhng n lc c chng ti xc nhn hoc ph duyt c th. Vi t cch l ngi dng ng dng, bn ng  khng: Bn khng c truy cp hoc s dng ng dng cho bt k mc ch no khc ngoi mc ch m chng ti cung cp ng dng. Khng c s dng ng dng ny lin quan n bt k n lc thng mi no ngoi tr nhng n lc c chng ti xc nhn hoc ph duyt c th. Vi t cch l ngi dng ng dng, bn ng  khng:",Cse=["Truy xut mt cch c h thng d liu hoc ni dung khc t ng dng  to hoc bin dch, trc tip hoc gin tip, mt b su tp, bin son, c s d liu hoc th mc m khng c s cho php bng vn bn ca chng ti.","Ph v, v hiu ha hoc can thip vo cc tnh nng lin quan n bo mt ca ng dng, bao gm cc tnh nng ngn chn hoc hn ch vic s dng hoc sao chp bt k Ni dung no hoc thc thi cc hn ch i vi vic s dng ng dng v/hoc Ni dung c trong .","La o, la o hoc nh la chng ti v nhng ngi dng khc, c bit l trong mi n lc tm hiu thng tin ti khon nhy cm nh mt khu ngi dng.","S dng khng ng cch cc dch v h tr ca chng ti hoc gi bo co sai v hnh vi lm dng hoc hnh vi sai tri.","Can thip, lm gin on hoc to gnh nng qu mc cho ng dng hoc mng hoc dch v c kt ni vi ng dng.","C gng mo danh ngi dng hoc ngi khc hoc s dng tn ngi dng ca ngi dng khc.","S dng bt k thng tin no c c t ng dng  quy ri, lm dng hoc lm hi ngi khc.","Gii m, dch ngc, tho ri hoc thit k i chiu bt k phn mm no bao gm hoc to thnh mt phn ca ng dng theo bt k cch no.","Quy ri, lm phin, e da hoc e da bt k nhn vin hoc i l no ca chng ti tham gia cung cp bt k phn no ca Sn phm trn th trng cho bn.","Sao chp hoc iu chnh phn mm ng dng, bao gm nhng khng gii hn  Flash, PHP, HTML, JavaScript hoc m khc."],pse="Chnh sch hon tin",Ise=["Khi  t lch v thanh ton thnh cng, bn khng c php hy phin ta v bt k l do g. Nu bn hy, bn s khng c hon li s tin  thanh ton.","Trong trng hp ta n  t ca bn b Qun l ta n hy v l do lin quan n vic sa cha ta n hoc t i tc, bn s c hon li 100% s tin bn  ng."],fse="Tn sut",bse="t hng tun",Ase="p dng",yse="*Hy nhp email ca bn!",kse="*Hy nhp mt khu!",vse="Email hoc mt khu  sai!",wse="*Hy nhp tn ca bn!",xse="*Hy nhp h ca bn!",Sse="*Hy nhp s in thoi ca bn!",Bse={home:Wee,aboutUs:_ee,partnerRegister:Nee,myDashboard:Eee,myCentre:Xee,logIn:Yee,signUp:Dee,thuDucCity:Hee,district1:Fee,district3:Mee,district4:Tee,district5:Jee,district6:Lee,district7:zee,district8:Kee,district10:Pee,district11:jee,district12:Oee,binhTanDistrict:Uee,binhThanhDistrict:Qee,goVapDistrict:qee,phuNhuanDistrict:$ee,tanBinhDistrict:ete,tanPhuDistrict:tte,nhaBeProvince:nte,canGioProvince:ite,cuChiProvince:ote,hocMonProvince:rte,binhChanhProvince:ste,findCourtNow:ate,searchForBadmintonCourtsInHoChiMinhCity:lte,find:cte,selectTheDistrict:gte,listOfCentres:dte,rating:ute,priceRange:hte,address:mte,openTime:Cte,numberOfCourts:pte,price:Ite,viewDetail:fte,termForCustomer:bte,termForPartner:Ate,privacyPolicy:yte,allRightsReserved2024CourtStar:kte,dontHaveAccount:vte,signUpForFree:wte,forgetPassword:xte,continueWithGoogle:Ste,customerRegister:Bte,enterFirstName:Zte,enterLastName:Gte,enterEmail:Rte,enterPhone:Vte,enterPassword:Wte,firstName:_te,lastName:Nte,phone:Ete,password:Xte,conditionPassword:Yte,agreeToOur:Dte,termOfUse:Hte,and:Fte,signUpWithGoogleAccount:Mte,alreadyHaveAnAccount:Tte,yourProfile:Jte,update:Lte,cancel:zte,forgotPassword:Kte,forgotPasswordNote:Pte,sendCode:jte,checkYourEmail:Ote,weSent:Ute,enterDigit:Qte,enterNewPassword:qte,newPassword:$te,enterConfirmNewPassword:ene,confirmNewPassword:tne,gotEmailYet:nne,resend:ine,confirm:one,myBalance:rne,manageStaff:sne,centreInformation:ane,enterCentreName:lne,centreName:cne,enterCentreAddress:gne,centreAddress:dne,enterNumberOfCourts:une,enterPricePerHour:hne,pricePerHour:mne,openTimes:Cne,selectOpenTime:pne,closeTime:Ine,selectCloseTime:fne,paymentMethod:bne,enterPaymentMethod:Ane,activated:yne,activate:kne,closed:vne,close:wne,delete:"Xo",information:xne,edit:Sne,status:Bne,feedbacks:Zne,feedback:Gne,staffInformation:Rne,addStaff:Vne,fullName:Wne,enterUserName:_ne,enterUserEmail:Nne,enterUserPhone:Ene,selectSlot:Xne,slot:Yne,enterStaffEmail:Dne,enterStaffPhone:Hne,enterStaffPassword:Fne,OTHER_CONTENT:Mne,ADD_CENTRE_CONTENT:Tne,DENIED_CENTRE_CONTENT:Jne,REGISTERED_CONTENT:Lne,BOOKING_CONTENT:zne,upload:Kne,discard:Pne,enterAddress:jne,"COURTSTAR - A healthy body leads to a healthy mind":"COURTSTAR - Sc khe vng mnh dn ti tinh thn tnh to","History and Development":"Lch s hnh thnh v pht trin",foundedIn2024:One,dynamicTeam:Une,manyCourts:Qne,enthusiasticStaff:qne,"Mission and Vision":"S mnh v tm nhn",Vision:$ne,visionDescription:eie,Mission:tie,missionDescription:nie,"CourtStar Commitments":"Cam kt ca CourtStar","Commitment to the Guest":"Cam kt vi khch hng:",guestCommitments:iie,"Commitment to the Partner":"Cam kt vi i tc:",partnerCommitments:oie,quickView:rie,personalDataWeCollect:sie,thirdPartyPersonalDataProvided:aie,purposeForData:lie,sharingPersonalData:cie,internationalDataTransfer:gie,dataStorageAndProcessingTime:die,rightsAndObligationsOfCustomers:uie,dataProtection:hie,cookies:mie,updatingDataProtectionPolicy:Cie,thankYouForVisiting:pie,overview:Iie,overviewText1:fie,overviewText2:bie,overviewText3:Aie,dataCollectionIntro:yie,personalData:kie,personalDataDetails:vie,personalDataCollectedAutomatically:wie,automaticDataCollectionIntro:xie,contactInformation:Sie,contactInformationDetails:Bie,financialInformation:Zie,financialInformationDetails:Gie,transactionInformation:Rie,transactionInformationDetails:Vie,behavioralInformation:Wie,behavioralInformationDetails:_ie,profileInformation:Nie,profileInformationDetails:Eie,marketingAndCommunicationInformation:Xie,marketingAndCommunicationDetails:Yie,thirdPartyPersonalDataIntro:Die,thirdPartyPersonalDataItem1:Hie,thirdPartyPersonalDataItem2:Fie,thirdPartyPersonalDataItem3:Mie,thirdPartyPersonalDataItem4:Tie,thirdPartyPersonalDataItem5:Jie,scopePermitted:Lie,regisAuthen:zie,processData:Kie,relationManagement:Pie,processYour:jie,dataAnalysis:Oie,dataPurpose:Uie,improveProduct:Qie,dataServe:qie,meetFunction:$ie,weMay:eoe,informationTech:toe,toPerform:noe,protectCommon:ioe,thirdParties:ooe,complianceLegal:roe,complyLegal:soe,personalShare:aoe,mayDisclose:loe,websiteSocial:coe,provideYou:goe,uponRequest:doe,toProtecting:uoe,dataTransfer:hoe,beTransfer:moe,legalBasis:Coe,dataStorage:poe,storeProcess:Ioe,ceaseStoring:foe,regulationsAbove:boe,rightsAnd:Aoe,knowRight:yoe,rightTo:koe,toConsent:voe,haveRight:woe,toWithdraw:xoe,toAccess:Soe,toView:Boe,notResponsible:Zoe,deleteData:Goe,toRequest:Roe,toRestrict:Voe,toLimit:Woe,toProvided:_oe,mayRequest:Noe,toObject:Eoe,toData:Xoe,toComplain:Yoe,toSubmit:Doe,toRequests:Hoe,requestCompensation:Foe,toSelf:Moe,asRegulated:Toe,tryTo:Joe,mayExercise:Loe,ownPrivacy:zoe,ofCustomers:Koe,provideFull:Poe,respectProtect:joe,otherLegal:Ooe,notesOn:Uoe,ifYou:Qoe,ofYours:qoe,dataProtections:$oe,weHave:ere,byLaw:tre,rulesOn:nre,conductSecurity:ire,weAlso:ore,theEvent:rre,forCookies:sre,cookieIs:are,toHelp:lre,acceptDecline:cre,updatingThe:gre,mayModify:dre,agreeThat:ure,forConsent:hre,pleaseRead:mre,notAgree:Cre,allCenTre:pre,topUp:Ire,withdraw:fre,billPayment:bre,todayIncome:Are,todayBookings:yre,expectedRevenue:kre,amount:vre,enterAmount:wre,pending:xre,dashboard:Sre,allUser:Bre,centreManager:Zre,customer:Gre,withdrawalRequest:Rre,postCentreRequest:Vre,description:Wre,cancelBooking:_re,canceled:Nre,deny:Ere,booking:Xre,bookNow:Yre,calendar:Dre,to:Hre,court:Fre,Monday:Mre,Tuesday:Tre,Wednesday:Jre,Thursday:Lre,Friday:zre,Saturday:Kre,Sunday:Pre,Description:jre,reset:Ore,Partners:Ure,basicTerm:Qre,basicTermsPartner:qre,condition:$re,uploadCourt:ese,uploadCondition:tse,partnerSharing:nse,moneySharing:ise,withdrawalPolicy:ose,withdrawPolicy:rse,prohibitedActivity:sse,prohibitedActPartner:ase,copyRight:lse,allCopyright:cse,Customer:gse,beLiable:dse,basicTerms:use,generalConditions:hse,useThe:mse,prohibitedActivities:Cse,refunderPolicy:pse,refundPolicy:Ise,frequency:fse,weeklyBooking:bse,apply:Ase,plsEnterEmail:yse,plsEnterPassword:kse,wrongMailOrPass:vse,plsEnterFirstName:wse,plsEnterLastName:xse,plsEnterPhone:Sse},Zse="Home",Gse="About us",Rse="Partner Register",Vse="My Dashboard",Wse="My Centre",_se="Log in",Nse="Sign up",Ese="Thu Duc City",Xse="District 1",Yse="District 3",Dse="District 4",Hse="District 5",Fse="District 6",Mse="District 7",Tse="District 8",Jse="District 10",Lse="District 11",zse="District 12",Kse="Binh Tan District",Pse="Binh Thanh District",jse="Go Vap District",Ose="Phu Nhuan District",Use="Tan Binh District",Qse="Tan Phu District",qse="Nha Be Province",$se="Can Gio Province",eae="Cu Chi Province",tae="Hoc Mon Province",nae="Binh Chanh Province",iae="Find court now",oae="Search for badminton courts in Ho Chi Minh city",rae="Find",sae="Select the district",aae="List Of Centres",lae="Rating",cae="Price Range",gae="Address",dae="Open Time",uae="Number of Courts",hae="Price",mae="View Detail",Cae="Term For Customer",pae="Term For Partner",Iae="Privacy Policy",fae="All Right Reserved 2024 Court Star",bae="Don't have account",Aae="Sign up for free",yae="Forget Password",kae="Continue with Google",vae="Customer Register",wae="Enter your First Name",xae="Enter your Last Name",Sae="Enter your Email",Bae="Enter your Phone",Zae="Enter your Password",Gae="First Name*",Rae="Last Name*",Vae="Phone",Wae="Password*",_ae="Use 8 or more characters with a mix of letters, numbers & symbols",Nae="Agree to our",Eae="Term of use",Xae="and",Yae="Sign up with Google account",Dae="Already have an account",Hae="Your Profile",Fae="Update",Mae="Cancel",Tae="Forgot Password",Jae="Enter your email and we'll send you a code to verify your email!",Lae="Send Code",zae="Check Your Email",Kae="We just sent a verification code to ",Pae="Enter the 6-digit code mentioned in the email!",jae="Enter your new password",Oae="New Password",Uae="Confirm your new password",Qae="Confirm New Password",qae="Haven't got the email yet?",$ae="Resend",ele="Confirm",tle="My Balance",nle="Manage Staff",ile="Centre Information",ole="Enter Name of Centre",rle="Centre Name",sle="Enter Address of Centre",ale="Centre Address",lle="Enter Number of Courts",cle="Enter Price per Hour",gle="Price per Hour",dle="Open Time",ule="Choose open time",hle="Close Time",mle="Choose close time",Cle="Payment Method",ple="Enter payment method",Ile="Activated",fle="Activate",ble="Closed",Ale="Close",yle="Information",kle="Edit",vle="Status",wle="feedbacks",xle="feedback",Sle="Staff Information",Ble="Add Staff",Zle="Full Name",Gle="Enter User's name",Rle="Enter User's email",Vle="Enter User's phone",Wle="Select slot",_le="Slot",Nle="Enter Staff's email",Ele="Enter Staff's phone",Xle="Enter Staff's password",Yle="Uncategorized notification",Dle="There is a new centre need to approve from partner",Hle="Your centre was denied",Fle="Welcome to Court Star!",Mle="There is a new booking",Tle="Upload",Jle="Discard",Lle="Enter Address",zle="- Founded in 2024 in Vietnam as CourtStar. CourtStar has emerged as Vietnam's leading badminton court booking site.",Kle="- CourtStar boasts a dynamic team, embodying youth and energy.",Ple="- CourtStar currently has many badminton courts with good facilities.",jle="- With a team of enthusiastic and dynamic staff. Strict yard approval policies. We are sure that we will bring a great experience to you when booking a badminton court on our website",Ole="Vision",Ule="CourStar aspires to be the foremost center in the field of badminton yard in Viet Nam.",Qle="Mission",qle="Courtstar is committed to providing the best quality badminton courts to meet the passion of customers. In order to get that, we have to constantly improve the processing process, evaluate the quality of the courts. In the near future, Courtstar will be the center of the top quality badminton yard in Vietnam.",$le=["Genuine court at the best prices.","A superior playing badminton experience.","The policy of changing, canceling the court transparently.","Constantly listening to customers for timely support and service quality improvement.","Provide a variety of badminton courts with different prices and quality for guests to choose.","Guests can easily compare courses before booking.","Customer support staff 24/7, ready to answer all questions of guests.","The policy of changing, canceling the court transparently."],ece=["Transparent cooperation policy.","Attract potential customers.","Diverse advertising policies.","Improve the reputation of badminton courts."],tce="Quick view",nce="Personal data we collect",ice="Third-party personal data provided by customers",oce="Purpose for data processing",rce="Sharing personal data",sce="INTERNATIONAL DATA TRANSFER",ace="DATA STORAGE AND PROCESSING TIME",lce="RIGHTS AND OBLIGATIONS OF CUSTOMERS",cce="DATA PROTECTION",gce="COOKIES",dce="UPDATING THE DATA PROTECTION POLICY",uce="Thank you for visiting the website. We respect and are committed to protecting your privacy. Please read the privacy policy below to better understand the commitments we make to respect and protect the rights of our visitors.",hce="Overview",mce='As the Data Controller and/or Personal Data Processor (as defined in Decree No. 13/2023/N-CP issued on April 17, 2023, effective from July 1, 2023  referred to as "Decree 13"), this Data Protection Policy ("Policy") will outline how CourtStar processes the Data you provide to or is collected by CourtStar.',Cce='"Data Processing" means one or more activities affecting Personal Data, such as: collection, recording, analysis, verification, storage, editing, disclosure, combination, access, retrieval, recovery, encryption, decryption, copying, sharing, transmission, provision, transfer, deletion, destruction of Personal Data or other related actions.',pce='"Personal Data" is information in the form of symbols, writing, numbers, images, sounds, or similar on an electronic environment linked to a specific individual or helps identify a specific individual. Personal Data includes basic personal data and sensitive personal data.',Ice="CourtStar collects various types of information related to the Services, including:",fce="Personal Data",bce="CourtStar collects data about how you use our services and products, such as the type of services you view or are interested in, or how frequently you use the services. We also collect Personal Data that you provide to us when you subscribe to marketing newsletters, complete a survey, or register an account to purchase our products/services. In doing so, we may ask for Personal Data such as your name, gender, date of birth, address, email address, phone number, or credit card details. Please note that credit card information is sensitive personal data as regulated by Decree 13.",Ace="Personal Data CourtStar collects automatically",yce="Types of Personal Data that we may collect include, but are not limited to, the following information:",kce="Contact Information",vce="For example: email address, phone number.",wce="Financial Information",xce="For example: bank account number/debit card/credit card, account holder's name, type of payment card or account used... Please note that this information is sensitive personal data as regulated by Decree 13.",Sce="Transaction Information",Bce="For example: the purchase history of products/services.",Zce="Behavioral Information",Gce="For example: your activities, interests, and habits when accessing the services.",Rce="Profile Information",Vce="For example: age, gender, preferences, and interests.",Wce="Marketing and Communication Information",_ce="For example: preferences in receiving marketing information from CourtStar and communication preferences.",Nce="We may also collect information about you from third parties that you have consented to or if it is necessary to provide services to you. This data includes, but is not limited to:",Ece="Personal data you have provided to our service partners.",Xce="Personal data available on social networks.",Yce="Personal data provided by third parties.",Dce="Personal data from other sources.",Hce="Personal data collected by using third-party cookies.",Fce="PURPOSES FOR DATA PROCESSING",Mce="Within the scope permitted by you and/or to the extent that the law requires or allows, CourtStar may use your Personal Data for simultaneously one or more of the following purposes:",Tce="Registration and Authentication",Jce="We may Process your Data for the purpose of registration, verification, or authentication of your identity when we provide products/services to you and/or serve other purposes as required by law and this Policy.",Lce="Relationship Management",zce="We may Process your Data to serve the purpose of contacting, communicating, managing customer files, processing information inquiries, requests, feedback, complaints upon your request related to the products we provide to you.",Kce="Data Analysis",Pce="We may Process your Data for the purpose of introducing products you may be interested in, identifying your preferences, and personalizing your experience; to learn more about you, the products you receive, and other products you may want to receive; to measure your level of interaction, perform data analysis, profile data, market research, surveys, behavior evaluations, statistics and segmentation, trends, and consumer models...",jce="Improving Products/Services",Oce="We may Process your Data to serve the purpose of troubleshooting and diagnosing product malfunctions, errors, defects, providing customer care and support services; To assess, improve, and develop products based on your satisfaction and consumer behavior; to measure the effectiveness of marketing campaigns, communications as well as business models.",Uce="To meet the functions on online pages",Qce="We may Process your Data to perform the purpose of managing, operating, monitoring, supervising, and managing online websites and platforms, ensuring that websites function properly, efficiently, and securely; to create favorable conditions for your experience on our websites.",qce=" Information Technology Management",$ce="CourtStar may Process your Data to perform the purpose of managing operations, improving, developing information technology systems which may include ensuring information security and data protection, ensuring the availability, integrity, and security of the system, ensuring the system's performance meets user needs.",ege="Protecting Common Interests",tge="CourtStar may Process your Data to perform the purpose of protecting the security, integrity, and safety of data, our business operations; to exercise our rights or protect our legitimate interests when necessary. For example, to resolve complaints, lawsuits, detect, prevent and prosecute illegal activities; to ensure compliance with our terms and conditions under Contracts and/or any documents with third parties.",nge="Compliance with Legal Regulations",ige="CourtStar may Process your Data to comply with legal regulations and requirements from competent authorities in Vietnam as well as in foreign countries where we operate legally.",oge="SHARING PERSONAL DATA",rge="We may disclose or transfer your Personal Data to the following third parties consistent with the Purposes in this Policy. These third parties may be in the territory of Vietnam or outside the territory of Vietnam.",sge="Websites, Social Media Platforms",age="We may optionally provide you with a login feature on the CourtStar without requiring you to enter information into a form.",lge="Third Parties upon Request by Competent Government Authorities and/or Legal Requirements",cge="We commit to protecting your Personal Data and only disclosing or sharing it when requested by competent government authorities and/or legal requirements. In such cases, we will cooperate with competent government authorities or other third parties to comply with the law, protect our rights and yours, prevent fraud, secure or address information security issues.",gge="INTERNATIONAL DATA TRANSFER",dge="Your Personal Data may be transferred by us from Vietnam (Home Country) to a location, city, country outside the territory of Vietnam (Alternate Country). When we transfer your Personal Data from the Home Country to the Alternate Country, we will comply with the legal obligations and regulations related to your Personal Data, including having a legal basis for transferring Personal Data and applying appropriate protective measures to ensure an adequate level of protection of Personal Data.",uge="The legal basis for us to carry out the transfer of Personal Data as stipulated herein will be your consent to the Policy and the protective measures as prescribed by law.",hge="DATA STORAGE AND PROCESSING TIME",mge="We only store and process your Personal Data for the period that we need that information to serve the Purposes in the Policy for you or to comply with our legal obligations. Your Personal Data begins to be processed from the moment we access your Personal Data.",Cge="We will cease storing your Personal Data by safely cancelling the Personal Data in accordance with the legal regulations and the Policy as soon as (i) there is a reasonable cause to believe that such storage no longer serves the Purposes for which the Personal Data was collected and is no longer necessary for any legal or business Purpose and/or (ii) the storage term of the information expires as regulated by law and/or (iii) there is a request from you regarding the cancellation of Personal Data, objection, restriction of Data Processing or withdrawal of consent for allowing Data Processing of yours.",pge="Notwithstanding the regulations above, we may retain some of your Personal Data to exercise our rights or comply with the regulations in the Policy or comply with legal regulations.",Ige="RIGHTS AND OBLIGATIONS OF CUSTOMERS",fge="Right to know",bge="You have the right to clearly, transparently, and fully know about how we Process your Data and includes information about what rights and obligations you have regarding the Personal Data when being Processed by us, except where the law stipulates otherwise.",Age="Right to consent and withdraw consent",yge="You have the right to consent to allow us to Process your Data according to this Policy (specifically, we rely on consent as the legal basis for Data Processing).",kge="You have the right to withdraw your consent, except where the law stipulates otherwise, at any time by informing us about this (although if you withdraw your consent, it does not mean that the Data Processing of your Personal Data up to that point was unlawful).",vge="Right to access and modify",wge="You have the right to access to view, edit, or request us to edit any Personal Data about you that we are processing, except where the law stipulates otherwise.",xge="We are not responsible for issues arising in the case Personal Data provided by you (i) is forged/inaccurate (partially or wholly) or (ii) causes misunderstanding or (iii) is incomplete/ not comprehensive/ irrelevant or (iv) not updated to us about any changes to the Personal Data of you such as the information that you provided to us and/or other cases as regulated by law.",Sge="Right to delete data",Bge="You have the right to request us to delete a part or all of your Personal Data, except where the law stipulates otherwise. Please note that this is not an absolute demand in all cases, as we may have legal grounds to retain your personal information to serve the Purpose of complying with legal regulations and/or requests from competent state agencies.",Zge=" Right to restrict Data Processing",Gge="You have the right to request to limit the Processing we carry out regarding your Personal Data, except where the law stipulates otherwise. This right means that the extent to which we Process Data regarding your Personal Data will be limited, therefore, we may store the information but may not further use or process the information.",Rge="Right to be provided data",Vge="You may request us to provide a copy of your Personal Data that we have.",Wge="Right to object to Data Processing",_ge="You have the right to object to Data Processing of yours to prevent or restrict the disclosure of Personal Data or use for the Purpose of advertising, marketing, except where the law stipulates otherwise.",Nge="Right to complain",Ege="Customers have the right to submit complaints about the disclosure of personal information to a third party to the Management Board of the CourtStar website according to the contact information in section 12. Upon receiving these responses, CourtStar will verify the information and must have the responsibility to respond to the reason and guide customers to check and secure the information again.",Xge="Right to request compensation for damages",Yge="You have the right to request compensation for damages as regulated by law when there is a basis to believe that we violated the regulations protecting your Personal Data, except where the parties have a different agreement or the law stipulates otherwise.",Dge="Right to self-defense",Hge="You have the right to self-defense as regulated by the Civil Code and current laws, or request competent agencies, organizations to carry out methods to protect your civil rights as regulated by the Civil Code.",Fge="We always try to process your requests quickly, fairly, and transparently. However, we reserve the right to reject requests that are baseless, repetitive or violate our legitimate rights and interests or those of any third party or are outside the authority/scope of data processing of ours. We will notify you of the reason for the refusal and how to remedy it if possible.",Mge="You may exercise these rights by sending us an email at the (Contact Us) section and attach relevant documents (when we request and/or the law allows). If the request is made by someone other than you but this person does not provide proof that the request is made on your behalf legally and with your valid consent, then the request will be denied.",Tge="For your own privacy and information security, we may require you to verify your identity before responding to the exercise of the rights mentioned in Article 7 of this Policy from you.",Jge="Obligations of customers",Lge="Provide full, accurate Personal Data when you agree for us to Process Data.",zge="Respect, protect the Personal Data of others.",Kge="Comply with other legal requirements and obligations regarding data subjects as regulated by law.",Pge="Notes on potential unwanted consequences and damages",jge="If you exercise one or more of your rights as the Policy, then we (i) may not be able to perform the necessary actions to achieve the Purposes of processing described in the Policy for you; and/or (ii) may not be able to perform, enter into contracts we have been or are trying to sign with you; and/or (iii) may not be able to provide you with our services.",Oge="Your exercise of your rights and the unwanted consequences will be considered as termination from your side of any relationship you have with us, and/or a violation of obligations, commitments under the contract. To clarify, we explicitly reserve our legal rights and remedies in those cases and will not be liable to you for any loss, damage, claims, or lawsuits arising from your exercise of your rights as stated above.",Uge="DATA PROTECTION",Qge="We have implemented and continue to implement various technical and organizational measures to protect and secure your Personal Data, such as:",qge="The personal information of members  is absolutely confidential according to the personal information protection policy of CourtStar. The collection and use of information from each member are only performed with the consent of that customer unless otherwise specified by law.",$ge="Implement policies, rules on information security, and technical measures to protect Personal Data and comply with legal requirements.",ede="Conduct security checks on systems and devices, equipment used to process Personal Data before processing, irreversibly delete or destroy devices containing Personal Data.",tde="We also require our service providers, or other third parties we cooperate with and have disclosed your personal data to, to implement similar standards and measures on security, privacy, and data security when they Process your Data.",nde="In the event that the server storing information is attacked by hackers leading to the loss of customer personal data, CourtStar will be responsible for notifying the incident to the authorities for timely investigation and informing the customers concerned.",ide="COOKIES",ode="A cookie is a text file placed on your hard disk by a web server. Cookies are not used to run programs or deliver viruses to your computer. Cookies are uniquely assigned to your computer and can only be read by a web server in the domain that issued the cookie to you.",rde="We use (cookies) to help personalize and maximize the efficiency of your online time when accessing the website CourtStar without having to re-register available information.",sde="You may accept or decline cookies. Most browsers automatically accept cookies, but you can modify your settings to decline all cookies if you prefer. However, if you choose to decline cookies, this may interfere with and adversely affect some services and features dependent on cookies at the website/app.",ade="UPDATING THE DATA PROTECTION POLICY",lde="We may review, modify, or automatically update this Policy on our websites CourtStar at our sole discretion at any time, to ensure that updates are consistent with our business operations as well as compliance with changes in legal regulations. If these changes are significant, we will provide a more noticeable notification (through a general announcement published on the website CourtStar or to the email address you provided).",cde="You agree that you are responsible for regularly reviewing this Policy to stay informed about how we are Processing your Data and thus, your continued use of the website CourtStar or use of the services we provide after any modification to this Policy will constitute your consent to this Policy and all modifications (if any) and the Processing of your Data under this Policy and all modifications (if any).",gde="CONSENT",dde="Please read this policy carefully and ensure that you have read, understood the entire content of the Policy, and agree, allowing us to Process your Data as regulated in this Policy.",ude="If you do not agree with any content in the Policy, please do not continue to access the website or provide/send Personal Data to us. You have the right to submit your feedback, complaints, and inquiries at the section CONTACT US for clarification.",hde="All Centre",mde="Top-up",Cde="Withdraw",pde="Bill Payment",Ide="Today Income",fde="Today Bookings",bde="Expected Revenue",Ade="Amount",yde="Enter amount",kde="Pending",vde="Dashboard",wde="All User",xde="Centre Manager",Sde="Customer",Bde="Withdrawal Request",Zde="Post Centre Request",Gde="Description",Rde="Cancel booking",Vde="Canceled",Wde="Deny",_de="Booking",Nde="Book now",Ede="Calendar",Xde="to",Yde="Court",Dde="Monday",Hde="Tuesday",Fde="Wednesday",Mde="Thursday",Tde="Friday",Jde="Saturday",Lde="Sunday",zde="Description",Kde=["You are responsible for any activity that occurs under your user account.","You must not spam features on our website.","You must not steal our ideas or trademarks.","You must comply with our terms of booking"],Pde=["We reserve the right to terminate our service for any reason, without notice at any time.","Your continued use of this app will constitute your acceptance of such changes or modifications, what constitutes a material change will be determined at our sole discretion, in good faith and using common sense and reasonable judgment.","We reserve the right to refuse service to anyone for any reasonable judgment.","When you use the services of any court you have booked, you must comply with the rules of that court as well as on our site.","The yard price we display has been checked by us against the quality of that yard, so you can rest assured that you will experience the service at the right price."],jde=["Systematically retrieve data or other content from the app to create or compile, directly or indirectly, a collection, compilation, database, or directory without written permission from us.","Circumvent, disable, or otherwise interfere with security-related features of the App, including features that prevent or restrict the use or copying of any Content or enforce limitations on the use of the app and/or the Content contained therein.","Trick, defraud, or mislead us and other users, especially in any attempt to learn sensitive account information such as user passwords.","Make improper use of our support services or submit false reports of abuse or misconduct.","Interfere with, disrupt, or create an undue burden on the app or the networks or services connected to the app.","Attempt to impersonate another user or person or use the username of another user.","Use any information obtained from the app in order to harass, abuse, or harm another person.","Decipher, decompile, disassemble, or reverse engineer any of the software comprising or in any way making up a part of the app.","Harass, annoy, intimidate, or threaten any of our employees or agents engaged in providing any portion of the Marketplace Offerings to you.","Copy or adapt the app software, including but not limited to Flash, PHP, HTML, JavaScript, or other code."],Ode=["Once you have booked the court and paid successfully, you are not allowed to cancel the court for any reason. If you cancel, you will not receive a refund of the money you paid.","In case your booked court is canceled by Court Manager for reasons related to court repair or from a partner, you will receive a 100% refund of the amount you paid."],Ude=["All partners who want to cooperate with us must have a clear and transparent business license.","Court must have clear addresses and good quality.","Partners must accept all of our terms."],Qde=["We require you to provide full yard information such as center name, center address, district, Price Per Hour, Number of Courts, Open and Close Time, authentic image of the Court, Court description.","Once you have successfully posted your Centre, our system will check and authenticate it. After successful authentication, your Centre will be displayed on our web."],qde=["Our policy is based on the current market price, We will earn 5% on each booking that the customer makes.","The price we charge is the most reasonable on the market, we will not accept any cases that want to negotiate on price."],$de=["For Court Manager money on our web, you can request to withdraw money at any time. We require that you enter Name of Banking, Number of Banking, Amount of Money, Name of Cardholder correctly.","Our refund policy will appear within 2 to 3 days. We hope that Court Managers will wait until the money is in their account after making a request. If you do not receive it after 2 to 3 days, please contact email Courtstar.se@gmail.com so we can provide timely support."],eue=["Court Manager must not post false information about the court you want to cooperate with on our website.","There must be no money scams against our customers.","Do not collect information about courts on our system without CourtStar's consent"],tue="Reset",nue="Terms and Conditions for Partner",iue="Basic Terms",oue="GENERAL CONDITION",rue="Upload-Court Policy",sue="Money-Sharing Policy",aue="Withdraw Policy",lue="PROHIBITED ACTIVITIES",cue="COPYRIGHT",gue="The content on this app, including images, texts, and videos are protected under copyright and trademark, so it will be illegal to use any of them without consent. Except for the content uploaded by the users, all the material available is the property of this app. The Terms of this app gives no one a right to using the apps name or any other information such as domain name, trademarks, templates, and other distinguishing features. We have the right to use your remarks, feedback, and recommendations regarding this app.The content on this app, including images, texts, and videos are protected under copyright and trademark, so it will be illegal to use any of them without consent. Except for the content uploaded by the users, all the material available is the property of this app. The Terms of this app gives no one a right to using the apps name or any other information such as domain name, trademarks, templates, and other distinguishing features. We have the right to use your remarks, feedback, and recommendations regarding this app.",due="Terms and Conditions for Customer",uue="You will be liable for every activity that takes place within your user profile.",hue="You may not access or use the app for any purpose other than that for which we make the app available. The app may not be used in connection with any commercial endeavors except those that are specifically endorsed or approved by us. As a user of the app, you agree not to:You may not access or use the app for any purpose other than that for which we make the app available. The app may not be used in connection with any commercial endeavors except those that are specifically endorsed or approved by us. As a user of the app, you agree not to:",mue="REFUND POLICY",Cue="Frequency",pue="Weekly booking",Iue="Apply",fue="*Please enter your password!",bue="*Please enter your password!",Aue="Wrong email or password!",yue="*Please enter your first name!",kue="*Please enter your last name!",vue="*Please enter your phone number!",wue={home:Zse,aboutUs:Gse,partnerRegister:Rse,myDashboard:Vse,myCentre:Wse,logIn:_se,signUp:Nse,thuDucCity:Ese,district1:Xse,district3:Yse,district4:Dse,district5:Hse,district6:Fse,district7:Mse,district8:Tse,district10:Jse,district11:Lse,district12:zse,binhTanDistrict:Kse,binhThanhDistrict:Pse,goVapDistrict:jse,phuNhuanDistrict:Ose,tanBinhDistrict:Use,tanPhuDistrict:Qse,nhaBeProvince:qse,canGioProvince:$se,cuChiProvince:eae,hocMonProvince:tae,binhChanhProvince:nae,findCourtNow:iae,searchForBadmintonCourtsInHoChiMinhCity:oae,find:rae,selectTheDistrict:sae,listOfCentres:aae,rating:lae,priceRange:cae,address:gae,openTime:dae,numberOfCourts:uae,price:hae,viewDetail:mae,termForCustomer:Cae,termForPartner:pae,privacyPolicy:Iae,allRightsReserved2024CourtStar:fae,dontHaveAccount:bae,signUpForFree:Aae,forgetPassword:yae,continueWithGoogle:kae,customerRegister:vae,enterFirstName:wae,enterLastName:xae,enterEmail:Sae,enterPhone:Bae,enterPassword:Zae,firstName:Gae,lastName:Rae,phone:Vae,password:Wae,conditionPassword:_ae,agreeToOur:Nae,termOfUse:Eae,and:Xae,signUpWithGoogleAccount:Yae,alreadyHaveAnAccount:Dae,yourProfile:Hae,update:Fae,cancel:Mae,forgotPassword:Tae,forgotPasswordNote:Jae,sendCode:Lae,checkYourEmail:zae,weSent:Kae,enterDigit:Pae,enterNewPassword:jae,newPassword:Oae,enterConfirmNewPassword:Uae,confirmNewPassword:Qae,gotEmailYet:qae,resend:$ae,confirm:ele,myBalance:tle,manageStaff:nle,centreInformation:ile,enterCentreName:ole,centreName:rle,enterCentreAddress:sle,centreAddress:ale,enterNumberOfCourts:lle,enterPricePerHour:cle,pricePerHour:gle,openTimes:dle,selectOpenTime:ule,closeTime:hle,selectCloseTime:mle,paymentMethod:Cle,enterPaymentMethod:ple,activated:Ile,activate:fle,closed:ble,close:Ale,delete:"Delete",information:yle,edit:kle,status:vle,feedbacks:wle,feedback:xle,staffInformation:Sle,addStaff:Ble,fullName:Zle,enterUserName:Gle,enterUserEmail:Rle,enterUserPhone:Vle,selectSlot:Wle,slot:_le,enterStaffEmail:Nle,enterStaffPhone:Ele,enterStaffPassword:Xle,OTHER_CONTENT:Yle,ADD_CENTRE_CONTENT:Dle,DENIED_CENTRE_CONTENT:Hle,REGISTERED_CONTENT:Fle,BOOKING_CONTENT:Mle,upload:Tle,discard:Jle,enterAddress:Lle,"COURTSTAR - A healthy body leads to a healthy mind":"COURTSTAR - A healthy body leads to a healthy mind","History and Development":"History and Development",foundedIn2024:zle,dynamicTeam:Kle,manyCourts:Ple,enthusiasticStaff:jle,"Mission and Vision":"Mission and Vision",Vision:Ole,visionDescription:Ule,Mission:Qle,missionDescription:qle,"CourtStar Commitments":"CourtStar Commitments","Commitment to the Guest":"Commitment to the Guest:",guestCommitments:$le,"Commitment to the Partner":"Commitment to the Partner:",partnerCommitments:ece,quickView:tce,personalDataWeCollect:nce,thirdPartyPersonalDataProvided:ice,purposeForDataProcessing:oce,sharingPersonalData:rce,internationalDataTransfer:sce,dataStorageAndProcessingTime:ace,rightsAndObligationsOfCustomers:lce,dataProtection:cce,cookies:gce,updatingDataProtectionPolicy:dce,thankYouForVisiting:uce,overview:hce,overviewText1:mce,overviewText2:Cce,overviewText3:pce,dataCollectionIntro:Ice,personalData:fce,personalDataDetails:bce,personalDataCollectedAutomatically:Ace,automaticDataCollectionIntro:yce,contactInformation:kce,contactInformationDetails:vce,financialInformation:wce,financialInformationDetails:xce,transactionInformation:Sce,transactionInformationDetails:Bce,behavioralInformation:Zce,behavioralInformationDetails:Gce,profileInformation:Rce,profileInformationDetails:Vce,marketingAndCommunicationInformation:Wce,marketingAndCommunicationDetails:_ce,thirdPartyPersonalDataIntro:Nce,thirdPartyPersonalDataItem1:Ece,thirdPartyPersonalDataItem2:Xce,thirdPartyPersonalDataItem3:Yce,thirdPartyPersonalDataItem4:Dce,thirdPartyPersonalDataItem5:Hce,purposeForData:Fce,scopePermitted:Mce,regisAuthen:Tce,processData:Jce,relationManagement:Lce,processYour:zce,dataAnalysis:Kce,dataPurpose:Pce,improveProduct:jce,dataServe:Oce,meetFunction:Uce,weMay:Qce,informationTech:qce,toPerform:$ce,protectCommon:ege,thirdParties:tge,complianceLegal:nge,complyLegal:ige,personalShare:oge,mayDisclose:rge,websiteSocial:sge,provideYou:age,uponRequest:lge,toProtecting:cge,dataTransfer:gge,beTransfer:dge,legalBasis:uge,dataStorage:hge,storeProcess:mge,ceaseStoring:Cge,regulationsAbove:pge,rightsAnd:Ige,knowRight:fge,rightTo:bge,toConsent:Age,haveRight:yge,toWithdraw:kge,toAccess:vge,toView:wge,notResponsible:xge,deleteData:Sge,toRequest:Bge,toRestrict:Zge,toLimit:Gge,toProvided:Rge,mayRequest:Vge,toObject:Wge,toData:_ge,toComplain:Nge,toSubmit:Ege,toRequests:Xge,requestCompensation:Yge,toSelf:Dge,asRegulated:Hge,tryTo:Fge,mayExercise:Mge,ownPrivacy:Tge,ofCustomers:Jge,provideFull:Lge,respectProtect:zge,otherLegal:Kge,notesOn:Pge,ifYou:jge,ofYours:Oge,dataProtections:Uge,weHave:Qge,byLaw:qge,rulesOn:$ge,conductSecurity:ede,weAlso:tde,theEvent:nde,forCookies:ide,cookieIs:ode,toHelp:rde,acceptDecline:sde,updatingThe:ade,mayModify:lde,agreeThat:cde,forConsent:gde,pleaseRead:dde,notAgree:ude,allCenTre:hde,topUp:mde,withdraw:Cde,billPayment:pde,todayIncome:Ide,todayBookings:fde,expectedRevenue:bde,amount:Ade,enterAmount:yde,pending:kde,dashboard:vde,allUser:wde,centreManager:xde,customer:Sde,withdrawalRequest:Bde,postCentreRequest:Zde,description:Gde,cancelBooking:Rde,canceled:Vde,deny:Wde,booking:_de,bookNow:Nde,calendar:Ede,to:Xde,court:Yde,Monday:Dde,Tuesday:Hde,Wednesday:Fde,Thursday:Mde,Friday:Tde,Saturday:Jde,Sunday:Lde,Description:zde,basicTerms:Kde,generalConditions:Pde,prohibitedActivities:jde,refundPolicy:Ode,basicTermsPartner:Ude,uploadCondition:Qde,moneySharing:qde,withdrawPolicy:$de,prohibitedActPartner:eue,reset:tue,Partners:nue,basicTerm:iue,condition:oue,uploadCourt:rue,partnerSharing:sue,withdrawalPolicy:aue,prohibitedActivity:lue,copyRight:cue,allCopyright:gue,Customer:due,beLiable:uue,useThe:hue,refunderPolicy:mue,frequency:Cue,weeklyBooking:pue,apply:Iue,plsEnterEmail:fue,plsEnterPassword:bue,wrongMailOrPass:Aue,plsEnterFirstName:yue,plsEnterLastName:kue,plsEnterPhone:vue},xue={en:{translation:wue},vi:{translation:Bse}},Sue=localStorage.getItem("lang");bo.use(Bee).init({resources:xue,lng:Sue||"en",fallbackLng:"en",interpolation:{escapeValue:!1}});/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uh(){return Uh=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},Uh.apply(this,arguments)}var al;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(al||(al={}));const IE="popstate";function Bue(t){t===void 0&&(t={});function n(s,d){let{pathname:m,search:p,hash:v}=s.location;return Wv("",{pathname:m,search:p,hash:v},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function o(s,d){return typeof d=="string"?d:TI(d)}return Gue(n,o,null,t)}function xi(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function bF(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Zue(){return Math.random().toString(36).substr(2,8)}function fE(t,n){return{usr:t.state,key:t.key,idx:n}}function Wv(t,n,o,s){return o===void 0&&(o=null),Uh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof n=="string"?Gd(n):n,{state:o,key:n&&n.key||s||Zue()})}function TI(t){let{pathname:n="/",search:o="",hash:s=""}=t;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function Gd(t){let n={};if(t){let o=t.indexOf("#");o>=0&&(n.hash=t.substr(o),t=t.substr(0,o));let s=t.indexOf("?");s>=0&&(n.search=t.substr(s),t=t.substr(0,s)),t&&(n.pathname=t)}return n}function Gue(t,n,o,s){s===void 0&&(s={});let{window:d=document.defaultView,v5Compat:m=!1}=s,p=d.history,v=al.Pop,k=null,Z=_();Z==null&&(Z=0,p.replaceState(Uh({},p.state,{idx:Z}),""));function _(){return(p.state||{idx:null}).idx}function N(){v=al.Pop;let O=_(),P=O==null?null:O-Z;Z=O,k&&k({action:v,location:L.location,delta:P})}function G(O,P){v=al.Push;let F=Wv(L.location,O,P);Z=_()+1;let j=fE(F,Z),ie=L.createHref(F);try{p.pushState(j,"",ie)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;d.location.assign(ie)}m&&k&&k({action:v,location:L.location,delta:1})}function D(O,P){v=al.Replace;let F=Wv(L.location,O,P);Z=_();let j=fE(F,Z),ie=L.createHref(F);p.replaceState(j,"",ie),m&&k&&k({action:v,location:L.location,delta:0})}function M(O){let P=d.location.origin!=="null"?d.location.origin:d.location.href,F=typeof O=="string"?O:TI(O);return F=F.replace(/ $/,"%20"),xi(P,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,P)}let L={get action(){return v},get location(){return t(d,p)},listen(O){if(k)throw new Error("A history only accepts one active listener");return d.addEventListener(IE,N),k=O,()=>{d.removeEventListener(IE,N),k=null}},createHref(O){return n(d,O)},createURL:M,encodeLocation(O){let P=M(O);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:G,replace:D,go(O){return p.go(O)}};return L}var bE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bE||(bE={}));function Rue(t,n,o){o===void 0&&(o="/");let s=typeof n=="string"?Gd(n):n,d=Nx(s.pathname||"/",o);if(d==null)return null;let m=AF(t);Vue(m);let p=null;for(let v=0;p==null&&v<m.length;++v){let k=Jue(d);p=Fue(m[v],k)}return p}function AF(t,n,o,s){n===void 0&&(n=[]),o===void 0&&(o=[]),s===void 0&&(s="");let d=(m,p,v)=>{let k={relativePath:v===void 0?m.path||"":v,caseSensitive:m.caseSensitive===!0,childrenIndex:p,route:m};k.relativePath.startsWith("/")&&(xi(k.relativePath.startsWith(s),'Absolute route path "'+k.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),k.relativePath=k.relativePath.slice(s.length));let Z=fl([s,k.relativePath]),_=o.concat(k);m.children&&m.children.length>0&&(xi(m.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+Z+'".')),AF(m.children,n,_,Z)),!(m.path==null&&!m.index)&&n.push({path:Z,score:Due(Z,m.index),routesMeta:_})};return t.forEach((m,p)=>{var v;if(m.path===""||!((v=m.path)!=null&&v.includes("?")))d(m,p);else for(let k of yF(m.path))d(m,p,k)}),n}function yF(t){let n=t.split("/");if(n.length===0)return[];let[o,...s]=n,d=o.endsWith("?"),m=o.replace(/\?$/,"");if(s.length===0)return d?[m,""]:[m];let p=yF(s.join("/")),v=[];return v.push(...p.map(k=>k===""?m:[m,k].join("/"))),d&&v.push(...p),v.map(k=>t.startsWith("/")&&k===""?"/":k)}function Vue(t){t.sort((n,o)=>n.score!==o.score?o.score-n.score:Hue(n.routesMeta.map(s=>s.childrenIndex),o.routesMeta.map(s=>s.childrenIndex)))}const Wue=/^:[\w-]+$/,_ue=3,Nue=2,Eue=1,Xue=10,Yue=-2,AE=t=>t==="*";function Due(t,n){let o=t.split("/"),s=o.length;return o.some(AE)&&(s+=Yue),n&&(s+=Nue),o.filter(d=>!AE(d)).reduce((d,m)=>d+(Wue.test(m)?_ue:m===""?Eue:Xue),s)}function Hue(t,n){return t.length===n.length&&t.slice(0,-1).every((s,d)=>s===n[d])?t[t.length-1]-n[n.length-1]:0}function Fue(t,n){let{routesMeta:o}=t,s={},d="/",m=[];for(let p=0;p<o.length;++p){let v=o[p],k=p===o.length-1,Z=d==="/"?n:n.slice(d.length)||"/",_=Mue({path:v.relativePath,caseSensitive:v.caseSensitive,end:k},Z);if(!_)return null;Object.assign(s,_.params);let N=v.route;m.push({params:s,pathname:fl([d,_.pathname]),pathnameBase:Pue(fl([d,_.pathnameBase])),route:N}),_.pathnameBase!=="/"&&(d=fl([d,_.pathnameBase]))}return m}function Mue(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[o,s]=Tue(t.path,t.caseSensitive,t.end),d=n.match(o);if(!d)return null;let m=d[0],p=m.replace(/(.)\/+$/,"$1"),v=d.slice(1);return{params:s.reduce((Z,_,N)=>{let{paramName:G,isOptional:D}=_;if(G==="*"){let L=v[N]||"";p=m.slice(0,m.length-L.length).replace(/(.)\/+$/,"$1")}const M=v[N];return D&&!M?Z[G]=void 0:Z[G]=(M||"").replace(/%2F/g,"/"),Z},{}),pathname:m,pathnameBase:p,pattern:t}}function Tue(t,n,o){n===void 0&&(n=!1),o===void 0&&(o=!0),bF(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],d="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,v,k)=>(s.push({paramName:v,isOptional:k!=null}),k?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),d+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?d+="\\/*$":t!==""&&t!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,n?void 0:"i"),s]}function Jue(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return bF(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),t}}function Nx(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let o=n.endsWith("/")?n.length-1:n.length,s=t.charAt(o);return s&&s!=="/"?null:t.slice(o)||"/"}function Lue(t,n){n===void 0&&(n="/");let{pathname:o,search:s="",hash:d=""}=typeof t=="string"?Gd(t):t;return{pathname:o?o.startsWith("/")?o:zue(o,n):n,search:jue(s),hash:Oue(d)}}function zue(t,n){let o=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(d=>{d===".."?o.length>1&&o.pop():d!=="."&&o.push(d)}),o.length>1?o.join("/"):"/"}function Uy(t,n,o,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kue(t){return t.filter((n,o)=>o===0||n.route.path&&n.route.path.length>0)}function Ex(t,n){let o=Kue(t);return n?o.map((s,d)=>d===t.length-1?s.pathname:s.pathnameBase):o.map(s=>s.pathnameBase)}function Xx(t,n,o,s){s===void 0&&(s=!1);let d;typeof t=="string"?d=Gd(t):(d=Uh({},t),xi(!d.pathname||!d.pathname.includes("?"),Uy("?","pathname","search",d)),xi(!d.pathname||!d.pathname.includes("#"),Uy("#","pathname","hash",d)),xi(!d.search||!d.search.includes("#"),Uy("#","search","hash",d)));let m=t===""||d.pathname==="",p=m?"/":d.pathname,v;if(p==null)v=o;else{let N=n.length-1;if(!s&&p.startsWith("..")){let G=p.split("/");for(;G[0]==="..";)G.shift(),N-=1;d.pathname=G.join("/")}v=N>=0?n[N]:"/"}let k=Lue(d,v),Z=p&&p!=="/"&&p.endsWith("/"),_=(m||p===".")&&o.endsWith("/");return!k.pathname.endsWith("/")&&(Z||_)&&(k.pathname+="/"),k}const fl=t=>t.join("/").replace(/\/\/+/g,"/"),Pue=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jue=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Oue=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Uue(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kF=["post","put","patch","delete"];new Set(kF);const Que=["get",...kF];new Set(Que);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qh(){return Qh=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},Qh.apply(this,arguments)}const Yx=q.createContext(null),que=q.createContext(null),Gl=q.createContext(null),_f=q.createContext(null),Ls=q.createContext({outlet:null,matches:[],isDataRoute:!1}),vF=q.createContext(null);function $ue(t,n){let{relative:o}=n===void 0?{}:n;Rd()||xi(!1);let{basename:s,navigator:d}=q.useContext(Gl),{hash:m,pathname:p,search:v}=xF(t,{relative:o}),k=p;return s!=="/"&&(k=p==="/"?s:fl([s,p])),d.createHref({pathname:k,search:v,hash:m})}function Rd(){return q.useContext(_f)!=null}function Hc(){return Rd()||xi(!1),q.useContext(_f).location}function wF(t){q.useContext(Gl).static||q.useLayoutEffect(t)}function Va(){let{isDataRoute:t}=q.useContext(Ls);return t?mhe():ehe()}function ehe(){Rd()||xi(!1);let t=q.useContext(Yx),{basename:n,future:o,navigator:s}=q.useContext(Gl),{matches:d}=q.useContext(Ls),{pathname:m}=Hc(),p=JSON.stringify(Ex(d,o.v7_relativeSplatPath)),v=q.useRef(!1);return wF(()=>{v.current=!0}),q.useCallback(function(Z,_){if(_===void 0&&(_={}),!v.current)return;if(typeof Z=="number"){s.go(Z);return}let N=Xx(Z,JSON.parse(p),m,_.relative==="path");t==null&&n!=="/"&&(N.pathname=N.pathname==="/"?n:fl([n,N.pathname])),(_.replace?s.replace:s.push)(N,_.state,_)},[n,s,p,m,t])}const the=q.createContext(null);function nhe(t){let n=q.useContext(Ls).outlet;return n&&q.createElement(the.Provider,{value:t},n)}function Nf(){let{matches:t}=q.useContext(Ls),n=t[t.length-1];return n?n.params:{}}function xF(t,n){let{relative:o}=n===void 0?{}:n,{future:s}=q.useContext(Gl),{matches:d}=q.useContext(Ls),{pathname:m}=Hc(),p=JSON.stringify(Ex(d,s.v7_relativeSplatPath));return q.useMemo(()=>Xx(t,JSON.parse(p),m,o==="path"),[t,p,m,o])}function ihe(t,n){return ohe(t,n)}function ohe(t,n,o,s){Rd()||xi(!1);let{navigator:d}=q.useContext(Gl),{matches:m}=q.useContext(Ls),p=m[m.length-1],v=p?p.params:{};p&&p.pathname;let k=p?p.pathnameBase:"/";p&&p.route;let Z=Hc(),_;if(n){var N;let O=typeof n=="string"?Gd(n):n;k==="/"||(N=O.pathname)!=null&&N.startsWith(k)||xi(!1),_=O}else _=Z;let G=_.pathname||"/",D=G;if(k!=="/"){let O=k.replace(/^\//,"").split("/");D="/"+G.replace(/^\//,"").split("/").slice(O.length).join("/")}let M=Rue(t,{pathname:D}),L=che(M&&M.map(O=>Object.assign({},O,{params:Object.assign({},v,O.params),pathname:fl([k,d.encodeLocation?d.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?k:fl([k,d.encodeLocation?d.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),m,o,s);return n&&L?q.createElement(_f.Provider,{value:{location:Qh({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:al.Pop}},L):L}function rhe(){let t=hhe(),n=Uue(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),o=t instanceof Error?t.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},n),o?q.createElement("pre",{style:d},o):null,null)}const she=q.createElement(rhe,null);class ahe extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,o){return o.location!==n.location||o.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:o.error,location:o.location,revalidation:n.revalidation||o.revalidation}}componentDidCatch(n,o){console.error("React Router caught the following error during render",n,o)}render(){return this.state.error!==void 0?q.createElement(Ls.Provider,{value:this.props.routeContext},q.createElement(vF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lhe(t){let{routeContext:n,match:o,children:s}=t,d=q.useContext(Yx);return d&&d.static&&d.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=o.route.id),q.createElement(Ls.Provider,{value:n},s)}function che(t,n,o,s){var d;if(n===void 0&&(n=[]),o===void 0&&(o=null),s===void 0&&(s=null),t==null){var m;if((m=o)!=null&&m.errors)t=o.matches;else return null}let p=t,v=(d=o)==null?void 0:d.errors;if(v!=null){let _=p.findIndex(N=>N.route.id&&(v==null?void 0:v[N.route.id])!==void 0);_>=0||xi(!1),p=p.slice(0,Math.min(p.length,_+1))}let k=!1,Z=-1;if(o&&s&&s.v7_partialHydration)for(let _=0;_<p.length;_++){let N=p[_];if((N.route.HydrateFallback||N.route.hydrateFallbackElement)&&(Z=_),N.route.id){let{loaderData:G,errors:D}=o,M=N.route.loader&&G[N.route.id]===void 0&&(!D||D[N.route.id]===void 0);if(N.route.lazy||M){k=!0,Z>=0?p=p.slice(0,Z+1):p=[p[0]];break}}}return p.reduceRight((_,N,G)=>{let D,M=!1,L=null,O=null;o&&(D=v&&N.route.id?v[N.route.id]:void 0,L=N.route.errorElement||she,k&&(Z<0&&G===0?(M=!0,O=null):Z===G&&(M=!0,O=N.route.hydrateFallbackElement||null)));let P=n.concat(p.slice(0,G+1)),F=()=>{let j;return D?j=L:M?j=O:N.route.Component?j=q.createElement(N.route.Component,null):N.route.element?j=N.route.element:j=_,q.createElement(lhe,{match:N,routeContext:{outlet:_,matches:P,isDataRoute:o!=null},children:j})};return o&&(N.route.ErrorBoundary||N.route.errorElement||G===0)?q.createElement(ahe,{location:o.location,revalidation:o.revalidation,component:L,error:D,children:F(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):F()},null)}var SF=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(SF||{}),JI=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(JI||{});function ghe(t){let n=q.useContext(Yx);return n||xi(!1),n}function dhe(t){let n=q.useContext(que);return n||xi(!1),n}function uhe(t){let n=q.useContext(Ls);return n||xi(!1),n}function BF(t){let n=uhe(),o=n.matches[n.matches.length-1];return o.route.id||xi(!1),o.route.id}function hhe(){var t;let n=q.useContext(vF),o=dhe(JI.UseRouteError),s=BF(JI.UseRouteError);return n!==void 0?n:(t=o.errors)==null?void 0:t[s]}function mhe(){let{router:t}=ghe(SF.UseNavigateStable),n=BF(JI.UseNavigateStable),o=q.useRef(!1);return wF(()=>{o.current=!0}),q.useCallback(function(d,m){m===void 0&&(m={}),o.current&&(typeof d=="number"?t.navigate(d):t.navigate(d,Qh({fromRouteId:n},m)))},[t,n])}function Dx(t){let{to:n,replace:o,state:s,relative:d}=t;Rd()||xi(!1);let{future:m,static:p}=q.useContext(Gl),{matches:v}=q.useContext(Ls),{pathname:k}=Hc(),Z=Va(),_=Xx(n,Ex(v,m.v7_relativeSplatPath),k,d==="path"),N=JSON.stringify(_);return q.useEffect(()=>Z(JSON.parse(N),{replace:o,state:s,relative:d}),[Z,N,d,o,s]),null}function Che(t){return nhe(t.context)}function uo(t){xi(!1)}function phe(t){let{basename:n="/",children:o=null,location:s,navigationType:d=al.Pop,navigator:m,static:p=!1,future:v}=t;Rd()&&xi(!1);let k=n.replace(/^\/*/,"/"),Z=q.useMemo(()=>({basename:k,navigator:m,static:p,future:Qh({v7_relativeSplatPath:!1},v)}),[k,v,m,p]);typeof s=="string"&&(s=Gd(s));let{pathname:_="/",search:N="",hash:G="",state:D=null,key:M="default"}=s,L=q.useMemo(()=>{let O=Nx(_,k);return O==null?null:{location:{pathname:O,search:N,hash:G,state:D,key:M},navigationType:d}},[k,_,N,G,D,M,d]);return L==null?null:q.createElement(Gl.Provider,{value:Z},q.createElement(_f.Provider,{children:o,value:L}))}function Ihe(t){let{children:n,location:o}=t;return ihe(_v(n),o)}new Promise(()=>{});function _v(t,n){n===void 0&&(n=[]);let o=[];return q.Children.forEach(t,(s,d)=>{if(!q.isValidElement(s))return;let m=[...n,d];if(s.type===q.Fragment){o.push.apply(o,_v(s.props.children,m));return}s.type!==uo&&xi(!1),!s.props.index||!s.props.children||xi(!1);let p={id:s.props.id||m.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(p.children=_v(s.props.children,m)),o.push(p)}),o}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},Nv.apply(this,arguments)}function fhe(t,n){if(t==null)return{};var o={},s=Object.keys(t),d,m;for(m=0;m<s.length;m++)d=s[m],!(n.indexOf(d)>=0)&&(o[d]=t[d]);return o}function bhe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ahe(t,n){return t.button===0&&(!n||n==="_self")&&!bhe(t)}const yhe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],khe="6";try{window.__reactRouterVersion=khe}catch{}const vhe="startTransition",yE=mI[vhe];function whe(t){let{basename:n,children:o,future:s,window:d}=t,m=q.useRef();m.current==null&&(m.current=Bue({window:d,v5Compat:!0}));let p=m.current,[v,k]=q.useState({action:p.action,location:p.location}),{v7_startTransition:Z}=s||{},_=q.useCallback(N=>{Z&&yE?yE(()=>k(N)):k(N)},[k,Z]);return q.useLayoutEffect(()=>p.listen(_),[p,_]),q.createElement(phe,{basename:n,children:o,location:v.location,navigationType:v.action,navigator:p,future:s})}const xhe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",She=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gr=q.forwardRef(function(n,o){let{onClick:s,relative:d,reloadDocument:m,replace:p,state:v,target:k,to:Z,preventScrollReset:_,unstable_viewTransition:N}=n,G=fhe(n,yhe),{basename:D}=q.useContext(Gl),M,L=!1;if(typeof Z=="string"&&She.test(Z)&&(M=Z,xhe))try{let j=new URL(window.location.href),ie=Z.startsWith("//")?new URL(j.protocol+Z):new URL(Z),ne=Nx(ie.pathname,D);ie.origin===j.origin&&ne!=null?Z=ne+ie.search+ie.hash:L=!0}catch{}let O=$ue(Z,{relative:d}),P=Bhe(Z,{replace:p,state:v,target:k,preventScrollReset:_,relative:d,unstable_viewTransition:N});function F(j){s&&s(j),j.defaultPrevented||P(j)}return q.createElement("a",Nv({},G,{href:M||O,onClick:L||m?s:F,ref:o,target:k}))});var kE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kE||(kE={}));var vE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vE||(vE={}));function Bhe(t,n){let{target:o,replace:s,state:d,preventScrollReset:m,relative:p,unstable_viewTransition:v}=n===void 0?{}:n,k=Va(),Z=Hc(),_=xF(t,{relative:p});return q.useCallback(N=>{if(Ahe(N,o)){N.preventDefault();let G=s!==void 0?s:TI(Z)===TI(_);k(t,{replace:G,state:d,preventScrollReset:m,relative:p,unstable_viewTransition:v})}},[Z,k,_,s,d,o,t,m,p,v])}const ZF="/logo.svg",vg="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='flag-icon-css-us'%20viewBox='0%200%20512%20512'%3e%3cg%20fill-rule='evenodd'%3e%3cg%20stroke-width='1pt'%3e%3cpath%20fill='%23bd3d44'%20d='M0%200h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0z'%20transform='scale(3.9385)'/%3e%3cpath%20fill='%23fff'%20d='M0%2010h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0z'%20transform='scale(3.9385)'/%3e%3c/g%3e%3cpath%20fill='%23192f5d'%20d='M0%200h98.8v70H0z'%20transform='scale(3.9385)'/%3e%3cpath%20fill='%23fff'%20d='M8.2%203l1%202.8H12L9.7%207.5l.9%202.7-2.4-1.7L6%2010.2l.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8H45l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.4%201.7%201%202.7L74%208.5l-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9L92%207.5l1%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm-74.1%207l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7H65zm16.4%200l1%202.8H86l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm-74%207l.8%202.8h3l-2.4%201.7.9%202.7-2.4-1.7L6%2024.2l.9-2.7-2.4-1.7h3zm16.4%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8H45l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9L92%2021.5l1%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm-74.1%207l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7H65zm16.4%200l1%202.8H86l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm-74%207l.8%202.8h3l-2.4%201.7.9%202.7-2.4-1.7L6%2038.2l.9-2.7-2.4-1.7h3zm16.4%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8H45l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9L92%2035.5l1%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm-74.1%207l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7H65zm16.4%200l1%202.8H86l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm-74%207l.8%202.8h3l-2.4%201.7.9%202.7-2.4-1.7L6%2052.2l.9-2.7-2.4-1.7h3zm16.4%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8H45l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9L92%2049.5l1%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm-74.1%207l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7H65zm16.4%200l1%202.8H86l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm-74%207l.8%202.8h3l-2.4%201.7.9%202.7-2.4-1.7L6%2066.2l.9-2.7-2.4-1.7h3zm16.4%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8H45l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9L92%2063.5l1%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9z'%20transform='scale(3.9385)'/%3e%3c/g%3e%3c/svg%3e",Qy="data:image/svg+xml,%3csvg%20width='16px'%20height='16px'%20viewBox='0%200%2064%2064'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--emojione'%20preserveAspectRatio='xMidYMid%20meet'%3e%3ccircle%20cx='32'%20cy='32'%20r='30'%20fill='%23f42f4c'%3e%3c/circle%3e%3cpath%20fill='%23ffe62e'%20d='M32%2039l9.9%207l-3.7-11.4l9.8-7.4H35.8L32%2016l-3.7%2011.2H16l9.8%207.4L22.1%2046z'%3e%3c/path%3e%3c/svg%3e",Zhe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%23fff'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-chevron-down'%3e%3cpath%20d='m6%209%206%206%206-6'/%3e%3c/svg%3e",Ghe=()=>{const{i18n:t}=on(),[n,o]=q.useState(!1),[s,d]=q.useState(vg),m=q.useRef(null),p=()=>{o(!n)},v=Z=>{const _=Z===vg?"en":"vi";t.changeLanguage(_),localStorage.setItem("lang",_),d(Z),o(!1)},k=Z=>{m.current&&!m.current.contains(Z.target)&&o(!1)};return q.useEffect(()=>{const Z=localStorage.getItem("lang");Z&&d(Z==="vi"?Qy:vg)},[]),q.useEffect(()=>(document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}),[]),q.useEffect(()=>{const Z=()=>{o(!1)};return window.addEventListener("scroll",Z),()=>{window.removeEventListener("scroll",Z)}},[]),A.jsxs("div",{className:"relative inline-flex",ref:m,children:[A.jsxs("button",{className:"py-1 ps-1 pe-3 inline-flex items-center gap-x-2 font-semibold text-white w-28",onClick:p,children:[A.jsx("img",{className:"w-5 h-auto rounded-full",src:s,alt:"current language"}),A.jsx("span",{className:"font-medium truncate max-w-[7.5rem]",children:s===vg?"US":"VI"}),A.jsx("img",{src:Zhe,className:n?"rotate-180 w-4":"w-4",alt:"chevron-down"})]}),n&&A.jsxs("div",{className:"z-50 fixed top-14 min-w-40 bg-white shadow-gray-800 shadow-md rounded-lg p-2 mt-2",children:[A.jsxs("button",{className:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100",onClick:()=>v(vg),children:[A.jsx("img",{src:vg,className:"w-4 rounded-full",alt:"English (US)"}),A.jsx("span",{children:"English (US)"})]}),A.jsxs("button",{className:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100",onClick:()=>v(Qy),children:[A.jsx("img",{src:Qy,alt:"Vit Nam (VI)"}),A.jsx("span",{children:"Vit Nam (VI)"})]})]})]})},GF="data:image/svg+xml,%3csvg%20width='25'%20height='25'%20viewBox='0%200%2025%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.001%2012.7331C23.001%2011.8698%2022.9296%2011.2398%2022.7748%2010.5864H12.7153V14.483H18.62C18.501%2015.4514%2017.8582%2016.9097%2016.4296%2017.8897L16.4096%2018.0202L19.5902%2020.4349L19.8106%2020.4564C21.8343%2018.6247%2023.001%2015.9297%2023.001%2012.7331Z'%20fill='%234285F4'/%3e%3cpath%20d='M12.714%2023.0001C15.6068%2023.0001%2018.0353%2022.0667%2019.8092%2020.4567L16.4282%2017.89C15.5235%2018.5083%2014.3092%2018.94%2012.714%2018.94C9.88069%2018.94%207.47596%2017.1083%206.61874%2014.5767L6.49309%2014.5871L3.18583%2017.0955L3.14258%2017.2133C4.90446%2020.6433%208.5235%2023.0001%2012.714%2023.0001Z'%20fill='%2334A853'/%3e%3cpath%20d='M6.62046%2014.5765C6.39428%2013.9232%206.26337%2013.2231%206.26337%2012.4998C6.26337%2011.7764%206.39428%2011.0765%206.60856%2010.4231L6.60257%2010.284L3.25386%207.73535L3.14429%207.78642C2.41814%209.20977%202.00146%2010.8081%202.00146%2012.4998C2.00146%2014.1915%202.41814%2015.7897%203.14429%2017.2131L6.62046%2014.5765Z'%20fill='%23FBBC05'/%3e%3cpath%20d='M12.7141%206.05997C14.7259%206.05997%2016.083%206.91163%2016.8569%207.62335L19.8807%204.73C18.0236%203.03834%2015.6069%202%2012.7141%202C8.52353%202%204.90447%204.35665%203.14258%207.78662L6.60686%2010.4233C7.47598%207.89166%209.88073%206.05997%2012.7141%206.05997Z'%20fill='%23EB4335'/%3e%3c/svg%3e",_t=({id:t,label:n,name:o,placeholder:s,onchange:d,value:m,disabled:p,type:v="text",error:k,errorMsg:Z})=>{const[_,N]=q.useState(m);q.useEffect(()=>{N(m)},[m]);const G=M=>M.replace(/\B(?=(\d{3})+(?!\d))/g,"."),D=async M=>{const{value:L}=M.target;let O=L;if(v==="number"){const P=L.replace(/[^0-9]/g,"");O=G(P)}await new Promise(P=>{N(O),P()}),d(M)};return A.jsxs("div",{className:"w-full flex flex-col font-medium gap-2 text-gray-800",children:[A.jsx("label",{htmlFor:t,className:"font-semibold",children:n}),A.jsx("input",{type:v==="number"?"text":v,name:o,id:t,className:`w-full py-2.5 px-6 border ${k?"border-red-500 outline-red-400 placeholder:text-red-500 animate-shake":"border-gray-300 outline-gray-400"} rounded-lg placeholder:text-sm placeholder:font-normal `,placeholder:s,onChange:D,value:_,disabled:p}),k&&A.jsx("div",{className:"text-red-500 text-xs font-semibold text-end -mt-2 animate-shake",children:Z})]})},Ev="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%231f2937'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-x'%3e%3cpath%20d='M18%206%206%2018'/%3e%3cpath%20d='m6%206%2012%2012'/%3e%3c/svg%3e",ms=({isOpen:t,html:n,setIsOpen:o,centreInfo:s,title:d})=>{q.useEffect(()=>{t?document.body.style.overflow="hidden":document.body.style.overflow="unset"},[t]);const m=()=>{o()};return A.jsx("div",{className:t===!1?"hidden":"",children:A.jsxs("div",{className:"text-gray-800",children:[A.jsx("div",{className:"fixed z-40 top-0 left-0 h-screen w-screen bg-gray-900 opacity-40"}),A.jsx("div",{className:"fixed z-50 top-0 left-0 h-screen w-screen flex justify-center items-center",children:s?A.jsxs("div",{className:"animate-fade-in-down w-fit px-10 pb-5 rounded-3xl shadow-2xl bg-white max-h-screen overflow-y-auto overflow-x-hidden",children:[A.jsxs("div",{className:"flex py-3 -mr-5",children:[A.jsx("div",{className:"text-2xl flex-1 flex justify-center items-center font-semibold ",children:d}),A.jsx("button",{className:"p-1 hover:bg-gray-200 rounded-full transition-all duration-300 ease-in-out",onClick:m,children:A.jsx("img",{src:Ev,alt:"x"})})]}),n]}):A.jsxs("div",{className:"relative animate-fade-in-down w-fit p-10 rounded-3xl shadow-2xl bg-white max-h-screen overflow-y-auto overflow-x-hidden",children:[n,A.jsx("button",{className:"absolute p-2 top-3 right-3 hover:bg-gray-200 rounded-full transition-all duration-300 ease-in-out",onClick:m,children:A.jsx("img",{src:Ev,alt:"x"})})]})})]})})};var RF={exports:{}};(function(t,n){(function(o,s){t.exports=s()})(uc,function(){return function(o){var s={};function d(m){if(s[m])return s[m].exports;var p=s[m]={i:m,l:!1,exports:{}};return o[m].call(p.exports,p,p.exports,d),p.l=!0,p.exports}return d.m=o,d.c=s,d.d=function(m,p,v){d.o(m,p)||Object.defineProperty(m,p,{enumerable:!0,get:v})},d.r=function(m){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},d.t=function(m,p){if(1&p&&(m=d(m)),8&p||4&p&&typeof m=="object"&&m&&m.__esModule)return m;var v=Object.create(null);if(d.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:m}),2&p&&typeof m!="string")for(var k in m)d.d(v,k,(function(Z){return m[Z]}).bind(null,k));return v},d.n=function(m){var p=m&&m.__esModule?function(){return m.default}:function(){return m};return d.d(p,"a",p),p},d.o=function(m,p){return Object.prototype.hasOwnProperty.call(m,p)},d.p="/dist/",d(d.s=3)}([function(o,s,d){o.exports=d(5)()},function(o,s,d){function m(v){return function(){return v}}var p=function(){};p.thatReturns=m,p.thatReturnsFalse=m(!1),p.thatReturnsTrue=m(!0),p.thatReturnsNull=m(null),p.thatReturnsThis=function(){return this},p.thatReturnsArgument=function(v){return v},o.exports=p},function(o,s,d){o.exports=d(8)},function(o,s,d){Object.defineProperty(s,"__esModule",{value:!0});var m,p=d(4),v=(m=p)&&m.__esModule?m:{default:m};s.default=v.default},function(o,s,d){Object.defineProperty(s,"__esModule",{value:!0});var m=function(){function G(D,M){for(var L=0;L<M.length;L++){var O=M[L];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(D,O.key,O)}}return function(D,M,L){return M&&G(D.prototype,M),L&&G(D,L),D}}(),p=_(d(0)),v=d(2),k=_(v),Z=_(d(11));function _(G){return G&&G.__esModule?G:{default:G}}var N=function(G){function D(M){(function(O,P){if(!(O instanceof P))throw new TypeError("Cannot call a class as a function")})(this,D);var L=function(O,P){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?O:P}(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,M));return L.values=Array(M.length).fill("").map(function(O,P){return M.initialValue.toString()[P]||""}),L.elements=[],L.currentIndex=0,L.onPaste=L.onPaste.bind(L),L}return function(M,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);M.prototype=Object.create(L&&L.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(M,L):M.__proto__=L)}(D,G),m(D,[{key:"componentDidMount",value:function(){this.props.focus&&this.props.length&&this.elements[0].focus()}},{key:"clear",value:function(){this.elements.forEach(function(M){return M.clear()}),this.values=this.values.map(function(){}),this.elements[0].focus()}},{key:"focus",value:function(){this.props.length&&this.elements[0].focus()}},{key:"onItemChange",value:function(M,L,O){var P=this.props,F=P.length,j=P.onComplete,ie=P.onChange,ne=O;this.values[O]=M,M.length===1&&O<F-1&&(ne+=1,this.elements[ne].focus());var ue=this.values.join("");if(L||ie(ue,ne),ue.length===F){if(L&&O<F-1)return;j(ue,ne)}}},{key:"onBackspace",value:function(M){M>0&&this.elements[M-1].focus()}},{key:"onPaste",value:function(M){var L=this.props.length;M.length===L&&this.elements.forEach(function(O,P){return O.update(M[P],!0)})}},{key:"render",value:function(){var M=this;return k.default.createElement("div",{style:this.props.style,className:"pincode-input-container"},this.values.map(function(L,O){return k.default.createElement(Z.default,{initialValue:L,ref:function(P){return M.elements[O]=P},key:O,disabled:M.props.disabled,onBackspace:function(){return M.onBackspace(O)},secret:M.props.secret||!1,onChange:function(P,F){return M.onItemChange(P,F,O)},type:M.props.type,inputMode:M.props.inputMode,validate:M.props.validate,inputStyle:M.props.inputStyle,inputFocusStyle:M.props.inputFocusStyle,autoSelect:M.props.autoSelect,onPaste:O===0?M.onPaste:null,regexCriteria:M.props.regexCriteria,ariaLabel:M.props.ariaLabel,placeholder:M.props.placeholder,secretDelay:M.props.secretDelay})}))}}]),D}(v.Component);N.propTypes={initialValue:p.default.oneOfType([p.default.string,p.default.number]),length:p.default.number.isRequired,type:p.default.string,onComplete:p.default.func,validate:p.default.func,secret:p.default.bool,disabled:p.default.bool,focus:p.default.bool,onChange:p.default.func,inputMode:p.default.string,style:p.default.object,inputStyle:p.default.object,inputFocusStyle:p.default.object,autoSelect:p.default.bool,regexCriteria:p.default.any,ariaLabel:p.default.string,placeholder:p.default.string},N.defaultProps={initialValue:"",type:"numeric",secret:!1,validate:null,focus:!1,disabled:!1,onChange:function(){},onComplete:function(){},inputMode:void 0,style:{},inputStyle:{},inputFocusStyle:{},autoSelect:!0,regexCriteria:/^[a-zA-Z0-9]+$/,ariaLabel:"",placeholder:""},s.default=N},function(o,s,d){var m=d(1),p=d(6),v=d(7);o.exports=function(){function k(N,G,D,M,L,O){O!==v&&p(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function Z(){return k}k.isRequired=k;var _={array:k,bool:k,func:k,number:k,object:k,string:k,symbol:k,any:k,arrayOf:Z,element:k,instanceOf:Z,node:k,objectOf:Z,oneOf:Z,oneOfType:Z,shape:Z,exact:Z};return _.checkPropTypes=m,_.PropTypes=_,_}},function(o,s,d){o.exports=function(m,p,v,k,Z,_,N,G){if(!m){var D;if(p===void 0)D=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var M=[v,k,Z,_,N,G],L=0;(D=new Error(p.replace(/%s/g,function(){return M[L++]}))).name="Invariant Violation"}throw D.framesToPop=1,D}}},function(o,s,d){o.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(o,s,d){/** @license React v16.2.0
* react.production.min.js
*
* Copyright (c) 2013-present, Facebook, Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var m=d(9),p=d(10),v=d(1),k=typeof Symbol=="function"&&Symbol.for,Z=k?Symbol.for("react.element"):60103,_=k?Symbol.for("react.call"):60104,N=k?Symbol.for("react.return"):60105,G=k?Symbol.for("react.portal"):60106,D=k?Symbol.for("react.fragment"):60107,M=typeof Symbol=="function"&&Symbol.iterator;function L(ve){for(var Ye=arguments.length-1,He="Minified React error #"+ve+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+ve,Oe=0;Oe<Ye;Oe++)He+="&args[]="+encodeURIComponent(arguments[Oe+1]);throw(Ye=Error(He+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",Ye.framesToPop=1,Ye}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function P(ve,Ye,He){this.props=ve,this.context=Ye,this.refs=p,this.updater=He||O}function F(ve,Ye,He){this.props=ve,this.context=Ye,this.refs=p,this.updater=He||O}function j(){}P.prototype.isReactComponent={},P.prototype.setState=function(ve,Ye){typeof ve!="object"&&typeof ve!="function"&&ve!=null&&L("85"),this.updater.enqueueSetState(this,ve,Ye,"setState")},P.prototype.forceUpdate=function(ve){this.updater.enqueueForceUpdate(this,ve,"forceUpdate")},j.prototype=P.prototype;var ie=F.prototype=new j;function ne(ve,Ye,He){this.props=ve,this.context=Ye,this.refs=p,this.updater=He||O}ie.constructor=F,m(ie,P.prototype),ie.isPureReactComponent=!0;var ue=ne.prototype=new j;ue.constructor=ne,m(ue,P.prototype),ue.unstable_isAsyncReactComponent=!0,ue.render=function(){return this.props.children};var K={current:null},de=Object.prototype.hasOwnProperty,pe={key:!0,ref:!0,__self:!0,__source:!0};function Ce(ve,Ye,He){var Oe,je={},et=null,Ct=null;if(Ye!=null)for(Oe in Ye.ref!==void 0&&(Ct=Ye.ref),Ye.key!==void 0&&(et=""+Ye.key),Ye)de.call(Ye,Oe)&&!pe.hasOwnProperty(Oe)&&(je[Oe]=Ye[Oe]);var ft=arguments.length-2;if(ft===1)je.children=He;else if(1<ft){for(var wt=Array(ft),rt=0;rt<ft;rt++)wt[rt]=arguments[rt+2];je.children=wt}if(ve&&ve.defaultProps)for(Oe in ft=ve.defaultProps)je[Oe]===void 0&&(je[Oe]=ft[Oe]);return{$$typeof:Z,type:ve,key:et,ref:Ct,props:je,_owner:K.current}}function be(ve){return typeof ve=="object"&&ve!==null&&ve.$$typeof===Z}var Ge=/\/+/g,Ee=[];function Se(ve,Ye,He,Oe){if(Ee.length){var je=Ee.pop();return je.result=ve,je.keyPrefix=Ye,je.func=He,je.context=Oe,je.count=0,je}return{result:ve,keyPrefix:Ye,func:He,context:Oe,count:0}}function ke(ve){ve.result=null,ve.keyPrefix=null,ve.func=null,ve.context=null,ve.count=0,10>Ee.length&&Ee.push(ve)}function Be(ve,Ye,He,Oe){var je=typeof ve;je!=="undefined"&&je!=="boolean"||(ve=null);var et=!1;if(ve===null)et=!0;else switch(je){case"string":case"number":et=!0;break;case"object":switch(ve.$$typeof){case Z:case _:case N:case G:et=!0}}if(et)return He(Oe,ve,Ye===""?"."+Re(ve,0):Ye),1;if(et=0,Ye=Ye===""?".":Ye+":",Array.isArray(ve))for(var Ct=0;Ct<ve.length;Ct++){var ft=Ye+Re(je=ve[Ct],Ct);et+=Be(je,ft,He,Oe)}else if(ve==null?ft=null:ft=typeof(ft=M&&ve[M]||ve["@@iterator"])=="function"?ft:null,typeof ft=="function")for(ve=ft.call(ve),Ct=0;!(je=ve.next()).done;)et+=Be(je=je.value,ft=Ye+Re(je,Ct++),He,Oe);else je==="object"&&L("31",(He=""+ve)=="[object Object]"?"object with keys {"+Object.keys(ve).join(", ")+"}":He,"");return et}function Re(ve,Ye){return typeof ve=="object"&&ve!==null&&ve.key!=null?function(He){var Oe={"=":"=0",":":"=2"};return"$"+(""+He).replace(/[=:]/g,function(je){return Oe[je]})}(ve.key):Ye.toString(36)}function fe(ve,Ye){ve.func.call(ve.context,Ye,ve.count++)}function Ze(ve,Ye,He){var Oe=ve.result,je=ve.keyPrefix;ve=ve.func.call(ve.context,Ye,ve.count++),Array.isArray(ve)?_e(ve,Oe,He,v.thatReturnsArgument):ve!=null&&(be(ve)&&(Ye=je+(!ve.key||Ye&&Ye.key===ve.key?"":(""+ve.key).replace(Ge,"$&/")+"/")+He,ve={$$typeof:Z,type:ve.type,key:Ye,ref:ve.ref,props:ve.props,_owner:ve._owner}),Oe.push(ve))}function _e(ve,Ye,He,Oe,je){var et="";He!=null&&(et=(""+He).replace(Ge,"$&/")+"/"),Ye=Se(Ye,et,Oe,je),ve==null||Be(ve,"",Ze,Ye),ke(Ye)}var Pe={Children:{map:function(ve,Ye,He){if(ve==null)return ve;var Oe=[];return _e(ve,Oe,null,Ye,He),Oe},forEach:function(ve,Ye,He){if(ve==null)return ve;Ye=Se(null,null,Ye,He),ve==null||Be(ve,"",fe,Ye),ke(Ye)},count:function(ve){return ve==null?0:Be(ve,"",v.thatReturnsNull,null)},toArray:function(ve){var Ye=[];return _e(ve,Ye,null,v.thatReturnsArgument),Ye},only:function(ve){return be(ve)||L("143"),ve}},Component:P,PureComponent:F,unstable_AsyncComponent:ne,Fragment:D,createElement:Ce,cloneElement:function(ve,Ye,He){var Oe=m({},ve.props),je=ve.key,et=ve.ref,Ct=ve._owner;if(Ye!=null){if(Ye.ref!==void 0&&(et=Ye.ref,Ct=K.current),Ye.key!==void 0&&(je=""+Ye.key),ve.type&&ve.type.defaultProps)var ft=ve.type.defaultProps;for(wt in Ye)de.call(Ye,wt)&&!pe.hasOwnProperty(wt)&&(Oe[wt]=Ye[wt]===void 0&&ft!==void 0?ft[wt]:Ye[wt])}var wt=arguments.length-2;if(wt===1)Oe.children=He;else if(1<wt){ft=Array(wt);for(var rt=0;rt<wt;rt++)ft[rt]=arguments[rt+2];Oe.children=ft}return{$$typeof:Z,type:ve.type,key:je,ref:et,props:Oe,_owner:Ct}},createFactory:function(ve){var Ye=Ce.bind(null,ve);return Ye.type=ve,Ye},isValidElement:be,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:K,assign:m}},Qe=Object.freeze({default:Pe}),Je=Qe&&Pe||Qe;o.exports=Je.default?Je.default:Je},function(o,s,d){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;function k(Z){if(Z==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(Z)}o.exports=function(){try{if(!Object.assign)return!1;var Z=new String("abc");if(Z[5]="de",Object.getOwnPropertyNames(Z)[0]==="5")return!1;for(var _={},N=0;N<10;N++)_["_"+String.fromCharCode(N)]=N;if(Object.getOwnPropertyNames(_).map(function(D){return _[D]}).join("")!=="0123456789")return!1;var G={};return"abcdefghijklmnopqrst".split("").forEach(function(D){G[D]=D}),Object.keys(Object.assign({},G)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(Z,_){for(var N,G,D=k(Z),M=1;M<arguments.length;M++){for(var L in N=Object(arguments[M]))p.call(N,L)&&(D[L]=N[L]);if(m){G=m(N);for(var O=0;O<G.length;O++)v.call(N,G[O])&&(D[G[O]]=N[G[O]])}}return D}},function(o,s,d){o.exports={}},function(o,s,d){Object.defineProperty(s,"__esModule",{value:!0});var m=function(){function D(M,L){for(var O=0;O<L.length;O++){var P=L[O];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(M,P.key,P)}}return function(M,L,O){return L&&D(M.prototype,L),O&&D(M,O),M}}(),p=Z(d(0)),v=d(2),k=Z(v);function Z(D){return D&&D.__esModule?D:{default:D}}var _={padding:0,margin:"0 2px",textAlign:"center",border:"1px solid",background:"transparent",width:"50px",height:"50px"},N={outline:"none",boxShadow:"none"},G=function(D){function M(L){(function(P,F){if(!(P instanceof F))throw new TypeError("Cannot call a class as a function")})(this,M);var O=function(P,F){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||typeof F!="object"&&typeof F!="function"?P:F}(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,L));return O.state={value:O.validate(L.initialValue),showSecret:O.props.secret,focus:!1},O.onChange=O.onChange.bind(O),O.onKeyDown=O.onKeyDown.bind(O),O.onFocus=O.onFocus.bind(O),O.onBlur=O.onBlur.bind(O),O.onPaste=O.onPaste.bind(O),O.secretTimeout=null,O.inputTimeout=null,O}return function(L,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);L.prototype=Object.create(O&&O.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(L,O):L.__proto__=O)}(M,D),m(M,[{key:"componentWillUnmount",value:function(){clearTimeout(this.secretTimeout),clearTimeout(this.inputTimeout)}},{key:"onKeyDown",value:function(L){L.keyCode!==8||this.state.value&&this.state.value.length||this.props.onBackspace()}},{key:"clear",value:function(){this.setState({value:""})}},{key:"setSecretDelayed",value:function(L){var O=this;this.setState({showSecret:!1}),this.secretTimeout=setTimeout(function(){O.setState({showSecret:!!L})},this.props.secretDelay)}},{key:"update",value:function(L){var O=this,P=arguments.length>1&&arguments[1]!==void 0&&arguments[1],F=this.validate(L);(this.state.value!==F||P)&&F.length<2&&(this.setState({value:F}),this.inputTimeout=setTimeout(function(){O.props.onChange(F,P)},0))}},{key:"onChange",value:function(L){this.update(L.target.value)}},{key:"focus",value:function(){this.input.focus()}},{key:"onFocus",value:function(L){this.props.autoSelect&&L.target.select(),this.setState({focus:!0})}},{key:"onBlur",value:function(){this.setState({focus:!1})}},{key:"onPaste",value:function(L){if(this.props.onPaste){var O=L.clipboardData.getData("text");this.props.onPaste(O)}}},{key:"validate",value:function(L){if(this.props.secretDelay&&this.setSecretDelayed(L),this.props.validate)return this.props.validate(L);if(this.props.type==="numeric"){var O=L.charCodeAt(0);return O>=48&&O<=57?L:""}return this.props.regexCriteria.test(L)?L.toUpperCase():""}},{key:"render",value:function(){var L=this,O=this.state,P=O.focus,F=O.value,j=this.props,ie=j.type,ne=j.inputMode,ue=j.inputStyle,K=j.inputFocusStyle,de=ie==="numeric"?"tel":ie||"text";return k.default.createElement("input",{disabled:this.props.disabled?"disabled":void 0,className:"pincode-input-text",onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:this.props.placeholder?this.props.placeholder:F,"aria-label":this.props.ariaLabel?this.props.ariaLabel:F,maxLength:"1",autoComplete:"off",type:this.state.showSecret?"password":de,inputMode:ne||"text",pattern:this.props.type==="numeric"?"[0-9]*":"^[a-zA-Z0-9]+$",ref:function(pe){return L.input=pe},onFocus:this.onFocus,onBlur:this.onBlur,onPaste:this.onPaste,style:Object.assign({},_,ue,P?Object.assign({},N,K):{}),value:F})}}]),M}(v.Component);G.propTypes={initialValue:p.default.string,onChange:p.default.func.isRequired,onBackspace:p.default.func.isRequired,onPaste:p.default.func,secret:p.default.bool,secretDelay:p.default.number,disabled:p.default.bool,type:p.default.string,inputMode:p.default.string,validate:p.default.func,inputStyle:p.default.object.isRequired,inputFocusStyle:p.default.object.isRequired,autoSelect:p.default.bool,regexCriteria:p.default.any,ariaLabel:p.default.string,placeholder:p.default.string},G.defaultProps={secret:!1,type:"numeric",inputMode:void 0,disabled:!1,validate:void 0,autoSelect:!1,onPaste:void 0,regexCriteria:/^[a-zA-Z0-9]+$/,ariaLabel:"",placeholder:""},s.default=G}])})})(RF);var Rhe=RF.exports;const Vhe=Cf(Rhe),Whe=t=>{const n=q.useRef(null);return q.useEffect(()=>{t.clear&&n.current&&n.current.clear()},[t.clear]),A.jsx(Vhe,{ref:n,length:6,initialValue:t.value,onChange:o=>t.onChange(o),type:"numeric",inputMode:"numeric",style:{padding:"18px",display:"flex",justifyContent:"space-evenly",gap:"5px"},inputStyle:{borderColor:"#e5e7eb",borderWidth:"2px",borderRadius:"6px"},inputFocusStyle:{borderColor:"#6b7280"},onComplete:t.onComplete,autoSelect:!0,regexCriteria:/^[ A-Za-z0-9_@./#&+-]*$/})},_he="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%236b7280'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-eye'%3e%3cpath%20d='M2%2012s3-7%2010-7%2010%207%2010%207-3%207-10%207-10-7-10-7Z'/%3e%3ccircle%20cx='12'%20cy='12'%20r='3'/%3e%3c/svg%3e",Nhe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%236b7280'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-eye-off'%3e%3cpath%20d='M9.88%209.88a3%203%200%201%200%204.24%204.24'/%3e%3cpath%20d='M10.73%205.08A10.43%2010.43%200%200%201%2012%205c7%200%2010%207%2010%207a13.16%2013.16%200%200%201-1.67%202.68'/%3e%3cpath%20d='M6.61%206.61A13.526%2013.526%200%200%200%202%2012s3%207%2010%207a9.74%209.74%200%200%200%205.39-1.61'/%3e%3cline%20x1='2'%20x2='22'%20y1='2'%20y2='22'/%3e%3c/svg%3e",Ehe=({password:t,evaluate:n})=>{const s=(m=>{let p=0;return m&&(m.length>=8&&(p+=1),/[!@#$%^&*(),.?":{}|<>]/.test(m)&&(p+=1),/[A-Z]/.test(m)&&(p+=1),/[a-z]/.test(m)&&(p+=1),/[0-9]/.test(m)&&(p+=1)),p})(t),d={1:"w-1/4 bg-red-600",2:"w-2/4 bg-orange-500",3:"w-3/4 bg-yellow-400",4:"bg-green-500",5:"bg-green-500",6:"bg-green-500"};return n&&A.jsxs("div",{className:"relative px-1 w-full -mt-1",children:[A.jsx("div",{className:`h-1 rounded-full transition-all ease-in-out duration-300 ${d[s]}`}),A.jsx("div",{className:"absolute pl-1.5 py-1 -top-10 right-2 bg-white z-10 font-normal text-gray-500 text-sm",children:s>=4?"Very Strong":s>=3?"Strong":s>=2?"Average":s>=1?"Weak":""})]})},pd=t=>{const[n,o]=q.useState(!1),s=()=>{o(!n)};return A.jsxs("div",{className:"w-full flex flex-col font-medium gap-2 text-gray-800",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("label",{htmlFor:t.id,className:"font-semibold",children:t.label}),A.jsx("div",{className:"px-1.5",onClick:s,children:n?A.jsx("img",{src:Nhe,alt:"eye-off"}):A.jsx("img",{src:_he,alt:"eye"})})]}),A.jsx("input",{type:n?"text":"password",name:t.name,id:t.id,className:`w-full py-2.5 px-6 border rounded-lg placeholder:text-sm placeholder:font-normal  ${t.error?"border-red-500 animate-shake outline-red-400 placeholder:text-red-500":"border-gray-300 outline-gray-400"}`,placeholder:t.placeholder,onChange:t.onchange,value:t.value}),t.error?A.jsx("div",{className:"text-red-500 text-xs font-semibold text-end -mt-2 animate-shake",children:t.errorMsg}):A.jsx(Ehe,{password:t.value,evaluate:t.evaluate})]})};function VF(t,n){return function(){return t.apply(n,arguments)}}const{toString:Xhe}=Object.prototype,{getPrototypeOf:Hx}=Object,Ef=(t=>n=>{const o=Xhe.call(n);return t[o]||(t[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),Is=t=>(t=t.toLowerCase(),n=>Ef(n)===t),Xf=t=>n=>typeof n===t,{isArray:Vd}=Array,qh=Xf("undefined");function Yhe(t){return t!==null&&!qh(t)&&t.constructor!==null&&!qh(t.constructor)&&_r(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const WF=Is("ArrayBuffer");function Dhe(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&WF(t.buffer),n}const Hhe=Xf("string"),_r=Xf("function"),_F=Xf("number"),Yf=t=>t!==null&&typeof t=="object",Fhe=t=>t===!0||t===!1,Op=t=>{if(Ef(t)!=="object")return!1;const n=Hx(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Mhe=Is("Date"),The=Is("File"),Jhe=Is("Blob"),Lhe=Is("FileList"),zhe=t=>Yf(t)&&_r(t.pipe),Khe=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||_r(t.append)&&((n=Ef(t))==="formdata"||n==="object"&&_r(t.toString)&&t.toString()==="[object FormData]"))},Phe=Is("URLSearchParams"),[jhe,Ohe,Uhe,Qhe]=["ReadableStream","Request","Response","Headers"].map(Is),qhe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ym(t,n,{allOwnKeys:o=!1}={}){if(t===null||typeof t>"u")return;let s,d;if(typeof t!="object"&&(t=[t]),Vd(t))for(s=0,d=t.length;s<d;s++)n.call(null,t[s],s,t);else{const m=o?Object.getOwnPropertyNames(t):Object.keys(t),p=m.length;let v;for(s=0;s<p;s++)v=m[s],n.call(null,t[v],v,t)}}function NF(t,n){n=n.toLowerCase();const o=Object.keys(t);let s=o.length,d;for(;s-- >0;)if(d=o[s],n===d.toLowerCase())return d;return null}const EF=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,XF=t=>!qh(t)&&t!==EF;function Xv(){const{caseless:t}=XF(this)&&this||{},n={},o=(s,d)=>{const m=t&&NF(n,d)||d;Op(n[m])&&Op(s)?n[m]=Xv(n[m],s):Op(s)?n[m]=Xv({},s):Vd(s)?n[m]=s.slice():n[m]=s};for(let s=0,d=arguments.length;s<d;s++)arguments[s]&&ym(arguments[s],o);return n}const $he=(t,n,o,{allOwnKeys:s}={})=>(ym(n,(d,m)=>{o&&_r(d)?t[m]=VF(d,o):t[m]=d},{allOwnKeys:s}),t),eme=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),tme=(t,n,o,s)=>{t.prototype=Object.create(n.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),o&&Object.assign(t.prototype,o)},nme=(t,n,o,s)=>{let d,m,p;const v={};if(n=n||{},t==null)return n;do{for(d=Object.getOwnPropertyNames(t),m=d.length;m-- >0;)p=d[m],(!s||s(p,t,n))&&!v[p]&&(n[p]=t[p],v[p]=!0);t=o!==!1&&Hx(t)}while(t&&(!o||o(t,n))&&t!==Object.prototype);return n},ime=(t,n,o)=>{t=String(t),(o===void 0||o>t.length)&&(o=t.length),o-=n.length;const s=t.indexOf(n,o);return s!==-1&&s===o},ome=t=>{if(!t)return null;if(Vd(t))return t;let n=t.length;if(!_F(n))return null;const o=new Array(n);for(;n-- >0;)o[n]=t[n];return o},rme=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&Hx(Uint8Array)),sme=(t,n)=>{const s=(t&&t[Symbol.iterator]).call(t);let d;for(;(d=s.next())&&!d.done;){const m=d.value;n.call(t,m[0],m[1])}},ame=(t,n)=>{let o;const s=[];for(;(o=t.exec(n))!==null;)s.push(o);return s},lme=Is("HTMLFormElement"),cme=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,s,d){return s.toUpperCase()+d}),wE=(({hasOwnProperty:t})=>(n,o)=>t.call(n,o))(Object.prototype),gme=Is("RegExp"),YF=(t,n)=>{const o=Object.getOwnPropertyDescriptors(t),s={};ym(o,(d,m)=>{let p;(p=n(d,m,t))!==!1&&(s[m]=p||d)}),Object.defineProperties(t,s)},dme=t=>{YF(t,(n,o)=>{if(_r(t)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const s=t[o];if(_r(s)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},ume=(t,n)=>{const o={},s=d=>{d.forEach(m=>{o[m]=!0})};return Vd(t)?s(t):s(String(t).split(n)),o},hme=()=>{},mme=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n,qy="abcdefghijklmnopqrstuvwxyz",xE="0123456789",DF={DIGIT:xE,ALPHA:qy,ALPHA_DIGIT:qy+qy.toUpperCase()+xE},Cme=(t=16,n=DF.ALPHA_DIGIT)=>{let o="";const{length:s}=n;for(;t--;)o+=n[Math.random()*s|0];return o};function pme(t){return!!(t&&_r(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Ime=t=>{const n=new Array(10),o=(s,d)=>{if(Yf(s)){if(n.indexOf(s)>=0)return;if(!("toJSON"in s)){n[d]=s;const m=Vd(s)?[]:{};return ym(s,(p,v)=>{const k=o(p,d+1);!qh(k)&&(m[v]=k)}),n[d]=void 0,m}}return s};return o(t,0)},fme=Is("AsyncFunction"),bme=t=>t&&(Yf(t)||_r(t))&&_r(t.then)&&_r(t.catch),Me={isArray:Vd,isArrayBuffer:WF,isBuffer:Yhe,isFormData:Khe,isArrayBufferView:Dhe,isString:Hhe,isNumber:_F,isBoolean:Fhe,isObject:Yf,isPlainObject:Op,isReadableStream:jhe,isRequest:Ohe,isResponse:Uhe,isHeaders:Qhe,isUndefined:qh,isDate:Mhe,isFile:The,isBlob:Jhe,isRegExp:gme,isFunction:_r,isStream:zhe,isURLSearchParams:Phe,isTypedArray:rme,isFileList:Lhe,forEach:ym,merge:Xv,extend:$he,trim:qhe,stripBOM:eme,inherits:tme,toFlatObject:nme,kindOf:Ef,kindOfTest:Is,endsWith:ime,toArray:ome,forEachEntry:sme,matchAll:ame,isHTMLForm:lme,hasOwnProperty:wE,hasOwnProp:wE,reduceDescriptors:YF,freezeMethods:dme,toObjectSet:ume,toCamelCase:cme,noop:hme,toFiniteNumber:mme,findKey:NF,global:EF,isContextDefined:XF,ALPHABET:DF,generateString:Cme,isSpecCompliantForm:pme,toJSONObject:Ime,isAsyncFn:fme,isThenable:bme};function jt(t,n,o,s,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),o&&(this.config=o),s&&(this.request=s),d&&(this.response=d)}Me.inherits(jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Me.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const HF=jt.prototype,FF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{FF[t]={value:t}});Object.defineProperties(jt,FF);Object.defineProperty(HF,"isAxiosError",{value:!0});jt.from=(t,n,o,s,d,m)=>{const p=Object.create(HF);return Me.toFlatObject(t,p,function(k){return k!==Error.prototype},v=>v!=="isAxiosError"),jt.call(p,t.message,n,o,s,d),p.cause=t,p.name=t.name,m&&Object.assign(p,m),p};const Ame=null;function Yv(t){return Me.isPlainObject(t)||Me.isArray(t)}function MF(t){return Me.endsWith(t,"[]")?t.slice(0,-2):t}function SE(t,n,o){return t?t.concat(n).map(function(d,m){return d=MF(d),!o&&m?"["+d+"]":d}).join(o?".":""):n}function yme(t){return Me.isArray(t)&&!t.some(Yv)}const kme=Me.toFlatObject(Me,{},null,function(n){return/^is[A-Z]/.test(n)});function Df(t,n,o){if(!Me.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,o=Me.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,O){return!Me.isUndefined(O[L])});const s=o.metaTokens,d=o.visitor||_,m=o.dots,p=o.indexes,k=(o.Blob||typeof Blob<"u"&&Blob)&&Me.isSpecCompliantForm(n);if(!Me.isFunction(d))throw new TypeError("visitor must be a function");function Z(M){if(M===null)return"";if(Me.isDate(M))return M.toISOString();if(!k&&Me.isBlob(M))throw new jt("Blob is not supported. Use a Buffer instead.");return Me.isArrayBuffer(M)||Me.isTypedArray(M)?k&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function _(M,L,O){let P=M;if(M&&!O&&typeof M=="object"){if(Me.endsWith(L,"{}"))L=s?L:L.slice(0,-2),M=JSON.stringify(M);else if(Me.isArray(M)&&yme(M)||(Me.isFileList(M)||Me.endsWith(L,"[]"))&&(P=Me.toArray(M)))return L=MF(L),P.forEach(function(j,ie){!(Me.isUndefined(j)||j===null)&&n.append(p===!0?SE([L],ie,m):p===null?L:L+"[]",Z(j))}),!1}return Yv(M)?!0:(n.append(SE(O,L,m),Z(M)),!1)}const N=[],G=Object.assign(kme,{defaultVisitor:_,convertValue:Z,isVisitable:Yv});function D(M,L){if(!Me.isUndefined(M)){if(N.indexOf(M)!==-1)throw Error("Circular reference detected in "+L.join("."));N.push(M),Me.forEach(M,function(P,F){(!(Me.isUndefined(P)||P===null)&&d.call(n,P,Me.isString(F)?F.trim():F,L,G))===!0&&D(P,L?L.concat(F):[F])}),N.pop()}}if(!Me.isObject(t))throw new TypeError("data must be an object");return D(t),n}function BE(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return n[s]})}function Fx(t,n){this._pairs=[],t&&Df(t,this,n)}const TF=Fx.prototype;TF.append=function(n,o){this._pairs.push([n,o])};TF.toString=function(n){const o=n?function(s){return n.call(this,s,BE)}:BE;return this._pairs.map(function(d){return o(d[0])+"="+o(d[1])},"").join("&")};function vme(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function JF(t,n,o){if(!n)return t;const s=o&&o.encode||vme,d=o&&o.serialize;let m;if(d?m=d(n,o):m=Me.isURLSearchParams(n)?n.toString():new Fx(n,o).toString(s),m){const p=t.indexOf("#");p!==-1&&(t=t.slice(0,p)),t+=(t.indexOf("?")===-1?"?":"&")+m}return t}class ZE{constructor(){this.handlers=[]}use(n,o,s){return this.handlers.push({fulfilled:n,rejected:o,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){Me.forEach(this.handlers,function(s){s!==null&&n(s)})}}const LF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wme=typeof URLSearchParams<"u"?URLSearchParams:Fx,xme=typeof FormData<"u"?FormData:null,Sme=typeof Blob<"u"?Blob:null,Bme={isBrowser:!0,classes:{URLSearchParams:wme,FormData:xme,Blob:Sme},protocols:["http","https","file","blob","url","data"]},Mx=typeof window<"u"&&typeof document<"u",Zme=(t=>Mx&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Gme=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rme=Mx&&window.location.href||"http://localhost",Vme=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mx,hasStandardBrowserEnv:Zme,hasStandardBrowserWebWorkerEnv:Gme,origin:Rme},Symbol.toStringTag,{value:"Module"})),ds={...Vme,...Bme};function Wme(t,n){return Df(t,new ds.classes.URLSearchParams,Object.assign({visitor:function(o,s,d,m){return ds.isNode&&Me.isBuffer(o)?(this.append(s,o.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)}},n))}function _me(t){return Me.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Nme(t){const n={},o=Object.keys(t);let s;const d=o.length;let m;for(s=0;s<d;s++)m=o[s],n[m]=t[m];return n}function zF(t){function n(o,s,d,m){let p=o[m++];if(p==="__proto__")return!0;const v=Number.isFinite(+p),k=m>=o.length;return p=!p&&Me.isArray(d)?d.length:p,k?(Me.hasOwnProp(d,p)?d[p]=[d[p],s]:d[p]=s,!v):((!d[p]||!Me.isObject(d[p]))&&(d[p]=[]),n(o,s,d[p],m)&&Me.isArray(d[p])&&(d[p]=Nme(d[p])),!v)}if(Me.isFormData(t)&&Me.isFunction(t.entries)){const o={};return Me.forEachEntry(t,(s,d)=>{n(_me(s),d,o,0)}),o}return null}function Eme(t,n,o){if(Me.isString(t))try{return(n||JSON.parse)(t),Me.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(o||JSON.stringify)(t)}const km={transitional:LF,adapter:["xhr","http","fetch"],transformRequest:[function(n,o){const s=o.getContentType()||"",d=s.indexOf("application/json")>-1,m=Me.isObject(n);if(m&&Me.isHTMLForm(n)&&(n=new FormData(n)),Me.isFormData(n))return d?JSON.stringify(zF(n)):n;if(Me.isArrayBuffer(n)||Me.isBuffer(n)||Me.isStream(n)||Me.isFile(n)||Me.isBlob(n)||Me.isReadableStream(n))return n;if(Me.isArrayBufferView(n))return n.buffer;if(Me.isURLSearchParams(n))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let v;if(m){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Wme(n,this.formSerializer).toString();if((v=Me.isFileList(n))||s.indexOf("multipart/form-data")>-1){const k=this.env&&this.env.FormData;return Df(v?{"files[]":n}:n,k&&new k,this.formSerializer)}}return m||d?(o.setContentType("application/json",!1),Eme(n)):n}],transformResponse:[function(n){const o=this.transitional||km.transitional,s=o&&o.forcedJSONParsing,d=this.responseType==="json";if(Me.isResponse(n)||Me.isReadableStream(n))return n;if(n&&Me.isString(n)&&(s&&!this.responseType||d)){const p=!(o&&o.silentJSONParsing)&&d;try{return JSON.parse(n)}catch(v){if(p)throw v.name==="SyntaxError"?jt.from(v,jt.ERR_BAD_RESPONSE,this,null,this.response):v}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ds.classes.FormData,Blob:ds.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Me.forEach(["delete","get","head","post","put","patch"],t=>{km.headers[t]={}});const Xme=Me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yme=t=>{const n={};let o,s,d;return t&&t.split(`
`).forEach(function(p){d=p.indexOf(":"),o=p.substring(0,d).trim().toLowerCase(),s=p.substring(d+1).trim(),!(!o||n[o]&&Xme[o])&&(o==="set-cookie"?n[o]?n[o].push(s):n[o]=[s]:n[o]=n[o]?n[o]+", "+s:s)}),n},GE=Symbol("internals");function Ju(t){return t&&String(t).trim().toLowerCase()}function Up(t){return t===!1||t==null?t:Me.isArray(t)?t.map(Up):String(t)}function Dme(t){const n=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=o.exec(t);)n[s[1]]=s[2];return n}const Hme=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $y(t,n,o,s,d){if(Me.isFunction(s))return s.call(this,n,o);if(d&&(n=o),!!Me.isString(n)){if(Me.isString(s))return n.indexOf(s)!==-1;if(Me.isRegExp(s))return s.test(n)}}function Fme(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,o,s)=>o.toUpperCase()+s)}function Mme(t,n){const o=Me.toCamelCase(" "+n);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+o,{value:function(d,m,p){return this[s].call(this,n,d,m,p)},configurable:!0})})}class To{constructor(n){n&&this.set(n)}set(n,o,s){const d=this;function m(v,k,Z){const _=Ju(k);if(!_)throw new Error("header name must be a non-empty string");const N=Me.findKey(d,_);(!N||d[N]===void 0||Z===!0||Z===void 0&&d[N]!==!1)&&(d[N||k]=Up(v))}const p=(v,k)=>Me.forEach(v,(Z,_)=>m(Z,_,k));if(Me.isPlainObject(n)||n instanceof this.constructor)p(n,o);else if(Me.isString(n)&&(n=n.trim())&&!Hme(n))p(Yme(n),o);else if(Me.isHeaders(n))for(const[v,k]of n.entries())m(k,v,s);else n!=null&&m(o,n,s);return this}get(n,o){if(n=Ju(n),n){const s=Me.findKey(this,n);if(s){const d=this[s];if(!o)return d;if(o===!0)return Dme(d);if(Me.isFunction(o))return o.call(this,d,s);if(Me.isRegExp(o))return o.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,o){if(n=Ju(n),n){const s=Me.findKey(this,n);return!!(s&&this[s]!==void 0&&(!o||$y(this,this[s],s,o)))}return!1}delete(n,o){const s=this;let d=!1;function m(p){if(p=Ju(p),p){const v=Me.findKey(s,p);v&&(!o||$y(s,s[v],v,o))&&(delete s[v],d=!0)}}return Me.isArray(n)?n.forEach(m):m(n),d}clear(n){const o=Object.keys(this);let s=o.length,d=!1;for(;s--;){const m=o[s];(!n||$y(this,this[m],m,n,!0))&&(delete this[m],d=!0)}return d}normalize(n){const o=this,s={};return Me.forEach(this,(d,m)=>{const p=Me.findKey(s,m);if(p){o[p]=Up(d),delete o[m];return}const v=n?Fme(m):String(m).trim();v!==m&&delete o[m],o[v]=Up(d),s[v]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const o=Object.create(null);return Me.forEach(this,(s,d)=>{s!=null&&s!==!1&&(o[d]=n&&Me.isArray(s)?s.join(", "):s)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,o])=>n+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...o){const s=new this(n);return o.forEach(d=>s.set(d)),s}static accessor(n){const s=(this[GE]=this[GE]={accessors:{}}).accessors,d=this.prototype;function m(p){const v=Ju(p);s[v]||(Mme(d,p),s[v]=!0)}return Me.isArray(n)?n.forEach(m):m(n),this}}To.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Me.reduceDescriptors(To.prototype,({value:t},n)=>{let o=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(s){this[o]=s}}});Me.freezeMethods(To);function ek(t,n){const o=this||km,s=n||o,d=To.from(s.headers);let m=s.data;return Me.forEach(t,function(v){m=v.call(o,m,d.normalize(),n?n.status:void 0)}),d.normalize(),m}function KF(t){return!!(t&&t.__CANCEL__)}function Wd(t,n,o){jt.call(this,t??"canceled",jt.ERR_CANCELED,n,o),this.name="CanceledError"}Me.inherits(Wd,jt,{__CANCEL__:!0});function PF(t,n,o){const s=o.config.validateStatus;!o.status||!s||s(o.status)?t(o):n(new jt("Request failed with status code "+o.status,[jt.ERR_BAD_REQUEST,jt.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function Tme(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function Jme(t,n){t=t||10;const o=new Array(t),s=new Array(t);let d=0,m=0,p;return n=n!==void 0?n:1e3,function(k){const Z=Date.now(),_=s[m];p||(p=Z),o[d]=k,s[d]=Z;let N=m,G=0;for(;N!==d;)G+=o[N++],N=N%t;if(d=(d+1)%t,d===m&&(m=(m+1)%t),Z-p<n)return;const D=_&&Z-_;return D?Math.round(G*1e3/D):void 0}}function Lme(t,n){let o=0;const s=1e3/n;let d=null;return function(){const p=this===!0,v=Date.now();if(p||v-o>s)return d&&(clearTimeout(d),d=null),o=v,t.apply(null,arguments);d||(d=setTimeout(()=>(d=null,o=Date.now(),t.apply(null,arguments)),s-(v-o)))}}const LI=(t,n,o=3)=>{let s=0;const d=Jme(50,250);return Lme(m=>{const p=m.loaded,v=m.lengthComputable?m.total:void 0,k=p-s,Z=d(k),_=p<=v;s=p;const N={loaded:p,total:v,progress:v?p/v:void 0,bytes:k,rate:Z||void 0,estimated:Z&&v&&_?(v-p)/Z:void 0,event:m,lengthComputable:v!=null};N[n?"download":"upload"]=!0,t(N)},o)},zme=ds.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");let s;function d(m){let p=m;return n&&(o.setAttribute("href",p),p=o.href),o.setAttribute("href",p),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return s=d(window.location.href),function(p){const v=Me.isString(p)?d(p):p;return v.protocol===s.protocol&&v.host===s.host}}():function(){return function(){return!0}}(),Kme=ds.hasStandardBrowserEnv?{write(t,n,o,s,d,m){const p=[t+"="+encodeURIComponent(n)];Me.isNumber(o)&&p.push("expires="+new Date(o).toGMTString()),Me.isString(s)&&p.push("path="+s),Me.isString(d)&&p.push("domain="+d),m===!0&&p.push("secure"),document.cookie=p.join("; ")},read(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Pme(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function jme(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function jF(t,n){return t&&!Pme(n)?jme(t,n):n}const RE=t=>t instanceof To?{...t}:t;function Vc(t,n){n=n||{};const o={};function s(Z,_,N){return Me.isPlainObject(Z)&&Me.isPlainObject(_)?Me.merge.call({caseless:N},Z,_):Me.isPlainObject(_)?Me.merge({},_):Me.isArray(_)?_.slice():_}function d(Z,_,N){if(Me.isUndefined(_)){if(!Me.isUndefined(Z))return s(void 0,Z,N)}else return s(Z,_,N)}function m(Z,_){if(!Me.isUndefined(_))return s(void 0,_)}function p(Z,_){if(Me.isUndefined(_)){if(!Me.isUndefined(Z))return s(void 0,Z)}else return s(void 0,_)}function v(Z,_,N){if(N in n)return s(Z,_);if(N in t)return s(void 0,Z)}const k={url:m,method:m,data:m,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:v,headers:(Z,_)=>d(RE(Z),RE(_),!0)};return Me.forEach(Object.keys(Object.assign({},t,n)),function(_){const N=k[_]||d,G=N(t[_],n[_],_);Me.isUndefined(G)&&N!==v||(o[_]=G)}),o}const OF=t=>{const n=Vc({},t);let{data:o,withXSRFToken:s,xsrfHeaderName:d,xsrfCookieName:m,headers:p,auth:v}=n;n.headers=p=To.from(p),n.url=JF(jF(n.baseURL,n.url),t.params,t.paramsSerializer),v&&p.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):"")));let k;if(Me.isFormData(o)){if(ds.hasStandardBrowserEnv||ds.hasStandardBrowserWebWorkerEnv)p.setContentType(void 0);else if((k=p.getContentType())!==!1){const[Z,..._]=k?k.split(";").map(N=>N.trim()).filter(Boolean):[];p.setContentType([Z||"multipart/form-data",..._].join("; "))}}if(ds.hasStandardBrowserEnv&&(s&&Me.isFunction(s)&&(s=s(n)),s||s!==!1&&zme(n.url))){const Z=d&&m&&Kme.read(m);Z&&p.set(d,Z)}return n},Ome=typeof XMLHttpRequest<"u",Ume=Ome&&function(t){return new Promise(function(o,s){const d=OF(t);let m=d.data;const p=To.from(d.headers).normalize();let{responseType:v}=d,k;function Z(){d.cancelToken&&d.cancelToken.unsubscribe(k),d.signal&&d.signal.removeEventListener("abort",k)}let _=new XMLHttpRequest;_.open(d.method.toUpperCase(),d.url,!0),_.timeout=d.timeout;function N(){if(!_)return;const D=To.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),L={data:!v||v==="text"||v==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:D,config:t,request:_};PF(function(P){o(P),Z()},function(P){s(P),Z()},L),_=null}"onloadend"in _?_.onloadend=N:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(N)},_.onabort=function(){_&&(s(new jt("Request aborted",jt.ECONNABORTED,d,_)),_=null)},_.onerror=function(){s(new jt("Network Error",jt.ERR_NETWORK,d,_)),_=null},_.ontimeout=function(){let M=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const L=d.transitional||LF;d.timeoutErrorMessage&&(M=d.timeoutErrorMessage),s(new jt(M,L.clarifyTimeoutError?jt.ETIMEDOUT:jt.ECONNABORTED,d,_)),_=null},m===void 0&&p.setContentType(null),"setRequestHeader"in _&&Me.forEach(p.toJSON(),function(M,L){_.setRequestHeader(L,M)}),Me.isUndefined(d.withCredentials)||(_.withCredentials=!!d.withCredentials),v&&v!=="json"&&(_.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&_.addEventListener("progress",LI(d.onDownloadProgress,!0)),typeof d.onUploadProgress=="function"&&_.upload&&_.upload.addEventListener("progress",LI(d.onUploadProgress)),(d.cancelToken||d.signal)&&(k=D=>{_&&(s(!D||D.type?new Wd(null,t,_):D),_.abort(),_=null)},d.cancelToken&&d.cancelToken.subscribe(k),d.signal&&(d.signal.aborted?k():d.signal.addEventListener("abort",k)));const G=Tme(d.url);if(G&&ds.protocols.indexOf(G)===-1){s(new jt("Unsupported protocol "+G+":",jt.ERR_BAD_REQUEST,t));return}_.send(m||null)})},Qme=(t,n)=>{let o=new AbortController,s;const d=function(k){if(!s){s=!0,p();const Z=k instanceof Error?k:this.reason;o.abort(Z instanceof jt?Z:new Wd(Z instanceof Error?Z.message:Z))}};let m=n&&setTimeout(()=>{d(new jt(`timeout ${n} of ms exceeded`,jt.ETIMEDOUT))},n);const p=()=>{t&&(m&&clearTimeout(m),m=null,t.forEach(k=>{k&&(k.removeEventListener?k.removeEventListener("abort",d):k.unsubscribe(d))}),t=null)};t.forEach(k=>k&&k.addEventListener&&k.addEventListener("abort",d));const{signal:v}=o;return v.unsubscribe=p,[v,()=>{m&&clearTimeout(m),m=null}]},qme=function*(t,n){let o=t.byteLength;if(!n||o<n){yield t;return}let s=0,d;for(;s<o;)d=s+n,yield t.slice(s,d),s=d},$me=async function*(t,n,o){for await(const s of t)yield*qme(ArrayBuffer.isView(s)?s:await o(String(s)),n)},VE=(t,n,o,s,d)=>{const m=$me(t,n,d);let p=0;return new ReadableStream({type:"bytes",async pull(v){const{done:k,value:Z}=await m.next();if(k){v.close(),s();return}let _=Z.byteLength;o&&o(p+=_),v.enqueue(new Uint8Array(Z))},cancel(v){return s(v),m.return()}},{highWaterMark:2})},WE=(t,n)=>{const o=t!=null;return s=>setTimeout(()=>n({lengthComputable:o,total:t,loaded:s}))},Hf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",UF=Hf&&typeof ReadableStream=="function",Dv=Hf&&(typeof TextEncoder=="function"?(t=>n=>t.encode(n))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),eCe=UF&&(()=>{let t=!1;const n=new Request(ds.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!n})(),_E=64*1024,Hv=UF&&!!(()=>{try{return Me.isReadableStream(new Response("").body)}catch{}})(),zI={stream:Hv&&(t=>t.body)};Hf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!zI[n]&&(zI[n]=Me.isFunction(t[n])?o=>o[n]():(o,s)=>{throw new jt(`Response type '${n}' is not supported`,jt.ERR_NOT_SUPPORT,s)})})})(new Response);const tCe=async t=>{if(t==null)return 0;if(Me.isBlob(t))return t.size;if(Me.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(Me.isArrayBufferView(t))return t.byteLength;if(Me.isURLSearchParams(t)&&(t=t+""),Me.isString(t))return(await Dv(t)).byteLength},nCe=async(t,n)=>{const o=Me.toFiniteNumber(t.getContentLength());return o??tCe(n)},iCe=Hf&&(async t=>{let{url:n,method:o,data:s,signal:d,cancelToken:m,timeout:p,onDownloadProgress:v,onUploadProgress:k,responseType:Z,headers:_,withCredentials:N="same-origin",fetchOptions:G}=OF(t);Z=Z?(Z+"").toLowerCase():"text";let[D,M]=d||m||p?Qme([d,m],p):[],L,O;const P=()=>{!L&&setTimeout(()=>{D&&D.unsubscribe()}),L=!0};let F;try{if(k&&eCe&&o!=="get"&&o!=="head"&&(F=await nCe(_,s))!==0){let ue=new Request(n,{method:"POST",body:s,duplex:"half"}),K;Me.isFormData(s)&&(K=ue.headers.get("content-type"))&&_.setContentType(K),ue.body&&(s=VE(ue.body,_E,WE(F,LI(k)),null,Dv))}Me.isString(N)||(N=N?"cors":"omit"),O=new Request(n,{...G,signal:D,method:o.toUpperCase(),headers:_.normalize().toJSON(),body:s,duplex:"half",withCredentials:N});let j=await fetch(O);const ie=Hv&&(Z==="stream"||Z==="response");if(Hv&&(v||ie)){const ue={};["status","statusText","headers"].forEach(de=>{ue[de]=j[de]});const K=Me.toFiniteNumber(j.headers.get("content-length"));j=new Response(VE(j.body,_E,v&&WE(K,LI(v,!0)),ie&&P,Dv),ue)}Z=Z||"text";let ne=await zI[Me.findKey(zI,Z)||"text"](j,t);return!ie&&P(),M&&M(),await new Promise((ue,K)=>{PF(ue,K,{data:ne,headers:To.from(j.headers),status:j.status,statusText:j.statusText,config:t,request:O})})}catch(j){throw P(),j&&j.name==="TypeError"&&/fetch/i.test(j.message)?Object.assign(new jt("Network Error",jt.ERR_NETWORK,t,O),{cause:j.cause||j}):jt.from(j,j&&j.code,t,O)}}),Fv={http:Ame,xhr:Ume,fetch:iCe};Me.forEach(Fv,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const NE=t=>`- ${t}`,oCe=t=>Me.isFunction(t)||t===null||t===!1,QF={getAdapter:t=>{t=Me.isArray(t)?t:[t];const{length:n}=t;let o,s;const d={};for(let m=0;m<n;m++){o=t[m];let p;if(s=o,!oCe(o)&&(s=Fv[(p=String(o)).toLowerCase()],s===void 0))throw new jt(`Unknown adapter '${p}'`);if(s)break;d[p||"#"+m]=s}if(!s){const m=Object.entries(d).map(([v,k])=>`adapter ${v} `+(k===!1?"is not supported by the environment":"is not available in the build"));let p=n?m.length>1?`since :
`+m.map(NE).join(`
`):" "+NE(m[0]):"as no adapter specified";throw new jt("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return s},adapters:Fv};function tk(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wd(null,t)}function EE(t){return tk(t),t.headers=To.from(t.headers),t.data=ek.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),QF.getAdapter(t.adapter||km.adapter)(t).then(function(s){return tk(t),s.data=ek.call(t,t.transformResponse,s),s.headers=To.from(s.headers),s},function(s){return KF(s)||(tk(t),s&&s.response&&(s.response.data=ek.call(t,t.transformResponse,s.response),s.response.headers=To.from(s.response.headers))),Promise.reject(s)})}const qF="1.7.2",Tx={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{Tx[t]=function(s){return typeof s===t||"a"+(n<1?"n ":" ")+t}});const XE={};Tx.transitional=function(n,o,s){function d(m,p){return"[Axios v"+qF+"] Transitional option '"+m+"'"+p+(s?". "+s:"")}return(m,p,v)=>{if(n===!1)throw new jt(d(p," has been removed"+(o?" in "+o:"")),jt.ERR_DEPRECATED);return o&&!XE[p]&&(XE[p]=!0,console.warn(d(p," has been deprecated since v"+o+" and will be removed in the near future"))),n?n(m,p,v):!0}};function rCe(t,n,o){if(typeof t!="object")throw new jt("options must be an object",jt.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let d=s.length;for(;d-- >0;){const m=s[d],p=n[m];if(p){const v=t[m],k=v===void 0||p(v,m,t);if(k!==!0)throw new jt("option "+m+" must be "+k,jt.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new jt("Unknown option "+m,jt.ERR_BAD_OPTION)}}const Mv={assertOptions:rCe,validators:Tx},Ua=Mv.validators;class Ac{constructor(n){this.defaults=n,this.interceptors={request:new ZE,response:new ZE}}async request(n,o){try{return await this._request(n,o)}catch(s){if(s instanceof Error){let d;Error.captureStackTrace?Error.captureStackTrace(d={}):d=new Error;const m=d.stack?d.stack.replace(/^.+\n/,""):"";try{s.stack?m&&!String(s.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+m):s.stack=m}catch{}}throw s}}_request(n,o){typeof n=="string"?(o=o||{},o.url=n):o=n||{},o=Vc(this.defaults,o);const{transitional:s,paramsSerializer:d,headers:m}=o;s!==void 0&&Mv.assertOptions(s,{silentJSONParsing:Ua.transitional(Ua.boolean),forcedJSONParsing:Ua.transitional(Ua.boolean),clarifyTimeoutError:Ua.transitional(Ua.boolean)},!1),d!=null&&(Me.isFunction(d)?o.paramsSerializer={serialize:d}:Mv.assertOptions(d,{encode:Ua.function,serialize:Ua.function},!0)),o.method=(o.method||this.defaults.method||"get").toLowerCase();let p=m&&Me.merge(m.common,m[o.method]);m&&Me.forEach(["delete","get","head","post","put","patch","common"],M=>{delete m[M]}),o.headers=To.concat(p,m);const v=[];let k=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(o)===!1||(k=k&&L.synchronous,v.unshift(L.fulfilled,L.rejected))});const Z=[];this.interceptors.response.forEach(function(L){Z.push(L.fulfilled,L.rejected)});let _,N=0,G;if(!k){const M=[EE.bind(this),void 0];for(M.unshift.apply(M,v),M.push.apply(M,Z),G=M.length,_=Promise.resolve(o);N<G;)_=_.then(M[N++],M[N++]);return _}G=v.length;let D=o;for(N=0;N<G;){const M=v[N++],L=v[N++];try{D=M(D)}catch(O){L.call(this,O);break}}try{_=EE.call(this,D)}catch(M){return Promise.reject(M)}for(N=0,G=Z.length;N<G;)_=_.then(Z[N++],Z[N++]);return _}getUri(n){n=Vc(this.defaults,n);const o=jF(n.baseURL,n.url);return JF(o,n.params,n.paramsSerializer)}}Me.forEach(["delete","get","head","options"],function(n){Ac.prototype[n]=function(o,s){return this.request(Vc(s||{},{method:n,url:o,data:(s||{}).data}))}});Me.forEach(["post","put","patch"],function(n){function o(s){return function(m,p,v){return this.request(Vc(v||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:m,data:p}))}}Ac.prototype[n]=o(),Ac.prototype[n+"Form"]=o(!0)});class Jx{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(m){o=m});const s=this;this.promise.then(d=>{if(!s._listeners)return;let m=s._listeners.length;for(;m-- >0;)s._listeners[m](d);s._listeners=null}),this.promise.then=d=>{let m;const p=new Promise(v=>{s.subscribe(v),m=v}).then(d);return p.cancel=function(){s.unsubscribe(m)},p},n(function(m,p,v){s.reason||(s.reason=new Wd(m,p,v),o(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const o=this._listeners.indexOf(n);o!==-1&&this._listeners.splice(o,1)}static source(){let n;return{token:new Jx(function(d){n=d}),cancel:n}}}function sCe(t){return function(o){return t.apply(null,o)}}function aCe(t){return Me.isObject(t)&&t.isAxiosError===!0}const Tv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tv).forEach(([t,n])=>{Tv[n]=t});function $F(t){const n=new Ac(t),o=VF(Ac.prototype.request,n);return Me.extend(o,Ac.prototype,n,{allOwnKeys:!0}),Me.extend(o,n,null,{allOwnKeys:!0}),o.create=function(d){return $F(Vc(t,d))},o}const _i=$F(km);_i.Axios=Ac;_i.CanceledError=Wd;_i.CancelToken=Jx;_i.isCancel=KF;_i.VERSION=qF;_i.toFormData=Df;_i.AxiosError=jt;_i.Cancel=_i.CanceledError;_i.all=function(n){return Promise.all(n)};_i.spread=sCe;_i.isAxiosError=aCe;_i.mergeConfig=Vc;_i.AxiosHeaders=To;_i.formToJSON=t=>zF(Me.isHTMLForm(t)?new FormData(t):t);_i.getAdapter=QF.getAdapter;_i.HttpStatusCode=Tv;_i.default=_i;const yt=_i.create({baseURL:"https://courtstar-platform-backend-production.up.railway.app/",headers:{"Content-Type":"application/json"}});yt.interceptors.request.use(t=>{const n=localStorage.getItem("token");return n&&(t.headers.Authorization=`Bearer ${n}`),t},t=>Promise.reject(t));function e3(t){var n,o,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var d=t.length;for(n=0;n<d;n++)t[n]&&(o=e3(t[n]))&&(s&&(s+=" "),s+=o)}else for(o in t)t[o]&&(s&&(s+=" "),s+=o);return s}function nn(){for(var t,n,o=0,s="",d=arguments.length;o<d;o++)(t=arguments[o])&&(n=e3(t))&&(s&&(s+=" "),s+=n);return s}const $h=t=>typeof t=="number"&&!isNaN(t),yc=t=>typeof t=="string",ir=t=>typeof t=="function",Qp=t=>yc(t)||ir(t)?t:null,Jv=t=>q.isValidElement(t)||yc(t)||ir(t)||$h(t);function lCe(t,n,o){o===void 0&&(o=300);const{scrollHeight:s,style:d}=t;requestAnimationFrame(()=>{d.minHeight="initial",d.height=s+"px",d.transition=`all ${o}ms`,requestAnimationFrame(()=>{d.height="0",d.padding="0",d.margin="0",setTimeout(n,o)})})}function Ff(t){let{enter:n,exit:o,appendPosition:s=!1,collapse:d=!0,collapseDuration:m=300}=t;return function(p){let{children:v,position:k,preventExitTransition:Z,done:_,nodeRef:N,isIn:G,playToast:D}=p;const M=s?`${n}--${k}`:n,L=s?`${o}--${k}`:o,O=q.useRef(0);return q.useLayoutEffect(()=>{const P=N.current,F=M.split(" "),j=ie=>{ie.target===N.current&&(D(),P.removeEventListener("animationend",j),P.removeEventListener("animationcancel",j),O.current===0&&ie.type!=="animationcancel"&&P.classList.remove(...F))};P.classList.add(...F),P.addEventListener("animationend",j),P.addEventListener("animationcancel",j)},[]),q.useEffect(()=>{const P=N.current,F=()=>{P.removeEventListener("animationend",F),d?lCe(P,_,m):_()};G||(Z?F():(O.current=1,P.className+=` ${L}`,P.addEventListener("animationend",F)))},[G]),en.createElement(en.Fragment,null,v)}}function YE(t,n){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:n}:{}}const xo=new Map;let em=[];const Lv=new Set,cCe=t=>Lv.forEach(n=>n(t)),t3=()=>xo.size>0;function n3(t,n){var o;if(n)return!((o=xo.get(n))==null||!o.isToastActive(t));let s=!1;return xo.forEach(d=>{d.isToastActive(t)&&(s=!0)}),s}function i3(t,n){Jv(t)&&(t3()||em.push({content:t,options:n}),xo.forEach(o=>{o.buildToast(t,n)}))}function DE(t,n){xo.forEach(o=>{n!=null&&n!=null&&n.containerId?(n==null?void 0:n.containerId)===o.id&&o.toggle(t,n==null?void 0:n.id):o.toggle(t,n==null?void 0:n.id)})}function gCe(t){const{subscribe:n,getSnapshot:o,setProps:s}=q.useRef(function(m){const p=m.containerId||1;return{subscribe(v){const k=function(_,N,G){let D=1,M=0,L=[],O=[],P=[],F=N;const j=new Map,ie=new Set,ne=()=>{P=Array.from(j.values()),ie.forEach(de=>de())},ue=de=>{O=de==null?[]:O.filter(pe=>pe!==de),ne()},K=de=>{const{toastId:pe,onOpen:Ce,updateId:be,children:Ge}=de.props,Ee=be==null;de.staleId&&j.delete(de.staleId),j.set(pe,de),O=[...O,de.props.toastId].filter(Se=>Se!==de.staleId),ne(),G(YE(de,Ee?"added":"updated")),Ee&&ir(Ce)&&Ce(q.isValidElement(Ge)&&Ge.props)};return{id:_,props:F,observe:de=>(ie.add(de),()=>ie.delete(de)),toggle:(de,pe)=>{j.forEach(Ce=>{pe!=null&&pe!==Ce.props.toastId||ir(Ce.toggle)&&Ce.toggle(de)})},removeToast:ue,toasts:j,clearQueue:()=>{M-=L.length,L=[]},buildToast:(de,pe)=>{if((Qe=>{let{containerId:Je,toastId:ve,updateId:Ye}=Qe;const He=Je?Je!==_:_!==1,Oe=j.has(ve)&&Ye==null;return He||Oe})(pe))return;const{toastId:Ce,updateId:be,data:Ge,staleId:Ee,delay:Se}=pe,ke=()=>{ue(Ce)},Be=be==null;Be&&M++;const Re={...F,style:F.toastStyle,key:D++,...Object.fromEntries(Object.entries(pe).filter(Qe=>{let[Je,ve]=Qe;return ve!=null})),toastId:Ce,updateId:be,data:Ge,closeToast:ke,isIn:!1,className:Qp(pe.className||F.toastClassName),bodyClassName:Qp(pe.bodyClassName||F.bodyClassName),progressClassName:Qp(pe.progressClassName||F.progressClassName),autoClose:!pe.isLoading&&(fe=pe.autoClose,Ze=F.autoClose,fe===!1||$h(fe)&&fe>0?fe:Ze),deleteToast(){const Qe=j.get(Ce),{onClose:Je,children:ve}=Qe.props;ir(Je)&&Je(q.isValidElement(ve)&&ve.props),G(YE(Qe,"removed")),j.delete(Ce),M--,M<0&&(M=0),L.length>0?K(L.shift()):ne()}};var fe,Ze;Re.closeButton=F.closeButton,pe.closeButton===!1||Jv(pe.closeButton)?Re.closeButton=pe.closeButton:pe.closeButton===!0&&(Re.closeButton=!Jv(F.closeButton)||F.closeButton);let _e=de;q.isValidElement(de)&&!yc(de.type)?_e=q.cloneElement(de,{closeToast:ke,toastProps:Re,data:Ge}):ir(de)&&(_e=de({closeToast:ke,toastProps:Re,data:Ge}));const Pe={content:_e,props:Re,staleId:Ee};F.limit&&F.limit>0&&M>F.limit&&Be?L.push(Pe):$h(Se)?setTimeout(()=>{K(Pe)},Se):K(Pe)},setProps(de){F=de},setToggle:(de,pe)=>{j.get(de).toggle=pe},isToastActive:de=>O.some(pe=>pe===de),getSnapshot:()=>F.newestOnTop?P.reverse():P}}(p,m,cCe);xo.set(p,k);const Z=k.observe(v);return em.forEach(_=>i3(_.content,_.options)),em=[],()=>{Z(),xo.delete(p)}},setProps(v){var k;(k=xo.get(p))==null||k.setProps(v)},getSnapshot(){var v;return(v=xo.get(p))==null?void 0:v.getSnapshot()}}}(t)).current;s(t);const d=q.useSyncExternalStore(n,o,o);return{getToastToRender:function(m){if(!d)return[];const p=new Map;return d.forEach(v=>{const{position:k}=v.props;p.has(k)||p.set(k,[]),p.get(k).push(v)}),Array.from(p,v=>m(v[0],v[1]))},isToastActive:n3,count:d==null?void 0:d.length}}function dCe(t){const[n,o]=q.useState(!1),[s,d]=q.useState(!1),m=q.useRef(null),p=q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:v,pauseOnHover:k,closeToast:Z,onClick:_,closeOnClick:N}=t;var G,D;function M(){o(!0)}function L(){o(!1)}function O(j){const ie=m.current;p.canDrag&&ie&&(p.didMove=!0,n&&L(),p.delta=t.draggableDirection==="x"?j.clientX-p.start:j.clientY-p.start,p.start!==j.clientX&&(p.canCloseOnClick=!1),ie.style.transform=`translate3d(${t.draggableDirection==="x"?`${p.delta}px, var(--y)`:`0, calc(${p.delta}px + var(--y))`},0)`,ie.style.opacity=""+(1-Math.abs(p.delta/p.removalDistance)))}function P(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",P);const j=m.current;if(p.canDrag&&p.didMove&&j){if(p.canDrag=!1,Math.abs(p.delta)>p.removalDistance)return d(!0),t.closeToast(),void t.collapseAll();j.style.transition="transform 0.2s, opacity 0.2s",j.style.removeProperty("transform"),j.style.removeProperty("opacity")}}(D=xo.get((G={id:t.toastId,containerId:t.containerId,fn:o}).containerId||1))==null||D.setToggle(G.id,G.fn),q.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||L(),window.addEventListener("focus",M),window.addEventListener("blur",L),()=>{window.removeEventListener("focus",M),window.removeEventListener("blur",L)}},[t.pauseOnFocusLoss]);const F={onPointerDown:function(j){if(t.draggable===!0||t.draggable===j.pointerType){p.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",P);const ie=m.current;p.canCloseOnClick=!0,p.canDrag=!0,ie.style.transition="none",t.draggableDirection==="x"?(p.start=j.clientX,p.removalDistance=ie.offsetWidth*(t.draggablePercent/100)):(p.start=j.clientY,p.removalDistance=ie.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(j){const{top:ie,bottom:ne,left:ue,right:K}=m.current.getBoundingClientRect();j.nativeEvent.type!=="touchend"&&t.pauseOnHover&&j.clientX>=ue&&j.clientX<=K&&j.clientY>=ie&&j.clientY<=ne?L():M()}};return v&&k&&(F.onMouseEnter=L,t.stacked||(F.onMouseLeave=M)),N&&(F.onClick=j=>{_&&_(j),p.canCloseOnClick&&Z()}),{playToast:M,pauseToast:L,isRunning:n,preventExitTransition:s,toastRef:m,eventHandlers:F}}function uCe(t){let{delay:n,isRunning:o,closeToast:s,type:d="default",hide:m,className:p,style:v,controlledProgress:k,progress:Z,rtl:_,isIn:N,theme:G}=t;const D=m||k&&Z===0,M={...v,animationDuration:`${n}ms`,animationPlayState:o?"running":"paused"};k&&(M.transform=`scaleX(${Z})`);const L=nn("Toastify__progress-bar",k?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${G}`,`Toastify__progress-bar--${d}`,{"Toastify__progress-bar--rtl":_}),O=ir(p)?p({rtl:_,type:d,defaultClassName:L}):nn(L,p),P={[k&&Z>=1?"onTransitionEnd":"onAnimationEnd"]:k&&Z<1?null:()=>{N&&s()}};return en.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":D},en.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${G} Toastify__progress-bar--${d}`}),en.createElement("div",{role:"progressbar","aria-hidden":D?"true":"false","aria-label":"notification timer",className:O,style:M,...P}))}let hCe=1;const o3=()=>""+hCe++;function mCe(t){return t&&(yc(t.toastId)||$h(t.toastId))?t.toastId:o3()}function bh(t,n){return i3(t,n),n.toastId}function KI(t,n){return{...n,type:n&&n.type||t,toastId:mCe(n)}}function Ip(t){return(n,o)=>bh(n,KI(t,o))}function ht(t,n){return bh(t,KI("default",n))}ht.loading=(t,n)=>bh(t,KI("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...n})),ht.promise=function(t,n,o){let s,{pending:d,error:m,success:p}=n;d&&(s=yc(d)?ht.loading(d,o):ht.loading(d.render,{...o,...d}));const v={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},k=(_,N,G)=>{if(N==null)return void ht.dismiss(s);const D={type:_,...v,...o,data:G},M=yc(N)?{render:N}:N;return s?ht.update(s,{...D,...M}):ht(M.render,{...D,...M}),G},Z=ir(t)?t():t;return Z.then(_=>k("success",p,_)).catch(_=>k("error",m,_)),Z},ht.success=Ip("success"),ht.info=Ip("info"),ht.error=Ip("error"),ht.warning=Ip("warning"),ht.warn=ht.warning,ht.dark=(t,n)=>bh(t,KI("default",{theme:"dark",...n})),ht.dismiss=function(t){(function(n){var o;if(t3()){if(n==null||yc(o=n)||$h(o))xo.forEach(s=>{s.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){const s=xo.get(n.containerId);s?s.removeToast(n.id):xo.forEach(d=>{d.removeToast(n.id)})}}else em=em.filter(s=>n!=null&&s.options.toastId!==n)})(t)},ht.clearWaitingQueue=function(t){t===void 0&&(t={}),xo.forEach(n=>{!n.props.limit||t.containerId&&n.id!==t.containerId||n.clearQueue()})},ht.isActive=n3,ht.update=function(t,n){n===void 0&&(n={});const o=((s,d)=>{var m;let{containerId:p}=d;return(m=xo.get(p||1))==null?void 0:m.toasts.get(s)})(t,n);if(o){const{props:s,content:d}=o,m={delay:100,...s,...n,toastId:n.toastId||t,updateId:o3()};m.toastId!==t&&(m.staleId=t);const p=m.render||d;delete m.render,bh(p,m)}},ht.done=t=>{ht.update(t,{progress:1})},ht.onChange=function(t){return Lv.add(t),()=>{Lv.delete(t)}},ht.play=t=>DE(!0,t),ht.pause=t=>DE(!1,t);const CCe=typeof window<"u"?q.useLayoutEffect:q.useEffect,fp=t=>{let{theme:n,type:o,isLoading:s,...d}=t;return en.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${o})`,...d})},nk={info:function(t){return en.createElement(fp,{...t},en.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return en.createElement(fp,{...t},en.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return en.createElement(fp,{...t},en.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return en.createElement(fp,{...t},en.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return en.createElement("div",{className:"Toastify__spinner"})}},pCe=t=>{const{isRunning:n,preventExitTransition:o,toastRef:s,eventHandlers:d,playToast:m}=dCe(t),{closeButton:p,children:v,autoClose:k,onClick:Z,type:_,hideProgressBar:N,closeToast:G,transition:D,position:M,className:L,style:O,bodyClassName:P,bodyStyle:F,progressClassName:j,progressStyle:ie,updateId:ne,role:ue,progress:K,rtl:de,toastId:pe,deleteToast:Ce,isIn:be,isLoading:Ge,closeOnClick:Ee,theme:Se}=t,ke=nn("Toastify__toast",`Toastify__toast-theme--${Se}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":de},{"Toastify__toast--close-on-click":Ee}),Be=ir(L)?L({rtl:de,position:M,type:_,defaultClassName:ke}):nn(ke,L),Re=function(Pe){let{theme:Qe,type:Je,isLoading:ve,icon:Ye}=Pe,He=null;const Oe={theme:Qe,type:Je};return Ye===!1||(ir(Ye)?He=Ye({...Oe,isLoading:ve}):q.isValidElement(Ye)?He=q.cloneElement(Ye,Oe):ve?He=nk.spinner():(je=>je in nk)(Je)&&(He=nk[Je](Oe))),He}(t),fe=!!K||!k,Ze={closeToast:G,type:_,theme:Se};let _e=null;return p===!1||(_e=ir(p)?p(Ze):q.isValidElement(p)?q.cloneElement(p,Ze):function(Pe){let{closeToast:Qe,theme:Je,ariaLabel:ve="close"}=Pe;return en.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Je}`,type:"button",onClick:Ye=>{Ye.stopPropagation(),Qe(Ye)},"aria-label":ve},en.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},en.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Ze)),en.createElement(D,{isIn:be,done:Ce,position:M,preventExitTransition:o,nodeRef:s,playToast:m},en.createElement("div",{id:pe,onClick:Z,"data-in":be,className:Be,...d,style:O,ref:s},en.createElement("div",{...be&&{role:ue},className:ir(P)?P({type:_}):nn("Toastify__toast-body",P),style:F},Re!=null&&en.createElement("div",{className:nn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Ge})},Re),en.createElement("div",null,v)),_e,en.createElement(uCe,{...ne&&!fe?{key:`pb-${ne}`}:{},rtl:de,theme:Se,delay:k,isRunning:n,isIn:be,closeToast:G,hide:N,type:_,style:ie,className:j,controlledProgress:fe,progress:K||0})))},Mf=function(t,n){return n===void 0&&(n=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:n}},ICe=Ff(Mf("bounce",!0));Ff(Mf("slide",!0));Ff(Mf("zoom"));Ff(Mf("flip"));const fCe={position:"top-right",transition:ICe,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function bCe(t){let n={...fCe,...t};const o=t.stacked,[s,d]=q.useState(!0),m=q.useRef(null),{getToastToRender:p,isToastActive:v,count:k}=gCe(n),{className:Z,style:_,rtl:N,containerId:G}=n;function D(L){const O=nn("Toastify__toast-container",`Toastify__toast-container--${L}`,{"Toastify__toast-container--rtl":N});return ir(Z)?Z({position:L,rtl:N,defaultClassName:O}):nn(O,Qp(Z))}function M(){o&&(d(!0),ht.play())}return CCe(()=>{if(o){var L;const O=m.current.querySelectorAll('[data-in="true"]'),P=12,F=(L=n.position)==null?void 0:L.includes("top");let j=0,ie=0;Array.from(O).reverse().forEach((ne,ue)=>{const K=ne;K.classList.add("Toastify__toast--stacked"),ue>0&&(K.dataset.collapsed=`${s}`),K.dataset.pos||(K.dataset.pos=F?"top":"bot");const de=j*(s?.2:1)+(s?0:P*ue);K.style.setProperty("--y",`${F?de:-1*de}px`),K.style.setProperty("--g",`${P}`),K.style.setProperty("--s",""+(1-(s?ie:0))),j+=K.offsetHeight,ie+=.025})}},[s,k,o]),en.createElement("div",{ref:m,className:"Toastify",id:G,onMouseEnter:()=>{o&&(d(!1),ht.pause())},onMouseLeave:M},p((L,O)=>{const P=O.length?{..._}:{..._,pointerEvents:"none"};return en.createElement("div",{className:D(L),style:P,key:`container-${L}`},O.map(F=>{let{content:j,props:ie}=F;return en.createElement(pCe,{...ie,stacked:o,collapseAll:M,isIn:v(ie.toastId,ie.containerId),style:ie.style,key:`toast-${ie.key}`},j)}))}))}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var r3;function De(){return r3.apply(null,arguments)}function ACe(t){r3=t}function Cs(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function kc(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function yn(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function Lx(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var n;for(n in t)if(yn(t,n))return!1;return!0}function No(t){return t===void 0}function Ba(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function vm(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function s3(t,n){var o=[],s,d=t.length;for(s=0;s<d;++s)o.push(n(t[s],s));return o}function ll(t,n){for(var o in n)yn(n,o)&&(t[o]=n[o]);return yn(n,"toString")&&(t.toString=n.toString),yn(n,"valueOf")&&(t.valueOf=n.valueOf),t}function zs(t,n,o,s){return G3(t,n,o,s,!0).utc()}function yCe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ot(t){return t._pf==null&&(t._pf=yCe()),t._pf}var zv;Array.prototype.some?zv=Array.prototype.some:zv=function(t){var n=Object(this),o=n.length>>>0,s;for(s=0;s<o;s++)if(s in n&&t.call(this,n[s],s,n))return!0;return!1};function zx(t){var n=null,o=!1,s=t._d&&!isNaN(t._d.getTime());if(s&&(n=Ot(t),o=zv.call(n.parsedDateParts,function(d){return d!=null}),s=n.overflow<0&&!n.empty&&!n.invalidEra&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&o),t._strict&&(s=s&&n.charsLeftOver===0&&n.unusedTokens.length===0&&n.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=s;else return s;return t._isValid}function Tf(t){var n=zs(NaN);return t!=null?ll(Ot(n),t):Ot(n).userInvalidated=!0,n}var HE=De.momentProperties=[],ik=!1;function Kx(t,n){var o,s,d,m=HE.length;if(No(n._isAMomentObject)||(t._isAMomentObject=n._isAMomentObject),No(n._i)||(t._i=n._i),No(n._f)||(t._f=n._f),No(n._l)||(t._l=n._l),No(n._strict)||(t._strict=n._strict),No(n._tzm)||(t._tzm=n._tzm),No(n._isUTC)||(t._isUTC=n._isUTC),No(n._offset)||(t._offset=n._offset),No(n._pf)||(t._pf=Ot(n)),No(n._locale)||(t._locale=n._locale),m>0)for(o=0;o<m;o++)s=HE[o],d=n[s],No(d)||(t[s]=d);return t}function wm(t){Kx(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ik===!1&&(ik=!0,De.updateOffset(this),ik=!1)}function ps(t){return t instanceof wm||t!=null&&t._isAMomentObject!=null}function a3(t){De.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Dr(t,n){var o=!0;return ll(function(){if(De.deprecationHandler!=null&&De.deprecationHandler(null,t),o){var s=[],d,m,p,v=arguments.length;for(m=0;m<v;m++){if(d="",typeof arguments[m]=="object"){d+=`
[`+m+"] ";for(p in arguments[0])yn(arguments[0],p)&&(d+=p+": "+arguments[0][p]+", ");d=d.slice(0,-2)}else d=arguments[m];s.push(d)}a3(t+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),o=!1}return n.apply(this,arguments)},n)}var FE={};function l3(t,n){De.deprecationHandler!=null&&De.deprecationHandler(t,n),FE[t]||(a3(n),FE[t]=!0)}De.suppressDeprecationWarnings=!1;De.deprecationHandler=null;function Ks(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function kCe(t){var n,o;for(o in t)yn(t,o)&&(n=t[o],Ks(n)?this[o]=n:this["_"+o]=n);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Kv(t,n){var o=ll({},t),s;for(s in n)yn(n,s)&&(kc(t[s])&&kc(n[s])?(o[s]={},ll(o[s],t[s]),ll(o[s],n[s])):n[s]!=null?o[s]=n[s]:delete o[s]);for(s in t)yn(t,s)&&!yn(n,s)&&kc(t[s])&&(o[s]=ll({},o[s]));return o}function Px(t){t!=null&&this.set(t)}var Pv;Object.keys?Pv=Object.keys:Pv=function(t){var n,o=[];for(n in t)yn(t,n)&&o.push(n);return o};var vCe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function wCe(t,n,o){var s=this._calendar[t]||this._calendar.sameElse;return Ks(s)?s.call(n,o):s}function Ts(t,n,o){var s=""+Math.abs(t),d=n-s.length,m=t>=0;return(m?o?"+":"":"-")+Math.pow(10,Math.max(0,d)).toString().substr(1)+s}var jx=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,bp=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ok={},id={};function Rt(t,n,o,s){var d=s;typeof s=="string"&&(d=function(){return this[s]()}),t&&(id[t]=d),n&&(id[n[0]]=function(){return Ts(d.apply(this,arguments),n[1],n[2])}),o&&(id[o]=function(){return this.localeData().ordinal(d.apply(this,arguments),t)})}function xCe(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function SCe(t){var n=t.match(jx),o,s;for(o=0,s=n.length;o<s;o++)id[n[o]]?n[o]=id[n[o]]:n[o]=xCe(n[o]);return function(d){var m="",p;for(p=0;p<s;p++)m+=Ks(n[p])?n[p].call(d,t):n[p];return m}}function qp(t,n){return t.isValid()?(n=c3(n,t.localeData()),ok[n]=ok[n]||SCe(n),ok[n](t)):t.localeData().invalidDate()}function c3(t,n){var o=5;function s(d){return n.longDateFormat(d)||d}for(bp.lastIndex=0;o>=0&&bp.test(t);)t=t.replace(bp,s),bp.lastIndex=0,o-=1;return t}var BCe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ZCe(t){var n=this._longDateFormat[t],o=this._longDateFormat[t.toUpperCase()];return n||!o?n:(this._longDateFormat[t]=o.match(jx).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[t])}var GCe="Invalid date";function RCe(){return this._invalidDate}var VCe="%d",WCe=/\d{1,2}/;function _Ce(t){return this._ordinal.replace("%d",t)}var NCe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ECe(t,n,o,s){var d=this._relativeTime[o];return Ks(d)?d(t,n,o,s):d.replace(/%d/i,t)}function XCe(t,n){var o=this._relativeTime[t>0?"future":"past"];return Ks(o)?o(n):o.replace(/%s/i,n)}var ME={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Hr(t){return typeof t=="string"?ME[t]||ME[t.toLowerCase()]:void 0}function Ox(t){var n={},o,s;for(s in t)yn(t,s)&&(o=Hr(s),o&&(n[o]=t[s]));return n}var YCe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function DCe(t){var n=[],o;for(o in t)yn(t,o)&&n.push({unit:o,priority:YCe[o]});return n.sort(function(s,d){return s.priority-d.priority}),n}var g3=/\d/,ur=/\d\d/,d3=/\d{3}/,Ux=/\d{4}/,Jf=/[+-]?\d{6}/,ei=/\d\d?/,u3=/\d\d\d\d?/,h3=/\d\d\d\d\d\d?/,Lf=/\d{1,3}/,Qx=/\d{1,4}/,zf=/[+-]?\d{1,6}/,_d=/\d+/,Kf=/[+-]?\d+/,HCe=/Z|[+-]\d\d:?\d\d/gi,Pf=/Z|[+-]\d\d(?::?\d\d)?/gi,FCe=/[+-]?\d+(\.\d{1,3})?/,xm=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Nd=/^[1-9]\d?/,qx=/^([1-9]\d|\d)/,PI;PI={};function bt(t,n,o){PI[t]=Ks(n)?n:function(s,d){return s&&o?o:n}}function MCe(t,n){return yn(PI,t)?PI[t](n._strict,n._locale):new RegExp(TCe(t))}function TCe(t){return ya(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,o,s,d,m){return o||s||d||m}))}function ya(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Br(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function an(t){var n=+t,o=0;return n!==0&&isFinite(n)&&(o=Br(n)),o}var jv={};function Yn(t,n){var o,s=n,d;for(typeof t=="string"&&(t=[t]),Ba(n)&&(s=function(m,p){p[n]=an(m)}),d=t.length,o=0;o<d;o++)jv[t[o]]=s}function Sm(t,n){Yn(t,function(o,s,d,m){d._w=d._w||{},n(o,d._w,d,m)})}function JCe(t,n,o){n!=null&&yn(jv,t)&&jv[t](n,o._a,o,t)}function jf(t){return t%4===0&&t%100!==0||t%400===0}var Io=0,fa=1,Ns=2,Ti=3,ls=4,ba=5,pc=6,LCe=7,zCe=8;Rt("Y",0,0,function(){var t=this.year();return t<=9999?Ts(t,4):"+"+t});Rt(0,["YY",2],0,function(){return this.year()%100});Rt(0,["YYYY",4],0,"year");Rt(0,["YYYYY",5],0,"year");Rt(0,["YYYYYY",6,!0],0,"year");bt("Y",Kf);bt("YY",ei,ur);bt("YYYY",Qx,Ux);bt("YYYYY",zf,Jf);bt("YYYYYY",zf,Jf);Yn(["YYYYY","YYYYYY"],Io);Yn("YYYY",function(t,n){n[Io]=t.length===2?De.parseTwoDigitYear(t):an(t)});Yn("YY",function(t,n){n[Io]=De.parseTwoDigitYear(t)});Yn("Y",function(t,n){n[Io]=parseInt(t,10)});function Ah(t){return jf(t)?366:365}De.parseTwoDigitYear=function(t){return an(t)+(an(t)>68?1900:2e3)};var m3=Ed("FullYear",!0);function KCe(){return jf(this.year())}function Ed(t,n){return function(o){return o!=null?(C3(this,t,o),De.updateOffset(this,n),this):tm(this,t)}}function tm(t,n){if(!t.isValid())return NaN;var o=t._d,s=t._isUTC;switch(n){case"Milliseconds":return s?o.getUTCMilliseconds():o.getMilliseconds();case"Seconds":return s?o.getUTCSeconds():o.getSeconds();case"Minutes":return s?o.getUTCMinutes():o.getMinutes();case"Hours":return s?o.getUTCHours():o.getHours();case"Date":return s?o.getUTCDate():o.getDate();case"Day":return s?o.getUTCDay():o.getDay();case"Month":return s?o.getUTCMonth():o.getMonth();case"FullYear":return s?o.getUTCFullYear():o.getFullYear();default:return NaN}}function C3(t,n,o){var s,d,m,p,v;if(!(!t.isValid()||isNaN(o))){switch(s=t._d,d=t._isUTC,n){case"Milliseconds":return void(d?s.setUTCMilliseconds(o):s.setMilliseconds(o));case"Seconds":return void(d?s.setUTCSeconds(o):s.setSeconds(o));case"Minutes":return void(d?s.setUTCMinutes(o):s.setMinutes(o));case"Hours":return void(d?s.setUTCHours(o):s.setHours(o));case"Date":return void(d?s.setUTCDate(o):s.setDate(o));case"FullYear":break;default:return}m=o,p=t.month(),v=t.date(),v=v===29&&p===1&&!jf(m)?28:v,d?s.setUTCFullYear(m,p,v):s.setFullYear(m,p,v)}}function PCe(t){return t=Hr(t),Ks(this[t])?this[t]():this}function jCe(t,n){if(typeof t=="object"){t=Ox(t);var o=DCe(t),s,d=o.length;for(s=0;s<d;s++)this[o[s].unit](t[o[s].unit])}else if(t=Hr(t),Ks(this[t]))return this[t](n);return this}function OCe(t,n){return(t%n+n)%n}var vi;Array.prototype.indexOf?vi=Array.prototype.indexOf:vi=function(t){var n;for(n=0;n<this.length;++n)if(this[n]===t)return n;return-1};function $x(t,n){if(isNaN(t)||isNaN(n))return NaN;var o=OCe(n,12);return t+=(n-o)/12,o===1?jf(t)?29:28:31-o%7%2}Rt("M",["MM",2],"Mo",function(){return this.month()+1});Rt("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Rt("MMMM",0,0,function(t){return this.localeData().months(this,t)});bt("M",ei,Nd);bt("MM",ei,ur);bt("MMM",function(t,n){return n.monthsShortRegex(t)});bt("MMMM",function(t,n){return n.monthsRegex(t)});Yn(["M","MM"],function(t,n){n[fa]=an(t)-1});Yn(["MMM","MMMM"],function(t,n,o,s){var d=o._locale.monthsParse(t,s,o._strict);d!=null?n[fa]=d:Ot(o).invalidMonth=t});var UCe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),p3="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),I3=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,QCe=xm,qCe=xm;function $Ce(t,n){return t?Cs(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||I3).test(n)?"format":"standalone"][t.month()]:Cs(this._months)?this._months:this._months.standalone}function epe(t,n){return t?Cs(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[I3.test(n)?"format":"standalone"][t.month()]:Cs(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function tpe(t,n,o){var s,d,m,p=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)m=zs([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(m,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(m,"").toLocaleLowerCase();return o?n==="MMM"?(d=vi.call(this._shortMonthsParse,p),d!==-1?d:null):(d=vi.call(this._longMonthsParse,p),d!==-1?d:null):n==="MMM"?(d=vi.call(this._shortMonthsParse,p),d!==-1?d:(d=vi.call(this._longMonthsParse,p),d!==-1?d:null)):(d=vi.call(this._longMonthsParse,p),d!==-1?d:(d=vi.call(this._shortMonthsParse,p),d!==-1?d:null))}function npe(t,n,o){var s,d,m;if(this._monthsParseExact)return tpe.call(this,t,n,o);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(d=zs([2e3,s]),o&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(d,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(d,"").replace(".","")+"$","i")),!o&&!this._monthsParse[s]&&(m="^"+this.months(d,"")+"|^"+this.monthsShort(d,""),this._monthsParse[s]=new RegExp(m.replace(".",""),"i")),o&&n==="MMMM"&&this._longMonthsParse[s].test(t))return s;if(o&&n==="MMM"&&this._shortMonthsParse[s].test(t))return s;if(!o&&this._monthsParse[s].test(t))return s}}function f3(t,n){if(!t.isValid())return t;if(typeof n=="string"){if(/^\d+$/.test(n))n=an(n);else if(n=t.localeData().monthsParse(n),!Ba(n))return t}var o=n,s=t.date();return s=s<29?s:Math.min(s,$x(t.year(),o)),t._isUTC?t._d.setUTCMonth(o,s):t._d.setMonth(o,s),t}function b3(t){return t!=null?(f3(this,t),De.updateOffset(this,!0),this):tm(this,"Month")}function ipe(){return $x(this.year(),this.month())}function ope(t){return this._monthsParseExact?(yn(this,"_monthsRegex")||A3.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(yn(this,"_monthsShortRegex")||(this._monthsShortRegex=QCe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function rpe(t){return this._monthsParseExact?(yn(this,"_monthsRegex")||A3.call(this),t?this._monthsStrictRegex:this._monthsRegex):(yn(this,"_monthsRegex")||(this._monthsRegex=qCe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function A3(){function t(k,Z){return Z.length-k.length}var n=[],o=[],s=[],d,m,p,v;for(d=0;d<12;d++)m=zs([2e3,d]),p=ya(this.monthsShort(m,"")),v=ya(this.months(m,"")),n.push(p),o.push(v),s.push(v),s.push(p);n.sort(t),o.sort(t),s.sort(t),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function spe(t,n,o,s,d,m,p){var v;return t<100&&t>=0?(v=new Date(t+400,n,o,s,d,m,p),isFinite(v.getFullYear())&&v.setFullYear(t)):v=new Date(t,n,o,s,d,m,p),v}function nm(t){var n,o;return t<100&&t>=0?(o=Array.prototype.slice.call(arguments),o[0]=t+400,n=new Date(Date.UTC.apply(null,o)),isFinite(n.getUTCFullYear())&&n.setUTCFullYear(t)):n=new Date(Date.UTC.apply(null,arguments)),n}function jI(t,n,o){var s=7+n-o,d=(7+nm(t,0,s).getUTCDay()-n)%7;return-d+s-1}function y3(t,n,o,s,d){var m=(7+o-s)%7,p=jI(t,s,d),v=1+7*(n-1)+m+p,k,Z;return v<=0?(k=t-1,Z=Ah(k)+v):v>Ah(t)?(k=t+1,Z=v-Ah(t)):(k=t,Z=v),{year:k,dayOfYear:Z}}function im(t,n,o){var s=jI(t.year(),n,o),d=Math.floor((t.dayOfYear()-s-1)/7)+1,m,p;return d<1?(p=t.year()-1,m=d+ka(p,n,o)):d>ka(t.year(),n,o)?(m=d-ka(t.year(),n,o),p=t.year()+1):(p=t.year(),m=d),{week:m,year:p}}function ka(t,n,o){var s=jI(t,n,o),d=jI(t+1,n,o);return(Ah(t)-s+d)/7}Rt("w",["ww",2],"wo","week");Rt("W",["WW",2],"Wo","isoWeek");bt("w",ei,Nd);bt("ww",ei,ur);bt("W",ei,Nd);bt("WW",ei,ur);Sm(["w","ww","W","WW"],function(t,n,o,s){n[s.substr(0,1)]=an(t)});function ape(t){return im(t,this._week.dow,this._week.doy).week}var lpe={dow:0,doy:6};function cpe(){return this._week.dow}function gpe(){return this._week.doy}function dpe(t){var n=this.localeData().week(this);return t==null?n:this.add((t-n)*7,"d")}function upe(t){var n=im(this,1,4).week;return t==null?n:this.add((t-n)*7,"d")}Rt("d",0,"do","day");Rt("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Rt("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Rt("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Rt("e",0,0,"weekday");Rt("E",0,0,"isoWeekday");bt("d",ei);bt("e",ei);bt("E",ei);bt("dd",function(t,n){return n.weekdaysMinRegex(t)});bt("ddd",function(t,n){return n.weekdaysShortRegex(t)});bt("dddd",function(t,n){return n.weekdaysRegex(t)});Sm(["dd","ddd","dddd"],function(t,n,o,s){var d=o._locale.weekdaysParse(t,s,o._strict);d!=null?n.d=d:Ot(o).invalidWeekday=t});Sm(["d","e","E"],function(t,n,o,s){n[s]=an(t)});function hpe(t,n){return typeof t!="string"?t:isNaN(t)?(t=n.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function mpe(t,n){return typeof t=="string"?n.weekdaysParse(t)%7||7:isNaN(t)?null:t}function e1(t,n){return t.slice(n,7).concat(t.slice(0,n))}var Cpe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),k3="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ppe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ipe=xm,fpe=xm,bpe=xm;function Ape(t,n){var o=Cs(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(n)?"format":"standalone"];return t===!0?e1(o,this._week.dow):t?o[t.day()]:o}function ype(t){return t===!0?e1(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function kpe(t){return t===!0?e1(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function vpe(t,n,o){var s,d,m,p=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)m=zs([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(m,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(m,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(m,"").toLocaleLowerCase();return o?n==="dddd"?(d=vi.call(this._weekdaysParse,p),d!==-1?d:null):n==="ddd"?(d=vi.call(this._shortWeekdaysParse,p),d!==-1?d:null):(d=vi.call(this._minWeekdaysParse,p),d!==-1?d:null):n==="dddd"?(d=vi.call(this._weekdaysParse,p),d!==-1||(d=vi.call(this._shortWeekdaysParse,p),d!==-1)?d:(d=vi.call(this._minWeekdaysParse,p),d!==-1?d:null)):n==="ddd"?(d=vi.call(this._shortWeekdaysParse,p),d!==-1||(d=vi.call(this._weekdaysParse,p),d!==-1)?d:(d=vi.call(this._minWeekdaysParse,p),d!==-1?d:null)):(d=vi.call(this._minWeekdaysParse,p),d!==-1||(d=vi.call(this._weekdaysParse,p),d!==-1)?d:(d=vi.call(this._shortWeekdaysParse,p),d!==-1?d:null))}function wpe(t,n,o){var s,d,m;if(this._weekdaysParseExact)return vpe.call(this,t,n,o);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(d=zs([2e3,1]).day(s),o&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(d,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(d,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(d,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(m="^"+this.weekdays(d,"")+"|^"+this.weekdaysShort(d,"")+"|^"+this.weekdaysMin(d,""),this._weekdaysParse[s]=new RegExp(m.replace(".",""),"i")),o&&n==="dddd"&&this._fullWeekdaysParse[s].test(t))return s;if(o&&n==="ddd"&&this._shortWeekdaysParse[s].test(t))return s;if(o&&n==="dd"&&this._minWeekdaysParse[s].test(t))return s;if(!o&&this._weekdaysParse[s].test(t))return s}}function xpe(t){if(!this.isValid())return t!=null?this:NaN;var n=tm(this,"Day");return t!=null?(t=hpe(t,this.localeData()),this.add(t-n,"d")):n}function Spe(t){if(!this.isValid())return t!=null?this:NaN;var n=(this.day()+7-this.localeData()._week.dow)%7;return t==null?n:this.add(t-n,"d")}function Bpe(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var n=mpe(t,this.localeData());return this.day(this.day()%7?n:n-7)}else return this.day()||7}function Zpe(t){return this._weekdaysParseExact?(yn(this,"_weekdaysRegex")||t1.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(yn(this,"_weekdaysRegex")||(this._weekdaysRegex=Ipe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Gpe(t){return this._weekdaysParseExact?(yn(this,"_weekdaysRegex")||t1.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(yn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=fpe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Rpe(t){return this._weekdaysParseExact?(yn(this,"_weekdaysRegex")||t1.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(yn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=bpe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function t1(){function t(_,N){return N.length-_.length}var n=[],o=[],s=[],d=[],m,p,v,k,Z;for(m=0;m<7;m++)p=zs([2e3,1]).day(m),v=ya(this.weekdaysMin(p,"")),k=ya(this.weekdaysShort(p,"")),Z=ya(this.weekdays(p,"")),n.push(v),o.push(k),s.push(Z),d.push(v),d.push(k),d.push(Z);n.sort(t),o.sort(t),s.sort(t),d.sort(t),this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+n.join("|")+")","i")}function n1(){return this.hours()%12||12}function Vpe(){return this.hours()||24}Rt("H",["HH",2],0,"hour");Rt("h",["hh",2],0,n1);Rt("k",["kk",2],0,Vpe);Rt("hmm",0,0,function(){return""+n1.apply(this)+Ts(this.minutes(),2)});Rt("hmmss",0,0,function(){return""+n1.apply(this)+Ts(this.minutes(),2)+Ts(this.seconds(),2)});Rt("Hmm",0,0,function(){return""+this.hours()+Ts(this.minutes(),2)});Rt("Hmmss",0,0,function(){return""+this.hours()+Ts(this.minutes(),2)+Ts(this.seconds(),2)});function v3(t,n){Rt(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),n)})}v3("a",!0);v3("A",!1);function w3(t,n){return n._meridiemParse}bt("a",w3);bt("A",w3);bt("H",ei,qx);bt("h",ei,Nd);bt("k",ei,Nd);bt("HH",ei,ur);bt("hh",ei,ur);bt("kk",ei,ur);bt("hmm",u3);bt("hmmss",h3);bt("Hmm",u3);bt("Hmmss",h3);Yn(["H","HH"],Ti);Yn(["k","kk"],function(t,n,o){var s=an(t);n[Ti]=s===24?0:s});Yn(["a","A"],function(t,n,o){o._isPm=o._locale.isPM(t),o._meridiem=t});Yn(["h","hh"],function(t,n,o){n[Ti]=an(t),Ot(o).bigHour=!0});Yn("hmm",function(t,n,o){var s=t.length-2;n[Ti]=an(t.substr(0,s)),n[ls]=an(t.substr(s)),Ot(o).bigHour=!0});Yn("hmmss",function(t,n,o){var s=t.length-4,d=t.length-2;n[Ti]=an(t.substr(0,s)),n[ls]=an(t.substr(s,2)),n[ba]=an(t.substr(d)),Ot(o).bigHour=!0});Yn("Hmm",function(t,n,o){var s=t.length-2;n[Ti]=an(t.substr(0,s)),n[ls]=an(t.substr(s))});Yn("Hmmss",function(t,n,o){var s=t.length-4,d=t.length-2;n[Ti]=an(t.substr(0,s)),n[ls]=an(t.substr(s,2)),n[ba]=an(t.substr(d))});function Wpe(t){return(t+"").toLowerCase().charAt(0)==="p"}var _pe=/[ap]\.?m?\.?/i,Npe=Ed("Hours",!0);function Epe(t,n,o){return t>11?o?"pm":"PM":o?"am":"AM"}var x3={calendar:vCe,longDateFormat:BCe,invalidDate:GCe,ordinal:VCe,dayOfMonthOrdinalParse:WCe,relativeTime:NCe,months:UCe,monthsShort:p3,week:lpe,weekdays:Cpe,weekdaysMin:ppe,weekdaysShort:k3,meridiemParse:_pe},oi={},Lu={},om;function Xpe(t,n){var o,s=Math.min(t.length,n.length);for(o=0;o<s;o+=1)if(t[o]!==n[o])return o;return s}function TE(t){return t&&t.toLowerCase().replace("_","-")}function Ype(t){for(var n=0,o,s,d,m;n<t.length;){for(m=TE(t[n]).split("-"),o=m.length,s=TE(t[n+1]),s=s?s.split("-"):null;o>0;){if(d=Of(m.slice(0,o).join("-")),d)return d;if(s&&s.length>=o&&Xpe(m,s)>=o-1)break;o--}n++}return om}function Dpe(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Of(t){var n=null,o;if(oi[t]===void 0&&typeof po<"u"&&po&&po.exports&&Dpe(t))try{n=om._abbr,o=require,o("./locale/"+t),bl(n)}catch{oi[t]=null}return oi[t]}function bl(t,n){var o;return t&&(No(n)?o=Wa(t):o=i1(t,n),o?om=o:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),om._abbr}function i1(t,n){if(n!==null){var o,s=x3;if(n.abbr=t,oi[t]!=null)l3("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=oi[t]._config;else if(n.parentLocale!=null)if(oi[n.parentLocale]!=null)s=oi[n.parentLocale]._config;else if(o=Of(n.parentLocale),o!=null)s=o._config;else return Lu[n.parentLocale]||(Lu[n.parentLocale]=[]),Lu[n.parentLocale].push({name:t,config:n}),null;return oi[t]=new Px(Kv(s,n)),Lu[t]&&Lu[t].forEach(function(d){i1(d.name,d.config)}),bl(t),oi[t]}else return delete oi[t],null}function Hpe(t,n){if(n!=null){var o,s,d=x3;oi[t]!=null&&oi[t].parentLocale!=null?oi[t].set(Kv(oi[t]._config,n)):(s=Of(t),s!=null&&(d=s._config),n=Kv(d,n),s==null&&(n.abbr=t),o=new Px(n),o.parentLocale=oi[t],oi[t]=o),bl(t)}else oi[t]!=null&&(oi[t].parentLocale!=null?(oi[t]=oi[t].parentLocale,t===bl()&&bl(t)):oi[t]!=null&&delete oi[t]);return oi[t]}function Wa(t){var n;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return om;if(!Cs(t)){if(n=Of(t),n)return n;t=[t]}return Ype(t)}function Fpe(){return Pv(oi)}function o1(t){var n,o=t._a;return o&&Ot(t).overflow===-2&&(n=o[fa]<0||o[fa]>11?fa:o[Ns]<1||o[Ns]>$x(o[Io],o[fa])?Ns:o[Ti]<0||o[Ti]>24||o[Ti]===24&&(o[ls]!==0||o[ba]!==0||o[pc]!==0)?Ti:o[ls]<0||o[ls]>59?ls:o[ba]<0||o[ba]>59?ba:o[pc]<0||o[pc]>999?pc:-1,Ot(t)._overflowDayOfYear&&(n<Io||n>Ns)&&(n=Ns),Ot(t)._overflowWeeks&&n===-1&&(n=LCe),Ot(t)._overflowWeekday&&n===-1&&(n=zCe),Ot(t).overflow=n),t}var Mpe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Tpe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Jpe=/Z|[+-]\d\d(?::?\d\d)?/,Ap=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],rk=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Lpe=/^\/?Date\((-?\d+)/i,zpe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Kpe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function S3(t){var n,o,s=t._i,d=Mpe.exec(s)||Tpe.exec(s),m,p,v,k,Z=Ap.length,_=rk.length;if(d){for(Ot(t).iso=!0,n=0,o=Z;n<o;n++)if(Ap[n][1].exec(d[1])){p=Ap[n][0],m=Ap[n][2]!==!1;break}if(p==null){t._isValid=!1;return}if(d[3]){for(n=0,o=_;n<o;n++)if(rk[n][1].exec(d[3])){v=(d[2]||" ")+rk[n][0];break}if(v==null){t._isValid=!1;return}}if(!m&&v!=null){t._isValid=!1;return}if(d[4])if(Jpe.exec(d[4]))k="Z";else{t._isValid=!1;return}t._f=p+(v||"")+(k||""),s1(t)}else t._isValid=!1}function Ppe(t,n,o,s,d,m){var p=[jpe(t),p3.indexOf(n),parseInt(o,10),parseInt(s,10),parseInt(d,10)];return m&&p.push(parseInt(m,10)),p}function jpe(t){var n=parseInt(t,10);return n<=49?2e3+n:n<=999?1900+n:n}function Ope(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Upe(t,n,o){if(t){var s=k3.indexOf(t),d=new Date(n[0],n[1],n[2]).getDay();if(s!==d)return Ot(o).weekdayMismatch=!0,o._isValid=!1,!1}return!0}function Qpe(t,n,o){if(t)return Kpe[t];if(n)return 0;var s=parseInt(o,10),d=s%100,m=(s-d)/100;return m*60+d}function B3(t){var n=zpe.exec(Ope(t._i)),o;if(n){if(o=Ppe(n[4],n[3],n[2],n[5],n[6],n[7]),!Upe(n[1],o,t))return;t._a=o,t._tzm=Qpe(n[8],n[9],n[10]),t._d=nm.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Ot(t).rfc2822=!0}else t._isValid=!1}function qpe(t){var n=Lpe.exec(t._i);if(n!==null){t._d=new Date(+n[1]);return}if(S3(t),t._isValid===!1)delete t._isValid;else return;if(B3(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:De.createFromInputFallback(t)}De.createFromInputFallback=Dr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function _g(t,n,o){return t??n??o}function $pe(t){var n=new Date(De.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function r1(t){var n,o,s=[],d,m,p;if(!t._d){for(d=$pe(t),t._w&&t._a[Ns]==null&&t._a[fa]==null&&eIe(t),t._dayOfYear!=null&&(p=_g(t._a[Io],d[Io]),(t._dayOfYear>Ah(p)||t._dayOfYear===0)&&(Ot(t)._overflowDayOfYear=!0),o=nm(p,0,t._dayOfYear),t._a[fa]=o.getUTCMonth(),t._a[Ns]=o.getUTCDate()),n=0;n<3&&t._a[n]==null;++n)t._a[n]=s[n]=d[n];for(;n<7;n++)t._a[n]=s[n]=t._a[n]==null?n===2?1:0:t._a[n];t._a[Ti]===24&&t._a[ls]===0&&t._a[ba]===0&&t._a[pc]===0&&(t._nextDay=!0,t._a[Ti]=0),t._d=(t._useUTC?nm:spe).apply(null,s),m=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ti]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==m&&(Ot(t).weekdayMismatch=!0)}}function eIe(t){var n,o,s,d,m,p,v,k,Z;n=t._w,n.GG!=null||n.W!=null||n.E!=null?(m=1,p=4,o=_g(n.GG,t._a[Io],im($n(),1,4).year),s=_g(n.W,1),d=_g(n.E,1),(d<1||d>7)&&(k=!0)):(m=t._locale._week.dow,p=t._locale._week.doy,Z=im($n(),m,p),o=_g(n.gg,t._a[Io],Z.year),s=_g(n.w,Z.week),n.d!=null?(d=n.d,(d<0||d>6)&&(k=!0)):n.e!=null?(d=n.e+m,(n.e<0||n.e>6)&&(k=!0)):d=m),s<1||s>ka(o,m,p)?Ot(t)._overflowWeeks=!0:k!=null?Ot(t)._overflowWeekday=!0:(v=y3(o,s,d,m,p),t._a[Io]=v.year,t._dayOfYear=v.dayOfYear)}De.ISO_8601=function(){};De.RFC_2822=function(){};function s1(t){if(t._f===De.ISO_8601){S3(t);return}if(t._f===De.RFC_2822){B3(t);return}t._a=[],Ot(t).empty=!0;var n=""+t._i,o,s,d,m,p,v=n.length,k=0,Z,_;for(d=c3(t._f,t._locale).match(jx)||[],_=d.length,o=0;o<_;o++)m=d[o],s=(n.match(MCe(m,t))||[])[0],s&&(p=n.substr(0,n.indexOf(s)),p.length>0&&Ot(t).unusedInput.push(p),n=n.slice(n.indexOf(s)+s.length),k+=s.length),id[m]?(s?Ot(t).empty=!1:Ot(t).unusedTokens.push(m),JCe(m,s,t)):t._strict&&!s&&Ot(t).unusedTokens.push(m);Ot(t).charsLeftOver=v-k,n.length>0&&Ot(t).unusedInput.push(n),t._a[Ti]<=12&&Ot(t).bigHour===!0&&t._a[Ti]>0&&(Ot(t).bigHour=void 0),Ot(t).parsedDateParts=t._a.slice(0),Ot(t).meridiem=t._meridiem,t._a[Ti]=tIe(t._locale,t._a[Ti],t._meridiem),Z=Ot(t).era,Z!==null&&(t._a[Io]=t._locale.erasConvertYear(Z,t._a[Io])),r1(t),o1(t)}function tIe(t,n,o){var s;return o==null?n:t.meridiemHour!=null?t.meridiemHour(n,o):(t.isPM!=null&&(s=t.isPM(o),s&&n<12&&(n+=12),!s&&n===12&&(n=0)),n)}function nIe(t){var n,o,s,d,m,p,v=!1,k=t._f.length;if(k===0){Ot(t).invalidFormat=!0,t._d=new Date(NaN);return}for(d=0;d<k;d++)m=0,p=!1,n=Kx({},t),t._useUTC!=null&&(n._useUTC=t._useUTC),n._f=t._f[d],s1(n),zx(n)&&(p=!0),m+=Ot(n).charsLeftOver,m+=Ot(n).unusedTokens.length*10,Ot(n).score=m,v?m<s&&(s=m,o=n):(s==null||m<s||p)&&(s=m,o=n,p&&(v=!0));ll(t,o||n)}function iIe(t){if(!t._d){var n=Ox(t._i),o=n.day===void 0?n.date:n.day;t._a=s3([n.year,n.month,o,n.hour,n.minute,n.second,n.millisecond],function(s){return s&&parseInt(s,10)}),r1(t)}}function oIe(t){var n=new wm(o1(Z3(t)));return n._nextDay&&(n.add(1,"d"),n._nextDay=void 0),n}function Z3(t){var n=t._i,o=t._f;return t._locale=t._locale||Wa(t._l),n===null||o===void 0&&n===""?Tf({nullInput:!0}):(typeof n=="string"&&(t._i=n=t._locale.preparse(n)),ps(n)?new wm(o1(n)):(vm(n)?t._d=n:Cs(o)?nIe(t):o?s1(t):rIe(t),zx(t)||(t._d=null),t))}function rIe(t){var n=t._i;No(n)?t._d=new Date(De.now()):vm(n)?t._d=new Date(n.valueOf()):typeof n=="string"?qpe(t):Cs(n)?(t._a=s3(n.slice(0),function(o){return parseInt(o,10)}),r1(t)):kc(n)?iIe(t):Ba(n)?t._d=new Date(n):De.createFromInputFallback(t)}function G3(t,n,o,s,d){var m={};return(n===!0||n===!1)&&(s=n,n=void 0),(o===!0||o===!1)&&(s=o,o=void 0),(kc(t)&&Lx(t)||Cs(t)&&t.length===0)&&(t=void 0),m._isAMomentObject=!0,m._useUTC=m._isUTC=d,m._l=o,m._i=t,m._f=n,m._strict=s,oIe(m)}function $n(t,n,o,s){return G3(t,n,o,s,!1)}var sIe=Dr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=$n.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Tf()}),aIe=Dr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=$n.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Tf()});function R3(t,n){var o,s;if(n.length===1&&Cs(n[0])&&(n=n[0]),!n.length)return $n();for(o=n[0],s=1;s<n.length;++s)(!n[s].isValid()||n[s][t](o))&&(o=n[s]);return o}function lIe(){var t=[].slice.call(arguments,0);return R3("isBefore",t)}function cIe(){var t=[].slice.call(arguments,0);return R3("isAfter",t)}var gIe=function(){return Date.now?Date.now():+new Date},zu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function dIe(t){var n,o=!1,s,d=zu.length;for(n in t)if(yn(t,n)&&!(vi.call(zu,n)!==-1&&(t[n]==null||!isNaN(t[n]))))return!1;for(s=0;s<d;++s)if(t[zu[s]]){if(o)return!1;parseFloat(t[zu[s]])!==an(t[zu[s]])&&(o=!0)}return!0}function uIe(){return this._isValid}function hIe(){return fs(NaN)}function Uf(t){var n=Ox(t),o=n.year||0,s=n.quarter||0,d=n.month||0,m=n.week||n.isoWeek||0,p=n.day||0,v=n.hour||0,k=n.minute||0,Z=n.second||0,_=n.millisecond||0;this._isValid=dIe(n),this._milliseconds=+_+Z*1e3+k*6e4+v*1e3*60*60,this._days=+p+m*7,this._months=+d+s*3+o*12,this._data={},this._locale=Wa(),this._bubble()}function $p(t){return t instanceof Uf}function Ov(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function mIe(t,n,o){var s=Math.min(t.length,n.length),d=Math.abs(t.length-n.length),m=0,p;for(p=0;p<s;p++)an(t[p])!==an(n[p])&&m++;return m+d}function V3(t,n){Rt(t,0,0,function(){var o=this.utcOffset(),s="+";return o<0&&(o=-o,s="-"),s+Ts(~~(o/60),2)+n+Ts(~~o%60,2)})}V3("Z",":");V3("ZZ","");bt("Z",Pf);bt("ZZ",Pf);Yn(["Z","ZZ"],function(t,n,o){o._useUTC=!0,o._tzm=a1(Pf,t)});var CIe=/([\+\-]|\d\d)/gi;function a1(t,n){var o=(n||"").match(t),s,d,m;return o===null?null:(s=o[o.length-1]||[],d=(s+"").match(CIe)||["-",0,0],m=+(d[1]*60)+an(d[2]),m===0?0:d[0]==="+"?m:-m)}function l1(t,n){var o,s;return n._isUTC?(o=n.clone(),s=(ps(t)||vm(t)?t.valueOf():$n(t).valueOf())-o.valueOf(),o._d.setTime(o._d.valueOf()+s),De.updateOffset(o,!1),o):$n(t).local()}function Uv(t){return-Math.round(t._d.getTimezoneOffset())}De.updateOffset=function(){};function pIe(t,n,o){var s=this._offset||0,d;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=a1(Pf,t),t===null)return this}else Math.abs(t)<16&&!o&&(t=t*60);return!this._isUTC&&n&&(d=Uv(this)),this._offset=t,this._isUTC=!0,d!=null&&this.add(d,"m"),s!==t&&(!n||this._changeInProgress?N3(this,fs(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,De.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:Uv(this)}function IIe(t,n){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,n),this):-this.utcOffset()}function fIe(t){return this.utcOffset(0,t)}function bIe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Uv(this),"m")),this}function AIe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=a1(HCe,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function yIe(t){return this.isValid()?(t=t?$n(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function kIe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function vIe(){if(!No(this._isDSTShifted))return this._isDSTShifted;var t={},n;return Kx(t,this),t=Z3(t),t._a?(n=t._isUTC?zs(t._a):$n(t._a),this._isDSTShifted=this.isValid()&&mIe(t._a,n.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function wIe(){return this.isValid()?!this._isUTC:!1}function xIe(){return this.isValid()?this._isUTC:!1}function W3(){return this.isValid()?this._isUTC&&this._offset===0:!1}var SIe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,BIe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function fs(t,n){var o=t,s=null,d,m,p;return $p(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:Ba(t)||!isNaN(+t)?(o={},n?o[n]=+t:o.milliseconds=+t):(s=SIe.exec(t))?(d=s[1]==="-"?-1:1,o={y:0,d:an(s[Ns])*d,h:an(s[Ti])*d,m:an(s[ls])*d,s:an(s[ba])*d,ms:an(Ov(s[pc]*1e3))*d}):(s=BIe.exec(t))?(d=s[1]==="-"?-1:1,o={y:ic(s[2],d),M:ic(s[3],d),w:ic(s[4],d),d:ic(s[5],d),h:ic(s[6],d),m:ic(s[7],d),s:ic(s[8],d)}):o==null?o={}:typeof o=="object"&&("from"in o||"to"in o)&&(p=ZIe($n(o.from),$n(o.to)),o={},o.ms=p.milliseconds,o.M=p.months),m=new Uf(o),$p(t)&&yn(t,"_locale")&&(m._locale=t._locale),$p(t)&&yn(t,"_isValid")&&(m._isValid=t._isValid),m}fs.fn=Uf.prototype;fs.invalid=hIe;function ic(t,n){var o=t&&parseFloat(t.replace(",","."));return(isNaN(o)?0:o)*n}function JE(t,n){var o={};return o.months=n.month()-t.month()+(n.year()-t.year())*12,t.clone().add(o.months,"M").isAfter(n)&&--o.months,o.milliseconds=+n-+t.clone().add(o.months,"M"),o}function ZIe(t,n){var o;return t.isValid()&&n.isValid()?(n=l1(n,t),t.isBefore(n)?o=JE(t,n):(o=JE(n,t),o.milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0}}function _3(t,n){return function(o,s){var d,m;return s!==null&&!isNaN(+s)&&(l3(n,"moment()."+n+"(period, number) is deprecated. Please use moment()."+n+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),m=o,o=s,s=m),d=fs(o,s),N3(this,d,t),this}}function N3(t,n,o,s){var d=n._milliseconds,m=Ov(n._days),p=Ov(n._months);t.isValid()&&(s=s??!0,p&&f3(t,tm(t,"Month")+p*o),m&&C3(t,"Date",tm(t,"Date")+m*o),d&&t._d.setTime(t._d.valueOf()+d*o),s&&De.updateOffset(t,m||p))}var GIe=_3(1,"add"),RIe=_3(-1,"subtract");function E3(t){return typeof t=="string"||t instanceof String}function VIe(t){return ps(t)||vm(t)||E3(t)||Ba(t)||_Ie(t)||WIe(t)||t===null||t===void 0}function WIe(t){var n=kc(t)&&!Lx(t),o=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],d,m,p=s.length;for(d=0;d<p;d+=1)m=s[d],o=o||yn(t,m);return n&&o}function _Ie(t){var n=Cs(t),o=!1;return n&&(o=t.filter(function(s){return!Ba(s)&&E3(t)}).length===0),n&&o}function NIe(t){var n=kc(t)&&!Lx(t),o=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],d,m;for(d=0;d<s.length;d+=1)m=s[d],o=o||yn(t,m);return n&&o}function EIe(t,n){var o=t.diff(n,"days",!0);return o<-6?"sameElse":o<-1?"lastWeek":o<0?"lastDay":o<1?"sameDay":o<2?"nextDay":o<7?"nextWeek":"sameElse"}function XIe(t,n){arguments.length===1&&(arguments[0]?VIe(arguments[0])?(t=arguments[0],n=void 0):NIe(arguments[0])&&(n=arguments[0],t=void 0):(t=void 0,n=void 0));var o=t||$n(),s=l1(o,this).startOf("day"),d=De.calendarFormat(this,s)||"sameElse",m=n&&(Ks(n[d])?n[d].call(this,o):n[d]);return this.format(m||this.localeData().calendar(d,this,$n(o)))}function YIe(){return new wm(this)}function DIe(t,n){var o=ps(t)?t:$n(t);return this.isValid()&&o.isValid()?(n=Hr(n)||"millisecond",n==="millisecond"?this.valueOf()>o.valueOf():o.valueOf()<this.clone().startOf(n).valueOf()):!1}function HIe(t,n){var o=ps(t)?t:$n(t);return this.isValid()&&o.isValid()?(n=Hr(n)||"millisecond",n==="millisecond"?this.valueOf()<o.valueOf():this.clone().endOf(n).valueOf()<o.valueOf()):!1}function FIe(t,n,o,s){var d=ps(t)?t:$n(t),m=ps(n)?n:$n(n);return this.isValid()&&d.isValid()&&m.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(d,o):!this.isBefore(d,o))&&(s[1]===")"?this.isBefore(m,o):!this.isAfter(m,o))):!1}function MIe(t,n){var o=ps(t)?t:$n(t),s;return this.isValid()&&o.isValid()?(n=Hr(n)||"millisecond",n==="millisecond"?this.valueOf()===o.valueOf():(s=o.valueOf(),this.clone().startOf(n).valueOf()<=s&&s<=this.clone().endOf(n).valueOf())):!1}function TIe(t,n){return this.isSame(t,n)||this.isAfter(t,n)}function JIe(t,n){return this.isSame(t,n)||this.isBefore(t,n)}function LIe(t,n,o){var s,d,m;if(!this.isValid())return NaN;if(s=l1(t,this),!s.isValid())return NaN;switch(d=(s.utcOffset()-this.utcOffset())*6e4,n=Hr(n),n){case"year":m=eI(this,s)/12;break;case"month":m=eI(this,s);break;case"quarter":m=eI(this,s)/3;break;case"second":m=(this-s)/1e3;break;case"minute":m=(this-s)/6e4;break;case"hour":m=(this-s)/36e5;break;case"day":m=(this-s-d)/864e5;break;case"week":m=(this-s-d)/6048e5;break;default:m=this-s}return o?m:Br(m)}function eI(t,n){if(t.date()<n.date())return-eI(n,t);var o=(n.year()-t.year())*12+(n.month()-t.month()),s=t.clone().add(o,"months"),d,m;return n-s<0?(d=t.clone().add(o-1,"months"),m=(n-s)/(s-d)):(d=t.clone().add(o+1,"months"),m=(n-s)/(d-s)),-(o+m)||0}De.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";De.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function zIe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function KIe(t){if(!this.isValid())return null;var n=t!==!0,o=n?this.clone().utc():this;return o.year()<0||o.year()>9999?qp(o,n?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ks(Date.prototype.toISOString)?n?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",qp(o,"Z")):qp(o,n?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function PIe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",n="",o,s,d,m;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",n="Z"),o="["+t+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",d="-MM-DD[T]HH:mm:ss.SSS",m=n+'[")]',this.format(o+s+d+m)}function jIe(t){t||(t=this.isUtc()?De.defaultFormatUtc:De.defaultFormat);var n=qp(this,t);return this.localeData().postformat(n)}function OIe(t,n){return this.isValid()&&(ps(t)&&t.isValid()||$n(t).isValid())?fs({to:this,from:t}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function UIe(t){return this.from($n(),t)}function QIe(t,n){return this.isValid()&&(ps(t)&&t.isValid()||$n(t).isValid())?fs({from:this,to:t}).locale(this.locale()).humanize(!n):this.localeData().invalidDate()}function qIe(t){return this.to($n(),t)}function X3(t){var n;return t===void 0?this._locale._abbr:(n=Wa(t),n!=null&&(this._locale=n),this)}var Y3=Dr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function D3(){return this._locale}var OI=1e3,od=60*OI,UI=60*od,H3=(365*400+97)*24*UI;function rd(t,n){return(t%n+n)%n}function F3(t,n,o){return t<100&&t>=0?new Date(t+400,n,o)-H3:new Date(t,n,o).valueOf()}function M3(t,n,o){return t<100&&t>=0?Date.UTC(t+400,n,o)-H3:Date.UTC(t,n,o)}function $Ie(t){var n,o;if(t=Hr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(o=this._isUTC?M3:F3,t){case"year":n=o(this.year(),0,1);break;case"quarter":n=o(this.year(),this.month()-this.month()%3,1);break;case"month":n=o(this.year(),this.month(),1);break;case"week":n=o(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=o(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=rd(n+(this._isUTC?0:this.utcOffset()*od),UI);break;case"minute":n=this._d.valueOf(),n-=rd(n,od);break;case"second":n=this._d.valueOf(),n-=rd(n,OI);break}return this._d.setTime(n),De.updateOffset(this,!0),this}function efe(t){var n,o;if(t=Hr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(o=this._isUTC?M3:F3,t){case"year":n=o(this.year()+1,0,1)-1;break;case"quarter":n=o(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=o(this.year(),this.month()+1,1)-1;break;case"week":n=o(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=o(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=o(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=UI-rd(n+(this._isUTC?0:this.utcOffset()*od),UI)-1;break;case"minute":n=this._d.valueOf(),n+=od-rd(n,od)-1;break;case"second":n=this._d.valueOf(),n+=OI-rd(n,OI)-1;break}return this._d.setTime(n),De.updateOffset(this,!0),this}function tfe(){return this._d.valueOf()-(this._offset||0)*6e4}function nfe(){return Math.floor(this.valueOf()/1e3)}function ife(){return new Date(this.valueOf())}function ofe(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function rfe(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function sfe(){return this.isValid()?this.toISOString():null}function afe(){return zx(this)}function lfe(){return ll({},Ot(this))}function cfe(){return Ot(this).overflow}function gfe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Rt("N",0,0,"eraAbbr");Rt("NN",0,0,"eraAbbr");Rt("NNN",0,0,"eraAbbr");Rt("NNNN",0,0,"eraName");Rt("NNNNN",0,0,"eraNarrow");Rt("y",["y",1],"yo","eraYear");Rt("y",["yy",2],0,"eraYear");Rt("y",["yyy",3],0,"eraYear");Rt("y",["yyyy",4],0,"eraYear");bt("N",c1);bt("NN",c1);bt("NNN",c1);bt("NNNN",yfe);bt("NNNNN",kfe);Yn(["N","NN","NNN","NNNN","NNNNN"],function(t,n,o,s){var d=o._locale.erasParse(t,s,o._strict);d?Ot(o).era=d:Ot(o).invalidEra=t});bt("y",_d);bt("yy",_d);bt("yyy",_d);bt("yyyy",_d);bt("yo",vfe);Yn(["y","yy","yyy","yyyy"],Io);Yn(["yo"],function(t,n,o,s){var d;o._locale._eraYearOrdinalRegex&&(d=t.match(o._locale._eraYearOrdinalRegex)),o._locale.eraYearOrdinalParse?n[Io]=o._locale.eraYearOrdinalParse(t,d):n[Io]=parseInt(t,10)});function dfe(t,n){var o,s,d,m=this._eras||Wa("en")._eras;for(o=0,s=m.length;o<s;++o){switch(typeof m[o].since){case"string":d=De(m[o].since).startOf("day"),m[o].since=d.valueOf();break}switch(typeof m[o].until){case"undefined":m[o].until=1/0;break;case"string":d=De(m[o].until).startOf("day").valueOf(),m[o].until=d.valueOf();break}}return m}function ufe(t,n,o){var s,d,m=this.eras(),p,v,k;for(t=t.toUpperCase(),s=0,d=m.length;s<d;++s)if(p=m[s].name.toUpperCase(),v=m[s].abbr.toUpperCase(),k=m[s].narrow.toUpperCase(),o)switch(n){case"N":case"NN":case"NNN":if(v===t)return m[s];break;case"NNNN":if(p===t)return m[s];break;case"NNNNN":if(k===t)return m[s];break}else if([p,v,k].indexOf(t)>=0)return m[s]}function hfe(t,n){var o=t.since<=t.until?1:-1;return n===void 0?De(t.since).year():De(t.since).year()+(n-t.offset)*o}function mfe(){var t,n,o,s=this.localeData().eras();for(t=0,n=s.length;t<n;++t)if(o=this.clone().startOf("day").valueOf(),s[t].since<=o&&o<=s[t].until||s[t].until<=o&&o<=s[t].since)return s[t].name;return""}function Cfe(){var t,n,o,s=this.localeData().eras();for(t=0,n=s.length;t<n;++t)if(o=this.clone().startOf("day").valueOf(),s[t].since<=o&&o<=s[t].until||s[t].until<=o&&o<=s[t].since)return s[t].narrow;return""}function pfe(){var t,n,o,s=this.localeData().eras();for(t=0,n=s.length;t<n;++t)if(o=this.clone().startOf("day").valueOf(),s[t].since<=o&&o<=s[t].until||s[t].until<=o&&o<=s[t].since)return s[t].abbr;return""}function Ife(){var t,n,o,s,d=this.localeData().eras();for(t=0,n=d.length;t<n;++t)if(o=d[t].since<=d[t].until?1:-1,s=this.clone().startOf("day").valueOf(),d[t].since<=s&&s<=d[t].until||d[t].until<=s&&s<=d[t].since)return(this.year()-De(d[t].since).year())*o+d[t].offset;return this.year()}function ffe(t){return yn(this,"_erasNameRegex")||g1.call(this),t?this._erasNameRegex:this._erasRegex}function bfe(t){return yn(this,"_erasAbbrRegex")||g1.call(this),t?this._erasAbbrRegex:this._erasRegex}function Afe(t){return yn(this,"_erasNarrowRegex")||g1.call(this),t?this._erasNarrowRegex:this._erasRegex}function c1(t,n){return n.erasAbbrRegex(t)}function yfe(t,n){return n.erasNameRegex(t)}function kfe(t,n){return n.erasNarrowRegex(t)}function vfe(t,n){return n._eraYearOrdinalRegex||_d}function g1(){var t=[],n=[],o=[],s=[],d,m,p,v,k,Z=this.eras();for(d=0,m=Z.length;d<m;++d)p=ya(Z[d].name),v=ya(Z[d].abbr),k=ya(Z[d].narrow),n.push(p),t.push(v),o.push(k),s.push(p),s.push(v),s.push(k);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}Rt(0,["gg",2],0,function(){return this.weekYear()%100});Rt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Qf(t,n){Rt(0,[t,t.length],0,n)}Qf("gggg","weekYear");Qf("ggggg","weekYear");Qf("GGGG","isoWeekYear");Qf("GGGGG","isoWeekYear");bt("G",Kf);bt("g",Kf);bt("GG",ei,ur);bt("gg",ei,ur);bt("GGGG",Qx,Ux);bt("gggg",Qx,Ux);bt("GGGGG",zf,Jf);bt("ggggg",zf,Jf);Sm(["gggg","ggggg","GGGG","GGGGG"],function(t,n,o,s){n[s.substr(0,2)]=an(t)});Sm(["gg","GG"],function(t,n,o,s){n[s]=De.parseTwoDigitYear(t)});function wfe(t){return T3.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function xfe(t){return T3.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Sfe(){return ka(this.year(),1,4)}function Bfe(){return ka(this.isoWeekYear(),1,4)}function Zfe(){var t=this.localeData()._week;return ka(this.year(),t.dow,t.doy)}function Gfe(){var t=this.localeData()._week;return ka(this.weekYear(),t.dow,t.doy)}function T3(t,n,o,s,d){var m;return t==null?im(this,s,d).year:(m=ka(t,s,d),n>m&&(n=m),Rfe.call(this,t,n,o,s,d))}function Rfe(t,n,o,s,d){var m=y3(t,n,o,s,d),p=nm(m.year,0,m.dayOfYear);return this.year(p.getUTCFullYear()),this.month(p.getUTCMonth()),this.date(p.getUTCDate()),this}Rt("Q",0,"Qo","quarter");bt("Q",g3);Yn("Q",function(t,n){n[fa]=(an(t)-1)*3});function Vfe(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Rt("D",["DD",2],"Do","date");bt("D",ei,Nd);bt("DD",ei,ur);bt("Do",function(t,n){return t?n._dayOfMonthOrdinalParse||n._ordinalParse:n._dayOfMonthOrdinalParseLenient});Yn(["D","DD"],Ns);Yn("Do",function(t,n){n[Ns]=an(t.match(ei)[0])});var J3=Ed("Date",!0);Rt("DDD",["DDDD",3],"DDDo","dayOfYear");bt("DDD",Lf);bt("DDDD",d3);Yn(["DDD","DDDD"],function(t,n,o){o._dayOfYear=an(t)});function Wfe(t){var n=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?n:this.add(t-n,"d")}Rt("m",["mm",2],0,"minute");bt("m",ei,qx);bt("mm",ei,ur);Yn(["m","mm"],ls);var _fe=Ed("Minutes",!1);Rt("s",["ss",2],0,"second");bt("s",ei,qx);bt("ss",ei,ur);Yn(["s","ss"],ba);var Nfe=Ed("Seconds",!1);Rt("S",0,0,function(){return~~(this.millisecond()/100)});Rt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Rt(0,["SSS",3],0,"millisecond");Rt(0,["SSSS",4],0,function(){return this.millisecond()*10});Rt(0,["SSSSS",5],0,function(){return this.millisecond()*100});Rt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Rt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Rt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Rt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});bt("S",Lf,g3);bt("SS",Lf,ur);bt("SSS",Lf,d3);var cl,L3;for(cl="SSSS";cl.length<=9;cl+="S")bt(cl,_d);function Efe(t,n){n[pc]=an(("0."+t)*1e3)}for(cl="S";cl.length<=9;cl+="S")Yn(cl,Efe);L3=Ed("Milliseconds",!1);Rt("z",0,0,"zoneAbbr");Rt("zz",0,0,"zoneName");function Xfe(){return this._isUTC?"UTC":""}function Yfe(){return this._isUTC?"Coordinated Universal Time":""}var ot=wm.prototype;ot.add=GIe;ot.calendar=XIe;ot.clone=YIe;ot.diff=LIe;ot.endOf=efe;ot.format=jIe;ot.from=OIe;ot.fromNow=UIe;ot.to=QIe;ot.toNow=qIe;ot.get=PCe;ot.invalidAt=cfe;ot.isAfter=DIe;ot.isBefore=HIe;ot.isBetween=FIe;ot.isSame=MIe;ot.isSameOrAfter=TIe;ot.isSameOrBefore=JIe;ot.isValid=afe;ot.lang=Y3;ot.locale=X3;ot.localeData=D3;ot.max=aIe;ot.min=sIe;ot.parsingFlags=lfe;ot.set=jCe;ot.startOf=$Ie;ot.subtract=RIe;ot.toArray=ofe;ot.toObject=rfe;ot.toDate=ife;ot.toISOString=KIe;ot.inspect=PIe;typeof Symbol<"u"&&Symbol.for!=null&&(ot[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ot.toJSON=sfe;ot.toString=zIe;ot.unix=nfe;ot.valueOf=tfe;ot.creationData=gfe;ot.eraName=mfe;ot.eraNarrow=Cfe;ot.eraAbbr=pfe;ot.eraYear=Ife;ot.year=m3;ot.isLeapYear=KCe;ot.weekYear=wfe;ot.isoWeekYear=xfe;ot.quarter=ot.quarters=Vfe;ot.month=b3;ot.daysInMonth=ipe;ot.week=ot.weeks=dpe;ot.isoWeek=ot.isoWeeks=upe;ot.weeksInYear=Zfe;ot.weeksInWeekYear=Gfe;ot.isoWeeksInYear=Sfe;ot.isoWeeksInISOWeekYear=Bfe;ot.date=J3;ot.day=ot.days=xpe;ot.weekday=Spe;ot.isoWeekday=Bpe;ot.dayOfYear=Wfe;ot.hour=ot.hours=Npe;ot.minute=ot.minutes=_fe;ot.second=ot.seconds=Nfe;ot.millisecond=ot.milliseconds=L3;ot.utcOffset=pIe;ot.utc=fIe;ot.local=bIe;ot.parseZone=AIe;ot.hasAlignedHourOffset=yIe;ot.isDST=kIe;ot.isLocal=wIe;ot.isUtcOffset=xIe;ot.isUtc=W3;ot.isUTC=W3;ot.zoneAbbr=Xfe;ot.zoneName=Yfe;ot.dates=Dr("dates accessor is deprecated. Use date instead.",J3);ot.months=Dr("months accessor is deprecated. Use month instead",b3);ot.years=Dr("years accessor is deprecated. Use year instead",m3);ot.zone=Dr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",IIe);ot.isDSTShifted=Dr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",vIe);function Dfe(t){return $n(t*1e3)}function Hfe(){return $n.apply(null,arguments).parseZone()}function z3(t){return t}var kn=Px.prototype;kn.calendar=wCe;kn.longDateFormat=ZCe;kn.invalidDate=RCe;kn.ordinal=_Ce;kn.preparse=z3;kn.postformat=z3;kn.relativeTime=ECe;kn.pastFuture=XCe;kn.set=kCe;kn.eras=dfe;kn.erasParse=ufe;kn.erasConvertYear=hfe;kn.erasAbbrRegex=bfe;kn.erasNameRegex=ffe;kn.erasNarrowRegex=Afe;kn.months=$Ce;kn.monthsShort=epe;kn.monthsParse=npe;kn.monthsRegex=rpe;kn.monthsShortRegex=ope;kn.week=ape;kn.firstDayOfYear=gpe;kn.firstDayOfWeek=cpe;kn.weekdays=Ape;kn.weekdaysMin=kpe;kn.weekdaysShort=ype;kn.weekdaysParse=wpe;kn.weekdaysRegex=Zpe;kn.weekdaysShortRegex=Gpe;kn.weekdaysMinRegex=Rpe;kn.isPM=Wpe;kn.meridiem=Epe;function QI(t,n,o,s){var d=Wa(),m=zs().set(s,n);return d[o](m,t)}function K3(t,n,o){if(Ba(t)&&(n=t,t=void 0),t=t||"",n!=null)return QI(t,n,o,"month");var s,d=[];for(s=0;s<12;s++)d[s]=QI(t,s,o,"month");return d}function d1(t,n,o,s){typeof t=="boolean"?(Ba(n)&&(o=n,n=void 0),n=n||""):(n=t,o=n,t=!1,Ba(n)&&(o=n,n=void 0),n=n||"");var d=Wa(),m=t?d._week.dow:0,p,v=[];if(o!=null)return QI(n,(o+m)%7,s,"day");for(p=0;p<7;p++)v[p]=QI(n,(p+m)%7,s,"day");return v}function Ffe(t,n){return K3(t,n,"months")}function Mfe(t,n){return K3(t,n,"monthsShort")}function Tfe(t,n,o){return d1(t,n,o,"weekdays")}function Jfe(t,n,o){return d1(t,n,o,"weekdaysShort")}function Lfe(t,n,o){return d1(t,n,o,"weekdaysMin")}bl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var n=t%10,o=an(t%100/10)===1?"th":n===1?"st":n===2?"nd":n===3?"rd":"th";return t+o}});De.lang=Dr("moment.lang is deprecated. Use moment.locale instead.",bl);De.langData=Dr("moment.langData is deprecated. Use moment.localeData instead.",Wa);var aa=Math.abs;function zfe(){var t=this._data;return this._milliseconds=aa(this._milliseconds),this._days=aa(this._days),this._months=aa(this._months),t.milliseconds=aa(t.milliseconds),t.seconds=aa(t.seconds),t.minutes=aa(t.minutes),t.hours=aa(t.hours),t.months=aa(t.months),t.years=aa(t.years),this}function P3(t,n,o,s){var d=fs(n,o);return t._milliseconds+=s*d._milliseconds,t._days+=s*d._days,t._months+=s*d._months,t._bubble()}function Kfe(t,n){return P3(this,t,n,1)}function Pfe(t,n){return P3(this,t,n,-1)}function LE(t){return t<0?Math.floor(t):Math.ceil(t)}function jfe(){var t=this._milliseconds,n=this._days,o=this._months,s=this._data,d,m,p,v,k;return t>=0&&n>=0&&o>=0||t<=0&&n<=0&&o<=0||(t+=LE(Qv(o)+n)*864e5,n=0,o=0),s.milliseconds=t%1e3,d=Br(t/1e3),s.seconds=d%60,m=Br(d/60),s.minutes=m%60,p=Br(m/60),s.hours=p%24,n+=Br(p/24),k=Br(j3(n)),o+=k,n-=LE(Qv(k)),v=Br(o/12),o%=12,s.days=n,s.months=o,s.years=v,this}function j3(t){return t*4800/146097}function Qv(t){return t*146097/4800}function Ofe(t){if(!this.isValid())return NaN;var n,o,s=this._milliseconds;if(t=Hr(t),t==="month"||t==="quarter"||t==="year")switch(n=this._days+s/864e5,o=this._months+j3(n),t){case"month":return o;case"quarter":return o/3;case"year":return o/12}else switch(n=this._days+Math.round(Qv(this._months)),t){case"week":return n/7+s/6048e5;case"day":return n+s/864e5;case"hour":return n*24+s/36e5;case"minute":return n*1440+s/6e4;case"second":return n*86400+s/1e3;case"millisecond":return Math.floor(n*864e5)+s;default:throw new Error("Unknown unit "+t)}}function _a(t){return function(){return this.as(t)}}var O3=_a("ms"),Ufe=_a("s"),Qfe=_a("m"),qfe=_a("h"),$fe=_a("d"),ebe=_a("w"),tbe=_a("M"),nbe=_a("Q"),ibe=_a("y"),obe=O3;function rbe(){return fs(this)}function sbe(t){return t=Hr(t),this.isValid()?this[t+"s"]():NaN}function Fc(t){return function(){return this.isValid()?this._data[t]:NaN}}var abe=Fc("milliseconds"),lbe=Fc("seconds"),cbe=Fc("minutes"),gbe=Fc("hours"),dbe=Fc("days"),ube=Fc("months"),hbe=Fc("years");function mbe(){return Br(this.days()/7)}var ga=Math.round,Og={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Cbe(t,n,o,s,d){return d.relativeTime(n||1,!!o,t,s)}function pbe(t,n,o,s){var d=fs(t).abs(),m=ga(d.as("s")),p=ga(d.as("m")),v=ga(d.as("h")),k=ga(d.as("d")),Z=ga(d.as("M")),_=ga(d.as("w")),N=ga(d.as("y")),G=m<=o.ss&&["s",m]||m<o.s&&["ss",m]||p<=1&&["m"]||p<o.m&&["mm",p]||v<=1&&["h"]||v<o.h&&["hh",v]||k<=1&&["d"]||k<o.d&&["dd",k];return o.w!=null&&(G=G||_<=1&&["w"]||_<o.w&&["ww",_]),G=G||Z<=1&&["M"]||Z<o.M&&["MM",Z]||N<=1&&["y"]||["yy",N],G[2]=n,G[3]=+t>0,G[4]=s,Cbe.apply(null,G)}function Ibe(t){return t===void 0?ga:typeof t=="function"?(ga=t,!0):!1}function fbe(t,n){return Og[t]===void 0?!1:n===void 0?Og[t]:(Og[t]=n,t==="s"&&(Og.ss=n-1),!0)}function bbe(t,n){if(!this.isValid())return this.localeData().invalidDate();var o=!1,s=Og,d,m;return typeof t=="object"&&(n=t,t=!1),typeof t=="boolean"&&(o=t),typeof n=="object"&&(s=Object.assign({},Og,n),n.s!=null&&n.ss==null&&(s.ss=n.s-1)),d=this.localeData(),m=pbe(this,!o,s,d),o&&(m=d.pastFuture(+this,m)),d.postformat(m)}var sk=Math.abs;function wg(t){return(t>0)-(t<0)||+t}function qf(){if(!this.isValid())return this.localeData().invalidDate();var t=sk(this._milliseconds)/1e3,n=sk(this._days),o=sk(this._months),s,d,m,p,v=this.asSeconds(),k,Z,_,N;return v?(s=Br(t/60),d=Br(s/60),t%=60,s%=60,m=Br(o/12),o%=12,p=t?t.toFixed(3).replace(/\.?0+$/,""):"",k=v<0?"-":"",Z=wg(this._months)!==wg(v)?"-":"",_=wg(this._days)!==wg(v)?"-":"",N=wg(this._milliseconds)!==wg(v)?"-":"",k+"P"+(m?Z+m+"Y":"")+(o?Z+o+"M":"")+(n?_+n+"D":"")+(d||s||t?"T":"")+(d?N+d+"H":"")+(s?N+s+"M":"")+(t?N+p+"S":"")):"P0D"}var un=Uf.prototype;un.isValid=uIe;un.abs=zfe;un.add=Kfe;un.subtract=Pfe;un.as=Ofe;un.asMilliseconds=O3;un.asSeconds=Ufe;un.asMinutes=Qfe;un.asHours=qfe;un.asDays=$fe;un.asWeeks=ebe;un.asMonths=tbe;un.asQuarters=nbe;un.asYears=ibe;un.valueOf=obe;un._bubble=jfe;un.clone=rbe;un.get=sbe;un.milliseconds=abe;un.seconds=lbe;un.minutes=cbe;un.hours=gbe;un.days=dbe;un.weeks=mbe;un.months=ube;un.years=hbe;un.humanize=bbe;un.toISOString=qf;un.toString=qf;un.toJSON=qf;un.locale=X3;un.localeData=D3;un.toIsoString=Dr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qf);un.lang=Y3;Rt("X",0,0,"unix");Rt("x",0,0,"valueOf");bt("x",Kf);bt("X",FCe);Yn("X",function(t,n,o){o._d=new Date(parseFloat(t)*1e3)});Yn("x",function(t,n,o){o._d=new Date(an(t))});//! moment.js
De.version="2.30.1";ACe($n);De.fn=ot;De.min=lIe;De.max=cIe;De.now=gIe;De.utc=zs;De.unix=Dfe;De.months=Ffe;De.isDate=vm;De.locale=bl;De.invalid=Tf;De.duration=fs;De.isMoment=ps;De.weekdays=Tfe;De.parseZone=Hfe;De.localeData=Wa;De.isDuration=$p;De.monthsShort=Mfe;De.weekdaysMin=Lfe;De.defineLocale=i1;De.updateLocale=Hpe;De.locales=Fpe;De.weekdaysShort=Jfe;De.normalizeUnits=Hr;De.relativeTimeRounding=Ibe;De.relativeTimeThreshold=fbe;De.calendarFormat=EIe;De.prototype=ot;De.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var Do=function(){return Do=Object.assign||function(n){for(var o,s=1,d=arguments.length;s<d;s++){o=arguments[s];for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(n[m]=o[m])}return n},Do.apply(this,arguments)};function rm(t,n,o){if(o||arguments.length===2)for(var s=0,d=n.length,m;s<d;s++)(m||!(s in n))&&(m||(m=Array.prototype.slice.call(n,0,s)),m[s]=n[s]);return t.concat(m||Array.prototype.slice.call(n))}function U3(t){var n=Object.create(null);return function(o){return n[o]===void 0&&(n[o]=t(o)),n[o]}}var Abe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,ybe=U3(function(t){return Abe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),On="-ms-",yh="-moz-",Bn="-webkit-",Q3="comm",$f="rule",u1="decl",kbe="@import",q3="@keyframes",vbe="@layer",$3=Math.abs,h1=String.fromCharCode,qv=Object.assign;function wbe(t,n){return Oi(t,0)^45?(((n<<2^Oi(t,0))<<2^Oi(t,1))<<2^Oi(t,2))<<2^Oi(t,3):0}function eM(t){return t.trim()}function da(t,n){return(t=n.exec(t))?t[0]:t}function Qt(t,n,o){return t.replace(n,o)}function tI(t,n,o){return t.indexOf(n,o)}function Oi(t,n){return t.charCodeAt(n)|0}function Id(t,n,o){return t.slice(n,o)}function Rs(t){return t.length}function tM(t){return t.length}function rh(t,n){return n.push(t),t}function xbe(t,n){return t.map(n).join("")}function zE(t,n){return t.filter(function(o){return!da(o,n)})}var eb=1,fd=1,nM=0,Xr=0,Gi=0,Xd="";function tb(t,n,o,s,d,m,p,v){return{value:t,root:n,parent:o,type:s,props:d,children:m,line:eb,column:fd,length:p,return:"",siblings:v}}function $a(t,n){return qv(tb("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},n)}function xg(t){for(;t.root;)t=$a(t.root,{children:[t]});rh(t,t.siblings)}function Sbe(){return Gi}function Bbe(){return Gi=Xr>0?Oi(Xd,--Xr):0,fd--,Gi===10&&(fd=1,eb--),Gi}function us(){return Gi=Xr<nM?Oi(Xd,Xr++):0,fd++,Gi===10&&(fd=1,eb++),Gi}function vc(){return Oi(Xd,Xr)}function nI(){return Xr}function nb(t,n){return Id(Xd,t,n)}function $v(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Zbe(t){return eb=fd=1,nM=Rs(Xd=t),Xr=0,[]}function Gbe(t){return Xd="",t}function ak(t){return eM(nb(Xr-1,ew(t===91?t+2:t===40?t+1:t)))}function Rbe(t){for(;(Gi=vc())&&Gi<33;)us();return $v(t)>2||$v(Gi)>3?"":" "}function Vbe(t,n){for(;--n&&us()&&!(Gi<48||Gi>102||Gi>57&&Gi<65||Gi>70&&Gi<97););return nb(t,nI()+(n<6&&vc()==32&&us()==32))}function ew(t){for(;us();)switch(Gi){case t:return Xr;case 34:case 39:t!==34&&t!==39&&ew(Gi);break;case 40:t===41&&ew(t);break;case 92:us();break}return Xr}function Wbe(t,n){for(;us()&&t+Gi!==57;)if(t+Gi===84&&vc()===47)break;return"/*"+nb(n,Xr-1)+"*"+h1(t===47?t:us())}function _be(t){for(;!$v(vc());)us();return nb(t,Xr)}function Nbe(t){return Gbe(iI("",null,null,null,[""],t=Zbe(t),0,[0],t))}function iI(t,n,o,s,d,m,p,v,k){for(var Z=0,_=0,N=p,G=0,D=0,M=0,L=1,O=1,P=1,F=0,j="",ie=d,ne=m,ue=s,K=j;O;)switch(M=F,F=us()){case 40:if(M!=108&&Oi(K,N-1)==58){tI(K+=Qt(ak(F),"&","&\f"),"&\f",$3(Z?v[Z-1]:0))!=-1&&(P=-1);break}case 34:case 39:case 91:K+=ak(F);break;case 9:case 10:case 13:case 32:K+=Rbe(M);break;case 92:K+=Vbe(nI()-1,7);continue;case 47:switch(vc()){case 42:case 47:rh(Ebe(Wbe(us(),nI()),n,o,k),k);break;default:K+="/"}break;case 123*L:v[Z++]=Rs(K)*P;case 125*L:case 59:case 0:switch(F){case 0:case 125:O=0;case 59+_:P==-1&&(K=Qt(K,/\f/g,"")),D>0&&Rs(K)-N&&rh(D>32?PE(K+";",s,o,N-1,k):PE(Qt(K," ","")+";",s,o,N-2,k),k);break;case 59:K+=";";default:if(rh(ue=KE(K,n,o,Z,_,d,v,j,ie=[],ne=[],N,m),m),F===123)if(_===0)iI(K,n,ue,ue,ie,m,N,v,ne);else switch(G===99&&Oi(K,3)===110?100:G){case 100:case 108:case 109:case 115:iI(t,ue,ue,s&&rh(KE(t,ue,ue,0,0,d,v,j,d,ie=[],N,ne),ne),d,ne,N,v,s?ie:ne);break;default:iI(K,ue,ue,ue,[""],ne,0,v,ne)}}Z=_=D=0,L=P=1,j=K="",N=p;break;case 58:N=1+Rs(K),D=M;default:if(L<1){if(F==123)--L;else if(F==125&&L++==0&&Bbe()==125)continue}switch(K+=h1(F),F*L){case 38:P=_>0?1:(K+="\f",-1);break;case 44:v[Z++]=(Rs(K)-1)*P,P=1;break;case 64:vc()===45&&(K+=ak(us())),G=vc(),_=N=Rs(j=K+=_be(nI())),F++;break;case 45:M===45&&Rs(K)==2&&(L=0)}}return m}function KE(t,n,o,s,d,m,p,v,k,Z,_,N){for(var G=d-1,D=d===0?m:[""],M=tM(D),L=0,O=0,P=0;L<s;++L)for(var F=0,j=Id(t,G+1,G=$3(O=p[L])),ie=t;F<M;++F)(ie=eM(O>0?D[F]+" "+j:Qt(j,/&\f/g,D[F])))&&(k[P++]=ie);return tb(t,n,o,d===0?$f:v,k,Z,_,N)}function Ebe(t,n,o,s){return tb(t,n,o,Q3,h1(Sbe()),Id(t,2,-2),0,s)}function PE(t,n,o,s,d){return tb(t,n,o,u1,Id(t,0,s),Id(t,s+1,-1),s,d)}function iM(t,n,o){switch(wbe(t,n)){case 5103:return Bn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Bn+t+t;case 4789:return yh+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Bn+t+yh+t+On+t+t;case 5936:switch(Oi(t,n+11)){case 114:return Bn+t+On+Qt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Bn+t+On+Qt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Bn+t+On+Qt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Bn+t+On+t+t;case 6165:return Bn+t+On+"flex-"+t+t;case 5187:return Bn+t+Qt(t,/(\w+).+(:[^]+)/,Bn+"box-$1$2"+On+"flex-$1$2")+t;case 5443:return Bn+t+On+"flex-item-"+Qt(t,/flex-|-self/g,"")+(da(t,/flex-|baseline/)?"":On+"grid-row-"+Qt(t,/flex-|-self/g,""))+t;case 4675:return Bn+t+On+"flex-line-pack"+Qt(t,/align-content|flex-|-self/g,"")+t;case 5548:return Bn+t+On+Qt(t,"shrink","negative")+t;case 5292:return Bn+t+On+Qt(t,"basis","preferred-size")+t;case 6060:return Bn+"box-"+Qt(t,"-grow","")+Bn+t+On+Qt(t,"grow","positive")+t;case 4554:return Bn+Qt(t,/([^-])(transform)/g,"$1"+Bn+"$2")+t;case 6187:return Qt(Qt(Qt(t,/(zoom-|grab)/,Bn+"$1"),/(image-set)/,Bn+"$1"),t,"")+t;case 5495:case 3959:return Qt(t,/(image-set\([^]*)/,Bn+"$1$`$1");case 4968:return Qt(Qt(t,/(.+:)(flex-)?(.*)/,Bn+"box-pack:$3"+On+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Bn+t+t;case 4200:if(!da(t,/flex-|baseline/))return On+"grid-column-align"+Id(t,n)+t;break;case 2592:case 3360:return On+Qt(t,"template-","")+t;case 4384:case 3616:return o&&o.some(function(s,d){return n=d,da(s.props,/grid-\w+-end/)})?~tI(t+(o=o[n].value),"span",0)?t:On+Qt(t,"-start","")+t+On+"grid-row-span:"+(~tI(o,"span",0)?da(o,/\d+/):+da(o,/\d+/)-+da(t,/\d+/))+";":On+Qt(t,"-start","")+t;case 4896:case 4128:return o&&o.some(function(s){return da(s.props,/grid-\w+-start/)})?t:On+Qt(Qt(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Qt(t,/(.+)-inline(.+)/,Bn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Rs(t)-1-n>6)switch(Oi(t,n+1)){case 109:if(Oi(t,n+4)!==45)break;case 102:return Qt(t,/(.+:)(.+)-([^]+)/,"$1"+Bn+"$2-$3$1"+yh+(Oi(t,n+3)==108?"$3":"$2-$3"))+t;case 115:return~tI(t,"stretch",0)?iM(Qt(t,"stretch","fill-available"),n,o)+t:t}break;case 5152:case 5920:return Qt(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,d,m,p,v,k,Z){return On+d+":"+m+Z+(p?On+d+"-span:"+(v?k:+k-+m)+Z:"")+t});case 4949:if(Oi(t,n+6)===121)return Qt(t,":",":"+Bn)+t;break;case 6444:switch(Oi(t,Oi(t,14)===45?18:11)){case 120:return Qt(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Bn+(Oi(t,14)===45?"inline-":"")+"box$3$1"+Bn+"$2$3$1"+On+"$2box$3")+t;case 100:return Qt(t,":",":"+On)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Qt(t,"scroll-","scroll-snap-")+t}return t}function qI(t,n){for(var o="",s=0;s<t.length;s++)o+=n(t[s],s,t,n)||"";return o}function Xbe(t,n,o,s){switch(t.type){case vbe:if(t.children.length)break;case kbe:case u1:return t.return=t.return||t.value;case Q3:return"";case q3:return t.return=t.value+"{"+qI(t.children,s)+"}";case $f:if(!Rs(t.value=t.props.join(",")))return""}return Rs(o=qI(t.children,s))?t.return=t.value+"{"+o+"}":""}function Ybe(t){var n=tM(t);return function(o,s,d,m){for(var p="",v=0;v<n;v++)p+=t[v](o,s,d,m)||"";return p}}function Dbe(t){return function(n){n.root||(n=n.return)&&t(n)}}function Hbe(t,n,o,s){if(t.length>-1&&!t.return)switch(t.type){case u1:t.return=iM(t.value,t.length,o);return;case q3:return qI([$a(t,{value:Qt(t.value,"@","@"+Bn)})],s);case $f:if(t.length)return xbe(o=t.props,function(d){switch(da(d,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":xg($a(t,{props:[Qt(d,/:(read-\w+)/,":"+yh+"$1")]})),xg($a(t,{props:[d]})),qv(t,{props:zE(o,s)});break;case"::placeholder":xg($a(t,{props:[Qt(d,/:(plac\w+)/,":"+Bn+"input-$1")]})),xg($a(t,{props:[Qt(d,/:(plac\w+)/,":"+yh+"$1")]})),xg($a(t,{props:[Qt(d,/:(plac\w+)/,On+"input-$1")]})),xg($a(t,{props:[d]})),qv(t,{props:zE(o,s)});break}return""})}}var oM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},qo={},bd=typeof process<"u"&&qo!==void 0&&(qo.REACT_APP_SC_ATTR||qo.SC_ATTR)||"data-styled",rM="active",sM="data-styled-version",ib="6.1.11",m1=`/*!sc*/
`,C1=typeof window<"u"&&"HTMLElement"in window,Fbe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&qo!==void 0&&qo.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&qo.REACT_APP_SC_DISABLE_SPEEDY!==""?qo.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&qo.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&qo!==void 0&&qo.SC_DISABLE_SPEEDY!==void 0&&qo.SC_DISABLE_SPEEDY!==""&&qo.SC_DISABLE_SPEEDY!=="false"&&qo.SC_DISABLE_SPEEDY),ob=Object.freeze([]),Ad=Object.freeze({});function Mbe(t,n,o){return o===void 0&&(o=Ad),t.theme!==o.theme&&t.theme||n||o.theme}var aM=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Tbe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Jbe=/(^-|-$)/g;function jE(t){return t.replace(Tbe,"-").replace(Jbe,"")}var Lbe=/(a)(d)/gi,yp=52,OE=function(t){return String.fromCharCode(t+(t>25?39:97))};function tw(t){var n,o="";for(n=Math.abs(t);n>yp;n=n/yp|0)o=OE(n%yp)+o;return(OE(n%yp)+o).replace(Lbe,"$1-$2")}var lk,lM=5381,Ug=function(t,n){for(var o=n.length;o;)t=33*t^n.charCodeAt(--o);return t},cM=function(t){return Ug(lM,t)};function gM(t){return tw(cM(t)>>>0)}function zbe(t){return t.displayName||t.name||"Component"}function ck(t){return typeof t=="string"&&!0}var dM=typeof Symbol=="function"&&Symbol.for,uM=dM?Symbol.for("react.memo"):60115,Kbe=dM?Symbol.for("react.forward_ref"):60112,Pbe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jbe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},hM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Obe=((lk={})[Kbe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lk[uM]=hM,lk);function UE(t){return("type"in(n=t)&&n.type.$$typeof)===uM?hM:"$$typeof"in t?Obe[t.$$typeof]:Pbe;var n}var Ube=Object.defineProperty,Qbe=Object.getOwnPropertyNames,QE=Object.getOwnPropertySymbols,qbe=Object.getOwnPropertyDescriptor,$be=Object.getPrototypeOf,qE=Object.prototype;function mM(t,n,o){if(typeof n!="string"){if(qE){var s=$be(n);s&&s!==qE&&mM(t,s,o)}var d=Qbe(n);QE&&(d=d.concat(QE(n)));for(var m=UE(t),p=UE(n),v=0;v<d.length;++v){var k=d[v];if(!(k in jbe||o&&o[k]||p&&k in p||m&&k in m)){var Z=qbe(n,k);try{Ube(t,k,Z)}catch{}}}}return t}function yd(t){return typeof t=="function"}function p1(t){return typeof t=="object"&&"styledComponentId"in t}function Ic(t,n){return t&&n?"".concat(t," ").concat(n):t||n||""}function nw(t,n){if(t.length===0)return"";for(var o=t[0],s=1;s<t.length;s++)o+=t[s];return o}function sm(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function iw(t,n,o){if(o===void 0&&(o=!1),!o&&!sm(t)&&!Array.isArray(t))return n;if(Array.isArray(n))for(var s=0;s<n.length;s++)t[s]=iw(t[s],n[s]);else if(sm(n))for(var s in n)t[s]=iw(t[s],n[s]);return t}function I1(t,n){Object.defineProperty(t,"toString",{value:n})}function Bm(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(n.length>0?" Args: ".concat(n.join(", ")):""))}var eAe=function(){function t(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}return t.prototype.indexOfGroup=function(n){for(var o=0,s=0;s<n;s++)o+=this.groupSizes[s];return o},t.prototype.insertRules=function(n,o){if(n>=this.groupSizes.length){for(var s=this.groupSizes,d=s.length,m=d;n>=m;)if((m<<=1)<0)throw Bm(16,"".concat(n));this.groupSizes=new Uint32Array(m),this.groupSizes.set(s),this.length=m;for(var p=d;p<m;p++)this.groupSizes[p]=0}for(var v=this.indexOfGroup(n+1),k=(p=0,o.length);p<k;p++)this.tag.insertRule(v,o[p])&&(this.groupSizes[n]++,v++)},t.prototype.clearGroup=function(n){if(n<this.length){var o=this.groupSizes[n],s=this.indexOfGroup(n),d=s+o;this.groupSizes[n]=0;for(var m=s;m<d;m++)this.tag.deleteRule(s)}},t.prototype.getGroup=function(n){var o="";if(n>=this.length||this.groupSizes[n]===0)return o;for(var s=this.groupSizes[n],d=this.indexOfGroup(n),m=d+s,p=d;p<m;p++)o+="".concat(this.tag.getRule(p)).concat(m1);return o},t}(),oI=new Map,$I=new Map,rI=1,kp=function(t){if(oI.has(t))return oI.get(t);for(;$I.has(rI);)rI++;var n=rI++;return oI.set(t,n),$I.set(n,t),n},tAe=function(t,n){rI=n+1,oI.set(t,n),$I.set(n,t)},nAe="style[".concat(bd,"][").concat(sM,'="').concat(ib,'"]'),iAe=new RegExp("^".concat(bd,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),oAe=function(t,n,o){for(var s,d=o.split(","),m=0,p=d.length;m<p;m++)(s=d[m])&&t.registerName(n,s)},rAe=function(t,n){for(var o,s=((o=n.textContent)!==null&&o!==void 0?o:"").split(m1),d=[],m=0,p=s.length;m<p;m++){var v=s[m].trim();if(v){var k=v.match(iAe);if(k){var Z=0|parseInt(k[1],10),_=k[2];Z!==0&&(tAe(_,Z),oAe(t,_,k[3]),t.getTag().insertRules(Z,d)),d.length=0}else d.push(v)}}};function sAe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var CM=function(t){var n=document.head,o=t||n,s=document.createElement("style"),d=function(v){var k=Array.from(v.querySelectorAll("style[".concat(bd,"]")));return k[k.length-1]}(o),m=d!==void 0?d.nextSibling:null;s.setAttribute(bd,rM),s.setAttribute(sM,ib);var p=sAe();return p&&s.setAttribute("nonce",p),o.insertBefore(s,m),s},aAe=function(){function t(n){this.element=CM(n),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var s=document.styleSheets,d=0,m=s.length;d<m;d++){var p=s[d];if(p.ownerNode===o)return p}throw Bm(17)}(this.element),this.length=0}return t.prototype.insertRule=function(n,o){try{return this.sheet.insertRule(o,n),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.prototype.getRule=function(n){var o=this.sheet.cssRules[n];return o&&o.cssText?o.cssText:""},t}(),lAe=function(){function t(n){this.element=CM(n),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(n,o){if(n<=this.length&&n>=0){var s=document.createTextNode(o);return this.element.insertBefore(s,this.nodes[n]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.prototype.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},t}(),cAe=function(){function t(n){this.rules=[],this.length=0}return t.prototype.insertRule=function(n,o){return n<=this.length&&(this.rules.splice(n,0,o),this.length++,!0)},t.prototype.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.prototype.getRule=function(n){return n<this.length?this.rules[n]:""},t}(),$E=C1,gAe={isServer:!C1,useCSSOMInjection:!Fbe},pM=function(){function t(n,o,s){n===void 0&&(n=Ad),o===void 0&&(o={});var d=this;this.options=Do(Do({},gAe),n),this.gs=o,this.names=new Map(s),this.server=!!n.isServer,!this.server&&C1&&$E&&($E=!1,function(m){for(var p=document.querySelectorAll(nAe),v=0,k=p.length;v<k;v++){var Z=p[v];Z&&Z.getAttribute(bd)!==rM&&(rAe(m,Z),Z.parentNode&&Z.parentNode.removeChild(Z))}}(this)),I1(this,function(){return function(m){for(var p=m.getTag(),v=p.length,k="",Z=function(N){var G=function(P){return $I.get(P)}(N);if(G===void 0)return"continue";var D=m.names.get(G),M=p.getGroup(N);if(D===void 0||M.length===0)return"continue";var L="".concat(bd,".g").concat(N,'[id="').concat(G,'"]'),O="";D!==void 0&&D.forEach(function(P){P.length>0&&(O+="".concat(P,","))}),k+="".concat(M).concat(L,'{content:"').concat(O,'"}').concat(m1)},_=0;_<v;_++)Z(_);return k}(d)})}return t.registerId=function(n){return kp(n)},t.prototype.reconstructWithOptions=function(n,o){return o===void 0&&(o=!0),new t(Do(Do({},this.options),n),this.gs,o&&this.names||void 0)},t.prototype.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(n=function(o){var s=o.useCSSOMInjection,d=o.target;return o.isServer?new cAe(d):s?new aAe(d):new lAe(d)}(this.options),new eAe(n)));var n},t.prototype.hasNameForId=function(n,o){return this.names.has(n)&&this.names.get(n).has(o)},t.prototype.registerName=function(n,o){if(kp(n),this.names.has(n))this.names.get(n).add(o);else{var s=new Set;s.add(o),this.names.set(n,s)}},t.prototype.insertRules=function(n,o,s){this.registerName(n,o),this.getTag().insertRules(kp(n),s)},t.prototype.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.prototype.clearRules=function(n){this.getTag().clearGroup(kp(n)),this.clearNames(n)},t.prototype.clearTag=function(){this.tag=void 0},t}(),dAe=/&/g,uAe=/^\s*\/\/.*$/gm;function IM(t,n){return t.map(function(o){return o.type==="rule"&&(o.value="".concat(n," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(n," ")),o.props=o.props.map(function(s){return"".concat(n," ").concat(s)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=IM(o.children,n)),o})}function hAe(t){var n,o,s,d=Ad,m=d.options,p=m===void 0?Ad:m,v=d.plugins,k=v===void 0?ob:v,Z=function(G,D,M){return M.startsWith(o)&&M.endsWith(o)&&M.replaceAll(o,"").length>0?".".concat(n):G},_=k.slice();_.push(function(G){G.type===$f&&G.value.includes("&")&&(G.props[0]=G.props[0].replace(dAe,o).replace(s,Z))}),p.prefix&&_.push(Hbe),_.push(Xbe);var N=function(G,D,M,L){D===void 0&&(D=""),M===void 0&&(M=""),L===void 0&&(L="&"),n=L,o=D,s=new RegExp("\\".concat(o,"\\b"),"g");var O=G.replace(uAe,""),P=Nbe(M||D?"".concat(M," ").concat(D," { ").concat(O," }"):O);p.namespace&&(P=IM(P,p.namespace));var F=[];return qI(P,Ybe(_.concat(Dbe(function(j){return F.push(j)})))),F};return N.hash=k.length?k.reduce(function(G,D){return D.name||Bm(15),Ug(G,D.name)},lM).toString():"",N}var mAe=new pM,ow=hAe(),fM=en.createContext({shouldForwardProp:void 0,styleSheet:mAe,stylis:ow});fM.Consumer;en.createContext(void 0);function eX(){return q.useContext(fM)}var bM=function(){function t(n,o){var s=this;this.inject=function(d,m){m===void 0&&(m=ow);var p=s.name+m.hash;d.hasNameForId(s.id,p)||d.insertRules(s.id,p,m(s.rules,p,"@keyframes"))},this.name=n,this.id="sc-keyframes-".concat(n),this.rules=o,I1(this,function(){throw Bm(12,String(s.name))})}return t.prototype.getName=function(n){return n===void 0&&(n=ow),this.name+n.hash},t}(),CAe=function(t){return t>="A"&&t<="Z"};function tX(t){for(var n="",o=0;o<t.length;o++){var s=t[o];if(o===1&&s==="-"&&t[0]==="-")return t;CAe(s)?n+="-"+s.toLowerCase():n+=s}return n.startsWith("ms-")?"-"+n:n}var AM=function(t){return t==null||t===!1||t===""},yM=function(t){var n,o,s=[];for(var d in t){var m=t[d];t.hasOwnProperty(d)&&!AM(m)&&(Array.isArray(m)&&m.isCss||yd(m)?s.push("".concat(tX(d),":"),m,";"):sm(m)?s.push.apply(s,rm(rm(["".concat(d," {")],yM(m),!1),["}"],!1)):s.push("".concat(tX(d),": ").concat((n=d,(o=m)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||n in oM||n.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return s};function wc(t,n,o,s){if(AM(t))return[];if(p1(t))return[".".concat(t.styledComponentId)];if(yd(t)){if(!yd(m=t)||m.prototype&&m.prototype.isReactComponent||!n)return[t];var d=t(n);return wc(d,n,o,s)}var m;return t instanceof bM?o?(t.inject(o,s),[t.getName(s)]):[t]:sm(t)?yM(t):Array.isArray(t)?Array.prototype.concat.apply(ob,t.map(function(p){return wc(p,n,o,s)})):[t.toString()]}function pAe(t){for(var n=0;n<t.length;n+=1){var o=t[n];if(yd(o)&&!p1(o))return!1}return!0}var IAe=cM(ib),fAe=function(){function t(n,o,s){this.rules=n,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&pAe(n),this.componentId=o,this.baseHash=Ug(IAe,o),this.baseStyle=s,pM.registerId(o)}return t.prototype.generateAndInjectStyles=function(n,o,s){var d=this.baseStyle?this.baseStyle.generateAndInjectStyles(n,o,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))d=Ic(d,this.staticRulesId);else{var m=nw(wc(this.rules,n,o,s)),p=tw(Ug(this.baseHash,m)>>>0);if(!o.hasNameForId(this.componentId,p)){var v=s(m,".".concat(p),void 0,this.componentId);o.insertRules(this.componentId,p,v)}d=Ic(d,p),this.staticRulesId=p}else{for(var k=Ug(this.baseHash,s.hash),Z="",_=0;_<this.rules.length;_++){var N=this.rules[_];if(typeof N=="string")Z+=N;else if(N){var G=nw(wc(N,n,o,s));k=Ug(k,G+_),Z+=G}}if(Z){var D=tw(k>>>0);o.hasNameForId(this.componentId,D)||o.insertRules(this.componentId,D,s(Z,".".concat(D),void 0,this.componentId)),d=Ic(d,D)}}return d},t}(),kM=en.createContext(void 0);kM.Consumer;var gk={};function bAe(t,n,o){var s=p1(t),d=t,m=!ck(t),p=n.attrs,v=p===void 0?ob:p,k=n.componentId,Z=k===void 0?function(ie,ne){var ue=typeof ie!="string"?"sc":jE(ie);gk[ue]=(gk[ue]||0)+1;var K="".concat(ue,"-").concat(gM(ib+ue+gk[ue]));return ne?"".concat(ne,"-").concat(K):K}(n.displayName,n.parentComponentId):k,_=n.displayName,N=_===void 0?function(ie){return ck(ie)?"styled.".concat(ie):"Styled(".concat(zbe(ie),")")}(t):_,G=n.displayName&&n.componentId?"".concat(jE(n.displayName),"-").concat(n.componentId):n.componentId||Z,D=s&&d.attrs?d.attrs.concat(v).filter(Boolean):v,M=n.shouldForwardProp;if(s&&d.shouldForwardProp){var L=d.shouldForwardProp;if(n.shouldForwardProp){var O=n.shouldForwardProp;M=function(ie,ne){return L(ie,ne)&&O(ie,ne)}}else M=L}var P=new fAe(o,G,s?d.componentStyle:void 0);function F(ie,ne){return function(ue,K,de){var pe=ue.attrs,Ce=ue.componentStyle,be=ue.defaultProps,Ge=ue.foldedComponentIds,Ee=ue.styledComponentId,Se=ue.target,ke=en.useContext(kM),Be=eX(),Re=ue.shouldForwardProp||Be.shouldForwardProp,fe=Mbe(K,ke,be)||Ad,Ze=function(Ye,He,Oe){for(var je,et=Do(Do({},He),{className:void 0,theme:Oe}),Ct=0;Ct<Ye.length;Ct+=1){var ft=yd(je=Ye[Ct])?je(et):je;for(var wt in ft)et[wt]=wt==="className"?Ic(et[wt],ft[wt]):wt==="style"?Do(Do({},et[wt]),ft[wt]):ft[wt]}return He.className&&(et.className=Ic(et.className,He.className)),et}(pe,K,fe),_e=Ze.as||Se,Pe={};for(var Qe in Ze)Ze[Qe]===void 0||Qe[0]==="$"||Qe==="as"||Qe==="theme"&&Ze.theme===fe||(Qe==="forwardedAs"?Pe.as=Ze.forwardedAs:Re&&!Re(Qe,_e)||(Pe[Qe]=Ze[Qe]));var Je=function(Ye,He){var Oe=eX(),je=Ye.generateAndInjectStyles(He,Oe.styleSheet,Oe.stylis);return je}(Ce,Ze),ve=Ic(Ge,Ee);return Je&&(ve+=" "+Je),Ze.className&&(ve+=" "+Ze.className),Pe[ck(_e)&&!aM.has(_e)?"class":"className"]=ve,Pe.ref=de,q.createElement(_e,Pe)}(j,ie,ne)}F.displayName=N;var j=en.forwardRef(F);return j.attrs=D,j.componentStyle=P,j.displayName=N,j.shouldForwardProp=M,j.foldedComponentIds=s?Ic(d.foldedComponentIds,d.styledComponentId):"",j.styledComponentId=G,j.target=s?d.target:t,Object.defineProperty(j,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ie){this._foldedDefaultProps=s?function(ne){for(var ue=[],K=1;K<arguments.length;K++)ue[K-1]=arguments[K];for(var de=0,pe=ue;de<pe.length;de++)iw(ne,pe[de],!0);return ne}({},d.defaultProps,ie):ie}}),I1(j,function(){return".".concat(j.styledComponentId)}),m&&mM(j,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),j}function nX(t,n){for(var o=[t[0]],s=0,d=n.length;s<d;s+=1)o.push(n[s],t[s+1]);return o}var iX=function(t){return Object.assign(t,{isCss:!0})};function vM(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(yd(t)||sm(t))return iX(wc(nX(ob,rm([t],n,!0))));var s=t;return n.length===0&&s.length===1&&typeof s[0]=="string"?wc(s):iX(wc(nX(s,n)))}function rw(t,n,o){if(o===void 0&&(o=Ad),!n)throw Bm(1,n);var s=function(d){for(var m=[],p=1;p<arguments.length;p++)m[p-1]=arguments[p];return t(n,o,vM.apply(void 0,rm([d],m,!1)))};return s.attrs=function(d){return rw(t,n,Do(Do({},o),{attrs:Array.prototype.concat(o.attrs,d).filter(Boolean)}))},s.withConfig=function(d){return rw(t,n,Do(Do({},o),d))},s}var wM=function(t){return rw(bAe,t)},Mc=wM;aM.forEach(function(t){Mc[t]=wM(t)});function f1(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var s=nw(vM.apply(void 0,rm([t],n,!1))),d=gM(s);return new bM(d,s)}const AAe={"aria-busy":!0,role:"progressbar"};Mc.div`
  display: ${t=>t.$visible?"flex":"none"};
`;const os=242.776657104492,yAe=1.6,kAe=f1`
12.5% {
  stroke-dasharray: ${os*.14}px, ${os}px;
  stroke-dashoffset: -${os*.11}px;
}
43.75% {
  stroke-dasharray: ${os*.35}px, ${os}px;
  stroke-dashoffset: -${os*.35}px;
}
100% {
  stroke-dasharray: ${os*.01}px, ${os}px;
  stroke-dashoffset: -${os*.99}px;
}
`;Mc.path`
  stroke-dasharray: ${os*.01}px, ${os};
  stroke-dashoffset: 0;
  animation: ${kAe} ${yAe}s linear infinite;
`;const vAe=f1`
to {
   transform: rotate(360deg);
 }
`;Mc.svg`
  animation: ${vAe} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;Mc.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const wAe=f1`
to {
   stroke-dashoffset: 136;
 }
`;Mc.polygon`
  stroke-dasharray: 17;
  animation: ${wAe} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;Mc.svg`
  transform-origin: 50% 65%;
`;const xAe=({visible:t=!0,width:n="80",height:o="80",colors:s=["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"],wrapperClass:d="",wrapperStyle:m={},ariaLabel:p="color-ring-loading"})=>t?A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:n,height:o,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:d,style:m,"aria-label":p,"data-testid":"color-ring-svg",...AAe,children:[A.jsx("defs",{children:A.jsx("mask",{id:"ldio-4offds5dlws-mask",children:A.jsx("circle",{cx:"50",cy:"50",r:"26",stroke:"#fff",strokeLinecap:"round",strokeDasharray:"122.52211349000194 40.840704496667314",strokeWidth:"9",transform:"rotate(198.018 50 50)",children:A.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"})})})}),A.jsxs("g",{mask:"url(#ldio-4offds5dlws-mask)",children:[A.jsx("rect",{x:"14.5",y:"0",width:"15",height:"100",fill:s[0],children:A.jsx("animate",{attributeName:"fill",values:s.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.8s"})}),A.jsx("rect",{x:"28.5",y:"0",width:"15",height:"100",fill:s[1],children:A.jsx("animate",{attributeName:"fill",values:s.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.6s"})}),A.jsx("rect",{x:"42.5",y:"0",width:"15",height:"100",fill:s[2],children:A.jsx("animate",{attributeName:"fill",values:s.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.4s"})}),A.jsx("rect",{x:"56.5",y:"0",width:"15",height:"100",fill:s[3],children:A.jsx("animate",{attributeName:"fill",values:s.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.2s"})}),A.jsx("rect",{x:"70.5",y:"0",width:"15",height:"100",fill:s[4],children:A.jsx("animate",{attributeName:"fill",values:s.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"0s"})})]})]}):null,Sn=t=>A.jsx("div",{className:`${t.type==="page"?"h-screen w-screen":""} flex items-center justify-center`,children:A.jsx(xAe,{visible:!0,height:t.height,width:t.width,ariaLabel:"color-ring-loading",wrapperStyle:{},wrapperClass:"color-ring-wrapper",colors:[t.color,t.color,t.color,t.color,t.color]})}),tn=t=>{const n=q.useRef(null),o=d=>{if(n.current){const m=n.current,p=document.createElement("span"),v=m.getBoundingClientRect(),k=Math.max(v.width,v.height),Z=k/2;p.style.width=p.style.height=`${k}px`,p.style.left=`${d.clientX-v.left-Z}px`,p.style.top=`${d.clientY-v.top-Z}px`,p.classList.add("ripple");const _=m.querySelector(".ripple");_&&m.removeChild(_),m.appendChild(p),setTimeout(()=>{m.removeChild(p)},500),t.onClick&&t.onClick()}},s=(t.fullWidth?" !w-full ":" ")+(t.fullRounded?" !rounded-full ":" ")+(t.size==="small"?" !py-1 !px-3 ":t.size==="medium"?" py-2.5 px-6 ":t.size==="large"?" !py-3 !px-8 ":t.size==="mini"?" !py-1 !px-2 ":"");return A.jsx("button",{ref:n,className:s+t.className+" relative overflow-hidden flex gap-3 items-center justify-center font-medium disabled:bg-opacity-80 disabled:pointer-events-none rounded-md transition-colors duration-300 ease-in-out ",type:t.type,disabled:t.loading||t.disabled,onClick:o,children:t.loading?A.jsx(Sn,{type:"button",height:t.loadingHeight?t.loadingHeight:"24",width:t.loadingWidth?t.loadingWidth:"24",color:t.loadingColor?t.loadingColor:"#fff"}):A.jsxs(A.Fragment,{children:[t.icon&&A.jsx("div",{className:`${t.iconClass} w-5`,children:t.icon}),t.label]})})};function SAe(t){const{t:n}=on(),[o,s]=q.useState(!1),[d,m]=q.useState(!1),[p,v]=q.useState({email:"",otp:"",newPassword:"",confirmPassword:""}),[k,Z]=q.useState(!1);q.useEffect(()=>{t.email&&v(pe=>({...pe,email:t.email}))},[t.email]);const _=()=>{t.setIsOpen()},N=async pe=>{m(!0),pe.preventDefault(),await yt.post("/courtstar/account/reset-password",p).then(()=>{ht.success("Reset Successfully",{toastId:"reset-password-success"}),_()}).catch(Ce=>{ht.error(Ce.message,{toastId:"reset-password-error"})}).finally(()=>{m(!1)})},G=pe=>{v(Ce=>({...Ce,otp:pe}))},D=pe=>{const{name:Ce,value:be}=pe.target;v(Ge=>({...Ge,[Ce]:be}))};q.useEffect(()=>{t.isOpen&&(v(pe=>({...pe,otp:"",newPassword:"",confirmPassword:""})),Z(!0),setTimeout(()=>Z(!1),100),L(!0))},[t.isOpen]);const[M,L]=q.useState(!0),[O,P]=q.useState(0),[F,j]=q.useState(""),ie=async()=>{s(!0),await yt.put("/courtstar/account/regenerate-otp",t.email).then(pe=>{j(pe.data.data),L(!0)}).catch(pe=>{ht.error(pe.message,{toastId:"email-error"})}).finally(()=>{s(!1)})};q.useEffect(()=>{j(t.otpTime)},[t.otpTime]);const[ne,ue]=q.useState(De().unix());q.useEffect(()=>{const pe=setInterval(()=>{ue(De().unix())},1e3);return()=>clearInterval(pe)},[]),q.useEffect(()=>{if(F){let pe=180-(ne-parseInt(F));pe>0?P(pe):L(!1)}},[F,ne]);const K=pe=>{const Ce=Math.floor(pe/60),be=pe%60;return`${String(Ce).padStart(2,"0")}:${String(be).padStart(2,"0")}`},de=A.jsxs("form",{onSubmit:N,className:"w-[440px] flex flex-col gap-5",children:[A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsx("div",{className:"text-4xl font-semibold text-center",children:n("checkYourEmail")}),A.jsxs("div",{className:"text-gray-400 text-sm text-center",children:[A.jsxs("div",{children:[n("weSent"),A.jsx("span",{className:"font-semibold text-black",children:p.email})]}),A.jsx("div",{children:n("enterDigit")})]}),A.jsx(Whe,{value:p.otp.trim(),onChange:G,clear:k,onComplete:G}),A.jsx(pd,{id:"newPassword",name:"newPassword",placeholder:n("enterNewPassword"),label:n("newPassword"),value:p.newPassword,onchange:D,evaluate:!0}),A.jsx(pd,{id:"confirmPassword",name:"confirmPassword",placeholder:n("enterConfirmNewPassword"),label:n("confirmNewPassword"),value:p.confirmPassword,onchange:D,evaluate:!1}),A.jsxs("div",{className:"text-sm text-center justify-center text-gray-400",children:[n("gotEmailYet"),o?A.jsx(Sn,{type:"button",height:"20",width:"20",color:"#000"}):A.jsx("div",{className:M?"font-semibold text-red-500":"font-semibold text-gray-800 cursor-pointer hover:text-primary-green",onClick:ie,children:M?A.jsx("p",{children:K(O)}):n("resend")})]})]}),A.jsx("div",{className:"flex items-center justify-center",children:A.jsx(tn,{type:"submit",label:n("confirm"),fullWidth:!0,fullRounded:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",loading:d})})]});return A.jsx("div",{children:A.jsx(ms,{html:de,isOpen:t.isOpen,setIsOpen:_})})}function BAe(t){const{t:n}=on(),[o,s]=q.useState(!1),[d,m]=q.useState(!1),[p,v]=q.useState(""),k=async L=>{L.preventDefault(),s(!0),await yt.put("/courtstar/account/regenerate-otp",N).then(O=>{v(O.data.data),_(),m(!0)}).catch(O=>{ht.error(O.message,{toastId:"email-error"})}).finally(()=>{s(!1)})},Z=()=>{m(!1)},_=()=>{t.setIsOpen(!1)},[N,G]=q.useState(""),D=L=>{G(L.target.value)};q.useEffect(()=>{t.isOpen&&G("")},[t.isOpen]);const M=A.jsxs("div",{className:"w-[440px]",children:[A.jsx("div",{className:"text-4xl font-semibold mb-5 text-center",children:n("forgotPassword")}),A.jsx("div",{className:"text-gray-400 text-sm mb-5 text-center",children:n("forgotPasswordNote")}),A.jsxs("form",{onSubmit:k,children:[A.jsx("div",{className:"mb-4",children:A.jsx(_t,{id:"emailForget",name:"emailForget",placeholder:n("enterEmail"),label:"Email",value:N,onchange:D})}),A.jsx("div",{children:A.jsx(tn,{type:"submit",label:n("sendCode"),fullWidth:!0,fullRounded:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",loading:o})})]})]});return A.jsxs("div",{children:[A.jsx(ms,{html:M,isOpen:t.isOpen,setIsOpen:_}),A.jsx(SAe,{isOpen:d,setIsOpen:Z,email:N,otpTime:p})]})}class sh extends Error{}sh.prototype.name="InvalidTokenError";function ZAe(t){return decodeURIComponent(atob(t).replace(/(.)/g,(n,o)=>{let s=o.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}function GAe(t){let n=t.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return ZAe(n)}catch{return atob(n)}}function RAe(t,n){if(typeof t!="string")throw new sh("Invalid token specified: must be a string");n||(n={});const o=n.header===!0?0:1,s=t.split(".")[o];if(typeof s!="string")throw new sh(`Invalid token specified: missing part #${o+1}`);let d;try{d=GAe(s)}catch(m){throw new sh(`Invalid token specified: invalid base64 for part #${o+1} (${m.message})`)}try{return JSON.parse(d)}catch(m){throw new sh(`Invalid token specified: invalid json for part #${o+1} (${m.message})`)}}const b1={isLogin:!!localStorage.getItem("token"),token:localStorage.getItem("token"),role:localStorage.getItem("role"),account:{firstName:"",lastName:"",email:"",phone:"",role:""},isLoading:!1},xM=q.createContext({state:b1,dispatch:()=>null}),VAe=(t,n)=>{switch(n.type){case"LOGIN":return{...t,isLogin:!0,token:n.payload.token,role:n.payload.role,isLoading:!1};case"LOGOUT":return{...b1,role:"",isLogin:!1};case"SET_ACCOUNT":return{...t,account:n.payload,isLoading:!1};case"REFRESH_TOKEN":return{...t,isLogin:!0,token:n.payload.token,role:n.payload.role,isLoading:!1};case"START_LOADING":return{...t,isLoading:!0};case"STOP_LOADING":return{...t,isLoading:!1};default:return t}},WAe=({children:t})=>{const[n,o]=q.useReducer(VAe,b1);return q.useEffect(()=>{const s=async()=>{if(!n.token)return;(p=>{const v=RAe(p);if(!v.exp)return!1;const Z=v.exp*1e3-Date.now();if(Z<0)return localStorage.clear(),o({type:"LOGOUT"}),!1;const _=10*60*1e3;return Z<_})(n.token)&&(o({type:"START_LOADING"}),await yt.post("/courtstar/auth/refresh",{token:n.token}).then(p=>{const v=p.data,k=v.data.token,Z=v.data.role;localStorage.setItem("token",k),localStorage.setItem("role",Z),o({type:"REFRESH_TOKEN",payload:{token:k,role:Z}}),yt.get("/courtstar/account/myInfor").then(_=>{o({type:"SET_ACCOUNT",payload:_.data.data})}).catch(_=>{console.log(_.message),localStorage.clear(),o({type:"LOGOUT"})}).finally(()=>{})}).catch(p=>{console.log(p.message),localStorage.clear(),o({type:"LOGOUT"})}).finally(()=>{o({type:"STOP_LOADING"})}))};s();const d=setInterval(s,60*1e3);return()=>clearInterval(d)},[n.token]),A.jsx(xM.Provider,{value:{state:n,dispatch:o},children:t})},Na=()=>q.useContext(xM);function _Ae(t){const n=Va(),{t:o}=on(),{dispatch:s}=Na(),[d,m]=q.useState(!1),[p,v]=q.useState(!1),k=()=>{t.setIsOpen(),v(!1)},[Z,_]=q.useState(!1),N=()=>{k(),_(!0)},G=()=>{_(!1)},[D,M]=q.useState({email:"",password:""}),L=F=>{const{name:j,value:ie}=F.target;M(ne=>({...ne,[j]:ie}))},O=async F=>{if(F.preventDefault(),!D.email||!D.password){v(!0);return}m(!0),await yt.post("/courtstar/auth/token",D).then(j=>{const ie=j.data;localStorage.setItem("token",ie.data.token),localStorage.setItem("role",ie.data.role),s({type:"LOGIN",payload:{token:ie.data.token,role:ie.data.role}}),k(),n("/"),ht.success(ie.message,{toastId:"login-success"})}).catch(j=>{ht.error(j.message==="Request failed with status code 401"||j.message==="Request failed with status code 400"?o("wrongMailOrPass"):j.message,{toastId:"login-error"}),console.log(j.message)}).finally(()=>{m(!1)})};q.useEffect(()=>{t.isOpen&&M({email:"",password:""})},[t.isOpen]);const P=A.jsxs("div",{className:"w-[440px]",children:[A.jsx("h2",{className:"text-4xl font-semibold mb-5 text-center",children:o("logIn")}),A.jsxs("p",{className:"text-gray-400 text-sm mb-5 text-center",children:[o("dontHaveAccount"),"? ",A.jsx("a",{href:"#s",className:"font-semibold underline text-gray-800",children:o("signUpForFree")})]}),A.jsxs("form",{onSubmit:O,children:[A.jsx("div",{className:"mb-4",children:A.jsx(_t,{id:"email",name:"email",placeholder:o("enterEmail"),label:"Email*",value:D.email,onchange:L,error:p&&!D.email,errorMsg:o("plsEnterEmail")})}),A.jsx("div",{className:"mb-0",children:A.jsx(pd,{id:"password",name:"password",placeholder:o("enterPassword"),label:o("password"),value:D.password,onchange:L,evaluate:!1,error:p&&!D.password,errorMsg:o("plsEnterPassword")})}),A.jsx("div",{className:"flex items-center justify-between mt-4 mb-5 px-0.5",children:A.jsxs("div",{onClick:N,className:"text-sm font-semibold underline cursor-pointer",children:[o("forgetPassword"),"?"]})}),A.jsx("div",{className:"flex items-center justify-center",children:A.jsx(tn,{type:"submit",label:o("logIn"),fullWidth:!0,fullRounded:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white shadow",loading:d})}),A.jsx("div",{className:"flex justify-center mt-4 ",children:A.jsxs("button",{className:"text-center text-sm shadow border rounded-full py-3 px-14 inline-flex items-center hover:bg-gray-200 transition-all duration-300 ease-in-out",href:"#",children:[A.jsx("img",{className:"mr-3 w-fit",src:GF,alt:"google"}),o("continueWithGoogle")]})})]})]});return A.jsxs("div",{children:[A.jsx(ms,{html:P,isOpen:t.isOpen,setIsOpen:k}),A.jsx(BAe,{isOpen:Z,setIsOpen:G})]})}function NAe(t){const[n,o]=q.useState(!1),s=q.useRef(null),d=()=>{o(!n)},m=v=>{s.current&&!s.current.contains(v.target)&&o(!1)},p=v=>{o(!1)};return q.useEffect(()=>(document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}),[]),q.useEffect(()=>{const v=()=>{o(!1)};return window.addEventListener("scroll",v),()=>{window.removeEventListener("scroll",v)}},[]),A.jsx("div",{className:"w-full relative",ref:s,children:t.loadingLogout?A.jsxs("div",{className:"rounded-lg py-2 px-2 gap-1 flex justify-between items-center bg-gray-800 text-white font-semibold text-sm",children:[t.userEmail,A.jsx(Sn,{width:"20",height:"20",color:"#fff"})]}):A.jsxs(A.Fragment,{children:[A.jsxs("button",{className:"rounded-lg py-2 px-2 gap-1 flex justify-between items-center bg-gray-800",onClick:d,"aria-haspopup":"listbox","aria-expanded":n,children:[A.jsx("div",{className:"text-sm text-white font-semibold",children:t.userEmail}),A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n?"rotate-180 lucide lucide-chevron-down":"lucide lucide-chevron-down",children:A.jsx("path",{d:"m6 9 6 6 6-6"})})]}),n&&A.jsxs("div",{className:"z-50 fixed font-semibold bg-white shadow-gray-800 shadow-md rounded-lg p-1 mt-1.5",children:[A.jsxs(Gr,{className:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-200 focus:outline-none focus:bg-gray-100",to:"/profile",onClick:p,children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user",children:[A.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),A.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Your profile"]}),A.jsxs(Gr,{className:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-200 focus:outline-none focus:bg-gray-100",to:"/bookingHistory",onClick:p,children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-history",children:[A.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),A.jsx("path",{d:"M3 3v5h5"}),A.jsx("path",{d:"M12 7v5l4 2"})]}),"Booking history"]}),A.jsxs("button",{className:"flex w-full items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-red-500 hover:bg-gray-200 focus:outline-none focus:bg-gray-100",onClick:t.logout,children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-log-out",children:[A.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),A.jsx("polyline",{points:"16 17 21 12 16 7"}),A.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),"Log out"]})]})]})})}const EAe="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%208C6%206.4087%206.63214%204.88258%207.75736%203.75736C8.88258%202.63214%2010.4087%202%2012%202C13.5913%202%2015.1174%202.63214%2016.2426%203.75736C17.3679%204.88258%2018%206.4087%2018%208C18%2015%2021%2017%2021%2017H3C3%2017%206%2015%206%208Z'%20stroke='%23F3F4F6'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.3%2021C10.4674%2021.3044%2010.7135%2021.5583%2011.0125%2021.7352C11.3116%2021.912%2011.6526%2022.0053%2012%2022.0053C12.3475%2022.0053%2012.6885%2021.912%2012.9876%2021.7352C13.2866%2021.5583%2013.5327%2021.3044%2013.7%2021'%20stroke='%23F3F4F6'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",XAe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-info'%3e%3ccircle%20cx='12'%20cy='12'%20r='10'/%3e%3cpath%20d='M12%2016v-4'/%3e%3cpath%20d='M12%208h.01'/%3e%3c/svg%3e",YAe="/images/check-check.svg",DAe="/images/git-pull-request-arrow.svg",HAe="/images/git-pull-request-closed.svg",FAe="/images/ticket-check.svg",MAe=({notification:t,onNotificationClick:n})=>{const{t:o}=on();let s="";return t.type==="REGISTERED"?s=YAe:t.type==="ADD_CENTRE"?s=DAe:t.type==="DENIED_CENTRE"?s=HAe:t.type==="BOOKING"?s=FAe:s=XAe,A.jsxs("li",{className:"flex items-center justify-between gap-2 hover:rounded-md transition-all ease-in-out duration-300 p-2 hover:bg-gray-100 cursor-pointer border-t border-gray-200",onClick:()=>n(t),children:[A.jsx("img",{src:s,alt:"",className:"w-7 h-7 mr-2"}),A.jsxs("div",{className:"flex-1 flex flex-col items-start",children:[A.jsx("span",{className:"text-gray-700",children:o(t.content)}),A.jsxs("span",{className:"text-gray-500 text-sm flex items-end gap-3",children:[!t.status&&A.jsx("span",{className:"inline-flex items-center justify-center p-1 mb-0.5 h-2 w-2 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-400 rounded-full"}),De(t.date).fromNow()]})]})]})},TAe=({notifications:t})=>{const[n,o]=q.useState(!1),s=q.useRef(null),d=()=>{o(!n)},m=v=>{s.current&&!s.current.contains(v.target)&&o(!1)},p=v=>{console.log("Seen",v.id)};return q.useEffect(()=>(document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}),[]),A.jsxs("div",{className:"relative",ref:s,children:[A.jsxs("button",{onClick:d,className:"relative rounded-full w-8 h-8 flex justify-center items-center transition-all duration-300 ease-in-out focus:outline-none hover:bg-gray-800",children:[A.jsx("img",{src:EAe,alt:"bell",className:"w-6 h-6"}),t&&t.length>0&&t.some(v=>!v.status)&&A.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center p-1 h-2 w-2 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full"})]}),n&&A.jsx("div",{className:"z-50 fixed w-full 1440:w-[1440px] left-1/2 -translate-x-1/2 right-0 flex justify-end",children:A.jsx("div",{className:"mt-2.5 w-[400px] bg-white border border-gray-200 rounded-lg shadow-lg",children:A.jsxs("div",{className:"p-3",children:[A.jsx("h4",{className:"text-lg font-semibold text-gray-700 text-center",children:"Notifications"}),(t==null?void 0:t.length)===0&&A.jsx("p",{className:"text-gray-500",children:"No new notifications"}),A.jsx("div",{className:"mt-2 max-h-[400px] overflow-y-auto",children:t==null?void 0:t.map(v=>A.jsx(MAe,{notification:v,onNotificationClick:p},v.id))})]})})})]})},JAe=()=>{const{t}=on(),{state:n,dispatch:o}=Na(),{token:s,role:d,isLogin:m,account:p}=n,[v,k]=q.useState(!1),[Z,_]=q.useState(!1),N=()=>{_(!0)},G=()=>{_(!1)};q.useEffect(()=>{m&&(async()=>{await yt.get("/courtstar/account/myInfor").then(F=>{o({type:"SET_ACCOUNT",payload:F.data.data})}).catch(F=>{console.log(F.message),localStorage.clear(),o({type:"LOGOUT"})}).finally(()=>{})})()},[m]);const D=Va(),M=async()=>{k(!0),await yt.post("/courtstar/auth/logout",{token:s}).then(()=>{localStorage.clear(),o({type:"LOGOUT"}),ht.success("Log out successfully!",{toastId:"log-out-successfully"}),D("/")}).catch(P=>{console.log(P.message),ht.warning("Can not log out!",{toastId:"can-not-log-out"})}).finally(()=>k(!1))};q.useEffect(()=>{m&&(async()=>{await yt.get("/courtstar/notification").then(F=>{O(F.data.data.reverse())}).catch(F=>{console.log(F.message)}).finally()})()},[m]);const[L,O]=q.useState([]);return A.jsxs("div",{className:"font-Inter text-base overflow-x-hidden w-full shadow-lg fixed z-30",children:[A.jsx("header",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-primary-green",children:A.jsxs("nav",{className:"max-w-screen-1440 1440:mx-auto mx-4 w-full sm:flex sm:items-center sm:justify-between",children:[A.jsxs("div",{className:"flex items-center justify-between min-w-[416px]",children:[A.jsx("div",{className:"py-2",children:A.jsx("img",{src:ZF,className:"h-16",alt:"logo"})}),A.jsx("div",{className:"sm:hidden",children:A.jsxs("button",{type:"button",className:"p-2 inline-flex justify-center items-center gap-x-2 rounded-lg border border-gray-200 text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none",children:[A.jsxs("svg",{className:"flex-shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("line",{x1:"3",x2:"21",y1:"6",y2:"6"}),A.jsx("line",{x1:"3",x2:"21",y1:"12",y2:"12"}),A.jsx("line",{x1:"3",x2:"21",y1:"18",y2:"18"})]}),A.jsxs("svg",{className:"hidden flex-shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[A.jsx("path",{d:"M18 6 6 18"}),A.jsx("path",{d:"m6 6 12 12"})]})]})})]}),A.jsx("div",{className:"hidden sm:flex justify-center overflow-hidden transition-all duration-200 grow text-lg",children:A.jsxs("div",{className:"flex flex-col gap-10 sm:flex-row sm:items-center sm:mt-0 font-medium",children:[A.jsx(Gr,{className:`text-gray-200 font-medium hover:text-white transition-all ease-in-out duration-200\r
                cursor-pointer py-1 relative after:sm:absolute after:sm:bottom-0 after:sm:left-0 after:sm:bg-white after:sm:h-0.5 after:sm:w-0 hover:after:sm:w-full after:sm:transition-all after:sm:ease-in-out after:sm:duration-200 after:sm:rounded-md`,to:"/",children:t("home")}),A.jsx(Gr,{className:`text-gray-200 font-medium hover:text-white transition-all ease-in-out duration-200\r
                cursor-pointer py-1 relative after:sm:absolute after:sm:bottom-0 after:sm:left-0 after:sm:bg-white after:sm:h-0.5 after:sm:w-0 hover:after:sm:w-full after:sm:transition-all after:sm:ease-in-out after:sm:duration-200 after:sm:rounded-md`,to:"/aboutUs",children:t("aboutUs")}),!(d==="MANAGER"||d==="ADMIN")&&A.jsx(Gr,{className:`text-gray-200 font-medium hover:text-white transition-all ease-in-out duration-200\r
                cursor-pointer py-1 relative after:sm:absolute after:sm:bottom-0 after:sm:left-0 after:sm:bg-white after:sm:h-0.5 after:sm:w-0 hover:after:sm:w-full after:sm:transition-all after:sm:ease-in-out after:sm:duration-200 after:sm:rounded-md`,to:"/partnerRegister",children:t("partnerRegister")}),d&&d==="ADMIN"&&m&&A.jsx(Gr,{className:`text-gray-200 font-medium hover:text-white transition-all ease-in-out duration-200\r
                cursor-pointer py-1 relative after:sm:absolute after:sm:bottom-0 after:sm:left-0 after:sm:bg-white after:sm:h-0.5 after:sm:w-0 hover:after:sm:w-full after:sm:transition-all after:sm:ease-in-out after:sm:duration-200 after:sm:rounded-md`,to:"/admin",children:t("myDashboard")}),d&&(d==="STAFF"||d==="MANAGER")&&m&&A.jsx(Gr,{className:`text-gray-200 font-medium hover:text-white transition-all ease-in-out duration-200\r
                cursor-pointer py-1 relative after:sm:absolute after:sm:bottom-0 after:sm:left-0 after:sm:bg-white after:sm:h-0.5 after:sm:w-0 hover:after:sm:w-full after:sm:transition-all after:sm:ease-in-out after:sm:duration-200 after:sm:rounded-md`,to:d==="STAFF"?"/myCentre/:id":"/myCentre/balance",children:t("myCentre")})]})}),A.jsxs("div",{className:"flex basis-1/4 justify-end",children:[A.jsx(Ghe,{}),m===!1&&A.jsxs("div",{className:"flex gap-4",children:[A.jsx("div",{children:A.jsx(tn,{label:t("logIn"),size:"medium",fullWidth:!0,className:"border-white border hover:bg-gray-200 text-white hover:text-primary-green min-w-36 max-w-36 min-h-[46px] max-h-[46px]",onClick:N})}),A.jsx("div",{children:A.jsx(tn,{label:t("signUp"),size:"medium",fullWidth:!0,className:"bg-gray-700 hover:bg-gray-800 text-gray-200 border border-gray-700 hover:border-gray-800 min-w-36 max-w-36 min-h-[46px] max-h-[46px]",onClick:()=>D("/customerRegister")})})]}),m===!0&&A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(NAe,{userEmail:p.email,logout:M,loadingLogout:v}),A.jsx(TAe,{notifications:L})]})]})]})}),A.jsx(_Ae,{isOpen:Z,setIsOpen:G})]})},LAe=()=>{const{t}=on();return A.jsx("div",{className:"font-Inter text-base text-white overflow-x-hidden",children:A.jsx("footer",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-800",children:A.jsxs("div",{className:"max-w-screen-1440 1440:mx-auto mx-4 w-full flex flex-col items-center justify-between",children:[A.jsxs("div",{className:"flex justify-between items-center w-full py-5",children:[A.jsx("img",{src:ZF,alt:"logo",className:"w-52 h-52 block basis-1/3"}),A.jsx("div",{className:"basis-1/3 flex",children:A.jsxs("div",{className:"mx-auto flex flex-col gap-4",children:[A.jsx("div",{children:A.jsx(Gr,{className:"text-gray-200 hover:text-white transition-all ease-in-out duration-300",to:"/aboutUs",children:t("aboutUs")})}),A.jsx("div",{children:A.jsx(Gr,{className:"text-gray-200 hover:text-white transition-all ease-in-out duration-300",to:"/partnerRegister",children:t("partnerRegister")})}),A.jsx("div",{children:A.jsx(Gr,{className:"text-gray-200 hover:text-white transition-all ease-in-out duration-300",to:"/CustomerTerm",children:t("termForCustomer")})}),A.jsx("div",{children:A.jsx(Gr,{className:"text-gray-200 hover:text-white transition-all ease-in-out duration-300",to:"/PartnerTerm",children:t("termForPartner")})}),A.jsx("div",{children:A.jsx(Gr,{className:"text-gray-200 hover:text-white transition-all ease-in-out duration-300",to:"/PrivacyPolicy",children:t("privacyPolicy")})})]})}),A.jsxs("div",{className:"basis-1/3 flex flex-col gap-5",children:[A.jsx("div",{children:"Email: courtstar.se@gmail.com"}),A.jsxs("div",{children:[t("address"),": L E2a-7, ng D1, Khu Cng ngh cao, P.Long Thnh M, Tp. Th c, TP.HCM."]})]})]}),A.jsx("hr",{className:"bg-white w-[100vw]"}),A.jsxs("div",{className:"py-4",children:[" ",t("allRightsReserved2024CourtStar")]})]})})})},zAe=()=>A.jsxs("div",{className:"relative",children:[A.jsx(JAe,{}),A.jsx("div",{className:"min-h-20",children:A.jsx(bCe,{pauseOnHover:!1,closeOnClick:!0,draggable:!0,autoClose:2e3})}),A.jsx(Che,{}),A.jsx(LAe,{})]}),KAe=()=>A.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100",children:[A.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-8",children:"404 - Page Not Found"}),A.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),A.jsx("a",{href:"/",className:"text-blue-600 hover:underline transition duration-300",children:"Go to Home"})]}),PAe=()=>{const{pathname:t}=Hc();return q.useEffect(()=>{window.scrollTo(0,0)},[t]),null},jAe="data:image/svg+xml,%3csvg%20width='29'%20height='24'%20viewBox='0%200%2029%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.7869%200.580933L19.516%207.52089L28.6995%209.22064L22.4388%2015.2095L23.3853%2023.2L14.7869%2019.9614L6.18847%2023.2L7.135%2015.2095L0.874344%209.22064L10.0578%207.52089L14.7869%200.580933Z'%20fill='%23FFCB45'/%3e%3c/svg%3e",OAe="data:image/svg+xml,%3csvg%20width='29'%20height='24'%20viewBox='0%200%2029%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.2623%200.580933L18.9914%207.52089L28.1749%209.22064L21.9142%2015.2095L22.8607%2023.2L14.2623%2019.9614L5.66386%2023.2L6.61039%2015.2095L0.349731%209.22064L9.53316%207.52089L14.2623%200.580933Z'%20fill='%23e5e6e7'/%3e%3c/svg%3e",Rl=t=>{const[n,o]=q.useState(t.value);q.useEffect(()=>{o(t.value)},[t.value]);const s=d=>{t.editable&&(o(d===n?0:d),t.onChange&&t.onChange(d))};return A.jsx("div",{className:t.ratingWrapper,children:[1,2,3,4,5].map(d=>A.jsx("div",{className:t.editable?"cursor-pointer":"",onClick:()=>s(d),children:A.jsx("img",{src:n>=d?jAe:OAe,alt:"Star",className:t.star})},d))})},am={black:"#000",white:"#fff"},Sg={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Bg={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Zg={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Gg={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Rg={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ku={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},UAe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Wc(t){let n="https://mui.com/production-error/?code="+t;for(let o=1;o<arguments.length;o+=1)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified MUI error #"+t+"; visit "+n+" for the full message."}const QAe=Object.freeze(Object.defineProperty({__proto__:null,default:Wc},Symbol.toStringTag,{value:"Module"})),Zm="$$material";function xe(){return xe=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var s in o)({}).hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},xe.apply(null,arguments)}const qAe=Object.freeze(Object.defineProperty({__proto__:null,get default(){return xe}},Symbol.toStringTag,{value:"Module"}));function Jt(t,n){if(t==null)return{};var o={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(n.indexOf(s)>=0)continue;o[s]=t[s]}return o}function $Ae(t){if(t.sheet)return t.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===t)return document.styleSheets[n]}function e0e(t){var n=document.createElement("style");return n.setAttribute("data-emotion",t.key),t.nonce!==void 0&&n.setAttribute("nonce",t.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var t0e=function(){function t(o){var s=this;this._insertTag=function(d){var m;s.tags.length===0?s.insertionPoint?m=s.insertionPoint.nextSibling:s.prepend?m=s.container.firstChild:m=s.before:m=s.tags[s.tags.length-1].nextSibling,s.container.insertBefore(d,m),s.tags.push(d)},this.isSpeedy=o.speedy===void 0?!0:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var n=t.prototype;return n.hydrate=function(s){s.forEach(this._insertTag)},n.insert=function(s){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(e0e(this));var d=this.tags[this.tags.length-1];if(this.isSpeedy){var m=$Ae(d);try{m.insertRule(s,m.cssRules.length)}catch{}}else d.appendChild(document.createTextNode(s));this.ctr++},n.flush=function(){this.tags.forEach(function(s){return s.parentNode&&s.parentNode.removeChild(s)}),this.tags=[],this.ctr=0},t}(),ho="-ms-",ef="-moz-",wn="-webkit-",SM="comm",A1="rule",y1="decl",n0e="@import",BM="@keyframes",i0e="@layer",o0e=Math.abs,rb=String.fromCharCode,r0e=Object.assign;function s0e(t,n){return oo(t,0)^45?(((n<<2^oo(t,0))<<2^oo(t,1))<<2^oo(t,2))<<2^oo(t,3):0}function ZM(t){return t.trim()}function a0e(t,n){return(t=n.exec(t))?t[0]:t}function xn(t,n,o){return t.replace(n,o)}function sw(t,n){return t.indexOf(n)}function oo(t,n){return t.charCodeAt(n)|0}function lm(t,n,o){return t.slice(n,o)}function Vs(t){return t.length}function k1(t){return t.length}function vp(t,n){return n.push(t),t}function l0e(t,n){return t.map(n).join("")}var sb=1,kd=1,GM=0,Jo=0,Ri=0,Yd="";function ab(t,n,o,s,d,m,p){return{value:t,root:n,parent:o,type:s,props:d,children:m,line:sb,column:kd,length:p,return:""}}function Pu(t,n){return r0e(ab("",null,null,"",null,null,0),t,{length:-t.length},n)}function c0e(){return Ri}function g0e(){return Ri=Jo>0?oo(Yd,--Jo):0,kd--,Ri===10&&(kd=1,sb--),Ri}function ar(){return Ri=Jo<GM?oo(Yd,Jo++):0,kd++,Ri===10&&(kd=1,sb++),Ri}function Ms(){return oo(Yd,Jo)}function sI(){return Jo}function Gm(t,n){return lm(Yd,t,n)}function cm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function RM(t){return sb=kd=1,GM=Vs(Yd=t),Jo=0,[]}function VM(t){return Yd="",t}function aI(t){return ZM(Gm(Jo-1,aw(t===91?t+2:t===40?t+1:t)))}function d0e(t){for(;(Ri=Ms())&&Ri<33;)ar();return cm(t)>2||cm(Ri)>3?"":" "}function u0e(t,n){for(;--n&&ar()&&!(Ri<48||Ri>102||Ri>57&&Ri<65||Ri>70&&Ri<97););return Gm(t,sI()+(n<6&&Ms()==32&&ar()==32))}function aw(t){for(;ar();)switch(Ri){case t:return Jo;case 34:case 39:t!==34&&t!==39&&aw(Ri);break;case 40:t===41&&aw(t);break;case 92:ar();break}return Jo}function h0e(t,n){for(;ar()&&t+Ri!==57;)if(t+Ri===84&&Ms()===47)break;return"/*"+Gm(n,Jo-1)+"*"+rb(t===47?t:ar())}function m0e(t){for(;!cm(Ms());)ar();return Gm(t,Jo)}function C0e(t){return VM(lI("",null,null,null,[""],t=RM(t),0,[0],t))}function lI(t,n,o,s,d,m,p,v,k){for(var Z=0,_=0,N=p,G=0,D=0,M=0,L=1,O=1,P=1,F=0,j="",ie=d,ne=m,ue=s,K=j;O;)switch(M=F,F=ar()){case 40:if(M!=108&&oo(K,N-1)==58){sw(K+=xn(aI(F),"&","&\f"),"&\f")!=-1&&(P=-1);break}case 34:case 39:case 91:K+=aI(F);break;case 9:case 10:case 13:case 32:K+=d0e(M);break;case 92:K+=u0e(sI()-1,7);continue;case 47:switch(Ms()){case 42:case 47:vp(p0e(h0e(ar(),sI()),n,o),k);break;default:K+="/"}break;case 123*L:v[Z++]=Vs(K)*P;case 125*L:case 59:case 0:switch(F){case 0:case 125:O=0;case 59+_:P==-1&&(K=xn(K,/\f/g,"")),D>0&&Vs(K)-N&&vp(D>32?rX(K+";",s,o,N-1):rX(xn(K," ","")+";",s,o,N-2),k);break;case 59:K+=";";default:if(vp(ue=oX(K,n,o,Z,_,d,v,j,ie=[],ne=[],N),m),F===123)if(_===0)lI(K,n,ue,ue,ie,m,N,v,ne);else switch(G===99&&oo(K,3)===110?100:G){case 100:case 108:case 109:case 115:lI(t,ue,ue,s&&vp(oX(t,ue,ue,0,0,d,v,j,d,ie=[],N),ne),d,ne,N,v,s?ie:ne);break;default:lI(K,ue,ue,ue,[""],ne,0,v,ne)}}Z=_=D=0,L=P=1,j=K="",N=p;break;case 58:N=1+Vs(K),D=M;default:if(L<1){if(F==123)--L;else if(F==125&&L++==0&&g0e()==125)continue}switch(K+=rb(F),F*L){case 38:P=_>0?1:(K+="\f",-1);break;case 44:v[Z++]=(Vs(K)-1)*P,P=1;break;case 64:Ms()===45&&(K+=aI(ar())),G=Ms(),_=N=Vs(j=K+=m0e(sI())),F++;break;case 45:M===45&&Vs(K)==2&&(L=0)}}return m}function oX(t,n,o,s,d,m,p,v,k,Z,_){for(var N=d-1,G=d===0?m:[""],D=k1(G),M=0,L=0,O=0;M<s;++M)for(var P=0,F=lm(t,N+1,N=o0e(L=p[M])),j=t;P<D;++P)(j=ZM(L>0?G[P]+" "+F:xn(F,/&\f/g,G[P])))&&(k[O++]=j);return ab(t,n,o,d===0?A1:v,k,Z,_)}function p0e(t,n,o){return ab(t,n,o,SM,rb(c0e()),lm(t,2,-2),0)}function rX(t,n,o,s){return ab(t,n,o,y1,lm(t,0,s),lm(t,s+1,-1),s)}function sd(t,n){for(var o="",s=k1(t),d=0;d<s;d++)o+=n(t[d],d,t,n)||"";return o}function I0e(t,n,o,s){switch(t.type){case i0e:if(t.children.length)break;case n0e:case y1:return t.return=t.return||t.value;case SM:return"";case BM:return t.return=t.value+"{"+sd(t.children,s)+"}";case A1:t.value=t.props.join(",")}return Vs(o=sd(t.children,s))?t.return=t.value+"{"+o+"}":""}function f0e(t){var n=k1(t);return function(o,s,d,m){for(var p="",v=0;v<n;v++)p+=t[v](o,s,d,m)||"";return p}}function b0e(t){return function(n){n.root||(n=n.return)&&t(n)}}var A0e=function(n,o,s){for(var d=0,m=0;d=m,m=Ms(),d===38&&m===12&&(o[s]=1),!cm(m);)ar();return Gm(n,Jo)},y0e=function(n,o){var s=-1,d=44;do switch(cm(d)){case 0:d===38&&Ms()===12&&(o[s]=1),n[s]+=A0e(Jo-1,o,s);break;case 2:n[s]+=aI(d);break;case 4:if(d===44){n[++s]=Ms()===58?"&\f":"",o[s]=n[s].length;break}default:n[s]+=rb(d)}while(d=ar());return n},k0e=function(n,o){return VM(y0e(RM(n),o))},sX=new WeakMap,v0e=function(n){if(!(n.type!=="rule"||!n.parent||n.length<1)){for(var o=n.value,s=n.parent,d=n.column===s.column&&n.line===s.line;s.type!=="rule";)if(s=s.parent,!s)return;if(!(n.props.length===1&&o.charCodeAt(0)!==58&&!sX.get(s))&&!d){sX.set(n,!0);for(var m=[],p=k0e(o,m),v=s.props,k=0,Z=0;k<p.length;k++)for(var _=0;_<v.length;_++,Z++)n.props[Z]=m[k]?p[k].replace(/&\f/g,v[_]):v[_]+" "+p[k]}}},w0e=function(n){if(n.type==="decl"){var o=n.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(n.return="",n.value="")}};function WM(t,n){switch(s0e(t,n)){case 5103:return wn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return wn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return wn+t+ef+t+ho+t+t;case 6828:case 4268:return wn+t+ho+t+t;case 6165:return wn+t+ho+"flex-"+t+t;case 5187:return wn+t+xn(t,/(\w+).+(:[^]+)/,wn+"box-$1$2"+ho+"flex-$1$2")+t;case 5443:return wn+t+ho+"flex-item-"+xn(t,/flex-|-self/,"")+t;case 4675:return wn+t+ho+"flex-line-pack"+xn(t,/align-content|flex-|-self/,"")+t;case 5548:return wn+t+ho+xn(t,"shrink","negative")+t;case 5292:return wn+t+ho+xn(t,"basis","preferred-size")+t;case 6060:return wn+"box-"+xn(t,"-grow","")+wn+t+ho+xn(t,"grow","positive")+t;case 4554:return wn+xn(t,/([^-])(transform)/g,"$1"+wn+"$2")+t;case 6187:return xn(xn(xn(t,/(zoom-|grab)/,wn+"$1"),/(image-set)/,wn+"$1"),t,"")+t;case 5495:case 3959:return xn(t,/(image-set\([^]*)/,wn+"$1$`$1");case 4968:return xn(xn(t,/(.+:)(flex-)?(.*)/,wn+"box-pack:$3"+ho+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+wn+t+t;case 4095:case 3583:case 4068:case 2532:return xn(t,/(.+)-inline(.+)/,wn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vs(t)-1-n>6)switch(oo(t,n+1)){case 109:if(oo(t,n+4)!==45)break;case 102:return xn(t,/(.+:)(.+)-([^]+)/,"$1"+wn+"$2-$3$1"+ef+(oo(t,n+3)==108?"$3":"$2-$3"))+t;case 115:return~sw(t,"stretch")?WM(xn(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(oo(t,n+1)!==115)break;case 6444:switch(oo(t,Vs(t)-3-(~sw(t,"!important")&&10))){case 107:return xn(t,":",":"+wn)+t;case 101:return xn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+wn+(oo(t,14)===45?"inline-":"")+"box$3$1"+wn+"$2$3$1"+ho+"$2box$3")+t}break;case 5936:switch(oo(t,n+11)){case 114:return wn+t+ho+xn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return wn+t+ho+xn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return wn+t+ho+xn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return wn+t+ho+t+t}return t}var x0e=function(n,o,s,d){if(n.length>-1&&!n.return)switch(n.type){case y1:n.return=WM(n.value,n.length);break;case BM:return sd([Pu(n,{value:xn(n.value,"@","@"+wn)})],d);case A1:if(n.length)return l0e(n.props,function(m){switch(a0e(m,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return sd([Pu(n,{props:[xn(m,/:(read-\w+)/,":"+ef+"$1")]})],d);case"::placeholder":return sd([Pu(n,{props:[xn(m,/:(plac\w+)/,":"+wn+"input-$1")]}),Pu(n,{props:[xn(m,/:(plac\w+)/,":"+ef+"$1")]}),Pu(n,{props:[xn(m,/:(plac\w+)/,ho+"input-$1")]})],d)}return""})}},S0e=[x0e],_M=function(n){var o=n.key;if(o==="css"){var s=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(s,function(L){var O=L.getAttribute("data-emotion");O.indexOf(" ")!==-1&&(document.head.appendChild(L),L.setAttribute("data-s",""))})}var d=n.stylisPlugins||S0e,m={},p,v=[];p=n.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(L){for(var O=L.getAttribute("data-emotion").split(" "),P=1;P<O.length;P++)m[O[P]]=!0;v.push(L)});var k,Z=[v0e,w0e];{var _,N=[I0e,b0e(function(L){_.insert(L)})],G=f0e(Z.concat(d,N)),D=function(O){return sd(C0e(O),G)};k=function(O,P,F,j){_=F,D(O?O+"{"+P.styles+"}":P.styles),j&&(M.inserted[P.name]=!0)}}var M={key:o,sheet:new t0e({key:o,container:p,nonce:n.nonce,speedy:n.speedy,prepend:n.prepend,insertionPoint:n.insertionPoint}),nonce:n.nonce,inserted:m,registered:{},insert:k};return M.sheet.hydrate(v),M},NM={exports:{}},Wn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qi=typeof Symbol=="function"&&Symbol.for,v1=Qi?Symbol.for("react.element"):60103,w1=Qi?Symbol.for("react.portal"):60106,lb=Qi?Symbol.for("react.fragment"):60107,cb=Qi?Symbol.for("react.strict_mode"):60108,gb=Qi?Symbol.for("react.profiler"):60114,db=Qi?Symbol.for("react.provider"):60109,ub=Qi?Symbol.for("react.context"):60110,x1=Qi?Symbol.for("react.async_mode"):60111,hb=Qi?Symbol.for("react.concurrent_mode"):60111,mb=Qi?Symbol.for("react.forward_ref"):60112,Cb=Qi?Symbol.for("react.suspense"):60113,B0e=Qi?Symbol.for("react.suspense_list"):60120,pb=Qi?Symbol.for("react.memo"):60115,Ib=Qi?Symbol.for("react.lazy"):60116,Z0e=Qi?Symbol.for("react.block"):60121,G0e=Qi?Symbol.for("react.fundamental"):60117,R0e=Qi?Symbol.for("react.responder"):60118,V0e=Qi?Symbol.for("react.scope"):60119;function hr(t){if(typeof t=="object"&&t!==null){var n=t.$$typeof;switch(n){case v1:switch(t=t.type,t){case x1:case hb:case lb:case gb:case cb:case Cb:return t;default:switch(t=t&&t.$$typeof,t){case ub:case mb:case Ib:case pb:case db:return t;default:return n}}case w1:return n}}}function EM(t){return hr(t)===hb}Wn.AsyncMode=x1;Wn.ConcurrentMode=hb;Wn.ContextConsumer=ub;Wn.ContextProvider=db;Wn.Element=v1;Wn.ForwardRef=mb;Wn.Fragment=lb;Wn.Lazy=Ib;Wn.Memo=pb;Wn.Portal=w1;Wn.Profiler=gb;Wn.StrictMode=cb;Wn.Suspense=Cb;Wn.isAsyncMode=function(t){return EM(t)||hr(t)===x1};Wn.isConcurrentMode=EM;Wn.isContextConsumer=function(t){return hr(t)===ub};Wn.isContextProvider=function(t){return hr(t)===db};Wn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===v1};Wn.isForwardRef=function(t){return hr(t)===mb};Wn.isFragment=function(t){return hr(t)===lb};Wn.isLazy=function(t){return hr(t)===Ib};Wn.isMemo=function(t){return hr(t)===pb};Wn.isPortal=function(t){return hr(t)===w1};Wn.isProfiler=function(t){return hr(t)===gb};Wn.isStrictMode=function(t){return hr(t)===cb};Wn.isSuspense=function(t){return hr(t)===Cb};Wn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===lb||t===hb||t===gb||t===cb||t===Cb||t===B0e||typeof t=="object"&&t!==null&&(t.$$typeof===Ib||t.$$typeof===pb||t.$$typeof===db||t.$$typeof===ub||t.$$typeof===mb||t.$$typeof===G0e||t.$$typeof===R0e||t.$$typeof===V0e||t.$$typeof===Z0e)};Wn.typeOf=hr;NM.exports=Wn;var W0e=NM.exports,XM=W0e,_0e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},N0e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},YM={};YM[XM.ForwardRef]=_0e;YM[XM.Memo]=N0e;var E0e=!0;function X0e(t,n,o){var s="";return o.split(" ").forEach(function(d){t[d]!==void 0?n.push(t[d]+";"):s+=d+" "}),s}var DM=function(n,o,s){var d=n.key+"-"+o.name;(s===!1||E0e===!1)&&n.registered[d]===void 0&&(n.registered[d]=o.styles)},HM=function(n,o,s){DM(n,o,s);var d=n.key+"-"+o.name;if(n.inserted[o.name]===void 0){var m=o;do n.insert(o===m?"."+d:"",m,n.sheet,!0),m=m.next;while(m!==void 0)}};function Y0e(t){for(var n=0,o,s=0,d=t.length;d>=4;++s,d-=4)o=t.charCodeAt(s)&255|(t.charCodeAt(++s)&255)<<8|(t.charCodeAt(++s)&255)<<16|(t.charCodeAt(++s)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,n=(o&65535)*1540483477+((o>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(d){case 3:n^=(t.charCodeAt(s+2)&255)<<16;case 2:n^=(t.charCodeAt(s+1)&255)<<8;case 1:n^=t.charCodeAt(s)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var D0e=/[A-Z]|^ms/g,H0e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,FM=function(n){return n.charCodeAt(1)===45},aX=function(n){return n!=null&&typeof n!="boolean"},dk=U3(function(t){return FM(t)?t:t.replace(D0e,"-$&").toLowerCase()}),lX=function(n,o){switch(n){case"animation":case"animationName":if(typeof o=="string")return o.replace(H0e,function(s,d,m){return Ws={name:d,styles:m,next:Ws},d})}return oM[n]!==1&&!FM(n)&&typeof o=="number"&&o!==0?o+"px":o};function gm(t,n,o){if(o==null)return"";if(o.__emotion_styles!==void 0)return o;switch(typeof o){case"boolean":return"";case"object":{if(o.anim===1)return Ws={name:o.name,styles:o.styles,next:Ws},o.name;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Ws={name:s.name,styles:s.styles,next:Ws},s=s.next;var d=o.styles+";";return d}return F0e(t,n,o)}case"function":{if(t!==void 0){var m=Ws,p=o(t);return Ws=m,gm(t,n,p)}break}}if(n==null)return o;var v=n[o];return v!==void 0?v:o}function F0e(t,n,o){var s="";if(Array.isArray(o))for(var d=0;d<o.length;d++)s+=gm(t,n,o[d])+";";else for(var m in o){var p=o[m];if(typeof p!="object")n!=null&&n[p]!==void 0?s+=m+"{"+n[p]+"}":aX(p)&&(s+=dk(m)+":"+lX(m,p)+";");else if(Array.isArray(p)&&typeof p[0]=="string"&&(n==null||n[p[0]]===void 0))for(var v=0;v<p.length;v++)aX(p[v])&&(s+=dk(m)+":"+lX(m,p[v])+";");else{var k=gm(t,n,p);switch(m){case"animation":case"animationName":{s+=dk(m)+":"+k+";";break}default:s+=m+"{"+k+"}"}}}return s}var cX=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ws,S1=function(n,o,s){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var d=!0,m="";Ws=void 0;var p=n[0];p==null||p.raw===void 0?(d=!1,m+=gm(s,o,p)):m+=p[0];for(var v=1;v<n.length;v++)m+=gm(s,o,n[v]),d&&(m+=p[v]);cX.lastIndex=0;for(var k="",Z;(Z=cX.exec(m))!==null;)k+="-"+Z[1];var _=Y0e(m)+k;return{name:_,styles:m,next:Ws}},M0e=function(n){return n()},MM=mI.useInsertionEffect?mI.useInsertionEffect:!1,T0e=MM||M0e,gX=MM||q.useLayoutEffect,TM=q.createContext(typeof HTMLElement<"u"?_M({key:"css"}):null),J0e=TM.Provider,JM=function(n){return q.forwardRef(function(o,s){var d=q.useContext(TM);return n(o,d,s)})},fb=q.createContext({}),L0e=JM(function(t,n){var o=t.styles,s=S1([o],void 0,q.useContext(fb)),d=q.useRef();return gX(function(){var m=n.key+"-global",p=new n.sheet.constructor({key:m,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),v=!1,k=document.querySelector('style[data-emotion="'+m+" "+s.name+'"]');return n.sheet.tags.length&&(p.before=n.sheet.tags[0]),k!==null&&(v=!0,k.setAttribute("data-emotion",m),p.hydrate([k])),d.current=[p,v],function(){p.flush()}},[n]),gX(function(){var m=d.current,p=m[0],v=m[1];if(v){m[1]=!1;return}if(s.next!==void 0&&HM(n,s.next,!0),p.tags.length){var k=p.tags[p.tags.length-1].nextElementSibling;p.before=k,p.flush()}n.insert("",s,p,!1)},[n,s.name]),null});function LM(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return S1(n)}var z0e=function(){var n=LM.apply(void 0,arguments),o="animation-"+n.name;return{name:o,styles:"@keyframes "+o+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},K0e=ybe,P0e=function(n){return n!=="theme"},dX=function(n){return typeof n=="string"&&n.charCodeAt(0)>96?K0e:P0e},uX=function(n,o,s){var d;if(o){var m=o.shouldForwardProp;d=n.__emotion_forwardProp&&m?function(p){return n.__emotion_forwardProp(p)&&m(p)}:m}return typeof d!="function"&&s&&(d=n.__emotion_forwardProp),d},j0e=function(n){var o=n.cache,s=n.serialized,d=n.isStringTag;return DM(o,s,d),T0e(function(){return HM(o,s,d)}),null},O0e=function t(n,o){var s=n.__emotion_real===n,d=s&&n.__emotion_base||n,m,p;o!==void 0&&(m=o.label,p=o.target);var v=uX(n,o,s),k=v||dX(d),Z=!k("as");return function(){var _=arguments,N=s&&n.__emotion_styles!==void 0?n.__emotion_styles.slice(0):[];if(m!==void 0&&N.push("label:"+m+";"),_[0]==null||_[0].raw===void 0)N.push.apply(N,_);else{N.push(_[0][0]);for(var G=_.length,D=1;D<G;D++)N.push(_[D],_[0][D])}var M=JM(function(L,O,P){var F=Z&&L.as||d,j="",ie=[],ne=L;if(L.theme==null){ne={};for(var ue in L)ne[ue]=L[ue];ne.theme=q.useContext(fb)}typeof L.className=="string"?j=X0e(O.registered,ie,L.className):L.className!=null&&(j=L.className+" ");var K=S1(N.concat(ie),O.registered,ne);j+=O.key+"-"+K.name,p!==void 0&&(j+=" "+p);var de=Z&&v===void 0?dX(F):k,pe={};for(var Ce in L)Z&&Ce==="as"||de(Ce)&&(pe[Ce]=L[Ce]);return pe.className=j,pe.ref=P,q.createElement(q.Fragment,null,q.createElement(j0e,{cache:O,serialized:K,isStringTag:typeof F=="string"}),q.createElement(F,pe))});return M.displayName=m!==void 0?m:"Styled("+(typeof d=="string"?d:d.displayName||d.name||"Component")+")",M.defaultProps=n.defaultProps,M.__emotion_real=M,M.__emotion_base=d,M.__emotion_styles=N,M.__emotion_forwardProp=v,Object.defineProperty(M,"toString",{value:function(){return"."+p}}),M.withComponent=function(L,O){return t(L,xe({},o,O,{shouldForwardProp:uX(M,O,!0)})).apply(void 0,N)},M}},U0e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],lw=O0e.bind();U0e.forEach(function(t){lw[t]=lw(t)});var uk={exports:{}},hk,hX;function Q0e(){if(hX)return hk;hX=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hk=t,hk}var mk,mX;function q0e(){if(mX)return mk;mX=1;var t=Q0e();function n(){}function o(){}return o.resetWarningCache=n,mk=function(){function s(p,v,k,Z,_,N){if(N!==t){var G=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw G.name="Invariant Violation",G}}s.isRequired=s;function d(){return s}var m={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:d,element:s,elementType:s,instanceOf:d,node:s,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:o,resetWarningCache:n};return m.PropTypes=m,m},mk}var CX;function bb(){return CX||(CX=1,uk.exports=q0e()()),uk.exports}bb();let cw;typeof document=="object"&&(cw=_M({key:"css",prepend:!0}));function $0e(t){const{injectFirst:n,children:o}=t;return n&&cw?A.jsx(J0e,{value:cw,children:o}):o}function eye(t){return t==null||Object.keys(t).length===0}function zM(t){const{styles:n,defaultTheme:o={}}=t,s=typeof n=="function"?d=>n(eye(d)?o:d):n;return A.jsx(L0e,{styles:s})}function B1(t,n){return lw(t,n)}const KM=(t,n)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=n(t.__emotion_styles))},tye=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:zM,StyledEngineProvider:$0e,ThemeContext:fb,css:LM,default:B1,internal_processStyles:KM,keyframes:z0e},Symbol.toStringTag,{value:"Module"}));function Ca(t){if(typeof t!="object"||t===null)return!1;const n=Object.getPrototypeOf(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function PM(t){if(!Ca(t))return t;const n={};return Object.keys(t).forEach(o=>{n[o]=PM(t[o])}),n}function lr(t,n,o={clone:!0}){const s=o.clone?xe({},t):t;return Ca(t)&&Ca(n)&&Object.keys(n).forEach(d=>{Ca(n[d])&&Object.prototype.hasOwnProperty.call(t,d)&&Ca(t[d])?s[d]=lr(t[d],n[d],o):o.clone?s[d]=Ca(n[d])?PM(n[d]):n[d]:s[d]=n[d]}),s}const nye=Object.freeze(Object.defineProperty({__proto__:null,default:lr,isPlainObject:Ca},Symbol.toStringTag,{value:"Module"})),iye=["values","unit","step"],oye=t=>{const n=Object.keys(t).map(o=>({key:o,val:t[o]}))||[];return n.sort((o,s)=>o.val-s.val),n.reduce((o,s)=>xe({},o,{[s.key]:s.val}),{})};function jM(t){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:o="px",step:s=5}=t,d=Jt(t,iye),m=oye(n),p=Object.keys(m);function v(G){return`@media (min-width:${typeof n[G]=="number"?n[G]:G}${o})`}function k(G){return`@media (max-width:${(typeof n[G]=="number"?n[G]:G)-s/100}${o})`}function Z(G,D){const M=p.indexOf(D);return`@media (min-width:${typeof n[G]=="number"?n[G]:G}${o}) and (max-width:${(M!==-1&&typeof n[p[M]]=="number"?n[p[M]]:D)-s/100}${o})`}function _(G){return p.indexOf(G)+1<p.length?Z(G,p[p.indexOf(G)+1]):v(G)}function N(G){const D=p.indexOf(G);return D===0?v(p[1]):D===p.length-1?k(p[D]):Z(G,p[p.indexOf(G)+1]).replace("@media","@media not all and")}return xe({keys:p,values:m,up:v,down:k,between:Z,only:_,not:N,unit:o},d)}const rye={borderRadius:4};function kh(t,n){return n?lr(t,n,{clone:!1}):t}const Z1={xs:0,sm:600,md:900,lg:1200,xl:1536},pX={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Z1[t]}px)`};function Za(t,n,o){const s=t.theme||{};if(Array.isArray(n)){const m=s.breakpoints||pX;return n.reduce((p,v,k)=>(p[m.up(m.keys[k])]=o(n[k]),p),{})}if(typeof n=="object"){const m=s.breakpoints||pX;return Object.keys(n).reduce((p,v)=>{if(Object.keys(m.values||Z1).indexOf(v)!==-1){const k=m.up(v);p[k]=o(n[v],v)}else{const k=v;p[k]=n[k]}return p},{})}return o(n)}function sye(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((s,d)=>{const m=t.up(d);return s[m]={},s},{}))||{}}function aye(t,n){return t.reduce((o,s)=>{const d=o[s];return(!d||Object.keys(d).length===0)&&delete o[s],o},n)}function bn(t){if(typeof t!="string")throw new Error(Wc(7));return t.charAt(0).toUpperCase()+t.slice(1)}const lye=Object.freeze(Object.defineProperty({__proto__:null,default:bn},Symbol.toStringTag,{value:"Module"}));function Ab(t,n,o=!0){if(!n||typeof n!="string")return null;if(t&&t.vars&&o){const s=`vars.${n}`.split(".").reduce((d,m)=>d&&d[m]?d[m]:null,t);if(s!=null)return s}return n.split(".").reduce((s,d)=>s&&s[d]!=null?s[d]:null,t)}function tf(t,n,o,s=o){let d;return typeof t=="function"?d=t(o):Array.isArray(t)?d=t[o]||s:d=Ab(t,o)||s,n&&(d=n(d,s,t)),d}function Si(t){const{prop:n,cssProperty:o=t.prop,themeKey:s,transform:d}=t,m=p=>{if(p[n]==null)return null;const v=p[n],k=p.theme,Z=Ab(k,s)||{};return Za(p,v,N=>{let G=tf(Z,d,N);return N===G&&typeof N=="string"&&(G=tf(Z,d,`${n}${N==="default"?"":bn(N)}`,N)),o===!1?G:{[o]:G}})};return m.propTypes={},m.filterProps=[n],m}function cye(t){const n={};return o=>(n[o]===void 0&&(n[o]=t(o)),n[o])}const gye={m:"margin",p:"padding"},dye={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},IX={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},uye=cye(t=>{if(t.length>2)if(IX[t])t=IX[t];else return[t];const[n,o]=t.split(""),s=gye[n],d=dye[o]||"";return Array.isArray(d)?d.map(m=>s+m):[s+d]}),G1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],R1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...G1,...R1];function Rm(t,n,o,s){var d;const m=(d=Ab(t,n,!1))!=null?d:o;return typeof m=="number"?p=>typeof p=="string"?p:m*p:Array.isArray(m)?p=>typeof p=="string"?p:m[p]:typeof m=="function"?m:()=>{}}function OM(t){return Rm(t,"spacing",8)}function Vm(t,n){if(typeof n=="string"||n==null)return n;const o=Math.abs(n),s=t(o);return n>=0?s:typeof s=="number"?-s:`-${s}`}function hye(t,n){return o=>t.reduce((s,d)=>(s[d]=Vm(n,o),s),{})}function mye(t,n,o,s){if(n.indexOf(o)===-1)return null;const d=uye(o),m=hye(d,s),p=t[o];return Za(t,p,m)}function UM(t,n){const o=OM(t.theme);return Object.keys(t).map(s=>mye(t,n,s,o)).reduce(kh,{})}function di(t){return UM(t,G1)}di.propTypes={};di.filterProps=G1;function ui(t){return UM(t,R1)}ui.propTypes={};ui.filterProps=R1;function Cye(t=8){if(t.mui)return t;const n=OM({spacing:t}),o=(...s)=>(s.length===0?[1]:s).map(m=>{const p=n(m);return typeof p=="number"?`${p}px`:p}).join(" ");return o.mui=!0,o}function yb(...t){const n=t.reduce((s,d)=>(d.filterProps.forEach(m=>{s[m]=d}),s),{}),o=s=>Object.keys(s).reduce((d,m)=>n[m]?kh(d,n[m](s)):d,{});return o.propTypes={},o.filterProps=t.reduce((s,d)=>s.concat(d.filterProps),[]),o}function Zr(t){return typeof t!="number"?t:`${t}px solid`}function Fr(t,n){return Si({prop:t,themeKey:"borders",transform:n})}const pye=Fr("border",Zr),Iye=Fr("borderTop",Zr),fye=Fr("borderRight",Zr),bye=Fr("borderBottom",Zr),Aye=Fr("borderLeft",Zr),yye=Fr("borderColor"),kye=Fr("borderTopColor"),vye=Fr("borderRightColor"),wye=Fr("borderBottomColor"),xye=Fr("borderLeftColor"),Sye=Fr("outline",Zr),Bye=Fr("outlineColor"),kb=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const n=Rm(t.theme,"shape.borderRadius",4),o=s=>({borderRadius:Vm(n,s)});return Za(t,t.borderRadius,o)}return null};kb.propTypes={};kb.filterProps=["borderRadius"];yb(pye,Iye,fye,bye,Aye,yye,kye,vye,wye,xye,kb,Sye,Bye);const vb=t=>{if(t.gap!==void 0&&t.gap!==null){const n=Rm(t.theme,"spacing",8),o=s=>({gap:Vm(n,s)});return Za(t,t.gap,o)}return null};vb.propTypes={};vb.filterProps=["gap"];const wb=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const n=Rm(t.theme,"spacing",8),o=s=>({columnGap:Vm(n,s)});return Za(t,t.columnGap,o)}return null};wb.propTypes={};wb.filterProps=["columnGap"];const xb=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const n=Rm(t.theme,"spacing",8),o=s=>({rowGap:Vm(n,s)});return Za(t,t.rowGap,o)}return null};xb.propTypes={};xb.filterProps=["rowGap"];const Zye=Si({prop:"gridColumn"}),Gye=Si({prop:"gridRow"}),Rye=Si({prop:"gridAutoFlow"}),Vye=Si({prop:"gridAutoColumns"}),Wye=Si({prop:"gridAutoRows"}),_ye=Si({prop:"gridTemplateColumns"}),Nye=Si({prop:"gridTemplateRows"}),Eye=Si({prop:"gridTemplateAreas"}),Xye=Si({prop:"gridArea"});yb(vb,wb,xb,Zye,Gye,Rye,Vye,Wye,_ye,Nye,Eye,Xye);function ad(t,n){return n==="grey"?n:t}const Yye=Si({prop:"color",themeKey:"palette",transform:ad}),Dye=Si({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ad}),Hye=Si({prop:"backgroundColor",themeKey:"palette",transform:ad});yb(Yye,Dye,Hye);function er(t){return t<=1&&t!==0?`${t*100}%`:t}const Fye=Si({prop:"width",transform:er}),V1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const n=o=>{var s,d;const m=((s=t.theme)==null||(s=s.breakpoints)==null||(s=s.values)==null?void 0:s[o])||Z1[o];return m?((d=t.theme)==null||(d=d.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${m}${t.theme.breakpoints.unit}`}:{maxWidth:m}:{maxWidth:er(o)}};return Za(t,t.maxWidth,n)}return null};V1.filterProps=["maxWidth"];const Mye=Si({prop:"minWidth",transform:er}),Tye=Si({prop:"height",transform:er}),Jye=Si({prop:"maxHeight",transform:er}),Lye=Si({prop:"minHeight",transform:er});Si({prop:"size",cssProperty:"width",transform:er});Si({prop:"size",cssProperty:"height",transform:er});const zye=Si({prop:"boxSizing"});yb(Fye,V1,Mye,Tye,Jye,Lye,zye);const Wm={border:{themeKey:"borders",transform:Zr},borderTop:{themeKey:"borders",transform:Zr},borderRight:{themeKey:"borders",transform:Zr},borderBottom:{themeKey:"borders",transform:Zr},borderLeft:{themeKey:"borders",transform:Zr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Zr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:kb},color:{themeKey:"palette",transform:ad},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ad},backgroundColor:{themeKey:"palette",transform:ad},p:{style:ui},pt:{style:ui},pr:{style:ui},pb:{style:ui},pl:{style:ui},px:{style:ui},py:{style:ui},padding:{style:ui},paddingTop:{style:ui},paddingRight:{style:ui},paddingBottom:{style:ui},paddingLeft:{style:ui},paddingX:{style:ui},paddingY:{style:ui},paddingInline:{style:ui},paddingInlineStart:{style:ui},paddingInlineEnd:{style:ui},paddingBlock:{style:ui},paddingBlockStart:{style:ui},paddingBlockEnd:{style:ui},m:{style:di},mt:{style:di},mr:{style:di},mb:{style:di},ml:{style:di},mx:{style:di},my:{style:di},margin:{style:di},marginTop:{style:di},marginRight:{style:di},marginBottom:{style:di},marginLeft:{style:di},marginX:{style:di},marginY:{style:di},marginInline:{style:di},marginInlineStart:{style:di},marginInlineEnd:{style:di},marginBlock:{style:di},marginBlockStart:{style:di},marginBlockEnd:{style:di},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:vb},rowGap:{style:xb},columnGap:{style:wb},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:er},maxWidth:{style:V1},minWidth:{transform:er},height:{transform:er},maxHeight:{transform:er},minHeight:{transform:er},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Kye(...t){const n=t.reduce((s,d)=>s.concat(Object.keys(d)),[]),o=new Set(n);return t.every(s=>o.size===Object.keys(s).length)}function Pye(t,n){return typeof t=="function"?t(n):t}function QM(){function t(o,s,d,m){const p={[o]:s,theme:d},v=m[o];if(!v)return{[o]:s};const{cssProperty:k=o,themeKey:Z,transform:_,style:N}=v;if(s==null)return null;if(Z==="typography"&&s==="inherit")return{[o]:s};const G=Ab(d,Z)||{};return N?N(p):Za(p,s,M=>{let L=tf(G,_,M);return M===L&&typeof M=="string"&&(L=tf(G,_,`${o}${M==="default"?"":bn(M)}`,M)),k===!1?L:{[k]:L}})}function n(o){var s;const{sx:d,theme:m={}}=o||{};if(!d)return null;const p=(s=m.unstable_sxConfig)!=null?s:Wm;function v(k){let Z=k;if(typeof k=="function")Z=k(m);else if(typeof k!="object")return k;if(!Z)return null;const _=sye(m.breakpoints),N=Object.keys(_);let G=_;return Object.keys(Z).forEach(D=>{const M=Pye(Z[D],m);if(M!=null)if(typeof M=="object")if(p[D])G=kh(G,t(D,M,m,p));else{const L=Za({theme:m},M,O=>({[D]:O}));Kye(L,M)?G[D]=n({sx:M,theme:m}):G=kh(G,L)}else G=kh(G,t(D,M,m,p))}),aye(N,G)}return Array.isArray(d)?d.map(v):v(d)}return n}const Dd=QM();Dd.filterProps=["sx"];function qM(t,n){const o=this;return o.vars&&typeof o.getColorSchemeSelector=="function"?{[o.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:o.palette.mode===t?n:{}}const jye=["breakpoints","palette","spacing","shape"];function Sb(t={},...n){const{breakpoints:o={},palette:s={},spacing:d,shape:m={}}=t,p=Jt(t,jye),v=jM(o),k=Cye(d);let Z=lr({breakpoints:v,direction:"ltr",components:{},palette:xe({mode:"light"},s),spacing:k,shape:xe({},rye,m)},p);return Z.applyStyles=qM,Z=n.reduce((_,N)=>lr(_,N),Z),Z.unstable_sxConfig=xe({},Wm,p==null?void 0:p.unstable_sxConfig),Z.unstable_sx=function(N){return Dd({sx:N,theme:this})},Z}const Oye=Object.freeze(Object.defineProperty({__proto__:null,default:Sb,private_createBreakpoints:jM,unstable_applyStyles:qM},Symbol.toStringTag,{value:"Module"}));function Uye(t){return Object.keys(t).length===0}function Qye(t=null){const n=q.useContext(fb);return!n||Uye(n)?t:n}const qye=Sb();function Bb(t=qye){return Qye(t)}function $ye({styles:t,themeId:n,defaultTheme:o={}}){const s=Bb(o),d=typeof t=="function"?t(n&&s[n]||s):t;return A.jsx(zM,{styles:d})}const eke=["sx"],tke=t=>{var n,o;const s={systemProps:{},otherProps:{}},d=(n=t==null||(o=t.theme)==null?void 0:o.unstable_sxConfig)!=null?n:Wm;return Object.keys(t).forEach(m=>{d[m]?s.systemProps[m]=t[m]:s.otherProps[m]=t[m]}),s};function W1(t){const{sx:n}=t,o=Jt(t,eke),{systemProps:s,otherProps:d}=tke(o);let m;return Array.isArray(n)?m=[s,...n]:typeof n=="function"?m=(...p)=>{const v=n(...p);return Ca(v)?xe({},s,v):s}:m=xe({},s,n),xe({},d,{sx:m})}const nke=Object.freeze(Object.defineProperty({__proto__:null,default:Dd,extendSxProp:W1,unstable_createStyleFunctionSx:QM,unstable_defaultSxConfig:Wm},Symbol.toStringTag,{value:"Module"})),fX=t=>t,ike=()=>{let t=fX;return{configure(n){t=n},generate(n){return t(n)},reset(){t=fX}}},$M=ike(),oke=["className","component"];function rke(t={}){const{themeId:n,defaultTheme:o,defaultClassName:s="MuiBox-root",generateClassName:d}=t,m=B1("div",{shouldForwardProp:v=>v!=="theme"&&v!=="sx"&&v!=="as"})(Dd);return q.forwardRef(function(k,Z){const _=Bb(o),N=W1(k),{className:G,component:D="div"}=N,M=Jt(N,oke);return A.jsx(m,xe({as:D,ref:Z,className:nn(G,d?d(s):s),theme:n&&_[n]||_},M))})}const ske={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ci(t,n,o="Mui"){const s=ske[n];return s?`${o}-${s}`:`${$M.generate(t)}-${n}`}function pi(t,n,o="Mui"){const s={};return n.forEach(d=>{s[d]=Ci(t,d,o)}),s}var eT={exports:{}},_n={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1=Symbol.for("react.element"),N1=Symbol.for("react.portal"),Zb=Symbol.for("react.fragment"),Gb=Symbol.for("react.strict_mode"),Rb=Symbol.for("react.profiler"),Vb=Symbol.for("react.provider"),Wb=Symbol.for("react.context"),ake=Symbol.for("react.server_context"),_b=Symbol.for("react.forward_ref"),Nb=Symbol.for("react.suspense"),Eb=Symbol.for("react.suspense_list"),Xb=Symbol.for("react.memo"),Yb=Symbol.for("react.lazy"),lke=Symbol.for("react.offscreen"),tT;tT=Symbol.for("react.module.reference");function Mr(t){if(typeof t=="object"&&t!==null){var n=t.$$typeof;switch(n){case _1:switch(t=t.type,t){case Zb:case Rb:case Gb:case Nb:case Eb:return t;default:switch(t=t&&t.$$typeof,t){case ake:case Wb:case _b:case Yb:case Xb:case Vb:return t;default:return n}}case N1:return n}}}_n.ContextConsumer=Wb;_n.ContextProvider=Vb;_n.Element=_1;_n.ForwardRef=_b;_n.Fragment=Zb;_n.Lazy=Yb;_n.Memo=Xb;_n.Portal=N1;_n.Profiler=Rb;_n.StrictMode=Gb;_n.Suspense=Nb;_n.SuspenseList=Eb;_n.isAsyncMode=function(){return!1};_n.isConcurrentMode=function(){return!1};_n.isContextConsumer=function(t){return Mr(t)===Wb};_n.isContextProvider=function(t){return Mr(t)===Vb};_n.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===_1};_n.isForwardRef=function(t){return Mr(t)===_b};_n.isFragment=function(t){return Mr(t)===Zb};_n.isLazy=function(t){return Mr(t)===Yb};_n.isMemo=function(t){return Mr(t)===Xb};_n.isPortal=function(t){return Mr(t)===N1};_n.isProfiler=function(t){return Mr(t)===Rb};_n.isStrictMode=function(t){return Mr(t)===Gb};_n.isSuspense=function(t){return Mr(t)===Nb};_n.isSuspenseList=function(t){return Mr(t)===Eb};_n.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zb||t===Rb||t===Gb||t===Nb||t===Eb||t===lke||typeof t=="object"&&t!==null&&(t.$$typeof===Yb||t.$$typeof===Xb||t.$$typeof===Vb||t.$$typeof===Wb||t.$$typeof===_b||t.$$typeof===tT||t.getModuleId!==void 0)};_n.typeOf=Mr;eT.exports=_n;var bX=eT.exports;const cke=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function nT(t){const n=`${t}`.match(cke);return n&&n[1]||""}function iT(t,n=""){return t.displayName||t.name||nT(t)||n}function AX(t,n,o){const s=iT(n);return t.displayName||(s!==""?`${o}(${s})`:o)}function gke(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return iT(t,"Component");if(typeof t=="object")switch(t.$$typeof){case bX.ForwardRef:return AX(t,t.render,"ForwardRef");case bX.Memo:return AX(t,t.type,"memo");default:return}}}const dke=Object.freeze(Object.defineProperty({__proto__:null,default:gke,getFunctionName:nT},Symbol.toStringTag,{value:"Module"})),uke=["ownerState"],hke=["variants"],mke=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Cke(t){return Object.keys(t).length===0}function pke(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Ck(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Ike=Sb(),fke=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function wp({defaultTheme:t,theme:n,themeId:o}){return Cke(n)?t:n[o]||n}function bke(t){return t?(n,o)=>o[t]:null}function cI(t,n){let{ownerState:o}=n,s=Jt(n,uke);const d=typeof t=="function"?t(xe({ownerState:o},s)):t;if(Array.isArray(d))return d.flatMap(m=>cI(m,xe({ownerState:o},s)));if(d&&typeof d=="object"&&Array.isArray(d.variants)){const{variants:m=[]}=d;let v=Jt(d,hke);return m.forEach(k=>{let Z=!0;typeof k.props=="function"?Z=k.props(xe({ownerState:o},s,o)):Object.keys(k.props).forEach(_=>{(o==null?void 0:o[_])!==k.props[_]&&s[_]!==k.props[_]&&(Z=!1)}),Z&&(Array.isArray(v)||(v=[v]),v.push(typeof k.style=="function"?k.style(xe({ownerState:o},s,o)):k.style))}),v}return d}function Ake(t={}){const{themeId:n,defaultTheme:o=Ike,rootShouldForwardProp:s=Ck,slotShouldForwardProp:d=Ck}=t,m=p=>Dd(xe({},p,{theme:wp(xe({},p,{defaultTheme:o,themeId:n}))}));return m.__mui_systemSx=!0,(p,v={})=>{KM(p,ne=>ne.filter(ue=>!(ue!=null&&ue.__mui_systemSx)));const{name:k,slot:Z,skipVariantsResolver:_,skipSx:N,overridesResolver:G=bke(fke(Z))}=v,D=Jt(v,mke),M=_!==void 0?_:Z&&Z!=="Root"&&Z!=="root"||!1,L=N||!1;let O,P=Ck;Z==="Root"||Z==="root"?P=s:Z?P=d:pke(p)&&(P=void 0);const F=B1(p,xe({shouldForwardProp:P,label:O},D)),j=ne=>typeof ne=="function"&&ne.__emotion_real!==ne||Ca(ne)?ue=>cI(ne,xe({},ue,{theme:wp({theme:ue.theme,defaultTheme:o,themeId:n})})):ne,ie=(ne,...ue)=>{let K=j(ne);const de=ue?ue.map(j):[];k&&G&&de.push(be=>{const Ge=wp(xe({},be,{defaultTheme:o,themeId:n}));if(!Ge.components||!Ge.components[k]||!Ge.components[k].styleOverrides)return null;const Ee=Ge.components[k].styleOverrides,Se={};return Object.entries(Ee).forEach(([ke,Be])=>{Se[ke]=cI(Be,xe({},be,{theme:Ge}))}),G(be,Se)}),k&&!M&&de.push(be=>{var Ge;const Ee=wp(xe({},be,{defaultTheme:o,themeId:n})),Se=Ee==null||(Ge=Ee.components)==null||(Ge=Ge[k])==null?void 0:Ge.variants;return cI({variants:Se},xe({},be,{theme:Ee}))}),L||de.push(m);const pe=de.length-ue.length;if(Array.isArray(ne)&&pe>0){const be=new Array(pe).fill("");K=[...ne,...be],K.raw=[...ne.raw,...be]}const Ce=F(K,...de);return p.muiName&&(Ce.muiName=p.muiName),Ce};return F.withConfig&&(ie.withConfig=F.withConfig),ie}}const yke=Ake();function oT(t,n){const o=xe({},n);return Object.keys(t).forEach(s=>{if(s.toString().match(/^(components|slots)$/))o[s]=xe({},t[s],o[s]);else if(s.toString().match(/^(componentsProps|slotProps)$/)){const d=t[s]||{},m=n[s];o[s]={},!m||!Object.keys(m)?o[s]=d:!d||!Object.keys(d)?o[s]=m:(o[s]=xe({},m),Object.keys(d).forEach(p=>{o[s][p]=oT(d[p],m[p])}))}else o[s]===void 0&&(o[s]=t[s])}),o}function kke(t){const{theme:n,name:o,props:s}=t;return!n||!n.components||!n.components[o]||!n.components[o].defaultProps?s:oT(n.components[o].defaultProps,s)}function vke({props:t,name:n,defaultTheme:o,themeId:s}){let d=Bb(o);return s&&(d=d[s]||d),kke({theme:d,name:n,props:t})}const xl=typeof window<"u"?q.useLayoutEffect:q.useEffect;function Ng(t,n=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(t,o))}const wke=Object.freeze(Object.defineProperty({__proto__:null,default:Ng},Symbol.toStringTag,{value:"Module"}));function yX(...t){return t.reduce((n,o)=>o==null?n:function(...d){n.apply(this,d),o.apply(this,d)},()=>{})}function rT(t,n=166){let o;function s(...d){const m=()=>{t.apply(this,d)};clearTimeout(o),o=setTimeout(m,n)}return s.clear=()=>{clearTimeout(o)},s}function pk(t,n){var o,s;return q.isValidElement(t)&&n.indexOf((o=t.type.muiName)!=null?o:(s=t.type)==null||(s=s._payload)==null||(s=s.value)==null?void 0:s.muiName)!==-1}function so(t){return t&&t.ownerDocument||document}function _c(t){return so(t).defaultView||window}function gw(t,n){typeof t=="function"?t(n):t&&(t.current=n)}let kX=0;function xke(t){const[n,o]=q.useState(t),s=t||n;return q.useEffect(()=>{n==null&&(kX+=1,o(`mui-${kX}`))},[n]),s}const vX=mI.useId;function sT(t){if(vX!==void 0){const n=vX();return t??n}return xke(t)}function dw({controlled:t,default:n,name:o,state:s="value"}){const{current:d}=q.useRef(t!==void 0),[m,p]=q.useState(n),v=d?t:m,k=q.useCallback(Z=>{d||p(Z)},[]);return[v,k]}function vh(t){const n=q.useRef(t);return xl(()=>{n.current=t}),q.useRef((...o)=>(0,n.current)(...o)).current}function Lo(...t){return q.useMemo(()=>t.every(n=>n==null)?null:n=>{t.forEach(o=>{gw(o,n)})},t)}const wX={};function Ske(t,n){const o=q.useRef(wX);return o.current===wX&&(o.current=t(n)),o}const Bke=[];function Zke(t){q.useEffect(t,Bke)}class Db{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Db}start(n,o){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,o()},n)}}function Gke(){const t=Ske(Db.create).current;return Zke(t.disposeEffect),t}let Hb=!0,uw=!1;const Rke=new Db,Vke={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Wke(t){const{type:n,tagName:o}=t;return!!(o==="INPUT"&&Vke[n]&&!t.readOnly||o==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function _ke(t){t.metaKey||t.altKey||t.ctrlKey||(Hb=!0)}function Ik(){Hb=!1}function Nke(){this.visibilityState==="hidden"&&uw&&(Hb=!0)}function Eke(t){t.addEventListener("keydown",_ke,!0),t.addEventListener("mousedown",Ik,!0),t.addEventListener("pointerdown",Ik,!0),t.addEventListener("touchstart",Ik,!0),t.addEventListener("visibilitychange",Nke,!0)}function Xke(t){const{target:n}=t;try{return n.matches(":focus-visible")}catch{}return Hb||Wke(n)}function Yke(){const t=q.useCallback(d=>{d!=null&&Eke(d.ownerDocument)},[]),n=q.useRef(!1);function o(){return n.current?(uw=!0,Rke.start(100,()=>{uw=!1}),n.current=!1,!0):!1}function s(d){return Xke(d)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:s,onBlur:o,ref:t}}function aT(t){const n=t.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}const Dke={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Bi(t,n,o=void 0){const s={};return Object.keys(t).forEach(d=>{s[d]=t[d].reduce((m,p)=>{if(p){const v=n(p);v!==""&&m.push(v),o&&o[p]&&m.push(o[p])}return m},[]).join(" ")}),s}const Hke=q.createContext(),lT=()=>{const t=q.useContext(Hke);return t??!1};function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},dm(t)}function Fke(t,n){if(dm(t)!="object"||!t)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var s=o.call(t,n||"default");if(dm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Mke(t){var n=Fke(t,"string");return dm(n)=="symbol"?n:n+""}function Tke(t,n){return xe({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},n)}var Zi={},cT={exports:{}};(function(t){function n(o){return o&&o.__esModule?o:{default:o}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(cT);var gT=cT.exports;const Jke=Js(QAe),Lke=Js(wke);var dT=gT;Object.defineProperty(Zi,"__esModule",{value:!0});var nf=Zi.alpha=CT;Zi.blend=tve;Zi.colorChannel=void 0;var hw=Zi.darken=X1;Zi.decomposeColor=Yr;Zi.emphasize=pT;var zke=Zi.getContrastRatio=Uke;Zi.getLuminance=of;Zi.hexToRgb=uT;Zi.hslToRgb=mT;var mw=Zi.lighten=Y1;Zi.private_safeAlpha=Qke;Zi.private_safeColorChannel=void 0;Zi.private_safeDarken=qke;Zi.private_safeEmphasize=eve;Zi.private_safeLighten=$ke;Zi.recomposeColor=Hd;Zi.rgbToHex=Oke;var xX=dT(Jke),Kke=dT(Lke);function E1(t,n=0,o=1){return(0,Kke.default)(t,n,o)}function uT(t){t=t.slice(1);const n=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let o=t.match(n);return o&&o[0].length===1&&(o=o.map(s=>s+s)),o?`rgb${o.length===4?"a":""}(${o.map((s,d)=>d<3?parseInt(s,16):Math.round(parseInt(s,16)/255*1e3)/1e3).join(", ")})`:""}function Pke(t){const n=t.toString(16);return n.length===1?`0${n}`:n}function Yr(t){if(t.type)return t;if(t.charAt(0)==="#")return Yr(uT(t));const n=t.indexOf("("),o=t.substring(0,n);if(["rgb","rgba","hsl","hsla","color"].indexOf(o)===-1)throw new Error((0,xX.default)(9,t));let s=t.substring(n+1,t.length-1),d;if(o==="color"){if(s=s.split(" "),d=s.shift(),s.length===4&&s[3].charAt(0)==="/"&&(s[3]=s[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(d)===-1)throw new Error((0,xX.default)(10,d))}else s=s.split(",");return s=s.map(m=>parseFloat(m)),{type:o,values:s,colorSpace:d}}const hT=t=>{const n=Yr(t);return n.values.slice(0,3).map((o,s)=>n.type.indexOf("hsl")!==-1&&s!==0?`${o}%`:o).join(" ")};Zi.colorChannel=hT;const jke=(t,n)=>{try{return hT(t)}catch{return t}};Zi.private_safeColorChannel=jke;function Hd(t){const{type:n,colorSpace:o}=t;let{values:s}=t;return n.indexOf("rgb")!==-1?s=s.map((d,m)=>m<3?parseInt(d,10):d):n.indexOf("hsl")!==-1&&(s[1]=`${s[1]}%`,s[2]=`${s[2]}%`),n.indexOf("color")!==-1?s=`${o} ${s.join(" ")}`:s=`${s.join(", ")}`,`${n}(${s})`}function Oke(t){if(t.indexOf("#")===0)return t;const{values:n}=Yr(t);return`#${n.map((o,s)=>Pke(s===3?Math.round(255*o):o)).join("")}`}function mT(t){t=Yr(t);const{values:n}=t,o=n[0],s=n[1]/100,d=n[2]/100,m=s*Math.min(d,1-d),p=(Z,_=(Z+o/30)%12)=>d-m*Math.max(Math.min(_-3,9-_,1),-1);let v="rgb";const k=[Math.round(p(0)*255),Math.round(p(8)*255),Math.round(p(4)*255)];return t.type==="hsla"&&(v+="a",k.push(n[3])),Hd({type:v,values:k})}function of(t){t=Yr(t);let n=t.type==="hsl"||t.type==="hsla"?Yr(mT(t)).values:t.values;return n=n.map(o=>(t.type!=="color"&&(o/=255),o<=.03928?o/12.92:((o+.055)/1.055)**2.4)),Number((.2126*n[0]+.7152*n[1]+.0722*n[2]).toFixed(3))}function Uke(t,n){const o=of(t),s=of(n);return(Math.max(o,s)+.05)/(Math.min(o,s)+.05)}function CT(t,n){return t=Yr(t),n=E1(n),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${n}`:t.values[3]=n,Hd(t)}function Qke(t,n,o){try{return CT(t,n)}catch{return t}}function X1(t,n){if(t=Yr(t),n=E1(n),t.type.indexOf("hsl")!==-1)t.values[2]*=1-n;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let o=0;o<3;o+=1)t.values[o]*=1-n;return Hd(t)}function qke(t,n,o){try{return X1(t,n)}catch{return t}}function Y1(t,n){if(t=Yr(t),n=E1(n),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*n;else if(t.type.indexOf("rgb")!==-1)for(let o=0;o<3;o+=1)t.values[o]+=(255-t.values[o])*n;else if(t.type.indexOf("color")!==-1)for(let o=0;o<3;o+=1)t.values[o]+=(1-t.values[o])*n;return Hd(t)}function $ke(t,n,o){try{return Y1(t,n)}catch{return t}}function pT(t,n=.15){return of(t)>.5?X1(t,n):Y1(t,n)}function eve(t,n,o){try{return pT(t,n)}catch{return t}}function tve(t,n,o,s=1){const d=(k,Z)=>Math.round((k**(1/s)*(1-o)+Z**(1/s)*o)**s),m=Yr(t),p=Yr(n),v=[d(m.values[0],p.values[0]),d(m.values[1],p.values[1]),d(m.values[2],p.values[2])];return Hd({type:"rgb",values:v})}const nve=["mode","contrastThreshold","tonalOffset"],SX={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:am.white,default:am.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},fk={text:{primary:am.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:am.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function BX(t,n,o,s){const d=s.light||s,m=s.dark||s*1.5;t[n]||(t.hasOwnProperty(o)?t[n]=t[o]:n==="light"?t.light=mw(t.main,d):n==="dark"&&(t.dark=hw(t.main,m)))}function ive(t="light"){return t==="dark"?{main:Zg[200],light:Zg[50],dark:Zg[400]}:{main:Zg[700],light:Zg[400],dark:Zg[800]}}function ove(t="light"){return t==="dark"?{main:Bg[200],light:Bg[50],dark:Bg[400]}:{main:Bg[500],light:Bg[300],dark:Bg[700]}}function rve(t="light"){return t==="dark"?{main:Sg[500],light:Sg[300],dark:Sg[700]}:{main:Sg[700],light:Sg[400],dark:Sg[800]}}function sve(t="light"){return t==="dark"?{main:Gg[400],light:Gg[300],dark:Gg[700]}:{main:Gg[700],light:Gg[500],dark:Gg[900]}}function ave(t="light"){return t==="dark"?{main:Rg[400],light:Rg[300],dark:Rg[700]}:{main:Rg[800],light:Rg[500],dark:Rg[900]}}function lve(t="light"){return t==="dark"?{main:Ku[400],light:Ku[300],dark:Ku[700]}:{main:"#ed6c02",light:Ku[500],dark:Ku[900]}}function cve(t){const{mode:n="light",contrastThreshold:o=3,tonalOffset:s=.2}=t,d=Jt(t,nve),m=t.primary||ive(n),p=t.secondary||ove(n),v=t.error||rve(n),k=t.info||sve(n),Z=t.success||ave(n),_=t.warning||lve(n);function N(L){return zke(L,fk.text.primary)>=o?fk.text.primary:SX.text.primary}const G=({color:L,name:O,mainShade:P=500,lightShade:F=300,darkShade:j=700})=>{if(L=xe({},L),!L.main&&L[P]&&(L.main=L[P]),!L.hasOwnProperty("main"))throw new Error(Wc(11,O?` (${O})`:"",P));if(typeof L.main!="string")throw new Error(Wc(12,O?` (${O})`:"",JSON.stringify(L.main)));return BX(L,"light",F,s),BX(L,"dark",j,s),L.contrastText||(L.contrastText=N(L.main)),L},D={dark:fk,light:SX};return lr(xe({common:xe({},am),mode:n,primary:G({color:m,name:"primary"}),secondary:G({color:p,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:G({color:v,name:"error"}),warning:G({color:_,name:"warning"}),info:G({color:k,name:"info"}),success:G({color:Z,name:"success"}),grey:UAe,contrastThreshold:o,getContrastText:N,augmentColor:G,tonalOffset:s},D[n]),d)}const gve=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function dve(t){return Math.round(t*1e5)/1e5}const ZX={textTransform:"uppercase"},GX='"Roboto", "Helvetica", "Arial", sans-serif';function uve(t,n){const o=typeof n=="function"?n(t):n,{fontFamily:s=GX,fontSize:d=14,fontWeightLight:m=300,fontWeightRegular:p=400,fontWeightMedium:v=500,fontWeightBold:k=700,htmlFontSize:Z=16,allVariants:_,pxToRem:N}=o,G=Jt(o,gve),D=d/14,M=N||(P=>`${P/Z*D}rem`),L=(P,F,j,ie,ne)=>xe({fontFamily:s,fontWeight:P,fontSize:M(F),lineHeight:j},s===GX?{letterSpacing:`${dve(ie/F)}em`}:{},ne,_),O={h1:L(m,96,1.167,-1.5),h2:L(m,60,1.2,-.5),h3:L(p,48,1.167,0),h4:L(p,34,1.235,.25),h5:L(p,24,1.334,0),h6:L(v,20,1.6,.15),subtitle1:L(p,16,1.75,.15),subtitle2:L(v,14,1.57,.1),body1:L(p,16,1.5,.15),body2:L(p,14,1.43,.15),button:L(v,14,1.75,.4,ZX),caption:L(p,12,1.66,.4),overline:L(p,12,2.66,1,ZX),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return lr(xe({htmlFontSize:Z,pxToRem:M,fontFamily:s,fontSize:d,fontWeightLight:m,fontWeightRegular:p,fontWeightMedium:v,fontWeightBold:k},O),G,{clone:!1})}const hve=.2,mve=.14,Cve=.12;function ii(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${hve})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${mve})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Cve})`].join(",")}const pve=["none",ii(0,2,1,-1,0,1,1,0,0,1,3,0),ii(0,3,1,-2,0,2,2,0,0,1,5,0),ii(0,3,3,-2,0,3,4,0,0,1,8,0),ii(0,2,4,-1,0,4,5,0,0,1,10,0),ii(0,3,5,-1,0,5,8,0,0,1,14,0),ii(0,3,5,-1,0,6,10,0,0,1,18,0),ii(0,4,5,-2,0,7,10,1,0,2,16,1),ii(0,5,5,-3,0,8,10,1,0,3,14,2),ii(0,5,6,-3,0,9,12,1,0,3,16,2),ii(0,6,6,-3,0,10,14,1,0,4,18,3),ii(0,6,7,-4,0,11,15,1,0,4,20,3),ii(0,7,8,-4,0,12,17,2,0,5,22,4),ii(0,7,8,-4,0,13,19,2,0,5,24,4),ii(0,7,9,-4,0,14,21,2,0,5,26,4),ii(0,8,9,-5,0,15,22,2,0,6,28,5),ii(0,8,10,-5,0,16,24,2,0,6,30,5),ii(0,8,11,-5,0,17,26,2,0,6,32,5),ii(0,9,11,-5,0,18,28,2,0,7,34,6),ii(0,9,12,-6,0,19,29,2,0,7,36,6),ii(0,10,13,-6,0,20,31,3,0,8,38,7),ii(0,10,13,-6,0,21,33,3,0,8,40,7),ii(0,10,14,-6,0,22,35,3,0,8,42,7),ii(0,11,14,-7,0,23,36,3,0,9,44,8),ii(0,11,15,-7,0,24,38,3,0,9,46,8)],Ive=["duration","easing","delay"],fve={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},bve={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function RX(t){return`${Math.round(t)}ms`}function Ave(t){if(!t)return 0;const n=t/36;return Math.round((4+15*n**.25+n/5)*10)}function yve(t){const n=xe({},fve,t.easing),o=xe({},bve,t.duration);return xe({getAutoHeightDuration:Ave,create:(d=["all"],m={})=>{const{duration:p=o.standard,easing:v=n.easeInOut,delay:k=0}=m;return Jt(m,Ive),(Array.isArray(d)?d:[d]).map(Z=>`${Z} ${typeof p=="string"?p:RX(p)} ${v} ${typeof k=="string"?k:RX(k)}`).join(",")}},t,{easing:n,duration:o})}const kve={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},vve=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function IT(t={},...n){const{mixins:o={},palette:s={},transitions:d={},typography:m={}}=t,p=Jt(t,vve);if(t.vars)throw new Error(Wc(18));const v=cve(s),k=Sb(t);let Z=lr(k,{mixins:Tke(k.breakpoints,o),palette:v,shadows:pve.slice(),typography:uve(v,m),transitions:yve(d),zIndex:xe({},kve)});return Z=lr(Z,p),Z=n.reduce((_,N)=>lr(_,N),Z),Z.unstable_sxConfig=xe({},Wm,p==null?void 0:p.unstable_sxConfig),Z.unstable_sx=function(N){return Dd({sx:N,theme:this})},Z}const Fb=IT();function fT(){const t=Bb(Fb);return t[Zm]||t}function Ni({props:t,name:n}){return vke({props:t,name:n,defaultTheme:Fb,themeId:Zm})}var _m={};const wve=Js(qAe);var bk={exports:{}},VX;function xve(){return VX||(VX=1,function(t){function n(o,s){if(o==null)return{};var d={};for(var m in o)if({}.hasOwnProperty.call(o,m)){if(s.indexOf(m)>=0)continue;d[m]=o[m]}return d}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(bk)),bk.exports}const Sve=Js(tye),Bve=Js(nye),Zve=Js(lye),Gve=Js(dke),Rve=Js(Oye),Vve=Js(nke);var Fd=gT;Object.defineProperty(_m,"__esModule",{value:!0});var Wve=_m.default=zve;_m.shouldForwardProp=gI;_m.systemDefaultTheme=void 0;var wr=Fd(wve),Cw=Fd(xve()),WX=Hve(Sve),_ve=Bve;Fd(Zve);Fd(Gve);var Nve=Fd(Rve),Eve=Fd(Vve);const Xve=["ownerState"],Yve=["variants"],Dve=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function bT(t){if(typeof WeakMap!="function")return null;var n=new WeakMap,o=new WeakMap;return(bT=function(s){return s?o:n})(t)}function Hve(t,n){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var o=bT(n);if(o&&o.has(t))return o.get(t);var s={__proto__:null},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in t)if(m!=="default"&&Object.prototype.hasOwnProperty.call(t,m)){var p=d?Object.getOwnPropertyDescriptor(t,m):null;p&&(p.get||p.set)?Object.defineProperty(s,m,p):s[m]=t[m]}return s.default=t,o&&o.set(t,s),s}function Fve(t){return Object.keys(t).length===0}function Mve(t){return typeof t=="string"&&t.charCodeAt(0)>96}function gI(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Tve=_m.systemDefaultTheme=(0,Nve.default)(),Jve=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function xp({defaultTheme:t,theme:n,themeId:o}){return Fve(n)?t:n[o]||n}function Lve(t){return t?(n,o)=>o[t]:null}function dI(t,n){let{ownerState:o}=n,s=(0,Cw.default)(n,Xve);const d=typeof t=="function"?t((0,wr.default)({ownerState:o},s)):t;if(Array.isArray(d))return d.flatMap(m=>dI(m,(0,wr.default)({ownerState:o},s)));if(d&&typeof d=="object"&&Array.isArray(d.variants)){const{variants:m=[]}=d;let v=(0,Cw.default)(d,Yve);return m.forEach(k=>{let Z=!0;typeof k.props=="function"?Z=k.props((0,wr.default)({ownerState:o},s,o)):Object.keys(k.props).forEach(_=>{(o==null?void 0:o[_])!==k.props[_]&&s[_]!==k.props[_]&&(Z=!1)}),Z&&(Array.isArray(v)||(v=[v]),v.push(typeof k.style=="function"?k.style((0,wr.default)({ownerState:o},s,o)):k.style))}),v}return d}function zve(t={}){const{themeId:n,defaultTheme:o=Tve,rootShouldForwardProp:s=gI,slotShouldForwardProp:d=gI}=t,m=p=>(0,Eve.default)((0,wr.default)({},p,{theme:xp((0,wr.default)({},p,{defaultTheme:o,themeId:n}))}));return m.__mui_systemSx=!0,(p,v={})=>{(0,WX.internal_processStyles)(p,ne=>ne.filter(ue=>!(ue!=null&&ue.__mui_systemSx)));const{name:k,slot:Z,skipVariantsResolver:_,skipSx:N,overridesResolver:G=Lve(Jve(Z))}=v,D=(0,Cw.default)(v,Dve),M=_!==void 0?_:Z&&Z!=="Root"&&Z!=="root"||!1,L=N||!1;let O,P=gI;Z==="Root"||Z==="root"?P=s:Z?P=d:Mve(p)&&(P=void 0);const F=(0,WX.default)(p,(0,wr.default)({shouldForwardProp:P,label:O},D)),j=ne=>typeof ne=="function"&&ne.__emotion_real!==ne||(0,_ve.isPlainObject)(ne)?ue=>dI(ne,(0,wr.default)({},ue,{theme:xp({theme:ue.theme,defaultTheme:o,themeId:n})})):ne,ie=(ne,...ue)=>{let K=j(ne);const de=ue?ue.map(j):[];k&&G&&de.push(be=>{const Ge=xp((0,wr.default)({},be,{defaultTheme:o,themeId:n}));if(!Ge.components||!Ge.components[k]||!Ge.components[k].styleOverrides)return null;const Ee=Ge.components[k].styleOverrides,Se={};return Object.entries(Ee).forEach(([ke,Be])=>{Se[ke]=dI(Be,(0,wr.default)({},be,{theme:Ge}))}),G(be,Se)}),k&&!M&&de.push(be=>{var Ge;const Ee=xp((0,wr.default)({},be,{defaultTheme:o,themeId:n})),Se=Ee==null||(Ge=Ee.components)==null||(Ge=Ge[k])==null?void 0:Ge.variants;return dI({variants:Se},(0,wr.default)({},be,{theme:Ee}))}),L||de.push(m);const pe=de.length-ue.length;if(Array.isArray(ne)&&pe>0){const be=new Array(pe).fill("");K=[...ne,...be],K.raw=[...ne.raw,...be]}const Ce=F(K,...de);return p.muiName&&(Ce.muiName=p.muiName),Ce};return F.withConfig&&(ie.withConfig=F.withConfig),ie}}function Mb(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Ps=t=>Mb(t)&&t!=="classes",Lt=Wve({themeId:Zm,defaultTheme:Fb,rootShouldForwardProp:Ps}),_X=t=>{let n;return t<1?n=5.11916*t**2:n=4.5*Math.log(t+1)+2,(n/100).toFixed(2)};function Kve(t){return Ci("MuiSvgIcon",t)}pi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Pve=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],jve=t=>{const{color:n,fontSize:o,classes:s}=t,d={root:["root",n!=="inherit"&&`color${bn(n)}`,`fontSize${bn(o)}`]};return Bi(d,Kve,s)},Ove=Lt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.root,o.color!=="inherit"&&n[`color${bn(o.color)}`],n[`fontSize${bn(o.fontSize)}`]]}})(({theme:t,ownerState:n})=>{var o,s,d,m,p,v,k,Z,_,N,G,D,M;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(o=t.transitions)==null||(s=o.create)==null?void 0:s.call(o,"fill",{duration:(d=t.transitions)==null||(d=d.duration)==null?void 0:d.shorter}),fontSize:{inherit:"inherit",small:((m=t.typography)==null||(p=m.pxToRem)==null?void 0:p.call(m,20))||"1.25rem",medium:((v=t.typography)==null||(k=v.pxToRem)==null?void 0:k.call(v,24))||"1.5rem",large:((Z=t.typography)==null||(_=Z.pxToRem)==null?void 0:_.call(Z,35))||"2.1875rem"}[n.fontSize],color:(N=(G=(t.vars||t).palette)==null||(G=G[n.color])==null?void 0:G.main)!=null?N:{action:(D=(t.vars||t).palette)==null||(D=D.action)==null?void 0:D.active,disabled:(M=(t.vars||t).palette)==null||(M=M.action)==null?void 0:M.disabled,inherit:void 0}[n.color]}}),pw=q.forwardRef(function(n,o){const s=Ni({props:n,name:"MuiSvgIcon"}),{children:d,className:m,color:p="inherit",component:v="svg",fontSize:k="medium",htmlColor:Z,inheritViewBox:_=!1,titleAccess:N,viewBox:G="0 0 24 24"}=s,D=Jt(s,Pve),M=q.isValidElement(d)&&d.type==="svg",L=xe({},s,{color:p,component:v,fontSize:k,instanceFontSize:n.fontSize,inheritViewBox:_,viewBox:G,hasSvgAsChild:M}),O={};_||(O.viewBox=G);const P=jve(L);return A.jsxs(Ove,xe({as:v,className:nn(P.root,m),focusable:"false",color:Z,"aria-hidden":N?void 0:!0,role:N?"img":void 0,ref:o},O,D,M&&d.props,{ownerState:L,children:[M?d.props.children:d,N?A.jsx("title",{children:N}):null]}))});pw.muiName="SvgIcon";function Uve(t,n){function o(s,d){return A.jsx(pw,xe({"data-testid":`${n}Icon`,ref:d},s,{children:t}))}return o.muiName=pw.muiName,q.memo(q.forwardRef(o))}function Qve(t){return Ni}function Iw(t,n){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,s){return o.__proto__=s,o},Iw(t,n)}function qve(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,Iw(t,n)}const NX={disabled:!1},AT=en.createContext(null);var $ve=function(n){return n.scrollTop},ah="unmounted",lc="exited",cc="entering",Eg="entered",fw="exiting",js=function(t){qve(n,t);function n(s,d){var m;m=t.call(this,s,d)||this;var p=d,v=p&&!p.isMounting?s.enter:s.appear,k;return m.appearStatus=null,s.in?v?(k=lc,m.appearStatus=cc):k=Eg:s.unmountOnExit||s.mountOnEnter?k=ah:k=lc,m.state={status:k},m.nextCallback=null,m}n.getDerivedStateFromProps=function(d,m){var p=d.in;return p&&m.status===ah?{status:lc}:null};var o=n.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(d){var m=null;if(d!==this.props){var p=this.state.status;this.props.in?p!==cc&&p!==Eg&&(m=cc):(p===cc||p===Eg)&&(m=fw)}this.updateStatus(!1,m)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var d=this.props.timeout,m,p,v;return m=p=v=d,d!=null&&typeof d!="number"&&(m=d.exit,p=d.enter,v=d.appear!==void 0?d.appear:p),{exit:m,enter:p,appear:v}},o.updateStatus=function(d,m){if(d===void 0&&(d=!1),m!==null)if(this.cancelNextCallback(),m===cc){if(this.props.unmountOnExit||this.props.mountOnEnter){var p=this.props.nodeRef?this.props.nodeRef.current:Cp.findDOMNode(this);p&&$ve(p)}this.performEnter(d)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lc&&this.setState({status:ah})},o.performEnter=function(d){var m=this,p=this.props.enter,v=this.context?this.context.isMounting:d,k=this.props.nodeRef?[v]:[Cp.findDOMNode(this),v],Z=k[0],_=k[1],N=this.getTimeouts(),G=v?N.appear:N.enter;if(!d&&!p||NX.disabled){this.safeSetState({status:Eg},function(){m.props.onEntered(Z)});return}this.props.onEnter(Z,_),this.safeSetState({status:cc},function(){m.props.onEntering(Z,_),m.onTransitionEnd(G,function(){m.safeSetState({status:Eg},function(){m.props.onEntered(Z,_)})})})},o.performExit=function(){var d=this,m=this.props.exit,p=this.getTimeouts(),v=this.props.nodeRef?void 0:Cp.findDOMNode(this);if(!m||NX.disabled){this.safeSetState({status:lc},function(){d.props.onExited(v)});return}this.props.onExit(v),this.safeSetState({status:fw},function(){d.props.onExiting(v),d.onTransitionEnd(p.exit,function(){d.safeSetState({status:lc},function(){d.props.onExited(v)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(d,m){m=this.setNextCallback(m),this.setState(d,m)},o.setNextCallback=function(d){var m=this,p=!0;return this.nextCallback=function(v){p&&(p=!1,m.nextCallback=null,d(v))},this.nextCallback.cancel=function(){p=!1},this.nextCallback},o.onTransitionEnd=function(d,m){this.setNextCallback(m);var p=this.props.nodeRef?this.props.nodeRef.current:Cp.findDOMNode(this),v=d==null&&!this.props.addEndListener;if(!p||v){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var k=this.props.nodeRef?[this.nextCallback]:[p,this.nextCallback],Z=k[0],_=k[1];this.props.addEndListener(Z,_)}d!=null&&setTimeout(this.nextCallback,d)},o.render=function(){var d=this.state.status;if(d===ah)return null;var m=this.props,p=m.children;m.in,m.mountOnEnter,m.unmountOnExit,m.appear,m.enter,m.exit,m.timeout,m.addEndListener,m.onEnter,m.onEntering,m.onEntered,m.onExit,m.onExiting,m.onExited,m.nodeRef;var v=Jt(m,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return en.createElement(AT.Provider,{value:null},typeof p=="function"?p(d,v):en.cloneElement(en.Children.only(p),v))},n}(en.Component);js.contextType=AT;js.propTypes={};function Vg(){}js.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vg,onEntering:Vg,onEntered:Vg,onExit:Vg,onExiting:Vg,onExited:Vg};js.UNMOUNTED=ah;js.EXITED=lc;js.ENTERING=cc;js.ENTERED=Eg;js.EXITING=fw;const yT=t=>t.scrollTop;function rf(t,n){var o,s;const{timeout:d,easing:m,style:p={}}=t;return{duration:(o=p.transitionDuration)!=null?o:typeof d=="number"?d:d[n.mode]||0,easing:(s=p.transitionTimingFunction)!=null?s:typeof m=="object"?m[n.mode]:m,delay:p.transitionDelay}}function ewe(t){return Ci("MuiPaper",t)}pi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const twe=["className","component","elevation","square","variant"],nwe=t=>{const{square:n,elevation:o,variant:s,classes:d}=t,m={root:["root",s,!n&&"rounded",s==="elevation"&&`elevation${o}`]};return Bi(m,ewe,d)},iwe=Lt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.root,n[o.variant],!o.square&&n.rounded,o.variant==="elevation"&&n[`elevation${o.elevation}`]]}})(({theme:t,ownerState:n})=>{var o;return xe({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},n.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},n.variant==="elevation"&&xe({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${nf("#fff",_X(n.elevation))}, ${nf("#fff",_X(n.elevation))})`},t.vars&&{backgroundImage:(o=t.vars.overlays)==null?void 0:o[n.elevation]}))}),owe=q.forwardRef(function(n,o){const s=Ni({props:n,name:"MuiPaper"}),{className:d,component:m="div",elevation:p=1,square:v=!1,variant:k="elevation"}=s,Z=Jt(s,twe),_=xe({},s,{component:m,elevation:p,square:v,variant:k}),N=nwe(_);return A.jsx(iwe,xe({as:m,ownerState:_,className:nn(N.root,d),ref:o},Z))});function Al(t){return typeof t=="string"}function rwe(t,n,o){return t===void 0||Al(t)?n:xe({},n,{ownerState:xe({},n.ownerState,o)})}function swe(t,n,o=(s,d)=>s===d){return t.length===n.length&&t.every((s,d)=>o(s,n[d]))}function wh(t,n=[]){if(t===void 0)return{};const o={};return Object.keys(t).filter(s=>s.match(/^on[A-Z]/)&&typeof t[s]=="function"&&!n.includes(s)).forEach(s=>{o[s]=t[s]}),o}function awe(t,n,o){return typeof t=="function"?t(n,o):t}function EX(t){if(t===void 0)return{};const n={};return Object.keys(t).filter(o=>!(o.match(/^on[A-Z]/)&&typeof t[o]=="function")).forEach(o=>{n[o]=t[o]}),n}function lwe(t){const{getSlotProps:n,additionalProps:o,externalSlotProps:s,externalForwardedProps:d,className:m}=t;if(!n){const D=nn(o==null?void 0:o.className,m,d==null?void 0:d.className,s==null?void 0:s.className),M=xe({},o==null?void 0:o.style,d==null?void 0:d.style,s==null?void 0:s.style),L=xe({},o,d,s);return D.length>0&&(L.className=D),Object.keys(M).length>0&&(L.style=M),{props:L,internalRef:void 0}}const p=wh(xe({},d,s)),v=EX(s),k=EX(d),Z=n(p),_=nn(Z==null?void 0:Z.className,o==null?void 0:o.className,m,d==null?void 0:d.className,s==null?void 0:s.className),N=xe({},Z==null?void 0:Z.style,o==null?void 0:o.style,d==null?void 0:d.style,s==null?void 0:s.style),G=xe({},Z,o,k,v);return _.length>0&&(G.className=_),Object.keys(N).length>0&&(G.style=N),{props:G,internalRef:Z.ref}}const cwe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Eo(t){var n;const{elementType:o,externalSlotProps:s,ownerState:d,skipResolvingSlotProps:m=!1}=t,p=Jt(t,cwe),v=m?{}:awe(s,d),{props:k,internalRef:Z}=lwe(xe({},p,{externalSlotProps:v})),_=Lo(Z,v==null?void 0:v.ref,(n=t.additionalProps)==null?void 0:n.ref);return rwe(o,xe({},k,{ref:_}),d)}function gwe(t){return Ci("MuiTypography",t)}pi("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const dwe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],uwe=t=>{const{align:n,gutterBottom:o,noWrap:s,paragraph:d,variant:m,classes:p}=t,v={root:["root",m,t.align!=="inherit"&&`align${bn(n)}`,o&&"gutterBottom",s&&"noWrap",d&&"paragraph"]};return Bi(v,gwe,p)},hwe=Lt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.root,o.variant&&n[o.variant],o.align!=="inherit"&&n[`align${bn(o.align)}`],o.noWrap&&n.noWrap,o.gutterBottom&&n.gutterBottom,o.paragraph&&n.paragraph]}})(({theme:t,ownerState:n})=>xe({margin:0},n.variant==="inherit"&&{font:"inherit"},n.variant!=="inherit"&&t.typography[n.variant],n.align!=="inherit"&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})),XX={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},mwe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Cwe=t=>mwe[t]||t,Xg=q.forwardRef(function(n,o){const s=Ni({props:n,name:"MuiTypography"}),d=Cwe(s.color),m=W1(xe({},s,{color:d})),{align:p="inherit",className:v,component:k,gutterBottom:Z=!1,noWrap:_=!1,paragraph:N=!1,variant:G="body1",variantMapping:D=XX}=m,M=Jt(m,dwe),L=xe({},m,{align:p,color:d,className:v,component:k,gutterBottom:Z,noWrap:_,paragraph:N,variant:G,variantMapping:D}),O=k||(N?"p":D[G]||XX[G])||"span",P=uwe(L);return A.jsx(hwe,xe({as:O,ref:o,ownerState:L,className:nn(P.root,v)},M))}),pwe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Iwe(t){const n=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(n)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:n}function fwe(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const n=s=>t.ownerDocument.querySelector(`input[type="radio"]${s}`);let o=n(`[name="${t.name}"]:checked`);return o||(o=n(`[name="${t.name}"]`)),o!==t}function bwe(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||fwe(t))}function Awe(t){const n=[],o=[];return Array.from(t.querySelectorAll(pwe)).forEach((s,d)=>{const m=Iwe(s);m===-1||!bwe(s)||(m===0?n.push(s):o.push({documentOrder:d,tabIndex:m,node:s}))}),o.sort((s,d)=>s.tabIndex===d.tabIndex?s.documentOrder-d.documentOrder:s.tabIndex-d.tabIndex).map(s=>s.node).concat(n)}function ywe(){return!0}function kwe(t){const{children:n,disableAutoFocus:o=!1,disableEnforceFocus:s=!1,disableRestoreFocus:d=!1,getTabbable:m=Awe,isEnabled:p=ywe,open:v}=t,k=q.useRef(!1),Z=q.useRef(null),_=q.useRef(null),N=q.useRef(null),G=q.useRef(null),D=q.useRef(!1),M=q.useRef(null),L=Lo(n.ref,M),O=q.useRef(null);q.useEffect(()=>{!v||!M.current||(D.current=!o)},[o,v]),q.useEffect(()=>{if(!v||!M.current)return;const j=so(M.current);return M.current.contains(j.activeElement)||(M.current.hasAttribute("tabIndex")||M.current.setAttribute("tabIndex","-1"),D.current&&M.current.focus()),()=>{d||(N.current&&N.current.focus&&(k.current=!0,N.current.focus()),N.current=null)}},[v]),q.useEffect(()=>{if(!v||!M.current)return;const j=so(M.current),ie=K=>{O.current=K,!(s||!p()||K.key!=="Tab")&&j.activeElement===M.current&&K.shiftKey&&(k.current=!0,_.current&&_.current.focus())},ne=()=>{const K=M.current;if(K===null)return;if(!j.hasFocus()||!p()||k.current){k.current=!1;return}if(K.contains(j.activeElement)||s&&j.activeElement!==Z.current&&j.activeElement!==_.current)return;if(j.activeElement!==G.current)G.current=null;else if(G.current!==null)return;if(!D.current)return;let de=[];if((j.activeElement===Z.current||j.activeElement===_.current)&&(de=m(M.current)),de.length>0){var pe,Ce;const be=!!((pe=O.current)!=null&&pe.shiftKey&&((Ce=O.current)==null?void 0:Ce.key)==="Tab"),Ge=de[0],Ee=de[de.length-1];typeof Ge!="string"&&typeof Ee!="string"&&(be?Ee.focus():Ge.focus())}else K.focus()};j.addEventListener("focusin",ne),j.addEventListener("keydown",ie,!0);const ue=setInterval(()=>{j.activeElement&&j.activeElement.tagName==="BODY"&&ne()},50);return()=>{clearInterval(ue),j.removeEventListener("focusin",ne),j.removeEventListener("keydown",ie,!0)}},[o,s,d,p,v,m]);const P=j=>{N.current===null&&(N.current=j.relatedTarget),D.current=!0,G.current=j.target;const ie=n.props.onFocus;ie&&ie(j)},F=j=>{N.current===null&&(N.current=j.relatedTarget),D.current=!0};return A.jsxs(q.Fragment,{children:[A.jsx("div",{tabIndex:v?0:-1,onFocus:F,ref:Z,"data-testid":"sentinelStart"}),q.cloneElement(n,{ref:L,onFocus:P}),A.jsx("div",{tabIndex:v?0:-1,onFocus:F,ref:_,"data-testid":"sentinelEnd"})]})}function vwe(t){return typeof t=="function"?t():t}const wwe=q.forwardRef(function(n,o){const{children:s,container:d,disablePortal:m=!1}=n,[p,v]=q.useState(null),k=Lo(q.isValidElement(s)?s.ref:null,o);if(xl(()=>{m||v(vwe(d)||document.body)},[d,m]),xl(()=>{if(p&&!m)return gw(o,p),()=>{gw(o,null)}},[o,p,m]),m){if(q.isValidElement(s)){const Z={ref:k};return q.cloneElement(s,Z)}return A.jsx(q.Fragment,{children:s})}return A.jsx(q.Fragment,{children:p&&_x.createPortal(s,p)})});function xwe(t){const n=so(t);return n.body===t?_c(t).innerWidth>n.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function xh(t,n){n?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function YX(t){return parseInt(_c(t).getComputedStyle(t).paddingRight,10)||0}function Swe(t){const o=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,s=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return o||s}function DX(t,n,o,s,d){const m=[n,o,...s];[].forEach.call(t.children,p=>{const v=m.indexOf(p)===-1,k=!Swe(p);v&&k&&xh(p,d)})}function Ak(t,n){let o=-1;return t.some((s,d)=>n(s)?(o=d,!0):!1),o}function Bwe(t,n){const o=[],s=t.container;if(!n.disableScrollLock){if(xwe(s)){const p=aT(so(s));o.push({value:s.style.paddingRight,property:"padding-right",el:s}),s.style.paddingRight=`${YX(s)+p}px`;const v=so(s).querySelectorAll(".mui-fixed");[].forEach.call(v,k=>{o.push({value:k.style.paddingRight,property:"padding-right",el:k}),k.style.paddingRight=`${YX(k)+p}px`})}let m;if(s.parentNode instanceof DocumentFragment)m=so(s).body;else{const p=s.parentElement,v=_c(s);m=(p==null?void 0:p.nodeName)==="HTML"&&v.getComputedStyle(p).overflowY==="scroll"?p:s}o.push({value:m.style.overflow,property:"overflow",el:m},{value:m.style.overflowX,property:"overflow-x",el:m},{value:m.style.overflowY,property:"overflow-y",el:m}),m.style.overflow="hidden"}return()=>{o.forEach(({value:m,el:p,property:v})=>{m?p.style.setProperty(v,m):p.style.removeProperty(v)})}}function Zwe(t){const n=[];return[].forEach.call(t.children,o=>{o.getAttribute("aria-hidden")==="true"&&n.push(o)}),n}class Gwe{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(n,o){let s=this.modals.indexOf(n);if(s!==-1)return s;s=this.modals.length,this.modals.push(n),n.modalRef&&xh(n.modalRef,!1);const d=Zwe(o);DX(o,n.mount,n.modalRef,d,!0);const m=Ak(this.containers,p=>p.container===o);return m!==-1?(this.containers[m].modals.push(n),s):(this.containers.push({modals:[n],container:o,restore:null,hiddenSiblings:d}),s)}mount(n,o){const s=Ak(this.containers,m=>m.modals.indexOf(n)!==-1),d=this.containers[s];d.restore||(d.restore=Bwe(d,o))}remove(n,o=!0){const s=this.modals.indexOf(n);if(s===-1)return s;const d=Ak(this.containers,p=>p.modals.indexOf(n)!==-1),m=this.containers[d];if(m.modals.splice(m.modals.indexOf(n),1),this.modals.splice(s,1),m.modals.length===0)m.restore&&m.restore(),n.modalRef&&xh(n.modalRef,o),DX(m.container,n.mount,n.modalRef,m.hiddenSiblings,!1),this.containers.splice(d,1);else{const p=m.modals[m.modals.length-1];p.modalRef&&xh(p.modalRef,!1)}return s}isTopModal(n){return this.modals.length>0&&this.modals[this.modals.length-1]===n}}function Rwe(t){return typeof t=="function"?t():t}function Vwe(t){return t?t.props.hasOwnProperty("in"):!1}const Wwe=new Gwe;function _we(t){const{container:n,disableEscapeKeyDown:o=!1,disableScrollLock:s=!1,manager:d=Wwe,closeAfterTransition:m=!1,onTransitionEnter:p,onTransitionExited:v,children:k,onClose:Z,open:_,rootRef:N}=t,G=q.useRef({}),D=q.useRef(null),M=q.useRef(null),L=Lo(M,N),[O,P]=q.useState(!_),F=Vwe(k);let j=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(j=!1);const ie=()=>so(D.current),ne=()=>(G.current.modalRef=M.current,G.current.mount=D.current,G.current),ue=()=>{d.mount(ne(),{disableScrollLock:s}),M.current&&(M.current.scrollTop=0)},K=vh(()=>{const Be=Rwe(n)||ie().body;d.add(ne(),Be),M.current&&ue()}),de=q.useCallback(()=>d.isTopModal(ne()),[d]),pe=vh(Be=>{D.current=Be,Be&&(_&&de()?ue():M.current&&xh(M.current,j))}),Ce=q.useCallback(()=>{d.remove(ne(),j)},[j,d]);q.useEffect(()=>()=>{Ce()},[Ce]),q.useEffect(()=>{_?K():(!F||!m)&&Ce()},[_,Ce,F,m,K]);const be=Be=>Re=>{var fe;(fe=Be.onKeyDown)==null||fe.call(Be,Re),!(Re.key!=="Escape"||Re.which===229||!de())&&(o||(Re.stopPropagation(),Z&&Z(Re,"escapeKeyDown")))},Ge=Be=>Re=>{var fe;(fe=Be.onClick)==null||fe.call(Be,Re),Re.target===Re.currentTarget&&Z&&Z(Re,"backdropClick")};return{getRootProps:(Be={})=>{const Re=wh(t);delete Re.onTransitionEnter,delete Re.onTransitionExited;const fe=xe({},Re,Be);return xe({role:"presentation"},fe,{onKeyDown:be(fe),ref:L})},getBackdropProps:(Be={})=>{const Re=Be;return xe({"aria-hidden":!0},Re,{onClick:Ge(Re),open:_})},getTransitionProps:()=>{const Be=()=>{P(!1),p&&p()},Re=()=>{P(!0),v&&v(),m&&Ce()};return{onEnter:yX(Be,k==null?void 0:k.props.onEnter),onExited:yX(Re,k==null?void 0:k.props.onExited)}},rootRef:L,portalRef:pe,isTopModal:de,exited:O,hasTransition:F}}const Nwe=2;function kT(t,n){return t-n}function HX(t,n){var o;const{index:s}=(o=t.reduce((d,m,p)=>{const v=Math.abs(n-m);return d===null||v<d.distance||v===d.distance?{distance:v,index:p}:d},null))!=null?o:{};return s}function Sp(t,n){if(n.current!==void 0&&t.changedTouches){const o=t;for(let s=0;s<o.changedTouches.length;s+=1){const d=o.changedTouches[s];if(d.identifier===n.current)return{x:d.clientX,y:d.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function sf(t,n,o){return(t-n)*100/(o-n)}function Ewe(t,n,o){return(o-n)*t+n}function Xwe(t){if(Math.abs(t)<1){const o=t.toExponential().split("e-"),s=o[0].split(".")[1];return(s?s.length:0)+parseInt(o[1],10)}const n=t.toString().split(".")[1];return n?n.length:0}function Ywe(t,n,o){const s=Math.round((t-o)/n)*n+o;return Number(s.toFixed(Xwe(n)))}function FX({values:t,newValue:n,index:o}){const s=t.slice();return s[o]=n,s.sort(kT)}function Bp({sliderRef:t,activeIndex:n,setActive:o}){var s,d;const m=so(t.current);if(!((s=t.current)!=null&&s.contains(m.activeElement))||Number(m==null||(d=m.activeElement)==null?void 0:d.getAttribute("data-index"))!==n){var p;(p=t.current)==null||p.querySelector(`[type="range"][data-index="${n}"]`).focus()}o&&o(n)}function Zp(t,n){return typeof t=="number"&&typeof n=="number"?t===n:typeof t=="object"&&typeof n=="object"?swe(t,n):!1}const Dwe={horizontal:{offset:t=>({left:`${t}%`}),leap:t=>({width:`${t}%`})},"horizontal-reverse":{offset:t=>({right:`${t}%`}),leap:t=>({width:`${t}%`})},vertical:{offset:t=>({bottom:`${t}%`}),leap:t=>({height:`${t}%`})}},Hwe=t=>t;let Gp;function MX(){return Gp===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Gp=CSS.supports("touch-action","none"):Gp=!0),Gp}function Fwe(t){const{"aria-labelledby":n,defaultValue:o,disabled:s=!1,disableSwap:d=!1,isRtl:m=!1,marks:p=!1,max:v=100,min:k=0,name:Z,onChange:_,onChangeCommitted:N,orientation:G="horizontal",rootRef:D,scale:M=Hwe,step:L=1,shiftStep:O=10,tabIndex:P,value:F}=t,j=q.useRef(),[ie,ne]=q.useState(-1),[ue,K]=q.useState(-1),[de,pe]=q.useState(!1),Ce=q.useRef(0),[be,Ge]=dw({controlled:F,default:o??k,name:"Slider"}),Ee=_&&((Ke,tt,nt)=>{const St=Ke.nativeEvent||Ke,Yt=new St.constructor(St.type,St);Object.defineProperty(Yt,"target",{writable:!0,value:{value:tt,name:Z}}),_(Yt,tt,nt)}),Se=Array.isArray(be);let ke=Se?be.slice().sort(kT):[be];ke=ke.map(Ke=>Ke==null?k:Ng(Ke,k,v));const Be=p===!0&&L!==null?[...Array(Math.floor((v-k)/L)+1)].map((Ke,tt)=>({value:k+L*tt})):p||[],Re=Be.map(Ke=>Ke.value),{isFocusVisibleRef:fe,onBlur:Ze,onFocus:_e,ref:Pe}=Yke(),[Qe,Je]=q.useState(-1),ve=q.useRef(),Ye=Lo(Pe,ve),He=Lo(D,Ye),Oe=Ke=>tt=>{var nt;const St=Number(tt.currentTarget.getAttribute("data-index"));_e(tt),fe.current===!0&&Je(St),K(St),Ke==null||(nt=Ke.onFocus)==null||nt.call(Ke,tt)},je=Ke=>tt=>{var nt;Ze(tt),fe.current===!1&&Je(-1),K(-1),Ke==null||(nt=Ke.onBlur)==null||nt.call(Ke,tt)},et=(Ke,tt)=>{const nt=Number(Ke.currentTarget.getAttribute("data-index")),St=ke[nt],Yt=Re.indexOf(St);let $e=tt;if(Be&&L==null){const Dt=Re[Re.length-1];$e>Dt?$e=Dt:$e<Re[0]?$e=Re[0]:$e=$e<St?Re[Yt-1]:Re[Yt+1]}if($e=Ng($e,k,v),Se){d&&($e=Ng($e,ke[nt-1]||-1/0,ke[nt+1]||1/0));const Dt=$e;$e=FX({values:ke,newValue:$e,index:nt});let Kt=nt;d||(Kt=$e.indexOf(Dt)),Bp({sliderRef:ve,activeIndex:Kt})}Ge($e),Je(nt),Ee&&!Zp($e,be)&&Ee(Ke,$e,nt),N&&N(Ke,$e)},Ct=Ke=>tt=>{var nt;if(L!==null){const St=Number(tt.currentTarget.getAttribute("data-index")),Yt=ke[St];let $e=null;(tt.key==="ArrowLeft"||tt.key==="ArrowDown")&&tt.shiftKey||tt.key==="PageDown"?$e=Math.max(Yt-O,k):((tt.key==="ArrowRight"||tt.key==="ArrowUp")&&tt.shiftKey||tt.key==="PageUp")&&($e=Math.min(Yt+O,v)),$e!==null&&(et(tt,$e),tt.preventDefault())}Ke==null||(nt=Ke.onKeyDown)==null||nt.call(Ke,tt)};xl(()=>{if(s&&ve.current.contains(document.activeElement)){var Ke;(Ke=document.activeElement)==null||Ke.blur()}},[s]),s&&ie!==-1&&ne(-1),s&&Qe!==-1&&Je(-1);const ft=Ke=>tt=>{var nt;(nt=Ke.onChange)==null||nt.call(Ke,tt),et(tt,tt.target.valueAsNumber)},wt=q.useRef();let rt=G;m&&G==="horizontal"&&(rt+="-reverse");const xt=({finger:Ke,move:tt=!1})=>{const{current:nt}=ve,{width:St,height:Yt,bottom:$e,left:Dt}=nt.getBoundingClientRect();let Kt;rt.indexOf("vertical")===0?Kt=($e-Ke.y)/Yt:Kt=(Ke.x-Dt)/St,rt.indexOf("-reverse")!==-1&&(Kt=1-Kt);let Zt;if(Zt=Ewe(Kt,k,v),L)Zt=Ywe(Zt,L,k);else{const Tr=HX(Re,Zt);Zt=Re[Tr]}Zt=Ng(Zt,k,v);let cn=0;if(Se){tt?cn=wt.current:cn=HX(ke,Zt),d&&(Zt=Ng(Zt,ke[cn-1]||-1/0,ke[cn+1]||1/0));const Tr=Zt;Zt=FX({values:ke,newValue:Zt,index:cn}),d&&tt||(cn=Zt.indexOf(Tr),wt.current=cn)}return{newValue:Zt,activeIndex:cn}},Vt=vh(Ke=>{const tt=Sp(Ke,j);if(!tt)return;if(Ce.current+=1,Ke.type==="mousemove"&&Ke.buttons===0){Hn(Ke);return}const{newValue:nt,activeIndex:St}=xt({finger:tt,move:!0});Bp({sliderRef:ve,activeIndex:St,setActive:ne}),Ge(nt),!de&&Ce.current>Nwe&&pe(!0),Ee&&!Zp(nt,be)&&Ee(Ke,nt,St)}),Hn=vh(Ke=>{const tt=Sp(Ke,j);if(pe(!1),!tt)return;const{newValue:nt}=xt({finger:tt,move:!0});ne(-1),Ke.type==="touchend"&&K(-1),N&&N(Ke,nt),j.current=void 0,Wt()}),at=vh(Ke=>{if(s)return;MX()||Ke.preventDefault();const tt=Ke.changedTouches[0];tt!=null&&(j.current=tt.identifier);const nt=Sp(Ke,j);if(nt!==!1){const{newValue:Yt,activeIndex:$e}=xt({finger:nt});Bp({sliderRef:ve,activeIndex:$e,setActive:ne}),Ge(Yt),Ee&&!Zp(Yt,be)&&Ee(Ke,Yt,$e)}Ce.current=0;const St=so(ve.current);St.addEventListener("touchmove",Vt,{passive:!0}),St.addEventListener("touchend",Hn,{passive:!0})}),Wt=q.useCallback(()=>{const Ke=so(ve.current);Ke.removeEventListener("mousemove",Vt),Ke.removeEventListener("mouseup",Hn),Ke.removeEventListener("touchmove",Vt),Ke.removeEventListener("touchend",Hn)},[Hn,Vt]);q.useEffect(()=>{const{current:Ke}=ve;return Ke.addEventListener("touchstart",at,{passive:MX()}),()=>{Ke.removeEventListener("touchstart",at),Wt()}},[Wt,at]),q.useEffect(()=>{s&&Wt()},[s,Wt]);const vt=Ke=>tt=>{var nt;if((nt=Ke.onMouseDown)==null||nt.call(Ke,tt),s||tt.defaultPrevented||tt.button!==0)return;tt.preventDefault();const St=Sp(tt,j);if(St!==!1){const{newValue:$e,activeIndex:Dt}=xt({finger:St});Bp({sliderRef:ve,activeIndex:Dt,setActive:ne}),Ge($e),Ee&&!Zp($e,be)&&Ee(tt,$e,Dt)}Ce.current=0;const Yt=so(ve.current);Yt.addEventListener("mousemove",Vt,{passive:!0}),Yt.addEventListener("mouseup",Hn)},It=sf(Se?ke[0]:k,k,v),mt=sf(ke[ke.length-1],k,v)-It,Fe=(Ke={})=>{const tt=wh(Ke),nt={onMouseDown:vt(tt||{})},St=xe({},tt,nt);return xe({},Ke,{ref:He},St)},ct=Ke=>tt=>{var nt;(nt=Ke.onMouseOver)==null||nt.call(Ke,tt);const St=Number(tt.currentTarget.getAttribute("data-index"));K(St)},dt=Ke=>tt=>{var nt;(nt=Ke.onMouseLeave)==null||nt.call(Ke,tt),K(-1)};return{active:ie,axis:rt,axisProps:Dwe,dragging:de,focusedThumbIndex:Qe,getHiddenInputProps:(Ke={})=>{var tt;const nt=wh(Ke),St={onChange:ft(nt||{}),onFocus:Oe(nt||{}),onBlur:je(nt||{}),onKeyDown:Ct(nt||{})},Yt=xe({},nt,St);return xe({tabIndex:P,"aria-labelledby":n,"aria-orientation":G,"aria-valuemax":M(v),"aria-valuemin":M(k),name:Z,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(tt=t.step)!=null?tt:void 0,disabled:s},Ke,Yt,{style:xe({},Dke,{direction:m?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:Fe,getThumbProps:(Ke={})=>{const tt=wh(Ke),nt={onMouseOver:ct(tt||{}),onMouseLeave:dt(tt||{})};return xe({},Ke,tt,nt)},marks:Be,open:ue,range:Se,rootRef:He,trackLeap:mt,trackOffset:It,values:ke,getThumbStyle:Ke=>({pointerEvents:ie!==-1&&ie!==Ke?"none":void 0})}}const Mwe=["onChange","maxRows","minRows","style","value"];function Rp(t){return parseInt(t,10)||0}const Twe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Jwe(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const Lwe=q.forwardRef(function(n,o){const{onChange:s,maxRows:d,minRows:m=1,style:p,value:v}=n,k=Jt(n,Mwe),{current:Z}=q.useRef(v!=null),_=q.useRef(null),N=Lo(o,_),G=q.useRef(null),D=q.useCallback(()=>{const O=_.current,F=_c(O).getComputedStyle(O);if(F.width==="0px")return{outerHeightStyle:0,overflowing:!1};const j=G.current;j.style.width=F.width,j.value=O.value||n.placeholder||"x",j.value.slice(-1)===`
`&&(j.value+=" ");const ie=F.boxSizing,ne=Rp(F.paddingBottom)+Rp(F.paddingTop),ue=Rp(F.borderBottomWidth)+Rp(F.borderTopWidth),K=j.scrollHeight;j.value="x";const de=j.scrollHeight;let pe=K;m&&(pe=Math.max(Number(m)*de,pe)),d&&(pe=Math.min(Number(d)*de,pe)),pe=Math.max(pe,de);const Ce=pe+(ie==="border-box"?ne+ue:0),be=Math.abs(pe-K)<=1;return{outerHeightStyle:Ce,overflowing:be}},[d,m,n.placeholder]),M=q.useCallback(()=>{const O=D();if(Jwe(O))return;const P=_.current;P.style.height=`${O.outerHeightStyle}px`,P.style.overflow=O.overflowing?"hidden":""},[D]);xl(()=>{const O=()=>{M()};let P;const F=rT(O),j=_.current,ie=_c(j);ie.addEventListener("resize",F);let ne;return typeof ResizeObserver<"u"&&(ne=new ResizeObserver(O),ne.observe(j)),()=>{F.clear(),cancelAnimationFrame(P),ie.removeEventListener("resize",F),ne&&ne.disconnect()}},[D,M]),xl(()=>{M()});const L=O=>{Z||M(),s&&s(O)};return A.jsxs(q.Fragment,{children:[A.jsx("textarea",xe({value:v,onChange:L,ref:N,rows:m,style:p},k)),A.jsx("textarea",{"aria-hidden":!0,className:n.className,readOnly:!0,ref:G,tabIndex:-1,style:xe({},Twe.shadow,p,{paddingTop:0,paddingBottom:0})})]})});function Md({props:t,states:n,muiFormControl:o}){return n.reduce((s,d)=>(s[d]=t[d],o&&typeof t[d]>"u"&&(s[d]=o[d]),s),{})}const Tb=q.createContext(void 0);function Tc(){return q.useContext(Tb)}function zwe(t){return A.jsx($ye,xe({},t,{defaultTheme:Fb,themeId:Zm}))}function TX(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function af(t,n=!1){return t&&(TX(t.value)&&t.value!==""||n&&TX(t.defaultValue)&&t.defaultValue!=="")}function Kwe(t){return t.startAdornment}function Pwe(t){return Ci("MuiInputBase",t)}const vd=pi("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),jwe=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Jb=(t,n)=>{const{ownerState:o}=t;return[n.root,o.formControl&&n.formControl,o.startAdornment&&n.adornedStart,o.endAdornment&&n.adornedEnd,o.error&&n.error,o.size==="small"&&n.sizeSmall,o.multiline&&n.multiline,o.color&&n[`color${bn(o.color)}`],o.fullWidth&&n.fullWidth,o.hiddenLabel&&n.hiddenLabel]},Lb=(t,n)=>{const{ownerState:o}=t;return[n.input,o.size==="small"&&n.inputSizeSmall,o.multiline&&n.inputMultiline,o.type==="search"&&n.inputTypeSearch,o.startAdornment&&n.inputAdornedStart,o.endAdornment&&n.inputAdornedEnd,o.hiddenLabel&&n.inputHiddenLabel]},Owe=t=>{const{classes:n,color:o,disabled:s,error:d,endAdornment:m,focused:p,formControl:v,fullWidth:k,hiddenLabel:Z,multiline:_,readOnly:N,size:G,startAdornment:D,type:M}=t,L={root:["root",`color${bn(o)}`,s&&"disabled",d&&"error",k&&"fullWidth",p&&"focused",v&&"formControl",G&&G!=="medium"&&`size${bn(G)}`,_&&"multiline",D&&"adornedStart",m&&"adornedEnd",Z&&"hiddenLabel",N&&"readOnly"],input:["input",s&&"disabled",M==="search"&&"inputTypeSearch",_&&"inputMultiline",G==="small"&&"inputSizeSmall",Z&&"inputHiddenLabel",D&&"inputAdornedStart",m&&"inputAdornedEnd",N&&"readOnly"]};return Bi(L,Pwe,n)},zb=Lt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Jb})(({theme:t,ownerState:n})=>xe({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${vd.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&xe({padding:"4px 0 5px"},n.size==="small"&&{paddingTop:1}),n.fullWidth&&{width:"100%"})),Kb=Lt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Lb})(({theme:t,ownerState:n})=>{const o=t.palette.mode==="light",s=xe({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:o?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),d={opacity:"0 !important"},m=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:o?.42:.5};return xe({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${vd.formControl} &`]:{"&::-webkit-input-placeholder":d,"&::-moz-placeholder":d,"&:-ms-input-placeholder":d,"&::-ms-input-placeholder":d,"&:focus::-webkit-input-placeholder":m,"&:focus::-moz-placeholder":m,"&:focus:-ms-input-placeholder":m,"&:focus::-ms-input-placeholder":m},[`&.${vd.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},n.size==="small"&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},n.type==="search"&&{MozAppearance:"textfield"})}),Uwe=A.jsx(zwe,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Qwe=q.forwardRef(function(n,o){var s;const d=Ni({props:n,name:"MuiInputBase"}),{"aria-describedby":m,autoComplete:p,autoFocus:v,className:k,components:Z={},componentsProps:_={},defaultValue:N,disabled:G,disableInjectingGlobalStyles:D,endAdornment:M,fullWidth:L=!1,id:O,inputComponent:P="input",inputProps:F={},inputRef:j,maxRows:ie,minRows:ne,multiline:ue=!1,name:K,onBlur:de,onChange:pe,onClick:Ce,onFocus:be,onKeyDown:Ge,onKeyUp:Ee,placeholder:Se,readOnly:ke,renderSuffix:Be,rows:Re,slotProps:fe={},slots:Ze={},startAdornment:_e,type:Pe="text",value:Qe}=d,Je=Jt(d,jwe),ve=F.value!=null?F.value:Qe,{current:Ye}=q.useRef(ve!=null),He=q.useRef(),Oe=q.useCallback(Ke=>{},[]),je=Lo(He,j,F.ref,Oe),[et,Ct]=q.useState(!1),ft=Tc(),wt=Md({props:d,muiFormControl:ft,states:["color","disabled","error","hiddenLabel","size","required","filled"]});wt.focused=ft?ft.focused:et,q.useEffect(()=>{!ft&&G&&et&&(Ct(!1),de&&de())},[ft,G,et,de]);const rt=ft&&ft.onFilled,xt=ft&&ft.onEmpty,Vt=q.useCallback(Ke=>{af(Ke)?rt&&rt():xt&&xt()},[rt,xt]);xl(()=>{Ye&&Vt({value:ve})},[ve,Vt,Ye]);const Hn=Ke=>{if(wt.disabled){Ke.stopPropagation();return}be&&be(Ke),F.onFocus&&F.onFocus(Ke),ft&&ft.onFocus?ft.onFocus(Ke):Ct(!0)},at=Ke=>{de&&de(Ke),F.onBlur&&F.onBlur(Ke),ft&&ft.onBlur?ft.onBlur(Ke):Ct(!1)},Wt=(Ke,...tt)=>{if(!Ye){const nt=Ke.target||He.current;if(nt==null)throw new Error(Wc(1));Vt({value:nt.value})}F.onChange&&F.onChange(Ke,...tt),pe&&pe(Ke,...tt)};q.useEffect(()=>{Vt(He.current)},[]);const vt=Ke=>{He.current&&Ke.currentTarget===Ke.target&&He.current.focus(),Ce&&Ce(Ke)};let It=P,mt=F;ue&&It==="input"&&(Re?mt=xe({type:void 0,minRows:Re,maxRows:Re},mt):mt=xe({type:void 0,maxRows:ie,minRows:ne},mt),It=Lwe);const Fe=Ke=>{Vt(Ke.animationName==="mui-auto-fill-cancel"?He.current:{value:"x"})};q.useEffect(()=>{ft&&ft.setAdornedStart(!!_e)},[ft,_e]);const ct=xe({},d,{color:wt.color||"primary",disabled:wt.disabled,endAdornment:M,error:wt.error,focused:wt.focused,formControl:ft,fullWidth:L,hiddenLabel:wt.hiddenLabel,multiline:ue,size:wt.size,startAdornment:_e,type:Pe}),dt=Owe(ct),Ft=Ze.root||Z.Root||zb,Mt=fe.root||_.root||{},hn=Ze.input||Z.Input||Kb;return mt=xe({},mt,(s=fe.input)!=null?s:_.input),A.jsxs(q.Fragment,{children:[!D&&Uwe,A.jsxs(Ft,xe({},Mt,!Al(Ft)&&{ownerState:xe({},ct,Mt.ownerState)},{ref:o,onClick:vt},Je,{className:nn(dt.root,Mt.className,k,ke&&"MuiInputBase-readOnly"),children:[_e,A.jsx(Tb.Provider,{value:null,children:A.jsx(hn,xe({ownerState:ct,"aria-invalid":wt.error,"aria-describedby":m,autoComplete:p,autoFocus:v,defaultValue:N,disabled:wt.disabled,id:O,onAnimationStart:Fe,name:K,placeholder:Se,readOnly:ke,required:wt.required,rows:Re,value:ve,onKeyDown:Ge,onKeyUp:Ee,type:Pe},mt,!Al(hn)&&{as:It,ownerState:xe({},ct,mt.ownerState)},{ref:je,className:nn(dt.input,mt.className,ke&&"MuiInputBase-readOnly"),onBlur:at,onChange:Wt,onFocus:Hn}))}),M,Be?Be(xe({},wt,{startAdornment:_e})):null]}))]})}),D1=Qwe;function qwe(t){return Ci("MuiInput",t)}const ju=xe({},vd,pi("MuiInput",["root","underline","input"]));function $we(t){return Ci("MuiOutlinedInput",t)}const Qa=xe({},vd,pi("MuiOutlinedInput",["root","notchedOutline","input"]));function exe(t){return Ci("MuiFilledInput",t)}const oc=xe({},vd,pi("MuiFilledInput",["root","underline","input"])),txe=Uve(A.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),nxe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ixe={entering:{opacity:1},entered:{opacity:1}},oxe=q.forwardRef(function(n,o){const s=fT(),d={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{addEndListener:m,appear:p=!0,children:v,easing:k,in:Z,onEnter:_,onEntered:N,onEntering:G,onExit:D,onExited:M,onExiting:L,style:O,timeout:P=d,TransitionComponent:F=js}=n,j=Jt(n,nxe),ie=q.useRef(null),ne=Lo(ie,v.ref,o),ue=Se=>ke=>{if(Se){const Be=ie.current;ke===void 0?Se(Be):Se(Be,ke)}},K=ue(G),de=ue((Se,ke)=>{yT(Se);const Be=rf({style:O,timeout:P,easing:k},{mode:"enter"});Se.style.webkitTransition=s.transitions.create("opacity",Be),Se.style.transition=s.transitions.create("opacity",Be),_&&_(Se,ke)}),pe=ue(N),Ce=ue(L),be=ue(Se=>{const ke=rf({style:O,timeout:P,easing:k},{mode:"exit"});Se.style.webkitTransition=s.transitions.create("opacity",ke),Se.style.transition=s.transitions.create("opacity",ke),D&&D(Se)}),Ge=ue(M),Ee=Se=>{m&&m(ie.current,Se)};return A.jsx(F,xe({appear:p,in:Z,nodeRef:ie,onEnter:de,onEntered:pe,onEntering:K,onExit:be,onExited:Ge,onExiting:Ce,addEndListener:Ee,timeout:P},j,{children:(Se,ke)=>q.cloneElement(v,xe({style:xe({opacity:0,visibility:Se==="exited"&&!Z?"hidden":void 0},ixe[Se],O,v.props.style),ref:ne},ke))}))});function rxe(t){return Ci("MuiBackdrop",t)}pi("MuiBackdrop",["root","invisible"]);const sxe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],axe=t=>{const{classes:n,invisible:o}=t;return Bi({root:["root",o&&"invisible"]},rxe,n)},lxe=Lt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.root,o.invisible&&n.invisible]}})(({ownerState:t})=>xe({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),cxe=q.forwardRef(function(n,o){var s,d,m;const p=Ni({props:n,name:"MuiBackdrop"}),{children:v,className:k,component:Z="div",components:_={},componentsProps:N={},invisible:G=!1,open:D,slotProps:M={},slots:L={},TransitionComponent:O=oxe,transitionDuration:P}=p,F=Jt(p,sxe),j=xe({},p,{component:Z,invisible:G}),ie=axe(j),ne=(s=M.root)!=null?s:N.root;return A.jsx(O,xe({in:D,timeout:P},F,{children:A.jsx(lxe,xe({"aria-hidden":!0},ne,{as:(d=(m=L.root)!=null?m:_.Root)!=null?d:Z,className:nn(ie.root,k,ne==null?void 0:ne.className),ownerState:xe({},j,ne==null?void 0:ne.ownerState),classes:ie,ref:o,children:v}))}))}),gxe=pi("MuiBox",["root"]),dxe=IT(),Ou=rke({themeId:Zm,defaultTheme:dxe,defaultClassName:gxe.root,generateClassName:$M.generate});function uxe(t){return Ci("MuiModal",t)}pi("MuiModal",["root","hidden","backdrop"]);const hxe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],mxe=t=>{const{open:n,exited:o,classes:s}=t;return Bi({root:["root",!n&&o&&"hidden"],backdrop:["backdrop"]},uxe,s)},Cxe=Lt("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.root,!o.open&&o.exited&&n.hidden]}})(({theme:t,ownerState:n})=>xe({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})),pxe=Lt(cxe,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,n)=>n.backdrop})({zIndex:-1}),Ixe=q.forwardRef(function(n,o){var s,d,m,p,v,k;const Z=Ni({name:"MuiModal",props:n}),{BackdropComponent:_=pxe,BackdropProps:N,className:G,closeAfterTransition:D=!1,children:M,container:L,component:O,components:P={},componentsProps:F={},disableAutoFocus:j=!1,disableEnforceFocus:ie=!1,disableEscapeKeyDown:ne=!1,disablePortal:ue=!1,disableRestoreFocus:K=!1,disableScrollLock:de=!1,hideBackdrop:pe=!1,keepMounted:Ce=!1,onBackdropClick:be,open:Ge,slotProps:Ee,slots:Se}=Z,ke=Jt(Z,hxe),Be=xe({},Z,{closeAfterTransition:D,disableAutoFocus:j,disableEnforceFocus:ie,disableEscapeKeyDown:ne,disablePortal:ue,disableRestoreFocus:K,disableScrollLock:de,hideBackdrop:pe,keepMounted:Ce}),{getRootProps:Re,getBackdropProps:fe,getTransitionProps:Ze,portalRef:_e,isTopModal:Pe,exited:Qe,hasTransition:Je}=_we(xe({},Be,{rootRef:o})),ve=xe({},Be,{exited:Qe}),Ye=mxe(ve),He={};if(M.props.tabIndex===void 0&&(He.tabIndex="-1"),Je){const{onEnter:rt,onExited:xt}=Ze();He.onEnter=rt,He.onExited=xt}const Oe=(s=(d=Se==null?void 0:Se.root)!=null?d:P.Root)!=null?s:Cxe,je=(m=(p=Se==null?void 0:Se.backdrop)!=null?p:P.Backdrop)!=null?m:_,et=(v=Ee==null?void 0:Ee.root)!=null?v:F.root,Ct=(k=Ee==null?void 0:Ee.backdrop)!=null?k:F.backdrop,ft=Eo({elementType:Oe,externalSlotProps:et,externalForwardedProps:ke,getSlotProps:Re,additionalProps:{ref:o,as:O},ownerState:ve,className:nn(G,et==null?void 0:et.className,Ye==null?void 0:Ye.root,!ve.open&&ve.exited&&(Ye==null?void 0:Ye.hidden))}),wt=Eo({elementType:je,externalSlotProps:Ct,additionalProps:N,getSlotProps:rt=>fe(xe({},rt,{onClick:xt=>{be&&be(xt),rt!=null&&rt.onClick&&rt.onClick(xt)}})),className:nn(Ct==null?void 0:Ct.className,N==null?void 0:N.className,Ye==null?void 0:Ye.backdrop),ownerState:ve});return!Ce&&!Ge&&(!Je||Qe)?null:A.jsx(wwe,{ref:_e,container:L,disablePortal:ue,children:A.jsxs(Oe,xe({},ft,{children:[!pe&&_?A.jsx(je,xe({},wt)):null,A.jsx(kwe,{disableEnforceFocus:ie,disableAutoFocus:j,disableRestoreFocus:K,isEnabled:Pe,open:Ge,children:q.cloneElement(M,He)})]}))})}),fxe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],bxe=t=>{const{classes:n,disableUnderline:o}=t,d=Bi({root:["root",!o&&"underline"],input:["input"]},exe,n);return xe({},n,d)},Axe=Lt(zb,{shouldForwardProp:t=>Ps(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[...Jb(t,n),!o.disableUnderline&&n.underline]}})(({theme:t,ownerState:n})=>{var o;const s=t.palette.mode==="light",d=s?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",m=s?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",p=s?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",v=s?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return xe({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:m,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:p,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:m}},[`&.${oc.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:m},[`&.${oc.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:v}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(o=(t.vars||t).palette[n.color||"primary"])==null?void 0:o.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${oc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${oc.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:d}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${oc.disabled}, .${oc.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${oc.disabled}:before`]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&xe({padding:"25px 12px 8px"},n.size==="small"&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&n.size==="small"&&{paddingTop:8,paddingBottom:9}))}),yxe=Lt(Kb,{name:"MuiFilledInput",slot:"Input",overridesResolver:Lb})(({theme:t,ownerState:n})=>xe({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},n.size==="small"&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&n.size==="small"&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),H1=q.forwardRef(function(n,o){var s,d,m,p;const v=Ni({props:n,name:"MuiFilledInput"}),{components:k={},componentsProps:Z,fullWidth:_=!1,inputComponent:N="input",multiline:G=!1,slotProps:D,slots:M={},type:L="text"}=v,O=Jt(v,fxe),P=xe({},v,{fullWidth:_,inputComponent:N,multiline:G,type:L}),F=bxe(v),j={root:{ownerState:P},input:{ownerState:P}},ie=D??Z?lr(j,D??Z):j,ne=(s=(d=M.root)!=null?d:k.Root)!=null?s:Axe,ue=(m=(p=M.input)!=null?p:k.Input)!=null?m:yxe;return A.jsx(D1,xe({slots:{root:ne,input:ue},componentsProps:ie,fullWidth:_,inputComponent:N,multiline:G,ref:o,type:L},O,{classes:F}))});H1.muiName="Input";function kxe(t){return Ci("MuiFormControl",t)}pi("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const vxe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],wxe=t=>{const{classes:n,margin:o,fullWidth:s}=t,d={root:["root",o!=="none"&&`margin${bn(o)}`,s&&"fullWidth"]};return Bi(d,kxe,n)},xxe=Lt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},n)=>xe({},n.root,n[`margin${bn(t.margin)}`],t.fullWidth&&n.fullWidth)})(({ownerState:t})=>xe({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),Sxe=q.forwardRef(function(n,o){const s=Ni({props:n,name:"MuiFormControl"}),{children:d,className:m,color:p="primary",component:v="div",disabled:k=!1,error:Z=!1,focused:_,fullWidth:N=!1,hiddenLabel:G=!1,margin:D="none",required:M=!1,size:L="medium",variant:O="outlined"}=s,P=Jt(s,vxe),F=xe({},s,{color:p,component:v,disabled:k,error:Z,fullWidth:N,hiddenLabel:G,margin:D,required:M,size:L,variant:O}),j=wxe(F),[ie,ne]=q.useState(()=>{let Ee=!1;return d&&q.Children.forEach(d,Se=>{if(!pk(Se,["Input","Select"]))return;const ke=pk(Se,["Select"])?Se.props.input:Se;ke&&Kwe(ke.props)&&(Ee=!0)}),Ee}),[ue,K]=q.useState(()=>{let Ee=!1;return d&&q.Children.forEach(d,Se=>{pk(Se,["Input","Select"])&&(af(Se.props,!0)||af(Se.props.inputProps,!0))&&(Ee=!0)}),Ee}),[de,pe]=q.useState(!1);k&&de&&pe(!1);const Ce=_!==void 0&&!k?_:de;let be;const Ge=q.useMemo(()=>({adornedStart:ie,setAdornedStart:ne,color:p,disabled:k,error:Z,filled:ue,focused:Ce,fullWidth:N,hiddenLabel:G,size:L,onBlur:()=>{pe(!1)},onEmpty:()=>{K(!1)},onFilled:()=>{K(!0)},onFocus:()=>{pe(!0)},registerEffect:be,required:M,variant:O}),[ie,p,k,Z,ue,Ce,N,G,be,M,L,O]);return A.jsx(Tb.Provider,{value:Ge,children:A.jsx(xxe,xe({as:v,ownerState:F,className:nn(j.root,m),ref:o},P,{children:d}))})});function Bxe(t){return Ci("MuiFormHelperText",t)}const JX=pi("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var LX;const Zxe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Gxe=t=>{const{classes:n,contained:o,size:s,disabled:d,error:m,filled:p,focused:v,required:k}=t,Z={root:["root",d&&"disabled",m&&"error",s&&`size${bn(s)}`,o&&"contained",v&&"focused",p&&"filled",k&&"required"]};return Bi(Z,Bxe,n)},Rxe=Lt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.root,o.size&&n[`size${bn(o.size)}`],o.contained&&n.contained,o.filled&&n.filled]}})(({theme:t,ownerState:n})=>xe({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${JX.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${JX.error}`]:{color:(t.vars||t).palette.error.main}},n.size==="small"&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})),Vxe=q.forwardRef(function(n,o){const s=Ni({props:n,name:"MuiFormHelperText"}),{children:d,className:m,component:p="p"}=s,v=Jt(s,Zxe),k=Tc(),Z=Md({props:s,muiFormControl:k,states:["variant","size","disabled","error","filled","focused","required"]}),_=xe({},s,{component:p,contained:Z.variant==="filled"||Z.variant==="outlined",variant:Z.variant,size:Z.size,disabled:Z.disabled,error:Z.error,filled:Z.filled,focused:Z.focused,required:Z.required}),N=Gxe(_);return A.jsx(Rxe,xe({as:p,ownerState:_,className:nn(N.root,m),ref:o},v,{children:d===" "?LX||(LX=A.jsx("span",{className:"notranslate",children:""})):d}))});function Wxe(t){return Ci("MuiFormLabel",t)}const Sh=pi("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),_xe=["children","className","color","component","disabled","error","filled","focused","required"],Nxe=t=>{const{classes:n,color:o,focused:s,disabled:d,error:m,filled:p,required:v}=t,k={root:["root",`color${bn(o)}`,d&&"disabled",m&&"error",p&&"filled",s&&"focused",v&&"required"],asterisk:["asterisk",m&&"error"]};return Bi(k,Wxe,n)},Exe=Lt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},n)=>xe({},n.root,t.color==="secondary"&&n.colorSecondary,t.filled&&n.filled)})(({theme:t,ownerState:n})=>xe({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Sh.focused}`]:{color:(t.vars||t).palette[n.color].main},[`&.${Sh.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Sh.error}`]:{color:(t.vars||t).palette.error.main}})),Xxe=Lt("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,n)=>n.asterisk})(({theme:t})=>({[`&.${Sh.error}`]:{color:(t.vars||t).palette.error.main}})),Yxe=q.forwardRef(function(n,o){const s=Ni({props:n,name:"MuiFormLabel"}),{children:d,className:m,component:p="label"}=s,v=Jt(s,_xe),k=Tc(),Z=Md({props:s,muiFormControl:k,states:["color","required","focused","disabled","error","filled"]}),_=xe({},s,{color:Z.color||"primary",component:p,disabled:Z.disabled,error:Z.error,filled:Z.filled,focused:Z.focused,required:Z.required}),N=Nxe(_);return A.jsxs(Exe,xe({as:p,ownerState:_,className:nn(N.root,m),ref:o},v,{children:[d,Z.required&&A.jsxs(Xxe,{ownerState:_,"aria-hidden":!0,className:N.asterisk,children:["","*"]})]}))}),Dxe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function bw(t){return`scale(${t}, ${t**2})`}const Hxe={entering:{opacity:1,transform:bw(1)},entered:{opacity:1,transform:"none"}},yk=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),vT=q.forwardRef(function(n,o){const{addEndListener:s,appear:d=!0,children:m,easing:p,in:v,onEnter:k,onEntered:Z,onEntering:_,onExit:N,onExited:G,onExiting:D,style:M,timeout:L="auto",TransitionComponent:O=js}=n,P=Jt(n,Dxe),F=Gke(),j=q.useRef(),ie=fT(),ne=q.useRef(null),ue=Lo(ne,m.ref,o),K=ke=>Be=>{if(ke){const Re=ne.current;Be===void 0?ke(Re):ke(Re,Be)}},de=K(_),pe=K((ke,Be)=>{yT(ke);const{duration:Re,delay:fe,easing:Ze}=rf({style:M,timeout:L,easing:p},{mode:"enter"});let _e;L==="auto"?(_e=ie.transitions.getAutoHeightDuration(ke.clientHeight),j.current=_e):_e=Re,ke.style.transition=[ie.transitions.create("opacity",{duration:_e,delay:fe}),ie.transitions.create("transform",{duration:yk?_e:_e*.666,delay:fe,easing:Ze})].join(","),k&&k(ke,Be)}),Ce=K(Z),be=K(D),Ge=K(ke=>{const{duration:Be,delay:Re,easing:fe}=rf({style:M,timeout:L,easing:p},{mode:"exit"});let Ze;L==="auto"?(Ze=ie.transitions.getAutoHeightDuration(ke.clientHeight),j.current=Ze):Ze=Be,ke.style.transition=[ie.transitions.create("opacity",{duration:Ze,delay:Re}),ie.transitions.create("transform",{duration:yk?Ze:Ze*.666,delay:yk?Re:Re||Ze*.333,easing:fe})].join(","),ke.style.opacity=0,ke.style.transform=bw(.75),N&&N(ke)}),Ee=K(G),Se=ke=>{L==="auto"&&F.start(j.current||0,ke),s&&s(ne.current,ke)};return A.jsx(O,xe({appear:d,in:v,nodeRef:ne,onEnter:pe,onEntered:Ce,onEntering:de,onExit:Ge,onExited:Ee,onExiting:be,addEndListener:Se,timeout:L==="auto"?null:L},P,{children:(ke,Be)=>q.cloneElement(m,xe({style:xe({opacity:0,transform:bw(.75),visibility:ke==="exited"&&!v?"hidden":void 0},Hxe[ke],M,m.props.style),ref:ue},Be))}))});vT.muiSupportAuto=!0;const Fxe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Mxe=t=>{const{classes:n,disableUnderline:o}=t,d=Bi({root:["root",!o&&"underline"],input:["input"]},qwe,n);return xe({},n,d)},Txe=Lt(zb,{shouldForwardProp:t=>Ps(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[...Jb(t,n),!o.disableUnderline&&n.underline]}})(({theme:t,ownerState:n})=>{let s=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(s=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),xe({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ju.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ju.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ju.disabled}, .${ju.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${s}`}},[`&.${ju.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Jxe=Lt(Kb,{name:"MuiInput",slot:"Input",overridesResolver:Lb})({}),F1=q.forwardRef(function(n,o){var s,d,m,p;const v=Ni({props:n,name:"MuiInput"}),{disableUnderline:k,components:Z={},componentsProps:_,fullWidth:N=!1,inputComponent:G="input",multiline:D=!1,slotProps:M,slots:L={},type:O="text"}=v,P=Jt(v,Fxe),F=Mxe(v),ie={root:{ownerState:{disableUnderline:k}}},ne=M??_?lr(M??_,ie):ie,ue=(s=(d=L.root)!=null?d:Z.Root)!=null?s:Txe,K=(m=(p=L.input)!=null?p:Z.Input)!=null?m:Jxe;return A.jsx(D1,xe({slots:{root:ue,input:K},slotProps:ne,fullWidth:N,inputComponent:G,multiline:D,ref:o,type:O},P,{classes:F}))});F1.muiName="Input";function Lxe(t){return Ci("MuiInputAdornment",t)}const zX=pi("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var KX;const zxe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Kxe=(t,n)=>{const{ownerState:o}=t;return[n.root,n[`position${bn(o.position)}`],o.disablePointerEvents===!0&&n.disablePointerEvents,n[o.variant]]},Pxe=t=>{const{classes:n,disablePointerEvents:o,hiddenLabel:s,position:d,size:m,variant:p}=t,v={root:["root",o&&"disablePointerEvents",d&&`position${bn(d)}`,p,s&&"hiddenLabel",m&&`size${bn(m)}`]};return Bi(v,Lxe,n)},jxe=Lt("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Kxe})(({theme:t,ownerState:n})=>xe({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},n.variant==="filled"&&{[`&.${zX.positionStart}&:not(.${zX.hiddenLabel})`]:{marginTop:16}},n.position==="start"&&{marginRight:8},n.position==="end"&&{marginLeft:8},n.disablePointerEvents===!0&&{pointerEvents:"none"})),PX=q.forwardRef(function(n,o){const s=Ni({props:n,name:"MuiInputAdornment"}),{children:d,className:m,component:p="div",disablePointerEvents:v=!1,disableTypography:k=!1,position:Z,variant:_}=s,N=Jt(s,zxe),G=Tc()||{};let D=_;_&&G.variant,G&&!D&&(D=G.variant);const M=xe({},s,{hiddenLabel:G.hiddenLabel,size:G.size,disablePointerEvents:v,position:Z,variant:D}),L=Pxe(M);return A.jsx(Tb.Provider,{value:null,children:A.jsx(jxe,xe({as:p,ownerState:M,className:nn(L.root,m),ref:o},N,{children:typeof d=="string"&&!k?A.jsx(Xg,{color:"text.secondary",children:d}):A.jsxs(q.Fragment,{children:[Z==="start"?KX||(KX=A.jsx("span",{className:"notranslate",children:""})):null,d]})}))})});function Oxe(t){return Ci("MuiInputLabel",t)}pi("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Uxe=["disableAnimation","margin","shrink","variant","className"],Qxe=t=>{const{classes:n,formControl:o,size:s,shrink:d,disableAnimation:m,variant:p,required:v}=t,k={root:["root",o&&"formControl",!m&&"animated",d&&"shrink",s&&s!=="normal"&&`size${bn(s)}`,p],asterisk:[v&&"asterisk"]},Z=Bi(k,Oxe,n);return xe({},n,Z)},qxe=Lt(Yxe,{shouldForwardProp:t=>Ps(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[{[`& .${Sh.asterisk}`]:n.asterisk},n.root,o.formControl&&n.formControl,o.size==="small"&&n.sizeSmall,o.shrink&&n.shrink,!o.disableAnimation&&n.animated,o.focused&&n.focused,n[o.variant]]}})(({theme:t,ownerState:n})=>xe({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},n.size==="small"&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},n.variant==="filled"&&xe({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},n.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&xe({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},n.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),n.variant==="outlined"&&xe({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},n.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),$xe=q.forwardRef(function(n,o){const s=Ni({name:"MuiInputLabel",props:n}),{disableAnimation:d=!1,shrink:m,className:p}=s,v=Jt(s,Uxe),k=Tc();let Z=m;typeof Z>"u"&&k&&(Z=k.filled||k.focused||k.adornedStart);const _=Md({props:s,muiFormControl:k,states:["size","variant","required","focused"]}),N=xe({},s,{disableAnimation:d,formControl:k,shrink:Z,size:_.size,variant:_.variant,required:_.required,focused:_.focused}),G=Qxe(N);return A.jsx(qxe,xe({"data-shrink":Z,ownerState:N,ref:o,className:nn(G.root,p)},v,{classes:G}))}),e1e=q.createContext({});function t1e(t){return Ci("MuiList",t)}pi("MuiList",["root","padding","dense","subheader"]);const n1e=["children","className","component","dense","disablePadding","subheader"],i1e=t=>{const{classes:n,disablePadding:o,dense:s,subheader:d}=t;return Bi({root:["root",!o&&"padding",s&&"dense",d&&"subheader"]},t1e,n)},o1e=Lt("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.root,!o.disablePadding&&n.padding,o.dense&&n.dense,o.subheader&&n.subheader]}})(({ownerState:t})=>xe({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),r1e=q.forwardRef(function(n,o){const s=Ni({props:n,name:"MuiList"}),{children:d,className:m,component:p="ul",dense:v=!1,disablePadding:k=!1,subheader:Z}=s,_=Jt(s,n1e),N=q.useMemo(()=>({dense:v}),[v]),G=xe({},s,{component:p,dense:v,disablePadding:k}),D=i1e(G);return A.jsx(e1e.Provider,{value:N,children:A.jsxs(o1e,xe({as:p,className:nn(D.root,m),ref:o,ownerState:G},_,{children:[Z,d]}))})}),s1e=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function kk(t,n,o){return t===n?t.firstChild:n&&n.nextElementSibling?n.nextElementSibling:o?null:t.firstChild}function jX(t,n,o){return t===n?o?t.firstChild:t.lastChild:n&&n.previousElementSibling?n.previousElementSibling:o?null:t.lastChild}function wT(t,n){if(n===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:n.repeating?o[0]===n.keys[0]:o.indexOf(n.keys.join(""))===0}function Uu(t,n,o,s,d,m){let p=!1,v=d(t,n,n?o:!1);for(;v;){if(v===t.firstChild){if(p)return!1;p=!0}const k=s?!1:v.disabled||v.getAttribute("aria-disabled")==="true";if(!v.hasAttribute("tabindex")||!wT(v,m)||k)v=d(t,v,o);else return v.focus(),!0}return!1}const a1e=q.forwardRef(function(n,o){const{actions:s,autoFocus:d=!1,autoFocusItem:m=!1,children:p,className:v,disabledItemsFocusable:k=!1,disableListWrap:Z=!1,onKeyDown:_,variant:N="selectedMenu"}=n,G=Jt(n,s1e),D=q.useRef(null),M=q.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});xl(()=>{d&&D.current.focus()},[d]),q.useImperativeHandle(s,()=>({adjustStyleForScrollbar:(j,{direction:ie})=>{const ne=!D.current.style.width;if(j.clientHeight<D.current.clientHeight&&ne){const ue=`${aT(so(j))}px`;D.current.style[ie==="rtl"?"paddingLeft":"paddingRight"]=ue,D.current.style.width=`calc(100% + ${ue})`}return D.current}}),[]);const L=j=>{const ie=D.current,ne=j.key,ue=so(ie).activeElement;if(ne==="ArrowDown")j.preventDefault(),Uu(ie,ue,Z,k,kk);else if(ne==="ArrowUp")j.preventDefault(),Uu(ie,ue,Z,k,jX);else if(ne==="Home")j.preventDefault(),Uu(ie,null,Z,k,kk);else if(ne==="End")j.preventDefault(),Uu(ie,null,Z,k,jX);else if(ne.length===1){const K=M.current,de=ne.toLowerCase(),pe=performance.now();K.keys.length>0&&(pe-K.lastTime>500?(K.keys=[],K.repeating=!0,K.previousKeyMatched=!0):K.repeating&&de!==K.keys[0]&&(K.repeating=!1)),K.lastTime=pe,K.keys.push(de);const Ce=ue&&!K.repeating&&wT(ue,K);K.previousKeyMatched&&(Ce||Uu(ie,ue,!1,k,kk,K))?j.preventDefault():K.previousKeyMatched=!1}_&&_(j)},O=Lo(D,o);let P=-1;q.Children.forEach(p,(j,ie)=>{if(!q.isValidElement(j)){P===ie&&(P+=1,P>=p.length&&(P=-1));return}j.props.disabled||(N==="selectedMenu"&&j.props.selected||P===-1)&&(P=ie),P===ie&&(j.props.disabled||j.props.muiSkipListHighlight||j.type.muiSkipListHighlight)&&(P+=1,P>=p.length&&(P=-1))});const F=q.Children.map(p,(j,ie)=>{if(ie===P){const ne={};return m&&(ne.autoFocus=!0),j.props.tabIndex===void 0&&N==="selectedMenu"&&(ne.tabIndex=0),q.cloneElement(j,ne)}return j});return A.jsx(r1e,xe({role:"menu",ref:O,className:v,onKeyDown:L,tabIndex:d?0:-1},G,{children:F}))});function l1e(t){return Ci("MuiPopover",t)}pi("MuiPopover",["root","paper"]);const c1e=["onEntering"],g1e=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],d1e=["slotProps"];function OX(t,n){let o=0;return typeof n=="number"?o=n:n==="center"?o=t.height/2:n==="bottom"&&(o=t.height),o}function UX(t,n){let o=0;return typeof n=="number"?o=n:n==="center"?o=t.width/2:n==="right"&&(o=t.width),o}function QX(t){return[t.horizontal,t.vertical].map(n=>typeof n=="number"?`${n}px`:n).join(" ")}function vk(t){return typeof t=="function"?t():t}const u1e=t=>{const{classes:n}=t;return Bi({root:["root"],paper:["paper"]},l1e,n)},h1e=Lt(Ixe,{name:"MuiPopover",slot:"Root",overridesResolver:(t,n)=>n.root})({}),xT=Lt(owe,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,n)=>n.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),m1e=q.forwardRef(function(n,o){var s,d,m;const p=Ni({props:n,name:"MuiPopover"}),{action:v,anchorEl:k,anchorOrigin:Z={vertical:"top",horizontal:"left"},anchorPosition:_,anchorReference:N="anchorEl",children:G,className:D,container:M,elevation:L=8,marginThreshold:O=16,open:P,PaperProps:F={},slots:j,slotProps:ie,transformOrigin:ne={vertical:"top",horizontal:"left"},TransitionComponent:ue=vT,transitionDuration:K="auto",TransitionProps:{onEntering:de}={},disableScrollLock:pe=!1}=p,Ce=Jt(p.TransitionProps,c1e),be=Jt(p,g1e),Ge=(s=ie==null?void 0:ie.paper)!=null?s:F,Ee=q.useRef(),Se=Lo(Ee,Ge.ref),ke=xe({},p,{anchorOrigin:Z,anchorReference:N,elevation:L,marginThreshold:O,externalPaperSlotProps:Ge,transformOrigin:ne,TransitionComponent:ue,transitionDuration:K,TransitionProps:Ce}),Be=u1e(ke),Re=q.useCallback(()=>{if(N==="anchorPosition")return _;const rt=vk(k),Vt=(rt&&rt.nodeType===1?rt:so(Ee.current).body).getBoundingClientRect();return{top:Vt.top+OX(Vt,Z.vertical),left:Vt.left+UX(Vt,Z.horizontal)}},[k,Z.horizontal,Z.vertical,_,N]),fe=q.useCallback(rt=>({vertical:OX(rt,ne.vertical),horizontal:UX(rt,ne.horizontal)}),[ne.horizontal,ne.vertical]),Ze=q.useCallback(rt=>{const xt={width:rt.offsetWidth,height:rt.offsetHeight},Vt=fe(xt);if(N==="none")return{top:null,left:null,transformOrigin:QX(Vt)};const Hn=Re();let at=Hn.top-Vt.vertical,Wt=Hn.left-Vt.horizontal;const vt=at+xt.height,It=Wt+xt.width,mt=_c(vk(k)),Fe=mt.innerHeight-O,ct=mt.innerWidth-O;if(O!==null&&at<O){const dt=at-O;at-=dt,Vt.vertical+=dt}else if(O!==null&&vt>Fe){const dt=vt-Fe;at-=dt,Vt.vertical+=dt}if(O!==null&&Wt<O){const dt=Wt-O;Wt-=dt,Vt.horizontal+=dt}else if(It>ct){const dt=It-ct;Wt-=dt,Vt.horizontal+=dt}return{top:`${Math.round(at)}px`,left:`${Math.round(Wt)}px`,transformOrigin:QX(Vt)}},[k,N,Re,fe,O]),[_e,Pe]=q.useState(P),Qe=q.useCallback(()=>{const rt=Ee.current;if(!rt)return;const xt=Ze(rt);xt.top!==null&&(rt.style.top=xt.top),xt.left!==null&&(rt.style.left=xt.left),rt.style.transformOrigin=xt.transformOrigin,Pe(!0)},[Ze]);q.useEffect(()=>(pe&&window.addEventListener("scroll",Qe),()=>window.removeEventListener("scroll",Qe)),[k,pe,Qe]);const Je=(rt,xt)=>{de&&de(rt,xt),Qe()},ve=()=>{Pe(!1)};q.useEffect(()=>{P&&Qe()}),q.useImperativeHandle(v,()=>P?{updatePosition:()=>{Qe()}}:null,[P,Qe]),q.useEffect(()=>{if(!P)return;const rt=rT(()=>{Qe()}),xt=_c(k);return xt.addEventListener("resize",rt),()=>{rt.clear(),xt.removeEventListener("resize",rt)}},[k,P,Qe]);let Ye=K;K==="auto"&&!ue.muiSupportAuto&&(Ye=void 0);const He=M||(k?so(vk(k)).body:void 0),Oe=(d=j==null?void 0:j.root)!=null?d:h1e,je=(m=j==null?void 0:j.paper)!=null?m:xT,et=Eo({elementType:je,externalSlotProps:xe({},Ge,{style:_e?Ge.style:xe({},Ge.style,{opacity:0})}),additionalProps:{elevation:L,ref:Se},ownerState:ke,className:nn(Be.paper,Ge==null?void 0:Ge.className)}),Ct=Eo({elementType:Oe,externalSlotProps:(ie==null?void 0:ie.root)||{},externalForwardedProps:be,additionalProps:{ref:o,slotProps:{backdrop:{invisible:!0}},container:He,open:P},ownerState:ke,className:nn(Be.root,D)}),{slotProps:ft}=Ct,wt=Jt(Ct,d1e);return A.jsx(Oe,xe({},wt,!Al(Oe)&&{slotProps:ft,disableScrollLock:pe},{children:A.jsx(ue,xe({appear:!0,in:P,onEntering:Je,onExited:ve,timeout:Ye},Ce,{children:A.jsx(je,xe({},et,{children:G}))}))}))});function C1e(t){return Ci("MuiMenu",t)}pi("MuiMenu",["root","paper","list"]);const p1e=["onEntering"],I1e=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],f1e={vertical:"top",horizontal:"right"},b1e={vertical:"top",horizontal:"left"},A1e=t=>{const{classes:n}=t;return Bi({root:["root"],paper:["paper"],list:["list"]},C1e,n)},y1e=Lt(m1e,{shouldForwardProp:t=>Ps(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,n)=>n.root})({}),k1e=Lt(xT,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,n)=>n.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),v1e=Lt(a1e,{name:"MuiMenu",slot:"List",overridesResolver:(t,n)=>n.list})({outline:0}),w1e=q.forwardRef(function(n,o){var s,d;const m=Ni({props:n,name:"MuiMenu"}),{autoFocus:p=!0,children:v,className:k,disableAutoFocusItem:Z=!1,MenuListProps:_={},onClose:N,open:G,PaperProps:D={},PopoverClasses:M,transitionDuration:L="auto",TransitionProps:{onEntering:O}={},variant:P="selectedMenu",slots:F={},slotProps:j={}}=m,ie=Jt(m.TransitionProps,p1e),ne=Jt(m,I1e),ue=lT(),K=xe({},m,{autoFocus:p,disableAutoFocusItem:Z,MenuListProps:_,onEntering:O,PaperProps:D,transitionDuration:L,TransitionProps:ie,variant:P}),de=A1e(K),pe=p&&!Z&&G,Ce=q.useRef(null),be=(fe,Ze)=>{Ce.current&&Ce.current.adjustStyleForScrollbar(fe,{direction:ue?"rtl":"ltr"}),O&&O(fe,Ze)},Ge=fe=>{fe.key==="Tab"&&(fe.preventDefault(),N&&N(fe,"tabKeyDown"))};let Ee=-1;q.Children.map(v,(fe,Ze)=>{q.isValidElement(fe)&&(fe.props.disabled||(P==="selectedMenu"&&fe.props.selected||Ee===-1)&&(Ee=Ze))});const Se=(s=F.paper)!=null?s:k1e,ke=(d=j.paper)!=null?d:D,Be=Eo({elementType:F.root,externalSlotProps:j.root,ownerState:K,className:[de.root,k]}),Re=Eo({elementType:Se,externalSlotProps:ke,ownerState:K,className:de.paper});return A.jsx(y1e,xe({onClose:N,anchorOrigin:{vertical:"bottom",horizontal:ue?"right":"left"},transformOrigin:ue?f1e:b1e,slots:{paper:Se,root:F.root},slotProps:{root:Be,paper:Re},open:G,ref:o,transitionDuration:L,TransitionProps:xe({onEntering:be},ie),ownerState:K},ne,{classes:M,children:A.jsx(v1e,xe({onKeyDown:Ge,actions:Ce,autoFocus:p&&(Ee===-1||Z),autoFocusItem:pe,variant:P},_,{className:nn(de.list,_.className),children:v}))}))});function x1e(t){return Ci("MuiNativeSelect",t)}const M1=pi("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),S1e=["className","disabled","error","IconComponent","inputRef","variant"],B1e=t=>{const{classes:n,variant:o,disabled:s,multiple:d,open:m,error:p}=t,v={select:["select",o,s&&"disabled",d&&"multiple",p&&"error"],icon:["icon",`icon${bn(o)}`,m&&"iconOpen",s&&"disabled"]};return Bi(v,x1e,n)},ST=({ownerState:t,theme:n})=>xe({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":xe({},n.vars?{backgroundColor:`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:n.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${M1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}),Z1e=Lt("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ps,overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.select,n[o.variant],o.error&&n.error,{[`&.${M1.multiple}`]:n.multiple}]}})(ST),BT=({ownerState:t,theme:n})=>xe({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${M1.disabled}`]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),G1e=Lt("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.icon,o.variant&&n[`icon${bn(o.variant)}`],o.open&&n.iconOpen]}})(BT),R1e=q.forwardRef(function(n,o){const{className:s,disabled:d,error:m,IconComponent:p,inputRef:v,variant:k="standard"}=n,Z=Jt(n,S1e),_=xe({},n,{disabled:d,variant:k,error:m}),N=B1e(_);return A.jsxs(q.Fragment,{children:[A.jsx(Z1e,xe({ownerState:_,className:nn(N.select,s),disabled:d,ref:v||o},Z)),n.multiple?null:A.jsx(G1e,{as:p,ownerState:_,className:N.icon})]})});var qX;const V1e=["children","classes","className","label","notched"],W1e=Lt("fieldset",{shouldForwardProp:Ps})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),_1e=Lt("legend",{shouldForwardProp:Ps})(({ownerState:t,theme:n})=>xe({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&xe({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})})));function N1e(t){const{className:n,label:o,notched:s}=t,d=Jt(t,V1e),m=o!=null&&o!=="",p=xe({},t,{notched:s,withLabel:m});return A.jsx(W1e,xe({"aria-hidden":!0,className:n,ownerState:p},d,{children:A.jsx(_1e,{ownerState:p,children:m?A.jsx("span",{children:o}):qX||(qX=A.jsx("span",{className:"notranslate",children:""}))})}))}const E1e=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],X1e=t=>{const{classes:n}=t,s=Bi({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},$we,n);return xe({},n,s)},Y1e=Lt(zb,{shouldForwardProp:t=>Ps(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Jb})(({theme:t,ownerState:n})=>{const o=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return xe({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Qa.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Qa.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:o}},[`&.${Qa.focused} .${Qa.notchedOutline}`]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},[`&.${Qa.error} .${Qa.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Qa.disabled} .${Qa.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&xe({padding:"16.5px 14px"},n.size==="small"&&{padding:"8.5px 14px"}))}),D1e=Lt(N1e,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,n)=>n.notchedOutline})(({theme:t})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}),H1e=Lt(Kb,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Lb})(({theme:t,ownerState:n})=>xe({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},n.size==="small"&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})),T1=q.forwardRef(function(n,o){var s,d,m,p,v;const k=Ni({props:n,name:"MuiOutlinedInput"}),{components:Z={},fullWidth:_=!1,inputComponent:N="input",label:G,multiline:D=!1,notched:M,slots:L={},type:O="text"}=k,P=Jt(k,E1e),F=X1e(k),j=Tc(),ie=Md({props:k,muiFormControl:j,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),ne=xe({},k,{color:ie.color||"primary",disabled:ie.disabled,error:ie.error,focused:ie.focused,formControl:j,fullWidth:_,hiddenLabel:ie.hiddenLabel,multiline:D,size:ie.size,type:O}),ue=(s=(d=L.root)!=null?d:Z.Root)!=null?s:Y1e,K=(m=(p=L.input)!=null?p:Z.Input)!=null?m:H1e;return A.jsx(D1,xe({slots:{root:ue,input:K},renderSuffix:de=>A.jsx(D1e,{ownerState:ne,className:F.notchedOutline,label:G!=null&&G!==""&&ie.required?v||(v=A.jsxs(q.Fragment,{children:[G,"","*"]})):G,notched:typeof M<"u"?M:!!(de.startAdornment||de.filled||de.focused)}),fullWidth:_,inputComponent:N,multiline:D,ref:o,type:O},P,{classes:xe({},F,{notchedOutline:null})}))});T1.muiName="Input";function F1e(t){return Ci("MuiSelect",t)}const Qu=pi("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var $X;const M1e=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],T1e=Lt("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[{[`&.${Qu.select}`]:n.select},{[`&.${Qu.select}`]:n[o.variant]},{[`&.${Qu.error}`]:n.error},{[`&.${Qu.multiple}`]:n.multiple}]}})(ST,{[`&.${Qu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),J1e=Lt("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.icon,o.variant&&n[`icon${bn(o.variant)}`],o.open&&n.iconOpen]}})(BT),L1e=Lt("input",{shouldForwardProp:t=>Mb(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,n)=>n.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function eY(t,n){return typeof n=="object"&&n!==null?t===n:String(t)===String(n)}function z1e(t){return t==null||typeof t=="string"&&!t.trim()}const K1e=t=>{const{classes:n,variant:o,disabled:s,multiple:d,open:m,error:p}=t,v={select:["select",o,s&&"disabled",d&&"multiple",p&&"error"],icon:["icon",`icon${bn(o)}`,m&&"iconOpen",s&&"disabled"],nativeInput:["nativeInput"]};return Bi(v,F1e,n)},P1e=q.forwardRef(function(n,o){var s;const{"aria-describedby":d,"aria-label":m,autoFocus:p,autoWidth:v,children:k,className:Z,defaultOpen:_,defaultValue:N,disabled:G,displayEmpty:D,error:M=!1,IconComponent:L,inputRef:O,labelId:P,MenuProps:F={},multiple:j,name:ie,onBlur:ne,onChange:ue,onClose:K,onFocus:de,onOpen:pe,open:Ce,readOnly:be,renderValue:Ge,SelectDisplayProps:Ee={},tabIndex:Se,value:ke,variant:Be="standard"}=n,Re=Jt(n,M1e),[fe,Ze]=dw({controlled:ke,default:N,name:"Select"}),[_e,Pe]=dw({controlled:Ce,default:_,name:"Select"}),Qe=q.useRef(null),Je=q.useRef(null),[ve,Ye]=q.useState(null),{current:He}=q.useRef(Ce!=null),[Oe,je]=q.useState(),et=Lo(o,O),Ct=q.useCallback($e=>{Je.current=$e,$e&&Ye($e)},[]),ft=ve==null?void 0:ve.parentNode;q.useImperativeHandle(et,()=>({focus:()=>{Je.current.focus()},node:Qe.current,value:fe}),[fe]),q.useEffect(()=>{_&&_e&&ve&&!He&&(je(v?null:ft.clientWidth),Je.current.focus())},[ve,v]),q.useEffect(()=>{p&&Je.current.focus()},[p]),q.useEffect(()=>{if(!P)return;const $e=so(Je.current).getElementById(P);if($e){const Dt=()=>{getSelection().isCollapsed&&Je.current.focus()};return $e.addEventListener("click",Dt),()=>{$e.removeEventListener("click",Dt)}}},[P]);const wt=($e,Dt)=>{$e?pe&&pe(Dt):K&&K(Dt),He||(je(v?null:ft.clientWidth),Pe($e))},rt=$e=>{$e.button===0&&($e.preventDefault(),Je.current.focus(),wt(!0,$e))},xt=$e=>{wt(!1,$e)},Vt=q.Children.toArray(k),Hn=$e=>{const Dt=Vt.find(Kt=>Kt.props.value===$e.target.value);Dt!==void 0&&(Ze(Dt.props.value),ue&&ue($e,Dt))},at=$e=>Dt=>{let Kt;if(Dt.currentTarget.hasAttribute("tabindex")){if(j){Kt=Array.isArray(fe)?fe.slice():[];const Zt=fe.indexOf($e.props.value);Zt===-1?Kt.push($e.props.value):Kt.splice(Zt,1)}else Kt=$e.props.value;if($e.props.onClick&&$e.props.onClick(Dt),fe!==Kt&&(Ze(Kt),ue)){const Zt=Dt.nativeEvent||Dt,cn=new Zt.constructor(Zt.type,Zt);Object.defineProperty(cn,"target",{writable:!0,value:{value:Kt,name:ie}}),ue(cn,$e)}j||wt(!1,Dt)}},Wt=$e=>{be||[" ","ArrowUp","ArrowDown","Enter"].indexOf($e.key)!==-1&&($e.preventDefault(),wt(!0,$e))},vt=ve!==null&&_e,It=$e=>{!vt&&ne&&(Object.defineProperty($e,"target",{writable:!0,value:{value:fe,name:ie}}),ne($e))};delete Re["aria-invalid"];let mt,Fe;const ct=[];let dt=!1;(af({value:fe})||D)&&(Ge?mt=Ge(fe):dt=!0);const Ft=Vt.map($e=>{if(!q.isValidElement($e))return null;let Dt;if(j){if(!Array.isArray(fe))throw new Error(Wc(2));Dt=fe.some(Kt=>eY(Kt,$e.props.value)),Dt&&dt&&ct.push($e.props.children)}else Dt=eY(fe,$e.props.value),Dt&&dt&&(Fe=$e.props.children);return q.cloneElement($e,{"aria-selected":Dt?"true":"false",onClick:at($e),onKeyUp:Kt=>{Kt.key===" "&&Kt.preventDefault(),$e.props.onKeyUp&&$e.props.onKeyUp(Kt)},role:"option",selected:Dt,value:void 0,"data-value":$e.props.value})});dt&&(j?ct.length===0?mt=null:mt=ct.reduce(($e,Dt,Kt)=>($e.push(Dt),Kt<ct.length-1&&$e.push(", "),$e),[]):mt=Fe);let Mt=Oe;!v&&He&&ve&&(Mt=ft.clientWidth);let hn;typeof Se<"u"?hn=Se:hn=G?null:0;const Ke=Ee.id||(ie?`mui-component-select-${ie}`:void 0),tt=xe({},n,{variant:Be,value:fe,open:vt,error:M}),nt=K1e(tt),St=xe({},F.PaperProps,(s=F.slotProps)==null?void 0:s.paper),Yt=sT();return A.jsxs(q.Fragment,{children:[A.jsx(T1e,xe({ref:Ct,tabIndex:hn,role:"combobox","aria-controls":Yt,"aria-disabled":G?"true":void 0,"aria-expanded":vt?"true":"false","aria-haspopup":"listbox","aria-label":m,"aria-labelledby":[P,Ke].filter(Boolean).join(" ")||void 0,"aria-describedby":d,onKeyDown:Wt,onMouseDown:G||be?null:rt,onBlur:It,onFocus:de},Ee,{ownerState:tt,className:nn(Ee.className,nt.select,Z),id:Ke,children:z1e(mt)?$X||($X=A.jsx("span",{className:"notranslate",children:""})):mt})),A.jsx(L1e,xe({"aria-invalid":M,value:Array.isArray(fe)?fe.join(","):fe,name:ie,ref:Qe,"aria-hidden":!0,onChange:Hn,tabIndex:-1,disabled:G,className:nt.nativeInput,autoFocus:p,ownerState:tt},Re)),A.jsx(J1e,{as:L,className:nt.icon,ownerState:tt}),A.jsx(w1e,xe({id:`menu-${ie||""}`,anchorEl:ft,open:vt,onClose:xt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},F,{MenuListProps:xe({"aria-labelledby":P,role:"listbox","aria-multiselectable":j?"true":void 0,disableListWrap:!0,id:Yt},F.MenuListProps),slotProps:xe({},F.slotProps,{paper:xe({},St,{style:xe({minWidth:Mt},St!=null?St.style:null)})}),children:Ft}))]})}),j1e=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],O1e=["root"],U1e=t=>{const{classes:n}=t;return n},J1={name:"MuiSelect",overridesResolver:(t,n)=>n.root,shouldForwardProp:t=>Ps(t)&&t!=="variant",slot:"Root"},Q1e=Lt(F1,J1)(""),q1e=Lt(T1,J1)(""),$1e=Lt(H1,J1)(""),ZT=q.forwardRef(function(n,o){const s=Ni({name:"MuiSelect",props:n}),{autoWidth:d=!1,children:m,classes:p={},className:v,defaultOpen:k=!1,displayEmpty:Z=!1,IconComponent:_=txe,id:N,input:G,inputProps:D,label:M,labelId:L,MenuProps:O,multiple:P=!1,native:F=!1,onClose:j,onOpen:ie,open:ne,renderValue:ue,SelectDisplayProps:K,variant:de="outlined"}=s,pe=Jt(s,j1e),Ce=F?R1e:P1e,be=Tc(),Ge=Md({props:s,muiFormControl:be,states:["variant","error"]}),Ee=Ge.variant||de,Se=xe({},s,{variant:Ee,classes:p}),ke=U1e(Se),Be=Jt(ke,O1e),Re=G||{standard:A.jsx(Q1e,{ownerState:Se}),outlined:A.jsx(q1e,{label:M,ownerState:Se}),filled:A.jsx($1e,{ownerState:Se})}[Ee],fe=Lo(o,Re.ref);return A.jsx(q.Fragment,{children:q.cloneElement(Re,xe({inputComponent:Ce,inputProps:xe({children:m,error:Ge.error,IconComponent:_,variant:Ee,type:void 0,multiple:P},F?{id:N}:{autoWidth:d,defaultOpen:k,displayEmpty:Z,labelId:L,MenuProps:O,onClose:j,onOpen:ie,open:ne,renderValue:ue,SelectDisplayProps:xe({id:N},K)},D,{classes:D?lr(Be,D.classes):Be},G?G.props.inputProps:{})},(P&&F||Z)&&Ee==="outlined"?{notched:!0}:{},{ref:fe,className:nn(Re.props.className,v,ke.root)},!G&&{variant:Ee},pe))})});ZT.muiName="Select";const eSe=t=>!t||!Al(t);function tSe(t){return Ci("MuiSlider",t)}const Vr=pi("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),nSe=t=>{const{open:n}=t;return{offset:nn(n&&Vr.valueLabelOpen),circle:Vr.valueLabelCircle,label:Vr.valueLabelLabel}};function iSe(t){const{children:n,className:o,value:s}=t,d=nSe(t);return n?q.cloneElement(n,{className:nn(n.props.className)},A.jsxs(q.Fragment,{children:[n.props.children,A.jsx("span",{className:nn(d.offset,o),"aria-hidden":!0,children:A.jsx("span",{className:d.circle,children:A.jsx("span",{className:d.label,children:s})})})]})):null}const oSe=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],rSe=Qve();function tY(t){return t}const sSe=Lt("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.root,n[`color${bn(o.color)}`],o.size!=="medium"&&n[`size${bn(o.size)}`],o.marked&&n.marked,o.orientation==="vertical"&&n.vertical,o.track==="inverted"&&n.trackInverted,o.track===!1&&n.trackFalse]}})(({theme:t})=>{var n;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Vr.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${Vr.dragging}`]:{[`& .${Vr.thumb}, & .${Vr.track}`]:{transition:"none"}},variants:[...Object.keys(((n=t.vars)!=null?n:t).palette).filter(o=>{var s;return((s=t.vars)!=null?s:t).palette[o].main}).map(o=>({props:{color:o},style:{color:(t.vars||t).palette[o].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),aSe=Lt("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,n)=>n.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),lSe=Lt("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,n)=>n.track})(({theme:t})=>{var n;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys(((n=t.vars)!=null?n:t).palette).filter(o=>{var s;return((s=t.vars)!=null?s:t).palette[o].main}).map(o=>({props:{color:o,track:"inverted"},style:xe({},t.vars?{backgroundColor:t.vars.palette.Slider[`${o}Track`],borderColor:t.vars.palette.Slider[`${o}Track`]}:xe({backgroundColor:mw(t.palette[o].main,.62),borderColor:mw(t.palette[o].main,.62)},t.applyStyles("dark",{backgroundColor:hw(t.palette[o].main,.5)}),t.applyStyles("dark",{borderColor:hw(t.palette[o].main,.5)})))}))]}}),cSe=Lt("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,n)=>{const{ownerState:o}=t;return[n.thumb,n[`thumbColor${bn(o.color)}`],o.size!=="medium"&&n[`thumbSize${bn(o.size)}`]]}})(({theme:t})=>{var n;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Vr.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys(((n=t.vars)!=null?n:t).palette).filter(o=>{var s;return((s=t.vars)!=null?s:t).palette[o].main}).map(o=>({props:{color:o},style:{[`&:hover, &.${Vr.focusVisible}`]:xe({},t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[o].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${nf(t.palette[o].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${Vr.active}`]:xe({},t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[o].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${nf(t.palette[o].main,.16)}`})}}))]}}),gSe=Lt(iSe,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,n)=>n.valueLabel})(({theme:t})=>xe({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Vr.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Vr.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})),dSe=Lt("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>Mb(t)&&t!=="markActive",overridesResolver:(t,n)=>{const{markActive:o}=t;return[n.mark,o&&n.markActive]}})(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]})),uSe=Lt("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>Mb(t)&&t!=="markLabelActive",overridesResolver:(t,n)=>n.markLabel})(({theme:t})=>xe({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})),hSe=t=>{const{disabled:n,dragging:o,marked:s,orientation:d,track:m,classes:p,color:v,size:k}=t,Z={root:["root",n&&"disabled",o&&"dragging",s&&"marked",d==="vertical"&&"vertical",m==="inverted"&&"trackInverted",m===!1&&"trackFalse",v&&`color${bn(v)}`,k&&`size${bn(k)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",n&&"disabled",k&&`thumbSize${bn(k)}`,v&&`thumbColor${bn(v)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Bi(Z,tSe,p)},mSe=({children:t})=>t,CSe=q.forwardRef(function(n,o){var s,d,m,p,v,k,Z,_,N,G,D,M,L,O,P,F,j,ie,ne,ue,K,de,pe,Ce;const be=rSe({props:n,name:"MuiSlider"}),Ge=lT(),{"aria-label":Ee,"aria-valuetext":Se,"aria-labelledby":ke,component:Be="span",components:Re={},componentsProps:fe={},color:Ze="primary",classes:_e,className:Pe,disableSwap:Qe=!1,disabled:Je=!1,getAriaLabel:ve,getAriaValueText:Ye,marks:He=!1,max:Oe=100,min:je=0,orientation:et="horizontal",shiftStep:Ct=10,size:ft="medium",step:wt=1,scale:rt=tY,slotProps:xt,slots:Vt,track:Hn="normal",valueLabelDisplay:at="off",valueLabelFormat:Wt=tY}=be,vt=Jt(be,oSe),It=xe({},be,{isRtl:Ge,max:Oe,min:je,classes:_e,disabled:Je,disableSwap:Qe,orientation:et,marks:He,color:Ze,size:ft,step:wt,shiftStep:Ct,scale:rt,track:Hn,valueLabelDisplay:at,valueLabelFormat:Wt}),{axisProps:mt,getRootProps:Fe,getHiddenInputProps:ct,getThumbProps:dt,open:Ft,active:Mt,axis:hn,focusedThumbIndex:Ke,range:tt,dragging:nt,marks:St,values:Yt,trackOffset:$e,trackLeap:Dt,getThumbStyle:Kt}=Fwe(xe({},It,{rootRef:o}));It.marked=St.length>0&&St.some(ti=>ti.label),It.dragging=nt,It.focusedThumbIndex=Ke;const Zt=hSe(It),cn=(s=(d=Vt==null?void 0:Vt.root)!=null?d:Re.Root)!=null?s:sSe,Tr=(m=(p=Vt==null?void 0:Vt.rail)!=null?p:Re.Rail)!=null?m:aSe,$i=(v=(k=Vt==null?void 0:Vt.track)!=null?k:Re.Track)!=null?v:lSe,Cr=(Z=(_=Vt==null?void 0:Vt.thumb)!=null?_:Re.Thumb)!=null?Z:cSe,Os=(N=(G=Vt==null?void 0:Vt.valueLabel)!=null?G:Re.ValueLabel)!=null?N:gSe,Us=(D=(M=Vt==null?void 0:Vt.mark)!=null?M:Re.Mark)!=null?D:dSe,Ya=(L=(O=Vt==null?void 0:Vt.markLabel)!=null?O:Re.MarkLabel)!=null?L:uSe,Wl=(P=(F=Vt==null?void 0:Vt.input)!=null?F:Re.Input)!=null?P:"input",Da=(j=xt==null?void 0:xt.root)!=null?j:fe.root,Kc=(ie=xt==null?void 0:xt.rail)!=null?ie:fe.rail,Ei=(ne=xt==null?void 0:xt.track)!=null?ne:fe.track,_l=(ue=xt==null?void 0:xt.thumb)!=null?ue:fe.thumb,Jr=(K=xt==null?void 0:xt.valueLabel)!=null?K:fe.valueLabel,Ha=(de=xt==null?void 0:xt.mark)!=null?de:fe.mark,Kd=(pe=xt==null?void 0:xt.markLabel)!=null?pe:fe.markLabel,Pd=(Ce=xt==null?void 0:xt.input)!=null?Ce:fe.input,jd=Eo({elementType:cn,getSlotProps:Fe,externalSlotProps:Da,externalForwardedProps:vt,additionalProps:xe({},eSe(cn)&&{as:Be}),ownerState:xe({},It,Da==null?void 0:Da.ownerState),className:[Zt.root,Pe]}),Nl=Eo({elementType:Tr,externalSlotProps:Kc,ownerState:It,className:Zt.rail}),El=Eo({elementType:$i,externalSlotProps:Ei,additionalProps:{style:xe({},mt[hn].offset($e),mt[hn].leap(Dt))},ownerState:xe({},It,Ei==null?void 0:Ei.ownerState),className:Zt.track}),Ji=Eo({elementType:Cr,getSlotProps:dt,externalSlotProps:_l,ownerState:xe({},It,_l==null?void 0:_l.ownerState),className:Zt.thumb}),Lr=Eo({elementType:Os,externalSlotProps:Jr,ownerState:xe({},It,Jr==null?void 0:Jr.ownerState),className:Zt.valueLabel}),Xl=Eo({elementType:Us,externalSlotProps:Ha,ownerState:It,className:Zt.mark}),Yl=Eo({elementType:Ya,externalSlotProps:Kd,ownerState:It,className:Zt.markLabel}),Od=Eo({elementType:Wl,getSlotProps:ct,externalSlotProps:Pd,ownerState:It});return A.jsxs(cn,xe({},jd,{children:[A.jsx(Tr,xe({},Nl)),A.jsx($i,xe({},El)),St.filter(ti=>ti.value>=je&&ti.value<=Oe).map((ti,Fn)=>{const As=sf(ti.value,je,Oe),ys=mt[hn].offset(As);let Ao;return Hn===!1?Ao=Yt.indexOf(ti.value)!==-1:Ao=Hn==="normal"&&(tt?ti.value>=Yt[0]&&ti.value<=Yt[Yt.length-1]:ti.value<=Yt[0])||Hn==="inverted"&&(tt?ti.value<=Yt[0]||ti.value>=Yt[Yt.length-1]:ti.value>=Yt[0]),A.jsxs(q.Fragment,{children:[A.jsx(Us,xe({"data-index":Fn},Xl,!Al(Us)&&{markActive:Ao},{style:xe({},ys,Xl.style),className:nn(Xl.className,Ao&&Zt.markActive)})),ti.label!=null?A.jsx(Ya,xe({"aria-hidden":!0,"data-index":Fn},Yl,!Al(Ya)&&{markLabelActive:Ao},{style:xe({},ys,Yl.style),className:nn(Zt.markLabel,Yl.className,Ao&&Zt.markLabelActive),children:ti.label})):null]},Fn)}),Yt.map((ti,Fn)=>{const As=sf(ti,je,Oe),ys=mt[hn].offset(As),Ao=at==="off"?mSe:Os;return A.jsx(Ao,xe({},!Al(Ao)&&{valueLabelFormat:Wt,valueLabelDisplay:at,value:typeof Wt=="function"?Wt(rt(ti),Fn):Wt,index:Fn,open:Ft===Fn||Mt===Fn||at==="on",disabled:Je},Lr,{children:A.jsx(Cr,xe({"data-index":Fn},Ji,{className:nn(Zt.thumb,Ji.className,Mt===Fn&&Zt.active,Ke===Fn&&Zt.focusVisible),style:xe({},ys,Kt(Fn),Ji.style),children:A.jsx(Wl,xe({"data-index":Fn,"aria-label":ve?ve(Fn):Ee,"aria-valuenow":rt(ti),"aria-labelledby":ke,"aria-valuetext":Ye?Ye(rt(ti),Fn):Se,value:Yt[Fn]},Od))}))}),Fn)})]}))});function pSe(t){return Ci("MuiTextField",t)}pi("MuiTextField",["root"]);const ISe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],fSe={standard:F1,filled:H1,outlined:T1},bSe=t=>{const{classes:n}=t;return Bi({root:["root"]},pSe,n)},ASe=Lt(Sxe,{name:"MuiTextField",slot:"Root",overridesResolver:(t,n)=>n.root})({}),ySe=q.forwardRef(function(n,o){const s=Ni({props:n,name:"MuiTextField"}),{autoComplete:d,autoFocus:m=!1,children:p,className:v,color:k="primary",defaultValue:Z,disabled:_=!1,error:N=!1,FormHelperTextProps:G,fullWidth:D=!1,helperText:M,id:L,InputLabelProps:O,inputProps:P,InputProps:F,inputRef:j,label:ie,maxRows:ne,minRows:ue,multiline:K=!1,name:de,onBlur:pe,onChange:Ce,onFocus:be,placeholder:Ge,required:Ee=!1,rows:Se,select:ke=!1,SelectProps:Be,type:Re,value:fe,variant:Ze="outlined"}=s,_e=Jt(s,ISe),Pe=xe({},s,{autoFocus:m,color:k,disabled:_,error:N,fullWidth:D,multiline:K,required:Ee,select:ke,variant:Ze}),Qe=bSe(Pe),Je={};Ze==="outlined"&&(O&&typeof O.shrink<"u"&&(Je.notched=O.shrink),Je.label=ie),ke&&((!Be||!Be.native)&&(Je.id=void 0),Je["aria-describedby"]=void 0);const ve=sT(L),Ye=M&&ve?`${ve}-helper-text`:void 0,He=ie&&ve?`${ve}-label`:void 0,Oe=fSe[Ze],je=A.jsx(Oe,xe({"aria-describedby":Ye,autoComplete:d,autoFocus:m,defaultValue:Z,fullWidth:D,multiline:K,name:de,rows:Se,maxRows:ne,minRows:ue,type:Re,value:fe,id:ve,inputRef:j,onBlur:pe,onChange:Ce,onFocus:be,placeholder:Ge,inputProps:P},Je,F));return A.jsxs(ASe,xe({className:nn(Qe.root,v),disabled:_,error:N,fullWidth:D,ref:o,required:Ee,color:k,variant:Ze,ownerState:Pe},_e,{children:[ie!=null&&ie!==""&&A.jsx($xe,xe({htmlFor:ve,id:He},O,{children:ie})),ke?A.jsx(ZT,xe({"aria-describedby":Ye,id:ve,labelId:He,value:fe,input:je},Be,{children:p})):je,M&&A.jsx(Vxe,xe({id:Ye},G,{children:M}))]}))}),nY=yke(ySe)({width:"130px","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#d1d5db"},"&:hover fieldset":{borderColor:"#d1d5db"},"&.Mui-focused fieldset":{borderColor:"#9ca3af"}},"& .MuiInputBase-input":{paddingRight:"10px",fontSize:"14px","&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0},"&[type=number]":{"-moz-appearance":"textfield"}},"& .MuiInputLabel-root":{color:"#9ca3af"},"& .MuiInputLabel-root.Mui-focused":{color:"#9ca3af"}}),kSe=t=>{const[n,o]=q.useState([0,5e5]),[s,d]=q.useState(""),[m,p]=q.useState(""),[v,k]=q.useState(!1),[Z,_]=q.useState(!1),[N,G]=q.useState(!1),[D,M]=q.useState(!1),L=ie=>ie.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),O=(ie,ne)=>{o(ne),d(ne[0]),p(ne[1])},P=ie=>{const ne=ie.target.value===""?"":Math.min(Number(ie.target.value.replace(/\./g,"")),5e5);d(ne),o([ne,n[1]])},F=ie=>{const ne=ie.target.value===""?"":Math.min(Number(ie.target.value.replace(/\./g,"")),5e5);p(ne),o([n[0],ne])},j=[{value:0,label:"0"},{value:5e5,label:"500.000"}];return q.useEffect(()=>{t.priceRange(s,m)},[s,m]),A.jsxs(Ou,{sx:{width:300,padding:2},children:[A.jsx(CSe,{value:n,onChange:O,valueLabelDisplay:"auto",max:5e5,step:2e4,marks:j,valueLabelFormat:ie=>ie===0?"0":ie===5e5?"5 trm":ie,sx:{color:"#2B5A50"}}),A.jsxs(Ou,{sx:{display:"flex",justifyContent:"space-between",marginLeft:"-15px"},children:[A.jsx(Ou,{sx:{marginInline:"10px"},children:A.jsx(nY,{label:A.jsx(Xg,{variant:"body1",style:{fontSize:"13px"},children:"MIN"}),type:"text",value:s?L(s):"",onChange:P,onFocus:()=>{k(!0),G(!0)},onBlur:()=>{k(!1),s===""&&G(!1)},InputProps:{inputProps:{min:0,max:5e5},endAdornment:v&&N&&A.jsx(PX,{position:"end",children:A.jsx(Xg,{sx:{fontSize:"10px"},children:"VND"})})}})}),A.jsx(Ou,{sx:{marginInline:"5px",width:"10px",height:"20%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",lineHeight:"20%",margin:"auto"},children:A.jsx(Xg,{variant:"body1",children:"-"})}),A.jsx(Ou,{sx:{marginInline:"10px"},children:A.jsx(nY,{label:A.jsx(Xg,{variant:"body1",style:{fontSize:"13px"},children:"MAX"}),type:"text",value:m?L(m):"",onChange:F,onFocus:()=>{_(!0),M(!0)},onBlur:()=>{_(!1),m===""&&M(!1)},InputProps:{inputProps:{min:0,max:5e5},endAdornment:Z&&D&&A.jsx(PX,{position:"end",children:A.jsx(Xg,{sx:{fontSize:"10px"},children:"VND"})})}})})]})]})},vSe=({handleRatingChange:t,handlePriceChange:n})=>{const{t:o}=on();return A.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border py-5 px-7 flex flex-col justify-between gap-10",children:[A.jsxs("div",{children:[A.jsx("div",{className:"font-bold text-2xl uppercase",children:o("rating")}),A.jsx(Rl,{ratingWrapper:"flex gap-1 p-5",value:0,editable:!0,onChange:t})]}),A.jsxs("div",{children:[A.jsx("div",{className:"font-bold text-2xl uppercase",children:o("priceRange")}),A.jsx(kSe,{priceRange:n})]})]})},wSe=({centre:t})=>{const{t:n}=on(),o=Va();return A.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border py-5 px-7 flex gap-7",children:[A.jsx("img",{src:t.coreImg,alt:t.name,className:"w-2/5 h-56 object-cover object-center rounded-lg"}),A.jsxs("div",{className:"flex flex-col gap-3 flex-1 justify-between",children:[A.jsx("div",{className:"font-semibold text-xl",children:t.name}),A.jsx(Rl,{ratingWrapper:"flex gap-1",value:t.currentRate,editable:!1}),A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[n("address"),": "]}),t.address,", ",n(t.district)]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[n("openTime"),": "]}),De(t.openTime,"HH:mm:ss").format("HH:mm")," - ",De(t.closeTime,"HH:mm:ss").format("HH:mm")]}),A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[n("numberOfCourts"),": "]}),t.numberOfCourts]})]}),A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[n("price"),": "]}),A.jsxs("span",{className:"font-semibold text-rose-600",children:[t==null?void 0:t.pricePerHour.toLocaleString("de-DE")," VND/h"]})]}),A.jsx("div",{className:"text-sm flex justify-center gap-20",children:A.jsx(tn,{label:n("viewDetail"),fullWidth:!0,size:"mini",className:"border border-gray-800 font-semibold hover:text-white hover:bg-gray-800",onClick:()=>o(`/centreBooking/${t.id}`)})})]})]})},xSe=({centres:t})=>A.jsx("div",{className:"flex-1 flex flex-col gap-7",children:t.map(n=>A.jsx(wSe,{centre:n},n.id))}),Ea=({totalItems:t,itemsPerPage:n,currentPage:o,onPageChange:s})=>{const d=Math.ceil(t/n),m=()=>{const v=[];for(let k=1;k<=d;k++)v.push(k);return v.map(k=>A.jsx(tn,{label:k.toString(),size:"mini",className:k===o?"text-sm w-7 font-semibold text-white bg-primary-green border border-primary-green":"text-sm w-7 font-semibold text-primary-green border border-primary-green bg-white hover:text-white hover:bg-primary-green",onClick:()=>p(k)},k))},p=v=>{const k=document.getElementById("top");if(k){const N=k.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:N,behavior:"smooth"})}s(v)};return A.jsxs("div",{className:"flex justify-center items-center gap-1.5 font-semibold my-1",children:[A.jsx("a",{className:"flex justify-center w-7 rounded-md hover:bg-slate-300 text-primary-green aria-disabled:opacity-70 aria-disabled:pointer-events-none hover:text-white ease-in-out duration-200 cursor-pointer",onClick:()=>p(1),"aria-disabled":o===1,children:""}),A.jsx("div",{className:"flex gap-1 justify-center items-center",children:m()}),A.jsx("a",{className:"flex justify-center w-7 rounded-md hover:bg-slate-300 text-primary-green aria-disabled:opacity-70 aria-disabled:pointer-events-none hover:text-white ease-in-out duration-200 cursor-pointer",onClick:()=>p(d),"aria-disabled":o===d,children:""})]})},SSe=({selectedDistrict:t})=>{const{t:n}=on(),[o,s]=q.useState(!0),[d,m]=q.useState([]),[p,v]=q.useState([]),[k,Z]=q.useState(),[_,N]=q.useState(),[G,D]=q.useState(0),[M,L]=q.useState(!1),[O,P]=q.useState(1),F=5;q.useEffect(()=>{const pe=new AbortController,{signal:Ce}=pe;return(async()=>{s(!0),await yt.get("/courtstar/centre/getAllCentreActive",{signal:Ce}).then(Ge=>{m(Ge.data.data.reverse()),v(Ge.data.data)}).catch(Ge=>{console.log(Ge.message)}).finally(()=>{s(!1)})})(),()=>{pe.abort()}},[]),q.useEffect(()=>{let pe=d;P(1),t&&typeof t=="string"&&(pe=pe.filter(Ce=>Ce.district.toLowerCase()===t.toLowerCase())),k&&(pe=pe.filter(Ce=>Ce.pricePerHour>=k)),_&&(pe=pe.filter(Ce=>Ce.pricePerHour<=_)),G!==0&&(pe=pe.filter(Ce=>Ce.currentRate>=G)),M&&pe.sort((Ce,be)=>Ce.currentRate-be.currentRate),v(pe)},[t,k,_,G,d,M]);const j=(pe,Ce)=>{N(Ce),Z(pe)},ie=pe=>{G===pe?(D(0),L(!1)):(D(pe),L(!0))},ne=pe=>{P(pe)},ue=O*F,K=ue-F,de=p.slice(K,ue);return A.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:A.jsx("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-100",children:A.jsxs("div",{id:"top",className:"max-w-screen-1440 1440:mx-auto mx-4 py-10 px-12 w-full flex flex-col gap-4 items-center justify-between",children:[A.jsx("div",{className:"font-bold text-3xl uppercase text-center w-full",id:"centre-list",children:n("listOfCentres")}),o?A.jsx("div",{className:"flex items-center justify-center h-[400px]",children:A.jsx(Sn,{color:"#2B5A50"})}):A.jsxs("div",{className:"flex gap-5 w-full",children:[A.jsx("div",{children:A.jsx(vSe,{handleRatingChange:ie,handlePriceChange:j})}),de.length>0?A.jsxs("div",{className:"w-full flex flex-col gap-5",children:[A.jsx(xSe,{centres:de}),p.length>F&&A.jsx(Ea,{totalItems:p.length,itemsPerPage:F,currentPage:O,onPageChange:ne})]}):A.jsxs("div",{className:"flex flex-col items-center justify-center text-3xl text-primary mx-auto",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"250",height:"250",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search-x",children:[A.jsx("path",{d:"m13.5 8.5-5 5"}),A.jsx("path",{d:"m8.5 8.5 5 5"}),A.jsx("circle",{cx:"11",cy:"11",r:"8"}),A.jsx("path",{d:"m21 21-4.3-4.3"})]}),"No centres found."]})]})]})})})},BSe="/assets/banner-DKqGZBLX.png",ZSe=({item:t,isSelected:n,onSelect:o,className:s})=>A.jsx("div",{className:`w-full py-2 px-6 rounded-lg hover:bg-gray-100 transition-all ease-in-out duration-300 cursor-pointer ${s} ${n?"bg-gray-200":""}`,onClick:()=>o(t),role:"option","aria-selected":n,children:t.label}),Wi=q.forwardRef((t,n)=>{const[o,s]=q.useState(!1),[d,m]=q.useState(null),p=q.useRef(null),v=()=>{s(!o)},k=_=>{p.current&&!p.current.contains(_.target)&&s(!1)},Z=_=>{m(_.label),t.onSelect(_),s(!1)};return q.useEffect(()=>{t.placeholder||m(t.items[0].label||null)},[t.items]),q.useEffect(()=>(document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}),[]),q.useEffect(()=>{m(t.initialValue||null)},[t.initialValue]),q.useImperativeHandle(n,()=>({clearFormDropdown:()=>{m(null),t.onSelect(null)}})),A.jsxs("div",{className:`w-full text-gray-800 relative ${t.className}`,ref:p,children:[t.label&&A.jsx("div",{className:"font-semibold mb-2",children:t.label}),A.jsxs("button",{className:`border border-gray-300 focus:outline focus:outline-1 focus:outline-gray-400 py-3 px-6 rounded-lg w-full text-gray-500 flex justify-between items-center ${t.buttonClassName}`,onClick:v,"aria-haspopup":"listbox","aria-expanded":o,children:[A.jsx("div",{className:`text-sm font-normal truncate ${d||t.initialValue?"text-gray-800 font-semibold":"text-gray-400"}`,children:d||t.initialValue||t.placeholder}),A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#6b7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o?"rotate-180 lucide lucide-chevron-down":"lucide lucide-chevron-down",children:A.jsx("path",{d:"m6 9 6 6 6-6"})})]}),o&&A.jsx("div",{className:`absolute ${t.dir==="up"?"-top-[216px]":""} w-full max-h-52 overflow-y-auto flex flex-col border border-gray-200 bg-white z-10 shadow-md rounded-lg mt-0.5 gap-0.5`,role:"listbox",children:t.items.map((_,N)=>A.jsx(ZSe,{item:_,isSelected:d===_.label,onSelect:Z,className:t.itemClassName},N))})]})}),GSe=({onDistrictSelect:t})=>{const{t:n}=on(),o=[{key:"all",label:n("allCenTre")},{key:"thuDucCity",label:n("thuDucCity")},{key:"district1",label:n("district1")},{key:"district3",label:n("district3")},{key:"district4",label:n("district4")},{key:"district5",label:n("district5")},{key:"district6",label:n("district6")},{key:"district7",label:n("district7")},{key:"district8",label:n("district8")},{key:"district10",label:n("district10")},{key:"district11",label:n("district11")},{key:"district12",label:n("district12")},{key:"binhTanDistrict",label:n("binhTanDistrict")},{key:"binhThanhDistrict",label:n("binhThanhDistrict")},{key:"goVapDistrict",label:n("goVapDistrict")},{key:"phuNhuanDistrict",label:n("phuNhuanDistrict")},{key:"tanBinhDistrict",label:n("tanBinhDistrict")},{key:"tanPhuDistrict",label:n("tanPhuDistrict")},{key:"nhaBeProvince",label:n("nhaBeProvince")},{key:"canGioProvince",label:n("canGioProvince")},{key:"cuChiProvince",label:n("cuChiProvince")},{key:"hocMonProvince",label:n("hocMonProvince")},{key:"binhChanhProvince",label:n("binhChanhProvince")}],s=m=>{t(m.key),m.key==="all"&&t("")},d=()=>{const m=document.getElementById("centre-list");if(m){const k=m.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:k,behavior:"smooth"})}};return A.jsx("div",{className:"font-Inter text-base bg-gray-100 overflow-x-hidden",children:A.jsxs("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap 2xl:max-w-screen-1440 2xl:mx-auto max-h-[500px] relative",children:[A.jsx("img",{src:BSe,alt:"Banner",className:"object-center object-cover opacity-50"}),A.jsxs("div",{className:"absolute top-1/4 left-1/2 -translate-x-1/2 z-10 max-w-[450px] w-full flex flex-col gap-3.5 items-center justify-between bg-white rounded-3xl py-5 px-10 shadow-gray-800 shadow-lg",children:[A.jsx("div",{className:"text-4xl font-medium text-gray-800",children:n("findCourtNow")}),A.jsx("div",{className:"text-gray-500 text-sm text-center",children:n("searchForBadmintonCourtsInHoChiMinhCity")}),A.jsx(Wi,{placeholder:n("selectTheDistrict"),items:o,onSelect:s}),A.jsx(tn,{label:n("find"),fullWidth:!0,fullRounded:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",onClick:d})]})]})})},RSe=()=>{const[t,n]=q.useState(""),o=s=>{n(s)};return console.log(t),A.jsxs("div",{children:[A.jsx(GSe,{onDistrictSelect:o}),A.jsx(SSe,{selectedDistrict:t})]})},VSe=({onChange:t})=>{const{t:n}=on(),[o,s]=q.useState(!1),[d,m]=q.useState(!1),[p,v]=q.useState(1);q.useEffect(()=>{m(!!o)},[o]);const k=()=>{t(p,!o),s(!o)},Z=_=>{isNaN(_.target.value)||_.target.value>10||_.target.value<0||v(_.target.value)};return A.jsxs("div",{className:"switch-button relative",children:[A.jsx("input",{type:"checkbox",checked:o,onChange:k,id:"switch",name:"switch-checkbox",value:"switch-button"}),A.jsxs("label",{htmlFor:"switch",className:"container",children:[A.jsxs("div",{className:"relative",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-calendar-days",children:[A.jsx("path",{d:"M8 2v4"}),A.jsx("path",{d:"M16 2v4"}),A.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}),A.jsx("path",{d:"M3 10h18"}),A.jsx("path",{d:"M8 14h.01"}),A.jsx("path",{d:"M12 14h.01"}),A.jsx("path",{d:"M16 14h.01"}),A.jsx("path",{d:"M8 18h.01"}),A.jsx("path",{d:"M12 18h.01"}),A.jsx("path",{d:"M16 18h.01"})]}),o&&p&&p!=0&&A.jsx("div",{className:"absolute -bottom-1 right-0 bg-red-600 text-white text-[9px] rounded-full h-3 w-3 flex justify-center items-center",children:p})]}),A.jsxs("div",{className:"action",children:[A.jsx("span",{className:"option-1",children:n("weeklyBooking")}),A.jsx("span",{className:"option-2",children:n("weeklyBooking")})]})]}),d&&A.jsx("div",{className:"absolute mt-1.5 bg-white shadow-lg border rounded-md w-full p-4",children:A.jsxs("div",{className:"max-w-xs mx-auto",children:[A.jsxs("div",{className:"relative flex items-center justify-center mb-4 font-semibold",children:[n("frequency")," (1 - 10):"]}),A.jsxs("div",{className:"relative flex items-center justify-center mb-4",children:[A.jsx(tn,{icon:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-minus",children:A.jsx("path",{d:"M5 12h14"})}),fullRounded:!0,onClick:()=>v(p-1),disabled:p===1,className:"hover:bg-primary-green bg-white border-primary-green text-primary-green border-2 hover:text-white p-px disabled:opacity-70"}),A.jsx("input",{type:"text",id:"counter-input",className:"flex-shrink-0 border-0 bg-transparent text-base focus:outline-none focus:ring-0 max-w-[2.5rem] text-center !block font-semibold",placeholder:"",value:p,onChange:Z,required:!0}),A.jsx(tn,{icon:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-plus",children:[A.jsx("path",{d:"M5 12h14"}),A.jsx("path",{d:"M12 5v14"})]}),fullRounded:!0,onClick:()=>v(p+1),disabled:p===10,className:"hover:bg-primary-green bg-white border-primary-green text-primary-green border-2 hover:text-white p-px disabled:opacity-70"})]}),A.jsxs("div",{className:"relative flex items-center justify-between gap-2",children:[A.jsx(tn,{label:n("apply"),fullWidth:!0,className:"bg-primary-green hover:bg-teal-900 text-white p-1 text-sm",onClick:()=>{m(!1),p==0&&(s(!1),v(1)),t(p,o)}}),A.jsx(tn,{label:n("cancel"),fullWidth:!0,className:"border-red-600 border text-red-600 hover:bg-red-600 hover:text-white p-1 text-sm",onClick:()=>{k(),v(1)}})]})]})})]})},WSe=({yearItems:t,handleSelectYear:n,weekItems:o,currentWeekIndex:s,handleSelectWeek:d,courtItems:m,handleSelectCourt:p,goPrevious:v,goNext:k,typeOfCalendar:Z,formCalendar:_,handleButton:N,handleReset:G,handleWeeklyBooking:D})=>{const{t:M}=on();return A.jsxs("div",{className:"header flex justify-between items-center py-2",children:[A.jsxs("div",{className:"flex gap-4",children:[A.jsx("div",{className:"w-28",children:A.jsx(Wi,{items:t,initialValue:t[0].label,onSelect:n})}),A.jsx("div",{className:"w-52",children:A.jsx(Wi,{items:o,initialValue:o[s].label,onSelect:d})}),A.jsx("div",{className:"w-32",children:A.jsx(Wi,{items:m,onSelect:p,initialValue:m[0].label})}),A.jsxs("div",{className:"flex text-gray-500",children:[A.jsx("button",{className:"p-1 hover:text-gray-800 transition-all duration-200 ease-in-out disabled:text-gray-300",onClick:v,disabled:s===0,children:A.jsxs("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-arrow-left-circle",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),A.jsx("path",{fillRule:"evenodd",d:"M8.354 11.354a.5.5 0 0 0 0-.708L5.707 8l2.647-2.646a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708 0z"}),A.jsx("path",{fillRule:"evenodd",d:"M11.5 8a.5.5 0 0 0-.5-.5H6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 .5-.5z"})]})}),A.jsx("button",{className:"p-1 hover:text-gray-800 transition-all duration-200 ease-in-out disabled:text-gray-300",onClick:k,disabled:s===o.length-1,children:A.jsxs("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-arrow-right-circle",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),A.jsx("path",{fillRule:"evenodd",d:"M7.646 11.354a.5.5 0 0 1 0-.708L10.293 8 7.646 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0z"}),A.jsx("path",{fillRule:"evenodd",d:"M4.5 8a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z"})]})})]})]}),Z==="booking"?A.jsx("div",{children:A.jsx(VSe,{onChange:D})}):"",A.jsxs("div",{className:"flex gap-5",children:[A.jsx(tn,{label:M("reset"),fullWidth:!0,className:"hover:bg-red-600 hover:text-white text-red-600 border-red-600 border font-semibold min-w-24 py-2.5",onClick:()=>G()}),A.jsx(tn,{label:Z==="booking"?M("booking"):"Disable",fullWidth:!0,className:"bg-primary-green hover:bg-teal-900 text-white min-w-24 py-2.5",onClick:()=>N(_),disabled:!(_!=null&&_.length)})]})]})},_Se=({centre:t,selectedWeek:n,isDisable:o,handleClick:s,formCalendar:d,loading:m})=>{const{t:p}=on();return m?A.jsx("div",{className:"h-[200px] flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})}):A.jsxs("table",{className:"w-full border-t",children:[A.jsxs("thead",{children:[A.jsxs("tr",{children:[A.jsx("th",{className:"relative pt-2 border-x xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:A.jsx("div",{className:"absolute left-1/2 -translate-x-1/2",children:"Slot"})}),A.jsxs("th",{className:"border-x pt-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:[A.jsx("span",{className:"xl:block lg:block md:block sm:block hidden",children:p("Sunday")}),A.jsx("span",{className:"xl:hidden lg:hidden md:hidden sm:hidden block",children:"Sun"})]}),A.jsxs("th",{className:"border-x pt-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:[A.jsx("span",{className:"xl:block lg:block md:block sm:block hidden",children:p("Monday")}),A.jsx("span",{className:"xl:hidden lg:hidden md:hidden sm:hidden block",children:"Mon"})]}),A.jsxs("th",{className:"border-x pt-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:[A.jsx("span",{className:"xl:block lg:block md:block sm:block hidden",children:p("Tuesday")}),A.jsx("span",{className:"xl:hidden lg:hidden md:hidden sm:hidden block",children:"Tue"})]}),A.jsxs("th",{className:"border-x pt-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:[A.jsx("span",{className:"xl:block lg:block md:block sm:block hidden",children:p("Wednesday")}),A.jsx("span",{className:"xl:hidden lg:hidden md:hidden sm:hidden block",children:"Wed"})]}),A.jsxs("th",{className:"border-x pt-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:[A.jsx("span",{className:"xl:block lg:block md:block sm:block hidden",children:p("Thursday")}),A.jsx("span",{className:"xl:hidden lg:hidden md:hidden sm:hidden block",children:"Thu"})]}),A.jsxs("th",{className:"border-x pt-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:[A.jsx("span",{className:"xl:block lg:block md:block sm:block hidden",children:p("Friday")}),A.jsx("span",{className:"xl:hidden lg:hidden md:hidden sm:hidden block",children:"Fri"})]}),A.jsxs("th",{className:"border-x pt-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:[A.jsx("span",{className:"xl:block lg:block md:block sm:block hidden",children:p("Saturday")}),A.jsx("span",{className:"xl:hidden lg:hidden md:hidden sm:hidden block",children:"Sat"})]})]}),A.jsxs("tr",{className:"text-center",children:[A.jsx("th",{className:"border-x pb-2 border-b xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 overflow-auto"}),n.map((v,k)=>A.jsx("th",{className:"border-x pb-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 overflow-auto",children:A.jsx("div",{className:"flex flex-col justify-center items-center xl:w-32 lg:w-30 md:w-30 sm:w-full w-10 mx-auto overflow-hidden",children:A.jsx("div",{className:"top h-5 w-full",children:A.jsx("span",{className:"text-gray-500",children:De(v,"MM/DD").format("DD")})})})},k))]})]}),A.jsx("tbody",{children:t.slots.map((v,k)=>A.jsxs("tr",{className:"text-center",children:[A.jsxs("td",{className:"border-x border-b p-1 h-10 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 overflow-auto text-gray-500",children:[v.slotNo,A.jsx("br",{}),A.jsx("span",{className:"text-xs",children:`${De(v.startTime,"HH:mm:ss").format("H:mm")}
                - ${De(v.endTime,"HH:mm:ss").format("H:mm")}`})]}),n.map((Z,_)=>A.jsx("td",{onClick:()=>!o(Z,v)&&s(v,Z),className:o(Z,v)?"border p-1 xl:w-40 lg:w-30 md:w-30 sm:w-20 w-10 overflow-auto bg-gray-300":`${d.some(N=>N.slotId===v.id&&N.date===De(Z,"MM/DD").format("YYYY-MM-DD"))?"bg-[#CDFAE7]":""} border p-1 xl:w-40 lg:w-30 md:w-30 sm:w-20 w-10 overflow-auto transition cursor-pointer duration-300 ease hover:bg-[#CDFAE7]`},_))]},k))})]})},GT=t=>{const{t:n}=on(),[o,s]=q.useState(!1),d=t.typeOfCalendar,[m,p]=q.useState(!1),[v,k]=q.useState(0);q.useEffect(()=>{console.log(v)},[v]),q.useEffect(()=>{console.log(m),_([])},[m]);const[Z,_]=q.useState([]),N=new AbortController,{signal:G}=N,[D,M]=q.useState({});q.useEffect(()=>{M(t.centre)},[t.centre]);const L=Je=>Object.keys(Je).length===0,O=(Je,ve)=>Je<De().format("MM/DD")||Je===De().format("MM/DD")&&parseInt(De(ve.startTime,"HH:mm:ss").format("H"))<parseInt(De().format("H"))+1||ne.bookingDetails.some(Ye=>Ye.status&&Ye.slot.id===ve.id&&De(Ye.date,"YYYY-MM-DD").format("MM/DD")===Je),[P,F]=q.useState([]),[j,ie]=q.useState(),[ne,ue]=q.useState({}),K=Je=>{s(!0),_([]),ie(Je),de(Je.key)},de=async Je=>{s(!0),await yt.get(`/courtstar/court/booking-detail/${Je}`,{signal:G}).then(ve=>{ue(ve.data.data)}).catch(ve=>{console.log(ve.message)}).finally(()=>{s(!1)})};q.useEffect(()=>{var Je;if(!L(D)){const ve=(Je=D.courts)==null?void 0:Je.map(Ye=>({key:Ye.id,label:`${n("court")} ${Ye.courtNo}`}));F(ve),ie(ve[0]),de(ve[0].key)}return()=>{N.abort()}},[D]);const pe=[{key:1,label:`${De().year()}`}],Ce=Je=>{console.log(`Selected: ${Je.key} ${Je.label}`)},[be,Ge]=q.useState(0),Se=(()=>{let Je=[],ve=De().startOf("week");for(let Ye=0;Ye<10;Ye++){let He=[],Oe=ve.clone().add(Ye,"weeks").startOf("week");for(let je=0;je<7;je++)He.push(Oe.clone().add(je,"days").format("MM/DD"));Je.push(He)}return Je})(),ke=Se.map((Je,ve)=>({key:ve,label:`${Je[0]} ${n("to")} ${Je[6]}`})),[Be,Re]=q.useState(Se[0]),fe=Je=>{console.log(`Selected: ${Je.key} ${Je.label}`),Re(Se[Je.key]),Ge(Je.key)},Ze=()=>{fe(ke[be+1])},_e=()=>{fe(ke[be-1])},Pe=(Je,ve)=>{const Ye=De(ve,"MM/DD").format("YYYY-MM-DD");_(m?He=>{let Oe=He?[...He]:[];if(Oe.findIndex(et=>et.slotId===Je.id&&et.courtId===j.key&&et.date===Ye)>-1)Oe=Oe.filter(et=>et.slotId!==Je.id||De(et.date).format("dd")!==De(Ye).format("dd"));else for(let et=0;et<v;et++){const Ct=De(Ye).add(et,"weeks").format("YYYY-MM-DD");Oe.push({date:Ct,slotId:Je.id,courtId:j.key})}return Oe.sort((et,Ct)=>De(et.date).diff(De(Ct.date))),Oe}:He=>{let Oe=He?[...He]:[];const je=Oe.findIndex(et=>et.slotId===Je.id&&et.courtId===j.key&&et.date===Ye);return je>-1?Oe.splice(je,1):Oe.push({date:Ye,slotId:Je.id,courtId:j.key}),Oe.sort((et,Ct)=>De(et.date).diff(De(Ct.date))),Oe})};q.useEffect(()=>{console.log(Z)},[Z]);const Qe=async Je=>{if(t.typeOfCalendar==="manage"){s(!0);try{await t.handleButton(Je)}catch{}finally{de(j.key)}}else t.handleButton(Je)};return A.jsx("div",{className:"",children:L(D)||L(ne)?A.jsx("div",{className:"h-[200px] flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})}):A.jsx("div",{className:"container mx-auto",children:A.jsxs("div",{className:"wrapper bg-white rounded w-full ",children:[A.jsx(WSe,{yearItems:pe,weekItems:ke,courtItems:P,currentWeekIndex:be,typeOfCalendar:d,formCalendar:Z,handleButton:Qe,handleReset:()=>_([]),handleWeeklyBooking:(Je,ve)=>{p(ve),k(Je)},handleSelectCourt:K,handleSelectWeek:fe,handleSelectYear:Ce,goPrevious:_e,goNext:Ze}),A.jsx(_Se,{centre:D,selectedWeek:Be,isDisable:O,handleClick:Pe,formCalendar:Z,loading:o})]})})})},NSe=t=>{var G,D;const{t:n}=on(),[o,s]=q.useState(!1);new AbortController;const{state:d}=Na(),{account:m}=d,p=()=>{t.setIsOpen()},[v,k]=q.useState({fullName:"",email:"",phone:"",bookingDetails:[]}),Z=M=>{const{name:L,value:O}=M.target;k(P=>({...P,[L]:O}))};q.useEffect(()=>{m&&k(M=>({...M,fullName:(m.firstName+" "+m.lastName).trim(),email:m.email,phone:m.phone,bookingDetails:[]}))},[m]),q.useEffect(()=>{k(M=>({...M,bookingDetails:t.formCalendar}))},[t.formCalendar]);const _=async()=>{s(!0),await yt.post("/courtstar/booking",v).then(M=>{window.location.href=M.data.data.order_url}).catch(M=>{console.log(M.message)}).finally(()=>{s(!1),p()})};q.useEffect(()=>{console.log(v)},[v]);const N=A.jsxs("div",{className:"font-medium w-[440px] items-center flex flex-col gap-3",children:[A.jsx(_t,{id:"fullName",name:"fullName",label:`${n("fullName")}*`,placeholder:"Enter full name",value:v.fullName||"",onchange:Z,disabled:m==null?void 0:m.firstName}),A.jsx(_t,{id:"phone",name:"phone",label:`${n("phone")}*`,placeholder:"Enter phone number",value:v.phone||"",onchange:Z,disabled:m==null?void 0:m.phone}),A.jsx(_t,{id:"email",name:"email",label:"Email*",placeholder:"Enter your email",value:v.email||"",onchange:Z,disabled:m==null?void 0:m.email}),A.jsxs("div",{className:"py-3 flex justify-center items-center gap-1 font-semibold",children:[n("price"),":",A.jsxs("span",{className:"text-rose-600",children:[" ",(((G=t==null?void 0:t.centre)==null?void 0:G.pricePerHour)*((D=v==null?void 0:v.bookingDetails)==null?void 0:D.length)).toLocaleString("de-DE")," VND/h"]})]}),A.jsx("div",{className:"flex items-center justify-center w-full",children:A.jsx(tn,{label:n("confirm"),fullWidth:!0,fullRounded:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",loading:o,onClick:_})})]});return A.jsx("div",{children:A.jsx(ms,{html:N,isOpen:t.isOpen,setIsOpen:p,centreInfo:!0,title:n("booking")})})},ESe=({id:t,fullName:n,rate:o,content:s,createDate:d})=>A.jsxs("div",{className:"flex flex-col gap-1.5 py-4",children:[A.jsxs("div",{className:"font-semibold flex gap-3 items-center",children:[A.jsx("div",{children:n}),A.jsx("div",{className:"text-xs font-normal text-gray-500",children:De(d).fromNow()})]}),A.jsx("div",{className:"",children:A.jsx(Rl,{ratingWrapper:"flex",star:"w-5",value:o})}),A.jsx("div",{className:"text-sm",children:s})]},t),L1=({listItem:t,itemsPerPage:n})=>{const[o,s]=q.useState(1),[d,m]=q.useState(1),p=k=>{k>=1&&k<=Math.ceil(t.length/n)&&s(k)},v=t.slice((o-1)*n,o*n);return A.jsx("div",{className:"px-9 py-5",children:v.length?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex gap-6 justify-start items-center ml-4",children:[A.jsx("div",{className:"",children:A.jsx(tn,{label:"Newest",size:"small",className:`${d===1?" bg-primary-green text-white ":" text-primary-green "} border border-primary-green hover:bg-primary-green hover:text-white`,onClick:()=>m(1)})}),A.jsx("div",{className:"",children:A.jsx(tn,{label:"Oldest",size:"small",className:`${d===2?" bg-primary-green text-white ":" text-primary-green "}border border-primary-green hover:bg-primary-green  hover:text-white`,onClick:()=>m(2)})}),A.jsx(Rl,{ratingWrapper:"flex",editable:!0,value:0})]}),A.jsx("div",{className:"p-4 divide-y-2",children:v.map(k=>A.jsx(ESe,{id:k.id,fullName:k.fullName,rate:k.rate,createDate:k.createDate,content:k.content},k.id))}),n<=t.length&&A.jsx(Ea,{totalItems:t.length,itemsPerPage:n,currentPage:o,onPageChange:p})]}):A.jsxs("div",{className:"flex flex-col h-80 gap-3 justify-center items-center text-3xl text-primary",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-message-circle-off",children:[A.jsx("path",{d:"M20.5 14.9A9 9 0 0 0 9.1 3.5"}),A.jsx("path",{d:"m2 2 20 20"}),A.jsx("path",{d:"M5.6 5.6C3 8.3 2.2 12.5 4 16l-2 6 6-2c3.4 1.8 7.6 1.1 10.3-1.7"})]}),"There is no feedback yet!"]})})};var RT={},Pb={},z1={},wk={},iY;function XSe(){return iY||(iY=1,function(t){(function(n,o){o(t,q,bb())})(uc,function(n,o,s){Object.defineProperty(n,"__esModule",{value:!0}),n.setHasSupportToCaptureOption=M;var d=p(o),m=p(s);function p(F){return F&&F.__esModule?F:{default:F}}var v=Object.assign||function(F){for(var j=1;j<arguments.length;j++){var ie=arguments[j];for(var ne in ie)Object.prototype.hasOwnProperty.call(ie,ne)&&(F[ne]=ie[ne])}return F};function k(F,j){var ie={};for(var ne in F)j.indexOf(ne)>=0||Object.prototype.hasOwnProperty.call(F,ne)&&(ie[ne]=F[ne]);return ie}function Z(F,j){if(!(F instanceof j))throw new TypeError("Cannot call a class as a function")}var _=function(){function F(j,ie){for(var ne=0;ne<ie.length;ne++){var ue=ie[ne];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(j,ue.key,ue)}}return function(j,ie,ne){return ie&&F(j.prototype,ie),ne&&F(j,ne),j}}();function N(F,j){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j&&(typeof j=="object"||typeof j=="function")?j:F}function G(F,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof j);F.prototype=Object.create(j&&j.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(F,j):F.__proto__=j)}var D=!1;function M(F){D=F}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){M(!0)}}))}catch{}function L(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return D?F:F.capture}function O(F){if("touches"in F){var j=F.touches[0],ie=j.pageX,ne=j.pageY;return{x:ie,y:ne}}var ue=F.screenX,K=F.screenY;return{x:ue,y:K}}var P=function(F){G(j,F);function j(){var ie;Z(this,j);for(var ne=arguments.length,ue=Array(ne),K=0;K<ne;K++)ue[K]=arguments[K];var de=N(this,(ie=j.__proto__||Object.getPrototypeOf(j)).call.apply(ie,[this].concat(ue)));return de._handleSwipeStart=de._handleSwipeStart.bind(de),de._handleSwipeMove=de._handleSwipeMove.bind(de),de._handleSwipeEnd=de._handleSwipeEnd.bind(de),de._onMouseDown=de._onMouseDown.bind(de),de._onMouseMove=de._onMouseMove.bind(de),de._onMouseUp=de._onMouseUp.bind(de),de._setSwiperRef=de._setSwiperRef.bind(de),de}return _(j,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,L({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,L({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(ne){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(ne))}},{key:"_onMouseMove",value:function(ne){this.mouseDown&&this._handleSwipeMove(ne)}},{key:"_onMouseUp",value:function(ne){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(ne)}},{key:"_handleSwipeStart",value:function(ne){var ue=O(ne),K=ue.x,de=ue.y;this.moveStart={x:K,y:de},this.props.onSwipeStart(ne)}},{key:"_handleSwipeMove",value:function(ne){if(this.moveStart){var ue=O(ne),K=ue.x,de=ue.y,pe=K-this.moveStart.x,Ce=de-this.moveStart.y;this.moving=!0;var be=this.props.onSwipeMove({x:pe,y:Ce},ne);be&&ne.cancelable&&ne.preventDefault(),this.movePosition={deltaX:pe,deltaY:Ce}}}},{key:"_handleSwipeEnd",value:function(ne){this.props.onSwipeEnd(ne);var ue=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-ue?this.props.onSwipeLeft(1,ne):this.movePosition.deltaX>ue&&this.props.onSwipeRight(1,ne),this.movePosition.deltaY<-ue?this.props.onSwipeUp(1,ne):this.movePosition.deltaY>ue&&this.props.onSwipeDown(1,ne)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(ne){this.swiper=ne,this.props.innerRef(ne)}},{key:"render",value:function(){var ne=this.props;ne.tagName;var ue=ne.className,K=ne.style,de=ne.children;ne.allowMouseEvents,ne.onSwipeUp,ne.onSwipeDown,ne.onSwipeLeft,ne.onSwipeRight,ne.onSwipeStart,ne.onSwipeMove,ne.onSwipeEnd,ne.innerRef,ne.tolerance;var pe=k(ne,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return d.default.createElement(this.props.tagName,v({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:ue,style:K},pe),de)}}]),j}(o.Component);P.displayName="ReactSwipe",P.propTypes={tagName:m.default.string,className:m.default.string,style:m.default.object,children:m.default.node,allowMouseEvents:m.default.bool,onSwipeUp:m.default.func,onSwipeDown:m.default.func,onSwipeLeft:m.default.func,onSwipeRight:m.default.func,onSwipeStart:m.default.func,onSwipeMove:m.default.func,onSwipeEnd:m.default.func,innerRef:m.default.func,tolerance:m.default.number.isRequired},P.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},n.default=P})}(wk)),wk}(function(t){(function(n,o){o(t,XSe())})(uc,function(n,o){Object.defineProperty(n,"__esModule",{value:!0});var s=d(o);function d(m){return m&&m.__esModule?m:{default:m}}n.default=s.default})})(z1);var Nm={},VT={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var n={}.hasOwnProperty;function o(){for(var m="",p=0;p<arguments.length;p++){var v=arguments[p];v&&(m=d(m,s(v)))}return m}function s(m){if(typeof m=="string"||typeof m=="number")return m;if(typeof m!="object")return"";if(Array.isArray(m))return o.apply(null,m);if(m.toString!==Object.prototype.toString&&!m.toString.toString().includes("[native code]"))return m.toString();var p="";for(var v in m)n.call(m,v)&&m[v]&&(p=d(p,v));return p}function d(m,p){return p?m?m+" "+p:m+p:m}t.exports?(o.default=o,t.exports=o):window.classNames=o})()})(VT);var YSe=VT.exports;Object.defineProperty(Nm,"__esModule",{value:!0});Nm.default=void 0;var qa=DSe(YSe);function DSe(t){return t&&t.__esModule?t:{default:t}}function HSe(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}var FSe={ROOT:function(n){return(0,qa.default)(HSe({"carousel-root":!0},n||"",!!n))},CAROUSEL:function(n){return(0,qa.default)({carousel:!0,"carousel-slider":n})},WRAPPER:function(n,o){return(0,qa.default)({"thumbs-wrapper":!n,"slider-wrapper":n,"axis-horizontal":o==="horizontal","axis-vertical":o!=="horizontal"})},SLIDER:function(n,o){return(0,qa.default)({thumbs:!n,slider:n,animated:!o})},ITEM:function(n,o,s){return(0,qa.default)({thumb:!n,slide:n,selected:o,previous:s})},ARROW_PREV:function(n){return(0,qa.default)({"control-arrow control-prev":!0,"control-disabled":n})},ARROW_NEXT:function(n){return(0,qa.default)({"control-arrow control-next":!0,"control-disabled":n})},DOT:function(n){return(0,qa.default)({dot:!0,selected:n})}};Nm.default=FSe;var Em={},jb={};Object.defineProperty(jb,"__esModule",{value:!0});jb.outerWidth=void 0;var MSe=function(n){var o=n.offsetWidth,s=getComputedStyle(n);return o+=parseInt(s.marginLeft)+parseInt(s.marginRight),o};jb.outerWidth=MSe;var Td={};Object.defineProperty(Td,"__esModule",{value:!0});Td.default=void 0;var TSe=function(n,o,s){var d=n===0?n:n+o,m=s==="horizontal"?[d,0,0]:[0,d,0],p="translate3d",v="("+m.join(",")+")";return p+v};Td.default=TSe;var Xm={};Object.defineProperty(Xm,"__esModule",{value:!0});Xm.default=void 0;var JSe=function(){return window};Xm.default=JSe;Object.defineProperty(Em,"__esModule",{value:!0});Em.default=void 0;var ns=KSe(q),rc=Ob(Nm),LSe=jb,oY=Ob(Td),zSe=Ob(z1),Vp=Ob(Xm);function Ob(t){return t&&t.__esModule?t:{default:t}}function WT(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return WT=function(){return t},t}function KSe(t){if(t&&t.__esModule)return t;if(t===null||Bh(t)!=="object"&&typeof t!="function")return{default:t};var n=WT();if(n&&n.has(t))return n.get(t);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in t)if(Object.prototype.hasOwnProperty.call(t,d)){var m=s?Object.getOwnPropertyDescriptor(t,d):null;m&&(m.get||m.set)?Object.defineProperty(o,d,m):o[d]=t[d]}return o.default=t,n&&n.set(t,o),o}function Bh(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bh=function(o){return typeof o}:Bh=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Bh(t)}function Aw(){return Aw=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},Aw.apply(this,arguments)}function PSe(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function jSe(t,n){for(var o=0;o<n.length;o++){var s=n[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function OSe(t,n,o){return n&&jSe(t.prototype,n),t}function USe(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&yw(t,n)}function yw(t,n){return yw=Object.setPrototypeOf||function(s,d){return s.__proto__=d,s},yw(t,n)}function QSe(t){var n=$Se();return function(){var s=lf(t),d;if(n){var m=lf(this).constructor;d=Reflect.construct(s,arguments,m)}else d=s.apply(this,arguments);return qSe(this,d)}}function qSe(t,n){return n&&(Bh(n)==="object"||typeof n=="function")?n:vo(t)}function vo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $Se(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function lf(t){return lf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},lf(t)}function mo(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}var e2e=function(n){return n.hasOwnProperty("key")},K1=function(t){USe(o,t);var n=QSe(o);function o(s){var d;return PSe(this,o),d=n.call(this,s),mo(vo(d),"itemsWrapperRef",void 0),mo(vo(d),"itemsListRef",void 0),mo(vo(d),"thumbsRef",void 0),mo(vo(d),"setItemsWrapperRef",function(m){d.itemsWrapperRef=m}),mo(vo(d),"setItemsListRef",function(m){d.itemsListRef=m}),mo(vo(d),"setThumbsRef",function(m,p){d.thumbsRef||(d.thumbsRef=[]),d.thumbsRef[p]=m}),mo(vo(d),"updateSizes",function(){if(!(!d.props.children||!d.itemsWrapperRef||!d.thumbsRef)){var m=ns.Children.count(d.props.children),p=d.itemsWrapperRef.clientWidth,v=d.props.thumbWidth?d.props.thumbWidth:(0,LSe.outerWidth)(d.thumbsRef[0]),k=Math.floor(p/v),Z=k<m,_=Z?m-k:0;d.setState(function(N,G){return{itemSize:v,visibleItems:k,firstItem:Z?d.getFirstItem(G.selectedItem):0,lastPosition:_,showArrows:Z}})}}),mo(vo(d),"handleClickItem",function(m,p,v){if(!e2e(v)||v.key==="Enter"){var k=d.props.onSelectItem;typeof k=="function"&&k(m,p)}}),mo(vo(d),"onSwipeStart",function(){d.setState({swiping:!0})}),mo(vo(d),"onSwipeEnd",function(){d.setState({swiping:!1})}),mo(vo(d),"onSwipeMove",function(m){var p=m.x;if(!d.state.itemSize||!d.itemsWrapperRef||!d.state.visibleItems)return!1;var v=0,k=ns.Children.count(d.props.children),Z=-(d.state.firstItem*100)/d.state.visibleItems,_=Math.max(k-d.state.visibleItems,0),N=-_*100/d.state.visibleItems;Z===v&&p>0&&(p=0),Z===N&&p<0&&(p=0);var G=d.itemsWrapperRef.clientWidth,D=Z+100/(G/p);return d.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(M){d.itemsListRef.style[M]=(0,oY.default)(D,"%",d.props.axis)}),!0}),mo(vo(d),"slideRight",function(m){d.moveTo(d.state.firstItem-(typeof m=="number"?m:1))}),mo(vo(d),"slideLeft",function(m){d.moveTo(d.state.firstItem+(typeof m=="number"?m:1))}),mo(vo(d),"moveTo",function(m){m=m<0?0:m,m=m>=d.state.lastPosition?d.state.lastPosition:m,d.setState({firstItem:m})}),d.state={selectedItem:s.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},d}return OSe(o,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(d){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==d.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,Vp.default)().addEventListener("resize",this.updateSizes),(0,Vp.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,Vp.default)().removeEventListener("resize",this.updateSizes),(0,Vp.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(d){var m=d;return d>=this.state.lastPosition&&(m=this.state.lastPosition),d<this.state.firstItem+this.state.visibleItems&&(m=this.state.firstItem),d<this.state.firstItem&&(m=d),m}},{key:"renderItems",value:function(){var d=this;return this.props.children.map(function(m,p){var v=rc.default.ITEM(!1,p===d.state.selectedItem),k={key:p,ref:function(_){return d.setThumbsRef(_,p)},className:v,onClick:d.handleClickItem.bind(d,p,d.props.children[p]),onKeyDown:d.handleClickItem.bind(d,p,d.props.children[p]),"aria-label":"".concat(d.props.labels.item," ").concat(p+1),style:{width:d.props.thumbWidth}};return ns.default.createElement("li",Aw({},k,{role:"button",tabIndex:0}),m)})}},{key:"render",value:function(){var d=this;if(!this.props.children)return null;var m=ns.Children.count(this.props.children)>1,p=this.state.showArrows&&this.state.firstItem>0,v=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,k={},Z=-this.state.firstItem*(this.state.itemSize||0),_=(0,oY.default)(Z,"px",this.props.axis),N=this.props.transitionTime+"ms";return k={WebkitTransform:_,MozTransform:_,MsTransform:_,OTransform:_,transform:_,msTransform:_,WebkitTransitionDuration:N,MozTransitionDuration:N,MsTransitionDuration:N,OTransitionDuration:N,transitionDuration:N,msTransitionDuration:N},ns.default.createElement("div",{className:rc.default.CAROUSEL(!1)},ns.default.createElement("div",{className:rc.default.WRAPPER(!1),ref:this.setItemsWrapperRef},ns.default.createElement("button",{type:"button",className:rc.default.ARROW_PREV(!p),onClick:function(){return d.slideRight()},"aria-label":this.props.labels.leftArrow}),m?ns.default.createElement(zSe.default,{tagName:"ul",className:rc.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:k,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):ns.default.createElement("ul",{className:rc.default.SLIDER(!1,this.state.swiping),ref:function(D){return d.setItemsListRef(D)},style:k},this.renderItems()),ns.default.createElement("button",{type:"button",className:rc.default.ARROW_NEXT(!v),onClick:function(){return d.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),o}(ns.Component);Em.default=K1;mo(K1,"displayName","Thumbs");mo(K1,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var Ub={};Object.defineProperty(Ub,"__esModule",{value:!0});Ub.default=void 0;var t2e=function(){return document};Ub.default=t2e;var tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.setPosition=tr.getPosition=tr.isKeyboardEvent=tr.defaultStatusFormatter=tr.noop=void 0;var n2e=q,i2e=o2e(Td);function o2e(t){return t&&t.__esModule?t:{default:t}}var r2e=function(){};tr.noop=r2e;var s2e=function(n,o){return"".concat(n," of ").concat(o)};tr.defaultStatusFormatter=s2e;var a2e=function(n){return n?n.hasOwnProperty("key"):!1};tr.isKeyboardEvent=a2e;var l2e=function(n,o){if(o.infiniteLoop&&++n,n===0)return 0;var s=n2e.Children.count(o.children);if(o.centerMode&&o.axis==="horizontal"){var d=-n*o.centerSlidePercentage,m=s-1;return n&&(n!==m||o.infiniteLoop)?d+=(100-o.centerSlidePercentage)/2:n===m&&(d+=100-o.centerSlidePercentage),d}return-n*100};tr.getPosition=l2e;var c2e=function(n,o){var s={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(d){s[d]=(0,i2e.default)(n,"%",o)}),s};tr.setPosition=c2e;var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.fadeAnimationHandler=Xs.slideStopSwipingHandler=Xs.slideSwipeAnimationHandler=Xs.slideAnimationHandler=void 0;var _T=q,g2e=d2e(Td),Ys=tr;function d2e(t){return t&&t.__esModule?t:{default:t}}function rY(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(d){return Object.getOwnPropertyDescriptor(t,d).enumerable})),o.push.apply(o,s)}return o}function dc(t){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?rY(Object(o),!0).forEach(function(s){u2e(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):rY(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}function u2e(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}var h2e=function(n,o){var s={},d=o.selectedItem,m=d,p=_T.Children.count(n.children)-1,v=n.infiniteLoop&&(d<0||d>p);if(v)return m<0?n.centerMode&&n.centerSlidePercentage&&n.axis==="horizontal"?s.itemListStyle=(0,Ys.setPosition)(-(p+2)*n.centerSlidePercentage-(100-n.centerSlidePercentage)/2,n.axis):s.itemListStyle=(0,Ys.setPosition)(-(p+2)*100,n.axis):m>p&&(s.itemListStyle=(0,Ys.setPosition)(0,n.axis)),s;var k=(0,Ys.getPosition)(d,n),Z=(0,g2e.default)(k,"%",n.axis),_=n.transitionTime+"ms";return s.itemListStyle={WebkitTransform:Z,msTransform:Z,OTransform:Z,transform:Z},o.swiping||(s.itemListStyle=dc(dc({},s.itemListStyle),{},{WebkitTransitionDuration:_,MozTransitionDuration:_,OTransitionDuration:_,transitionDuration:_,msTransitionDuration:_})),s};Xs.slideAnimationHandler=h2e;var m2e=function(n,o,s,d){var m={},p=o.axis==="horizontal",v=_T.Children.count(o.children),k=0,Z=(0,Ys.getPosition)(s.selectedItem,o),_=o.infiniteLoop?(0,Ys.getPosition)(v-1,o)-100:(0,Ys.getPosition)(v-1,o),N=p?n.x:n.y,G=N;Z===k&&N>0&&(G=0),Z===_&&N<0&&(G=0);var D=Z+100/(s.itemSize/G),M=Math.abs(N)>o.swipeScrollTolerance;return o.infiniteLoop&&M&&(s.selectedItem===0&&D>-100?D-=v*100:s.selectedItem===v-1&&D<-v*100&&(D+=v*100)),(!o.preventMovementUntilSwipeScrollTolerance||M||s.swipeMovementStarted)&&(s.swipeMovementStarted||d({swipeMovementStarted:!0}),m.itemListStyle=(0,Ys.setPosition)(D,o.axis)),M&&!s.cancelClick&&d({cancelClick:!0}),m};Xs.slideSwipeAnimationHandler=m2e;var C2e=function(n,o){var s=(0,Ys.getPosition)(o.selectedItem,n),d=(0,Ys.setPosition)(s,n.axis);return{itemListStyle:d}};Xs.slideStopSwipingHandler=C2e;var p2e=function(n,o){var s=n.transitionTime+"ms",d="ease-in-out",m={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:d,msTransitionTimingFunction:d,MozTransitionTimingFunction:d,WebkitTransitionTimingFunction:d,OTransitionTimingFunction:d};return o.swiping||(m=dc(dc({},m),{},{WebkitTransitionDuration:s,MozTransitionDuration:s,OTransitionDuration:s,transitionDuration:s,msTransitionDuration:s})),{slideStyle:m,selectedStyle:dc(dc({},m),{},{opacity:1,position:"relative"}),prevStyle:dc({},m)}};Xs.fadeAnimationHandler=p2e;Object.defineProperty(Pb,"__esModule",{value:!0});Pb.default=void 0;var Rn=b2e(q),I2e=Ym(z1),ha=Ym(Nm),f2e=Ym(Em),Wp=Ym(Ub),_p=Ym(Xm),lh=tr,cf=Xs;function Ym(t){return t&&t.__esModule?t:{default:t}}function NT(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return NT=function(){return t},t}function b2e(t){if(t&&t.__esModule)return t;if(t===null||Zh(t)!=="object"&&typeof t!="function")return{default:t};var n=NT();if(n&&n.has(t))return n.get(t);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in t)if(Object.prototype.hasOwnProperty.call(t,d)){var m=s?Object.getOwnPropertyDescriptor(t,d):null;m&&(m.get||m.set)?Object.defineProperty(o,d,m):o[d]=t[d]}return o.default=t,n&&n.set(t,o),o}function Zh(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zh=function(o){return typeof o}:Zh=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Zh(t)}function kw(){return kw=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}return t},kw.apply(this,arguments)}function sY(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(d){return Object.getOwnPropertyDescriptor(t,d).enumerable})),o.push.apply(o,s)}return o}function is(t){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?sY(Object(o),!0).forEach(function(s){qt(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):sY(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}function A2e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function y2e(t,n){for(var o=0;o<n.length;o++){var s=n[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function k2e(t,n,o){return n&&y2e(t.prototype,n),t}function v2e(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&vw(t,n)}function vw(t,n){return vw=Object.setPrototypeOf||function(s,d){return s.__proto__=d,s},vw(t,n)}function w2e(t){var n=S2e();return function(){var s=gf(t),d;if(n){var m=gf(this).constructor;d=Reflect.construct(s,arguments,m)}else d=s.apply(this,arguments);return x2e(this,d)}}function x2e(t,n){return n&&(Zh(n)==="object"||typeof n=="function")?n:$t(t)}function $t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S2e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function gf(t){return gf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},gf(t)}function qt(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}var P1=function(t){v2e(o,t);var n=w2e(o);function o(s){var d;A2e(this,o),d=n.call(this,s),qt($t(d),"thumbsRef",void 0),qt($t(d),"carouselWrapperRef",void 0),qt($t(d),"listRef",void 0),qt($t(d),"itemsRef",void 0),qt($t(d),"timer",void 0),qt($t(d),"animationHandler",void 0),qt($t(d),"setThumbsRef",function(p){d.thumbsRef=p}),qt($t(d),"setCarouselWrapperRef",function(p){d.carouselWrapperRef=p}),qt($t(d),"setListRef",function(p){d.listRef=p}),qt($t(d),"setItemsRef",function(p,v){d.itemsRef||(d.itemsRef=[]),d.itemsRef[v]=p}),qt($t(d),"autoPlay",function(){Rn.Children.count(d.props.children)<=1||(d.clearAutoPlay(),d.props.autoPlay&&(d.timer=setTimeout(function(){d.increment()},d.props.interval)))}),qt($t(d),"clearAutoPlay",function(){d.timer&&clearTimeout(d.timer)}),qt($t(d),"resetAutoPlay",function(){d.clearAutoPlay(),d.autoPlay()}),qt($t(d),"stopOnHover",function(){d.setState({isMouseEntered:!0},d.clearAutoPlay)}),qt($t(d),"startOnLeave",function(){d.setState({isMouseEntered:!1},d.autoPlay)}),qt($t(d),"isFocusWithinTheCarousel",function(){return d.carouselWrapperRef?!!((0,Wp.default)().activeElement===d.carouselWrapperRef||d.carouselWrapperRef.contains((0,Wp.default)().activeElement)):!1}),qt($t(d),"navigateWithKeyboard",function(p){if(d.isFocusWithinTheCarousel()){var v=d.props.axis,k=v==="horizontal",Z={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},_=k?Z.ArrowRight:Z.ArrowDown,N=k?Z.ArrowLeft:Z.ArrowUp;_===p.keyCode?d.increment():N===p.keyCode&&d.decrement()}}),qt($t(d),"updateSizes",function(){if(!(!d.state.initialized||!d.itemsRef||d.itemsRef.length===0)){var p=d.props.axis==="horizontal",v=d.itemsRef[0];if(v){var k=p?v.clientWidth:v.clientHeight;d.setState({itemSize:k}),d.thumbsRef&&d.thumbsRef.updateSizes()}}}),qt($t(d),"setMountState",function(){d.setState({hasMount:!0}),d.updateSizes()}),qt($t(d),"handleClickItem",function(p,v){if(Rn.Children.count(d.props.children)!==0){if(d.state.cancelClick){d.setState({cancelClick:!1});return}d.props.onClickItem(p,v),p!==d.state.selectedItem&&d.setState({selectedItem:p})}}),qt($t(d),"handleOnChange",function(p,v){Rn.Children.count(d.props.children)<=1||d.props.onChange(p,v)}),qt($t(d),"handleClickThumb",function(p,v){d.props.onClickThumb(p,v),d.moveTo(p)}),qt($t(d),"onSwipeStart",function(p){d.setState({swiping:!0}),d.props.onSwipeStart(p)}),qt($t(d),"onSwipeEnd",function(p){d.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),d.props.onSwipeEnd(p),d.clearAutoPlay(),d.state.autoPlay&&d.autoPlay()}),qt($t(d),"onSwipeMove",function(p,v){d.props.onSwipeMove(v);var k=d.props.swipeAnimationHandler(p,d.props,d.state,d.setState.bind($t(d)));return d.setState(is({},k)),!!Object.keys(k).length}),qt($t(d),"decrement",function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;d.moveTo(d.state.selectedItem-(typeof p=="number"?p:1))}),qt($t(d),"increment",function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;d.moveTo(d.state.selectedItem+(typeof p=="number"?p:1))}),qt($t(d),"moveTo",function(p){if(typeof p=="number"){var v=Rn.Children.count(d.props.children)-1;p<0&&(p=d.props.infiniteLoop?v:0),p>v&&(p=d.props.infiniteLoop?0:v),d.selectItem({selectedItem:p}),d.state.autoPlay&&d.state.isMouseEntered===!1&&d.resetAutoPlay()}}),qt($t(d),"onClickNext",function(){d.increment(1)}),qt($t(d),"onClickPrev",function(){d.decrement(1)}),qt($t(d),"onSwipeForward",function(){d.increment(1),d.props.emulateTouch&&d.setState({cancelClick:!0})}),qt($t(d),"onSwipeBackwards",function(){d.decrement(1),d.props.emulateTouch&&d.setState({cancelClick:!0})}),qt($t(d),"changeItem",function(p){return function(v){(!(0,lh.isKeyboardEvent)(v)||v.key==="Enter")&&d.moveTo(p)}}),qt($t(d),"selectItem",function(p){d.setState(is({previousItem:d.state.selectedItem},p),function(){d.setState(d.animationHandler(d.props,d.state))}),d.handleOnChange(p.selectedItem,Rn.Children.toArray(d.props.children)[p.selectedItem])}),qt($t(d),"getInitialImage",function(){var p=d.props.selectedItem,v=d.itemsRef&&d.itemsRef[p],k=v&&v.getElementsByTagName("img")||[];return k[0]}),qt($t(d),"getVariableItemHeight",function(p){var v=d.itemsRef&&d.itemsRef[p];if(d.state.hasMount&&v&&v.children.length){var k=v.children[0].getElementsByTagName("img")||[];if(k.length>0){var Z=k[0];if(!Z.complete){var _=function D(){d.forceUpdate(),Z.removeEventListener("load",D)};Z.addEventListener("load",_)}}var N=k[0]||v.children[0],G=N.clientHeight;return G>0?G:null}return null});var m={initialized:!1,previousItem:s.selectedItem,selectedItem:s.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:s.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return d.animationHandler=typeof s.animationHandler=="function"&&s.animationHandler||s.animationHandler==="fade"&&cf.fadeAnimationHandler||cf.slideAnimationHandler,d.state=is(is({},m),d.animationHandler(s,m)),d}return k2e(o,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(d,m){!d.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!d.autoFocus&&this.props.autoFocus&&this.forceFocus(),m.swiping&&!this.state.swiping&&this.setState(is({},this.props.stopSwipingHandler(this.props,this.state))),(d.selectedItem!==this.props.selectedItem||d.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),d.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var d=this;this.bindEvents(),this.state.autoPlay&&Rn.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var m=d.getInitialImage();m&&!m.complete?m.addEventListener("load",d.setMountState):d.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var d=this.carouselWrapperRef;this.props.stopOnHover&&d&&(d.addEventListener("mouseenter",this.stopOnHover),d.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var d=this.carouselWrapperRef;this.props.stopOnHover&&d&&(d.removeEventListener("mouseenter",this.stopOnHover),d.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,_p.default)().addEventListener("resize",this.updateSizes),(0,_p.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,Wp.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,_p.default)().removeEventListener("resize",this.updateSizes),(0,_p.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var d=this.getInitialImage();d&&d.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,Wp.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var d;(d=this.carouselWrapperRef)===null||d===void 0||d.focus()}},{key:"renderItems",value:function(d){var m=this;return this.props.children?Rn.Children.map(this.props.children,function(p,v){var k=v===m.state.selectedItem,Z=v===m.state.previousItem,_=k&&m.state.selectedStyle||Z&&m.state.prevStyle||m.state.slideStyle||{};m.props.centerMode&&m.props.axis==="horizontal"&&(_=is(is({},_),{},{minWidth:m.props.centerSlidePercentage+"%"})),m.state.swiping&&m.state.swipeMovementStarted&&(_=is(is({},_),{},{pointerEvents:"none"}));var N={ref:function(D){return m.setItemsRef(D,v)},key:"itemKey"+v+(d?"clone":""),className:ha.default.ITEM(!0,v===m.state.selectedItem,v===m.state.previousItem),onClick:m.handleClickItem.bind(m,v,p),style:_};return Rn.default.createElement("li",N,m.props.renderItem(p,{isSelected:v===m.state.selectedItem,isPrevious:v===m.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var d=this,m=this.props,p=m.showIndicators,v=m.labels,k=m.renderIndicator,Z=m.children;return p?Rn.default.createElement("ul",{className:"control-dots"},Rn.Children.map(Z,function(_,N){return k&&k(d.changeItem(N),N===d.state.selectedItem,N,v.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?Rn.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,Rn.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||Rn.Children.count(this.props.children)===0?null:Rn.default.createElement(f2e.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var d=this;if(!this.props.children||Rn.Children.count(this.props.children)===0)return null;var m=this.props.swipeable&&Rn.Children.count(this.props.children)>1,p=this.props.axis==="horizontal",v=this.props.showArrows&&Rn.Children.count(this.props.children)>1,k=v&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,Z=v&&(this.state.selectedItem<Rn.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,_=this.renderItems(!0),N=_.shift(),G=_.pop(),D={className:ha.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},M={};if(p){if(D.onSwipeLeft=this.onSwipeForward,D.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var L=this.getVariableItemHeight(this.state.selectedItem);M.height=L||"auto"}}else D.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,D.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,D.style=is(is({},D.style),{},{height:this.state.itemSize}),M.height=this.state.itemSize;return Rn.default.createElement("div",{"aria-label":this.props.ariaLabel,className:ha.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},Rn.default.createElement("div",{className:ha.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,k,this.props.labels.leftArrow),Rn.default.createElement("div",{className:ha.default.WRAPPER(!0,this.props.axis),style:M},m?Rn.default.createElement(I2e.default,kw({tagName:"ul",innerRef:this.setListRef},D,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&G,this.renderItems(),this.props.infiniteLoop&&N):Rn.default.createElement("ul",{className:ha.default.SLIDER(!0,this.state.swiping),ref:function(P){return d.setListRef(P)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&G,this.renderItems(),this.props.infiniteLoop&&N)),this.props.renderArrowNext(this.onClickNext,Z,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),o}(Rn.default.Component);Pb.default=P1;qt(P1,"displayName","Carousel");qt(P1,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:lh.noop,onClickThumb:lh.noop,onChange:lh.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(n,o,s){return Rn.default.createElement("button",{type:"button","aria-label":s,className:ha.default.ARROW_PREV(!o),onClick:n})},renderArrowNext:function(n,o,s){return Rn.default.createElement("button",{type:"button","aria-label":s,className:ha.default.ARROW_NEXT(!o),onClick:n})},renderIndicator:function(n,o,s,d){return Rn.default.createElement("li",{className:ha.default.DOT(o),onClick:n,onKeyDown:n,value:s,key:s,role:"button",tabIndex:0,"aria-label":"".concat(d," ").concat(s+1)})},renderItem:function(n){return n},renderThumbs:function(n){var o=Rn.Children.map(n,function(s){var d=s;if(s.type!=="img"&&(d=Rn.Children.toArray(s.props.children).find(function(m){return m.type==="img"})),!!d)return d});return o.filter(function(s){return s}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):o},statusFormatter:lh.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:cf.slideSwipeAnimationHandler,stopSwipingHandler:cf.slideStopSwipingHandler});var B2e={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return o.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return s.default}});var n=d(Pb),o=B2e,s=d(Em);function d(m){return m&&m.__esModule?m:{default:m}}})(RT);const Qb=({images:t})=>A.jsx("div",{className:"carousel-container",children:(t==null?void 0:t.length)>0?A.jsx(RT.Carousel,{autoPlay:!0,interval:3e3,infiniteLoop:!0,showStatus:!1,thumbWidth:100,transitionTime:1e3,children:t.map(n=>A.jsx("div",{className:"w-[750px] h-[400px]",children:A.jsx("img",{src:n.url,alt:`Image ${n.imageNo}`,className:"object-cover object-center w-full h-full rounded-lg"})},n.id))}):A.jsx("div",{className:"h-[400px] flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})})}),Z2e=()=>{var j;const{t}=on(),{id:n}=Nf(),o=new AbortController,{signal:s}=o,[d,m]=q.useState(!0),[p,v]=q.useState({}),[k,Z]=q.useState({}),[_,N]=q.useState([]),G=q.useCallback(async()=>{await yt.get(`/courtstar/centre/getCentre/${n}`,{signal:s}).then(ie=>{v(ie.data.data),yt.get(`/courtstar/feedback/${n}`).then(ne=>{N(ne.data.data),console.log(ne.data.data)}).catch(ne=>{console.log(ne.message)}).finally(()=>{m(!1)})}).catch(ie=>{console.log(ie.message)}).finally(()=>{m(!1)})},[n]);q.useEffect(()=>(G(),()=>{o.abort()}),[G]);const[D,M]=q.useState(!1),L=()=>{M(!0)},O=()=>{M(!1)},P=ie=>{L(),Z(ie)},F=()=>{const ie=document.getElementById("book");if(ie){const K=ie.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:K,behavior:"smooth"})}};return A.jsxs("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:[d?A.jsx("div",{className:"w-full h-[500px] flex justify-center items-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})}):A.jsx("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-100",children:A.jsxs("div",{className:"max-w-screen-1440 1440:mx-auto mx-4 py-8 px-12 w-full flex flex-col gap-3",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{className:"",children:[A.jsx("div",{className:"text-3xl font-semibold",children:p.name}),A.jsx(A.Fragment,{children:p.currentRate>0?A.jsxs("div",{className:"flex gap-2 my-3",children:[A.jsx(Rl,{ratingWrapper:"flex gap-1",value:p.currentRate,editable:!1}),A.jsxs("div",{className:"text-base",children:["(",_.length+" ",_.length==1?t("feedback"):t("feedbacks"),")"]})]}):""})]}),A.jsx(tn,{label:t("bookNow"),size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",icon:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-calendar-plus",children:[A.jsx("path",{d:"M8 2v4"}),A.jsx("path",{d:"M16 2v4"}),A.jsx("path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8"}),A.jsx("path",{d:"M3 10h18"}),A.jsx("path",{d:"M16 19h6"}),A.jsx("path",{d:"M19 16v6"})]}),onClick:F})]}),A.jsxs("div",{className:"w-full flex items-start gap-8",children:[p.images&&A.jsx(Qb,{images:p.images}),A.jsx("div",{className:"flex-1 h-full flex flex-col justify-start gap-6",children:A.jsxs("div",{className:"rounded-lg shadow-gray-400 shadow-md",children:[A.jsx("div",{className:"text-white rounded-t-lg bg-primary-green flex items-center justify-center gap-1.5 py-2",children:A.jsx("div",{className:"text-3xl font-medium",children:t("address")})}),A.jsxs("div",{className:"bg-white rounded-b-lg p-5",children:[A.jsxs("div",{className:"font-medium mb-5",children:[p.address,", ",t(p.district)]}),A.jsx("iframe",{src:`https://maps.google.com/maps?q=${p.name}&t=&z=15&ie=UTF8&iwloc=&output=embed`,width:"100%",height:265,style:{border:0,borderRadius:10},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})]})]})})]}),A.jsxs("div",{className:"rounded-lg shadow-gray-400 shadow-md",children:[A.jsx("div",{className:"text-white rounded-t-lg bg-primary-green flex items-center justify-center gap-1.5 py-2",children:A.jsx("span",{className:"text-3xl font-medium",children:t("information")})}),A.jsxs("div",{className:"bg-white p-5 flex rounded-b-lg",children:[A.jsxs("div",{className:"flex flex-col gap-3 w-1/2",children:[A.jsxs("div",{className:"",children:[A.jsxs("span",{className:"font-semibold",children:[t("openTime"),": "]}),`${De(p.openTime,"HH:mm:ss").format("H")}h
                    - ${De(p.closeTime,"HH:mm:ss").format("H")}h`]}),A.jsxs("div",{className:"",children:[A.jsxs("span",{className:"font-semibold",children:[t("numberOfCourts"),": "]}),p.numberOfCourts]}),A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[t("price"),": "]}),A.jsxs("span",{className:"font-semibold text-rose-600",children:[(j=p==null?void 0:p.pricePerHour)==null?void 0:j.toLocaleString("de-DE")," VND/h"]})]})]}),A.jsxs("div",{className:"w-1/2",children:[A.jsxs("span",{className:"font-semibold",children:[t("description"),":"]}),A.jsx("div",{dangerouslySetInnerHTML:{__html:p.description}})]})]})]}),A.jsxs("div",{id:"book",className:"flex-1 rounded-lg shadow-gray-400 shadow-md",children:[A.jsx("div",{className:"text-white rounded-t-lg bg-primary-green flex items-center justify-center gap-1.5 py-2",children:A.jsx("span",{className:"text-3xl font-medium",children:t("calendar")})}),A.jsx("div",{className:"bg-white rounded-b-lg p-8 pt-0",children:A.jsx("div",{className:"",children:A.jsx(GT,{handleButton:P,typeOfCalendar:"booking",centre:p})})})]}),A.jsxs("div",{id:"top",className:"flex-1 bg-white rounded-lg shadow-gray-400 shadow-md",children:[A.jsx("div",{className:"text-white rounded-t-lg bg-primary-green flex items-center justify-center gap-1.5 py-2",children:A.jsx("span",{className:"text-3xl font-medium",children:"Feedbacks"})}),A.jsx("div",{className:"",children:A.jsx(L1,{listItem:_,itemsPerPage:5})})]})]})}),A.jsx(NSe,{isOpen:D,setIsOpen:O,formCalendar:k,centre:p})]})},ET="/assets/register-DkpB5N4S.jpg";function G2e(){const{t}=on(),n=Va(),{dispatch:o}=Na(),[s,d]=q.useState(!1),[m,p]=q.useState(!1),v=G=>{d(G.target.checked)},[k,Z]=q.useState({email:"",password:"",phone:"",firstName:"",lastName:"",address:""}),_=G=>{const{name:D,value:M}=G.target;Z(L=>({...L,[D]:M}))},N=async()=>{p(!0),await yt.post("/courtstar/account/partner",k).then(G=>{ht.success("Register successfully!",{toastId:"register-success"}),yt.post("/courtstar/auth/token",k).then(D=>{const M=D.data;localStorage.setItem("token",M.data.token),localStorage.setItem("role",M.data.role),o({type:"LOGIN",payload:{token:M.data.token,role:M.data.role}}),n("/myCentre/balance")}).catch(D=>{}).finally(()=>{})}).catch(G=>{ht.error(G.message,{toastId:"register-error"})}).finally(()=>{p(!1)})};return A.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:A.jsxs("div",{className:"max-h-[800px] overflow-hidden flex items-center",children:[A.jsx("div",{className:"bg-gray-500 basis-1/2",children:A.jsx("img",{src:ET,alt:"register",className:"object-contain"})}),A.jsx("div",{className:"basis-1/2",children:A.jsxs("div",{className:"max-w-lg mx-auto py-8 px-4 bg-white",children:[A.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:t("partnerRegister")}),A.jsxs("div",{children:[A.jsxs("div",{className:"mb-4 flex gap-5",children:[A.jsx(_t,{id:"firstName",name:"firstName",placeholder:t("enterFirstName"),label:t("firstName"),value:k.firstName,onchange:_}),A.jsx(_t,{id:"lastName",name:"lastName",placeholder:t("enterLastName"),label:t("lastName"),value:k.lastName,onchange:_})]}),A.jsx("div",{className:"mb-4",children:A.jsx(_t,{id:"email",name:"email",placeholder:t("enterEmail"),label:"Email*",value:k.email,onchange:_})}),A.jsx("div",{className:"mb-4",children:A.jsx(_t,{id:"phone",name:"phone",placeholder:t("enterPhone"),label:t("phone"),value:k.phone,onchange:_})}),A.jsx("div",{className:"mb-4",children:A.jsx(_t,{id:"address",name:"address",placeholder:t("enterAddress"),label:t("address"),value:k.address,onchange:_})}),A.jsxs("div",{className:"mb-6",children:[A.jsx(pd,{id:"password",name:"password",placeholder:t("enterPassword"),label:t("password"),value:k.password,onchange:_,evaluate:!0}),A.jsx("div",{className:"text-gray-500 text-xs py-1 px-0.5",children:t("conditionPassword")})]}),A.jsxs("div",{className:"flex items-center justify-center mb-5",children:[A.jsx("div",{className:"flex items-center h-5",children:A.jsx("input",{id:"terms",type:"checkbox",value:"ON",className:"",required:!0,onChange:v})}),A.jsxs("label",{className:"ms-2 text-sm font-medium",children:[t("agreeToOur")," ",A.jsx("a",{href:"#tou",className:"underline",children:t("termOfUse")})," ",t("and")," ",A.jsxs("a",{href:"#pp",className:"underline",children:[" ",t("privacyPolicy")]})]})]}),A.jsx("div",{className:"flex items-center justify-center",children:A.jsx("div",{className:"w-52",children:A.jsx(tn,{label:t("signUp"),size:"large",fullRounded:!0,fullWidth:!0,className:"bg-primary-green hover:bg-teal-900 text-white",disabled:!s,onClick:N,loading:m})})}),A.jsxs("div",{className:"mt-10 text-sm text-center justify-center flex gap-1.5",children:[A.jsxs("span",{children:[t("alreadyHaveAnAccount"),"?"]}),A.jsx("a",{className:"font-semibold underline text-sm",href:"#login",children:t("logIn")})]})]})]})})]})})}function R2e(){const t=Va(),{t:n}=on(),[o,s]=q.useState(!1),{dispatch:d}=Na(),[m,p]=q.useState(!1),v=M=>{p(M.target.checked)},[k,Z]=q.useState({email:"",password:"",phone:"",firstName:"",lastName:""}),[_,N]=q.useState(!1),G=M=>{const{name:L,value:O}=M.target;Z(P=>({...P,[L]:O}))},D=async()=>{if(Object.values(k).some(M=>M==="")){N(!0);return}s(!0),await yt.post("/courtstar/account",k).then(M=>{ht.success("Register successfully!",{toastId:"register-success"}),yt.post("/courtstar/auth/token",k).then(L=>{const O=L.data;localStorage.setItem("token",O.data.token),localStorage.setItem("role",O.data.role),d({type:"LOGIN",payload:{token:O.data.token,role:O.data.role}}),t("/")}).catch(L=>{}).finally(()=>{})}).catch(M=>{ht.error(M.message,{toastId:"register-error"})}).finally(()=>{s(!1)})};return A.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:A.jsxs("div",{className:"max-h-[800px] overflow-hidden flex items-center",children:[A.jsx("div",{className:"bg-gray-500 basis-1/2",children:A.jsx("img",{src:ET,alt:"register",className:"object-contain"})}),A.jsx("div",{className:"basis-1/2",children:A.jsxs("div",{className:"max-w-lg mx-auto py-8 px-4 bg-white",children:[A.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:n("customerRegister")}),A.jsxs("div",{children:[A.jsxs("div",{className:"mb-4 flex gap-5",children:[A.jsx(_t,{id:"firstName",name:"firstName",placeholder:n("enterFirstName"),label:n("firstName"),value:k.firstName,onchange:G,error:_&&!k.firstName,errorMsg:n("plsEnterFirstName")}),A.jsx(_t,{id:"lastName",name:"lastName",placeholder:n("enterLastName"),label:n("lastName"),value:k.lastName,onchange:G,error:_&&!k.lastName,errorMsg:n("plsEnterLastName")})]}),A.jsx("div",{className:"mb-4",children:A.jsx(_t,{id:"email",name:"email",placeholder:n("enterEmail"),label:"Email*",value:k.email,onchange:G,error:_&&!k.email,errorMsg:n("plsEnterEmail")})}),A.jsx("div",{className:"mb-4",children:A.jsx(_t,{id:"phone",name:"phone",placeholder:n("enterPhone"),label:n("phone"),value:k.phone,onchange:G,error:_&&!k.phone,errorMsg:n("plsEnterPhone")})}),A.jsxs("div",{className:"mb-6",children:[A.jsx(pd,{id:"password",name:"password",placeholder:n("enterPassword"),label:n("password"),value:k.password,onchange:G,evaluate:!0,error:_&&!k.password,errorMsg:n("plsEnterPassword")}),!(_&&!k.password)&&A.jsx("div",{className:"text-gray-500 text-xs py-1 px-0.5",children:n("conditionPassword")})]}),A.jsxs("div",{className:"flex items-center justify-center mb-5",children:[A.jsx("div",{className:"flex items-center h-5",children:A.jsx("input",{id:"terms",type:"checkbox",value:"ON",className:"",required:!0,onChange:v})}),A.jsxs("label",{className:"ms-2 text-sm font-medium",children:[n("agreeToOur")," ",A.jsx("a",{href:"#tou",className:"underline",children:n("termOfUse")})," ",n("and")," ",A.jsxs("a",{href:"#pp",className:"underline",children:[" ",n("privacyPolicy")]})]})]}),A.jsx("div",{className:"flex items-center justify-center",children:A.jsx("div",{className:"w-52",children:A.jsx(tn,{label:n("signUp"),size:"large",fullRounded:!0,fullWidth:!0,className:"bg-primary-green hover:bg-teal-900 text-white shadow",disabled:!m,onClick:D,loading:o})})}),A.jsx("div",{className:"flex justify-center my-5 ",children:A.jsxs("a",{className:"text-sm border shadow rounded-full py-3 px-4 w-96 inline-flex items-center hover:bg-gray-200 transition-all duration-300 ease-in-out",href:"http://localhost:8080/courtstar/account/createEmail",target:"_blank",rel:"noreferrer",children:[A.jsx("img",{className:"mx-7",src:GF,alt:"google"}),n("signUpWithGoogleAccount")]})}),A.jsxs("div",{className:"mt-10 text-sm text-center justify-center flex gap-1.5",children:[A.jsxs("span",{children:[n("alreadyHaveAnAccount"),"?"]}),A.jsx("a",{className:"font-semibold underline text-sm",href:"#login",children:n("logIn")})]})]})]})})]})})}const vr=({endNumber:t,duration:n,prefix:o="",postfix:s=""})=>{const[d,m]=q.useState(0);return q.useEffect(()=>{let p=0;const v=n,k=1e3/60,Z=(t-p)/(v/k),_=setInterval(()=>{p+=Z,p>=t&&(p=t,clearInterval(_)),m(Math.ceil(p))},k);return()=>clearInterval(_)},[t,n]),A.jsx("div",{children:A.jsxs("div",{children:[o,d.toLocaleString("de-DE"),s]})})},V2e=q.forwardRef((t,n)=>{const{t:o}=on(),[s,d]=q.useState(!0),[m,p]=q.useState([]),v=[{key:1,label:"All"},{key:2,label:"Pending"},{key:3,label:"Accepted"},{key:4,label:"Denied"}];q.useImperativeHandle(n,()=>({increment(){N()}}));const k=G=>{console.log(`Selected: ${G.label}`)},Z=new AbortController,{signal:_}=Z,N=async()=>{await yt.get("/courtstar/transfer-money/manager/all",{signal:_}).then(G=>{const D=G.data.data.sort((M,L)=>L.id-M.id);p(D)}).catch(G=>{console.log(G.message)}).finally(()=>{d(!1)})};return q.useEffect(()=>(N(),()=>{Z.abort()}),[]),s?A.jsx("div",{className:"h-[300px] flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})}):A.jsxs("div",{className:"mt-4",children:[A.jsxs("div",{className:"bg-white shadow rounded-xl",children:[A.jsx("div",{className:"text-center font-semibold text-white py-1.5 text-2xl bg-primary-green rounded-t-xl",children:"Withdrawal history"}),(m==null?void 0:m.length)>0?A.jsxs("div",{className:"px-10 py-4 grid grid-cols-12 gap-2",children:[A.jsx("div",{className:"col-span-2 text-center",children:A.jsx(_t,{placeholder:o("enterUserName"),label:"Bank's name",value:"",onchange:()=>{}})}),A.jsx("div",{className:"col-span-2 text-center",children:A.jsx(_t,{placeholder:o("enterUserName"),label:"Account number",value:"",onchange:()=>{}})}),A.jsx("div",{className:"col-span-2 text-center",children:A.jsx(_t,{placeholder:o("enterUserName"),label:"Card Holder's Name",value:"",onchange:()=>{}})}),A.jsx("div",{className:"col-span-2 text-center",children:A.jsx(_t,{placeholder:o("enterUserName"),label:"Amount",value:"",onchange:()=>{}})}),A.jsx("div",{className:"col-span-2 text-center",children:A.jsx(_t,{placeholder:o("enterUserName"),label:"Date Create Order",value:"",onchange:()=>{}})}),A.jsx("div",{className:"col-span-2 text-center",children:A.jsx(Wi,{label:"Status",items:v,onSelect:()=>k,placeholder:o("Select date")})})]}):A.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-3xl text-primary mx-auto",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"250",height:"250",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search-x",children:[A.jsx("path",{d:"m13.5 8.5-5 5"}),A.jsx("path",{d:"m8.5 8.5 5 5"}),A.jsx("circle",{cx:"11",cy:"11",r:"8"}),A.jsx("path",{d:"m21 21-4.3-4.3"})]}),"No request found."]})]}),A.jsx("div",{className:"mt-2 font-medium",children:m==null?void 0:m.map(G=>A.jsxs("div",{className:"bg-white px-10 py-2 grid grid-cols-12 gap-2 mt-2 rounded-lg shadow",onClick:()=>{},children:[A.jsx("div",{className:"col-span-2 px-3 flex items-center truncate",children:G==null?void 0:G.nameBanking}),A.jsx("div",{className:"col-span-2 px-3 flex items-center truncate",children:G==null?void 0:G.numberBanking}),A.jsx("div",{className:"col-span-2 flex items-center justify-center",children:G==null?void 0:G.cardHolderName}),A.jsx("div",{className:"col-span-2 flex items-center justify-center",children:G==null?void 0:G.amount}),A.jsx("div",{className:"col-span-2 flex flex-col justify-center items-center font-semibold",children:De(G==null?void 0:G.dateCreateWithdrawalOrder).format("yyyy-MM-DD")}),G!=null&&G.dateAuthenticate?A.jsx(A.Fragment,{children:G!=null&&G.status?A.jsx("div",{className:"col-span-2 text-xs mx-auto py-1 px-2 text-white bg-primary-green w-fit font-semibold rounded",children:"Accepted"}):A.jsx("div",{className:"col-span-2 text-xs mx-auto py-1 px-2 text-white bg-rose-500 w-fit font-semibold rounded",children:"Denied"})}):A.jsx("div",{className:"col-span-2 text-xs mx-auto py-1 px-2 text-white bg-yellow-400 w-fit font-semibold rounded",children:"Pending"})]},G.id))})]})});function W2e(t){const{t:n}=on(),[o,s]=q.useState(),[d,m]=q.useState(!1),[p,v]=q.useState(!1),[k,Z]=q.useState({nameBanking:"",numberBanking:"",amount:"",cardHolderName:""}),_=q.useRef();q.useEffect(()=>{t.balanceDetail&&s(t.balanceDetail)},[t.balanceDetail]);const N=M=>{const{name:L,value:O}=M.target;Z(P=>({...P,[L]:O}))},G=async()=>{v(!0),await yt.post(`/courtstar/transfer-money/create-withdrawal/${o.id}`,k).then(M=>{M.data.data&&(ht.success("Create request withdrawal success!",{toastId:"create-request-withdrawal-success"}),m(!1),Z({nameBanking:"",numberBanking:"",amount:"",cardHolderName:""}),_.current.increment())}).catch(M=>{console.log(M.message),ht.error("Create request withdrawal error!",{toastId:"create-request-withdrawal-error"})}).finally(()=>{v(!1)})},D=A.jsxs("div",{className:"flex flex-col gap-1 w-96",children:[A.jsx(_t,{id:"nameBanking",name:"nameBanking",label:"Bank's name",value:k.nameBanking,placeholder:"Enter your bank's name",onchange:N}),A.jsx(_t,{id:"numberBanking",name:"numberBanking",label:"Bank account number",value:k.numberBanking,placeholder:"Enter your bank account number",onchange:N}),A.jsx(_t,{id:"cardHolderName",name:"cardHolderName",label:"Holder name",value:k.cardHolderName,placeholder:"Enter your bank account holder name",onchange:N}),A.jsx(_t,{type:"number",id:"amount",name:"amount",label:"Amount",value:k.amount,placeholder:"Enter amount of money",onchange:N}),A.jsx(tn,{label:"Confirm",className:"py-1.5 bg-primary-green text-white mt-3",onClick:G,loading:p})]});return o?A.jsxs("div",{className:"w-full my-6 rounded-lg",children:[A.jsx(ms,{isOpen:d,html:D,setIsOpen:()=>{m(!1),Z({nameBanking:"",numberBanking:"",amount:"",cardHolderName:""})},centreInfo:!0,title:"Your Information"}),A.jsx("div",{className:`w-full h-[20rem] rounded-lg bg-gradient-to-r from-emerald-50 to-[#408576] bg-opacity-40 relative\r
        flex justify-between px-20 shadow-lg`,children:A.jsxs("div",{className:"w-full flex flex-col gap-10 justify-center",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("div",{className:"text-2xl font-semibold mb-2",children:n("myBalance")}),A.jsxs("div",{className:"text-5xl flex gap-2 font-bold",children:[A.jsx(vr,{endNumber:o==null?void 0:o.currentBalance,duration:1e3}),A.jsx("span",{className:"text-base",children:"VND"})]})]}),A.jsx("div",{children:A.jsx(tn,{label:n("withdraw"),size:"large",className:"bg-slate-200 hover:bg-primary-green hover:text-white font-semibold text-primary-green",icon:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-hand-coins",children:[A.jsx("path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17"}),A.jsx("path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9"}),A.jsx("path",{d:"m2 16 6 6"}),A.jsx("circle",{cx:"16",cy:"9",r:"2.9"}),A.jsx("circle",{cx:"6",cy:"5",r:"3"})]}),onClick:()=>m(!0)})})]}),A.jsxs("div",{className:"flex gap-10",children:[A.jsxs("div",{className:"py-3 px-5 w-full shadow-md rounded-lg bg-white font-semibold",children:[A.jsxs("div",{className:"flex justify-between items-center mb-2",children:[A.jsx("div",{children:n("todayIncome")}),(o==null?void 0:o.percent.income)>=0?A.jsx("div",{className:"text-xs text-teal-600",children:A.jsx(vr,{endNumber:o==null?void 0:o.percent.income,duration:1e3,postfix:"%",prefix:"+"})}):A.jsx("div",{className:"text-xs text-red-600",children:A.jsx(vr,{endNumber:o==null?void 0:o.percent.income,duration:1e3,postfix:"%"})})]}),A.jsxs("div",{className:"text-lg flex gap-0.5 font-bold",children:[A.jsx(vr,{endNumber:o==null?void 0:o.todayIncome,duration:1e3}),A.jsx("span",{className:"text-[7px]",children:"VND"})]})]}),A.jsxs("div",{className:"py-3 px-5 w-full shadow-md rounded-lg bg-white font-semibold",children:[A.jsxs("div",{className:"flex justify-between items-center mb-2",children:[A.jsx("div",{children:n("todayBookings")}),(o==null?void 0:o.percent.booking)>=0?A.jsx("div",{className:"text-xs text-teal-600",children:A.jsx(vr,{endNumber:o==null?void 0:o.percent.booking,duration:1e3,postfix:"%",prefix:"+"})}):A.jsx("div",{className:"text-xs text-red-600",children:A.jsx(vr,{endNumber:o==null?void 0:o.percent.booking,duration:1e3,postfix:"%"})})]}),A.jsx("div",{className:"text-lg flex gap-0.5 font-bold",children:A.jsx(vr,{endNumber:o==null?void 0:o.todayBookings,duration:1e3})})]}),A.jsxs("div",{className:"py-3 px-5 w-full shadow-md rounded-lg bg-white font-semibold",children:[n("pending"),A.jsxs("div",{className:"text-lg flex gap-0.5 font-bold mt-2",children:[A.jsx(vr,{endNumber:o==null?void 0:o.pending,duration:1e3}),A.jsx("span",{className:"text-[7px]",children:"VND"})]})]}),A.jsxs("div",{className:"py-3 px-5 w-full shadow-md rounded-lg bg-white font-semibold",children:[n("expectedRevenue"),A.jsxs("div",{className:"text-lg flex gap-0.5 font-bold mt-2",children:[A.jsx(vr,{endNumber:o==null?void 0:o.totalRevenue,duration:1e3}),A.jsx("span",{className:"text-[7px]",children:"VND"})]})]})]})]})}),A.jsx("div",{children:A.jsx(V2e,{ref:_})})]}):A.jsx("div",{className:"h-[500px] flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})})}var aY={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=function(t){const n=[];let o=0;for(let s=0;s<t.length;s++){let d=t.charCodeAt(s);d<128?n[o++]=d:d<2048?(n[o++]=d>>6|192,n[o++]=d&63|128):(d&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(d=65536+((d&1023)<<10)+(t.charCodeAt(++s)&1023),n[o++]=d>>18|240,n[o++]=d>>12&63|128,n[o++]=d>>6&63|128,n[o++]=d&63|128):(n[o++]=d>>12|224,n[o++]=d>>6&63|128,n[o++]=d&63|128)}return n},_2e=function(t){const n=[];let o=0,s=0;for(;o<t.length;){const d=t[o++];if(d<128)n[s++]=String.fromCharCode(d);else if(d>191&&d<224){const m=t[o++];n[s++]=String.fromCharCode((d&31)<<6|m&63)}else if(d>239&&d<365){const m=t[o++],p=t[o++],v=t[o++],k=((d&7)<<18|(m&63)<<12|(p&63)<<6|v&63)-65536;n[s++]=String.fromCharCode(55296+(k>>10)),n[s++]=String.fromCharCode(56320+(k&1023))}else{const m=t[o++],p=t[o++];n[s++]=String.fromCharCode((d&15)<<12|(m&63)<<6|p&63)}}return n.join("")},YT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,n){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let d=0;d<t.length;d+=3){const m=t[d],p=d+1<t.length,v=p?t[d+1]:0,k=d+2<t.length,Z=k?t[d+2]:0,_=m>>2,N=(m&3)<<4|v>>4;let G=(v&15)<<2|Z>>6,D=Z&63;k||(D=64,p||(G=64)),s.push(o[_],o[N],o[G],o[D])}return s.join("")},encodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(t):this.encodeByteArray(XT(t),n)},decodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(t):_2e(this.decodeStringToByteArray(t,n))},decodeStringToByteArray(t,n){this.init_();const o=n?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let d=0;d<t.length;){const m=o[t.charAt(d++)],v=d<t.length?o[t.charAt(d)]:0;++d;const Z=d<t.length?o[t.charAt(d)]:64;++d;const N=d<t.length?o[t.charAt(d)]:64;if(++d,m==null||v==null||Z==null||N==null)throw new N2e;const G=m<<2|v>>4;if(s.push(G),Z!==64){const D=v<<4&240|Z>>2;if(s.push(D),N!==64){const M=Z<<6&192|N;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class N2e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E2e=function(t){const n=XT(t);return YT.encodeByteArray(n,!0)},df=function(t){return E2e(t).replace(/\./g,"")},X2e=function(t){try{return YT.decodeString(t,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2e=()=>Y2e().__FIREBASE_DEFAULTS__,H2e=()=>{if(typeof process>"u"||typeof aY>"u")return;const t=aY.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},F2e=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=t&&X2e(t[1]);return n&&JSON.parse(n)},DT=()=>{try{return D2e()||H2e()||F2e()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},M2e=t=>{var n,o;return(o=(n=DT())===null||n===void 0?void 0:n.emulatorHosts)===null||o===void 0?void 0:o[t]},T2e=t=>{const n=M2e(t);if(!n)return;const o=n.lastIndexOf(":");if(o<=0||o+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const s=parseInt(n.substring(o+1),10);return n[0]==="["?[n.substring(1,o-1),s]:[n.substring(0,o),s]},HT=()=>{var t;return(t=DT())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,o)=>{this.resolve=n,this.reject=o})}wrapCallback(n){return(o,s)=>{o?this.reject(o):this.resolve(s),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(o):n(o,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2e(t,n){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const o={alg:"none",type:"JWT"},s=n||"demo-project",d=t.iat||0,m=t.sub||t.user_id;if(!m)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:d,exp:d+3600,auth_time:d,sub:m,user_id:m,firebase:{sign_in_provider:"custom",identities:{}}},t);return[df(JSON.stringify(o)),df(JSON.stringify(p)),""].join(".")}function z2e(){try{return typeof indexedDB=="object"}catch{return!1}}function K2e(){return new Promise((t,n)=>{try{let o=!0;const s="validate-browser-context-for-indexeddb-analytics-module",d=self.indexedDB.open(s);d.onsuccess=()=>{d.result.close(),o||self.indexedDB.deleteDatabase(s),t(!0)},d.onupgradeneeded=()=>{o=!1},d.onerror=()=>{var m;n(((m=d.error)===null||m===void 0?void 0:m.message)||"")}}catch(o){n(o)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2e="FirebaseError";class Jd extends Error{constructor(n,o,s){super(o),this.code=n,this.customData=s,this.name=P2e,Object.setPrototypeOf(this,Jd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,FT.prototype.create)}}class FT{constructor(n,o,s){this.service=n,this.serviceName=o,this.errors=s}create(n,...o){const s=o[0]||{},d=`${this.service}/${n}`,m=this.errors[n],p=m?j2e(m,s):"Error",v=`${this.serviceName}: ${p} (${d}).`;return new Jd(d,v,s)}}function j2e(t,n){return t.replace(O2e,(o,s)=>{const d=n[s];return d!=null?String(d):`<${s}?>`})}const O2e=/\{\$([^}]+)}/g;function ww(t,n){if(t===n)return!0;const o=Object.keys(t),s=Object.keys(n);for(const d of o){if(!s.includes(d))return!1;const m=t[d],p=n[d];if(lY(m)&&lY(p)){if(!ww(m,p))return!1}else if(m!==p)return!1}for(const d of s)if(!o.includes(d))return!1;return!0}function lY(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){return t&&t._delegate?t._delegate:t}class um{constructor(n,o,s){this.name=n,this.instanceFactory=o,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2e{constructor(n,o){this.name=n,this.container=o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const o=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(o)){const s=new J2e;if(this.instancesDeferred.set(o,s),this.isInitialized(o)||this.shouldAutoInitialize())try{const d=this.getOrInitializeService({instanceIdentifier:o});d&&s.resolve(d)}catch{}}return this.instancesDeferred.get(o).promise}getImmediate(n){var o;const s=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),d=(o=n==null?void 0:n.optional)!==null&&o!==void 0?o:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(m){if(d)return null;throw m}else{if(d)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(q2e(n))try{this.getOrInitializeService({instanceIdentifier:gc})}catch{}for(const[o,s]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);try{const m=this.getOrInitializeService({instanceIdentifier:d});s.resolve(m)}catch{}}}}clearInstance(n=gc){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(o=>"INTERNAL"in o).map(o=>o.INTERNAL.delete()),...n.filter(o=>"_delete"in o).map(o=>o._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=gc){return this.instances.has(n)}getOptions(n=gc){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:o={}}=n,s=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const d=this.getOrInitializeService({instanceIdentifier:s,options:o});for(const[m,p]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(m);s===v&&p.resolve(d)}return d}onInit(n,o){var s;const d=this.normalizeInstanceIdentifier(o),m=(s=this.onInitCallbacks.get(d))!==null&&s!==void 0?s:new Set;m.add(n),this.onInitCallbacks.set(d,m);const p=this.instances.get(d);return p&&n(p,d),()=>{m.delete(n)}}invokeOnInitCallbacks(n,o){const s=this.onInitCallbacks.get(o);if(s)for(const d of s)try{d(n,o)}catch{}}getOrInitializeService({instanceIdentifier:n,options:o={}}){let s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Q2e(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null}normalizeInstanceIdentifier(n=gc){return this.component?this.component.multipleInstances?n:gc:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q2e(t){return t===gc?void 0:t}function q2e(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2e{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const o=this.getProvider(n.name);if(o.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);o.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const o=new U2e(n,this);return this.providers.set(n,o),o}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qn||(Qn={}));const eBe={debug:Qn.DEBUG,verbose:Qn.VERBOSE,info:Qn.INFO,warn:Qn.WARN,error:Qn.ERROR,silent:Qn.SILENT},tBe=Qn.INFO,nBe={[Qn.DEBUG]:"log",[Qn.VERBOSE]:"log",[Qn.INFO]:"info",[Qn.WARN]:"warn",[Qn.ERROR]:"error"},iBe=(t,n,...o)=>{if(n<t.logLevel)return;const s=new Date().toISOString(),d=nBe[n];if(d)console[d](`[${s}]  ${t.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class oBe{constructor(n){this.name=n,this._logLevel=tBe,this._logHandler=iBe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Qn))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?eBe[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Qn.DEBUG,...n),this._logHandler(this,Qn.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Qn.VERBOSE,...n),this._logHandler(this,Qn.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Qn.INFO,...n),this._logHandler(this,Qn.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Qn.WARN,...n),this._logHandler(this,Qn.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Qn.ERROR,...n),this._logHandler(this,Qn.ERROR,...n)}}const rBe=(t,n)=>n.some(o=>t instanceof o);let cY,gY;function sBe(){return cY||(cY=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aBe(){return gY||(gY=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MT=new WeakMap,xw=new WeakMap,TT=new WeakMap,xk=new WeakMap,j1=new WeakMap;function lBe(t){const n=new Promise((o,s)=>{const d=()=>{t.removeEventListener("success",m),t.removeEventListener("error",p)},m=()=>{o(yl(t.result)),d()},p=()=>{s(t.error),d()};t.addEventListener("success",m),t.addEventListener("error",p)});return n.then(o=>{o instanceof IDBCursor&&MT.set(o,t)}).catch(()=>{}),j1.set(n,t),n}function cBe(t){if(xw.has(t))return;const n=new Promise((o,s)=>{const d=()=>{t.removeEventListener("complete",m),t.removeEventListener("error",p),t.removeEventListener("abort",p)},m=()=>{o(),d()},p=()=>{s(t.error||new DOMException("AbortError","AbortError")),d()};t.addEventListener("complete",m),t.addEventListener("error",p),t.addEventListener("abort",p)});xw.set(t,n)}let Sw={get(t,n,o){if(t instanceof IDBTransaction){if(n==="done")return xw.get(t);if(n==="objectStoreNames")return t.objectStoreNames||TT.get(t);if(n==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return yl(t[n])},set(t,n,o){return t[n]=o,!0},has(t,n){return t instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in t}};function gBe(t){Sw=t(Sw)}function dBe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...o){const s=t.call(Sk(this),n,...o);return TT.set(s,n.sort?n.sort():[n]),yl(s)}:aBe().includes(t)?function(...n){return t.apply(Sk(this),n),yl(MT.get(this))}:function(...n){return yl(t.apply(Sk(this),n))}}function uBe(t){return typeof t=="function"?dBe(t):(t instanceof IDBTransaction&&cBe(t),rBe(t,sBe())?new Proxy(t,Sw):t)}function yl(t){if(t instanceof IDBRequest)return lBe(t);if(xk.has(t))return xk.get(t);const n=uBe(t);return n!==t&&(xk.set(t,n),j1.set(n,t)),n}const Sk=t=>j1.get(t);function hBe(t,n,{blocked:o,upgrade:s,blocking:d,terminated:m}={}){const p=indexedDB.open(t,n),v=yl(p);return s&&p.addEventListener("upgradeneeded",k=>{s(yl(p.result),k.oldVersion,k.newVersion,yl(p.transaction),k)}),o&&p.addEventListener("blocked",k=>o(k.oldVersion,k.newVersion,k)),v.then(k=>{m&&k.addEventListener("close",()=>m()),d&&k.addEventListener("versionchange",Z=>d(Z.oldVersion,Z.newVersion,Z))}).catch(()=>{}),v}const mBe=["get","getKey","getAll","getAllKeys","count"],CBe=["put","add","delete","clear"],Bk=new Map;function dY(t,n){if(!(t instanceof IDBDatabase&&!(n in t)&&typeof n=="string"))return;if(Bk.get(n))return Bk.get(n);const o=n.replace(/FromIndex$/,""),s=n!==o,d=CBe.includes(o);if(!(o in(s?IDBIndex:IDBObjectStore).prototype)||!(d||mBe.includes(o)))return;const m=async function(p,...v){const k=this.transaction(p,d?"readwrite":"readonly");let Z=k.store;return s&&(Z=Z.index(v.shift())),(await Promise.all([Z[o](...v),d&&k.done]))[0]};return Bk.set(n,m),m}gBe(t=>({...t,get:(n,o,s)=>dY(n,o)||t.get(n,o,s),has:(n,o)=>!!dY(n,o)||t.has(n,o)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pBe{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(IBe(o)){const s=o.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(o=>o).join(" ")}}function IBe(t){const n=t.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Bw="@firebase/app",uY="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new oBe("@firebase/app"),fBe="@firebase/app-compat",bBe="@firebase/analytics-compat",ABe="@firebase/analytics",yBe="@firebase/app-check-compat",kBe="@firebase/app-check",vBe="@firebase/auth",wBe="@firebase/auth-compat",xBe="@firebase/database",SBe="@firebase/database-compat",BBe="@firebase/functions",ZBe="@firebase/functions-compat",GBe="@firebase/installations",RBe="@firebase/installations-compat",VBe="@firebase/messaging",WBe="@firebase/messaging-compat",_Be="@firebase/performance",NBe="@firebase/performance-compat",EBe="@firebase/remote-config",XBe="@firebase/remote-config-compat",YBe="@firebase/storage",DBe="@firebase/storage-compat",HBe="@firebase/firestore",FBe="@firebase/vertexai-preview",MBe="@firebase/firestore-compat",TBe="firebase",JBe="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="[DEFAULT]",LBe={[Bw]:"fire-core",[fBe]:"fire-core-compat",[ABe]:"fire-analytics",[bBe]:"fire-analytics-compat",[kBe]:"fire-app-check",[yBe]:"fire-app-check-compat",[vBe]:"fire-auth",[wBe]:"fire-auth-compat",[xBe]:"fire-rtdb",[SBe]:"fire-rtdb-compat",[BBe]:"fire-fn",[ZBe]:"fire-fn-compat",[GBe]:"fire-iid",[RBe]:"fire-iid-compat",[VBe]:"fire-fcm",[WBe]:"fire-fcm-compat",[_Be]:"fire-perf",[NBe]:"fire-perf-compat",[EBe]:"fire-rc",[XBe]:"fire-rc-compat",[YBe]:"fire-gcs",[DBe]:"fire-gcs-compat",[HBe]:"fire-fst",[MBe]:"fire-fst-compat",[FBe]:"fire-vertex","fire-js":"fire-js",[TBe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Map,zBe=new Map,Gw=new Map;function hY(t,n){try{t.container.addComponent(n)}catch(o){Nc.debug(`Component ${n.name} failed to register with FirebaseApp ${t.name}`,o)}}function hf(t){const n=t.name;if(Gw.has(n))return Nc.debug(`There were multiple attempts to register component ${n}.`),!1;Gw.set(n,t);for(const o of uf.values())hY(o,t);for(const o of zBe.values())hY(o,t);return!0}function KBe(t,n){const o=t.container.getProvider("heartbeat").getImmediate({optional:!0});return o&&o.triggerHeartbeat(),t.container.getProvider(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PBe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kl=new FT("app","Firebase",PBe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jBe{constructor(n,o,s){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},o),this._name=o.name,this._automaticDataCollectionEnabled=o.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new um("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw kl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OBe=JBe;function JT(t,n={}){let o=t;typeof n!="object"&&(n={name:n});const s=Object.assign({name:Zw,automaticDataCollectionEnabled:!1},n),d=s.name;if(typeof d!="string"||!d)throw kl.create("bad-app-name",{appName:String(d)});if(o||(o=HT()),!o)throw kl.create("no-options");const m=uf.get(d);if(m){if(ww(o,m.options)&&ww(s,m.config))return m;throw kl.create("duplicate-app",{appName:d})}const p=new $2e(d);for(const k of Gw.values())p.addComponent(k);const v=new jBe(o,s,p);return uf.set(d,v),v}function UBe(t=Zw){const n=uf.get(t);if(!n&&t===Zw&&HT())return JT();if(!n)throw kl.create("no-app",{appName:t});return n}function ld(t,n,o){var s;let d=(s=LBe[t])!==null&&s!==void 0?s:t;o&&(d+=`-${o}`);const m=d.match(/\s|\//),p=n.match(/\s|\//);if(m||p){const v=[`Unable to register library "${d}" with version "${n}":`];m&&v.push(`library name "${d}" contains illegal characters (whitespace or "/")`),m&&p&&v.push("and"),p&&v.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Nc.warn(v.join(" "));return}hf(new um(`${d}-version`,()=>({library:d,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QBe="firebase-heartbeat-database",qBe=1,hm="firebase-heartbeat-store";let Zk=null;function LT(){return Zk||(Zk=hBe(QBe,qBe,{upgrade:(t,n)=>{switch(n){case 0:try{t.createObjectStore(hm)}catch(o){console.warn(o)}}}}).catch(t=>{throw kl.create("idb-open",{originalErrorMessage:t.message})})),Zk}async function $Be(t){try{const o=(await LT()).transaction(hm),s=await o.objectStore(hm).get(zT(t));return await o.done,s}catch(n){if(n instanceof Jd)Nc.warn(n.message);else{const o=kl.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});Nc.warn(o.message)}}}async function mY(t,n){try{const s=(await LT()).transaction(hm,"readwrite");await s.objectStore(hm).put(n,zT(t)),await s.done}catch(o){if(o instanceof Jd)Nc.warn(o.message);else{const s=kl.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});Nc.warn(s.message)}}}function zT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZe=1024,tZe=30*24*60*60*1e3;class nZe{constructor(n){this.container=n,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this._storage=new oZe(o),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var n,o;const d=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),m=CY();if(!(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((o=this._heartbeatsCache)===null||o===void 0?void 0:o.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===m||this._heartbeatsCache.heartbeats.some(p=>p.date===m)))return this._heartbeatsCache.heartbeats.push({date:m,agent:d}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(p=>{const v=new Date(p.date).valueOf();return Date.now()-v<=tZe}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var n;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const o=CY(),{heartbeatsToSend:s,unsentEntries:d}=iZe(this._heartbeatsCache.heartbeats),m=df(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=o,d.length>0?(this._heartbeatsCache.heartbeats=d,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),m}}function CY(){return new Date().toISOString().substring(0,10)}function iZe(t,n=eZe){const o=[];let s=t.slice();for(const d of t){const m=o.find(p=>p.agent===d.agent);if(m){if(m.dates.push(d.date),pY(o)>n){m.dates.pop();break}}else if(o.push({agent:d.agent,dates:[d.date]}),pY(o)>n){o.pop();break}s=s.slice(1)}return{heartbeatsToSend:o,unsentEntries:s}}class oZe{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z2e()?K2e().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const o=await $Be(this.app);return o!=null&&o.heartbeats?o:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var o;if(await this._canUseIndexedDBPromise){const d=await this.read();return mY(this.app,{lastSentHeartbeatDate:(o=n.lastSentHeartbeatDate)!==null&&o!==void 0?o:d.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var o;if(await this._canUseIndexedDBPromise){const d=await this.read();return mY(this.app,{lastSentHeartbeatDate:(o=n.lastSentHeartbeatDate)!==null&&o!==void 0?o:d.lastSentHeartbeatDate,heartbeats:[...d.heartbeats,...n.heartbeats]})}else return}}function pY(t){return df(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZe(t){hf(new um("platform-logger",n=>new pBe(n),"PRIVATE")),hf(new um("heartbeat",n=>new nZe(n),"PRIVATE")),ld(Bw,uY,t),ld(Bw,uY,"esm2017"),ld("fire-js","")}rZe("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firebasestorage.googleapis.com",PT="storageBucket",sZe=2*60*1e3,aZe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Jd{constructor(n,o,s=0){super(Gk(n),`Firebase Storage: ${o} (${Gk(n)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ii.prototype)}get status(){return this.status_}set status(n){this.status_=n}_codeEquals(n){return Gk(n)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mi||(mi={}));function Gk(t){return"storage/"+t}function O1(){const t="An unknown error occurred, please check the error payload for server response.";return new Ii(mi.UNKNOWN,t)}function lZe(t){return new Ii(mi.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function cZe(t){return new Ii(mi.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function gZe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ii(mi.UNAUTHENTICATED,t)}function dZe(){return new Ii(mi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uZe(t){return new Ii(mi.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function hZe(){return new Ii(mi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mZe(){return new Ii(mi.CANCELED,"User canceled the upload/download.")}function CZe(t){return new Ii(mi.INVALID_URL,"Invalid URL '"+t+"'.")}function pZe(t){return new Ii(mi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function IZe(){return new Ii(mi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PT+"' property when initializing the app?")}function fZe(){return new Ii(mi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bZe(){return new Ii(mi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function AZe(t){return new Ii(mi.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Rw(t){return new Ii(mi.INVALID_ARGUMENT,t)}function jT(){return new Ii(mi.APP_DELETED,"The Firebase app was deleted.")}function yZe(t){return new Ii(mi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gh(t,n){return new Ii(mi.INVALID_FORMAT,"String does not match format '"+t+"': "+n)}function qu(t){throw new Ii(mi.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(n,o){this.bucket=n,this.path_=o}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const n=encodeURIComponent;return"/b/"+n(this.bucket)+"/o/"+n(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(n,o){let s;try{s=or.makeFromUrl(n,o)}catch{return new or(n,"")}if(s.path==="")return s;throw pZe(n)}static makeFromUrl(n,o){let s=null;const d="([A-Za-z0-9.\\-_]+)";function m(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}const p="(/(.*))?$",v=new RegExp("^gs://"+d+p,"i"),k={bucket:1,path:3};function Z(ie){ie.path_=decodeURIComponent(ie.path)}const _="v[A-Za-z0-9_]+",N=o.replace(/[.]/g,"\\."),G="(/([^?#]*).*)?$",D=new RegExp(`^https?://${N}/${_}/b/${d}/o${G}`,"i"),M={bucket:1,path:3},L=o===KT?"(?:storage.googleapis.com|storage.cloud.google.com)":o,O="([^?#]*)",P=new RegExp(`^https?://${L}/${d}/${O}`,"i"),j=[{regex:v,indices:k,postModify:m},{regex:D,indices:M,postModify:Z},{regex:P,indices:{bucket:1,path:2},postModify:Z}];for(let ie=0;ie<j.length;ie++){const ne=j[ie],ue=ne.regex.exec(n);if(ue){const K=ue[ne.indices.bucket];let de=ue[ne.indices.path];de||(de=""),s=new or(K,de),ne.postModify(s);break}}if(s==null)throw CZe(n);return s}}class kZe{constructor(n){this.promise_=Promise.reject(n)}getPromise(){return this.promise_}cancel(n=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vZe(t,n,o){let s=1,d=null,m=null,p=!1,v=0;function k(){return v===2}let Z=!1;function _(...O){Z||(Z=!0,n.apply(null,O))}function N(O){d=setTimeout(()=>{d=null,t(D,k())},O)}function G(){m&&clearTimeout(m)}function D(O,...P){if(Z){G();return}if(O){G(),_.call(null,O,...P);return}if(k()||p){G(),_.call(null,O,...P);return}s<64&&(s*=2);let j;v===1?(v=2,j=0):j=(s+Math.random())*1e3,N(j)}let M=!1;function L(O){M||(M=!0,G(),!Z&&(d!==null?(O||(v=2),clearTimeout(d),N(0)):O||(v=1)))}return N(0),m=setTimeout(()=>{p=!0,L(!0)},o),L}function wZe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xZe(t){return t!==void 0}function SZe(t){return typeof t=="object"&&!Array.isArray(t)}function U1(t){return typeof t=="string"||t instanceof String}function IY(t){return Q1()&&t instanceof Blob}function Q1(){return typeof Blob<"u"}function fY(t,n,o,s){if(s<n)throw Rw(`Invalid value for '${t}'. Expected ${n} or greater.`);if(s>o)throw Rw(`Invalid value for '${t}'. Expected ${o} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t,n,o){let s=n;return o==null&&(s=`https://${n}`),`${o}://${s}/v0${t}`}function OT(t){const n=encodeURIComponent;let o="?";for(const s in t)if(t.hasOwnProperty(s)){const d=n(s)+"="+n(t[s]);o=o+d+"&"}return o=o.slice(0,-1),o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xc||(xc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BZe(t,n){const o=t>=500&&t<600,d=[408,429].indexOf(t)!==-1,m=n.indexOf(t)!==-1;return o||d||m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZe{constructor(n,o,s,d,m,p,v,k,Z,_,N,G=!0){this.url_=n,this.method_=o,this.headers_=s,this.body_=d,this.successCodes_=m,this.additionalRetryCodes_=p,this.callback_=v,this.errorCallback_=k,this.timeout_=Z,this.progressCallback_=_,this.connectionFactory_=N,this.retry=G,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,M)=>{this.resolve_=D,this.reject_=M,this.start_()})}start_(){const n=(s,d)=>{if(d){s(!1,new Np(!1,null,!0));return}const m=this.connectionFactory_();this.pendingConnection_=m;const p=v=>{const k=v.loaded,Z=v.lengthComputable?v.total:-1;this.progressCallback_!==null&&this.progressCallback_(k,Z)};this.progressCallback_!==null&&m.addUploadProgressListener(p),m.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&m.removeUploadProgressListener(p),this.pendingConnection_=null;const v=m.getErrorCode()===xc.NO_ERROR,k=m.getStatus();if(!v||BZe(k,this.additionalRetryCodes_)&&this.retry){const _=m.getErrorCode()===xc.ABORT;s(!1,new Np(!1,null,_));return}const Z=this.successCodes_.indexOf(k)!==-1;s(!0,new Np(Z,m))})},o=(s,d)=>{const m=this.resolve_,p=this.reject_,v=d.connection;if(d.wasSuccessCode)try{const k=this.callback_(v,v.getResponse());xZe(k)?m(k):m()}catch(k){p(k)}else if(v!==null){const k=O1();k.serverResponse=v.getErrorText(),this.errorCallback_?p(this.errorCallback_(v,k)):p(k)}else if(d.canceled){const k=this.appDelete_?jT():mZe();p(k)}else{const k=hZe();p(k)}};this.canceled_?o(!1,new Np(!1,null,!0)):this.backoffId_=vZe(n,o,this.timeout_)}getPromise(){return this.promise_}cancel(n){this.canceled_=!0,this.appDelete_=n||!1,this.backoffId_!==null&&wZe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Np{constructor(n,o,s){this.wasSuccessCode=n,this.connection=o,this.canceled=!!s}}function GZe(t,n){n!==null&&n.length>0&&(t.Authorization="Firebase "+n)}function RZe(t,n){t["X-Firebase-Storage-Version"]="webjs/"+(n??"AppManager")}function VZe(t,n){n&&(t["X-Firebase-GMPID"]=n)}function WZe(t,n){n!==null&&(t["X-Firebase-AppCheck"]=n)}function _Ze(t,n,o,s,d,m,p=!0){const v=OT(t.urlParams),k=t.url+v,Z=Object.assign({},t.headers);return VZe(Z,n),GZe(Z,o),RZe(Z,m),WZe(Z,s),new ZZe(k,t.method,Z,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NZe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function EZe(...t){const n=NZe();if(n!==void 0){const o=new n;for(let s=0;s<t.length;s++)o.append(t[s]);return o.getBlob()}else{if(Q1())return new Blob(t);throw new Ii(mi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function XZe(t,n,o){return t.webkitSlice?t.webkitSlice(n,o):t.mozSlice?t.mozSlice(n,o):t.slice?t.slice(n,o):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YZe(t){if(typeof atob>"u")throw AZe("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Rk{constructor(n,o){this.data=n,this.contentType=o||null}}function DZe(t,n){switch(t){case Ds.RAW:return new Rk(UT(n));case Ds.BASE64:case Ds.BASE64URL:return new Rk(QT(t,n));case Ds.DATA_URL:return new Rk(FZe(n),MZe(n))}throw O1()}function UT(t){const n=[];for(let o=0;o<t.length;o++){let s=t.charCodeAt(o);if(s<=127)n.push(s);else if(s<=2047)n.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(o<t.length-1&&(t.charCodeAt(o+1)&64512)===56320))n.push(239,191,189);else{const m=s,p=t.charCodeAt(++o);s=65536|(m&1023)<<10|p&1023,n.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?n.push(239,191,189):n.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(n)}function HZe(t){let n;try{n=decodeURIComponent(t)}catch{throw Gh(Ds.DATA_URL,"Malformed data URL.")}return UT(n)}function QT(t,n){switch(t){case Ds.BASE64:{const d=n.indexOf("-")!==-1,m=n.indexOf("_")!==-1;if(d||m)throw Gh(t,"Invalid character '"+(d?"-":"_")+"' found: is it base64url encoded?");break}case Ds.BASE64URL:{const d=n.indexOf("+")!==-1,m=n.indexOf("/")!==-1;if(d||m)throw Gh(t,"Invalid character '"+(d?"+":"/")+"' found: is it base64 encoded?");n=n.replace(/-/g,"+").replace(/_/g,"/");break}}let o;try{o=YZe(n)}catch(d){throw d.message.includes("polyfill")?d:Gh(t,"Invalid character found")}const s=new Uint8Array(o.length);for(let d=0;d<o.length;d++)s[d]=o.charCodeAt(d);return s}class qT{constructor(n){this.base64=!1,this.contentType=null;const o=n.match(/^data:([^,]+)?,/);if(o===null)throw Gh(Ds.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=o[1]||null;s!=null&&(this.base64=TZe(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=n.substring(n.indexOf(",")+1)}}function FZe(t){const n=new qT(t);return n.base64?QT(Ds.BASE64,n.rest):HZe(n.rest)}function MZe(t){return new qT(t).contentType}function TZe(t,n){return t.length>=n.length?t.substring(t.length-n.length)===n:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(n,o){let s=0,d="";IY(n)?(this.data_=n,s=n.size,d=n.type):n instanceof ArrayBuffer?(o?this.data_=new Uint8Array(n):(this.data_=new Uint8Array(n.byteLength),this.data_.set(new Uint8Array(n))),s=this.data_.length):n instanceof Uint8Array&&(o?this.data_=n:(this.data_=new Uint8Array(n.length),this.data_.set(n)),s=n.length),this.size_=s,this.type_=d}size(){return this.size_}type(){return this.type_}slice(n,o){if(IY(this.data_)){const s=this.data_,d=XZe(s,n,o);return d===null?null:new ol(d)}else{const s=new Uint8Array(this.data_.buffer,n,o-n);return new ol(s,!0)}}static getBlob(...n){if(Q1()){const o=n.map(s=>s instanceof ol?s.data_:s);return new ol(EZe.apply(null,o))}else{const o=n.map(p=>U1(p)?DZe(Ds.RAW,p).data:p.data_);let s=0;o.forEach(p=>{s+=p.byteLength});const d=new Uint8Array(s);let m=0;return o.forEach(p=>{for(let v=0;v<p.length;v++)d[m++]=p[v]}),new ol(d,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t){let n;try{n=JSON.parse(t)}catch{return null}return SZe(n)?n:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZe(t){if(t.length===0)return null;const n=t.lastIndexOf("/");return n===-1?"":t.slice(0,n)}function LZe(t,n){const o=n.split("/").filter(s=>s.length>0).join("/");return t.length===0?o:t+"/"+o}function eJ(t){const n=t.lastIndexOf("/",t.length-2);return n===-1?t:t.slice(n+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zZe(t,n){return n}class ko{constructor(n,o,s,d){this.server=n,this.local=o||n,this.writable=!!s,this.xform=d||zZe}}let Ep=null;function KZe(t){return!U1(t)||t.length<2?t:eJ(t)}function tJ(){if(Ep)return Ep;const t=[];t.push(new ko("bucket")),t.push(new ko("generation")),t.push(new ko("metageneration")),t.push(new ko("name","fullPath",!0));function n(m,p){return KZe(p)}const o=new ko("name");o.xform=n,t.push(o);function s(m,p){return p!==void 0?Number(p):p}const d=new ko("size");return d.xform=s,t.push(d),t.push(new ko("timeCreated")),t.push(new ko("updated")),t.push(new ko("md5Hash",null,!0)),t.push(new ko("cacheControl",null,!0)),t.push(new ko("contentDisposition",null,!0)),t.push(new ko("contentEncoding",null,!0)),t.push(new ko("contentLanguage",null,!0)),t.push(new ko("contentType",null,!0)),t.push(new ko("metadata","customMetadata",!0)),Ep=t,Ep}function PZe(t,n){function o(){const s=t.bucket,d=t.fullPath,m=new or(s,d);return n._makeStorageReference(m)}Object.defineProperty(t,"ref",{get:o})}function jZe(t,n,o){const s={};s.type="file";const d=o.length;for(let m=0;m<d;m++){const p=o[m];s[p.local]=p.xform(s,n[p.server])}return PZe(s,t),s}function nJ(t,n,o){const s=$T(n);return s===null?null:jZe(t,s,o)}function OZe(t,n,o,s){const d=$T(n);if(d===null||!U1(d.downloadTokens))return null;const m=d.downloadTokens;if(m.length===0)return null;const p=encodeURIComponent;return m.split(",").map(Z=>{const _=t.bucket,N=t.fullPath,G="/b/"+p(_)+"/o/"+p(N),D=qb(G,o,s),M=OT({alt:"media",token:Z});return D+M})[0]}function UZe(t,n){const o={},s=n.length;for(let d=0;d<s;d++){const m=n[d];m.writable&&(o[m.server]=t[m.local])}return JSON.stringify(o)}class q1{constructor(n,o,s,d){this.url=n,this.method=o,this.handler=s,this.timeout=d,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iJ(t){if(!t)throw O1()}function QZe(t,n){function o(s,d){const m=nJ(t,d,n);return iJ(m!==null),m}return o}function qZe(t,n){function o(s,d){const m=nJ(t,d,n);return iJ(m!==null),OZe(m,d,t.host,t._protocol)}return o}function oJ(t){function n(o,s){let d;return o.getStatus()===401?o.getErrorText().includes("Firebase App Check token is invalid")?d=dZe():d=gZe():o.getStatus()===402?d=cZe(t.bucket):o.getStatus()===403?d=uZe(t.path):d=s,d.status=o.getStatus(),d.serverResponse=s.serverResponse,d}return n}function rJ(t){const n=oJ(t);function o(s,d){let m=n(s,d);return s.getStatus()===404&&(m=lZe(t.path)),m.serverResponse=d.serverResponse,m}return o}function $Ze(t,n,o){const s=n.fullServerUrl(),d=qb(s,t.host,t._protocol),m="GET",p=t.maxOperationRetryTime,v=new q1(d,m,qZe(t,o),p);return v.errorHandler=rJ(n),v}function eGe(t,n){const o=n.fullServerUrl(),s=qb(o,t.host,t._protocol),d="DELETE",m=t.maxOperationRetryTime;function p(k,Z){}const v=new q1(s,d,p,m);return v.successCodes=[200,204],v.errorHandler=rJ(n),v}function tGe(t,n){return t&&t.contentType||n&&n.type()||"application/octet-stream"}function nGe(t,n,o){const s=Object.assign({},o);return s.fullPath=t.path,s.size=n.size(),s.contentType||(s.contentType=tGe(null,n)),s}function iGe(t,n,o,s,d){const m=n.bucketOnlyServerUrl(),p={"X-Goog-Upload-Protocol":"multipart"};function v(){let j="";for(let ie=0;ie<2;ie++)j=j+Math.random().toString().slice(2);return j}const k=v();p["Content-Type"]="multipart/related; boundary="+k;const Z=nGe(n,s,d),_=UZe(Z,o),N="--"+k+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+k+`\r
Content-Type: `+Z.contentType+`\r
\r
`,G=`\r
--`+k+"--",D=ol.getBlob(N,s,G);if(D===null)throw fZe();const M={name:Z.fullPath},L=qb(m,t.host,t._protocol),O="POST",P=t.maxUploadRetryTime,F=new q1(L,O,QZe(t,o),P);return F.urlParams=M,F.headers=p,F.body=D.uploadData(),F.errorHandler=oJ(n),F}class oGe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xc.NO_ERROR,this.sendPromise_=new Promise(n=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xc.ABORT,n()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xc.NETWORK_ERROR,n()}),this.xhr_.addEventListener("load",()=>{n()})})}send(n,o,s,d){if(this.sent_)throw qu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(o,n,!0),d!==void 0)for(const m in d)d.hasOwnProperty(m)&&this.xhr_.setRequestHeader(m,d[m].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw qu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(n){return this.xhr_.getResponseHeader(n)}addUploadProgressListener(n){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",n)}removeUploadProgressListener(n){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",n)}}class rGe extends oGe{initXhr(){this.xhr_.responseType="text"}}function $1(){return new rGe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(n,o){this._service=n,o instanceof or?this._location=o:this._location=or.makeFromUrl(o,n.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(n,o){return new Ec(n,o)}get root(){const n=new or(this._location.bucket,"");return this._newRef(this._service,n)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eJ(this._location.path)}get storage(){return this._service}get parent(){const n=JZe(this._location.path);if(n===null)return null;const o=new or(this._location.bucket,n);return new Ec(this._service,o)}_throwIfRoot(n){if(this._location.path==="")throw yZe(n)}}function sGe(t,n,o){t._throwIfRoot("uploadBytes");const s=iGe(t.storage,t._location,tJ(),new ol(n,!0),o);return t.storage.makeRequestWithTokens(s,$1).then(d=>({metadata:d,ref:t}))}function aGe(t){t._throwIfRoot("getDownloadURL");const n=$Ze(t.storage,t._location,tJ());return t.storage.makeRequestWithTokens(n,$1).then(o=>{if(o===null)throw bZe();return o})}function lGe(t){t._throwIfRoot("deleteObject");const n=eGe(t.storage,t._location);return t.storage.makeRequestWithTokens(n,$1)}function cGe(t,n){const o=LZe(t._location.path,n),s=new or(t._location.bucket,o);return new Ec(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gGe(t){return/^[A-Za-z]+:\/\//.test(t)}function dGe(t,n){return new Ec(t,n)}function sJ(t,n){if(t instanceof eS){const o=t;if(o._bucket==null)throw IZe();const s=new Ec(o,o._bucket);return n!=null?sJ(s,n):s}else return n!==void 0?cGe(t,n):t}function uGe(t,n){if(n&&gGe(n)){if(t instanceof eS)return dGe(t,n);throw Rw("To use ref(service, url), the first argument must be a Storage instance.")}else return sJ(t,n)}function bY(t,n){const o=n==null?void 0:n[PT];return o==null?null:or.makeFromBucketSpec(o,t)}function hGe(t,n,o,s={}){t.host=`${n}:${o}`,t._protocol="http";const{mockUserToken:d}=s;d&&(t._overrideAuthToken=typeof d=="string"?d:L2e(d,t.app.options.projectId))}class eS{constructor(n,o,s,d,m){this.app=n,this._authProvider=o,this._appCheckProvider=s,this._url=d,this._firebaseVersion=m,this._bucket=null,this._host=KT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sZe,this._maxUploadRetryTime=aZe,this._requests=new Set,d!=null?this._bucket=or.makeFromBucketSpec(d,this._host):this._bucket=bY(this._host,this.app.options)}get host(){return this._host}set host(n){this._host=n,this._url!=null?this._bucket=or.makeFromBucketSpec(this._url,n):this._bucket=bY(n,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(n){fY("time",0,Number.POSITIVE_INFINITY,n),this._maxUploadRetryTime=n}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(n){fY("time",0,Number.POSITIVE_INFINITY,n),this._maxOperationRetryTime=n}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const n=this._authProvider.getImmediate({optional:!0});if(n){const o=await n.getToken();if(o!==null)return o.accessToken}return null}async _getAppCheckToken(){const n=this._appCheckProvider.getImmediate({optional:!0});return n?(await n.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(n=>n.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(n){return new Ec(this,n)}_makeRequest(n,o,s,d,m=!0){if(this._deleted)return new kZe(jT());{const p=_Ze(n,this._appId,s,d,o,this._firebaseVersion,m);return this._requests.add(p),p.getPromise().then(()=>this._requests.delete(p),()=>this._requests.delete(p)),p}}async makeRequestWithTokens(n,o){const[s,d]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(n,o,s,d).getPromise()}}const AY="@firebase/storage",yY="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aJ="storage";function lJ(t,n,o){return t=Dm(t),sGe(t,n,o)}function cJ(t){return t=Dm(t),aGe(t)}function Vw(t){return t=Dm(t),lGe(t)}function gJ(t,n){return t=Dm(t),uGe(t,n)}function mGe(t=UBe(),n){t=Dm(t);const s=KBe(t,aJ).getImmediate({identifier:n}),d=T2e("storage");return d&&CGe(s,...d),s}function CGe(t,n,o,s={}){hGe(t,n,o,s)}function pGe(t,{instanceIdentifier:n}){const o=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),d=t.getProvider("app-check-internal");return new eS(o,s,d,n,OBe)}function IGe(){hf(new um(aJ,pGe,"PUBLIC").setMultipleInstances(!0)),ld(AY,yY,""),ld(AY,yY,"esm2017")}IGe();let Xp;const fGe=new Uint8Array(16);function bGe(){if(!Xp&&(Xp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xp(fGe)}const no=[];for(let t=0;t<256;++t)no.push((t+256).toString(16).slice(1));function AGe(t,n=0){return no[t[n+0]]+no[t[n+1]]+no[t[n+2]]+no[t[n+3]]+"-"+no[t[n+4]]+no[t[n+5]]+"-"+no[t[n+6]]+no[t[n+7]]+"-"+no[t[n+8]]+no[t[n+9]]+"-"+no[t[n+10]]+no[t[n+11]]+no[t[n+12]]+no[t[n+13]]+no[t[n+14]]+no[t[n+15]]}const yGe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kY={randomUUID:yGe};function dJ(t,n,o){if(kY.randomUUID&&!n&&!t)return kY.randomUUID();t=t||{};const s=t.random||(t.rng||bGe)();return s[6]=s[6]&15|64,s[8]=s[8]&63|128,AGe(s)}var uJ={exports:{}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class tS{constructor(n){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof n.crashNumberLimit=="number"?n.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof n.minimumNonErrorTimePeriod=="number"?n.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=o=>{const s="error"in o?o.error:o.reason;s instanceof Error&&this._handleError(s,o)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(n,o){this._listeners[n]||(this._listeners[n]=[]),this._listeners[n].push(o)}off(n,o){this._listeners[n]=this._listeners[n].filter(s=>s!==o)}_fire(n,...o){const s=this._listeners[n]||[];for(const d of s)d.apply(this,[null,...o])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(n,o){if(this._shouldReactToError(n)){this.crashes.push({message:n.message,stack:n.stack,filename:o instanceof ErrorEvent?o.filename:void 0,lineno:o instanceof ErrorEvent?o.lineno:void 0,colno:o instanceof ErrorEvent?o.colno:void 0,date:this._now()});const s=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:n,causesRestart:s}),s?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(n){return n.is&&n.is("CKEditorError")&&n.context!==void 0&&n.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(n)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const n=this.crashes[this.crashes.length-1].date,o=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(n-o)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function Ww(t,n=new Set){const o=[t],s=new Set;let d=0;for(;o.length>d;){const m=o[d++];if(!(s.has(m)||!kGe(m)||n.has(m)))if(s.add(m),Symbol.iterator in m)try{for(const p of m)o.push(p)}catch{}else for(const p in m)p!=="defaultValue"&&o.push(m[p])}return s}function kGe(t){const n=Object.prototype.toString.call(t),o=typeof t;return!(o==="number"||o==="boolean"||o==="string"||o==="symbol"||o==="function"||n==="[object Date]"||n==="[object RegExp]"||n==="[object Module]"||t===void 0||t===null||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function hJ(t,n,o=new Set){if(t===n&&vGe(t))return!0;const s=Ww(t,o),d=Ww(n,o);for(const m of s)if(d.has(m))return!0;return!1}function vGe(t){return typeof t=="object"&&t!==null}var mJ=typeof global=="object"&&global&&global.Object===Object&&global,wGe=typeof self=="object"&&self&&self.Object===Object&&self,bs=mJ||wGe||Function("return this")(),wd=bs.Symbol,CJ=Object.prototype,xGe=CJ.hasOwnProperty,SGe=CJ.toString,$u=wd?wd.toStringTag:void 0;function BGe(t){var n=xGe.call(t,$u),o=t[$u];try{t[$u]=void 0;var s=!0}catch{}var d=SGe.call(t);return s&&(n?t[$u]=o:delete t[$u]),d}var ZGe=Object.prototype,GGe=ZGe.toString;function RGe(t){return GGe.call(t)}var VGe="[object Null]",WGe="[object Undefined]",vY=wd?wd.toStringTag:void 0;function Jc(t){return t==null?t===void 0?WGe:VGe:vY&&vY in Object(t)?BGe(t):RGe(t)}function Vl(t){return t!=null&&typeof t=="object"}var _Ge="[object Symbol]";function NGe(t){return typeof t=="symbol"||Vl(t)&&Jc(t)==_Ge}var nS=Array.isArray,EGe=/\s/;function XGe(t){for(var n=t.length;n--&&EGe.test(t.charAt(n)););return n}var YGe=/^\s+/;function DGe(t){return t&&t.slice(0,XGe(t)+1).replace(YGe,"")}function Ga(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var wY=NaN,HGe=/^[-+]0x[0-9a-f]+$/i,FGe=/^0b[01]+$/i,MGe=/^0o[0-7]+$/i,TGe=parseInt;function xY(t){if(typeof t=="number")return t;if(NGe(t))return wY;if(Ga(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=Ga(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=DGe(t);var o=FGe.test(t);return o||MGe.test(t)?TGe(t.slice(2),o?2:8):HGe.test(t)?wY:+t}var JGe="[object AsyncFunction]",LGe="[object Function]",zGe="[object GeneratorFunction]",KGe="[object Proxy]";function pJ(t){if(!Ga(t))return!1;var n=Jc(t);return n==LGe||n==zGe||n==JGe||n==KGe}var Vk=bs["__core-js_shared__"],SY=function(){var t=/[^.]+$/.exec(Vk&&Vk.keys&&Vk.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function PGe(t){return!!SY&&SY in t}var jGe=Function.prototype,OGe=jGe.toString;function Lc(t){if(t!=null){try{return OGe.call(t)}catch{}try{return t+""}catch{}}return""}var UGe=/[\\^$.*+?()[\]{}|]/g,QGe=/^\[object .+?Constructor\]$/,qGe=Function.prototype,$Ge=Object.prototype,eRe=qGe.toString,tRe=$Ge.hasOwnProperty,nRe=RegExp("^"+eRe.call(tRe).replace(UGe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function iRe(t){if(!Ga(t)||PGe(t))return!1;var n=pJ(t)?nRe:QGe;return n.test(Lc(t))}function oRe(t,n){return t==null?void 0:t[n]}function zc(t,n){var o=oRe(t,n);return iRe(o)?o:void 0}var _w=zc(bs,"WeakMap"),BY=Object.create,rRe=function(){function t(){}return function(n){if(!Ga(n))return{};if(BY)return BY(n);t.prototype=n;var o=new t;return t.prototype=void 0,o}}();function sRe(t,n){var o=-1,s=t.length;for(n||(n=Array(s));++o<s;)n[o]=t[o];return n}var ZY=function(){try{var t=zc(Object,"defineProperty");return t({},"",{}),t}catch{}}();function aRe(t,n){for(var o=-1,s=t==null?0:t.length;++o<s&&n(t[o],o,t)!==!1;);return t}var lRe=9007199254740991,cRe=/^(?:0|[1-9]\d*)$/;function gRe(t,n){var o=typeof t;return n=n??lRe,!!n&&(o=="number"||o!="symbol"&&cRe.test(t))&&t>-1&&t%1==0&&t<n}function IJ(t,n,o){n=="__proto__"&&ZY?ZY(t,n,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[n]=o}function fJ(t,n){return t===n||t!==t&&n!==n}var dRe=Object.prototype,uRe=dRe.hasOwnProperty;function bJ(t,n,o){var s=t[n];(!(uRe.call(t,n)&&fJ(s,o))||o===void 0&&!(n in t))&&IJ(t,n,o)}function $b(t,n,o,s){var d=!o;o||(o={});for(var m=-1,p=n.length;++m<p;){var v=n[m],k=void 0;k===void 0&&(k=t[v]),d?IJ(o,v,k):bJ(o,v,k)}return o}var hRe=9007199254740991;function AJ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=hRe}function yJ(t){return t!=null&&AJ(t.length)&&!pJ(t)}var mRe=Object.prototype;function iS(t){var n=t&&t.constructor,o=typeof n=="function"&&n.prototype||mRe;return t===o}function CRe(t,n){for(var o=-1,s=Array(t);++o<t;)s[o]=n(o);return s}var pRe="[object Arguments]";function GY(t){return Vl(t)&&Jc(t)==pRe}var kJ=Object.prototype,IRe=kJ.hasOwnProperty,fRe=kJ.propertyIsEnumerable,bRe=GY(function(){return arguments}())?GY:function(t){return Vl(t)&&IRe.call(t,"callee")&&!fRe.call(t,"callee")};function ARe(){return!1}var vJ=typeof rr=="object"&&rr&&!rr.nodeType&&rr,RY=vJ&&typeof po=="object"&&po&&!po.nodeType&&po,yRe=RY&&RY.exports===vJ,VY=yRe?bs.Buffer:void 0,kRe=VY?VY.isBuffer:void 0,wJ=kRe||ARe,vRe="[object Arguments]",wRe="[object Array]",xRe="[object Boolean]",SRe="[object Date]",BRe="[object Error]",ZRe="[object Function]",GRe="[object Map]",RRe="[object Number]",VRe="[object Object]",WRe="[object RegExp]",_Re="[object Set]",NRe="[object String]",ERe="[object WeakMap]",XRe="[object ArrayBuffer]",YRe="[object DataView]",DRe="[object Float32Array]",HRe="[object Float64Array]",FRe="[object Int8Array]",MRe="[object Int16Array]",TRe="[object Int32Array]",JRe="[object Uint8Array]",LRe="[object Uint8ClampedArray]",zRe="[object Uint16Array]",KRe="[object Uint32Array]",Un={};Un[DRe]=Un[HRe]=Un[FRe]=Un[MRe]=Un[TRe]=Un[JRe]=Un[LRe]=Un[zRe]=Un[KRe]=!0;Un[vRe]=Un[wRe]=Un[XRe]=Un[xRe]=Un[YRe]=Un[SRe]=Un[BRe]=Un[ZRe]=Un[GRe]=Un[RRe]=Un[VRe]=Un[WRe]=Un[_Re]=Un[NRe]=Un[ERe]=!1;function PRe(t){return Vl(t)&&AJ(t.length)&&!!Un[Jc(t)]}function oS(t){return function(n){return t(n)}}var xJ=typeof rr=="object"&&rr&&!rr.nodeType&&rr,Rh=xJ&&typeof po=="object"&&po&&!po.nodeType&&po,jRe=Rh&&Rh.exports===xJ,Wk=jRe&&mJ.process,xd=function(){try{var t=Rh&&Rh.require&&Rh.require("util").types;return t||Wk&&Wk.binding&&Wk.binding("util")}catch{}}(),WY=xd&&xd.isTypedArray,ORe=WY?oS(WY):PRe,URe=Object.prototype,QRe=URe.hasOwnProperty;function SJ(t,n){var o=nS(t),s=!o&&bRe(t),d=!o&&!s&&wJ(t),m=!o&&!s&&!d&&ORe(t),p=o||s||d||m,v=p?CRe(t.length,String):[],k=v.length;for(var Z in t)(n||QRe.call(t,Z))&&!(p&&(Z=="length"||d&&(Z=="offset"||Z=="parent")||m&&(Z=="buffer"||Z=="byteLength"||Z=="byteOffset")||gRe(Z,k)))&&v.push(Z);return v}function BJ(t,n){return function(o){return t(n(o))}}var qRe=BJ(Object.keys,Object),$Re=Object.prototype,eVe=$Re.hasOwnProperty;function tVe(t){if(!iS(t))return qRe(t);var n=[];for(var o in Object(t))eVe.call(t,o)&&o!="constructor"&&n.push(o);return n}function rS(t){return yJ(t)?SJ(t):tVe(t)}function nVe(t){var n=[];if(t!=null)for(var o in Object(t))n.push(o);return n}var iVe=Object.prototype,oVe=iVe.hasOwnProperty;function rVe(t){if(!Ga(t))return nVe(t);var n=iS(t),o=[];for(var s in t)s=="constructor"&&(n||!oVe.call(t,s))||o.push(s);return o}function sS(t){return yJ(t)?SJ(t,!0):rVe(t)}var mm=zc(Object,"create");function sVe(){this.__data__=mm?mm(null):{},this.size=0}function aVe(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var lVe="__lodash_hash_undefined__",cVe=Object.prototype,gVe=cVe.hasOwnProperty;function dVe(t){var n=this.__data__;if(mm){var o=n[t];return o===lVe?void 0:o}return gVe.call(n,t)?n[t]:void 0}var uVe=Object.prototype,hVe=uVe.hasOwnProperty;function mVe(t){var n=this.__data__;return mm?n[t]!==void 0:hVe.call(n,t)}var CVe="__lodash_hash_undefined__";function pVe(t,n){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=mm&&n===void 0?CVe:n,this}function Xc(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var s=t[n];this.set(s[0],s[1])}}Xc.prototype.clear=sVe;Xc.prototype.delete=aVe;Xc.prototype.get=dVe;Xc.prototype.has=mVe;Xc.prototype.set=pVe;function IVe(){this.__data__=[],this.size=0}function eA(t,n){for(var o=t.length;o--;)if(fJ(t[o][0],n))return o;return-1}var fVe=Array.prototype,bVe=fVe.splice;function AVe(t){var n=this.__data__,o=eA(n,t);if(o<0)return!1;var s=n.length-1;return o==s?n.pop():bVe.call(n,o,1),--this.size,!0}function yVe(t){var n=this.__data__,o=eA(n,t);return o<0?void 0:n[o][1]}function kVe(t){return eA(this.__data__,t)>-1}function vVe(t,n){var o=this.__data__,s=eA(o,t);return s<0?(++this.size,o.push([t,n])):o[s][1]=n,this}function Xa(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var s=t[n];this.set(s[0],s[1])}}Xa.prototype.clear=IVe;Xa.prototype.delete=AVe;Xa.prototype.get=yVe;Xa.prototype.has=kVe;Xa.prototype.set=vVe;var Cm=zc(bs,"Map");function wVe(){this.size=0,this.__data__={hash:new Xc,map:new(Cm||Xa),string:new Xc}}function xVe(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function tA(t,n){var o=t.__data__;return xVe(n)?o[typeof n=="string"?"string":"hash"]:o.map}function SVe(t){var n=tA(this,t).delete(t);return this.size-=n?1:0,n}function BVe(t){return tA(this,t).get(t)}function ZVe(t){return tA(this,t).has(t)}function GVe(t,n){var o=tA(this,t),s=o.size;return o.set(t,n),this.size+=o.size==s?0:1,this}function Ld(t){var n=-1,o=t==null?0:t.length;for(this.clear();++n<o;){var s=t[n];this.set(s[0],s[1])}}Ld.prototype.clear=wVe;Ld.prototype.delete=SVe;Ld.prototype.get=BVe;Ld.prototype.has=ZVe;Ld.prototype.set=GVe;function ZJ(t,n){for(var o=-1,s=n.length,d=t.length;++o<s;)t[d+o]=n[o];return t}var aS=BJ(Object.getPrototypeOf,Object),RVe="[object Object]",VVe=Function.prototype,WVe=Object.prototype,GJ=VVe.toString,_Ve=WVe.hasOwnProperty,NVe=GJ.call(Object);function EVe(t){if(!Vl(t)||Jc(t)!=RVe)return!1;var n=aS(t);if(n===null)return!0;var o=_Ve.call(n,"constructor")&&n.constructor;return typeof o=="function"&&o instanceof o&&GJ.call(o)==NVe}function XVe(){this.__data__=new Xa,this.size=0}function YVe(t){var n=this.__data__,o=n.delete(t);return this.size=n.size,o}function DVe(t){return this.__data__.get(t)}function HVe(t){return this.__data__.has(t)}var FVe=200;function MVe(t,n){var o=this.__data__;if(o instanceof Xa){var s=o.__data__;if(!Cm||s.length<FVe-1)return s.push([t,n]),this.size=++o.size,this;o=this.__data__=new Ld(s)}return o.set(t,n),this.size=o.size,this}function zd(t){var n=this.__data__=new Xa(t);this.size=n.size}zd.prototype.clear=XVe;zd.prototype.delete=YVe;zd.prototype.get=DVe;zd.prototype.has=HVe;zd.prototype.set=MVe;function TVe(t,n){return t&&$b(n,rS(n),t)}function JVe(t,n){return t&&$b(n,sS(n),t)}var RJ=typeof rr=="object"&&rr&&!rr.nodeType&&rr,_Y=RJ&&typeof po=="object"&&po&&!po.nodeType&&po,LVe=_Y&&_Y.exports===RJ,NY=LVe?bs.Buffer:void 0,EY=NY?NY.allocUnsafe:void 0;function zVe(t,n){if(n)return t.slice();var o=t.length,s=EY?EY(o):new t.constructor(o);return t.copy(s),s}function KVe(t,n){for(var o=-1,s=t==null?0:t.length,d=0,m=[];++o<s;){var p=t[o];n(p,o,t)&&(m[d++]=p)}return m}function VJ(){return[]}var PVe=Object.prototype,jVe=PVe.propertyIsEnumerable,XY=Object.getOwnPropertySymbols,lS=XY?function(t){return t==null?[]:(t=Object(t),KVe(XY(t),function(n){return jVe.call(t,n)}))}:VJ;function OVe(t,n){return $b(t,lS(t),n)}var UVe=Object.getOwnPropertySymbols,WJ=UVe?function(t){for(var n=[];t;)ZJ(n,lS(t)),t=aS(t);return n}:VJ;function QVe(t,n){return $b(t,WJ(t),n)}function _J(t,n,o){var s=n(t);return nS(t)?s:ZJ(s,o(t))}function qVe(t){return _J(t,rS,lS)}function $Ve(t){return _J(t,sS,WJ)}var Nw=zc(bs,"DataView"),Ew=zc(bs,"Promise"),Xw=zc(bs,"Set"),YY="[object Map]",eWe="[object Object]",DY="[object Promise]",HY="[object Set]",FY="[object WeakMap]",MY="[object DataView]",tWe=Lc(Nw),nWe=Lc(Cm),iWe=Lc(Ew),oWe=Lc(Xw),rWe=Lc(_w),ma=Jc;(Nw&&ma(new Nw(new ArrayBuffer(1)))!=MY||Cm&&ma(new Cm)!=YY||Ew&&ma(Ew.resolve())!=DY||Xw&&ma(new Xw)!=HY||_w&&ma(new _w)!=FY)&&(ma=function(t){var n=Jc(t),o=n==eWe?t.constructor:void 0,s=o?Lc(o):"";if(s)switch(s){case tWe:return MY;case nWe:return YY;case iWe:return DY;case oWe:return HY;case rWe:return FY}return n});var sWe=Object.prototype,aWe=sWe.hasOwnProperty;function lWe(t){var n=t.length,o=new t.constructor(n);return n&&typeof t[0]=="string"&&aWe.call(t,"index")&&(o.index=t.index,o.input=t.input),o}var TY=bs.Uint8Array;function cS(t){var n=new t.constructor(t.byteLength);return new TY(n).set(new TY(t)),n}function cWe(t,n){var o=n?cS(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}var gWe=/\w*$/;function dWe(t){var n=new t.constructor(t.source,gWe.exec(t));return n.lastIndex=t.lastIndex,n}var JY=wd?wd.prototype:void 0,LY=JY?JY.valueOf:void 0;function uWe(t){return LY?Object(LY.call(t)):{}}function hWe(t,n){var o=n?cS(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}var mWe="[object Boolean]",CWe="[object Date]",pWe="[object Map]",IWe="[object Number]",fWe="[object RegExp]",bWe="[object Set]",AWe="[object String]",yWe="[object Symbol]",kWe="[object ArrayBuffer]",vWe="[object DataView]",wWe="[object Float32Array]",xWe="[object Float64Array]",SWe="[object Int8Array]",BWe="[object Int16Array]",ZWe="[object Int32Array]",GWe="[object Uint8Array]",RWe="[object Uint8ClampedArray]",VWe="[object Uint16Array]",WWe="[object Uint32Array]";function _We(t,n,o){var s=t.constructor;switch(n){case kWe:return cS(t);case mWe:case CWe:return new s(+t);case vWe:return cWe(t,o);case wWe:case xWe:case SWe:case BWe:case ZWe:case GWe:case RWe:case VWe:case WWe:return hWe(t,o);case pWe:return new s;case IWe:case AWe:return new s(t);case fWe:return dWe(t);case bWe:return new s;case yWe:return uWe(t)}}function NWe(t){return typeof t.constructor=="function"&&!iS(t)?rRe(aS(t)):{}}var EWe="[object Map]";function XWe(t){return Vl(t)&&ma(t)==EWe}var zY=xd&&xd.isMap,YWe=zY?oS(zY):XWe,DWe="[object Set]";function HWe(t){return Vl(t)&&ma(t)==DWe}var KY=xd&&xd.isSet,FWe=KY?oS(KY):HWe,MWe=1,TWe=2,JWe=4,NJ="[object Arguments]",LWe="[object Array]",zWe="[object Boolean]",KWe="[object Date]",PWe="[object Error]",EJ="[object Function]",jWe="[object GeneratorFunction]",OWe="[object Map]",UWe="[object Number]",XJ="[object Object]",QWe="[object RegExp]",qWe="[object Set]",$We="[object String]",e_e="[object Symbol]",t_e="[object WeakMap]",n_e="[object ArrayBuffer]",i_e="[object DataView]",o_e="[object Float32Array]",r_e="[object Float64Array]",s_e="[object Int8Array]",a_e="[object Int16Array]",l_e="[object Int32Array]",c_e="[object Uint8Array]",g_e="[object Uint8ClampedArray]",d_e="[object Uint16Array]",u_e="[object Uint32Array]",zn={};zn[NJ]=zn[LWe]=zn[n_e]=zn[i_e]=zn[zWe]=zn[KWe]=zn[o_e]=zn[r_e]=zn[s_e]=zn[a_e]=zn[l_e]=zn[OWe]=zn[UWe]=zn[XJ]=zn[QWe]=zn[qWe]=zn[$We]=zn[e_e]=zn[c_e]=zn[g_e]=zn[d_e]=zn[u_e]=!0;zn[PWe]=zn[EJ]=zn[t_e]=!1;function uI(t,n,o,s,d,m){var p,v=n&MWe,k=n&TWe,Z=n&JWe;if(o&&(p=d?o(t,s,d,m):o(t)),p!==void 0)return p;if(!Ga(t))return t;var _=nS(t);if(_){if(p=lWe(t),!v)return sRe(t,p)}else{var N=ma(t),G=N==EJ||N==jWe;if(wJ(t))return zVe(t,v);if(N==XJ||N==NJ||G&&!d){if(p=k||G?{}:NWe(t),!v)return k?QVe(t,JVe(p,t)):OVe(t,TVe(p,t))}else{if(!zn[N])return d?t:{};p=_We(t,N,v)}}m||(m=new zd);var D=m.get(t);if(D)return D;m.set(t,p),FWe(t)?t.forEach(function(O){p.add(uI(O,n,o,O,t,m))}):YWe(t)&&t.forEach(function(O,P){p.set(P,uI(O,n,o,P,t,m))});var M=Z?k?$Ve:qVe:k?sS:rS,L=_?void 0:M(t);return aRe(L||t,function(O,P){L&&(P=O,O=t[P]),bJ(p,P,uI(O,n,o,P,t,m))}),p}var h_e=1,m_e=4;function C_e(t,n){return n=typeof n=="function"?n:void 0,uI(t,h_e|m_e,n)}var _k=function(){return bs.Date.now()},p_e="Expected a function",I_e=Math.max,f_e=Math.min;function b_e(t,n,o){var s,d,m,p,v,k,Z=0,_=!1,N=!1,G=!0;if(typeof t!="function")throw new TypeError(p_e);n=xY(n)||0,Ga(o)&&(_=!!o.leading,N="maxWait"in o,m=N?I_e(xY(o.maxWait)||0,n):m,G="trailing"in o?!!o.trailing:G);function D(ue){var K=s,de=d;return s=d=void 0,Z=ue,p=t.apply(de,K),p}function M(ue){return Z=ue,v=setTimeout(P,n),_?D(ue):p}function L(ue){var K=ue-k,de=ue-Z,pe=n-K;return N?f_e(pe,m-de):pe}function O(ue){var K=ue-k,de=ue-Z;return k===void 0||K>=n||K<0||N&&de>=m}function P(){var ue=_k();if(O(ue))return F(ue);v=setTimeout(P,L(ue))}function F(ue){return v=void 0,G&&s?D(ue):(s=d=void 0,p)}function j(){v!==void 0&&clearTimeout(v),Z=0,s=k=d=v=void 0}function ie(){return v===void 0?p:F(_k())}function ne(){var ue=_k(),K=O(ue);if(s=arguments,d=this,k=ue,K){if(v===void 0)return M(k);if(N)return clearTimeout(v),v=setTimeout(P,n),D(k)}return v===void 0&&(v=setTimeout(P,n)),p}return ne.cancel=j,ne.flush=ie,ne}function PY(t){return Vl(t)&&t.nodeType===1&&!EVe(t)}var A_e="Expected a function";function y_e(t,n,o){var s=!0,d=!0;if(typeof t!="function")throw new TypeError(A_e);return Ga(o)&&(s="leading"in o?!!o.leading:s,d="trailing"in o?!!o.trailing:d),b_e(t,n,{leading:s,maxWait:n,trailing:d})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class YJ extends tS{constructor(n,o={}){super(o),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=y_e(this._save.bind(this),typeof o.saveInterval=="number"?o.saveInterval:5e3),n&&(this._creator=(s,d)=>n.create(s,d)),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(n=>{console.error("An error happened during the editor destroying.",n)}).then(()=>{const n={},o=[],s=this._config.rootsAttributes||{},d={};for(const[p,v]of Object.entries(this._data.roots))v.isLoaded?(n[p]="",d[p]=s[p]||{}):o.push(p);const m={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:o,rootsAttributes:d,_watchdogInitialData:this._data};return delete m.initialData,m.extraPlugins.push(k_e),this._initUsingData?this.create(n,m,m.context):PY(this._elementOrData)?this.create(this._elementOrData,m,m.context):this.create(this._editables,m,m.context)}).then(()=>{this._fire("restart")})}create(n=this._elementOrData,o=this._config,s){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=n,this._initUsingData=typeof n=="string"||Object.keys(n).length>0&&typeof Object.values(n)[0]=="string",this._config=this._cloneEditorConfiguration(o)||{},this._config.context=s,this._creator(n,this._config))).then(d=>{this._editor=d,d.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=d.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const n=this._editor;return this._editor=null,n.model.document.off("change:data",this._throttledSave),this._destructor(n)})}_save(){const n=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=n}catch(o){console.error(o,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(n){this._excludedProps=n}_getData(){const n=this._editor,o=n.model.document.roots.filter(v=>v.isAttached()&&v.rootName!="$graveyard"),{plugins:s}=n,d=s.has("CommentsRepository")&&s.get("CommentsRepository"),m=s.has("TrackChanges")&&s.get("TrackChanges"),p={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};o.forEach(v=>{p.roots[v.rootName]={content:JSON.stringify(Array.from(v.getChildren())),attributes:JSON.stringify(Array.from(v.getAttributes())),isLoaded:v._isLoaded}});for(const v of n.model.markers)v._affectsData&&(p.markers[v.name]={rangeJSON:v.getRange().toJSON(),usingOperation:v._managedUsingOperations,affectsData:v._affectsData});return d&&(p.commentThreads=JSON.stringify(d.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),m&&(p.suggestions=JSON.stringify(m.getSuggestions({toJSON:!0,skipNotAttached:!0}))),p}_getEditables(){const n={};for(const o of this.editor.model.document.getRootNames()){const s=this.editor.ui.getEditableElement(o);s&&(n[o]=s)}return n}_isErrorComingFromThisItem(n){return hJ(this._editor,n.context,this._excludedProps)}_cloneEditorConfiguration(n){return C_e(n,(o,s)=>{if(PY(o)||s==="context")return o})}}class k_e{constructor(n){this.editor=n,this._data=n.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",n=>{n.stop(),this.editor.model.enqueueChange({isUndoable:!1},o=>{this._restoreCollaborationData(),this._restoreEditorData(o)}),this.editor.data.fire("ready")},{priority:999})}_createNode(n,o){if("name"in o){const s=n.createElement(o.name,o.attributes);if(o.children)for(const d of o.children)s._appendChild(this._createNode(n,d));return s}else return n.createText(o.data,o.attributes)}_restoreEditorData(n){const o=this.editor;Object.entries(this._data.roots).forEach(([s,{content:d,attributes:m}])=>{const p=JSON.parse(d),v=JSON.parse(m),k=o.model.document.getRoot(s);for(const[Z,_]of v)n.setAttribute(Z,_,k);for(const Z of p){const _=this._createNode(n,Z);n.insert(_,k,"end")}}),Object.entries(this._data.markers).forEach(([s,d])=>{const{document:m}=o.model,{rangeJSON:{start:p,end:v},...k}=d,Z=m.getRoot(p.root),_=n.createPositionFromPath(Z,p.path,p.stickiness),N=n.createPositionFromPath(Z,v.path,v.stickiness),G=n.createRange(_,N);n.addMarker(s,{range:G,...k})})}_restoreCollaborationData(){const n=JSON.parse(this._data.commentThreads),o=JSON.parse(this._data.suggestions);n.forEach(s=>{const d=this.editor.config.get("collaboration.channelId"),m=this.editor.plugins.get("CommentsRepository");m.hasCommentThread(s.threadId)&&m.getCommentThread(s.threadId).remove(),m.addCommentThread({channelId:d,...s})}),o.forEach(s=>{const d=this.editor.plugins.get("TrackChangesEditing");if(d.hasSuggestion(s.id)){const m=d.getSuggestion(s.id);m.attributes=s.attributes}else d.addSuggestionData(s)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const Vh=Symbol("MainQueueId");class v_e extends tS{constructor(n,o={}){super(o),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new w_e,this._watchdogConfig=o,this._creator=s=>n.create(s),this._destructor=s=>s.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}get context(){return this._context}create(n={}){return this._actionQueues.enqueue(Vh,()=>(this._contextConfig=n,this._create()))}getItem(n){return this._getWatchdog(n)._item}getItemState(n){return this._getWatchdog(n).state}add(n){const o=jY(n);return Promise.all(o.map(s=>this._actionQueues.enqueue(s.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let d;if(this._watchdogs.has(s.id))throw new Error(`Item with the given id is already added: '${s.id}'.`);if(s.type==="editor")return d=new YJ(null,this._watchdogConfig),d.setCreator(s.creator),d._setExcludedProperties(this._contextProps),s.destructor&&d.setDestructor(s.destructor),this._watchdogs.set(s.id,d),d.on("error",(m,{error:p,causesRestart:v})=>{this._fire("itemError",{itemId:s.id,error:p}),v&&this._actionQueues.enqueue(s.id,()=>new Promise(k=>{const Z=()=>{d.off("restart",Z),this._fire("itemRestart",{itemId:s.id}),k()};d.on("restart",Z)}))}),d.create(s.sourceElementOrData,s.config,this._context);throw new Error(`Not supported item type: '${s.type}'.`)})))}remove(n){const o=jY(n);return Promise.all(o.map(s=>this._actionQueues.enqueue(s,()=>{const d=this._getWatchdog(s);return this._watchdogs.delete(s),d.destroy()})))}destroy(){return this._actionQueues.enqueue(Vh,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Vh,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(n=>{console.error("An error happened during destroying the context or items.",n)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(n=>(this._context=n,this._contextProps=Ww(this._context),Promise.all(Array.from(this._watchdogs.values()).map(o=>(o._setExcludedProperties(this._contextProps),o.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const n=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(o=>o.destroy())).then(()=>this._destructor(n))})}_getWatchdog(n){const o=this._watchdogs.get(n);if(!o)throw new Error(`Item with the given id was not registered: ${n}.`);return o}_isErrorComingFromThisItem(n){for(const o of this._watchdogs.values())if(o._isErrorComingFromThisItem(n))return!1;return hJ(this._context,n.context)}}class w_e{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(n){this._onEmptyCallbacks.push(n)}enqueue(n,o){const s=n===Vh;this._activeActions++,this._queues.get(n)||this._queues.set(n,Promise.resolve());const m=(s?Promise.all(this._queues.values()):Promise.all([this._queues.get(Vh),this._queues.get(n)])).then(o),p=m.catch(()=>{});return this._queues.set(n,p),m.finally(()=>{this._activeActions--,this._queues.get(n)===p&&this._activeActions===0&&this._onEmptyCallbacks.forEach(v=>v())})}}function jY(t){return Array.isArray(t)?t:[t]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const x_e=Object.freeze(Object.defineProperty({__proto__:null,ContextWatchdog:v_e,EditorWatchdog:YJ,Watchdog:tS},Symbol.toStringTag,{value:"Module"})),S_e=Js(x_e);/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(t,n){(function(o,s){t.exports=s(q,bb(),S_e)})(self,(o,s,d)=>(()=>{var m={546:Z=>{Z.exports=d},949:Z=>{Z.exports=s},155:Z=>{Z.exports=o}},p={};function v(Z){var _=p[Z];if(_!==void 0)return _.exports;var N=p[Z]={exports:{}};return m[Z](N,N.exports,v),N.exports}v.n=Z=>{var _=Z&&Z.__esModule?()=>Z.default:()=>Z;return v.d(_,{a:_}),_},v.d=(Z,_)=>{for(var N in _)v.o(_,N)&&!v.o(Z,N)&&Object.defineProperty(Z,N,{enumerable:!0,get:_[N]})},v.o=(Z,_)=>Object.prototype.hasOwnProperty.call(Z,_),v.r=Z=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Z,"__esModule",{value:!0})};var k={};return(()=>{v.r(k),v.d(k,{CKEditor:()=>j,CKEditorContext:()=>O,useMultiRootEditor:()=>Ee});var Z=v(155),_=v.n(Z),N=v(949),G=v.n(N);const D=new Array(256).fill("").map((Se,ke)=>("0"+ke.toString(16)).slice(-2));var M=v(546);const L=_().createContext("contextWatchdog");class O extends _().Component{constructor(ke,Be){super(ke,Be),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(ke){return this._shouldComponentUpdate(ke)}async _shouldComponentUpdate(ke){return ke.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(ke.config)),ke.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(ke.config),!0):this.props.children!==ke.children}render(){return _().createElement(L.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(ke){this.contextWatchdog=new M.ContextWatchdog(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(Be,Re)=>{this.props.onError(Re.error,{phase:"runtime",willContextRestart:Re.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(ke).catch(Be=>{this.props.onError(Be,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}O.defaultProps={isLayoutReady:!0,onError:(Se,ke)=>console.error(Se,ke)},O.propTypes={id:G().string,isLayoutReady:G().bool,context:G().func,watchdogConfig:G().object,config:G().object,onReady:G().func,onError:G().func};class P{constructor(ke,Be){this._releaseLock=null,this._value=null,this._afterMountCallbacks=[],this._state={destroyedBeforeInitialization:!1,mountingInProgress:null},this.release=function(Re){let fe=null;return(...Ze)=>(fe||(fe={current:Re(...Ze)}),fe.current)}(()=>{const{_releaseLock:Re,_state:fe,_element:Ze,_lifecycle:_e}=this;fe.mountingInProgress?fe.mountingInProgress.then(()=>_e.unmount({element:Ze,mountResult:this.value})).catch(Pe=>{console.error("Semaphore unmounting error:",Pe)}).then(Re.resolve).then(()=>{this._value=null}):(fe.destroyedBeforeInitialization=!0,Re.resolve())}),this._element=ke,this._lifecycle=Be,this._lock()}get value(){return this._value}unsafeSetValue(ke){this._value=ke,this._afterMountCallbacks.forEach(Be=>Be(ke)),this._afterMountCallbacks=[]}runAfterMount(ke){const{_value:Be,_afterMountCallbacks:Re}=this;Be?ke(Be):Re.push(ke)}_lock(){const{_semaphores:ke}=P,{_state:Be,_element:Re,_lifecycle:fe}=this,Ze=ke.get(Re)||Promise.resolve(null),_e=function(){const Qe={resolve:null,promise:null};return Qe.promise=new Promise(Je=>{Qe.resolve=Je}),Qe}();this._releaseLock=_e;const Pe=Ze.then(()=>Be.destroyedBeforeInitialization?Promise.resolve(void 0):(Be.mountingInProgress=fe.mount().then(Qe=>(Qe&&this.unsafeSetValue(Qe),Qe)),Be.mountingInProgress)).then(async Qe=>{Qe&&fe.afterMount&&await fe.afterMount({element:Re,mountResult:Qe})}).then(()=>_e.promise).catch(Qe=>{console.error("Semaphore mounting error:",Qe)}).then(()=>{ke.get(Re)===Pe&&ke.delete(Re)});ke.set(Re,Pe)}}P._semaphores=new Map;const F="Lock from React integration (@ckeditor/ckeditor5-react)";class j extends _().Component{constructor(ke){super(ke),this.domContainer=_().createRef(),this.editorSemaphore=null;const{CKEDITOR_VERSION:Be}=window;if(Be){const[Re]=Be.split(".").map(Number);Re<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get _semaphoreValue(){const{editorSemaphore:ke}=this;return ke?ke.value:null}get watchdog(){const{_semaphoreValue:ke}=this;return ke?ke.watchdog:null}get editor(){const{_semaphoreValue:ke}=this;return ke?ke.instance:null}shouldComponentUpdate(ke){const{props:Be,editorSemaphore:Re}=this;return ke.id!==Be.id||ke.disableWatchdog!==Be.disableWatchdog||(Re&&(Re.runAfterMount(({instance:fe})=>{this._shouldUpdateEditorData(Be,ke,fe)&&fe.data.set(ke.data)}),"disabled"in ke&&Re.runAfterMount(({instance:fe})=>{ke.disabled?fe.enableReadOnlyMode(F):fe.disableReadOnlyMode(F)})),!1)}componentDidMount(){this._initLifeCycleSemaphore()}componentDidUpdate(){this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new P(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:ke})=>{const{onReady:Be}=this.props;Be&&this.domContainer.current!==null&&Be(ke.instance)},unmount:async({element:ke,mountResult:Be})=>{const{onAfterDestroy:Re}=this.props;try{await this._destroyEditor(Be),ke.innerHTML=""}finally{Re&&Re(Be.instance)}}})}render(){return _().createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const ke=this.context instanceof M.ContextWatchdog?new ie(this.context):new j._EditorWatchdog(this.props.editor,this.props.watchdogConfig),Be={current:0};return ke.setCreator(async(Re,fe)=>{const{editorSemaphore:Ze}=this,{onAfterDestroy:_e}=this.props;Be.current>0&&_e&&Ze&&Ze.value&&Ze.value.instance&&_e(Ze.value.instance);const Pe=await this._createEditor(Re,fe);return Be.current>0&&(Ze.unsafeSetValue({instance:Pe,watchdog:ke}),setTimeout(()=>{this.props.onReady&&this.props.onReady(ke.editor)})),Be.current++,Pe}),ke.on("error",(Re,{error:fe,causesRestart:Ze})=>{(this.props.onError||console.error)(fe,{phase:"runtime",willEditorRestart:Ze})}),await ke.create(this.domContainer.current,this._getConfig()).catch(Re=>{(this.props.onError||console.error)(Re,{phase:"initialization",willEditorRestart:!1})}),{watchdog:ke,instance:ke.editor}}_createEditor(ke,Be){return this.props.editor.create(ke,Be).then(Re=>{"disabled"in this.props&&this.props.disabled&&Re.enableReadOnlyMode(F);const fe=Re.model.document,Ze=Re.editing.view.document;return fe.on("change:data",_e=>{this.props.onChange&&this.props.onChange(_e,Re)}),Ze.on("focus",_e=>{this.props.onFocus&&this.props.onFocus(_e,Re)}),Ze.on("blur",_e=>{this.props.onBlur&&this.props.onBlur(_e,Re)}),Re})}async _destroyEditor(ke){const{watchdog:Be,instance:Re}=ke;return new Promise((fe,Ze)=>{setTimeout(async()=>{try{if(Be)return await Be.destroy(),fe();if(Re)return await Re.destroy(),fe();fe()}catch(_e){console.error(_e),Ze(_e)}})})}_shouldUpdateEditorData(ke,Be,Re){return ke.data!==Be.data&&Re.data.get()!==Be.data}_getConfig(){const ke=this.props.config||{};return this.props.data&&ke.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...ke,initialData:ke.initialData||this.props.data||""}}}j.contextType=L,j.propTypes={editor:G().func.isRequired,data:G().string,config:G().object,disableWatchdog:G().bool,watchdogConfig:G().object,onChange:G().func,onReady:G().func,onFocus:G().func,onBlur:G().func,onError:G().func,disabled:G().bool,id:G().any},j._EditorWatchdog=M.EditorWatchdog;class ie{constructor(ke){this._contextWatchdog=ke,this._id=function(){const Be=4294967296*Math.random()>>>0,Re=4294967296*Math.random()>>>0,fe=4294967296*Math.random()>>>0,Ze=4294967296*Math.random()>>>0;return"e"+D[255&Be]+D[Be>>8&255]+D[Be>>16&255]+D[Be>>24&255]+D[255&Re]+D[Re>>8&255]+D[Re>>16&255]+D[Re>>24&255]+D[255&fe]+D[fe>>8&255]+D[fe>>16&255]+D[fe>>24&255]+D[255&Ze]+D[Ze>>8&255]+D[Ze>>16&255]+D[Ze>>24&255]}()}setCreator(ke){this._creator=ke}create(ke,Be){return this._contextWatchdog.add({sourceElementOrData:ke,config:Be,creator:this._creator,id:this._id,type:"editor"})}on(ke,Be){this._contextWatchdog.on("itemError",(Re,{itemId:fe,error:Ze})=>{fe===this._id&&Be(null,{error:Ze,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}function ne(...Se){return ke=>{Se.forEach(Be=>{typeof Be=="function"?Be(ke):Be!=null&&(Be.current=ke)})}}function ue(Se,ke){for(const Be of Object.getOwnPropertyNames(ke))delete ke[Be];for(const[Be,Re]of Object.entries(Se))Re!==ke&&Be!=="prototype"&&Be!=="__proto__"&&(ke[Be]=Re);return ke}const K=Se=>{const ke=(0,Z.useRef)();return ke.current=Se,(0,Z.useCallback)((...Be)=>ke.current(...Be),[])};function de(Se,ke){return ke.length=0,ke.push(...Se),ke}const pe=(Se,ke,Be)=>{((Re,fe)=>{const Ze=(0,Z.useRef)(null);((_e,Pe)=>{if(_e===Pe)return!0;if(!_e||!Pe)return!1;for(let Qe=0;Qe<_e.length;++Qe)if(_e[Qe]!==Pe[Qe])return!1;return!0})(Ze.current,fe)||(Ze.current=[...fe],Re())})(()=>{Se&&Se.runAfterMount(ke)},[Se,...Be])},Ce="Lock from React integration (@ckeditor/ckeditor5-react)",be=(0,Z.memo)((0,Z.forwardRef)(({id:Se,semaphore:ke,rootName:Be},Re)=>{const fe=(0,Z.useRef)(null);return(0,Z.useEffect)(()=>{let Ze,_e;return ke.runAfterMount(({instance:Pe})=>{fe.current&&(_e=Pe,Ze=Pe.ui.view.createEditable(Be,fe.current),Pe.ui.addEditable(Ze),Pe.editing.view.forceRender())}),()=>{Ze&&fe.current&&_e&&_e.state!=="destroyed"&&_e.ui.removeEditable(Ze)}},[ke.revision]),_().createElement("div",{key:ke.revision,id:Se,ref:ne(Re,fe)})}));be.displayName="EditorEditable";const Ge=(0,Z.forwardRef)(({editor:Se},ke)=>{const Be=(0,Z.useRef)(null);return(0,Z.useEffect)(()=>{const Re=Be.current;if(!Se||!Re)return;const fe=Se.ui.view.toolbar.element;return Re&&Re.appendChild(fe),()=>{Re&&Re.removeChild(fe)}},[Se&&Se.id]),_().createElement("div",{ref:ne(Be,ke)})});Ge.displayName="EditorToolbarWrapper";const Ee=Se=>{const ke=(0,Z.useRef)(Se.semaphoreElement||null),Be=(()=>{const at=(0,Z.useRef)(null),[Wt,vt]=(0,Z.useState)(()=>Date.now()),It=()=>{vt(Date.now())},mt=(ct=!0)=>{at.current&&(at.current.release(),at.current=null),ct&&vt(Date.now())},Fe=ct=>{at.current&&at.current.runAfterMount(ct)};return{get current(){return at.current},revision:Wt,createAttributeRef:ct=>({get current(){return at.current&&at.current.value?at.current.value[ct]:null}}),unsafeSetValue:ct=>{var dt;(dt=at.current)===null||dt===void 0||dt.unsafeSetValue(ct),It()},release:mt,replace:ct=>{mt(!1),at.current=ct(),It(),Fe(It)},runAfterMount:Fe}})(),Re={watchdog:Be.createAttributeRef("watchdog"),instance:Be.createAttributeRef("instance")},fe=(0,Z.useContext)(L),[Ze,_e]=(0,Z.useState)(()=>Object.keys(Se.data)),[Pe,Qe]=(0,Z.useState)({...Se.data}),[Je,ve]=(0,Z.useState)({...Se.rootsAttributes}),Ye=(0,Z.useRef)(!0);(0,Z.useEffect)(()=>{const at=ke.current;if(at&&Se.isLayoutReady!==!1)return Be.replace(()=>new P(at,{mount:wt,afterMount:({mountResult:Wt})=>{const{onReady:vt}=Se;vt&&ke.current!==null&&vt(Wt.instance)},unmount:async({element:Wt,mountResult:vt})=>{const{onAfterDestroy:It}=Se;try{await ft(vt),Wt.innerHTML=""}finally{It&&It(vt.instance)}}})),()=>{Be.release(!1)}},[Se.id,Se.isLayoutReady]);const He=()=>{const at=Se.config||{};return Se.data&&at.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...at,rootsAttributes:Je}},Oe=K((at,Wt)=>{const vt=at.model.document;if(!Se.disableTwoWayDataBinding){const It={},mt={};vt.differ.getChanges().forEach(Fe=>{let ct;if(ct=Fe.type=="insert"||Fe.type=="remove"?Fe.position.root:Fe.range.root,!ct.isAttached())return;const{rootName:dt}=ct;It[dt]=at.getData({rootName:dt})}),vt.differ.getChangedRoots().forEach(Fe=>{if(Fe.state)return void(It[Fe.name]!==void 0&&delete It[Fe.name]);const ct=Fe.name;mt[ct]=at.getRootAttributes(ct)}),Object.keys(It).length&&Qe(Fe=>({...Fe,...It})),Object.keys(mt).length&&ve(Fe=>({...Fe,...mt}))}Se.onChange&&Se.onChange(Wt,at)}),je=K((at,Wt,vt)=>{const It=vt.rootName;Se.disableTwoWayDataBinding||(Qe(mt=>({...mt,[It]:at.getData({rootName:It})})),ve(mt=>({...mt,[It]:at.getRootAttributes(It)}))),_e(mt=>{return Fe=[...mt,vt.rootName],Array.from(new Set(Fe));var Fe})}),et=K((at,Wt,vt)=>{const It=vt.rootName;Se.disableTwoWayDataBinding||(Qe(mt=>{const{[It]:Fe,...ct}=mt;return{...ct}}),ve(mt=>{const{[It]:Fe,...ct}=mt;return{...ct}})),_e(mt=>mt.filter(Fe=>Fe!==It))}),Ct=K((at,Wt)=>(ue({...Se.rootsAttributes},Je),ue({...Se.data},Pe),de(Object.keys(Se.data),Ze),Se.editor.create(at,Wt).then(vt=>{const It=vt.getFullData();ue({...It},Pe),ue({...vt.getRootsAttributes()},Je),de(Object.keys(It),Ze),Se.disabled&&vt.enableReadOnlyMode(Ce);const mt=vt.model.document,Fe=vt.editing.view.document;return mt.on("change:data",ct=>Oe(vt,ct)),vt.on("addRoot",(ct,dt)=>je(vt,ct,dt)),vt.on("detachRoot",(ct,dt)=>et(vt,ct,dt)),Fe.on("focus",ct=>{Se.onFocus&&Se.onFocus(ct,vt)}),Fe.on("blur",ct=>{Se.onBlur&&Se.onBlur(ct,vt)}),vt}))),ft=at=>{const{watchdog:Wt,instance:vt}=at;return new Promise((It,mt)=>{setTimeout(async()=>{try{if(Wt)return await Wt.destroy(),It();if(vt)return await vt.destroy(),It();It()}catch(Fe){console.error(Fe),mt(Fe)}})})},wt=async()=>{if(Se.disableWatchdog)return{instance:await Ct(Se.data,He()),watchdog:null};const at=fe instanceof M.ContextWatchdog?new ie(fe):new M.EditorWatchdog(Se.editor,Se.watchdogConfig),Wt={current:0};return at.setCreator(async(vt,It)=>{const{onAfterDestroy:mt}=Se;Wt.current>0&&mt&&Re.instance.current&&mt(Re.instance.current);const Fe=await Ct(vt,It);return Wt.current>0&&(Be.unsafeSetValue({instance:Fe,watchdog:at}),setTimeout(()=>{Se.onReady&&Se.onReady(at.editor)})),Wt.current++,Fe}),at.on("error",(vt,{error:It,causesRestart:mt})=>{(Se.onError||console.error)(It,{phase:"runtime",willEditorRestart:mt})}),await at.create(Pe,He()).catch(vt=>{throw(Se.onError||console.error)(vt,{phase:"initialization",willEditorRestart:!1}),vt}),{watchdog:at,instance:at.editor}},rt=(0,Z.useCallback)(at=>{Be.runAfterMount(()=>{Ye.current=!0,Qe(at)})},[Qe]),xt=(0,Z.useCallback)(at=>{Be.runAfterMount(()=>{Ye.current=!0,ve(at)})},[ve]),Vt=_().createElement(Ge,{ref:ke,editor:Re.instance.current});pe(Be.current,({instance:at})=>{Se.disabled?at.enableReadOnlyMode(Ce):at.disableReadOnlyMode(Ce)},[Se.disabled]),pe(Be.current,({instance:at})=>{if(Ye.current){Ye.current=!1;const Wt=Object.keys(Pe),vt=Object.keys(Je);if(!Wt.every(nt=>vt.includes(nt)))throw console.error("`data` and `attributes` objects must have the same keys (roots)."),new Error("`data` and `attributes` objects must have the same keys (roots).");const It=at.getFullData(),mt=at.getRootsAttributes(),{addedKeys:Fe,removedKeys:ct}=((nt,St)=>{const Yt=Object.keys(nt),$e=Object.keys(St);return{addedKeys:$e.filter(Dt=>!Yt.includes(Dt)),removedKeys:Yt.filter(Dt=>!$e.includes(Dt))}})(It,Pe||{}),dt=Wt.some(nt=>It[nt]!==void 0&&JSON.stringify(It[nt])!==JSON.stringify(Pe[nt])),Ft=vt.filter(nt=>JSON.stringify(mt[nt])!==JSON.stringify(Je[nt])),Mt=nt=>{nt.forEach(St=>{at.addRoot(St,{data:Pe[St]||"",attributes:(Je==null?void 0:Je[St])||{},isUndoable:!0})})},hn=nt=>{nt.forEach(St=>{at.detachRoot(St,!0)})},Ke=()=>{at.data.set(Pe,{suppressErrorInCollaboration:!0})},tt=(nt,St)=>{St.forEach(Yt=>{Object.keys(Je[Yt]).forEach($e=>{at.registerRootAttribute($e)}),nt.clearAttributes(at.model.document.getRoot(Yt)),nt.setAttributes(Je[Yt],at.model.document.getRoot(Yt))})};setTimeout(()=>{at.model.change(nt=>{Mt(Fe),hn(ct),dt&&Ke(),Ft.length&&tt(nt,Ft)})})}},[Pe,Je]);const Hn=Ze.map(at=>_().createElement(be,{key:at,id:at,rootName:at,semaphore:Be}));return{editor:Re.instance.current,editableElements:Hn,toolbarElement:Vt,data:Pe,setData:rt,attributes:Je,setAttributes:xt}}})(),k})())})(uJ);var DJ=uJ.exports,mf={exports:{}};mf.exports;(function(t,n){(function(o){const s=o.en=o.en||{};s.dictionary=Object.assign(s.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(o,s){t.exports=s()}(self,()=>(()=>{var o={9246:(p,v,k)=>{const Z=k(6931),_={};for(const G of Object.keys(Z))_[Z[G]]=G;const N={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};p.exports=N;for(const G of Object.keys(N)){if(!("channels"in N[G]))throw new Error("missing channels property: "+G);if(!("labels"in N[G]))throw new Error("missing channel labels property: "+G);if(N[G].labels.length!==N[G].channels)throw new Error("channel and label counts mismatch: "+G);const{channels:D,labels:M}=N[G];delete N[G].channels,delete N[G].labels,Object.defineProperty(N[G],"channels",{value:D}),Object.defineProperty(N[G],"labels",{value:M})}N.rgb.hsl=function(G){const D=G[0]/255,M=G[1]/255,L=G[2]/255,O=Math.min(D,M,L),P=Math.max(D,M,L),F=P-O;let j,ie;P===O?j=0:D===P?j=(M-L)/F:M===P?j=2+(L-D)/F:L===P&&(j=4+(D-M)/F),j=Math.min(60*j,360),j<0&&(j+=360);const ne=(O+P)/2;return ie=P===O?0:ne<=.5?F/(P+O):F/(2-P-O),[j,100*ie,100*ne]},N.rgb.hsv=function(G){let D,M,L,O,P;const F=G[0]/255,j=G[1]/255,ie=G[2]/255,ne=Math.max(F,j,ie),ue=ne-Math.min(F,j,ie),K=function(de){return(ne-de)/6/ue+.5};return ue===0?(O=0,P=0):(P=ue/ne,D=K(F),M=K(j),L=K(ie),F===ne?O=L-M:j===ne?O=.3333333333333333+D-L:ie===ne&&(O=.6666666666666666+M-D),O<0?O+=1:O>1&&(O-=1)),[360*O,100*P,100*ne]},N.rgb.hwb=function(G){const D=G[0],M=G[1];let L=G[2];const O=N.rgb.hsl(G)[0],P=1/255*Math.min(D,Math.min(M,L));return L=1-.00392156862745098*Math.max(D,Math.max(M,L)),[O,100*P,100*L]},N.rgb.cmyk=function(G){const D=G[0]/255,M=G[1]/255,L=G[2]/255,O=Math.min(1-D,1-M,1-L);return[100*((1-D-O)/(1-O)||0),100*((1-M-O)/(1-O)||0),100*((1-L-O)/(1-O)||0),100*O]},N.rgb.keyword=function(G){const D=_[G];if(D)return D;let M,L=1/0;for(const F of Object.keys(Z)){const j=Z[F],ie=(P=j,((O=G)[0]-P[0])**2+(O[1]-P[1])**2+(O[2]-P[2])**2);ie<L&&(L=ie,M=F)}var O,P;return M},N.keyword.rgb=function(G){return Z[G]},N.rgb.xyz=function(G){let D=G[0]/255,M=G[1]/255,L=G[2]/255;return D=D>.04045?((D+.055)/1.055)**2.4:D/12.92,M=M>.04045?((M+.055)/1.055)**2.4:M/12.92,L=L>.04045?((L+.055)/1.055)**2.4:L/12.92,[100*(.4124*D+.3576*M+.1805*L),100*(.2126*D+.7152*M+.0722*L),100*(.0193*D+.1192*M+.9505*L)]},N.rgb.lab=function(G){const D=N.rgb.xyz(G);let M=D[0],L=D[1],O=D[2];return M/=95.047,L/=100,O/=108.883,M=M>.008856?M**.3333333333333333:7.787*M+.13793103448275862,L=L>.008856?L**.3333333333333333:7.787*L+.13793103448275862,O=O>.008856?O**.3333333333333333:7.787*O+.13793103448275862,[116*L-16,500*(M-L),200*(L-O)]},N.hsl.rgb=function(G){const D=G[0]/360,M=G[1]/100,L=G[2]/100;let O,P,F;if(M===0)return F=255*L,[F,F,F];O=L<.5?L*(1+M):L+M-L*M;const j=2*L-O,ie=[0,0,0];for(let ne=0;ne<3;ne++)P=D+.3333333333333333*-(ne-1),P<0&&P++,P>1&&P--,F=6*P<1?j+6*(O-j)*P:2*P<1?O:3*P<2?j+(O-j)*(.6666666666666666-P)*6:j,ie[ne]=255*F;return ie},N.hsl.hsv=function(G){const D=G[0];let M=G[1]/100,L=G[2]/100,O=M;const P=Math.max(L,.01);return L*=2,M*=L<=1?L:2-L,O*=P<=1?P:2-P,[D,100*(L===0?2*O/(P+O):2*M/(L+M)),100*((L+M)/2)]},N.hsv.rgb=function(G){const D=G[0]/60,M=G[1]/100;let L=G[2]/100;const O=Math.floor(D)%6,P=D-Math.floor(D),F=255*L*(1-M),j=255*L*(1-M*P),ie=255*L*(1-M*(1-P));switch(L*=255,O){case 0:return[L,ie,F];case 1:return[j,L,F];case 2:return[F,L,ie];case 3:return[F,j,L];case 4:return[ie,F,L];case 5:return[L,F,j]}},N.hsv.hsl=function(G){const D=G[0],M=G[1]/100,L=G[2]/100,O=Math.max(L,.01);let P,F;F=(2-M)*L;const j=(2-M)*O;return P=M*O,P/=j<=1?j:2-j,P=P||0,F/=2,[D,100*P,100*F]},N.hwb.rgb=function(G){const D=G[0]/360;let M=G[1]/100,L=G[2]/100;const O=M+L;let P;O>1&&(M/=O,L/=O);const F=Math.floor(6*D),j=1-L;P=6*D-F,1&F&&(P=1-P);const ie=M+P*(j-M);let ne,ue,K;switch(F){default:case 6:case 0:ne=j,ue=ie,K=M;break;case 1:ne=ie,ue=j,K=M;break;case 2:ne=M,ue=j,K=ie;break;case 3:ne=M,ue=ie,K=j;break;case 4:ne=ie,ue=M,K=j;break;case 5:ne=j,ue=M,K=ie}return[255*ne,255*ue,255*K]},N.cmyk.rgb=function(G){const D=G[0]/100,M=G[1]/100,L=G[2]/100,O=G[3]/100;return[255*(1-Math.min(1,D*(1-O)+O)),255*(1-Math.min(1,M*(1-O)+O)),255*(1-Math.min(1,L*(1-O)+O))]},N.xyz.rgb=function(G){const D=G[0]/100,M=G[1]/100,L=G[2]/100;let O,P,F;return O=3.2406*D+-1.5372*M+-.4986*L,P=-.9689*D+1.8758*M+.0415*L,F=.0557*D+-.204*M+1.057*L,O=O>.0031308?1.055*O**.4166666666666667-.055:12.92*O,P=P>.0031308?1.055*P**.4166666666666667-.055:12.92*P,F=F>.0031308?1.055*F**.4166666666666667-.055:12.92*F,O=Math.min(Math.max(0,O),1),P=Math.min(Math.max(0,P),1),F=Math.min(Math.max(0,F),1),[255*O,255*P,255*F]},N.xyz.lab=function(G){let D=G[0],M=G[1],L=G[2];return D/=95.047,M/=100,L/=108.883,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,M=M>.008856?M**.3333333333333333:7.787*M+.13793103448275862,L=L>.008856?L**.3333333333333333:7.787*L+.13793103448275862,[116*M-16,500*(D-M),200*(M-L)]},N.lab.xyz=function(G){let D,M,L;M=(G[0]+16)/116,D=G[1]/500+M,L=M-G[2]/200;const O=M**3,P=D**3,F=L**3;return M=O>.008856?O:(M-.13793103448275862)/7.787,D=P>.008856?P:(D-.13793103448275862)/7.787,L=F>.008856?F:(L-.13793103448275862)/7.787,D*=95.047,M*=100,L*=108.883,[D,M,L]},N.lab.lch=function(G){const D=G[0],M=G[1],L=G[2];let O;return O=360*Math.atan2(L,M)/2/Math.PI,O<0&&(O+=360),[D,Math.sqrt(M*M+L*L),O]},N.lch.lab=function(G){const D=G[0],M=G[1],L=G[2]/360*2*Math.PI;return[D,M*Math.cos(L),M*Math.sin(L)]},N.rgb.ansi16=function(G,D=null){const[M,L,O]=G;let P=D===null?N.rgb.hsv(G)[2]:D;if(P=Math.round(P/50),P===0)return 30;let F=30+(Math.round(O/255)<<2|Math.round(L/255)<<1|Math.round(M/255));return P===2&&(F+=60),F},N.hsv.ansi16=function(G){return N.rgb.ansi16(N.hsv.rgb(G),G[2])},N.rgb.ansi256=function(G){const D=G[0],M=G[1],L=G[2];return D===M&&M===L?D<8?16:D>248?231:Math.round((D-8)/247*24)+232:16+36*Math.round(D/255*5)+6*Math.round(M/255*5)+Math.round(L/255*5)},N.ansi16.rgb=function(G){let D=G%10;if(D===0||D===7)return G>50&&(D+=3.5),D=D/10.5*255,[D,D,D];const M=.5*(1+~~(G>50));return[(1&D)*M*255,(D>>1&1)*M*255,(D>>2&1)*M*255]},N.ansi256.rgb=function(G){if(G>=232){const M=10*(G-232)+8;return[M,M,M]}let D;return G-=16,[Math.floor(G/36)/5*255,Math.floor((D=G%36)/6)/5*255,D%6/5*255]},N.rgb.hex=function(G){const D=(((255&Math.round(G[0]))<<16)+((255&Math.round(G[1]))<<8)+(255&Math.round(G[2]))).toString(16).toUpperCase();return"000000".substring(D.length)+D},N.hex.rgb=function(G){const D=G.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!D)return[0,0,0];let M=D[0];D[0].length===3&&(M=M.split("").map(O=>O+O).join(""));const L=parseInt(M,16);return[L>>16&255,L>>8&255,255&L]},N.rgb.hcg=function(G){const D=G[0]/255,M=G[1]/255,L=G[2]/255,O=Math.max(Math.max(D,M),L),P=Math.min(Math.min(D,M),L),F=O-P;let j,ie;return j=F<1?P/(1-F):0,ie=F<=0?0:O===D?(M-L)/F%6:O===M?2+(L-D)/F:4+(D-M)/F,ie/=6,ie%=1,[360*ie,100*F,100*j]},N.hsl.hcg=function(G){const D=G[1]/100,M=G[2]/100,L=M<.5?2*D*M:2*D*(1-M);let O=0;return L<1&&(O=(M-.5*L)/(1-L)),[G[0],100*L,100*O]},N.hsv.hcg=function(G){const D=G[1]/100,M=G[2]/100,L=D*M;let O=0;return L<1&&(O=(M-L)/(1-L)),[G[0],100*L,100*O]},N.hcg.rgb=function(G){const D=G[0]/360,M=G[1]/100,L=G[2]/100;if(M===0)return[255*L,255*L,255*L];const O=[0,0,0],P=D%1*6,F=P%1,j=1-F;let ie=0;switch(Math.floor(P)){case 0:O[0]=1,O[1]=F,O[2]=0;break;case 1:O[0]=j,O[1]=1,O[2]=0;break;case 2:O[0]=0,O[1]=1,O[2]=F;break;case 3:O[0]=0,O[1]=j,O[2]=1;break;case 4:O[0]=F,O[1]=0,O[2]=1;break;default:O[0]=1,O[1]=0,O[2]=j}return ie=(1-M)*L,[255*(M*O[0]+ie),255*(M*O[1]+ie),255*(M*O[2]+ie)]},N.hcg.hsv=function(G){const D=G[1]/100,M=D+G[2]/100*(1-D);let L=0;return M>0&&(L=D/M),[G[0],100*L,100*M]},N.hcg.hsl=function(G){const D=G[1]/100,M=G[2]/100*(1-D)+.5*D;let L=0;return M>0&&M<.5?L=D/(2*M):M>=.5&&M<1&&(L=D/(2*(1-M))),[G[0],100*L,100*M]},N.hcg.hwb=function(G){const D=G[1]/100,M=D+G[2]/100*(1-D);return[G[0],100*(M-D),100*(1-M)]},N.hwb.hcg=function(G){const D=G[1]/100,M=1-G[2]/100,L=M-D;let O=0;return L<1&&(O=(M-L)/(1-L)),[G[0],100*L,100*O]},N.apple.rgb=function(G){return[G[0]/65535*255,G[1]/65535*255,G[2]/65535*255]},N.rgb.apple=function(G){return[G[0]/255*65535,G[1]/255*65535,G[2]/255*65535]},N.gray.rgb=function(G){return[G[0]/100*255,G[0]/100*255,G[0]/100*255]},N.gray.hsl=function(G){return[0,0,G[0]]},N.gray.hsv=N.gray.hsl,N.gray.hwb=function(G){return[0,100,G[0]]},N.gray.cmyk=function(G){return[0,0,0,G[0]]},N.gray.lab=function(G){return[G[0],0,0]},N.gray.hex=function(G){const D=255&Math.round(G[0]/100*255),M=((D<<16)+(D<<8)+D).toString(16).toUpperCase();return"000000".substring(M.length)+M},N.rgb.gray=function(G){return[(G[0]+G[1]+G[2])/3/255*100]}},9047:(p,v,k)=>{const Z=k(9246),_=k(802),N={};Object.keys(Z).forEach(G=>{N[G]={},Object.defineProperty(N[G],"channels",{value:Z[G].channels}),Object.defineProperty(N[G],"labels",{value:Z[G].labels});const D=_(G);Object.keys(D).forEach(M=>{const L=D[M];N[G][M]=function(O){const P=function(...F){const j=F[0];if(j==null)return j;j.length>1&&(F=j);const ie=O(F);if(typeof ie=="object")for(let ne=ie.length,ue=0;ue<ne;ue++)ie[ue]=Math.round(ie[ue]);return ie};return"conversion"in O&&(P.conversion=O.conversion),P}(L),N[G][M].raw=function(O){const P=function(...F){const j=F[0];return j==null?j:(j.length>1&&(F=j),O(F))};return"conversion"in O&&(P.conversion=O.conversion),P}(L)})}),p.exports=N},802:(p,v,k)=>{const Z=k(9246);function _(D){const M=function(){const O={},P=Object.keys(Z);for(let F=P.length,j=0;j<F;j++)O[P[j]]={distance:-1,parent:null};return O}(),L=[D];for(M[D].distance=0;L.length;){const O=L.pop(),P=Object.keys(Z[O]);for(let F=P.length,j=0;j<F;j++){const ie=P[j],ne=M[ie];ne.distance===-1&&(ne.distance=M[O].distance+1,ne.parent=O,L.unshift(ie))}}return M}function N(D,M){return function(L){return M(D(L))}}function G(D,M){const L=[M[D].parent,D];let O=Z[M[D].parent][D],P=M[D].parent;for(;M[P].parent;)L.unshift(M[P].parent),O=N(Z[M[P].parent][P],O),P=M[P].parent;return O.conversion=L,O}p.exports=function(D){const M=_(D),L={},O=Object.keys(M);for(let P=O.length,F=0;F<P;F++){const j=O[F];M[j].parent!==null&&(L[j]=G(j,M))}return L}},6931:p=>{p.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const D=G},8708:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const D=G},1866:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const D=G},7793:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const D=G},7388:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=G},4098:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const D=G},8264:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const D=G},6269:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const D=G},265:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const D=G},5247:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const D=G},4642:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=G},3350:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const D=G},7378:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const D=G},3469:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const D=G},6386:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const D=G},7693:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const D=G},1559:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const D=G},2267:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const D=G},4062:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=G},7719:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const D=G},8762:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const D=G},3817:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const D=G},4808:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const D=G},1232:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const D=G},6903:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const D=G},9968:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const D=G},7141:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const D=G},8991:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const D=G},70:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const D=G},7048:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const D=G},5651:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=G},5506:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=G},4043:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const D=G},2655:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const D=G},5032:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const D=G},2329:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const D=G},4143:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const D=G},8986:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const D=G},8795:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const D=G},8137:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const D=G},1623:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=G},5562:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const D=G},8423:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const D=G},1801:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const D=G},5727:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=G},9715:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const D=G},4391:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const D=G},25:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const D=G},7317:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const D=G},1905:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const D=G},6309:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const D=G},9819:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=G},9822:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const D=G},8149:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=G},3629:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=G},1792:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=G},1666:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const D=G},8527:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=G},1185:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=G},7913:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const D=G},9529:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const D=G},7621:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const D=G},253:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=G},7801:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const D=G},4962:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=G},5199:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=G},497:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const D=G},4:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const D=G},3344:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const D=G},9481:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const D=G},977:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const D=G},9108:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=G},3710:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=G},991:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const D=G},5380:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=G},8298:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const D=G},2722:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const D=G},8107:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const D=G},109:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const D=G},1671:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const D=G},2710:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const D=G},9677:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const D=G},9205:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const D=G},7676:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const D=G},695:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const D=G},4095:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const D=G},8508:(p,v,k)=>{k.d(v,{A:()=>D});var Z=k(9372),_=k.n(Z),N=k(935),G=k.n(N)()(_());G.push([p.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const D=G},935:p=>{p.exports=function(v){var k=[];return k.toString=function(){return this.map(function(Z){var _=v(Z);return Z[2]?"@media ".concat(Z[2]," {").concat(_,"}"):_}).join("")},k.i=function(Z,_,N){typeof Z=="string"&&(Z=[[null,Z,""]]);var G={};if(N)for(var D=0;D<this.length;D++){var M=this[D][0];M!=null&&(G[M]=!0)}for(var L=0;L<Z.length;L++){var O=[].concat(Z[L]);N&&G[O[0]]||(_&&(O[2]?O[2]="".concat(_," and ").concat(O[2]):O[2]=_),k.push(O))}},k}},9372:p=>{function v(Z,_){return function(N){if(Array.isArray(N))return N}(Z)||function(N,G){var D=N&&(typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"]);if(D!=null){var M,L,O=[],P=!0,F=!1;try{for(D=D.call(N);!(P=(M=D.next()).done)&&(O.push(M.value),!G||O.length!==G);P=!0);}catch(j){F=!0,L=j}finally{try{P||D.return==null||D.return()}finally{if(F)throw L}}return O}}(Z,_)||function(N,G){if(N){if(typeof N=="string")return k(N,G);var D=Object.prototype.toString.call(N).slice(8,-1);if(D==="Object"&&N.constructor&&(D=N.constructor.name),D==="Map"||D==="Set")return Array.from(N);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return k(N,G)}}(Z,_)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(Z,_){(_==null||_>Z.length)&&(_=Z.length);for(var N=0,G=new Array(_);N<_;N++)G[N]=Z[N];return G}p.exports=function(Z){var _=v(Z,4),N=_[1],G=_[3];if(!G)return N;if(typeof btoa=="function"){var D=btoa(unescape(encodeURIComponent(JSON.stringify(G)))),M="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(D),L="/*# ".concat(M," */"),O=G.sources.map(function(P){return"/*# sourceURL=".concat(G.sourceRoot||"").concat(P," */")});return[N].concat(O).concat([L]).join(`
`)}return[N].join(`
`)}},2591:(p,v,k)=>{var Z,_=function(){return Z===void 0&&(Z=!!(window&&document&&document.all&&!window.atob)),Z},N=function(){var K={};return function(de){if(K[de]===void 0){var pe=document.querySelector(de);if(window.HTMLIFrameElement&&pe instanceof window.HTMLIFrameElement)try{pe=pe.contentDocument.head}catch{pe=null}K[de]=pe}return K[de]}}(),G=[];function D(K){for(var de=-1,pe=0;pe<G.length;pe++)if(G[pe].identifier===K){de=pe;break}return de}function M(K,de){for(var pe={},Ce=[],be=0;be<K.length;be++){var Ge=K[be],Ee=de.base?Ge[0]+de.base:Ge[0],Se=pe[Ee]||0,ke="".concat(Ee," ").concat(Se);pe[Ee]=Se+1;var Be=D(ke),Re={css:Ge[1],media:Ge[2],sourceMap:Ge[3]};Be!==-1?(G[Be].references++,G[Be].updater(Re)):G.push({identifier:ke,updater:ue(Re,de),references:1}),Ce.push(ke)}return Ce}function L(K){var de=document.createElement("style"),pe=K.attributes||{};if(pe.nonce===void 0){var Ce=k.nc;Ce&&(pe.nonce=Ce)}if(Object.keys(pe).forEach(function(Ge){de.setAttribute(Ge,pe[Ge])}),typeof K.insert=="function")K.insert(de);else{var be=N(K.insert||"head");if(!be)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");be.appendChild(de)}return de}var O,P=(O=[],function(K,de){return O[K]=de,O.filter(Boolean).join(`
`)});function F(K,de,pe,Ce){var be=pe?"":Ce.media?"@media ".concat(Ce.media," {").concat(Ce.css,"}"):Ce.css;if(K.styleSheet)K.styleSheet.cssText=P(de,be);else{var Ge=document.createTextNode(be),Ee=K.childNodes;Ee[de]&&K.removeChild(Ee[de]),Ee.length?K.insertBefore(Ge,Ee[de]):K.appendChild(Ge)}}function j(K,de,pe){var Ce=pe.css,be=pe.media,Ge=pe.sourceMap;if(be?K.setAttribute("media",be):K.removeAttribute("media"),Ge&&typeof btoa<"u"&&(Ce+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Ge))))," */")),K.styleSheet)K.styleSheet.cssText=Ce;else{for(;K.firstChild;)K.removeChild(K.firstChild);K.appendChild(document.createTextNode(Ce))}}var ie=null,ne=0;function ue(K,de){var pe,Ce,be;if(de.singleton){var Ge=ne++;pe=ie||(ie=L(de)),Ce=F.bind(null,pe,Ge,!1),be=F.bind(null,pe,Ge,!0)}else pe=L(de),Ce=j.bind(null,pe,de),be=function(){(function(Ee){if(Ee.parentNode===null)return!1;Ee.parentNode.removeChild(Ee)})(pe)};return Ce(K),function(Ee){if(Ee){if(Ee.css===K.css&&Ee.media===K.media&&Ee.sourceMap===K.sourceMap)return;Ce(K=Ee)}else be()}}p.exports=function(K,de){(de=de||{}).singleton||typeof de.singleton=="boolean"||(de.singleton=_());var pe=M(K=K||[],de);return function(Ce){if(Ce=Ce||[],Object.prototype.toString.call(Ce)==="[object Array]"){for(var be=0;be<pe.length;be++){var Ge=D(pe[be]);G[Ge].references--}for(var Ee=M(Ce,de),Se=0;Se<pe.length;Se++){var ke=D(pe[Se]);G[ke].references===0&&(G[ke].updater(),G.splice(ke,1))}pe=Ee}}}}},s={};function d(p){var v=s[p];if(v!==void 0)return v.exports;var k=s[p]={id:p,exports:{}};return o[p](k,k.exports,d),k.exports}d.n=p=>{var v=p&&p.__esModule?()=>p.default:()=>p;return d.d(v,{a:v}),v},d.d=(p,v)=>{for(var k in v)d.o(v,k)&&!d.o(p,k)&&Object.defineProperty(p,k,{enumerable:!0,get:v[k]})},d.o=(p,v)=>Object.prototype.hasOwnProperty.call(p,v),d.nc=void 0;var m={};return(()=>{let p;d.d(m,{default:()=>ky});try{p={window,document}}catch{p={window:{},document:{}}}const v=p,k=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var Z;const _={isMac:N(k),isWindows:(Z=k,Z.indexOf("windows")>-1),isGecko:function(a){return!!a.match(/gecko\/\d+/)}(k),isSafari:function(a){return a.indexOf(" applewebkit/")>-1&&a.indexOf("chrome")===-1}(k),isiOS:function(a){return!!a.match(/iphone|ipad/i)||N(a)&&navigator.maxTouchPoints>0}(k),isAndroid:function(a){return a.indexOf("android")>-1}(k),isBlink:function(a){return a.indexOf("chrome/")>-1&&a.indexOf("edge/")<0}(k),get isMediaForcedColors(){return!!v.window.matchMedia&&v.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!v.window.matchMedia&&v.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:function(){let a=!1;try{a="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return a}()}};function N(a){return a.indexOf("macintosh")>-1}function G(a,e,i,r){i=i||function(w,S){return w===S};const l=Array.isArray(a)?a:Array.prototype.slice.call(a),u=Array.isArray(e)?e:Array.prototype.slice.call(e),C=function(w,S,R){const X=D(w,S,R);if(X===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const J=M(w,X),U=M(S,X),te=D(J,U,R),ae=w.length-te,he=S.length-te;return{firstIndex:X,lastIndexOld:ae,lastIndexNew:he}}(l,u,i);return r?function(w,S){const{firstIndex:R,lastIndexOld:X,lastIndexNew:J}=w;if(R===-1)return Array(S).fill("equal");let U=[];return R>0&&(U=U.concat(Array(R).fill("equal"))),J-R>0&&(U=U.concat(Array(J-R).fill("insert"))),X-R>0&&(U=U.concat(Array(X-R).fill("delete"))),J<S&&(U=U.concat(Array(S-J).fill("equal"))),U}(C,u.length):function(w,S){const R=[],{firstIndex:X,lastIndexOld:J,lastIndexNew:U}=S;return U-X>0&&R.push({index:X,type:"insert",values:w.slice(X,U)}),J-X>0&&R.push({index:X+(U-X),type:"delete",howMany:J-X}),R}(u,C)}function D(a,e,i){for(let r=0;r<Math.max(a.length,e.length);r++)if(a[r]===void 0||e[r]===void 0||!i(a[r],e[r]))return r;return-1}function M(a,e){return a.slice(e).reverse()}function L(a,e,i){i=i||function(ae,he){return ae===he};const r=a.length,l=e.length;if(r>200||l>200||r+l>300)return L.fastDiff(a,e,i,!0);let u,C;if(l<r){const ae=a;a=e,e=ae,u="delete",C="insert"}else u="insert",C="delete";const f=a.length,w=e.length,S=w-f,R={},X={};function J(ae){const he=(X[ae-1]!==void 0?X[ae-1]:-1)+1,Ie=X[ae+1]!==void 0?X[ae+1]:-1,we=he>Ie?-1:1;R[ae+we]&&(R[ae]=R[ae+we].slice(0)),R[ae]||(R[ae]=[]),R[ae].push(he>Ie?u:C);let We=Math.max(he,Ie),ze=We-ae;for(;ze<f&&We<w&&i(a[ze],e[We]);)ze++,We++,R[ae].push("equal");return We}let U,te=0;do{for(U=-te;U<S;U++)X[U]=J(U);for(U=S+te;U>S;U--)X[U]=J(U);X[S]=J(S),te++}while(X[S]!==w);return R[S].slice(1)}L.fastDiff=G;const O=function(){return function a(){a.called=!0}};class P{constructor(e,i){this.source=e,this.name=i,this.path=[],this.stop=O(),this.off=O()}}const F=new Array(256).fill("").map((a,e)=>("0"+e.toString(16)).slice(-2));function j(){const a=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+F[255&a]+F[a>>8&255]+F[a>>16&255]+F[a>>24&255]+F[255&e]+F[e>>8&255]+F[e>>16&255]+F[e>>24&255]+F[255&i]+F[i>>8&255]+F[i>>16&255]+F[i>>24&255]+F[255&r]+F[r>>8&255]+F[r>>16&255]+F[r>>24&255]}const ie={get(a="normal"){return typeof a!="number"?this[a]||this.normal:a},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function ne(a,e){const i=ie.get(e.priority);for(let r=0;r<a.length;r++)if(ie.get(a[r].priority)<i)return void a.splice(r,0,e);a.push(e)}const ue="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class K extends Error{constructor(e,i,r){super(function(l,u){const C=new WeakSet,f=(R,X)=>{if(typeof X=="object"&&X!==null){if(C.has(X))return`[object ${X.constructor.name}]`;C.add(X)}return X},w=u?` ${JSON.stringify(u,f)}`:"",S=Ce(l);return l+w+S}(e,r)),this.name="CKEditorError",this.context=i,this.data=r}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,i){if(e.is&&e.is("CKEditorError"))throw e;const r=new K(e.message,i);throw r.stack=e.stack,r}}function de(a,e){console.warn(...be(a,e))}function pe(a,e){console.error(...be(a,e))}function Ce(a){return`
Read more: ${ue}#error-${a}`}function be(a,e){const i=Ce(a);return e?[a,e,i]:[a,i]}const Ge="41.4.2",Ee=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new K("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=Ge;const Se=Symbol("listeningTo"),ke=Symbol("emitterId"),Be=Symbol("delegations"),Re=fe(Object);function fe(a){return a?class extends a{on(e,i,r){this.listenTo(this,e,i,r)}once(e,i,r){let l=!1;this.listenTo(this,e,(u,...C)=>{l||(l=!0,u.off(),i.call(this,u,...C))},r)}off(e,i){this.stopListening(this,e,i)}listenTo(e,i,r,l={}){let u,C;this[Se]||(this[Se]={});const f=this[Se];_e(e)||Ze(e);const w=_e(e);(u=f[w])||(u=f[w]={emitter:e,callbacks:{}}),(C=u.callbacks[i])||(C=u.callbacks[i]=[]),C.push(r),function(S,R,X,J,U){R._addEventListener?R._addEventListener(X,J,U):S._addEventListener.call(R,X,J,U)}(this,e,i,r,l)}stopListening(e,i,r){const l=this[Se];let u=e&&_e(e);const C=l&&u?l[u]:void 0,f=C&&i?C.callbacks[i]:void 0;if(!(!l||e&&!C||i&&!f))if(r)Ye(this,e,i,r),f.indexOf(r)!==-1&&(f.length===1?delete C.callbacks[i]:Ye(this,e,i,r));else if(f){for(;r=f.pop();)Ye(this,e,i,r);delete C.callbacks[i]}else if(C){for(i in C.callbacks)this.stopListening(e,i);delete l[u]}else{for(u in l)this.stopListening(l[u].emitter);delete this[Se]}}fire(e,...i){try{const r=e instanceof P?e:new P(this,e),l=r.name;let u=Je(this,l);if(r.path.push(this),u){const f=[r,...i];u=Array.from(u);for(let w=0;w<u.length&&(u[w].callback.apply(this,f),r.off.called&&(delete r.off.called,this._removeEventListener(l,u[w].callback)),!r.stop.called);w++);}const C=this[Be];if(C){const f=C.get(l),w=C.get("*");f&&ve(f,r,i),w&&ve(w,r,i)}return r.return}catch(r){K.rethrowUnexpectedError(r,this)}}delegate(...e){return{to:(i,r)=>{this[Be]||(this[Be]=new Map),e.forEach(l=>{const u=this[Be].get(l);u?u.set(i,r):this[Be].set(l,new Map([[i,r]]))})}}}stopDelegating(e,i){if(this[Be])if(e)if(i){const r=this[Be].get(e);r&&r.delete(i)}else this[Be].delete(e);else this[Be].clear()}_addEventListener(e,i,r){(function(C,f){const w=Pe(C);if(w[f])return;let S=f,R=null;const X=[];for(;S!==""&&!w[S];)w[S]={callbacks:[],childEvents:[]},X.push(w[S]),R&&w[S].childEvents.push(R),R=S,S=S.substr(0,S.lastIndexOf(":"));if(S!==""){for(const J of X)J.callbacks=w[S].callbacks.slice();w[S].childEvents.push(R)}})(this,e);const l=Qe(this,e),u={callback:i,priority:ie.get(r.priority)};for(const C of l)ne(C,u)}_removeEventListener(e,i){const r=Qe(this,e);for(const l of r)for(let u=0;u<l.length;u++)l[u].callback==i&&(l.splice(u,1),u--)}}:Re}function Ze(a,e){a[ke]||(a[ke]=e||j())}function _e(a){return a[ke]}function Pe(a){return a._events||Object.defineProperty(a,"_events",{value:{}}),a._events}function Qe(a,e){const i=Pe(a)[e];if(!i)return[];let r=[i.callbacks];for(let l=0;l<i.childEvents.length;l++){const u=Qe(a,i.childEvents[l]);r=r.concat(u)}return r}function Je(a,e){let i;return a._events&&(i=a._events[e])&&i.callbacks.length?i.callbacks:e.indexOf(":")>-1?Je(a,e.substr(0,e.lastIndexOf(":"))):null}function ve(a,e,i){for(let[r,l]of a){l?typeof l=="function"&&(l=l(e.name)):l=e.name;const u=new P(e.source,l);u.path=[...e.path],r.fire(u,...i)}}function Ye(a,e,i,r){e._removeEventListener?e._removeEventListener(i,r):a._removeEventListener.call(e,i,r)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{fe[a]=Re.prototype[a]});const He=function(a){var e=typeof a;return a!=null&&(e=="object"||e=="function")},Oe=Symbol("observableProperties"),je=Symbol("boundObservables"),et=Symbol("boundProperties"),Ct=Symbol("decoratedMethods"),ft=Symbol("decoratedOriginal"),wt=rt(fe());function rt(a){return a?class extends a{set(e,i){if(He(e))return void Object.keys(e).forEach(l=>{this.set(l,e[l])},this);xt(this);const r=this[Oe];if(e in this&&!r.has(e))throw new K("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>r.get(e),set(l){const u=r.get(e);let C=this.fire(`set:${e}`,e,l,u);C===void 0&&(C=l),u===C&&r.has(e)||(r.set(e,C),this.fire(`change:${e}`,e,C,u))}}),this[e]=i}bind(...e){if(!e.length||!at(e))throw new K("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new K("observable-bind-duplicate-properties",this);xt(this);const i=this[et];e.forEach(l=>{if(i.has(l))throw new K("observable-bind-rebind",this)});const r=new Map;return e.forEach(l=>{const u={property:l,to:[]};i.set(l,u),r.set(l,u)}),{to:Vt,toMany:Hn,_observable:this,_bindProperties:e,_to:[],_bindings:r}}unbind(...e){if(!this[Oe])return;const i=this[et],r=this[je];if(e.length){if(!at(e))throw new K("observable-unbind-wrong-properties",this);e.forEach(l=>{const u=i.get(l);u&&(u.to.forEach(([C,f])=>{const w=r.get(C),S=w[f];S.delete(u),S.size||delete w[f],Object.keys(w).length||(r.delete(C),this.stopListening(C,"change"))}),i.delete(l))})}else r.forEach((l,u)=>{this.stopListening(u,"change")}),r.clear(),i.clear()}decorate(e){xt(this);const i=this[e];if(!i)throw new K("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(r,l)=>{r.return=i.apply(this,l)}),this[e]=function(...r){return this.fire(e,r)},this[e][ft]=i,this[Ct]||(this[Ct]=[]),this[Ct].push(e)}stopListening(e,i,r){if(!e&&this[Ct]){for(const l of this[Ct])this[l]=this[l][ft];delete this[Ct]}super.stopListening(e,i,r)}}:wt}function xt(a){a[Oe]||(Object.defineProperty(a,Oe,{value:new Map}),Object.defineProperty(a,je,{value:new Map}),Object.defineProperty(a,et,{value:new Map}))}function Vt(...a){const e=function(...u){if(!u.length)throw new K("observable-bind-to-parse-error",null);const C={to:[]};let f;return typeof u[u.length-1]=="function"&&(C.callback=u.pop()),u.forEach(w=>{if(typeof w=="string")f.properties.push(w);else{if(typeof w!="object")throw new K("observable-bind-to-parse-error",null);f={observable:w,properties:[]},C.to.push(f)}}),C}(...a),i=Array.from(this._bindings.keys()),r=i.length;if(!e.callback&&e.to.length>1)throw new K("observable-bind-to-no-callback",this);if(r>1&&e.callback)throw new K("observable-bind-to-extra-callback",this);var l;e.to.forEach(u=>{if(u.properties.length&&u.properties.length!==r)throw new K("observable-bind-to-properties-length",this);u.properties.length||(u.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(i[0]).callback=e.callback),l=this._observable,this._to.forEach(u=>{const C=l[je];let f;C.get(u.observable)||l.listenTo(u.observable,"change",(w,S)=>{f=C.get(u.observable)[S],f&&f.forEach(R=>{Wt(l,R.property)})})}),function(u){let C;u._bindings.forEach((f,w)=>{u._to.forEach(S=>{C=S.properties[f.callback?0:u._bindProperties.indexOf(w)],f.to.push([S.observable,C]),function(R,X,J,U){const te=R[je],ae=te.get(J),he=ae||{};he[U]||(he[U]=new Set),he[U].add(X),ae||te.set(J,he)}(u._observable,f,S.observable,C)})})}(this),this._bindProperties.forEach(u=>{Wt(this._observable,u)})}function Hn(a,e,i){if(this._bindings.size>1)throw new K("observable-bind-to-many-not-one-binding",this);this.to(...function(r,l){const u=r.map(C=>[C,l]);return Array.prototype.concat.apply([],u)}(a,e),i)}function at(a){return a.every(e=>typeof e=="string")}function Wt(a,e){const i=a[et].get(e);let r;i.callback?r=i.callback.apply(a,i.to.map(l=>l[0][l[1]])):(r=i.to[0],r=r[0][r[1]]),Object.prototype.hasOwnProperty.call(a,e)?a[e]=r:a.set(e,r)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{rt[a]=wt.prototype[a]});class vt{constructor(){this._replacedElements=[]}replace(e,i){this._replacedElements.push({element:e,newElement:i}),e.style.display="none",i&&e.parentNode.insertBefore(i,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:i})=>{e.style.display="",i&&i.remove()}),this._replacedElements=[]}}function It(a){let e=0;for(const i of a)e++;return e}function mt(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++)if(a[r]!=e[r])return r;return a.length==e.length?"same":a.length<e.length?"prefix":"extension"}function Fe(a){return!(!a||!a[Symbol.iterator])}const ct=typeof uc=="object"&&uc&&uc.Object===Object&&uc;var dt=typeof self=="object"&&self&&self.Object===Object&&self;const Ft=ct||dt||Function("return this")(),Mt=Ft.Symbol;var hn=Object.prototype,Ke=hn.hasOwnProperty,tt=hn.toString,nt=Mt?Mt.toStringTag:void 0;const St=function(a){var e=Ke.call(a,nt),i=a[nt];try{a[nt]=void 0;var r=!0}catch{}var l=tt.call(a);return r&&(e?a[nt]=i:delete a[nt]),l};var Yt=Object.prototype.toString;const $e=function(a){return Yt.call(a)};var Dt=Mt?Mt.toStringTag:void 0;const Kt=function(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Dt&&Dt in Object(a)?St(a):$e(a)},Zt=Array.isArray,cn=function(a){return a!=null&&typeof a=="object"},Tr=function(a){return typeof a=="string"||!Zt(a)&&cn(a)&&Kt(a)=="[object String]"};function $i(a,e,i={},r=[]){const l=i&&i.xmlns,u=l?a.createElementNS(l,e):a.createElement(e);for(const C in i)u.setAttribute(C,i[C]);!Tr(r)&&Fe(r)||(r=[r]);for(let C of r)Tr(C)&&(C=a.createTextNode(C)),u.appendChild(C);return u}const Cr=function(a,e){return function(i){return a(e(i))}},Os=Cr(Object.getPrototypeOf,Object);var Us=Function.prototype,Ya=Object.prototype,Wl=Us.toString,Da=Ya.hasOwnProperty,Kc=Wl.call(Object);const Ei=function(a){if(!cn(a)||Kt(a)!="[object Object]")return!1;var e=Os(a);if(e===null)return!0;var i=Da.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&Wl.call(i)==Kc},_l=function(){this.__data__=[],this.size=0},Jr=function(a,e){return a===e||a!=a&&e!=e},Ha=function(a,e){for(var i=a.length;i--;)if(Jr(a[i][0],e))return i;return-1};var Kd=Array.prototype.splice;const Pd=function(a){var e=this.__data__,i=Ha(e,a);return!(i<0)&&(i==e.length-1?e.pop():Kd.call(e,i,1),--this.size,!0)},jd=function(a){var e=this.__data__,i=Ha(e,a);return i<0?void 0:e[i][1]},Nl=function(a){return Ha(this.__data__,a)>-1},El=function(a,e){var i=this.__data__,r=Ha(i,a);return r<0?(++this.size,i.push([a,e])):i[r][1]=e,this};function Ji(a){var e=-1,i=a==null?0:a.length;for(this.clear();++e<i;){var r=a[e];this.set(r[0],r[1])}}Ji.prototype.clear=_l,Ji.prototype.delete=Pd,Ji.prototype.get=jd,Ji.prototype.has=Nl,Ji.prototype.set=El;const Lr=Ji,Xl=function(){this.__data__=new Lr,this.size=0},Yl=function(a){var e=this.__data__,i=e.delete(a);return this.size=e.size,i},Od=function(a){return this.__data__.get(a)},ti=function(a){return this.__data__.has(a)},Fn=function(a){if(!He(a))return!1;var e=Kt(a);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},As=Ft["__core-js_shared__"];var ys=function(){var a=/[^.]+$/.exec(As&&As.keys&&As.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();const Ao=function(a){return!!ys&&ys in a};var hA=Function.prototype.toString;const le=function(a){if(a!=null){try{return hA.call(a)}catch{}try{return a+""}catch{}}return""};var c=/^\[object .+?Constructor\]$/,g=Function.prototype,h=Object.prototype,I=g.toString,b=h.hasOwnProperty,y=RegExp("^"+I.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const x=function(a){return!(!He(a)||Ao(a))&&(Fn(a)?y:c).test(le(a))},B=function(a,e){return a==null?void 0:a[e]},V=function(a,e){var i=B(a,e);return x(i)?i:void 0},E=V(Ft,"Map"),Y=V(Object,"create"),H=function(){this.__data__=Y?Y(null):{},this.size=0},z=function(a){var e=this.has(a)&&delete this.__data__[a];return this.size-=e?1:0,e};var Q=Object.prototype.hasOwnProperty;const $=function(a){var e=this.__data__;if(Y){var i=e[a];return i==="__lodash_hash_undefined__"?void 0:i}return Q.call(e,a)?e[a]:void 0};var oe=Object.prototype.hasOwnProperty;const re=function(a){var e=this.__data__;return Y?e[a]!==void 0:oe.call(e,a)},se=function(a,e){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=Y&&e===void 0?"__lodash_hash_undefined__":e,this};function W(a){var e=-1,i=a==null?0:a.length;for(this.clear();++e<i;){var r=a[e];this.set(r[0],r[1])}}W.prototype.clear=H,W.prototype.delete=z,W.prototype.get=$,W.prototype.has=re,W.prototype.set=se;const T=W,ee=function(){this.size=0,this.__data__={hash:new T,map:new(E||Lr),string:new T}},ce=function(a){var e=typeof a;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?a!=="__proto__":a===null},ge=function(a,e){var i=a.__data__;return ce(e)?i[typeof e=="string"?"string":"hash"]:i.map},me=function(a){var e=ge(this,a).delete(a);return this.size-=e?1:0,e},Ae=function(a){return ge(this,a).get(a)},ye=function(a){return ge(this,a).has(a)},Ne=function(a,e){var i=ge(this,a),r=i.size;return i.set(a,e),this.size+=i.size==r?0:1,this};function Te(a){var e=-1,i=a==null?0:a.length;for(this.clear();++e<i;){var r=a[e];this.set(r[0],r[1])}}Te.prototype.clear=ee,Te.prototype.delete=me,Te.prototype.get=Ae,Te.prototype.has=ye,Te.prototype.set=Ne;const Ve=Te,Le=function(a,e){var i=this.__data__;if(i instanceof Lr){var r=i.__data__;if(!E||r.length<199)return r.push([a,e]),this.size=++i.size,this;i=this.__data__=new Ve(r)}return i.set(a,e),this.size=i.size,this};function st(a){var e=this.__data__=new Lr(a);this.size=e.size}st.prototype.clear=Xl,st.prototype.delete=Yl,st.prototype.get=Od,st.prototype.has=ti,st.prototype.set=Le;const pt=st,kt=function(a,e){for(var i=-1,r=a==null?0:a.length;++i<r&&e(a[i],i,a)!==!1;);return a},Bt=function(){try{var a=V(Object,"defineProperty");return a({},"",{}),a}catch{}}(),Et=function(a,e,i){e=="__proto__"&&Bt?Bt(a,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):a[e]=i};var Xt=Object.prototype.hasOwnProperty;const Pt=function(a,e,i){var r=a[e];Xt.call(a,e)&&Jr(r,i)&&(i!==void 0||e in a)||Et(a,e,i)},Mn=function(a,e,i,r){var l=!i;i||(i={});for(var u=-1,C=e.length;++u<C;){var f=e[u],w=void 0;w===void 0&&(w=a[f]),l?Et(i,f,w):Pt(i,f,w)}return i},ni=function(a,e){for(var i=-1,r=Array(a);++i<a;)r[i]=e(i);return r},vn=function(a){return cn(a)&&Kt(a)=="[object Arguments]"};var lo=Object.prototype,An=lo.hasOwnProperty,mn=lo.propertyIsEnumerable;const gn=vn(function(){return arguments}())?vn:function(a){return cn(a)&&An.call(a,"callee")&&!mn.call(a,"callee")},Li=function(){return!1};var Xi=n&&!n.nodeType&&n,zo=Xi&&!0&&t&&!t.nodeType&&t,Fa=zo&&zo.exports===Xi?Ft.Buffer:void 0;const fi=(Fa?Fa.isBuffer:void 0)||Li;var zr=/^(?:0|[1-9]\d*)$/;const Pc=function(a,e){var i=typeof a;return!!(e=e??9007199254740991)&&(i=="number"||i!="symbol"&&zr.test(a))&&a>-1&&a%1==0&&a<e},mA=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991};var Pn={};Pn["[object Float32Array]"]=Pn["[object Float64Array]"]=Pn["[object Int8Array]"]=Pn["[object Int16Array]"]=Pn["[object Int32Array]"]=Pn["[object Uint8Array]"]=Pn["[object Uint8ClampedArray]"]=Pn["[object Uint16Array]"]=Pn["[object Uint32Array]"]=!0,Pn["[object Arguments]"]=Pn["[object Array]"]=Pn["[object ArrayBuffer]"]=Pn["[object Boolean]"]=Pn["[object DataView]"]=Pn["[object Date]"]=Pn["[object Error]"]=Pn["[object Function]"]=Pn["[object Map]"]=Pn["[object Number]"]=Pn["[object Object]"]=Pn["[object RegExp]"]=Pn["[object Set]"]=Pn["[object String]"]=Pn["[object WeakMap]"]=!1;const jJ=function(a){return cn(a)&&mA(a.length)&&!!Pn[Kt(a)]},CA=function(a){return function(e){return a(e)}};var CS=n&&!n.nodeType&&n,Ud=CS&&!0&&t&&!t.nodeType&&t,pA=Ud&&Ud.exports===CS&&ct.process;const jc=function(){try{var a=Ud&&Ud.require&&Ud.require("util").types;return a||pA&&pA.binding&&pA.binding("util")}catch{}}();var pS=jc&&jc.isTypedArray;const IA=pS?CA(pS):jJ;var OJ=Object.prototype.hasOwnProperty;const IS=function(a,e){var i=Zt(a),r=!i&&gn(a),l=!i&&!r&&fi(a),u=!i&&!r&&!l&&IA(a),C=i||r||l||u,f=C?ni(a.length,String):[],w=f.length;for(var S in a)!e&&!OJ.call(a,S)||C&&(S=="length"||l&&(S=="offset"||S=="parent")||u&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||Pc(S,w))||f.push(S);return f};var UJ=Object.prototype;const fA=function(a){var e=a&&a.constructor;return a===(typeof e=="function"&&e.prototype||UJ)},QJ=Cr(Object.keys,Object);var qJ=Object.prototype.hasOwnProperty;const $J=function(a){if(!fA(a))return QJ(a);var e=[];for(var i in Object(a))qJ.call(a,i)&&i!="constructor"&&e.push(i);return e},Hm=function(a){return a!=null&&mA(a.length)&&!Fn(a)},Qd=function(a){return Hm(a)?IS(a):$J(a)},e9=function(a,e){return a&&Mn(e,Qd(e),a)},t9=function(a){var e=[];if(a!=null)for(var i in Object(a))e.push(i);return e};var n9=Object.prototype.hasOwnProperty;const i9=function(a){if(!He(a))return t9(a);var e=fA(a),i=[];for(var r in a)(r!="constructor"||!e&&n9.call(a,r))&&i.push(r);return i},Oc=function(a){return Hm(a)?IS(a,!0):i9(a)},o9=function(a,e){return a&&Mn(e,Oc(e),a)};var fS=n&&!n.nodeType&&n,bS=fS&&!0&&t&&!t.nodeType&&t,AS=bS&&bS.exports===fS?Ft.Buffer:void 0,yS=AS?AS.allocUnsafe:void 0;const kS=function(a,e){if(e)return a.slice();var i=a.length,r=yS?yS(i):new a.constructor(i);return a.copy(r),r},vS=function(a,e){var i=-1,r=a.length;for(e||(e=Array(r));++i<r;)e[i]=a[i];return e},r9=function(a,e){for(var i=-1,r=a==null?0:a.length,l=0,u=[];++i<r;){var C=a[i];e(C,i,a)&&(u[l++]=C)}return u},wS=function(){return[]};var s9=Object.prototype.propertyIsEnumerable,xS=Object.getOwnPropertySymbols;const bA=xS?function(a){return a==null?[]:(a=Object(a),r9(xS(a),function(e){return s9.call(a,e)}))}:wS,a9=function(a,e){return Mn(a,bA(a),e)},SS=function(a,e){for(var i=-1,r=e.length,l=a.length;++i<r;)a[l+i]=e[i];return a},BS=Object.getOwnPropertySymbols?function(a){for(var e=[];a;)SS(e,bA(a)),a=Os(a);return e}:wS,l9=function(a,e){return Mn(a,BS(a),e)},ZS=function(a,e,i){var r=e(a);return Zt(a)?r:SS(r,i(a))},AA=function(a){return ZS(a,Qd,bA)},c9=function(a){return ZS(a,Oc,BS)},yA=V(Ft,"DataView"),kA=V(Ft,"Promise"),vA=V(Ft,"Set"),wA=V(Ft,"WeakMap");var GS="[object Map]",RS="[object Promise]",VS="[object Set]",WS="[object WeakMap]",_S="[object DataView]",g9=le(yA),d9=le(E),u9=le(kA),h9=le(vA),m9=le(wA),Dl=Kt;(yA&&Dl(new yA(new ArrayBuffer(1)))!=_S||E&&Dl(new E)!=GS||kA&&Dl(kA.resolve())!=RS||vA&&Dl(new vA)!=VS||wA&&Dl(new wA)!=WS)&&(Dl=function(a){var e=Kt(a),i=e=="[object Object]"?a.constructor:void 0,r=i?le(i):"";if(r)switch(r){case g9:return _S;case d9:return GS;case u9:return RS;case h9:return VS;case m9:return WS}return e});const qd=Dl;var C9=Object.prototype.hasOwnProperty;const p9=function(a){var e=a.length,i=new a.constructor(e);return e&&typeof a[0]=="string"&&C9.call(a,"index")&&(i.index=a.index,i.input=a.input),i},Fm=Ft.Uint8Array,xA=function(a){var e=new a.constructor(a.byteLength);return new Fm(e).set(new Fm(a)),e},I9=function(a,e){var i=e?xA(a.buffer):a.buffer;return new a.constructor(i,a.byteOffset,a.byteLength)};var f9=/\w*$/;const b9=function(a){var e=new a.constructor(a.source,f9.exec(a));return e.lastIndex=a.lastIndex,e};var NS=Mt?Mt.prototype:void 0,ES=NS?NS.valueOf:void 0;const A9=function(a){return ES?Object(ES.call(a)):{}},XS=function(a,e){var i=e?xA(a.buffer):a.buffer;return new a.constructor(i,a.byteOffset,a.length)},y9=function(a,e,i){var r=a.constructor;switch(e){case"[object ArrayBuffer]":return xA(a);case"[object Boolean]":case"[object Date]":return new r(+a);case"[object DataView]":return I9(a,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return XS(a,i);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(a);case"[object RegExp]":return b9(a);case"[object Symbol]":return A9(a)}};var YS=Object.create;const k9=function(){function a(){}return function(e){if(!He(e))return{};if(YS)return YS(e);a.prototype=e;var i=new a;return a.prototype=void 0,i}}(),DS=function(a){return typeof a.constructor!="function"||fA(a)?{}:k9(Os(a))},v9=function(a){return cn(a)&&qd(a)=="[object Map]"};var HS=jc&&jc.isMap;const w9=HS?CA(HS):v9,x9=function(a){return cn(a)&&qd(a)=="[object Set]"};var FS=jc&&jc.isSet;const S9=FS?CA(FS):x9;var MS="[object Arguments]",TS="[object Function]",JS="[object Object]",Ln={};Ln[MS]=Ln["[object Array]"]=Ln["[object ArrayBuffer]"]=Ln["[object DataView]"]=Ln["[object Boolean]"]=Ln["[object Date]"]=Ln["[object Float32Array]"]=Ln["[object Float64Array]"]=Ln["[object Int8Array]"]=Ln["[object Int16Array]"]=Ln["[object Int32Array]"]=Ln["[object Map]"]=Ln["[object Number]"]=Ln[JS]=Ln["[object RegExp]"]=Ln["[object Set]"]=Ln["[object String]"]=Ln["[object Symbol]"]=Ln["[object Uint8Array]"]=Ln["[object Uint8ClampedArray]"]=Ln["[object Uint16Array]"]=Ln["[object Uint32Array]"]=!0,Ln["[object Error]"]=Ln[TS]=Ln["[object WeakMap]"]=!1;const SA=function a(e,i,r,l,u,C){var f,w=1&i,S=2&i,R=4&i;if(r&&(f=u?r(e,l,u,C):r(e)),f!==void 0)return f;if(!He(e))return e;var X=Zt(e);if(X){if(f=p9(e),!w)return vS(e,f)}else{var J=qd(e),U=J==TS||J=="[object GeneratorFunction]";if(fi(e))return kS(e,w);if(J==JS||J==MS||U&&!u){if(f=S||U?{}:DS(e),!w)return S?l9(e,o9(f,e)):a9(e,e9(f,e))}else{if(!Ln[J])return u?e:{};f=y9(e,J,w)}}C||(C=new pt);var te=C.get(e);if(te)return te;C.set(e,f),S9(e)?e.forEach(function(he){f.add(a(he,i,r,he,e,C))}):w9(e)&&e.forEach(function(he,Ie){f.set(Ie,a(he,i,r,Ie,e,C))});var ae=X?void 0:(R?S?c9:AA:S?Oc:Qd)(e);return kt(ae||e,function(he,Ie){ae&&(he=e[Ie=he]),Pt(f,Ie,a(he,i,r,Ie,e,C))}),f},BA=function(a,e){return SA(a,5,e=typeof e=="function"?e:void 0)},Hl=function(a){return cn(a)&&a.nodeType===1&&!Ei(a)};class LS{constructor(e,i){this._config={},i&&this.define(zS(i)),e&&this._setObjectToTarget(this._config,e)}set(e,i){this._setToTarget(this._config,e,i)}define(e,i){this._setToTarget(this._config,e,i,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,i,r,l=!1){if(Ei(i))return void this._setObjectToTarget(e,i,l);const u=i.split(".");i=u.pop();for(const C of u)Ei(e[C])||(e[C]={}),e=e[C];if(Ei(r))return Ei(e[i])||(e[i]={}),e=e[i],void this._setObjectToTarget(e,r,l);l&&e[i]!==void 0||(e[i]=r)}_getFromSource(e,i){const r=i.split(".");i=r.pop();for(const l of r){if(!Ei(e[l])){e=null;break}e=e[l]}return e?zS(e[i]):void 0}_setObjectToTarget(e,i,r){Object.keys(i).forEach(l=>{this._setToTarget(e,l,i[l],r)})}}function zS(a){return BA(a,B9)}function B9(a){return Hl(a)||typeof a=="function"?a:void 0}function Ma(a){if(a){if(a.defaultView)return a instanceof a.defaultView.Document;if(a.ownerDocument&&a.ownerDocument.defaultView)return a instanceof a.ownerDocument.defaultView.Node}return!1}function Mm(a){const e=Object.prototype.toString.apply(a);return e=="[object Window]"||e=="[object global]"}const KS=pr(fe());function pr(a){return a?class extends a{listenTo(e,i,r,l={}){if(Ma(e)||Mm(e)){const u={capture:!!l.useCapture,passive:!!l.usePassive},C=this._getProxyEmitter(e,u)||new Z9(e,u);this.listenTo(C,i,r,l)}else super.listenTo(e,i,r,l)}stopListening(e,i,r){if(Ma(e)||Mm(e)){const l=this._getAllProxyEmitters(e);for(const u of l)this.stopListening(u,i,r)}else super.stopListening(e,i,r)}_getProxyEmitter(e,i){return function(r,l){const u=r[Se];return u&&u[l]?u[l].emitter:null}(this,PS(e,i))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(e,i)).filter(i=>!!i)}}:KS}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{pr[a]=KS.prototype[a]});class Z9 extends fe(){constructor(e,i){super(),Ze(this,PS(e,i)),this._domNode=e,this._options=i}attach(e){if(this._domListeners&&this._domListeners[e])return;const i=this._createDomListener(e);this._domNode.addEventListener(e,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=i}detach(e){let i;!this._domListeners[e]||(i=this._events[e])&&i.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,i,r){this.attach(e),fe().prototype._addEventListener.call(this,e,i,r)}_removeEventListener(e,i){fe().prototype._removeEventListener.call(this,e,i),this.detach(e)}_createDomListener(e){const i=r=>{this.fire(e,r)};return i.removeListener=()=>{this._domNode.removeEventListener(e,i,this._options),delete this._domListeners[e]},i}}function PS(a,e){let i=function(r){return r["data-ck-expando"]||(r["data-ck-expando"]=j())}(a);for(const r of Object.keys(e).sort())e[r]&&(i+="-"+r);return i}function jS(a){const e=a.ownerDocument.defaultView.getComputedStyle(a);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function bi(a){return Object.prototype.toString.call(a)=="[object Text]"}function Tm(a){return Object.prototype.toString.apply(a)=="[object Range]"}function OS(a){return a&&a.parentNode?a.offsetParent===v.document.body?null:a.offsetParent:null}const US=["top","right","bottom","left","width","height"];class rn{constructor(e){const i=Tm(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),ZA(e)||i)if(i){const r=rn.getDomRangeRects(e);Jm(this,rn.getBoundingRect(r))}else Jm(this,e.getBoundingClientRect());else if(Mm(e)){const{innerWidth:r,innerHeight:l}=e;Jm(this,{top:0,right:r,bottom:l,left:0,width:r,height:l})}else Jm(this,e)}clone(){return new rn(this)}moveTo(e,i){return this.top=i,this.right=e+this.width,this.bottom=i+this.height,this.left=e,this}moveBy(e,i){return this.top+=i,this.right+=e,this.left+=e,this.bottom+=i,this}getIntersection(e){const i={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0||i.height<0)return null;{const r=new rn(i);return r._source=this._source,r}}getIntersectionArea(e){const i=this.getIntersection(e);return i?i.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let i=this.clone();if(QS(e))return i;let r,l=e,u=e.parentNode||e.commonAncestorContainer;for(;u&&!QS(u);){const f=((C=u)instanceof HTMLElement?C.ownerDocument.defaultView.getComputedStyle(C).overflow:"visible")==="visible";l instanceof HTMLElement&&qS(l)==="absolute"&&(r=l);const w=qS(u);if(f||r&&(w==="relative"&&f||w!=="relative")){l=u,u=u.parentNode;continue}const S=new rn(u),R=i.getIntersection(S);if(!R)return null;R.getArea()<i.getArea()&&(i=R),l=u,u=u.parentNode}var C;return i}isEqual(e){for(const i of US)if(this[i]!==e[i])return!1;return!0}contains(e){const i=this.getIntersection(e);return!(!i||!i.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:i}=v.window,r=this.clone().moveBy(e,i);if(ZA(r._source)){const l=OS(r._source);l&&function(u,C){const f=new rn(C),w=jS(C);let S=0,R=0;S-=f.left,R-=f.top,S+=C.scrollLeft,R+=C.scrollTop,S-=w.left,R-=w.top,u.moveBy(S,R)}(r,l)}return r}excludeScrollbarsAndBorders(){const e=this._source;let i,r,l;if(Mm(e))i=e.innerWidth-e.document.documentElement.clientWidth,r=e.innerHeight-e.document.documentElement.clientHeight,l=e.getComputedStyle(e.document.documentElement).direction;else{const u=jS(e);i=e.offsetWidth-e.clientWidth-u.left-u.right,r=e.offsetHeight-e.clientHeight-u.top-u.bottom,l=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=u.left,this.top+=u.top,this.right-=u.right,this.bottom-=u.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=i,l==="ltr"?this.right-=i:this.left+=i,this.height-=r,this.bottom-=r,this}static getDomRangeRects(e){const i=[],r=Array.from(e.getClientRects());if(r.length)for(const l of r)i.push(new rn(l));else{let l=e.startContainer;bi(l)&&(l=l.parentNode);const u=new rn(l.getBoundingClientRect());u.right=u.left,u.width=0,i.push(u)}return i}static getBoundingRect(e){const i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let r=0;for(const l of e)r++,i.left=Math.min(i.left,l.left),i.top=Math.min(i.top,l.top),i.right=Math.max(i.right,l.right),i.bottom=Math.max(i.bottom,l.bottom);return r==0?null:(i.width=i.right-i.left,i.height=i.bottom-i.top,new rn(i))}}function Jm(a,e){for(const i of US)a[i]=e[i]}function QS(a){return!!ZA(a)&&a===a.ownerDocument.body}function ZA(a){return a!==null&&typeof a=="object"&&a.nodeType===1&&typeof a.getBoundingClientRect=="function"}function qS(a){return a instanceof HTMLElement?a.ownerDocument.defaultView.getComputedStyle(a).position:"static"}const Ai=class{constructor(a,e){Ai._observerInstance||Ai._createObserver(),this._element=a,this._callback=e,Ai._addElementCallback(a,e),Ai._observerInstance.observe(a)}get element(){return this._element}destroy(){Ai._deleteElementCallback(this._element,this._callback)}static _addElementCallback(a,e){Ai._elementCallbacks||(Ai._elementCallbacks=new Map);let i=Ai._elementCallbacks.get(a);i||(i=new Set,Ai._elementCallbacks.set(a,i)),i.add(e)}static _deleteElementCallback(a,e){const i=Ai._getElementCallbacks(a);i&&(i.delete(e),i.size||(Ai._elementCallbacks.delete(a),Ai._observerInstance.unobserve(a))),Ai._elementCallbacks&&!Ai._elementCallbacks.size&&(Ai._observerInstance=null,Ai._elementCallbacks=null)}static _getElementCallbacks(a){return Ai._elementCallbacks?Ai._elementCallbacks.get(a):null}static _createObserver(){Ai._observerInstance=new v.window.ResizeObserver(a=>{for(const e of a){const i=Ai._getElementCallbacks(e.target);if(i)for(const r of i)r(e)}})}};let $d=Ai;function $S(a,e){a instanceof HTMLTextAreaElement&&(a.value=e),a.innerHTML=e}function Uc(a){return e=>e+a}function eu(a){let e=0;for(;a.previousSibling;)a=a.previousSibling,e++;return e}function e2(a,e,i){a.insertBefore(i,a.childNodes[e]||null)}function tu(a){return a&&a.nodeType===Node.COMMENT_NODE}function Fl(a){return!!(a&&a.getClientRects&&a.getClientRects().length)}$d._observerInstance=null,$d._elementCallbacks=null;var t2=Math.pow;function Lm({element:a,target:e,positions:i,limiter:r,fitInViewport:l,viewportOffsetConfig:u}){Fn(e)&&(e=e()),Fn(r)&&(r=r());const C=OS(a),f=function(J){J=Object.assign({top:0,bottom:0,left:0,right:0},J);const U=new rn(v.window);return U.top+=J.top,U.height-=J.top,U.bottom-=J.bottom,U.height-=J.bottom,U}(u),w=new rn(a),S=n2(e,f);let R;if(!S||!f.getIntersection(S))return null;const X={targetRect:S,elementRect:w,positionedElementAncestor:C,viewportRect:f};if(r||l){if(r){const J=n2(r,f);J&&(X.limiterRect=J)}R=function(J,U){const{elementRect:te}=U,ae=te.getArea(),he=J.map(We=>new i2(We,U)).filter(We=>!!We.name);let Ie=0,we=null;for(const We of he){const{limiterIntersectionArea:ze,viewportIntersectionArea:ut}=We;if(ze===ae)return We;const Nt=t2(ut,2)+t2(ze,2);Nt>Ie&&(Ie=Nt,we=We)}return we}(i,X)}else R=new i2(i[0],X);return R}function n2(a,e){const i=new rn(a).getVisible();return i?i.getIntersection(e):null}class i2{constructor(e,i){const r=e(i.targetRect,i.elementRect,i.viewportRect,i.limiterRect);if(!r)return;const{left:l,top:u,name:C,config:f}=r;this.name=C,this.config=f,this._positioningFunctionCoordinates={left:l,top:u},this._options=i}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function o2(a){const e=a.parentNode;e&&e.removeChild(a)}function G9({window:a,rect:e,alignToTop:i,forceScroll:r,viewportOffset:l}){const u=e.clone().moveBy(0,l.bottom),C=e.clone().moveBy(0,-l.top),f=new rn(a).excludeScrollbarsAndBorders(),w=i&&r,S=[C,u].every(te=>f.contains(te));let{scrollX:R,scrollY:X}=a;const J=R,U=X;w?X-=f.top-e.top+l.top:S||(s2(C,f)?X-=f.top-e.top+l.top:r2(u,f)&&(X+=i?e.top-f.top-l.top:e.bottom-f.bottom+l.bottom)),S||(a2(e,f)?R-=f.left-e.left+l.left:l2(e,f)&&(R+=e.right-f.right+l.right)),R==J&&X===U||a.scrollTo(R,X)}function R9({parent:a,getRect:e,alignToTop:i,forceScroll:r,ancestorOffset:l=0,limiterElement:u}){const C=GA(a),f=i&&r;let w,S,R;const X=u||C.document.body;for(;a!=X;)S=e(),w=new rn(a).excludeScrollbarsAndBorders(),R=w.contains(S),f?a.scrollTop-=w.top-S.top+l:R||(s2(S,w)?a.scrollTop-=w.top-S.top+l:r2(S,w)&&(a.scrollTop+=i?S.top-w.top-l:S.bottom-w.bottom+l)),R||(a2(S,w)?a.scrollLeft-=w.left-S.left+l:l2(S,w)&&(a.scrollLeft+=S.right-w.right+l)),a=a.parentNode}function r2(a,e){return a.bottom>e.bottom}function s2(a,e){return a.top<e.top}function a2(a,e){return a.left<e.left}function l2(a,e){return a.right>e.right}function GA(a){return Tm(a)?a.startContainer.ownerDocument.defaultView:a.ownerDocument.defaultView}function V9(a){if(Tm(a)){let e=a.commonAncestorContainer;return bi(e)&&(e=e.parentNode),e}return a.parentNode}function c2(a,e){const i=GA(a),r=new rn(a);if(i===e)return r;{let l=i;for(;l!=e;){const u=l.frameElement,C=new rn(u).excludeScrollbarsAndBorders();r.moveBy(C.left,C.top),l=l.parent}}return r}const W9={ctrl:"",cmd:"",alt:"",shift:""},_9={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},g2={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},ln=function(){const a={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)a[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)a[e-48]=e;for(let e=112;e<=123;e++)a["f"+(e-111)]=e;return Object.assign(a,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),a}(),N9=Object.fromEntries(Object.entries(ln).map(([a,e])=>{let i;return i=e in g2?g2[e]:a.charAt(0).toUpperCase()+a.slice(1),[e,i]}));function Qc(a){let e;if(typeof a=="string"){if(e=ln[a.toLowerCase()],!e)throw new K("keyboard-unknown-key",null,{key:a})}else e=a.keyCode+(a.altKey?ln.alt:0)+(a.ctrlKey?ln.ctrl:0)+(a.shiftKey?ln.shift:0)+(a.metaKey?ln.cmd:0);return e}function nu(a){return typeof a=="string"&&(a=function(e){return e.split("+").map(i=>i.trim())}(a)),a.map(e=>typeof e=="string"?function(i){if(i.endsWith("!"))return Qc(i.slice(0,-1));const r=Qc(i);return(_.isMac||_.isiOS)&&r==ln.ctrl?ln.cmd:r}(e):e).reduce((e,i)=>i+e,0)}function zm(a){let e=nu(a);return Object.entries(_.isMac||_.isiOS?W9:_9).reduce((i,[r,l])=>(e&ln[r]&&(e&=~ln[r],i+=l),i),"")+(e?N9[e]:"")}function RA(a,e){const i=e==="ltr";switch(a){case ln.arrowleft:return i?"left":"right";case ln.arrowright:return i?"right":"left";case ln.arrowup:return"up";case ln.arrowdown:return"down"}}function Tn(a){return Array.isArray(a)?a:[a]}const VA=function(a,e,i){(i!==void 0&&!Jr(a[e],i)||i===void 0&&!(e in a))&&Et(a,e,i)},d2=function(a){return function(e,i,r){for(var l=-1,u=Object(e),C=r(e),f=C.length;f--;){var w=C[++l];if(i(u[w],w,u)===!1)break}return e}}(),E9=function(a){return cn(a)&&Hm(a)},u2=function(a,e){if((e!=="constructor"||typeof a[e]!="function")&&e!="__proto__")return a[e]},X9=function(a){return Mn(a,Oc(a))},Y9=function(a,e,i,r,l,u,C){var f=u2(a,i),w=u2(e,i),S=C.get(w);if(S)VA(a,i,S);else{var R=void 0,X=R===void 0;if(X){var J=Zt(w),U=!J&&fi(w),te=!J&&!U&&IA(w);R=w,J||U||te?Zt(f)?R=f:E9(f)?R=vS(f):U?(X=!1,R=kS(w,!0)):te?(X=!1,R=XS(w,!0)):R=[]:Ei(w)||gn(w)?(R=f,gn(f)?R=X9(f):He(f)&&!Fn(f)||(R=DS(w))):X=!1}X&&(C.set(w,R),l(R,w,r,u,C),C.delete(w)),VA(a,i,R)}},D9=function a(e,i,r,l,u){e!==i&&d2(i,function(C,f){if(u||(u=new pt),He(C))Y9(e,i,f,r,a,l,u);else{var w=void 0;w===void 0&&(w=C),VA(e,f,w)}},Oc)},Ta=function(a){return a},H9=function(a,e,i){switch(i.length){case 0:return a.call(e);case 1:return a.call(e,i[0]);case 2:return a.call(e,i[0],i[1]);case 3:return a.call(e,i[0],i[1],i[2])}return a.apply(e,i)};var h2=Math.max;const F9=function(a,e,i){return e=h2(e===void 0?a.length-1:e,0),function(){for(var r=arguments,l=-1,u=h2(r.length-e,0),C=Array(u);++l<u;)C[l]=r[e+l];l=-1;for(var f=Array(e+1);++l<e;)f[l]=r[l];return f[e]=i(C),H9(a,this,f)}},M9=function(a){return function(){return a}},T9=Bt?function(a,e){return Bt(a,"toString",{configurable:!0,enumerable:!1,value:M9(e),writable:!0})}:Ta;var J9=Date.now;const L9=function(a){var e=0,i=0;return function(){var r=J9(),l=16-(r-i);if(i=r,l>0){if(++e>=800)return arguments[0]}else e=0;return a.apply(void 0,arguments)}}(T9),z9=function(a,e){return L9(F9(a,e,Ta),a+"")},K9=function(a,e,i){if(!He(i))return!1;var r=typeof e;return!!(r=="number"?Hm(i)&&Pc(e,i.length):r=="string"&&e in i)&&Jr(i[e],a)},m2=function(a){return z9(function(e,i){var r=-1,l=i.length,u=l>1?i[l-1]:void 0,C=l>2?i[2]:void 0;for(u=a.length>3&&typeof u=="function"?(l--,u):void 0,C&&K9(i[0],i[1],C)&&(u=l<3?void 0:u,l=1),e=Object(e);++r<l;){var f=i[r];f&&a(e,f,r,u)}return e})},WA=m2(function(a,e,i){D9(a,e,i)});function P9(a,e,i=1,r){if(typeof i!="number")throw new K("translation-service-quantity-not-a-number",null,{quantity:i});const l=r||v.window.CKEDITOR_TRANSLATIONS,u=function(R){return Object.keys(R).length}(l);u===1&&(a=Object.keys(l)[0]);const C=e.id||e.string;if(u===0||!function(R,X,J){return!!J[R]&&!!J[R].dictionary[X]}(a,C,l))return i!==1?e.plural:e.string;const f=l[a].dictionary,w=l[a].getPluralForm||(R=>R===1?0:1),S=f[C];return typeof S=="string"?S:S[Number(w(i))]}v.window.CKEDITOR_TRANSLATIONS||(v.window.CKEDITOR_TRANSLATIONS={});const j9=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function C2(a){return j9.includes(a)?"rtl":"ltr"}class O9{constructor({uiLanguage:e="en",contentLanguage:i,translations:r}={}){this.uiLanguage=e,this.contentLanguage=i||this.uiLanguage,this.uiLanguageDirection=C2(this.uiLanguage),this.contentLanguageDirection=C2(this.contentLanguage),this.translations=function(l){return Array.isArray(l)?l.reduce((u,C)=>WA(u,C)):l}(r),this.t=(l,u)=>this._t(l,u)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,i=[]){i=Tn(i),typeof e=="string"&&(e={string:e});const r=e.plural?i[0]:1;return function(l,u){return l.replace(/%(\d+)/g,(C,f)=>f<u.length?u[f]:C)}(P9(this.uiLanguage,e,r,this.translations),i)}}class Kr extends fe(){constructor(e={},i={}){super();const r=Fe(e);if(r||(i=e),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],r)for(const l of e)this._items.push(l),this._itemMap.set(this._getItemIdBeforeAdding(l),l)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,i){return this.addMany([e],i)}addMany(e,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new K("collection-add-item-invalid-index",this);let r=0;for(const l of e){const u=this._getItemIdBeforeAdding(l),C=i+r;this._items.splice(C,0,l),this._itemMap.set(u,l),this.fire("add",l,C),r++}return this.fire("change",{added:e,removed:[],index:i}),this}get(e){let i;if(typeof e=="string")i=this._itemMap.get(e);else{if(typeof e!="number")throw new K("collection-get-invalid-arg",this);i=this._items[e]}return i||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const i=e[this._idProperty];return i&&this._itemMap.has(i)}}getIndex(e){let i;return i=typeof e=="string"?this._itemMap.get(e):e,i?this._items.indexOf(i):-1}remove(e){const[i,r]=this._remove(e);return this.fire("change",{added:[],removed:[i],index:r}),i}map(e,i){return this._items.map(e,i)}forEach(e,i){this._items.forEach(e,i)}find(e,i){return this._items.find(e,i)}filter(e,i){return this._items.filter(e,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new K("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:i=>{this._setUpBindToBinding(r=>new i(r))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(r=>r[i])}}}_setUpBindToBinding(e){const i=this._bindToCollection,r=(l,u,C)=>{const f=i._bindToCollection==this,w=i._bindToInternalToExternalMap.get(u);if(f&&w)this._bindToExternalToInternalMap.set(u,w),this._bindToInternalToExternalMap.set(w,u);else{const S=e(u);if(!S)return void this._skippedIndexesFromExternal.push(C);let R=C;for(const X of this._skippedIndexesFromExternal)C>X&&R--;for(const X of i._skippedIndexesFromExternal)R>=X&&R++;this._bindToExternalToInternalMap.set(u,S),this._bindToInternalToExternalMap.set(S,u),this.add(S,R);for(let X=0;X<i._skippedIndexesFromExternal.length;X++)R<=i._skippedIndexesFromExternal[X]&&i._skippedIndexesFromExternal[X]++}};for(const l of i)r(0,l,i.getIndex(l));this.listenTo(i,"add",r),this.listenTo(i,"remove",(l,u,C)=>{const f=this._bindToExternalToInternalMap.get(u);f&&this.remove(f),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((w,S)=>(C<S&&w.push(S-1),C>S&&w.push(S),w),[])})}_getItemIdBeforeAdding(e){const i=this._idProperty;let r;if(i in e){if(r=e[i],typeof r!="string")throw new K("collection-add-invalid-id",this);if(this.get(r))throw new K("collection-add-item-already-exists",this)}else e[i]=r=j();return r}_remove(e){let i,r,l,u=!1;const C=this._idProperty;if(typeof e=="string"?(r=e,l=this._itemMap.get(r),u=!l,l&&(i=this._items.indexOf(l))):typeof e=="number"?(i=e,l=this._items[i],u=!l,l&&(r=l[C])):(l=e,r=l[C],i=this._items.indexOf(l),u=i==-1||!this._itemMap.get(r)),u)throw new K("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(r);const f=this._bindToInternalToExternalMap.get(l);return this._bindToInternalToExternalMap.delete(l),this._bindToExternalToInternalMap.delete(f),this.fire("remove",l,i),[l,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function zi(a){const e=a.next();return e.done?null:e.value}class Ki extends pr(rt()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new K("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class yo{constructor(){this._listener=new(pr())}listenTo(e){this._listener.listenTo(e,"keydown",(i,r)=>{this._listener.fire("_keydown:"+Qc(r),r)})}set(e,i,r={}){const l=nu(e),u=r.priority;this._listener.listenTo(this._listener,"_keydown:"+l,(C,f)=>{i(f,()=>{f.preventDefault(),f.stopPropagation(),C.stop()}),C.return=!0},{priority:u})}press(e){return!!this._listener.fire("_keydown:"+Qc(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function ks(a){return Fe(a)?new Map(a):function(e){const i=new Map;for(const r in e)i.set(r,e[r]);return i}(a)}function _A(a,e){let i;function r(...l){r.cancel(),i=setTimeout(()=>a(...l),e)}return r.cancel=()=>{clearTimeout(i)},r}function NA(a,e){return!!(i=a.charAt(e-1))&&i.length==1&&/[\ud800-\udbff]/.test(i)&&function(r){return!!r&&r.length==1&&/[\udc00-\udfff]/.test(r)}(a.charAt(e));var i}function EA(a,e){return!!(i=a.charAt(e))&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i);var i}const U9=function(){const a=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,i="(?:"+a.map(r=>r.source).join("|")+")";return new RegExp(`${e}|${i}(?:${i})*`,"ug")}();function p2(a,e){const i=String(a).matchAll(U9);return Array.from(i).some(r=>r.index<e&&e<r.index+r[0].length)}class Ir extends Kr{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(i,r,l)=>{this._renderViewIntoCollectionParent(r,l)}),this.on("remove",(i,r)=>{r.element&&this._parentElement&&r.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...e){if(!e.length||!e.every(i=>typeof i=="string"))throw new K("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const r of this)for(const l of e)r.delegate(l).to(i);this.on("add",(r,l)=>{for(const u of e)l.delegate(u).to(i)}),this.on("remove",(r,l)=>{for(const u of e)l.stopDelegating(u,i)})}}}_renderViewIntoCollectionParent(e,i){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[i])}remove(e){return super.remove(e)}}class Pr extends fe(){constructor(e){super(),Object.assign(this,A2(b2(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new K("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(i){if(i.children)for(const r of i.children)Pm(r)?yield r:XA(r)&&(yield*e(r))}(this)}static bind(e,i){return{to:(r,l)=>new Q9({eventNameOrFunction:r,attribute:r,observable:e,emitter:i,callback:l}),if:(r,l,u)=>new I2({observable:e,emitter:i,attribute:r,valueIfTrue:l,callback:u})}}static extend(e,i){if(e._isRendered)throw new K("template-extend-render",[this,e]);w2(e,A2(b2(i)))}_renderNode(e){let i;if(i=e.node?this.tag&&this.text:this.tag?this.text:!this.text,i)throw new K("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let i=e.node;return i||(i=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),i}_renderText(e){let i=e.node;return i?e.revertData.text=i.textContent:i=e.node=document.createTextNode(""),Km(this.text)?this._bindToObservable({schema:this.text,updater:q9(i),data:e}):i.textContent=this.text.join(""),i}_renderAttributes(e){if(!this.attributes)return;const i=e.node,r=e.revertData;for(const l in this.attributes){const u=i.getAttribute(l),C=this.attributes[l];r&&(r.attributes[l]=u);const f=x2(C)?C[0].ns:null;if(Km(C)){const w=x2(C)?C[0].value:C;r&&S2(l)&&w.unshift(u),this._bindToObservable({schema:w,updater:$9(i,l,f),data:e})}else if(l=="style"&&typeof C[0]!="string")this._renderStyleAttribute(C[0],e);else{r&&u&&S2(l)&&C.unshift(u);const w=C.map(S=>S&&S.value||S).reduce((S,R)=>S.concat(R),[]).reduce(k2,"");qc(w)||i.setAttributeNS(f,l,w)}}}_renderStyleAttribute(e,i){const r=i.node;for(const l in e){const u=e[l];Km(u)?this._bindToObservable({schema:[u],updater:eL(r,l),data:i}):r.style[l]=u}}_renderElementChildren(e){const i=e.node,r=e.intoFragment?document.createDocumentFragment():i,l=e.isApplying;let u=0;for(const C of this.children)if(YA(C)){if(!l){C.setParent(i);for(const f of C)r.appendChild(f.element)}}else if(Pm(C))l||(C.isRendered||C.render(),r.appendChild(C.element));else if(Ma(C))r.appendChild(C);else if(l){const f={children:[],bindings:[],attributes:{}};e.revertData.children.push(f),C._renderNode({intoFragment:!1,node:r.childNodes[u++],isApplying:!0,revertData:f})}else r.appendChild(C.render());e.intoFragment&&i.appendChild(r)}_setUpListeners(e){if(this.eventListeners)for(const i in this.eventListeners){const r=this.eventListeners[i].map(l=>{const[u,C]=i.split("@");return l.activateDomEventListener(u,C,e)});e.revertData&&e.revertData.bindings.push(r)}}_bindToObservable({schema:e,updater:i,data:r}){const l=r.revertData;f2(e,i,r);const u=e.filter(C=>!qc(C)).filter(C=>C.observable).map(C=>C.activateAttributeListener(e,i,r));l&&l.bindings.push(u)}_revertTemplateFromNode(e,i){for(const l of i.bindings)for(const u of l)u();if(i.text)return void(e.textContent=i.text);const r=e;for(const l in i.attributes){const u=i.attributes[l];u===null?r.removeAttribute(l):r.setAttribute(l,u)}for(let l=0;l<i.children.length;++l)this._revertTemplateFromNode(r.childNodes[l],i.children[l])}}class iu{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const i=this.observable[this.attribute];return this.callback?this.callback(i,e):i}activateAttributeListener(e,i,r){const l=()=>f2(e,i,r);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,l),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,l)}}}class Q9 extends iu{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,i,r){const l=(u,C)=>{i&&!C.target.matches(i)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(C):this.observable.fire(this.eventNameOrFunction,C))};return this.emitter.listenTo(r.node,e,l),()=>{this.emitter.stopListening(r.node,e,l)}}}class I2 extends iu{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!qc(super.getValue(e))&&(this.valueIfTrue||!0)}}function Km(a){return!!a&&(a.value&&(a=a.value),Array.isArray(a)?a.some(Km):a instanceof iu)}function f2(a,e,{node:i}){const r=function(u,C){return u.map(f=>f instanceof iu?f.getValue(C):f)}(a,i);let l;l=a.length==1&&a[0]instanceof I2?r[0]:r.reduce(k2,""),qc(l)?e.remove():e.set(l)}function q9(a){return{set(e){a.textContent=e},remove(){a.textContent=""}}}function $9(a,e,i){return{set(r){a.setAttributeNS(i,e,r)},remove(){a.removeAttributeNS(i,e)}}}function eL(a,e){return{set(i){a.style[e]=i},remove(){a.style[e]=null}}}function b2(a){return BA(a,e=>{if(e&&(e instanceof iu||XA(e)||Pm(e)||YA(e)))return e})}function A2(a){if(typeof a=="string"?a=function(e){return{text:[e]}}(a):a.text&&function(e){e.text=Tn(e.text)}(a),a.on&&(a.eventListeners=function(e){for(const i in e)y2(e,i);return e}(a.on),delete a.on),!a.text){a.attributes&&function(i){for(const r in i)i[r].value&&(i[r].value=Tn(i[r].value)),y2(i,r)}(a.attributes);const e=[];if(a.children)if(YA(a.children))e.push(a.children);else for(const i of a.children)XA(i)||Pm(i)||Ma(i)?e.push(i):e.push(new Pr(i));a.children=e}return a}function y2(a,e){a[e]=Tn(a[e])}function k2(a,e){return qc(e)?a:qc(a)?e:`${a} ${e}`}function v2(a,e){for(const i in e)a[i]?a[i].push(...e[i]):a[i]=e[i]}function w2(a,e){if(e.attributes&&(a.attributes||(a.attributes={}),v2(a.attributes,e.attributes)),e.eventListeners&&(a.eventListeners||(a.eventListeners={}),v2(a.eventListeners,e.eventListeners)),e.text&&a.text.push(...e.text),e.children&&e.children.length){if(a.children.length!=e.children.length)throw new K("ui-template-extend-children-mismatch",a);let i=0;for(const r of e.children)w2(a.children[i++],r)}}function qc(a){return!a&&a!==0}function Pm(a){return a instanceof Gt}function XA(a){return a instanceof Pr}function YA(a){return a instanceof Ir}function x2(a){return He(a[0])&&a[0].ns}function S2(a){return a=="class"||a=="style"}var tL=d(2591),lt=d.n(tL),B2=d(7676),nL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(B2.A,nL),B2.A.locals;class Gt extends pr(rt()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Kr,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,r)=>{r.locale=e,r.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Pr.bind(this,this)}createCollection(e){const i=new Ir(e);return this._viewCollections.add(i),i}registerChild(e){Fe(e)||(e=[e]);for(const i of e)this._unboundChildren.add(i)}deregisterChild(e){Fe(e)||(e=[e]);for(const i of e)this._unboundChildren.remove(i)}setTemplate(e){this.template=new Pr(e)}extendTemplate(e){Pr.extend(this.template,e)}render(){if(this.isRendered)throw new K("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function jm({emitter:a,activator:e,callback:i,contextElements:r}){a.listenTo(document,"mousedown",(l,u)=>{if(!e())return;const C=typeof u.composedPath=="function"?u.composedPath():[],f=typeof r=="function"?r():r;for(const w of f)if(w.contains(u.target)||C.includes(w))return;i()})}function DA(a){return class extends a{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function Om({view:a}){a.listenTo(a.element,"submit",(e,i)=>{i.preventDefault(),a.fire("submit")},{useCapture:!0})}function iL({keystrokeHandler:a,focusTracker:e,gridItems:i,numberOfColumns:r,uiLanguageDirection:l}){const u=typeof r=="number"?()=>r:r;function C(S){return R=>{const X=i.find(te=>te.element===e.focusedElement),J=i.getIndex(X),U=S(J,i);i.get(U).focus(),R.stopPropagation(),R.preventDefault()}}function f(S,R){return S===R-1?0:S+1}function w(S,R){return S===0?R-1:S-1}a.set("arrowright",C((S,R)=>l==="rtl"?w(S,R.length):f(S,R.length))),a.set("arrowleft",C((S,R)=>l==="rtl"?f(S,R.length):w(S,R.length))),a.set("arrowup",C((S,R)=>{let X=S-u();return X<0&&(X=S+u()*Math.floor(R.length/u()),X>R.length-1&&(X-=u())),X})),a.set("arrowdown",C((S,R)=>{let X=S+u();return X>R.length-1&&(X=S%u()),X}))}class qe extends rt(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Z2,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Z2),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Z2(a){a.return=!1,a.stop()}class Ut extends rt(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",i=>{if(!this.affectsData)return;const r=e.model.document.selection,l=r.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(r);(e.isReadOnly||this._isEnabledBasedOnSelection&&!l)&&(i.return=!1,i.stop())},{priority:"highest"}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",G2,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",G2),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function G2(a){a.return=!1,a.stop()}class R2 extends Ut{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const i=this._getFirstEnabledCommand();return!!i&&i.execute(e)}registerChildCommand(e,i={}){ne(this._childCommandsDefinitions,{command:e,priority:i.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return e&&e.command}}class V2 extends fe(){constructor(e,i=[],r=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const l of i)l.pluginName&&this._availablePlugins.set(l.pluginName,l);this._contextPlugins=new Map;for(const[l,u]of r)this._contextPlugins.set(l,u),this._contextPlugins.set(u,l),l.pluginName&&this._availablePlugins.set(l.pluginName,l)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const i=this._plugins.get(e);if(!i){let r=e;throw typeof e=="function"&&(r=e.pluginName||e.name),new K("plugincollection-plugin-not-loaded",this._context,{plugin:r})}return i}has(e){return this._plugins.has(e)}init(e,i=[],r=[]){const l=this,u=this._context;(function te(ae,he=new Set){ae.forEach(Ie=>{w(Ie)&&(he.has(Ie)||(he.add(Ie),Ie.pluginName&&!l._availablePlugins.has(Ie.pluginName)&&l._availablePlugins.set(Ie.pluginName,Ie),Ie.requires&&te(Ie.requires,he)))})})(e),J(e);const C=[...function te(ae,he=new Set){return ae.map(Ie=>w(Ie)?Ie:l._availablePlugins.get(Ie)).reduce((Ie,we)=>he.has(we)?Ie:(he.add(we),we.requires&&(J(we.requires,we),te(we.requires,he).forEach(We=>Ie.add(We))),Ie.add(we)),new Set)}(e.filter(te=>!R(te,i)))];(function(te,ae){for(const he of ae){if(typeof he!="function")throw new K("plugincollection-replace-plugin-invalid-type",null,{pluginItem:he});const Ie=he.pluginName;if(!Ie)throw new K("plugincollection-replace-plugin-missing-name",null,{pluginItem:he});if(he.requires&&he.requires.length)throw new K("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Ie});const we=l._availablePlugins.get(Ie);if(!we)throw new K("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Ie});const We=te.indexOf(we);if(We===-1){if(l._contextPlugins.has(we))return;throw new K("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Ie})}if(we.requires&&we.requires.length)throw new K("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Ie});te.splice(We,1,he),l._availablePlugins.set(Ie,he)}})(C,r);const f=C.map(te=>{let ae=l._contextPlugins.get(te);return ae=ae||new te(u),l._add(te,ae),ae});return U(f,"init").then(()=>U(f,"afterInit")).then(()=>f);function w(te){return typeof te=="function"}function S(te){return w(te)&&!!te.isContextPlugin}function R(te,ae){return ae.some(he=>he===te||X(te)===he||X(he)===te)}function X(te){return w(te)?te.pluginName||te.name:te}function J(te,ae=null){te.map(he=>w(he)?he:l._availablePlugins.get(he)||he).forEach(he=>{(function(Ie,we){if(!w(Ie))throw we?new K("plugincollection-soft-required",u,{missingPlugin:Ie,requiredBy:X(we)}):new K("plugincollection-plugin-not-found",u,{plugin:Ie})})(he,ae),function(Ie,we){if(S(we)&&!S(Ie))throw new K("plugincollection-context-required",u,{plugin:X(Ie),requiredBy:X(we)})}(he,ae),function(Ie,we){if(we&&R(Ie,i))throw new K("plugincollection-required",u,{plugin:X(Ie),requiredBy:X(we)})}(he,ae)})}function U(te,ae){return te.reduce((he,Ie)=>Ie[ae]?l._contextPlugins.has(Ie)?he:he.then(Ie[ae].bind(Ie)):he,Promise.resolve())}}destroy(){const e=[];for(const[,i]of this)typeof i.destroy!="function"||this._contextPlugins.has(i)||e.push(i.destroy());return Promise.all(e)}_add(e,i){this._plugins.set(e,i);const r=e.pluginName;if(r){if(this._plugins.has(r))throw new K("plugincollection-plugin-name-conflict",null,{pluginName:r,plugin1:this._plugins.get(r).constructor,plugin2:e});this._plugins.set(r,i)}}}var W2=Object.getOwnPropertySymbols,oL=Object.prototype.hasOwnProperty,rL=Object.prototype.propertyIsEnumerable;class _2{constructor(e){this._contextOwner=null;const i=e||{},{translations:r}=i,l=((f,w)=>{var S={};for(var R in f)oL.call(f,R)&&w.indexOf(R)<0&&(S[R]=f[R]);if(f!=null&&W2)for(var R of W2(f))w.indexOf(R)<0&&rL.call(f,R)&&(S[R]=f[R]);return S})(i,["translations"]);this.config=new LS(l,this.constructor.defaultConfig);const u=this.constructor.builtinPlugins;this.config.define("plugins",u),this.plugins=new V2(this,u);const C=this.config.get("language")||{};this.locale=new O9({uiLanguage:typeof C=="string"?C:C.ui,contentLanguage:this.config.get("language.content"),translations:r}),this.t=this.locale.t,this.editors=new Kr}initPlugins(){const e=this.config.get("plugins")||[],i=this.config.get("substitutePlugins")||[];for(const r of e.concat(i)){if(typeof r!="function")throw new K("context-initplugins-constructor-only",null,{Plugin:r});if(r.isContextPlugin!==!0)throw new K("context-initplugins-invalid-plugin",null,{Plugin:r})}return this.plugins.init(e,[],i)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,i){if(this._contextOwner)throw new K("context-addeditor-private-context");this.editors.add(e),i&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const i of this.config.names())["plugins","removePlugins","extraPlugins"].includes(i)||(e[i]=this.config.get(i));return e}static create(e){return new Promise(i=>{const r=new this(e);i(r.initPlugins().then(()=>r))})}}class Um extends rt(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class sL extends yo{constructor(e){super(),this.editor=e}set(e,i,r={}){if(typeof i=="string"){const l=i;i=(u,C)=>{this.editor.execute(l),C()}}super.set(e,i,r)}}var N2=d(4098),aL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(N2.A,aL),N2.A.locals;const Qm=new WeakMap;let E2=!1;function X2({view:a,element:e,text:i,isDirectHost:r=!0,keepOnFocus:l=!1}){const u=a.document;function C(f){Qm.get(u).set(e,{text:f,isDirectHost:r,keepOnFocus:l,hostElement:r?e:null}),a.change(w=>HA(u,w))}Qm.has(u)||(Qm.set(u,new Map),u.registerPostFixer(f=>HA(u,f)),u.on("change:isComposing",()=>{a.change(f=>HA(u,f))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(f,w,S)=>{C(S)}),e.placeholder?C(e.placeholder):i&&C(i),i&&function(){E2||de("enableplaceholder-deprecated-text-option"),E2=!0}()}function lL(a,e){return!e.hasClass("ck-placeholder")&&(a.addClass("ck-placeholder",e),!0)}function cL(a,e){return!!e.hasClass("ck-placeholder")&&(a.removeClass("ck-placeholder",e),!0)}function gL(a,e){if(!a.isAttached()||Array.from(a.getChildren()).some(l=>!l.is("uiElement")))return!1;const i=a.document,r=i.selection.anchor;return(!i.isComposing||!r||r.parent!==a)&&(!!e||!i.isFocused||!!r&&r.parent!==a)}function HA(a,e){const i=Qm.get(a),r=[];let l=!1;for(const[u,C]of i)C.isDirectHost&&(r.push(u),Y2(e,u,C)&&(l=!0));for(const[u,C]of i){if(C.isDirectHost)continue;const f=dL(u);f&&(r.includes(f)||(C.hostElement=f,Y2(e,u,C)&&(l=!0)))}return l}function Y2(a,e,i){const{text:r,isDirectHost:l,hostElement:u}=i;let C=!1;return u.getAttribute("data-placeholder")!==r&&(a.setAttribute("data-placeholder",r,u),C=!0),(l||e.childCount==1)&&gL(u,i.keepOnFocus)?lL(a,u)&&(C=!0):cL(a,u)&&(C=!0),C}function dL(a){if(a.childCount){const e=a.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Ml{is(){throw new Error("is() method is abstract")}}const D2=function(a){return SA(a,4)};class Tl extends fe(Ml){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new K("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.index),i=i.parent;return e}getAncestors(e={}){const i=[];let r=e.includeSelf?this:this.parent;for(;r;)i[e.parentFirst?"push":"unshift"](r),r=r.parent;return i}getCommonAncestor(e,i={}){const r=this.getAncestors(i),l=e.getAncestors(i);let u=0;for(;r[u]==l[u]&&r[u];)u++;return u===0?null:r[u-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),r=e.getPath(),l=mt(i,r);switch(l){case"prefix":return!0;case"extension":return!1;default:return i[l]<r[l]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,i){this.fire(`change:${e}`,i),this.parent&&this.parent._fireChange(e,i)}toJSON(){const e=D2(this);return delete e.parent,e}}Tl.prototype.is=function(a){return a==="node"||a==="view:node"};class Nn extends Tl{constructor(e,i){super(e),this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof Nn&&(this===e||this.data===e.data)}_clone(){return new Nn(this.document,this.data)}}Nn.prototype.is=function(a){return a==="$text"||a==="view:$text"||a==="text"||a==="view:text"||a==="node"||a==="view:node"};class vs extends Ml{constructor(e,i,r){if(super(),this.textNode=e,i<0||i>e.data.length)throw new K("view-textproxy-wrong-offsetintext",this);if(r<0||i+r>e.data.length)throw new K("view-textproxy-wrong-length",this);this.data=e.data.substring(i,i+r),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const i=[];let r=e.includeSelf?this.textNode:this.parent;for(;r!==null;)i[e.parentFirst?"push":"unshift"](r),r=r.parent;return i}}vs.prototype.is=function(a){return a==="$textProxy"||a==="view:$textProxy"||a==="textProxy"||a==="view:textProxy"};class ws{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let i of e)(typeof i=="string"||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}match(...e){for(const i of e)for(const r of this._patterns){const l=H2(i,r);if(l)return{element:i,pattern:r,match:l}}return null}matchAll(...e){const i=[];for(const r of e)for(const l of this._patterns){const u=H2(r,l);u&&i.push({element:r,pattern:l,match:u})}return i.length>0?i:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],i=e.name;return typeof e=="function"||!i||i instanceof RegExp?null:i}}function H2(a,e){if(typeof e=="function")return e(a);const i={};return e.name&&(i.name=function(r,l){return r instanceof RegExp?!!l.match(r):r===l}(e.name,a.name),!i.name)||e.attributes&&(i.attributes=function(r,l){const u=new Set(l.getAttributeKeys());return Ei(r)?(r.style!==void 0&&de("matcher-pattern-deprecated-attributes-style-key",r),r.class!==void 0&&de("matcher-pattern-deprecated-attributes-class-key",r)):(u.delete("style"),u.delete("class")),FA(r,u,C=>l.getAttribute(C))}(e.attributes,a),!i.attributes)||e.classes&&(i.classes=function(r,l){return FA(r,l.getClassNames(),()=>{})}(e.classes,a),!i.classes)||e.styles&&(i.styles=function(r,l){return FA(r,l.getStyleNames(!0),u=>l.getStyle(u))}(e.styles,a),!i.styles)?null:i}function FA(a,e,i){const r=function(C){return Array.isArray(C)?C.map(f=>Ei(f)?(f.key!==void 0&&f.value!==void 0||de("matcher-pattern-missing-key-or-value",f),[f.key,f.value]):[f,!0]):Ei(C)?Object.entries(C):[[C,!0]]}(a),l=Array.from(e),u=[];if(r.forEach(([C,f])=>{l.forEach(w=>{(function(S,R){return S===!0||S===R||S instanceof RegExp&&R.match(S)})(C,w)&&function(S,R,X){if(S===!0)return!0;const J=X(R);return S===J||S instanceof RegExp&&!!String(J).match(S)}(f,w,i)&&u.push(w)})}),r.length&&!(u.length<r.length))return u}const qm=function(a){return typeof a=="symbol"||cn(a)&&Kt(a)=="[object Symbol]"};var uL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hL=/^\w*$/;const MA=function(a,e){if(Zt(a))return!1;var i=typeof a;return!(i!="number"&&i!="symbol"&&i!="boolean"&&a!=null&&!qm(a))||hL.test(a)||!uL.test(a)||e!=null&&a in Object(e)};function TA(a,e){if(typeof a!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var i=function(){var r=arguments,l=e?e.apply(this,r):r[0],u=i.cache;if(u.has(l))return u.get(l);var C=a.apply(this,r);return i.cache=u.set(l,C)||u,C};return i.cache=new(TA.Cache||Ve),i}TA.Cache=Ve;const mL=TA,CL=function(a){var e=mL(a,function(r){return i.size===500&&i.clear(),r}),i=e.cache;return e};var pL=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,IL=/\\(\\)?/g,fL=CL(function(a){var e=[];return a.charCodeAt(0)===46&&e.push(""),a.replace(pL,function(i,r,l,u){e.push(l?u.replace(IL,"$1"):r||i)}),e});const bL=fL,AL=function(a,e){for(var i=-1,r=a==null?0:a.length,l=Array(r);++i<r;)l[i]=e(a[i],i,a);return l};var F2=Mt?Mt.prototype:void 0,M2=F2?F2.toString:void 0;const yL=function a(e){if(typeof e=="string")return e;if(Zt(e))return AL(e,a)+"";if(qm(e))return M2?M2.call(e):"";var i=e+"";return i=="0"&&1/e==-1/0?"-0":i},JA=function(a){return a==null?"":yL(a)},$m=function(a,e){return Zt(a)?a:MA(a,e)?[a]:bL(JA(a))},kL=function(a){var e=a==null?0:a.length;return e?a[e-1]:void 0},$c=function(a){if(typeof a=="string"||qm(a))return a;var e=a+"";return e=="0"&&1/a==-1/0?"-0":e},LA=function(a,e){for(var i=0,r=(e=$m(e,a)).length;a!=null&&i<r;)a=a[$c(e[i++])];return i&&i==r?a:void 0},T2=function(a,e,i){var r=-1,l=a.length;e<0&&(e=-e>l?0:l+e),(i=i>l?l:i)<0&&(i+=l),l=e>i?0:i-e>>>0,e>>>=0;for(var u=Array(l);++r<l;)u[r]=a[r+e];return u},vL=function(a,e){return e.length<2?a:LA(a,T2(e,0,-1))},wL=function(a,e){return e=$m(e,a),(a=vL(a,e))==null||delete a[$c(kL(e))]},xL=function(a,e){return a==null||wL(a,e)},ou=function(a,e,i){var r=a==null?void 0:LA(a,e);return r===void 0?i:r},SL=function(a,e,i,r){if(!He(a))return a;for(var l=-1,u=(e=$m(e,a)).length,C=u-1,f=a;f!=null&&++l<u;){var w=$c(e[l]),S=i;if(w==="__proto__"||w==="constructor"||w==="prototype")return a;if(l!=C){var R=f[w];(S=void 0)==void 0&&(S=He(R)?R:Pc(e[l+1])?[]:{})}Pt(f,w,S),f=f[w]}return a},BL=function(a,e,i){return a==null?a:SL(a,e,i)};class zA{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const i=function(r){let l=null,u=0,C=0,f=null;const w=new Map;if(r==="")return w;r.charAt(r.length-1)!=";"&&(r+=";");for(let S=0;S<r.length;S++){const R=r.charAt(S);if(l===null)switch(R){case":":f||(f=r.substr(u,S-u),C=S+1);break;case'"':case"'":l=R;break;case";":{const X=r.substr(C,S-C);f&&w.set(f.trim(),X.trim()),f=null,u=S+1;break}}else R===l&&(l=null)}return w}(e);for(const[r,l]of i)this._styleProcessor.toNormalizedForm(r,l,this._styles)}has(e){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(e,this._styles).find(([r])=>r===e);return Array.isArray(i)}set(e,i){if(He(e))for(const[r,l]of Object.entries(e))this._styleProcessor.toNormalizedForm(r,l,this._styles);else this._styleProcessor.toNormalizedForm(e,i,this._styles)}remove(e){const i=KA(e);xL(this._styles,i),delete this._styles[e],this._cleanEmptyObjectsOnPath(i)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!He(this._styles[e]))return this._styles[e];const i=this._styleProcessor.getReducedForm(e,this._styles).find(([r])=>r===e);return Array.isArray(i)?i[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([i])=>i)}clear(){this._styles={}}getStylesEntries(){const e=[],i=Object.keys(this._styles);for(const r of i)e.push(...this._styleProcessor.getReducedForm(r,this._styles));return e}_cleanEmptyObjectsOnPath(e){const i=e.split(".");if(!(i.length>1))return;const r=i.splice(0,i.length-1).join("."),l=ou(this._styles,r);l&&!Object.keys(l).length&&this.remove(r)}}class ZL{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,i,r){if(He(i))PA(r,KA(e),i);else if(this._normalizers.has(e)){const l=this._normalizers.get(e),{path:u,value:C}=l(i);PA(r,u,C)}else PA(r,e,i)}getNormalized(e,i){if(!e)return WA({},i);if(i[e]!==void 0)return i[e];if(this._extractors.has(e)){const r=this._extractors.get(e);if(typeof r=="string")return ou(i,r);const l=r(e,i);if(l)return l}return ou(i,KA(e))}getReducedForm(e,i){const r=this.getNormalized(e,i);return r===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(r):[[e,r]]}getStyleNames(e){const i=Array.from(this._consumables.keys()).filter(l=>{const u=this.getNormalized(l,e);return u&&typeof u=="object"?Object.keys(u).length:u}),r=new Set([...i,...Object.keys(e)]);return Array.from(r)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,i){this._normalizers.set(e,i)}setExtractor(e,i){this._extractors.set(e,i)}setReducer(e,i){this._reducers.set(e,i)}setStyleRelation(e,i){this._mapStyleNames(e,i);for(const r of i)this._mapStyleNames(r,[e])}_mapStyleNames(e,i){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...i)}}function KA(a){return a.replace("-",".")}function PA(a,e,i){let r=i;He(i)&&(r=WA({},ou(a,e),i)),BL(a,e,r)}class Ko extends Tl{constructor(e,i,r,l){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=i,this._attrs=function(u){const C=ks(u);for(const[f,w]of C)w===null?C.delete(f):typeof w!="string"&&C.set(f,String(w));return C}(r),this._children=[],l&&this._insertChild(0,l),this._classes=new Set,this._attrs.has("class")){const u=this._attrs.get("class");J2(this._classes,u),this._attrs.delete("class")}this._styles=new zA(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Ko))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[i,r]of this._attrs)if(!e._attrs.has(i)||e._attrs.get(i)!==r)return!1;for(const i of this._classes)if(!e._classes.has(i))return!1;for(const i of this._styles.getStyleNames())if(!e._styles.has(i)||e._styles.getAsString(i)!==this._styles.getAsString(i))return!1;return!0}hasClass(...e){for(const i of e)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const i of e)if(!this._styles.has(i))return!1;return!0}findAncestor(...e){const i=new ws(...e);let r=this.parent;for(;r&&!r.is("documentFragment");){if(i.match(r))return r;r=r.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),i=this._styles.toString(),r=Array.from(this._attrs).map(l=>`${l[0]}="${l[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(i?` style="${i}"`:"")+(r==""?"":` ${r}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const i=[];if(e)for(const l of this.getChildren())i.push(l._clone(e));const r=new this.constructor(this.document,this.name,this._attrs,i);return r._classes=new Set(this._classes),r._styles.set(this._styles.getNormalized()),r._customProperties=new Map(this._customProperties),r.getFillerOffset=this.getFillerOffset,r._unsafeAttributesToRender=this._unsafeAttributesToRender,r}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,i){this._fireChange("children",this);let r=0;const l=function(u,C){return typeof C=="string"?[new Nn(u,C)]:(Fe(C)||(C=[C]),Array.from(C).map(f=>typeof f=="string"?new Nn(u,f):f instanceof vs?new Nn(u,f.data):f))}(this.document,i);for(const u of l)u.parent!==null&&u._remove(),u.parent=this,u.document=this.document,this._children.splice(e,0,u),e++,r++;return r}_removeChildren(e,i=1){this._fireChange("children",this);for(let r=e;r<e+i;r++)this._children[r].parent=null;return this._children.splice(e,i)}_setAttribute(e,i){const r=String(i);this._fireChange("attributes",this),e=="class"?J2(this._classes,r):e=="style"?this._styles.setTo(r):this._attrs.set(e,r)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const i of Tn(e))this._classes.add(i)}_removeClass(e){this._fireChange("attributes",this);for(const i of Tn(e))this._classes.delete(i)}_setStyle(e,i){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,i)}_removeStyle(e){this._fireChange("attributes",this);for(const i of Tn(e))this._styles.remove(i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function J2(a,e){const i=e.split(/\s+/);a.clear(),i.forEach(r=>a.add(r))}Ko.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="view:element"):a==="element"||a==="view:element"||a==="node"||a==="view:node"};class ru extends Ko{constructor(e,i,r,l){super(e,i,r,l),this.getFillerOffset=GL}}function GL(){const a=[...this.getChildren()],e=a[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const i of a)if(!i.is("uiElement"))return null;return this.childCount}ru.prototype.is=function(a,e){return e?e===this.name&&(a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class eC extends rt(ru){constructor(e,i,r,l){super(e,i,r,l),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",u=>u&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}eC.prototype.is=function(a,e){return e?e===this.name&&(a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};const L2=Symbol("rootName");class z2 extends eC{constructor(e,i){super(e,i),this.rootName="main"}get rootName(){return this.getCustomProperty(L2)}set rootName(e){this._setCustomProperty(L2,e)}set _name(e){this.name=e}}z2.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Jl{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new K("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new K("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=gt._createAt(e.startPosition):this._position=gt._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let i,r;do r=this.position,i=this.next();while(!i.done&&e(i.value));i.done||(this._position=r)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const i=this.position,r=e.parent;if(r.parent===null&&e.offset===r.childCount)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let l;if(r instanceof Nn){if(e.isAtEnd)return this._position=gt._createAfter(r),this._next();l=r.data[e.offset]}else l=r.getChild(e.offset);if(l instanceof Ko){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new gt(l,0);return this._position=e,this._formatReturnValue("elementStart",l,i,e,1)}if(l instanceof Nn){if(this.singleCharacters)return e=new gt(l,0),this._position=e,this._next();let u,C=l.data.length;return l==this._boundaryEndParent?(C=this.boundaries.end.offset,u=new vs(l,0,C),e=gt._createAfter(u)):(u=new vs(l,0,l.data.length),e.offset++),this._position=e,this._formatReturnValue("text",u,i,e,C)}if(typeof l=="string"){let u;this.singleCharacters?u=1:u=(r===this._boundaryEndParent?this.boundaries.end.offset:r.data.length)-e.offset;const C=new vs(r,e.offset,u);return e.offset+=u,this._position=e,this._formatReturnValue("text",C,i,e,u)}return e=gt._createAfter(r),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",r,i,e)}_previous(){let e=this.position.clone();const i=this.position,r=e.parent;if(r.parent===null&&e.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let l;if(r instanceof Nn){if(e.isAtStart)return this._position=gt._createBefore(r),this._previous();l=r.data[e.offset-1]}else l=r.getChild(e.offset-1);if(l instanceof Ko)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",l,i,e,1)):(e=new gt(l,l.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",l,i,e));if(l instanceof Nn){if(this.singleCharacters)return e=new gt(l,l.data.length),this._position=e,this._previous();let u,C=l.data.length;if(l==this._boundaryStartParent){const f=this.boundaries.start.offset;u=new vs(l,f,l.data.length-f),C=u.data.length,e=gt._createBefore(u)}else u=new vs(l,0,l.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",u,i,e,C)}if(typeof l=="string"){let u;if(this.singleCharacters)u=1;else{const f=r===this._boundaryStartParent?this.boundaries.start.offset:0;u=e.offset-f}e.offset-=u;const C=new vs(r,e.offset,u);return this._position=e,this._formatReturnValue("text",C,i,e,u)}return e=gt._createBefore(r),this._position=e,this._formatReturnValue("elementStart",r,i,e,1)}_formatReturnValue(e,i,r,l,u){return i instanceof vs&&(i.offsetInText+i.data.length==i.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?r=gt._createAfter(i.textNode):(l=gt._createAfter(i.textNode),this._position=l)),i.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?r=gt._createBefore(i.textNode):(l=gt._createBefore(i.textNode),this._position=l))),{done:!1,value:{type:e,item:i,previousPosition:r,nextPosition:l,length:u}}}}class gt extends Ml{constructor(e,i){super(),this.parent=e,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof eC);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const i=gt._createAt(this),r=i.offset+e;return i.offset=r<0?0:r,i}getLastMatchingPosition(e,i={}){i.startPosition=this;const r=new Jl(i);return r.skip(e),r.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const i=this.getAncestors(),r=e.getAncestors();let l=0;for(;i[l]==r[l]&&i[l];)l++;return l===0?null:i[l-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const i=this.parent.is("node")?this.parent.getPath():[],r=e.parent.is("node")?e.parent.getPath():[];i.push(this.offset),r.push(e.offset);const l=mt(i,r);switch(l){case"prefix":return"before";case"extension":return"after";default:return i[l]<r[l]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Jl(e)}clone(){return new gt(this.parent,this.offset)}static _createAt(e,i){if(e instanceof gt)return new this(e.parent,e.offset);{const r=e;if(i=="end")i=r.is("$text")?r.data.length:r.childCount;else{if(i=="before")return this._createBefore(r);if(i=="after")return this._createAfter(r);if(i!==0&&!i)throw new K("view-createpositionat-offset-required",r)}return new gt(r,i)}}static _createAfter(e){if(e.is("$textProxy"))return new gt(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new K("view-position-after-root",e,{root:e});return new gt(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new gt(e.textNode,e.offsetInText);if(!e.parent)throw new K("view-position-before-root",e,{root:e});return new gt(e.parent,e.index)}}gt.prototype.is=function(a){return a==="position"||a==="view:position"};class Ht extends Ml{constructor(e,i=null){super(),this.start=e.clone(),this.end=i?i.clone():e.clone()}*[Symbol.iterator](){yield*new Jl({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(tC,{direction:"backward"}),i=this.end.getLastMatchingPosition(tC);return e.parent.is("$text")&&e.isAtStart&&(e=gt._createBefore(e.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=gt._createAfter(i.parent)),new Ht(e,i)}getTrimmed(){let e=this.start.getLastMatchingPosition(tC);if(e.isAfter(this.end)||e.isEqual(this.end))return new Ht(e,e);let i=this.end.getLastMatchingPosition(tC,{direction:"backward"});const r=e.nodeAfter,l=i.nodeBefore;return r&&r.is("$text")&&(e=new gt(r,0)),l&&l.is("$text")&&(i=new gt(l,l.data.length)),new Ht(e,i)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const r=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),l=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return r&&l}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new Ht(this.start,e.start)),this.containsPosition(e.end)&&i.push(new Ht(e.end,this.end))):i.push(this.clone()),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,r=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(r=e.end),new Ht(i,r)}return null}getWalker(e={}){return e.boundaries=this,new Jl(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),e&&e.is("element")&&e===i?e:null}clone(){return new Ht(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new Jl(e);for(const r of i)yield r.item}*getPositions(e={}){e.boundaries=this;const i=new Jl(e);yield i.position;for(const r of i)yield r.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,i,r,l){return new this(new gt(e,i),new gt(r,l))}static _createFromPositionAndShift(e,i){const r=e,l=e.getShiftedBy(i);return i>0?new this(r,l):new this(l,r)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const i=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(gt._createBefore(e),i)}}function tC(a){return!(!a.item.is("attributeElement")&&!a.item.is("uiElement"))}Ht.prototype.is=function(a){return a==="range"||a==="view:range"};class jr extends fe(Ml){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?e.clone():null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let r=!1;for(const l of e._ranges)if(i.isEqual(l)){r=!0;break}if(!r)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const i=It(this.getRanges());if(i!=It(e.getRanges()))return!1;if(i==0)return!0;for(let r of this.getRanges()){r=r.getTrimmed();let l=!1;for(let u of e.getRanges())if(u=u.getTrimmed(),r.start.isEqual(u.start)&&r.end.isEqual(u.end)){l=!0;break}if(!l)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[i,r,l]=e;if(typeof r=="object"&&(l=r,r=void 0),i===null)this._setRanges([]),this._setFakeOptions(l);else if(i instanceof jr||i instanceof jA)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof Ht)this._setRanges([i],l&&l.backward),this._setFakeOptions(l);else if(i instanceof gt)this._setRanges([new Ht(i)]),this._setFakeOptions(l);else if(i instanceof Tl){const u=!!l&&!!l.backward;let C;if(r===void 0)throw new K("view-selection-setto-required-second-parameter",this);C=r=="in"?Ht._createIn(i):r=="on"?Ht._createOn(i):new Ht(gt._createAt(i,r)),this._setRanges([C],u),this._setFakeOptions(l)}else{if(!Fe(i))throw new K("view-selection-setto-not-selectable",this);this._setRanges(i,l&&l.backward),this._setFakeOptions(l)}this.fire("change")}setFocus(e,i){if(this.anchor===null)throw new K("view-selection-setfocus-no-ranges",this);const r=gt._createAt(e,i);if(r.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.pop(),r.compareWith(l)=="before"?this._addRange(new Ht(r,l),!0):this._addRange(new Ht(l,r)),this.fire("change")}_setRanges(e,i=!1){e=Array.from(e),this._ranges=[];for(const r of e)this._addRange(r);this._lastRangeBackward=!!i}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,i=!1){if(!(e instanceof Ht))throw new K("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!i}_pushRange(e){for(const i of this._ranges)if(e.isIntersecting(i))throw new K("view-selection-range-intersects",this,{addedRange:e,intersectingRange:i});this._ranges.push(new Ht(e.start,e.end))}}jr.prototype.is=function(a){return a==="selection"||a==="view:selection"};class jA extends fe(Ml){constructor(...e){super(),this._selection=new jr,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,i){this._selection.setFocus(e,i)}}jA.prototype.is=function(a){return a==="selection"||a=="documentSelection"||a=="view:selection"||a=="view:documentSelection"};class eg extends P{constructor(e,i,r){super(e,i),this.startRange=r,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const OA=Symbol("bubbling contexts");function UA(a){return class extends a{fire(e,...i){try{const r=e instanceof P?e:new P(this,e),l=QA(this);if(!l.size)return;if(su(r,"capturing",this),tg(l,"$capture",r,...i))return r.return;const u=r.startRange||this.selection.getFirstRange(),C=u?u.getContainedElement():null,f=!!C&&!!K2(l,C);let w=C||function(S){if(!S)return null;const R=S.start.parent,X=S.end.parent,J=R.getPath(),U=X.getPath();return J.length>U.length?R:X}(u);if(su(r,"atTarget",w),!f){if(tg(l,"$text",r,...i))return r.return;su(r,"bubbling",w)}for(;w;){if(w.is("rootElement")){if(tg(l,"$root",r,...i))return r.return}else if(w.is("element")&&tg(l,w.name,r,...i))return r.return;if(tg(l,w,r,...i))return r.return;w=w.parent,su(r,"bubbling",w)}return su(r,"bubbling",this),tg(l,"$document",r,...i),r.return}catch(r){K.rethrowUnexpectedError(r,this)}}_addEventListener(e,i,r){const l=Tn(r.context||"$document"),u=QA(this);for(const C of l){let f=u.get(C);f||(f=new(fe()),u.set(C,f)),this.listenTo(f,e,i,r)}}_removeEventListener(e,i){const r=QA(this);for(const l of r.values())this.stopListening(l,e,i)}}}{const a=UA(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{UA[e]=a.prototype[e]})}function su(a,e,i){a instanceof eg&&(a._eventPhase=e,a._currentTarget=i)}function tg(a,e,i,...r){const l=typeof e=="string"?a.get(e):K2(a,e);return!!l&&(l.fire(i,...r),i.stop.called)}function K2(a,e){for(const[i,r]of a)if(typeof i=="function"&&i(e))return r;return null}function QA(a){return a[OA]||(a[OA]=new Map),a[OA]}class nC extends UA(rt()){constructor(e){super(),this._postFixers=new Set,this.selection=new jA,this.roots=new Kr({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let i=!1;do for(const r of this._postFixers)if(i=r(e),i)break;while(i)}}class Ll extends Ko{constructor(e,i,r,l){super(e,i,r,l),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=RL}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new K("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const i=super._clone(e);return i._priority=this._priority,i._id=this._id,i}}function RL(){if(qA(this))return null;let a=this.parent;for(;a&&a.is("attributeElement");){if(qA(a)>1)return null;a=a.parent}return!a||qA(a)>1?null:this.childCount}function qA(a){return Array.from(a.getChildren()).filter(e=>!e.is("uiElement")).length}Ll.DEFAULT_PRIORITY=10,Ll.prototype.is=function(a,e){return e?e===this.name&&(a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"):a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class $A extends Ko{constructor(e,i,r,l){super(e,i,r,l),this.getFillerOffset=VL}_insertChild(e,i){if(i&&(i instanceof Tl||Array.from(i).length>0))throw new K("view-emptyelement-cannot-add",[this,i]);return 0}}function VL(){return null}$A.prototype.is=function(a,e){return e?e===this.name&&(a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"):a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class iC extends Ko{constructor(e,i,r,l){super(e,i,r,l),this.getFillerOffset=_L}_insertChild(e,i){if(i&&(i instanceof Tl||Array.from(i).length>0))throw new K("view-uielement-cannot-add",[this,i]);return 0}render(e,i){return this.toDomElement(e)}toDomElement(e){const i=e.createElement(this.name);for(const r of this.getAttributeKeys())i.setAttribute(r,this.getAttribute(r));return i}}function WL(a){a.document.on("arrowKey",(e,i)=>function(r,l,u){if(l.keyCode==ln.arrowright){const C=l.domTarget.ownerDocument.defaultView.getSelection(),f=C.rangeCount==1&&C.getRangeAt(0).collapsed;if(f||l.shiftKey){const w=C.focusNode,S=C.focusOffset,R=u.domPositionToView(w,S);if(R===null)return;let X=!1;const J=R.getLastMatchingPosition(U=>(U.item.is("uiElement")&&(X=!0),!(!U.item.is("uiElement")&&!U.item.is("attributeElement"))));if(X){const U=u.viewPositionToDom(J);f?C.collapse(U.parent,U.offset):C.extend(U.parent,U.offset)}}}}(0,i,a.domConverter),{priority:"low"})}function _L(){return null}iC.prototype.is=function(a,e){return e?e===this.name&&(a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"):a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class e0 extends Ko{constructor(e,i,r,l){super(e,i,r,l),this.getFillerOffset=NL}_insertChild(e,i){if(i&&(i instanceof Tl||Array.from(i).length>0))throw new K("view-rawelement-cannot-add",[this,i]);return 0}render(e,i){}}function NL(){return null}e0.prototype.is=function(a,e){return e?e===this.name&&(a==="rawElement"||a==="view:rawElement"||a==="element"||a==="view:element"):a==="rawElement"||a==="view:rawElement"||a===this.name||a==="view:"+this.name||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class zl extends fe(Ml){constructor(e,i){super(),this._children=[],this._customProperties=new Map,this.document=e,i&&this._insertChild(0,i)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,i){this._fireChange("children",this);let r=0;const l=function(u,C){return typeof C=="string"?[new Nn(u,C)]:(Fe(C)||(C=[C]),Array.from(C).map(f=>typeof f=="string"?new Nn(u,f):f instanceof vs?new Nn(u,f.data):f))}(this.document,i);for(const u of l)u.parent!==null&&u._remove(),u.parent=this,this._children.splice(e,0,u),e++,r++;return r}_removeChildren(e,i=1){this._fireChange("children",this);for(let r=e;r<e+i;r++)this._children[r].parent=null;return this._children.splice(e,i)}_fireChange(e,i){this.fire("change:"+e,i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}zl.prototype.is=function(a){return a==="documentFragment"||a==="view:documentFragment"};class P2{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,i){this.document.selection._setFocus(e,i)}createDocumentFragment(e){return new zl(this.document,e)}createText(e){return new Nn(this.document,e)}createAttributeElement(e,i,r={}){const l=new Ll(this.document,e,i);return typeof r.priority=="number"&&(l._priority=r.priority),r.id&&(l._id=r.id),r.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),l}createContainerElement(e,i,r={},l={}){let u=null;Ei(r)?l=r:u=r;const C=new ru(this.document,e,i,u);return l.renderUnsafeAttributes&&C._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),C}createEditableElement(e,i,r={}){const l=new eC(this.document,e,i);return r.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),l}createEmptyElement(e,i,r={}){const l=new $A(this.document,e,i);return r.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...r.renderUnsafeAttributes),l}createUIElement(e,i,r){const l=new iC(this.document,e,i);return r&&(l.render=r),l}createRawElement(e,i,r,l={}){const u=new e0(this.document,e,i);return r&&(u.render=r),l.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),u}setAttribute(e,i,r){r._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,r){Ei(e)&&r===void 0?i._setStyle(e):r._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,r){r._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}breakAttributes(e){return e instanceof gt?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const i=e.parent;if(!i.is("containerElement"))throw new K("view-writer-break-non-container-element",this.document);if(!i.parent)throw new K("view-writer-break-root",this.document);if(e.isAtStart)return gt._createBefore(i);if(!e.isAtEnd){const r=i._clone(!1);this.insert(gt._createAfter(i),r);const l=new Ht(e,gt._createAt(i,"end")),u=new gt(r,0);this.move(l,u)}return gt._createAfter(i)}mergeAttributes(e){const i=e.offset,r=e.parent;if(r.is("$text"))return e;if(r.is("attributeElement")&&r.childCount===0){const C=r.parent,f=r.index;return r._remove(),this._removeFromClonedElementsGroup(r),this.mergeAttributes(new gt(C,f))}const l=r.getChild(i-1),u=r.getChild(i);if(!l||!u)return e;if(l.is("$text")&&u.is("$text"))return O2(l,u);if(l.is("attributeElement")&&u.is("attributeElement")&&l.isSimilar(u)){const C=l.childCount;return l._appendChild(u.getChildren()),u._remove(),this._removeFromClonedElementsGroup(u),this.mergeAttributes(new gt(l,C))}return e}mergeContainers(e){const i=e.nodeBefore,r=e.nodeAfter;if(!(i&&r&&i.is("containerElement")&&r.is("containerElement")))throw new K("view-writer-merge-containers-invalid-position",this.document);const l=i.getChild(i.childCount-1),u=l instanceof Nn?gt._createAt(l,"end"):gt._createAt(i,"end");return this.move(Ht._createIn(r),gt._createAt(i,"end")),this.remove(Ht._createOn(r)),u}insert(e,i){U2(i=Fe(i)?[...i]:[i],this.document);const r=i.reduce((C,f)=>{const w=C[C.length-1],S=!f.is("uiElement");return w&&w.breakAttributes==S?w.nodes.push(f):C.push({breakAttributes:S,nodes:[f]}),C},[]);let l=null,u=e;for(const{nodes:C,breakAttributes:f}of r){const w=this._insertNodes(u,C,f);l||(l=w.start),u=w.end}return l?new Ht(l,u):new Ht(e)}remove(e){const i=e instanceof Ht?e:Ht._createOn(e);if(au(i,this.document),i.isCollapsed)return new zl(this.document);const{start:r,end:l}=this._breakAttributesRange(i,!0),u=r.parent,C=l.offset-r.offset,f=u._removeChildren(r.offset,C);for(const S of f)this._removeFromClonedElementsGroup(S);const w=this.mergeAttributes(r);return i.start=w,i.end=w.clone(),new zl(this.document,f)}clear(e,i){au(e,this.document);const r=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const l of r){const u=l.item;let C;if(u.is("element")&&i.isSimilar(u))C=Ht._createOn(u);else if(!l.nextPosition.isAfter(e.start)&&u.is("$textProxy")){const f=u.getAncestors().find(w=>w.is("element")&&i.isSimilar(w));f&&(C=Ht._createIn(f))}C&&(C.end.isAfter(e.end)&&(C.end=e.end),C.start.isBefore(e.start)&&(C.start=e.start),this.remove(C))}}move(e,i){let r;if(i.isAfter(e.end)){const l=(i=this._breakAttributes(i,!0)).parent,u=l.childCount;e=this._breakAttributesRange(e,!0),r=this.remove(e),i.offset+=l.childCount-u}else r=this.remove(e);return this.insert(i,r)}wrap(e,i){if(!(i instanceof Ll))throw new K("view-writer-wrap-invalid-attribute",this.document);if(au(e,this.document),e.isCollapsed){let l=e.start;l.parent.is("element")&&(r=l.parent,!Array.from(r.getChildren()).some(C=>!C.is("uiElement")))&&(l=l.getLastMatchingPosition(C=>C.item.is("uiElement"))),l=this._wrapPosition(l,i);const u=this.document.selection;return u.isCollapsed&&u.getFirstPosition().isEqual(e.start)&&this.setSelection(l),new Ht(l)}return this._wrapRange(e,i);var r}unwrap(e,i){if(!(i instanceof Ll))throw new K("view-writer-unwrap-invalid-attribute",this.document);if(au(e,this.document),e.isCollapsed)return e;const{start:r,end:l}=this._breakAttributesRange(e,!0),u=r.parent,C=this._unwrapChildren(u,r.offset,l.offset,i),f=this.mergeAttributes(C.start);f.isEqual(C.start)||C.end.offset--;const w=this.mergeAttributes(C.end);return new Ht(f,w)}rename(e,i){const r=new ru(this.document,e,i.getAttributes());return this.insert(gt._createAfter(i),r),this.move(Ht._createIn(i),gt._createAt(r,0)),this.remove(Ht._createOn(i)),r}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,i){return gt._createAt(e,i)}createPositionAfter(e){return gt._createAfter(e)}createPositionBefore(e){return gt._createBefore(e)}createRange(e,i){return new Ht(e,i)}createRangeOn(e){return Ht._createOn(e)}createRangeIn(e){return Ht._createIn(e)}createSelection(...e){return new jr(...e)}createSlot(e="children"){if(!this._slotFactory)throw new K("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,i,r){let l,u;if(l=r?t0(e):e.parent.is("$text")?e.parent.parent:e.parent,!l)throw new K("view-writer-invalid-position-container",this.document);u=r?this._breakAttributes(e,!0):e.parent.is("$text")?n0(e):e;const C=l._insertChild(u.offset,i);for(const R of i)this._addToClonedElementsGroup(R);const f=u.getShiftedBy(C),w=this.mergeAttributes(u);w.isEqual(u)||f.offset--;const S=this.mergeAttributes(f);return new Ht(w,S)}_wrapChildren(e,i,r,l){let u=i;const C=[];for(;u<r;){const w=e.getChild(u),S=w.is("$text"),R=w.is("attributeElement");if(R&&this._wrapAttributeElement(l,w))C.push(new gt(e,u));else if(S||!R||EL(l,w)){const X=l._clone();w._remove(),X._appendChild(w),e._insertChild(u,X),this._addToClonedElementsGroup(X),C.push(new gt(e,u))}else this._wrapChildren(w,0,w.childCount,l);u++}let f=0;for(const w of C)w.offset-=f,w.offset!=i&&(this.mergeAttributes(w).isEqual(w)||(f++,r--));return Ht._createFromParentsAndOffsets(e,i,e,r)}_unwrapChildren(e,i,r,l){let u=i;const C=[];for(;u<r;){const w=e.getChild(u);if(w.is("attributeElement"))if(w.isSimilar(l)){const S=w.getChildren(),R=w.childCount;w._remove(),e._insertChild(u,S),this._removeFromClonedElementsGroup(w),C.push(new gt(e,u),new gt(e,u+R)),u+=R,r+=R-1}else this._unwrapAttributeElement(l,w)?(C.push(new gt(e,u),new gt(e,u+1)),u++):(this._unwrapChildren(w,0,w.childCount,l),u++);else u++}let f=0;for(const w of C)w.offset-=f,!(w.offset==i||w.offset==r)&&(this.mergeAttributes(w).isEqual(w)||(f++,r--));return Ht._createFromParentsAndOffsets(e,i,e,r)}_wrapRange(e,i){const{start:r,end:l}=this._breakAttributesRange(e,!0),u=r.parent,C=this._wrapChildren(u,r.offset,l.offset,i),f=this.mergeAttributes(C.start);f.isEqual(C.start)||C.end.offset--;const w=this.mergeAttributes(C.end);return new Ht(f,w)}_wrapPosition(e,i){if(i.isSimilar(e.parent))return j2(e.clone());e.parent.is("$text")&&(e=n0(e));const r=this.createAttributeElement("_wrapPosition-fake-element");r._priority=Number.POSITIVE_INFINITY,r.isSimilar=()=>!1,e.parent._insertChild(e.offset,r);const l=new Ht(e,e.getShiftedBy(1));this.wrap(l,i);const u=new gt(r.parent,r.index);r._remove();const C=u.nodeBefore,f=u.nodeAfter;return C instanceof Nn&&f instanceof Nn?O2(C,f):j2(u)}_wrapAttributeElement(e,i){if(!Q2(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const r of e.getAttributeKeys())if(r!=="class"&&r!=="style"&&i.hasAttribute(r)&&i.getAttribute(r)!==e.getAttribute(r))return!1;for(const r of e.getStyleNames())if(i.hasStyle(r)&&i.getStyle(r)!==e.getStyle(r))return!1;for(const r of e.getAttributeKeys())r!=="class"&&r!=="style"&&(i.hasAttribute(r)||this.setAttribute(r,e.getAttribute(r),i));for(const r of e.getStyleNames())i.hasStyle(r)||this.setStyle(r,e.getStyle(r),i);for(const r of e.getClassNames())i.hasClass(r)||this.addClass(r,i);return!0}_unwrapAttributeElement(e,i){if(!Q2(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const r of e.getAttributeKeys())if(r!=="class"&&r!=="style"&&(!i.hasAttribute(r)||i.getAttribute(r)!==e.getAttribute(r)))return!1;if(!i.hasClass(...e.getClassNames()))return!1;for(const r of e.getStyleNames())if(!i.hasStyle(r)||i.getStyle(r)!==e.getStyle(r))return!1;for(const r of e.getAttributeKeys())r!=="class"&&r!=="style"&&this.removeAttribute(r,i);return this.removeClass(Array.from(e.getClassNames()),i),this.removeStyle(Array.from(e.getStyleNames()),i),!0}_breakAttributesRange(e,i=!1){const r=e.start,l=e.end;if(au(e,this.document),e.isCollapsed){const w=this._breakAttributes(e.start,i);return new Ht(w,w)}const u=this._breakAttributes(l,i),C=u.parent.childCount,f=this._breakAttributes(r,i);return u.offset+=u.parent.childCount-C,new Ht(f,u)}_breakAttributes(e,i=!1){const r=e.offset,l=e.parent;if(e.parent.is("emptyElement"))throw new K("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new K("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new K("view-writer-cannot-break-raw-element",this.document);if(!i&&l.is("$text")&&i0(l.parent)||i0(l))return e.clone();if(l.is("$text"))return this._breakAttributes(n0(e),i);if(r==l.childCount){const u=new gt(l.parent,l.index+1);return this._breakAttributes(u,i)}if(r===0){const u=new gt(l.parent,l.index);return this._breakAttributes(u,i)}{const u=l.index+1,C=l._clone();l.parent._insertChild(u,C),this._addToClonedElementsGroup(C);const f=l.childCount-r,w=l._removeChildren(r,f);C._appendChild(w);const S=new gt(l.parent,u);return this._breakAttributes(S,i)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const l of e.getChildren())this._addToClonedElementsGroup(l);const i=e.id;if(!i)return;let r=this._cloneGroups.get(i);r||(r=new Set,this._cloneGroups.set(i,r)),r.add(e),e._clonesGroup=r}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const l of e.getChildren())this._removeFromClonedElementsGroup(l);const i=e.id;if(!i)return;const r=this._cloneGroups.get(i);r&&r.delete(e)}}function t0(a){let e=a.parent;for(;!i0(e);){if(!e)return;e=e.parent}return e}function EL(a,e){return a.priority<e.priority||!(a.priority>e.priority)&&a.getIdentity()<e.getIdentity()}function j2(a){const e=a.nodeBefore;if(e&&e.is("$text"))return new gt(e,e.data.length);const i=a.nodeAfter;return i&&i.is("$text")?new gt(i,0):a}function n0(a){if(a.offset==a.parent.data.length)return new gt(a.parent.parent,a.parent.index+1);if(a.offset===0)return new gt(a.parent.parent,a.parent.index);const e=a.parent.data.slice(a.offset);return a.parent._data=a.parent.data.slice(0,a.offset),a.parent.parent._insertChild(a.parent.index+1,new Nn(a.root.document,e)),new gt(a.parent.parent,a.parent.index+1)}function O2(a,e){const i=a.data.length;return a._data+=e.data,e._remove(),new gt(a,i)}const XL=[Nn,Ll,ru,$A,e0,iC];function U2(a,e){for(const i of a){if(!XL.some(r=>i instanceof r))throw new K("view-writer-insert-invalid-node-type",e);i.is("$text")||U2(i.getChildren(),e)}}function i0(a){return a&&(a.is("containerElement")||a.is("documentFragment"))}function au(a,e){const i=t0(a.start),r=t0(a.end);if(!i||!r||i!==r)throw new K("view-writer-invalid-range-container",e)}function Q2(a,e){return a.id===null&&e.id===null}const q2=a=>a.createTextNode(""),$2=a=>{const e=a.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},eB=a=>{const e=a.createElement("br");return e.dataset.ckeFiller="true",e},Or=7,lu="".repeat(Or);function Po(a){return typeof a=="string"?a.substr(0,Or)===lu:bi(a)&&a.data.substr(0,Or)===lu}function ng(a){return a.data.length==Or&&Po(a)}function tB(a){const e=typeof a=="string"?a:a.data;return Po(a)?e.slice(Or):e}function YL(a,e){if(e.keyCode==ln.arrowleft){const i=e.domTarget.ownerDocument.defaultView.getSelection();if(i.rangeCount==1&&i.getRangeAt(0).collapsed){const r=i.getRangeAt(0).startContainer,l=i.getRangeAt(0).startOffset;Po(r)&&l<=Or&&i.collapse(r,0)}}}var nB=d(8264),DL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(nB.A,DL),nB.A.locals;class HL extends rt(){constructor(e,i){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),_.isBlink&&!_.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,i){if(e==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(e==="attributes")this.markedAttributes.add(i);else{if(e!=="children")throw new K("view-renderer-unknown-type",this);this.markedChildren.add(i)}}}render(){if(this.isComposing&&!_.isAndroid)return;let e=null;const i=!(_.isBlink&&!_.isAndroid)||!this.isSelecting;for(const r of this.markedChildren)this._updateChildrenMappings(r);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=gt._createBefore(e.parent)));for(const r of this.markedAttributes)this._updateAttrs(r);for(const r of this.markedChildren)this._updateChildren(r,{inlineFillerPosition:e});for(const r of this.markedTexts)!this.markedChildren.has(r.parent)&&this.domConverter.mapViewToDom(r.parent)&&this._updateText(r,{inlineFillerPosition:e});if(i)if(e){const r=this.domConverter.viewPositionToDom(e),l=r.parent.ownerDocument;Po(r.parent)?this._inlineFiller=r.parent:this._inlineFiller=iB(l,r.parent,r.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const r=Array.from(i.childNodes),l=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),u=this._diffNodeLists(r,l),C=this._findUpdateActions(u,r,l,FL);if(C.indexOf("update")!==-1){const f={equal:0,insert:0,delete:0};for(const w of C)if(w==="update"){const S=f.equal+f.insert,R=f.equal+f.delete,X=e.getChild(S);!X||X.is("uiElement")||X.is("rawElement")||this._updateElementMappings(X,r[R]),o2(l[S]),f.equal++}else f[w]++}}_updateElementMappings(e,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?gt._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(e);return!!(i&&bi(i.parent)&&Po(i.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Po(e))throw new K("view-renderer-filler-was-lost",this);ng(e)?e.remove():e.data=e.data.substr(Or),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=e.parent,r=e.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!function(C){if(C.getAttribute("contenteditable")=="false")return!1;const f=C.findAncestor(w=>w.hasAttribute("contenteditable"));return!f||f.getAttribute("contenteditable")=="true"}(i))return!1;const l=e.nodeBefore,u=e.nodeAfter;return!(l instanceof Nn||u instanceof Nn)&&!!(r!==i.getFillerOffset()||l&&l.is("element","br"))&&(!_.isAndroid||!l&&!u)}_updateText(e,i){const r=this.domConverter.findCorrespondingDomText(e);let l=this.domConverter.viewToDom(e).data;const u=i.inlineFillerPosition;u&&u.parent==e.parent&&u.offset==e.index&&(l=lu+l),oB(r,l)}_updateAttrs(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const r=Array.from(i.attributes).map(u=>u.name),l=e.getAttributeKeys();for(const u of l)this.domConverter.setDomElementAttribute(i,u,e.getAttribute(u),e);for(const u of r)e.hasAttribute(u)||this.domConverter.removeDomElementAttribute(i,u)}_updateChildren(e,i){const r=this.domConverter.mapViewToDom(e);if(!r)return;if(_.isAndroid){let X=null;for(const J of Array.from(r.childNodes)){if(X&&bi(X)&&bi(J)){r.normalize();break}X=J}}const l=i.inlineFillerPosition,u=r.childNodes,C=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));l&&l.parent===e&&iB(r.ownerDocument,C,l.offset);const f=this._diffNodeLists(u,C),w=this._findUpdateActions(f,u,C,ML);let S=0;const R=new Set;for(const X of w)X==="delete"?(R.add(u[S]),o2(u[S])):X!=="equal"&&X!=="update"||S++;S=0;for(const X of w)X==="insert"?(e2(r,S,C[S]),S++):X==="update"?(oB(u[S],C[S].data),S++):X==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(C[S])),S++);for(const X of R)X.parentNode||this.domConverter.unbindDomElement(X)}_diffNodeLists(e,i){return e=function(r,l){const u=Array.from(r);return u.length==0||!l||u[u.length-1]==l&&u.pop(),u}(e,this._fakeSelectionContainer),L(e,i,TL.bind(null,this.domConverter))}_findUpdateActions(e,i,r,l){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let u=[],C=[],f=[];const w={equal:0,insert:0,delete:0};for(const S of e)S==="insert"?f.push(r[w.equal+w.insert]):S==="delete"?C.push(i[w.equal+w.delete]):(u=u.concat(L(C,f,l).map(R=>R==="equal"?"update":R)),u.push("equal"),C=[],f=[]),w[S]++;return u.concat(L(C,f,l).map(S=>S==="equal"?"update":S))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const i of e.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(_.isBlink&&!_.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&_.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const i=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(C){const f=C.createElement("div");return f.className="ck-fake-selection-container",Object.assign(f.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),f.textContent="",f}(i));const r=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(r,this.selection),!this._fakeSelectionNeedsUpdate(e))return;r.parentElement&&r.parentElement==e||e.appendChild(r),r.textContent=this.selection.fakeSelectionLabel||"";const l=i.getSelection(),u=i.createRange();l.removeAllRanges(),u.selectNodeContents(r),l.addRange(u)}_updateDomSelection(e){const i=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const r=this.domConverter.viewPositionToDom(this.selection.anchor),l=this.domConverter.viewPositionToDom(this.selection.focus);i.setBaseAndExtent(r.parent,r.offset,l.parent,l.offset),_.isGecko&&function(u,C){let f=u.parent,w=u.offset;if(bi(f)&&ng(f)&&(w=eu(f)+1,f=f.parentNode),f.nodeType!=Node.ELEMENT_NODE||w!=f.childNodes.length-1)return;const S=f.childNodes[w];S&&S.tagName=="BR"&&C.addRange(C.getRangeAt(0))}(l,i)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const i=e&&this.domConverter.domSelectionToView(e);return(!i||!this.selection.isEqual(i))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(e){const i=this._fakeSelectionContainer,r=e.ownerDocument.getSelection();return!i||i.parentElement!==e||r.anchorNode!==i&&!i.contains(r.anchorNode)||i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const i=e.getSelection();if(i.rangeCount){const r=e.activeElement,l=this.domConverter.mapDomToView(r);r&&l&&i.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function iB(a,e,i){const r=e instanceof Array?e:e.childNodes,l=r[i];if(bi(l))return l.data=lu+l.data,l;{const u=a.createTextNode(lu);return Array.isArray(e)?r.splice(i,0,u):e2(e,i,u),u}}function FL(a,e){return Ma(a)&&Ma(e)&&!bi(a)&&!bi(e)&&!tu(a)&&!tu(e)&&a.tagName.toLowerCase()===e.tagName.toLowerCase()}function ML(a,e){return Ma(a)&&Ma(e)&&bi(a)&&bi(e)}function TL(a,e,i){return e===i||(bi(e)&&bi(i)?e.data===i.data:!(!a.isBlockFiller(e)||!a.isBlockFiller(i)))}function oB(a,e){const i=a.data;if(i==e)return;const r=G(i,e);for(const l of r)l.type==="insert"?a.insertData(l.index,l.values.join("")):a.deleteData(l.index,l.howMany)}const JL=eB(v.document),LL=q2(v.document),zL=$2(v.document),oC="data-ck-unsafe-attribute-",rB="data-ck-unsafe-element";class rC{constructor(e,{blockFillerMode:i,renderingMode:r="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new ws,this._inlineObjectElementMatcher=new ws,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=r,this.blockFillerMode=i||(r==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?v.document:v.document.implementation.createHTMLDocument("")}bindFakeSelection(e,i){this._fakeSelectionMapping.set(e,new jr(i))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}unbindDomElement(e){const i=this._domToViewMapping.get(e);if(i){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(i);for(const r of Array.from(e.children))this.unbindDomElement(r)}}bindDocumentFragments(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}shouldRenderAttribute(e,i,r){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!i.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(r==="img"&&(e==="src"||e==="srcset")||r==="source"&&e==="srcset"||!i.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,i){if(this.renderingMode==="data")return void(e.innerHTML=i);const r=new DOMParser().parseFromString(i,"text/html"),l=r.createDocumentFragment(),u=r.body.childNodes;for(;u.length>0;)l.appendChild(u[0]);const C=r.createTreeWalker(l,NodeFilter.SHOW_ELEMENT),f=[];let w;for(;w=C.nextNode();)f.push(w);for(const S of f){for(const X of S.getAttributeNames())this.setDomElementAttribute(S,X,S.getAttribute(X));const R=S.tagName.toLowerCase();this._shouldRenameElement(R)&&(lB(R),S.replaceWith(this._createReplacementDomElement(R,S)))}for(;e.firstChild;)e.firstChild.remove();e.append(l)}viewToDom(e,i={}){if(e.is("$text")){const r=this._processDataFromViewText(e);return this._domDocument.createTextNode(r)}{const r=e;if(this.mapViewToDom(r)){if(!r.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(r);this._elementsWithTemporaryCustomProperties.add(r)}let l;if(r.is("documentFragment"))l=this._domDocument.createDocumentFragment(),i.bind&&this.bindDocumentFragments(l,r);else{if(r.is("uiElement"))return l=r.name==="$comment"?this._domDocument.createComment(r.getCustomProperty("$rawContent")):r.render(this._domDocument,this),i.bind&&this.bindElements(l,r),l;this._shouldRenameElement(r.name)?(lB(r.name),l=this._createReplacementDomElement(r.name)):l=r.hasAttribute("xmlns")?this._domDocument.createElementNS(r.getAttribute("xmlns"),r.name):this._domDocument.createElement(r.name),r.is("rawElement")&&r.render(l,this),i.bind&&this.bindElements(l,r);for(const u of r.getAttributeKeys())this.setDomElementAttribute(l,u,r.getAttribute(u),r)}if(i.withChildren!==!1)for(const u of this.viewChildrenToDom(r,i))l instanceof HTMLTemplateElement?l.content.appendChild(u):l.appendChild(u);return l}}setDomElementAttribute(e,i,r,l){const u=this.shouldRenderAttribute(i,r,e.tagName.toLowerCase())||l&&l.shouldRenderUnsafeAttribute(i);u||de("domconverter-unsafe-attribute-detected",{domElement:e,key:i,value:r}),function(C){try{v.document.createAttribute(C)}catch{return!1}return!0}(i)?(e.hasAttribute(i)&&!u?e.removeAttribute(i):e.hasAttribute(oC+i)&&u&&e.removeAttribute(oC+i),e.setAttribute(u?i:oC+i,r)):de("domconverter-invalid-attribute-detected",{domElement:e,key:i,value:r})}removeDomElementAttribute(e,i){i!=rB&&(e.removeAttribute(i),e.removeAttribute(oC+i))}*viewChildrenToDom(e,i={}){const r=e.getFillerOffset&&e.getFillerOffset();let l=0;for(const u of e.getChildren()){r===l&&(yield this._getBlockFiller());const C=u.is("element")&&!!u.getCustomProperty("dataPipeline:transparentRendering")&&!zi(u.getAttributes());C&&this.renderingMode=="data"?yield*this.viewChildrenToDom(u,i):(C&&de("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:u}),yield this.viewToDom(u,i)),l++}r===l&&(yield this._getBlockFiller())}viewRangeToDom(e){const i=this.viewPositionToDom(e.start),r=this.viewPositionToDom(e.end),l=this._domDocument.createRange();return l.setStart(i.parent,i.offset),l.setEnd(r.parent,r.offset),l}viewPositionToDom(e){const i=e.parent;if(i.is("$text")){const r=this.findCorrespondingDomText(i);if(!r)return null;let l=e.offset;return Po(r)&&(l+=Or),{parent:r,offset:l}}{let r,l,u;if(e.offset===0){if(r=this.mapViewToDom(i),!r)return null;u=r.childNodes[0]}else{const C=e.nodeBefore;if(l=C.is("$text")?this.findCorrespondingDomText(C):this.mapViewToDom(C),!l)return null;r=l.parentNode,u=l.nextSibling}return bi(u)&&Po(u)?{parent:u,offset:Or}:{parent:r,offset:l?eu(l)+1:0}}}domToView(e,i={}){const r=[],l=this._domToView(e,i,r),u=l.next().value;return u?(l.next(),this._processDomInlineNodes(null,r,i),u.is("$text")&&u.data.length==0?null:u):null}*domChildrenToView(e,i={},r=[]){let l=[];l=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let u=0;u<l.length;u++){const C=l[u],f=this._domToView(C,i,r),w=f.next().value;w!==null&&(this._isBlockViewElement(w)&&this._processDomInlineNodes(e,r,i),yield w,f.next())}this._processDomInlineNodes(e,r,i)}domSelectionToView(e){if(function(l){if(!_.isGecko||!l.rangeCount)return!1;const u=l.getRangeAt(0).startContainer;try{Object.prototype.toString.call(u)}catch{return!0}return!1}(e))return new jr([]);if(e.rangeCount===1){let l=e.getRangeAt(0).startContainer;bi(l)&&(l=l.parentNode);const u=this.fakeSelectionToView(l);if(u)return u}const i=this.isDomSelectionBackward(e),r=[];for(let l=0;l<e.rangeCount;l++){const u=e.getRangeAt(l),C=this.domRangeToView(u);C&&r.push(C)}return new jr(r,{backward:i})}domRangeToView(e){const i=this.domPositionToView(e.startContainer,e.startOffset),r=this.domPositionToView(e.endContainer,e.endOffset);return i&&r?new Ht(i,r):null}domPositionToView(e,i=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,eu(e));const r=this.mapDomToView(e);if(r&&(r.is("uiElement")||r.is("rawElement")))return gt._createBefore(r);if(bi(e)){if(ng(e))return this.domPositionToView(e.parentNode,eu(e));const l=this.findCorrespondingViewText(e);let u=i;return l?(Po(e)&&(u-=Or,u=u<0?0:u),new gt(l,u)):null}if(i===0){const l=this.mapDomToView(e);if(l)return new gt(l,0)}else{const l=e.childNodes[i-1];if(bi(l)&&ng(l)||l&&this.isBlockFiller(l))return this.domPositionToView(l.parentNode,eu(l));const u=bi(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(u&&u.parent)return new gt(u.parent,u.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(ng(e))return null;const i=this.getHostViewElement(e);if(i)return i;const r=e.previousSibling;if(r){if(!this.isElement(r))return null;const l=this.mapDomToView(r);if(l){const u=l.nextSibling;return u instanceof Nn?u:null}}else{const l=this.mapDomToView(e.parentNode);if(l){const u=l.getChild(0);return u instanceof Nn?u:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const i=e.previousSibling;return i&&this.mapViewToDom(i)?this.mapViewToDom(i).nextSibling:!i&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const i=this.mapViewToDom(e);if(i&&i.ownerDocument.activeElement!==i){const{scrollX:r,scrollY:l}=v.window,u=[];sB(i,C=>{const{scrollLeft:f,scrollTop:w}=C;u.push([f,w])}),i.focus(),sB(i,C=>{const[f,w]=u.shift();C.scrollLeft=f,C.scrollTop=w}),v.window.scrollTo(r,l)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const i=e.ownerDocument.defaultView.getSelection(),r=this.domSelectionToView(i);r&&r.rangeCount>0&&i.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(JL):!(e.tagName!=="BR"||!aB(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(zL)||function(i,r){return i.isEqualNode(LL)&&aB(i,r)&&i.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const i=this._domDocument.createRange();try{i.setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const r=i.collapsed;return i.detach(),r}getHostViewElement(e){const i=function(r){const l=[];let u=r;for(;u&&u.nodeType!=Node.DOCUMENT_NODE;)l.unshift(u),u=u.parentNode;return l}(e);for(i.pop();i.length;){const r=i.pop(),l=this._domToViewMapping.get(r);if(l&&(l.is("uiElement")||l.is("rawElement")))return l}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return q2(this._domDocument);case"markedNbsp":return $2(this._domDocument);case"br":return eB(this._domDocument)}}_isDomSelectionPositionCorrect(e,i){if(bi(e)&&Po(e)&&i<Or||this.isElement(e)&&Po(e.childNodes[i]))return!1;const r=this.mapDomToView(e);return!r||!r.is("uiElement")&&!r.is("rawElement")}*_domToView(e,i,r){if(this.isBlockFiller(e))return null;const l=this.getHostViewElement(e);if(l)return l;if(tu(e)&&i.skipComments)return null;if(bi(e)){if(ng(e))return null;{const u=e.data;if(u==="")return null;const C=new Nn(this.document,u);return r.push(C),C}}{let u=this.mapDomToView(e);if(u)return this._isInlineObjectElement(u)&&r.push(u),u;if(this.isDocumentFragment(e))u=new zl(this.document),i.bind&&this.bindDocumentFragments(e,u);else{u=this._createViewElement(e,i),i.bind&&this.bindElements(e,u);const f=e.attributes;if(f)for(let w=f.length,S=0;S<w;S++)u._setAttribute(f[S].name,f[S].value);if(this._isViewElementWithRawContent(u,i))return u._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(u)||r.push(u),u;if(tu(e))return u._setCustomProperty("$rawContent",e.data),u}yield u;const C=[];if(i.withChildren!==!1)for(const f of this.domChildrenToView(e,i,C))u._appendChild(f);if(this._isInlineObjectElement(u))r.push(u);else for(const f of C)r.push(f)}}_processDomInlineNodes(e,i,r){if(!i.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let l=!1;for(let u=0;u<i.length;u++){const C=i[u];if(!C.is("$text")){l=!1;continue}let f,w=!1;if(KL(C,this.preElements))f=tB(C.data);else{f=C.data.replace(/[ \n\t\r]{1,}/g," "),w=/[^\S\u00A0]/.test(f.charAt(f.length-1));const S=u>0?i[u-1]:null,R=u+1<i.length?i[u+1]:null,X=!S||S.is("element")&&S.name=="br"||l,J=!R&&!Po(C.data);r.withChildren!==!1&&(X&&(f=f.replace(/^ /,"")),J&&(f=f.replace(/ $/,""))),f=tB(f),f=f.replace(/ \u00A0/g,"  ");const U=R&&R.is("element")&&R.name!="br",te=R&&R.is("$text")&&R.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(f)||!R||U||te)&&(f=f.replace(/\u00A0$/," ")),(X||S&&S.is("element")&&S.name!="br")&&(f=f.replace(/^\u00A0/," "))}f.length==0&&C.parent?(C._remove(),i.splice(u,1),u--):(C._data=f,l=w)}i.length=0}_processDataFromViewText(e){let i=e.data;if(e.getAncestors().some(r=>this.preElements.includes(r.name)))return i;if(i.charAt(0)==" "){const r=this._getTouchingInlineViewNode(e,!1);!(r&&r.is("$textProxy")&&this._nodeEndsWithSpace(r))&&r||(i=""+i.substr(1))}if(i.charAt(i.length-1)==" "){const r=this._getTouchingInlineViewNode(e,!0),l=r&&r.is("$textProxy")&&r.data.charAt(0)==" ";i.charAt(i.length-2)!=" "&&r&&!l||(i=i.substr(0,i.length-1)+"")}return i.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(r=>this.preElements.includes(r.name)))return!1;const i=this._processDataFromViewText(e);return i.charAt(i.length-1)==" "}_getTouchingInlineViewNode(e,i){const r=new Jl({startPosition:i?gt._createAfter(e):gt._createBefore(e),direction:i?"forward":"backward"});for(const l of r){if(l.item.is("element","br"))return null;if(this._isInlineObjectElement(l.item))return l.item;if(l.item.is("containerElement"))return null;if(l.item.is("$textProxy"))return l.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,i){if(tu(e))return new iC(this.document,"$comment");const r=i.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Ko(this.document,r)}_isViewElementWithRawContent(e,i){return i.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const i=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(i)}_createReplacementDomElement(e,i){const r=this._domDocument.createElement("span");if(r.setAttribute(rB,e),i){for(;i.firstChild;)r.appendChild(i.firstChild);for(const l of i.getAttributeNames())r.setAttribute(l,i.getAttribute(l))}return r}}function KL(a,e){return a.getAncestors().some(i=>i.is("element")&&e.includes(i.name))}function sB(a,e){let i=a;for(;i;)e(i),i=i.parentElement}function aB(a,e){const i=a.parentNode;return!!i&&!!i.tagName&&e.includes(i.tagName.toLowerCase())}function lB(a){a==="script"&&de("domconverter-unsafe-script-element-detected"),a==="style"&&de("domconverter-unsafe-style-element-detected")}class xs extends pr(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const cB=m2(function(a,e){Mn(e,Oc(e),a)});class ig{constructor(e,i,r){this.view=e,this.document=e.document,this.domEvent=i,this.domTarget=i.target,cB(this,r)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Ja extends xs{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(r,l)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(l.target)&&this.onDomEvent(l)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,i,r){this.isEnabled&&this.document.fire(e,new ig(this.view,i,r))}}class PL extends Ja{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const i={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Qc(this)}};this.fire(e.type,e,i)}}const o0=function(){return Ft.Date.now()};var jL=/\s/;const OL=function(a){for(var e=a.length;e--&&jL.test(a.charAt(e)););return e};var UL=/^\s+/;const QL=function(a){return a&&a.slice(0,OL(a)+1).replace(UL,"")};var qL=/^[-+]0x[0-9a-f]+$/i,$L=/^0b[01]+$/i,ez=/^0o[0-7]+$/i,tz=parseInt;const gB=function(a){if(typeof a=="number")return a;if(qm(a))return NaN;if(He(a)){var e=typeof a.valueOf=="function"?a.valueOf():a;a=He(e)?e+"":e}if(typeof a!="string")return a===0?a:+a;a=QL(a);var i=$L.test(a);return i||ez.test(a)?tz(a.slice(2),i?2:8):qL.test(a)?NaN:+a};var nz=Math.max,iz=Math.min;const og=function(a,e,i){var r,l,u,C,f,w,S=0,R=!1,X=!1,J=!0;if(typeof a!="function")throw new TypeError("Expected a function");function U(we){var We=r,ze=l;return r=l=void 0,S=we,C=a.apply(ze,We)}function te(we){var We=we-w;return w===void 0||We>=e||We<0||X&&we-S>=u}function ae(){var we=o0();if(te(we))return he(we);f=setTimeout(ae,function(We){var ze=e-(We-w);return X?iz(ze,u-(We-S)):ze}(we))}function he(we){return f=void 0,J&&r?U(we):(r=l=void 0,C)}function Ie(){var we=o0(),We=te(we);if(r=arguments,l=this,w=we,We){if(f===void 0)return function(ze){return S=ze,f=setTimeout(ae,e),R?U(ze):C}(w);if(X)return clearTimeout(f),f=setTimeout(ae,e),U(w)}return f===void 0&&(f=setTimeout(ae,e)),C}return e=gB(e)||0,He(i)&&(R=!!i.leading,u=(X="maxWait"in i)?nz(gB(i.maxWait)||0,e):u,J="trailing"in i?!!i.trailing:J),Ie.cancel=function(){f!==void 0&&clearTimeout(f),S=0,r=w=l=f=void 0},Ie.flush=function(){return f===void 0?C:he(o0())},Ie};class oz extends xs{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=og(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const e=this.document;e.on("arrowKey",(i,r)=>{e.selection.isFake&&this.isEnabled&&r.preventDefault()},{context:"$capture"}),e.on("arrowKey",(i,r)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(r.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const i=this.document.selection,r=new jr(i.getRanges(),{backward:i.isBackward,fake:!1});e!=ln.arrowleft&&e!=ln.arrowup||r.setTo(r.getFirstPosition()),e!=ln.arrowright&&e!=ln.arrowdown||r.setTo(r.getLastPosition());const l={oldSelection:i,newSelection:r,domSelection:null};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}const rz=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},sz=function(a){return this.__data__.has(a)};function sC(a){var e=-1,i=a==null?0:a.length;for(this.__data__=new Ve;++e<i;)this.add(a[e])}sC.prototype.add=sC.prototype.push=rz,sC.prototype.has=sz;const az=sC,lz=function(a,e){for(var i=-1,r=a==null?0:a.length;++i<r;)if(e(a[i],i,a))return!0;return!1},cz=function(a,e){return a.has(e)},dB=function(a,e,i,r,l,u){var C=1&i,f=a.length,w=e.length;if(f!=w&&!(C&&w>f))return!1;var S=u.get(a),R=u.get(e);if(S&&R)return S==e&&R==a;var X=-1,J=!0,U=2&i?new az:void 0;for(u.set(a,e),u.set(e,a);++X<f;){var te=a[X],ae=e[X];if(r)var he=C?r(ae,te,X,e,a,u):r(te,ae,X,a,e,u);if(he!==void 0){if(he)continue;J=!1;break}if(U){if(!lz(e,function(Ie,we){if(!cz(U,we)&&(te===Ie||l(te,Ie,i,r,u)))return U.push(we)})){J=!1;break}}else if(te!==ae&&!l(te,ae,i,r,u)){J=!1;break}}return u.delete(a),u.delete(e),J},gz=function(a){var e=-1,i=Array(a.size);return a.forEach(function(r,l){i[++e]=[l,r]}),i},dz=function(a){var e=-1,i=Array(a.size);return a.forEach(function(r){i[++e]=r}),i};var uB=Mt?Mt.prototype:void 0,r0=uB?uB.valueOf:void 0;const uz=function(a,e,i,r,l,u,C){switch(i){case"[object DataView]":if(a.byteLength!=e.byteLength||a.byteOffset!=e.byteOffset)return!1;a=a.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(a.byteLength!=e.byteLength||!u(new Fm(a),new Fm(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Jr(+a,+e);case"[object Error]":return a.name==e.name&&a.message==e.message;case"[object RegExp]":case"[object String]":return a==e+"";case"[object Map]":var f=gz;case"[object Set]":var w=1&r;if(f||(f=dz),a.size!=e.size&&!w)return!1;var S=C.get(a);if(S)return S==e;r|=2,C.set(a,e);var R=dB(f(a),f(e),r,l,u,C);return C.delete(a),R;case"[object Symbol]":if(r0)return r0.call(a)==r0.call(e)}return!1};var hz=Object.prototype.hasOwnProperty;const mz=function(a,e,i,r,l,u){var C=1&i,f=AA(a),w=f.length;if(w!=AA(e).length&&!C)return!1;for(var S=w;S--;){var R=f[S];if(!(C?R in e:hz.call(e,R)))return!1}var X=u.get(a),J=u.get(e);if(X&&J)return X==e&&J==a;var U=!0;u.set(a,e),u.set(e,a);for(var te=C;++S<w;){var ae=a[R=f[S]],he=e[R];if(r)var Ie=C?r(he,ae,R,e,a,u):r(ae,he,R,a,e,u);if(!(Ie===void 0?ae===he||l(ae,he,i,r,u):Ie)){U=!1;break}te||(te=R=="constructor")}if(U&&!te){var we=a.constructor,We=e.constructor;we==We||!("constructor"in a)||!("constructor"in e)||typeof we=="function"&&we instanceof we&&typeof We=="function"&&We instanceof We||(U=!1)}return u.delete(a),u.delete(e),U};var hB="[object Arguments]",mB="[object Array]",aC="[object Object]",CB=Object.prototype.hasOwnProperty;const Cz=function(a,e,i,r,l,u){var C=Zt(a),f=Zt(e),w=C?mB:qd(a),S=f?mB:qd(e),R=(w=w==hB?aC:w)==aC,X=(S=S==hB?aC:S)==aC,J=w==S;if(J&&fi(a)){if(!fi(e))return!1;C=!0,R=!1}if(J&&!R)return u||(u=new pt),C||IA(a)?dB(a,e,i,r,l,u):uz(a,e,w,i,r,l,u);if(!(1&i)){var U=R&&CB.call(a,"__wrapped__"),te=X&&CB.call(e,"__wrapped__");if(U||te){var ae=U?a.value():a,he=te?e.value():e;return u||(u=new pt),l(ae,he,i,r,u)}}return!!J&&(u||(u=new pt),mz(a,e,i,r,l,u))},lC=function a(e,i,r,l,u){return e===i||(e==null||i==null||!cn(e)&&!cn(i)?e!=e&&i!=i:Cz(e,i,r,l,a,u))},pz=function(a,e,i){var r=(i=typeof i=="function"?i:void 0)?i(a,e):void 0;return r===void 0?lC(a,e,void 0,i):!!r};class pB extends xs{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const i=this.domConverter,r=new Set,l=new Set;for(const C of e){const f=i.mapDomToView(C.target);f&&(f.is("uiElement")||f.is("rawElement")||C.type!=="childList"||this._isBogusBrMutation(C)||l.add(f))}for(const C of e){const f=i.mapDomToView(C.target);if((!f||!f.is("uiElement")&&!f.is("rawElement"))&&C.type==="characterData"){const w=i.findCorrespondingViewText(C.target);w&&!l.has(w.parent)?r.add(w):!w&&Po(C.target)&&l.add(i.mapDomToView(C.target.parentNode))}}let u=!1;for(const C of r)u=!0,this.renderer.markToSync("text",C);for(const C of l){const f=i.mapViewToDom(C),w=Array.from(C.getChildren()),S=Array.from(i.domChildrenToView(f,{withChildren:!1}));pz(w,S,Iz)||(u=!0,this.renderer.markToSync("children",C))}u&&this.view.forceRender()}_isBogusBrMutation(e){let i=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(i=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}function Iz(a,e){if(!Array.isArray(a))return a===e||!(!a.is("$text")||!e.is("$text"))&&a.data===e.data}class cC extends Ja{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const i=this.document;i.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),i.on("blur",(r,l)=>{const u=i.selection.editableElement;u!==null&&u!==l.target||(i.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class fz extends xs{constructor(e){super(e),this.mutationObserver=e.getObserver(pB),this.focusObserver=e.getObserver(cC),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=og(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=og(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const i=e.ownerDocument,r=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",r,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",r,{priority:"highest",useCapture:!0}),this._documents.has(i)||(this.listenTo(i,"mouseup",r,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",(l,u)=>{this.document.isComposing&&!_.isAndroid||(this._handleSelectionChange(u,i),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(i))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,i){if(!this.isEnabled)return;const r=i.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(r.anchorNode))return;this.mutationObserver.flush();const l=this.domConverter.domSelectionToView(r);if(l.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(l)||!this.domConverter.isDomSelectionCorrect(r))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(l))this.view.forceRender();else{const u={oldSelection:this.selection,newSelection:l,domSelection:r};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class bz extends Ja{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0},{priority:"low"}),i.on("compositionend",()=>{i.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class IB{constructor(e,i={}){this._files=i.cacheFiles?fB(e):null,this._native=e}get files(){return this._files||(this._files=fB(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,i){this._native.setData(e,i)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,i,r){this._native.setDragImage(e,i,r)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function fB(a){const e=Array.from(a.files||[]),i=Array.from(a.items||[]);return e.length?e:i.filter(r=>r.kind==="file").map(r=>r.getAsFile())}class Az extends Ja{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const i=e.getTargetRanges(),r=this.view,l=r.document;let u=null,C=null,f=[];if(e.dataTransfer&&(u=new IB(e.dataTransfer)),e.data!==null?C=e.data:u&&(C=u.getData("text/plain")),l.selection.isFake)f=Array.from(l.selection.getRanges());else if(i.length)f=i.map(w=>{const S=r.domConverter.domPositionToView(w.startContainer,w.startOffset),R=r.domConverter.domPositionToView(w.endContainer,w.endOffset);return S?r.createRange(S,R):R?r.createRange(R):void 0}).filter(w=>!!w);else if(_.isAndroid){const w=e.target.ownerDocument.defaultView.getSelection();f=Array.from(r.domConverter.domSelectionToView(w).getRanges())}if(_.isAndroid&&e.inputType=="insertCompositionText"&&C&&C.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[r.createRange(f[0].end)]});else if(e.inputType=="insertText"&&C&&C.includes(`
`)){const w=C.split(/\n{1,2}/g);let S=f;for(let R=0;R<w.length;R++){const X=w[R];X!=""&&(this.fire(e.type,e,{data:X,dataTransfer:u,targetRanges:S,inputType:e.inputType,isComposing:e.isComposing}),S=[l.selection.getFirstRange()]),R+1<w.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:S}),S=[l.selection.getFirstRange()])}}else this.fire(e.type,e,{data:C,dataTransfer:u,targetRanges:f,inputType:e.inputType,isComposing:e.isComposing})}}class yz extends xs{constructor(e){super(e),this.document.on("keydown",(i,r)=>{if(this.isEnabled&&((l=r.keyCode)==ln.arrowright||l==ln.arrowleft||l==ln.arrowup||l==ln.arrowdown)){const u=new eg(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(u,r),u.stop.called&&i.stop()}var l})}observe(){}stopObserving(){}}class kz extends xs{constructor(e){super(e);const i=this.document;i.on("keydown",(r,l)=>{if(!this.isEnabled||l.keyCode!=ln.tab||l.ctrlKey)return;const u=new eg(i,"tab",i.selection.getFirstRange());i.fire(u,l),u.stop.called&&r.stop()})}observe(){}stopObserving(){}}const Ur=function(a){return SA(a,5)};class vz extends rt(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new nC(e),this.domConverter=new rC(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new HL(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new P2(this.document),this.addObserver(pB),this.addObserver(cC),this.addObserver(fz),this.addObserver(PL),this.addObserver(oz),this.addObserver(bz),this.addObserver(yz),this.addObserver(Az),this.addObserver(kz),this.document.on("arrowKey",YL,{priority:"low"}),WL(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),_.isiOS&&this.listenTo(this.document,"blur",(i,r)=>{this.domConverter.mapDomToView(r.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,i="main"){const r=this.document.getRoot(i);r._name=e.tagName.toLowerCase();const l={};for(const{name:C,value:f}of Array.from(e.attributes))l[C]=f,C==="class"?this._writer.addClass(f.split(" "),r):this._writer.setAttribute(C,f,r);this._initialDomRootAttributes.set(e,l);const u=()=>{this._writer.setAttribute("contenteditable",(!r.isReadOnly).toString(),r),r.isReadOnly?this._writer.addClass("ck-read-only",r):this._writer.removeClass("ck-read-only",r)};u(),this.domRoots.set(i,e),this.domConverter.bindElements(e,r),this._renderer.markToSync("children",r),this._renderer.markToSync("attributes",r),this._renderer.domDocuments.add(e.ownerDocument),r.on("change:children",(C,f)=>this._renderer.markToSync("children",f)),r.on("change:attributes",(C,f)=>this._renderer.markToSync("attributes",f)),r.on("change:text",(C,f)=>this._renderer.markToSync("text",f)),r.on("change:isReadOnly",()=>this.change(u)),r.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const C of this._observers.values())C.observe(e,i)}detachDomRoot(e){const i=this.domRoots.get(e);Array.from(i.attributes).forEach(({name:l})=>i.removeAttribute(l));const r=this._initialDomRootAttributes.get(i);for(const l in r)i.setAttribute(l,r[l]);this.domRoots.delete(e),this.domConverter.unbindDomElement(i);for(const l of this._observers.values())l.stopObserving(i)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let i=this._observers.get(e);if(i)return i;i=new e(this),this._observers.set(e,i);for(const[r,l]of this.domRoots)i.observe(l,r);return i.enable(),i}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:i,viewportOffset:r=20,ancestorOffset:l=20}={}){const u=this.document.selection.getFirstRange();if(!u)return;const C=Ur({alignToTop:e,forceScroll:i,viewportOffset:r,ancestorOffset:l});typeof r=="number"&&(r={top:r,bottom:r,left:r,right:r});const f={target:this.domConverter.viewRangeToDom(u),viewportOffset:r,ancestorOffset:l,alignToTop:e,forceScroll:i};this.fire("scrollToTheSelection",f,C),function({target:w,viewportOffset:S=0,ancestorOffset:R=0,alignToTop:X,forceScroll:J}){const U=GA(w);let te=U,ae=null;for(S=function(he){return typeof he=="number"?{top:he,bottom:he,left:he,right:he}:he}(S);te;){let he;he=V9(te==U?w:ae),R9({parent:he,getRect:()=>c2(w,te),alignToTop:X,ancestorOffset:R,forceScroll:J});const Ie=c2(w,te);if(G9({window:te,rect:Ie,viewportOffset:S,alignToTop:X,forceScroll:J}),te.parent!=te){if(ae=te.frameElement,te=te.parent,!ae)return}else te=null}}(f)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new K("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const i=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){K.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(cC).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,i){return gt._createAt(e,i)}createPositionAfter(e){return gt._createAfter(e)}createPositionBefore(e){return gt._createBefore(e)}createRange(e,i){return new Ht(e,i)}createRangeOn(e){return Ht._createOn(e)}createRangeIn(e){return Ht._createIn(e)}createSelection(...e){return new jr(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class La{is(){throw new Error("is() method is abstract")}}class Kl extends La{constructor(e){super(),this.parent=null,this._attrs=ks(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new K("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new K("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.startOffset),i=i.parent;return e}getAncestors(e={}){const i=[];let r=e.includeSelf?this:this.parent;for(;r;)i[e.parentFirst?"push":"unshift"](r),r=r.parent;return i}getCommonAncestor(e,i={}){const r=this.getAncestors(i),l=e.getAncestors(i);let u=0;for(;r[u]==l[u]&&r[u];)u++;return u===0?null:r[u-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),r=e.getPath(),l=mt(i,r);switch(l){case"prefix":return!0;case"extension":return!1;default:return i[l]<r[l]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((i,r)=>(i[r[0]]=r[1],i),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,i){this._attrs.set(e,i)}_setAttributesTo(e){this._attrs=ks(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Kl.prototype.is=function(a){return a==="node"||a==="model:node"};class cu{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,i)=>e+i.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const i=this._nodes.indexOf(e);return i==-1?null:i}getNodeStartOffset(e){const i=this.getNodeIndex(e);return i===null?null:this._nodes.slice(0,i).reduce((r,l)=>r+l.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const i=this._nodes[e];if(!i)throw new K("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(i)}offsetToIndex(e){let i=0;for(const r of this._nodes){if(e>=i&&e<i+r.offsetSize)return this.getNodeIndex(r);i+=r.offsetSize}if(i!=e)throw new K("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,i){for(const r of i)if(!(r instanceof Kl))throw new K("model-nodelist-insertnodes-not-node",this);this._nodes=function(r,l,u,C){if(Math.max(l.length,r.length)>1e4)return r.slice(0,u).concat(l).concat(r.slice(u+C,r.length));{const f=Array.from(r);return f.splice(u,C,...l),f}}(this._nodes,Array.from(i),e,0)}_removeNodes(e,i=1){return this._nodes.splice(e,i)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class En extends Kl{constructor(e,i){super(i),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new En(this.data,this.getAttributes())}static fromJSON(e){return new En(e.data,e.attributes)}}En.prototype.is=function(a){return a==="$text"||a==="model:$text"||a==="text"||a==="model:text"||a==="node"||a==="model:node"};class Qr extends La{constructor(e,i,r){if(super(),this.textNode=e,i<0||i>e.offsetSize)throw new K("model-textproxy-wrong-offsetintext",this);if(r<0||i+r>e.offsetSize)throw new K("model-textproxy-wrong-length",this);this.data=e.data.substring(i,i+r),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const i=[];let r=e.includeSelf?this:this.parent;for(;r;)i[e.parentFirst?"push":"unshift"](r),r=r.parent;return i}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Qr.prototype.is=function(a){return a==="$textProxy"||a==="model:$textProxy"||a==="textProxy"||a==="model:textProxy"};class Zn extends Kl{constructor(e,i,r){super(i),this._children=new cu,this.name=e,r&&this._insertChild(0,r)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let i=this;for(const r of e)i=i.getChild(i.offsetToIndex(r));return i}findAncestor(e,i={}){let r=i.includeSelf?this:this.parent;for(;r;){if(r.name===e)return r;r=r.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const i of this._children)e.children.push(i.toJSON())}return e}_clone(e=!1){const i=e?Array.from(this._children).map(r=>r._clone(!0)):void 0;return new Zn(this.name,this.getAttributes(),i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const r=function(l){return typeof l=="string"?[new En(l)]:(Fe(l)||(l=[l]),Array.from(l).map(u=>typeof u=="string"?new En(u):u instanceof Qr?new En(u.data,u.getAttributes()):u))}(i);for(const l of r)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,i=1){const r=this._children._removeNodes(e,i);for(const l of r)l.parent=null;return r}static fromJSON(e){let i;if(e.children){i=[];for(const r of e.children)r.name?i.push(Zn.fromJSON(r)):i.push(En.fromJSON(r))}return new Zn(e.name,e.attributes,i)}}Zn.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="model:element"):a==="element"||a==="model:element"||a==="node"||a==="model:node"};class Qs{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new K("model-tree-walker-no-start-position",null);const i=e.direction||"forward";if(i!="forward"&&i!="backward")throw new K("model-tree-walker-unknown-direction",e,{direction:i});this.direction=i,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Ue._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let i,r,l,u;do l=this.position,u=this._visitedParent,{done:i,value:r}=this.next();while(!i&&e(r));i||(this._position=l,this._visitedParent=u)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,i=this.position.clone(),r=this._visitedParent;if(r.parent===null&&i.offset===r.maxOffset)return{done:!0,value:void 0};if(r===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const l=gu(i,r),u=l||bB(i,r,l);if(u instanceof Zn){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(i))return{done:!0,value:void 0};i.offset++}else i.path.push(0),this._visitedParent=u;return this._position=i,Pl("elementStart",u,e,i,1)}if(u instanceof En){let C;if(this.singleCharacters)C=1;else{let S=u.endOffset;this._boundaryEndParent==r&&this.boundaries.end.offset<S&&(S=this.boundaries.end.offset),C=S-i.offset}const f=i.offset-u.startOffset,w=new Qr(u,f,C);return i.offset+=C,this._position=i,Pl("text",w,e,i,C)}return i.path.pop(),i.offset++,this._position=i,this._visitedParent=r.parent,this.ignoreElementEnd?this._next():Pl("elementEnd",r,e,i)}_previous(){const e=this.position,i=this.position.clone(),r=this._visitedParent;if(r.parent===null&&i.offset===0)return{done:!0,value:void 0};if(r==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const l=i.parent,u=gu(i,l),C=u||AB(i,l,u);if(C instanceof Zn)return i.offset--,this.shallow?(this._position=i,Pl("elementStart",C,e,i,1)):(i.path.push(C.maxOffset),this._position=i,this._visitedParent=C,this.ignoreElementEnd?this._previous():Pl("elementEnd",C,e,i));if(C instanceof En){let f;if(this.singleCharacters)f=1;else{let R=C.startOffset;this._boundaryStartParent==r&&this.boundaries.start.offset>R&&(R=this.boundaries.start.offset),f=i.offset-R}const w=i.offset-C.startOffset,S=new Qr(C,w-f,f);return i.offset-=f,this._position=i,Pl("text",S,e,i,f)}return i.path.pop(),this._position=i,this._visitedParent=r.parent,Pl("elementStart",r,e,i,1)}}function Pl(a,e,i,r,l){return{done:!1,value:{type:a,item:e,previousPosition:i,nextPosition:r,length:l}}}class Ue extends La{constructor(e,i,r="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new K("model-position-root-invalid",e);if(!(i instanceof Array)||i.length===0)throw new K("model-position-path-incorrect-format",e,{path:i});e.is("rootElement")?i=i.slice():(i=[...e.getPath(),...i],e=e.root),this.root=e,this.path=i,this.stickiness=r}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let i=0;i<this.path.length-1;i++)if(e=e.getChild(e.offsetToIndex(this.path[i])),!e)throw new K("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new K("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return gu(this,this.parent)}get nodeAfter(){const e=this.parent;return bB(this,e,gu(this,e))}get nodeBefore(){const e=this.parent;return AB(this,e,gu(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const i=mt(this.path,e.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<e.path[i]?"before":"after"}}getLastMatchingPosition(e,i={}){i.startPosition=this;const r=new Qs(i);return r.skip(e),r.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const i=this.parent;return i.is("element")?i.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const i=mt(this.path,e.path),r=typeof i=="string"?Math.min(this.path.length,e.path.length):i;return this.path.slice(0,r)}getCommonAncestor(e){const i=this.getAncestors(),r=e.getAncestors();let l=0;for(;i[l]==r[l]&&i[l];)l++;return l===0?null:i[l-1]}getShiftedBy(e){const i=this.clone(),r=i.offset+e;return i.offset=r<0?0:r,i}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const i=Math.min(this.path.length,e.path.length);for(let r=0;r<i;r++){const l=this.path[r]-e.path[r];if(l<-1||l>1)return!1;if(l===1)return yB(e,this,r);if(l===-1)return yB(this,e,r)}return this.path.length===e.path.length||(this.path.length>e.path.length?s0(this.path,i):s0(e.path,i))}hasSameParentAs(e){return this.root!==e.root?!1:mt(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let i;switch(e.type){case"insert":i=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(e);break;case"split":i=this._getTransformedBySplitOperation(e);break;case"merge":i=this._getTransformedByMergeOperation(e);break;default:i=Ue._createAt(this)}return i}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const i=e.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const i=e.movedRange;let r;return i.containsPosition(this)||i.start.isEqual(this)?(r=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(r=r._getTransformedByDeletion(e.deletionPosition,1))):r=this.isEqual(e.deletionPosition)?Ue._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),r}_getTransformedByDeletion(e,i){const r=Ue._createAt(this);if(this.root!=e.root)return r;if(mt(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+i>this.offset)return null;r.offset-=i}}else if(mt(e.getParentPath(),this.getParentPath())=="prefix"){const l=e.path.length-1;if(e.offset<=this.path[l]){if(e.offset+i>this.path[l])return null;r.path[l]-=i}}return r}_getTransformedByInsertion(e,i){const r=Ue._createAt(this);if(this.root!=e.root)return r;if(mt(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(r.offset+=i);else if(mt(e.getParentPath(),this.getParentPath())=="prefix"){const l=e.path.length-1;e.offset<=this.path[l]&&(r.path[l]+=i)}return r}_getTransformedByMove(e,i,r){if(i=i._getTransformedByDeletion(e,r),e.isEqual(i))return Ue._createAt(this);const l=this._getTransformedByDeletion(e,r);return l===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(r).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,i):l._getTransformedByInsertion(i,r)}_getCombined(e,i){const r=e.path.length-1,l=Ue._createAt(i);return l.stickiness=this.stickiness,l.offset=l.offset+this.path[r]-e.offset,l.path=[...l.path,...this.path.slice(r+1)],l}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,i,r="toNone"){if(e instanceof Ue)return new Ue(e.root,e.path,e.stickiness);{const l=e;if(i=="end")i=l.maxOffset;else{if(i=="before")return this._createBefore(l,r);if(i=="after")return this._createAfter(l,r);if(i!==0&&!i)throw new K("model-createpositionat-offset-required",[this,e])}if(!l.is("element")&&!l.is("documentFragment"))throw new K("model-position-parent-incorrect",[this,e]);const u=l.getPath();return u.push(i),new this(l.root,u,r)}}static _createAfter(e,i){if(!e.parent)throw new K("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,i)}static _createBefore(e,i){if(!e.parent)throw new K("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,i)}static fromJSON(e,i){if(e.root==="$graveyard"){const r=new Ue(i.graveyard,e.path);return r.stickiness=e.stickiness,r}if(!i.getRoot(e.root))throw new K("model-position-fromjson-no-root",i,{rootName:e.root});return new Ue(i.getRoot(e.root),e.path,e.stickiness)}}function gu(a,e){const i=e.getChild(e.offsetToIndex(a.offset));return i&&i.is("$text")&&i.startOffset<a.offset?i:null}function bB(a,e,i){return i!==null?null:e.getChild(e.offsetToIndex(a.offset))}function AB(a,e,i){return i!==null?null:e.getChild(e.offsetToIndex(a.offset)-1)}function yB(a,e,i){return i+1!==a.path.length&&!!s0(e.path,i+1)&&!!function(r,l){let u=r.parent,C=r.path.length-1,f=0;for(;C>=l;){if(r.path[C]+f!==u.maxOffset)return!1;f=1,C--,u=u.parent}return!0}(a,i+1)}function s0(a,e){for(;e<a.length;){if(a[e]!==0)return!1;e++}return!0}Ue.prototype.is=function(a){return a==="position"||a==="model:position"};class Xe extends La{constructor(e,i){super(),this.start=Ue._createAt(e),this.end=i?Ue._createAt(i):Ue._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Qs({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return mt(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const r=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),l=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return r&&l}containsItem(e){const i=Ue._createBefore(e);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new Xe(this.start,e.start)),this.containsPosition(e.end)&&i.push(new Xe(e.end,this.end))):i.push(new Xe(this.start,this.end)),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,r=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(r=e.end),new Xe(i,r)}return null}getJoined(e,i=!1){let r=this.isIntersecting(e);if(r||(r=this.start.isBefore(e.start)?i?this.end.isTouching(e.start):this.end.isEqual(e.start):i?e.end.isTouching(this.start):e.end.isEqual(this.start)),!r)return null;let l=this.start,u=this.end;return e.start.isBefore(l)&&(l=e.start),e.end.isAfter(u)&&(u=e.end),new Xe(l,u)}getMinimalFlatRanges(){const e=[],i=this.start.getCommonPath(this.end).length,r=Ue._createAt(this.start);let l=r.parent;for(;r.path.length>i+1;){const u=l.maxOffset-r.offset;u!==0&&e.push(new Xe(r,r.getShiftedBy(u))),r.path=r.path.slice(0,-1),r.offset++,l=l.parent}for(;r.path.length<=this.end.path.length;){const u=this.end.path[r.path.length-1],C=u-r.offset;C!==0&&e.push(new Xe(r,r.getShiftedBy(C))),r.offset=u,r.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Qs(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new Qs(e);for(const r of i)yield r.item}*getPositions(e={}){e.boundaries=this;const i=new Qs(e);yield i.position;for(const r of i)yield r.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new Xe(this.start,this.end)]}getTransformedByOperations(e){const i=[new Xe(this.start,this.end)];for(const r of e)for(let l=0;l<i.length;l++){const u=i[l].getTransformedByOperation(r);i.splice(l,1,...u),l+=u.length-1}for(let r=0;r<i.length;r++){const l=i[r];for(let u=r+1;u<i.length;u++){const C=i[u];(l.containsRange(C)||C.containsRange(l)||l.isEqual(C))&&i.splice(u,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,i=this.end.nodeBefore;return e&&e.is("element")&&e===i?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,i=!1){return this._getTransformedByInsertion(e.position,e.howMany,i)}_getTransformedByMoveOperation(e,i=!1){const r=e.sourcePosition,l=e.howMany,u=e.targetPosition;return this._getTransformedByMove(r,u,l,i)}_getTransformedBySplitOperation(e){const i=this.start._getTransformedBySplitOperation(e);let r=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(r=this.end.getShiftedBy(1)),i.root!=r.root&&(r=this.end.getShiftedBy(-1)),new Xe(i,r)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new Xe(this.start);let i=this.start._getTransformedByMergeOperation(e),r=this.end._getTransformedByMergeOperation(e);return i.root!=r.root&&(r=this.end.getShiftedBy(-1)),i.isAfter(r)?(e.sourcePosition.isBefore(e.targetPosition)?(i=Ue._createAt(r),i.offset=0):(e.deletionPosition.isEqual(i)||(r=e.deletionPosition),i=e.targetPosition),new Xe(i,r)):new Xe(i,r)}_getTransformedByInsertion(e,i,r=!1){if(r&&this.containsPosition(e))return[new Xe(this.start,e),new Xe(e.getShiftedBy(i),this.end._getTransformedByInsertion(e,i))];{const l=new Xe(this.start,this.end);return l.start=l.start._getTransformedByInsertion(e,i),l.end=l.end._getTransformedByInsertion(e,i),[l]}}_getTransformedByMove(e,i,r,l=!1){if(this.isCollapsed){const X=this.start._getTransformedByMove(e,i,r);return[new Xe(X)]}const u=Xe._createFromPositionAndShift(e,r),C=i._getTransformedByDeletion(e,r);if(this.containsPosition(i)&&!l&&(u.containsPosition(this.start)||u.containsPosition(this.end))){const X=this.start._getTransformedByMove(e,i,r),J=this.end._getTransformedByMove(e,i,r);return[new Xe(X,J)]}let f;const w=this.getDifference(u);let S=null;const R=this.getIntersection(u);if(w.length==1?S=new Xe(w[0].start._getTransformedByDeletion(e,r),w[0].end._getTransformedByDeletion(e,r)):w.length==2&&(S=new Xe(this.start,this.end._getTransformedByDeletion(e,r))),f=S?S._getTransformedByInsertion(C,r,R!==null||l):[],R){const X=new Xe(R.start._getCombined(u.start,C),R.end._getCombined(u.start,C));f.length==2?f.splice(1,0,X):f.push(X)}return f}_getTransformedByDeletion(e,i){let r=this.start._getTransformedByDeletion(e,i),l=this.end._getTransformedByDeletion(e,i);return r==null&&l==null?null:(r==null&&(r=e),l==null&&(l=e),new Xe(r,l))}static _createFromPositionAndShift(e,i){const r=e,l=e.getShiftedBy(i);return i>0?new this(r,l):new this(l,r)}static _createIn(e){return new this(Ue._createAt(e,0),Ue._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Ue._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new K("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const i=e[0];e.sort((u,C)=>u.start.isAfter(C.start)?1:-1);const r=e.indexOf(i),l=new this(i.start,i.end);if(r>0)for(let u=r-1;e[u].end.isEqual(l.start);u++)l.start=Ue._createAt(e[u].start);for(let u=r+1;u<e.length&&e[u].start.isEqual(l.end);u++)l.end=Ue._createAt(e[u].end);return l}static fromJSON(e,i){return new this(Ue.fromJSON(e.start,i),Ue.fromJSON(e.end,i))}}Xe.prototype.is=function(a){return a==="range"||a==="model:range"};class kB extends fe(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,i)=>{if(i.viewPosition)return;const r=this._modelToViewMapping.get(i.modelPosition.parent);if(!r)throw new K("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(r,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,i)=>{if(i.modelPosition)return;const r=this.findMappedViewAncestor(i.viewPosition),l=this._viewToModelMapping.get(r),u=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,r);i.modelPosition=Ue._createAt(l,u)},{priority:"low"})}bindElements(e,i){this._modelToViewMapping.set(e,i),this._viewToModelMapping.set(i,e)}unbindViewElement(e,i={}){const r=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const l of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(l);i.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(r)==e&&this._modelToViewMapping.delete(r))}unbindModelElement(e){const i=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(i)==e&&this._viewToModelMapping.delete(i)}bindElementToMarker(e,i){const r=this._markerNameToElements.get(i)||new Set;r.add(e);const l=this._elementToMarkerNames.get(e)||new Set;l.add(i),this._markerNameToElements.set(i,r),this._elementToMarkerNames.set(e,l)}unbindElementFromMarkerName(e,i){const r=this._markerNameToElements.get(i);r&&(r.delete(e),r.size==0&&this._markerNameToElements.delete(i));const l=this._elementToMarkerNames.get(e);l&&(l.delete(i),l.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,i]of this._deferredBindingRemovals)e.root==i&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new Xe(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Ht(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const i={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(e,i={}){const r={modelPosition:e,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",r),r.viewPosition}markerNameToElements(e){const i=this._markerNameToElements.get(e);if(!i)return null;const r=new Set;for(const l of i)if(l.is("attributeElement"))for(const u of l.getElementsWithSameId())r.add(u);else r.add(l);return r}registerViewToModelLength(e,i){this._viewToModelLengthCallbacks.set(e,i)}findMappedViewAncestor(e){let i=e.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(e,i,r){if(r!=e)return this._toModelOffset(e.parent,e.index,r)+this._toModelOffset(e,i,e);if(e.is("$text"))return i;let l=0;for(let u=0;u<i;u++)l+=this.getModelLength(e.getChild(u));return l}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let i=0;for(const r of e.getChildren())i+=this.getModelLength(r);return i}}findPositionIn(e,i){let r,l=0,u=0,C=0;if(e.is("$text"))return new gt(e,i);for(;u<i;)r=e.getChild(C),l=this.getModelLength(r),u+=l,C++;return u==i?this._moveViewPositionToTextNode(new gt(e,C)):this.findPositionIn(r,i-(u-l))}_moveViewPositionToTextNode(e){const i=e.nodeBefore,r=e.nodeAfter;return i instanceof Nn?new gt(i,i.data.length):r instanceof Nn?new gt(r,0):e}}class wz{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,i){i=gC(i),e instanceof Qr&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(i,!0)}consume(e,i){return i=gC(i),e instanceof Qr&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,i)&&(this._consumable.get(e).set(i,!1),!0)}test(e,i){i=gC(i),e instanceof Qr&&(e=this._getSymbolForTextProxy(e));const r=this._consumable.get(e);if(r===void 0)return null;const l=r.get(i);return l===void 0?null:l}revert(e,i){i=gC(i),e instanceof Qr&&(e=this._getSymbolForTextProxy(e));const r=this.test(e,i);return r===!1?(this._consumable.get(e).set(i,!0),!0):r!==!0&&null}verifyAllConsumed(e){const i=[];for(const[r,l]of this._consumable)for(const[u,C]of l){const f=u.split(":")[0];C&&e==f&&i.push({event:u,item:r.name||r.description})}if(i.length)throw new K("conversion-model-consumable-not-consumed",null,{items:i})}_getSymbolForTextProxy(e){let i=null;const r=this._textProxyRegistry.get(e.startOffset);if(r){const l=r.get(e.endOffset);l&&(i=l.get(e.parent))}return i||(i=this._addSymbolForTextProxy(e)),i}_addSymbolForTextProxy(e){const i=e.startOffset,r=e.endOffset,l=e.parent,u=Symbol("$textProxy:"+e.data);let C,f;return C=this._textProxyRegistry.get(i),C||(C=new Map,this._textProxyRegistry.set(i,C)),f=C.get(r),f||(f=new Map,C.set(r,f)),f.set(l,u),u}}function gC(a){const e=a.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?a:e.length>1?e[0]+":"+e[1]:e[0]}var xz=Object.defineProperty,Sz=Object.defineProperties,Bz=Object.getOwnPropertyDescriptors,vB=Object.getOwnPropertySymbols,Zz=Object.prototype.hasOwnProperty,Gz=Object.prototype.propertyIsEnumerable,wB=(a,e,i)=>e in a?xz(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,a0=(a,e)=>{for(var i in e||(e={}))Zz.call(e,i)&&wB(a,i,e[i]);if(vB)for(var i of vB(e))Gz.call(e,i)&&wB(a,i,e[i]);return a},xB=(a,e)=>Sz(a,Bz(e));class SB extends fe(){constructor(e){super(),this._conversionApi=a0({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,i,r){const l=this._createConversionApi(r,e.getRefreshedItems());for(const C of e.getMarkersToRemove())this._convertMarkerRemove(C.name,C.range,l);const u=this._reduceChanges(e.getChanges());for(const C of u)C.type==="insert"?this._convertInsert(Xe._createFromPositionAndShift(C.position,C.length),l):C.type==="reinsert"?this._convertReinsert(Xe._createFromPositionAndShift(C.position,C.length),l):C.type==="remove"?this._convertRemove(C.position,C.length,C.name,l):this._convertAttribute(C.range,C.attributeKey,C.attributeOldValue,C.attributeNewValue,l);l.mapper.flushDeferredBindings();for(const C of l.mapper.flushUnboundMarkerNames()){const f=i.get(C).getRange();this._convertMarkerRemove(C,f,l),this._convertMarkerAdd(C,f,l)}for(const C of e.getMarkersToAdd())this._convertMarkerAdd(C.name,C.range,l);l.consumable.verifyAllConsumed("insert")}convert(e,i,r,l={}){const u=this._createConversionApi(r,void 0,l);this._convertInsert(e,u);for(const[C,f]of i)this._convertMarkerAdd(C,f,u);u.consumable.verifyAllConsumed("insert")}convertSelection(e,i,r){const l=this._createConversionApi(r);this.fire("cleanSelection",{selection:e},l);const u=e.getFirstPosition().root;if(!l.mapper.toViewElement(u))return;const C=Array.from(i.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(l.consumable,e,C),this.fire("selection",{selection:e},l),e.isCollapsed){for(const f of C)if(l.consumable.test(e,"addMarker:"+f.name)){const w=f.getRange();if(!Rz(e.getFirstPosition(),f,l.mapper))continue;const S={item:e,markerName:f.name,markerRange:w};this.fire(`addMarker:${f.name}`,S,l)}for(const f of e.getAttributeKeys())if(l.consumable.test(e,"attribute:"+f)){const w={item:e,range:e.getFirstRange(),attributeKey:f,attributeOldValue:null,attributeNewValue:e.getAttribute(f)};this.fire(`attribute:${f}:$text`,w,l)}}}_convertInsert(e,i,r={}){r.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,e);for(const l of Array.from(e.getWalker({shallow:!0})).map(BB))this._testAndFire("insert",l,i)}_convertRemove(e,i,r,l){this.fire(`remove:${r}`,{position:e,length:i},l)}_convertAttribute(e,i,r,l,u){this._addConsumablesForRange(u.consumable,e,`attribute:${i}`);for(const C of e){const f={item:C.item,range:Xe._createFromPositionAndShift(C.previousPosition,C.length),attributeKey:i,attributeOldValue:r,attributeNewValue:l};this._testAndFire(`attribute:${i}`,f,u)}}_convertReinsert(e,i){const r=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,r);for(const l of r.map(BB))this._testAndFire("insert",xB(a0({},l),{reconversion:!0}),i)}_convertMarkerAdd(e,i,r){if(i.root.rootName=="$graveyard")return;const l=`addMarker:${e}`;if(r.consumable.add(i,l),this.fire(l,{markerName:e,markerRange:i},r),r.consumable.consume(i,l)){this._addConsumablesForRange(r.consumable,i,l);for(const u of i.getItems()){if(!r.consumable.test(u,l))continue;const C={item:u,range:Xe._createOn(u),markerName:e,markerRange:i};this.fire(l,C,r)}}}_convertMarkerRemove(e,i,r){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:i},r)}_reduceChanges(e){const i={changes:e};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(e,i){for(const r of i){const l=r.item;if(e.test(l,"insert")===null){e.add(l,"insert");for(const u of l.getAttributeKeys())e.add(l,"attribute:"+u)}}return e}_addConsumablesForRange(e,i,r){for(const l of i.getItems())e.add(l,r);return e}_addConsumablesForSelection(e,i,r){e.add(i,"selection");for(const l of r)e.add(i,"addMarker:"+l.name);for(const l of i.getAttributeKeys())e.add(i,"attribute:"+l);return e}_testAndFire(e,i,r){const l=function(w,S){const R=S.item.is("element")?S.item.name:"$text";return`${w}:${R}`}(e,i),u=i.item.is("$textProxy")?r.consumable._getSymbolForTextProxy(i.item):i.item,C=this._firedEventsMap.get(r),f=C.get(u);if(f){if(f.has(l))return;f.add(l)}else C.set(u,new Set([l]));this.fire(l,i,r)}_testAndFireAddAttributes(e,i){const r={item:e,range:Xe._createOn(e)};for(const l of r.item.getAttributeKeys())r.attributeKey=l,r.attributeOldValue=null,r.attributeNewValue=r.item.getAttribute(l),this._testAndFire(`attribute:${l}`,r,i)}_createConversionApi(e,i=new Set,r={}){const l=xB(a0({},this._conversionApi),{consumable:new wz,writer:e,options:r,convertItem:u=>this._convertInsert(Xe._createOn(u),l),convertChildren:u=>this._convertInsert(Xe._createIn(u),l,{doNotAddConsumables:!0}),convertAttributes:u=>this._testAndFireAddAttributes(u,l),canReuseView:u=>!i.has(l.mapper.toModelElement(u))});return this._firedEventsMap.set(l,new Map),l}}function Rz(a,e,i){const r=e.getRange(),l=Array.from(a.getAncestors());return l.shift(),l.reverse(),!l.some(u=>{if(r.containsItem(u))return!!i.toViewElement(u).getCustomProperty("addHighlight")})}function BB(a){return{item:a.item,range:Xe._createFromPositionAndShift(a.previousPosition,a.length)}}class jo extends fe(La){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let r=!1;for(const l of e._ranges)if(i.isEqual(l)){r=!0;break}if(!r)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new Xe(e.start,e.end)}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?new Xe(e.start,e.end):null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?new Xe(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[i,r,l]=e;if(typeof r=="object"&&(l=r,r=void 0),i===null)this._setRanges([]);else if(i instanceof jo)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof Xe)this._setRanges([i],!!l&&!!l.backward);else if(i instanceof Ue)this._setRanges([new Xe(i)]);else if(i instanceof Kl){const u=!!l&&!!l.backward;let C;if(r=="in")C=Xe._createIn(i);else if(r=="on")C=Xe._createOn(i);else{if(r===void 0)throw new K("model-selection-setto-required-second-parameter",[this,i]);C=new Xe(Ue._createAt(i,r))}this._setRanges([C],u)}else{if(!Fe(i))throw new K("model-selection-setto-not-selectable",[this,i]);this._setRanges(i,l&&!!l.backward)}}_setRanges(e,i=!1){const r=Array.from(e),l=r.some(u=>{if(!(u instanceof Xe))throw new K("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(C=>!C.isEqual(u))});(r.length!==this._ranges.length||l)&&(this._replaceAllRanges(r),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(e,i){if(this.anchor===null)throw new K("model-selection-setfocus-no-ranges",[this,e]);const r=Ue._createAt(e,i);if(r.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.length&&this._popRange(),r.compareWith(l)=="before"?(this._pushRange(new Xe(r,l)),this._lastRangeBackward=!0):(this._pushRange(new Xe(l,r)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,i){this.getAttribute(e)!==i&&(this._attrs.set(e,i),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const i of this.getRanges()){const r=GB(i.start,e);Wz(r,i)&&(yield r);for(const u of i.getWalker()){const C=u.item;u.type=="elementEnd"&&Vz(C,e,i)&&(yield C)}const l=GB(i.end,e);_z(l,i)&&(yield l)}}containsEntireContent(e=this.anchor.root){const i=Ue._createAt(e,0),r=Ue._createAt(e,"end");return i.isTouching(this.getFirstPosition())&&r.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new Xe(e.start,e.end))}_checkRange(e){for(let i=0;i<this._ranges.length;i++)if(e.isIntersecting(this._ranges[i]))throw new K("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[i]})}_replaceAllRanges(e){this._removeAllRanges();for(const i of e)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function ZB(a,e){return!e.has(a)&&(e.add(a),a.root.document.model.schema.isBlock(a)&&!!a.parent)}function Vz(a,e,i){return ZB(a,e)&&l0(a,i)}function GB(a,e){const i=a.parent.root.document.model.schema,r=a.parent.getAncestors({parentFirst:!0,includeSelf:!0});let l=!1;const u=r.find(C=>!l&&(l=i.isLimit(C),!l&&ZB(C,e)));return r.forEach(C=>e.add(C)),u}function l0(a,e){const i=function(r){const l=r.root.document.model.schema;let u=r.parent;for(;u;){if(l.isBlock(u))return u;u=u.parent}}(a);return i?!e.containsRange(Xe._createOn(i),!0):!0}function Wz(a,e){return!!a&&(!(!e.isCollapsed&&!a.isEmpty)||!e.start.isTouching(Ue._createAt(a,a.maxOffset))&&l0(a,e))}function _z(a,e){return!!a&&(!(!e.isCollapsed&&!a.isEmpty)||!e.end.isTouching(Ue._createAt(a,0))&&l0(a,e))}jo.prototype.is=function(a){return a==="selection"||a==="model:selection"};class Oo extends fe(Xe){constructor(e,i){super(e,i),Nz.call(this)}detach(){this.stopListening()}toRange(){return new Xe(this.start,this.end)}static fromRange(e){return new Oo(e.start,e.end)}}function Nz(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const i=e[0];i.isDocumentOperation&&Ez.call(this,i)},{priority:"low"})}function Ez(a){const e=this.getTransformedByOperation(a),i=Xe._createFromRanges(e),r=!i.isEqual(this),l=function(C,f){switch(f.type){case"insert":return C.containsPosition(f.position);case"move":case"remove":case"reinsert":case"merge":return C.containsPosition(f.sourcePosition)||C.start.isEqual(f.sourcePosition)||C.containsPosition(f.targetPosition);case"split":return C.containsPosition(f.splitPosition)||C.containsPosition(f.insertionPosition)}return!1}(this,a);let u=null;if(r){i.root.rootName=="$graveyard"&&(u=a.type=="remove"?a.sourcePosition:a.deletionPosition);const C=this.toRange();this.start=i.start,this.end=i.end,this.fire("change:range",C,{deletionPosition:u})}else l&&this.fire("change:content",this.toRange(),{deletionPosition:u})}Oo.prototype.is=function(a){return a==="liveRange"||a==="model:liveRange"||a=="range"||a==="model:range"};const dC="selection:";class qr extends fe(La){constructor(e){super(),this._selection=new Xz(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,i){this._selection.setFocus(e,i)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,i){this._selection.setAttribute(e,i)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return dC+e}static _isStoreAttributeKey(e){return e.startsWith(dC)}}qr.prototype.is=function(a){return a==="selection"||a=="model:selection"||a=="documentSelection"||a=="model:documentSelection"};class Xz extends jo{constructor(e){super(),this.markers=new Kr({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(i,r)=>{const l=r[0];l.isDocumentOperation&&l.type!="marker"&&l.type!="rename"&&l.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,r,l,u)=>{this._updateMarker(r,u)}),this.listenTo(this._document,"change",(i,r)=>{(function(l,u){const C=l.document.differ;for(const f of C.getChanges()){if(f.type!="insert")continue;const w=f.position.parent;f.length===w.maxOffset&&l.enqueueChange(u,S=>{const R=Array.from(w.getAttributeKeys()).filter(X=>X.startsWith(dC));for(const X of R)S.removeAttribute(X,w)})}})(this._model,r)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,i){super.setFocus(e,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,i){if(this._setAttribute(e,i)){const r=[e];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const e=j();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new K("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const i=this._prepareRange(e);i&&this._ranges.push(i)}_validateSelectionRanges(e){for(const i of e)if(!this._document._validateSelectionRange(i))throw new K("document-selection-wrong-position",this,{range:i})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const i=Oo.fromRange(e);return i.on("change:range",(r,l,u)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=u.deletionPosition;const C=this._ranges.indexOf(i);this._ranges.splice(C,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let i=!1;for(const l of this._model.markers){const u=l.name.split(":",1)[0];if(!this._observedMarkers.has(u))continue;const C=l.getRange();for(const f of this.getRanges())C.containsRange(f,!f.isCollapsed)&&e.push(l)}const r=Array.from(this.markers);for(const l of e)this.markers.has(l)||(this.markers.add(l),i=!0);for(const l of Array.from(this.markers))e.includes(l)||(this.markers.remove(l),i=!0);i&&this.fire("change:marker",{oldMarkers:r,directChange:!1})}_updateMarker(e,i){const r=e.name.split(":",1)[0];if(!this._observedMarkers.has(r))return;let l=!1;const u=Array.from(this.markers),C=this.markers.has(e);if(i){let f=!1;for(const w of this.getRanges())if(i.containsRange(w,!w.isCollapsed)){f=!0;break}f&&!C?(this.markers.add(e),l=!0):!f&&C&&(this.markers.remove(e),l=!0)}else C&&(this.markers.remove(e),l=!0);l&&this.fire("change:marker",{oldMarkers:u,directChange:!1})}_updateAttributes(e){const i=ks(this._getSurroundingAttributes()),r=ks(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[u,C]of this._attributePriority)C=="low"&&(this._attrs.delete(u),this._attributePriority.delete(u));this._setAttributesTo(i);const l=[];for(const[u,C]of this.getAttributes())r.has(u)&&r.get(u)===C||l.push(u);for(const[u]of r)this.hasAttribute(u)||l.push(u);l.length>0&&this.fire("change:attribute",{attributeKeys:l,directChange:!1})}_setAttribute(e,i,r=!0){const l=r?"normal":"low";return l=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==i&&(this._attrs.set(e,i),this._attributePriority.set(e,l),!0)}_removeAttribute(e,i=!0){const r=i?"normal":"low";return(r!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,r),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const i=new Set;for(const[r,l]of this.getAttributes())e.get(r)!==l&&this._removeAttribute(r,!1);for(const[r,l]of e)this._setAttribute(r,l,!1)&&i.add(r);return i}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const i of e.getAttributeKeys())i.startsWith(dC)&&(yield[i.substr(10),e.getAttribute(i)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),i=this._model.schema;if(e.root.rootName=="$graveyard")return null;let r=null;if(this.isCollapsed){const l=e.textNode?e.textNode:e.nodeBefore,u=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(r=du(l,i)),r||(r=du(u,i)),!this.isGravityOverridden&&!r){let C=l;for(;C&&!r;)C=C.previousSibling,r=du(C,i)}if(!r){let C=u;for(;C&&!r;)C=C.nextSibling,r=du(C,i)}r||(r=this.getStoredAttributes())}else{const l=this.getFirstRange();for(const u of l){if(u.item.is("element")&&i.isObject(u.item)){r=du(u.item,i);break}if(u.type=="text"){r=u.item.getAttributes();break}}}return r}_fixGraveyardSelection(e){const i=this._model.schema.getNearestSelectionRange(e);i&&this._pushRange(i)}}function du(a,e){if(!a)return null;if(a instanceof Qr||a instanceof En)return a.getAttributes();if(!e.isInline(a))return null;if(!e.isObject(a))return[];const i=[];for(const[r,l]of a.getAttributes())e.checkAttribute("$text",r)&&e.getAttributeProperties(r).copyFromObject!==!1&&i.push([r,l]);return i}class RB{constructor(e){this._dispatchers=e}add(e){for(const i of this._dispatchers)e(i);return this}}class Yz extends RB{elementToElement(e){return this.add(function(i){const r=_B(i.model),l=uu(i.view,"container");return r.attributes.length&&(r.children=!0),u=>{u.on(`insert:${r.name}`,Hz(l,YB(r)),{priority:i.converterPriority||"normal"}),(r.children||r.attributes.length)&&u.on("reduceChanges",XB(r),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(i){const r=_B(i.model),l=uu(i.view,"container");return r.children=!0,u=>{if(u._conversionApi.schema.checkChild(r.name,"$text"))throw new K("conversion-element-to-structure-disallowed-text",u,{elementName:r.name});var C,f;u.on(`insert:${r.name}`,(C=l,f=YB(r),(w,S,R)=>{if(!f(S.item,R.consumable,{preflight:!0}))return;const X=new Map;R.writer._registerSlotFactory(function(te,ae,he){return(Ie,we)=>{const We=Ie.createContainerElement("$slot");let ze=null;if(we==="children")ze=Array.from(te.getChildren());else{if(typeof we!="function")throw new K("conversion-slot-mode-unknown",he.dispatcher,{modeOrFilter:we});ze=Array.from(te.getChildren()).filter(ut=>we(ut))}return ae.set(We,ze),We}}(S.item,X,R));const J=C(S.item,R,S);if(R.writer._clearSlotFactory(),!J)return;(function(te,ae,he){const Ie=Array.from(ae.values()).flat(),we=new Set(Ie);if(we.size!=Ie.length)throw new K("conversion-slot-filter-overlap",he.dispatcher,{element:te});if(we.size!=te.childCount)throw new K("conversion-slot-filter-incomplete",he.dispatcher,{element:te})})(S.item,X,R),f(S.item,R.consumable);const U=R.mapper.toViewPosition(S.range.start);R.mapper.bindElements(S.item,J),R.writer.insert(U,J),R.convertAttributes(S.item),function(te,ae,he,Ie){he.mapper.on("modelToViewPosition",ze,{priority:"highest"});let we=null,We=null;for([we,We]of ae)DB(te,We,he,Ie),he.writer.move(he.writer.createRangeIn(we),he.writer.createPositionBefore(we)),he.writer.remove(we);function ze(ut,Nt){const zt=Nt.modelPosition.nodeAfter,Jn=We.indexOf(zt);Jn<0||(Nt.viewPosition=Nt.mapper.findPositionIn(we,Jn))}he.mapper.off("modelToViewPosition",ze)}(J,X,R,{reconversion:S.reconversion})}),{priority:i.converterPriority||"normal"}),u.on("reduceChanges",XB(r),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(i){i=Ur(i);let r=i.model;typeof r=="string"&&(r={key:r});let l=`attribute:${r.key}`;if(r.name&&(l+=":"+r.name),r.values)for(const C of r.values)i.view[C]=uu(i.view[C],"attribute");else i.view=uu(i.view,"attribute");const u=NB(i);return C=>{C.on(l,Dz(u),{priority:i.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=Ur(i);let r=i.model;typeof r=="string"&&(r={key:r});let l=`attribute:${r.key}`;if(r.name&&(l+=":"+r.name),r.values)for(const C of r.values)i.view[C]=EB(i.view[C]);else i.view=EB(i.view);const u=NB(i);return C=>{var f;C.on(l,(f=u,(w,S,R)=>{if(!R.consumable.test(S.item,w.name))return;const X=f(S.attributeOldValue,R,S),J=f(S.attributeNewValue,R,S);if(!X&&!J)return;R.consumable.consume(S.item,w.name);const U=R.mapper.toViewElement(S.item),te=R.writer;if(!U)throw new K("conversion-attribute-to-attribute-on-text",R.dispatcher,S);if(S.attributeOldValue!==null&&X)if(X.key=="class"){const ae=typeof X.value=="string"?X.value.split(/\s+/):X.value;for(const he of ae)te.removeClass(he,U)}else if(X.key=="style")if(typeof X.value=="string"){const ae=new zA(te.document.stylesProcessor);ae.setTo(X.value);for(const[he]of ae.getStylesEntries())te.removeStyle(he,U)}else{const ae=Object.keys(X.value);for(const he of ae)te.removeStyle(he,U)}else te.removeAttribute(X.key,U);if(S.attributeNewValue!==null&&J)if(J.key=="class"){const ae=typeof J.value=="string"?J.value.split(/\s+/):J.value;for(const he of ae)te.addClass(he,U)}else if(J.key=="style")if(typeof J.value=="string"){const ae=new zA(te.document.stylesProcessor);ae.setTo(J.value);for(const[he,Ie]of ae.getStylesEntries())te.setStyle(he,Ie,U)}else{const ae=Object.keys(J.value);for(const he of ae)te.setStyle(he,J.value[he],U)}else te.setAttribute(J.key,J.value,U)}),{priority:i.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(i){const r=uu(i.view,"ui");return l=>{l.on(`addMarker:${i.model}`,Fz(r),{priority:i.converterPriority||"normal"}),l.on(`removeMarker:${i.model}`,(u,C,f)=>{const w=f.mapper.markerNameToElements(C.markerName);if(w){for(const S of w)f.mapper.unbindElementFromMarkerName(S,C.markerName),f.writer.clear(f.writer.createRangeOn(S),S);f.writer.clearClonedElementsGroup(C.markerName),u.stop()}},{priority:i.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(i){return r=>{var l;r.on(`addMarker:${i.model}`,(l=i.view,(u,C,f)=>{if(!C.item||!(C.item instanceof jo||C.item instanceof qr||C.item.is("$textProxy")))return;const w=c0(l,C,f);if(!w||!f.consumable.consume(C.item,u.name))return;const S=f.writer,R=VB(S,w),X=S.document.selection;if(C.item instanceof jo||C.item instanceof qr)S.wrap(X.getFirstRange(),R);else{const J=f.mapper.toViewRange(C.range),U=S.wrap(J,R);for(const te of U.getItems())if(te.is("attributeElement")&&te.isSimilar(R)){f.mapper.bindElementToMarker(te,C.markerName);break}}}),{priority:i.converterPriority||"normal"}),r.on(`addMarker:${i.model}`,function(u){return(C,f,w)=>{if(!f.item||!(f.item instanceof Zn))return;const S=c0(u,f,w);if(!S||!w.consumable.test(f.item,C.name))return;const R=w.mapper.toViewElement(f.item);if(R&&R.getCustomProperty("addHighlight")){w.consumable.consume(f.item,C.name);for(const X of Xe._createIn(f.item))w.consumable.consume(X.item,C.name);R.getCustomProperty("addHighlight")(R,S,w.writer),w.mapper.bindElementToMarker(R,f.markerName)}}}(i.view),{priority:i.converterPriority||"normal"}),r.on(`removeMarker:${i.model}`,function(u){return(C,f,w)=>{if(f.markerRange.isCollapsed)return;const S=c0(u,f,w);if(!S)return;const R=VB(w.writer,S),X=w.mapper.markerNameToElements(f.markerName);if(X){for(const J of X)w.mapper.unbindElementFromMarkerName(J,f.markerName),J.is("attributeElement")?w.writer.unwrap(w.writer.createRangeOn(J),R):J.getCustomProperty("removeHighlight")(J,S.id,w.writer);w.writer.clearClonedElementsGroup(f.markerName),C.stop()}}}(i.view),{priority:i.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(i){i=Ur(i);const r=i.model;let l=i.view;return l||(l=u=>({group:r,name:u.substr(i.model.length+1)})),u=>{var C;u.on(`addMarker:${r}`,(C=l,(f,w,S)=>{const R=C(w.markerName,S);if(!R)return;const X=w.markerRange;S.consumable.consume(X,f.name)&&(WB(X,!1,S,w,R),WB(X,!0,S,w,R),f.stop())}),{priority:i.converterPriority||"normal"}),u.on(`removeMarker:${r}`,function(f){return(w,S,R)=>{const X=f(S.markerName,R);if(!X)return;const J=R.mapper.markerNameToElements(S.markerName);if(J){for(const te of J)R.mapper.unbindElementFromMarkerName(te,S.markerName),te.is("containerElement")?(U(`data-${X.group}-start-before`,te),U(`data-${X.group}-start-after`,te),U(`data-${X.group}-end-before`,te),U(`data-${X.group}-end-after`,te)):R.writer.clear(R.writer.createRangeOn(te),te);R.writer.clearClonedElementsGroup(S.markerName),w.stop()}function U(te,ae){if(ae.hasAttribute(te)){const he=new Set(ae.getAttribute(te).split(","));he.delete(X.name),he.size==0?R.writer.removeAttribute(te,ae):R.writer.setAttribute(te,Array.from(he).join(","),ae)}}}}(l),{priority:i.converterPriority||"normal"})}}(e))}}function VB(a,e){const i=a.createAttributeElement("span",e.attributes);return e.classes&&i._addClass(e.classes),typeof e.priority=="number"&&(i._priority=e.priority),i._id=e.id,i}function Dz(a){return(e,i,r)=>{if(!r.consumable.test(i.item,e.name))return;const l=a(i.attributeOldValue,r,i),u=a(i.attributeNewValue,r,i);if(!l&&!u)return;r.consumable.consume(i.item,e.name);const C=r.writer,f=C.document.selection;if(i.item instanceof jo||i.item instanceof qr)C.wrap(f.getFirstRange(),u);else{let w=r.mapper.toViewRange(i.range);i.attributeOldValue!==null&&l&&(w=C.unwrap(w,l)),i.attributeNewValue!==null&&u&&C.wrap(w,u)}}}function Hz(a,e=Tz){return(i,r,l)=>{if(!e(r.item,l.consumable,{preflight:!0}))return;const u=a(r.item,l,r);if(!u)return;e(r.item,l.consumable);const C=l.mapper.toViewPosition(r.range.start);l.mapper.bindElements(r.item,u),l.writer.insert(C,u),l.convertAttributes(r.item),DB(u,r.item.getChildren(),l,{reconversion:r.reconversion})}}function Fz(a){return(e,i,r)=>{i.isOpening=!0;const l=a(i,r);i.isOpening=!1;const u=a(i,r);if(!l||!u)return;const C=i.markerRange;if(C.isCollapsed&&!r.consumable.consume(C,e.name))return;for(const S of C)if(!r.consumable.consume(S.item,e.name))return;const f=r.mapper,w=r.writer;w.insert(f.toViewPosition(C.start),l),r.mapper.bindElementToMarker(l,i.markerName),C.isCollapsed||(w.insert(f.toViewPosition(C.end),u),r.mapper.bindElementToMarker(u,i.markerName)),e.stop()}}function WB(a,e,i,r,l){const u=e?a.start:a.end,C=u.nodeAfter&&u.nodeAfter.is("element")?u.nodeAfter:null,f=u.nodeBefore&&u.nodeBefore.is("element")?u.nodeBefore:null;if(C||f){let w,S;e&&C||!e&&!f?(w=C,S=!0):(w=f,S=!1);const R=i.mapper.toViewElement(w);if(R)return void function(X,J,U,te,ae,he){const Ie=`data-${he.group}-${J?"start":"end"}-${U?"before":"after"}`,we=X.hasAttribute(Ie)?X.getAttribute(Ie).split(","):[];we.unshift(he.name),te.writer.setAttribute(Ie,we.join(","),X),te.mapper.bindElementToMarker(X,ae.markerName)}(R,e,S,i,r,l)}(function(w,S,R,X,J){const U=`${J.group}-${S?"start":"end"}`,te=J.name?{name:J.name}:null,ae=R.writer.createUIElement(U,te);R.writer.insert(w,ae),R.mapper.bindElementToMarker(ae,X.markerName)})(i.mapper.toViewPosition(u),e,i,r,l)}function _B(a){return typeof a=="string"&&(a={name:a}),{name:a.name,attributes:a.attributes?Tn(a.attributes):[],children:!!a.children}}function uu(a,e){return typeof a=="function"?a:(i,r)=>function(l,u,C){typeof l=="string"&&(l={name:l});let f;const w=u.writer,S=Object.assign({},l.attributes);if(C=="container")f=w.createContainerElement(l.name,S);else if(C=="attribute"){const R={priority:l.priority||Ll.DEFAULT_PRIORITY};f=w.createAttributeElement(l.name,S,R)}else f=w.createUIElement(l.name,S);if(l.styles){const R=Object.keys(l.styles);for(const X of R)w.setStyle(X,l.styles[X],f)}if(l.classes){const R=l.classes;if(typeof R=="string")w.addClass(R,f);else for(const X of R)w.addClass(X,f)}return f}(a,r,e)}function NB(a){return a.model.values?(e,i,r)=>{const l=a.view[e];return l?l(e,i,r):null}:a.view}function EB(a){return typeof a=="string"?e=>({key:a,value:e}):typeof a=="object"?a.value?()=>a:e=>({key:a.key,value:e}):a}function c0(a,e,i){const r=typeof a=="function"?a(e,i):a;return r?(r.priority||(r.priority=10),r.id||(r.id=e.markerName),r):null}function XB(a){const e=function(i){return(r,l)=>{if(!r.is("element",i.name))return!1;if(l.type=="attribute"){if(i.attributes.includes(l.attributeKey))return!0}else if(i.children)return!0;return!1}}(a);return(i,r)=>{const l=[];r.reconvertedElements||(r.reconvertedElements=new Set);for(const u of r.changes){const C=u.type=="attribute"?u.range.start.nodeAfter:u.position.parent;if(C&&e(C,u)){if(!r.reconvertedElements.has(C)){r.reconvertedElements.add(C);const f=Ue._createBefore(C);let w=l.length;for(let S=l.length-1;S>=0;S--){const R=l[S],X=(R.type=="attribute"?R.range.start:R.position).compareWith(f);if(X=="before"||R.type=="remove"&&X=="same")break;w=S}l.splice(w,0,{type:"remove",name:C.name,position:f,length:1},{type:"reinsert",name:C.name,position:f,length:1})}}else l.push(u)}r.changes=l}}function YB(a){return(e,i,r={})=>{const l=["insert"];for(const u of a.attributes)e.hasAttribute(u)&&l.push(`attribute:${u}`);return!!l.every(u=>i.test(e,u))&&(r.preflight||l.forEach(u=>i.consume(e,u)),!0)}}function DB(a,e,i,r){for(const l of e)Mz(a.root,l,i,r)||i.convertItem(l)}function Mz(a,e,i,r){const{writer:l,mapper:u}=i;if(!r.reconversion)return!1;const C=u.toViewElement(e);return!(!C||C.root==a)&&!!i.canReuseView(C)&&(l.move(l.createRangeOn(C),u.toViewPosition(Ue._createBefore(e))),!0)}function Tz(a,e,{preflight:i}={}){return i?e.test(a,"insert"):e.consume(a,"insert")}function HB(a){const{schema:e,document:i}=a.model;for(const r of i.getRoots())if(r.isEmpty&&!e.checkChild(r,"$text")&&e.checkChild(r,"paragraph"))return a.insertElement("paragraph",r),!0;return!1}function FB(a,e,i){const r=i.createContext(a);return!!i.checkChild(r,"paragraph")&&!!i.checkChild(r.push("paragraph"),e)}function MB(a,e){const i=e.createElement("paragraph");return e.insert(i,a),e.createPositionAt(i,0)}var Jz=Object.defineProperty,Lz=Object.defineProperties,zz=Object.getOwnPropertyDescriptors,TB=Object.getOwnPropertySymbols,Kz=Object.prototype.hasOwnProperty,Pz=Object.prototype.propertyIsEnumerable,JB=(a,e,i)=>e in a?Jz(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;class jz extends RB{elementToElement(e){return this.add(LB(e))}elementToAttribute(e){return this.add(function(i){i=Ur(i),zB(i);const r=KB(i,!1),l=g0(i.view),u=l?`element:${l}`:"element";return C=>{C.on(u,r,{priority:i.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=Ur(i);let r=null;(typeof i.view=="string"||i.view.key)&&(r=function(u){typeof u.view=="string"&&(u.view={key:u.view});const C=u.view.key,f=u.view.value===void 0?/[\s\S]*/:u.view.value;let w;return C=="class"||C=="style"?w={[C=="class"?"classes":"styles"]:f}:w={attributes:{[C]:f}},u.view.name&&(w.name=u.view.name),u.view=w,C}(i)),zB(i,r);const l=KB(i,!0);return u=>{u.on("element",l,{priority:i.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(i){const r=function(C){return(f,w)=>{const S=typeof C=="string"?C:C(f,w);return w.writer.createElement("$marker",{"data-name":S})}}(i.model);return LB((l=((C,f)=>{for(var w in f||(f={}))Kz.call(f,w)&&JB(C,w,f[w]);if(TB)for(var w of TB(f))Pz.call(f,w)&&JB(C,w,f[w]);return C})({},i),u={model:r},Lz(l,zz(u))));var l,u}(e))}dataToMarker(e){return this.add(function(i){i=Ur(i),i.model||(i.model=C=>C?i.view+":"+C:i.view);const r={view:i.view,model:i.model},l=d0(PB(r,"start")),u=d0(PB(r,"end"));return C=>{C.on(`element:${i.view}-start`,l,{priority:i.converterPriority||"normal"}),C.on(`element:${i.view}-end`,u,{priority:i.converterPriority||"normal"});const f=ie.low,w=ie.highest,S=ie.get(i.converterPriority)/w;C.on("element",function(R){return(X,J,U)=>{const te=`data-${R.view}`;function ae(he,Ie){for(const we of Ie){const We=R.model(we,U),ze=U.writer.createElement("$marker",{"data-name":We});U.writer.insert(ze,he),J.modelCursor.isEqual(he)?J.modelCursor=J.modelCursor.getShiftedBy(1):J.modelCursor=J.modelCursor._getTransformedByInsertion(he,1),J.modelRange=J.modelRange._getTransformedByInsertion(he,1)[0]}}(U.consumable.test(J.viewItem,{attributes:te+"-end-after"})||U.consumable.test(J.viewItem,{attributes:te+"-start-after"})||U.consumable.test(J.viewItem,{attributes:te+"-end-before"})||U.consumable.test(J.viewItem,{attributes:te+"-start-before"}))&&(J.modelRange||Object.assign(J,U.convertChildren(J.viewItem,J.modelCursor)),U.consumable.consume(J.viewItem,{attributes:te+"-end-after"})&&ae(J.modelRange.end,J.viewItem.getAttribute(te+"-end-after").split(",")),U.consumable.consume(J.viewItem,{attributes:te+"-start-after"})&&ae(J.modelRange.end,J.viewItem.getAttribute(te+"-start-after").split(",")),U.consumable.consume(J.viewItem,{attributes:te+"-end-before"})&&ae(J.modelRange.start,J.viewItem.getAttribute(te+"-end-before").split(",")),U.consumable.consume(J.viewItem,{attributes:te+"-start-before"})&&ae(J.modelRange.start,J.viewItem.getAttribute(te+"-start-before").split(",")))}}(r),{priority:f+S})}}(e))}}function LB(a){const e=d0(a=Ur(a)),i=g0(a.view),r=i?`element:${i}`:"element";return l=>{l.on(r,e,{priority:a.converterPriority||"normal"})}}function g0(a){return typeof a=="string"?a:typeof a=="object"&&typeof a.name=="string"?a.name:null}function d0(a){const e=new ws(a.view);return(i,r,l)=>{const u=e.match(r.viewItem);if(!u)return;const C=u.match;if(C.name=!0,!l.consumable.test(r.viewItem,C))return;const f=function(w,S,R){return w instanceof Function?w(S,R):R.writer.createElement(w)}(a.model,r.viewItem,l);f&&l.safeInsert(f,r.modelCursor)&&(l.consumable.consume(r.viewItem,C),l.convertChildren(r.viewItem,f),l.updateConversionResult(f,r))}}function zB(a,e=null){const i=e===null||(u=>u.getAttribute(e)),r=typeof a.model!="object"?a.model:a.model.key,l=typeof a.model!="object"||a.model.value===void 0?i:a.model.value;a.model={key:r,value:l}}function KB(a,e){const i=new ws(a.view);return(r,l,u)=>{if(!l.modelRange&&e)return;const C=i.match(l.viewItem);if(!C||(function(R,X){const J=typeof R=="function"?R(X):R;return typeof J=="object"&&!g0(J)?!1:!J.classes&&!J.attributes&&!J.styles}(a.view,l.viewItem)?C.match.name=!0:delete C.match.name,!u.consumable.test(l.viewItem,C.match)))return;const f=a.model.key,w=typeof a.model.value=="function"?a.model.value(l.viewItem,u):a.model.value;if(w===null)return;l.modelRange||Object.assign(l,u.convertChildren(l.viewItem,l.modelCursor)),function(R,X,J,U){let te=!1;for(const ae of Array.from(R.getItems({shallow:J})))U.schema.checkAttribute(ae,X.key)&&(te=!0,ae.hasAttribute(X.key)||U.writer.setAttribute(X.key,X.value,ae));return te}(l.modelRange,{key:f,value:w},e,u)&&(u.consumable.test(l.viewItem,{name:!0})&&(C.match.name=!0),u.consumable.consume(l.viewItem,C.match))}}function PB(a,e){return{view:`${a.view}-${e}`,model:(i,r)=>{const l=i.getAttribute("name"),u=a.model(l,r);return r.writer.createElement("$marker",{"data-name":u})}}}function Oz(a){a.document.registerPostFixer(e=>function(i,r){const l=r.document.selection,u=r.schema,C=[];let f=!1;for(const w of l.getRanges()){const S=jB(w,u);S&&!S.isEqual(w)?(C.push(S),f=!0):C.push(w)}return f&&i.setSelection(function(w){const S=[...w],R=new Set;let X=1;for(;X<S.length;){const J=S[X],U=S.slice(0,X);for(const[te,ae]of U.entries())if(!R.has(te)){if(J.isEqual(ae))R.add(te);else if(J.isIntersecting(ae)){R.add(te),R.add(X);const he=J.getJoined(ae);S.push(he)}}X++}return S.filter((J,U)=>!R.has(U))}(C),{backward:l.isBackward}),!1}(e,a))}function jB(a,e){return a.isCollapsed?function(i,r){const l=i.start,u=r.getNearestSelectionRange(l);if(!u){const f=l.getAncestors().reverse().find(w=>r.isObject(w));return f?Xe._createOn(f):null}if(!u.isCollapsed)return u;const C=u.start;return l.isEqual(C)?null:new Xe(C)}(a,e):function(i,r){const{start:l,end:u}=i,C=r.checkChild(l,"$text"),f=r.checkChild(u,"$text"),w=r.getLimitElement(l),S=r.getLimitElement(u);if(w===S){if(C&&f)return null;if(function(J,U,te){const ae=J.nodeAfter&&!te.isLimit(J.nodeAfter)||te.checkChild(J,"$text"),he=U.nodeBefore&&!te.isLimit(U.nodeBefore)||te.checkChild(U,"$text");return ae||he}(l,u,r)){const J=l.nodeAfter&&r.isSelectable(l.nodeAfter)?null:r.getNearestSelectionRange(l,"forward"),U=u.nodeBefore&&r.isSelectable(u.nodeBefore)?null:r.getNearestSelectionRange(u,"backward"),te=J?J.start:l,ae=U?U.end:u;return new Xe(te,ae)}}const R=w&&!w.is("rootElement"),X=S&&!S.is("rootElement");if(R||X){const J=l.nodeAfter&&u.nodeBefore&&l.nodeAfter.parent===u.nodeBefore.parent,U=R&&(!J||!UB(l.nodeAfter,r)),te=X&&(!J||!UB(u.nodeBefore,r));let ae=l,he=u;return U&&(ae=Ue._createBefore(OB(w,r))),te&&(he=Ue._createAfter(OB(S,r))),new Xe(ae,he)}return null}(a,e)}function OB(a,e){let i=a,r=i;for(;e.isLimit(r)&&r.parent;)i=r,r=r.parent;return i}function UB(a,e){return a&&e.isSelectable(a)}class Uz extends rt(){constructor(e,i){super(),this.model=e,this.view=new vz(i),this.mapper=new kB,this.downcastDispatcher=new SB({mapper:this.mapper,schema:e.schema});const r=this.model.document,l=r.selection,u=this.model.markers;var C,f,w;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(r,"change",()=>{this.view.change(S=>{this.downcastDispatcher.convertChanges(r.differ,u,S),this.downcastDispatcher.convertSelection(l,u,S)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(S,R){return(X,J)=>{const U=J.newSelection,te=[];for(const he of U.getRanges())te.push(R.toModelRange(he));const ae=S.createSelection(te,{backward:U.isBackward});ae.isEqual(S.document.selection)||S.change(he=>{he.setSelection(ae)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(C=this.mapper,f=this.model.schema,w=this.view,(S,R)=>{if(!w.document.isComposing||_.isAndroid)for(let X=0;X<R.targetRanges.length;X++){const J=R.targetRanges[X],U=C.toModelRange(J),te=jB(U,f);te&&!te.isEqual(U)&&(R.targetRanges[X]=C.toViewRange(te))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(S,R,X)=>{if(!X.consumable.consume(R.item,S.name))return;const J=X.writer,U=X.mapper.toViewPosition(R.range.start),te=J.createText(R.item.data);J.insert(U,te)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(S,R,X)=>{X.convertAttributes(R.item),R.reconversion||!R.item.is("element")||R.item.isEmpty||X.convertChildren(R.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(S,R,X)=>{const J=X.mapper.toViewPosition(R.position),U=R.position.getShiftedBy(R.length),te=X.mapper.toViewPosition(U,{isPhantom:!0}),ae=X.writer.createRange(J,te),he=X.writer.remove(ae.getTrimmed());for(const Ie of X.writer.createRangeIn(he).getItems())X.mapper.unbindViewElement(Ie,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(S,R,X)=>{const J=X.writer,U=J.document.selection;for(const te of U.getRanges())te.isCollapsed&&te.end.parent.isAttached()&&X.writer.mergeAttributes(te.start);J.setSelection(null)}),this.downcastDispatcher.on("selection",(S,R,X)=>{const J=R.selection;if(J.isCollapsed||!X.consumable.consume(J,"selection"))return;const U=[];for(const te of J.getRanges())U.push(X.mapper.toViewRange(te));X.writer.setSelection(U,{backward:J.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(S,R,X)=>{const J=R.selection;if(!J.isCollapsed||!X.consumable.consume(J,"selection"))return;const U=X.writer,te=J.getFirstPosition(),ae=X.mapper.toViewPosition(te),he=U.breakAttributes(ae);U.setSelection(he)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(S=>{if(S.rootName=="$graveyard")return null;const R=new z2(this.view.document,S.name);return R.rootName=S.rootName,this.mapper.bindElements(S,R),R})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const i=typeof e=="string"?e:e.name,r=this.model.markers.get(i);if(!r)throw new K("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(r)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class hu{constructor(){this._consumables=new Map}add(e,i){let r;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?r=this._consumables.get(e):(r=new Qz(e),this._consumables.set(e,r)),r.add(i))}test(e,i){const r=this._consumables.get(e);return r===void 0?null:e.is("$text")||e.is("documentFragment")?r:r.test(i)}consume(e,i){return!!this.test(e,i)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(i),!0)}revert(e,i){const r=this._consumables.get(e);r!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):r.revert(i))}static consumablesFromElement(e){const i={element:e,name:!0,attributes:[],classes:[],styles:[]},r=e.getAttributeKeys();for(const C of r)C!="style"&&C!="class"&&i.attributes.push(C);const l=e.getClassNames();for(const C of l)i.classes.push(C);const u=e.getStyleNames();for(const C of u)i.styles.push(C);return i}static createFrom(e,i){if(i||(i=new hu),e.is("$text"))return i.add(e),i;e.is("element")&&i.add(e,hu.consumablesFromElement(e)),e.is("documentFragment")&&i.add(e);for(const r of e.getChildren())i=hu.createFrom(r,i);return i}}const uC=["attributes","classes","styles"];class Qz{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const i of uC)i in e&&this._add(i,e[i])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const i of uC)if(i in e){const r=this._test(i,e[i]);if(r!==!0)return r}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const i of uC)i in e&&this._consume(i,e[i])}revert(e){e.name&&(this._canConsumeName=!0);for(const i of uC)i in e&&this._revert(i,e[i])}_add(e,i){const r=Tn(i),l=this._consumables[e];for(const u of r){if(e==="attributes"&&(u==="class"||u==="style"))throw new K("viewconsumable-invalid-attribute",this);if(l.set(u,!0),e==="styles")for(const C of this.element.document.stylesProcessor.getRelatedStyles(u))l.set(C,!0)}}_test(e,i){const r=Tn(i),l=this._consumables[e];for(const u of r)if(e!=="attributes"||u!=="class"&&u!=="style"){const C=l.get(u);if(C===void 0)return null;if(!C)return!1}else{const C=u=="class"?"classes":"styles",f=this._test(C,[...this._consumables[C].keys()]);if(f!==!0)return f}return!0}_consume(e,i){const r=Tn(i),l=this._consumables[e];for(const u of r)if(e!=="attributes"||u!=="class"&&u!=="style"){if(l.set(u,!1),e=="styles")for(const C of this.element.document.stylesProcessor.getRelatedStyles(u))l.set(C,!1)}else{const C=u=="class"?"classes":"styles";this._consume(C,[...this._consumables[C].keys()])}}_revert(e,i){const r=Tn(i),l=this._consumables[e];for(const u of r)if(e!=="attributes"||u!=="class"&&u!=="style")l.get(u)===!1&&l.set(u,!0);else{const C=u=="class"?"classes":"styles";this._revert(C,[...this._consumables[C].keys()])}}}class qz extends rt(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,i)=>{i[0]=new jl(i[0])},{priority:"highest"}),this.on("checkChild",(e,i)=>{i[0]=new jl(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(e,i){if(this._sourceDefinitions[e])throw new K("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},i)],this._clearCache()}extend(e,i){if(!this._sourceDefinitions[e])throw new K("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let i;return i=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[i]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const i=this.getDefinition(e);return!(!i||!i.isBlock)}isLimit(e){const i=this.getDefinition(e);return!!i&&!(!i.isLimit&&!i.isObject)}isObject(e){const i=this.getDefinition(e);return!!i&&!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent)}isInline(e){const i=this.getDefinition(e);return!(!i||!i.isInline)}isSelectable(e){const i=this.getDefinition(e);return!!i&&!(!i.isSelectable&&!i.isObject)}isContent(e){const i=this.getDefinition(e);return!!i&&!(!i.isContent&&!i.isObject)}checkChild(e,i){return!!i&&this._checkContextMatch(i,e)}checkAttribute(e,i){const r=this.getDefinition(e.last);return!!r&&r.allowAttributes.includes(i)}checkMerge(e,i){if(e instanceof Ue){const r=e.nodeBefore,l=e.nodeAfter;if(!(r instanceof Zn))throw new K("schema-check-merge-no-element-before",this);if(!(l instanceof Zn))throw new K("schema-check-merge-no-element-after",this);return this.checkMerge(r,l)}for(const r of i.getChildren())if(!this.checkChild(e,r))return!1;return!0}addChildCheck(e){this.on("checkChild",(i,[r,l])=>{if(!l)return;const u=e(r,l);typeof u=="boolean"&&(i.stop(),i.return=u)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(i,[r,l])=>{const u=e(r,l);typeof u=="boolean"&&(i.stop(),i.return=u)},{priority:"high"})}setAttributeProperties(e,i){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),i)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let i;for(e instanceof Ue?i=e.parent:i=(e instanceof Xe?[e]:Array.from(e.getRanges())).reduce((r,l)=>{const u=l.getCommonAncestor();return r?r.getCommonAncestor(u,{includeSelf:!0}):u},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(e,i){if(e.isCollapsed){const r=[...e.getFirstPosition().getAncestors(),new En("",e.getAttributes())];return this.checkAttribute(r,i)}{const r=e.getRanges();for(const l of r)for(const u of l)if(this.checkAttribute(u.item,i))return!0}return!1}*getValidRanges(e,i){e=function*(r){for(const l of r)yield*l.getMinimalFlatRanges()}(e);for(const r of e)yield*this._getValidRangesForRange(r,i)}getNearestSelectionRange(e,i="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new Xe(e);let r,l;const u=e.getAncestors().reverse().find(C=>this.isLimit(C))||e.root;i!="both"&&i!="backward"||(r=new Qs({boundaries:Xe._createIn(u),startPosition:e,direction:"backward"})),i!="both"&&i!="forward"||(l=new Qs({boundaries:Xe._createIn(u),startPosition:e}));for(const C of function*(f,w){let S=!1;for(;!S;){if(S=!0,f){const R=f.next();R.done||(S=!1,yield{walker:f,value:R.value})}if(w){const R=w.next();R.done||(S=!1,yield{walker:w,value:R.value})}}}(r,l)){const f=C.walker==r?"elementEnd":"elementStart",w=C.value;if(w.type==f&&this.isObject(w.item))return Xe._createOn(w.item);if(this.checkChild(w.nextPosition,"$text"))return new Xe(w.nextPosition)}return null}findAllowedParent(e,i){let r=e.parent;for(;r;){if(this.checkChild(r,i))return r;if(this.isLimit(r))return null;r=r.parent}return null}setAllowedAttributes(e,i,r){const l=r.model;for(const[u,C]of Object.entries(i))l.schema.checkAttribute(e,u)&&r.setAttribute(u,C,e)}removeDisallowedAttributes(e,i){for(const r of e)if(r.is("$text"))QB(this,r,i);else{const l=Xe._createIn(r).getPositions();for(const u of l)QB(this,u.nodeBefore||u.parent,i)}}getAttributesWithProperty(e,i,r){const l={};for(const[u,C]of e.getAttributes()){const f=this.getAttributeProperties(u);f[i]!==void 0&&(r!==void 0&&r!==f[i]||(l[u]=C))}return l}createContext(e){return new jl(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},i=this._sourceDefinitions,r=Object.keys(i);for(const l of r)e[l]=$z(i[l],l);for(const l of r)eK(e,l);for(const l of r)tK(e,l);for(const l of r)nK(e,l);for(const l of r)iK(e,l),oK(e,l);for(const l of r)rK(e,l),sK(e,l),aK(e,l);this._compiledDefinitions=e}_checkContextMatch(e,i,r=i.length-1){const l=i.getItem(r);if(e.allowIn.includes(l.name)){if(r==0)return!0;{const u=this.getDefinition(l);return this._checkContextMatch(u,i,r-1)}}return!1}*_getValidRangesForRange(e,i){let r=e.start,l=e.start;for(const u of e.getItems({shallow:!0}))u.is("element")&&(yield*this._getValidRangesForRange(Xe._createIn(u),i)),this.checkAttribute(u,i)||(r.isEqual(l)||(yield new Xe(r,l)),r=Ue._createAfter(u)),l=Ue._createAfter(u);r.isEqual(l)||(yield new Xe(r,l))}findOptimalInsertionRange(e,i){const r=e.getSelectedElement();if(r&&this.isObject(r)&&!this.isInline(r))return i=="before"||i=="after"?new Xe(Ue._createAt(r,i)):Xe._createOn(r);const l=zi(e.getSelectedBlocks());if(!l)return new Xe(e.focus);if(l.isEmpty)return new Xe(Ue._createAt(l,0));const u=Ue._createAfter(l);return e.focus.isTouching(u)?new Xe(u):new Xe(Ue._createBefore(l))}}class jl{constructor(e){if(e instanceof jl)return e;let i;i=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=i.map(cK)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const i=new jl([e]);return i._items=[...this._items,...i._items],i}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function $z(a,e){const i={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(r,l){for(const u of r){const C=Object.keys(u).filter(f=>f.startsWith("is"));for(const f of C)l[f]=!!u[f]}}(a,i),Ol(a,i,"allowIn"),Ol(a,i,"allowContentOf"),Ol(a,i,"allowWhere"),Ol(a,i,"allowAttributes"),Ol(a,i,"allowAttributesOf"),Ol(a,i,"allowChildren"),Ol(a,i,"inheritTypesFrom"),function(r,l){for(const u of r){const C=u.inheritAllFrom;C&&(l.allowContentOf.push(C),l.allowWhere.push(C),l.allowAttributesOf.push(C),l.inheritTypesFrom.push(C))}}(a,i),i}function eK(a,e){const i=a[e];for(const r of i.allowChildren){const l=a[r];l&&l.allowIn.push(e)}i.allowChildren.length=0}function tK(a,e){for(const i of a[e].allowContentOf)a[i]&&lK(a,i).forEach(r=>{r.allowIn.push(e)});delete a[e].allowContentOf}function nK(a,e){for(const i of a[e].allowWhere){const r=a[i];if(r){const l=r.allowIn;a[e].allowIn.push(...l)}}delete a[e].allowWhere}function iK(a,e){for(const i of a[e].allowAttributesOf){const r=a[i];if(r){const l=r.allowAttributes;a[e].allowAttributes.push(...l)}}delete a[e].allowAttributesOf}function oK(a,e){const i=a[e];for(const r of i.inheritTypesFrom){const l=a[r];if(l){const u=Object.keys(l).filter(C=>C.startsWith("is"));for(const C of u)C in i||(i[C]=l[C])}}delete i.inheritTypesFrom}function rK(a,e){const i=a[e],r=i.allowIn.filter(l=>a[l]);i.allowIn=Array.from(new Set(r))}function sK(a,e){const i=a[e];for(const r of i.allowIn)a[r].allowChildren.push(e)}function aK(a,e){const i=a[e];i.allowAttributes=Array.from(new Set(i.allowAttributes))}function Ol(a,e,i){for(const r of a){const l=r[i];typeof l=="string"?e[i].push(l):Array.isArray(l)&&e[i].push(...l)}}function lK(a,e){const i=a[e];return(r=a,Object.keys(r).map(l=>r[l])).filter(l=>l.allowIn.includes(i.name));var r}function cK(a){return typeof a=="string"||a.is("documentFragment")?{name:typeof a=="string"?a:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:a.is("element")?a.name:"$text",*getAttributeKeys(){yield*a.getAttributeKeys()},getAttribute:e=>a.getAttribute(e)}}function QB(a,e,i){for(const r of e.getAttributeKeys())a.checkAttribute(e,r)||i.removeAttribute(r,e)}var gK=Object.defineProperty,dK=Object.defineProperties,uK=Object.getOwnPropertyDescriptors,qB=Object.getOwnPropertySymbols,hK=Object.prototype.hasOwnProperty,mK=Object.prototype.propertyIsEnumerable,$B=(a,e,i)=>e in a?gK(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;class CK extends fe(){constructor(e){var i;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(i=((r,l)=>{for(var u in l||(l={}))hK.call(l,u)&&$B(r,u,l[u]);if(qB)for(var u of qB(l))mK.call(l,u)&&$B(r,u,l[u]);return r})({},e),dK(i,uK({consumable:null,writer:null,store:null,convertItem:(r,l)=>this._convertItem(r,l),convertChildren:(r,l)=>this._convertChildren(r,l),safeInsert:(r,l)=>this._safeInsert(r,l),updateConversionResult:(r,l)=>this._updateConversionResult(r,l),splitToAllowedParent:(r,l)=>this._splitToAllowedParent(r,l),getSplitParts:r=>this._getSplitParts(r),keepEmptyElement:r=>this._keepEmptyElement(r)})))}convert(e,i,r=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(C,f){let w;for(const S of new jl(C)){const R={};for(const J of S.getAttributeKeys())R[J]=S.getAttribute(J);const X=f.createElement(S.name,R);w&&f.insert(X,w),w=Ue._createAt(X,0)}return w}(r,i),this.conversionApi.writer=i,this.conversionApi.consumable=hu.createFrom(e),this.conversionApi.store={};const{modelRange:l}=this._convertItem(e,this._modelCursor),u=i.createDocumentFragment();if(l){this._removeEmptyElements();for(const C of Array.from(this._modelCursor.parent.getChildren()))i.append(C,u);u.markers=function(C,f){const w=new Set,S=new Map,R=Xe._createIn(C).getItems();for(const X of R)X.is("element","$marker")&&w.add(X);for(const X of w){const J=X.getAttribute("data-name"),U=f.createPositionBefore(X);S.has(J)?S.get(J).end=U.clone():S.set(J,new Xe(U.clone())),f.remove(X)}return S}(u,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,u}_convertItem(e,i){const r={viewItem:e,modelCursor:i,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,r,this.conversionApi):e.is("$text")?this.fire("text",r,this.conversionApi):this.fire("documentFragment",r,this.conversionApi),r.modelRange&&!(r.modelRange instanceof Xe))throw new K("view-conversion-dispatcher-incorrect-result",this);return{modelRange:r.modelRange,modelCursor:r.modelCursor}}_convertChildren(e,i){let r=i.is("position")?i:Ue._createAt(i,0);const l=new Xe(r);for(const u of Array.from(e.getChildren())){const C=this._convertItem(u,r);C.modelRange instanceof Xe&&(l.end=C.modelRange.end,r=C.modelCursor)}return{modelRange:l,modelCursor:r}}_safeInsert(e,i){const r=this._splitToAllowedParent(e,i);return!!r&&(this.conversionApi.writer.insert(e,r.position),!0)}_updateConversionResult(e,i){const r=this._getSplitParts(e),l=this.conversionApi.writer;i.modelRange||(i.modelRange=l.createRange(l.createPositionBefore(e),l.createPositionAfter(r[r.length-1])));const u=this._cursorParents.get(e);i.modelCursor=u?l.createPositionAt(u,0):i.modelRange.end}_splitToAllowedParent(e,i){const{schema:r,writer:l}=this.conversionApi;let u=r.findAllowedParent(i,e);if(u){if(u===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(u)&&(u=null)}if(!u)return FB(i,e,r)?{position:MB(i,l)}:null;const C=this.conversionApi.writer.split(i,u),f=[];for(const S of C.range.getWalker())if(S.type=="elementEnd")f.push(S.item);else{const R=f.pop(),X=S.item;this._registerSplitPair(R,X)}const w=C.range.end.parent;return this._cursorParents.set(e,w),{position:C.position,cursorParent:w}}_registerSplitPair(e,i){this._splitParts.has(e)||this._splitParts.set(e,[e]);const r=this._splitParts.get(e);this._splitParts.set(i,r),r.push(i)}_getSplitParts(e){let i;return i=this._splitParts.has(e)?this._splitParts.get(e):[e],i}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const i of this._splitParts.keys())i.isEmpty&&!this._emptyElementsToKeep.has(i)&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),e=!0);e&&this._removeEmptyElements()}}class pK{getHtml(e){const i=v.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}}class IK{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new rC(e,{renderingMode:"data"}),this.htmlWriter=new pK}toData(e){const i=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(i)}toView(e){const i=this._toDom(e);return this.domConverter.domToView(i,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const i=this.domParser.parseFromString(e,"text/html"),r=i.createDocumentFragment(),l=i.body.childNodes;for(;l.length>0;)r.appendChild(l[0]);return r}}class fK extends fe(){constructor(e,i){super(),this.model=e,this.mapper=new kB,this.downcastDispatcher=new SB({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(r,l,u)=>{if(!u.consumable.consume(l.item,r.name))return;const C=u.writer,f=u.mapper.toViewPosition(l.range.start),w=C.createText(l.item.data);C.insert(f,w)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(r,l,u)=>{u.convertAttributes(l.item),l.reconversion||!l.item.is("element")||l.item.isEmpty||u.convertChildren(l.item)},{priority:"lowest"}),this.upcastDispatcher=new CK({schema:e.schema}),this.viewDocument=new nC(i),this.stylesProcessor=i,this.htmlProcessor=new IK(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new P2(this.viewDocument),this.upcastDispatcher.on("text",(r,l,{schema:u,consumable:C,writer:f})=>{let w=l.modelCursor;if(!C.test(l.viewItem))return;if(!u.checkChild(w,"$text")){if(!FB(w,"$text",u)||l.viewItem.data.trim().length==0)return;const R=w.nodeBefore;w=MB(w,f),R&&R.is("element","$marker")&&(f.move(f.createRangeOn(R),w),w=f.createPositionAfter(R))}C.consume(l.viewItem);const S=f.createText(l.viewItem.data);f.insert(S,w),l.modelRange=f.createRange(w,w.getShiftedBy(S.offsetSize)),l.modelCursor=l.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(r,l,u)=>{if(!l.modelRange&&u.consumable.consume(l.viewItem,{name:!0})){const{modelRange:C,modelCursor:f}=u.convertChildren(l.viewItem,l.modelCursor);l.modelRange=C,l.modelCursor=f}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(r,l,u)=>{if(!l.modelRange&&u.consumable.consume(l.viewItem,{name:!0})){const{modelRange:C,modelCursor:f}=u.convertChildren(l.viewItem,l.modelCursor);l.modelRange=C,l.modelCursor=f}},{priority:"lowest"}),rt().prototype.decorate.call(this,"init"),rt().prototype.decorate.call(this,"set"),rt().prototype.decorate.call(this,"get"),rt().prototype.decorate.call(this,"toView"),rt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},HB)},{priority:"lowest"})}get(e={}){const{rootName:i="main",trim:r="empty"}=e;if(!this._checkIfRootsExists([i]))throw new K("datacontroller-get-non-existent-root",this);const l=this.model.document.getRoot(i);return l.isAttached()||de("datacontroller-get-detached-root",this),r!=="empty"||this.model.hasContent(l,{ignoreWhitespaces:!0})?this.stringify(l,e):""}stringify(e,i={}){const r=this.toView(e,i);return this.processor.toData(r)}toView(e,i={}){const r=this.viewDocument,l=this._viewWriter;this.mapper.clearBindings();const u=Xe._createIn(e),C=new zl(r);this.mapper.bindElements(e,C);const f=e.is("documentFragment")?e.markers:function(w){const S=[],R=w.root.document;if(!R)return new Map;const X=Xe._createIn(w);for(const J of R.model.markers){const U=J.getRange(),te=U.isCollapsed,ae=U.start.isEqual(X.start)||U.end.isEqual(X.end);if(te&&ae)S.push([J.name,U]);else{const he=X.getIntersection(U);he&&S.push([J.name,he])}}return S.sort(([J,U],[te,ae])=>{if(U.end.compareWith(ae.start)!=="after")return 1;if(U.start.compareWith(ae.end)!=="before")return-1;switch(U.start.compareWith(ae.start)){case"before":return 1;case"after":return-1;default:switch(U.end.compareWith(ae.end)){case"before":return 1;case"after":return-1;default:return te.localeCompare(J)}}}),new Map(S)}(e);return this.downcastDispatcher.convert(u,f,l,i),C}init(e){if(this.model.document.version)throw new K("datacontroller-init-document-not-empty",this);let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new K("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},r=>{for(const l of Object.keys(i)){const u=this.model.document.getRoot(l);r.insert(this.parse(i[l],u),u,0)}}),Promise.resolve()}set(e,i={}){let r={};if(typeof e=="string"?r.main=e:r=e,!this._checkIfRootsExists(Object.keys(r)))throw new K("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},l=>{l.setSelection(null),l.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const u of Object.keys(r)){const C=this.model.document.getRoot(u);l.remove(l.createRangeIn(C)),l.insert(this.parse(r[u],C),C,0)}})}parse(e,i="$root"){const r=this.processor.toView(e);return this.toModel(r,i)}toModel(e,i="$root"){return this.model.change(r=>this.upcastDispatcher.convert(e,r,i))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const i of e)if(!this.model.document.getRoot(i))return!1;return!0}}class bK{constructor(e,i){this._helpers=new Map,this._downcast=Tn(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Tn(i),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,i){const r=this._downcast.includes(i);if(!this._upcast.includes(i)&&!r)throw new K("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[i],isDowncast:r})}for(e){if(!this._helpers.has(e))throw new K("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:i,view:r}of u0(e))this.for("upcast").elementToElement({model:i,view:r,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:i,view:r}of u0(e))this.for("upcast").elementToAttribute({view:r,model:i,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:i,view:r}of u0(e))this.for("upcast").attributeToAttribute({view:r,model:i})}_createConversionHelpers({name:e,dispatchers:i,isDowncast:r}){if(this._helpers.has(e))throw new K("conversion-group-exists",this);const l=r?new Yz(i):new jz(i);this._helpers.set(e,l)}}function*u0(a){if(a.model.values)for(const e of a.model.values){const i={key:a.model.key,value:e},r=a.view[e],l=a.upcastAlso?a.upcastAlso[e]:void 0;yield*eZ(i,r,l)}else yield*eZ(a.model,a.view,a.upcastAlso)}function*eZ(a,e,i){if(yield{model:a,view:e},i)for(const r of Tn(i))yield{model:a,view:r}}class Uo{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,i){return new this(e.baseVersion)}}function h0(a,e){const i=nZ(e),r=i.reduce((C,f)=>C+f.offsetSize,0),l=a.parent;pu(a);const u=a.index;return l._insertChild(u,i),Cu(l,u+i.length),Cu(l,u),new Xe(a,a.getShiftedBy(r))}function tZ(a){if(!a.isFlat)throw new K("operation-utils-remove-range-not-flat",this);const e=a.start.parent;pu(a.start),pu(a.end);const i=e._removeChildren(a.start.index,a.end.index-a.start.index);return Cu(e,a.start.index),i}function mu(a,e){if(!a.isFlat)throw new K("operation-utils-move-range-not-flat",this);const i=tZ(a);return h0(e=e._getTransformedByDeletion(a.start,a.end.offset-a.start.offset),i)}function nZ(a){const e=[];(function i(r){if(typeof r=="string")e.push(new En(r));else if(r instanceof Qr)e.push(new En(r.data,r.getAttributes()));else if(r instanceof Kl)e.push(r);else if(Fe(r))for(const l of r)i(l)})(a);for(let i=1;i<e.length;i++){const r=e[i],l=e[i-1];r instanceof En&&l instanceof En&&iZ(r,l)&&(e.splice(i-1,2,new En(l.data+r.data,l.getAttributes())),i--)}return e}function Cu(a,e){const i=a.getChild(e-1),r=a.getChild(e);if(i&&r&&i.is("$text")&&r.is("$text")&&iZ(i,r)){const l=new En(i.data+r.data,i.getAttributes());a._removeChildren(e-1,2),a._insertChild(e-1,l)}}function pu(a){const e=a.textNode,i=a.parent;if(e){const r=a.offset-e.startOffset,l=e.index;i._removeChildren(l,1);const u=new En(e.data.substr(0,r),e.getAttributes()),C=new En(e.data.substr(r),e.getAttributes());i._insertChild(l,[u,C])}}function iZ(a,e){const i=a.getAttributes(),r=e.getAttributes();for(const l of i){if(l[1]!==e.getAttribute(l[0]))return!1;r.next()}return r.next().done}class Cn extends Uo{constructor(e,i,r,l){super(l),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[Xe._createFromPositionAndShift(this.sourcePosition,this.howMany),Xe._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Cn(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Cn(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent,r=this.sourcePosition.offset,l=this.targetPosition.offset;if(r+this.howMany>e.maxOffset)throw new K("move-operation-nodes-do-not-exist",this);if(e===i&&r<l&&l<r+this.howMany)throw new K("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&mt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const u=this.sourcePosition.path.length-1;if(this.targetPosition.path[u]>=r&&this.targetPosition.path[u]<r+this.howMany)throw new K("move-operation-node-into-itself",this)}}_execute(){mu(Xe._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,i){const r=Ue.fromJSON(e.sourcePosition,i),l=Ue.fromJSON(e.targetPosition,i);return new this(r,e.howMany,l,e.baseVersion)}}class Pi extends Uo{constructor(e,i,r){super(r),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new cu(nZ(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new cu([...this.nodes].map(r=>r._clone(!0))),i=new Pi(this.position,e,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const e=this.position.root.document.graveyard,i=new Ue(e,[0]);return new Cn(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new K("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new cu([...e].map(i=>i._clone(!0))),h0(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,i){const r=[];for(const u of e.nodes)u.name?r.push(Zn.fromJSON(u)):r.push(En.fromJSON(u));const l=new Pi(Ue.fromJSON(e.position,i),r,e.baseVersion);return l.shouldReceiveAttributes=e.shouldReceiveAttributes,l}}class Xn extends Uo{constructor(e,i,r,l,u){super(u),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=r,this.graveyardPosition=l?l.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Ue(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Xe(this.splitPosition,e)}get affectedSelectable(){const e=[Xe._createFromPositionAndShift(this.splitPosition,0),Xe._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(Xe._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Xn(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,i=new Ue(e,[0]);return new ci(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,i=this.splitPosition.offset;if(!e||e.maxOffset<i)throw new K("split-operation-position-invalid",this);if(!e.parent)throw new K("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new K("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new K("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)mu(Xe._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();h0(this.insertionPosition,i)}mu(new Xe(Ue._createAt(e,this.splitPosition.offset),Ue._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const i=e.path.slice(0,-1);return i[i.length-1]++,new Ue(e.root,i,"toPrevious")}static fromJSON(e,i){const r=Ue.fromJSON(e.splitPosition,i),l=Ue.fromJSON(e.insertionPosition,i),u=e.graveyardPosition?Ue.fromJSON(e.graveyardPosition,i):null;return new this(r,e.howMany,l,u,e.baseVersion)}}class ci extends Uo{constructor(e,i,r,l,u){super(u),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=r.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=l.clone()}get type(){return"merge"}get deletionPosition(){return new Ue(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Xe(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[Xe._createOn(e),Xe._createFromPositionAndShift(this.targetPosition,0),Xe._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new ci(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),r=new Ue(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new Xn(e,this.howMany,r,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent;if(!e.parent)throw new K("merge-operation-source-position-invalid",this);if(!i.parent)throw new K("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new K("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;mu(Xe._createIn(e),this.targetPosition),mu(Xe._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,i){const r=Ue.fromJSON(e.sourcePosition,i),l=Ue.fromJSON(e.targetPosition,i),u=Ue.fromJSON(e.graveyardPosition,i);return new this(r,e.howMany,l,u,e.baseVersion)}}class Go extends Uo{constructor(e,i,r,l,u,C){super(C),this.name=e,this.oldRange=i?i.clone():null,this.newRange=r?r.clone():null,this.affectsData=u,this._markers=l}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new Go(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Go(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,i){return new Go(e.name,e.oldRange?Xe.fromJSON(e.oldRange,i):null,e.newRange?Xe.fromJSON(e.newRange,i):null,i.model.markers,e.affectsData,e.baseVersion)}}const oZ=function(a,e){return lC(a,e)};class yi extends Uo{constructor(e,i,r,l,u){super(u),this.range=e.clone(),this.key=i,this.oldValue=r===void 0?null:r,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new yi(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new yi(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new K("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!oZ(e.getAttribute(this.key),this.oldValue))throw new K("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new K("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){oZ(this.oldValue,this.newValue)||function(e,i,r){pu(e.start),pu(e.end);for(const l of e.getItems({shallow:!0})){const u=l.is("$textProxy")?l.textNode:l;r!==null?u._setAttribute(i,r):u._removeAttribute(i),Cu(u.parent,u.index)}Cu(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,i){return new yi(Xe.fromJSON(e.range,i),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Yi extends Uo{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Yi(this.baseVersion)}getReversed(){return new Yi(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Ro extends Uo{constructor(e,i,r,l){super(l),this.position=e,this.position.stickiness="toNext",this.oldName=i,this.newName=r}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Ro(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Ro(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof Zn))throw new K("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new K("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,i){return new Ro(Ue.fromJSON(e.position,i),e.oldName,e.newName,e.baseVersion)}}class qs extends Uo{constructor(e,i,r,l,u){super(u),this.root=e,this.key=i,this.oldValue=r===void 0?null:r,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new qs(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new qs(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new K("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new K("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new K("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,i){if(!i.getRoot(e.root))throw new K("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new qs(i.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Ss extends Uo{constructor(e,i,r,l,u){super(u),this.rootName=e,this.elementName=i,this.isAdd=r,this._document=l,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Ss(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Ss(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,i){return new Ss(e.rootName,e.elementName,e.isAdd,i,e.baseVersion)}}const fr={};fr[yi.className]=yi,fr[Pi.className]=Pi,fr[Go.className]=Go,fr[Cn.className]=Cn,fr[Yi.className]=Yi,fr[Uo.className]=Uo,fr[Ro.className]=Ro,fr[qs.className]=qs,fr[Ss.className]=Ss,fr[Xn.className]=Xn,fr[ci.className]=ci;class AK{static fromJSON(e,i){return fr[e.__className].fromJSON(e,i)}}const m0=new Map;function dn(a,e,i){let r=m0.get(a);r||(r=new Map,m0.set(a,r)),r.set(e,i)}function yK(a){return[a]}function rZ(a,e,i={}){const r=function(l,u){const C=m0.get(l);return C&&C.has(u)?C.get(u):yK}(a.constructor,e.constructor);try{return r(a=a.clone(),e,i)}catch(l){throw l}}function kK(a,e,i){a=a.slice(),e=e.slice();const r=new vK(i.document,i.useRelations,i.forceWeakRemove);r.setOriginalOperations(a),r.setOriginalOperations(e);const l=r.originalOperations;if(a.length==0||e.length==0)return{operationsA:a,operationsB:e,originalOperations:l};const u=new WeakMap;for(const w of a)u.set(w,0);const C={nextBaseVersionA:a[a.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:a.length,originalOperationsBCount:e.length};let f=0;for(;f<a.length;){const w=a[f],S=u.get(w);if(S==e.length){f++;continue}const R=e[S],X=rZ(w,R,r.getContext(w,R,!0)),J=rZ(R,w,r.getContext(R,w,!1));r.updateRelation(w,R),r.setOriginalOperations(X,w),r.setOriginalOperations(J,R);for(const U of X)u.set(U,S+J.length);a.splice(f,1,...X),e.splice(S,1,...J)}return sZ(a,C.nextBaseVersionB),sZ(e,C.nextBaseVersionA),{operationsA:a,operationsB:e,originalOperations:l}}class vK{constructor(e,i,r=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=i,this._forceWeakRemove=!!r,this._relations=new Map}setOriginalOperations(e,i=null){const r=i?this.originalOperations.get(i):null;for(const l of e)this.originalOperations.set(l,r||l)}updateRelation(e,i){if(e instanceof Cn)i instanceof ci?e.targetPosition.isEqual(i.sourcePosition)||i.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,i,"insertAtSource"):e.targetPosition.isEqual(i.deletionPosition)?this._setRelation(e,i,"insertBetween"):e.targetPosition.isAfter(i.sourcePosition)&&this._setRelation(e,i,"moveTargetAfter"):i instanceof Cn&&(e.targetPosition.isEqual(i.sourcePosition)||e.targetPosition.isBefore(i.sourcePosition)?this._setRelation(e,i,"insertBefore"):this._setRelation(e,i,"insertAfter"));else if(e instanceof Xn){if(i instanceof ci)e.splitPosition.isBefore(i.sourcePosition)&&this._setRelation(e,i,"splitBefore");else if(i instanceof Cn)if(e.splitPosition.isEqual(i.sourcePosition)||e.splitPosition.isBefore(i.sourcePosition))this._setRelation(e,i,"splitBefore");else{const r=Xe._createFromPositionAndShift(i.sourcePosition,i.howMany);if(e.splitPosition.hasSameParentAs(i.sourcePosition)&&r.containsPosition(e.splitPosition)){const l=r.end.offset-e.splitPosition.offset,u=e.splitPosition.offset-r.start.offset;this._setRelation(e,i,{howMany:l,offset:u})}}}else if(e instanceof ci)i instanceof ci?(e.targetPosition.isEqual(i.sourcePosition)||this._setRelation(e,i,"mergeTargetNotMoved"),e.sourcePosition.isEqual(i.targetPosition)&&this._setRelation(e,i,"mergeSourceNotMoved"),e.sourcePosition.isEqual(i.sourcePosition)&&this._setRelation(e,i,"mergeSameElement")):i instanceof Xn?e.sourcePosition.isEqual(i.splitPosition)&&this._setRelation(e,i,"splitAtSource"):i instanceof Cn&&i.howMany>0&&(e.sourcePosition.isEqual(i.sourcePosition.getShiftedBy(i.howMany))&&this._setRelation(e,i,"mergeSourceAffected"),e.targetPosition.isEqual(i.sourcePosition)&&this._setRelation(e,i,"mergeTargetWasBefore"));else if(e instanceof Go){const r=e.newRange;if(!r)return;if(i instanceof Cn){const l=Xe._createFromPositionAndShift(i.sourcePosition,i.howMany),u=l.containsPosition(r.start)||l.start.isEqual(r.start),C=l.containsPosition(r.end)||l.end.isEqual(r.end);!u&&!C||l.containsRange(r)||this._setRelation(e,i,{side:u?"left":"right",path:u?r.start.path.slice():r.end.path.slice()})}else if(i instanceof ci){const l=r.start.isEqual(i.targetPosition),u=r.start.isEqual(i.deletionPosition),C=r.end.isEqual(i.deletionPosition),f=r.end.isEqual(i.sourcePosition);(l||u||C||f)&&this._setRelation(e,i,{wasInLeftElement:l,wasStartBeforeMergedElement:u,wasEndBeforeMergedElement:C,wasInRightElement:f})}}}getContext(e,i,r){return{aIsStrong:r,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(i),abRelation:this._useRelations?this._getRelation(e,i):null,baRelation:this._useRelations?this._getRelation(i,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const i=this.originalOperations.get(e);return i.wasUndone||this._history.isUndoneOperation(i)}_getRelation(e,i){const r=this.originalOperations.get(i),l=this._history.getUndoneOperation(r);if(!l)return null;const u=this.originalOperations.get(e),C=this._relations.get(u);return C&&C.get(l)||null}_setRelation(e,i,r){const l=this.originalOperations.get(e),u=this.originalOperations.get(i);let C=this._relations.get(l);C||(C=new Map,this._relations.set(l,C)),C.set(u,r)}}function sZ(a,e){for(const i of a)i.baseVersion=e++}function aZ(a,e,i){const r=a.nodes.getNode(0).getAttribute(e);if(r==i)return null;const l=new Xe(a.position,a.position.getShiftedBy(a.howMany));return new yi(l,e,r,i,0)}function lZ(a,e){return a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function rg(a,e){const i=[];for(let r=0;r<a.length;r++){const l=a[r],u=new Cn(l.start,l.end.offset-l.start.offset,e,0);i.push(u);for(let C=r+1;C<a.length;C++)a[C]=a[C]._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)[0];e=e._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany)}return i}dn(yi,yi,(a,e,i)=>{if(a.key===e.key&&a.range.start.hasSameParentAs(e.range.start)){const r=a.range.getDifference(e.range).map(u=>new yi(u,a.key,a.oldValue,a.newValue,0)),l=a.range.getIntersection(e.range);return l&&i.aIsStrong&&r.push(new yi(l,e.key,e.newValue,a.newValue,0)),r.length==0?[new Yi(0)]:r}return[a]}),dn(yi,Pi,(a,e)=>{if(a.range.start.hasSameParentAs(e.position)&&a.range.containsPosition(e.position)){const i=a.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(r=>new yi(r,a.key,a.oldValue,a.newValue,a.baseVersion));if(e.shouldReceiveAttributes){const r=aZ(e,a.key,a.oldValue);r&&i.unshift(r)}return i}return a.range=a.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[a]}),dn(yi,ci,(a,e)=>{const i=[];a.range.start.hasSameParentAs(e.deletionPosition)&&(a.range.containsPosition(e.deletionPosition)||a.range.start.isEqual(e.deletionPosition))&&i.push(Xe._createFromPositionAndShift(e.graveyardPosition,1));const r=a.range._getTransformedByMergeOperation(e);return r.isCollapsed||i.push(r),i.map(l=>new yi(l,a.key,a.oldValue,a.newValue,a.baseVersion))}),dn(yi,Cn,(a,e)=>function(r,l){const u=Xe._createFromPositionAndShift(l.sourcePosition,l.howMany);let C=null,f=[];u.containsRange(r,!0)?C=r:r.start.hasSameParentAs(u.start)?(f=r.getDifference(u),C=r.getIntersection(u)):f=[r];const w=[];for(let S of f){S=S._getTransformedByDeletion(l.sourcePosition,l.howMany);const R=l.getMovedRangeStart(),X=S.start.hasSameParentAs(R),J=S._getTransformedByInsertion(R,l.howMany,X);w.push(...J)}return C&&w.push(C._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany,!1)[0]),w}(a.range,e).map(r=>new yi(r,a.key,a.oldValue,a.newValue,a.baseVersion))),dn(yi,Xn,(a,e)=>{if(a.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.range.end.offset++,[a];if(a.range.start.hasSameParentAs(e.splitPosition)&&a.range.containsPosition(e.splitPosition)){const i=a.clone();return i.range=new Xe(e.moveTargetPosition.clone(),a.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),a.range.end=e.splitPosition.clone(),a.range.end.stickiness="toPrevious",[a,i]}return a.range=a.range._getTransformedBySplitOperation(e),[a]}),dn(Pi,yi,(a,e)=>{const i=[a];if(a.shouldReceiveAttributes&&a.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(a.position)){const r=aZ(a,e.key,e.newValue);r&&i.push(r)}return i}),dn(Pi,Pi,(a,e,i)=>(a.position.isEqual(e.position)&&i.aIsStrong||(a.position=a.position._getTransformedByInsertOperation(e)),[a])),dn(Pi,Cn,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),dn(Pi,Xn,(a,e)=>(a.position=a.position._getTransformedBySplitOperation(e),[a])),dn(Pi,ci,(a,e)=>(a.position=a.position._getTransformedByMergeOperation(e),[a])),dn(Go,Pi,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByInsertOperation(e)[0]),a.newRange&&(a.newRange=a.newRange._getTransformedByInsertOperation(e)[0]),[a])),dn(Go,Go,(a,e,i)=>{if(a.name==e.name){if(!i.aIsStrong)return[new Yi(0)];a.oldRange=e.newRange?e.newRange.clone():null}return[a]}),dn(Go,ci,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByMergeOperation(e)),a.newRange&&(a.newRange=a.newRange._getTransformedByMergeOperation(e)),[a])),dn(Go,Cn,(a,e,i)=>{if(a.oldRange&&(a.oldRange=Xe._createFromRanges(a.oldRange._getTransformedByMoveOperation(e))),a.newRange){if(i.abRelation){const r=Xe._createFromRanges(a.newRange._getTransformedByMoveOperation(e));if(i.abRelation.side=="left"&&e.targetPosition.isEqual(a.newRange.start))return a.newRange.end=r.end,a.newRange.start.path=i.abRelation.path,[a];if(i.abRelation.side=="right"&&e.targetPosition.isEqual(a.newRange.end))return a.newRange.start=r.start,a.newRange.end.path=i.abRelation.path,[a]}a.newRange=Xe._createFromRanges(a.newRange._getTransformedByMoveOperation(e))}return[a]}),dn(Go,Xn,(a,e,i)=>{if(a.oldRange&&(a.oldRange=a.oldRange._getTransformedBySplitOperation(e)),a.newRange){if(i.abRelation){const r=a.newRange._getTransformedBySplitOperation(e);return a.newRange.start.isEqual(e.splitPosition)&&i.abRelation.wasStartBeforeMergedElement?a.newRange.start=Ue._createAt(e.insertionPosition):a.newRange.start.isEqual(e.splitPosition)&&!i.abRelation.wasInLeftElement&&(a.newRange.start=Ue._createAt(e.moveTargetPosition)),a.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasInRightElement?a.newRange.end=Ue._createAt(e.moveTargetPosition):a.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasEndBeforeMergedElement?a.newRange.end=Ue._createAt(e.insertionPosition):a.newRange.end=r.end,[a]}a.newRange=a.newRange._getTransformedBySplitOperation(e)}return[a]}),dn(ci,Pi,(a,e)=>(a.sourcePosition.hasSameParentAs(e.position)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByInsertOperation(e),a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e),[a])),dn(ci,ci,(a,e,i)=>{if(a.sourcePosition.isEqual(e.sourcePosition)&&a.targetPosition.isEqual(e.targetPosition)){if(i.bWasUndone){const r=e.graveyardPosition.path.slice();return r.push(0),a.sourcePosition=new Ue(e.graveyardPosition.root,r),a.howMany=0,[a]}return[new Yi(0)]}if(a.sourcePosition.isEqual(e.sourcePosition)&&!a.targetPosition.isEqual(e.targetPosition)&&!i.bWasUndone&&i.abRelation!="splitAtSource"){const r=a.targetPosition.root.rootName=="$graveyard",l=e.targetPosition.root.rootName=="$graveyard";if(l&&!r||!(r&&!l)&&i.aIsStrong){const u=e.targetPosition._getTransformedByMergeOperation(e),C=a.targetPosition._getTransformedByMergeOperation(e);return[new Cn(u,a.howMany,C,0)]}return[new Yi(0)]}return a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMergeOperation(e),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),a.graveyardPosition.isEqual(e.graveyardPosition)&&i.aIsStrong||(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),dn(ci,Cn,(a,e,i)=>{const r=Xe._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove&&a.deletionPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(a.sourcePosition)?[new Yi(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(a.sourcePosition)?a.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(a.sourcePosition)&&i.abRelation=="mergeSourceAffected"?a.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(a.targetPosition)?(a.targetPosition.stickiness="toNone",a.howMany-=e.howMany):e.targetPosition.isEqual(a.targetPosition)&&i.abRelation=="mergeTargetWasBefore"?(a.targetPosition.stickiness="toPrevious",a.howMany+=e.howMany):(a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition.hasSameParentAs(e.sourcePosition)&&(a.howMany-=e.howMany)),a.sourcePosition=a.sourcePosition._getTransformedByMoveOperation(e),a.targetPosition=a.targetPosition._getTransformedByMoveOperation(e),a.sourcePosition.stickiness="toPrevious",a.targetPosition.stickiness="toNext",a.graveyardPosition.isEqual(e.targetPosition)||(a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)),[a])}),dn(ci,Xn,(a,e,i)=>{if(e.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),a.deletionPosition.isEqual(e.graveyardPosition)&&(a.howMany=e.howMany)),a.targetPosition.isEqual(e.splitPosition)){const r=e.howMany!=0,l=e.graveyardPosition&&a.deletionPosition.isEqual(e.graveyardPosition);if(r||l||i.abRelation=="mergeTargetNotMoved")return a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),[a]}if(a.sourcePosition.isEqual(e.splitPosition)){if(i.abRelation=="mergeSourceNotMoved")return a.howMany=0,a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a];if(i.abRelation=="mergeSameElement"||a.sourcePosition.offset>0)return a.sourcePosition=e.moveTargetPosition.clone(),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}return a.sourcePosition.hasSameParentAs(e.splitPosition)&&(a.howMany=e.splitPosition.offset),a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}),dn(Cn,Pi,(a,e)=>{const i=Xe._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByInsertOperation(e,!1)[0];return a.sourcePosition=i.start,a.howMany=i.end.offset-i.start.offset,a.targetPosition.isEqual(e.position)||(a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e)),[a]}),dn(Cn,Cn,(a,e,i)=>{const r=Xe._createFromPositionAndShift(a.sourcePosition,a.howMany),l=Xe._createFromPositionAndShift(e.sourcePosition,e.howMany);let u,C=i.aIsStrong,f=!i.aIsStrong;if(i.abRelation=="insertBefore"||i.baRelation=="insertAfter"?f=!0:i.abRelation!="insertAfter"&&i.baRelation!="insertBefore"||(f=!1),u=a.targetPosition.isEqual(e.targetPosition)&&f?a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),lZ(a,e)&&lZ(e,a))return[e.getReversed()];if(r.containsPosition(e.targetPosition)&&r.containsRange(l,!0))return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),rg([r],u);if(l.containsPosition(a.targetPosition)&&l.containsRange(r,!0))return r.start=r.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),r.end=r.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),rg([r],u);const w=mt(a.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(w=="prefix"||w=="extension")return r.start=r.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),r.end=r.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),rg([r],u);a.type!="remove"||e.type=="remove"||i.aWasUndone||i.forceWeakRemove?a.type=="remove"||e.type!="remove"||i.bWasUndone||i.forceWeakRemove||(C=!1):C=!0;const S=[],R=r.getDifference(l);for(const J of R){J.start=J.start._getTransformedByDeletion(e.sourcePosition,e.howMany),J.end=J.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const U=mt(J.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",te=J._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,U);S.push(...te)}const X=r.getIntersection(l);return X!==null&&C&&(X.start=X.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),X.end=X.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),S.length===0?S.push(X):S.length==1?l.start.isBefore(r.start)||l.start.isEqual(r.start)?S.unshift(X):S.push(X):S.splice(1,0,X)),S.length===0?[new Yi(a.baseVersion)]:rg(S,u)}),dn(Cn,Xn,(a,e,i)=>{let r=a.targetPosition.clone();a.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&i.abRelation!="moveTargetAfter"||(r=a.targetPosition._getTransformedBySplitOperation(e));const l=Xe._createFromPositionAndShift(a.sourcePosition,a.howMany);if(l.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.howMany++,a.targetPosition=r,[a];if(l.start.hasSameParentAs(e.splitPosition)&&l.containsPosition(e.splitPosition)){let C=new Xe(e.splitPosition,l.end);return C=C._getTransformedBySplitOperation(e),rg([new Xe(l.start,e.splitPosition),C],r)}a.targetPosition.isEqual(e.splitPosition)&&i.abRelation=="insertAtSource"&&(r=e.moveTargetPosition),a.targetPosition.isEqual(e.insertionPosition)&&i.abRelation=="insertBetween"&&(r=a.targetPosition);const u=[l._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const C=l.start.isEqual(e.graveyardPosition)||l.containsPosition(e.graveyardPosition);a.howMany>1&&C&&!i.aWasUndone&&u.push(Xe._createFromPositionAndShift(e.insertionPosition,1))}return rg(u,r)}),dn(Cn,ci,(a,e,i)=>{const r=Xe._createFromPositionAndShift(a.sourcePosition,a.howMany);if(e.deletionPosition.hasSameParentAs(a.sourcePosition)&&r.containsPosition(e.sourcePosition)){if(a.type!="remove"||i.forceWeakRemove){if(a.howMany==1)return i.bWasUndone?(a.sourcePosition=e.graveyardPosition.clone(),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]):[new Yi(0)]}else if(!i.aWasUndone){const u=[];let C=e.graveyardPosition.clone(),f=e.targetPosition._getTransformedByMergeOperation(e);a.howMany>1&&(u.push(new Cn(a.sourcePosition,a.howMany-1,a.targetPosition,0)),C=C._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1),f=f._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1));const w=e.deletionPosition._getCombined(a.sourcePosition,a.targetPosition),S=new Cn(C,1,w,0),R=S.getMovedRangeStart().path.slice();R.push(0);const X=new Ue(S.targetPosition.root,R);f=f._getTransformedByMove(C,w,1);const J=new Cn(f,e.howMany,X,0);return u.push(S),u.push(J),u}}const l=Xe._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByMergeOperation(e);return a.sourcePosition=l.start,a.howMany=l.end.offset-l.start.offset,a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]}),dn(Ro,Pi,(a,e)=>(a.position=a.position._getTransformedByInsertOperation(e),[a])),dn(Ro,ci,(a,e)=>a.position.isEqual(e.deletionPosition)?(a.position=e.graveyardPosition.clone(),a.position.stickiness="toNext",[a]):(a.position=a.position._getTransformedByMergeOperation(e),[a])),dn(Ro,Cn,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),dn(Ro,Ro,(a,e,i)=>{if(a.position.isEqual(e.position)){if(!i.aIsStrong)return[new Yi(0)];a.oldName=e.newName}return[a]}),dn(Ro,Xn,(a,e)=>{if(mt(a.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const i=new Ro(a.position.getShiftedBy(1),a.oldName,a.newName,0);return[a,i]}return a.position=a.position._getTransformedBySplitOperation(e),[a]}),dn(qs,qs,(a,e,i)=>{if(a.root===e.root&&a.key===e.key){if(!i.aIsStrong||a.newValue===e.newValue)return[new Yi(0)];a.oldValue=e.newValue}return[a]}),dn(Ss,Ss,(a,e)=>a.rootName===e.rootName&&a.isAdd===e.isAdd?[new Yi(0)]:[a]),dn(Xn,Pi,(a,e)=>(a.splitPosition.hasSameParentAs(e.position)&&a.splitPosition.offset<e.position.offset&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByInsertOperation(e),a.insertionPosition=a.insertionPosition._getTransformedByInsertOperation(e),[a])),dn(Xn,ci,(a,e,i)=>{if(!a.graveyardPosition&&!i.bWasUndone&&a.splitPosition.hasSameParentAs(e.sourcePosition)){const r=e.graveyardPosition.path.slice();r.push(0);const l=new Ue(e.graveyardPosition.root,r),u=Xn.getInsertionPosition(new Ue(e.graveyardPosition.root,r)),C=new Xn(l,0,u,null,0);return a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=Xn.getInsertionPosition(a.splitPosition),a.graveyardPosition=C.insertionPosition.clone(),a.graveyardPosition.stickiness="toNext",[C,a]}return a.splitPosition.hasSameParentAs(e.deletionPosition)&&!a.splitPosition.isAfter(e.deletionPosition)&&a.howMany--,a.splitPosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=Xn.getInsertionPosition(a.splitPosition),a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),dn(Xn,Cn,(a,e,i)=>{const r=Xe._createFromPositionAndShift(e.sourcePosition,e.howMany);if(a.graveyardPosition){const u=r.start.isEqual(a.graveyardPosition)||r.containsPosition(a.graveyardPosition);if(!i.bWasUndone&&u){const C=a.splitPosition._getTransformedByMoveOperation(e),f=a.graveyardPosition._getTransformedByMoveOperation(e),w=f.path.slice();w.push(0);const S=new Ue(f.root,w);return[new Cn(C,a.howMany,S,0)]}a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)}const l=a.splitPosition.isEqual(e.targetPosition);if(l&&(i.baRelation=="insertAtSource"||i.abRelation=="splitBefore"))return a.howMany+=e.howMany,a.splitPosition=a.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),a.insertionPosition=Xn.getInsertionPosition(a.splitPosition),[a];if(l&&i.abRelation&&i.abRelation.howMany){const{howMany:u,offset:C}=i.abRelation;return a.howMany+=u,a.splitPosition=a.splitPosition.getShiftedBy(C),[a]}if(a.splitPosition.hasSameParentAs(e.sourcePosition)&&r.containsPosition(a.splitPosition)){const u=e.howMany-(a.splitPosition.offset-e.sourcePosition.offset);return a.howMany-=u,a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany),a.splitPosition=e.sourcePosition.clone(),a.insertionPosition=Xn.getInsertionPosition(a.splitPosition),[a]}return e.sourcePosition.isEqual(e.targetPosition)||(a.splitPosition.hasSameParentAs(e.sourcePosition)&&a.splitPosition.offset<=e.sourcePosition.offset&&(a.howMany-=e.howMany),a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany)),a.splitPosition.stickiness="toNone",a.splitPosition=a.splitPosition._getTransformedByMoveOperation(e),a.splitPosition.stickiness="toNext",a.graveyardPosition?a.insertionPosition=a.insertionPosition._getTransformedByMoveOperation(e):a.insertionPosition=Xn.getInsertionPosition(a.splitPosition),[a]}),dn(Xn,Xn,(a,e,i)=>{if(a.splitPosition.isEqual(e.splitPosition)){if(!a.graveyardPosition&&!e.graveyardPosition)return[new Yi(0)];if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition))return[new Yi(0)];if(i.abRelation=="splitBefore")return a.howMany=0,a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e),[a]}if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition)){const r=a.splitPosition.root.rootName=="$graveyard",l=e.splitPosition.root.rootName=="$graveyard";if(l&&!r||!(r&&!l)&&i.aIsStrong){const u=[];return e.howMany&&u.push(new Cn(e.moveTargetPosition,e.howMany,e.splitPosition,0)),a.howMany&&u.push(new Cn(a.splitPosition,a.howMany,a.moveTargetPosition,0)),u}return[new Yi(0)]}if(a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e)),a.splitPosition.isEqual(e.insertionPosition)&&i.abRelation=="splitBefore")return a.howMany++,[a];if(e.splitPosition.isEqual(a.insertionPosition)&&i.baRelation=="splitBefore"){const r=e.insertionPosition.path.slice();r.push(0);const l=new Ue(e.insertionPosition.root,r);return[a,new Cn(a.insertionPosition,1,l,0)]}return a.splitPosition.hasSameParentAs(e.splitPosition)&&a.splitPosition.offset<e.splitPosition.offset&&(a.howMany-=e.howMany),a.splitPosition=a.splitPosition._getTransformedBySplitOperation(e),a.insertionPosition=Xn.getInsertionPosition(a.splitPosition),[a]});class eo extends fe(Ue){constructor(e,i,r="toNone"){if(super(e,i,r),!this.root.is("rootElement"))throw new K("model-liveposition-root-not-rootelement",e);wK.call(this)}detach(){this.stopListening()}toPosition(){return new Ue(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,i){return new this(e.root,e.path.slice(),i||e.stickiness)}}function wK(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const i=e[0];i.isDocumentOperation&&xK.call(this,i)},{priority:"low"})}function xK(a){const e=this.getTransformedByOperation(a);if(!this.isEqual(e)){const i=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",i)}}eo.prototype.is=function(a){return a==="livePosition"||a==="model:livePosition"||a=="position"||a==="model:position"};class sg{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},de("batch-constructor-deprecated-string-type"));const{isUndoable:i=!0,isLocal:r=!0,isUndo:l=!1,isTyping:u=!1}=e;this.operations=[],this.isUndoable=i,this.isLocal=r,this.isUndo=l,this.isTyping=u}get type(){return de("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var SK=Object.defineProperty,BK=Object.defineProperties,ZK=Object.getOwnPropertyDescriptors,cZ=Object.getOwnPropertySymbols,GK=Object.prototype.hasOwnProperty,RK=Object.prototype.propertyIsEnumerable,gZ=(a,e,i)=>e in a?SK(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,dZ=(a,e)=>{for(var i in e||(e={}))GK.call(e,i)&&gZ(a,i,e[i]);if(cZ)for(var i of cZ(e))RK.call(e,i)&&gZ(a,i,e[i]);return a};class VK{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const i=e;switch(i.type){case"insert":if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const r of i.range.getItems({shallow:!0}))this._isInInsertedElement(r.parent)||this._markAttribute(r);break;case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const r=this._isInInsertedElement(i.sourcePosition.parent),l=this._isInInsertedElement(i.targetPosition.parent);r||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),l||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const r=Xe._createFromPositionAndShift(i.position,1);for(const l of this._markerCollection.getMarkersIntersectingRange(r)){const u=l.getData();this.bufferMarkerChange(l.name,u,u)}break}case"split":{const r=i.splitPosition.parent;this._isInInsertedElement(r)||this._markRemove(r,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const r=i.sourcePosition.parent;this._isInInsertedElement(r.parent)||this._markRemove(r.parent,r.startOffset,1);const l=i.graveyardPosition.parent;this._markInsert(l,i.graveyardPosition.offset,1);const u=i.targetPosition.parent;this._isInInsertedElement(u)||this._markInsert(u,i.targetPosition.offset,r.maxOffset);break}case"detachRoot":case"addRoot":{const r=i.affectedSelectable;if(!r._isLoaded||r.isAttached()==i.isAdd)return;this._bufferRootStateChange(i.rootName,i.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!i.root._isLoaded)return;const r=i.root.rootName;this._bufferRootAttributeChange(r,i.key,i.oldValue,i.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,i,r){i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null),r.range&&r.range.root.is("rootElement")&&!r.range.root._isLoaded&&(r.range=null);let l=this._changedMarkers.get(e);l?l.newMarkerData=r:(l={newMarkerData:r,oldMarkerData:i},this._changedMarkers.set(e,l)),l.oldMarkerData.range==null&&r.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[i,r]of this._changedMarkers)r.oldMarkerData.range!=null&&e.push({name:i,range:r.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[i,r]of this._changedMarkers)r.newMarkerData.range!=null&&e.push({name:i,range:r.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,i])=>({name:e,data:{oldRange:i.oldMarkerData.range,newRange:i.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:i}of this._changedMarkers.values()){if(e.affectsData!==i.affectsData)return!0;if(e.affectsData){const r=e.range&&!i.range,l=!e.range&&i.range,u=e.range&&i.range&&!e.range.isEqual(i.range);if(r||l||u)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let i=[];for(const r of this._changesInElement.keys()){const l=this._changesInElement.get(r).sort((R,X)=>R.offset===X.offset?R.type!=X.type?R.type=="remove"?-1:1:0:R.offset<X.offset?-1:1),u=this._elementSnapshots.get(r),C=uZ(r.getChildren()),f=WK(u.length,l);let w=0,S=0;for(const R of f)if(R==="i")i.push(this._getInsertDiff(r,w,C[w])),w++;else if(R==="r")i.push(this._getRemoveDiff(r,w,u[S])),S++;else if(R==="a"){const X=C[w].attributes,J=u[S].attributes;let U;if(C[w].name=="$text")U=new Xe(Ue._createAt(r,w),Ue._createAt(r,w+1));else{const te=r.offsetToIndex(w);U=new Xe(Ue._createAt(r,w),Ue._createAt(r.getChild(te),0))}i.push(...this._getAttributesDiff(U,J,X)),w++,S++}else w++,S++}i.sort((r,l)=>r.position.root!=l.position.root?r.position.root.rootName<l.position.root.rootName?-1:1:r.position.isEqual(l.position)?r.changeCount-l.changeCount:r.position.isBefore(l.position)?-1:1);for(let r=1,l=0;r<i.length;r++){const u=i[l],C=i[r],f=u.type=="remove"&&C.type=="remove"&&u.name=="$text"&&C.name=="$text"&&u.position.isEqual(C.position),w=u.type=="insert"&&C.type=="insert"&&u.name=="$text"&&C.name=="$text"&&u.position.parent==C.position.parent&&u.position.offset+u.length==C.position.offset,S=u.type=="attribute"&&C.type=="attribute"&&u.position.parent==C.position.parent&&u.range.isFlat&&C.range.isFlat&&u.position.offset+u.length==C.position.offset&&u.attributeKey==C.attributeKey&&u.attributeOldValue==C.attributeOldValue&&u.attributeNewValue==C.attributeNewValue;f||w||S?(u.length++,S&&(u.range.end=u.range.end.getShiftedBy(1)),i[r]=null):l=r}i=i.filter(r=>r);for(const r of i)delete r.changeCount,r.type=="attribute"&&(delete r.position,delete r.length);return this._changeCount=0,this._cachedChangesWithGraveyard=i,this._cachedChanges=i.filter(_K),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const i=dZ({},e);return i.state!==void 0&&delete i.attributes,i})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,i){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:i?"attached":"detached"});const r=this._changedRoots.get(e);r.state!==void 0?(delete r.state,r.attributes===void 0&&this._changedRoots.delete(e)):r.state=i?"attached":"detached"}_bufferRootAttributeChange(e,i,r,l){const u=this._changedRoots.get(e)||{name:e},C=u.attributes||{};if(C[i]){const f=C[i];l===f.oldValue?delete C[i]:f.newValue=l}else C[i]={oldValue:r,newValue:l};Object.entries(C).length===0?(delete u.attributes,u.state===void 0&&this._changedRoots.delete(e)):(u.attributes=C,this._changedRoots.set(e,u))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const i=Xe._createOn(e);for(const r of this._markerCollection.getMarkersIntersectingRange(i)){const l=r.getData();this.bufferMarkerChange(r.name,l,l)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const r of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,r,null,e.getAttribute(r));for(const r of this._markerCollection)if(r.getRange().root==e){const l=r.getData();this.bufferMarkerChange(r.name,(i=dZ({},l),BK(i,ZK({range:null}))),l)}var i}}_markInsert(e,i,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const l={type:"insert",offset:i,howMany:r,count:this._changeCount++};this._markChange(e,l)}_markRemove(e,i,r){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const l={type:"remove",offset:i,howMany:r,count:this._changeCount++};this._markChange(e,l),this._removeAllNestedChanges(e,i,r)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,i)}_markChange(e,i){this._makeSnapshot(e);const r=this._getChangesForElement(e);this._handleChange(i,r),r.push(i);for(let l=0;l<r.length;l++)r[l].howMany<1&&(r.splice(l,1),l--)}_getChangesForElement(e){let i;return this._changesInElement.has(e)?i=this._changesInElement.get(e):(i=[],this._changesInElement.set(e,i)),i}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,uZ(e.getChildren()))}_handleChange(e,i){e.nodesToHandle=e.howMany;for(const r of i){const l=e.offset+e.howMany,u=r.offset+r.howMany;if(e.type=="insert"&&(r.type=="insert"&&(e.offset<=r.offset?r.offset+=e.howMany:e.offset<u&&(r.howMany+=e.nodesToHandle,e.nodesToHandle=0)),r.type=="remove"&&e.offset<r.offset&&(r.offset+=e.howMany),r.type=="attribute")){if(e.offset<=r.offset)r.offset+=e.howMany;else if(e.offset<u){const C=r.howMany;r.howMany=e.offset-r.offset,i.unshift({type:"attribute",offset:l,howMany:C-r.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(r.type=="insert"){if(l<=r.offset)r.offset-=e.howMany;else if(l<=u)if(e.offset<r.offset){const C=l-r.offset;r.offset=e.offset,r.howMany-=C,e.nodesToHandle-=C}else r.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=r.offset)e.nodesToHandle-=r.howMany,r.howMany=0;else if(e.offset<u){const C=u-e.offset;r.howMany-=C,e.nodesToHandle-=C}}if(r.type=="remove"&&(l<=r.offset?r.offset-=e.howMany:e.offset<r.offset&&(e.nodesToHandle+=r.howMany,r.howMany=0)),r.type=="attribute"){if(l<=r.offset)r.offset-=e.howMany;else if(e.offset<r.offset){const C=l-r.offset;r.offset=e.offset,r.howMany-=C}else if(e.offset<u)if(l<=u){const C=r.howMany;r.howMany=e.offset-r.offset;const f=C-r.howMany-e.nodesToHandle;i.unshift({type:"attribute",offset:e.offset,howMany:f,count:this._changeCount++})}else r.howMany-=u-e.offset}}if(e.type=="attribute"){if(r.type=="insert")if(e.offset<r.offset&&l>r.offset){if(l>u){const C={type:"attribute",offset:u,howMany:l-u,count:this._changeCount++};this._handleChange(C,i),i.push(C)}e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=r.offset&&e.offset<u&&(l>u?(e.nodesToHandle=l-u,e.offset=u):e.nodesToHandle=0);if(r.type=="remove"&&e.offset<r.offset&&l>r.offset){const C={type:"attribute",offset:r.offset,howMany:l-r.offset,count:this._changeCount++};this._handleChange(C,i),i.push(C),e.nodesToHandle=r.offset-e.offset,e.howMany=e.nodesToHandle}r.type=="attribute"&&(e.offset>=r.offset&&l<=u?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=r.offset&&l>=u&&(r.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,i,r){return{type:"insert",position:Ue._createAt(e,i),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++,_element:r.element}}_getRemoveDiff(e,i,r){return{type:"remove",position:Ue._createAt(e,i),name:r.name,attributes:new Map(r.attributes),length:1,changeCount:this._changeCount++,_element:r.element}}_getAttributesDiff(e,i,r){const l=[];r=new Map(r);for(const[u,C]of i){const f=r.has(u)?r.get(u):null;f!==C&&l.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:u,attributeOldValue:C,attributeNewValue:f,changeCount:this._changeCount++}),r.delete(u)}for(const[u,C]of r)l.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:u,attributeOldValue:null,attributeNewValue:C,changeCount:this._changeCount++});return l}_isInInsertedElement(e){const i=e.parent;if(!i)return!1;const r=this._changesInElement.get(i),l=e.startOffset;if(r){for(const u of r)if(u.type=="insert"&&l>=u.offset&&l<u.offset+u.howMany)return!0}return this._isInInsertedElement(i)}_removeAllNestedChanges(e,i,r){const l=new Xe(Ue._createAt(e,i),Ue._createAt(e,i+r));for(const u of l.getItems({shallow:!0}))u.is("element")&&(this._elementSnapshots.delete(u),this._changesInElement.delete(u),this._removeAllNestedChanges(u,0,u.maxOffset))}}function uZ(a){const e=[];for(const i of a)if(i.is("$text"))for(let r=0;r<i.data.length;r++)e.push({name:"$text",attributes:new Map(i.getAttributes())});else e.push({name:i.name,attributes:new Map(i.getAttributes()),element:i});return e}function WK(a,e){const i=[];let r=0,l=0;for(const u of e){if(u.offset>r){for(let C=0;C<u.offset-r;C++)i.push("e");l+=u.offset-r}if(u.type=="insert"){for(let C=0;C<u.howMany;C++)i.push("i");r=u.offset+u.howMany}else if(u.type=="remove"){for(let C=0;C<u.howMany;C++)i.push("r");r=u.offset,l+=u.howMany}else i.push(..."a".repeat(u.howMany).split("")),r=u.offset+u.howMany,l+=u.howMany}if(l<a)for(let u=0;u<a-l-r;u++)i.push("e");return i}function _K(a){const e="position"in a&&a.position.root.rootName=="$graveyard",i="range"in a&&a.range.root.rootName=="$graveyard";return!e&&!i}class NK{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new K("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,i=this.version){if(!this._operations.length)return[];const r=this._operations[0];e===void 0&&(e=r.baseVersion);let l=i-1;for(const[f,w]of this._gaps)e>f&&e<w&&(e=w),l>f&&l<w&&(l=f-1);if(l<r.baseVersion||e>this.lastOperation.baseVersion)return[];let u=this._baseVersionToOperationIndex.get(e);u===void 0&&(u=0);let C=this._baseVersionToOperationIndex.get(l);return C===void 0&&(C=this._operations.length-1),this._operations.slice(u,C+1)}getOperation(e){const i=this._baseVersionToOperationIndex.get(e);if(i!==void 0)return this._operations[i]}setOperationAsUndone(e,i){this._undoPairs.set(i,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class hC extends Zn{constructor(e,i,r="main"){super(i),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=r}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}hC.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"):a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"||a==="node"||a==="model:node"};var EK=Object.defineProperty,XK=Object.defineProperties,YK=Object.getOwnPropertyDescriptors,hZ=Object.getOwnPropertySymbols,DK=Object.prototype.hasOwnProperty,HK=Object.prototype.propertyIsEnumerable,mZ=(a,e,i)=>e in a?EK(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,CZ=(a,e)=>{for(var i in e||(e={}))DK.call(e,i)&&mZ(a,i,e[i]);if(hZ)for(var i of hZ(e))HK.call(e,i)&&mZ(a,i,e[i]);return a},pZ=(a,e)=>XK(a,YK(e));const IZ="$graveyard";class FK extends fe(){constructor(e){super(),this.model=e,this.history=new NK,this.selection=new qr(this),this.roots=new Kr({idProperty:"rootName"}),this.differ=new VK(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",IZ),this.listenTo(e,"applyOperation",(i,r)=>{const l=r[0];l.isDocumentOperation&&this.differ.bufferOperation(l)},{priority:"high"}),this.listenTo(e,"applyOperation",(i,r)=>{const l=r[0];l.isDocumentOperation&&this.history.addOperation(l)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(i,r,l,u,C)=>{const f=pZ(CZ({},r.getData()),{range:u});this.differ.bufferMarkerChange(r.name,C,f),l===null&&r.on("change",(w,S)=>{const R=r.getData();this.differ.bufferMarkerChange(r.name,pZ(CZ({},R),{range:S}),R)})}),this.registerPostFixer(i=>{let r=!1;for(const l of this.roots)l.isAttached()||l.isEmpty||(i.remove(i.createRangeIn(l)),r=!0);for(const l of this.model.markers)l.getRange().root.isAttached()||(i.removeMarker(l),r=!0);return r})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(IZ)}createRoot(e="$root",i="main"){if(this.roots.get(i))throw new K("model-document-createroot-name-exists",this,{name:i});const r=new hC(this,e,i);return this.roots.add(r),r}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(i=>i.rootName)}getRoots(e=!1){return this.roots.filter(i=>i!=this.graveyard&&(e||i.isAttached())&&i._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=D2(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),i=this.model,r=i.schema,l=i.createPositionFromPath(e,[0]);return r.getNearestSelectionRange(l)||i.createRange(l)}_validateSelectionRange(e){return fZ(e.start)&&fZ(e.end)}_callPostFixers(e){let i=!1;do for(const r of this._postFixers)if(this.selection.refresh(),i=r(e),i)break;while(i)}}function fZ(a){const e=a.textNode;if(e){const i=e.data,r=a.offset-e.startOffset;return!NA(i,r)&&!EA(i,r)}return!0}var MK=Object.defineProperty,TK=Object.defineProperties,JK=Object.getOwnPropertyDescriptors,bZ=Object.getOwnPropertySymbols,LK=Object.prototype.hasOwnProperty,zK=Object.prototype.propertyIsEnumerable,AZ=(a,e,i)=>e in a?MK(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;class KK extends fe(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const i=e instanceof ag?e.name:e;return this._markers.has(i)}get(e){return this._markers.get(e)||null}_set(e,i,r=!1,l=!1){const u=e instanceof ag?e.name:e;if(u.includes(","))throw new K("markercollection-incorrect-marker-name",this);const C=this._markers.get(u);if(C){const R=C.getData(),X=C.getRange();let J=!1;return X.isEqual(i)||(C._attachLiveRange(Oo.fromRange(i)),J=!0),r!=C.managedUsingOperations&&(C._managedUsingOperations=r,J=!0),typeof l=="boolean"&&l!=C.affectsData&&(C._affectsData=l,J=!0),J&&this.fire(`update:${u}`,C,X,i,R),C}const f=Oo.fromRange(i),w=new ag(u,f,r,l);var S;return this._markers.set(u,w),this.fire(`update:${u}`,w,null,i,(S=((R,X)=>{for(var J in X||(X={}))LK.call(X,J)&&AZ(R,J,X[J]);if(bZ)for(var J of bZ(X))zK.call(X,J)&&AZ(R,J,X[J]);return R})({},w.getData()),TK(S,JK({range:null})))),w}_remove(e){const i=e instanceof ag?e.name:e,r=this._markers.get(i);return!!r&&(this._markers.delete(i),this.fire(`update:${i}`,r,r.getRange(),null,r.getData()),this._destroyMarker(r),!0)}_refresh(e){const i=e instanceof ag?e.name:e,r=this._markers.get(i);if(!r)throw new K("markercollection-refresh-marker-not-exists",this);const l=r.getRange();this.fire(`update:${i}`,r,l,l,r.getData())}*getMarkersAtPosition(e){for(const i of this)i.getRange().containsPosition(e)&&(yield i)}*getMarkersIntersectingRange(e){for(const i of this)i.getRange().getIntersection(e)!==null&&(yield i)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const i of this._markers.values())i.name.startsWith(e+":")&&(yield i)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class ag extends fe(La){constructor(e,i,r,l){super(),this.name=e,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=r,this._affectsData=l}get managedUsingOperations(){if(!this._liveRange)throw new K("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new K("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new K("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new K("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new K("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}ag.prototype.is=function(a){return a==="marker"||a==="model:marker"};class PK extends Uo{constructor(e,i){super(null),this.sourcePosition=e.clone(),this.howMany=i}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new K("detach-operation-on-document-node",this)}_execute(){tZ(Xe._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class $s extends La{constructor(e){super(),this.markers=new Map,this._children=new cu,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let i=this;for(const r of e)i=i.getChild(i.offsetToIndex(r));return i}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const i of this._children)e.push(i.toJSON());return e}static fromJSON(e){const i=[];for(const r of e)r.name?i.push(Zn.fromJSON(r)):i.push(En.fromJSON(r));return new $s(i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const r=function(l){return typeof l=="string"?[new En(l)]:(Fe(l)||(l=[l]),Array.from(l).map(u=>typeof u=="string"?new En(u):u instanceof Qr?new En(u.data,u.getAttributes()):u))}(i);for(const l of r)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(e,r)}_removeChildren(e,i=1){const r=this._children._removeNodes(e,i);for(const l of r)l.parent=null;return r}}$s.prototype.is=function(a){return a==="documentFragment"||a==="model:documentFragment"};class jK{constructor(e,i){this.model=e,this.batch=i}createText(e,i){return new En(e,i)}createElement(e,i){return new Zn(e,i)}createDocumentFragment(){return new $s}cloneElement(e,i=!0){return e._clone(i)}insert(e,i,r=0){if(this._assertWriterUsedCorrectly(),e instanceof En&&e.data=="")return;const l=Ue._createAt(i,r);if(e.parent){if(vZ(e.root,l.root))return void this.move(Xe._createOn(e),l);if(e.root.document)throw new K("model-writer-insert-forbidden-move",this);this.remove(e)}const u=l.root.document?l.root.document.version:null,C=new Pi(l,e,u);if(e instanceof En&&(C.shouldReceiveAttributes=!0),this.batch.addOperation(C),this.model.applyOperation(C),e instanceof $s)for(const[f,w]of e.markers){const S=Ue._createAt(w.root,0),R={range:new Xe(w.start._getCombined(S,l),w.end._getCombined(S,l)),usingOperation:!0,affectsData:!0};this.model.markers.has(f)?this.updateMarker(f,R):this.addMarker(f,R)}}insertText(e,i,r,l){i instanceof $s||i instanceof Zn||i instanceof Ue?this.insert(this.createText(e),i,r):this.insert(this.createText(e,i),r,l)}insertElement(e,i,r,l){i instanceof $s||i instanceof Zn||i instanceof Ue?this.insert(this.createElement(e),i,r):this.insert(this.createElement(e,i),r,l)}append(e,i){this.insert(e,i,"end")}appendText(e,i,r){i instanceof $s||i instanceof Zn?this.insert(this.createText(e),i,"end"):this.insert(this.createText(e,i),r,"end")}appendElement(e,i,r){i instanceof $s||i instanceof Zn?this.insert(this.createElement(e),i,"end"):this.insert(this.createElement(e,i),r,"end")}setAttribute(e,i,r){if(this._assertWriterUsedCorrectly(),r instanceof Xe){const l=r.getMinimalFlatRanges();for(const u of l)yZ(this,e,i,u)}else kZ(this,e,i,r)}setAttributes(e,i){for(const[r,l]of ks(e))this.setAttribute(r,l,i)}removeAttribute(e,i){if(this._assertWriterUsedCorrectly(),i instanceof Xe){const r=i.getMinimalFlatRanges();for(const l of r)yZ(this,e,null,l)}else kZ(this,e,null,i)}clearAttributes(e){this._assertWriterUsedCorrectly();const i=r=>{for(const l of r.getAttributeKeys())this.removeAttribute(l,r)};if(e instanceof Xe)for(const r of e.getItems())i(r);else i(e)}move(e,i,r){if(this._assertWriterUsedCorrectly(),!(e instanceof Xe))throw new K("writer-move-invalid-range",this);if(!e.isFlat)throw new K("writer-move-range-not-flat",this);const l=Ue._createAt(i,r);if(l.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!vZ(e.root,l.root))throw new K("writer-move-different-document",this);const u=e.root.document?e.root.document.version:null,C=new Cn(e.start,e.end.offset-e.start.offset,l,u);this.batch.addOperation(C),this.model.applyOperation(C)}remove(e){this._assertWriterUsedCorrectly();const i=(e instanceof Xe?e:Xe._createOn(e)).getMinimalFlatRanges().reverse();for(const r of i)this._addOperationForAffectedMarkers("move",r),OK(r.start,r.end.offset-r.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const i=e.nodeBefore,r=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(i instanceof Zn))throw new K("writer-merge-no-element-before",this);if(!(r instanceof Zn))throw new K("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,i,r){return this.model.createPositionFromPath(e,i,r)}createPositionAt(e,i){return this.model.createPositionAt(e,i)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,i){return this.model.createRange(e,i)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const i=e.nodeBefore,r=e.nodeAfter;this.move(Xe._createIn(r),Ue._createAt(i,"end")),this.remove(r)}_merge(e){const i=Ue._createAt(e.nodeBefore,"end"),r=Ue._createAt(e.nodeAfter,0),l=e.root.document.graveyard,u=new Ue(l,[0]),C=e.root.document.version,f=new ci(r,e.nodeAfter.maxOffset,i,u,C);this.batch.addOperation(f),this.model.applyOperation(f)}rename(e,i){if(this._assertWriterUsedCorrectly(),!(e instanceof Zn))throw new K("writer-rename-not-element-instance",this);const r=e.root.document?e.root.document.version:null,l=new Ro(Ue._createBefore(e),e.name,i,r);this.batch.addOperation(l),this.model.applyOperation(l)}split(e,i){this._assertWriterUsedCorrectly();let r,l,u=e.parent;if(!u.parent)throw new K("writer-split-element-no-parent",this);if(i||(i=u.parent),!e.parent.getAncestors({includeSelf:!0}).includes(i))throw new K("writer-split-invalid-limit-element",this);do{const C=u.root.document?u.root.document.version:null,f=u.maxOffset-e.offset,w=Xn.getInsertionPosition(e),S=new Xn(e,f,w,null,C);this.batch.addOperation(S),this.model.applyOperation(S),r||l||(r=u,l=e.parent.nextSibling),u=(e=this.createPositionAfter(e.parent)).parent}while(u!==i);return{position:e,range:new Xe(Ue._createAt(r,"end"),Ue._createAt(l,0))}}wrap(e,i){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new K("writer-wrap-range-not-flat",this);const r=i instanceof Zn?i:new Zn(i);if(r.childCount>0)throw new K("writer-wrap-element-not-empty",this);if(r.parent!==null)throw new K("writer-wrap-element-attached",this);this.insert(r,e.start);const l=new Xe(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(l,Ue._createAt(r,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new K("writer-unwrap-element-no-parent",this);this.move(Xe._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,i){if(this._assertWriterUsedCorrectly(),!i||typeof i.usingOperation!="boolean")throw new K("writer-addmarker-no-usingoperation",this);const r=i.usingOperation,l=i.range,u=i.affectsData!==void 0&&i.affectsData;if(this.model.markers.has(e))throw new K("writer-addmarker-marker-exists",this);if(!l)throw new K("writer-addmarker-no-range",this);return r?(Iu(this,e,null,l,u),this.model.markers.get(e)):this.model.markers._set(e,l,r,u)}updateMarker(e,i){this._assertWriterUsedCorrectly();const r=typeof e=="string"?e:e.name,l=this.model.markers.get(r);if(!l)throw new K("writer-updatemarker-marker-not-exists",this);if(!i)return de("writer-updatemarker-reconvert-using-editingcontroller",{markerName:r}),void this.model.markers._refresh(l);const u=typeof i.usingOperation=="boolean",C=typeof i.affectsData=="boolean",f=C?i.affectsData:l.affectsData;if(!u&&!i.range&&!C)throw new K("writer-updatemarker-wrong-options",this);const w=l.getRange(),S=i.range?i.range:w;u&&i.usingOperation!==l.managedUsingOperations?i.usingOperation?Iu(this,r,null,S,f):(Iu(this,r,w,null,f),this.model.markers._set(r,S,void 0,f)):l.managedUsingOperations?Iu(this,r,w,S,f):this.model.markers._set(r,S,void 0,f)}removeMarker(e){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name;if(!this.model.markers.has(i))throw new K("writer-removemarker-no-marker",this);const r=this.model.markers.get(i);if(!r.managedUsingOperations)return void this.model.markers._remove(i);Iu(this,i,r.getRange(),null,r.affectsData)}addRoot(e,i="$root"){this._assertWriterUsedCorrectly();const r=this.model.document.getRoot(e);if(r&&r.isAttached())throw new K("writer-addroot-root-exists",this);const l=this.model.document,u=new Ss(e,i,!0,l,l.version);return this.batch.addOperation(u),this.model.applyOperation(u),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const i=typeof e=="string"?this.model.document.getRoot(e):e;if(!i||!i.isAttached())throw new K("writer-detachroot-no-root",this);for(const u of this.model.markers)u.getRange().root===i&&this.removeMarker(u);for(const u of i.getAttributeKeys())this.removeAttribute(u,i);this.remove(this.createRangeIn(i));const r=this.model.document,l=new Ss(i.rootName,i.name,!1,r,r.version);this.batch.addOperation(l),this.model.applyOperation(l)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,i){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,i)}setSelectionAttribute(e,i){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,i);else for(const[r,l]of ks(e))this._setSelectionAttribute(r,l)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const i of e)this._removeSelectionAttribute(i)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,i){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const l=qr._getStoreAttributeKey(e);this.setAttribute(l,i,r.anchor.parent)}r._setAttribute(e,i)}_removeSelectionAttribute(e){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const r=qr._getStoreAttributeKey(e);this.removeAttribute(r,i.anchor.parent)}i._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new K("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,i){for(const r of this.model.markers){if(!r.managedUsingOperations)continue;const l=r.getRange();let u=!1;if(e==="move"){const C=i;u=C.containsPosition(l.start)||C.start.isEqual(l.start)||C.containsPosition(l.end)||C.end.isEqual(l.end)}else{const C=i,f=C.nodeBefore,w=C.nodeAfter,S=l.start.parent==f&&l.start.isAtEnd,R=l.end.parent==w&&l.end.offset==0,X=l.end.nodeAfter==w,J=l.start.nodeAfter==w;u=S||R||X||J}u&&this.updateMarker(r.name,{range:l})}}}function yZ(a,e,i,r){const l=a.model,u=l.document;let C,f,w,S=r.start;for(const X of r.getWalker({shallow:!0}))w=X.item.getAttribute(e),C&&f!=w&&(f!=i&&R(),S=C),C=X.nextPosition,f=w;function R(){const X=new Xe(S,C),J=X.root.document?u.version:null,U=new yi(X,e,f,i,J);a.batch.addOperation(U),l.applyOperation(U)}C instanceof Ue&&C!=S&&f!=i&&R()}function kZ(a,e,i,r){const l=a.model,u=l.document,C=r.getAttribute(e);let f,w;if(C!=i){if(r.root===r){const S=r.document?u.version:null;w=new qs(r,e,C,i,S)}else{f=new Xe(Ue._createBefore(r),a.createPositionAfter(r));const S=f.root.document?u.version:null;w=new yi(f,e,C,i,S)}a.batch.addOperation(w),l.applyOperation(w)}}function Iu(a,e,i,r,l){const u=a.model,C=u.document,f=new Go(e,i,r,u.markers,!!l,C.version);a.batch.addOperation(f),u.applyOperation(f)}function OK(a,e,i,r){let l;if(a.root.document){const u=r.document,C=new Ue(u.graveyard,[0]);l=new Cn(a,e,C,u.version)}else l=new PK(a,e);i.addOperation(l),r.applyOperation(l)}function vZ(a,e){return a===e||a instanceof hC&&e instanceof hC}function UK(a,e,i={}){if(e.isCollapsed)return;const r=e.getFirstRange();if(r.root.rootName=="$graveyard")return;const l=a.schema;a.change(u=>{if(!i.doNotResetEntireContent&&function(S,R){const X=S.getLimitElement(R);if(!R.containsEntireContent(X))return!1;const J=R.getFirstRange();return J.start.parent==J.end.parent?!1:S.checkChild(X,"paragraph")}(l,e))return void function(S,R){const X=S.model.schema.getLimitElement(R);S.remove(S.createRangeIn(X)),SZ(S,S.createPositionAt(X,0),R)}(u,e);const C={};if(!i.doNotAutoparagraph){const S=e.getSelectedElement();S&&Object.assign(C,l.getAttributesWithProperty(S,"copyOnReplace",!0))}const[f,w]=function(S){const R=S.root.document.model,X=S.start;let J=S.end;if(R.hasContent(S,{ignoreMarkers:!0})){const U=function(te){const ae=te.parent,he=ae.root.document.model.schema,Ie=ae.getAncestors({parentFirst:!0,includeSelf:!0});for(const we of Ie){if(he.isLimit(we))return null;if(he.isBlock(we))return we}}(J);if(U&&J.isTouching(R.createPositionAt(U,0))){const te=R.createSelection(S);R.modifySelection(te,{direction:"backward"});const ae=te.getLastPosition(),he=R.createRange(ae,J);R.hasContent(he,{ignoreMarkers:!0})||(J=ae)}}return[eo.fromPosition(X,"toPrevious"),eo.fromPosition(J,"toNext")]}(r);f.isTouching(w)||u.remove(u.createRange(f,w)),i.leaveUnmerged||(function(S,R,X){const J=S.model;if(!C0(S.model.schema,R,X))return;const[U,te]=function(ae,he){const Ie=ae.getAncestors(),we=he.getAncestors();let We=0;for(;Ie[We]&&Ie[We]==we[We];)We++;return[Ie[We],we[We]]}(R,X);!U||!te||(!J.hasContent(U,{ignoreMarkers:!0})&&J.hasContent(te,{ignoreMarkers:!0})?xZ(S,R,X,U.parent):wZ(S,R,X,U.parent))}(u,f,w),l.removeDisallowedAttributes(f.parent.getChildren(),u)),BZ(u,e,f),!i.doNotAutoparagraph&&function(S,R){const X=S.checkChild(R,"$text"),J=S.checkChild(R,"paragraph");return!X&&J}(l,f)&&SZ(u,f,e,C),f.detach(),w.detach()})}function wZ(a,e,i,r){const l=e.parent,u=i.parent;if(l!=r&&u!=r){for(e=a.createPositionAfter(l),(i=a.createPositionBefore(u)).isEqual(e)||a.insert(u,e),a.merge(e);i.parent.isEmpty;){const C=i.parent;i=a.createPositionBefore(C),a.remove(C)}C0(a.model.schema,e,i)&&wZ(a,e,i,r)}}function xZ(a,e,i,r){const l=e.parent,u=i.parent;if(l!=r&&u!=r){for(e=a.createPositionAfter(l),(i=a.createPositionBefore(u)).isEqual(e)||a.insert(l,i);e.parent.isEmpty;){const C=e.parent;e=a.createPositionBefore(C),a.remove(C)}i=a.createPositionBefore(u),function(C,f){const w=f.nodeBefore,S=f.nodeAfter;w.name!=S.name&&C.rename(w,S.name),C.clearAttributes(w),C.setAttributes(Object.fromEntries(S.getAttributes()),w),C.merge(f)}(a,i),C0(a.model.schema,e,i)&&xZ(a,e,i,r)}}function C0(a,e,i){const r=e.parent,l=i.parent;return r!=l&&!a.isLimit(r)&&!a.isLimit(l)&&function(u,C,f){const w=new Xe(u,C);for(const S of w.getWalker())if(f.isLimit(S.item))return!1;return!0}(e,i,a)}function SZ(a,e,i,r={}){const l=a.createElement("paragraph");a.model.schema.setAllowedAttributes(l,r,a),a.insert(l,e),BZ(a,i,a.createPositionAt(l,0))}function BZ(a,e,i){e instanceof qr?a.setSelection(i):e.setTo(i)}function ZZ(a,e){const i=[];Array.from(a.getItems({direction:"backward"})).map(r=>e.createRangeOn(r)).filter(r=>(r.start.isAfter(a.start)||r.start.isEqual(a.start))&&(r.end.isBefore(a.end)||r.end.isEqual(a.end))).forEach(r=>{i.push(r.start.parent),e.remove(r)}),i.forEach(r=>{let l=r;for(;l.parent&&l.isEmpty;){const u=e.createRangeOn(l);l=l.parent,e.remove(u)}})}class QK{constructor(e,i,r){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=i,this.position=r,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=i.createDocumentFragment(),this._documentFragmentPosition=i.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const i of Array.from(e))this._handleNode(i);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const i=this.writer.createPositionAfter(this._lastNode),r=this.writer.createPositionAfter(e);if(r.isAfter(i)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new K("insertcontent-invalid-insertion-position",this);this.position=r,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?Xe._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Xe(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let i=this._checkAndAutoParagraphToAllowedPosition(e);i||(i=this._checkAndSplitToAllowedPosition(e),i)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=eo.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new K("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=eo.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=eo.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof Zn)||!this._canMergeLeft(e))return;const i=eo._createBefore(e);i.stickiness="toNext";const r=eo.fromPosition(this.position,"toNext");this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=eo._createAt(i.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=eo._createAt(i.nodeBefore,"end","toNext")),this.position=r.toPosition(),r.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof Zn)||!this._canMergeRight(e))return;const i=eo._createAfter(e);if(i.stickiness="toNext",!this.position.isEqual(i))throw new K("insertcontent-invalid-insertion-position",this);this.position=Ue._createAt(i.nodeBefore,"end");const r=eo.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=eo._createAt(i.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=eo._createAt(i.nodeBefore,0,"toPrevious")),this.position=r.toPosition(),r.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_canMergeLeft(e){const i=e.previousSibling;return i instanceof Zn&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,e)}_canMergeRight(e){const i=e.nextSibling;return i instanceof Zn&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(e,i)}_tryAutoparagraphing(e){const i=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,i)&&this.schema.checkChild(i,e)&&(i._appendChild(e),this._handleNode(i))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const i=this.writer.createElement("paragraph");return this.writer.insert(i,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=i,this.position=this.writer.createPositionAt(i,0),!0}_checkAndSplitToAllowedPosition(e){const i=this._getAllowedIn(this.position.parent,e);if(!i)return!1;for(i!=this.position.parent&&this._insertPartialFragment();i!=this.position.parent;)if(this.position.isAtStart){const r=this.position.parent;this.position=this.writer.createPositionBefore(r),r.isEmpty&&r.parent===i&&this.writer.remove(r)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const r=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=r,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,i){return this.schema.checkChild(e,i)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,i)}}function qK(a,e,i,r={}){if(!a.schema.isObject(e))throw new K("insertobject-element-not-an-object",a,{object:e});const l=i||a.document.selection;let u=l;r.findOptimalPosition&&a.schema.isBlock(e)&&(u=a.createSelection(a.schema.findOptimalInsertionRange(l,r.findOptimalPosition)));const C=zi(l.getSelectedBlocks()),f={};return C&&Object.assign(f,a.schema.getAttributesWithProperty(C,"copyOnReplace",!0)),a.change(w=>{u.isCollapsed||a.deleteContent(u,{doNotAutoparagraph:!0});let S=e;const R=u.anchor.parent;!a.schema.checkChild(R,e)&&a.schema.checkChild(R,"paragraph")&&a.schema.checkChild("paragraph",e)&&(S=w.createElement("paragraph"),w.insert(e,S)),a.schema.setAllowedAttributes(S,f,w);const X=a.insertContent(S,u);return X.isCollapsed||r.setSelection&&function(J,U,te,ae){const he=J.model;if(te=="on")return void J.setSelection(U,"on");if(te!="after")throw new K("insertobject-invalid-place-parameter-value",he);let Ie=U.nextSibling;if(he.schema.isInline(U))return void J.setSelection(U,"after");!(Ie&&he.schema.checkChild(Ie,"$text"))&&he.schema.checkChild(U.parent,"paragraph")&&(Ie=J.createElement("paragraph"),he.schema.setAllowedAttributes(Ie,ae,J),he.insertContent(Ie,J.createPositionAfter(U))),Ie&&J.setSelection(Ie,0)}(w,e,r.setSelection,f),X})}const $K=' ,.?!:;"-()';function eP(a,e){const{isForward:i,walker:r,unit:l,schema:u,treatEmojiAsSingleUnit:C}=a,{type:f,item:w,nextPosition:S}=e;if(f=="text")return a.unit==="word"?function(R,X){let J=R.position.textNode;for(J||(J=X?R.position.nodeAfter:R.position.nodeBefore);J&&J.is("$text");){const U=R.position.offset-J.startOffset;if(iP(J,U,X))J=X?R.position.nodeAfter:R.position.nodeBefore;else{if(nP(J.data,U,X))break;R.next()}}return R.position}(r,i):function(R,X,J){const U=R.position.textNode;if(U){const te=U.data;let ae=R.position.offset-U.startOffset;for(;NA(te,ae)||X=="character"&&EA(te,ae)||J&&p2(te,ae);)R.next(),ae=R.position.offset-U.startOffset}return R.position}(r,l,C);if(f==(i?"elementStart":"elementEnd")){if(u.isSelectable(w))return Ue._createAt(w,i?"after":"before");if(u.checkChild(S,"$text"))return S}else{if(u.isLimit(w))return void r.skip(()=>!0);if(u.checkChild(S,"$text"))return S}}function tP(a,e){const i=a.root,r=Ue._createAt(i,e?"end":0);return e?new Xe(a,r):new Xe(r,a)}function nP(a,e,i){const r=e+(i?0:-1);return $K.includes(a.charAt(r))}function iP(a,e,i){return e===(i?a.offsetSize:0)}class oP extends rt(){constructor(){super(),this.markers=new KK,this.document=new FK(this),this.schema=new qz,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,i)=>{if(i.name==="$marker")return!0}),Oz(this),this.document.registerPostFixer(HB),this.on("insertContent",(e,[i,r])=>{e.return=function(l,u,C){return l.change(f=>{const w=C||l.document.selection;w.isCollapsed||l.deleteContent(w,{doNotAutoparagraph:!0});const S=new QK(l,f,w.anchor),R=[];let X;if(u.is("documentFragment")){if(u.markers.size){const te=[];for(const[ae,he]of u.markers){const{start:Ie,end:we}=he,We=Ie.isEqual(we);te.push({position:Ie,name:ae,isCollapsed:We},{position:we,name:ae,isCollapsed:We})}te.sort(({position:ae},{position:he})=>ae.isBefore(he)?1:-1);for(const{position:ae,name:he,isCollapsed:Ie}of te){let we=null,We=null;const ze=ae.parent===u&&ae.isAtStart,ut=ae.parent===u&&ae.isAtEnd;ze||ut?Ie&&(We=ze?"start":"end"):(we=f.createElement("$marker"),f.insert(we,ae)),R.push({name:he,element:we,collapsed:We})}}X=u.getChildren()}else X=[u];S.handleNodes(X);let J=S.getSelectionRange();if(u.is("documentFragment")&&R.length){const te=J?Oo.fromRange(J):null,ae={};for(let he=R.length-1;he>=0;he--){const{name:Ie,element:we,collapsed:We}=R[he],ze=!ae[Ie];if(ze&&(ae[Ie]=[]),we){const ut=f.createPositionAt(we,"before");ae[Ie].push(ut),f.remove(we)}else{const ut=S.getAffectedRange();if(!ut){We&&ae[Ie].push(S.position);continue}We?ae[Ie].push(ut[We]):ae[Ie].push(ze?ut.start:ut.end)}}for(const[he,[Ie,we]]of Object.entries(ae))Ie&&we&&Ie.root===we.root&&Ie.root.document&&!f.model.markers.has(he)&&f.addMarker(he,{usingOperation:!0,affectsData:!0,range:new Xe(Ie,we)});te&&(J=te.toRange(),te.detach())}J&&(w instanceof qr?f.setSelection(J):w.setTo(J));const U=S.getAffectedRange()||l.createRange(w.anchor);return S.destroy(),U})}(this,i,r)}),this.on("insertObject",(e,[i,r,l])=>{e.return=qK(this,i,r,l)}),this.on("canEditAt",e=>{const i=!this.document.isReadOnly;e.return=i,i||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new sg,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(i){K.rethrowUnexpectedError(i,this)}}enqueueChange(e,i){try{e?typeof e=="function"?(i=e,e=new sg):e instanceof sg||(e=new sg(e)):e=new sg,this._pendingChanges.push({batch:e,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(r){K.rethrowUnexpectedError(r,this)}}applyOperation(e){e._execute()}insertContent(e,i,r,...l){const u=p0(i,r);return this.fire("insertContent",[e,u,r,...l])}insertObject(e,i,r,l,...u){const C=p0(i,r);return this.fire("insertObject",[e,C,l,l,...u])}deleteContent(e,i){UK(this,e,i)}modifySelection(e,i){(function(r,l,u={}){const C=r.schema,f=u.direction!="backward",w=u.unit?u.unit:"character",S=!!u.treatEmojiAsSingleUnit,R=l.focus,X=new Qs({boundaries:tP(R,f),singleCharacters:!0,direction:f?"forward":"backward"}),J={walker:X,schema:C,isForward:f,unit:w,treatEmojiAsSingleUnit:S};let U;for(;U=X.next();){if(U.done)return;const te=eP(J,U.value);if(te)return void(l instanceof qr?r.change(ae=>{ae.setSelectionFocus(te)}):l.setFocus(te))}})(this,e,i)}getSelectedContent(e){return function(i,r){return i.change(l=>{const u=l.createDocumentFragment(),C=r.getFirstRange();if(!C||C.isCollapsed)return u;const f=C.start.root,w=C.start.getCommonPath(C.end),S=f.getNodeByPath(w);let R;R=C.start.parent==C.end.parent?C:l.createRange(l.createPositionAt(S,C.start.path[w.length]),l.createPositionAt(S,C.end.path[w.length]+1));const X=R.end.offset-R.start.offset;for(const J of R.getItems({shallow:!0}))J.is("$textProxy")?l.appendText(J.data,J.getAttributes(),u):l.append(l.cloneElement(J,!0),u);if(R!=C){const J=C._getTransformedByMove(R.start,l.createPositionAt(u,0),X)[0],U=l.createRange(l.createPositionAt(u,0),J.start);ZZ(l.createRange(J.end,l.createPositionAt(u,"end")),l),ZZ(U,l)}return u})}(this,e)}hasContent(e,i={}){const r=e instanceof Xe?e:Xe._createIn(e);if(r.isCollapsed)return!1;const{ignoreWhitespaces:l=!1,ignoreMarkers:u=!1}=i;if(!u){for(const C of this.markers.getMarkersIntersectingRange(r))if(C.affectsData)return!0}for(const C of r.getItems())if(this.schema.isContent(C)&&(!C.is("$textProxy")||!l||C.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const i=p0(e);return this.fire("canEditAt",[i])}createPositionFromPath(e,i,r){return new Ue(e,i,r)}createPositionAt(e,i){return Ue._createAt(e,i)}createPositionAfter(e){return Ue._createAfter(e)}createPositionBefore(e){return Ue._createBefore(e)}createRange(e,i){return new Xe(e,i)}createRangeIn(e){return Xe._createIn(e)}createRangeOn(e){return Xe._createOn(e)}createSelection(...e){return new jo(...e)}createBatch(e){return new sg(e)}createOperationFromJSON(e){return AK.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new jK(this,i);const r=this._pendingChanges[0].callback(this._currentWriter);e.push(r),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function p0(a,e){if(a)return a instanceof jo||a instanceof qr?a:a instanceof Kl?e||e===0?new jo(a,e):a.is("rootElement")?new jo(a,"in"):new jo(a,"on"):new jo(a)}class rP extends Ja{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class I0 extends Ja{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class ea{constructor(e){this.document=e}createDocumentFragment(e){return new zl(this.document,e)}createElement(e,i,r){return new Ko(this.document,e,i,r)}createText(e){return new Nn(this.document,e)}clone(e,i=!1){return e._clone(i)}appendChild(e,i){return i._appendChild(e)}insertChild(e,i,r){return r._insertChild(e,i)}removeChildren(e,i,r){return r._removeChildren(e,i)}remove(e){const i=e.parent;return i?this.removeChildren(i.getChildIndex(e),1,i):[]}replace(e,i){const r=e.parent;if(r){const l=r.getChildIndex(e);return this.removeChildren(l,1,r),this.insertChild(l,i,r),!0}return!1}unwrapElement(e){const i=e.parent;if(i){const r=i.getChildIndex(e);this.remove(e),this.insertChild(r,e.getChildren(),i)}}rename(e,i){const r=new Ko(this.document,e,i.getAttributes(),i.getChildren());return this.replace(i,r)?r:null}setAttribute(e,i,r){r._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,r){Ei(e)&&r===void 0?i._setStyle(e):r._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,r){r._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}createPositionAt(e,i){return gt._createAt(e,i)}createPositionAfter(e){return gt._createAfter(e)}createPositionBefore(e){return gt._createBefore(e)}createRange(e,i){return new Ht(e,i)}createRangeOn(e){return Ht._createOn(e)}createRangeIn(e){return Ht._createIn(e)}createSelection(...e){return new jr(...e)}}class sP{constructor(){this._commands=new Map}add(e,i){this._commands.set(e,i)}get(e){return this._commands.get(e)}execute(e,...i){const r=this.get(e);if(!r)throw new K("commandcollection-command-not-found",this,{commandName:e});return r.execute(...i)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}var aP=Object.defineProperty,GZ=Object.getOwnPropertySymbols,lP=Object.prototype.hasOwnProperty,cP=Object.prototype.propertyIsEnumerable,RZ=(a,e,i)=>e in a?aP(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;const f0="contentEditing",VZ="common";class gP{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const i=e.config.get("menuBar.isVisible"),r=e.locale.t;this.addKeystrokeInfoCategory({id:f0,label:r("Content editing keystrokes"),description:r("These keyboard shortcuts allow for quick access to content editing features.")});const l=[{label:r("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:r("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:r("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:r("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:r("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:r("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];i&&l.push({label:r("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:r("User interface and content navigation keystrokes"),description:r("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:l}]})}addKeystrokeInfoCategory({id:e,label:i,description:r,groups:l}){this.keystrokeInfos.set(e,{id:e,label:i,description:r,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:VZ}),l&&l.forEach(u=>{this.addKeystrokeInfoGroup(((C,f)=>{for(var w in f||(f={}))lP.call(f,w)&&RZ(C,w,f[w]);if(GZ)for(var w of GZ(f))cP.call(f,w)&&RZ(C,w,f[w]);return C})({categoryId:e},u))})}addKeystrokeInfoGroup({categoryId:e=f0,id:i,label:r,keystrokes:l}){const u=this.keystrokeInfos.get(e);if(!u)throw new K("accessibility-unknown-keystroke-info-category",this._editor,{groupId:i,categoryId:e});u.groups.set(i,{id:i,label:r,keystrokes:l||[]})}addKeystrokeInfos({categoryId:e=f0,groupId:i=VZ,keystrokes:r}){if(!this.keystrokeInfos.has(e))throw new K("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:r});const l=this.keystrokeInfos.get(e);if(!l.groups.has(i))throw new K("accessibility-unknown-keystroke-info-group",this._editor,{groupId:i,categoryId:e,keystrokes:r});l.groups.get(i).keystrokes.push(...r)}}var WZ=Object.getOwnPropertySymbols,dP=Object.prototype.hasOwnProperty,uP=Object.prototype.propertyIsEnumerable,_Z=(a,e)=>{var i={};for(var r in a)dP.call(a,r)&&e.indexOf(r)<0&&(i[r]=a[r]);if(a!=null&&WZ)for(var r of WZ(a))e.indexOf(r)<0&&uP.call(a,r)&&(i[r]=a[r]);return i};class hP extends rt(){constructor(e={}){super();const i=this.constructor,r=i.defaultConfig||{},{translations:l}=r,u=_Z(r,["translations"]),C=e,{translations:f=l}=C,w=_Z(C,["translations"]),S=e.language||u.language;this._context=e.context||new _2({language:S,translations:f}),this._context._addEditor(this,!e.context);const R=Array.from(i.builtinPlugins||[]);this.config=new LS(w,u),this.config.define("plugins",R),this.config.define(this._context._getEditorConfig()),this.plugins=new V2(this,R,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new sP,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new oP,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const X=new ZL;this.data=new fK(this.model,X),this.editing=new Uz(this.model,X),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new bK([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new sL(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new gP(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new K("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new K("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new K("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,i=e.get("plugins"),r=e.get("removePlugins")||[],l=e.get("extraPlugins")||[],u=e.get("substitutePlugins")||[];return this.plugins.init(i.concat(l),r,u)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(i=>this.once("ready",i))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...i){try{return this.commands.execute(e,...i)}catch(r){K.rethrowUnexpectedError(r,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function b0(a){return class extends a{updateSourceElement(e){if(!this.sourceElement)throw new K("editor-missing-sourceelement",this);const i=this.config.get("updateSourceElementOnDestroy"),r=this.sourceElement instanceof HTMLTextAreaElement;if(!i&&!r)return void $S(this.sourceElement,"");const l=typeof e=="string"?e:this.data.get();$S(this.sourceElement,l)}}}b0.updateSourceElement=b0(Object).prototype.updateSourceElement;class NZ extends Um{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Kr({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new K("pendingactions-add-invalid-message",this);const i=new(rt());return i.set("message",e),this._actions.add(i),this.hasAny=!0,i}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Tt={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeCustom:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var EZ=d(7801),mP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(EZ.A,mP),EZ.A.locals;class mC extends Gt{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${j()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}class CP extends Gt{constructor(e,i){super(e);const r=e.t,l=new mC;l.text=r("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":l.id,role:"document",tabindex:-1},children:[$i(document,"p",{},r("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(i.values())),l]})}focus(){this.element.focus()}_createCategories(e){return e.map(i=>{const r=[$i(document,"h3",{},i.label),...Array.from(i.groups.values()).map(l=>this._createGroup(l)).flat()];return i.description&&r.splice(1,0,$i(document,"p",{},i.description)),$i(document,"section",{},r)})}_createGroup(e){const i=e.keystrokes.sort((l,u)=>l.label.localeCompare(u.label)).map(l=>this._createGroupRow(l)).flat(),r=[$i(document,"dl",{},i)];return e.label&&r.unshift($i(document,"h4",{},e.label)),r}_createGroupRow(e){const i=this.locale.t,r=$i(document,"dt"),l=$i(document,"dd"),u=function(f){return typeof f=="string"?[[f]]:typeof f[0]=="string"?[f]:f}(e.keystroke),C=[];for(const f of u)C.push(f.map(pP).join(""));return r.innerHTML=e.label,l.innerHTML=C.join(", ")+(e.mayRequireFn&&_.isMac?` ${i("(may require <kbd>Fn</kbd>)")}`:""),[r,l]}}function pP(a){return zm(a).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}const XZ='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var YZ=d(8527),IP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(YZ.A,IP),YZ.A.locals;class fP extends qe{constructor(){super(...arguments),this.contentView=null}static get requires(){return[ia]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,i=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const r=this._createButton(pn);return r.set({tooltip:!0,withText:!1,label:i("Accessibility help")}),r}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const r=this._createButton(Qo);return r.label=i("Accessibility"),r}),e.keystrokes.set("Alt+0",(r,l)=>{this._showDialog(),l()}),this._setupRootLabels()}_createButton(e){const i=new e(this.editor.locale);return i.set({keystroke:"Alt+0",icon:XZ}),i.on("execute",()=>this._showDialog()),i}_setupRootLabels(){const e=this.editor,i=e.editing.view,r=e.t;function l(u,C){const f=`${C.getAttribute("aria-label")}. ${r("Press %0 for help.",[zm("Alt+0")])}`;u.setAttribute("aria-label",f,C)}e.ui.on("ready",()=>{i.change(u=>{for(const C of i.document.roots)l(u,C)}),e.on("addRoot",(u,C)=>{const f=e.editing.view.document.getRoot(C.rootName);i.change(w=>l(w,f))},{priority:"low"})})}_showDialog(){const e=this.editor,i=e.plugins.get("Dialog"),r=e.locale.t;this.contentView||(this.contentView=new CP(e.locale,e.accessibility.keystrokeInfos)),i.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:r("Accessibility help"),icon:XZ,hasCloseButton:!0,content:this.contentView})}}class bP extends Ir{constructor(e,i=[]){super(i),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new Pr({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=$i(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var DZ=d(7621),AP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(DZ.A,AP),DZ.A.locals;const HZ=class extends Gt{constructor(){super();const a=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",a.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",a.if("isColorInherited","ck-icon_inherit-color")],viewBox:a.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const a=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=a.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:i,value:r}of Array.from(a.attributes))HZ.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,r);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;a.childNodes.length>0;)this.element.appendChild(a.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(a=>{a.style.fill=this.fillColor})}};let ta=HZ;ta.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class yP extends Gt{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var FZ=d(9715),kP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(FZ.A,kP),FZ.A.locals;class pn extends Gt{constructor(e,i=new yP){super(e),this._focusDelayed=null;const r=this.bindTemplate,l=j();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${l}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(i),this.iconView=new ta,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const u={tag:"button",attributes:{class:["ck","ck-button",r.to("class"),r.if("isEnabled","ck-disabled",C=>!C),r.if("isVisible","ck-hidden",C=>!C),r.to("isOn",C=>C?"ck-on":"ck-off"),r.if("withText","ck-button_with-text"),r.if("withKeystroke","ck-button_with-keystroke")],role:r.to("role"),type:r.to("type",C=>C||"button"),tabindex:r.to("tabindex"),"aria-checked":r.to("ariaChecked"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy"),"aria-disabled":r.if("isEnabled",!0,C=>!C),"aria-pressed":r.to("isOn",C=>!!this.isToggleable&&String(!!C)),"data-cke-tooltip-text":r.to("_tooltipString"),"data-cke-tooltip-position":r.to("tooltipPosition")},children:this.children,on:{click:r.to(C=>{this.isEnabled?this.fire("execute"):C.preventDefault()})}};_.isSafari&&(this._focusDelayed||(this._focusDelayed=_A(()=>this.focus(),0)),u.on.mousedown=r.to(()=>{this._focusDelayed()}),u.on.mouseup=r.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(u)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Gt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>zm(i))}]}),e}_getTooltipString(e,i,r){return e?typeof e=="string"?e:(r&&(r=zm(r)),e instanceof Function?e(i,r):`${i}${r?` (${r})`:""}`):""}}var MZ=d(4391),vP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(MZ.A,vP),MZ.A.locals;class CC extends pn{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Gt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class TZ extends pn{constructor(e){super(e),this.buttonView=this,this._fileInputView=new wP(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class wP extends Gt{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const pC='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var JZ=d(25),xP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(JZ.A,xP),JZ.A.locals;class SP extends Gt{constructor(e,i){super(e);const r=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),i&&this.children.addMany(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",r.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:r.if("isCollapsed","hidden"),"aria-labelledby":r.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new pn(this.locale),i=e.bindTemplate;return e.set({withText:!0,icon:pC}),e.extendTemplate({attributes:{"aria-expanded":i.to("isOn",r=>String(r))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",r=>!r),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}var LZ=d(7317),BP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(LZ.A,BP),LZ.A.locals,d(6931),d(9047);var zZ=d(4962),ZP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(zZ.A,ZP),zZ.A.locals;class IC extends Gt{constructor(e,i){super(e);const r=`ck-labeled-field-view-${j()}`,l=`ck-labeled-field-view-status-${j()}`;this.fieldView=i(this,r,l),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(r),this.statusView=this._createStatusView(l),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(C,f)=>C||f);const u=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",u.to("class"),u.if("isEnabled","ck-disabled",C=>!C),u.if("isEmpty","ck-labeled-field-view_empty"),u.if("isFocused","ck-labeled-field-view_focused"),u.if("placeholder","ck-labeled-field-view_placeholder"),u.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const i=new mC(this.locale);return i.for=e,i.bind("text").to(this,"label"),i}_createStatusView(e){const i=new Gt(this.locale),r=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",r.if("errorText","ck-labeled-field-view__status_error"),r.if("_statusText","ck-hidden",l=>!l)],id:e,role:r.if("errorText","alert")},children:[{text:r.to("_statusText")}]}),i}focus(e){this.fieldView.focus(e)}}class GP extends Gt{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Ki,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),tabindex:i.to("tabIndex"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById"),"aria-label":i.to("ariaLabel")},on:{input:i.to((...r)=>{this.fire("input",...r),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,i,r)=>{this._setDomElementValue(r),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var KZ=d(253),RP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(KZ.A,RP),KZ.A.locals;class VP extends GP{constructor(e){super(e),this.set("inputMode","text");const i=this.bindTemplate;this.extendTemplate({attributes:{inputmode:i.to("inputMode")}})}}class WP extends VP{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var PZ=d(1671),_P={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(PZ.A,_P),PZ.A.locals;class NP extends Gt{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",r=>`ck-dropdown__panel_${r}`),i.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:i.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():de("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var jZ=d(8149),EP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(jZ.A,EP),jZ.A.locals;const A0=class extends Gt{constructor(a,e,i){super(a);const r=this.bindTemplate;this.buttonView=e,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new yo,this.focusTracker=new Ki,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",l=>!l)],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[e,i]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":r.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(e,i,r)=>{if(r)if(this.panelPosition==="auto"){const l=A0._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=l?l.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const a=(e,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(e,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(e,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",a),this.keystrokes.set("esc",a)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:a,north:e,southEast:i,southWest:r,northEast:l,northWest:u,southMiddleEast:C,southMiddleWest:f,northMiddleEast:w,northMiddleWest:S}=A0.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,r,C,f,a,l,u,w,S,e]:[r,i,f,C,a,u,l,S,w,e]}};let y0=A0;y0.defaultPanelPositions={south:(a,e)=>({top:a.bottom,left:a.left-(e.width-a.width)/2,name:"s"}),southEast:a=>({top:a.bottom,left:a.left,name:"se"}),southWest:(a,e)=>({top:a.bottom,left:a.left-e.width+a.width,name:"sw"}),southMiddleEast:(a,e)=>({top:a.bottom,left:a.left-(e.width-a.width)/4,name:"sme"}),southMiddleWest:(a,e)=>({top:a.bottom,left:a.left-3*(e.width-a.width)/4,name:"smw"}),north:(a,e)=>({top:a.top-e.height,left:a.left-(e.width-a.width)/2,name:"n"}),northEast:(a,e)=>({top:a.top-e.height,left:a.left,name:"ne"}),northWest:(a,e)=>({top:a.top-e.height,left:a.left-e.width+a.width,name:"nw"}),northMiddleEast:(a,e)=>({top:a.top-e.height,left:a.left-(e.width-a.width)/4,name:"nme"}),northMiddleWest:(a,e)=>({top:a.top-e.height,left:a.left-3*(e.width-a.width)/4,name:"nmw"})},y0._getOptimalPosition=Lm;class XP extends pn{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new ta;return e.content=pC,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class br extends fe(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const i in e.actions){let r=e.actions[i];typeof r=="string"&&(r=[r]);for(const l of r)e.keystrokeHandler.set(l,(u,C)=>{this[i](),C()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(k0)||null}get last(){return this.focusables.filter(k0).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,r)=>{const l=i.element===this.focusTracker.focusedElement;return l&&(e=r),l}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,i){e&&this.focusTracker.focusedElement!==e.element&&e.focus(i)}_getDomFocusableItem(e){const i=this.focusables.length;if(!i)return null;const r=this.current;if(r===null)return this[e===1?"first":"last"];let l=this.focusables.get(r),u=(r+i+e)%i;do{const C=this.focusables.get(u);if(k0(C)){l=C;break}u=(u+i+e)%i}while(u!==r);return l}}function k0(a){return fu(a)&&Fl(a.element)}function fu(a){return!(!("focus"in a)||typeof a.focus!="function")}class OZ extends Gt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class YP extends Gt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var DP=Object.defineProperty,UZ=Object.getOwnPropertySymbols,HP=Object.prototype.hasOwnProperty,FP=Object.prototype.propertyIsEnumerable,QZ=(a,e,i)=>e in a?DP(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,qZ=(a,e)=>{for(var i in e||(e={}))HP.call(e,i)&&QZ(a,i,e[i]);if(UZ)for(var i of UZ(e))FP.call(e,i)&&QZ(a,i,e[i]);return a};function $Z(a){if(Array.isArray(a))return{items:a,removeItems:[]};const e={items:[],removeItems:[]};return a?qZ(qZ({},e),a):e}var eG=d(9677),MP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(eG.A,MP),eG.A.locals;const TP={alignLeft:Tt.alignLeft,bold:Tt.bold,importExport:Tt.importExport,paragraph:Tt.paragraph,plus:Tt.plus,text:Tt.text,threeVerticalDots:Tt.threeVerticalDots,pilcrow:Tt.pilcrow,dragIndicator:Tt.dragIndicator};class v0 extends Gt{constructor(e,i){super(e);const r=this.bindTemplate,l=this.t;this.options=i||{},this.set("ariaLabel",l("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Ki,this.keystrokes=new yo,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new JP(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const u=e.uiLanguageDirection==="rtl";this._focusCycler=new br({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[u?"arrowright":"arrowleft","arrowup"],focusNext:[u?"arrowleft":"arrowright","arrowdown"]}});const C=["ck","ck-toolbar",r.to("class"),r.if("isCompact","ck-toolbar_compact")];var f;this.options.shouldGroupWhenFull&&this.options.isFloating&&C.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:C,role:"toolbar","aria-label":r.to("ariaLabel"),style:{maxWidth:r.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(f=this,f.bindTemplate.to(w=>{w.target===f.element&&w.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new zP(this):new LP(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,i,r){this.items.addMany(this._buildItemsFromConfig(e,i,r))}_buildItemsFromConfig(e,i,r){const l=$Z(e),u=r||l.removeItems;return this._cleanItemsConfiguration(l.items,i,u).map(C=>He(C)?this._createNestedToolbarDropdown(C,i,u):C==="|"?new OZ:C==="-"?new YP:i.create(C)).filter(C=>!!C)}_cleanItemsConfiguration(e,i,r){const l=e.filter((u,C,f)=>u==="|"||r.indexOf(u)===-1&&(u==="-"?!this.options.shouldGroupWhenFull||(de("toolbarview-line-break-ignored-when-grouping-items",f),!1):!(!He(u)&&!i.has(u))||(de("toolbarview-item-unavailable",{item:u}),!1)));return this._cleanSeparatorsAndLineBreaks(l)}_cleanSeparatorsAndLineBreaks(e){const i=C=>C!=="-"&&C!=="|",r=e.length,l=e.findIndex(i);if(l===-1)return[];const u=r-e.slice().reverse().findIndex(i);return e.slice(l,u).filter((C,f,w)=>i(C)?!0:!(f>0&&w[f-1]===C))}_createNestedToolbarDropdown(e,i,r){let{label:l,icon:u,items:C,tooltip:f=!0,withText:w=!1}=e;if(C=this._cleanItemsConfiguration(C,i,r),!C.length)return null;const S=na(this.locale);return l||de("toolbarview-nested-toolbar-dropdown-missing-label",e),S.class="ck-toolbar__nested-toolbar-dropdown",S.buttonView.set({label:l,tooltip:f,withText:!!w}),u!==!1?S.buttonView.icon=TP[u]||u||Tt.threeVerticalDots:S.buttonView.withText=!0,S0(S,()=>S.toolbarView._buildItemsFromConfig(C,i,r)),S}}class JP extends Gt{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class LP{constructor(e){const i=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(r=>r),e.focusables.bindTo(e.items).using(r=>fu(r)?r:null),e.extendTemplate({attributes:{class:[i.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class zP{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(i=>i),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(i,r)=>{const l=r.index,u=Array.from(r.added);for(const C of r.removed)l>=this.ungroupedItems.length?this.groupedItems.remove(C):this.ungroupedItems.remove(C);for(let C=l;C<l+u.length;C++){const f=u[C-l];C>this.ungroupedItems.length?this.groupedItems.add(f,C-this.ungroupedItems.length):this.ungroupedItems.add(f,C)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Fl(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let i;for(;this._areItemsOverflowing;)this._groupLastItem(),i=!0;if(!i&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,i=this.viewLocale.uiLanguageDirection,r=new rn(e.lastChild),l=new rn(e);if(!this.cachedPadding){const u=v.window.getComputedStyle(e),C=i==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(u[C])}return i==="ltr"?r.right>l.right-this.cachedPadding:r.left<l.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new $d(this.viewElement,i=>{e&&e===i.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=i.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new OZ),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,i=e.t,r=na(e);return r.class="ck-toolbar__grouped-dropdown",r.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",S0(r,this.groupedItems),r.buttonView.set({label:i("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:Tt.threeVerticalDots}),r}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{fu(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class lg extends Gt{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",r=>!r)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class w0 extends Gt{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class fC extends Gt{constructor(e,i=new mC){super(e);const r=this.bindTemplate,l=new x0(e);this.set({label:"",isVisible:!0}),this.labelView=i,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,l]),l.set({role:"group",ariaLabelledBy:i.id}),l.focusTracker.destroy(),l.keystrokes.destroy(),this.items=l.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",r.if("isVisible","ck-hidden",u=>!u)]},children:this.children})}focus(){if(this.items){const e=this.items.find(i=>!(i instanceof w0));e&&e.focus()}}}var tG=d(5199),KP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(tG.A,KP),tG.A.locals;class x0 extends Gt{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const i=this.bindTemplate;this.focusables=new Ir,this.items=this.createCollection(),this.focusTracker=new Ki,this.keystrokes=new yo,this._focusCycler=new br({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:i.to("role"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof fC?this._registerFocusableItemsGroup(e):e instanceof lg&&this._registerFocusableListItem(e);this.items.on("change",(e,i)=>{for(const r of i.removed)r instanceof fC?this._deregisterFocusableItemsGroup(r):r instanceof lg&&this._deregisterFocusableListItem(r);for(const r of Array.from(i.added).reverse())r instanceof fC?this._registerFocusableItemsGroup(r,i.index):this._registerFocusableListItem(r,i.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,i){this.focusTracker.add(e.element),this.focusables.add(e,i)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(i,r)=>{for(const l of r.removed)this._deregisterFocusableListItem(l);for(const l of Array.from(r.added).reverse())this._registerFocusableListItem(l,this.items.getIndex(e)+r.index)}}_registerFocusableItemsGroup(e,i){Array.from(e.items).forEach((l,u)=>{const C=i!==void 0?i+u:void 0;this._registerFocusableListItem(l,C)});const r=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,r),e.items.on("change",r)}_deregisterFocusableItemsGroup(e){for(const i of e.items)this._deregisterFocusableListItem(i);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}var nG=d(1792),PP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(nG.A,PP),nG.A.locals;class bC extends Gt{constructor(e,i){super(e);const r=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(i),this.arrowView=this._createArrowView(),this.keystrokes=new yo,this.focusTracker=new Ki,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",r.to("class"),r.if("isVisible","ck-hidden",l=>!l),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(e,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const i=e||new pn;return e||i.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),i.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),i.delegate("execute").to(this),i}_createArrowView(){const e=new pn,i=e.bindTemplate;return e.icon=pC,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",r=>String(r))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var iG=d(1666),jP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(iG.A,jP),iG.A.locals;var oG=d(3629),OP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(oG.A,OP),oG.A.locals;function na(a,e=XP){const i=typeof e=="function"?new e(a):e,r=new NP(a),l=new y0(a,i,r);return i.bind("isEnabled").to(l),i instanceof bC?i.arrowView.bind("isOn").to(l,"isOpen"):i.bind("isOn").to(l,"isOpen"),function(u){(function(C){C.on("render",()=>{jm({emitter:C,activator:()=>C.isOpen,callback:()=>{C.isOpen=!1},contextElements:()=>[C.element,...C.focusTracker._elements]})})})(u),function(C){C.on("execute",f=>{f.source instanceof CC||(C.isOpen=!1)})}(u),function(C){C.focusTracker.on("change:isFocused",(f,w,S)=>{C.isOpen&&!S&&(C.isOpen=!1)})}(u),function(C){C.keystrokes.set("arrowdown",(f,w)=>{C.isOpen&&(C.panelView.focus(),w())}),C.keystrokes.set("arrowup",(f,w)=>{C.isOpen&&(C.panelView.focusLast(),w())})}(u),function(C){C.on("change:isOpen",(f,w,S)=>{if(S)return;const R=C.panelView.element;R&&R.contains(v.document.activeElement)&&C.buttonView.focus()})}(u),function(C){C.on("change:isOpen",(f,w,S)=>{S&&C.panelView.focus()},{priority:"low"})}(u)}(l),l}function S0(a,e,i={}){a.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),a.isOpen?rG(a,e,i):a.once("change:isOpen",()=>rG(a,e,i),{priority:"highest"}),i.enableActiveItemFocusOnDropdownOpen&&lG(a,()=>a.toolbarView.items.find(r=>r.isOn))}function rG(a,e,i){const r=a.locale,l=r.t,u=a.toolbarView=new v0(r),C=typeof e=="function"?e():e;u.ariaLabel=i.ariaLabel||l("Dropdown toolbar"),i.maxWidth&&(u.maxWidth=i.maxWidth),i.class&&(u.class=i.class),i.isCompact&&(u.isCompact=i.isCompact),i.isVertical&&(u.isVertical=!0),C instanceof Ir?u.items.bindTo(C).using(f=>f):u.items.addMany(C),a.panelView.children.add(u),u.items.delegate("execute").to(a)}function sG(a,e,i={}){a.isOpen?aG(a,e,i):a.once("change:isOpen",()=>aG(a,e,i),{priority:"highest"}),lG(a,()=>a.listView.items.find(r=>r instanceof lg&&r.children.first.isOn))}function aG(a,e,i){const r=a.locale,l=a.listView=new x0(r),u=typeof e=="function"?e():e;l.ariaLabel=i.ariaLabel,l.role=i.role,cG(a,l.items,u,r),a.panelView.children.add(l),l.items.delegate("execute").to(a)}function lG(a,e){a.on("change:isOpen",()=>{if(!a.isOpen)return;const i=e();i&&(typeof i.focus=="function"?i.focus():de("ui-dropdown-focus-child-on-open-child-missing-focus",{view:i}))},{priority:ie.low-10})}function cG(a,e,i,r){e.bindTo(i).using(l=>{if(l.type==="separator")return new w0(r);if(l.type==="group"){const u=new fC(r);return u.set({label:l.label}),cG(a,u.items,l.items,r),u.items.delegate("execute").to(a),u}if(l.type==="button"||l.type==="switchbutton"){const u=new lg(r);let C;return l.type==="button"?(C=new pn(r),C.bind("ariaChecked").to(C,"isOn")):C=new CC(r),C.bind(...Object.keys(l.model)).to(l.model),C.delegate("execute").to(u),u.children.add(C),u}return null})}const AC=(a,e,i)=>{const r=new WP(a.locale);return r.set({id:e,ariaDescribedById:i}),r.bind("isReadOnly").to(a,"isEnabled",l=>!l),r.bind("hasError").to(a,"errorText",l=>!!l),r.on("input",()=>{a.errorText=null}),a.bind("isEmpty","isFocused","placeholder").to(r),r};var gG=d(1905),UP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(gG.A,UP),gG.A.locals;var dG=d(6309),QP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(dG.A,QP),dG.A.locals;class qP{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,i){this._components.set(B0(e),{callback:i,originalName:e})}create(e){if(!this.has(e))throw new K("componentfactory-item-missing",this,{name:e});return this._components.get(B0(e)).callback(this.editor.locale)}has(e){return this._components.has(B0(e))}}function B0(a){return String(a).toLowerCase()}var uG=d(7913),$P={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(uG.A,$P),uG.A.locals;class ej extends Gt{constructor(e,i={}){super(e);const r=this.bindTemplate;this.set("label",i.label||""),this.set("class",i.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",r.to("class")]},children:this.children}),i.icon&&(this.iconView=new ta,this.iconView.content=i.icon,this.children.add(this.iconView));const l=new Gt(e);l.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:r.to("label")}]}),this.children.add(l)}}var hG=d(9822),tj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(hG.A,tj),hG.A.locals;class nj extends Gt{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new yo,this._focusTracker=new Ki,this._focusables=new Ir,this.focusCycler=new br({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const i of e){const r=new pn(this.locale);let l;for(l in r.on("execute",()=>i.onExecute()),i.onCreate&&i.onCreate(r),i)l!="onExecute"&&l!="onCreate"&&r.set(l,i[l]);this.children.add(r)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class ij extends Gt{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var mG=d(9819),oj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(mG.A,oj),mG.A.locals;const yC="screen-center",CG="editor-center",rj="editor-top-side",sj="editor-top-center",aj="editor-bottom-center",lj="editor-above-center",cj="editor-below-center",pG=Uc("px"),IG=class extends function(a){return class extends a{constructor(...e){super(...e),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(v.document,"mouseup",this._onDragEndBound),this.listenTo(v.document,"touchend",this._onDragEndBound),this.listenTo(v.document,"mousemove",this._onDragBound),this.listenTo(v.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(v.document,"mouseup",this._onDragEndBound),this.stopListening(v.document,"touchend",this._onDragEndBound),this.stopListening(v.document,"mousemove",this._onDragBound),this.stopListening(v.document,"touchmove",this._onDragBound)}_onDragStart(e,i){if(!this._isHandleElementPressed(i))return;this._attachDragListeners();let r=0,l=0;i instanceof MouseEvent?(r=i.clientX,l=i.clientY):(r=i.touches[0].clientX,l=i.touches[0].clientY),this._lastDraggingCoordinates={x:r,y:l},this.isDragging=!0}_onDrag(e,i){if(!this.isDragging)return void this._detachDragListeners();let r=0,l=0;i instanceof MouseEvent?(r=i.clientX,l=i.clientY):(r=i.touches[0].clientX,l=i.touches[0].clientY),i.preventDefault(),this.fire("drag",{deltaX:Math.round(r-this._lastDraggingCoordinates.x),deltaY:Math.round(l-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:r,y:l}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}(Gt){constructor(a,{getCurrentDomRoot:e,getViewportOffset:i}){super(a),this.wasMoved=!1;const r=this.bindTemplate,l=a.t;this.set("className",""),this.set("ariaLabel",l("Editor dialog")),this.set("isModal",!1),this.set("position",yC),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new yo,this.focusTracker=new Ki,this._focusables=new Ir,this._focusCycler=new br({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",r.if("isModal","ck-dialog-overlay__transparent",u=>!u),r.if("_isVisible","ck-hidden",u=>!u)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",r.to("className")],role:"dialog","aria-label":r.to("ariaLabel"),style:{top:r.to("_top",u=>pG(u)),left:r.to("_left",u=>pG(u)),visibility:r.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(a,e)=>{this.fire("close",{source:"escKeyPress"}),e()}),this.on("drag",(a,{deltaX:e,deltaY:i})=>{this.wasMoved=!0,this.moveBy(e,i)}),this.listenTo(v.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(v.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(a,e,i)=>{i&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:a,title:e,hasCloseButton:i=!0,content:r,actionButtons:l}){e&&(this.headerView=new ej(this.locale,{icon:a}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),r&&(r instanceof Gt&&(r=[r]),this.contentView=new ij(this.locale),this.contentView.children.addMany(r),this.parts.add(this.contentView)),l&&(this.actionsView=new nj(this.locale),this.actionsView.setButtons(l),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(a,e){const i=this._getViewportRect(),r=this._getDialogRect();a+r.width>i.right&&(a=i.right-r.width),a<i.left&&(a=i.left),e<i.top&&(e=i.top),this._moveTo(a,e)}_moveTo(a,e){this._left=a,this._top=e}moveBy(a,e){this.moveTo(this._left+a,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const a=this._getViewportRect();let e,i=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(a):i=yC;const r=IG.defaultOffset,l=this._getDialogRect();switch(i){case rj:if(e){const u=this.locale.contentLanguageDirection==="ltr"?e.right-l.width-r:e.left+r;this.moveTo(u,e.top+r)}else this._moveOffScreen();break;case CG:e?this.moveTo(Math.round(e.left+e.width/2-l.width/2),Math.round(e.top+e.height/2-l.height/2)):this._moveOffScreen();break;case yC:this.moveTo(Math.round((a.width-l.width)/2),Math.round((a.height-l.height)/2));break;case sj:e?this.moveTo(Math.round(e.left+e.width/2-l.width/2),e.top+r):this._moveOffScreen();break;case aj:e?this.moveTo(Math.round(e.left+e.width/2-l.width/2),e.bottom-l.height-r):this._moveOffScreen();break;case lj:e?this.moveTo(Math.round(e.left+e.width/2-l.width/2),e.top-l.height-r):this._moveOffScreen();break;case cj:e?this.moveTo(Math.round(e.left+e.width/2-l.width/2),e.bottom+r):this._moveOffScreen()}}_getVisibleDomRootRect(a){let e=new rn(this._getCurrentDomRoot()).getVisible();return e?(e=a.getIntersection(e),e||null):null}_getDialogRect(){return new rn(this.element.firstElementChild)}_getViewportRect(){return function(a){a=Object.assign({top:0,bottom:0,left:0,right:0},a);const e=new rn(v.window);return e.top+=a.top,e.height-=a.top,e.bottom-=a.bottom,e.height-=a.bottom,e.left+=a.left,e.right-=a.right,e.width-=a.left+a.right,e}(this._getViewportOffset())}_updateFocusCyclableItems(){const a=[];if(this.contentView)for(const e of this.contentView.children)fu(e)&&a.push(e);this.actionsView&&a.push(this.actionsView),this.closeButtonView&&a.push(this.closeButtonView),a.forEach(e=>{var i;this._focusables.add(e),this.focusTracker.add(e.element),fu(i=e)&&"focusCycler"in i&&i.focusCycler instanceof br&&(this.listenTo(e.focusCycler,"forwardCycle",r=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&r.stop()}),this.listenTo(e.focusCycler,"backwardCycle",r=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&r.stop()}))})}_createCloseButton(){const a=new pn(this.locale),e=this.locale.t;return a.set({label:e("Close"),tooltip:!0,icon:Tt.cancel}),a.on("execute",()=>this.fire("close",{source:"closeButton"})),a}};let kC=IG;kC.defaultOffset=15;class ia extends qe{constructor(e){super(e);const i=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:i("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(e,i)=>{this._show(i)}),this.on("show",(e,i)=>{i.onShow&&i.onShow(this)},{priority:"low"}),this.on("hide",()=>{ia._visibleDialogPlugin&&ia._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(i,r)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),r())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const i=e.document.differ.getChangedRoots();for(const r of i)r.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:i,title:r,hasCloseButton:l=!0,content:u,actionButtons:C,className:f,isModal:w,position:S,onHide:R}){const X=this.editor;this.view=new kC(X.locale,{getCurrentDomRoot:()=>X.editing.view.getDomRoot(X.model.document.selection.anchor.root.rootName),getViewportOffset:()=>X.ui.viewportOffset});const J=this.view;J.on("close",()=>{this.hide()}),X.ui.view.body.add(J),X.ui.focusTracker.add(J.element),X.keystrokes.listenTo(J.element),S||(S=w?yC:CG),J.set({position:S,_isVisible:!0,className:f,isModal:w}),J.setupParts({icon:i,title:r,hasCloseButton:l,content:u,actionButtons:C}),this.id=e,R&&(this._onHide=R),this.isOpen=!0,ia._visibleDialogPlugin=this}hide(){ia._visibleDialogPlugin&&ia._visibleDialogPlugin.fire(`hide:${ia._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,i=this.view;i.contentView&&i.contentView.reset(),e.ui.view.body.remove(i),e.ui.focusTracker.remove(i.element),e.keystrokes.stopListening(i.element),i.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,ia._visibleDialogPlugin=null}}var fG=d(3710),gj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(fG.A,gj),fG.A.locals;var dj=Object.defineProperty,bG=Object.getOwnPropertySymbols,uj=Object.prototype.hasOwnProperty,hj=Object.prototype.propertyIsEnumerable,AG=(a,e,i)=>e in a?dj(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,In=(a,e)=>{for(var i in e||(e={}))uj.call(e,i)&&AG(a,i,e[i]);if(bG)for(var i of bG(e))hj.call(e,i)&&AG(a,i,e[i]);return a};const yG=Uc("px"),kG=v.document.body,mj={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Z0=class extends Gt{constructor(a){super(a);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",i=>`ck-balloon-panel_${i}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",yG),left:e.to("left",yG)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(a){this.show();const e=Z0.defaultPositions,i=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:kG,fitInViewport:!0},a),r=Z0._getOptimalPosition(i)||mj,l=parseInt(r.left),u=parseInt(r.top),C=r.name,f=r.config||{},{withArrow:w=!0}=f;this.top=u,this.left=l,this.position=C,this.withArrow=w}pin(a){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(a):this._stopPinning()},this._startPinning(a),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(a){this.attachTo(a);const e=G0(a.target),i=a.limiter?G0(a.limiter):kG;this.listenTo(v.document,"scroll",(r,l)=>{const u=l.target,C=e&&u.contains(e),f=i&&u.contains(i);!C&&!f&&e&&i||this.attachTo(a)},{useCapture:!0}),this.listenTo(v.window,"resize",()=>{this.attachTo(a)})}_stopPinning(){this.stopListening(v.document,"scroll"),this.stopListening(v.window,"resize")}};let Vo=Z0;function G0(a){return Hl(a)?a:Tm(a)?a.commonAncestorContainer:typeof a=="function"?G0(a()):null}function vG(a={}){const{sideOffset:e=Vo.arrowSideOffset,heightOffset:i=Vo.arrowHeightOffset,stickyVerticalOffset:r=Vo.stickyVerticalOffset,config:l}=a;return{northWestArrowSouthWest:(f,w)=>In({top:u(f,w),left:f.left-e,name:"arrow_sw"},l&&{config:l}),northWestArrowSouthMiddleWest:(f,w)=>In({top:u(f,w),left:f.left-.25*w.width-e,name:"arrow_smw"},l&&{config:l}),northWestArrowSouth:(f,w)=>In({top:u(f,w),left:f.left-w.width/2,name:"arrow_s"},l&&{config:l}),northWestArrowSouthMiddleEast:(f,w)=>In({top:u(f,w),left:f.left-.75*w.width+e,name:"arrow_sme"},l&&{config:l}),northWestArrowSouthEast:(f,w)=>In({top:u(f,w),left:f.left-w.width+e,name:"arrow_se"},l&&{config:l}),northArrowSouthWest:(f,w)=>In({top:u(f,w),left:f.left+f.width/2-e,name:"arrow_sw"},l&&{config:l}),northArrowSouthMiddleWest:(f,w)=>In({top:u(f,w),left:f.left+f.width/2-.25*w.width-e,name:"arrow_smw"},l&&{config:l}),northArrowSouth:(f,w)=>In({top:u(f,w),left:f.left+f.width/2-w.width/2,name:"arrow_s"},l&&{config:l}),northArrowSouthMiddleEast:(f,w)=>In({top:u(f,w),left:f.left+f.width/2-.75*w.width+e,name:"arrow_sme"},l&&{config:l}),northArrowSouthEast:(f,w)=>In({top:u(f,w),left:f.left+f.width/2-w.width+e,name:"arrow_se"},l&&{config:l}),northEastArrowSouthWest:(f,w)=>In({top:u(f,w),left:f.right-e,name:"arrow_sw"},l&&{config:l}),northEastArrowSouthMiddleWest:(f,w)=>In({top:u(f,w),left:f.right-.25*w.width-e,name:"arrow_smw"},l&&{config:l}),northEastArrowSouth:(f,w)=>In({top:u(f,w),left:f.right-w.width/2,name:"arrow_s"},l&&{config:l}),northEastArrowSouthMiddleEast:(f,w)=>In({top:u(f,w),left:f.right-.75*w.width+e,name:"arrow_sme"},l&&{config:l}),northEastArrowSouthEast:(f,w)=>In({top:u(f,w),left:f.right-w.width+e,name:"arrow_se"},l&&{config:l}),southWestArrowNorthWest:f=>In({top:C(f),left:f.left-e,name:"arrow_nw"},l&&{config:l}),southWestArrowNorthMiddleWest:(f,w)=>In({top:C(f),left:f.left-.25*w.width-e,name:"arrow_nmw"},l&&{config:l}),southWestArrowNorth:(f,w)=>In({top:C(f),left:f.left-w.width/2,name:"arrow_n"},l&&{config:l}),southWestArrowNorthMiddleEast:(f,w)=>In({top:C(f),left:f.left-.75*w.width+e,name:"arrow_nme"},l&&{config:l}),southWestArrowNorthEast:(f,w)=>In({top:C(f),left:f.left-w.width+e,name:"arrow_ne"},l&&{config:l}),southArrowNorthWest:f=>In({top:C(f),left:f.left+f.width/2-e,name:"arrow_nw"},l&&{config:l}),southArrowNorthMiddleWest:(f,w)=>In({top:C(f),left:f.left+f.width/2-.25*w.width-e,name:"arrow_nmw"},l&&{config:l}),southArrowNorth:(f,w)=>In({top:C(f),left:f.left+f.width/2-w.width/2,name:"arrow_n"},l&&{config:l}),southArrowNorthMiddleEast:(f,w)=>In({top:C(f),left:f.left+f.width/2-.75*w.width+e,name:"arrow_nme"},l&&{config:l}),southArrowNorthEast:(f,w)=>In({top:C(f),left:f.left+f.width/2-w.width+e,name:"arrow_ne"},l&&{config:l}),southEastArrowNorthWest:f=>In({top:C(f),left:f.right-e,name:"arrow_nw"},l&&{config:l}),southEastArrowNorthMiddleWest:(f,w)=>In({top:C(f),left:f.right-.25*w.width-e,name:"arrow_nmw"},l&&{config:l}),southEastArrowNorth:(f,w)=>In({top:C(f),left:f.right-w.width/2,name:"arrow_n"},l&&{config:l}),southEastArrowNorthMiddleEast:(f,w)=>In({top:C(f),left:f.right-.75*w.width+e,name:"arrow_nme"},l&&{config:l}),southEastArrowNorthEast:(f,w)=>In({top:C(f),left:f.right-w.width+e,name:"arrow_ne"},l&&{config:l}),westArrowEast:(f,w)=>In({top:f.top+f.height/2-w.height/2,left:f.left-w.width-i,name:"arrow_e"},l&&{config:l}),eastArrowWest:(f,w)=>In({top:f.top+f.height/2-w.height/2,left:f.right+i,name:"arrow_w"},l&&{config:l}),viewportStickyNorth:(f,w,S,R)=>{const X=R||S;return f.getIntersection(X)?X.height-f.height>r?null:{top:X.top+r,left:f.left+f.width/2-w.width/2,name:"arrowless",config:In({withArrow:!1},l)}:null}};function u(f,w){return f.top-w.height-i}function C(f){return f.bottom+i}}Vo.arrowSideOffset=25,Vo.arrowHeightOffset=10,Vo.stickyVerticalOffset=20,Vo._getOptimalPosition=Lm,Vo.defaultPositions=vG();var wG=d(9205),Cj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(wG.A,Cj),wG.A.locals;const xG="ck-tooltip",Wo=class extends pr(){constructor(a){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,Wo._editors.add(a),Wo._instance)return Wo._instance;Wo._instance=this,this.tooltipTextView=new Gt(a.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Vo(a.locale),this.balloonPanelView.class=xG,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const i=new MutationObserver(()=>{e()});return{attach(r){i.observe(r,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){i.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=og(this._pinTooltip,600),this._unpinTooltipDebounced=og(this._unpinTooltip,400),this.listenTo(v.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(v.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(v.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(v.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(v.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(v.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(a){const e=a.ui.view&&a.ui.view.body;Wo._editors.delete(a),this.stopListening(a.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),Wo._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Wo._instance=null)}static getPositioningFunctions(a){const e=Wo.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[a]}_onKeyDown(a,e){e.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),e.stopPropagation())}_onEnterOrFocus(a,{target:e}){const i=R0(e);i?i!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(i,SG(i))):a.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(a,{target:e,relatedTarget:i}){if(a.name==="mouseleave"){if(!Hl(e))return;const r=this.balloonPanelView.element,l=r&&(r===i||r.contains(i)),u=!l&&e===r;if(l)return void this._unpinTooltipDebounced.cancel();if(!u&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const C=R0(e),f=R0(i);(u||C&&C!==f)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(a,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(a,{text:e,position:i,cssClass:r}){this._unpinTooltip();const l=zi(Wo._editors.values()).ui.view.body;l.has(this.balloonPanelView)||l.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:a,positions:Wo.getPositioningFunctions(i)}),this._resizeObserver=new $d(a,()=>{Fl(a)||this._unpinTooltip()}),this._mutationObserver.attach(a),this.balloonPanelView.class=[xG,r].filter(u=>u).join(" ");for(const u of Wo._editors)this.listenTo(u.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=a,this._currentTooltipPosition=i}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const a of Wo._editors)this.stopListening(a.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const a=SG(this._currentElementWithTooltip);Fl(this._currentElementWithTooltip)&&a.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Wo.getPositioningFunctions(a.position)}):this._unpinTooltip()}};let vC=Wo;function R0(a){return Hl(a)?a.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function SG(a){return{text:a.dataset.ckeTooltipText,position:a.dataset.ckeTooltipPosition||"s",cssClass:a.dataset.ckeTooltipClass||""}}vC.defaultBalloonPositions=vG({heightOffset:5,sideOffset:13}),vC._editors=new Set,vC._instance=null;const wC=function(a,e,i){var r=!0,l=!0;if(typeof a!="function")throw new TypeError("Expected a function");return He(i)&&(r="leading"in i?!!i.leading:r,l="trailing"in i?!!i.trailing:l),og(a,e,{leading:r,maxWait:e,trailing:l})};var pj=Object.defineProperty,BG=Object.getOwnPropertySymbols,Ij=Object.prototype.hasOwnProperty,fj=Object.prototype.propertyIsEnumerable,ZG=(a,e,i)=>e in a?pj(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,bj=(a,e)=>{for(var i in e||(e={}))Ij.call(e,i)&&ZG(a,i,e[i]);if(BG)for(var i of BG(e))fj.call(e,i)&&ZG(a,i,e[i]);return a};const Aj=50,yj=350,kj="Powered by";class vj extends pr(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=wC(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(i){function r(U){return U.length>=40&&U.length<=255?"VALID":"INVALID"}if(!i)return"INVALID";let l="";try{l=atob(i)}catch{return"INVALID"}const u=l.split("-"),C=u[0],f=u[1];if(!f)return r(i);try{atob(f)}catch{try{if(atob(C),!atob(C).length)return r(i)}catch{return r(i)}}if(C.length<40||C.length>255)return"INVALID";let w="";try{atob(C),w=atob(f)}catch{return"INVALID"}if(w.length!==8)return"INVALID";const S=Number(w.substring(0,4)),R=Number(w.substring(4,6))-1,X=Number(w.substring(6,8)),J=new Date(S,R,X);return J<Ee||isNaN(Number(J))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(i,r,l)=>{this._updateLastFocusedEditableElement(),l?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(i,r,l)=>{this._updateLastFocusedEditableElement(),l&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,i=this._balloonView=new Vo,r=RG(e),l=new wj(e.locale,r.label);i.content.add(l),i.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(i),e.ui.focusTracker.add(i.element),this._balloonView=i}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(i,r){const l=RG(i),u=l.side==="right"?function(C,f){return GG(C,f,(w,S)=>w.left+w.width-S.width-f.horizontalOffset)}(r,l):function(C,f){return GG(C,f,w=>w.left+f.horizontalOffset)}(r,l);return{target:r,positions:[u]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,i=e.ui.focusTracker.isFocused,r=e.ui.focusTracker.focusedElement;if(!i||!r)return void(this._lastFocusedEditableElement=null);const l=Array.from(e.ui.getEditableElementsNames()).map(u=>e.ui.getEditableElement(u));l.includes(r)?this._lastFocusedEditableElement=r:this._lastFocusedEditableElement=l[0]}}class wj extends Gt{constructor(e,i){super(e);const r=new ta,l=this.bindTemplate;r.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),r.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...i?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[i]}]:[],r],on:{dragstart:l.to(u=>u.preventDefault())}}]})}}function GG(a,e,i){return(r,l)=>{const u=new rn(a);if(u.width<yj||u.height<Aj)return null;let C;C=e.position==="inside"?u.bottom-l.height:u.bottom-l.height/2,C-=e.verticalOffset;const f=i(u,l),w=r.clone().moveTo(f,C).getIntersection(l.clone().moveTo(f,C)).getVisible();return!w||w.getArea()<l.getArea()?null:{top:C,left:f,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function RG(a){const e=a.config.get("ui.poweredBy"),i=e&&e.position||"border";return bj({position:i,label:kj,verticalOffset:i==="inside"?5:0,horizontalOffset:5,side:a.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var VG=d(1801),xj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(VG.A,xj),VG.A.locals;const WG={POLITE:"polite",ASSERTIVE:"assertive"};class Sj{constructor(e){this.editor=e,e.once("ready",()=>{for(const i of Object.values(WG))this.announce("",i)})}announce(e,i=WG.POLITE){const r=this.editor;if(!r.ui.view)return;this.view||(this.view=new Bj(r.locale),r.ui.view.body.add(this.view));const{politeness:l,isUnsafeHTML:u}=typeof i=="string"?{politeness:i}:i;let C=this.view.regionViews.find(f=>f.politeness===l);C||(C=new Zj(r,l),this.view.regionViews.add(C)),C.announce({announcement:e,isUnsafeHTML:u})}}class Bj extends Gt{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class Zj extends Gt{constructor(e,i){super(e.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":i,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=i,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:i}){if(!e.trim().length)return;const r=document.createElement("li");i?this._domConverter.setContentOf(r,e):r.innerText=e,this._listElement.appendChild(r)}get _listElement(){return this.element.querySelector("ul")}}var Gj=Object.defineProperty,_G=Object.getOwnPropertySymbols,Rj=Object.prototype.hasOwnProperty,Vj=Object.prototype.propertyIsEnumerable,NG=(a,e,i)=>e in a?Gj(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;class Wj extends rt(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const i=e.editing.view;this.editor=e,this.componentFactory=new qP(e),this.focusTracker=new Ki,this.tooltipManager=new vC(e),this.poweredBy=new vj(e),this.ariaLiveAnnouncer=new Sj(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(i.document,"layoutChanged",this.update.bind(this)),this.listenTo(i,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,i){this._editableElementsMap.set(e,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const r=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(i)};this.isReady?r():this.once("ready",r)}removeEditableElement(e){const i=this._editableElementsMap.get(e);i&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(i),this.focusTracker.remove(i),i.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,i={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:i})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,i=e.config.get("ui.viewportOffset");if(i)return i;const r=e.config.get("toolbar.viewportTopOffset");return r?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:r}):{top:0}}_initFocusTracking(){const e=this.editor,i=e.editing.view;let r,l;e.keystrokes.set("Alt+F10",(u,C)=>{const f=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(f)&&!Array.from(i.domRoots.values()).includes(f)&&(r=f);const w=this._getCurrentFocusedToolbarDefinition();w&&l||(l=this._getFocusableCandidateToolbarDefinitions());for(let S=0;S<l.length;S++){const R=l.shift();if(l.push(R),R!==w&&this._focusFocusableCandidateToolbar(R)){w&&w.options.afterBlur&&w.options.afterBlur();break}}C()}),e.keystrokes.set("Esc",(u,C)=>{const f=this._getCurrentFocusedToolbarDefinition();f&&(r?(r.focus(),r=null):e.editing.view.focus(),f.options.afterBlur&&f.options.afterBlur(),C())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:r,options:l}=i;(Fl(r.element)||l.beforeFocus)&&e.push(i)}return e.sort((i,r)=>EG(i)-EG(r)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:i,options:{beforeFocus:r}}=e;return r&&r(),!!Fl(i.element)&&(i.focus(),!0)}_handleScrollToTheSelection(e,i){const r=((l,u)=>{for(var C in u||(u={}))Rj.call(u,C)&&NG(l,C,u[C]);if(_G)for(var C of _G(u))Vj.call(u,C)&&NG(l,C,u[C]);return l})({top:0,bottom:0,left:0,right:0},this.viewportOffset);i.viewportOffset.top+=r.top,i.viewportOffset.bottom+=r.bottom,i.viewportOffset.left+=r.left,i.viewportOffset.right+=r.right}}function EG(a){const{toolbarView:e,options:i}=a;let r=10;return Fl(e.element)&&r--,i.isContextual&&r--,r}var XG=d(1185),_j={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(XG.A,_j),XG.A.locals;class Nj extends Gt{constructor(e){super(e),this.body=new bP(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class Ej extends Nj{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,i=new mC;return i.text=e("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class Xj extends Gt{constructor(e,i,r){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=r,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function i(r){e.change(l=>{const u=e.document.getRoot(r.name);l.addClass(r.isFocused?"ck-focused":"ck-blurred",u),l.removeClass(r.isFocused?"ck-blurred":"ck-focused",u)})}e.isRenderingInProgress?function r(l){e.once("change:isRenderingInProgress",(u,C,f)=>{f?r(l):i(l)})}(this):i(this)}}class Yj extends Xj{constructor(e,i,r,l={}){super(e,i,r);const u=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=l.label||(()=>u("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(i=>{const r=e.document.getRoot(this.name);i.setAttribute("aria-label",this._generateLabel(this),r)})}}class V0 extends Um{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,i)=>{window.alert(i.message)},{priority:"lowest"})}showSuccess(e,i={}){this._showNotification({message:e,type:"success",namespace:i.namespace,title:i.title})}showInfo(e,i={}){this._showNotification({message:e,type:"info",namespace:i.namespace,title:i.title})}showWarning(e,i={}){this._showNotification({message:e,type:"warning",namespace:i.namespace,title:i.title})}_showNotification(e){const i=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(i,{message:e.message,type:e.type,title:e.title||""})}}class YG extends rt(){constructor(e,i){super(),i&&cB(this,i),e&&this.set(e)}}var DG=d(991),Dj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(DG.A,Dj),DG.A.locals;var HG=d(5380),Hj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(HG.A,Hj),HG.A.locals;const xC=Uc("px");class SC extends qe{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const i=this.editor.editing.view,r=i.document.selection.editableElement;return r?i.domConverter.mapViewToDom(r.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new K("contextualballoon-add-view-exist",[this,e]);const i=e.stackId||"main";if(!this._idToStack.has(i))return this._idToStack.set(i,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(i));const r=this._idToStack.get(i);e.singleViewMode&&this.showStack(i),r.set(e.view,e),this._viewToStack.set(e.view,r),r===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new K("contextualballoon-remove-view-not-exist",[this,e]);const i=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const i=this._idToStack.get(e);if(!i)throw new K("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new Vo(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)+1;e[i]||(i=0),this.showStack(this._getStackId(e[i]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)-1;e[i]||(i=e.length-1),this.showStack(this._getStackId(e[i]))}_createRotatorView(){const e=new Fj(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(r,l)=>!l&&r>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(r,l)=>{if(l<2)return"";const u=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[u,l])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new Mj(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,r)=>!r&&i>=2?Math.min(i-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:i="",withArrow:r=!0,singleViewMode:l=!1}){this.view.class=i,this.view.withArrow=r,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),l&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class Fj extends Gt{constructor(e){super(e);const i=e.t,r=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ki,this.buttonPrevView=this._createButtonView(i("Previous"),Tt.previousArrow),this.buttonNextView=this._createButtonView(i("Next"),Tt.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",r.to("isNavigationVisible",l=>l?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:r.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,i){const r=new pn(this.locale);return r.set({label:e,icon:i,tooltip:!0}),r}}class Mj extends Gt{constructor(e,i){super(e);const r=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",r.to("numberOfPanels",l=>l?"":"ck-hidden")],style:{top:r.to("top",xC),left:r.to("left",xC),width:r.to("width",xC),height:r.to("height",xC)}},children:this.content}),this.on("change:numberOfPanels",(l,u,C,f)=>{C>f?this._addPanels(C-f):this._removePanels(f-C),this.updatePosition()})}_addPanels(e){for(;e--;){const i=new Gt;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(e){for(;e--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:i}=this._balloonPanelView,{width:r,height:l}=new rn(this._balloonPanelView.element);Object.assign(this,{top:e,left:i,width:r,height:l})}}}var FG=d(8298),Tj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(FG.A,Tj),FG.A.locals;const cg=Uc("px");class Jj extends Gt{constructor(e){super(e);const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new Pr({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",r=>r?"block":"none"),height:i.to("isSticky",r=>r?cg(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new Pr({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",r=>r?cg(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_stickyTopOffset",r=>r&&cg(r)),bottom:i.to("_stickyBottomOffset",r=>r&&cg(r)),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(v.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new rn(this.limiterElement);let i=e.getVisible();if(i){const r=new rn(v.window);r.top+=this.viewportTopOffset,r.height-=this.viewportTopOffset,i=i.getIntersection(r)}if(i&&e.top<i.top){const r=i.top;if(r+this._contentPanelRect.height+this.limiterBottomOffset>i.bottom){const l=Math.max(e.bottom-i.bottom,0)+this.limiterBottomOffset;e.bottom-l>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(l):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(r):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=cg(-v.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=cg(-v.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new rn(this.contentPanelElement)}}class Lj extends IC{constructor(e,i){const r=e.t,l=Object.assign({},{showResetButton:!0,showIcon:!0,creator:AC},i);super(e,l.creator),this.label=i.label,this._viewConfig=l,this._viewConfig.showIcon&&(this.iconView=new ta,this.iconView.content=Tt.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new pn(e),this.resetButtonView.set({label:r("Clear"),icon:Tt.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",u=>!u),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class zj extends Gt{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",i=>!i)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class Kj extends Gt{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new Ki,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new br({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var MG=/[\\^$.*+?()[\]{}|]/g,Pj=RegExp(MG.source);const TG=function(a){return(a=JA(a))&&Pj.test(a)?a.replace(MG,"\\$&"):a};var JG=d(8107),jj={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(JG.A,jj),JG.A.locals;var Oj=Object.defineProperty,LG=Object.getOwnPropertySymbols,Uj=Object.prototype.hasOwnProperty,Qj=Object.prototype.propertyIsEnumerable,zG=(a,e,i)=>e in a?Oj(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;class qj extends Gt{constructor(e,i){super(e),this._config=i,this.filteredView=i.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Ki,this.keystrokes=new yo,this.resultsView=new Kj(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),i.infoView&&i.infoView.instance?this.infoView=i.infoView.instance:(this.infoView=new zj,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new br({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(r,{resultsCount:l,totalItemsCount:u})=>{this.resultsCount=l,this.totalItemsCount=u}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",i.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=i=>i.stopPropagation();for(const i of this.focusableChildren)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const i=e?new RegExp(TG(e),"ig"):null,r=this.filteredView.filter(i);this.fire("search",((l,u)=>{for(var C in u||(u={}))Uj.call(u,C)&&zG(l,C,u[C]);if(LG)for(var C of LG(u))Qj.call(u,C)&&zG(l,C,u[C]);return l})({query:e},r))}_createSearchTextQueryView(){const e=new Lj(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,i=this.infoView;function r(l,{query:u,resultsCount:C,totalItemsCount:f}){return typeof l=="function"?l(u,C,f):l}this.on("search",(l,u)=>{if(u.resultsCount)i.set({isVisible:!1});else{const C=this._config.infoView&&this._config.infoView.text;let f,w;u.totalItemsCount?C&&C.notFound?(f=C.notFound.primary,w=C.notFound.secondary):(f=e("No results found"),w=""):C&&C.noSearchableItems?(f=C.noSearchableItems.primary,w=C.noSearchableItems.secondary):(f=e("No searchable items"),w=""),i.set({primaryText:r(f,u),secondaryText:r(w,u),isVisible:!0})}})}}var KG=d(5727),$j={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(KG.A,$j),KG.A.locals;const W0=class extends qj{constructor(a,e){super(a,e),this._config=e;const i=Uc("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const r=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[r.if("isVisible","ck-hidden",l=>!l),r.to("_position",l=>`ck-search__results_${l}`)],style:{width:r.to("_width",i)}}}),this.focusTracker.on("change:isFocused",(l,u,C)=>{this._updateResultsVisibility(),C?this.resultsView.element.scrollTop=0:e.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(l,u)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,u())}),this.listenTo(v.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(l,{value:u})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=u,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new rn(this.queryView.fieldView.element).width;const a=W0._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:W0.defaultResultsPositions});this.resultsView._position=a?a.name:"s"}_updateResultsVisibility(){const a=this._config.queryMinChars===void 0?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=a}};let PG=W0;PG.defaultResultsPositions=[a=>({top:a.bottom,left:a.left,name:"s"}),(a,e)=>({top:a.top-e.height,left:a.left,name:"n"})],PG._getOptimalPosition=Lm;var jG=d(9529),e4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(jG.A,e4),jG.A.locals;var OG=d(109),t4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(OG.A,t4),OG.A.locals;var UG=d(2710),n4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(UG.A,n4),UG.A.locals;var QG=d(3344),i4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(QG.A,i4),QG.A.locals;class o4 extends pn{constructor(e){super(e);const i=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",r=>String(r)),"data-cke-tooltip-disabled":i.to("isOn")},on:{mouseenter:i.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new ta;return e.content=pC,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}var qG=d(9481),r4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(qG.A,r4),qG.A.locals;class _0 extends lg{constructor(e,i){super(e);const r=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:r.to("mouseenter")}}),this.delegate("mouseenter").to(i)}}var s4=Object.defineProperty,$G=Object.getOwnPropertySymbols,a4=Object.prototype.hasOwnProperty,l4=Object.prototype.propertyIsEnumerable,eR=(a,e,i)=>e in a?s4(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,tR=(a,e)=>{for(var i in e||(e={}))a4.call(e,i)&&eR(a,i,e[i]);if($G)for(var i of $G(e))l4.call(e,i)&&eR(a,i,e[i]);return a};const bu={toggleMenusAndFocusItemsOnHover(a){a.on("menu:mouseenter",e=>{if(a.isOpen){for(const i of a.menus){const r=e.path[0],l=r instanceof _0&&r.children.first===i;i.isOpen=(e.path.includes(i)||l)&&i.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(a){const e=a.locale.uiLanguageDirection==="rtl";function i(r,l){const u=a.children.getIndex(r),C=r.isOpen,f=a.children.length,w=a.children.get((u+f+l)%f);r.isOpen=!1,C&&(w.isOpen=!0),w.buttonView.focus()}a.on("menu:arrowright",r=>{i(r.source,e?-1:1)}),a.on("menu:arrowleft",r=>{i(r.source,e?1:-1)})},closeMenusWhenTheBarCloses(a){a.on("change:isOpen",()=>{a.isOpen||a.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(a){a.on("menu:change:isOpen",(e,i,r)=>{r&&a.menus.filter(l=>e.source.parentMenuView===l.parentMenuView&&e.source!==l&&l.isOpen).forEach(l=>{l.isOpen=!1})})},closeOnClickOutside(a){jm({emitter:a,activator:()=>a.isOpen,callback:()=>a.close(),contextElements:()=>a.children.map(e=>e.element)})}},Ul={openAndFocusPanelOnArrowDownKey(a){a.keystrokes.set("arrowdown",(e,i)=>{a.focusTracker.focusedElement===a.buttonView.element&&(a.isOpen||(a.isOpen=!0),a.panelView.focus(),i())})},openOnArrowRightKey(a){const e=a.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";a.keystrokes.set(e,(i,r)=>{a.focusTracker.focusedElement===a.buttonView.element&&a.isEnabled&&(a.isOpen||(a.isOpen=!0),a.panelView.focus(),r())})},openOnButtonClick(a){a.buttonView.on("execute",()=>{a.isOpen=!0,a.panelView.focus()})},toggleOnButtonClick(a){a.buttonView.on("execute",()=>{a.isOpen=!a.isOpen,a.isOpen&&a.panelView.focus()})},closeOnArrowLeftKey(a){const e=a.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";a.keystrokes.set(e,(i,r)=>{a.isOpen&&(a.isOpen=!1,a.focus(),r())})},closeOnEscKey(a){a.keystrokes.set("esc",(e,i)=>{a.isOpen&&(a.isOpen=!1,a.focus(),i())})},closeOnParentClose(a){a.parentMenuView.on("change:isOpen",(e,i,r)=>{r||e.source!==a.parentMenuView||(a.isOpen=!1)})}},c4={southEast:a=>({top:a.bottom,left:a.left,name:"se"}),southWest:(a,e)=>({top:a.bottom,left:a.left-e.width+a.width,name:"sw"}),northEast:(a,e)=>({top:a.top-e.height,left:a.left,name:"ne"}),northWest:(a,e)=>({top:a.top-e.height,left:a.left-e.width+a.width,name:"nw"}),eastSouth:a=>({top:a.top,left:a.right-5,name:"es"}),eastNorth:(a,e)=>({top:a.top-e.height,left:a.right-5,name:"en"}),westSouth:(a,e)=>({top:a.top,left:a.left-e.width+5,name:"ws"}),westNorth:(a,e)=>({top:a.top-e.height,left:a.left-e.width+5,name:"wn"})},g4=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function d4({normalizedConfig:a,locale:e,componentFactory:i}){const r=Ur(a);return function(l,u){const C=u.removeItems,f=[];u.items=u.items.filter(({menuId:w})=>!C.includes(w)||(f.push(w),!1)),gg(u.items,w=>{w.groups=w.groups.filter(({groupId:S})=>!C.includes(S)||(f.push(S),!1));for(const S of w.groups)S.items=S.items.filter(R=>{const X=oR(R);return!C.includes(X)||(f.push(X),!1)})});for(const w of C)f.includes(w)||de("menu-bar-item-could-not-be-removed",{menuBarConfig:l,itemName:w})}(a,r),function(l,u){const C=u.addItems,f=[];for(const w of C){const S=m4(w.position),R=C4(w.position);if(u4(w))if(R){const X=u.items.findIndex(J=>J.menuId===R);X!=-1?S==="before"?(u.items.splice(X,0,w.menu),f.push(w)):S==="after"&&(u.items.splice(X+1,0,w.menu),f.push(w)):nR(u,w.menu,R,S)&&f.push(w)}else S==="start"?(u.items.unshift(w.menu),f.push(w)):S==="end"&&(u.items.push(w.menu),f.push(w));else h4(w)?gg(u.items,X=>{if(X.menuId===R)S==="start"?(X.groups.unshift(w.group),f.push(w)):S==="end"&&(X.groups.push(w.group),f.push(w));else{const J=X.groups.findIndex(U=>U.groupId===R);J!==-1&&(S==="before"?(X.groups.splice(J,0,w.group),f.push(w)):S==="after"&&(X.groups.splice(J+1,0,w.group),f.push(w)))}}):nR(u,w.item,R,S)&&f.push(w)}for(const w of C)f.includes(w)||de("menu-bar-item-could-not-be-added",{menuBarConfig:l,addedItemConfig:w})}(a,r),function(l,u,C){gg(u.items,f=>{for(const w of f.groups)w.items=w.items.filter(S=>{const R=typeof S=="string"&&!C.has(S);return R&&!u.isUsingDefaultConfig&&de("menu-bar-item-unavailable",{menuBarConfig:l,parentMenuConfig:Ur(f),componentName:S}),!R})})}(a,r,i),iR(a,r),function(l,u){const C=u.t,f={File:C({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:C({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:C({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:C({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:C({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:C({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:C({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:C({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:C({string:"Font",id:"MENU_BAR_MENU_FONT"})};gg(l.items,w=>{w.label in f&&(w.label=f[w.label])})}(r,e),r}function nR(a,e,i,r){let l=!1;return gg(a.items,u=>{for(const{groupId:C,items:f}of u.groups){if(l)return;if(C===i)r==="start"?(f.unshift(e),l=!0):r==="end"&&(f.push(e),l=!0);else{const w=f.findIndex(S=>oR(S)===i);w!==-1&&(r==="before"?(f.splice(w,0,e),l=!0):r==="after"&&(f.splice(w+1,0,e),l=!0))}}}),l}function iR(a,e){const i=e.isUsingDefaultConfig;let r=!1;e.items=e.items.filter(l=>!!l.groups.length||(N0(a,l,i),!1)),e.items.length?(gg(e.items,l=>{l.groups=l.groups.filter(u=>!!u.items.length||(r=!0,!1));for(const u of l.groups)u.items=u.items.filter(C=>!(rR(C)&&!C.groups.length)||(N0(a,C,i),r=!0,!1))}),r&&iR(a,e)):N0(a,a,i)}function N0(a,e,i){i||de("menu-bar-menu-empty",{menuBarConfig:a,emptyMenuConfig:e})}function gg(a,e){if(Array.isArray(a))for(const r of a)i(r);function i(r){e(r);for(const l of r.groups)for(const u of l.items)rR(u)&&i(u)}}function u4(a){return typeof a=="object"&&"menu"in a}function h4(a){return typeof a=="object"&&"group"in a}function m4(a){return a.startsWith("start")?"start":a.startsWith("end")?"end":a.startsWith("after")?"after":"before"}function C4(a){const e=a.match(/^[^:]+:(.+)/);return e?e[1]:null}function oR(a){return typeof a=="string"?a:a.menuId}function rR(a){return typeof a=="object"&&"menuId"in a}function p4(a,e){const i=e.element;a.ui.focusTracker.add(i),a.keystrokes.listenTo(i);const r=function(l){let u;return u="items"in l&&l.items?tR({items:l.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},l):tR({items:Ur(g4),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},l),u}(a.config.get("menuBar")||{});e.fillFromConfig(r,a.ui.componentFactory),a.keystrokes.set("Esc",(l,u)=>{i.contains(a.ui.focusTracker.focusedElement)&&(a.editing.view.focus(),u())}),a.keystrokes.set("Alt+F9",(l,u)=>{i.contains(a.ui.focusTracker.focusedElement)||(e.focus(),u())})}var sR=d(9108),I4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(sR.A,I4),sR.A.locals;class f4 extends Gt{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",i.to("position",r=>`ck-menu-bar__menu__panel_position_${r}`),i.if("isVisible","ck-hidden",r=>!r)],tabindex:"-1"},children:this.children,on:{selectstart:i.to(r=>{r.target.tagName.toLocaleLowerCase()!=="input"&&r.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}var aR=d(4),b4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(aR.A,b4),aR.A.locals;const lR=class extends Gt{constructor(a){super(a);const e=this.bindTemplate;this.buttonView=new o4(a),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new f4(a),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new yo,this.focusTracker=new Ki,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",i=>!i),e.if("parentMenuView","ck-menu-bar__menu_top-level",i=>!i)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),Ul.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(Ul.openOnButtonClick(this),Ul.openOnArrowRightKey(this),Ul.closeOnArrowLeftKey(this),Ul.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),Ul.openAndFocusPanelOnArrowDownKey(this),Ul.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(a,e)=>{this.fire("arrowright"),e()}),this.keystrokes.set("arrowleft",(a,e)=>{this.fire("arrowleft"),e()})}_repositionPanelOnOpen(){this.on("change:isOpen",(a,e,i)=>{if(!i)return;const r=lR._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=r?r.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:a,southWest:e,northEast:i,northWest:r,westSouth:l,eastSouth:u,westNorth:C,eastNorth:f}=c4;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[u,f,l,C]:[a,e,i,r]:this.parentMenuView?[l,C,u,f]:[e,a,r,i]}};let dg=lR;dg._getOptimalPosition=Lm;class E0 extends x0{constructor(e){super(e),this.role="menu"}}var cR=d(977),A4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(cR.A,A4),cR.A.locals;class Qo extends pn{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class gR extends TZ{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var dR=d(497),y4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(dR.A,y4),dR.A.locals;const uR=["mouseenter","arrowleft","arrowright","change:isOpen"];class k4 extends Gt{constructor(e){super(e),this.menus=[];const i=e.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":i("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,i){const r=d4({normalizedConfig:e,locale:this.locale,componentFactory:i}).items.map(l=>this._createMenu({componentFactory:i,menuDefinition:l}));this.children.addMany(r)}render(){super.render(),bu.toggleMenusAndFocusItemsOnHover(this),bu.closeMenusWhenTheBarCloses(this),bu.closeMenuWhenAnotherOnTheSameLevelOpens(this),bu.focusCycleMenusOnArrows(this),bu.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,i=null){i?(e.delegate(...uR).to(i),e.parentMenuView=i):e.delegate(...uR).to(this,r=>"menu:"+r),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:i,parentMenuView:r}){const l=this.locale,u=new dg(l);return this.registerMenu(u,r),u.buttonView.set({label:i.label}),u.once("change:isOpen",()=>{const C=new E0(l);C.ariaLabel=i.label,u.panelView.children.add(C),C.items.addMany(this._createMenuItems({menuDefinition:i,parentMenuView:u,componentFactory:e}))}),u}_createMenuItems({menuDefinition:e,parentMenuView:i,componentFactory:r}){const l=this.locale,u=[];for(const C of e.groups){for(const f of C.items){const w=new _0(l,i);if(He(f))w.children.add(this._createMenu({componentFactory:r,menuDefinition:f,parentMenuView:i}));else{const S=this._createMenuItemContentFromFactory({componentName:f,componentFactory:r,parentMenuView:i});if(!S)continue;w.children.add(S)}u.push(w)}C!==e.groups[e.groups.length-1]&&u.push(new w0(l))}return u}_createMenuItemContentFromFactory({componentName:e,parentMenuView:i,componentFactory:r}){const l=r.create(e);return l instanceof dg||l instanceof Qo||l instanceof gR?(this._registerMenuTree(l,i),l.on("execute",()=>{this.close()}),l):(de("menu-bar-component-unsupported",{componentName:e,componentView:l}),null)}_registerMenuTree(e,i){if(!(e instanceof dg))return void e.delegate("mouseenter").to(i);this.registerMenu(e,i);const r=e.panelView.children.filter(u=>u instanceof E0)[0];if(!r)return void e.delegate("mouseenter").to(i);const l=r.items.filter(u=>u instanceof lg);for(const u of l)this._registerMenuTree(u.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(i,r,l)=>{clearTimeout(e),l?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(u=>u.isOpen)},0)})}}class v4 extends Wj{constructor(e,i){super(e),this.view=i,this._toolbarConfig=$Z(e.config.get("toolbar")),this._elementReplacer=new vt,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const i=this.editor,r=this.view,l=i.editing.view,u=r.editable,C=l.document.getRoot();u.name=C.rootName,r.render();const f=u.element;this.setEditableElement(u.name,f),r.editable.bind("isFocused").to(this.focusTracker),l.attachDomRoot(f),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),r.menuBarView&&p4(i,r.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:i})=>i||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,i=e.editing.view,r=i.document.getRoot(),l=e.sourceElement;let u;const C=e.config.get("placeholder");C&&(u=typeof C=="string"?C:C[this.view.editable.name]),!u&&l&&l.tagName.toLowerCase()==="textarea"&&(u=l.getAttribute("placeholder")),u&&(r.placeholder=u),X2({view:i,element:r,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,i,r){const l=this.view.stickyPanel;if(l.isSticky){const u=new rn(l.element).height;i.viewportOffset.top+=u}else{const u=()=>{this.editor.editing.view.scrollToTheSelection(r)};this.listenTo(l,"change:isSticky",u),setTimeout(()=>{this.stopListening(l,"change:isSticky",u)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,i=this.editor.plugins.get("Dialog");i.on("show",()=>{const r=i.view;r.on("moveTo",(l,u)=>{if(!e.isSticky||r.wasMoved)return;const C=new rn(e.contentPanelElement);u[1]<C.bottom+kC.defaultOffset&&(u[1]=C.bottom+kC.defaultOffset)},{priority:"high"})},{priority:"low"})}}var hR=d(7388),w4={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(hR.A,w4),hR.A.locals;class x4 extends Ej{constructor(e,i,r={}){super(e),this.stickyPanel=new Jj(e),this.toolbar=new v0(e,{shouldGroupWhenFull:r.shouldToolbarGroupWhenFull}),r.useMenuBar&&(this.menuBarView=new k4(e)),this.editable=new Yj(e,i)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class mR{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=i=>{const r="error"in i?i.error:i.reason;r instanceof Error&&this._handleError(r,i)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,i){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(i)}off(e,i){this._listeners[e]=this._listeners[e].filter(r=>r!==i)}_fire(e,...i){const r=this._listeners[e]||[];for(const l of r)l.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,i){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:i instanceof ErrorEvent?i.filename:void 0,lineno:i instanceof ErrorEvent?i.lineno:void 0,colno:i instanceof ErrorEvent?i.colno:void 0,date:this._now()});const r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function X0(a,e=new Set){const i=[a],r=new Set;let l=0;for(;i.length>l;){const u=i[l++];if(!r.has(u)&&S4(u)&&!e.has(u))if(r.add(u),Symbol.iterator in u)try{for(const C of u)i.push(C)}catch{}else for(const C in u)C!=="defaultValue"&&i.push(u[C])}return r}function S4(a){const e=Object.prototype.toString.call(a),i=typeof a;return!(i==="number"||i==="boolean"||i==="string"||i==="symbol"||i==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||a==null||a._watchdogExcluded||a instanceof EventTarget||a instanceof Event)}function CR(a,e,i=new Set){if(a===e&&typeof(r=a)=="object"&&r!==null)return!0;var r;const l=X0(a,i),u=X0(e,i);for(const C of l)if(u.has(C))return!0;return!1}var B4=Object.defineProperty,Z4=Object.defineProperties,G4=Object.getOwnPropertyDescriptors,BC=Object.getOwnPropertySymbols,pR=Object.prototype.hasOwnProperty,IR=Object.prototype.propertyIsEnumerable,fR=(a,e,i)=>e in a?B4(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,Y0=(a,e)=>{for(var i in e||(e={}))pR.call(e,i)&&fR(a,i,e[i]);if(BC)for(var i of BC(e))IR.call(e,i)&&fR(a,i,e[i]);return a};class bR extends mR{constructor(e,i={}){super(i),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=wC(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),e&&(this._creator=(r,l)=>e.create(r,l)),this._destructor=r=>r.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},i=[],r=this._config.rootsAttributes||{},l={};for(const[w,S]of Object.entries(this._data.roots))S.isLoaded?(e[w]="",l[w]=r[w]||{}):i.push(w);const u=(C=Y0({},this._config),f={extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:l,_watchdogInitialData:this._data},Z4(C,G4(f)));var C,f;return delete u.initialData,u.extraPlugins.push(R4),this._initUsingData?this.create(e,u,u.context):Hl(this._elementOrData)?this.create(this._elementOrData,u,u.context):this.create(this._editables,u,u.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,i=this._config,r){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=r,this._creator(e,this._config))).then(l=>{this._editor=l,l.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=l.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,i=e.model.document.roots.filter(f=>f.isAttached()&&f.rootName!="$graveyard"),{plugins:r}=e,l=r.has("CommentsRepository")&&r.get("CommentsRepository"),u=r.has("TrackChanges")&&r.get("TrackChanges"),C={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(f=>{C.roots[f.rootName]={content:JSON.stringify(Array.from(f.getChildren())),attributes:JSON.stringify(Array.from(f.getAttributes())),isLoaded:f._isLoaded}});for(const f of e.model.markers)f._affectsData&&(C.markers[f.name]={rangeJSON:f.getRange().toJSON(),usingOperation:f._managedUsingOperations,affectsData:f._affectsData});return l&&(C.commentThreads=JSON.stringify(l.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),u&&(C.suggestions=JSON.stringify(u.getSuggestions({toJSON:!0,skipNotAttached:!0}))),C}_getEditables(){const e={};for(const i of this.editor.model.document.getRootNames()){const r=this.editor.ui.getEditableElement(i);r&&(e[i]=r)}return e}_isErrorComingFromThisItem(e){return CR(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return BA(e,(i,r)=>Hl(i)||r==="context"?i:void 0)}}class R4{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},i=>{this._restoreCollaborationData(),this._restoreEditorData(i)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,i){if("name"in i){const r=e.createElement(i.name,i.attributes);if(i.children)for(const l of i.children)r._appendChild(this._createNode(e,l));return r}return e.createText(i.data,i.attributes)}_restoreEditorData(e){const i=this.editor;Object.entries(this._data.roots).forEach(([r,{content:l,attributes:u}])=>{const C=JSON.parse(l),f=JSON.parse(u),w=i.model.document.getRoot(r);for(const[S,R]of f)e.setAttribute(S,R,w);for(const S of C){const R=this._createNode(e,S);e.insert(R,w,"end")}}),Object.entries(this._data.markers).forEach(([r,l])=>{const{document:u}=i.model,C=l,{rangeJSON:{start:f,end:w}}=C,S=((te,ae)=>{var he={};for(var Ie in te)pR.call(te,Ie)&&ae.indexOf(Ie)<0&&(he[Ie]=te[Ie]);if(te!=null&&BC)for(var Ie of BC(te))ae.indexOf(Ie)<0&&IR.call(te,Ie)&&(he[Ie]=te[Ie]);return he})(C,["rangeJSON"]),R=u.getRoot(f.root),X=e.createPositionFromPath(R,f.path,f.stickiness),J=e.createPositionFromPath(R,w.path,w.stickiness),U=e.createRange(X,J);e.addMarker(r,Y0({range:U},S))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);e.forEach(r=>{const l=this.editor.config.get("collaboration.channelId"),u=this.editor.plugins.get("CommentsRepository");u.hasCommentThread(r.threadId)&&u.getCommentThread(r.threadId).remove(),u.addCommentThread(Y0({channelId:l},r))}),i.forEach(r=>{const l=this.editor.plugins.get("TrackChangesEditing");l.hasSuggestion(r.id)?l.getSuggestion(r.id).attributes=r.attributes:l.addSuggestionData(r)})}}const Au=Symbol("MainQueueId");class V4{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,i){const r=e===Au;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const l=(r?Promise.all(this._queues.values()):Promise.all([this._queues.get(Au),this._queues.get(e)])).then(i),u=l.catch(()=>{});return this._queues.set(e,u),l.finally(()=>{this._activeActions--,this._queues.get(e)===u&&this._activeActions===0&&this._onEmptyCallbacks.forEach(C=>C())})}}function AR(a){return Array.isArray(a)?a:[a]}class ZC extends b0(hP){constructor(e,i={}){if(!GC(e)&&i.initialData!==void 0)throw new K("editor-create-initial-data",null);super(i),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(C){return GC(C)?(f=C,f instanceof HTMLTextAreaElement?f.value:f.innerHTML):C;var f}(e)),GC(e)&&(this.sourceElement=e),this.model.document.createRoot();const r=!this.config.get("toolbar.shouldNotGroupWhenFull"),l=this.config.get("menuBar"),u=new x4(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:r,useMenuBar:l.isVisible});this.ui=new v4(this,u),function(C){if(!Fn(C.updateSourceElement))throw new K("attachtoform-missing-elementapi-interface",C);const f=C.sourceElement;if(function(w){return!!w&&w.tagName.toLowerCase()==="textarea"}(f)&&f.form){let w;const S=f.form,R=()=>C.updateSourceElement();Fn(S.submit)&&(w=S.submit,S.submit=()=>{R(),w.apply(S)}),S.addEventListener("submit",R),C.on("destroy",()=>{S.removeEventListener("submit",R),w&&(S.submit=w)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,i={}){return new Promise(r=>{const l=new this(e,i);r(l.initPlugins().then(()=>l.ui.init(GC(e)?e:null)).then(()=>l.data.init(l.config.get("initialData"))).then(()=>l.fire("ready")).then(()=>l))})}}function GC(a){return Hl(a)}ZC.Context=_2,ZC.EditorWatchdog=bR,ZC.ContextWatchdog=class extends mR{constructor(a,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new V4,this._watchdogConfig=e,this._creator=i=>a.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(a){this._creator=a}setDestructor(a){this._destructor=a}get context(){return this._context}create(a={}){return this._actionQueues.enqueue(Au,()=>(this._contextConfig=a,this._create()))}getItem(a){return this._getWatchdog(a)._item}getItemState(a){return this._getWatchdog(a).state}add(a){const e=AR(a);return Promise.all(e.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let r;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return r=new bR(null,this._watchdogConfig),r.setCreator(i.creator),r._setExcludedProperties(this._contextProps),i.destructor&&r.setDestructor(i.destructor),this._watchdogs.set(i.id,r),r.on("error",(l,{error:u,causesRestart:C})=>{this._fire("itemError",{itemId:i.id,error:u}),C&&this._actionQueues.enqueue(i.id,()=>new Promise(f=>{const w=()=>{r.off("restart",w),this._fire("itemRestart",{itemId:i.id}),f()};r.on("restart",w)}))}),r.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(a){const e=AR(a);return Promise.all(e.map(i=>this._actionQueues.enqueue(i,()=>{const r=this._getWatchdog(i);return this._watchdogs.delete(i),r.destroy()})))}destroy(){return this._actionQueues.enqueue(Au,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Au,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(a=>{console.error("An error happened during destroying the context or items.",a)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(a=>(this._context=a,this._contextProps=X0(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const a=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(a))})}_getWatchdog(a){const e=this._watchdogs.get(a);if(!e)throw new Error(`Item with the given id was not registered: ${a}.`);return e}_isErrorComingFromThisItem(a){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(a))return!1;return CR(this._context,a.context)}};class yu extends Ja{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const i=this.document;function r(l){return(u,C)=>{C.preventDefault();const f=C.dropRange?[C.dropRange]:null,w=new P(i,l);i.fire(w,{dataTransfer:C.dataTransfer,method:u.name,targetRanges:f,target:C.target,domEvent:C.domEvent}),w.stop.called&&C.stopPropagation()}}this.listenTo(i,"paste",r("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",r("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",r("dragging"),{priority:"low"})}onDomEvent(e){const i="clipboardData"in e?e.clipboardData:e.dataTransfer,r=e.type=="drop"||e.type=="paste",l={dataTransfer:new IB(i,{cacheFiles:r})};e.type!="drop"&&e.type!="dragover"||(l.dropRange=function(u,C){const f=C.target.ownerDocument,w=C.clientX,S=C.clientY;let R;return f.caretRangeFromPoint&&f.caretRangeFromPoint(w,S)?R=f.caretRangeFromPoint(w,S):C.rangeParent&&(R=f.createRange(),R.setStart(C.rangeParent,C.rangeOffset),R.collapse(!0)),R?u.domConverter.domRangeToView(R):null}(this.view,e)),this.fire(e.type,e,l)}}const yR=["figcaption","li"],kR=["ol","ul"];function vR(a){if(a.is("$text")||a.is("$textProxy"))return a.data;if(a.is("element","img")&&a.hasAttribute("alt"))return a.getAttribute("alt");if(a.is("element","br"))return`
`;let e="",i=null;for(const r of a.getChildren())e+=W4(r,i)+vR(r),i=r;return e}function W4(a,e){return e?a.is("element","li")&&!a.isEmpty&&a.getChild(0).is("containerElement")||kR.includes(a.name)&&kR.includes(e.name)?`

`:a.is("containerElement")||e.is("containerElement")?yR.includes(a.name)||yR.includes(e.name)?`
`:`

`:"":""}const _4=function(a,e){return a&&d2(a,e,Qd)},N4=function(a,e,i,r){var l=i.length,u=l;if(a==null)return!u;for(a=Object(a);l--;){var C=i[l];if(C[2]?C[1]!==a[C[0]]:!(C[0]in a))return!1}for(;++l<u;){var f=(C=i[l])[0],w=a[f],S=C[1];if(C[2]){if(w===void 0&&!(f in a))return!1}else{var R=new pt,X;if(!(X===void 0?lC(S,w,3,r,R):X))return!1}}return!0},wR=function(a){return a==a&&!He(a)},E4=function(a){for(var e=Qd(a),i=e.length;i--;){var r=e[i],l=a[r];e[i]=[r,l,wR(l)]}return e},xR=function(a,e){return function(i){return i!=null&&i[a]===e&&(e!==void 0||a in Object(i))}},X4=function(a){var e=E4(a);return e.length==1&&e[0][2]?xR(e[0][0],e[0][1]):function(i){return i===a||N4(i,a,e)}},Y4=function(a,e){return a!=null&&e in Object(a)},D4=function(a,e,i){for(var r=-1,l=(e=$m(e,a)).length,u=!1;++r<l;){var C=$c(e[r]);if(!(u=a!=null&&i(a,C)))break;a=a[C]}return u||++r!=l?u:!!(l=a==null?0:a.length)&&mA(l)&&Pc(C,l)&&(Zt(a)||gn(a))},H4=function(a,e){return a!=null&&D4(a,e,Y4)},F4=function(a,e){return MA(a)&&wR(e)?xR($c(a),e):function(i){var r=ou(i,a);return r===void 0&&r===e?H4(i,a):lC(e,r,3)}},M4=function(a){return function(e){return e==null?void 0:e[a]}},T4=function(a){return function(e){return LA(e,a)}},J4=function(a){return MA(a)?M4($c(a)):T4(a)},L4=function(a){return typeof a=="function"?a:a==null?Ta:typeof a=="object"?Zt(a)?F4(a[0],a[1]):X4(a):J4(a)},z4=function(a,e){var i={};return e=L4(e),_4(a,function(r,l,u){Et(i,l,e(r,l,u))}),i};var K4=Object.defineProperty,P4=Object.defineProperties,j4=Object.getOwnPropertyDescriptors,SR=Object.getOwnPropertySymbols,O4=Object.prototype.hasOwnProperty,U4=Object.prototype.propertyIsEnumerable,BR=(a,e,i)=>e in a?K4(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;class ku extends qe{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,i){this._markersToCopy.set(e,i)}_copySelectedFragmentWithMarkers(e,i,r=l=>l.model.getSelectedContent(l.model.document.selection)){return this.editor.model.change(l=>{const u=l.model.document.selection;l.setSelection(i);const C=this._insertFakeMarkersIntoSelection(l,l.model.document.selection,e),f=r(l),w=this._removeFakeMarkersInsideElement(l,f);for(const[S,R]of Object.entries(C)){w[S]||(w[S]=l.createRangeIn(f));for(const X of R)l.remove(X)}f.markers.clear();for(const[S,R]of Object.entries(w))f.markers.set(S,R);return l.setSelection(u),f})}_pasteMarkersIntoTransformedElement(e,i){const r=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(l=>{const u=this._insertFakeMarkersElements(l,r),C=i(l),f=this._removeFakeMarkersInsideElement(l,C);for(const w of Object.values(u).flat())l.remove(w);for(const[w,S]of Object.entries(f))l.model.markers.has(w)||l.addMarker(w,{usingOperation:!0,affectsData:!0,range:S});return C})}_pasteFragmentWithMarkers(e){const i=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const r of i)e.markers.set(r.name,r.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,i,r={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const l=this._markersToCopy.get(e);this._markersToCopy.set(e,r),i(),l?this._markersToCopy.set(e,l):this._markersToCopy.delete(e)}_isMarkerCopyable(e,i){const r=this._getMarkerClipboardConfig(e);if(!r)return!1;if(!i)return!0;const{allowedActions:l}=r;return l==="all"||l.includes(i)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[i]=e.split(":");return this._markersToCopy.get(i)||null}_insertFakeMarkersIntoSelection(e,i,r){const l=this._getCopyableMarkersFromSelection(e,i,r);return this._insertFakeMarkersElements(e,l)}_getCopyableMarkersFromSelection(e,i,r){const l=Array.from(i.getRanges()),u=new Set(l.flatMap(C=>Array.from(e.model.markers.getMarkersIntersectingRange(C))));return Array.from(u).filter(C=>{if(!this._isMarkerCopyable(C.name,r))return!1;const{copyPartiallySelected:f}=this._getMarkerClipboardConfig(C.name);if(!f){const w=C.getRange();return l.some(S=>S.containsRange(w,!0))}return!0}).map(C=>({name:r==="dragstart"?this._getUniqueMarkerName(C.name):C.name,range:C.getRange()}))}_getPasteMarkersFromRangeMap(e,i=null){const{model:r}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([l,u])=>{if(!this._hasMarkerConfiguration(l))return[{name:l,range:u}];if(this._isMarkerCopyable(l,i)){const C=this._getMarkerClipboardConfig(l),f=r.markers.has(l)&&r.markers.get(l).getRange().root.rootName==="$graveyard";return(C.duplicateOnPaste||f)&&(l=this._getUniqueMarkerName(l)),[{name:l,range:u}]}return[]})}_insertFakeMarkersElements(e,i){const r={},l=i.flatMap(u=>{const{start:C,end:f}=u.range;return[{position:C,marker:u,type:"start"},{position:f,marker:u,type:"end"}]}).sort(({position:u},{position:C})=>u.isBefore(C)?1:-1);for(const{position:u,marker:C,type:f}of l){const w=e.createElement("$marker",{"data-name":C.name,"data-type":f});r[C.name]||(r[C.name]=[]),r[C.name].push(w),e.insert(w,u)}return r}_removeFakeMarkersInsideElement(e,i){const r=this._getAllFakeMarkersFromElement(e,i).reduce((l,u)=>{const C=u.markerElement&&e.createPositionBefore(u.markerElement);let f=l[u.name],w=!1;f&&f.start&&f.end&&(this._getMarkerClipboardConfig(u.name).duplicateOnPaste?l[this._getUniqueMarkerName(u.name)]=l[u.name]:w=!0,f=null);var S,R;return w||(l[u.name]=(S=((X,J)=>{for(var U in J||(J={}))O4.call(J,U)&&BR(X,U,J[U]);if(SR)for(var U of SR(J))U4.call(J,U)&&BR(X,U,J[U]);return X})({},f),R={[u.type]:C},P4(S,j4(R)))),u.markerElement&&e.remove(u.markerElement),l},{});return z4(r,l=>new Xe(l.start||e.createPositionFromPath(i,[0]),l.end||e.createPositionAt(i,"end")))}_getAllFakeMarkersFromElement(e,i){const r=Array.from(e.createRangeIn(i)).flatMap(({item:C})=>{if(!C.is("element","$marker"))return[];const f=C.getAttribute("data-name"),w=C.getAttribute("data-type");return[{markerElement:C,name:f,type:w}]}),l=[],u=[];for(const C of r)C.type==="end"&&(r.some(f=>f.name===C.name&&f.type==="start")||l.push({markerElement:null,name:C.name,type:"start"})),C.type==="start"&&(r.some(f=>f.name===C.name&&f.type==="end")||u.unshift({markerElement:null,name:C.name,type:"end"}));return[...l,...r,...u]}_getUniqueMarkerName(e){const i=e.split(":"),r=j().substring(1,6);return i.length===3?`${i.slice(0,2).join(":")}:${r}`:`${i.join(":")}:${r}`}}class Ar extends qe{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[ku]}init(){this.editor.editing.view.addObserver(yu),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,i,r){const l=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:r==="cut"},()=>{const u=l._copySelectedFragmentWithMarkers(r,i);this.fire("outputTransformation",{dataTransfer:e,content:u,method:r})})}_setupPasteDrop(){const e=this.editor,i=e.model,r=e.editing.view,l=r.document,u=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(l,"clipboardInput",(C,f)=>{f.method!="paste"||e.model.canEditAt(e.model.document.selection)||C.stop()},{priority:"highest"}),this.listenTo(l,"clipboardInput",(C,f)=>{const w=f.dataTransfer;let S;if(f.content)S=f.content;else{let J="";w.getData("text/html")?J=function(U){return U.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(te,ae)=>ae.length==1?" ":ae).replace(/<!--[\s\S]*?-->/g,"")}(w.getData("text/html")):w.getData("text/plain")&&(((R=(R=w.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||R.includes("<br>"))&&(R=`<p>${R}</p>`),J=R),S=this.editor.data.htmlProcessor.toView(J)}var R;const X=new P(this,"inputTransformation");this.fire(X,{content:S,dataTransfer:w,targetRanges:f.targetRanges,method:f.method}),X.stop.called&&C.stop(),r.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(C,f)=>{if(f.content.isEmpty)return;const w=this.editor.data.toModel(f.content,"$clipboardHolder");w.childCount!=0&&(C.stop(),i.change(()=>{this.fire("contentInsertion",{content:w,method:f.method,dataTransfer:f.dataTransfer,targetRanges:f.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(C,f)=>{f.resultRange=u._pasteFragmentWithMarkers(f.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,i=e.model.document,r=e.editing.view.document,l=(u,C)=>{const f=C.dataTransfer;C.preventDefault(),this._fireOutputTransformationEvent(f,i.selection,u.name)};this.listenTo(r,"copy",l,{priority:"low"}),this.listenTo(r,"cut",(u,C)=>{e.model.canEditAt(e.model.document.selection)?l(u,C):C.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(u,C)=>{const f=e.data.toView(C.content);r.fire("clipboardOutput",{dataTransfer:C.dataTransfer,content:f,method:C.method})},{priority:"low"}),this.listenTo(r,"clipboardOutput",(u,C)=>{C.content.isEmpty||(C.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(C.content)),C.dataTransfer.setData("text/plain",vR(C.content))),C.method=="cut"&&e.model.deleteContent(i.selection)},{priority:"low"})}}class ZR{constructor(e,i=20){this._batch=null,this.model=e,this._size=0,this.limit=i,this._isLocked=!1,this._changeCallback=(r,l)=>{l.isLocal&&l.isUndoable&&l!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class Q4 extends Ut{constructor(e,i){super(e),this._buffer=new ZR(e.model,i),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const i=this.editor.model,r=i.document,l=e.text||"",u=l.length;let C=r.selection;if(e.selection?C=e.selection:e.range&&(C=i.createSelection(e.range)),!i.canEditAt(C))return;const f=e.resultRange;i.enqueueChange(this._buffer.batch,w=>{this._buffer.lock();const S=Array.from(r.selection.getAttributes());i.deleteContent(C),l&&i.insertContent(w.createText(l,S),C),f?w.setSelection(f):C.is("documentSelection")||w.setSelection(C),this._buffer.unlock(),this._buffer.input(u)})}}const GR=["insertText","insertReplacementText"];class q4 extends xs{constructor(e){super(e),this.focusObserver=e.getObserver(cC),_.isAndroid&&GR.push("insertCompositionText");const i=e.document;i.on("beforeinput",(r,l)=>{if(!this.isEnabled)return;const{data:u,targetRanges:C,inputType:f,domEvent:w}=l;if(!GR.includes(f))return;this.focusObserver.flush();const S=new P(i,"insertText");i.fire(S,new ig(e,w,{text:u,selection:e.createSelection(C)})),S.stop.called&&r.stop()}),i.on("compositionend",(r,{data:l,domEvent:u})=>{this.isEnabled&&!_.isAndroid&&l&&i.fire("insertText",new ig(e,u,{text:l,selection:i.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class RR extends qe{static get pluginName(){return"Input"}init(){const e=this.editor,i=e.model,r=e.editing.view,l=i.document.selection;r.addObserver(q4);const u=new Q4(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",u),e.commands.add("input",u),this.listenTo(r.document,"insertText",(C,f)=>{r.document.isComposing||f.preventDefault();const{text:w,selection:S,resultRange:R}=f,X=Array.from(S.getRanges()).map(te=>e.editing.mapper.toModelRange(te));let J=w;if(_.isAndroid){const te=Array.from(X[0].getItems()).reduce((ae,he)=>ae+(he.is("$textProxy")?he.data:""),"");te&&(te.length<=J.length?J.startsWith(te)&&(J=J.substring(te.length),X[0].start=X[0].start.getShiftedBy(te.length)):te.startsWith(J)&&(X[0].start=X[0].start.getShiftedBy(J.length),J=""))}const U={text:J,selection:i.createSelection(X)};R&&(U.resultRange=e.editing.mapper.toModelRange(R)),e.execute("insertText",U),r.scrollToTheSelection()}),_.isAndroid?this.listenTo(r.document,"keydown",(C,f)=>{!l.isCollapsed&&f.keyCode==229&&r.document.isComposing&&VR(i,u)}):this.listenTo(r.document,"compositionstart",()=>{l.isCollapsed||VR(i,u)})}}function VR(a,e){if(!e.isEnabled)return;const i=e.buffer;i.lock(),a.enqueueChange(i.batch,()=>{a.deleteContent(a.document.selection)}),i.unlock()}class WR extends Ut{constructor(e,i){super(e),this.direction=i,this._buffer=new ZR(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const i=this.editor.model,r=i.document;i.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const u=l.createSelection(e.selection||r.selection);if(!i.canEditAt(u))return;const C=e.sequence||1,f=u.isCollapsed;if(u.isCollapsed&&i.modifySelection(u,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(C))return void this._replaceEntireContentWithParagraph(l);if(this._shouldReplaceFirstBlockWithParagraph(u,C))return void this.editor.execute("paragraph",{selection:u});if(u.isCollapsed)return;let w=0;u.getFirstRange().getMinimalFlatRanges().forEach(S=>{w+=It(S.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(u,{doNotResetEntireContent:f,direction:this.direction}),this._buffer.input(w),l.setSelection(u),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const i=this.editor.model,r=i.document.selection,l=i.schema.getLimitElement(r);if(!(r.isCollapsed&&r.containsEntireContent(l))||!i.schema.checkChild(l,"paragraph"))return!1;const u=l.getChild(0);return!u||!u.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const i=this.editor.model,r=i.document.selection,l=i.schema.getLimitElement(r),u=e.createElement("paragraph");e.remove(e.createRangeIn(l)),e.insert(u,l),e.setSelection(u,0)}_shouldReplaceFirstBlockWithParagraph(e,i){const r=this.editor.model;if(i>1||this.direction!="backward"||!e.isCollapsed)return!1;const l=e.getFirstPosition(),u=r.schema.getLimitElement(l),C=u.getChild(0);return l.parent==C&&!!e.containsEntireContent(C)&&!!r.schema.checkChild(u,"paragraph")&&C.name!="paragraph"}}const _R="word",za="selection",ug="backward",vu="forward",NR={deleteContent:{unit:za,direction:ug},deleteContentBackward:{unit:"codePoint",direction:ug},deleteWordBackward:{unit:_R,direction:ug},deleteHardLineBackward:{unit:za,direction:ug},deleteSoftLineBackward:{unit:za,direction:ug},deleteContentForward:{unit:"character",direction:vu},deleteWordForward:{unit:_R,direction:vu},deleteHardLineForward:{unit:za,direction:vu},deleteSoftLineForward:{unit:za,direction:vu}};class $4 extends xs{constructor(e){super(e);const i=e.document;let r=0;i.on("keydown",()=>{r++}),i.on("keyup",()=>{r=0}),i.on("beforeinput",(l,u)=>{if(!this.isEnabled)return;const{targetRanges:C,domEvent:f,inputType:w}=u,S=NR[w];if(!S)return;const R={direction:S.direction,unit:S.unit,sequence:r};R.unit==za&&(R.selectionToRemove=e.createSelection(C[0])),w==="deleteContentBackward"&&(_.isAndroid&&(R.sequence=1),function(J){if(J.length!=1||J[0].isCollapsed)return!1;const U=J[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let te=0;for(const{nextPosition:ae,item:he}of U){if(ae.parent.is("$text")){const Ie=ae.parent.data,we=ae.offset;if(NA(Ie,we)||EA(Ie,we)||p2(Ie,we))continue;te++}else(he.is("containerElement")||he.is("emptyElement"))&&te++;if(te>1)return!0}return!1}(C)&&(R.unit=za,R.selectionToRemove=e.createSelection(C)));const X=new eg(i,"delete",C[0]);i.fire(X,new ig(e,f,R)),X.stop.called&&l.stop()}),_.isBlink&&function(l){const u=l.view,C=u.document;let f=null,w=!1;function S(X){return X==ln.backspace||X==ln.delete}function R(X){return X==ln.backspace?ug:vu}C.on("keydown",(X,{keyCode:J})=>{f=J,w=!1}),C.on("keyup",(X,{keyCode:J,domEvent:U})=>{const te=C.selection,ae=l.isEnabled&&J==f&&S(J)&&!te.isCollapsed&&!w;if(f=null,ae){const he=te.getFirstRange(),Ie=new eg(C,"delete",he),we={unit:za,direction:R(J),selectionToRemove:te};C.fire(Ie,new ig(u,U,we))}}),C.on("beforeinput",(X,{inputType:J})=>{const U=NR[J];S(f)&&U&&U.direction==R(f)&&(w=!0)},{priority:"high"}),C.on("beforeinput",(X,{inputType:J,data:U})=>{f==ln.delete&&J=="insertText"&&U==""&&X.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class oa extends qe{static get pluginName(){return"Delete"}init(){const e=this.editor,i=e.editing.view,r=i.document,l=e.model.document;i.addObserver($4),this._undoOnBackspace=!1;const u=new WR(e,"forward");e.commands.add("deleteForward",u),e.commands.add("forwardDelete",u),e.commands.add("delete",new WR(e,"backward")),this.listenTo(r,"delete",(C,f)=>{r.isComposing||f.preventDefault();const{direction:w,sequence:S,selectionToRemove:R,unit:X}=f,J=w==="forward"?"deleteForward":"delete",U={sequence:S};if(X=="selection"){const te=Array.from(R.getRanges()).map(ae=>e.editing.mapper.toModelRange(ae));U.selection=e.model.createSelection(te)}else U.unit=X;e.execute(J,U),i.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(r,"delete",(C,f)=>{this._undoOnBackspace&&f.direction=="backward"&&f.sequence==1&&f.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),f.preventDefault(),C.stop())},{context:"$capture"}),this.listenTo(l,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class eO extends qe{static get requires(){return[RR,oa]}static get pluginName(){return"Typing"}}function ER(a,e){let i=a.start;return{text:Array.from(a.getWalker({ignoreElementEnd:!1})).reduce((r,{item:l})=>l.is("$text")||l.is("$textProxy")?r+l.data:(i=e.createPositionAfter(l),""),""),range:e.createRange(i,a.end)}}class XR extends rt(){constructor(e,i){super(),this.model=e,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(i,{directChange:r})=>{r&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(i,r)=>{!r.isUndo&&r.isLocal&&this._evaluateTextBeforeSelection("data",{batch:r})})}_evaluateTextBeforeSelection(e,i={}){const r=this.model,l=r.document.selection,u=r.createRange(r.createPositionAt(l.focus.parent,0),l.focus),{text:C,range:f}=ER(u,r),w=this.testCallback(C);if(!w&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!w,w){const S=Object.assign(i,{text:C,range:f});typeof w=="object"&&Object.assign(S,w),this.fire(`matched:${e}`,S)}}}class YR extends qe{constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,i=e.model,r=e.editing.view,l=e.locale,u=i.document.selection;this.listenTo(r.document,"arrowKey",(C,f)=>{if(!u.isCollapsed||f.shiftKey||f.altKey||f.ctrlKey)return;const w=f.keyCode==ln.arrowright,S=f.keyCode==ln.arrowleft;if(!w&&!S)return;const R=l.contentLanguageDirection;let X=!1;X=R==="ltr"&&w||R==="rtl"&&S?this._handleForwardMovement(f):this._handleBackwardMovement(f),X===!0&&C.stop()},{context:"$text",priority:"highest"}),this.listenTo(u,"change:range",(C,f)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!f.directChange&&yr(u.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const i=this.attributes,r=this.editor.model,l=r.document.selection,u=l.getFirstPosition();return!this._isGravityOverridden&&(!u.isAtStart||!ra(l,i))&&!!yr(u,i)&&(xu(e),ra(l,i)&&yr(u,i,!0)?wu(r,i):this._overrideGravity(),!0)}_handleBackwardMovement(e){const i=this.attributes,r=this.editor.model,l=r.document.selection,u=l.getFirstPosition();return this._isGravityOverridden?(xu(e),this._restoreGravity(),yr(u,i,!0)?wu(r,i):RC(r,i,u),!0):u.isAtStart?!!ra(l,i)&&(xu(e),RC(r,i,u),!0):!ra(l,i)&&yr(u,i,!0)?(xu(e),RC(r,i,u),!0):!!DR(u,i)&&(u.isAtEnd&&!ra(l,i)&&yr(u,i)?(xu(e),RC(r,i,u),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,i=e.model,r=i.document.selection,l=e.editing.view.document;e.editing.view.addObserver(I0);let u=!1;this.listenTo(l,"mousedown",()=>{u=!0}),this.listenTo(l,"selectionChange",()=>{const C=this.attributes;if(!u||(u=!1,!r.isCollapsed)||!ra(r,C))return;const f=r.getFirstPosition();yr(f,C)&&(f.isAtStart||yr(f,C,!0)?wu(i,C):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection,r=this.attributes;this.listenTo(e,"insertContent",()=>{const l=i.getFirstPosition();ra(i,r)&&yr(l,r)&&wu(e,r)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,i=e.model,r=i.document.selection,l=e.editing.view;let u=!1,C=!1;this.listenTo(l.document,"delete",(f,w)=>{u=w.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{if(!u)return;const f=r.getFirstPosition();C=ra(r,this.attributes)&&!DR(f,this.attributes)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{u&&(u=!1,C||e.model.enqueueChange(()=>{const f=r.getFirstPosition();ra(r,this.attributes)&&yr(f,this.attributes)&&(f.isAtStart||yr(f,this.attributes,!0)?wu(i,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function ra(a,e){for(const i of e)if(a.hasAttribute(i))return!0;return!1}function RC(a,e,i){const r=i.nodeBefore;a.change(l=>{if(r){const u=[],C=a.schema.isObject(r)&&a.schema.isInline(r);for(const[f,w]of r.getAttributes())!a.schema.checkAttribute("$text",f)||C&&a.schema.getAttributeProperties(f).copyFromObject===!1||u.push([f,w]);l.setSelectionAttribute(u)}else l.removeSelectionAttribute(e)})}function wu(a,e){a.change(i=>{i.removeSelectionAttribute(e)})}function xu(a){a.preventDefault()}function DR(a,e){return yr(a.getShiftedBy(-1),e)}function yr(a,e,i=!1){const{nodeBefore:r,nodeAfter:l}=a;for(const u of e){const C=r?r.getAttribute(u):void 0,f=l?l.getAttribute(u):void 0;if((!i||C!==void 0&&f!==void 0)&&f!==C)return!0}return!1}const HR={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:hg('"'),to:[null,"",null,""]},quotesSecondary:{from:hg("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:hg("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:hg('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:hg('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:hg("'"),to:[null,"",null,""]}},FR={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},tO=["symbols","mathematical","typography","quotes"];function nO(a){return typeof a=="string"?new RegExp(`(${TG(a)})$`):a}function iO(a){return typeof a=="string"?()=>[a]:a instanceof Array?()=>a:a}function oO(a){return(a.textNode?a.textNode:a.nodeAfter).getAttributes()}function hg(a){return new RegExp(`(^|\\s)(${a})([^${a}]*)(${a})$`)}function VC(a,e,i,r){return r.createRange(MR(a,e,i,!0,r),MR(a,e,i,!1,r))}function MR(a,e,i,r,l){let u=a.textNode||(r?a.nodeBefore:a.nodeAfter),C=null;for(;u&&u.getAttribute(e)==i;)C=u,u=r?u.previousSibling:u.nextSibling;return C?l.createPositionAt(C,r?"before":"after"):a}function*TR(a,e){for(const i of e)i&&a.getAttributeProperties(i[0]).copyOnEnter&&(yield i)}class rO extends Ut{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const i=this.editor.model,r=i.document.selection,l=i.schema,u=r.isCollapsed,C=r.getFirstRange(),f=C.start.parent,w=C.end.parent;if(l.isLimit(f)||l.isLimit(w))return u||f!=w||i.deleteContent(r),!1;if(u){const S=TR(e.model.schema,r.getAttributes());return JR(e,C.start),e.setSelectionAttribute(S),!0}{const S=!(C.start.isAtStart&&C.end.isAtEnd),R=f==w;if(i.deleteContent(r,{leaveUnmerged:S}),S){if(R)return JR(e,r.focus),!0;e.setSelection(w,0)}}return!1}}function JR(a,e){a.split(e),a.setSelection(e.parent.nextSibling,0)}const sO={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class LR extends xs{constructor(e){super(e);const i=this.document;let r=!1;i.on("keydown",(l,u)=>{r=u.shiftKey}),i.on("beforeinput",(l,u)=>{if(!this.isEnabled)return;let C=u.inputType;_.isSafari&&r&&C=="insertParagraph"&&(C="insertLineBreak");const f=u.domEvent,w=sO[C];if(!w)return;const S=new eg(i,"enter",u.targetRanges[0]);i.fire(S,new ig(e,f,{isSoft:w.isSoft})),S.stop.called&&l.stop()})}observe(){}stopObserving(){}}class WC extends qe{static get pluginName(){return"Enter"}init(){const e=this.editor,i=e.editing.view,r=i.document,l=this.editor.t;i.addObserver(LR),e.commands.add("enter",new rO(e)),this.listenTo(r,"enter",(u,C)=>{r.isComposing||C.preventDefault(),C.isSoft||(e.execute("enter"),i.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:l("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class aO extends Ut{execute(){const e=this.editor.model,i=e.document;e.change(r=>{(function(l,u,C){const f=C.isCollapsed,w=C.getFirstRange(),S=w.start.parent,R=w.end.parent,X=S==R;if(f){const J=TR(l.schema,C.getAttributes());zR(l,u,w.end),u.removeSelectionAttribute(C.getAttributeKeys()),u.setSelectionAttribute(J)}else{const J=!(w.start.isAtStart&&w.end.isAtEnd);l.deleteContent(C,{leaveUnmerged:J}),X?zR(l,u,C.focus):J&&u.setSelection(R,0)}})(e,r,i.selection),this.fire("afterExecute",{writer:r})})}refresh(){const e=this.editor.model,i=e.document;this.isEnabled=function(r,l){if(l.rangeCount>1)return!1;const u=l.anchor;if(!u||!r.checkChild(u,"softBreak"))return!1;const C=l.getFirstRange(),f=C.start.parent,w=C.end.parent;return!((D0(f,r)||D0(w,r))&&f!==w)}(e.schema,i.selection)}}function zR(a,e,i){const r=e.createElement("softBreak");a.insertContent(r,i),e.setSelection(r,"after")}function D0(a,e){return!a.is("rootElement")&&(e.isLimit(a)||D0(a.parent,e))}class lO extends qe{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,i=e.model.schema,r=e.conversion,l=e.editing.view,u=l.document,C=this.editor.t;i.register("softBreak",{allowWhere:"$text",isInline:!0}),r.for("upcast").elementToElement({model:"softBreak",view:"br"}),r.for("downcast").elementToElement({model:"softBreak",view:(f,{writer:w})=>w.createEmptyElement("br")}),l.addObserver(LR),e.commands.add("shiftEnter",new aO(e)),this.listenTo(u,"enter",(f,w)=>{u.isComposing||w.preventDefault(),w.isSoft&&(e.execute("shiftEnter"),l.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:C("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class cO extends fe(){constructor(){super(...arguments),this._stack=[]}add(e,i){const r=this._stack,l=r[0];this._insertDescriptor(e);const u=r[0];l===u||H0(l,u)||this.fire("change:top",{oldDescriptor:l,newDescriptor:u,writer:i})}remove(e,i){const r=this._stack,l=r[0];this._removeDescriptor(e);const u=r[0];l===u||H0(l,u)||this.fire("change:top",{oldDescriptor:l,newDescriptor:u,writer:i})}_insertDescriptor(e){const i=this._stack,r=i.findIndex(u=>u.id===e.id);if(H0(e,i[r]))return;r>-1&&i.splice(r,1);let l=0;for(;i[l]&&gO(i[l],e);)l++;i.splice(l,0,e)}_removeDescriptor(e){const i=this._stack,r=i.findIndex(l=>l.id===e);r>-1&&i.splice(r,1)}}function H0(a,e){return a&&e&&a.priority==e.priority&&_C(a.classes)==_C(e.classes)}function gO(a,e){return a.priority>e.priority||!(a.priority<e.priority)&&_C(a.classes)>_C(e.classes)}function _C(a){return Array.isArray(a)?a.sort().join(","):a}const dO='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',uO="ck-widget",KR="ck-widget_selected";function ki(a){return!!a.is("element")&&!!a.getCustomProperty("widget")}function F0(a,e,i={}){if(!a.is("containerElement"))throw new K("widget-to-widget-wrong-element-type",null,{element:a});return e.setAttribute("contenteditable","false",a),e.addClass(uO,a),e.setCustomProperty("widget",!0,a),a.getFillerOffset=CO,e.setCustomProperty("widgetLabel",[],a),i.label&&function(r,l){r.getCustomProperty("widgetLabel").push(l)}(a,i.label),i.hasSelectionHandle&&function(r,l){const u=l.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(C){const f=this.toDomElement(C),w=new ta;return w.set("content",dO),w.render(),f.appendChild(w.element),f});l.insert(l.createPositionAt(r,0),u),l.addClass(["ck-widget_with-selection-handle"],r)}(a,e),PR(a,e),a}function hO(a,e,i){if(e.classes&&i.addClass(Tn(e.classes),a),e.attributes)for(const r in e.attributes)i.setAttribute(r,e.attributes[r],a)}function mO(a,e,i){if(e.classes&&i.removeClass(Tn(e.classes),a),e.attributes)for(const r in e.attributes)i.removeAttribute(r,a)}function PR(a,e,i=hO,r=mO){const l=new cO;l.on("change:top",(u,C)=>{C.oldDescriptor&&r(a,C.oldDescriptor,C.writer),C.newDescriptor&&i(a,C.newDescriptor,C.writer)}),e.setCustomProperty("addHighlight",(u,C,f)=>l.add(C,f),a),e.setCustomProperty("removeHighlight",(u,C,f)=>l.remove(C,f),a)}function jR(a,e,i={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],a),e.setAttribute("role","textbox",a),e.setAttribute("tabindex","-1",a),i.label&&e.setAttribute("aria-label",i.label,a),e.setAttribute("contenteditable",a.isReadOnly?"false":"true",a),a.on("change:isReadOnly",(r,l,u)=>{e.setAttribute("contenteditable",u?"false":"true",a)}),a.on("change:isFocused",(r,l,u)=>{u?e.addClass("ck-editor__nested-editable_focused",a):e.removeClass("ck-editor__nested-editable_focused",a)}),PR(a,e),a}function OR(a,e){const i=a.getSelectedElement();if(i){const r=Ka(a);if(r)return e.createRange(e.createPositionAt(i,r))}return e.schema.findOptimalInsertionRange(a)}function CO(){return null}const sa="widget-type-around";function Ql(a,e,i){return!!a&&ki(a)&&!i.isInline(e)}function Ka(a){return a.getAttribute(sa)}var UR=d(8508),pO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(UR.A,pO),UR.A.locals;const QR=["before","after"],IO=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,qR="ck-widget__type-around_disabled";class fO extends qe{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[WC,oa]}init(){const e=this.editor,i=e.editing.view;this.on("change:isEnabled",(r,l,u)=>{i.change(C=>{for(const f of i.document.roots)u?C.removeClass(qR,f):C.addClass(qR,f)}),u||e.model.change(C=>{C.removeSelectionAttribute(sa)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,i){const r=this.editor,l=r.editing.view,u=r.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);r.execute("insertParagraph",{position:r.model.createPositionAt(e,i),attributes:u}),l.focus(),l.scrollToTheSelection()}_listenToIfEnabled(e,i,r,l){this.listenTo(e,i,(...u)=>{this.isEnabled&&r(...u)},l)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,i=Ka(e);if(!i)return!1;const r=e.getSelectedElement();return this._insertParagraph(r,i),!0}_enableTypeAroundUIInjection(){const e=this.editor,i=e.model.schema,r=e.locale.t,l={before:r("Insert paragraph before block"),after:r("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(u,C,f)=>{const w=f.mapper.toViewElement(C.item);w&&Ql(w,C.item,i)&&(function(S,R,X){const J=S.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(U){const te=this.toDomElement(U);return function(ae,he){for(const Ie of QR){const we=new Pr({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${Ie}`],title:he[Ie],"aria-hidden":"true"},children:[ae.ownerDocument.importNode(IO,!0)]});ae.appendChild(we.render())}}(te,R),function(ae){const he=new Pr({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});ae.appendChild(he.render())}(te),te});S.insert(S.createPositionAt(X,"end"),J)}(f.writer,l,w),w.getCustomProperty("widgetLabel").push(()=>this.isEnabled?r("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,i=e.model,r=i.document.selection,l=i.schema,u=e.editing.view;function C(f){return`ck-widget_type-around_show-fake-caret_${f}`}this._listenToIfEnabled(u.document,"arrowKey",(f,w)=>{this._handleArrowKeyPress(f,w)},{context:[ki,"$text"],priority:"high"}),this._listenToIfEnabled(r,"change:range",(f,w)=>{w.directChange&&e.model.change(S=>{S.removeSelectionAttribute(sa)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const f=r.getSelectedElement();f&&Ql(e.editing.mapper.toViewElement(f),f,l)||e.model.change(w=>{w.removeSelectionAttribute(sa)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(f,w,S)=>{const R=S.writer;if(this._currentFakeCaretModelElement){const te=S.mapper.toViewElement(this._currentFakeCaretModelElement);te&&(R.removeClass(QR.map(C),te),this._currentFakeCaretModelElement=null)}const X=w.selection.getSelectedElement();if(!X)return;const J=S.mapper.toViewElement(X);if(!Ql(J,X,l))return;const U=Ka(w.selection);U&&(R.addClass(C(U),J),this._currentFakeCaretModelElement=X)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(f,w,S)=>{S||e.model.change(R=>{R.removeSelectionAttribute(sa)})})}_handleArrowKeyPress(e,i){const r=this.editor,l=r.model,u=l.document.selection,C=l.schema,f=r.editing.view,w=function(X,J){const U=RA(X,J);return U==="down"||U==="right"}(i.keyCode,r.locale.contentLanguageDirection),S=f.document.selection.getSelectedElement();let R;Ql(S,r.editing.mapper.toModelElement(S),C)?R=this._handleArrowKeyPressOnSelectedWidget(w):u.isCollapsed?R=this._handleArrowKeyPressWhenSelectionNextToAWidget(w):i.shiftKey||(R=this._handleArrowKeyPressWhenNonCollapsedSelection(w)),R&&(i.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,r=Ka(i.document.selection);return i.change(l=>r?r!==(e?"after":"before")?(l.removeSelectionAttribute(sa),!0):!1:(l.setSelectionAttribute(sa,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const i=this.editor,r=i.model,l=r.schema,u=i.plugins.get("Widget"),C=u._getObjectElementNextToSelection(e);return!!Ql(i.editing.mapper.toViewElement(C),C,l)&&(r.change(f=>{u._setSelectionOverElement(C),f.setSelectionAttribute(sa,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const i=this.editor,r=i.model,l=r.schema,u=i.editing.mapper,C=r.document.selection,f=e?C.getLastPosition().nodeBefore:C.getFirstPosition().nodeAfter;return!!Ql(u.toViewElement(f),f,l)&&(r.change(w=>{w.setSelection(f,"on"),w.setSelectionAttribute(sa,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,i=e.editing.view;this._listenToIfEnabled(i.document,"mousedown",(r,l)=>{const u=l.domTarget.closest(".ck-widget__type-around__button");if(!u)return;const C=function(S){return S.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(u),f=function(S,R){const X=S.closest(".ck-widget");return R.mapDomToView(X)}(u,i.domConverter),w=e.editing.mapper.toModelElement(f);this._insertParagraph(w,C),l.preventDefault(),r.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,i=e.model.document.selection,r=e.editing.view;this._listenToIfEnabled(r.document,"enter",(l,u)=>{if(l.eventPhase!="atTarget")return;const C=i.getSelectedElement(),f=e.editing.mapper.toViewElement(C),w=e.model.schema;let S;this._insertParagraphAccordingToFakeCaretPosition()?S=!0:Ql(f,C,w)&&(this._insertParagraph(C,u.isSoft?"before":"after"),S=!0),S&&(u.preventDefault(),l.stop())},{context:ki})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(i,r)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(r.selection=e.selection)},{priority:"high"}),_.isAndroid?this._listenToIfEnabled(e,"keydown",(i,r)=>{r.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,i=e.editing.view,r=e.model,l=r.schema;this._listenToIfEnabled(i.document,"delete",(u,C)=>{if(u.eventPhase!="atTarget")return;const f=Ka(r.document.selection);if(!f)return;const w=C.direction,S=r.document.selection.getSelectedElement(),R=w=="forward";if(f==="before"===R)e.execute("delete",{selection:r.createSelection(S,"on")});else{const X=l.getNearestSelectionRange(r.createPositionAt(S,f),w);if(X)if(X.isCollapsed){const J=r.createSelection(X.start);if(r.modifySelection(J,{direction:w}),J.focus.isEqual(X.start)){const U=function(te,ae){let he=ae;for(const Ie of ae.getAncestors({parentFirst:!0})){if(Ie.childCount>1||te.isLimit(Ie))break;he=Ie}return he}(l,X.start.parent);r.deleteContent(r.createSelection(U,"on"),{doNotAutoparagraph:!0})}else r.change(U=>{U.setSelection(X),e.execute(R?"deleteForward":"delete")})}else r.change(J=>{J.setSelection(X),e.execute(R?"deleteForward":"delete")})}C.preventDefault(),u.stop()},{context:ki})}_enableInsertContentIntegration(){const e=this.editor,i=this.editor.model,r=i.document.selection;this._listenToIfEnabled(e.model,"insertContent",(l,[u,C])=>{if(C&&!C.is("documentSelection"))return;const f=Ka(r);return f?(l.stop(),i.change(w=>{const S=r.getSelectedElement(),R=i.createPositionAt(S,f),X=w.createSelection(R),J=i.insertContent(u,X);return w.setSelection(X),J})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(r,l)=>{const[,u,C={}]=l;if(u&&!u.is("documentSelection"))return;const f=Ka(i);f&&(C.findOptimalPosition=f,l[3]=C)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(r,[l])=>{l&&!l.is("documentSelection")||Ka(i)&&r.stop()},{priority:"high"})}}function bO(a){const e=a.model;return(i,r)=>{const l=r.keyCode==ln.arrowup,u=r.keyCode==ln.arrowdown,C=r.shiftKey,f=e.document.selection;if(!l&&!u)return;const w=u;if(C&&function(R,X){return!R.isCollapsed&&R.isBackward==X}(f,w))return;const S=function(R,X,J){const U=R.model;if(J){const te=X.isCollapsed?X.focus:X.getLastPosition(),ae=$R(U,te,"forward");if(!ae)return null;const he=U.createRange(te,ae),Ie=eV(U.schema,he,"backward");return Ie?U.createRange(te,Ie):null}{const te=X.isCollapsed?X.focus:X.getFirstPosition(),ae=$R(U,te,"backward");if(!ae)return null;const he=U.createRange(ae,te),Ie=eV(U.schema,he,"forward");return Ie?U.createRange(Ie,te):null}}(a,f,w);if(S){if(S.isCollapsed&&(f.isCollapsed||C))return;(S.isCollapsed||function(R,X,J){const U=R.model,te=R.view.domConverter;if(J){const We=U.createSelection(X.start);U.modifySelection(We),We.focus.isAtEnd||X.start.isEqual(We.focus)||(X=U.createRange(We.focus,X.end))}const ae=R.mapper.toViewRange(X),he=te.viewRangeToDom(ae),Ie=rn.getDomRangeRects(he);let we;for(const We of Ie)if(we!==void 0){if(Math.round(We.top)>=we)return!1;we=Math.max(we,Math.round(We.bottom))}else we=Math.round(We.bottom);return!0}(a,S,w))&&(e.change(R=>{const X=w?S.end:S.start;if(C){const J=e.createSelection(f.anchor);J.setFocus(X),R.setSelection(J)}else R.setSelection(X)}),i.stop(),r.preventDefault(),r.stopPropagation())}}}function $R(a,e,i){const r=a.schema,l=a.createRangeIn(e.root),u=i=="forward"?"elementStart":"elementEnd";for(const{previousPosition:C,item:f,type:w}of l.getWalker({startPosition:e,direction:i})){if(r.isLimit(f)&&!r.isInline(f))return C;if(w==u&&r.isBlock(f))return null}return null}function eV(a,e,i){const r=i=="backward"?e.end:e.start;if(a.checkChild(r,"$text"))return r;for(const{nextPosition:l}of e.getWalker({direction:i}))if(a.checkChild(l,"$text"))return l;return null}var tV=d(695),AO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(tV.A,AO),tV.A.locals;class Su extends qe{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[fO,oa]}init(){const e=this.editor,i=e.editing.view,r=i.document,l=e.t;this.editor.editing.downcastDispatcher.on("selection",(u,C,f)=>{const w=f.writer,S=C.selection;if(S.isCollapsed)return;const R=S.getSelectedElement();if(!R)return;const X=e.editing.mapper.toViewElement(R);var J;ki(X)&&f.consumable.consume(S,"selection")&&w.setSelection(w.createRangeOn(X),{fake:!0,label:(J=X,J.getCustomProperty("widgetLabel").reduce((U,te)=>typeof te=="function"?U?U+". "+te():te():U?U+". "+te:te,""))})}),this.editor.editing.downcastDispatcher.on("selection",(u,C,f)=>{this._clearPreviouslySelectedWidgets(f.writer);const w=f.writer,S=w.document.selection;let R=null;for(const X of S.getRanges())for(const J of X){const U=J.item;ki(U)&&!yO(U,R)&&(w.addClass(KR,U),this._previouslySelected.add(U),R=U)}},{priority:"low"}),i.addObserver(I0),this.listenTo(r,"mousedown",(...u)=>this._onMousedown(...u)),this.listenTo(r,"arrowKey",(...u)=>{this._handleSelectionChangeOnArrowKeyPress(...u)},{context:[ki,"$text"]}),this.listenTo(r,"arrowKey",(...u)=>{this._preventDefaultOnArrowKeyPress(...u)},{context:"$root"}),this.listenTo(r,"arrowKey",bO(this.editor.editing),{context:"$text"}),this.listenTo(r,"delete",(u,C)=>{this._handleDelete(C.direction=="forward")&&(C.preventDefault(),u.stop())},{context:"$root"}),this.listenTo(r,"tab",(u,C)=>{u.eventPhase=="atTarget"&&(C.shiftKey||this._selectFirstNestedEditable()&&(C.preventDefault(),u.stop()))},{context:ki,priority:"low"}),this.listenTo(r,"tab",(u,C)=>{C.shiftKey&&this._selectAncestorWidget()&&(C.preventDefault(),u.stop())},{priority:"low"}),this.listenTo(r,"keydown",(u,C)=>{C.keystroke==ln.esc&&this._selectAncestorWidget()&&(C.preventDefault(),u.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:l("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:l("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:l("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:l("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:l("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,i){const r=this.editor,l=r.editing.view,u=l.document;let C=i.target;if(i.domEvent.detail>=3)return void(this._selectBlockContent(C)&&i.preventDefault());if(function(w){let S=w;for(;S;){if(S.is("editableElement")&&!S.is("rootElement"))return!0;if(ki(S))return!1;S=S.parent}return!1}(C)||!ki(C)&&(C=C.findAncestor(ki),!C))return;_.isAndroid&&i.preventDefault(),u.isFocused||l.focus();const f=r.editing.mapper.toModelElement(C);this._setSelectionOverElement(f)}_selectBlockContent(e){const i=this.editor,r=i.model,l=i.editing.mapper,u=r.schema,C=l.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),f=function(w,S){for(const R of w.getAncestors({includeSelf:!0,parentFirst:!0})){if(S.checkChild(R,"$text"))return R;if(S.isLimit(R)&&!S.isObject(R))break}return null}(l.toModelElement(C),r.schema);return!!f&&(r.change(w=>{const S=u.isLimit(f)?null:function(J,U){const te=new Qs({startPosition:J});for(const{item:ae}of te){if(U.isLimit(ae)||!ae.is("element"))return null;if(U.checkChild(ae,"$text"))return ae}return null}(w.createPositionAfter(f),u),R=w.createPositionAt(f,0),X=S?w.createPositionAt(S,0):w.createPositionAt(f,"end");w.setSelection(w.createRange(R,X))}),!0)}_handleSelectionChangeOnArrowKeyPress(e,i){const r=i.keyCode,l=this.editor.model,u=l.schema,C=l.document.selection,f=C.getSelectedElement(),w=RA(r,this.editor.locale.contentLanguageDirection),S=w=="down"||w=="right",R=w=="up"||w=="down";if(f&&u.isObject(f)){const J=S?C.getLastPosition():C.getFirstPosition(),U=u.getNearestSelectionRange(J,S?"forward":"backward");return void(U&&(l.change(te=>{te.setSelection(U)}),i.preventDefault(),e.stop()))}if(!C.isCollapsed&&!i.shiftKey){const J=C.getFirstPosition(),U=C.getLastPosition(),te=J.nodeAfter,ae=U.nodeBefore;return void((te&&u.isObject(te)||ae&&u.isObject(ae))&&(l.change(he=>{he.setSelection(S?U:J)}),i.preventDefault(),e.stop()))}if(!C.isCollapsed)return;const X=this._getObjectElementNextToSelection(S);if(X&&u.isObject(X)){if(u.isInline(X)&&R)return;this._setSelectionOverElement(X),i.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,i){const r=this.editor.model,l=r.schema,u=r.document.selection.getSelectedElement();u&&l.isObject(u)&&(i.preventDefault(),e.stop())}_handleDelete(e){const i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;const r=this._getObjectElementNextToSelection(e);return r?(this.editor.model.change(l=>{let u=i.anchor.parent;for(;u.isEmpty;){const C=u;u=C.parent,l.remove(C)}this._setSelectionOverElement(r)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(e))})}_getObjectElementNextToSelection(e){const i=this.editor.model,r=i.schema,l=i.document.selection,u=i.createSelection(l);if(i.modifySelection(u,{direction:e?"forward":"backward"}),u.isEqual(l))return null;const C=e?u.focus.nodeBefore:u.focus.nodeAfter;return C&&r.isObject(C)?C:null}_clearPreviouslySelectedWidgets(e){for(const i of this._previouslySelected)e.removeClass(KR,i);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,i=this.editor.editing.view.document;for(const r of i.selection.getFirstRange().getItems())if(r.is("editableElement")){const l=e.editing.mapper.toModelElement(r);if(!l)continue;const u=e.model.createPositionAt(l,0),C=e.model.schema.getNearestSelectionRange(u,"forward");return e.model.change(f=>{f.setSelection(C)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,i=e.editing.mapper,r=e.editing.view.document.selection.getFirstPosition().parent,l=(r.is("$text")?r.parent:r).findAncestor(ki);if(!l)return!1;const u=i.toModelElement(l);return!!u&&(e.model.change(C=>{C.setSelection(u,"on")}),!0)}}function yO(a,e){return!!e&&Array.from(a.getAncestors()).includes(e)}class NC extends qe{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[SC]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const i=e.plugins.get("BalloonToolbar");this.listenTo(i,"show",r=>{(function(l){const u=l.getSelectedElement();return!(!u||!ki(u))})(e.editing.view.document.selection)&&r.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:i,items:r,getRelatedElement:l,balloonClassName:u="ck-toolbar-container"}){if(!r.length)return void de("widget-toolbar-no-items",{toolbarId:e});const C=this.editor,f=C.t,w=new v0(C.locale);if(w.ariaLabel=i||f("Widget toolbar"),this._toolbarDefinitions.has(e))throw new K("widget-toolbar-duplicated",this,{toolbarId:e});const S={view:w,getRelatedElement:l,balloonClassName:u,itemsConfig:r,initialized:!1};C.ui.addToolbar(w,{isContextual:!0,beforeFocus:()=>{const R=l(C.editing.view.document.selection);R&&this._showToolbar(S,R)},afterBlur:()=>{this._hideToolbar(S)}}),this._toolbarDefinitions.set(e,S)}_updateToolbarsVisibility(){let e=0,i=null,r=null;for(const l of this._toolbarDefinitions.values()){const u=l.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&u)if(this.editor.ui.focusTracker.isFocused){const C=u.getAncestors().length;C>e&&(e=C,i=u,r=l)}else this._isToolbarVisible(l)&&this._hideToolbar(l);else this._isToolbarInBalloon(l)&&this._hideToolbar(l)}r&&this._showToolbar(r,i)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,i){this._isToolbarVisible(e)?nV(this.editor,i):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:iV(this.editor,i),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const r of this._toolbarDefinitions.values())if(this._isToolbarVisible(r)){const l=r.getRelatedElement(this.editor.editing.view.document.selection);nV(this.editor,l)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function nV(a,e){const i=a.plugins.get("ContextualBalloon"),r=iV(a,e);i.updatePosition(r)}function iV(a,e){const i=a.editing.view,r=Vo.defaultPositions;return{target:i.domConverter.mapViewToDom(e),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}var oV=d(4095),kO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(oV.A,kO),oV.A.locals;const M0=Uc("px");class vO extends Gt{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",i=>!i)],style:{left:e.to("left",i=>M0(i)),top:e.to("top",i=>M0(i)),width:e.to("width",i=>M0(i))}}})}}class EC extends qe{constructor(){super(...arguments),this.removeDropMarkerDelayed=_A(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=wC(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=wC(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new vO,this._domEmitter=new(pr()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,i,r,l,u,C){this.removeDropMarkerDelayed.cancel();const f=rV(this.editor,e,i,r,l,u,C);if(f)return C&&C.containsRange(f)?this.removeDropMarker():void this._updateDropMarkerThrottled(f)}getFinalDropRange(e,i,r,l,u,C){const f=rV(this.editor,e,i,r,l,u,C);return this.removeDropMarker(),f}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(i=>{i.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:r})=>{if(e.model.schema.checkChild(i.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(r);i.markerRange.isCollapsed?this._updateDropTargetLine(i.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const i=this.editor,r=i.model.markers;i.model.change(l=>{r.has("drop-target")?r.get("drop-target").getRange().isEqual(e)||l.updateMarker("drop-target",{range:e}):l.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(i){const r=this.toDomElement(i);return r.append("",i.createElement("span"),""),r})}_updateDropTargetLine(e){const i=this.editor.editing,r=e.start.nodeBefore,l=e.start.nodeAfter,u=e.start.parent,C=r?i.mapper.toViewElement(r):null,f=C?i.view.domConverter.mapViewToDom(C):null,w=l?i.mapper.toViewElement(l):null,S=w?i.view.domConverter.mapViewToDom(w):null,R=i.mapper.toViewElement(u);if(!R)return;const X=i.view.domConverter.mapViewToDom(R),J=this._getScrollableRect(R),{scrollX:U,scrollY:te}=v.window,ae=f?new rn(f):null,he=S?new rn(S):null,Ie=new rn(X).excludeScrollbarsAndBorders(),we=ae?ae.bottom:Ie.top,We=he?he.top:Ie.bottom,ze=v.window.getComputedStyle(X),ut=we<=We?(we+We)/2:We;if(J.top<ut&&ut<J.bottom){const Nt=Ie.left+parseFloat(ze.paddingLeft),zt=Ie.right-parseFloat(ze.paddingRight),Jn=Math.max(Nt+U,J.left),Hi=Math.min(zt+U,J.right);this._dropTargetLineView.set({isVisible:!0,left:Jn,top:ut+te,width:Hi-Jn})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const i=e.root.rootName;let r;if(this._scrollables.has(i))r=this._scrollables.get(i).domElement;else{r=function(u){let C=u;do{C=C.parentElement;const f=v.window.getComputedStyle(C).overflowY;if(f=="auto"||f=="scroll")break}while(C.tagName!="BODY");return C}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(r,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const l=new $d(r,this._reconvertMarkerThrottled);this._scrollables.set(i,{domElement:r,resizeObserver:l})}return new rn(r).excludeScrollbarsAndBorders()}}function rV(a,e,i,r,l,u,C){const f=a.model,w=a.editing.mapper;let S=aV(a,e);for(;S;){if(!u){if(f.schema.checkChild(S,"$text")){if(i){const R=i[0].start,X=w.toModelPosition(R);if(!C||Array.from(C.getItems()).every(J=>f.schema.checkChild(X,J))){if(f.schema.checkChild(X,"$text"))return f.createRange(X);if(R)return XC(a,aV(a,R.parent),r,l)}}}else if(f.schema.isInline(S))return XC(a,S,r,l)}if(f.schema.isBlock(S))return XC(a,S,r,l);if(f.schema.checkChild(S,"$block")){const R=Array.from(S.getChildren()).filter(U=>U.is("element")&&!wO(a,U));let X=0,J=R.length;if(J==0)return f.createRange(f.createPositionAt(S,"end"));for(;X<J-1;){const U=Math.floor((X+J)/2);sV(a,R[U],r,l)=="before"?J=U:X=U}return XC(a,R[X],r,l)}S=S.parent}return null}function wO(a,e){const i=a.editing.mapper,r=a.editing.view.domConverter,l=i.toViewElement(e);if(!l)return!0;const u=r.mapViewToDom(l);return v.window.getComputedStyle(u).float!="none"}function XC(a,e,i,r){const l=a.model;return l.createRange(l.createPositionAt(e,sV(a,e,i,r)))}function sV(a,e,i,r){const l=a.editing.mapper,u=a.editing.view.domConverter,C=l.toViewElement(e),f=u.mapViewToDom(C),w=new rn(f);return a.model.schema.isInline(e)?i<(w.left+w.right)/2?"before":"after":r<(w.top+w.bottom)/2?"before":"after"}function aV(a,e){const i=a.editing.mapper,r=a.editing.view,l=i.toModelElement(e);if(l)return l;const u=r.createPositionBefore(e),C=i.findMappedViewAncestor(u);return i.toModelElement(C)}var xO=Object.defineProperty,SO=Object.defineProperties,BO=Object.getOwnPropertyDescriptors,lV=Object.getOwnPropertySymbols,ZO=Object.prototype.hasOwnProperty,GO=Object.prototype.propertyIsEnumerable,cV=(a,e,i)=>e in a?xO(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;class RO extends qe{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(pr())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(i,r,l)=>{l?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),_.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const i=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(i,"dragstart",(r,l)=>this._handleBlockDragStart(l)),this._domEmitter.listenTo(v.document,"dragover",(r,l)=>this._handleBlockDragging(l)),this._domEmitter.listenTo(v.document,"drop",(r,l)=>this._handleBlockDragging(l)),this._domEmitter.listenTo(v.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&i.setAttribute("draggable","true"),this.on("change:isEnabled",(r,l,u)=>{i.setAttribute("draggable",u?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const i=this.editor.model,r=i.document.selection,l=this.editor.editing.view,u=Array.from(r.getSelectedBlocks()),C=i.createRange(i.createPositionBefore(u[0]),i.createPositionAfter(u[u.length-1]));i.change(f=>f.setSelection(C)),this._isBlockDragging=!0,l.focus(),l.getObserver(yu).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const i=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),r=e.clientY,l=document.elementFromPoint(i,r),u=this.editor.editing.view;var C,f;l&&l.closest(".ck-editor__editable")&&u.getObserver(yu).onDomEvent((C=((w,S)=>{for(var R in S||(S={}))ZO.call(S,R)&&cV(w,R,S[R]);if(lV)for(var R of lV(S))GO.call(S,R)&&cV(w,R,S[R]);return w})({},e),f={type:e.type,dataTransfer:e.dataTransfer,target:l,clientX:i,clientY:r,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()},SO(C,BO(f))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var gV=d(7793),VO={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(gV.A,VO),gV.A.locals;class WO extends qe{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=_A(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(pr())}static get pluginName(){return"DragDrop"}static get requires(){return[Ar,Su,EC,RO]}init(){const e=this.editor,i=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,i.addObserver(yu),i.addObserver(I0),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(r,l,u)=>{u?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(r,l,u)=>{u||this._finalizeDragging(!1)}),_.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,i=e.model,r=e.editing.view,l=r.document,u=e.plugins.get(EC);this.listenTo(l,"dragstart",(C,f)=>{if(f.target&&f.target.is("editableElement")||(this._prepareDraggedRange(f.target),!this._draggedRange))return void f.preventDefault();this._draggingUid=j(),f.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",f.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const w=i.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(f.dataTransfer,w,"dragstart");const{dataTransfer:S,domTarget:R,domEvent:X}=f,{clientX:J}=X;this._updatePreview({dataTransfer:S,domTarget:R,clientX:J}),f.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(l,"dragend",(C,f)=>{this._finalizeDragging(!f.dataTransfer.isCanceled&&f.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(v.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(l,"dragenter",()=>{this.isEnabled&&r.focus()}),this.listenTo(l,"dragleave",()=>{u.removeDropMarkerDelayed()}),this.listenTo(l,"dragging",(C,f)=>{if(!this.isEnabled)return void(f.dataTransfer.dropEffect="none");const{clientX:w,clientY:S}=f.domEvent;u.updateDropMarker(f.target,f.targetRanges,w,S,this._blockMode,this._draggedRange),this._draggedRange||(f.dataTransfer.dropEffect="copy"),_.isGecko||(f.dataTransfer.effectAllowed=="copy"?f.dataTransfer.dropEffect="copy":["all","copyMove"].includes(f.dataTransfer.effectAllowed)&&(f.dataTransfer.dropEffect="move")),C.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,i=e.editing.view.document,r=e.plugins.get(EC);this.listenTo(i,"clipboardInput",(l,u)=>{if(u.method!="drop")return;const{clientX:C,clientY:f}=u.domEvent,w=r.getFinalDropRange(u.target,u.targetRanges,C,f,this._blockMode,this._draggedRange);if(!w)return this._finalizeDragging(!1),void l.stop();if(this._draggedRange&&this._draggingUid!=u.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),dV(u.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(w,!0))return this._finalizeDragging(!1),void l.stop();u.targetRanges=[e.editing.mapper.toViewRange(w)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Ar);e.on("contentInsertion",(i,r)=>{if(!this.isEnabled||r.method!=="drop")return;const l=r.targetRanges.map(u=>this.editor.editing.mapper.toModelRange(u));this.editor.model.change(u=>u.setSelection(l))},{priority:"high"}),e.on("contentInsertion",(i,r)=>{if(!this.isEnabled||r.method!=="drop")return;const l=dV(r.dataTransfer)=="move",u=!r.resultRange||!r.resultRange.isCollapsed;this._finalizeDragging(u&&l)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,i=e.editing.view,r=i.document;this.listenTo(r,"mousedown",(l,u)=>{if(_.isAndroid||!u)return;this._clearDraggableAttributesDelayed.cancel();let C=uV(u.target);if(_.isBlink&&!e.isReadOnly&&!C&&!r.selection.isCollapsed){const f=r.selection.getSelectedElement();f&&ki(f)||(C=r.selection.editableElement)}C&&(i.change(f=>{f.setAttribute("draggable","true",C)}),this._draggableElement=e.editing.mapper.toModelElement(C))}),this.listenTo(r,"mouseup",()=>{_.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const i=this.editor,r=i.model;i.plugins.get(EC).removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&r.change(l=>{const u=r.createSelection(this._draggedRange);r.deleteContent(u,{doNotAutoparagraph:!0});const C=u.getFirstPosition().parent;C.isEmpty&&!r.schema.checkChild(C,"$text")&&r.schema.checkChild(C,"paragraph")&&l.insertElement("paragraph",C,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const i=this.editor,r=i.model,l=r.document.selection,u=e?uV(e):null;if(u){const S=i.editing.mapper.toModelElement(u);this._draggedRange=Oo.fromRange(r.createRangeOn(S)),this._blockMode=r.schema.isBlock(S),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(l.isCollapsed&&!l.getFirstPosition().parent.isEmpty)return;const C=Array.from(l.getSelectedBlocks()),f=l.getFirstRange();if(C.length==0)return void(this._draggedRange=Oo.fromRange(f));const w=hV(r,C);if(C.length>1)this._draggedRange=Oo.fromRange(w),this._blockMode=!0;else if(C.length==1){const S=f.start.isTouching(w.start)&&f.end.isTouching(w.end);this._draggedRange=Oo.fromRange(S?w:f),this._blockMode=S}r.change(S=>S.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:i,clientX:r}){const l=this.editor.editing.view,u=l.document.selection.editableElement,C=l.domConverter.mapViewToDom(u),f=v.window.getComputedStyle(C);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=$i(v.document,"div",{style:"position: fixed; left: -999999px;"}),v.document.body.appendChild(this._previewContainer));const w=new rn(C);if(C.contains(i))return;const S=parseFloat(f.paddingLeft),R=$i(v.document,"div");R.className="ck ck-content",R.style.width=f.width,R.style.paddingLeft=`${w.left-r+S}px`,_.isiOS&&(R.style.backgroundColor="white"),R.innerHTML=e.getData("text/html"),e.setDragImage(R,0,0),this._previewContainer.appendChild(R)}}function dV(a){return _.isGecko?a.dropEffect:["all","copyMove"].includes(a.effectAllowed)?"move":"copy"}function uV(a){if(a.is("editableElement"))return null;if(a.hasClass("ck-widget__selection-handle"))return a.findAncestor(ki);if(ki(a))return a;const e=a.findAncestor(i=>ki(i)||i.is("editableElement"));return ki(e)?e:null}function hV(a,e){const i=e[0],r=e[e.length-1],l=i.getCommonAncestor(r),u=a.createPositionBefore(i),C=a.createPositionAfter(r);if(l&&l.is("element")&&!a.schema.isLimit(l)){const f=a.createRangeOn(l),w=u.isTouching(f.start),S=C.isTouching(f.end);if(w&&S)return hV(a,[l])}return a.createRange(u,C)}class _O extends qe{static get pluginName(){return"PastePlainText"}static get requires(){return[Ar]}init(){const e=this.editor,i=e.model,r=e.editing.view,l=r.document,u=i.document.selection;let C=!1;r.addObserver(yu),this.listenTo(l,"keydown",(f,w)=>{C=w.shiftKey}),e.plugins.get(Ar).on("contentInsertion",(f,w)=>{(C||function(S,R){if(S.childCount>1)return!1;const X=S.getChild(0);return R.isObject(X)?!1:Array.from(X.getAttributeKeys()).length==0}(w.content,i.schema))&&i.change(S=>{const R=Array.from(u.getAttributes()).filter(([J])=>i.schema.getAttributeProperties(J).isFormatting);u.isCollapsed||i.deleteContent(u,{doNotAutoparagraph:!0}),R.push(...u.getAttributes());const X=S.createRangeIn(w.content);for(const J of X.getItems())J.is("$textProxy")&&S.setAttributes(R,J)})})}}class mV extends qe{static get pluginName(){return"Clipboard"}static get requires(){return[ku,Ar,WO,_O]}init(){const e=this.editor,i=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Copy selected content"),keystroke:"CTRL+C"},{label:i("Paste content"),keystroke:"CTRL+V"},{label:i("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class NO extends Ut{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,i=e.document.selection;let r=e.schema.getLimitElement(i);if(i.containsEntireContent(r)||!CV(e.schema,r))do if(r=r.parent,!r)return;while(!CV(e.schema,r));e.change(l=>{l.setSelection(r,"in")})}}function CV(a,e){return a.isLimit(e)&&(a.checkChild(e,"$text")||a.checkChild(e,"paragraph"))}const EO=nu("Ctrl+A");class XO extends qe{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,i=e.t,r=e.editing.view.document;e.commands.add("selectAll",new NO(e)),this.listenTo(r,"keydown",(l,u)=>{Qc(u)===EO&&(e.execute("selectAll"),u.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Select all"),keystroke:"CTRL+A"}]})}}class YO extends qe{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const i=this._createButton(pn);return i.set({tooltip:!0}),i}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(Qo))}_createButton(e){const i=this.editor,r=i.locale,l=i.commands.get("selectAll"),u=new e(i.locale),C=r.t;return u.set({label:C("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),u.bind("isEnabled").to(l,"isEnabled"),this.listenTo(u,"execute",()=>{i.execute("selectAll"),i.editing.view.focus()}),u}}class DO extends qe{static get requires(){return[XO,YO]}static get pluginName(){return"SelectAll"}}var HO=Object.defineProperty,pV=Object.getOwnPropertySymbols,FO=Object.prototype.hasOwnProperty,MO=Object.prototype.propertyIsEnumerable,IV=(a,e,i)=>e in a?HO(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;class fV extends Ut{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(i,r)=>{r[1]=((u,C)=>{for(var f in C||(C={}))FO.call(C,f)&&IV(u,f,C[f]);if(pV)for(var f of pV(C))MO.call(C,f)&&IV(u,f,C[f]);return u})({},r[1]);const l=r[1];l.batchType||(l.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(i,r)=>{r[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const i=this.editor.model.document.selection,r={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:e,selection:r}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,i,r){const l=this.editor.model,u=l.document,C=[],f=e.map(S=>S.getTransformedByOperations(r)),w=f.flat();for(const S of f){const R=S.filter(X=>X.root!=u.graveyard).filter(X=>!JO(X,w));R.length&&(TO(R),C.push(R[0]))}C.length&&l.change(S=>{S.setSelection(C,{backward:i})})}_undo(e,i){const r=this.editor.model,l=r.document;this._createdBatches.add(i);const u=e.operations.slice().filter(C=>C.isDocumentOperation);u.reverse();for(const C of u){const f=C.baseVersion+1,w=Array.from(l.history.getOperations(f)),S=kK([C.getReversed()],w,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let R of S){const X=R.affectedSelectable;X&&!r.canEditAt(X)&&(R=new Yi(R.baseVersion)),i.addOperation(R),r.applyOperation(R),l.history.setOperationAsUndone(C,R)}}}}function TO(a){a.sort((e,i)=>e.start.isBefore(i.start)?-1:1);for(let e=1;e<a.length;e++){const i=a[e-1].getJoined(a[e],!0);i&&(e--,a.splice(e,2,i))}}function JO(a,e){return e.some(i=>i!==a&&i.containsRange(a,!0))}class LO extends fV{execute(e=null){const i=e?this._stack.findIndex(u=>u.batch==e):this._stack.length-1,r=this._stack.splice(i,1)[0],l=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(l,()=>{this._undo(r.batch,l);const u=this.editor.model.document.history.getOperations(r.batch.baseVersion);this._restoreSelection(r.selection.ranges,r.selection.isBackward,u)}),this.fire("revert",r.batch,l),this.refresh()}}class zO extends fV{execute(){const e=this._stack.pop(),i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{const r=e.batch.operations[e.batch.operations.length-1].baseVersion+1,l=this.editor.model.document.history.getOperations(r);this._restoreSelection(e.selection.ranges,e.selection.isBackward,l),this._undo(e.batch,i)}),this.refresh()}}class KO extends qe{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,i=e.t;this._undoCommand=new LO(e),this._redoCommand=new zO(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(r,l)=>{const u=l[0];if(!u.isDocumentOperation)return;const C=u.batch,f=this._redoCommand.createdBatches.has(C),w=this._undoCommand.createdBatches.has(C);this._batchRegistry.has(C)||(this._batchRegistry.add(C),C.isUndoable&&(f?this._undoCommand.addBatch(C):w||(this._undoCommand.addBatch(C),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(r,l,u)=>{this._redoCommand.addBatch(u)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Undo"),keystroke:"CTRL+Z"},{label:i("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class PO extends qe{static get pluginName(){return"UndoUI"}init(){const e=this.editor,i=e.locale,r=e.t,l=i.uiLanguageDirection=="ltr"?Tt.undo:Tt.redo,u=i.uiLanguageDirection=="ltr"?Tt.redo:Tt.undo;this._addButtonsToFactory("undo",r("Undo"),"CTRL+Z",l),this._addButtonsToFactory("redo",r("Redo"),"CTRL+Y",u)}_addButtonsToFactory(e,i,r,l){const u=this.editor;u.ui.componentFactory.add(e,()=>{const C=this._createButton(pn,e,i,r,l);return C.set({tooltip:!0}),C}),u.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(Qo,e,i,r,l))}_createButton(e,i,r,l,u){const C=this.editor,f=C.locale,w=C.commands.get(i),S=new e(f);return S.set({label:r,icon:u,keystroke:l}),S.bind("isEnabled").to(w,"isEnabled"),this.listenTo(S,"execute",()=>{C.execute(i),C.editing.view.focus()}),S}}class bV extends qe{static get requires(){return[KO,PO]}static get pluginName(){return"Undo"}}class jO extends rt(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const i=this._reader;return this.total=e.size,new Promise((r,l)=>{i.onload=()=>{const u=i.result;this._data=u,r(u)},i.onerror=()=>{l("error")},i.onabort=()=>{l("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class $r extends qe{constructor(){super(...arguments),this.loaders=new Kr,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[NZ]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,i)=>i?e/i*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return de("filerepository-no-upload-adapter"),null;const i=new AV(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(e,i),e instanceof Promise&&i.file.then(r=>{this._loadersMap.set(r,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let r=0;for(const l of this.loaders)r+=l.uploaded;this.uploaded=r}),i.on("change:uploadTotal",()=>{let r=0;for(const l of this.loaders)l.uploadTotal&&(r+=l.uploadTotal);this.uploadTotal=r}),i}destroyLoader(e){const i=e instanceof AV?e:this.getLoader(e);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((r,l)=>{r===i&&this._loadersMap.delete(l)})}_updatePendingAction(){const e=this.editor.plugins.get(NZ);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,r=l=>`${i("Upload in progress")} ${parseInt(l)}%.`;this._pendingAction=e.add(r(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",r)}}else e.remove(this._pendingAction),this._pendingAction=null}}class AV extends rt(){constructor(e,i){super(),this.id=j(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=i(this),this._reader=new jO,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(r,l)=>l?r/l*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new K("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new K("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const i={};return i.promise=new Promise((r,l)=>{i.rejecter=l,i.isFulfilled=!1,e.then(u=>{i.isFulfilled=!0,r(u)}).catch(u=>{i.isFulfilled=!0,l(u)})}),i}}const yV="ckCsrfToken",kV="abcdefghijklmnopqrstuvwxyz0123456789";function OO(){let a=function(r){r=r.toLowerCase();const l=document.cookie.split(";");for(const u of l){const C=u.split("=");if(decodeURIComponent(C[0].trim().toLowerCase())===r)return decodeURIComponent(C[1])}return null}(yV);var e,i;return a&&a.length==40||(a=function(r){let l="";const u=new Uint8Array(r);window.crypto.getRandomValues(u);for(let C=0;C<u.length;C++){const f=kV.charAt(u[C]%kV.length);l+=Math.random()>.5?f.toUpperCase():f}return l}(40),e=yV,i=a,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(i)+";path=/"),a}class UO{constructor(e,i,r){this.loader=e,this.url=i,this.t=r}upload(){return this.loader.file.then(e=>new Promise((i,r)=>{this._initRequest(),this._initListeners(i,r,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,i,r){const l=this.xhr,u=this.loader,C=(0,this.t)("Cannot upload file:")+` ${r.name}.`;l.addEventListener("error",()=>i(C)),l.addEventListener("abort",()=>i()),l.addEventListener("load",()=>{const f=l.response;if(!f||!f.uploaded)return i(f&&f.error&&f.error.message?f.error.message:C);e({default:f.url})}),l.upload&&l.upload.addEventListener("progress",f=>{f.lengthComputable&&(u.uploadTotal=f.total,u.uploaded=f.loaded)})}_sendRequest(e){const i=new FormData;i.append("upload",e),i.append("ckCsrfToken",OO()),this.xhr.send(i)}}function Pa(a,e,i,r){let l,u=null;typeof r=="function"?l=r:(u=a.commands.get(r),l=()=>{a.execute(r)}),a.model.document.on("change:data",(C,f)=>{if(u&&!u.isEnabled||!e.isEnabled)return;const w=zi(a.model.document.selection.getRanges());if(!w.isCollapsed||f.isUndo||!f.isLocal)return;const S=Array.from(a.model.document.differ.getChanges()),R=S[0];if(S.length!=1||R.type!=="insert"||R.name!="$text"||R.length!=1)return;const X=R.position.parent;if(X.is("element","codeBlock")||X.is("element","listItem")&&typeof r!="function"&&!["numberedList","bulletedList","todoList"].includes(r)||u&&u.value===!0)return;const J=X.getChild(0),U=a.model.createRangeOn(J);if(!U.containsRange(w)&&!w.end.isEqual(U.end))return;const te=i.exec(J.data.substr(0,w.end.offset));te&&a.model.enqueueChange(ae=>{const he=ae.createPositionAt(X,0),Ie=ae.createPositionAt(X,te[0].length),we=new Oo(he,Ie);if(l({match:te})!==!1){ae.remove(we);const We=a.model.document.selection.getFirstRange(),ze=ae.createRangeIn(X);!X.isEmpty||ze.isEqual(We)||ze.containsRange(We,!0)||ae.remove(X)}we.detach(),a.model.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})})})}function mg(a,e,i,r){let l,u;i instanceof RegExp?l=i:u=i,u=u||(C=>{let f;const w=[],S=[];for(;(f=l.exec(C))!==null&&!(f&&f.length<4);){let{index:R,1:X,2:J,3:U}=f;const te=X+J+U;R+=f[0].length-te.length;const ae=[R,R+X.length],he=[R+X.length+J.length,R+X.length+J.length+U.length];w.push(ae),w.push(he),S.push([R+X.length,R+X.length+J.length])}return{remove:w,format:S}}),a.model.document.on("change:data",(C,f)=>{if(f.isUndo||!f.isLocal||!e.isEnabled)return;const w=a.model,S=w.document.selection;if(!S.isCollapsed)return;const R=Array.from(w.document.differ.getChanges()),X=R[0];if(R.length!=1||X.type!=="insert"||X.name!="$text"||X.length!=1)return;const J=S.focus,U=J.parent,{text:te,range:ae}=function(We,ze){let ut=We.start;return{text:Array.from(We.getItems()).reduce((zt,Jn)=>!Jn.is("$text")&&!Jn.is("$textProxy")||Jn.getAttribute("code")?(ut=ze.createPositionAfter(Jn),""):zt+Jn.data,""),range:ze.createRange(ut,We.end)}}(w.createRange(w.createPositionAt(U,0),J),w),he=u(te),Ie=vV(ae.start,he.format,w),we=vV(ae.start,he.remove,w);Ie.length&&we.length&&w.enqueueChange(We=>{if(r(We,Ie)!==!1){for(const ze of we.reverse())We.remove(ze);w.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})}})})}function vV(a,e,i){return e.filter(r=>r[0]!==void 0&&r[1]!==void 0).map(r=>i.createRange(a.getShiftedBy(r[0]),a.getShiftedBy(r[1])))}function YC(a,e){return(i,r)=>{if(!a.commands.get(e).isEnabled)return!1;const l=a.model.schema.getValidRanges(r,e);for(const u of l)i.setAttribute(e,!0,u);i.removeSelectionAttribute(e)}}class wV extends Ut{constructor(e,i){super(e),this.attributeKey=i}refresh(){const e=this.editor.model,i=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,r=i.document.selection,l=e.forceValue===void 0?!this.value:e.forceValue;i.change(u=>{if(r.isCollapsed)l?u.setSelectionAttribute(this.attributeKey,!0):u.removeSelectionAttribute(this.attributeKey);else{const C=i.schema.getValidRanges(r.getRanges(),this.attributeKey);for(const f of C)l?u.setAttribute(this.attributeKey,l,f):u.removeAttribute(this.attributeKey,f)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,i=e.schema,r=e.document.selection;if(r.isCollapsed)return r.hasAttribute(this.attributeKey);for(const l of r.getRanges())for(const u of l.getItems())if(i.checkAttribute(u,this.attributeKey))return u.hasAttribute(this.attributeKey);return!1}}const Cg="bold";class QO extends qe{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,i=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Cg}),e.model.schema.setAttributeProperties(Cg,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Cg,view:"strong",upcastAlso:["b",r=>{const l=r.getStyle("font-weight");return l&&(l=="bold"||Number(l)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Cg,new wV(e,Cg)),e.keystrokes.set("CTRL+B",Cg),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Bold text"),keystroke:"CTRL+B"}]})}}function xV({editor:a,commandName:e,plugin:i,icon:r,label:l,keystroke:u}){return C=>{const f=a.commands.get(e),w=new C(a.locale);return w.set({label:l,icon:r,keystroke:u,isToggleable:!0}),w.bind("isEnabled").to(f,"isEnabled"),i.listenTo(w,"execute",()=>{a.execute(e),a.editing.view.focus()}),w}}const DC="bold";class qO extends qe{static get pluginName(){return"BoldUI"}init(){const e=this.editor,i=e.locale.t,r=e.commands.get(DC),l=xV({editor:e,commandName:DC,plugin:this,icon:Tt.bold,label:i("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(DC,()=>{const u=l(pn);return u.set({tooltip:!0}),u.bind("isOn").to(r,"value"),u}),e.ui.componentFactory.add("menuBar:"+DC,()=>l(Qo))}}var SV=d(4199),$O={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(SV.A,$O),SV.A.locals;const pg="italic";class eU extends qe{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,i=this.editor.t;e.model.schema.extend("$text",{allowAttributes:pg}),e.model.schema.setAttributeProperties(pg,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:pg,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(pg,new wV(e,pg)),e.keystrokes.set("CTRL+I",pg),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Italic text"),keystroke:"CTRL+I"}]})}}const HC="italic";class tU extends qe{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,i=e.commands.get(HC),r=e.locale.t,l=xV({editor:e,commandName:HC,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:r("Italic")});e.ui.componentFactory.add(HC,()=>{const u=l(pn);return u.set({tooltip:!0}),u.bind("isOn").to(i,"value"),u}),e.ui.componentFactory.add("menuBar:"+HC,()=>l(Qo))}}class nU extends Ut{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,r=i.schema,l=i.document.selection,u=Array.from(l.getSelectedBlocks()),C=e.forceValue===void 0?!this.value:e.forceValue;i.change(f=>{if(C){const w=u.filter(S=>FC(S)||ZV(r,S));this._applyQuote(f,w)}else this._removeQuote(f,u.filter(FC))})}_getValue(){const e=zi(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!FC(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,i=this.editor.model.schema,r=zi(e.getSelectedBlocks());return!!r&&ZV(i,r)}_removeQuote(e,i){BV(e,i).reverse().forEach(r=>{if(r.start.isAtStart&&r.end.isAtEnd)return void e.unwrap(r.start.parent);if(r.start.isAtStart){const u=e.createPositionBefore(r.start.parent);return void e.move(r,u)}r.end.isAtEnd||e.split(r.end);const l=e.createPositionAfter(r.end.parent);e.move(r,l)})}_applyQuote(e,i){const r=[];BV(e,i).reverse().forEach(l=>{let u=FC(l.start);u||(u=e.createElement("blockQuote"),e.wrap(l,u)),r.push(u)}),r.reverse().reduce((l,u)=>l.nextSibling==u?(e.merge(e.createPositionAfter(l)),l):u)}}function FC(a){return a.parent.name=="blockQuote"?a.parent:null}function BV(a,e){let i,r=0;const l=[];for(;r<e.length;){const u=e[r],C=e[r+1];i||(i=a.createPositionBefore(u)),C&&u.nextSibling==C||(l.push(a.createRange(i,a.createPositionAfter(u))),i=null),r++}return l}function ZV(a,e){const i=a.checkChild(e.parent,"blockQuote"),r=a.checkChild(["$root","blockQuote"],e);return i&&r}class iU extends qe{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[WC,oa]}init(){const e=this.editor,i=e.model.schema;e.commands.add("blockQuote",new nU(e)),i.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(C=>{const f=e.model.document.differ.getChanges();for(const w of f)if(w.type=="insert"){const S=w.position.nodeAfter;if(!S)continue;if(S.is("element","blockQuote")&&S.isEmpty)return C.remove(S),!0;if(S.is("element","blockQuote")&&!i.checkChild(w.position,S))return C.unwrap(S),!0;if(S.is("element")){const R=C.createRangeIn(S);for(const X of R.getItems())if(X.is("element","blockQuote")&&!i.checkChild(C.createPositionBefore(X),X))return C.unwrap(X),!0}}else if(w.type=="remove"){const S=w.position.parent;if(S.is("element","blockQuote")&&S.isEmpty)return C.remove(S),!0}return!1});const r=this.editor.editing.view.document,l=e.model.document.selection,u=e.commands.get("blockQuote");this.listenTo(r,"enter",(C,f)=>{!l.isCollapsed||!u.value||l.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),f.preventDefault(),C.stop())},{context:"blockquote"}),this.listenTo(r,"delete",(C,f)=>{if(f.direction!="backward"||!l.isCollapsed||!u.value)return;const w=l.getLastPosition().parent;w.isEmpty&&!w.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),f.preventDefault(),C.stop())},{context:"blockquote"})}}var GV=d(8708),oU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(GV.A,oU),GV.A.locals;class rU extends qe{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,i=e.commands.get("blockQuote");e.ui.componentFactory.add("blockQuote",()=>{const r=this._createButton(pn);return r.set({tooltip:!0}),r.bind("isOn").to(i,"value"),r}),e.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(Qo))}_createButton(e){const i=this.editor,r=i.locale,l=i.commands.get("blockQuote"),u=new e(i.locale),C=r.t;return u.set({label:C("Block quote"),icon:Tt.quote,isToggleable:!0}),u.bind("isEnabled").to(l,"isEnabled"),this.listenTo(u,"execute",()=>{i.execute("blockQuote"),i.editing.view.focus()}),u}}class sU extends qe{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const i=e.t,r=e.ui.componentFactory;if(r.add("ckbox",()=>{const l=this._createButton(pn);return l.tooltip=!0,l}),r.add("menuBar:ckbox",()=>this._createButton(Qo)),e.plugins.has("ImageInsertUI")){const l=e.plugins.get("ImageInsertUI");l.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckbox"),buttonViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckbox");return u.icon=Tt.imageAssetManager,u.bind("label").to(l,"isImageSelected",C=>i(C?"Replace image with file manager":"Insert image with file manager")),u},formViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckbox");return u.icon=Tt.imageAssetManager,u.withText=!0,u.bind("label").to(l,"isImageSelected",C=>i(C?"Replace with file manager":"Insert with file manager")),u.on("execute",()=>{l.dropdownView.isOpen=!1}),u}})}}_createButton(e){const i=this.editor,r=i.locale,l=new e(r),u=i.commands.get("ckbox"),C=r.t;return l.set({label:C("Open file manager"),icon:Tt.browseFiles}),l.bind("isOn","isEnabled").to(u,"value","isEnabled"),l.on("execute",()=>{i.execute("ckbox")}),l}}var aU=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Bu=a=>{let e=0;for(let i=0;i<a.length;i++){let r=a[i];e=83*e+aU.indexOf(r)}return e},T0=a=>{let e=a/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},J0=a=>{let e=Math.max(0,Math.min(1,a));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},L0=(a,e)=>(i=>i<0?-1:1)(a)*Math.pow(Math.abs(a),e),RV=class extends Error{constructor(a){super(a),this.name="ValidationError",this.message=a}},lU=a=>{if(!a||a.length<6)throw new RV("The blurhash string must be at least 6 characters");let e=Bu(a[0]),i=Math.floor(e/9)+1,r=e%9+1;if(a.length!==4+2*r*i)throw new RV(`blurhash length mismatch: length is ${a.length} but it should be ${4+2*r*i}`)},cU=a=>{let e=a>>8&255,i=255&a;return[T0(a>>16),T0(e),T0(i)]},gU=(a,e)=>{let i=Math.floor(a/361),r=Math.floor(a/19)%19,l=a%19;return[L0((i-9)/9,2)*e,L0((r-9)/9,2)*e,L0((l-9)/9,2)*e]},dU=(a,e,i,r)=>{lU(a),r|=1;let l=Bu(a[0]),u=Math.floor(l/9)+1,C=l%9+1,f=(Bu(a[1])+1)/166,w=new Array(C*u);for(let X=0;X<w.length;X++)if(X===0){let J=Bu(a.substring(2,6));w[X]=cU(J)}else{let J=Bu(a.substring(4+2*X,6+2*X));w[X]=gU(J,f*r)}let S=4*e,R=new Uint8ClampedArray(S*i);for(let X=0;X<i;X++)for(let J=0;J<e;J++){let U=0,te=0,ae=0;for(let We=0;We<u;We++)for(let ze=0;ze<C;ze++){let ut=Math.cos(Math.PI*J*ze/e)*Math.cos(Math.PI*X*We/i),Nt=w[ze+We*C];U+=Nt[0]*ut,te+=Nt[1]*ut,ae+=Nt[2]*ut}let he=J0(U),Ie=J0(te),we=J0(ae);R[4*J+0+X*S]=he,R[4*J+1+X*S]=Ie,R[4*J+2+X*S]=we,R[4*J+3+X*S]=255}return R},uU=Object.defineProperty,VV=Object.getOwnPropertySymbols,hU=Object.prototype.hasOwnProperty,mU=Object.prototype.propertyIsEnumerable,WV=(a,e,i)=>e in a?uU(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;function _V(a){const e=[];let i=0;for(const l in a){const u=parseInt(l,10);isNaN(u)||(u>i&&(i=u),e.push(`${a[l]} ${l}w`))}const r=[{srcset:e.join(","),sizes:`(max-width: ${i}px) 100vw, ${i}px`,type:"image/webp"}];return{imageFallbackUrl:a.default,imageSources:r}}const Zu=32;function NV({url:a,method:e="GET",data:i,onUploadProgress:r,signal:l,authorization:u}){const C=new XMLHttpRequest;C.open(e,a.toString()),C.setRequestHeader("Authorization",u),C.setRequestHeader("CKBox-Version","CKEditor 5"),C.responseType="json";const f=()=>{C.abort()};return new Promise((w,S)=>{l.throwIfAborted(),l.addEventListener("abort",f),C.addEventListener("loadstart",()=>{l.addEventListener("abort",f)}),C.addEventListener("loadend",()=>{l.removeEventListener("abort",f)}),C.addEventListener("error",()=>{S()}),C.addEventListener("abort",()=>{S()}),C.addEventListener("load",()=>{const R=C.response;if(!R||R.statusCode>=400)return S(R&&R.message);w(R)}),r&&C.upload.addEventListener("progress",R=>{r(R)}),C.send(i)})}const CU={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function pU(a,e){return i=this,r=null,l=function*(){try{const u=yield fetch(a,((C,f)=>{for(var w in f||(f={}))hU.call(f,w)&&WV(C,w,f[w]);if(VV)for(var w of VV(f))mU.call(f,w)&&WV(C,w,f[w]);return C})({method:"HEAD",cache:"force-cache"},e));return u.ok&&u.headers.get("content-type")||""}catch{return""}},new Promise((u,C)=>{var f=R=>{try{S(l.next(R))}catch(X){C(X)}},w=R=>{try{S(l.throw(R))}catch(X){C(X)}},S=R=>R.done?u(R.value):Promise.resolve(R.value).then(f,w);S((l=l.apply(i,r)).next())});var i,r,l}var IU=Object.defineProperty,EV=Object.getOwnPropertySymbols,fU=Object.prototype.hasOwnProperty,bU=Object.prototype.propertyIsEnumerable,XV=(a,e,i)=>e in a?IU(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,YV=(a,e)=>{for(var i in e||(e={}))fU.call(e,i)&&XV(a,i,e[i]);if(EV)for(var i of EV(e))bU.call(e,i)&&XV(a,i,e[i]);return a};class AU extends Ut{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");return!(!e.isEnabled&&!i.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,forceDemoLabel:e.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:i=>this.fire("ckbox:choose",i)}}}_initListeners(){const e=this.editor,i=e.model,r=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=$i(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,e.editing.view.focus())}),this.on("ckbox:choose",(l,u)=>{if(!this.isEnabled)return;const C=e.commands.get("insertImage"),f=e.commands.get("link"),w=function({assets:R,isImageAllowed:X,isLinkAllowed:J}){return R.map(U=>function(te){const ae=te.data.metadata;return ae?ae.width&&ae.height:!1}(U)?{id:U.data.id,type:"image",attributes:yU(U)}:{id:U.data.id,type:"link",attributes:kU(U)}).filter(U=>U.type==="image"?X:J)}({assets:u,isImageAllowed:C.isEnabled,isLinkAllowed:f.isEnabled}),S=w.length;S!==0&&(i.change(R=>{for(const X of w){const J=X===w[S-1],U=S===1;this._insertAsset(X,J,R,U),r&&(setTimeout(()=>this._chosenAssets.delete(X),1e3),this._chosenAssets.add(X))}}),e.editing.view.focus())}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,i,r,l){const u=this.editor.model.document.selection;r.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,r,l),i||r.setSelection(u.getLastPosition())}_insertImage(e){const i=this.editor,{imageFallbackUrl:r,imageSources:l,imageTextAlternative:u,imageWidth:C,imageHeight:f,imagePlaceholder:w}=e.attributes;i.execute("insertImage",{source:YV({src:r,sources:l,alt:u,width:C,height:f},w?{placeholder:w}:null)})}_insertLink(e,i,r){const l=this.editor,u=l.model,C=u.document.selection,{linkName:f,linkHref:w}=e.attributes;if(C.isCollapsed){const S=ks(C.getAttributes()),R=i.createText(f,S);if(!r){const J=C.getLastPosition(),U=J.parent;U.name==="paragraph"&&U.isEmpty||l.execute("insertParagraph",{position:J});const te=u.insertContent(R);return i.setSelection(te),void l.execute("link",w)}const X=u.insertContent(R);i.setSelection(X)}l.execute("link",w)}}function yU(a){const{imageFallbackUrl:e,imageSources:i}=_V(a.data.imageUrls),{description:r,width:l,height:u,blurHash:C}=a.data.metadata,f=function(w){if(w)try{const S=`${Zu}px`,R=document.createElement("canvas");R.setAttribute("width",S),R.setAttribute("height",S);const X=R.getContext("2d");if(!X)return;const J=X.createImageData(Zu,Zu),U=dU(w,Zu,Zu);return J.data.set(U),X.putImageData(J,0,0),R.toDataURL()}catch{return}}(C);return YV({imageFallbackUrl:e,imageSources:i,imageTextAlternative:r||"",imageWidth:l,imageHeight:u},f?{imagePlaceholder:f}:null)}function kU(a){return{linkName:a.data.name,linkHref:vU(a)}}function vU(a){const e=new URL(a.data.url);return e.searchParams.set("download","true"),e.toString()}var z0=(a,e,i)=>new Promise((r,l)=>{var u=w=>{try{f(i.next(w))}catch(S){l(S)}},C=w=>{try{f(i.throw(w))}catch(S){l(S)}},f=w=>w.done?r(w.value):Promise.resolve(w.value).then(u,C);f((i=i.apply(a,e)).next())});class DV extends qe{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return z0(this,null,function*(){const e=this.editor,i=!!e.config.get("ckbox"),r=!!window.CKBox;if(!i&&!r)return;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"lark",tokenUrl:e.config.get("cloudServices.tokenUrl")});const l=e.plugins.get("CloudServices"),u=e.config.get("cloudServices.tokenUrl"),C=e.config.get("ckbox.tokenUrl");if(!C)throw new K("ckbox-plugin-missing-token-url",this);this._token=C==u?l.token:yield l.registerTokenUrl(C)})}getToken(){return this._token}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),i=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),r=function(l,u){const[,C]=l.value.split("."),f=JSON.parse(atob(C)),w=f.auth&&f.auth.ckbox&&f.auth.ckbox.workspaces||[f.aud];return u?(f.auth&&f.auth.ckbox&&f.auth.ckbox.role)=="superadmin"||w.includes(u)?u:null:w[0]}(this._token,i);if(r==null)throw pe("ckbox-access-default-workspace-error"),e;return r}getCategoryIdForFile(e,i){return z0(this,null,function*(){const r=(0,this.editor.t)("Cannot determine a category for the uploaded file."),l=this.editor.config.get("ckbox.defaultUploadCategories"),u=this._getAvailableCategories(i),C=typeof e=="string"?(f=yield pU(e,i),CU[f]):function(R){const X=R.name,J=new RegExp("\\.(?<ext>[^.]+)$");return X.match(J).groups.ext.toLowerCase()}(e);var f;const w=yield u;if(!w)throw r;if(l){const R=Object.keys(l).find(X=>l[X].find(J=>J.toLowerCase()==C));if(R){const X=w.find(J=>J.id===R||J.name===R);if(!X)throw r;return X.id}}const S=w.find(R=>R.extensions.find(X=>X.toLowerCase()==C));if(!S)throw r;return S.id})}_getAvailableCategories(e){return z0(this,null,function*(){const i=this.editor,r=this._token,{signal:l}=e,u=i.config.get("ckbox.serviceOrigin"),C=this.getWorkspaceId();try{const w=[];let S,R=0;do{const X=yield f(R);w.push(...X.items),S=X.totalCount-(R+50),R+=50}while(S>0);return w}catch{return l.throwIfAborted(),void pe("ckbox-fetch-category-http-error")}function f(w){const S=new URL("categories",u);return S.searchParams.set("limit","50"),S.searchParams.set("offset",w.toString()),S.searchParams.set("workspaceId",C),NV({url:S,signal:l,authorization:r.value})}})}}var K0=(a,e,i)=>new Promise((r,l)=>{var u=w=>{try{f(i.next(w))}catch(S){l(S)}},C=w=>{try{f(i.throw(w))}catch(S){l(S)}},f=w=>w.done?r(w.value):Promise.resolve(w.value).then(u,C);f((i=i.apply(a,e)).next())});class wU extends qe{static get requires(){return["ImageUploadEditing","ImageUploadProgress",$r,HV]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return K0(this,null,function*(){const e=this.editor,i=!!e.config.get("ckbox"),r=!!window.CKBox;if(!i&&!r)return;const l=e.plugins.get($r),u=e.plugins.get(DV);l.createUploadAdapter=w=>new xU(w,e,u);const C=!e.config.get("ckbox.ignoreDataId"),f=e.plugins.get("ImageUploadEditing");C&&f.on("uploadComplete",(w,{imageElement:S,data:R})=>{e.model.change(X=>{X.setAttribute("ckboxImageId",R.ckboxImageId,S)})})})}}class xU{constructor(e,i,r){this.loader=e,this.token=r.getToken(),this.ckboxUtils=r,this.editor=i,this.controller=new AbortController,this.serviceOrigin=i.config.get("ckbox.serviceOrigin")}upload(){return K0(this,null,function*(){const e=this.ckboxUtils,i=this.editor.t,r=yield this.loader.file,l=yield e.getCategoryIdForFile(r,{signal:this.controller.signal}),u=new URL("assets",this.serviceOrigin),C=new FormData;return u.searchParams.set("workspaceId",e.getWorkspaceId()),C.append("categoryId",l),C.append("file",r),NV({method:"POST",url:u,data:C,onUploadProgress:f=>{f.lengthComputable&&(this.loader.uploadTotal=f.total,this.loader.uploaded=f.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(f=>K0(this,null,function*(){const w=_V(f.imageUrls);return{ckboxImageId:f.id,default:w.imageFallbackUrl,sources:w.imageSources}})).catch(()=>{const f=i("Cannot upload file:")+` ${r.name}.`;return Promise.reject(f)})})}abort(){this.controller.abort()}}class HV extends qe{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",wU,DV]}init(){const e=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),MV()&&e.commands.add("ckbox",new AU(e)))}afterInit(){const e=this.editor;this._shouldBeInitialised()&&(e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||MV()}_checkImagePlugins(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||pe("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((i,r)=>{if(!i.last.getAttribute("linkHref")&&r==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(r=>{r.on("attribute:ckboxLinkId:imageBlock",(l,u,C)=>{const{writer:f,mapper:w,consumable:S}=C;if(!S.consume(u.item,l.name))return;const R=[...w.toViewElement(u.item).getChildren()].find(X=>X.name==="a");R&&(u.item.hasAttribute("ckboxLinkId")?f.setAttribute("data-ckbox-resource-id",u.item.getAttribute("ckboxLinkId"),R):f.removeAttribute("data-ckbox-resource-id",R))},{priority:"low"}),r.on("attribute:ckboxLinkId",(l,u,C)=>{const{writer:f,mapper:w,consumable:S}=C;if(S.consume(u.item,l.name)){if(u.attributeOldValue){const R=FV(f,u.attributeOldValue);f.unwrap(w.toViewRange(u.range),R)}if(u.attributeNewValue){const R=FV(f,u.attributeNewValue);if(u.item.is("selection")){const X=f.document.selection;f.wrap(X.getFirstRange(),R)}else f.wrap(w.toViewRange(u.range),R)}}},{priority:"low"})}),e.conversion.for("upcast").add(r=>{r.on("element:a",(l,u,C)=>{const{writer:f,consumable:w}=C;if(!u.viewItem.getAttribute("href")||!w.consume(u.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const S=u.viewItem.getAttribute("data-ckbox-resource-id");if(S)if(u.modelRange)for(let R of u.modelRange.getItems())R.is("$textProxy")&&(R=R.textNode),BU(R)&&f.setAttribute("ckboxLinkId",S,R);else{const R=u.modelCursor.nodeBefore||u.modelCursor.parent;f.setAttribute("ckboxLinkId",S,R)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:r=>r.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const i=e.commands.get("replaceImageSource");i&&this.listenTo(i,"cleanupImage",(r,[l,u])=>{l.removeAttribute("ckboxImageId",u)})}_initFixers(){const e=this.editor,i=e.model,r=i.document.selection;i.document.registerPostFixer(function(l){return u=>{let C=!1;const f=l.model,w=l.commands.get("ckbox");if(!w)return C;for(const S of f.document.differ.getChanges()){if(S.type!=="insert"&&S.type!=="attribute")continue;const R=S.type==="insert"?new Xe(S.position,S.position.getShiftedBy(S.length)):S.range,X=S.type==="attribute"&&S.attributeKey==="linkHref"&&S.attributeNewValue===null;for(const J of R.getItems()){if(X&&J.hasAttribute("ckboxLinkId")){u.removeAttribute("ckboxLinkId",J),C=!0;continue}const U=SU(J,w._chosenAssets);for(const te of U){const ae=te.type==="image"?"ckboxImageId":"ckboxLinkId";te.id!==J.getAttribute(ae)&&(u.setAttribute(ae,te.id,J),C=!0)}}}return C}}(e)),i.document.registerPostFixer(function(l){return u=>!(l.hasAttribute("linkHref")||!l.hasAttribute("ckboxLinkId"))&&(u.removeSelectionAttribute("ckboxLinkId"),!0)}(r))}}function SU(a,e){const i=a.is("element","imageInline")||a.is("element","imageBlock"),r=a.hasAttribute("linkHref");return[...e].filter(l=>l.type==="image"&&i?l.attributes.imageFallbackUrl===a.getAttribute("src"):l.type==="link"&&r?l.attributes.linkHref===a.getAttribute("linkHref"):void 0)}function FV(a,e){const i=a.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return a.setCustomProperty("link",!0,i),i}function BU(a){return!!a.is("$text")||!(!a.is("element","imageInline")&&!a.is("element","imageBlock"))}function MV(){return!!window.CKBox}var TV=d(1866),ZU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(TV.A,ZU),TV.A.locals;class GU extends qe{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,i=e.ui.componentFactory,r=e.t;if(i.add("ckfinder",l=>{const u=this._createButton(pn),C=l.t;return u.set({label:C("Insert image or file"),tooltip:!0}),u}),i.add("menuBar:ckfinder",l=>{const u=this._createButton(Qo),C=l.t;return u.label=C("Image or file"),u}),e.plugins.has("ImageInsertUI")){const l=e.plugins.get("ImageInsertUI");l.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckfinder"),buttonViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckfinder");return u.icon=Tt.imageAssetManager,u.bind("label").to(l,"isImageSelected",C=>r(C?"Replace image with file manager":"Insert image with file manager")),u},formViewCreator:()=>{const u=this.editor.ui.componentFactory.create("ckfinder");return u.icon=Tt.imageAssetManager,u.withText=!0,u.bind("label").to(l,"isImageSelected",C=>r(C?"Replace with file manager":"Insert with file manager")),u.on("execute",()=>{l.dropdownView.isOpen=!1}),u}})}}_createButton(e){const i=this.editor,r=new e(i.locale),l=i.commands.get("ckfinder");return r.icon=Tt.browseFiles,r.bind("isEnabled").to(l),r.on("execute",()=>{i.execute("ckfinder"),i.editing.view.focus()}),r}}class RU extends Ut{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");this.isEnabled=e.isEnabled||i.isEnabled}execute(){const e=this.editor,i=this.editor.config.get("ckfinder.openerMethod")||"modal";if(i!="popup"&&i!="modal")throw new K("ckfinder-unknown-openermethod",e);const r=this.editor.config.get("ckfinder.options")||{};r.chooseFiles=!0;const l=r.onInit;r.language||(r.language=e.locale.uiLanguage),r.onInit=u=>{l&&l(u),u.on("files:choose",C=>{const f=C.data.files.toArray(),w=f.filter(X=>!X.isImage()),S=f.filter(X=>X.isImage());for(const X of w)e.execute("link",X.getUrl());const R=[];for(const X of S){const J=X.getUrl();R.push(J||u.request("file:getProxyUrl",{file:X}))}R.length&&JV(e,R)}),u.on("file:choose:resizedImage",C=>{const f=C.data.resizedUrl;if(f)JV(e,[f]);else{const w=e.plugins.get("Notification"),S=e.locale.t;w.showWarning(S("Could not obtain resized image URL."),{title:S("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[i](r)}}function JV(a,e){if(a.commands.get("insertImage").isEnabled)a.execute("insertImage",{source:e});else{const i=a.plugins.get("Notification"),r=a.locale.t;i.showWarning(r("Could not insert image at the current position."),{title:r("Inserting image failed"),namespace:"ckfinder"})}}class VU extends qe{static get pluginName(){return"CKFinderEditing"}static get requires(){return[V0,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new K("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new RU(e))}}class WU extends qe{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",$r]}init(){const e=this.editor,i=e.plugins.get("CloudServices"),r=i.token,l=i.uploadUrl;if(!r)return;const u=e.plugins.get("CloudServicesCore");this._uploadGateway=u.createUploadGateway(r,l),e.plugins.get($r).createUploadAdapter=C=>new _U(this._uploadGateway,C)}}class _U{constructor(e,i){this.uploadGateway=e,this.loader=i}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(i,r)=>{this.loader.uploadTotal=r.total,this.loader.uploaded=r.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class NU extends Ut{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,i=zi(e.document.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&LV(i,e.schema)}execute(e={}){const i=this.editor.model,r=i.document,l=e.selection||r.selection;i.canEditAt(l)&&i.change(u=>{const C=l.getSelectedBlocks();for(const f of C)!f.is("element","paragraph")&&LV(f,i.schema)&&u.rename(f,"paragraph")})}}function LV(a,e){return e.checkChild(a.parent,"paragraph")&&!e.isObject(a)}class EU extends Ut{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const i=this.editor.model,r=e.attributes;let l=e.position;i.canEditAt(l)&&i.change(u=>{if(l=this._findPositionToInsertParagraph(l,u),!l)return;const C=u.createElement("paragraph");r&&i.schema.setAllowedAttributes(C,r,u),i.insertContent(C,l),u.setSelection(C,"in")})}_findPositionToInsertParagraph(e,i){const r=this.editor.model;if(r.schema.checkChild(e,"paragraph"))return e;const l=r.schema.findAllowedParent(e,"paragraph");if(!l)return null;const u=e.parent,C=r.schema.checkChild(u,"$text");return u.isEmpty||C&&e.isAtEnd?r.createPositionAfter(u):!u.isEmpty&&C&&e.isAtStart?r.createPositionBefore(u):i.split(e,l).position}}const zV=class extends qe{static get pluginName(){return"Paragraph"}init(){const a=this.editor,e=a.model;a.commands.add("paragraph",new NU(a)),a.commands.add("insertParagraph",new EU(a)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),a.conversion.elementToElement({model:"paragraph",view:"p"}),a.conversion.for("upcast").elementToElement({model:(i,{writer:r})=>zV.paragraphLikeElements.has(i.name)?i.isEmpty?null:r.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let P0=zV;P0.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class XU extends Ut{constructor(e,i){super(e),this.modelElements=i}refresh(){const e=zi(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(i=>KV(e,i,this.editor.model.schema))}execute(e){const i=this.editor.model,r=i.document,l=e.value;i.change(u=>{const C=Array.from(r.selection.getSelectedBlocks()).filter(f=>KV(f,l,i.schema));for(const f of C)f.is("element",l)||u.rename(f,l)})}}function KV(a,e,i){return i.checkChild(a.parent,e)&&!i.isObject(a)}const PV="paragraph";class YU extends qe{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[P0]}init(){const e=this.editor,i=e.config.get("heading.options"),r=[];for(const l of i)l.model!=="paragraph"&&(e.model.schema.register(l.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(l),r.push(l.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new XU(e,r))}afterInit(){const e=this.editor,i=e.commands.get("enter"),r=e.config.get("heading.options");i&&this.listenTo(i,"afterExecute",(l,u)=>{const C=e.model.document.selection.getFirstPosition().parent;r.some(f=>C.is("element",f.model))&&!C.is("element",PV)&&C.childCount===0&&u.writer.rename(C,PV)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:ie.low+1})}}var jV=d(6269),DU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(jV.A,DU),jV.A.locals;class HU extends qe{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,i=e.t,r=function(C){const f=C.t,w={Paragraph:f("Paragraph"),"Heading 1":f("Heading 1"),"Heading 2":f("Heading 2"),"Heading 3":f("Heading 3"),"Heading 4":f("Heading 4"),"Heading 5":f("Heading 5"),"Heading 6":f("Heading 6")};return C.config.get("heading.options").map(S=>{const R=w[S.title];return R&&R!=S.title&&(S.title=R),S})}(e),l=i("Choose heading"),u=i("Heading");e.ui.componentFactory.add("heading",C=>{const f={},w=new Kr,S=e.commands.get("heading"),R=e.commands.get("paragraph"),X=[S];for(const U of r){const te={type:"button",model:new YG({label:U.title,class:U.class,role:"menuitemradio",withText:!0})};U.model==="paragraph"?(te.model.bind("isOn").to(R,"value"),te.model.set("commandName","paragraph"),X.push(R)):(te.model.bind("isOn").to(S,"value",ae=>ae===U.model),te.model.set({commandName:"heading",commandValue:U.model})),w.add(te),f[U.model]=U.title}const J=na(C);return sG(J,w,{ariaLabel:u,role:"menu"}),J.buttonView.set({ariaLabel:u,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:u}),J.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),J.bind("isEnabled").toMany(X,"isEnabled",(...U)=>U.some(te=>te)),J.buttonView.bind("label").to(S,"value",R,"value",(U,te)=>{const ae=te?"paragraph":U;return typeof ae=="boolean"?l:f[ae]?f[ae]:l}),J.buttonView.bind("ariaLabel").to(S,"value",R,"value",(U,te)=>{const ae=te?"paragraph":U;return typeof ae=="boolean"?u:f[ae]?`${f[ae]}, ${u}`:u}),this.listenTo(J,"execute",U=>{const{commandName:te,commandValue:ae}=U.source;e.execute(te,ae?{value:ae}:void 0),e.editing.view.focus()}),J}),e.ui.componentFactory.add("menuBar:heading",C=>{const f=new dg(C),w=e.commands.get("heading"),S=e.commands.get("paragraph"),R=[w],X=new E0(C);f.set({class:"ck-heading-dropdown"}),X.set({ariaLabel:i("Heading"),role:"menu"}),f.buttonView.set({label:i("Heading")}),f.panelView.children.add(X);for(const J of r){const U=new _0(C,f),te=new Qo(C);U.children.add(te),X.items.add(U),te.set({label:J.title,role:"menuitemradio",class:J.class}),te.bind("ariaChecked").to(te,"isOn"),te.delegate("execute").to(f),te.on("execute",()=>{const ae=J.model==="paragraph"?"paragraph":"heading";e.execute(ae,{value:J.model}),e.editing.view.focus()}),J.model==="paragraph"?(te.bind("isOn").to(S,"value"),R.push(S)):te.bind("isOn").to(w,"value",ae=>ae===J.model)}return f.bind("isEnabled").toMany(R,"isEnabled",(...J)=>J.some(U=>U)),f})}}function OV(a){return a.createContainerElement("figure",{class:"image"},[a.createEmptyElement("img"),a.createSlot("children")])}function UV(a,e){const i=a.plugins.get("ImageUtils"),r=a.plugins.has("ImageInlineEditing")&&a.plugins.has("ImageBlockEditing");return u=>i.isInlineImageView(u)?r&&(u.getStyle("display")=="block"||u.findAncestor(i.isBlockImageView)?"imageBlock":"imageInline")!==e?null:l(u):null;function l(u){const C={name:!0};return u.hasAttribute("src")&&(C.attributes=["src"]),C}}function j0(a,e){const i=zi(e.getSelectedBlocks());return!i||a.isObject(i)||i.isEmpty&&i.name!="listItem"?"imageBlock":"imageInline"}function MC(a){return a&&a.endsWith("px")?parseInt(a):null}function QV(a){const e=MC(a.getStyle("width")),i=MC(a.getStyle("height"));return!(!e||!i)}var FU=Object.defineProperty,qV=Object.getOwnPropertySymbols,MU=Object.prototype.hasOwnProperty,TU=Object.prototype.propertyIsEnumerable,$V=(a,e,i)=>e in a?FU(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,eW=(a,e)=>{for(var i in e||(e={}))MU.call(e,i)&&$V(a,i,e[i]);if(qV)for(var i of qV(e))TU.call(e,i)&&$V(a,i,e[i]);return a};const JU=/^(image|image-inline)$/;class _o extends qe{constructor(){super(...arguments),this._domEmitter=new(pr())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},i=null,r=null,l={}){const u=this.editor,C=u.model,f=C.document.selection,w=tW(u,i||f,r);e=eW(eW({},Object.fromEntries(f.getAttributes())),e);for(const S in e)C.schema.checkAttribute(w,S)||delete e[S];return C.change(S=>{const{setImageSizes:R=!0}=l,X=S.createElement(w,e);return C.insertObject(X,i,null,{setSelection:"on",findOptimalPosition:i||w=="imageInline"?void 0:"auto"}),X.parent?(R&&this.setImageNaturalSizeAttributes(X),X):null})}setImageNaturalSizeAttributes(e){const i=e.getAttribute("src");i&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(r=>{const l=new v.window.Image;this._domEmitter.listenTo(l,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(r.batch,u=>{u.setAttribute("width",l.naturalWidth,e),u.setAttribute("height",l.naturalHeight,e)}),this._domEmitter.stopListening(l,"load")}),l.src=i}))}getClosestSelectedImageWidget(e){const i=e.getFirstPosition();if(!i)return null;const r=e.getSelectedElement();if(r&&this.isImageWidget(r))return r;let l=i.parent;for(;l;){if(l.is("element")&&this.isImageWidget(l))return l;l=l.parent}return null}getClosestSelectedImageElement(e){const i=e.getSelectedElement();return this.isImage(i)?i:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:JU})}isImageAllowed(){const e=this.editor.model.document.selection;return function(i,r){if(tW(i,r,null)=="imageBlock"){const u=function(C,f){const w=OR(C,f),S=w.start.parent;return S.isEmpty&&!S.is("element","$root")?S.parent:S}(r,i.model);if(i.model.schema.checkChild(u,"imageBlock"))return!0}else if(i.model.schema.checkChild(r.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(i){return[...i.focus.getAncestors()].every(r=>!r.is("element","imageBlock"))}(e)}toImageWidget(e,i,r){return i.setCustomProperty("image",!0,e),F0(e,i,{label:()=>{const l=this.findViewImgElement(e).getAttribute("alt");return l?`${l} ${r}`:r}})}isImageWidget(e){return!!e.getCustomProperty("image")&&ki(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const i=this.editor.editing.view;for(const{item:r}of i.createRangeIn(e))if(this.isInlineImageView(r))return r}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function tW(a,e,i){const r=a.model.schema,l=a.config.get("image.insert.type");return a.plugins.has("ImageBlockEditing")?a.plugins.has("ImageInlineEditing")?i||(l==="inline"?"imageInline":l!=="auto"?"imageBlock":e.is("selection")?j0(r,e):r.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class LU extends Ut{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const i=this.editor,r=i.plugins.get("ImageUtils"),l=i.model,u=r.getClosestSelectedImageElement(l.document.selection);l.change(C=>{C.setAttribute("alt",e.newValue,u)})}}class zU extends qe{static get requires(){return[_o]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new LU(this.editor))}}var nW=d(4062),KU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(nW.A,KU),nW.A.locals;var iW=d(2722),PU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(iW.A,PU),iW.A.locals;class jU extends Gt{constructor(e){super(e);const i=this.locale.t;this.focusTracker=new Ki,this.keystrokes=new yo,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),Tt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),Tt.cancel,"ck-button-cancel","cancel"),this._focusables=new Ir,this._focusCycler=new br({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Om({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,i,r,l){const u=new pn(this.locale);return u.set({label:e,icon:i,tooltip:!0}),u.extendTemplate({attributes:{class:r}}),l&&u.delegate("execute").to(this,l),u}_createLabeledInputView(){const e=this.locale.t,i=new IC(this.locale,AC);return i.label=e("Text alternative"),i}}function oW(a){const e=a.editing.view,i=Vo.defaultPositions,r=a.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(r.getClosestSelectedImageWidget(e.document.selection)),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class OU extends qe{static get requires(){return[SC]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,i=e.t;e.ui.componentFactory.add("imageTextAlternative",r=>{const l=e.commands.get("imageTextAlternative"),u=new pn(r);return u.set({label:i("Change image text alternative"),icon:Tt.textAlternative,tooltip:!0}),u.bind("isEnabled").to(l,"isEnabled"),u.bind("isOn").to(l,"value",C=>!!C),this.listenTo(u,"execute",()=>{this._showForm()}),u})}_createForm(){const e=this.editor,i=e.editing.view.document,r=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(DA(jU))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(l,u)=>{this._hideForm(!0),u()}),this.listenTo(e.ui,"update",()=>{r.getClosestSelectedImageWidget(i.selection)?this._isVisible&&function(l){const u=l.plugins.get("ContextualBalloon");if(l.plugins.get("ImageUtils").getClosestSelectedImageWidget(l.editing.view.document.selection)){const C=oW(l);u.updatePosition(C)}}(e):this._hideForm(!0)}),jm({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,i=e.commands.get("imageTextAlternative"),r=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:oW(e)}),r.fieldView.value=r.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class rW extends qe{static get requires(){return[zU,OU]}static get pluginName(){return"ImageTextAlternative"}}function sW(a,e){const i=(r,l,u)=>{if(!u.consumable.consume(l.item,r.name))return;const C=u.writer,f=u.mapper.toViewElement(l.item),w=a.findViewImgElement(f);l.attributeNewValue===null?(C.removeAttribute("srcset",w),C.removeAttribute("sizes",w)):l.attributeNewValue&&(C.setAttribute("srcset",l.attributeNewValue,w),C.setAttribute("sizes","100vw",w))};return r=>{r.on(`attribute:srcset:${e}`,i)}}function TC(a,e,i){const r=(l,u,C)=>{if(!C.consumable.consume(u.item,l.name))return;const f=C.writer,w=C.mapper.toViewElement(u.item),S=a.findViewImgElement(w);f.setAttribute(u.attributeKey,u.attributeNewValue||"",S)};return l=>{l.on(`attribute:${i}:${e}`,r)}}class aW extends xs{observe(e){this.listenTo(e,"load",(i,r)=>{const l=r.target;this.checkShouldIgnoreEventFromTarget(l)||l.tagName=="IMG"&&this._fireEvents(r)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var UU=Object.defineProperty,lW=Object.getOwnPropertySymbols,QU=Object.prototype.hasOwnProperty,qU=Object.prototype.propertyIsEnumerable,cW=(a,e,i)=>e in a?UU(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,JC=(a,e)=>{for(var i in e||(e={}))QU.call(e,i)&&cW(a,i,e[i]);if(lW)for(var i of lW(e))qU.call(e,i)&&cW(a,i,e[i]);return a};class $U extends Ut{constructor(e){super(e);const i=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||i==="block"&&de("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||i==="inline"&&de("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const i=Tn(e.source),r=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),u=Object.fromEntries(r.getAttributes());i.forEach((C,f)=>{const w=r.getSelectedElement();if(typeof C=="string"&&(C={src:C}),f&&w&&l.isImage(w)){const S=this.editor.model.createPositionAfter(w);l.insertImage(JC(JC({},C),u),S)}else l.insertImage(JC(JC({},C),u))})}}class eQ extends Ut{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(e){const i=this.editor.model.document.selection.getSelectedElement(),r=this.editor.plugins.get("ImageUtils");this.editor.model.change(l=>{l.setAttribute("src",e.source,i),this.cleanupImage(l,i),r.setImageNaturalSizeAttributes(i)})}cleanupImage(e,i){e.removeAttribute("srcset",i),e.removeAttribute("sizes",i),e.removeAttribute("sources",i),e.removeAttribute("width",i),e.removeAttribute("height",i),e.removeAttribute("alt",i)}}class O0 extends qe{static get requires(){return[_o]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,i=e.conversion;e.editing.view.addObserver(aW),i.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const r=new $U(e),l=new eQ(e);e.commands.add("insertImage",r),e.commands.add("replaceImageSource",l),e.commands.add("imageInsert",r)}}class gW extends qe{static get requires(){return[_o]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const i=this.editor,r=i.plugins.get("ImageUtils"),l=e==="imageBlock"?"figure":"img";function u(C,f,w,S){C.on(`attribute:${f}:${e}`,(R,X,J)=>{if(!J.consumable.consume(X.item,R.name))return;const U=J.writer,te=J.mapper.toViewElement(X.item),ae=r.findViewImgElement(te);if(X.attributeNewValue!==null?U.setAttribute(w,X.attributeNewValue,ae):U.removeAttribute(w,ae),X.item.hasAttribute("sources"))return;const he=X.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!he&&!S)return;const Ie=X.item.getAttribute("width"),we=X.item.getAttribute("height");Ie&&we&&U.setStyle("aspect-ratio",`${Ie}/${we}`,ae)})}i.conversion.for("upcast").attributeToAttribute({view:{name:l,styles:{width:/.+/}},model:{key:"width",value:C=>QV(C)?MC(C.getStyle("width")):null}}).attributeToAttribute({view:{name:l,key:"width"},model:"width"}).attributeToAttribute({view:{name:l,styles:{height:/.+/}},model:{key:"height",value:C=>QV(C)?MC(C.getStyle("height")):null}}).attributeToAttribute({view:{name:l,key:"height"},model:"height"}),i.conversion.for("editingDowncast").add(C=>{u(C,"width","width",!0),u(C,"height","height",!0)}),i.conversion.for("dataDowncast").add(C=>{u(C,"width","width",!1),u(C,"height","height",!1)})}}class dW extends Ut{constructor(e,i){super(e),this._modelElementName=i}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(i):this.isEnabled=e.isBlockImage(i)}execute(e={}){const i=this.editor,r=this.editor.model,l=i.plugins.get("ImageUtils"),u=l.getClosestSelectedImageElement(r.document.selection),C=Object.fromEntries(u.getAttributes());return C.src||C.uploadId?r.change(f=>{const{setImageSizes:w=!0}=e,S=Array.from(r.markers).filter(J=>J.getRange().containsItem(u)),R=l.insertImage(C,r.createSelection(u,"on"),this._modelElementName,{setImageSizes:w});if(!R)return null;const X=f.createRangeOn(R);for(const J of S){const U=J.getRange(),te=U.root.rootName!="$graveyard"?U.getJoined(X,!0):X;f.updateMarker(J,{range:te})}return{oldElement:u,newElement:R}}):null}}var uW=d(7378),tQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(uW.A,tQ),uW.A.locals;class hW extends qe{static get requires(){return[_o]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,i=e.conversion,r=e.plugins.get("ImageUtils");i.for("editingDowncast").add(l=>{l.on("attribute:placeholder",(u,C,f)=>{if(!f.consumable.test(C.item,u.name)||!C.item.is("element","imageBlock")&&!C.item.is("element","imageInline"))return;f.consumable.consume(C.item,u.name);const w=f.writer,S=f.mapper.toViewElement(C.item),R=r.findViewImgElement(S);C.attributeNewValue?(w.addClass("image_placeholder",R),w.setStyle("background-image",`url(${C.attributeNewValue})`,R),w.setCustomProperty("editingPipeline:doNotReuseOnce",!0,R)):(w.removeClass("image_placeholder",R),w.removeStyle("background-image",R))})})}_setupLoadListener(){const e=this.editor,i=e.model,r=e.editing,l=r.view,u=e.plugins.get("ImageUtils");l.addObserver(aW),this.listenTo(l.document,"imageLoaded",(C,f)=>{const w=l.domConverter.mapDomToView(f.target);if(!w)return;const S=u.getImageWidgetFromImageView(w);if(!S)return;const R=r.mapper.toModelElement(S);R&&R.hasAttribute("placeholder")&&i.enqueueChange({isUndoable:!1},X=>{X.removeAttribute("placeholder",R)})})}}class mW extends qe{static get requires(){return[O0,gW,_o,hW,Ar]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new dW(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,r=e.conversion,l=e.plugins.get("ImageUtils");r.for("dataDowncast").elementToStructure({model:"imageBlock",view:(u,{writer:C})=>OV(C)}),r.for("editingDowncast").elementToStructure({model:"imageBlock",view:(u,{writer:C})=>l.toImageWidget(OV(C),C,i("image widget"))}),r.for("downcast").add(TC(l,"imageBlock","src")).add(TC(l,"imageBlock","alt")).add(sW(l,"imageBlock")),r.for("upcast").elementToElement({view:UV(e,"imageBlock"),model:(u,{writer:C})=>C.createElement("imageBlock",u.hasAttribute("src")?{src:u.getAttribute("src")}:void 0)}).add(function(u){const C=(f,w,S)=>{if(!S.consumable.test(w.viewItem,{name:!0,classes:"image"}))return;const R=u.findViewImgElement(w.viewItem);if(!R||!S.consumable.test(R,{name:!0}))return;S.consumable.consume(w.viewItem,{name:!0,classes:"image"});const X=zi(S.convertItem(R,w.modelCursor).modelRange.getItems());X?(S.convertChildren(w.viewItem,X),S.updateConversionResult(X,w)):S.consumable.revert(w.viewItem,{name:!0,classes:"image"})};return f=>{f.on("element:figure",C)}}(l))}_setupClipboardIntegration(){const e=this.editor,i=e.model,r=e.editing.view,l=e.plugins.get("ImageUtils"),u=e.plugins.get("ClipboardPipeline");this.listenTo(u,"inputTransformation",(C,f)=>{const w=Array.from(f.content.getChildren());let S;if(!w.every(l.isInlineImageView))return;S=f.targetRanges?e.editing.mapper.toModelRange(f.targetRanges[0]):i.document.selection.getFirstRange();const R=i.createSelection(S);if(j0(i.schema,R)==="imageBlock"){const X=new ea(r.document),J=w.map(U=>X.createElement("figure",{class:"image"},U));f.content=X.createDocumentFragment(J)}}),this.listenTo(u,"contentInsertion",(C,f)=>{f.method==="paste"&&i.change(w=>{const S=w.createRangeIn(f.content);for(const R of S.getItems())R.is("element","imageBlock")&&l.setImageNaturalSizeAttributes(R)})})}}var CW=d(3350),nQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(CW.A,nQ),CW.A.locals;class iQ extends Gt{constructor(e,i=[]){super(e),this.focusTracker=new Ki,this.keystrokes=new yo,this._focusables=new Ir,this.children=this.createCollection(),this._focusCycler=new br({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const r of i)this.children.add(r),this._focusables.add(r),r instanceof SP&&this._focusables.addMany(r.children);if(this._focusables.length>1)for(const r of this._focusables)oQ(r)&&(r.focusCycler.on("forwardCycle",l=>{this._focusCycler.focusNext(),l.stop()}),r.focusCycler.on("backwardCycle",l=>{this._focusCycler.focusPrevious(),l.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),Om({view:this});for(const i of this._focusables)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function oQ(a){return"focusCycler"in a}class pW extends qe{constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[_o]}init(){const e=this.editor,i=e.model.document.selection,r=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=r.isImage(i.getSelectedElement())});const l=u=>this._createToolbarComponent(u);e.ui.componentFactory.add("insertImage",l),e.ui.componentFactory.add("imageInsert",l)}registerIntegration({name:e,observable:i,buttonViewCreator:r,formViewCreator:l,requiresForm:u}){this._integrations.has(e)&&de("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:i,buttonViewCreator:r,formViewCreator:l,requiresForm:!!u})}_createToolbarComponent(e){const i=this.editor,r=e.t,l=this._prepareIntegrations();if(!l.length)return null;let u;const C=l[0];if(l.length==1){if(!C.requiresForm)return C.buttonViewCreator(!0);u=C.buttonViewCreator(!0)}else{const S=C.buttonViewCreator(!1);u=new bC(e,S),u.tooltip=!0,u.bind("label").to(this,"isImageSelected",R=>r(R?"Replace image":"Insert image"))}const f=this.dropdownView=na(e,u),w=l.map(({observable:S})=>typeof S=="function"?S():S);return f.bind("isEnabled").toMany(w,"isEnabled",(...S)=>S.some(R=>R)),f.once("change:isOpen",()=>{const S=l.map(({formViewCreator:X})=>X(l.length==1)),R=new iQ(i.locale,S);f.panelView.children.add(R)}),f}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),i=[];if(!e.length)return de("image-insert-integrations-not-specified"),i;for(const r of e)this._integrations.has(r)?i.push(this._integrations.get(r)):["upload","assetManager","url"].includes(r)||de("image-insert-unknown-integration",{item:r});return i.length||de("image-insert-integrations-not-registered"),i}}var IW=d(265),rQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(IW.A,rQ),IW.A.locals;class sQ extends qe{static get requires(){return[mW,Su,rW,pW]}static get pluginName(){return"ImageBlock"}}class aQ extends qe{static get requires(){return[O0,gW,_o,hW,Ar]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,i=e.model.schema;i.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),i.addChildCheck((r,l)=>{if(r.endsWith("caption")&&l.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new dW(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,r=e.conversion,l=e.plugins.get("ImageUtils");r.for("dataDowncast").elementToElement({model:"imageInline",view:(u,{writer:C})=>C.createEmptyElement("img")}),r.for("editingDowncast").elementToStructure({model:"imageInline",view:(u,{writer:C})=>l.toImageWidget(function(f){return f.createContainerElement("span",{class:"image-inline"},f.createEmptyElement("img"))}(C),C,i("image widget"))}),r.for("downcast").add(TC(l,"imageInline","src")).add(TC(l,"imageInline","alt")).add(sW(l,"imageInline")),r.for("upcast").elementToElement({view:UV(e,"imageInline"),model:(u,{writer:C})=>C.createElement("imageInline",u.hasAttribute("src")?{src:u.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,i=e.model,r=e.editing.view,l=e.plugins.get("ImageUtils"),u=e.plugins.get("ClipboardPipeline");this.listenTo(u,"inputTransformation",(C,f)=>{const w=Array.from(f.content.getChildren());let S;if(!w.every(l.isBlockImageView))return;S=f.targetRanges?e.editing.mapper.toModelRange(f.targetRanges[0]):i.document.selection.getFirstRange();const R=i.createSelection(S);if(j0(i.schema,R)==="imageInline"){const X=new ea(r.document),J=w.map(U=>U.childCount===1?(Array.from(U.getAttributes()).forEach(te=>X.setAttribute(...te,l.findViewImgElement(U))),U.getChild(0)):U);f.content=X.createDocumentFragment(J)}}),this.listenTo(u,"contentInsertion",(C,f)=>{f.method==="paste"&&i.change(w=>{const S=w.createRangeIn(f.content);for(const R of S.getItems())R.is("element","imageInline")&&l.setImageNaturalSizeAttributes(R)})})}}class lQ extends qe{static get requires(){return[aQ,Su,rW,pW]}static get pluginName(){return"ImageInline"}}class fW extends qe{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[_o]}getCaptionFromImageModelElement(e){for(const i of e.getChildren())if(i&&i.is("element","caption"))return i;return null}getCaptionFromModelSelection(e){const i=this.editor.plugins.get("ImageUtils"),r=e.getFirstPosition().findAncestor("caption");return r&&i.isBlockImage(r.parent)?r:null}matchImageCaptionViewElement(e){const i=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&i.isBlockImageView(e.parent)?{name:!0}:null}}class cQ extends Ut{refresh(){const e=this.editor,i=e.plugins.get("ImageCaptionUtils"),r=e.plugins.get("ImageUtils");if(!e.plugins.has(mW))return this.isEnabled=!1,void(this.value=!1);const l=e.model.document.selection,u=l.getSelectedElement();if(!u){const C=i.getCaptionFromModelSelection(l);return this.isEnabled=!!C,void(this.value=!!C)}this.isEnabled=r.isImage(u),this.isEnabled?this.value=!!i.getCaptionFromImageModelElement(u):this.value=!1}execute(e={}){const{focusCaptionOnShow:i}=e;this.editor.model.change(r=>{this.value?this._hideImageCaption(r):this._showImageCaption(r,i)})}_showImageCaption(e,i){const r=this.editor.model.document.selection,l=this.editor.plugins.get("ImageCaptionEditing"),u=this.editor.plugins.get("ImageUtils");let C=r.getSelectedElement();const f=l._getSavedCaption(C);u.isInlineImage(C)&&(this.editor.execute("imageTypeBlock"),C=r.getSelectedElement());const w=f||e.createElement("caption");e.append(w,C),i&&e.setSelection(w,"in")}_hideImageCaption(e){const i=this.editor,r=i.model.document.selection,l=i.plugins.get("ImageCaptionEditing"),u=i.plugins.get("ImageCaptionUtils");let C,f=r.getSelectedElement();f?C=u.getCaptionFromImageModelElement(f):(C=u.getCaptionFromModelSelection(r),f=C.parent),l._saveCaption(f,C),e.setSelection(f,"on"),e.remove(C)}}class gQ extends qe{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[_o,fW]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,i=e.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new cQ(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,i=e.editing.view,r=e.plugins.get("ImageUtils"),l=e.plugins.get("ImageCaptionUtils"),u=e.t;e.conversion.for("upcast").elementToElement({view:C=>l.matchImageCaptionViewElement(C),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(C,{writer:f})=>r.isBlockImage(C.parent)?f.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(C,{writer:f})=>{if(!r.isBlockImage(C.parent))return null;const w=f.createEditableElement("figcaption");f.setCustomProperty("imageCaption",!0,w),w.placeholder=u("Enter image caption"),X2({view:i,element:w,keepOnFocus:!0});const S=C.parent.getAttribute("alt");return jR(w,f,{label:S?u("Caption for image: %0",[S]):u("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,i=e.plugins.get("ImageUtils"),r=e.plugins.get("ImageCaptionUtils"),l=e.commands.get("imageTypeInline"),u=e.commands.get("imageTypeBlock"),C=f=>{if(!f.return)return;const{oldElement:w,newElement:S}=f.return;if(!w)return;if(i.isBlockImage(w)){const X=r.getCaptionFromImageModelElement(w);if(X)return void this._saveCaption(S,X)}const R=this._getSavedCaption(w);R&&this._saveCaption(S,R)};l&&this.listenTo(l,"execute",C,{priority:"low"}),u&&this.listenTo(u,"execute",C,{priority:"low"})}_getSavedCaption(e){const i=this._savedCaptionsMap.get(e);return i?Zn.fromJSON(i):null}_saveCaption(e,i){this._savedCaptionsMap.set(e,i.toJSON())}_registerCaptionReconversion(){const e=this.editor,i=e.model,r=e.plugins.get("ImageUtils"),l=e.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const u=i.document.differ.getChanges();for(const C of u){if(C.attributeKey!=="alt")continue;const f=C.range.start.nodeAfter;if(r.isBlockImage(f)){const w=l.getCaptionFromImageModelElement(f);if(!w)return;e.editing.reconvertItem(w)}}})}}class dQ extends qe{static get requires(){return[fW]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,i=e.editing.view,r=e.plugins.get("ImageCaptionUtils"),l=e.t;e.ui.componentFactory.add("toggleImageCaption",u=>{const C=e.commands.get("toggleImageCaption"),f=new pn(u);return f.set({icon:Tt.caption,tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(C,"value","isEnabled"),f.bind("label").to(C,"value",w=>l(w?"Toggle caption off":"Toggle caption on")),this.listenTo(f,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const w=r.getCaptionFromModelSelection(e.model.document.selection);if(w){const S=e.editing.mapper.toViewElement(w);i.scrollToTheSelection(),i.change(R=>{R.addClass("image__caption_highlighted",S)})}e.editing.view.focus()}),f})}}var bW=d(5247),uQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(bW.A,uQ),bW.A.locals;function AW(a){const e=a.map(i=>i.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function hQ(a){return new Promise((e,i)=>{const r=a.getAttribute("src");fetch(r).then(l=>l.blob()).then(l=>{const u=yW(l,r),C=u.replace("image/",""),f=new File([l],`image.${C}`,{type:u});e(f)}).catch(l=>l&&l.name==="TypeError"?function(u){return function(C){return new Promise((f,w)=>{const S=v.document.createElement("img");S.addEventListener("load",()=>{const R=v.document.createElement("canvas");R.width=S.width,R.height=S.height,R.getContext("2d").drawImage(S,0,0),R.toBlob(X=>X?f(X):w())}),S.addEventListener("error",()=>w()),S.src=C})}(u).then(C=>{const f=yW(C,u),w=f.replace("image/","");return new File([C],`image.${w}`,{type:f})})}(r).then(e).catch(i):i(l))})}function yW(a,e){return a.type?a.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class mQ extends qe{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,i=e.t,r=()=>{const l=this._createButton(TZ);return l.set({label:i("Upload image from computer"),tooltip:!0}),l};if(e.ui.componentFactory.add("uploadImage",r),e.ui.componentFactory.add("imageUpload",r),e.ui.componentFactory.add("menuBar:uploadImage",()=>{const l=this._createButton(gR);return l.label=i("Image from computer"),l}),e.plugins.has("ImageInsertUI")){const l=e.plugins.get("ImageInsertUI");l.registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>{const u=e.ui.componentFactory.create("uploadImage");return u.bind("label").to(l,"isImageSelected",C=>i(C?"Replace image from computer":"Upload image from computer")),u},formViewCreator:()=>{const u=e.ui.componentFactory.create("uploadImage");return u.withText=!0,u.bind("label").to(l,"isImageSelected",C=>i(C?"Replace from computer":"Upload from computer")),u.on("execute",()=>{l.dropdownView.isOpen=!1}),u}})}}_createButton(e){const i=this.editor,r=i.locale,l=i.commands.get("uploadImage"),u=i.config.get("image.upload.types"),C=AW(u),f=new e(i.locale),w=r.t;return f.set({acceptedType:u.map(S=>`image/${S}`).join(","),allowMultipleFiles:!0,label:w("Upload image from computer"),icon:Tt.imageUpload}),f.bind("isEnabled").to(l),f.on("done",(S,R)=>{const X=Array.from(R).filter(J=>C.test(J.type));X.length&&(i.execute("uploadImage",{file:X}),i.editing.view.focus())}),f}}var kW=d(2267),CQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(kW.A,CQ),kW.A.locals;var vW=d(7693),pQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(vW.A,pQ),vW.A.locals;var wW=d(1559),IQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(wW.A,IQ),wW.A.locals;class fQ extends qe{constructor(e){super(e),this.uploadStatusChange=(i,r,l)=>{const u=this.editor,C=r.item,f=C.getAttribute("uploadId");if(!l.consumable.consume(r.item,i.name))return;const w=u.plugins.get("ImageUtils"),S=u.plugins.get($r),R=f?r.attributeNewValue:null,X=this.placeholder,J=u.editing.mapper.toViewElement(C),U=l.writer;if(R=="reading")return xW(J,U),void SW(w,X,J,U);if(R=="uploading"){const te=S.loaders.get(f);return xW(J,U),void(te?(BW(J,U),function(ae,he,Ie,we){const We=function(ze){const ut=ze.createUIElement("div",{class:"ck-progress-bar"});return ze.setCustomProperty("progressBar",!0,ut),ut}(he);he.insert(he.createPositionAt(ae,"end"),We),Ie.on("change:uploadedPercent",(ze,ut,Nt)=>{we.change(zt=>{zt.setStyle("width",Nt+"%",We)})})}(J,U,te,u.editing.view),function(ae,he,Ie,we){if(we.data){const We=ae.findViewImgElement(he);Ie.setAttribute("src",we.data,We)}}(w,J,U,te)):SW(w,X,J,U))}R=="complete"&&S.loaders.get(f)&&function(te,ae,he){const Ie=ae.createUIElement("div",{class:"ck-image-upload-complete-icon"});ae.insert(ae.createPositionAt(te,"end"),Ie),setTimeout(()=>{he.change(we=>we.remove(we.createRangeOn(Ie)))},3e3)}(J,U,u.editing.view),function(te,ae){GW(te,ae,"progressBar")}(J,U),BW(J,U),function(te,ae){ae.removeClass("ck-appear",te)}(J,U)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function xW(a,e){a.hasClass("ck-appear")||e.addClass("ck-appear",a)}function SW(a,e,i,r){i.hasClass("ck-image-upload-placeholder")||r.addClass("ck-image-upload-placeholder",i);const l=a.findViewImgElement(i);l.getAttribute("src")!==e&&r.setAttribute("src",e,l),ZW(i,"placeholder")||r.insert(r.createPositionAfter(l),function(u){const C=u.createUIElement("div",{class:"ck-upload-placeholder-loader"});return u.setCustomProperty("placeholder",!0,C),C}(r))}function BW(a,e){a.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",a),GW(a,e,"placeholder")}function ZW(a,e){for(const i of a.getChildren())if(i.getCustomProperty(e))return i}function GW(a,e,i){const r=ZW(a,i);r&&e.remove(e.createRangeOn(r))}var bQ=Object.defineProperty,AQ=Object.defineProperties,yQ=Object.getOwnPropertyDescriptors,RW=Object.getOwnPropertySymbols,kQ=Object.prototype.hasOwnProperty,vQ=Object.prototype.propertyIsEnumerable,VW=(a,e,i)=>e in a?bQ(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;class wQ extends Ut{refresh(){const e=this.editor,i=e.plugins.get("ImageUtils"),r=e.model.document.selection.getSelectedElement();this.isEnabled=i.isImageAllowed()||i.isImage(r)}execute(e){const i=Tn(e.file),r=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),u=Object.fromEntries(r.getAttributes());i.forEach((C,f)=>{const w=r.getSelectedElement();if(f&&w&&l.isImage(w)){const S=this.editor.model.createPositionAfter(w);this._uploadImage(C,u,S)}else this._uploadImage(C,u)})}_uploadImage(e,i,r){const l=this.editor,u=l.plugins.get($r).createLoader(e),C=l.plugins.get("ImageUtils");var f,w;u&&C.insertImage((f=((S,R)=>{for(var X in R||(R={}))kQ.call(R,X)&&VW(S,X,R[X]);if(RW)for(var X of RW(R))vQ.call(R,X)&&VW(S,X,R[X]);return S})({},i),w={uploadId:u.id},AQ(f,yQ(w))),r)}}class xQ extends qe{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[$r,V0,Ar,_o]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,i=e.model.document,r=e.conversion,l=e.plugins.get($r),u=e.plugins.get("ImageUtils"),C=e.plugins.get("ClipboardPipeline"),f=AW(e.config.get("image.upload.types")),w=new wQ(e);e.commands.add("uploadImage",w),e.commands.add("imageUpload",w),r.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(S,R)=>{if(X=R.dataTransfer,Array.from(X.types).includes("text/html")&&X.getData("text/html")!=="")return;var X;const J=Array.from(R.dataTransfer.files).filter(U=>!!U&&f.test(U.type));J.length&&(S.stop(),e.model.change(U=>{R.targetRanges&&U.setSelection(R.targetRanges.map(te=>e.editing.mapper.toModelRange(te))),e.execute("uploadImage",{file:J})}))}),this.listenTo(C,"inputTransformation",(S,R)=>{const X=Array.from(e.editing.view.createRangeIn(R.content)).map(U=>U.item).filter(U=>function(te,ae){return!(!te.isInlineImageView(ae)||!ae.getAttribute("src")||!ae.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!ae.getAttribute("src").match(/^blob:/g))}(u,U)&&!U.getAttribute("uploadProcessed")).map(U=>({promise:hQ(U),imageElement:U}));if(!X.length)return;const J=new ea(e.editing.view.document);for(const U of X){J.setAttribute("uploadProcessed",!0,U.imageElement);const te=l.createLoader(U.promise);te&&(J.setAttribute("src","",U.imageElement),J.setAttribute("uploadId",te.id,U.imageElement))}}),e.editing.view.document.on("dragover",(S,R)=>{R.preventDefault()}),i.on("change",()=>{const S=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),R=new Set;for(const X of S)if(X.type=="insert"&&X.name!="$text"){const J=X.position.nodeAfter,U=X.position.root.rootName=="$graveyard";for(const te of SQ(e,J)){const ae=te.getAttribute("uploadId");if(!ae)continue;const he=l.loaders.get(ae);he&&(U?R.has(ae)||he.abort():(R.add(ae),this._uploadImageElements.set(ae,te),he.status=="idle"&&this._readAndUpload(he)))}}}),this.on("uploadComplete",(S,{imageElement:R,data:X})=>{const J=X.urls?X.urls:X;this.editor.model.change(U=>{U.setAttribute("src",J.default,R),this._parseAndSetSrcsetAttributeOnImage(J,R,U),u.setImageNaturalSizeAttributes(R)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const i=this.editor,r=i.model,l=i.locale.t,u=i.plugins.get($r),C=i.plugins.get(V0),f=i.plugins.get("ImageUtils"),w=this._uploadImageElements;return r.enqueueChange({isUndoable:!1},R=>{R.setAttribute("uploadStatus","reading",w.get(e.id))}),e.read().then(()=>{const R=e.upload(),X=w.get(e.id);if(_.isSafari){const J=i.editing.mapper.toViewElement(X),U=f.findViewImgElement(J);i.editing.view.once("render",()=>{if(!U.parent)return;const te=i.editing.view.domConverter.mapViewToDom(U.parent);if(!te)return;const ae=te.style.display;te.style.display="none",te._ckHack=te.offsetHeight,te.style.display=ae})}return i.ui&&i.ui.ariaLiveAnnouncer.announce(l("Uploading image")),r.enqueueChange({isUndoable:!1},J=>{J.setAttribute("uploadStatus","uploading",X)}),R}).then(R=>{r.enqueueChange({isUndoable:!1},X=>{const J=w.get(e.id);X.setAttribute("uploadStatus","complete",J),i.ui&&i.ui.ariaLiveAnnouncer.announce(l("Image upload complete")),this.fire("uploadComplete",{data:R,imageElement:J})}),S()}).catch(R=>{if(i.ui&&i.ui.ariaLiveAnnouncer.announce(l("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw R;e.status=="error"&&R&&C.showWarning(R,{title:l("Upload failed"),namespace:"upload"}),r.enqueueChange({isUndoable:!1},X=>{X.remove(w.get(e.id))}),S()});function S(){r.enqueueChange({isUndoable:!1},R=>{const X=w.get(e.id);R.removeAttribute("uploadId",X),R.removeAttribute("uploadStatus",X),w.delete(e.id)}),u.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,i,r){let l=0;const u=Object.keys(e).filter(C=>{const f=parseInt(C,10);if(!isNaN(f))return l=Math.max(l,f),!0}).map(C=>`${e[C]} ${C}w`).join(", ");if(u!=""){const C={srcset:u};i.hasAttribute("width")||i.hasAttribute("height")||(C.width=l),r.setAttributes(C,i)}}}function SQ(a,e){const i=a.plugins.get("ImageUtils");return Array.from(a.model.createRangeOn(e)).filter(r=>i.isImage(r.item)).map(r=>r.item)}var WW=d(4642),BQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(WW.A,BQ),WW.A.locals;var _W=d(3469),ZQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(_W.A,ZQ),_W.A.locals;class GQ extends Ut{constructor(e,i){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(r=>{if(r.isDefault)for(const l of r.modelElements)this._defaultStyles[l]=r.name;return[r.name,r]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const i=this.editor,r=i.model,l=i.plugins.get("ImageUtils");r.change(u=>{const C=e.value,{setImageSizes:f=!0}=e;let w=l.getClosestSelectedImageElement(r.document.selection);C&&this.shouldConvertImageType(C,w)&&(this.editor.execute(l.isBlockImage(w)?"imageTypeInline":"imageTypeBlock",{setImageSizes:f}),w=l.getClosestSelectedImageElement(r.document.selection)),!C||this._styles.get(C).isDefault?u.removeAttribute("imageStyle",w):u.setAttribute("imageStyle",C,w),f&&l.setImageNaturalSizeAttributes(w)})}shouldConvertImageType(e,i){return!this._styles.get(e).modelElements.includes(i.name)}}var RQ=Object.defineProperty,NW=Object.getOwnPropertySymbols,VQ=Object.prototype.hasOwnProperty,WQ=Object.prototype.propertyIsEnumerable,EW=(a,e,i)=>e in a?RQ(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,XW=(a,e)=>{for(var i in e||(e={}))VQ.call(e,i)&&EW(a,i,e[i]);if(NW)for(var i of NW(e))WQ.call(e,i)&&EW(a,i,e[i]);return a};const{objectFullWidth:_Q,objectInline:YW,objectLeft:DW,objectRight:U0,objectCenter:Q0,objectBlockLeft:HW,objectBlockRight:FW}=Tt,LC={get inline(){return{name:"inline",title:"In line",icon:YW,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:DW,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:HW,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Q0,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:U0,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:FW,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Q0,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:U0,modelElements:["imageBlock"],className:"image-style-side"}}},MW={full:_Q,left:HW,right:FW,center:Q0,inlineLeft:DW,inlineRight:U0,inline:YW},TW=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function JW(a){de("image-style-configuration-definition-invalid",a)}const q0={normalizeStyles:function(a){return(a.configuredStyles.options||[]).map(e=>function(i){return i=typeof i=="string"?LC[i]?XW({},LC[i]):{name:i}:function(r,l){const u=XW({},l);for(const C in r)Object.prototype.hasOwnProperty.call(l,C)||(u[C]=r[C]);return u}(LC[i.name],i),typeof i.icon=="string"&&(i.icon=MW[i.icon]||i.icon),i}(e)).filter(e=>function(i,{isBlockPluginLoaded:r,isInlinePluginLoaded:l}){const{modelElements:u,name:C}=i;if(!(u&&u.length&&C))return JW({style:i}),!1;{const f=[r?"imageBlock":null,l?"imageInline":null];if(!u.some(w=>f.includes(w)))return de("image-style-missing-dependency",{style:i,missingPlugins:u.map(w=>w==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,a))},getDefaultStylesConfiguration:function(a,e){return a&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:a?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(a){return a.has("ImageBlockEditing")&&a.has("ImageInlineEditing")?[...TW]:[]},warnInvalidStyle:JW,DEFAULT_OPTIONS:LC,DEFAULT_ICONS:MW,DEFAULT_DROPDOWN_DEFINITIONS:TW};function LW(a,e){for(const i of e)if(i.name===a)return i}class zW extends qe{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[_o]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:i}=q0,r=this.editor,l=r.plugins.has("ImageBlockEditing"),u=r.plugins.has("ImageInlineEditing");r.config.define("image.styles",i(l,u)),this.normalizedStyles=e({configuredStyles:r.config.get("image.styles"),isBlockPluginLoaded:l,isInlinePluginLoaded:u}),this._setupConversion(l,u),this._setupPostFixer(),r.commands.add("imageStyle",new GQ(r,this.normalizedStyles))}_setupConversion(e,i){const r=this.editor,l=r.model.schema,u=(C=this.normalizedStyles,(w,S,R)=>{if(!R.consumable.consume(S.item,w.name))return;const X=LW(S.attributeNewValue,C),J=LW(S.attributeOldValue,C),U=R.mapper.toViewElement(S.item),te=R.writer;J&&te.removeClass(J.className,U),X&&te.addClass(X.className,U)});var C;const f=function(w){const S={imageInline:w.filter(R=>!R.isDefault&&R.modelElements.includes("imageInline")),imageBlock:w.filter(R=>!R.isDefault&&R.modelElements.includes("imageBlock"))};return(R,X,J)=>{if(!X.modelRange)return;const U=X.viewItem,te=zi(X.modelRange.getItems());if(te&&J.schema.checkAttribute(te,"imageStyle"))for(const ae of S[te.name])J.consumable.consume(U,{classes:ae.className})&&J.writer.setAttribute("imageStyle",ae.name,te)}}(this.normalizedStyles);r.editing.downcastDispatcher.on("attribute:imageStyle",u),r.data.downcastDispatcher.on("attribute:imageStyle",u),e&&(l.extend("imageBlock",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:figure",f,{priority:"low"})),i&&(l.extend("imageInline",{allowAttributes:"imageStyle"}),r.data.upcastDispatcher.on("element:img",f,{priority:"low"}))}_setupPostFixer(){const e=this.editor,i=e.model.document,r=e.plugins.get(_o),l=new Map(this.normalizedStyles.map(u=>[u.name,u]));i.registerPostFixer(u=>{let C=!1;for(const f of i.differ.getChanges())if(f.type=="insert"||f.type=="attribute"&&f.attributeKey=="imageStyle"){let w=f.type=="insert"?f.position.nodeAfter:f.range.start.nodeAfter;if(w&&w.is("element","paragraph")&&w.childCount>0&&(w=w.getChild(0)),!r.isImage(w))continue;const S=w.getAttribute("imageStyle");if(!S)continue;const R=l.get(S);R&&R.modelElements.includes(w.name)||(u.removeAttribute("imageStyle",w),C=!0)}return C})}}var KW=d(6386),NQ={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(KW.A,NQ),KW.A.locals;class EQ extends qe{static get requires(){return[zW]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,i=this.editor.config.get("image.toolbar")||[],r=PW(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const u of r)this._createButton(u);const l=PW([...i.filter(He),...q0.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const u of l)this._createDropdown(u,r)}_createDropdown(e,i){const r=this.editor.ui.componentFactory;r.add(e.name,l=>{let u;const{defaultItem:C,items:f,title:w}=e,S=f.filter(U=>i.find(({name:te})=>jW(te)===U)).map(U=>{const te=r.create(U);return U===C&&(u=te),te});f.length!==S.length&&q0.warnInvalidStyle({dropdown:e});const R=na(l,bC),X=R.buttonView,J=X.arrowView;return S0(R,S,{enableActiveItemFocusOnDropdownOpen:!0}),X.set({label:OW(w,u.label),class:null,tooltip:!0}),J.unbind("label"),J.set({label:w}),X.bind("icon").toMany(S,"isOn",(...U)=>{const te=U.findIndex(Ta);return te<0?u.icon:S[te].icon}),X.bind("label").toMany(S,"isOn",(...U)=>{const te=U.findIndex(Ta);return OW(w,te<0?u.label:S[te].label)}),X.bind("isOn").toMany(S,"isOn",(...U)=>U.some(Ta)),X.bind("class").toMany(S,"isOn",(...U)=>U.some(Ta)?"ck-splitbutton_flatten":void 0),X.on("execute",()=>{S.some(({isOn:U})=>U)?R.isOpen=!R.isOpen:u.fire("execute")}),R.bind("isEnabled").toMany(S,"isEnabled",(...U)=>U.some(Ta)),this.listenTo(R,"execute",()=>{this.editor.editing.view.focus()}),R})}_createButton(e){const i=e.name;this.editor.ui.componentFactory.add(jW(i),r=>{const l=this.editor.commands.get("imageStyle"),u=new pn(r);return u.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),u.bind("isEnabled").to(l,"isEnabled"),u.bind("isOn").to(l,"value",C=>C===i),u.on("execute",this._executeCommand.bind(this,i)),u})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function PW(a,e){for(const i of a)e[i.title]&&(i.title=e[i.title]);return a}function jW(a){return`imageStyle:${a}`}function OW(a,e){return(a?a+": ":"")+e}class XQ extends qe{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new R2(e)),e.commands.add("outdent",new R2(e))}}class YQ extends qe{static get pluginName(){return"IndentUI"}init(){const e=this.editor,i=e.locale,r=e.t,l=i.uiLanguageDirection=="ltr"?Tt.indent:Tt.outdent,u=i.uiLanguageDirection=="ltr"?Tt.outdent:Tt.indent;this._defineButton("indent",r("Increase indent"),l),this._defineButton("outdent",r("Decrease indent"),u)}_defineButton(e,i,r){const l=this.editor;l.ui.componentFactory.add(e,()=>{const u=this._createButton(pn,e,i,r);return u.set({tooltip:!0}),u}),l.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(Qo,e,i,r))}_createButton(e,i,r,l){const u=this.editor,C=u.commands.get(i),f=new e(u.locale);return f.set({label:r,icon:l}),f.bind("isEnabled").to(C,"isEnabled"),this.listenTo(f,"execute",()=>{u.execute(i),u.editing.view.focus()}),f}}class DQ{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(i=>this._definitions.add(i)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(i,r,l)=>{if(!l.consumable.test(r.item,"attribute:linkHref")||!r.item.is("selection")&&!l.schema.isInline(r.item))return;const u=l.writer,C=u.document.selection;for(const f of this._definitions){const w=u.createAttributeElement("a",f.attributes,{priority:5});f.classes&&u.addClass(f.classes,w);for(const S in f.styles)u.setStyle(S,f.styles[S],w);u.setCustomProperty("link",!0,w),f.callback(r.attributeNewValue)?r.item.is("selection")?u.wrap(C.getFirstRange(),w):u.wrap(l.mapper.toViewRange(r.range),w):u.unwrap(l.mapper.toViewRange(r.range),w)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(i,r,{writer:l,mapper:u})=>{const C=u.toViewElement(r.item),f=Array.from(C.getChildren()).find(w=>w.is("element","a"));for(const w of this._definitions){const S=ks(w.attributes);if(w.callback(r.attributeNewValue)){for(const[R,X]of S)R==="class"?l.addClass(X,f):l.setAttribute(R,X,f);w.classes&&l.addClass(w.classes,f);for(const R in w.styles)l.setStyle(R,w.styles[R],f)}else{for(const[R,X]of S)R==="class"?l.removeClass(X,f):l.removeAttribute(R,f);w.classes&&l.removeClass(w.classes,f);for(const R in w.styles)l.removeStyle(R,f)}}})}}}const HQ=function(a,e,i){var r=a.length;return i=i===void 0?r:i,!e&&i>=r?a:T2(a,e,i)};var FQ=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const UW=function(a){return FQ.test(a)},MQ=function(a){return a.split("")};var QW="\\ud800-\\udfff",TQ="["+QW+"]",$0="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ey="\\ud83c[\\udffb-\\udfff]",qW="[^"+QW+"]",$W="(?:\\ud83c[\\udde6-\\uddff]){2}",e_="[\\ud800-\\udbff][\\udc00-\\udfff]",t_="(?:"+$0+"|"+ey+")?",n_="[\\ufe0e\\ufe0f]?",JQ=n_+t_+("(?:\\u200d(?:"+[qW,$W,e_].join("|")+")"+n_+t_+")*"),LQ="(?:"+[qW+$0+"?",$0,$W,e_,TQ].join("|")+")",zQ=RegExp(ey+"(?="+ey+")|"+LQ+JQ,"g");const KQ=function(a){return a.match(zQ)||[]},PQ=function(a){return UW(a)?KQ(a):MQ(a)},jQ=function(a){return function(e){e=JA(e);var i=UW(e)?PQ(e):void 0,r=i?i[0]:e.charAt(0),l=i?HQ(i,1).join(""):e.slice(1);return r[a]()+l}}("toUpperCase"),OQ=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,UQ=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,QQ=/^((\w+:(\/{2,})?)|(\W))/i,qQ=["https?","ftps?","mailto"],zC="Ctrl+K";function i_(a,{writer:e}){const i=e.createAttributeElement("a",{href:a},{priority:5});return e.setCustomProperty("link",!0,i),i}function o_(a,e=qQ){const i=String(a),r=e.join("|");return function(l,u){return!!l.replace(OQ,"").match(u)}(i,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",r)}`,"i"))?i:"#"}function ty(a,e){return!!a&&e.checkAttribute(a.name,"linkHref")}function ny(a,e){const i=(r=a,UQ.test(r)?"mailto:":e);var r;const l=!!i&&!r_(a);return a&&l?i+a:a}function r_(a){return QQ.test(a)}function s_(a){window.open(a,"_blank","noopener")}class $Q extends Ut{constructor(){super(...arguments),this.manualDecorators=new Kr,this.automaticDecorators=new DQ}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,i=e.document.selection,r=i.getSelectedElement()||zi(i.getSelectedBlocks());ty(r,e.schema)?(this.value=r.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(r,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref"));for(const l of this.manualDecorators)l.value=this._getDecoratorStateFromModel(l.id)}execute(e,i={}){const r=this.editor.model,l=r.document.selection,u=[],C=[];for(const f in i)i[f]?u.push(f):C.push(f);r.change(f=>{if(l.isCollapsed){const w=l.getFirstPosition();if(l.hasAttribute("linkHref")){const S=a_(l);let R=VC(w,"linkHref",l.getAttribute("linkHref"),r);l.getAttribute("linkHref")===S&&(R=this._updateLinkContent(r,f,R,e)),f.setAttribute("linkHref",e,R),u.forEach(X=>{f.setAttribute(X,!0,R)}),C.forEach(X=>{f.removeAttribute(X,R)}),f.setSelection(f.createPositionAfter(R.end.nodeBefore))}else if(e!==""){const S=ks(l.getAttributes());S.set("linkHref",e),u.forEach(X=>{S.set(X,!0)});const{end:R}=r.insertContent(f.createText(e,S),w);f.setSelection(R)}["linkHref",...u,...C].forEach(S=>{f.removeSelectionAttribute(S)})}else{const w=r.schema.getValidRanges(l.getRanges(),"linkHref"),S=[];for(const X of l.getSelectedBlocks())r.schema.checkAttribute(X,"linkHref")&&S.push(f.createRangeOn(X));const R=S.slice();for(const X of w)this._isRangeToUpdate(X,S)&&R.push(X);for(const X of R){let J=X;if(R.length===1){const U=a_(l);l.getAttribute("linkHref")===U&&(J=this._updateLinkContent(r,f,X,e),f.setSelection(f.createSelection(J)))}f.setAttribute("linkHref",e,J),u.forEach(U=>{f.setAttribute(U,!0,J)}),C.forEach(U=>{f.removeAttribute(U,J)})}}})}_getDecoratorStateFromModel(e){const i=this.editor.model,r=i.document.selection,l=r.getSelectedElement();return ty(l,i.schema)?l.getAttribute(e):r.getAttribute(e)}_isRangeToUpdate(e,i){for(const r of i)if(r.containsRange(e))return!1;return!0}_updateLinkContent(e,i,r,l){const u=i.createText(l,{linkHref:l});return e.insertContent(u,r)}}function a_(a){if(a.isCollapsed){const e=a.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(a.getFirstRange().getItems());if(e.length>1)return null;const i=e[0];return i.is("$text")||i.is("$textProxy")?i.data:null}}class e7 extends Ut{refresh(){const e=this.editor.model,i=e.document.selection,r=i.getSelectedElement();ty(r,e.schema)?this.isEnabled=e.schema.checkAttribute(r,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref")}execute(){const e=this.editor,i=this.editor.model,r=i.document.selection,l=e.commands.get("link");i.change(u=>{const C=r.isCollapsed?[VC(r.getFirstPosition(),"linkHref",r.getAttribute("linkHref"),i)]:i.schema.getValidRanges(r.getRanges(),"linkHref");for(const f of C)if(u.removeAttribute("linkHref",f),l)for(const w of l.manualDecorators)u.removeAttribute(w.id,f)})}}class t7 extends rt(){constructor({id:e,label:i,attributes:r,classes:l,styles:u,defaultValue:C}){super(),this.id=e,this.set("value",void 0),this.defaultValue=C,this.label=i,this.attributes=r,this.classes=l,this.styles=u}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var l_=d(7719),n7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(l_.A,n7),l_.A.locals;var i7=Object.defineProperty,c_=Object.getOwnPropertySymbols,o7=Object.prototype.hasOwnProperty,r7=Object.prototype.propertyIsEnumerable,g_=(a,e,i)=>e in a?i7(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,s7=(a,e)=>{for(var i in e||(e={}))o7.call(e,i)&&g_(a,i,e[i]);if(c_)for(var i of c_(e))r7.call(e,i)&&g_(a,i,e[i]);return a};const d_="automatic",a7=/^(https?:)?\/\//;class u_ extends qe{static get pluginName(){return"LinkEditing"}static get requires(){return[YR,RR,Ar]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,i=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:i_}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(l,u)=>i_(o_(l,i),u)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:l=>l.getAttribute("href")}}),e.commands.add("link",new $Q(e)),e.commands.add("unlink",new e7(e));const r=function(l,u){const C={"Open in a new tab":l("Open in a new tab"),Downloadable:l("Downloadable")};return u.forEach(f=>("label"in f&&C[f.label]&&(f.label=C[f.label]),f)),u}(e.t,function(l){const u=[];if(l)for(const[C,f]of Object.entries(l)){const w=Object.assign({},f,{id:`link${jQ(C)}`});u.push(w)}return u}(e.config.get("link.decorators")));this._enableAutomaticDecorators(r.filter(l=>l.mode===d_)),this._enableManualDecorators(r.filter(l=>l.mode==="manual")),e.plugins.get(YR).registerAttribute("linkHref"),function(l,u,C,f){const w=l.editing.view,S=new Set;w.document.registerPostFixer(R=>{const X=l.model.document.selection;let J=!1;if(X.hasAttribute(u)){const U=VC(X.getFirstPosition(),u,X.getAttribute(u),l.model),te=l.editing.mapper.toViewRange(U);for(const ae of te.getItems())ae.is("element",C)&&!ae.hasClass(f)&&(R.addClass(f,ae),S.add(ae),J=!0)}return J}),l.conversion.for("editingDowncast").add(R=>{function X(){w.change(J=>{for(const U of S.values())J.removeClass(f,U),S.delete(U)})}R.on("insert",X,{priority:"highest"}),R.on("remove",X,{priority:"highest"}),R.on("attribute",X,{priority:"highest"}),R.on("selection",X,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const i=this.editor,r=i.commands.get("link").automaticDecorators;i.config.get("link.addTargetToExternalLinks")&&r.add({id:"linkIsExternal",mode:d_,callback:l=>!!l&&a7.test(l),attributes:{target:"_blank",rel:"noopener noreferrer"}}),r.add(e),r.length&&i.conversion.for("downcast").add(r.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const i=this.editor,r=i.commands.get("link").manualDecorators;e.forEach(l=>{i.model.schema.extend("$text",{allowAttributes:l.id});const u=new t7(l);r.add(u),i.conversion.for("downcast").attributeToElement({model:u.id,view:(C,{writer:f,schema:w},{item:S})=>{if((S.is("selection")||w.isInline(S))&&C){const R=f.createAttributeElement("a",u.attributes,{priority:5});u.classes&&f.addClass(u.classes,R);for(const X in u.styles)f.setStyle(X,u.styles[X],R);return f.setCustomProperty("link",!0,R),R}}}),i.conversion.for("upcast").elementToAttribute({view:s7({name:"a"},u._createPattern()),model:{key:u.id}})})}_enableLinkOpen(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",(r,l)=>{if(!(_.isMac?l.domEvent.metaKey:l.domEvent.ctrlKey))return;let u=l.domTarget;if(u.tagName.toLowerCase()!="a"&&(u=u.closest("a")),!u)return;const C=u.getAttribute("href");C&&(r.stop(),l.preventDefault(),s_(C))},{context:"$capture"}),this.listenTo(i,"keydown",(r,l)=>{const u=e.commands.get("link").value;u&&l.keyCode===ln.enter&&l.altKey&&(r.stop(),s_(u))})}_enableSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection;this.listenTo(i,"change:attribute",(r,{attributeKeys:l})=>{l.includes("linkHref")&&!i.hasAttribute("linkHref")&&e.change(u=>{var C;(function(f,w){f.removeSelectionAttribute("linkHref");for(const S of w)f.removeSelectionAttribute(S)})(u,(C=e.schema,C.getDefinition("$text").allowAttributes.filter(f=>f.startsWith("link"))))})})}_enableClipboardIntegration(){const e=this.editor,i=e.model,r=this.editor.config.get("link.defaultProtocol");r&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(l,u)=>{i.change(C=>{const f=C.createRangeIn(u.content);for(const w of f.getItems())if(w.hasAttribute("linkHref")){const S=ny(w.getAttribute("linkHref"),r);C.setAttribute("linkHref",S,w)}})})}}var h_=d(3817),l7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(h_.A,l7),h_.A.locals;class c7 extends Gt{constructor(e,i,r){super(e),this.focusTracker=new Ki,this.keystrokes=new yo,this._focusables=new Ir;const l=e.t;this._validators=r,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(l("Save"),Tt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(l("Cancel"),Tt.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusCycler=new br({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const u=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&u.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:u,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,i)=>(e[i.name]=i.isOn,e),{})}render(){super.render(),Om({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,i=new IC(this.locale,AC);return i.label=e("Link URL"),i}_createButton(e,i,r,l){const u=new pn(this.locale);return u.set({label:e,icon:i,tooltip:!0}),u.extendTemplate({attributes:{class:r}}),l&&u.delegate("execute").to(this,l),u}_createManualDecoratorSwitches(e){const i=this.createCollection();for(const r of e.manualDecorators){const l=new CC(this.locale);l.set({name:r.id,label:r.label,withText:!0}),l.bind("isOn").toMany([r,e],"value",(u,C)=>C===void 0&&u===void 0?!!r.defaultValue:!!u),l.on("execute",()=>{r.set("value",!l.isOn)}),i.add(l)}return i}_createFormChildren(e){const i=this.createCollection();if(i.add(this.urlInputView),e.length){const r=new Gt;r.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(l=>({tag:"li",children:[l],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(r)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var m_=d(8762),g7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(m_.A,g7),m_.A.locals;class d7 extends Gt{constructor(e,i={}){super(e),this.focusTracker=new Ki,this.keystrokes=new yo,this._focusables=new Ir;const r=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(r("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(r("Edit link"),Tt.pencil,"edit"),this.set("href",void 0),this._linkConfig=i,this._focusCycler=new br({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,i,r){const l=new pn(this.locale);return l.set({label:e,icon:i,tooltip:!0}),l.delegate("execute").to(this,r),l}_createPreviewButton(){const e=new pn(this.locale),i=this.bindTemplate,r=this.t;return e.set({withText:!0,tooltip:r("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",l=>l&&o_(l,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",l=>l||r("This link has no URL")),e.bind("isEnabled").to(this,"href",l=>!!l),e.template.tag="a",e.template.eventListeners={},e}}const Bs="link-ui";class u7 extends qe{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[SC]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,i=this.editor.t;e.editing.view.addObserver(rP),this._balloon=e.plugins.get(SC),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Bs,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Bs,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Create link"),keystroke:zC},{label:i("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,i=new d7(e.locale,e.config.get("link")),r=e.commands.get("link"),l=e.commands.get("unlink");return i.bind("href").to(r,"value"),i.editButtonView.bind("isEnabled").to(r),i.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{e.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(u,C)=>{this._hideUI(),C()}),i.keystrokes.set(zC,(u,C)=>{this._addFormView(),C()}),i}_createFormView(){const e=this.editor,i=e.commands.get("link"),r=e.config.get("link.defaultProtocol"),l=new(DA(c7))(e.locale,i,function(u){const C=u.t,f=u.config.get("link.allowCreatingEmptyLinks");return[w=>{if(!f&&!w.url.length)return C("Link URL must not be empty.")}]}(e));return l.urlInputView.fieldView.bind("value").to(i,"value"),l.urlInputView.bind("isEnabled").to(i,"isEnabled"),l.saveButtonView.bind("isEnabled").to(i,"isEnabled"),this.listenTo(l,"submit",()=>{if(l.isValid()){const{value:u}=l.urlInputView.fieldView.element,C=ny(u,r);e.execute("link",C,l.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(l.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(l,"cancel",()=>{this._closeFormView()}),l.keystrokes.set("Esc",(u,C)=>{this._closeFormView(),C()}),l}_createToolbarLinkButton(){const e=this.editor,i=e.commands.get("link");e.ui.componentFactory.add("link",()=>{const r=this._createButton(pn);return r.set({tooltip:!0,isToggleable:!0}),r.bind("isOn").to(i,"value",l=>!!l),r}),e.ui.componentFactory.add("menuBar:link",()=>this._createButton(Qo))}_createButton(e){const i=this.editor,r=i.locale,l=i.commands.get("link"),u=new e(i.locale),C=r.t;return u.set({label:C("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:zC}),u.bind("isEnabled").to(l,"isEnabled"),this.listenTo(u,"execute",()=>this._showUI(!0)),u}_enableBalloonActivators(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(zC,(r,l)=>{l(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,i)=>{this._isUIVisible&&(this._hideUI(),i())}),jm({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,i=e.editing.view.document;let r=this._getSelectedLinkElement(),l=C();const u=()=>{const f=this._getSelectedLinkElement(),w=C();r&&!f||!r&&w!==l?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),r=f,l=w};function C(){return i.selection.focus.getAncestors().reverse().find(f=>f.is("element"))}this.listenTo(e.ui,"update",u),this.listenTo(this._balloon,"change:visibleView",u)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,i=this.editor.model,r=e.document;let l;if(i.markers.has(Bs)){const u=Array.from(this.editor.editing.mapper.markerNameToElements(Bs)),C=e.createRange(e.createPositionBefore(u[0]),e.createPositionAfter(u[u.length-1]));l=e.domConverter.viewRangeToDom(C)}else l=()=>{const u=this._getSelectedLinkElement();return u?e.domConverter.mapViewToDom(u):e.domConverter.viewRangeToDom(r.selection.getFirstRange())};return{target:l}}_getSelectedLinkElement(){const e=this.editor.editing.view,i=e.document.selection,r=i.getSelectedElement();if(i.isCollapsed||r&&ki(r))return iy(i.getFirstPosition());{const l=i.getFirstRange().getTrimmed(),u=iy(l.start),C=iy(l.end);return u&&u==C&&e.createRangeIn(u).getTrimmed().isEqual(l)?u:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(i=>{const r=e.document.selection.getFirstRange();if(e.markers.has(Bs))i.updateMarker(Bs,{range:r});else if(r.start.isAtEnd){const l=r.start.getLastMatchingPosition(({item:u})=>!e.schema.isContent(u),{boundaries:r});i.addMarker(Bs,{usingOperation:!1,affectsData:!1,range:i.createRange(l,r.end)})}else i.addMarker(Bs,{usingOperation:!1,affectsData:!1,range:r})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Bs)&&e.change(i=>{i.removeMarker(Bs)})}}function iy(a){return a.getAncestors().find(e=>{return(i=e).is("attributeElement")&&!!i.getCustomProperty("link");var i})||null}const C_=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class h7 extends qe{static get requires(){return[oa,u_]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,i){return i.textNode&&i.textNode.hasAttribute("linkHref")?VC(i,"linkHref",i.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,i){const r=this.editor.model,l=r.document.selection,u=l.getFirstPosition(),C=l.getLastPosition();let f=i.getJoined(this._expandLinkRange(r,u)||i);f&&(f=f.getJoined(this._expandLinkRange(r,C)||i)),f&&(f.start.isBefore(u)||f.end.isAfter(C))&&e.setSelection(f)}_enablePasteLinking(){const e=this.editor,i=e.model,r=i.document.selection,l=e.plugins.get("ClipboardPipeline"),u=e.commands.get("link");l.on("inputTransformation",(C,f)=>{if(!this.isEnabled||!u.isEnabled||r.isCollapsed||f.method!=="paste"||r.rangeCount>1)return;const w=r.getFirstRange(),S=f.dataTransfer.getData("text/plain");if(!S)return;const R=S.match(C_);R&&R[2]===S&&(i.change(X=>{this._selectEntireLinks(X,w),u.execute(S)}),C.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,i=new XR(e.model,r=>{if(!function(u){return u.length>4&&u[u.length-1]===" "&&u[u.length-2]!==" "}(r))return;const l=p_(r.substr(0,r.length-1));return l?{url:l}:void 0});i.on("matched:data",(r,l)=>{const{batch:u,range:C,url:f}=l;if(!u.isTyping)return;const w=C.end.getShiftedBy(-1),S=w.getShiftedBy(-f.length),R=e.model.createRange(S,w);this._applyAutoLink(f,R)}),i.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,i=e.model,r=e.commands.get("enter");r&&r.on("execute",()=>{const l=i.document.selection.getFirstPosition();if(!l.parent.previousSibling)return;const u=i.createRangeIn(l.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(u)})}_enableShiftEnterHandling(){const e=this.editor,i=e.model,r=e.commands.get("shiftEnter");r&&r.on("execute",()=>{const l=i.document.selection.getFirstPosition(),u=i.createRange(i.createPositionAt(l.parent,0),l.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(u)})}_checkAndApplyAutoLinkOnRange(e){const i=this.editor.model,{text:r,range:l}=ER(e,i),u=p_(r);if(u){const C=i.createRange(l.end.getShiftedBy(-u.length),l.end);this._applyAutoLink(u,C)}}_applyAutoLink(e,i){const r=this.editor.model,l=ny(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(u,C){return C.schema.checkAttributeInSelection(C.createSelection(u),"linkHref")}(i,r)&&r_(l)&&!function(u){const C=u.start.nodeAfter;return!!C&&C.hasAttribute("linkHref")}(i)&&this._persistAutoLink(l,i)}_persistAutoLink(e,i){const r=this.editor.model,l=this.editor.plugins.get("Delete");r.enqueueChange(u=>{u.setAttribute("linkHref",e,i),r.enqueueChange(()=>{l.requestUndoOnBackspace()})})}}function p_(a){const e=C_.exec(a);return e?e[2]:null}var I_=d(4808),m7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(I_.A,m7),I_.A.locals;class kr{constructor(e,i){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=i.direction=="forward",this._includeSelf=!!i.includeSelf,this._sameAttributes=Tn(i.sameAttributes||[]),this._sameIndent=!!i.sameIndent,this._lowerIndent=!!i.lowerIndent,this._higherIndent=!!i.higherIndent}static first(e,i){return zi(new this(e,i)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:i}of Gu(this._getStartNode(),this._isForward?"forward":"backward")){const r=i.getAttribute("listIndent");if(r<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=r}else if(r>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(i);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(l=>i.getAttribute(l)!==this._startElement.getAttribute(l)))break}e.length&&(yield*e,e.length=0),yield i}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*Gu(a,e="forward"){const i=e=="forward",r=[];let l=null;for(;Di(a);){let u=null;if(l){const C=a.getAttribute("listIndent"),f=l.getAttribute("listIndent");C>f?r[f]=l:C<f?(u=r[C],r.length=C):u=l}yield{node:a,previous:l,previousNodeInList:u},l=a,a=i?a.nextSibling:a.previousSibling}}class C7{constructor(e){this._listHead=e}[Symbol.iterator](){return Gu(this._listHead,"forward")}}var p7=Object.defineProperty,I7=Object.defineProperties,f7=Object.getOwnPropertyDescriptors,f_=Object.getOwnPropertySymbols,b7=Object.prototype.hasOwnProperty,A7=Object.prototype.propertyIsEnumerable,b_=(a,e,i)=>e in a?p7(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,Ru=(a,e)=>{for(var i in e||(e={}))b7.call(e,i)&&b_(a,i,e[i]);if(f_)for(var i of f_(e))A7.call(e,i)&&b_(a,i,e[i]);return a},oy=(a,e)=>I7(a,f7(e));class Ig{static next(){return j()}}function Di(a){return!!a&&a.is("element")&&a.hasAttribute("listItemId")}function ry(a,e={}){return[...ja(a,oy(Ru({},e),{direction:"backward"})),...ja(a,oy(Ru({},e),{direction:"forward"}))]}function ja(a,e={}){const i=e.direction=="forward",r=Array.from(new kr(a,oy(Ru({},e),{includeSelf:i,sameIndent:!0,sameAttributes:"listItemId"})));return i?r:r.reverse()}function A_(a,e){const i=new kr(a,Ru({sameIndent:!0,sameAttributes:"listType"},e)),r=new kr(a,Ru({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},e));return[...Array.from(i).reverse(),...r]}function ql(a){return!kr.first(a,{sameIndent:!0,sameAttributes:"listItemId"})}function y_(a){return!kr.first(a,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function Vu(a,e={}){a=Tn(a);const i=e.withNested!==!1,r=new Set;for(const l of a)for(const u of ry(l,{higherIndent:i}))r.add(u);return $l(r)}function y7(a){a=Tn(a);const e=new Set;for(const i of a)for(const r of A_(i))e.add(r);return $l(e)}function sy(a,e){const i=ja(a,{direction:"forward"}),r=Ig.next();for(const l of i)e.setAttribute("listItemId",r,l);return i}function ay(a,e,i){const r={};for(const[u,C]of e.getAttributes())u.startsWith("list")&&(r[u]=C);const l=ja(a,{direction:"forward"});for(const u of l)i.setAttributes(r,u);return l}function ly(a,e,{expand:i,indentBy:r=1}={}){a=Tn(a);const l=i?Vu(a):a;for(const u of l){const C=u.getAttribute("listIndent")+r;C<0?KC(u,e):e.setAttribute("listIndent",C,u)}return l}function KC(a,e){a=Tn(a);for(const i of a)i.is("element","listItem")&&e.rename(i,"paragraph");for(const i of a)for(const r of i.getAttributeKeys())r.startsWith("list")&&e.removeAttribute(r,i);return a}function Wu(a){if(!a.length)return!1;const e=a[0].getAttribute("listItemId");return!!e&&!a.some(i=>i.getAttribute("listItemId")!=e)}function $l(a){return Array.from(a).filter(e=>e.root.rootName!=="$graveyard").sort((e,i)=>e.index-i.index)}function _u(a){const e=a.document.selection.getSelectedElement();return e&&a.schema.isObject(e)&&a.schema.isBlock(e)?e:null}function cy(a,e){return e.checkChild(a.parent,"listItem")&&e.checkChild(a,"$text")&&!e.isObject(a)}function k7(a){return a=="numbered"||a=="customNumbered"}function v7(a,e,i){return ja(e,{direction:"forward"}).pop().index>a.index?ay(a,e,i):[]}class k_ extends Ut{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,i=v_(e.document.selection);e.change(r=>{const l=[];Wu(i)&&!ql(i[0])?(this._direction=="forward"&&l.push(...ly(i,r)),l.push(...sy(i[0],r))):this._direction=="forward"?l.push(...ly(i,r,{expand:!0})):l.push(...function(u,C){const f=Vu(u=Tn(u)),w=new Set,S=Math.min(...f.map(X=>X.getAttribute("listIndent"))),R=new Map;for(const X of f)R.set(X,kr.first(X,{lowerIndent:!0}));for(const X of f){if(w.has(X))continue;w.add(X);const J=X.getAttribute("listIndent")-1;if(J<0)KC(X,C);else{if(X.getAttribute("listIndent")==S){const U=v7(X,R.get(X),C);for(const te of U)w.add(te);if(U.length)continue}C.setAttribute("listIndent",J,X)}}return $l(w)}(i,r));for(const u of l){if(!u.hasAttribute("listType"))continue;const C=kr.first(u,{sameIndent:!0});C&&r.setAttribute("listType",C.getAttribute("listType"),u)}this._fireAfterExecute(l)})}_fireAfterExecute(e){this.fire("afterExecute",$l(new Set(e)))}_checkEnabled(){let e=v_(this.editor.model.document.selection),i=e[0];if(!i)return!1;if(this._direction=="backward"||Wu(e)&&!ql(e[0]))return!0;e=Vu(e),i=e[0];const r=kr.first(i,{sameIndent:!0});return!!r&&r.getAttribute("listType")==i.getAttribute("listType")}}function v_(a){const e=Array.from(a.getSelectedBlocks()),i=e.findIndex(r=>!Di(r));return i!=-1&&(e.length=i),e}var w7=Object.defineProperty,x7=Object.defineProperties,S7=Object.getOwnPropertyDescriptors,w_=Object.getOwnPropertySymbols,B7=Object.prototype.hasOwnProperty,Z7=Object.prototype.propertyIsEnumerable,x_=(a,e,i)=>e in a?w7(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,gy=(a,e)=>{for(var i in e||(e={}))B7.call(e,i)&&x_(a,i,e[i]);if(w_)for(var i of w_(e))Z7.call(e,i)&&x_(a,i,e[i]);return a},dy=(a,e)=>x7(a,S7(e));class PC extends Ut{constructor(e,i,r={}){super(e),this.type=i,this._listWalkerOptions=r.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,r=i.document,l=_u(i),u=Array.from(r.selection.getSelectedBlocks()).filter(f=>i.schema.checkAttribute(f,"listType")||cy(f,i.schema)),C=e.forceValue!==void 0?!e.forceValue:this.value;i.change(f=>{if(C){const w=u[u.length-1],S=ja(w,{direction:"forward"}),R=[];S.length>1&&R.push(...sy(S[1],f)),R.push(...KC(u,f)),R.push(...function(X,J){const U=[];let te=Number.POSITIVE_INFINITY;for(const{node:ae}of Gu(X.nextSibling,"forward")){const he=ae.getAttribute("listIndent");if(he==0)break;he<te&&(te=he);const Ie=he-te;J.setAttribute("listIndent",Ie,ae),U.push(ae)}return U}(w,f)),this._fireAfterExecute(R)}else if((l||r.selection.isCollapsed)&&Di(u[0])){const w=A_(l||u[0],this._listWalkerOptions);for(const S of w)f.setAttributes(dy(gy({},e.additionalAttributes),{listType:this.type}),S);this._fireAfterExecute(w)}else{const w=[];for(const S of u)if(S.hasAttribute("listType"))for(const R of Vu(S,{withNested:!1}))R.getAttribute("listType")!=this.type&&(f.setAttributes(dy(gy({},e.additionalAttributes),{listType:this.type}),R),w.push(R));else!S.is("element","listItem")&&cy(S,i.schema)&&f.rename(S,"listItem"),f.setAttributes(dy(gy({},e.additionalAttributes),{listIndent:0,listItemId:Ig.next(),listType:this.type}),S),w.push(S);this._fireAfterExecute(w)}})}_fireAfterExecute(e){this.fire("afterExecute",$l(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,i=Array.from(e.getSelectedBlocks());if(!i.length)return!1;for(const r of i)if(r.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,i=e.schema,r=e.document.selection,l=Array.from(r.getSelectedBlocks());if(!l.length)return!1;if(this.value)return!0;for(const u of l)if(i.checkAttribute(u,"listType")||cy(u,i))return!0;return!1}}class S_ extends Ut{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const i=this.editor.model,r=i.document.selection,l=[];i.change(u=>{const{firstElement:C,lastElement:f}=this._getMergeSubjectElements(r,e),w=C.getAttribute("listIndent")||0,S=f.getAttribute("listIndent"),R=f.getAttribute("listItemId");if(w!=S){const J=(X=f,Array.from(new kr(X,{direction:"forward",higherIndent:!0})));l.push(...ly([f,...J],u,{indentBy:w-S,expand:w<S}))}var X;if(e){let J=r;r.isCollapsed&&(J=u.createSelection(u.createRange(u.createPositionAt(C,"end"),u.createPositionAt(f,0)))),i.deleteContent(J,{doNotResetEntireContent:r.isCollapsed});const U=J.getLastPosition().parent,te=U.nextSibling;l.push(U),te&&te!==f&&te.getAttribute("listItemId")==R&&l.push(...ay(te,U,u))}else l.push(...ay(f,C,u));this._fireAfterExecute(l)})}_fireAfterExecute(e){this.fire("afterExecute",$l(new Set(e)))}_checkEnabled(){const e=this.editor.model,i=e.document.selection,r=_u(e);if(i.isCollapsed||r){const l=r||i.getFirstPosition().parent;if(!Di(l))return!1;const u=this._direction=="backward"?l.previousSibling:l.nextSibling;if(!u||Wu([l,u]))return!1}else{const l=i.getLastPosition(),u=i.getFirstPosition();if(l.parent===u.parent||!Di(l.parent))return!1}return!0}_getMergeSubjectElements(e,i){const r=_u(this.editor.model);let l,u;if(e.isCollapsed||r){const C=r||e.getFirstPosition().parent,f=ql(C);this._direction=="backward"?(u=C,l=f&&!i?kr.first(C,{sameIndent:!0,lowerIndent:!0}):C.previousSibling):(l=C,u=C.nextSibling)}else l=e.getFirstPosition().parent,u=e.getLastPosition().parent;return{firstElement:l,lastElement:u}}}class B_ extends Ut{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const i=sy(this._getStartBlock(),e);this._fireAfterExecute(i)})}_fireAfterExecute(e){this.fire("afterExecute",$l(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,i=this._getStartBlock();return e.isCollapsed&&Di(i)&&!ql(i)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?e:e.nextSibling}}class G7 extends qe{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return y7(e)}isFirstBlockOfListItem(e){return ql(e)}isListItemBlock(e){return Di(e)}expandListBlocksToCompleteItems(e,i={}){return Vu(e,i)}isNumberedListType(e){return k7(e)}}function Z_(a){return a.is("element","ol")||a.is("element","ul")}function jC(a){return a.is("element","li")}function R7(a,e,i,r=R_(i,e)){return a.createAttributeElement(G_(i),null,{priority:2*e/100-100,id:r})}function V7(a,e,i){return a.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:i})}function G_(a){return a=="numbered"||a=="customNumbered"?"ol":"ul"}function R_(a,e){return`list-${a}-${e}`}function es(a,e){const i=a.nodeBefore;if(Di(i)){let r=i;for(const{node:l}of Gu(r,"backward"))if(r=l,e.has(r))return;e.set(i,r)}else{const r=a.nodeAfter;Di(r)&&e.set(r,r)}}function W7(){return(a,e,i)=>{const{writer:r,schema:l}=i;if(!e.modelRange)return;const u=Array.from(e.modelRange.getItems({shallow:!0})).filter(X=>l.checkAttribute(X,"listItemId"));if(!u.length)return;const C=Ig.next(),f=function(X){let J=0,U=X.parent;for(;U;){if(jC(U))J++;else{const te=U.previousSibling;te&&jC(te)&&J++}U=U.parent}return J}(e.viewItem);let w=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const S=u[0].getAttribute("listType");S&&(w=S);const R={listItemId:C,listIndent:f,listType:w};for(const X of u)X.hasAttribute("listItemId")||r.setAttributes(R,X);u.length>1&&u[1].getAttribute("listItemId")!=R.listItemId&&i.keepEmptyElement(u[0])}}function V_(){return(a,e,i)=>{if(!i.consumable.test(e.viewItem,{name:!0}))return;const r=new ea(e.viewItem.document);for(const l of Array.from(e.viewItem.getChildren()))jC(l)||Z_(l)||r.remove(l)}}function W_(a,e,i,{dataPipeline:r}={}){const l=function(u){return(C,f)=>{const w=[];for(const S of u)C.hasAttribute(S)&&w.push(`attribute:${S}`);return!!w.every(S=>f.test(C,S)!==!1)&&(w.forEach(S=>f.consume(C,S)),!0)}}(a);return(u,C,f)=>{const{writer:w,mapper:S,consumable:R}=f,X=C.item;if(!a.includes(C.attributeKey)||!l(X,R))return;const J=function(te,ae,he){const Ie=he.createRangeOn(te);return ae.toViewRange(Ie).getTrimmed().end.nodeBefore}(X,S,i);N_(J,w,S),function(te,ae){let he=te.parent;for(;he.is("attributeElement")&&["ul","ol","li"].includes(he.name);){const Ie=he.parent;ae.unwrap(ae.createRangeOn(te),he),he=Ie}}(J,w);const U=function(te,ae,he,Ie,{dataPipeline:we}){let We=Ie.createRangeOn(ae);if(!ql(te))return We;for(const ze of he){if(ze.scope!="itemMarker")continue;const ut=ze.createElement(Ie,te,{dataPipeline:we});if(!ut||(Ie.setCustomProperty("listItemMarker",!0,ut),ze.canInjectMarkerIntoElement&&ze.canInjectMarkerIntoElement(te)?Ie.insert(Ie.createPositionAt(ae,0),ut):(Ie.insert(We.start,ut),We=Ie.createRange(Ie.createPositionBefore(ut),Ie.createPositionAfter(ae))),!ze.createWrapperElement||!ze.canWrapElement))continue;const Nt=ze.createWrapperElement(Ie,te,{dataPipeline:we});Ie.setCustomProperty("listItemWrapper",!0,Nt),ze.canWrapElement(te)?We=Ie.wrap(We,Nt):(We=Ie.wrap(Ie.createRangeOn(ut),Nt),We=Ie.createRange(We.start,Ie.createPositionAfter(ae)))}return We}(X,J,e,w,{dataPipeline:r});(function(te,ae,he,Ie){if(!te.hasAttribute("listIndent"))return;const we=te.getAttribute("listIndent");let We=te;for(let ze=we;ze>=0;ze--){const ut=V7(Ie,ze,We.getAttribute("listItemId")),Nt=R7(Ie,ze,We.getAttribute("listType"));for(const zt of he)zt.scope!="list"&&zt.scope!="item"||!We.hasAttribute(zt.attributeName)||zt.setAttributeOnDowncast(Ie,We.getAttribute(zt.attributeName),zt.scope=="list"?Nt:ut);if(ae=Ie.wrap(ae,ut),ae=Ie.wrap(ae,Nt),ze==0||(We=kr.first(We,{lowerIndent:!0}),!We))break}})(X,U,e,w)}}function __(a,{dataPipeline:e}={}){return(i,{writer:r})=>{if(!E_(i,a))return null;if(!e)return r.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const l=r.createContainerElement("p");return r.setCustomProperty("dataPipeline:transparentRendering",!0,l),l}}function N_(a,e,i){for(;a.parent.is("attributeElement")&&a.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(a),a.parent);const r=[];l(e.createPositionBefore(a).getWalker({direction:"backward"})),l(e.createRangeIn(a).getWalker());for(const u of r)e.remove(u);function l(u){for(const{item:C}of u){if(C.is("element")&&i.toModelElement(C))break;C.is("element")&&C.getCustomProperty("listItemMarker")&&r.push(C)}}}function E_(a,e,i=ry(a)){if(!Di(a))return!1;for(const r of a.getAttributeKeys())if(!r.startsWith("selection:")&&!e.includes(r))return!1;return i.length<2}var X_=d(1232),_7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(X_.A,_7),X_.A.locals;var Y_=d(6903),N7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(Y_.A,N7),Y_.A.locals;const OC=["listType","listIndent","listItemId"];class E7 extends qe{constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[WC,oa,G7,Ar]}init(){const e=this.editor,i=e.model,r=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new K("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});i.schema.register("$listItem",{allowAttributes:OC}),r?(i.schema.extend("$container",{allowAttributesOf:"$listItem"}),i.schema.extend("$block",{allowAttributesOf:"$listItem"}),i.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):i.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const l of OC)i.schema.setAttributeProperties(l,{copyOnReplace:!0});e.commands.add("numberedList",new PC(e,"numbered")),e.commands.add("bulletedList",new PC(e,"bulleted")),e.commands.add("customNumberedList",new PC(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new PC(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new k_(e,"forward")),e.commands.add("outdentList",new k_(e,"backward")),e.commands.add("splitListItemBefore",new B_(e,"before")),e.commands.add("splitListItemAfter",new B_(e,"after")),r&&(e.commands.add("mergeListItemBackward",new S_(e,"backward")),e.commands.add("mergeListItemForward",new S_(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,i=e.get("indent"),r=e.get("outdent");i&&i.registerChildCommand(e.get("indentList"),{priority:"high"}),r&&r.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...OC,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,i=e.commands.get("mergeListItemBackward"),r=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(l,u)=>{const C=e.model.document.selection;_u(e.model)||e.model.change(()=>{const f=C.getFirstPosition();if(C.isCollapsed&&u.direction=="backward"){if(!f.isAtStart)return;const w=f.parent;if(!Di(w))return;if(kr.first(w,{sameAttributes:"listType",sameIndent:!0})||w.getAttribute("listIndent")!==0){if(!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:D_(e.model,"backward")})}else y_(w)||e.execute("splitListItemAfter"),e.execute("outdentList");u.preventDefault(),l.stop()}else{if(C.isCollapsed&&!C.getLastPosition().isAtEnd||!r||!r.isEnabled)return;r.execute({shouldMergeOnBlocksContentLevel:D_(e.model,"forward")}),u.preventDefault(),l.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,i=e.model,r=e.commands,l=r.get("enter");this.listenTo(e.editing.view.document,"enter",(u,C)=>{const f=i.document,w=f.selection.getFirstPosition().parent;if(f.selection.isCollapsed&&Di(w)&&w.isEmpty&&!C.isSoft){const S=ql(w),R=y_(w);S&&R?(e.execute("outdentList"),C.preventDefault(),u.stop()):S&&!R?(e.execute("splitListItemAfter"),C.preventDefault(),u.stop()):R&&(e.execute("splitListItemBefore"),C.preventDefault(),u.stop())}},{context:"li"}),this.listenTo(l,"afterExecute",()=>{const u=r.get("splitListItemBefore");u.refresh(),u.isEnabled&&ry(e.model.document.selection.getLastPosition().parent).length===2&&u.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(i,r)=>{const l=r.shiftKey?"outdentList":"indentList";this.editor.commands.get(l).isEnabled&&(e.execute(l),r.stopPropagation(),r.preventDefault(),i.stop())},{context:"li"})}_setupConversion(){const e=this.editor,i=e.model,r=this.getListAttributeNames(),l=e.config.get("list.multiBlock"),u=l?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(S,{writer:R})=>R.createElement(u,{listType:""})}).elementToElement({view:"p",model:(S,{writer:R})=>S.parent&&S.parent.is("element","li")?R.createElement(u,{listType:""}):null,converterPriority:"high"}).add(S=>{S.on("element:li",W7()),S.on("element:ul",V_(),{priority:"high"}),S.on("element:ol",V_(),{priority:"high"})}),l||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:u,view:__(r),converterPriority:"high"}).add(S=>{var R;S.on("attribute",W_(r,this._downcastStrategies,i)),S.on("remove",(R=i.schema,(X,J,U)=>{const{writer:te,mapper:ae}=U,he=X.name.split(":")[1];if(!R.checkAttribute(he,"listItemId"))return;const Ie=ae.toViewPosition(J.position),we=J.position.getShiftedBy(J.length),We=ae.toViewPosition(we,{isPhantom:!0}),ze=te.createRange(Ie,We).getTrimmed().end.nodeBefore;ze&&N_(ze,te,ae)}))}),e.conversion.for("dataDowncast").elementToElement({model:u,view:__(r,{dataPipeline:!0}),converterPriority:"high"}).add(S=>{S.on("attribute",W_(r,this._downcastStrategies,i,{dataPipeline:!0}))});const C=(f=this._downcastStrategies,w=e.editing.view,(S,R)=>{if(R.modelPosition.offset>0)return;const X=R.modelPosition.parent;if(!Di(X)||!f.some(he=>he.scope=="itemMarker"&&he.canInjectMarkerIntoElement&&he.canInjectMarkerIntoElement(X)))return;const J=R.mapper.toViewElement(X),U=w.createRangeIn(J),te=U.getWalker();let ae=U.start;for(const{item:he}of te){if(he.is("element")&&R.mapper.toModelElement(he)||he.is("$textProxy"))break;he.is("element")&&he.getCustomProperty("listItemMarker")&&(ae=w.createPositionAfter(he),te.skip(({previousPosition:Ie})=>!Ie.isEqual(ae)))}R.viewPosition=ae});var f,w;e.editing.mapper.on("modelToViewPosition",C),e.data.mapper.on("modelToViewPosition",C),this.listenTo(i.document,"change:data",function(S,R,X,J){return()=>{const he=S.document.differ.getChanges(),Ie=[],we=new Map,We=new Set;for(const ze of he)if(ze.type=="insert"&&ze.name!="$text")es(ze.position,we),ze.attributes.has("listItemId")?We.add(ze.position.nodeAfter):es(ze.position.getShiftedBy(ze.length),we);else if(ze.type=="remove"&&ze.attributes.has("listItemId"))es(ze.position,we);else if(ze.type=="attribute"){const ut=ze.range.start.nodeAfter;X.includes(ze.attributeKey)?(es(ze.range.start,we),ze.attributeNewValue===null?(es(ze.range.start.getShiftedBy(1),we),te(ut)&&Ie.push(ut)):We.add(ut)):Di(ut)&&te(ut)&&Ie.push(ut)}for(const ze of we.values())Ie.push(...U(ze,We));for(const ze of new Set(Ie))R.reconvertItem(ze)};function U(he,Ie){const we=[],We=new Set,ze=[];for(const{node:ut,previous:Nt}of Gu(he,"forward")){if(We.has(ut))continue;const zt=ut.getAttribute("listIndent");Nt&&zt<Nt.getAttribute("listIndent")&&(ze.length=zt+1),ze[zt]=Object.fromEntries(Array.from(ut.getAttributes()).filter(([Hi])=>X.includes(Hi)));const Jn=ja(ut,{direction:"forward"});for(const Hi of Jn)We.add(Hi),(te(Hi,Jn)||ae(Hi,ze,Ie))&&we.push(Hi)}return we}function te(he,Ie){const we=R.mapper.toViewElement(he);if(!we)return!1;if(J.fire("checkElement",{modelElement:he,viewElement:we}))return!0;if(!he.is("element","paragraph")&&!he.is("element","listItem"))return!1;const We=E_(he,X,Ie);return!(!We||!we.is("element","p"))||!(We||!we.is("element","span"))}function ae(he,Ie,we){if(we.has(he))return!1;const We=R.mapper.toViewElement(he);let ze=Ie.length-1;for(let ut=We.parent;!ut.is("editableElement");ut=ut.parent){const Nt=jC(ut),zt=Z_(ut);if(!zt&&!Nt)continue;const Jn="checkAttributes:"+(Nt?"item":"list");if(J.fire(Jn,{viewElement:ut,modelAttributes:Ie[ze]}))break;if(zt&&(ze--,ze<0))return!1}return!0}}(i,e.editing,r,this),{priority:"high"}),this.on("checkAttributes:item",(S,{viewElement:R,modelAttributes:X})=>{R.id!=X.listItemId&&(S.return=!0,S.stop())}),this.on("checkAttributes:list",(S,{viewElement:R,modelAttributes:X})=>{R.name==G_(X.listType)&&R.id==R_(X.listType,X.listIndent)||(S.return=!0,S.stop())})}_setupModelPostFixing(){const e=this.editor.model,i=this.getListAttributeNames();e.document.registerPostFixer(r=>function(l,u,C,f){const w=l.document.differ.getChanges(),S=new Map,R=f.editor.config.get("list.multiBlock");let X=!1;for(const U of w){if(U.type=="insert"&&U.name!="$text"){const te=U.position.nodeAfter;if(!l.schema.checkAttribute(te,"listItemId"))for(const ae of Array.from(te.getAttributeKeys()))C.includes(ae)&&(u.removeAttribute(ae,te),X=!0);es(U.position,S),U.attributes.has("listItemId")||es(U.position.getShiftedBy(U.length),S);for(const{item:ae,previousPosition:he}of l.createRangeIn(te))Di(ae)&&es(he,S)}else U.type=="remove"?es(U.position,S):U.type=="attribute"&&C.includes(U.attributeKey)&&(es(U.range.start,S),U.attributeNewValue===null&&es(U.range.start.getShiftedBy(1),S));if(!R&&U.type=="attribute"&&OC.includes(U.attributeKey)){const te=U.range.start.nodeAfter;U.attributeNewValue===null&&te&&te.is("element","listItem")?(u.rename(te,"paragraph"),X=!0):U.attributeOldValue===null&&te&&te.is("element")&&te.name!="listItem"&&(u.rename(te,"listItem"),X=!0)}}const J=new Set;for(const U of S.values())X=f.fire("postFixer",{listNodes:new C7(U),listHead:U,writer:u,seenIds:J})||X;return X}(e,r,i,this)),this.on("postFixer",(r,{listNodes:l,writer:u})=>{r.return=function(C,f){let w=0,S=-1,R=null,X=!1;for(const{node:J}of C){const U=J.getAttribute("listIndent");if(U>w){let te;R===null?(R=U-w,te=w):(R>U&&(R=U),te=U-R),te>S+1&&(te=S+1),f.setAttribute("listIndent",te,J),X=!0,S=te}else R=null,w=U+1,S=U}return X}(l,u)||r.return},{priority:"high"}),this.on("postFixer",(r,{listNodes:l,writer:u,seenIds:C})=>{r.return=function(f,w,S){const R=new Set;let X=!1;for(const{node:J}of f){if(R.has(J))continue;let U=J.getAttribute("listType"),te=J.getAttribute("listItemId");if(w.has(te)&&(te=Ig.next()),w.add(te),J.is("element","listItem"))J.getAttribute("listItemId")!=te&&(S.setAttribute("listItemId",te,J),X=!0);else for(const ae of ja(J,{direction:"forward"}))R.add(ae),ae.getAttribute("listType")!=U&&(te=Ig.next(),U=ae.getAttribute("listType")),ae.getAttribute("listItemId")!=te&&(S.setAttribute("listItemId",te,ae),X=!0)}return X}(l,C,u)||r.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,i=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(r){return(l,[u,C])=>{const f=u.is("documentFragment")?Array.from(u.getChildren()):[u];if(!f.length)return;const w=(C?r.createSelection(C):r.document.selection).getFirstPosition();let S;if(Di(w.parent))S=w.parent;else{if(!Di(w.nodeBefore))return;S=w.nodeBefore}r.change(R=>{const X=S.getAttribute("listType"),J=S.getAttribute("listIndent"),U=f[0].getAttribute("listIndent")||0,te=Math.max(J-U,0);for(const ae of f){const he=Di(ae);S.is("element","listItem")&&ae.is("element","paragraph")&&R.rename(ae,"listItem"),R.setAttributes({listIndent:(he?ae.getAttribute("listIndent"):0)+te,listItemId:he?ae.getAttribute("listItemId"):Ig.next(),listType:X},ae)}})}}(e),{priority:"high"}),this.listenTo(i,"outputTransformation",(r,l)=>{e.change(u=>{const C=Array.from(l.content.getChildren()),f=C[C.length-1];if(C.length>1&&f.is("element")&&f.isEmpty&&C.slice(0,-1).every(Di)&&u.remove(f),l.method=="copy"||l.method=="cut"){const w=Array.from(l.content.getChildren());Wu(w)&&KC(w,u)}})})}_setupAccessibilityIntegration(){const e=this.editor,i=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:i("Keystrokes that can be used in a list"),keystrokes:[{label:i("Increase list item indent"),keystroke:"Tab"},{label:i("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function D_(a,e){const i=a.document.selection;if(!i.isCollapsed)return!_u(a);if(e==="forward")return!0;const r=i.getFirstPosition().parent,l=r.previousSibling;return!a.schema.isObject(l)&&(!!l.isEmpty||Wu([r,l]))}function H_(a,e,i,r){a.ui.componentFactory.add(e,()=>{const l=F_(pn,a,e,i,r);return l.set({tooltip:!0,isToggleable:!0}),l}),a.ui.componentFactory.add(`menuBar:${e}`,()=>F_(Qo,a,e,i,r))}function F_(a,e,i,r,l){const u=e.commands.get(i),C=new a(e.locale);return C.set({label:r,icon:l}),C.bind("isOn","isEnabled").to(u,"value","isEnabled"),C.on("execute",()=>{e.execute(i),e.editing.view.focus()}),C}class X7 extends qe{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||H_(this.editor,"numberedList",e("Numbered List"),Tt.numberedList),this.editor.ui.componentFactory.has("bulletedList")||H_(this.editor,"bulletedList",e("Bulleted List"),Tt.bulletedList)}}class Y7 extends qe{static get requires(){return[E7,X7]}static get pluginName(){return"List"}}const D7=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:a,typeAttribute:e,listType:i}of D7);var M_=d(9968),H7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(M_.A,H7),M_.A.locals;var T_=d(7141),F7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(T_.A,F7),T_.A.locals,nu("Ctrl+Enter");var J_=d(8991),M7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(J_.A,M7),J_.A.locals,nu("Ctrl+Enter");function L_(a,e){const i=(r,l,u)=>{if(!u.consumable.consume(l.item,r.name))return;const C=l.attributeNewValue,f=u.writer,w=u.mapper.toViewElement(l.item),S=[...w.getChildren()].find(X=>X.getCustomProperty("media-content"));f.remove(S);const R=a.getMediaViewElement(f,C,e);f.insert(f.createPositionAt(w,0),R)};return r=>{r.on("attribute:url:media",i)}}function z_(a,e,i,r){return a.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(a,i,r),a.createSlot()])}function K_(a){const e=a.getSelectedElement();return e&&e.is("element","media")?e:null}function P_(a,e,i,r){a.change(l=>{const u=l.createElement("media",{url:e});a.insertObject(u,i,null,{setSelection:"on",findOptimalPosition:r?"auto":void 0})})}class T7 extends Ut{refresh(){const e=this.editor.model,i=e.document.selection,r=K_(i);this.value=r?r.getAttribute("url"):void 0,this.isEnabled=function(l){const u=l.getSelectedElement();return!!u&&u.name==="media"}(i)||function(l,u){let f=OR(l,u).start.parent;return f.isEmpty&&!u.schema.isLimit(f)&&(f=f.parent),u.schema.checkChild(f,"media")}(i,e)}execute(e){const i=this.editor.model,r=i.document.selection,l=K_(r);l?i.change(u=>{u.setAttribute("url",e,l)}):P_(i,e,r,!0)}}class J7{constructor(e,i){const r=i.providers,l=i.extraProviders||[],u=new Set(i.removeProviders),C=r.concat(l).filter(f=>{const w=f.name;return w?!u.has(w):(de("media-embed-no-provider-name",{provider:f}),!1)});this.locale=e,this.providerDefinitions=C}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,i,r){return this._getMedia(i).getViewElement(e,r)}_getMedia(e){if(!e)return new j_(this.locale);e=e.trim();for(const i of this.providerDefinitions){const r=i.html,l=Tn(i.url);for(const u of l){const C=this._getUrlMatches(e,u);if(C)return new j_(this.locale,e,C,r)}}return null}_getUrlMatches(e,i){let r=e.match(i);if(r)return r;let l=e.replace(/^https?:\/\//,"");return r=l.match(i),r||(l=l.replace(/^www\./,""),r=l.match(i),r||null)}}class j_{constructor(e,i,r,l){this.url=this._getValidUrl(i),this._locale=e,this._match=r,this._previewRenderer=l}getViewElement(e,i){const r={};let l;if(i.renderForEditingView||i.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(r["data-oembed-url"]=this.url),i.renderForEditingView&&(r.class="ck-media__wrapper");const u=this._getPreviewHtml(i);l=e.createRawElement("div",r,(C,f)=>{f.setContentOf(C,u)})}else this.url&&(r.url=this.url),l=e.createEmptyElement(i.elementName,r);return e.setCustomProperty("media-content",!0,l),l}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new ta,i=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new Pr({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":i("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var O_=d(7048),L7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(O_.A,L7),O_.A.locals;class UC extends qe{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const r=i[1],l=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${r}${l?`?start=${l}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new J7(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,i=e.model.schema,r=e.t,l=e.conversion,u=e.config.get("mediaEmbed.previewsInData"),C=e.config.get("mediaEmbed.elementName"),f=this.registry;e.commands.add("mediaEmbed",new T7(e)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),l.for("dataDowncast").elementToStructure({model:"media",view:(w,{writer:S})=>{const R=w.getAttribute("url");return z_(S,f,R,{elementName:C,renderMediaPreview:!!R&&u})}}),l.for("dataDowncast").add(L_(f,{elementName:C,renderMediaPreview:u})),l.for("editingDowncast").elementToStructure({model:"media",view:(w,{writer:S})=>{const R=w.getAttribute("url");return function(X,J,U){return J.setCustomProperty("media",!0,X),F0(X,J,{label:U})}(z_(S,f,R,{elementName:C,renderForEditingView:!0}),S,r("media widget"))}}),l.for("editingDowncast").add(L_(f,{elementName:C,renderForEditingView:!0})),l.for("upcast").elementToElement({view:w=>["oembed",C].includes(w.name)&&w.getAttribute("url")?{name:!0}:null,model:(w,{writer:S})=>{const R=w.getAttribute("url");return f.hasMedia(R)?S.createElement("media",{url:R}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(w,{writer:S})=>{const R=w.getAttribute("data-oembed-url");return f.hasMedia(R)?S.createElement("media",{url:R}):null}}).add(w=>{w.on("element:figure",(S,R,X)=>{if(!X.consumable.consume(R.viewItem,{name:!0,classes:"media"}))return;const{modelRange:J,modelCursor:U}=X.convertChildren(R.viewItem,R.modelCursor);R.modelRange=J,R.modelCursor=U,zi(J.getItems())||X.consumable.revert(R.viewItem,{name:!0,classes:"media"})})})}}const z7=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class K7 extends qe{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[mV,oa,bV]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,i=e.model.document,r=e.plugins.get("ClipboardPipeline");this.listenTo(r,"inputTransformation",()=>{const l=i.selection.getFirstRange(),u=eo.fromPosition(l.start);u.stickiness="toPrevious";const C=eo.fromPosition(l.end);C.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(u,C),u.detach(),C.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(v.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,i){const r=this.editor,l=r.plugins.get(UC).registry,u=new Oo(e,i),C=u.getWalker({ignoreElementEnd:!0});let f="";for(const w of C)w.item.is("$textProxy")&&(f+=w.item.data);if(f=f.trim(),!f.match(z7)||!l.hasMedia(f))return void u.detach();r.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=eo.fromPosition(e),this._timeoutId=v.window.setTimeout(()=>{r.model.change(w=>{this._timeoutId=null,w.remove(u),u.detach();let S=null;this._positionToInsert.root.rootName!=="$graveyard"&&(S=this._positionToInsert),P_(r.model,f,S,!1),this._positionToInsert.detach(),this._positionToInsert=null}),r.plugins.get(oa).requestUndoOnBackspace()},100)):u.detach()}}var U_=d(5651),P7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(U_.A,P7),U_.A.locals;class j7 extends Gt{constructor(e,i){super(i);const r=i.t;this.focusTracker=new Ki,this.keystrokes=new yo,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(r("Save"),Tt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),Tt.cancel,"ck-button-cancel","cancel"),this._focusables=new Ir,this._focusCycler=new br({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Om({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,i=new IC(this.locale,AC),r=i.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),i.label=e("Media URL"),i.infoText=this._urlInputViewInfoDefault,r.on("input",()=>{i.infoText=r.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=r.element.value.trim()}),i}_createButton(e,i,r,l){const u=new pn(this.locale);return u.set({label:e,icon:i,tooltip:!0}),u.extendTemplate({attributes:{class:r}}),l&&u.delegate("execute").to(this,l),u}}class O7 extends qe{static get requires(){return[UC]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,i=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",r=>{const l=na(r);return this._setUpDropdown(l,i),l})}_setUpDropdown(e,i){const r=this.editor,l=r.t,u=e.buttonView,C=r.plugins.get(UC).registry;e.once("change:isOpen",()=>{const f=new(DA(j7))(function(w,S){return[R=>{if(!R.url.length)return w("The URL must not be empty.")},R=>{if(!S.hasMedia(R.url))return w("This media URL is not supported.")}]}(r.t,C),r.locale);e.panelView.children.add(f),u.on("open",()=>{f.disableCssTransitions(),f.url=i.value||"",f.urlInputView.fieldView.select(),f.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{f.isValid()&&(r.execute("mediaEmbed",f.url),r.editing.view.focus())}),e.on("change:isOpen",()=>f.resetFormStatus()),e.on("cancel",()=>{r.editing.view.focus()}),f.delegate("submit","cancel").to(e),f.urlInputView.fieldView.bind("value").to(i,"value"),f.urlInputView.on("change:errorText",()=>{r.ui.update()}),f.urlInputView.bind("isEnabled").to(i,"isEnabled")}),e.bind("isEnabled").to(i),u.set({label:l("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var Q_=d(70),U7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(Q_.A,U7),Q_.A.locals;function q_(a){return a!==void 0&&a.endsWith("px")}function fg(a){return a.toFixed(2).replace(/\.?0+$/,"")+"px"}var Q7=Object.defineProperty,q7=Object.defineProperties,$7=Object.getOwnPropertyDescriptors,$_=Object.getOwnPropertySymbols,e8=Object.prototype.hasOwnProperty,t8=Object.prototype.propertyIsEnumerable,eN=(a,e,i)=>e in a?Q7(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,n8=(a,e)=>{for(var i in e||(e={}))e8.call(e,i)&&eN(a,i,e[i]);if($_)for(var i of $_(e))t8.call(e,i)&&eN(a,i,e[i]);return a};function i8(a,e,i){if(!a.childCount)return;const r=new ea(a.document),l=function(w,S){const R=S.createRangeIn(w),X=[],J=new Set;for(const U of R.getItems()){if(!U.is("element")||!U.name.match(/^(p|h\d+|li|div)$/))continue;let te=d8(U);if(te===void 0||parseFloat(te)!=0||Array.from(U.getClassNames()).find(ae=>ae.startsWith("MsoList"))||(te=void 0),U.hasStyle("mso-list")||te!==void 0&&J.has(te)){const ae=c8(U);X.push({element:U,id:ae.id,order:ae.order,indent:ae.indent,marginLeft:te}),te!==void 0&&J.add(te)}else J.clear()}return X}(a,r);if(!l.length)return;const u={},C=[];for(const w of l)if(w.indent!==void 0){o8(w)||(C.length=0);const S=`${w.id}:${w.indent}`,R=Math.min(w.indent-1,C.length);if(R<C.length&&C[R].id!==w.id&&(C.length=R),R<C.length-1)C.length=R+1;else{const J=s8(w,e);if(R>C.length-1||C[R].listElement.name!=J.type){R==0&&J.type=="ol"&&w.id!==void 0&&u[S]&&(J.startIndex=u[S]);const U=l8(J,r,i);if(q_(w.marginLeft)&&(R==0||q_(C[R-1].marginLeft))){let te=w.marginLeft;R>0&&(te=fg(parseFloat(te)-parseFloat(C[R-1].marginLeft))),r.setStyle("padding-left",te,U)}if(C.length==0){const te=w.element.parent,ae=te.getChildIndex(w.element)+1;r.insertChild(ae,U,te)}else{const te=C[R-1].listItemElements;r.appendChild(U,te[te.length-1])}C[R]=(f=n8({},w),q7(f,$7({listElement:U,listItemElements:[]}))),R==0&&w.id!==void 0&&(u[S]=J.startIndex||1)}}const X=w.element.name=="li"?w.element:r.createElement("li");r.appendChild(X,C[R].listElement),C[R].listItemElements.push(X),R==0&&w.id!==void 0&&u[S]++,w.element!=X&&r.appendChild(w.element,X),g8(w.element,r),r.removeStyle("text-indent",w.element),r.removeStyle("margin-left",w.element)}else{const S=C.find(R=>R.marginLeft==w.marginLeft);if(S){const R=S.listItemElements;r.appendChild(w.element,R[R.length-1]),r.removeStyle("margin-left",w.element)}else C.length=0}var f}function o8(a){const e=a.element.previousSibling;return r8(e||a.element.parent)}function r8(a){return a.is("element","ol")||a.is("element","ul")}function s8(a,e){const i=new RegExp(`@list l${a.id}:level${a.indent}\\s*({[^}]*)`,"gi"),r=/mso-level-number-format:([^;]{0,100});/gi,l=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,u=new RegExp(`@list\\s+l${a.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),C=new RegExp(`@list l${a.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),f=u.exec(e),w=C.exec(e),S=f&&!w,R=i.exec(e);let X="decimal",J="ol",U=null;if(R&&R[1]){const te=r.exec(R[1]);if(te&&te[1]&&(X=te[1].trim(),J=X!=="bullet"&&X!=="image"?"ol":"ul"),X==="bullet"){const ae=function(he){if(he.name=="li"&&he.parent.name=="ul"&&he.parent.hasAttribute("type"))return he.parent.getAttribute("type");const Ie=function(We){if(We.getChild(0).is("$text"))return null;for(const ze of We.getChildren()){if(!ze.is("element","span"))continue;const ut=ze.getChild(0);if(ut)return ut.is("$text")?ut:ut.getChild(0)}return null}(he);if(!Ie)return null;const we=Ie._data;return we==="o"?"circle":we===""?"disc":we===""?"square":null}(a.element);ae&&(X=ae)}else{const ae=l.exec(R[1]);ae&&ae[1]&&(U=parseInt(ae[1]))}S&&(J="ol")}return{type:J,startIndex:U,style:a8(X),isLegalStyleList:S}}function a8(a){if(a.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(a){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return a;default:return null}}function l8(a,e,i){const r=e.createElement(a.type);return a.style&&e.setStyle("list-style-type",a.style,r),a.startIndex&&a.startIndex>1&&e.setAttribute("start",a.startIndex,r),a.isLegalStyleList&&i&&e.addClass("legal-list",r),r}function c8(a){const e=a.getStyle("mso-list");if(e===void 0)return{};const i=e.match(/(^|\s{1,100})l(\d+)/i),r=e.match(/\s{0,100}lfo(\d+)/i),l=e.match(/\s{0,100}level(\d+)/i);return i&&r&&l?{id:i[2],order:r[1],indent:parseInt(l[1])}:{indent:1}}function g8(a,e){const i=new ws({name:"span",styles:{"mso-list":"Ignore"}}),r=e.createRangeIn(a);for(const l of r)l.type==="elementStart"&&i.match(l.item)&&e.remove(l.item)}function d8(a){const e=a.getStyle("margin-left");return e===void 0||e.endsWith("px")?e:function(i){const r=parseFloat(i);return i.endsWith("pt")?fg(96*r/72):i.endsWith("pc")?fg(12*r*96/72):i.endsWith("in")?fg(96*r):i.endsWith("cm")?fg(96*r/2.54):i.endsWith("mm")?fg(r/10*96/2.54):i}(e)}function u8(a,e){if(!a.childCount)return;const i=new ea(a.document),r=function(u,C){const f=C.createRangeIn(u),w=new ws({name:/v:(.+)/}),S=[];for(const R of f){if(R.type!="elementStart")continue;const X=R.item,J=X.previousSibling,U=J&&J.is("element")?J.name:null,te=["Chart"],ae=w.match(X),he=X.getAttribute("o:gfxdata"),Ie=U==="v:shapetype",we=he&&te.some(We=>X.getAttribute("id").includes(We));ae&&he&&!Ie&&!we&&S.push(R.item.getAttribute("id"))}return S}(a,i);(function(u,C,f){const w=f.createRangeIn(C),S=new ws({name:"img"}),R=[];for(const X of w)if(X.item.is("element")&&S.match(X.item)){const J=X.item,U=J.getAttribute("v:shapes")?J.getAttribute("v:shapes").split(" "):[];U.length&&U.every(te=>u.indexOf(te)>-1)?R.push(J):J.getAttribute("src")||R.push(J)}for(const X of R)f.remove(X)})(r,a,i),function(u,C,f){const w=f.createRangeIn(C),S=[];for(const J of w)if(J.type=="elementStart"&&J.item.is("element","v:shape")){const U=J.item.getAttribute("id");if(u.includes(U))continue;R(J.item.parent.getChildren(),U)||S.push(J.item)}for(const J of S){const U={src:X(J)};J.hasAttribute("alt")&&(U.alt=J.getAttribute("alt"));const te=f.createElement("img",U);f.insertChild(J.index+1,te,J.parent)}function R(J,U){for(const te of J)if(te.is("element")&&(te.name=="img"&&te.getAttribute("v:shapes")==U||R(te.getChildren(),U)))return!0;return!1}function X(J){for(const U of J.getChildren())if(U.is("element")&&U.getAttribute("src"))return U.getAttribute("src")}}(r,a,i),function(u,C){const f=C.createRangeIn(u),w=new ws({name:/v:(.+)/}),S=[];for(const R of f)R.type=="elementStart"&&w.match(R.item)&&S.push(R.item);for(const R of S)C.remove(R)}(a,i);const l=function(u,C){const f=C.createRangeIn(u),w=new ws({name:"img"}),S=[];for(const R of f)R.item.is("element")&&w.match(R.item)&&R.item.getAttribute("src").startsWith("file://")&&S.push(R.item);return S}(a,i);l.length&&function(u,C,f){if(u.length===C.length)for(let w=0;w<u.length;w++){const S=`data:${C[w].type};base64,${h8(C[w].hex)}`;f.setAttribute("src",S,u[w])}}(l,function(u){if(!u)return[];const C=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,f=new RegExp("(?:("+C.source+"))([\\da-fA-F\\s]+)\\}","g"),w=u.match(f),S=[];if(w)for(const R of w){let X=!1;R.includes("\\pngblip")?X="image/png":R.includes("\\jpegblip")&&(X="image/jpeg"),X&&S.push({hex:R.replace(C,"").replace(/[^\da-fA-F]/g,""),type:X})}return S}(e),i)}function h8(a){return btoa(a.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const m8=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,C8=/xmlns:o="urn:schemas-microsoft-com/i;class p8{constructor(e,i=!1){this.document=e,this.hasMultiLevelListPlugin=i}isActive(e){return m8.test(e)||C8.test(e)}execute(e){const{body:i,stylesString:r}=e._parsedData;i8(i,r,this.hasMultiLevelListPlugin),u8(i,e.dataTransfer.getData("text/rtf")),function(l){const u=[],C=new ea(l.document);for(const{item:f}of C.createRangeIn(l))if(f.is("element")){for(const w of f.getClassNames())/\bmso/gi.exec(w)&&C.removeClass(w,f);for(const w of f.getStyleNames())/\bmso/gi.exec(w)&&C.removeStyle(w,f);(f.is("element","w:sdt")||f.is("element","w:sdtpr")&&f.isEmpty||f.is("element","o:p")&&f.isEmpty)&&u.push(f)}for(const f of u){const w=f.parent,S=w.getChildIndex(f);C.insertChild(S,f.getChildren(),w),C.remove(f)}}(i),e.content=i}}function tN(a,e,i,{blockElements:r,inlineObjectElements:l}){let u=i.createPositionAt(a,e=="forward"?"after":"before");return u=u.getLastMatchingPosition(({item:C})=>C.is("element")&&!r.includes(C.name)&&!l.includes(C.name),{direction:e}),e=="forward"?u.nodeAfter:u.nodeBefore}function nN(a,e){return!!a&&a.is("element")&&e.includes(a.name)}const I8=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class f8{constructor(e){this.document=e}isActive(e){return I8.test(e)}execute(e){const i=new ea(this.document),{body:r}=e._parsedData;(function(l,u){for(const C of l.getChildren())if(C.is("element","b")&&C.getStyle("font-weight")==="normal"){const f=l.getChildIndex(C);u.remove(C),u.insertChild(f,C.getChildren(),l)}})(r,i),function(l,u){for(const C of u.createRangeIn(l)){const f=C.item;if(f.is("element","li")){const w=f.getChild(0);w&&w.is("element","p")&&u.unwrapElement(w)}}}(r,i),function(l,u){const C=new nC(u.document.stylesProcessor),f=new rC(C,{renderingMode:"data"}),w=f.blockElements,S=f.inlineObjectElements,R=[];for(const X of u.createRangeIn(l)){const J=X.item;if(J.is("element","br")){const U=tN(J,"forward",u,{blockElements:w,inlineObjectElements:S}),te=tN(J,"backward",u,{blockElements:w,inlineObjectElements:S}),ae=nN(U,w);(nN(te,w)||ae)&&R.push(J)}}for(const X of R)X.hasClass("Apple-interchange-newline")?u.remove(X):u.replace(X,u.createElement("p"))}(r,i),e.content=r}}const b8=/<google-sheets-html-origin/i;class A8{constructor(e){this.document=e}isActive(e){return b8.test(e)}execute(e){const i=new ea(this.document),{body:r}=e._parsedData;(function(l,u){for(const C of l.getChildren())if(C.is("element","google-sheets-html-origin")){const f=l.getChildIndex(C);u.remove(C),u.insertChild(f,C.getChildren(),l)}})(r,i),function(l,u){for(const C of l.getChildren())C.is("element","table")&&C.hasAttribute("xmlns")&&u.removeAttribute("xmlns",C)}(r,i),function(l,u){for(const C of l.getChildren())C.is("element","table")&&C.getStyle("width")==="0px"&&u.removeStyle("width",C)}(r,i),function(l,u){for(const C of Array.from(l.getChildren()))C.is("element","style")&&u.remove(C)}(r,i),e.content=r}}function iN(a){return a.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,i)=>i.length===1?" ":Array(i.length+1).join(" ").substr(0,i.length))}function y8(a,e){const i=new DOMParser,r=function(w){return iN(iN(w)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(w){const S="</body>",R="</html>",X=w.indexOf(S);if(X<0)return w;const J=w.indexOf(R,X+S.length);return w.substring(0,X+S.length)+(J>=0?w.substring(J):"")}(a=(a=a.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),l=i.parseFromString(r,"text/html");(function(w){w.querySelectorAll("span[style*=spacerun]").forEach(S=>{const R=S,X=R.innerText.length||0;R.innerText=Array(X+1).join(" ").substr(0,X)})})(l);const u=l.body.innerHTML,C=function(w,S){const R=new nC(S),X=new rC(R,{renderingMode:"data"}),J=w.createDocumentFragment(),U=w.body.childNodes;for(;U.length>0;)J.appendChild(U[0]);return X.domToView(J,{skipComments:!0})}(l,e),f=function(w){const S=[],R=[],X=Array.from(w.getElementsByTagName("style"));for(const J of X)J.sheet&&J.sheet.cssRules&&J.sheet.cssRules.length&&(S.push(J.sheet),R.push(J.innerHTML));return{styles:S,stylesString:R.join(" ")}}(l);return{body:C,bodyString:u,styles:f.styles,stylesString:f.stylesString}}function gi(a,e,i,r,l=1){e!=null&&l!=null&&e>l?r.setAttribute(a,e,i):r.removeAttribute(a,i)}function ec(a,e,i={}){const r=a.createElement("tableCell",i);return a.insertElement("paragraph",r),a.insert(r,e),r}function uy(a,e){const i=e.parent.parent,r=parseInt(i.getAttribute("headingColumns")||"0"),{column:l}=a.getCellLocation(e);return!!r&&l<r}function k8(){return a=>{a.on("element:table",(e,i,r)=>{const l=i.viewItem;if(!r.consumable.test(l,{name:!0}))return;const{rows:u,headingRows:C,headingColumns:f}=function(R){let X,J=0;const U=[],te=[];let ae;for(const he of Array.from(R.getChildren())){if(he.name!=="tbody"&&he.name!=="thead"&&he.name!=="tfoot")continue;he.name!=="thead"||ae||(ae=he);const Ie=Array.from(he.getChildren()).filter(we=>we.is("element","tr"));for(const we of Ie)if(ae&&he===ae||he.name==="tbody"&&Array.from(we.getChildren()).length&&Array.from(we.getChildren()).every(We=>We.is("element","th")))J++,U.push(we);else{te.push(we);const We=v8(we);(!X||We<X)&&(X=We)}}return{headingRows:J,headingColumns:X||0,rows:[...U,...te]}}(l),w={};f&&(w.headingColumns=f),C&&(w.headingRows=C);const S=r.writer.createElement("table",w);if(r.safeInsert(S,i.modelCursor)){if(r.consumable.consume(l,{name:!0}),u.forEach(R=>r.convertItem(R,r.writer.createPositionAt(S,"end"))),r.convertChildren(l,r.writer.createPositionAt(S,"end")),S.isEmpty){const R=r.writer.createElement("tableRow");r.writer.insert(R,r.writer.createPositionAt(S,"end")),ec(r.writer,r.writer.createPositionAt(R,"end"))}r.updateConversionResult(S,i)}})}}function oN(a){return e=>{e.on(`element:${a}`,(i,r,{writer:l})=>{if(!r.modelRange)return;const u=r.modelRange.start.nodeAfter,C=l.createPositionAt(u,0);if(r.viewItem.isEmpty)return void l.insertElement("paragraph",C);const f=Array.from(u.getChildren());if(f.every(w=>w.is("element","$marker"))){const w=l.createElement("paragraph");l.insert(w,l.createPositionAt(u,0));for(const S of f)l.move(l.createRangeOn(S),l.createPositionAt(w,"end"))}},{priority:"low"})}}function v8(a){let e=0,i=0;const r=Array.from(a.getChildren()).filter(l=>l.name==="th"||l.name==="td");for(;i<r.length&&r[i].name==="th";){const l=r[i];e+=parseInt(l.getAttribute("colspan")||"1"),i++}return e}class Gn{constructor(e,i={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=i.row!==void 0?i.row:i.startRow||0,this._endRow=i.row!==void 0?i.row:i.endRow,this._startColumn=i.column!==void 0?i.column:i.startColumn||0,this._endColumn=i.column!==void 0?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let i=null;const r=this._getSpanned();if(r)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(r.cell,r.row,r.column));else{const l=e.getChild(this._cellIndex);if(!l)return this._advanceToNextRow();const u=parseInt(l.getAttribute("colspan")||"1"),C=parseInt(l.getAttribute("rowspan")||"1");(u>1||C>1)&&this._recordSpans(l,C,u),this._shouldSkipSlot()||(i=this._formatOutValue(l)),this._nextCellAtColumn=this._column+u}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,i=this._row,r=this._column){return{done:!1,value:new w8(this,e,i,r)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),i=this._row<this._startRow,r=this._column<this._startColumn,l=this._endColumn!==void 0&&this._column>this._endColumn;return e||i||r||l}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,i,r){const l={cell:e,row:this._row,column:this._column};for(let u=this._row;u<this._row+i;u++)for(let C=this._column;C<this._column+r;C++)u==this._row&&C==this._column||this._markSpannedCell(u,C,l)}_markSpannedCell(e,i,r){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(i,r)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let i=this._startRow;!this._jumpedToStartRow;i--)e===this._getRowLength(i)&&(this._row=i,this._rowIndex=i,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((i,r)=>i+parseInt(r.getAttribute("colspan")||"1"),0)}}class w8{constructor(e,i,r,l){this.cell=i,this.row=e._row,this.column=e._column,this.cellAnchorRow=r,this.cellAnchorColumn=l,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function rN(a,e){return(i,{writer:r})=>{const l=i.getAttribute("headingRows")||0,u=r.createContainerElement("table",null,[]),C=r.createContainerElement("figure",{class:"table"},u);l>0&&r.insert(r.createPositionAt(u,"end"),r.createContainerElement("thead",null,r.createSlot(f=>f.is("element","tableRow")&&f.index<l))),l<a.getRows(i)&&r.insert(r.createPositionAt(u,"end"),r.createContainerElement("tbody",null,r.createSlot(f=>f.is("element","tableRow")&&f.index>=l)));for(const{positionOffset:f,filter:w}of e.additionalSlots)r.insert(r.createPositionAt(u,f),r.createSlot(w));return r.insert(r.createPositionAt(u,"after"),r.createSlot(f=>!f.is("element","tableRow")&&!e.additionalSlots.some(({filter:w})=>w(f)))),e.asWidget?function(f,w){return w.setCustomProperty("table",!0,f),F0(f,w,{hasSelectionHandle:!0})}(C,r):C}}function sN(a={}){return(e,{writer:i})=>{const r=e.parent,l=r.parent,u=l.getChildIndex(r),C=new Gn(l,{row:u}),f=l.getAttribute("headingRows")||0,w=l.getAttribute("headingColumns")||0;let S=null;for(const R of C)if(R.cell==e){const X=R.row<f||R.column<w?"th":"td";S=a.asWidget?jR(i.createEditableElement(X),i):i.createContainerElement(X);break}return S}}function aN(a={}){return(e,{writer:i})=>{if(!e.parent.is("element","tableCell")||!lN(e))return null;if(a.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const r=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,r),r}}}function lN(a){return a.parent.childCount==1&&!!a.getAttributeKeys().next().done}class x8 extends Ut{refresh(){const e=this.editor.model,i=e.document.selection,r=e.schema;this.isEnabled=function(l,u){const C=l.getFirstPosition().parent,f=C===C.root?C:C.parent;return u.checkChild(f,"table")}(i,r)}execute(e={}){const i=this.editor,r=i.model,l=i.plugins.get("TableUtils"),u=i.config.get("table.defaultHeadings.rows"),C=i.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&u&&(e.headingRows=u),e.headingColumns===void 0&&C&&(e.headingColumns=C),r.change(f=>{const w=l.createTable(f,e);r.insertObject(w,null,null,{findOptimalPosition:"auto"}),f.setSelection(f.createPositionAt(w.getNodeByPath([0,0,0]),0))})}}class cN extends Ut{constructor(e,i={}){super(e),this.order=i.order||"below"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,r=e.plugins.get("TableUtils"),l=this.order==="above",u=r.getSelectionAffectedTableCells(i),C=r.getRowIndexes(u),f=l?C.first:C.last,w=u[0].findAncestor("table");r.insertRows(w,{at:l?f:f+1,copyStructureFromAbove:!l})}}class gN extends Ut{constructor(e,i={}){super(e),this.order=i.order||"right"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,r=e.plugins.get("TableUtils"),l=this.order==="left",u=r.getSelectionAffectedTableCells(i),C=r.getColumnIndexes(u),f=l?C.first:C.last,w=u[0].findAncestor("table");r.insertColumns(w,{columns:1,at:l?f:f+1})}}class dN extends Ut{constructor(e,i={}){super(e),this.direction=i.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(i,2):e.splitCellVertically(i,2)}}function uN(a,e,i){const{startRow:r,startColumn:l,endRow:u,endColumn:C}=e,f=i.createElement("table"),w=u-r+1;for(let R=0;R<w;R++)i.insertElement("tableRow",f,"end");const S=[...new Gn(a,{startRow:r,endRow:u,startColumn:l,endColumn:C,includeAllSlots:!0})];for(const{row:R,column:X,cell:J,isAnchor:U,cellAnchorRow:te,cellAnchorColumn:ae}of S){const he=R-r,Ie=f.getChild(he);if(U){const we=i.cloneElement(J);i.append(we,Ie),IN(we,R,X,u,C,i)}else(te<r||ae<l)&&ec(i,i.createPositionAt(Ie,"end"))}return function(R,X,J,U,te){const ae=parseInt(X.getAttribute("headingRows")||"0");ae>0&&gi("headingRows",ae-J,R,te,0);const he=parseInt(X.getAttribute("headingColumns")||"0");he>0&&gi("headingColumns",he-U,R,te,0)}(f,a,r,l,i),f}function hN(a,e,i=0){const r=[],l=new Gn(a,{startRow:i,endRow:e-1});for(const u of l){const{row:C,cellHeight:f}=u;C<e&&e<=C+f-1&&r.push(u)}return r}function mN(a,e,i){const r=a.parent,l=r.parent,u=r.index,C=e-u,f={},w=parseInt(a.getAttribute("rowspan"))-C;w>1&&(f.rowspan=w);const S=parseInt(a.getAttribute("colspan")||"1");S>1&&(f.colspan=S);const R=u+C,X=[...new Gn(l,{startRow:u,endRow:R,includeAllSlots:!0})];let J,U=null;for(const te of X){const{row:ae,column:he,cell:Ie}=te;Ie===a&&J===void 0&&(J=he),J!==void 0&&J===he&&ae===R&&(U=ec(i,te.getPositionBefore(),f))}return gi("rowspan",C,a,i),U}function CN(a,e){const i=[],r=new Gn(a);for(const l of r){const{column:u,cellWidth:C}=l;u<e&&e<=u+C-1&&i.push(l)}return i}function pN(a,e,i,r){const l=i-e,u={},C=parseInt(a.getAttribute("colspan"))-l;C>1&&(u.colspan=C);const f=parseInt(a.getAttribute("rowspan")||"1");f>1&&(u.rowspan=f);const w=ec(r,r.createPositionAfter(a),u);return gi("colspan",l,a,r),w}function IN(a,e,i,r,l,u){const C=parseInt(a.getAttribute("colspan")||"1"),f=parseInt(a.getAttribute("rowspan")||"1");i+C-1>l&&gi("colspan",l-i+1,a,u,1),e+f-1>r&&gi("rowspan",r-e+1,a,u,1)}function hy(a,e){const i=e.getColumns(a),r=new Array(i).fill(0);for(const{column:u}of new Gn(a))r[u]++;const l=r.reduce((u,C,f)=>C?u:[...u,f],[]);if(l.length>0){const u=l[l.length-1];return e.removeColumns(a,{at:u}),!0}return!1}function my(a,e){const i=[],r=e.getRows(a);for(let l=0;l<r;l++)a.getChild(l).isEmpty&&i.push(l);if(i.length>0){const l=i[i.length-1];return e.removeRows(a,{at:l}),!0}return!1}function Cy(a,e){hy(a,e)||my(a,e)}function fN(a,e){const i=Array.from(new Gn(a,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(i.every(({cellHeight:l})=>l===1))return e.lastRow;const r=i[0].cellHeight-1;return e.lastRow+r}function bN(a,e){const i=Array.from(new Gn(a,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(i.every(({cellWidth:l})=>l===1))return e.lastColumn;const r=i[0].cellWidth-1;return e.lastColumn+r}class QC extends Ut{constructor(e,i){super(e),this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,i=e.document,r=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],l=this.value,u=this.direction;e.change(C=>{const f=u=="right"||u=="down",w=f?r:l,S=f?l:r,R=S.parent;(function(ae,he,Ie){AN(ae)||(AN(he)&&Ie.remove(Ie.createRangeIn(he)),Ie.move(Ie.createRangeIn(ae),Ie.createPositionAt(he,"end"))),Ie.remove(ae)})(S,w,C);const X=this.isHorizontal?"colspan":"rowspan",J=parseInt(r.getAttribute(X)||"1"),U=parseInt(l.getAttribute(X)||"1");C.setAttribute(X,J+U,w),C.setSelection(C.createRangeIn(w));const te=this.editor.plugins.get("TableUtils");Cy(R.findAncestor("table"),te)})}_getMergeableCell(){const e=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),r=i.getTableCellsContainingSelection(e.selection)[0];if(!r)return;const l=this.isHorizontal?function(f,w,S){const R=f.parent,X=R.parent,J=w=="right"?f.nextSibling:f.previousSibling,U=(X.getAttribute("headingColumns")||0)>0;if(!J)return;const te=w=="right"?f:J,ae=w=="right"?J:f,{column:he}=S.getCellLocation(te),{column:Ie}=S.getCellLocation(ae),we=parseInt(te.getAttribute("colspan")||"1"),We=uy(S,te),ze=uy(S,ae);if(!(U&&We!=ze))return he+we===Ie?J:void 0}(r,this.direction,i):function(f,w,S){const R=f.parent,X=R.parent,J=X.getChildIndex(R);if(w=="down"&&J===S.getRows(X)-1||w=="up"&&J===0)return null;const U=parseInt(f.getAttribute("rowspan")||"1"),te=X.getAttribute("headingRows")||0,ae=w=="down"&&J+U===te,he=w=="up"&&J===te;if(te&&(ae||he))return null;const Ie=parseInt(f.getAttribute("rowspan")||"1"),we=w=="down"?J+Ie:J,We=[...new Gn(X,{endRow:we})],ze=We.find(zt=>zt.cell===f),ut=ze.column,Nt=We.find(({row:zt,cellHeight:Jn,column:Hi})=>Hi===ut&&(w=="down"?zt===we:we===zt+Jn));return Nt&&Nt.cell?Nt.cell:null}(r,this.direction,i);if(!l)return;const u=this.isHorizontal?"rowspan":"colspan",C=parseInt(r.getAttribute(u)||"1");return parseInt(l.getAttribute(u)||"1")===C?l:void 0}}function AN(a){const e=a.getChild(0);return a.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class S8 extends Ut{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),r=i[0];if(r){const l=r.findAncestor("table"),u=e.getRows(l)-1,C=e.getRowIndexes(i),f=C.first===0&&C.last===u;this.isEnabled=!f}else this.isEnabled=!1}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),r=i.getSelectionAffectedTableCells(e.document.selection),l=i.getRowIndexes(r),u=r[0],C=u.findAncestor("table"),f=i.getCellLocation(u).column;e.change(w=>{const S=l.last-l.first+1;i.removeRows(C,{at:l.first,rows:S});const R=function(X,J,U,te){const ae=X.getChild(Math.min(J,te-1));let he=ae.getChild(0),Ie=0;for(const we of ae.getChildren()){if(Ie>U)return he;he=we,Ie+=parseInt(we.getAttribute("colspan")||"1")}return he}(C,l.first,f,i.getRows(C));w.setSelection(w.createPositionAt(R,0))})}}class B8 extends Ut{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),r=i[0];if(r){const l=r.findAncestor("table"),u=e.getColumns(l),{first:C,last:f}=e.getColumnIndexes(i);this.isEnabled=f-C<u-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[i,r]=function(w,S){const R=S.getSelectionAffectedTableCells(w),X=R[0],J=R.pop(),U=[X,J];return X.isBefore(J)?U:U.reverse()}(this.editor.model.document.selection,e),l=i.parent.parent,u=[...new Gn(l)],C={first:u.find(w=>w.cell===i).column,last:u.find(w=>w.cell===r).column},f=function(w,S,R,X){return parseInt(R.getAttribute("colspan")||"1")>1?R:S.previousSibling||R.nextSibling?R.nextSibling||S.previousSibling:X.first?w.reverse().find(({column:U})=>U<X.first).cell:w.reverse().find(({column:U})=>U>X.last).cell}(u,i,r,C);this.editor.model.change(w=>{const S=C.last-C.first+1;e.removeColumns(l,{at:C.first,columns:S}),w.setSelection(w.createPositionAt(f,0))})}}class Z8 extends Ut{refresh(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,r=e.getSelectionAffectedTableCells(i.document.selection),l=r.length>0;this.isEnabled=l,this.value=l&&r.every(u=>this._isInHeading(u,u.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),r=this.editor.model,l=i.getSelectionAffectedTableCells(r.document.selection),u=l[0].findAncestor("table"),{first:C,last:f}=i.getRowIndexes(l),w=this.value?C:f+1,S=u.getAttribute("headingRows")||0;r.change(R=>{if(w){const X=hN(u,w,w>S?S:0);for(const{cell:J}of X)mN(J,w,R)}gi("headingRows",w,u,R,0)})}_isInHeading(e,i){const r=parseInt(i.getAttribute("headingRows")||"0");return!!r&&e.parent.index<r}}class G8 extends Ut{refresh(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),r=i.getSelectionAffectedTableCells(e.document.selection),l=r.length>0;this.isEnabled=l,this.value=l&&r.every(u=>uy(i,u))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),r=this.editor.model,l=i.getSelectionAffectedTableCells(r.document.selection),u=l[0].findAncestor("table"),{first:C,last:f}=i.getColumnIndexes(l),w=this.value?C:f+1;r.change(S=>{if(w){const R=CN(u,w);for(const{cell:X,column:J}of R)pN(X,J,w,S)}gi("headingColumns",w,u,S,0)})}}function R8(a){if(a.is("element","tableColumnGroup"))return a;const e=a.getChildren();return Array.from(e).find(i=>i.is("element","tableColumnGroup"))}function V8(a){const e=R8(a);return e?Array.from(e.getChildren()):[]}class to extends qe{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const i=e.parent,r=i.parent,l=r.getChildIndex(i),u=new Gn(r,{row:l});for(const{cell:C,row:f,column:w}of u)if(C===e)return{row:f,column:w}}createTable(e,i){const r=e.createElement("table"),l=i.rows||2,u=i.columns||2;return py(e,r,0,l,u),i.headingRows&&gi("headingRows",Math.min(i.headingRows,l),r,e,0),i.headingColumns&&gi("headingColumns",Math.min(i.headingColumns,u),r,e,0),r}insertRows(e,i={}){const r=this.editor.model,l=i.at||0,u=i.rows||1,C=i.copyStructureFromAbove!==void 0,f=i.copyStructureFromAbove?l-1:l,w=this.getRows(e),S=this.getColumns(e);if(l>w)throw new K("tableutils-insertrows-insert-out-of-range",this,{options:i});r.change(R=>{const X=e.getAttribute("headingRows")||0;if(X>l&&gi("headingRows",X+u,e,R,0),!C&&(l===0||l===w))return void py(R,e,l,u,S);const J=C?Math.max(l,f):l,U=new Gn(e,{endRow:J}),te=new Array(S).fill(1);for(const{row:ae,column:he,cellHeight:Ie,cellWidth:we,cell:We}of U){const ze=ae+Ie-1,ut=ae<=f&&f<=ze;ae<l&&l<=ze?(R.setAttribute("rowspan",Ie+u,We),te[he]=-we):C&&ut&&(te[he]=we)}for(let ae=0;ae<u;ae++){const he=R.createElement("tableRow");R.insert(he,e,l);for(let Ie=0;Ie<te.length;Ie++){const we=te[Ie],We=R.createPositionAt(he,"end");we>0&&ec(R,We,we>1?{colspan:we}:void 0),Ie+=Math.abs(we)-1}}})}insertColumns(e,i={}){const r=this.editor.model,l=i.at||0,u=i.columns||1;r.change(C=>{const f=e.getAttribute("headingColumns");l<f&&C.setAttribute("headingColumns",f+u,e);const w=this.getColumns(e);if(l===0||w===l){for(const R of e.getChildren())R.is("element","tableRow")&&bg(u,C,C.createPositionAt(R,l?"end":0));return}const S=new Gn(e,{column:l,includeAllSlots:!0});for(const R of S){const{row:X,cell:J,cellAnchorColumn:U,cellAnchorRow:te,cellWidth:ae,cellHeight:he}=R;if(U<l){C.setAttribute("colspan",ae+u,J);const Ie=te+he-1;for(let we=X;we<=Ie;we++)S.skipRow(we)}else bg(u,C,R.getPositionBefore())}})}removeRows(e,i){const r=this.editor.model,l=i.rows||1,u=this.getRows(e),C=i.at,f=C+l-1;if(f>u-1)throw new K("tableutils-removerows-row-index-out-of-range",this,{table:e,options:i});r.change(w=>{const S={first:C,last:f},{cellsToMove:R,cellsToTrim:X}=function(J,{first:U,last:te}){const ae=new Map,he=[];for(const{row:Ie,column:we,cellHeight:We,cell:ze}of new Gn(J,{endRow:te})){const ut=Ie+We-1;if(Ie>=U&&Ie<=te&&ut>te){const Nt=We-(te-Ie+1);ae.set(we,{cell:ze,rowspan:Nt})}if(Ie<U&&ut>=U){let Nt;Nt=ut>=te?te-U+1:ut-U+1,he.push({cell:ze,rowspan:We-Nt})}}return{cellsToMove:ae,cellsToTrim:he}}(e,S);R.size&&function(J,U,te,ae){const he=new Gn(J,{includeAllSlots:!0,row:U}),Ie=[...he],we=J.getChild(U);let We;for(const{column:ze,cell:ut,isAnchor:Nt}of Ie)if(te.has(ze)){const{cell:zt,rowspan:Jn}=te.get(ze),Hi=We?ae.createPositionAfter(We):ae.createPositionAt(we,0);ae.move(ae.createRangeOn(zt),Hi),gi("rowspan",Jn,zt,ae),We=zt}else Nt&&(We=ut)}(e,f+1,R,w);for(let J=f;J>=C;J--)w.remove(e.getChild(J));for(const{rowspan:J,cell:U}of X)gi("rowspan",J,U,w);(function(J,{first:U,last:te},ae){const he=J.getAttribute("headingRows")||0;U<he&&gi("headingRows",te<he?he-(te-U+1):U,J,ae,0)})(e,S,w),hy(e,this)||my(e,this)})}removeColumns(e,i){const r=this.editor.model,l=i.at,u=i.columns||1,C=i.at+u-1;r.change(f=>{(function(S,R,X){const J=S.getAttribute("headingColumns")||0;if(J&&R.first<J){const U=Math.min(J-1,R.last)-R.first+1;X.setAttribute("headingColumns",J-U,S)}})(e,{first:l,last:C},f);const w=V8(e);for(let S=C;S>=l;S--){for(const{cell:R,column:X,cellWidth:J}of[...new Gn(e)])X<=S&&J>1&&X+J>S?gi("colspan",J-1,R,f):X===S&&f.remove(R);if(w[S]){const R=S===0?w[1]:w[S-1],X=parseFloat(w[S].getAttribute("columnWidth")),J=parseFloat(R.getAttribute("columnWidth"));f.remove(w[S]),f.setAttribute("columnWidth",X+J+"%",R)}}my(e,this)||hy(e,this)})}splitCellVertically(e,i=2){const r=this.editor.model,l=e.parent.parent,u=parseInt(e.getAttribute("rowspan")||"1"),C=parseInt(e.getAttribute("colspan")||"1");r.change(f=>{if(C>1){const{newCellsSpan:w,updatedSpan:S}=yN(C,i);gi("colspan",S,e,f);const R={};w>1&&(R.colspan=w),u>1&&(R.rowspan=u),bg(C>i?i-1:C-1,f,f.createPositionAfter(e),R)}if(C<i){const w=i-C,S=[...new Gn(l)],{column:R}=S.find(({cell:te})=>te===e),X=S.filter(({cell:te,cellWidth:ae,column:he})=>te!==e&&he===R||he<R&&he+ae>R);for(const{cell:te,cellWidth:ae}of X)f.setAttribute("colspan",ae+w,te);const J={};u>1&&(J.rowspan=u),bg(w,f,f.createPositionAfter(e),J);const U=l.getAttribute("headingColumns")||0;U>R&&gi("headingColumns",U+w,l,f)}})}splitCellHorizontally(e,i=2){const r=this.editor.model,l=e.parent,u=l.parent,C=u.getChildIndex(l),f=parseInt(e.getAttribute("rowspan")||"1"),w=parseInt(e.getAttribute("colspan")||"1");r.change(S=>{if(f>1){const R=[...new Gn(u,{startRow:C,endRow:C+f-1,includeAllSlots:!0})],{newCellsSpan:X,updatedSpan:J}=yN(f,i);gi("rowspan",J,e,S);const{column:U}=R.find(({cell:ae})=>ae===e),te={};X>1&&(te.rowspan=X),w>1&&(te.colspan=w);for(const ae of R){const{column:he,row:Ie}=ae;Ie>=C+J&&he===U&&(Ie+C+J)%X==0&&bg(1,S,ae.getPositionBefore(),te)}}if(f<i){const R=i-f,X=[...new Gn(u,{startRow:0,endRow:C})];for(const{cell:te,cellHeight:ae,row:he}of X)if(te!==e&&he+ae>C){const Ie=ae+R;S.setAttribute("rowspan",Ie,te)}const J={};w>1&&(J.colspan=w),py(S,u,C+1,R,1,J);const U=u.getAttribute("headingRows")||0;U>C&&gi("headingRows",U+R,u,S)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(i=>i.is("element","tableCell")).reduce((i,r)=>i+parseInt(r.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((i,r)=>r.is("element","tableRow")?i+1:i,0)}createTableWalker(e,i={}){return new Gn(e,i)}getSelectedTableCells(e){const i=[];for(const r of this.sortRanges(e.getRanges())){const l=r.getContainedElement();l&&l.is("element","tableCell")&&i.push(l)}return i}getTableCellsContainingSelection(e){const i=[];for(const r of e.getRanges()){const l=r.start.findAncestor("tableCell");l&&i.push(l)}return i}getSelectionAffectedTableCells(e){const i=this.getSelectedTableCells(e);return i.length?i:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const i=e.map(r=>r.parent.index);return this._getFirstLastIndexesObject(i)}getColumnIndexes(e){const i=e[0].findAncestor("table"),r=[...new Gn(i)].filter(l=>e.includes(l.cell)).map(l=>l.column);return this._getFirstLastIndexesObject(r)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const i=new Set,r=new Set;let l=0;for(const C of e){const{row:f,column:w}=this.getCellLocation(C),S=parseInt(C.getAttribute("rowspan"))||1,R=parseInt(C.getAttribute("colspan"))||1;i.add(f),r.add(w),S>1&&i.add(f+S-1),R>1&&r.add(w+R-1),l+=S*R}return function(C,f){const w=Array.from(C.values()),S=Array.from(f.values()),R=Math.max(...w),X=Math.min(...w),J=Math.max(...S),U=Math.min(...S);return(R-X+1)*(J-U+1)}(i,r)==l}sortRanges(e){return Array.from(e).sort(W8)}_getFirstLastIndexesObject(e){const i=e.sort((r,l)=>r-l);return{first:i[0],last:i[i.length-1]}}_areCellInTheSameTableSection(e){const i=e[0].findAncestor("table"),r=this.getRowIndexes(e),l=parseInt(i.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(r,l))return!1;const u=this.getColumnIndexes(e),C=parseInt(i.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(u,C)}_areIndexesInSameSection({first:e,last:i},r){return e<r==i<r}}function py(a,e,i,r,l,u={}){for(let C=0;C<r;C++){const f=a.createElement("tableRow");a.insert(f,e,i),bg(l,a,a.createPositionAt(f,"end"),u)}}function bg(a,e,i,r={}){for(let l=0;l<a;l++)ec(e,i,r)}function yN(a,e){if(a<e)return{newCellsSpan:1,updatedSpan:1};const i=Math.floor(a/e);return{newCellsSpan:i,updatedSpan:a-i*e+i}}function W8(a,e){const i=a.start,r=e.start;return i.isBefore(r)?-1:1}class _8 extends Ut{refresh(){const e=this.editor.plugins.get(to),i=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(i)}execute(){const e=this.editor.model,i=this.editor.plugins.get(to);e.change(r=>{const l=i.getSelectedTableCells(e.document.selection),u=l.shift(),{mergeWidth:C,mergeHeight:f}=function(w,S,R){let X=0,J=0;for(const Ie of S){const{row:we,column:We}=R.getCellLocation(Ie);X=vN(Ie,We,X,"colspan"),J=vN(Ie,we,J,"rowspan")}const{row:U,column:te}=R.getCellLocation(w),ae=X-te,he=J-U;return{mergeWidth:ae,mergeHeight:he}}(u,l,i);gi("colspan",C,u,r),gi("rowspan",f,u,r);for(const w of l)N8(w,u,r);Cy(u.findAncestor("table"),i),r.setSelection(u,"in")})}}function N8(a,e,i){kN(a)||(kN(e)&&i.remove(i.createRangeIn(e)),i.move(i.createRangeIn(a),i.createPositionAt(e,"end"))),i.remove(a)}function kN(a){const e=a.getChild(0);return a.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function vN(a,e,i,r){const l=parseInt(a.getAttribute(r)||"1");return Math.max(i,e+l)}class E8 extends Ut{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),r=i.getSelectionAffectedTableCells(e.document.selection),l=i.getRowIndexes(r),u=r[0].findAncestor("table"),C=[];for(let f=l.first;f<=l.last;f++)for(const w of u.getChild(f).getChildren())C.push(e.createRangeOn(w));e.change(f=>{f.setSelection(C)})}}class X8 extends Ut{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,r=e.getSelectionAffectedTableCells(i.document.selection),l=r[0],u=r.pop(),C=l.findAncestor("table"),f=e.getCellLocation(l),w=e.getCellLocation(u),S=Math.min(f.column,w.column),R=Math.max(f.column,w.column),X=[];for(const J of new Gn(C,{startColumn:S,endColumn:R}))X.push(i.createRangeOn(J.cell));i.change(J=>{J.setSelection(X)})}}function Y8(a){a.document.registerPostFixer(e=>function(i,r){const l=r.document.differ.getChanges();let u=!1;const C=new Set;for(const f of l){let w=null;f.type=="insert"&&f.name=="table"&&(w=f.position.nodeAfter),f.type!="insert"&&f.type!="remove"||f.name!="tableRow"&&f.name!="tableCell"||(w=f.position.findAncestor("table")),F8(f)&&(w=f.range.start.findAncestor("table")),w&&!C.has(w)&&(u=D8(w,i)||u,u=H8(w,i)||u,C.add(w))}return u}(e,a))}function D8(a,e){let i=!1;const r=function(l){const u=parseInt(l.getAttribute("headingRows")||"0"),C=Array.from(l.getChildren()).reduce((w,S)=>S.is("element","tableRow")?w+1:w,0),f=[];for(const{row:w,cell:S,cellHeight:R}of new Gn(l)){if(R<2)continue;const X=w<u?u:C;if(w+R>X){const J=X-w;f.push({cell:S,rowspan:J})}}return f}(a);if(r.length){i=!0;for(const l of r)gi("rowspan",l.rowspan,l.cell,e,1)}return i}function H8(a,e){let i=!1;const r=function(f){const w=new Array(f.childCount).fill(0);for(const{rowIndex:S}of new Gn(f,{includeAllSlots:!0}))w[S]++;return w}(a),l=[];for(const[f,w]of r.entries())!w&&a.getChild(f).is("element","tableRow")&&l.push(f);if(l.length){i=!0;for(const f of l.reverse())e.remove(a.getChild(f)),r.splice(f,1)}const u=r.filter((f,w)=>a.getChild(w).is("element","tableRow")),C=u[0];if(!u.every(f=>f===C)){const f=u.reduce((w,S)=>S>w?S:w,0);for(const[w,S]of u.entries()){const R=f-S;if(R){for(let X=0;X<R;X++)ec(e,e.createPositionAt(a.getChild(w),"end"));i=!0}}}return i}function F8(a){if(a.type!=="attribute")return!1;const e=a.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function M8(a){a.document.registerPostFixer(e=>function(i,r){const l=r.document.differ.getChanges();let u=!1;for(const C of l)C.type=="insert"&&C.name=="table"&&(u=T8(C.position.nodeAfter,i)||u),C.type=="insert"&&C.name=="tableRow"&&(u=wN(C.position.nodeAfter,i)||u),C.type=="insert"&&C.name=="tableCell"&&(u=Iy(C.position.nodeAfter,i)||u),C.type!="remove"&&C.type!="insert"||!J8(C)||(u=Iy(C.position.parent,i)||u);return u}(e,a))}function T8(a,e){let i=!1;for(const r of a.getChildren())r.is("element","tableRow")&&(i=wN(r,e)||i);return i}function wN(a,e){let i=!1;for(const r of a.getChildren())i=Iy(r,e)||i;return i}function Iy(a,e){if(a.childCount==0)return e.insertElement("paragraph",a),!0;const i=Array.from(a.getChildren()).filter(r=>r.is("$text"));for(const r of i)e.wrap(e.createRangeOn(r),"paragraph");return!!i.length}function J8(a){return!!a.position.parent.is("element","tableCell")&&(a.type=="insert"&&a.name=="$text"||a.type=="remove")}function L8(a,e){if(!a.is("element","paragraph"))return!1;const i=e.toViewElement(a);return!!i&&lN(a)!==i.is("element","span")}var xN=d(8137),z8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(xN.A,z8),xN.A.locals;class K8 extends qe{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[to]}init(){const e=this.editor,i=e.model,r=i.schema,l=e.conversion,u=e.plugins.get(to);r.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),r.register("tableRow",{allowIn:"table",isLimit:!0}),r.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),l.for("upcast").add(C=>{C.on("element:figure",(f,w,S)=>{if(!S.consumable.test(w.viewItem,{name:!0,classes:"table"}))return;const R=function(J){for(const U of J.getChildren())if(U.is("element","table"))return U}(w.viewItem);if(!R||!S.consumable.test(R,{name:!0}))return;S.consumable.consume(w.viewItem,{name:!0,classes:"table"});const X=zi(S.convertItem(R,w.modelCursor).modelRange.getItems());X?(S.convertChildren(w.viewItem,S.writer.createPositionAt(X,"end")),S.updateConversionResult(X,w)):S.consumable.revert(w.viewItem,{name:!0,classes:"table"})})}),l.for("upcast").add(k8()),l.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:rN(u,{asWidget:!0,additionalSlots:this._additionalSlots})}),l.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:rN(u,{additionalSlots:this._additionalSlots})}),l.for("upcast").elementToElement({model:"tableRow",view:"tr"}),l.for("upcast").add(C=>{C.on("element:tr",(f,w)=>{w.viewItem.isEmpty&&w.modelCursor.index==0&&f.stop()},{priority:"high"})}),l.for("downcast").elementToElement({model:"tableRow",view:(C,{writer:f})=>C.isEmpty?f.createEmptyElement("tr"):f.createContainerElement("tr")}),l.for("upcast").elementToElement({model:"tableCell",view:"td"}),l.for("upcast").elementToElement({model:"tableCell",view:"th"}),l.for("upcast").add(oN("td")),l.for("upcast").add(oN("th")),l.for("editingDowncast").elementToElement({model:"tableCell",view:sN({asWidget:!0})}),l.for("dataDowncast").elementToElement({model:"tableCell",view:sN()}),l.for("editingDowncast").elementToElement({model:"paragraph",view:aN({asWidget:!0}),converterPriority:"high"}),l.for("dataDowncast").elementToElement({model:"paragraph",view:aN(),converterPriority:"high"}),l.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),l.for("upcast").attributeToAttribute({model:{key:"colspan",value:SN("colspan")},view:"colspan"}),l.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),l.for("upcast").attributeToAttribute({model:{key:"rowspan",value:SN("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new x8(e)),e.commands.add("insertTableRowAbove",new cN(e,{order:"above"})),e.commands.add("insertTableRowBelow",new cN(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new gN(e,{order:"left"})),e.commands.add("insertTableColumnRight",new gN(e,{order:"right"})),e.commands.add("removeTableRow",new S8(e)),e.commands.add("removeTableColumn",new B8(e)),e.commands.add("splitTableCellVertically",new dN(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new dN(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new _8(e)),e.commands.add("mergeTableCellRight",new QC(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new QC(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new QC(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new QC(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new G8(e)),e.commands.add("setTableRowHeader",new Z8(e)),e.commands.add("selectTableRow",new E8(e)),e.commands.add("selectTableColumn",new X8(e)),Y8(i),M8(i),this.listenTo(i.document,"change:data",()=>{(function(C,f){const w=C.document.differ;for(const S of w.getChanges()){let R,X=!1;if(S.type=="attribute"){const ae=S.range.start.nodeAfter;if(!ae||!ae.is("element","table")||S.attributeKey!="headingRows"&&S.attributeKey!="headingColumns")continue;R=ae,X=S.attributeKey=="headingRows"}else S.name!="tableRow"&&S.name!="tableCell"||(R=S.position.findAncestor("table"),X=S.name=="tableRow");if(!R)continue;const J=R.getAttribute("headingRows")||0,U=R.getAttribute("headingColumns")||0,te=new Gn(R);for(const ae of te){const he=ae.row<J||ae.column<U?"th":"td",Ie=f.mapper.toViewElement(ae.cell);Ie&&Ie.is("element")&&Ie.name!=he&&f.reconvertItem(X?ae.cell.parent:ae.cell)}}})(i,e.editing),function(C,f){const w=C.document.differ,S=new Set;for(const R of w.getChanges()){const X=R.type=="attribute"?R.range.start.parent:R.position.parent;X.is("element","tableCell")&&S.add(X)}for(const R of S.values()){const X=Array.from(R.getChildren()).filter(J=>L8(J,f.mapper));for(const J of X)f.reconvertItem(J)}}(i,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function SN(a){return e=>{const i=parseInt(e.getAttribute(a));return Number.isNaN(i)||i<=0?null:i}}var BN=d(5032),P8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(BN.A,P8),BN.A.locals;class ZN extends Gt{constructor(e){super(e);const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new yo,this.focusTracker=new Ki,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(r,l)=>`${l}  ${r}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(r=>{r.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(r,l)=>{const{row:u,column:C}=l.target.dataset;this.items.get(10*(parseInt(u,10)-1)+(parseInt(C,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(r,l,u)=>{if(!u)return;const{row:C,column:f}=u.dataset;this.set({rows:parseInt(C),columns:parseInt(f)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),iL({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,i=this.columns;this.items.map((r,l)=>{const u=Math.floor(l/10)<e&&l%10<i;r.set("isOn",u)})}_createGridButton(e,i,r,l){const u=new pn(e);return u.set({label:l,class:"ck-insert-table-dropdown-grid-box"}),u.extendTemplate({attributes:{"data-row":i,"data-column":r}}),u}_createGridCollection(){const e=[];for(let i=0;i<100;i++){const r=Math.floor(i/10),l=i%10,u=`${r+1}  ${l+1}`;e.push(this._createGridButton(this.locale,r+1,l+1,u))}return this.createCollection(e)}}class j8 extends qe{static get pluginName(){return"TableUI"}init(){const e=this.editor,i=this.editor.t,r=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",l=>{const u=e.commands.get("insertTable"),C=na(l);let f;return C.bind("isEnabled").to(u),C.buttonView.set({icon:Tt.table,label:i("Insert table"),tooltip:!0}),C.on("change:isOpen",()=>{f||(f=new ZN(l),C.panelView.children.add(f),f.delegate("execute").to(C),C.on("execute",()=>{e.execute("insertTable",{rows:f.rows,columns:f.columns}),e.editing.view.focus()}))}),C}),e.ui.componentFactory.add("menuBar:insertTable",l=>{const u=e.commands.get("insertTable"),C=new dg(l),f=new ZN(l);return f.delegate("execute").to(C),C.on("change:isOpen",(w,S,R)=>{R||f.reset()}),f.on("execute",()=>{e.execute("insertTable",{rows:f.rows,columns:f.columns}),e.editing.view.focus()}),C.buttonView.set({label:i("Table"),icon:Tt.table}),C.panelView.children.add(f),C.bind("isEnabled").to(u),C}),e.ui.componentFactory.add("tableColumn",l=>{const u=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:i("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:r?"insertTableColumnLeft":"insertTableColumnRight",label:i("Insert column left")}},{type:"button",model:{commandName:r?"insertTableColumnRight":"insertTableColumnLeft",label:i("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:i("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:i("Select column")}}];return this._prepareDropdown(i("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',u,l)}),e.ui.componentFactory.add("tableRow",l=>{const u=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:i("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:i("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:i("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:i("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:i("Select row")}}];return this._prepareDropdown(i("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',u,l)}),e.ui.componentFactory.add("mergeTableCells",l=>{const u=[{type:"button",model:{commandName:"mergeTableCellUp",label:i("Merge cell up")}},{type:"button",model:{commandName:r?"mergeTableCellRight":"mergeTableCellLeft",label:i("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:i("Merge cell down")}},{type:"button",model:{commandName:r?"mergeTableCellLeft":"mergeTableCellRight",label:i("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:i("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:i("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(i("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',u,l)})}_prepareDropdown(e,i,r,l){const u=this.editor,C=na(l),f=this._fillDropdownWithListOptions(C,r);return C.buttonView.set({label:e,icon:i,tooltip:!0}),C.bind("isEnabled").toMany(f,"isEnabled",(...w)=>w.some(S=>S)),this.listenTo(C,"execute",w=>{u.execute(w.source.commandName),w.source instanceof CC||u.editing.view.focus()}),C}_prepareMergeSplitButtonDropdown(e,i,r,l){const u=this.editor,C=na(l,bC),f="mergeTableCells",w=u.commands.get(f),S=this._fillDropdownWithListOptions(C,r);return C.buttonView.set({label:e,icon:i,tooltip:!0,isEnabled:!0}),C.bind("isEnabled").toMany([w,...S],"isEnabled",(...R)=>R.some(X=>X)),this.listenTo(C.buttonView,"execute",()=>{u.execute(f),u.editing.view.focus()}),this.listenTo(C,"execute",R=>{u.execute(R.source.commandName),u.editing.view.focus()}),C}_fillDropdownWithListOptions(e,i){const r=this.editor,l=[],u=new Kr;for(const C of i)O8(C,r,l,u);return sG(e,u),l}}function O8(a,e,i,r){if(a.type==="button"||a.type==="switchbutton"){const l=a.model=new YG(a.model),{commandName:u,bindIsOn:C}=a.model,f=e.commands.get(u);i.push(f),l.set({commandName:u}),l.bind("isEnabled").to(f),C&&l.bind("isOn").to(f,"value"),l.set({withText:!0})}r.add(a)}var GN=d(8423),U8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(GN.A,U8),GN.A.locals;class tc extends qe{static get pluginName(){return"TableSelection"}static get requires(){return[to,to]}init(){const e=this.editor,i=e.model,r=e.editing.view;this.listenTo(i,"deleteContent",(l,u)=>this._handleDeleteContent(l,u),{priority:"high"}),this.listenTo(r.document,"insertText",(l,u)=>this._handleInsertTextEvent(l,u),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(to),i=this.editor.model.document.selection,r=e.getSelectedTableCells(i);return r.length==0?null:r}getSelectionAsFragment(){const e=this.editor.plugins.get(to),i=this.getSelectedTableCells();return i?this.editor.model.change(r=>{const l=r.createDocumentFragment(),{first:u,last:C}=e.getColumnIndexes(i),{first:f,last:w}=e.getRowIndexes(i),S=i[0].findAncestor("table");let R=w,X=C;if(e.isSelectionRectangular(i)){const U={firstColumn:u,lastColumn:C,firstRow:f,lastRow:w};R=fN(S,U),X=bN(S,U)}const J=uN(S,{startRow:f,startColumn:u,endRow:R,endColumn:X},r);return r.insert(J,l,0),l}):null}setCellSelection(e,i){const r=this._getCellsToSelect(e,i);this.editor.model.change(l=>{l.setSelection(r.cells.map(u=>l.createRangeOn(u)),{backward:r.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=zi(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,i=new Set;e.conversion.for("editingDowncast").add(r=>r.on("selection",(l,u,C)=>{const f=C.writer;(function(R){for(const X of i)R.removeClass("ck-editor__editable_selected",X);i.clear()})(f);const w=this.getSelectedTableCells();if(!w)return;for(const R of w){const X=C.mapper.toViewElement(R);f.addClass("ck-editor__editable_selected",X),i.add(X)}const S=C.mapper.toViewElement(w[w.length-1]);f.setSelection(S,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();if(!i)return;e.model.change(r=>{const l=r.createPositionAt(i[0],0),u=e.model.schema.getNearestSelectionRange(l);r.setSelection(u)})}})}_handleDeleteContent(e,i){const r=this.editor.plugins.get(to),l=i[0],u=i[1],C=this.editor.model,f=!u||u.direction=="backward",w=r.getSelectedTableCells(l);w.length&&(e.stop(),C.change(S=>{const R=w[f?w.length-1:0];C.change(J=>{for(const U of w)C.deleteContent(J.createSelection(U,"in"))});const X=C.schema.getNearestSelectionRange(S.createPositionAt(R,0));l.is("documentSelection")?S.setSelection(X):l.setTo(X)}))}_handleInsertTextEvent(e,i){const r=this.editor,l=this.getSelectedTableCells();if(!l)return;const u=r.editing.view,C=r.editing.mapper,f=l.map(w=>u.createRangeOn(C.toViewElement(w)));i.selection=u.createSelection(f)}_getCellsToSelect(e,i){const r=this.editor.plugins.get("TableUtils"),l=r.getCellLocation(e),u=r.getCellLocation(i),C=Math.min(l.row,u.row),f=Math.max(l.row,u.row),w=Math.min(l.column,u.column),S=Math.max(l.column,u.column),R=new Array(f-C+1).fill(null).map(()=>[]),X={startRow:C,endRow:f,startColumn:w,endColumn:S};for(const{row:te,cell:ae}of new Gn(e.findAncestor("table"),X))R[te-C].push(ae);const J=u.row<l.row,U=u.column<l.column;return J&&R.reverse(),U&&R.forEach(te=>te.reverse()),{cells:R.flat(),backward:J||U}}}class Q8 extends qe{static get pluginName(){return"TableClipboard"}static get requires(){return[ku,Ar,tc,to]}init(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"copy",(r,l)=>this._onCopyCut(r,l)),this.listenTo(i,"cut",(r,l)=>this._onCopyCut(r,l)),this.listenTo(e.model,"insertContent",(r,[l,u])=>this._onInsertContent(r,l,u),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,i){const r=this.editor.editing.view,l=this.editor.plugins.get(tc),u=this.editor.plugins.get(ku);l.getSelectedTableCells()&&(e.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(i.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const C=u._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>l.getSelectionAsFragment());r.document.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:this.editor.data.toView(C),method:e.name})}))}_onInsertContent(e,i,r){if(r&&!r.is("documentSelection"))return;const l=this.editor.model,u=this.editor.plugins.get(to),C=this.editor.plugins.get(ku),f=this.getTableIfOnlyTableInContent(i,l);if(!f)return;const w=u.getSelectionAffectedTableCells(l.document.selection);w.length?(e.stop(),i.is("documentFragment")?C._pasteMarkersIntoTransformedElement(i.markers,S=>this._replaceSelectedCells(f,w,S)):this.editor.model.change(S=>{this._replaceSelectedCells(f,w,S)})):Cy(f,u)}_replaceSelectedCells(e,i,r){const l=this.editor.plugins.get(to),u={width:l.getColumns(e),height:l.getRows(e)},C=function(X,J,U,te){const ae=X[0].findAncestor("table"),he=te.getColumnIndexes(X),Ie=te.getRowIndexes(X),we={firstColumn:he.first,lastColumn:he.last,firstRow:Ie.first,lastRow:Ie.last},We=X.length===1;return We&&(we.lastRow+=J.height-1,we.lastColumn+=J.width-1,function(ze,ut,Nt,zt){const Jn=zt.getColumns(ze),Hi=zt.getRows(ze);Nt>Jn&&zt.insertColumns(ze,{at:Jn,columns:Nt-Jn}),ut>Hi&&zt.insertRows(ze,{at:Hi,rows:ut-Hi})}(ae,we.lastRow+1,we.lastColumn+1,te)),We||!te.isSelectionRectangular(X)?function(ze,ut,Nt){const{firstRow:zt,lastRow:Jn,firstColumn:Hi,lastColumn:PN}=ut,jN={first:zt,last:Jn},ON={first:Hi,last:PN};by(ze,Hi,jN,Nt),by(ze,PN+1,jN,Nt),fy(ze,zt,ON,Nt),fy(ze,Jn+1,ON,Nt,zt)}(ae,we,U):(we.lastRow=fN(ae,we),we.lastColumn=bN(ae,we)),we}(i,u,r,l),f=C.lastRow-C.firstRow+1,w=C.lastColumn-C.firstColumn+1;e=uN(e,{startRow:0,startColumn:0,endRow:Math.min(f,u.height)-1,endColumn:Math.min(w,u.width)-1},r);const S=i[0].findAncestor("table"),R=this._replaceSelectedCellsWithPasted(e,u,S,C,r);if(this.editor.plugins.get("TableSelection").isEnabled){const X=l.sortRanges(R.map(J=>r.createRangeOn(J)));r.setSelection(X)}else r.setSelection(R[0],0);return S}_replaceSelectedCellsWithPasted(e,i,r,l,u){const{width:C,height:f}=i,w=function(he,Ie,we){const We=new Array(we).fill(null).map(()=>new Array(Ie).fill(null));for(const{column:ze,row:ut,cell:Nt}of new Gn(he))We[ut][ze]=Nt;return We}(e,C,f),S=[...new Gn(r,{startRow:l.firstRow,endRow:l.lastRow,startColumn:l.firstColumn,endColumn:l.lastColumn,includeAllSlots:!0})],R=[];let X;for(const he of S){const{row:Ie,column:we}=he;we===l.firstColumn&&(X=he.getPositionBefore());const We=Ie-l.firstRow,ze=we-l.firstColumn,ut=w[We%f][ze%C],Nt=ut?u.cloneElement(ut):null,zt=this._replaceTableSlotCell(he,Nt,X,u);zt&&(IN(zt,Ie,we,l.lastRow,l.lastColumn,u),R.push(zt),X=u.createPositionAfter(zt))}const J=parseInt(r.getAttribute("headingRows")||"0"),U=parseInt(r.getAttribute("headingColumns")||"0"),te=l.firstRow<J&&J<=l.lastRow,ae=l.firstColumn<U&&U<=l.lastColumn;if(te){const he=fy(r,J,{first:l.firstColumn,last:l.lastColumn},u,l.firstRow);R.push(...he)}if(ae){const he=by(r,U,{first:l.firstRow,last:l.lastRow},u);R.push(...he)}return R}_replaceTableSlotCell(e,i,r,l){const{cell:u,isAnchor:C}=e;return C&&l.remove(u),i?(l.insert(i,r),i):null}getTableIfOnlyTableInContent(e,i){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const r=i.createRangeIn(e);for(const l of r.getItems())if(l.is("element","table")){const u=i.createRange(r.start,i.createPositionBefore(l));if(i.hasContent(u,{ignoreWhitespaces:!0}))return null;const C=i.createRange(i.createPositionAfter(l),r.end);return i.hasContent(C,{ignoreWhitespaces:!0})?null:l}return null}}function fy(a,e,i,r,l=0){if(!(e<1))return hN(a,e,l).filter(({column:u,cellWidth:C})=>RN(u,C,i)).map(({cell:u})=>mN(u,e,r))}function by(a,e,i,r){if(!(e<1))return CN(a,e).filter(({row:l,cellHeight:u})=>RN(l,u,i)).map(({cell:l,column:u})=>pN(l,u,e,r))}function RN(a,e,i){const r=a+e-1,{first:l,last:u}=i;return a>=l&&a<=u||a<l&&r>=l}class q8 extends qe{static get pluginName(){return"TableKeyboard"}static get requires(){return[tc,to]}init(){const e=this.editor,i=e.editing.view.document,r=e.t;this.listenTo(i,"arrowKey",(...l)=>this._onArrowKey(...l),{context:"table"}),this.listenTo(i,"tab",(...l)=>this._handleTabOnSelectedTable(...l),{context:"figure"}),this.listenTo(i,"tab",(...l)=>this._handleTab(...l),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:r("Keystrokes that can be used in a table cell"),keystrokes:[{label:r("Move the selection to the next cell"),keystroke:"Tab"},{label:r("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:r("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:r("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,i){const r=this.editor,l=r.model.document.selection.getSelectedElement();l&&l.is("element","table")&&(i.preventDefault(),i.stopPropagation(),e.stop(),r.model.change(u=>{u.setSelection(u.createRangeIn(l.getChild(0).getChild(0)))}))}_handleTab(e,i){const r=this.editor,l=this.editor.plugins.get(to),u=this.editor.plugins.get("TableSelection"),C=r.model.document.selection,f=!i.shiftKey;let w=l.getTableCellsContainingSelection(C)[0];if(w||(w=u.getFocusCell()),!w)return;i.preventDefault(),i.stopPropagation(),e.stop();const S=w.parent,R=S.parent,X=R.getChildIndex(S),J=S.getChildIndex(w),U=J===0;if(!f&&U&&X===0)return void r.model.change(Ie=>{Ie.setSelection(Ie.createRangeOn(R))});const te=J===S.childCount-1,ae=X===l.getRows(R)-1;if(f&&ae&&te&&(r.execute("insertTableRowBelow"),X===l.getRows(R)-1))return void r.model.change(Ie=>{Ie.setSelection(Ie.createRangeOn(R))});let he;if(f&&te)he=R.getChild(X+1).getChild(0);else if(!f&&U){const Ie=R.getChild(X-1);he=Ie.getChild(Ie.childCount-1)}else he=S.getChild(J+(f?1:-1));r.model.change(Ie=>{Ie.setSelection(Ie.createRangeIn(he))})}_onArrowKey(e,i){const r=this.editor,l=RA(i.keyCode,r.locale.contentLanguageDirection);this._handleArrowKeys(l,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),e.stop())}_handleArrowKeys(e,i){const r=this.editor.plugins.get(to),l=this.editor.plugins.get("TableSelection"),u=this.editor.model,C=u.document.selection,f=["right","down"].includes(e),w=r.getSelectedTableCells(C);if(w.length){let R;return R=i?l.getFocusCell():f?w[w.length-1]:w[0],this._navigateFromCellInDirection(R,e,i),!0}const S=C.focus.findAncestor("tableCell");if(!S)return!1;if(!C.isCollapsed)if(i){if(C.isBackward==f&&!C.containsEntireContent(S))return!1}else{const R=C.getSelectedElement();if(!R||!u.schema.isObject(R))return!1}return!!this._isSelectionAtCellEdge(C,S,f)&&(this._navigateFromCellInDirection(S,e,i),!0)}_isSelectionAtCellEdge(e,i,r){const l=this.editor.model,u=this.editor.model.schema,C=r?e.getLastPosition():e.getFirstPosition();if(!u.getLimitElement(C).is("element","tableCell"))return l.createPositionAt(i,r?"end":0).isTouching(C);const f=l.createSelection(C);return l.modifySelection(f,{direction:r?"forward":"backward"}),C.isEqual(f.focus)}_navigateFromCellInDirection(e,i,r=!1){const l=this.editor.model,u=e.findAncestor("table"),C=[...new Gn(u,{includeAllSlots:!0})],{row:f,column:w}=C[C.length-1],S=C.find(({cell:ae})=>ae==e);let{row:R,column:X}=S;switch(i){case"left":X--;break;case"up":R--;break;case"right":X+=S.cellWidth;break;case"down":R+=S.cellHeight}if(R<0||R>f||X<0&&R<=0||X>w&&R>=f)return void l.change(ae=>{ae.setSelection(ae.createRangeOn(u))});X<0?(X=r?0:w,R--):X>w&&(X=r?w:0,R++);const J=C.find(ae=>ae.row==R&&ae.column==X).cell,U=["right","down"].includes(i),te=this.editor.plugins.get("TableSelection");if(r&&te.isEnabled){const ae=te.getAnchorCell()||e;te.setCellSelection(ae,J)}else{const ae=l.createPositionAt(J,U?0:"end");l.change(he=>{he.setSelection(ae)})}}}class $8 extends Ja{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class e6 extends qe{static get pluginName(){return"TableMouse"}static get requires(){return[tc,to]}init(){this.editor.editing.view.addObserver($8),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,i=e.plugins.get(to);let r=!1;const l=e.plugins.get(tc);this.listenTo(e.editing.view.document,"mousedown",(u,C)=>{const f=e.model.document.selection;if(!this.isEnabled||!l.isEnabled||!C.domEvent.shiftKey)return;const w=l.getAnchorCell()||i.getTableCellsContainingSelection(f)[0];if(!w)return;const S=this._getModelTableCellFromDomEvent(C);S&&VN(w,S)&&(r=!0,l.setCellSelection(w,S),C.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{r=!1}),this.listenTo(e.editing.view.document,"selectionChange",u=>{r&&u.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let i,r,l=!1,u=!1;const C=e.plugins.get(tc);this.listenTo(e.editing.view.document,"mousedown",(f,w)=>{this.isEnabled&&C.isEnabled&&(w.domEvent.shiftKey||w.domEvent.ctrlKey||w.domEvent.altKey||(i=this._getModelTableCellFromDomEvent(w)))}),this.listenTo(e.editing.view.document,"mousemove",(f,w)=>{if(!w.domEvent.buttons||!i)return;const S=this._getModelTableCellFromDomEvent(w);S&&VN(i,S)&&(r=S,l||r==i||(l=!0)),l&&(u=!0,C.setCellSelection(i,r),w.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{l=!1,u=!1,i=null,r=null}),this.listenTo(e.editing.view.document,"selectionChange",f=>{u&&f.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const i=e.target,r=this.editor.editing.view.createPositionAt(i,0);return this.editor.editing.mapper.toModelPosition(r).parent.findAncestor("tableCell",{includeSelf:!0})}}function VN(a,e){return a.parent.parent==e.parent.parent}var WN=d(2329),t6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(WN.A,t6),WN.A.locals;function n6(a){const e=a.getSelectedElement();return e&&_N(e)?e:null}function i6(a){const e=a.getFirstPosition();if(!e)return null;let i=e.parent;for(;i;){if(i.is("element")&&_N(i))return i;i=i.parent}return null}function _N(a){return!!a.getCustomProperty("table")&&ki(a)}var NN=d(5506),o6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(NN.A,o6),NN.A.locals;var EN=d(2655),r6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(EN.A,r6),EN.A.locals;var XN=d(4043),s6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(XN.A,s6),XN.A.locals;var YN=d(1623),a6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(YN.A,a6),YN.A.locals;var DN=d(8986),l6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(DN.A,l6),DN.A.locals;const nc=Vo.defaultPositions;nc.northArrowSouth,nc.northArrowSouthWest,nc.northArrowSouthEast,nc.southArrowNorth,nc.southArrowNorthWest,nc.southArrowNorthEast,nc.viewportStickyNorth;var HN=d(5562),c6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(HN.A,c6),HN.A.locals;var FN=d(4143),g6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(FN.A,g6),FN.A.locals;var MN=d(8795),d6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};lt()(MN.A,d6),MN.A.locals;var u6=Object.defineProperty,TN=Object.getOwnPropertySymbols,h6=Object.prototype.hasOwnProperty,m6=Object.prototype.propertyIsEnumerable,JN=(a,e,i)=>e in a?u6(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,LN=(a,e)=>{for(var i in e||(e={}))h6.call(e,i)&&JN(a,i,e[i]);if(TN)for(var i of TN(e))m6.call(e,i)&&JN(a,i,e[i]);return a};const C6={autoRefresh:!0},zN=36e5;class Ay extends rt(){constructor(e,i={}){if(super(),!e)throw new K("token-missing-token-url",this);i.initValue&&this._validateTokenValue(i.initValue),this.set("value",i.initValue),this._refresh=typeof e=="function"?e:()=>{return r=e,new Promise((l,u)=>{const C=new XMLHttpRequest;C.open("GET",r),C.addEventListener("load",()=>{const f=C.status,w=C.response;return f<200||f>299?u(new K("token-cannot-download-new-token",null)):l(w)}),C.addEventListener("error",()=>u(new Error("Network Error"))),C.addEventListener("abort",()=>u(new Error("Abort"))),C.send()});var r},this._options=LN(LN({},C6),i)}init(){return new Promise((e,i)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(i)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const i=typeof e=="string",r=!/^".*"$/.test(e),l=i&&e.split(".").length===3;if(!r||!l)throw new K("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:i}=JSON.parse(atob(e));return i?Math.floor((1e3*i-Date.now())/2):zN}catch{return zN}}static create(e,i={}){return new Ay(e,i).init()}}const yy=/^data:(\S*?);base64,/;class p6 extends fe(){constructor(e,i,r){if(super(),!e)throw new K("fileuploader-missing-file",null);if(!i)throw new K("fileuploader-missing-token",null);if(!r)throw new K("fileuploader-missing-api-address",null);this.file=function(l){if(typeof l!="string")return!1;const u=l.match(yy);return!(!u||!u.length)}(e)?function(l,u=512){try{const C=l.match(yy)[1],f=atob(l.replace(yy,"")),w=[];for(let S=0;S<f.length;S+=u){const R=f.slice(S,S+u),X=new Array(R.length);for(let J=0;J<R.length;J++)X[J]=R.charCodeAt(J);w.push(new Uint8Array(X))}return new Blob(w,{type:C})}catch{throw new K("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=i,this._apiAddress=r}onProgress(e){return this.on("progress",(i,r)=>e(r)),this}onError(e){return this.once("error",(i,r)=>e(r)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,i=r=>()=>this.fire("error",r);e.addEventListener("error",i("Network Error")),e.addEventListener("abort",i("Abort")),e.upload&&e.upload.addEventListener("progress",r=>{r.lengthComputable&&this.fire("progress",{total:r.total,uploaded:r.loaded})}),e.addEventListener("load",()=>{const r=e.status,l=e.response;if(r<200||r>299)return this.fire("error",l.message||l.error)})}_sendRequest(){const e=new FormData,i=this.xhr;return e.append("file",this.file),new Promise((r,l)=>{i.addEventListener("load",()=>{const u=i.status,C=i.response;return u<200||u>299?C.message?l(new K("fileuploader-uploading-data-failed",this,{message:C.message})):l(C.error):r(C)}),i.addEventListener("error",()=>l(new Error("Network Error"))),i.addEventListener("abort",()=>l(new Error("Abort"))),i.send(e)})}}class I6{constructor(e,i){if(!e)throw new K("uploadgateway-missing-token",null);if(!i)throw new K("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=i}upload(e){return new p6(e,this._token,this._apiAddress)}}class f6 extends Um{static get pluginName(){return"CloudServicesCore"}createToken(e,i){return new Ay(e,i)}createUploadGateway(e,i){return new I6(e,i)}}var KN=(a,e,i)=>new Promise((r,l)=>{var u=w=>{try{f(i.next(w))}catch(S){l(S)}},C=w=>{try{f(i.throw(w))}catch(S){l(S)}},f=w=>w.done?r(w.value):Promise.resolve(w.value).then(u,C);f((i=i.apply(a,e)).next())});class ky extends ZC{}ky.builtinPlugins=[class extends qe{static get requires(){return[fP,mV,WC,DO,lO,eO,bV]}static get pluginName(){return"Essentials"}},class extends qe{static get requires(){return[$r]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const a=this.editor.config.get("ckfinder.uploadUrl");a&&(this.editor.plugins.get($r).createUploadAdapter=e=>new UO(e,a,this.editor.t))}},class extends qe{static get requires(){return[oa]}static get pluginName(){return"Autoformat"}afterInit(){const a=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),a.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const a=this.editor.commands;a.get("bulletedList")&&Pa(this.editor,this,/^[*-]\s$/,"bulletedList"),a.get("numberedList")&&Pa(this.editor,this,/^1[.|)]\s$/,"numberedList"),a.get("todoList")&&Pa(this.editor,this,/^\[\s?\]\s$/,"todoList"),a.get("checkTodoList")&&Pa(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const a=this.editor.commands;if(a.get("bold")){const e=YC(this.editor,"bold");mg(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),mg(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(a.get("italic")){const e=YC(this.editor,"italic");mg(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),mg(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(a.get("code")){const e=YC(this.editor,"code");mg(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(a.get("strikethrough")){const e=YC(this.editor,"strikethrough");mg(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const a=this.editor.commands.get("heading");a&&a.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const i=e[7],r=new RegExp(`^(#{${i}})\\s$`);Pa(this.editor,this,r,()=>{if(!a.isEnabled||a.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Pa(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const a=this.editor,e=a.model.document.selection;a.commands.get("codeBlock")&&Pa(a,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Pa(this.editor,this,/^---$/,"horizontalLine")}},class extends qe{static get requires(){return[QO,qO]}static get pluginName(){return"Bold"}},class extends qe{static get requires(){return[eU,tU]}static get pluginName(){return"Italic"}},class extends qe{static get requires(){return[iU,rU]}static get pluginName(){return"BlockQuote"}},class extends qe{static get pluginName(){return"CKBox"}static get requires(){return[HV,sU]}},class extends qe{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",VU,GU]}},class extends Um{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[f6]}init(){return KN(this,null,function*(){const a=this.context.config.get("cloudServices")||{};for(const[i,r]of Object.entries(a))this[i]=r;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(a){return KN(this,null,function*(){if(this._tokens.has(a))return this.getTokenFor(a);const e=this.context.plugins.get("CloudServicesCore"),i=yield e.createToken(a).init();return this._tokens.set(a,i),i})}getTokenFor(a){const e=this._tokens.get(a);if(!e)throw new K("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const a of this._tokens.values())a.destroy()}},class extends qe{static get pluginName(){return"EasyImage"}static get requires(){return[WU,"ImageUpload"]}init(){const a=this.editor;a.plugins.has("ImageBlockEditing")||a.plugins.has("ImageInlineEditing")||de("easy-image-image-feature-missing",a)}},class extends qe{static get requires(){return[YU,HU]}static get pluginName(){return"Heading"}},class extends qe{static get requires(){return[sQ,lQ]}static get pluginName(){return"Image"}},class extends qe{static get requires(){return[gQ,dQ]}static get pluginName(){return"ImageCaption"}},class extends qe{static get requires(){return[zW,EQ]}static get pluginName(){return"ImageStyle"}},class extends qe{static get requires(){return[NC,_o]}static get pluginName(){return"ImageToolbar"}afterInit(){const a=this.editor,e=a.t,i=a.plugins.get(NC),r=a.plugins.get("ImageUtils");var l;i.register("image",{ariaLabel:e("Image toolbar"),items:(l=a.config.get("image.toolbar")||[],l.map(u=>He(u)?u.name:u)),getRelatedElement:u=>r.getClosestSelectedImageWidget(u)})}},class extends qe{static get pluginName(){return"ImageUpload"}static get requires(){return[xQ,mQ,fQ]}},class extends qe{static get pluginName(){return"Indent"}static get requires(){return[XQ,YQ]}},class extends qe{static get requires(){return[u_,u7,h7]}static get pluginName(){return"Link"}},Y7,class extends qe{static get requires(){return[UC,O7,K7,Su]}static get pluginName(){return"MediaEmbed"}},P0,class extends qe{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Ar]}init(){const a=this.editor,e=a.plugins.get("ClipboardPipeline"),i=a.editing.view.document,r=[],l=this.editor.plugins.has("MultiLevelList");r.push(new p8(i,l)),r.push(new f8(i)),r.push(new A8(i)),e.on("inputTransformation",(u,C)=>{if(C._isTransformedWithPasteFromOffice||a.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const f=C.dataTransfer.getData("text/html"),w=r.find(S=>S.isActive(f));w&&(C._parsedData||(C._parsedData=y8(f,i.stylesProcessor)),w.execute(C),C._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends qe{static get requires(){return[O0,_o]}static get pluginName(){return"PictureEditing"}afterInit(){const a=this.editor;a.plugins.has("ImageBlockEditing")&&a.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),a.plugins.has("ImageInlineEditing")&&a.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const a=this.editor,e=a.conversion,i=a.plugins.get("ImageUtils");e.for("upcast").add(function(r){const l=["srcset","media","type","sizes"],u=(C,f,w)=>{const S=f.viewItem;if(!w.consumable.test(S,{name:!0}))return;const R=new Map;for(const U of S.getChildren())if(U.is("element","source")){const te={};for(const ae of l)U.hasAttribute(ae)&&w.consumable.test(U,{attributes:ae})&&(te[ae]=U.getAttribute(ae));Object.keys(te).length&&R.set(U,te)}const X=r.findViewImgElement(S);if(!X)return;let J=f.modelCursor.parent;if(!J.is("element","imageBlock")){const U=w.convertItem(X,f.modelCursor);f.modelRange=U.modelRange,f.modelCursor=U.modelCursor,J=zi(U.modelRange.getItems())}w.consumable.consume(S,{name:!0});for(const[U,te]of R)w.consumable.consume(U,{attributes:Object.keys(te)});R.size&&w.writer.setAttribute("sources",Array.from(R.values()),J),w.convertChildren(S,J)};return C=>{C.on("element:picture",u)}}(i)),e.for("downcast").add(function(r){const l=(u,C,f)=>{if(!f.consumable.consume(C.item,u.name))return;const w=f.writer,S=f.mapper.toViewElement(C.item),R=r.findViewImgElement(S),X=C.attributeNewValue;if(X&&X.length){const J=w.createContainerElement("picture",null,X.map(ae=>w.createEmptyElement("source",ae))),U=[];let te=R.parent;for(;te&&te.is("attributeElement");){const ae=te.parent;w.unwrap(w.createRangeOn(R),te),U.unshift(te),te=ae}w.insert(w.createPositionBefore(R),J),w.move(w.createRangeOn(R),w.createPositionAt(J,"end"));for(const ae of U)w.wrap(w.createRangeOn(J),ae)}else if(R.parent.is("element","picture")){const J=R.parent;w.move(w.createRangeOn(R),w.createPositionBefore(J)),w.remove(J)}};return u=>{u.on("attribute:sources:imageBlock",l),u.on("attribute:sources:imageInline",l)}}(i))}_setupImageUploadEditingIntegration(){const a=this.editor;if(!a.plugins.has("ImageUploadEditing"))return;const e=a.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(i,{imageElement:r,data:l})=>{const u=l.sources;u&&a.model.change(C=>{C.setAttributes({sources:u},r)})})}},class extends qe{static get requires(){return[K8,j8,tc,e6,q8,Q8,Su]}static get pluginName(){return"Table"}},class extends qe{static get requires(){return[NC]}static get pluginName(){return"TableToolbar"}afterInit(){const a=this.editor,e=a.t,i=a.plugins.get(NC),r=a.config.get("table.contentToolbar"),l=a.config.get("table.tableToolbar");r&&i.register("tableContent",{ariaLabel:e("Table toolbar"),items:r,getRelatedElement:i6}),l&&i.register("table",{ariaLabel:e("Table toolbar"),items:l,getRelatedElement:n6})}},class extends qe{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(a){super(a),a.config.define("typing",{transformations:{include:tO}})}init(){const a=this.editor.model.document.selection;a.on("change:range",()=>{this.isEnabled=!a.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const a=this.editor,e=a.model,i=a.plugins.get("Delete"),r=function(u){const C=u.extra||[],f=u.remove||[],w=S=>!f.includes(S);return function(S){const R=new Set;for(const X of S)if(typeof X=="string"&&FR[X])for(const J of FR[X])R.add(J);else R.add(X);return Array.from(R)}(u.include.concat(C).filter(w)).filter(w).map(S=>typeof S=="string"&&HR[S]?HR[S]:S).filter(S=>typeof S=="object").map(S=>({from:nO(S.from),to:iO(S.to)}))}(a.config.get("typing.transformations")),l=new XR(a.model,u=>{for(const C of r)if(C.from.test(u))return{normalizedTransformation:C}});l.on("matched:data",(u,C)=>{if(!C.batch.isTyping)return;const{from:f,to:w}=C.normalizedTransformation,S=f.exec(C.text),R=w(S.slice(1)),X=C.range;let J=S.index;e.enqueueChange(U=>{for(let te=1;te<S.length;te++){const ae=S[te],he=R[te-1];if(he==null){J+=ae.length;continue}const Ie=X.start.getShiftedBy(J),we=e.createRange(Ie,Ie.getShiftedBy(ae.length)),We=oO(Ie);e.insertContent(U.createText(he,We),we),J+=he.length}e.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),l.bind("isEnabled").to(this)}}],ky.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),m=m.default})())})(mf,mf.exports);var B_e=mf.exports;const HJ=Cf(B_e);var Z_e="firebase",G_e="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ld(Z_e,G_e,"app");const R_e={apiKey:"AIzaSyDoOrQTTRRdNYN1QRmEXFAi7EFTDcn88Fk",authDomain:"courtstar-project.firebaseapp.com",projectId:"courtstar-project",storageBucket:"courtstar-project.appspot.com",messagingSenderId:"602134067285",appId:"1:602134067285:web:135a7dbc1f81dd66963cdc"},V_e=JT(R_e),FJ=mGe(V_e),nA=t=>{const{t:n}=on(),[o,s]=q.useState(!1),[d,m]=q.useState(!1),p=()=>{t.setIsOpen(),t.clearForm()},v=async()=>{s(!0);try{await t.submit()}catch{console.log("some bug")}finally{s(!1)}},k=async()=>{m(!0);try{await t.submitDeny()}catch{console.log("some bug")}finally{m(!1)}};return t.clearForm&&q.useEffect(()=>{t.isOpen&&t.clearForm()},[t.isOpen]),q.useEffect(()=>{t.isOpen?document.body.style.overflow="hidden":document.body.style.overflow="unset"},[t.isOpen]),A.jsx("div",{className:t.isOpen===!1?"hidden":"",children:A.jsxs("div",{className:"text-gray-800",children:[A.jsx("div",{className:"fixed z-40 top-0 left-0 h-screen w-screen bg-gray-900 opacity-40"}),A.jsx("div",{className:"fixed z-50 top-0 left-0 h-screen w-screen flex justify-center items-center",children:A.jsxs("div",{className:"relative animate-fade-in-down w-fit pt-3.5 px-5 rounded-xl shadow-2xl bg-white h-[95vh] flex flex-col justify-between",children:[A.jsx("h2",{className:"text-3xl px-5 font-bold mb-3.5 text-center",children:t.title}),A.jsx("div",{className:"flex-1  bg-white mx-auto h-auto overflow-y-auto overflow-x-hidden px-2 mb-3",children:t.html}),A.jsxs("div",{className:"bg-gray-200 rounded-b-xl pb-5 px-5 pt-3 -mx-5 font-semibold flex gap-6",children:[A.jsx(tn,{label:n("upload"),fullWidth:!0,size:"medium",className:"font-semibold bg-primary-green hover:bg-teal-900 text-white",icon:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 22 22",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-check",children:A.jsx("path",{d:"M20 6 9 17l-5-5"})}),loading:o,onClick:v}),t.centreInfo?A.jsx(tn,{label:n("deny"),fullWidth:!0,size:"medium",className:"font-semibold text-red-600 border-2 border-red-600 hover:bg-red-600 bg-white hover:text-white",icon:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[A.jsx("path",{d:"M18 6 6 18"}),A.jsx("path",{d:"m6 6 12 12"})]}),loading:d,onClick:k}):A.jsx(tn,{label:n("discard"),fullWidth:!0,size:"medium",className:"font-semibold text-red-600 border-2 border-red-600 hover:bg-red-600 bg-white hover:text-white ",icon:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[A.jsx("path",{d:"M3 6h18"}),A.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),A.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),A.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),A.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]}),onClick:p})]}),A.jsx("button",{className:"absolute p-2 top-3 right-3 hover:bg-gray-200 rounded-full transition-all duration-300 ease-in-out",onClick:p,children:A.jsx("img",{src:Ev,alt:"x"})})]})})]})})};function W_e(t){const{t:n}=on(),[o,s]=q.useState(""),[d,m]=q.useState(t.imgList),[p,v]=q.useState(t.centreDetail),k=q.useRef(),Z=q.useRef(),_=q.useRef(),N=[{key:"thuDucCity",label:n("thuDucCity")},{key:"district1",label:n("district1")},{key:"district3",label:n("district3")},{key:"district4",label:n("district4")},{key:"district5",label:n("district5")},{key:"district6",label:n("district6")},{key:"district7",label:n("district7")},{key:"district8",label:n("district8")},{key:"district10",label:n("district10")},{key:"district11",label:n("district11")},{key:"district12",label:n("district12")},{key:"binhTanDistrict",label:n("binhTanDistrict")},{key:"binhThanhDistrict",label:n("binhThanhDistrict")},{key:"goVapDistrict",label:n("goVapDistrict")},{key:"phuNhuanDistrict",label:n("phuNhuanDistrict")},{key:"tanBinhDistrict",label:n("tanBinhDistrict")},{key:"tanPhuDistrict",label:n("tanPhuDistrict")},{key:"nhaBeProvince",label:n("nhaBeProvince")},{key:"canGioProvince",label:n("canGioProvince")},{key:"cuChiProvince",label:n("cuChiProvince")},{key:"hocMonProvince",label:n("hocMonProvince")},{key:"binhChanhProvince",label:n("binhChanhProvince")}],G=Ce=>{Ce&&(s(Ce.key),P(be=>({...be,district:Ce.key})))},D=()=>{t.setIsOpen()},M=L();function L(){let Ce=[];for(let be=0;be<24;be++){let Ge=be<10?`0${be}:00`:`${be}:00`;Ce.push({key:be,label:Ge})}return Ce}const[O,P]=q.useState({name:p.name,address:p.address,district:p.district,link:p.link,openTime:p.openTime,closeTime:p.closeTime,pricePerHour:p.pricePerHour,numberOfCourts:p.numberOfCourts,description:p.description,approveDate:De().format("yyyy-MM-DD"),images:[]}),F=Ce=>{const{name:be,value:Ge}=Ce.target;P(Ee=>({...Ee,[be]:Ge}))},j=Ce=>{Ce&&P(be=>({...be,openTime:Ce.label}))},ie=Ce=>{Ce&&P(be=>({...be,closeTime:Ce.label}))},ne=Ce=>{if(Ce!==null){const be=gJ(FJ,`files/${dJ()}`);lJ(be,Ce).then(Ge=>{cJ(Ge.ref).then(Ee=>{m(Se=>[...Se,{url:Ee,ref:Ge.ref}])})})}},ue=(Ce,be)=>{Ce?Vw(Ce).then(()=>{m(Ge=>Ge.filter(Ee=>Ee.url!==be)),P(Ge=>({...Ge,images:Ge.images.filter(Ee=>Ee!==be)}))}).catch(Ge=>{console.error("Error deleting image: ",Ge)}):(m(Ge=>Ge.filter(Ee=>Ee.url!==be)),P(Ge=>({...Ge,images:Ge.images.filter(Ee=>Ee!==be)})))};q.useEffect(()=>{P(Ce=>({...Ce,images:d.map(be=>be.url)}))},[d]);const K=Ce=>{if(d.length<6){const be=Ce.target.files[0];ne(be)}else ht.error("Only upload a maximum of 6 photos",{toastId:"Upload-photo-error"})},de=async()=>{await yt.put(`/courtstar/centre/update/${p.id}`,O).then(Ce=>{ht.success("Edit Successfully!",{toastId:"edit-centre-success"}),m([]),window.location.reload()}).catch(Ce=>{console.log(Ce.message),ht.error(Ce.message,{toastId:"edit-centre-error"})}).finally()},pe=A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsxs("div",{className:"w-[44rem]",children:[A.jsx("div",{children:d.length>0?A.jsx("img",{src:d[0].url,alt:"Centre",className:"h-64 w-fit mx-auto rounded-xl"}):A.jsx("img",{src:"https://i0.wp.com/y20india.in/wp-content/plugins/ultimate-post/assets/img/ultp-fallback-img.png?w=840&ssl=1",alt:"dummy-img",className:"h-64 w-fit mx-auto rounded-xl"})}),A.jsx("div",{className:"flex gap-2 mt-3 pt-1.5 border rounded-md bg-white overflow-hidden mx-auto relative",children:A.jsxs("div",{id:"image-scroll-container",className:"flex gap-2 overflow-x-auto pb-1.5 px-2",children:[A.jsx("div",{className:"flex justify-center items-center border rounded-lg cursor-pointer h-16 min-w-24 px-7",onClick:()=>document.getElementById("image-upload-input-edit").click(),children:A.jsx("span",{className:"text-4xl font-bold",children:"+"})}),A.jsx("input",{id:"image-upload-input-edit",type:"file",onChange:K,className:"hidden"}),d.map((Ce,be)=>A.jsxs("div",{className:"image-container relative",children:[A.jsx("img",{src:Ce.url,alt:`Court ${be+1}`,className:"min-w-24 max-w-24 h-16 rounded-lg object-cover object-center "}),A.jsxs("svg",{onClick:()=>ue(Ce.ref,Ce.url),xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",s:!0,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-x absolute right-1 top-1 bg-white rounded-full cursor-pointer hover:scale-110 ease-in-out duration-200",children:[A.jsx("circle",{cx:"12",cy:"12",r:"10"}),A.jsx("path",{d:"m15 9-6 6"}),A.jsx("path",{d:"m9 9 6 6"})]})]},be))]})})]}),A.jsxs("div",{className:"flex-1 w-[36rem] flex flex-col gap-3",children:[A.jsx(_t,{id:"name",name:"name",placeholder:n("enterCentreName"),label:n("centreName"),value:O.name,onchange:F}),A.jsxs("div",{className:"grid grid-cols-6 gap-x-3",children:[A.jsx("div",{className:"col-span-4",children:A.jsx(_t,{id:"address",name:"address",placeholder:n("enterCentreAddress"),label:n("centreAddress"),value:O.address,onchange:F})}),A.jsx("div",{className:"col-span-2 content-end",children:A.jsx(Wi,{ref:k,items:N,placeholder:n("selectTheDistrict"),onSelect:G,initialValue:n(O.district)})})]}),A.jsx(_t,{id:"pricePerHour",name:"pricePerHour",type:"number",placeholder:n("enterPricePerHour"),label:n("pricePerHour"),value:O.pricePerHour,onchange:F}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx(Wi,{ref:Z,placeholder:n("selectOpenTime"),items:M,onSelect:j,initialValue:De(O.openTime,"HH:mm:ss").format("HH:mm"),dir:"up",label:n("openTimes")+":"}),A.jsx(Wi,{ref:_,placeholder:n("selectCloseTime"),items:M,onSelect:ie,initialValue:De(O.closeTime,"HH:mm:ss").format("HH:mm"),dir:"up",label:n("closeTime")+":"})]})]})]}),A.jsxs("div",{className:"mt-3",children:[A.jsx("div",{className:"w-full flex flex-col gap-2 text-gray-800 font-semibold mb-2",children:"Description:"}),A.jsx(DJ.CKEditor,{editor:HJ,data:O==null?void 0:O.description,onChange:(Ce,be)=>{const Ge=be.getData();P(Ee=>({...Ee,description:Ge}))}})]})]});return A.jsx("div",{children:A.jsx(nA,{html:pe,isOpen:t.isOpen,submit:de,setIsOpen:D,title:n("centreInformation"),editForm:!0})})}function __e(t){var Re,fe;const{t:n}=on(),{state:o,dispatch:s}=Na(),{role:d}=o,m=Va(),[p,v]=q.useState(!1),[k,Z]=q.useState(!1),[_,N]=q.useState(!1),[G,D]=q.useState(),M=t.imgList,L=t.apiFeedbacks,O=new AbortController,{signal:P}=O,[F,j]=q.useState();q.useState();const[ie,ne]=q.useState([]);q.useEffect(()=>{t.centreDetail&&D(t.centreDetail)},[t.centreDetail]),q.useEffect(()=>{G&&t.dataCenterOnSubmit(G)},[G]),q.useEffect(()=>{const Ze=async()=>{await yt.get(`/courtstar/court/${G.id}`,{signal:P}).then(_e=>{ne(_e.data.data.map(Pe=>({...Pe,loading:!1})))}).catch(_e=>{console.log(_e.message)}).finally(()=>{})};G!=null&&G.id&&Ze()},[F,G]);const ue=async()=>{await yt.get(`/courtstar/centre/getCentre/${G.id}`,{signal:P}).then(Ze=>{D(Ze.data.data)}).catch(Ze=>{console.log(Ze.message)}).finally()},K=async(Ze,_e)=>{ne(Pe=>{const Qe=[...Pe];return Qe[_e]={...Qe[_e],loading:!0},Qe}),await yt.post(`/courtstar/court/${G.id}/${Ze}`).then(Pe=>{j(Pe.data.data),ue()}).catch(Pe=>{console.log(Pe.message)}).finally()},de=async Ze=>{Z(!0),await yt.post(`/courtstar/centre/disable/${Ze}`).then(_e=>{_e.data.data&&(D(Pe=>({...Pe,status:!1})),ht.success("Disable successfully",{toastId:"disable-success"}))}).catch(_e=>{ht.error(_e.message,{toastId:"disable-unsuccess"})}).finally(()=>{Z(!1)})},pe=async Ze=>{Z(!0),await yt.post(`/courtstar/centre/active/${Ze}`).then(_e=>{_e.data.data&&(D(Pe=>({...Pe,status:!0})),ht.success("Active successfully",{toastId:"active-success"}))}).catch(_e=>{ht.error(_e.message,{toastId:"active-unsuccess"})}).finally(()=>{Z(!1)})},Ce=async Ze=>{v(!0),await yt.post(`/courtstar/centre/delete/${Ze}`).then(_e=>{_e.data.data&&(ht.success("Delete successfully",{toastId:"delete-success"}),m("/myCentre/balance"),window.location.reload())}).catch(_e=>{ht.error(_e.message,{toastId:"delete-unsuccess"})}).finally(()=>{v(!1)})},[be,Ge]=q.useState(!1),Ee=()=>{Ge(!0)},Se=()=>{Ge(!1)},ke=async Ze=>{await yt.post("/courtstar/slot/disable",{bookingDetails:Ze}).then(_e=>{console.log(_e.data.data)}).catch(_e=>{console.log(_e.message)}).finally(()=>{})},Be=async Ze=>{N(!0),await yt.post(`/courtstar/court/${Ze}`).then(_e=>{D(Pe=>({...Pe,courts:_e.data.data}))}).catch(_e=>{console.log(_e.message)}).finally(()=>{N(!1)})};return G&&A.jsxs("div",{className:"flex flex-1 flex-col gap-2 py-2",children:[A.jsx(W_e,{isOpen:be,setIsOpen:Se,centreDetail:G,imgList:M}),A.jsxs("div",{className:"flex items-center justify-between py-3",children:[A.jsx("div",{className:"text-2xl font-semibold ",children:G.name}),A.jsx("div",{className:"font-semibold",children:G.approveDate?A.jsx(A.Fragment,{children:G.status?A.jsx("div",{className:"bg-primary-green text-white px-3 py-1 rounded-xl",children:"Opening"}):A.jsx("div",{className:"bg-red-500 text-white px-3 py-1 rounded-xl",children:"Closed"})}):A.jsx(A.Fragment,{children:A.jsx("div",{className:"bg-red-500 text-white px-3 py-1 rounded-xl",children:"Pending"})})})]}),A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsx("div",{className:"",children:A.jsx(Qb,{images:G.images})}),A.jsxs("div",{className:"flex-1 flex flex-col gap-3",children:[A.jsxs("div",{className:"flex gap-3 font-semibold",children:[G.status?A.jsx(tn,{label:n("close"),fullWidth:!0,size:"medium",className:"bg-black text-white",icon:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-lock-keyhole",children:[A.jsx("circle",{cx:"12",cy:"16",r:"1"}),A.jsx("rect",{x:"3",y:"10",width:"18",height:"12",rx:"2"}),A.jsx("path",{d:"M7 10V7a5 5 0 0 1 10 0v3"})]}),onClick:()=>de(G.id),loading:k,disabled:!G.approveDate}):A.jsx(tn,{label:n("activate"),fullWidth:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",icon:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-lock-keyhole-open",children:[A.jsx("circle",{cx:"12",cy:"16",r:"1"}),A.jsx("rect",{width:"18",height:"12",x:"3",y:"10",rx:"2"}),A.jsx("path",{d:"M7 10V7a5 5 0 0 1 9.33-2.5"})]}),onClick:()=>pe(G.id),loading:k,disabled:!G.approveDate}),d!=="STAFF"&&A.jsx(tn,{label:n("delete"),fullWidth:!0,size:"medium",className:"bg-red-600 hover:bg-red-800 text-white",icon:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[A.jsx("path",{d:"M3 6h18"}),A.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),A.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),A.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),A.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]}),onClick:()=>Ce(G.id),loading:p,disabled:!G.approveDate})]}),A.jsx("div",{className:"w-full h-0.5 bg-slate-600 rounded-full"}),A.jsxs("div",{className:"flex flex-col gap-3",children:[A.jsx("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow flex flex-col gap-3",children:A.jsxs("div",{className:"flex flex-col gap-1.5",children:[A.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[n("information"),d!=="STAFF"&&A.jsx(A.Fragment,{children:G.approveDate&&A.jsx("button",{className:`flex justify-center items-center text-primary-green  rounded-md\r
                    px-2 hover:bg-primary-green hover:text-white ease-in-out duration-300 cursor-pointer`,onClick:Ee,disabled:!G.approveDate,children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-pencil",children:[A.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),A.jsx("path",{d:"m15 5 4 4"})]})})})]}),A.jsxs("div",{className:"px-2",children:[A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[n("address"),": "]}),G.address,", ",n(G.district)]}),A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[n("openTime"),": "]}),De(G.openTime,"HH:mm:ss").format("HH:mm")," - ",De(G.closeTime,"HH:mm:ss").format("HH:mm")]}),A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[n("price"),": "]}),A.jsxs("span",{className:"font-semibold text-rose-600",children:[(Re=G==null?void 0:G.pricePerHour)==null?void 0:Re.toLocaleString("de-DE")," VND/h"]})]}),A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[n("description"),": "]}),A.jsx("div",{dangerouslySetInnerHTML:{__html:G==null?void 0:G.description}})]})]})]})}),A.jsxs("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow flex flex-col gap-3",children:[A.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[n("numberOfCourts"),": "]}),(fe=G==null?void 0:G.courts)==null?void 0:fe.length]}),_?A.jsx(Sn,{width:"18",height:"18",color:"#2B5A50"}):A.jsx(A.Fragment,{children:G.approveDate&&A.jsx("button",{className:`flex justify-center items-center text-primary-green  rounded-md\r
                        px-2 hover:bg-primary-green hover:text-white ease-in-out duration-300 cursor-pointer`,onClick:()=>Be(G.id),children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-plus",children:[A.jsx("path",{d:"M5 12h14"}),A.jsx("path",{d:"M12 5v14"})]})})})]}),A.jsx("div",{className:"mx-auto",children:A.jsx("div",{className:"grid grid-cols-2 gap-x-3",children:ie.map((Ze,_e)=>A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsxs("div",{className:"",children:[Ze.courtNo,"."]}),A.jsxs("div",{className:"flex justify-between gap-1 w-full items-center text-sm",children:[A.jsxs("div",{className:"flex gap-1 ",children:[A.jsxs("div",{className:"font-semibold",children:[n("status"),":"]}),A.jsx("div",{className:Ze.status?"font-semibold text-primary-green":"font-semibold text-red-500",children:Ze.status?"Active":"Close"})]}),Ze.status?A.jsx(tn,{className:"p-1 hover:bg-slate-100",icon:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-lock-keyhole",children:[A.jsx("circle",{cx:"12",cy:"16",r:"1"}),A.jsx("rect",{x:"3",y:"10",width:"18",height:"12",rx:"2"}),A.jsx("path",{d:"M7 10V7a5 5 0 0 1 10 0v3"})]}),onClick:()=>K(Ze.courtNo,_e),loading:Ze.loading,loadingColor:"#2B5A50",loadingWidth:"20",loadingHeight:"20",disabled:!G.approveDate}):A.jsx(tn,{className:"p-1 hover:bg-teal-50 ",icon:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#2B5A50",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-lock-keyhole-open",children:[A.jsx("circle",{cx:"12",cy:"16",r:"1"}),A.jsx("rect",{width:"18",height:"12",x:"3",y:"10",rx:"2"}),A.jsx("path",{d:"M7 10V7a5 5 0 0 1 9.33-2.5"})]}),onClick:()=>K(Ze.courtNo,_e),loading:Ze.loading,loadingColor:"#2B5A50",loadingWidth:"20",loadingHeight:"20"})]})]},Ze.id))})})]})]})]})]}),A.jsxs("div",{id:"manage",className:"flex-1 rounded-lg shadow-gray-400 shadow-md",children:[A.jsx("div",{className:"text-white rounded-t-lg bg-primary-green flex items-center justify-center gap-1.5 py-2",children:A.jsx("span",{className:"text-3xl font-medium",children:"Manage"})}),A.jsx("div",{className:"bg-white rounded-b-lg p-8 pt-0",children:A.jsx("div",{className:"",children:A.jsx(GT,{handleButton:ke,typeOfCalendar:"manage",centre:G})})})]}),A.jsxs("div",{id:"top",className:"flex-1 bg-white rounded-lg shadow-gray-400 shadow-md mt-3",children:[A.jsx("div",{className:"text-white rounded-t-lg bg-primary-green flex items-center justify-center gap-1.5 py-2",children:A.jsx("span",{className:"text-3xl font-medium",children:"Feedbacks"})}),A.jsx("div",{className:"",children:A.jsx(L1,{listItem:L,itemsPerPage:10})})]})]})}function N_e({isOpen:t,setIsOpen:n,id:o,loadStaffInfo:s}){const{t:d}=on(),[m,p]=q.useState({centreId:o,firstName:"",lastName:"",email:"",phone:"",password:""}),v=G=>{const{name:D,value:M}=G.target;p(L=>({...L,[D]:M}))},k=async()=>{try{const G=await yt.post("/courtstar/account/staff",m);ht.success(d("addStaffSuccess"),{toastId:"add-staff-success"}),Z(),s()}catch(G){ht.error(d("addStaffError",{error:G.message}),{toastId:"add-staff-error"})}},Z=()=>{n(),_()},_=()=>{p({centreId:o,firstName:"",lastName:"",email:"",phone:"",password:""})};q.useEffect(()=>{t&&_()},[t]);const N=A.jsxs("div",{children:[A.jsxs("div",{className:"mb-4 flex gap-5",children:[A.jsx(_t,{id:"firstName",name:"firstName",placeholder:d("enterFirstName"),label:d("firstName"),value:m.firstName,onchange:v}),A.jsx(_t,{id:"lastName",name:"lastName",placeholder:d("enterLastName"),label:d("lastName"),value:m.lastName,onchange:v})]}),A.jsx("div",{className:"mb-4",children:A.jsx(_t,{id:"email",name:"email",placeholder:d("enterStaffEmail"),label:"Email",value:m.email,onchange:v})}),A.jsx("div",{className:"mb-4",children:A.jsx(_t,{id:"phone",name:"phone",placeholder:d("enterStaffPhone"),label:d("phone"),value:m.phone,onchange:v})}),A.jsx("div",{className:"mb-4",children:A.jsx(pd,{id:"password",name:"password",placeholder:d("enterStaffPassword"),label:d("password"),value:m.password,onchange:v,evaluate:!0})})]});return A.jsx(nA,{html:N,isOpen:t,setIsOpen:Z,title:d("staffInformation"),submit:k,clearForm:_})}function E_e(t){const{t:n}=on(),[o,s]=q.useState([]),[d,m]=q.useState(null),p=q.useRef();q.useEffect(()=>{yt.get("/courtstar/centre/getAllCentresOfManager").then(N=>{const G=N.data.data.map(D=>({key:D.id,label:D.name}));s(G)}).catch(N=>{console.log(N.message),ht.error(N.message,{toastId:"fetch-centres-error"})})},[]);const v=N=>{N&&m(N.key)},k=()=>{t.setIsOpen()},Z=async()=>{console.log("Selected Centre:",d),yt.put(`/courtstar/staff/move/centre/${t.staffId}/${d}`).then(N=>{ht.success("Staff moved successfully!",{toastId:"move-staff-success"}),window.location.reload()}).catch(N=>{console.log(N.message),ht.error(N.message,{toastId:"move-staff-error"})})},_=A.jsxs("div",{className:"flex flex-col gap-4 p-3 w-80 overflow-y-auto",children:[A.jsx(Wi,{ref:p,items:o,placeholder:n("selectCentre"),onSelect:v,label:"Centre:",className:""}),A.jsx(tn,{onClick:Z,label:n("Submit"),fullWidth:!0,fullRounded:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white"})]});return A.jsx("div",{children:A.jsx(ms,{html:_,isOpen:t.isOpen,setIsOpen:k,title:"Move Staff",centreInfo:!0})})}function X_e(){const t=new AbortController,{signal:n}=t,{t:o}=on(),{id:s}=Nf(),[d,m]=q.useState(1),p=10,[v,k]=q.useState(!0),[Z,_]=q.useState(!1),N=()=>{_(!0)},G=()=>{_(!1)},[D,M]=q.useState(!1),[L,O]=q.useState(),P=Ce=>{O(Ce),M(!0)},F=()=>{M(!1)},[j,ie]=q.useState([]),ne=async()=>{try{const Ce=await yt.get(`/courtstar/staff/centre/${s}`,{signal:n});ie(Ce.data.data)}catch(Ce){console.log(Ce.message)}finally{k(!1)}};q.useEffect(()=>(ne(),()=>{t.abort()}),[s]);const ue=d*p,K=ue-p,de=j.slice(K,ue),pe=Ce=>{m(Ce)};return A.jsxs("div",{className:"w-[70rem] my-12",children:[A.jsx(N_e,{id:s,isOpen:Z,setIsOpen:G,loadStaffInfo:ne}),A.jsx(E_e,{isOpen:D,setIsOpen:F,staffId:L,loadStaffInfo:ne}),A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("div",{className:"text-3xl font-bold",children:o("staffInformation")}),A.jsx("div",{children:A.jsx(tn,{label:o("addStaff"),fullWidth:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",icon:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-plus",children:[A.jsx("path",{d:"M5 12h14"}),A.jsx("path",{d:"M12 5v14"})]}),onClick:N})})]}),v?A.jsx("div",{className:"flex justify-center items-center h-96",children:A.jsx(Sn,{type:"page",height:"80",width:"80",color:"#2B5A50"})}):j.length?A.jsxs("div",{className:"mt-4",children:[A.jsxs("div",{className:"flex bg-white rounded-xl shadow-lg text-lg font-semibold rounded-t-lg",children:[A.jsx("div",{className:"w-1/3 px-8 py-2 ",children:o("fullName")}),A.jsx("div",{className:"w-1/3 px-8 py-2 ",children:"Email"}),A.jsx("div",{className:"w-1/6 px-8 py-2 ",children:o("phone")}),A.jsx("div",{className:""})]}),A.jsx("div",{className:"mt-2",children:de.map(Ce=>A.jsxs("div",{className:"flex bg-white shadow font-medium py-1.5 rounded-xl mt-1",children:[A.jsxs("div",{className:"w-1/3 px-8 truncate py-2",children:[Ce.account.firstName," ",Ce.account.lastName]}),A.jsx("div",{className:"w-1/3 px-8 py-2 ",children:Ce.account.email}),A.jsx("div",{className:"w-1/6 px-8 py-2",children:Ce.account.phone}),A.jsxs("div",{className:"flex flex-1 items-center justify-center gap-8",children:[A.jsx("div",{className:"p-1.5 rounded-full hover:bg-emerald-900 hover:text-white cursor-pointer ease-in-out duration-300",onClick:()=>P(Ce.id),children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-pencil",children:[A.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),A.jsx("path",{d:"m15 5 4 4"})]})}),A.jsx("div",{className:"p-1.5 rounded-full hover:bg-red-600 hover:text-white cursor-pointer ease-in-out duration-300",children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[A.jsx("path",{d:"M3 6h18"}),A.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),A.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),A.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),A.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})})]})]},Ce.id))})]}):A.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-3xl text-primary",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"300",height:"300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users-round",children:[A.jsx("path",{d:"M18 21a8 8 0 0 0-16 0"}),A.jsx("circle",{cx:"10",cy:"8",r:"5"}),A.jsx("path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3"})]}),"There are no staffs yet!"]}),j.length>p&&A.jsx(Ea,{totalItems:j.length,itemsPerPage:p,currentPage:d,onPageChange:pe})]})}function Y_e(t,n,o){return(n=Mke(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function D_e(t){if(Array.isArray(t))return t}function H_e(t,n){var o=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(o!=null){var s,d,m,p,v=[],k=!0,Z=!1;try{if(m=(o=o.call(t)).next,n!==0)for(;!(k=(s=m.call(o)).done)&&(v.push(s.value),v.length!==n);k=!0);}catch(_){Z=!0,d=_}finally{try{if(!k&&o.return!=null&&(p=o.return(),Object(p)!==p))return}finally{if(Z)throw d}}return v}}function OY(t,n){(n==null||n>t.length)&&(n=t.length);for(var o=0,s=Array(n);o<n;o++)s[o]=t[o];return s}function F_e(t,n){if(t){if(typeof t=="string")return OY(t,n);var o={}.toString.call(t).slice(8,-1);return o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set"?Array.from(t):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?OY(t,n):void 0}}function M_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T_e(t,n){return D_e(t)||H_e(t,n)||F_e(t,n)||M_e()}function J_e(t,n){if(t==null)return{};var o,s,d=Jt(t,n);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(t);for(s=0;s<m.length;s++)o=m[s],n.indexOf(o)>=0||{}.propertyIsEnumerable.call(t,o)&&(d[o]=t[o])}return d}var MJ={exports:{}},Dn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi=typeof Symbol=="function"&&Symbol.for,gS=qi?Symbol.for("react.element"):60103,dS=qi?Symbol.for("react.portal"):60106,iA=qi?Symbol.for("react.fragment"):60107,oA=qi?Symbol.for("react.strict_mode"):60108,rA=qi?Symbol.for("react.profiler"):60114,sA=qi?Symbol.for("react.provider"):60109,aA=qi?Symbol.for("react.context"):60110,uS=qi?Symbol.for("react.async_mode"):60111,lA=qi?Symbol.for("react.concurrent_mode"):60111,cA=qi?Symbol.for("react.forward_ref"):60112,gA=qi?Symbol.for("react.suspense"):60113,L_e=qi?Symbol.for("react.suspense_list"):60120,dA=qi?Symbol.for("react.memo"):60115,uA=qi?Symbol.for("react.lazy"):60116,z_e=qi?Symbol.for("react.block"):60121,K_e=qi?Symbol.for("react.fundamental"):60117,P_e=qi?Symbol.for("react.responder"):60118,j_e=qi?Symbol.for("react.scope"):60119;function mr(t){if(typeof t=="object"&&t!==null){var n=t.$$typeof;switch(n){case gS:switch(t=t.type,t){case uS:case lA:case iA:case rA:case oA:case gA:return t;default:switch(t=t&&t.$$typeof,t){case aA:case cA:case uA:case dA:case sA:return t;default:return n}}case dS:return n}}}function TJ(t){return mr(t)===lA}Dn.AsyncMode=uS;Dn.ConcurrentMode=lA;Dn.ContextConsumer=aA;Dn.ContextProvider=sA;Dn.Element=gS;Dn.ForwardRef=cA;Dn.Fragment=iA;Dn.Lazy=uA;Dn.Memo=dA;Dn.Portal=dS;Dn.Profiler=rA;Dn.StrictMode=oA;Dn.Suspense=gA;Dn.isAsyncMode=function(t){return TJ(t)||mr(t)===uS};Dn.isConcurrentMode=TJ;Dn.isContextConsumer=function(t){return mr(t)===aA};Dn.isContextProvider=function(t){return mr(t)===sA};Dn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===gS};Dn.isForwardRef=function(t){return mr(t)===cA};Dn.isFragment=function(t){return mr(t)===iA};Dn.isLazy=function(t){return mr(t)===uA};Dn.isMemo=function(t){return mr(t)===dA};Dn.isPortal=function(t){return mr(t)===dS};Dn.isProfiler=function(t){return mr(t)===rA};Dn.isStrictMode=function(t){return mr(t)===oA};Dn.isSuspense=function(t){return mr(t)===gA};Dn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===iA||t===lA||t===rA||t===oA||t===gA||t===L_e||typeof t=="object"&&t!==null&&(t.$$typeof===uA||t.$$typeof===dA||t.$$typeof===sA||t.$$typeof===aA||t.$$typeof===cA||t.$$typeof===K_e||t.$$typeof===P_e||t.$$typeof===j_e||t.$$typeof===z_e)};Dn.typeOf=mr;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var UY=Object.getOwnPropertySymbols,O_e=Object.prototype.hasOwnProperty,U_e=Object.prototype.propertyIsEnumerable;function Q_e(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function q_e(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var n={},o=0;o<10;o++)n["_"+String.fromCharCode(o)]=o;var s=Object.getOwnPropertyNames(n).map(function(m){return n[m]});if(s.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(m){d[m]=m}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}q_e();var $_e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eNe=$_e;Function.call.bind(Object.prototype.hasOwnProperty);var tNe=eNe;function JJ(){}function LJ(){}LJ.resetWarningCache=JJ;var nNe=function(){function t(s,d,m,p,v,k){if(k!==tNe){var Z=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Z.name="Invariant Violation",Z}}t.isRequired=t;function n(){return t}var o={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:n,element:t,elementType:t,instanceOf:n,node:t,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:LJ,resetWarningCache:JJ};return o.PropTypes=o,o};MJ.exports=nNe();var Wg=MJ.exports;function iNe(t,n){var o=atob(t);return o}function oNe(t,n,o){var s=iNe(t),d=s.indexOf(`
`,10)+1,m=s.substring(d)+"",p=new Blob([m],{type:"application/javascript"});return URL.createObjectURL(p)}function rNe(t,n,o){var s;return function(m){return s=s||oNe(t),new Worker(s,m)}}var sNe=rNe("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9OwoKCWZ1bmN0aW9uIGdldEF1Z21lbnRlZE5hbWVzcGFjZShuKSB7CgkJaWYgKG4uX19lc01vZHVsZSkgcmV0dXJuIG47CgkJdmFyIGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdfX2VzTW9kdWxlJywge3ZhbHVlOiB0cnVlfSk7CgkJT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbiAoaykgewoJCQl2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobiwgayk7CgkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBrLCBkLmdldCA/IGQgOiB7CgkJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQkJZ2V0OiBmdW5jdGlvbiAoKSB7CgkJCQkJcmV0dXJuIG5ba107CgkJCQl9CgkJCX0pOwoJCX0pOwoJCXJldHVybiBhOwoJfQoKCXZhciBCaW5hcnlCaXRtYXAkMSA9IHt9OwoKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBFeGNlcHRpb24kMSA9IHt9OwoKCWZ1bmN0aW9uIGZpeFByb3RvKHRhcmdldCwgcHJvdG90eXBlKSB7CgkgIHZhciBzZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZjsKCSAgc2V0UHJvdG90eXBlT2YgPyBzZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvdHlwZSkgOiB0YXJnZXQuX19wcm90b19fID0gcHJvdG90eXBlOwoJfQoJZnVuY3Rpb24gZml4U3RhY2sodGFyZ2V0LCBmbikgewoJICBpZiAoZm4gPT09IHZvaWQgMCkgewoJICAgIGZuID0gdGFyZ2V0LmNvbnN0cnVjdG9yOwoJICB9CgoJICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTsKCSAgY2FwdHVyZVN0YWNrVHJhY2UgJiYgY2FwdHVyZVN0YWNrVHJhY2UodGFyZ2V0LCBmbik7Cgl9CgoJdmFyIF9fZXh0ZW5kcyRrID0gZnVuY3Rpb24gKCkgewoJICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7CgkgICAgICBfX3Byb3RvX186IFtdCgkgICAgfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICBkLl9fcHJvdG9fXyA9IGI7CgkgICAgfSB8fCBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0KCSAgICB9OwoKCSAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgfTsKCgkgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgoJICAgIGZ1bmN0aW9uIF9fKCkgewoJICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7CgkgICAgfQoKCSAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgIH07Cgl9KCk7CgoJdmFyIEN1c3RvbUVycm9yID0gZnVuY3Rpb24gKF9zdXBlcikgewoJICBfX2V4dGVuZHMkayhDdXN0b21FcnJvciwgX3N1cGVyKTsKCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKG1lc3NhZ2UpIHsKCSAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7CgoJICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7CgoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ25hbWUnLCB7CgkgICAgICB2YWx1ZTogX25ld1RhcmdldC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmaXhQcm90byhfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpOwoJICAgIGZpeFN0YWNrKF90aGlzKTsKCSAgICByZXR1cm4gX3RoaXM7CgkgIH0KCgkgIHJldHVybiBDdXN0b21FcnJvcjsKCX0oRXJyb3IpOwoKCXZhciBfX3NwcmVhZEFycmF5cyA9IGZ1bmN0aW9uICgpIHsKCSAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzOwoKCSAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7IHMgKz0gYXJndW1lbnRzJDFbaV0ubGVuZ3RoOyB9CgoJICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspIHsgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspIHsgcltrXSA9IGFbal07IH0gfQoKCSAgcmV0dXJuIHI7Cgl9OwoJZnVuY3Rpb24gY3VzdG9tRXJyb3JGYWN0b3J5KGZuLCBwYXJlbnQpIHsKCSAgaWYgKHBhcmVudCA9PT0gdm9pZCAwKSB7CgkgICAgcGFyZW50ID0gRXJyb3I7CgkgIH0KCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKCkgewoJICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50czsKCgkgICAgdmFyIGFyZ3MgPSBbXTsKCgkgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldOwoJICAgIH0KCgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEN1c3RvbUVycm9yKSkgeyByZXR1cm4gbmV3IChDdXN0b21FcnJvci5iaW5kLmFwcGx5KEN1c3RvbUVycm9yLCBfX3NwcmVhZEFycmF5cyhbdm9pZCAwXSwgYXJncykpKSgpOyB9CgkgICAgcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3MpOwoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHsKCSAgICAgIHZhbHVlOiBmbi5uYW1lIHx8IHBhcmVudC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmbi5hcHBseSh0aGlzLCBhcmdzKTsKCSAgICBmaXhTdGFjayh0aGlzLCBDdXN0b21FcnJvcik7CgkgIH0KCgkgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDdXN0b21FcnJvciwgewoJICAgIHByb3RvdHlwZTogewoJICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSwgewoJICAgICAgICBjb25zdHJ1Y3RvcjogewoJICAgICAgICAgIHZhbHVlOiBDdXN0b21FcnJvciwKCSAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKCSAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICAgICAgfQoJICAgICAgfSkKCSAgICB9CgkgIH0pOwoJfQoKCXZhciBjdXN0b21FcnJvciA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHsKCQlfX3Byb3RvX186IG51bGwsCgkJQ3VzdG9tRXJyb3I6IEN1c3RvbUVycm9yLAoJCWN1c3RvbUVycm9yRmFjdG9yeTogY3VzdG9tRXJyb3JGYWN0b3J5Cgl9KTsKCgl2YXIgcmVxdWlyZSQkMCA9IC8qQF9fUFVSRV9fKi9nZXRBdWdtZW50ZWROYW1lc3BhY2UoY3VzdG9tRXJyb3IpOwoKCXZhciBfX2V4dGVuZHMkaiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIHRzX2N1c3RvbV9lcnJvcl8xID0gcmVxdWlyZSQkMDsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRqKEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICAvKioKCSAgICAgKiBBbGxvd3MgRXhjZXB0aW9uIHRvIGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5CgkgICAgICogd2l0aCBzb21lIG1lc3NhZ2UgYW5kIHByb3RvdHlwZSBkZWZpbml0aW9uLgoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlKSB7CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBFeGNlcHRpb24ucHJvdG90eXBlLmdldEtpbmQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBleCA9IHRoaXMuY29uc3RydWN0b3I7CgkgICAgICAgIHJldHVybiBleC5raW5kOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSXQncyB0eXBlZCBhcyBzdHJpbmcgc28gaXQgY2FuIGJlIGV4dGVuZGVkIGFuZCBvdmVycmlkZW4uCgkgICAgICovCgkgICAgRXhjZXB0aW9uLmtpbmQgPSAnRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRXhjZXB0aW9uOwoJfSh0c19jdXN0b21fZXJyb3JfMS5DdXN0b21FcnJvcikpOwoJRXhjZXB0aW9uJDEuZGVmYXVsdCA9IEV4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSQ5ID0gRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaShJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCkgewoJICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CgkgICAgfQoJICAgIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjsKCX0oRXhjZXB0aW9uXzEkOS5kZWZhdWx0KSk7CglJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMS5kZWZhdWx0ID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJ5Qml0bWFwJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgQmluYXJ5Qml0bWFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEJpbmFyeUJpdG1hcChiaW5hcml6ZXIpIHsKCSAgICAgICAgdGhpcy5iaW5hcml6ZXIgPSBiaW5hcml6ZXI7CgkgICAgICAgIGlmIChiaW5hcml6ZXIgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhLmRlZmF1bHQoJ0JpbmFyaXplciBtdXN0IGJlIG5vbi1udWxsLicpOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gVGhlIHdpZHRoIG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcC4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29udmVydHMgb25lIHJvdyBvZiBsdW1pbmFuY2UgZGF0YSB0byAxIGJpdCBkYXRhLiBNYXkgYWN0dWFsbHkgZG8gdGhlIGNvbnZlcnNpb24sIG9yIHJldHVybgoJICAgICAqIGNhY2hlZCBkYXRhLiBDYWxsZXJzIHNob3VsZCBhc3N1bWUgdGhpcyBtZXRob2QgaXMgZXhwZW5zaXZlIGFuZCBjYWxsIGl0IGFzIHNlbGRvbSBhcyBwb3NzaWJsZS4KCSAgICAgKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMUQgYmFyY29kZXMgYW5kIG1heSBjaG9vc2UgdG8gYXBwbHkgc2hhcnBlbmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gZmV0Y2gsIHdoaWNoIG11c3QgYmUgaW4gWzAsIGJpdG1hcCBoZWlnaHQpCgkgICAgICogQHBhcmFtIHJvdyBBbiBvcHRpb25hbCBwcmVhbGxvY2F0ZWQgYXJyYXkuIElmIG51bGwgb3IgdG9vIHNtYWxsLCBpdCB3aWxsIGJlIGlnbm9yZWQuCgkgICAgICogICAgICAgICAgICBJZiB1c2VkLCB0aGUgQmluYXJpemVyIHdpbGwgY2FsbCBCaXRBcnJheS5jbGVhcigpLiBBbHdheXMgdXNlIHRoZSByZXR1cm5lZCBvYmplY3QuCgkgICAgICogQHJldHVybiBUaGUgYXJyYXkgb2YgYml0cyBmb3IgdGhpcyByb3cgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgcm93IGNhbid0IGJlIGJpbmFyaXplZAoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUuZ2V0QmxhY2tSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEJsYWNrUm93KHksIHJvdyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBhIDJEIGFycmF5IG9mIGx1bWluYW5jZSBkYXRhIHRvIDEgYml0LiBBcyBhYm92ZSwgYXNzdW1lIHRoaXMgbWV0aG9kIGlzIGV4cGVuc2l2ZQoJICAgICAqIGFuZCBkbyBub3QgY2FsbCBpdCByZXBlYXRlZGx5LiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMkQgYmFyY29kZXMgYW5kIG1heSBvcgoJICAgICAqIG1heSBub3QgYXBwbHkgc2hhcnBlbmluZy4gVGhlcmVmb3JlLCBhIHJvdyBmcm9tIHRoaXMgbWF0cml4IG1heSBub3QgYmUgaWRlbnRpY2FsIHRvIG9uZQoJICAgICAqIGZldGNoZWQgdXNpbmcgZ2V0QmxhY2tSb3coKSwgc28gZG9uJ3QgbWl4IGFuZCBtYXRjaCBiZXR3ZWVuIHRoZW0uCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIFRoZSAyRCBhcnJheSBvZiBiaXRzIGZvciB0aGUgaW1hZ2UgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgaW1hZ2UgY2FuJ3QgYmUgYmluYXJpemVkIHRvIG1ha2UgYSBtYXRyaXgKCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEJsYWNrTWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBUaGUgbWF0cml4IGlzIGNyZWF0ZWQgb24gZGVtYW5kIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHJlcXVlc3RlZCwgdGhlbiBjYWNoZWQuIFRoZXJlIGFyZSB0d28KCSAgICAgICAgLy8gcmVhc29ucyBmb3IgdGhpczoKCSAgICAgICAgLy8gMS4gVGhpcyB3b3JrIHdpbGwgbmV2ZXIgYmUgZG9uZSBpZiB0aGUgY2FsbGVyIG9ubHkgaW5zdGFsbHMgMUQgUmVhZGVyIG9iamVjdHMsIG9yIGlmIGEKCSAgICAgICAgLy8gICAgMUQgUmVhZGVyIGZpbmRzIGEgYmFyY29kZSBiZWZvcmUgdGhlIDJEIFJlYWRlcnMgcnVuLgoJICAgICAgICAvLyAyLiBUaGlzIHdvcmsgd2lsbCBvbmx5IGJlIGRvbmUgb25jZSBldmVuIGlmIHRoZSBjYWxsZXIgaW5zdGFsbHMgbXVsdGlwbGUgMkQgUmVhZGVycy4KCSAgICAgICAgaWYgKHRoaXMubWF0cml4ID09PSBudWxsIHx8IHRoaXMubWF0cml4ID09PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gdGhpcy5iaW5hcml6ZXIuZ2V0QmxhY2tNYXRyaXgoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5tYXRyaXg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhpcyBiaXRtYXAgY2FuIGJlIGNyb3BwZWQuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5pc0Nyb3BTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggY3JvcHBlZCBpbWFnZSBkYXRhLiBJbXBsZW1lbnRhdGlvbnMgbWF5IGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlCgkgICAgICogb3JpZ2luYWwgZGF0YSByYXRoZXIgdGhhbiBhIGNvcHkuIE9ubHkgY2FsbGFibGUgaWYgaXNDcm9wU3VwcG9ydGVkKCkgaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBsZWZ0IFRoZSBsZWZ0IGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0V2lkdGgoKSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB0b3AgY29vcmRpbmF0ZSwgd2hpY2ggbXVzdCBiZSBpbiBbMCxnZXRIZWlnaHQoKSkKCSAgICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSB0byBjcm9wLgoJICAgICAqIEByZXR1cm4gQSBjcm9wcGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBuZXdTb3VyY2UgPSB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5jcm9wKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIGJpdG1hcCBzdXBwb3J0cyBjb3VudGVyLWNsb2Nrd2lzZSByb3RhdGlvbi4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmlzUm90YXRlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkuaXNSb3RhdGVTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpOwoJICAgICAgICByZXR1cm4gbmV3IEJpbmFyeUJpdG1hcCh0aGlzLmJpbmFyaXplci5jcmVhdGVCaW5hcml6ZXIobmV3U291cmNlKSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHJvdGF0ZWQgaW1hZ2UgZGF0YSBieSA0NSBkZWdyZWVzIGNvdW50ZXJjbG9ja3dpc2UuCgkgICAgICogT25seSBjYWxsYWJsZSBpZiB7QGxpbmsgI2lzUm90YXRlU3VwcG9ydGVkKCl9IGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIEEgcm90YXRlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmxhY2tNYXRyaXgoKS50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlIC8qOiBOb3RGb3VuZEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICByZXR1cm4gJyc7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaW5hcnlCaXRtYXA7Cgl9KCkpOwoJdmFyIF9kZWZhdWx0JDMgPSBCaW5hcnlCaXRtYXAkMS5kZWZhdWx0ID0gQmluYXJ5Qml0bWFwOwoKCXZhciBIeWJyaWRCaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBCaW5hcml6ZXIkMSA9IHt9OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJpemVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogVGhpcyBjbGFzcyBoaWVyYXJjaHkgcHJvdmlkZXMgYSBzZXQgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGx1bWluYW5jZSBkYXRhIHRvIDEgYml0IGRhdGEuCgkgKiBJdCBhbGxvd3MgdGhlIGFsZ29yaXRobSB0byB2YXJ5IHBvbHltb3JwaGljYWxseSwgZm9yIGV4YW1wbGUgYWxsb3dpbmcgYSB2ZXJ5IGV4cGVuc2l2ZQoJICogdGhyZXNob2xkaW5nIHRlY2huaXF1ZSBmb3Igc2VydmVycyBhbmQgYSBmYXN0IG9uZSBmb3IgbW9iaWxlLiBJdCBhbHNvIHBlcm1pdHMgdGhlIGltcGxlbWVudGF0aW9uCgkgKiB0byB2YXJ5LCBlLmcuIGEgSk5JIHZlcnNpb24gZm9yIEFuZHJvaWQgYW5kIGEgSmF2YSBmYWxsYmFjayB2ZXJzaW9uIGZvciBvdGhlciBwbGF0Zm9ybXMuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpbmFyaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBCaW5hcml6ZXIoc291cmNlKSB7CgkgICAgICAgIHRoaXMuc291cmNlID0gc291cmNlOwoJICAgIH0KCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEx1bWluYW5jZVNvdXJjZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlOwoJICAgIH07CgkgICAgQmluYXJpemVyLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgcmV0dXJuIEJpbmFyaXplcjsKCX0oKSk7CglCaW5hcml6ZXIkMS5kZWZhdWx0ID0gQmluYXJpemVyOwoKCXZhciBCaXRBcnJheSQxID0ge307CgoJdmFyIEFycmF5cyQxID0ge307CgoJdmFyIFN5c3RlbSQxID0ge307CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5c3RlbSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIFN5c3RlbSgpIHsKCSAgICB9CgkgICAgLy8gcHVibGljIHN0YXRpYyB2b2lkIGFycmF5Y29weShPYmplY3Qgc3JjLCBpbnQgc3JjUG9zLCBPYmplY3QgZGVzdCwgaW50IGRlc3RQb3MsIGludCBsZW5ndGgpCgkgICAgLyoqCgkgICAgICogTWFrZXMgYSBjb3B5IG9mIGEgYXJyYXkuCgkgICAgICovCgkgICAgU3lzdGVtLmFycmF5Y29weSA9IGZ1bmN0aW9uIChzcmMsIHNyY1BvcywgZGVzdCwgZGVzdFBvcywgbGVuZ3RoKSB7CgkgICAgICAgIC8vIFRPRE86IGJldHRlciB1c2Ugc3BsaXQgb3Igc2V0PwoJICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHsKCSAgICAgICAgICAgIGRlc3RbZGVzdFBvcysrXSA9IHNyY1tzcmNQb3MrK107CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuCgkgICAgICovCgkgICAgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTsKCSAgICB9OwoJICAgIHJldHVybiBTeXN0ZW07Cgl9KCkpOwoJU3lzdGVtJDEuZGVmYXVsdCA9IFN5c3RlbTsKCgl2YXIgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyRoID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDggPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaChJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbi5raW5kID0gJ0luZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ4LmRlZmF1bHQpKTsKCUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uXzEgPSBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZyhBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKGluZGV4LCBtZXNzYWdlKSB7CgkgICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5pbmRleCA9IGluZGV4OwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24ua2luZCA9ICdBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb247Cgl9KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KSk7CglBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoKCXZhciBfX3ZhbHVlcyQ3ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5cyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtXzEkNSA9IFN5c3RlbSQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDkgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMSA9IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxOwoJdmFyIEFycmF5cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBcnJheXMoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgYXJyYXkKCSAgICAgKiBvZiBpbnRzLgoJICAgICAqCgkgICAgICogQHBhcmFtIGEgdGhlIGFycmF5IHRvIGJlIGZpbGxlZAoJICAgICAqIEBwYXJhbSB2YWwgdGhlIHZhbHVlIHRvIGJlIHN0b3JlZCBpbiBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5CgkgICAgICovCgkgICAgQXJyYXlzLmZpbGwgPSBmdW5jdGlvbiAoYSwgdmFsKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKQoJICAgICAgICAgICAgYVtpXSA9IHZhbDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQKCSAgICAgKiByYW5nZSBvZiB0aGUgc3BlY2lmaWVkIGFycmF5IG9mIGludHMuICBUaGUgcmFuZ2UgdG8gYmUgZmlsbGVkCgkgICAgICogZXh0ZW5kcyBmcm9tIGluZGV4IHtAY29kZSBmcm9tSW5kZXh9LCBpbmNsdXNpdmUsIHRvIGluZGV4CgkgICAgICoge0Bjb2RlIHRvSW5kZXh9LCBleGNsdXNpdmUuICAoSWYge0Bjb2RlIGZyb21JbmRleD09dG9JbmRleH0sIHRoZQoJICAgICAqIHJhbmdlIHRvIGJlIGZpbGxlZCBpcyBlbXB0eS4pCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgdG8gYmUgZmlsbGVkCgkgICAgICogQHBhcmFtIGZyb21JbmRleCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGVsZW1lbnQgKGluY2x1c2l2ZSkgdG8gYmUKCSAgICAgKiAgICAgICAgZmlsbGVkIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZQoJICAgICAqIEBwYXJhbSB0b0luZGV4IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBlbGVtZW50IChleGNsdXNpdmUpIHRvIGJlCgkgICAgICogICAgICAgIGZpbGxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWUKCSAgICAgKiBAcGFyYW0gdmFsIHRoZSB2YWx1ZSB0byBiZSBzdG9yZWQgaW4gYWxsIGVsZW1lbnRzIG9mIHRoZSBhcnJheQoJICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPiB0b0luZGV4fQoJICAgICAqIEB0aHJvd3MgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPCAwfSBvcgoJICAgICAqICAgICAgICAge0Bjb2RlIHRvSW5kZXggPiBhLmxlbmd0aH0KCSAgICAgKi8KCSAgICBBcnJheXMuZmlsbFdpdGhpbiA9IGZ1bmN0aW9uIChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZhbCkgewoJICAgICAgICBBcnJheXMucmFuZ2VDaGVjayhhLmxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKykKCSAgICAgICAgICAgIGFbaV0gPSB2YWw7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDaGVja3MgdGhhdCB7QGNvZGUgZnJvbUluZGV4fSBhbmQge0Bjb2RlIHRvSW5kZXh9IGFyZSBpbgoJICAgICAqIHRoZSByYW5nZSBhbmQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGV5IGFyZW4ndC4KCSAgICAgKi8KCSAgICBBcnJheXMucmFuZ2VDaGVjayA9IGZ1bmN0aW9uIChhcnJheUxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KSB7CgkgICAgICAgIGlmIChmcm9tSW5kZXggPiB0b0luZGV4KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOS5kZWZhdWx0KCdmcm9tSW5kZXgoJyArIGZyb21JbmRleCArICcpID4gdG9JbmRleCgnICsgdG9JbmRleCArICcpJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGZyb21JbmRleCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KGZyb21JbmRleCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvSW5kZXggPiBhcnJheUxlbmd0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbl8xLmRlZmF1bHQodG9JbmRleCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEFycmF5cy5hc0xpc3QgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBhcmdzID0gW107CgkgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7CgkgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGFyZ3M7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlID0gZnVuY3Rpb24gKHJvd3MsIGNvbHMsIHZhbHVlKSB7CgkgICAgICAgIHZhciBhcnIgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0pOwoJICAgICAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlSW50MzJBcnJheSA9IGZ1bmN0aW9uIChyb3dzLCBjb2xzLCB2YWx1ZSkgewoJICAgICAgICB2YXIgYXJyID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9KTsKCSAgICAgICAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIEludDMyQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuZXF1YWxzID0gZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHsKCSAgICAgICAgaWYgKCFmaXJzdCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIGlmICghc2Vjb25kKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKCFmaXJzdC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoIXNlY29uZC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZmlyc3QubGVuZ3RoICE9PSBzZWNvbmQubGVuZ3RoKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gZmlyc3QubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgaWYgKGZpcnN0W2ldICE9PSBzZWNvbmRbaV0pIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICBBcnJheXMuaGFzaENvZGUgPSBmdW5jdGlvbiAoYSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgaWYgKGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSAxOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgYV8xID0gX192YWx1ZXMkNyhhKSwgYV8xXzEgPSBhXzEubmV4dCgpOyAhYV8xXzEuZG9uZTsgYV8xXzEgPSBhXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAzMSAqIHJlc3VsdCArIGVsZW1lbnQ7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChhXzFfMSAmJiAhYV8xXzEuZG9uZSAmJiAoX2EgPSBhXzEucmV0dXJuKSkgX2EuY2FsbChhXzEpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBBcnJheXMuZmlsbFVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYSwgdmFsdWUpIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IGEubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIGFbaV0gPSB2YWx1ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZiA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbmV3TGVuZ3RoKSB7CgkgICAgICAgIHJldHVybiBvcmlnaW5hbC5zbGljZSgwLCBuZXdMZW5ndGgpOwoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZlVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAob3JpZ2luYWwsIG5ld0xlbmd0aCkgewoJICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoIDw9IG5ld0xlbmd0aCkgewoJICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgICAgIG5ld0FycmF5LnNldChvcmlnaW5hbCk7CgkgICAgICAgICAgICByZXR1cm4gbmV3QXJyYXk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG9yaWdpbmFsLnNsaWNlKDAsIG5ld0xlbmd0aCk7CgkgICAgfTsKCSAgICBBcnJheXMuY29weU9mUmFuZ2UgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGZyb20sIHRvKSB7CgkgICAgICAgIHZhciBuZXdMZW5ndGggPSB0byAtIGZyb207CgkgICAgICAgIHZhciBjb3B5ID0gbmV3IEludDMyQXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgU3lzdGVtXzEkNS5kZWZhdWx0LmFycmF5Y29weShvcmlnaW5hbCwgZnJvbSwgY29weSwgMCwgbmV3TGVuZ3RoKTsKCSAgICAgICAgcmV0dXJuIGNvcHk7CgkgICAgfTsKCSAgICAvKgoJICAgICogUmV0dXJucyB0aGUgaW5kZXggb2Ygb2YgdGhlIGVsZW1lbnQgaW4gYSBzb3J0ZWQgYXJyYXkgb3IgKC1uLTEpIHdoZXJlIG4gaXMgdGhlIGluc2VydGlvbiBwb2ludAoJICAgICogZm9yIHRoZSBuZXcgZWxlbWVudC4KCSAgICAqIFBhcmFtZXRlcnM6CgkgICAgKiAgICAgYXIgLSBBIHNvcnRlZCBhcnJheQoJICAgICogICAgIGVsIC0gQW4gZWxlbWVudCB0byBzZWFyY2ggZm9yCgkgICAgKiAgICAgY29tcGFyYXRvciAtIEEgY29tcGFyYXRvciBmdW5jdGlvbi4gVGhlIGZ1bmN0aW9uIHRha2VzIHR3byBhcmd1bWVudHM6IChhLCBiKSBhbmQgcmV0dXJuczoKCSAgICAqICAgICAgICBhIG5lZ2F0aXZlIG51bWJlciAgaWYgYSBpcyBsZXNzIHRoYW4gYjsKCSAgICAqICAgICAgICAwIGlmIGEgaXMgZXF1YWwgdG8gYjsKCSAgICAqICAgICAgICBhIHBvc2l0aXZlIG51bWJlciBvZiBhIGlzIGdyZWF0ZXIgdGhhbiBiLgoJICAgICogVGhlIGFycmF5IG1heSBjb250YWluIGR1cGxpY2F0ZSBlbGVtZW50cy4gSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgZXF1YWwgZWxlbWVudHMgaW4gdGhlIGFycmF5LAoJICAgICogdGhlIHJldHVybmVkIHZhbHVlIGNhbiBiZSB0aGUgaW5kZXggb2YgYW55IG9uZSBvZiB0aGUgZXF1YWwgZWxlbWVudHMuCgkgICAgKgoJICAgICogaHR0cDovL2pzZmlkZGxlLm5ldC9hcnl6aG92L3BrZnN0NTUwLwoJICAgICovCgkgICAgQXJyYXlzLmJpbmFyeVNlYXJjaCA9IGZ1bmN0aW9uIChhciwgZWwsIGNvbXBhcmF0b3IpIHsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY29tcGFyYXRvcikgewoJICAgICAgICAgICAgY29tcGFyYXRvciA9IEFycmF5cy5udW1iZXJDb21wYXJhdG9yOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtID0gMDsKCSAgICAgICAgdmFyIG4gPSBhci5sZW5ndGggLSAxOwoJICAgICAgICB3aGlsZSAobSA8PSBuKSB7CgkgICAgICAgICAgICB2YXIgayA9IChuICsgbSkgPj4gMTsKCSAgICAgICAgICAgIHZhciBjbXAgPSBjb21wYXJhdG9yKGVsLCBhcltrXSk7CgkgICAgICAgICAgICBpZiAoY21wID4gMCkgewoJICAgICAgICAgICAgICAgIG0gPSBrICsgMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA8IDApIHsKCSAgICAgICAgICAgICAgICBuID0gayAtIDE7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gLW0gLSAxOwoJICAgIH07CgkgICAgQXJyYXlzLm51bWJlckNvbXBhcmF0b3IgPSBmdW5jdGlvbiAoYSwgYikgewoJICAgICAgICByZXR1cm4gYSAtIGI7CgkgICAgfTsKCSAgICByZXR1cm4gQXJyYXlzOwoJfSgpKTsKCUFycmF5cyQxLmRlZmF1bHQgPSBBcnJheXM7CgoJdmFyIEludGVnZXIkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlZ2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogUG9ueWZpbGwgZm9yIEphdmEncyBJbnRlZ2VyIGNsYXNzLgoJICovCgl2YXIgSW50ZWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBJbnRlZ2VyKCkgewoJICAgIH0KCSAgICBJbnRlZ2VyLm51bWJlck9mVHJhaWxpbmdaZXJvcyA9IGZ1bmN0aW9uIChpKSB7CgkgICAgICAgIHZhciB5OwoJICAgICAgICBpZiAoaSA9PT0gMCkKCSAgICAgICAgICAgIHJldHVybiAzMjsKCSAgICAgICAgdmFyIG4gPSAzMTsKCSAgICAgICAgeSA9IGkgPDwgMTY7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDE2OwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgeSA9IGkgPDwgODsKCSAgICAgICAgaWYgKHkgIT09IDApIHsKCSAgICAgICAgICAgIG4gLT0gODsKCSAgICAgICAgICAgIGkgPSB5OwoJICAgICAgICB9CgkgICAgICAgIHkgPSBpIDw8IDQ7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDQ7CgkgICAgICAgICAgICBpID0geTsKCSAgICAgICAgfQoJICAgICAgICB5ID0gaSA8PCAyOwoJICAgICAgICBpZiAoeSAhPT0gMCkgewoJICAgICAgICAgICAgbiAtPSAyOwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG4gLSAoKGkgPDwgMSkgPj4+IDMxKTsKCSAgICB9OwoJICAgIEludGVnZXIubnVtYmVyT2ZMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiAoaSkgewoJICAgICAgICAvLyBIRCwgRmlndXJlIDUtNgoJICAgICAgICBpZiAoaSA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDMyOwoJICAgICAgICB9CgkgICAgICAgIHZhciBuID0gMTsKCSAgICAgICAgaWYgKGkgPj4+IDE2ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDE2OwoJICAgICAgICAgICAgaSA8PD0gMTY7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGkgPj4+IDI0ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDg7CgkgICAgICAgICAgICBpIDw8PSA4OwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID4+PiAyOCA9PT0gMCkgewoJICAgICAgICAgICAgbiArPSA0OwoJICAgICAgICAgICAgaSA8PD0gNDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaSA+Pj4gMzAgPT09IDApIHsKCSAgICAgICAgICAgIG4gKz0gMjsKCSAgICAgICAgICAgIGkgPDw9IDI7CgkgICAgICAgIH0KCSAgICAgICAgbiAtPSBpID4+PiAzMTsKCSAgICAgICAgcmV0dXJuIG47CgkgICAgfTsKCSAgICBJbnRlZ2VyLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgcmV0dXJuIGkudG9TdHJpbmcoMTYpOwoJICAgIH07CgkgICAgSW50ZWdlci50b0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uIChpbnROdW1iZXIpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZyhwYXJzZUludChTdHJpbmcoaW50TnVtYmVyKSwgMikpOwoJICAgIH07CgkgICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4gVGhpcyBmdW5jdGlvbiBpcyBzb21ldGltZXMgcmVmZXJyZWQgdG8gYXMgdGhlIHBvcHVsYXRpb24gY291bnQuCgkgICAgLy8gUmV0dXJuczoKCSAgICAvLyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4KCSAgICBJbnRlZ2VyLmJpdENvdW50ID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgLy8gSEQsIEZpZ3VyZSA1LTIKCSAgICAgICAgaSA9IGkgLSAoKGkgPj4+IDEpICYgMHg1NTU1NTU1NSk7CgkgICAgICAgIGkgPSAoaSAmIDB4MzMzMzMzMzMpICsgKChpID4+PiAyKSAmIDB4MzMzMzMzMzMpOwoJICAgICAgICBpID0gKGkgKyAoaSA+Pj4gNCkpICYgMHgwZjBmMGYwZjsKCSAgICAgICAgaSA9IGkgKyAoaSA+Pj4gOCk7CgkgICAgICAgIGkgPSBpICsgKGkgPj4+IDE2KTsKCSAgICAgICAgcmV0dXJuIGkgJiAweDNmOwoJICAgIH07CgkgICAgSW50ZWdlci50cnVuY0RpdmlzaW9uID0gZnVuY3Rpb24gKGRpdmlkZW5kLCBkaXZpc29yKSB7CgkgICAgICAgIHJldHVybiBNYXRoLnRydW5jKGRpdmlkZW5kIC8gZGl2aXNvcik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBBIHN0cmluZyB0byBhbiBpbnRlZ2VyLgoJICAgICAqIEBwYXJhbSBzIEEgc3RyaW5nIHRvIGNvbnZlcnQgaW50byBhIG51bWJlci4KCSAgICAgKiBAcGFyYW0gcmFkaXggQSB2YWx1ZSBiZXR3ZWVuIDIgYW5kIDM2IHRoYXQgc3BlY2lmaWVzIHRoZSBiYXNlIG9mIHRoZSBudW1iZXIgaW4gbnVtU3RyaW5nLiBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBzdXBwbGllZCwgc3RyaW5ncyB3aXRoIGEgcHJlZml4IG9mICcweCcgYXJlIGNvbnNpZGVyZWQgaGV4YWRlY2ltYWwuIEFsbCBvdGhlciBzdHJpbmdzIGFyZSBjb25zaWRlcmVkIGRlY2ltYWwuCgkgICAgICovCgkgICAgSW50ZWdlci5wYXJzZUludCA9IGZ1bmN0aW9uIChudW0sIHJhZGl4KSB7CgkgICAgICAgIGlmIChyYWRpeCA9PT0gdm9pZCAwKSB7IHJhZGl4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIHJldHVybiBwYXJzZUludChudW0sIHJhZGl4KTsKCSAgICB9OwoJICAgIEludGVnZXIuTUlOX1ZBTFVFXzMyX0JJVFMgPSAtMjE0NzQ4MzY0ODsKCSAgICBJbnRlZ2VyLk1BWF9WQUxVRSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgIHJldHVybiBJbnRlZ2VyOwoJfSgpKTsKCUludGVnZXIkMS5kZWZhdWx0ID0gSW50ZWdlcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdEFycmF5JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDggPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheXNfMSQxID0gQXJyYXlzJDE7Cgl2YXIgSW50ZWdlcl8xJDIgPSBJbnRlZ2VyJDE7Cgl2YXIgU3lzdGVtXzEkNCA9IFN5c3RlbSQxOwoJLyoqCgkgKiA8cD5BIHNpbXBsZSwgZmFzdCBhcnJheSBvZiBiaXRzLCByZXByZXNlbnRlZCBjb21wYWN0bHkgYnkgYW4gYXJyYXkgb2YgaW50cyBpbnRlcm5hbGx5LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgQml0QXJyYXkgLyppbXBsZW1lbnRzIENsb25lYWJsZSovID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsKCSAgICAvLyAgIHRoaXMuc2l6ZSA9IDAKCSAgICAvLyAgIHRoaXMuYml0cyA9IG5ldyBJbnQzMkFycmF5KDEpCgkgICAgLy8gfQoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcihzaXplPzogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh1bmRlZmluZWQgPT09IHNpemUpIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gMAoJICAgIC8vICAgfSBlbHNlIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gc2l6ZQoJICAgIC8vICAgfQoJICAgIC8vICAgdGhpcy5iaXRzID0gdGhpcy5tYWtlQXJyYXkoc2l6ZSkKCSAgICAvLyB9CgkgICAgLy8gRm9yIHRlc3Rpbmcgb25seQoJICAgIGZ1bmN0aW9uIEJpdEFycmF5KHNpemUgLyppbnQqLywgYml0cykgewoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBzaXplKSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSAwOwoJICAgICAgICAgICAgdGhpcy5iaXRzID0gbmV3IEludDMyQXJyYXkoMSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSBzaXplOwoJICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gQml0QXJyYXkubWFrZUFycmF5KHNpemUpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH0KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTsKCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXRTaXplSW5CeXRlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuc2l6ZSArIDcpIC8gOCk7CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZW5zdXJlQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmIChzaXplID4gdGhpcy5iaXRzLmxlbmd0aCAqIDMyKSB7CgkgICAgICAgICAgICB2YXIgbmV3Qml0cyA9IEJpdEFycmF5Lm1ha2VBcnJheShzaXplKTsKCSAgICAgICAgICAgIFN5c3RlbV8xJDQuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5iaXRzLCAwLCBuZXdCaXRzLCAwLCB0aGlzLmJpdHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBpIGJpdCB0byBnZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGJpdCBpIGlzIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiAodGhpcy5iaXRzW01hdGguZmxvb3IoaSAvIDMyKV0gJiAoMSA8PCAoaSAmIDB4MUYpKSkgIT09IDA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHRoaXMuYml0c1tNYXRoLmZsb29yKGkgLyAzMildIHw9IDEgPDwgKGkgJiAweDFGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEZsaXBzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5mbGlwID0gZnVuY3Rpb24gKGkgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSBePSAxIDw8IChpICYgMHgxRik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBmaXJzdCBiaXQgdG8gY2hlY2sKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIGZpcnN0IGJpdCB0aGF0IGlzIHNldCwgc3RhcnRpbmcgZnJvbSB0aGUgZ2l2ZW4gaW5kZXgsIG9yIHNpemUgaWYgbm9uZSBhcmUgc2V0CgkgICAgICogIGF0IG9yIGJleW9uZCB0aGlzIGdpdmVuIGluZGV4CgkgICAgICogQHNlZSAjZ2V0TmV4dFVuc2V0KGludCkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0TmV4dFNldCA9IGZ1bmN0aW9uIChmcm9tIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7CgkgICAgICAgIGlmIChmcm9tID49IHNpemUpIHsKCSAgICAgICAgICAgIHJldHVybiBzaXplOwoJICAgICAgICB9CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IE1hdGguZmxvb3IoZnJvbSAvIDMyKTsKCSAgICAgICAgdmFyIGN1cnJlbnRCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgLy8gbWFzayBvZmYgbGVzc2VyIGJpdHMgZmlyc3QKCSAgICAgICAgY3VycmVudEJpdHMgJj0gfigoMSA8PCAoZnJvbSAmIDB4MUYpKSAtIDEpOwoJICAgICAgICB2YXIgbGVuZ3RoID0gYml0cy5sZW5ndGg7CgkgICAgICAgIHdoaWxlIChjdXJyZW50Qml0cyA9PT0gMCkgewoJICAgICAgICAgICAgaWYgKCsrYml0c09mZnNldCA9PT0gbGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjdXJyZW50Qml0cyA9IGJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBpbmRleCB0byBzdGFydCBsb29raW5nIGZvciB1bnNldCBiaXQKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgdW5zZXQgYml0LCBvciB7QGNvZGUgc2l6ZX0gaWYgbm9uZSBhcmUgdW5zZXQgdW50aWwgdGhlIGVuZAoJICAgICAqIEBzZWUgI2dldE5leHRTZXQoaW50KQoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXROZXh0VW5zZXQgPSBmdW5jdGlvbiAoZnJvbSAvKmludCovKSB7CgkgICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplOwoJICAgICAgICBpZiAoZnJvbSA+PSBzaXplKSB7CgkgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIGJpdHNPZmZzZXQgPSBNYXRoLmZsb29yKGZyb20gLyAzMik7CgkgICAgICAgIHZhciBjdXJyZW50Qml0cyA9IH5iaXRzW2JpdHNPZmZzZXRdOwoJICAgICAgICAvLyBtYXNrIG9mZiBsZXNzZXIgYml0cyBmaXJzdAoJICAgICAgICBjdXJyZW50Qml0cyAmPSB+KCgxIDw8IChmcm9tICYgMHgxRikpIC0gMSk7CgkgICAgICAgIHZhciBsZW5ndGggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgd2hpbGUgKGN1cnJlbnRCaXRzID09PSAwKSB7CgkgICAgICAgICAgICBpZiAoKytiaXRzT2Zmc2V0ID09PSBsZW5ndGgpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGN1cnJlbnRCaXRzID0gfmJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgYmxvY2sgb2YgMzIgYml0cywgc3RhcnRpbmcgYXQgYml0IGkuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gaSBmaXJzdCBiaXQgdG8gc2V0CgkgICAgICogQHBhcmFtIG5ld0JpdHMgdGhlIG5ldyB2YWx1ZSBvZiB0aGUgbmV4dCAzMiBiaXRzLiBOb3RlIGFnYWluIHRoYXQgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdAoJICAgICAqIGNvcnJlc3BvbmRzIHRvIGJpdCBpLCB0aGUgbmV4dC1sZWFzdC1zaWduaWZpY2FudCB0byBpKzEsIGFuZCBzbyBvbi4KCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0QnVsayA9IGZ1bmN0aW9uIChpIC8qaW50Ki8sIG5ld0JpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgcmFuZ2Ugb2YgYml0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydCBzdGFydCBvZiByYW5nZSwgaW5jbHVzaXZlLgoJICAgICAqIEBwYXJhbSBlbmQgZW5kIG9mIHJhbmdlLCBleGNsdXNpdmUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0UmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQgLyppbnQqLywgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIGVuZC0tOyAvLyB3aWxsIGJlIGVhc2llciB0byB0cmVhdCB0aGlzIGFzIHRoZSBsYXN0IGFjdHVhbGx5IHNldCBiaXQgLS0gaW5jbHVzaXZlCgkgICAgICAgIHZhciBmaXJzdEludCA9IE1hdGguZmxvb3Ioc3RhcnQgLyAzMik7CgkgICAgICAgIHZhciBsYXN0SW50ID0gTWF0aC5mbG9vcihlbmQgLyAzMik7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RJbnQ7IGkgPD0gbGFzdEludDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgZmlyc3RCaXQgPSBpID4gZmlyc3RJbnQgPyAwIDogc3RhcnQgJiAweDFGOwoJICAgICAgICAgICAgdmFyIGxhc3RCaXQgPSBpIDwgbGFzdEludCA/IDMxIDogZW5kICYgMHgxRjsKCSAgICAgICAgICAgIC8vIE9uZXMgZnJvbSBmaXJzdEJpdCB0byBsYXN0Qml0LCBpbmNsdXNpdmUKCSAgICAgICAgICAgIHZhciBtYXNrID0gKDIgPDwgbGFzdEJpdCkgLSAoMSA8PCBmaXJzdEJpdCk7CgkgICAgICAgICAgICBiaXRzW2ldIHw9IG1hc2s7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbWF4ID0gdGhpcy5iaXRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGJpdHNbaV0gPSAwOwoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBFZmZpY2llbnQgbWV0aG9kIHRvIGNoZWNrIGlmIGEgcmFuZ2Ugb2YgYml0cyBpcyBzZXQsIG9yIG5vdCBzZXQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnQgc3RhcnQgb2YgcmFuZ2UsIGluY2x1c2l2ZS4KCSAgICAgKiBAcGFyYW0gZW5kIGVuZCBvZiByYW5nZSwgZXhjbHVzaXZlCgkgICAgICogQHBhcmFtIHZhbHVlIGlmIHRydWUsIGNoZWNrcyB0aGF0IGJpdHMgaW4gcmFuZ2UgYXJlIHNldCwgb3RoZXJ3aXNlIGNoZWNrcyB0aGF0IHRoZXkgYXJlIG5vdCBzZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGFsbCBiaXRzIGFyZSBzZXQgb3Igbm90IHNldCBpbiByYW5nZSwgYWNjb3JkaW5nIHRvIHZhbHVlIGFyZ3VtZW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgZW5kIGlzIGxlc3MgdGhhbiBzdGFydCBvciB0aGUgcmFuZ2UgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgYXJyYXkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuaXNSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCAvKmludCovLCBlbmQgLyppbnQqLywgdmFsdWUpIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGVtcHR5IHJhbmdlIG1hdGNoZXMKCSAgICAgICAgfQoJICAgICAgICBlbmQtLTsgLy8gd2lsbCBiZSBlYXNpZXIgdG8gdHJlYXQgdGhpcyBhcyB0aGUgbGFzdCBhY3R1YWxseSBzZXQgYml0IC0tIGluY2x1c2l2ZQoJICAgICAgICB2YXIgZmlyc3RJbnQgPSBNYXRoLmZsb29yKHN0YXJ0IC8gMzIpOwoJICAgICAgICB2YXIgbGFzdEludCA9IE1hdGguZmxvb3IoZW5kIC8gMzIpOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW50OyBpIDw9IGxhc3RJbnQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGZpcnN0Qml0ID0gaSA+IGZpcnN0SW50ID8gMCA6IHN0YXJ0ICYgMHgxRjsKCSAgICAgICAgICAgIHZhciBsYXN0Qml0ID0gaSA8IGxhc3RJbnQgPyAzMSA6IGVuZCAmIDB4MUY7CgkgICAgICAgICAgICAvLyBPbmVzIGZyb20gZmlyc3RCaXQgdG8gbGFzdEJpdCwgaW5jbHVzaXZlCgkgICAgICAgICAgICB2YXIgbWFzayA9ICgyIDw8IGxhc3RCaXQpIC0gKDEgPDwgZmlyc3RCaXQpICYgMHhGRkZGRkZGRjsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiAmIDB4RkZGRkZGRkYgYWRkZWQgdG8gZGlzY2FyZCBhbnl0aGluZyBhZnRlciAzMiBiaXRzLCBhcyBFUyBoYXMgNTMgYml0cwoJICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIHdlJ3JlIGxvb2tpbmcgZm9yIDFzIGFuZCB0aGUgbWFza2VkIGJpdHNbaV0gaXNuJ3QgYWxsIDFzIChpczogdGhhdCwKCSAgICAgICAgICAgIC8vIGVxdWFscyB0aGUgbWFzaywgb3Igd2UncmUgbG9va2luZyBmb3IgMHMgYW5kIHRoZSBtYXNrZWQgcG9ydGlvbiBpcyBub3QgYWxsIDBzCgkgICAgICAgICAgICBpZiAoKGJpdHNbaV0gJiBtYXNrKSAhPT0gKHZhbHVlID8gbWFzayA6IDApKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0cnVlOwoJICAgIH07CgkgICAgQml0QXJyYXkucHJvdG90eXBlLmFwcGVuZEJpdCA9IGZ1bmN0aW9uIChiaXQpIHsKCSAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh0aGlzLnNpemUgKyAxKTsKCSAgICAgICAgaWYgKGJpdCkgewoJICAgICAgICAgICAgdGhpcy5iaXRzW01hdGguZmxvb3IodGhpcy5zaXplIC8gMzIpXSB8PSAxIDw8ICh0aGlzLnNpemUgJiAweDFGKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLnNpemUrKzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFwcGVuZHMgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdHMsIGZyb20gdmFsdWUsIGluIG9yZGVyIGZyb20gbW9zdC1zaWduaWZpY2FudCB0bwoJICAgICAqIGxlYXN0LXNpZ25pZmljYW50LiBGb3IgZXhhbXBsZSwgYXBwZW5kaW5nIDYgYml0cyBmcm9tIDB4MDAwMDAxRSB3aWxsIGFwcGVuZCB0aGUgYml0cwoJICAgICAqIDAsIDEsIDEsIDEsIDEsIDAgaW4gdGhhdCBvcmRlci4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB2YWx1ZSB7QGNvZGUgaW50fSBjb250YWluaW5nIGJpdHMgdG8gYXBwZW5kCgkgICAgICogQHBhcmFtIG51bUJpdHMgYml0cyBmcm9tIHZhbHVlIHRvIGFwcGVuZAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5hcHBlbmRCaXRzID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICBpZiAobnVtQml0cyA8IDAgfHwgbnVtQml0cyA+IDMyKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOC5kZWZhdWx0KCdOdW0gYml0cyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMzInKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmVuc3VyZUNhcGFjaXR5KHRoaXMuc2l6ZSArIG51bUJpdHMpOwoJICAgICAgICAvLyBjb25zdCBhcHBlbmRCaXQgPSB0aGlzLmFwcGVuZEJpdDsKCSAgICAgICAgZm9yICh2YXIgbnVtQml0c0xlZnQgPSBudW1CaXRzOyBudW1CaXRzTGVmdCA+IDA7IG51bUJpdHNMZWZ0LS0pIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KCgodmFsdWUgPj4gKG51bUJpdHNMZWZ0IC0gMSkpICYgMHgwMSkgPT09IDEpOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuYXBwZW5kQml0QXJyYXkgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdmFyIG90aGVyU2l6ZSA9IG90aGVyLnNpemU7CgkgICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkodGhpcy5zaXplICsgb3RoZXJTaXplKTsKCSAgICAgICAgLy8gY29uc3QgYXBwZW5kQml0ID0gdGhpcy5hcHBlbmRCaXQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3RoZXJTaXplOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KG90aGVyLmdldChpKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gb3RoZXIuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDguZGVmYXVsdCgnU2l6ZXMgZG9uXCd0IG1hdGNoJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGJpdHMubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgLy8gVGhlIGxhc3QgaW50IGNvdWxkIGJlIGluY29tcGxldGUgKGkuZS4gbm90IGhhdmUgMzIgYml0cyBpbgoJICAgICAgICAgICAgLy8gaXQpIGJ1dCB0aGVyZSBpcyBubyBwcm9ibGVtIHNpbmNlIDAgWE9SIDAgPT0gMC4KCSAgICAgICAgICAgIGJpdHNbaV0gXj0gb3RoZXIuYml0c1tpXTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0T2Zmc2V0IGZpcnN0IGJpdCB0byBzdGFydCB3cml0aW5nCgkgICAgICogQHBhcmFtIGFycmF5IGFycmF5IHRvIHdyaXRlIGludG8uIEJ5dGVzIGFyZSB3cml0dGVuIG1vc3Qtc2lnbmlmaWNhbnQgYnl0ZSBmaXJzdC4gVGhpcyBpcyB0aGUgb3Bwb3NpdGUKCSAgICAgKiAgb2YgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uLCB3aGljaCBpcyBleHBvc2VkIGJ5IHtAbGluayAjZ2V0Qml0QXJyYXkoKX0KCSAgICAgKiBAcGFyYW0gb2Zmc2V0IHBvc2l0aW9uIGluIGFycmF5IHRvIHN0YXJ0IHdyaXRpbmcKCSAgICAgKiBAcGFyYW0gbnVtQnl0ZXMgaG93IG1hbnkgYnl0ZXMgdG8gd3JpdGUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uIChiaXRPZmZzZXQgLyppbnQqLywgYXJyYXksIG9mZnNldCAvKmludCovLCBudW1CeXRlcyAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQnl0ZXM7IGkrKykgewoJICAgICAgICAgICAgdmFyIHRoZUJ5dGUgPSAwOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA4OyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoYml0T2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICB0aGVCeXRlIHw9IDEgPDwgKDcgLSBqKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBpXSA9IC8qKGJ5dGUpKi8gdGhlQnl0ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB1bmRlcmx5aW5nIGFycmF5IG9mIGludHMuIFRoZSBmaXJzdCBlbGVtZW50IGhvbGRzIHRoZSBmaXJzdCAzMiBiaXRzLCBhbmQgdGhlIGxlYXN0CgkgICAgICogICAgICAgICBzaWduaWZpY2FudCBiaXQgaXMgYml0IDAuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmdldEJpdEFycmF5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV2ZXJzZXMgYWxsIGJpdHMgaW4gdGhlIGFycmF5LgoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3Qml0cyA9IG5ldyBJbnQzMkFycmF5KHRoaXMuYml0cy5sZW5ndGgpOwoJICAgICAgICAvLyByZXZlcnNlIGFsbCBpbnQncyBmaXJzdAoJICAgICAgICB2YXIgbGVuID0gTWF0aC5mbG9vcigodGhpcy5zaXplIC0gMSkgLyAzMik7CgkgICAgICAgIHZhciBvbGRCaXRzTGVuID0gbGVuICsgMTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQml0c0xlbjsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeCA9IGJpdHNbaV07CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDEpICYgMHg1NTU1NTU1NSkgfCAoKHggJiAweDU1NTU1NTU1KSA8PCAxKTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMikgJiAweDMzMzMzMzMzKSB8ICgoeCAmIDB4MzMzMzMzMzMpIDw8IDIpOwoJICAgICAgICAgICAgeCA9ICgoeCA+PiA0KSAmIDB4MGYwZjBmMGYpIHwgKCh4ICYgMHgwZjBmMGYwZikgPDwgNCk7CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDgpICYgMHgwMGZmMDBmZikgfCAoKHggJiAweDAwZmYwMGZmKSA8PCA4KTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMTYpICYgMHgwMDAwZmZmZikgfCAoKHggJiAweDAwMDBmZmZmKSA8PCAxNik7CgkgICAgICAgICAgICBuZXdCaXRzW2xlbiAtIGldID0gLyooaW50KSovIHg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm93IGNvcnJlY3QgdGhlIGludCdzIGlmIHRoZSBiaXQgc2l6ZSBpc24ndCBhIG11bHRpcGxlIG9mIDMyCgkgICAgICAgIGlmICh0aGlzLnNpemUgIT09IG9sZEJpdHNMZW4gKiAzMikgewoJICAgICAgICAgICAgdmFyIGxlZnRPZmZzZXQgPSBvbGRCaXRzTGVuICogMzIgLSB0aGlzLnNpemU7CgkgICAgICAgICAgICB2YXIgY3VycmVudEludCA9IG5ld0JpdHNbMF0gPj4+IGxlZnRPZmZzZXQ7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG9sZEJpdHNMZW47IGkrKykgewoJICAgICAgICAgICAgICAgIHZhciBuZXh0SW50ID0gbmV3Qml0c1tpXTsKCSAgICAgICAgICAgICAgICBjdXJyZW50SW50IHw9IG5leHRJbnQgPDwgKDMyIC0gbGVmdE9mZnNldCk7CgkgICAgICAgICAgICAgICAgbmV3Qml0c1tpIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICAgICAgICAgIGN1cnJlbnRJbnQgPSBuZXh0SW50ID4+PiBsZWZ0T2Zmc2V0OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgbmV3Qml0c1tvbGRCaXRzTGVuIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICBCaXRBcnJheS5tYWtlQXJyYXkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheShNYXRoLmZsb29yKChzaXplICsgMzEpIC8gMzIpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdEFycmF5KSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnNpemUgPT09IG90aGVyLnNpemUgJiYgQXJyYXlzXzEkMS5kZWZhdWx0LmVxdWFscyh0aGlzLmJpdHMsIG90aGVyLmJpdHMpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogdGhpcy5zaXplICsgQXJyYXlzXzEkMS5kZWZhdWx0Lmhhc2hDb2RlKHRoaXMuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcmVzdWx0ID0gJyc7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBzaXplID0gdGhpcy5zaXplOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICBpZiAoKGkgJiAweDA3KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnICc7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5nZXQoaSkgPyAnWCcgOiAnLic7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0QXJyYXkodGhpcy5zaXplLCB0aGlzLmJpdHMuc2xpY2UoKSk7CgkgICAgfTsKCSAgICByZXR1cm4gQml0QXJyYXk7Cgl9KCkpOwoJQml0QXJyYXkkMS5kZWZhdWx0ID0gQml0QXJyYXk7CgoJdmFyIEJpdE1hdHJpeCQxID0ge307CgoJdmFyIFN0cmluZ0J1aWxkZXIkMSA9IHt9OwoKCXZhciBTdHJpbmdVdGlscyQxID0ge307CgoJdmFyIERlY29kZUhpbnRUeXBlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY29kZUhpbnRUeXBlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIHR5cGUgb2YgaGludCB0aGF0IGEgY2FsbGVyIG1heSBwYXNzIHRvIGEgYmFyY29kZSByZWFkZXIgdG8gaGVscCBpdAoJICogbW9yZSBxdWlja2x5IG9yIGFjY3VyYXRlbHkgZGVjb2RlIGl0LiBJdCBpcyB1cCB0byBpbXBsZW1lbnRhdGlvbnMgdG8gZGVjaWRlIHdoYXQsCgkgKiBpZiBhbnl0aGluZywgdG8gZG8gd2l0aCB0aGUgaW5mb3JtYXRpb24gdGhhdCBpcyBzdXBwbGllZC4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBzZWUgUmVhZGVyI2RlY29kZShCaW5hcnlCaXRtYXAsamF2YS51dGlsLk1hcCkKCSAqLwoJdmFyIERlY29kZUhpbnRUeXBlOwoJKGZ1bmN0aW9uIChEZWNvZGVIaW50VHlwZSkgewoJICAgIC8qKgoJICAgICAqIFVuc3BlY2lmaWVkLCBhcHBsaWNhdGlvbi1zcGVjaWZpYyBoaW50LiBNYXBzIHRvIGFuIHVuc3BlY2lmaWVkIHtAbGluayBPYmplY3R9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJPVEhFUiJdID0gMF0gPSAiT1RIRVIiOyAvKihPYmplY3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJbWFnZSBpcyBhIHB1cmUgbW9ub2Nocm9tZSBpbWFnZSBvZiBhIGJhcmNvZGUuIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bzsKCSAgICAgKiB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlBVUkVfQkFSQ09ERSJdID0gMV0gPSAiUFVSRV9CQVJDT0RFIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEltYWdlIGlzIGtub3duIHRvIGJlIG9mIG9uZSBvZiBhIGZldyBwb3NzaWJsZSBmb3JtYXRzLgoJICAgICAqIE1hcHMgdG8gYSB7QGxpbmsgTGlzdH0gb2Yge0BsaW5rIEJhcmNvZGVGb3JtYXR9cy4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiUE9TU0lCTEVfRk9STUFUUyJdID0gMl0gPSAiUE9TU0lCTEVfRk9STUFUUyI7IC8qKExpc3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVuZCBtb3JlIHRpbWUgdG8gdHJ5IHRvIGZpbmQgYSBiYXJjb2RlOyBvcHRpbWl6ZSBmb3IgYWNjdXJhY3ksIG5vdCBzcGVlZC4KCSAgICAgKiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87IHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiVFJZX0hBUkRFUiJdID0gM10gPSAiVFJZX0hBUkRFUiI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVjaWZpZXMgd2hhdCBjaGFyYWN0ZXIgZW5jb2RpbmcgdG8gdXNlIHdoZW4gZGVjb2RpbmcsIHdoZXJlIGFwcGxpY2FibGUgKHR5cGUgU3RyaW5nKQoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJDSEFSQUNURVJfU0VUIl0gPSA0XSA9ICJDSEFSQUNURVJfU0VUIjsgLyooU3RyaW5nLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQWxsb3dlZCBsZW5ndGhzIG9mIGVuY29kZWQgZGF0YSAtLSByZWplY3QgYW55dGhpbmcgZWxzZS4gTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfTEVOR1RIUyJdID0gNV0gPSAiQUxMT1dFRF9MRU5HVEhTIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEFzc3VtZSBDb2RlIDM5IGNvZGVzIGVtcGxveSBhIGNoZWNrIGRpZ2l0LiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87CgkgICAgICogdXNlIHtAbGluayBCb29sZWFuI1RSVUV9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJBU1NVTUVfQ09ERV8zOV9DSEVDS19ESUdJVCJdID0gNl0gPSAiQVNTVU1FX0NPREVfMzlfQ0hFQ0tfRElHSVQiOyAvKihWb2lkLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQXNzdW1lIHRoZSBiYXJjb2RlIGlzIGJlaW5nIHByb2Nlc3NlZCBhcyBhIEdTMSBiYXJjb2RlLCBhbmQgbW9kaWZ5IGJlaGF2aW9yIGFzIG5lZWRlZC4KCSAgICAgKiBGb3IgZXhhbXBsZSB0aGlzIGFmZmVjdHMgRk5DMSBoYW5kbGluZyBmb3IgQ29kZSAxMjggKGFrYSBHUzEtMTI4KS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOwoJICAgICAqIHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiQVNTVU1FX0dTMSJdID0gN10gPSAiQVNTVU1FX0dTMSI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJZiB0cnVlLCByZXR1cm4gdGhlIHN0YXJ0IGFuZCBlbmQgZGlnaXRzIGluIGEgQ29kYWJhciBiYXJjb2RlIGluc3RlYWQgb2Ygc3RyaXBwaW5nIHRoZW0uIFRoZXkKCSAgICAgKiBhcmUgYWxwaGEsIHdoZXJlYXMgdGhlIHJlc3QgYXJlIG51bWVyaWMuIEJ5IGRlZmF1bHQsIHRoZXkgYXJlIHN0cmlwcGVkLCBidXQgdGhpcyBjYXVzZXMgdGhlbQoJICAgICAqIHRvIG5vdCBiZS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOyB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlJFVFVSTl9DT0RBQkFSX1NUQVJUX0VORCJdID0gOF0gPSAiUkVUVVJOX0NPREFCQVJfU1RBUlRfRU5EIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIFRoZSBjYWxsZXIgbmVlZHMgdG8gYmUgbm90aWZpZWQgdmlhIGNhbGxiYWNrIHdoZW4gYSBwb3NzaWJsZSB7QGxpbmsgUmVzdWx0UG9pbnR9CgkgICAgICogaXMgZm91bmQuIE1hcHMgdG8gYSB7QGxpbmsgUmVzdWx0UG9pbnRDYWxsYmFja30uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIk5FRURfUkVTVUxUX1BPSU5UX0NBTExCQUNLIl0gPSA5XSA9ICJORUVEX1JFU1VMVF9QT0lOVF9DQUxMQkFDSyI7IC8qKFJlc3VsdFBvaW50Q2FsbGJhY2suY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBBbGxvd2VkIGV4dGVuc2lvbiBsZW5ndGhzIGZvciBFQU4gb3IgVVBDIGJhcmNvZGVzLiBPdGhlciBmb3JtYXRzIHdpbGwgaWdub3JlIHRoaXMuCgkgICAgICogTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0gb2YgdGhlIGFsbG93ZWQgZXh0ZW5zaW9uIGxlbmd0aHMsIGZvciBleGFtcGxlIFsyXSwgWzVdLCBvciBbMiwgNV0uCgkgICAgICogSWYgaXQgaXMgb3B0aW9uYWwgdG8gaGF2ZSBhbiBleHRlbnNpb24sIGRvIG5vdCBzZXQgdGhpcyBoaW50LiBJZiB0aGlzIGlzIHNldCwKCSAgICAgKiBhbmQgYSBVUEMgb3IgRUFOIGJhcmNvZGUgaXMgZm91bmQgYnV0IGFuIGV4dGVuc2lvbiBpcyBub3QsIHRoZW4gbm8gcmVzdWx0IHdpbGwgYmUgcmV0dXJuZWQKCSAgICAgKiBhdCBhbGwuCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfRUFOX0VYVEVOU0lPTlMiXSA9IDEwXSA9ICJBTExPV0VEX0VBTl9FWFRFTlNJT05TIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8vIEVuZCBvZiBlbnVtZXJhdGlvbiB2YWx1ZXMuCgkgICAgLyoqCgkgICAgICogRGF0YSB0eXBlIHRoZSBoaW50IGlzIGV4cGVjdGluZy4KCSAgICAgKiBBbW9uZyB0aGUgcG9zc2libGUgdmFsdWVzIHRoZSB7QGxpbmsgVm9pZH0gc3RhbmRzIG91dCBhcyBiZWluZyB1c2VkIGZvcgoJICAgICAqIGhpbnRzIHRoYXQgZG8gbm90IGV4cGVjdCBhIHZhbHVlIHRvIGJlIHN1cHBsaWVkIChmbGFnIGhpbnRzKS4gU3VjaCBoaW50cwoJICAgICAqIHdpbGwgcG9zc2libHkgaGF2ZSB0aGVpciB2YWx1ZSBpZ25vcmVkLCBvciByZXBsYWNlZCBieSBhCgkgICAgICoge0BsaW5rIEJvb2xlYW4jVFJVRX0uIEhpbnQgc3VwcGxpZXJzIHNob3VsZCBwcm9iYWJseSB1c2UKCSAgICAgKiB7QGxpbmsgQm9vbGVhbiNUUlVFfSBhcyBkaXJlY3RlZCBieSB0aGUgYWN0dWFsIGhpbnQgZG9jdW1lbnRhdGlvbi4KCSAgICAgKi8KCSAgICAvLyBwcml2YXRlIHZhbHVlVHlwZTogQ2xhc3M8Pz4KCSAgICAvLyBEZWNvZGVIaW50VHlwZSh2YWx1ZVR5cGU6IENsYXNzPD8+KSB7CgkgICAgLy8gICB0aGlzLnZhbHVlVHlwZSA9IHZhbHVlVHlwZQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgZ2V0VmFsdWVUeXBlKCk6IENsYXNzPD8+IHsKCSAgICAvLyAgIHJldHVybiB2YWx1ZVR5cGUKCSAgICAvLyB9Cgl9KShEZWNvZGVIaW50VHlwZSB8fCAoRGVjb2RlSGludFR5cGUgPSB7fSkpOwoJRGVjb2RlSGludFR5cGUkMS5kZWZhdWx0ID0gRGVjb2RlSGludFR5cGU7CgoJdmFyIENoYXJhY3RlclNldEVDSSA9IHt9OwoKCXZhciBGb3JtYXRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGb3JtYXRFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDcgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRm9ybWF0RXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRmKEZvcm1hdEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBGb3JtYXRFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEV4Y2VwdGlvbigpOwoJICAgIH07CgkgICAgRm9ybWF0RXhjZXB0aW9uLmtpbmQgPSAnRm9ybWF0RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRm9ybWF0RXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ3LmRlZmF1bHQpKTsKCUZvcm1hdEV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBGb3JtYXRFeGNlcHRpb247CgoJKGZ1bmN0aW9uIChleHBvcnRzKSB7CgkvKgoJICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCWV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHZvaWQgMDsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xID0gRm9ybWF0RXhjZXB0aW9uJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsqLwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJdmFyIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnM7CgkoZnVuY3Rpb24gKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMpIHsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwNDM3Il0gPSAwXSA9ICJDcDQzNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEiXSA9IDFdID0gIklTTzg4NTlfMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzIiXSA9IDJdID0gIklTTzg4NTlfMiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzMiXSA9IDNdID0gIklTTzg4NTlfMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzQiXSA9IDRdID0gIklTTzg4NTlfNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzUiXSA9IDVdID0gIklTTzg4NTlfNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzYiXSA9IDZdID0gIklTTzg4NTlfNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzciXSA9IDddID0gIklTTzg4NTlfNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzgiXSA9IDhdID0gIklTTzg4NTlfOCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzkiXSA9IDldID0gIklTTzg4NTlfOSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEwIl0gPSAxMF0gPSAiSVNPODg1OV8xMCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzExIl0gPSAxMV0gPSAiSVNPODg1OV8xMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEzIl0gPSAxMl0gPSAiSVNPODg1OV8xMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE0Il0gPSAxM10gPSAiSVNPODg1OV8xNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE1Il0gPSAxNF0gPSAiSVNPODg1OV8xNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE2Il0gPSAxNV0gPSAiSVNPODg1OV8xNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJTSklTIl0gPSAxNl0gPSAiU0pJUyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTAiXSA9IDE3XSA9ICJDcDEyNTAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQ3AxMjUxIl0gPSAxOF0gPSAiQ3AxMjUxIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwMTI1MiJdID0gMTldID0gIkNwMTI1MiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTYiXSA9IDIwXSA9ICJDcDEyNTYiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siVW5pY29kZUJpZ1VubWFya2VkIl0gPSAyMV0gPSAiVW5pY29kZUJpZ1VubWFya2VkIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIlVURjgiXSA9IDIyXSA9ICJVVEY4IjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkFTQ0lJIl0gPSAyM10gPSAiQVNDSUkiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQmlnNSJdID0gMjRdID0gIkJpZzUiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siR0IxODAzMCJdID0gMjVdID0gIkdCMTgwMzAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siRVVDX0tSIl0gPSAyNl0gPSAiRVVDX0tSIjsKCX0pKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgPSBleHBvcnRzLkNoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgfHwgKGV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHt9KSk7CgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIENoYXJhY3RlciBTZXQgRUNJLCBhY2NvcmRpbmcgdG8gIkV4dGVuZGVkIENoYW5uZWwgSW50ZXJwcmV0YXRpb25zIiA1LjMuMS4xCgkgKiBvZiBJU08gMTgwMDQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIENoYXJhY3RlclNldEVDSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBDaGFyYWN0ZXJTZXRFQ0kodmFsdWVJZGVudGlmaWVyLCB2YWx1ZXNQYXJhbSwgbmFtZSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG90aGVyRW5jb2RpbmdOYW1lcyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgb3RoZXJFbmNvZGluZ05hbWVzW19pIC0gM10gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmFsdWVJZGVudGlmaWVyID0gdmFsdWVJZGVudGlmaWVyOwoJICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwoJICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1BhcmFtID09PSAnbnVtYmVyJykgewoJICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBJbnQzMkFycmF5LmZyb20oW3ZhbHVlc1BhcmFtXSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlc1BhcmFtOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzOwoJICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVfSURFTlRJRklFUl9UT19FQ0kuc2V0KHZhbHVlSWRlbnRpZmllciwgdGhpcyk7CgkgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQobmFtZSwgdGhpcyk7CgkgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlczsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gdmFsdWVzLmxlbmd0aDsgaSAhPT0gbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZXNbaV07CgkgICAgICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVTX1RPX0VDSS5zZXQodiwgdGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIG90aGVyRW5jb2RpbmdOYW1lc18xID0gX192YWx1ZXMob3RoZXJFbmNvZGluZ05hbWVzKSwgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKTsgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZTsgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBvdGhlck5hbWUgPSBvdGhlckVuY29kaW5nTmFtZXNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQob3RoZXJOYW1lLCB0aGlzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKG90aGVyRW5jb2RpbmdOYW1lc18xXzEgJiYgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZSAmJiAoX2EgPSBvdGhlckVuY29kaW5nTmFtZXNfMS5yZXR1cm4pKSBfYS5jYWxsKG90aGVyRW5jb2RpbmdOYW1lc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgIH0KCSAgICAvLyBDaGFyYWN0ZXJTZXRFQ0kodmFsdWU6IG51bWJlciAvKmludCovKSB7CgkgICAgLy8gICB0aGlzKG5ldyBJbnQzMkFycmF5IHt2YWx1ZX0pCgkgICAgLy8gfQoJICAgIC8vIENoYXJhY3RlclNldEVDSSh2YWx1ZTogbnVtYmVyIC8qaW50Ki8sIFN0cmluZy4uLiBvdGhlckVuY29kaW5nTmFtZXMpIHsKCSAgICAvLyAgIHRoaXMudmFsdWVzID0gbmV3IEludDMyQXJyYXkge3ZhbHVlfQoJICAgIC8vICAgdGhpcy5vdGhlckVuY29kaW5nTmFtZXMgPSBvdGhlckVuY29kaW5nTmFtZXMKCSAgICAvLyB9CgkgICAgLy8gQ2hhcmFjdGVyU2V0RUNJKHZhbHVlczogSW50MzJBcnJheSwgU3RyaW5nLi4uIG90aGVyRW5jb2RpbmdOYW1lcykgewoJICAgIC8vICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXMKCSAgICAvLyAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzCgkgICAgLy8gfQoJICAgIENoYXJhY3RlclNldEVDSS5wcm90b3R5cGUuZ2V0VmFsdWVJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUlkZW50aWZpZXI7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm5hbWU7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmFsdWUgY2hhcmFjdGVyIHNldCBFQ0kgdmFsdWUKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBDaGFyYWN0ZXJTZXRFQ0l9IHJlcHJlc2VudGluZyBFQ0kgb2YgZ2l2ZW4gdmFsdWUsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwgYnV0CgkgICAgICogICB1bnN1cHBvcnRlZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIEVDSSB2YWx1ZSBpcyBpbnZhbGlkCgkgICAgICovCgkgICAgQ2hhcmFjdGVyU2V0RUNJLmdldENoYXJhY3RlclNldEVDSUJ5VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IDkwMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGNoYXJhY3RlclNldCA9IENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJLmdldCh2YWx1ZSk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNoYXJhY3RlclNldCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGNoYXJhY3RlclNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBuYW1lIGNoYXJhY3RlciBzZXQgRUNJIGVuY29kaW5nIG5hbWUKCSAgICAgKiBAcmV0dXJuIENoYXJhY3RlclNldEVDSSByZXByZXNlbnRpbmcgRUNJIGZvciBjaGFyYWN0ZXIgZW5jb2RpbmcsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwKCSAgICAgKiAgIGJ1dCB1bnN1cHBvcnRlZAoJICAgICAqLwoJICAgIENoYXJhY3RlclNldEVDSS5nZXRDaGFyYWN0ZXJTZXRFQ0lCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gQ2hhcmFjdGVyU2V0RUNJLk5BTUVfVE9fRUNJLmdldChuYW1lKTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgnaW5jb3JlY3QgdmFsdWUnKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY2hhcmFjdGVyU2V0OwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgQ2hhcmFjdGVyU2V0RUNJKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLmdldE5hbWUoKSA9PT0gb3RoZXIuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlZBTFVFX0lERU5USUZJRVJfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSSA9IG5ldyBNYXAoKTsKCSAgICAvLyBFbnVtIG5hbWUgaXMgYSBKYXZhIGVuY29kaW5nIHZhbGlkIGZvciBqYXZhLmxhbmcgYW5kIGphdmEuaW8KCSAgICAvLyBUWVBFU0NSSVBUUE9SVDogY2hhbmdlZCB0aGUgbWFpbiBsYWJlbCBmb3IgSVNPIGFzIHRoZSBUZXh0RW5jb2RlciBkaWQgbm90IHJlY29nbml6ZWQgdGhlbSBpbiB0aGUgZm9ybSBmcm9tIGphdmEKCSAgICAvLyAoZWcgSVNPODg1OV8xIG11c3QgYmUgSVNPODg1OTEgb3IgSVNPODg1OS0xIG9yIElTTy04ODU5LTEpCgkgICAgLy8gbGF0ZXIgb246IHdlbGwsIGV4Y2VwdCAxNiB3aWNoIGRvZXMgbm90IHdvcmsgd2l0aCBJU084ODU5MTYgc28gdXNlZCBJU08tODg1OS0xIGZvcm0gZm9yIGRlZmF1bHQKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3A0MzcgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3A0MzcsIEludDMyQXJyYXkuZnJvbShbMCwgMl0pLCAnQ3A0MzcnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMSwgSW50MzJBcnJheS5mcm9tKFsxLCAzXSksICdJU08tODg1OS0xJywgJ0lTTzg4NTkxJywgJ0lTTzg4NTlfMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzIgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8yLCA0LCAnSVNPLTg4NTktMicsICdJU084ODU5MicsICdJU084ODU5XzInKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8zID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMywgNSwgJ0lTTy04ODU5LTMnLCAnSVNPODg1OTMnLCAnSVNPODg1OV8zJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzQsIDYsICdJU08tODg1OS00JywgJ0lTTzg4NTk0JywgJ0lTTzg4NTlfNCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV81LCA3LCAnSVNPLTg4NTktNScsICdJU084ODU5NScsICdJU084ODU5XzUnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV82ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfNiwgOCwgJ0lTTy04ODU5LTYnLCAnSVNPODg1OTYnLCAnSVNPODg1OV82Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzcsIDksICdJU08tODg1OS03JywgJ0lTTzg4NTk3JywgJ0lTTzg4NTlfNycpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV84LCAxMCwgJ0lTTy04ODU5LTgnLCAnSVNPODg1OTgnLCAnSVNPODg1OV84Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfOSA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzksIDExLCAnSVNPLTg4NTktOScsICdJU084ODU5OScsICdJU084ODU5XzknKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xMCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzEwLCAxMiwgJ0lTTy04ODU5LTEwJywgJ0lTTzg4NTkxMCcsICdJU084ODU5XzEwJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xMSwgMTMsICdJU08tODg1OS0xMScsICdJU084ODU5MTEnLCAnSVNPODg1OV8xMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzEzID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTMsIDE1LCAnSVNPLTg4NTktMTMnLCAnSVNPODg1OTEzJywgJ0lTTzg4NTlfMTMnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzE0LCAxNiwgJ0lTTy04ODU5LTE0JywgJ0lTTzg4NTkxNCcsICdJU084ODU5XzE0Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xNSwgMTcsICdJU08tODg1OS0xNScsICdJU084ODU5MTUnLCAnSVNPODg1OV8xNScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzE2ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTYsIDE4LCAnSVNPLTg4NTktMTYnLCAnSVNPODg1OTE2JywgJ0lTTzg4NTlfMTYnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuU0pJUyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5TSklTLCAyMCwgJ1NKSVMnLCAnU2hpZnRfSklTJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1MCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTAsIDIxLCAnQ3AxMjUwJywgJ3dpbmRvd3MtMTI1MCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5DcDEyNTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3AxMjUxLCAyMiwgJ0NwMTI1MScsICd3aW5kb3dzLTEyNTEnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3AxMjUyID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkNwMTI1MiwgMjMsICdDcDEyNTInLCAnd2luZG93cy0xMjUyJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1NiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTYsIDI0LCAnQ3AxMjU2JywgJ3dpbmRvd3MtMTI1NicpOwoJICAgIENoYXJhY3RlclNldEVDSS5Vbmljb2RlQmlnVW5tYXJrZWQgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVW5pY29kZUJpZ1VubWFya2VkLCAyNSwgJ1VuaWNvZGVCaWdVbm1hcmtlZCcsICdVVEYtMTZCRScsICdVbmljb2RlQmlnJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlVURjggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVVRGOCwgMjYsICdVVEY4JywgJ1VURi04Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkFTQ0lJID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkFTQ0lJLCBJbnQzMkFycmF5LmZyb20oWzI3LCAxNzBdKSwgJ0FTQ0lJJywgJ1VTLUFTQ0lJJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkJpZzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQmlnNSwgMjgsICdCaWc1Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkdCMTgwMzAgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuR0IxODAzMCwgMjksICdHQjE4MDMwJywgJ0dCMjMxMicsICdFVUNfQ04nLCAnR0JLJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkVVQ19LUiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5FVUNfS1IsIDMwLCAnRVVDX0tSJywgJ0VVQy1LUicpOwoJICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0k7Cgl9KCkpOwoJZXhwb3J0cy5kZWZhdWx0ID0gQ2hhcmFjdGVyU2V0RUNJOwoKCX0oQ2hhcmFjdGVyU2V0RUNJKSk7CgoJdmFyIFN0cmluZ0VuY29kaW5nJDEgPSB7fTsKCgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNiA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5raW5kID0gJ1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCkpOwoJVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMS5kZWZhdWx0ID0gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ0VuY29kaW5nJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEgPSBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxOwoJdmFyIENoYXJhY3RlclNldEVDSV8xJDIgPSBDaGFyYWN0ZXJTZXRFQ0k7CgkvKioKCSAqIFJlc3BvbnNpYmxlIGZvciBlbi9kZWNvZGluZyBzdHJpbmdzLgoJICovCgl2YXIgU3RyaW5nRW5jb2RpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nRW5jb2RpbmcoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIERlY29kZXMgc29tZSBVaW50OEFycmF5IHRvIGEgc3RyaW5nIGZvcm1hdC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5kZWNvZGUgPSBmdW5jdGlvbiAoYnl0ZXMsIGVuY29kaW5nKSB7CgkgICAgICAgIHZhciBlbmNvZGluZ05hbWUgPSB0aGlzLmVuY29kaW5nTmFtZShlbmNvZGluZyk7CgkgICAgICAgIGlmICh0aGlzLmN1c3RvbURlY29kZXIpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbURlY29kZXIoYnl0ZXMsIGVuY29kaW5nTmFtZSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSW5jcmVhc2VzIGJyb3dzZXIgc3VwcG9ydC4KCSAgICAgICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5zaG91bGREZWNvZGVPbkZhbGxiYWNrKGVuY29kaW5nTmFtZSkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUZhbGxiYWNrKGJ5dGVzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmdOYW1lKS5kZWNvZGUoYnl0ZXMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ2hlY2tzIGlmIHRoZSBkZWNvZGluZyBtZXRob2Qgc2hvdWxkIHVzZSB0aGUgZmFsbGJhY2sgZm9yIGRlY29kaW5nCgkgICAgICogb25jZSBOb2RlIFRleHREZWNvZGVyIGRvZXNuJ3Qgc3VwcG9ydCBhbGwgZW5jb2RpbmcgZm9ybWF0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBlbmNvZGluZ05hbWUKCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5zaG91bGREZWNvZGVPbkZhbGxiYWNrID0gZnVuY3Rpb24gKGVuY29kaW5nTmFtZSkgewoJICAgICAgICByZXR1cm4gIVN0cmluZ0VuY29kaW5nLmlzQnJvd3NlcigpICYmIGVuY29kaW5nTmFtZSA9PT0gJ0lTTy04ODU5LTEnOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRW5jb2RlcyBzb21lIHN0cmluZyBpbnRvIGEgVWludDhBcnJheS4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGUgPSBmdW5jdGlvbiAocywgZW5jb2RpbmcpIHsKCSAgICAgICAgdmFyIGVuY29kaW5nTmFtZSA9IHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKTsKCSAgICAgICAgaWYgKHRoaXMuY3VzdG9tRW5jb2RlcikgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRW5jb2RlcihzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEluY3JlYXNlcyBicm93c2VyIHN1cHBvcnQuCgkgICAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICd1bmRlZmluZWQnKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVGYWxsYmFjayhzKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBUZXh0RW5jb2RlciBvbmx5IGVuY29kZXMgdG8gVVRGOCBieSBkZWZhdWx0IGFzIHNwZWNpZmllZCBieSBlbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcKCSAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzQnJvd3NlciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHdpbmRvdykgPT09ICdbb2JqZWN0IFdpbmRvd10nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHN0cmluZyB2YWx1ZSBmcm9tIHNvbWUgZW5jb2RpbmcgY2hhcmFjdGVyIHNldC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGluZ05hbWUgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycKCSAgICAgICAgICAgID8gZW5jb2RpbmcKCSAgICAgICAgICAgIDogZW5jb2RpbmcuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBjaGFyYWN0ZXIgc2V0IGZyb20gc29tZSBlbmNvZGluZyBjaGFyYWN0ZXIgc2V0LgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmVuY29kaW5nQ2hhcmFjdGVyU2V0ID0gZnVuY3Rpb24gKGVuY29kaW5nKSB7CgkgICAgICAgIGlmIChlbmNvZGluZyBpbnN0YW5jZW9mIENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdCkgewoJICAgICAgICAgICAgcmV0dXJuIGVuY29kaW5nOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlOYW1lKGVuY29kaW5nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJ1bnMgYSBmYWxsYmFjayBmb3IgdGhlIG5hdGl2ZSBkZWNvZGluZyBmdW5jaW9uLgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmRlY29kZUZhbGxiYWNrID0gZnVuY3Rpb24gKGJ5dGVzLCBlbmNvZGluZykgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gdGhpcy5lbmNvZGluZ0NoYXJhY3RlclNldChlbmNvZGluZyk7CgkgICAgICAgIGlmIChTdHJpbmdFbmNvZGluZy5pc0RlY29kZUZhbGxiYWNrU3VwcG9ydGVkKGNoYXJhY3RlclNldCkpIHsKCSAgICAgICAgICAgIHZhciBzID0gJyc7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBieXRlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGggPSBieXRlc1tpXS50b1N0cmluZygxNik7CgkgICAgICAgICAgICAgICAgaWYgKGgubGVuZ3RoIDwgMikgewoJICAgICAgICAgICAgICAgICAgICBoID0gJzAnICsgaDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcyArPSAnJScgKyBoOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuVW5pY29kZUJpZ1VubWFya2VkKSkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQxNkFycmF5KGJ5dGVzLmJ1ZmZlcikpOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgiRW5jb2RpbmcgIiArIHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKSArICIgbm90IHN1cHBvcnRlZCBieSBmYWxsYmFjay4iKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzRGVjb2RlRmFsbGJhY2tTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgIHJldHVybiBjaGFyYWN0ZXJTZXQuZXF1YWxzKENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdC5VVEY4KSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuSVNPODg1OV8xKSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuQVNDSUkpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUnVucyBhIGZhbGxiYWNrIGZvciB0aGUgbmF0aXZlIGVuY29kaW5nIGZ1bmNpb24uCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzE5Mjg0NS80MzY3NjgzCgkgICAgICovCgkgICAgU3RyaW5nRW5jb2RpbmcuZW5jb2RlRmFsbGJhY2sgPSBmdW5jdGlvbiAocykgewoJICAgICAgICB2YXIgZW5jb2RlZFVSSXN0cmluZyA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSk7CgkgICAgICAgIHZhciBjaGFyTGlzdCA9IGVuY29kZWRVUklzdHJpbmcuc3BsaXQoJycpOwoJICAgICAgICB2YXIgdWludEFycmF5ID0gW107CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhckxpc3QubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHVpbnRBcnJheS5wdXNoKGNoYXJMaXN0W2ldLmNoYXJDb2RlQXQoMCkpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh1aW50QXJyYXkpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0VuY29kaW5nOwoJfSgpKTsKCVN0cmluZ0VuY29kaW5nJDEuZGVmYXVsdCA9IFN0cmluZ0VuY29kaW5nOwoKCS8qCgkgKiBDb3B5cmlnaHQgKEMpIDIwMTAgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ1V0aWxzJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQzID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSQxID0gQ2hhcmFjdGVyU2V0RUNJOwoJdmFyIFN0cmluZ0VuY29kaW5nXzEkMSA9IFN0cmluZ0VuY29kaW5nJDE7CgkvKioKCSAqIENvbW1vbiBzdHJpbmctcmVsYXRlZCBmdW5jdGlvbnMuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgQWxleCBEdXByZQoJICovCgl2YXIgU3RyaW5nVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nVXRpbHMoKSB7CgkgICAgfQoJICAgIC8vIFNISUZUX0pJUy5lcXVhbHNJZ25vcmVDYXNlKFBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcpIHx8CgkgICAgLy8gRVVDX0pQLmVxdWFsc0lnbm9yZUNhc2UoUExBVEZPUk1fREVGQVVMVF9FTkNPRElORyk7CgkgICAgU3RyaW5nVXRpbHMuY2FzdEFzTm9uVXRmOENoYXIgPSBmdW5jdGlvbiAoY29kZSwgZW5jb2RpbmcpIHsKCSAgICAgICAgaWYgKGVuY29kaW5nID09PSB2b2lkIDApIHsgZW5jb2RpbmcgPSBudWxsOyB9CgkgICAgICAgIC8vIElTTyA4ODU5LTEgaXMgdGhlIEphdmEgZGVmYXVsdCBhcyBVVEYtOCBpcyBKYXZhU2NyaXB0cwoJICAgICAgICAvLyB5b3UgY2FuIHNlZSB0aGlzIG1ldGhvZCBhcyBhIEphdmEgdmVyc2lvbiBvZiBTdHJpbmcuZnJvbUNoYXJDb2RlCgkgICAgICAgIHZhciBlID0gZW5jb2RpbmcgPyBlbmNvZGluZy5nZXROYW1lKCkgOiB0aGlzLklTTzg4NTkxOwoJICAgICAgICAvLyB1c2UgcGFzc2VkIGZvcm1hdCAoZnJvbUNoYXJDb2RlIHdpbGwgcmV0dXJuIFVURjggZW5jb2RpbmcpCgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoW2NvZGVdKSwgZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYnl0ZXMgYnl0ZXMgZW5jb2RpbmcgYSBzdHJpbmcsIHdob3NlIGVuY29kaW5nIHNob3VsZCBiZSBndWVzc2VkCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kZSBoaW50cyBpZiBhcHBsaWNhYmxlCgkgICAgICogQHJldHVybiBuYW1lIG9mIGd1ZXNzZWQgZW5jb2Rpbmc7IGF0IHRoZSBtb21lbnQgd2lsbCBvbmx5IGd1ZXNzIG9uZSBvZjoKCSAgICAgKiAge0BsaW5rICNTSElGVF9KSVN9LCB7QGxpbmsgI1VURjh9LCB7QGxpbmsgI0lTTzg4NTkxfSwgb3IgdGhlIHBsYXRmb3JtCgkgICAgICogIGRlZmF1bHQgZW5jb2RpbmcgaWYgbm9uZSBvZiB0aGVzZSBjYW4gcG9zc2libHkgYmUgY29ycmVjdAoJICAgICAqLwoJICAgIFN0cmluZ1V0aWxzLmd1ZXNzRW5jb2RpbmcgPSBmdW5jdGlvbiAoYnl0ZXMsIGhpbnRzKSB7CgkgICAgICAgIGlmIChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpKSB7CgkgICAgICAgICAgICByZXR1cm4gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpLnRvU3RyaW5nKCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRm9yIG5vdywgbWVyZWx5IHRyaWVzIHRvIGRpc3Rpbmd1aXNoIElTTy04ODU5LTEsIFVURi04IGFuZCBTaGlmdF9KSVMsCgkgICAgICAgIC8vIHdoaWNoIHNob3VsZCBiZSBieSBmYXIgdGhlIG1vc3QgY29tbW9uIGVuY29kaW5ncy4KCSAgICAgICAgdmFyIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDsKCSAgICAgICAgdmFyIGNhbkJlSVNPODg1OTEgPSB0cnVlOwoJICAgICAgICB2YXIgY2FuQmVTaGlmdEpJUyA9IHRydWU7CgkgICAgICAgIHZhciBjYW5CZVVURjggPSB0cnVlOwoJICAgICAgICB2YXIgdXRmOEJ5dGVzTGVmdCA9IDA7CgkgICAgICAgIC8vIGludCB1dGY4TG93Q2hhcnMgPSAwCgkgICAgICAgIHZhciB1dGYyQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGYzQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGY0Qnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciBzamlzQnl0ZXNMZWZ0ID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNMb3dDaGFycyA9IDAKCSAgICAgICAgdmFyIHNqaXNLYXRha2FuYUNoYXJzID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNEb3VibGVCeXRlc0NoYXJzID0gMAoJICAgICAgICB2YXIgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgIHZhciBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgdmFyIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSAwOwoJICAgICAgICB2YXIgc2ppc01heERvdWJsZUJ5dGVzV29yZExlbmd0aCA9IDA7CgkgICAgICAgIC8vIGludCBpc29Mb3dDaGFycyA9IDAKCSAgICAgICAgLy8gaW50IGlzb0hpZ2hDaGFycyA9IDAKCSAgICAgICAgdmFyIGlzb0hpZ2hPdGhlciA9IDA7CgkgICAgICAgIHZhciB1dGY4Ym9tID0gYnl0ZXMubGVuZ3RoID4gMyAmJgoJICAgICAgICAgICAgYnl0ZXNbMF0gPT09IC8qKGJ5dGUpICovIDB4RUYgJiYKCSAgICAgICAgICAgIGJ5dGVzWzFdID09PSAvKihieXRlKSAqLyAweEJCICYmCgkgICAgICAgICAgICBieXRlc1syXSA9PT0gLyooYnl0ZSkgKi8gMHhCRjsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggJiYgKGNhbkJlSVNPODg1OTEgfHwgY2FuQmVTaGlmdEpJUyB8fCBjYW5CZVVURjgpOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB2YWx1ZSA9IGJ5dGVzW2ldICYgMHhGRjsKCSAgICAgICAgICAgIC8vIFVURi04IHN0dWZmCgkgICAgICAgICAgICBpZiAoY2FuQmVVVEY4KSB7CgkgICAgICAgICAgICAgICAgaWYgKHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDgwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVVVEY4ID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZhbHVlICYgMHg4MCkgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4NDApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhCeXRlc0xlZnQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDIwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjJCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4MTApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjNCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDA4KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmNEJ5dGVzQ2hhcnMrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlVVRGOCA9IGZhbHNlOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfSAvLyBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyB1dGY4TG93Q2hhcnMrKwoJICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIElTTy04ODU5LTEgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMHg3RiAmJiB2YWx1ZSA8IDB4QTApIHsKCSAgICAgICAgICAgICAgICAgICAgY2FuQmVJU084ODU5MSA9IGZhbHNlOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IDB4OUYpIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMHhDMCB8fCB2YWx1ZSA9PT0gMHhENyB8fCB2YWx1ZSA9PT0gMHhGNykgewoJICAgICAgICAgICAgICAgICAgICAgICAgaXNvSGlnaE90aGVyKys7CgkgICAgICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIGlzb0hpZ2hDaGFycysrCgkgICAgICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgICAgICB9IC8vIGVsc2UgewoJICAgICAgICAgICAgICAgIC8vIGlzb0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAvLyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBTaGlmdF9KSVMgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTKSB7CgkgICAgICAgICAgICAgICAgaWYgKHNqaXNCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDB4NDAgfHwgdmFsdWUgPT09IDB4N0YgfHwgdmFsdWUgPiAweEZDKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVNoaWZ0SklTID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IDB4ODAgfHwgdmFsdWUgPT09IDB4QTAgfHwgdmFsdWUgPiAweEVGKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhbkJlU2hpZnRKSVMgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPiAweEEwICYmIHZhbHVlIDwgMHhFMCkgewoJICAgICAgICAgICAgICAgICAgICBzamlzS2F0YWthbmFDaGFycysrOwoJICAgICAgICAgICAgICAgICAgICBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCsrOwoJICAgICAgICAgICAgICAgICAgICBpZiAoc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA+IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID4gMHg3RikgewoJICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgIC8vIHNqaXNEb3VibGVCeXRlc0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGgrKzsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPiBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gc2ppc0N1ckRvdWJsZUJ5dGVzV29yZExlbmd0aDsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gc2ppc0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPSAwOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmIHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVTaGlmdEpJUyAmJiBzamlzQnl0ZXNMZWZ0ID4gMCkgewoJICAgICAgICAgICAgY2FuQmVTaGlmdEpJUyA9IGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhc3kgLS0gaWYgdGhlcmUgaXMgQk9NIG9yIGF0IGxlYXN0IDEgdmFsaWQgbm90LXNpbmdsZSBieXRlIGNoYXJhY3RlciAoYW5kIG5vIGV2aWRlbmNlIGl0IGNhbid0IGJlIFVURi04KSwgZG9uZQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmICh1dGY4Ym9tIHx8IHV0ZjJCeXRlc0NoYXJzICsgdXRmM0J5dGVzQ2hhcnMgKyB1dGY0Qnl0ZXNDaGFycyA+IDApKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuVVRGODsKCSAgICAgICAgfQoJICAgICAgICAvLyBFYXN5IC0tIGlmIGFzc3VtaW5nIFNoaWZ0X0pJUyBvciBhdCBsZWFzdCAzIHZhbGlkIGNvbnNlY3V0aXZlIG5vdC1hc2NpaSBjaGFyYWN0ZXJzIChhbmQgbm8gZXZpZGVuY2UgaXQgY2FuJ3QgYmUpLCBkb25lCgkgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTICYmIChTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTIHx8IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPj0gMyB8fCBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID49IDMpKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuU0hJRlRfSklTOwoJICAgICAgICB9CgkgICAgICAgIC8vIERpc3Rpbmd1aXNoaW5nIFNoaWZ0X0pJUyBhbmQgSVNPLTg4NTktMSBjYW4gYmUgYSBsaXR0bGUgdG91Z2ggZm9yIHNob3J0IHdvcmRzLiBUaGUgY3J1ZGUgaGV1cmlzdGljIGlzOgoJICAgICAgICAvLyAtIElmIHdlIHNhdwoJICAgICAgICAvLyAgIC0gb25seSB0d28gY29uc2VjdXRpdmUga2F0YWthbmEgY2hhcnMgaW4gdGhlIHdob2xlIHRleHQsIG9yCgkgICAgICAgIC8vICAgLSBhdCBsZWFzdCAxMCUgb2YgYnl0ZXMgdGhhdCBjb3VsZCBiZSAidXBwZXIiIG5vdC1hbHBoYW51bWVyaWMgTGF0aW4xLAoJICAgICAgICAvLyAtIHRoZW4gd2UgY29uY2x1ZGUgU2hpZnRfSklTLCBlbHNlIElTTy04ODU5LTEKCSAgICAgICAgaWYgKGNhbkJlSVNPODg1OTEgJiYgY2FuQmVTaGlmdEpJUykgewoJICAgICAgICAgICAgcmV0dXJuIChzamlzTWF4S2F0YWthbmFXb3JkTGVuZ3RoID09PSAyICYmIHNqaXNLYXRha2FuYUNoYXJzID09PSAyKSB8fCBpc29IaWdoT3RoZXIgKiAxMCA+PSBsZW5ndGgKCSAgICAgICAgICAgICAgICA/IFN0cmluZ1V0aWxzLlNISUZUX0pJUyA6IFN0cmluZ1V0aWxzLklTTzg4NTkxOwoJICAgICAgICB9CgkgICAgICAgIC8vIE90aGVyd2lzZSwgdHJ5IGluIG9yZGVyIElTTy04ODU5LTEsIFNoaWZ0IEpJUywgVVRGLTggYW5kIGZhbGwgYmFjayB0byBkZWZhdWx0IHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuSVNPODg1OTE7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlU2hpZnRKSVMpIHsKCSAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5TSElGVF9KSVM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlVVRGOCkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLlVURjg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSB0YWtlIGEgd2lsZCBndWVzcyB3aXRoIHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5QTEFURk9STV9ERUZBVUxUX0VOQ09ESU5HOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQzOTcxMS80MzY3NjgzCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYXBwZW5kIFRoZSBuZXcgc3RyaW5nIHRvIGFwcGVuZC4KCSAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWV0cyB2YWx1ZXMgdG8gYmUgZm9ybWF0ZWQuCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZm9ybWF0ID0gZnVuY3Rpb24gKGFwcGVuZCkgewoJICAgICAgICB2YXIgYXJncyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaSA9IC0xOwoJICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayhleHAsIHAwLCBwMSwgcDIsIHAzLCBwNCkgewoJICAgICAgICAgICAgaWYgKGV4cCA9PT0gJyUlJykKCSAgICAgICAgICAgICAgICByZXR1cm4gJyUnOwoJICAgICAgICAgICAgaWYgKGFyZ3NbKytpXSA9PT0gdW5kZWZpbmVkKQoJICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CgkgICAgICAgICAgICBleHAgPSBwMiA/IHBhcnNlSW50KHAyLnN1YnN0cigxKSkgOiB1bmRlZmluZWQ7CgkgICAgICAgICAgICB2YXIgYmFzZSA9IHAzID8gcGFyc2VJbnQocDMuc3Vic3RyKDEpKSA6IHVuZGVmaW5lZDsKCSAgICAgICAgICAgIHZhciB2YWw7CgkgICAgICAgICAgICBzd2l0Y2ggKHA0KSB7CgkgICAgICAgICAgICAgICAgY2FzZSAncyc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IGFyZ3NbaV07CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2MnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBhcmdzW2ldWzBdOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdmJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChhcmdzW2ldKS50b0ZpeGVkKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ3AnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvUHJlY2lzaW9uKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2UnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvRXhwb25lbnRpYWwoZXhwKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgY2FzZSAneCc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlSW50KGFyZ3NbaV0pLnRvU3RyaW5nKGJhc2UgPyBiYXNlIDogMTYpOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdkJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChwYXJzZUludChhcmdzW2ldLCBiYXNlID8gYmFzZSA6IDEwKS50b1ByZWNpc2lvbihleHApKS50b0ZpeGVkKDApOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsKSA6ICgrdmFsKS50b1N0cmluZyhiYXNlKTsKCSAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocDEpOyAvKiBwYWRkaW5nIHNpemUgKi8KCSAgICAgICAgICAgIHZhciBjaCA9IHAxICYmIChwMVswXSArICcnKSA9PT0gJzAnID8gJzAnIDogJyAnOyAvKiBpc251bGw/ICovCgkgICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCA8IHNpemUpCgkgICAgICAgICAgICAgICAgdmFsID0gcDAgIT09IHVuZGVmaW5lZCA/IHZhbCArIGNoIDogY2ggKyB2YWw7IC8qIGlzbWludXM/ICovCgkgICAgICAgICAgICByZXR1cm4gdmFsOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZWdleCA9IC8lKC0pPygwP1swLTldKyk/KFsuXVswLTldKyk/KFsjXVswLTldKyk/KFtzY2ZwZXhkJV0pL2c7CgkgICAgICAgIHJldHVybiBhcHBlbmQucmVwbGFjZShyZWdleCwgY2FsbGJhY2spOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRCeXRlcyA9IGZ1bmN0aW9uIChzdHIsIGVuY29kaW5nKSB7CgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5lbmNvZGUoc3RyLCBlbmNvZGluZyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIHRoZSBjaGFyY29kZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IG9yIGF0IGluZGV4IHplcm8uCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUgPSBmdW5jdGlvbiAoc3RyLCBpbmRleCkgewoJICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IDA7IH0KCSAgICAgICAgcmV0dXJuIHN0ci5jaGFyQ29kZUF0KGluZGV4KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgY2hhciBmb3IgZ2l2ZW4gY2hhcmNvZGUKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRDaGFyQXQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpOwoJICAgIH07CgkgICAgU3RyaW5nVXRpbHMuU0hJRlRfSklTID0gQ2hhcmFjdGVyU2V0RUNJXzEkMS5kZWZhdWx0LlNKSVMuZ2V0TmFtZSgpOyAvLyAiU0pJUyIKCSAgICBTdHJpbmdVdGlscy5HQjIzMTIgPSAnR0IyMzEyJzsKCSAgICBTdHJpbmdVdGlscy5JU084ODU5MSA9IENoYXJhY3RlclNldEVDSV8xJDEuZGVmYXVsdC5JU084ODU5XzEuZ2V0TmFtZSgpOyAvLyAiSVNPODg1OV8xIgoJICAgIFN0cmluZ1V0aWxzLkVVQ19KUCA9ICdFVUNfSlAnOwoJICAgIFN0cmluZ1V0aWxzLlVURjggPSBDaGFyYWN0ZXJTZXRFQ0lfMSQxLmRlZmF1bHQuVVRGOC5nZXROYW1lKCk7IC8vICJVVEY4IgoJICAgIFN0cmluZ1V0aWxzLlBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcgPSBTdHJpbmdVdGlscy5VVEY4OyAvLyAiVVRGOCIvL0NoYXJzZXQuZGVmYXVsdENoYXJzZXQoKS5uYW1lKCkKCSAgICBTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTID0gZmFsc2U7CgkgICAgcmV0dXJuIFN0cmluZ1V0aWxzOwoJfSgpKTsKCVN0cmluZ1V0aWxzJDEuZGVmYXVsdCA9IFN0cmluZ1V0aWxzOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmdCdWlsZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBTdHJpbmdVdGlsc18xJDEgPSBTdHJpbmdVdGlscyQxOwoJdmFyIFN0cmluZ0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcih2YWx1ZSkgewoJICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9ICcnOyB9CgkgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKCSAgICB9CgkgICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZW5hYmxlRGVjb2RpbmcgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nOwoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHsKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gcy50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHRoaXMuZW5jb2RpbmcpIHsKCSAgICAgICAgICAgIC8vIHVzZSBwYXNzZWQgZm9ybWF0IChmcm9tQ2hhckNvZGUgd2lsbCByZXR1cm4gVVRGOCBlbmNvZGluZykKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nVXRpbHNfMSQxLmRlZmF1bHQuY2FzdEFzTm9uVXRmOENoYXIocywgdGhpcy5lbmNvZGluZyk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBjb3JyZWN0bHkgY29udmVydHMgZnJvbSBVVEYtOCwgYnV0IG5vdCBvdGhlciBlbmNvZGluZ3MKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZENoYXJzID0gZnVuY3Rpb24gKHN0ciwgb2Zmc2V0LCBsZW4pIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IG9mZnNldDsgb2Zmc2V0IDwgb2Zmc2V0ICsgbGVuOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kKHN0cltpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aDsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmNoYXJBdChuKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRlbGV0ZUNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIHRoaXMudmFsdWUuc3Vic3RyaW5nKG4gKyAxKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnNldENoYXJBdCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgMSk7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zdWJzdHJpbmcgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAbm90ZSBoZWxwZXIgbWV0aG9kIGZvciBSU1MgRXhwYW5kZWQKCSAgICAgKi8KCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zZXRMZW5ndGhUb1plcm8gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSAnJzsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgYy5sZW5ndGgpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0J1aWxkZXI7Cgl9KCkpOwoJU3RyaW5nQnVpbGRlciQxLmRlZmF1bHQgPSBTdHJpbmdCdWlsZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0TWF0cml4JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIEJpdEFycmF5XzEkMSA9IEJpdEFycmF5JDE7Cgl2YXIgU3lzdGVtXzEkMyA9IFN5c3RlbSQxOwoJdmFyIEFycmF5c18xID0gQXJyYXlzJDE7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDIgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNyA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgMkQgbWF0cml4IG9mIGJpdHMuIEluIGZ1bmN0aW9uIGFyZ3VtZW50cyBiZWxvdywgYW5kIHRocm91Z2hvdXQgdGhlIGNvbW1vbgoJICogbW9kdWxlLCB4IGlzIHRoZSBjb2x1bW4gcG9zaXRpb24sIGFuZCB5IGlzIHRoZSByb3cgcG9zaXRpb24uIFRoZSBvcmRlcmluZyBpcyBhbHdheXMgeCwgeS4KCSAqIFRoZSBvcmlnaW4gaXMgYXQgdGhlIHRvcC1sZWZ0LjwvcD4KCSAqCgkgKiA8cD5JbnRlcm5hbGx5IHRoZSBiaXRzIGFyZSByZXByZXNlbnRlZCBpbiBhIDEtRCBhcnJheSBvZiAzMi1iaXQgaW50cy4gSG93ZXZlciwgZWFjaCByb3cgYmVnaW5zCgkgKiB3aXRoIGEgbmV3IGludC4gVGhpcyBpcyBkb25lIGludGVudGlvbmFsbHkgc28gdGhhdCB3ZSBjYW4gY29weSBvdXQgYSByb3cgaW50byBhIEJpdEFycmF5IHZlcnkKCSAqIGVmZmljaWVudGx5LjwvcD4KCSAqCgkgKiA8cD5UaGUgb3JkZXJpbmcgb2YgYml0cyBpcyByb3ctbWFqb3IuIFdpdGhpbiBlYWNoIGludCwgdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgYXJlIHVzZWQgZmlyc3QsCgkgKiBtZWFuaW5nIHRoZXkgcmVwcmVzZW50IGxvd2VyIHggdmFsdWVzLiBUaGlzIGlzIGNvbXBhdGlibGUgd2l0aCBCaXRBcnJheSdzIGltcGxlbWVudGF0aW9uLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpdE1hdHJpeCAvKmltcGxlbWVudHMgQ2xvbmVhYmxlKi8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSBzcXVhcmUge0BsaW5rIEJpdE1hdHJpeH0uCgkgICAgICoKCSAgICAgKiBAcGFyYW0gZGltZW5zaW9uIGhlaWdodCBhbmQgd2lkdGgKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoZGltZW5zaW9uOiBudW1iZXIgLyppbnQqLykgewoJICAgIC8vICAgdGhpcyhkaW1lbnNpb24sIGRpbWVuc2lvbikKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSB7QGxpbmsgQml0TWF0cml4fS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB3aWR0aCBiaXQgbWF0cml4IHdpZHRoCgkgICAgICogQHBhcmFtIGhlaWdodCBiaXQgbWF0cml4IGhlaWdodAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyIC8qaW50Ki8sIGhlaWdodDogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh3aWR0aCA8IDEgfHwgaGVpZ2h0IDwgMSkgewoJICAgIC8vICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJCb3RoIGRpbWVuc2lvbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpCgkgICAgLy8gICB9CgkgICAgLy8gICB0aGlzLndpZHRoID0gd2lkdGgKCSAgICAvLyAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0CgkgICAgLy8gICB0aGlzLnJvd1NpemUgPSAod2lkdGggKyAzMSkgLyAzMgoJICAgIC8vICAgYml0cyA9IG5ldyBpbnRbcm93U2l6ZSAqIGhlaWdodF07CgkgICAgLy8gfQoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeCh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgcm93U2l6ZSAvKmludCovLCBiaXRzKSB7CgkgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsKCSAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CgkgICAgICAgIHRoaXMucm93U2l6ZSA9IHJvd1NpemU7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGhlaWdodCB8fCBudWxsID09PSBoZWlnaHQpIHsKCSAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgICAgICBpZiAod2lkdGggPCAxIHx8IGhlaWdodCA8IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0JvdGggZGltZW5zaW9ucyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gcm93U2l6ZSB8fCBudWxsID09PSByb3dTaXplKSB7CgkgICAgICAgICAgICByb3dTaXplID0gTWF0aC5mbG9vcigod2lkdGggKyAzMSkgLyAzMik7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yb3dTaXplID0gcm93U2l6ZTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICB0aGlzLmJpdHMgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJvd1NpemUgKiB0aGlzLmhlaWdodCk7CgkgICAgICAgIH0KCSAgICB9CgkgICAgLyoqCgkgICAgICogSW50ZXJwcmV0cyBhIDJEIGFycmF5IG9mIGJvb2xlYW5zIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0sIHdoZXJlICJ0cnVlIiBtZWFucyBhbiAib24iIGJpdC4KCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBpbWFnZSBiaXRzIG9mIHRoZSBpbWFnZSwgYXMgYSByb3ctbWFqb3IgMkQgYXJyYXkuIEVsZW1lbnRzIGFyZSBhcnJheXMgcmVwcmVzZW50aW5nIHJvd3MKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCaXRNYXRyaXh9IHJlcHJlc2VudGF0aW9uIG9mIGltYWdlCgkgICAgICovCgkgICAgQml0TWF0cml4LnBhcnNlRnJvbUJvb2xlYW5BcnJheSA9IGZ1bmN0aW9uIChpbWFnZSkgewoJICAgICAgICB2YXIgaGVpZ2h0ID0gaW1hZ2UubGVuZ3RoOwoJICAgICAgICB2YXIgd2lkdGggPSBpbWFnZVswXS5sZW5ndGg7CgkgICAgICAgIHZhciBiaXRzID0gbmV3IEJpdE1hdHJpeCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGltYWdlSSA9IGltYWdlW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7CgkgICAgICAgICAgICAgICAgaWYgKGltYWdlSVtqXSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldChqLCBpKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBzdHJpbmdSZXByZXNlbnRhdGlvbgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcKCSAgICAgKiBAcGFyYW0gdW5zZXRTdHJpbmcKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24gKHN0cmluZ1JlcHJlc2VudGF0aW9uLCBzZXRTdHJpbmcsIHVuc2V0U3RyaW5nKSB7CgkgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnc3RyaW5nUmVwcmVzZW50YXRpb24gY2Fubm90IGJlIG51bGwnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBBcnJheShzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpOwoJICAgICAgICB2YXIgYml0c1BvcyA9IDA7CgkgICAgICAgIHZhciByb3dTdGFydFBvcyA9IDA7CgkgICAgICAgIHZhciByb3dMZW5ndGggPSAtMTsKCSAgICAgICAgdmFyIG5Sb3dzID0gMDsKCSAgICAgICAgdmFyIHBvcyA9IDA7CgkgICAgICAgIHdoaWxlIChwb3MgPCBzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpIHsKCSAgICAgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbi5jaGFyQXQocG9zKSA9PT0gJ1xuJyB8fAoJICAgICAgICAgICAgICAgIHN0cmluZ1JlcHJlc2VudGF0aW9uLmNoYXJBdChwb3MpID09PSAnXHInKSB7CgkgICAgICAgICAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgICAgICAgICBpZiAocm93TGVuZ3RoID09PSAtMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcm93TGVuZ3RoID0gYml0c1BvcyAtIHJvd1N0YXJ0UG9zOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJpdHNQb3MgLSByb3dTdGFydFBvcyAhPT0gcm93TGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdyb3cgbGVuZ3RocyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICByb3dTdGFydFBvcyA9IGJpdHNQb3M7CgkgICAgICAgICAgICAgICAgICAgIG5Sb3dzKys7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHBvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoc3RyaW5nUmVwcmVzZW50YXRpb24uc3Vic3RyaW5nKHBvcywgcG9zICsgc2V0U3RyaW5nLmxlbmd0aCkgPT09IHNldFN0cmluZykgewoJICAgICAgICAgICAgICAgIHBvcyArPSBzZXRTdHJpbmcubGVuZ3RoOwoJICAgICAgICAgICAgICAgIGJpdHNbYml0c1Bvc10gPSB0cnVlOwoJICAgICAgICAgICAgICAgIGJpdHNQb3MrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHN0cmluZ1JlcHJlc2VudGF0aW9uLnN1YnN0cmluZyhwb3MsIHBvcyArIHVuc2V0U3RyaW5nLmxlbmd0aCkgPT09IHVuc2V0U3RyaW5nKSB7CgkgICAgICAgICAgICAgICAgcG9zICs9IHVuc2V0U3RyaW5nLmxlbmd0aDsKCSAgICAgICAgICAgICAgICBiaXRzW2JpdHNQb3NdID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgYml0c1BvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnaWxsZWdhbCBjaGFyYWN0ZXIgZW5jb3VudGVyZWQ6ICcgKyBzdHJpbmdSZXByZXNlbnRhdGlvbi5zdWJzdHJpbmcocG9zKSk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm8gRU9MIGF0IGVuZD8KCSAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgaWYgKHJvd0xlbmd0aCA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICByb3dMZW5ndGggPSBiaXRzUG9zIC0gcm93U3RhcnRQb3M7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmIChiaXRzUG9zIC0gcm93U3RhcnRQb3MgIT09IHJvd0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ3JvdyBsZW5ndGhzIGRvIG5vdCBtYXRjaCcpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgblJvd3MrKzsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEJpdE1hdHJpeChyb3dMZW5ndGgsIG5Sb3dzKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaXRzUG9zOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChiaXRzW2ldKSB7CgkgICAgICAgICAgICAgICAgbWF0cml4LnNldChNYXRoLmZsb29yKGkgJSByb3dMZW5ndGgpLCBNYXRoLmZsb29yKGkgLyByb3dMZW5ndGgpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbWF0cml4OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+R2V0cyB0aGUgcmVxdWVzdGVkIGJpdCwgd2hlcmUgdHJ1ZSBtZWFucyBibGFjay48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0geCBUaGUgaG9yaXpvbnRhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggY29sdW1uKQoJICAgICAqIEBwYXJhbSB5IFRoZSB2ZXJ0aWNhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggcm93KQoJICAgICAqIEByZXR1cm4gdmFsdWUgb2YgZ2l2ZW4gYml0IGluIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7CgkgICAgICAgIHZhciBvZmZzZXQgPSB5ICogdGhpcy5yb3dTaXplICsgTWF0aC5mbG9vcih4IC8gMzIpOwoJICAgICAgICByZXR1cm4gKCh0aGlzLmJpdHNbb2Zmc2V0XSA+Pj4gKHggJiAweDFmKSkgJiAxKSAhPT0gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgdGhlIGdpdmVuIGJpdCB0byB0cnVlLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB4IFRoZSBob3Jpem9udGFsIGNvbXBvbmVudCAoaS5lLiB3aGljaCBjb2x1bW4pCgkgICAgICogQHBhcmFtIHkgVGhlIHZlcnRpY2FsIGNvbXBvbmVudCAoaS5lLiB3aGljaCByb3cpCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIHw9ICgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRjsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdICY9IH4oKDEgPDwgKHggJiAweDFmKSkgJiAweEZGRkZGRkZGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkZsaXBzIHRoZSBnaXZlbiBiaXQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHggVGhlIGhvcml6b250YWwgY29tcG9uZW50IChpLmUuIHdoaWNoIGNvbHVtbikKCSAgICAgKiBAcGFyYW0geSBUaGUgdmVydGljYWwgY29tcG9uZW50IChpLmUuIHdoaWNoIHJvdykKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmZsaXAgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIF49ICgoMSA8PCAoeCAmIDB4MWYpKSAmIDB4RkZGRkZGRkYpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRXhjbHVzaXZlLW9yIChYT1IpOiBGbGlwIHRoZSBiaXQgaW4gdGhpcyB7QGNvZGUgQml0TWF0cml4fSBpZiB0aGUgY29ycmVzcG9uZGluZwoJICAgICAqIG1hc2sgYml0IGlzIHNldC4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBtYXNrIFhPUiBtYXNrCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAobWFzaykgewoJICAgICAgICBpZiAodGhpcy53aWR0aCAhPT0gbWFzay5nZXRXaWR0aCgpIHx8IHRoaXMuaGVpZ2h0ICE9PSBtYXNrLmdldEhlaWdodCgpCgkgICAgICAgICAgICB8fCB0aGlzLnJvd1NpemUgIT09IG1hc2suZ2V0Um93U2l6ZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdpbnB1dCBtYXRyaXggZGltZW5zaW9ucyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcm93QXJyYXkgPSBuZXcgQml0QXJyYXlfMSQxLmRlZmF1bHQoTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMzIpICsgMSk7CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIHZhciBvZmZzZXQgPSB5ICogcm93U2l6ZTsKCSAgICAgICAgICAgIHZhciByb3cgPSBtYXNrLmdldFJvdyh5LCByb3dBcnJheSkuZ2V0Qml0QXJyYXkoKTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcm93U2l6ZTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgYml0c1tvZmZzZXQgKyB4XSBePSByb3dbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBtYXggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkrKykgewoJICAgICAgICAgICAgYml0c1tpXSA9IDA7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgYSBzcXVhcmUgcmVnaW9uIG9mIHRoZSBiaXQgbWF0cml4IHRvIHRydWUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGxlZnQgVGhlIGhvcml6b250YWwgcG9zaXRpb24gdG8gYmVnaW4gYXQgKGluY2x1c2l2ZSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB0byBiZWdpbiBhdCAoaW5jbHVzaXZlKQoJICAgICAqIEBwYXJhbSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlZ2lvbgoJICAgICAqIEBwYXJhbSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVnaW9uCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXRSZWdpb24gPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHRvcCA8IDAgfHwgbGVmdCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0xlZnQgYW5kIHRvcCBtdXN0IGJlIG5vbm5lZ2F0aXZlJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGhlaWdodCA8IDEgfHwgd2lkdGggPCAxKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdIZWlnaHQgYW5kIHdpZHRoIG11c3QgYmUgYXQgbGVhc3QgMScpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByaWdodCA9IGxlZnQgKyB3aWR0aDsKCSAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDsKCSAgICAgICAgaWYgKGJvdHRvbSA+IHRoaXMuaGVpZ2h0IHx8IHJpZ2h0ID4gdGhpcy53aWR0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnVGhlIHJlZ2lvbiBtdXN0IGZpdCBpbnNpZGUgdGhlIG1hdHJpeCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IHRvcDsgeSA8IGJvdHRvbTsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHJvd1NpemU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gbGVmdDsgeCA8IHJpZ2h0OyB4KyspIHsKCSAgICAgICAgICAgICAgICBiaXRzW29mZnNldCArIE1hdGguZmxvb3IoeCAvIDMyKV0gfD0gKCgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRik7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEEgZmFzdCBtZXRob2QgdG8gcmV0cmlldmUgb25lIHJvdyBvZiBkYXRhIGZyb20gdGhlIG1hdHJpeCBhcyBhIEJpdEFycmF5LgoJICAgICAqCgkgICAgICogQHBhcmFtIHkgVGhlIHJvdyB0byByZXRyaWV2ZQoJICAgICAqIEBwYXJhbSByb3cgQW4gb3B0aW9uYWwgY2FsbGVyLWFsbG9jYXRlZCBCaXRBcnJheSwgd2lsbCBiZSBhbGxvY2F0ZWQgaWYgbnVsbCBvciB0b28gc21hbGwKCSAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQml0QXJyYXkgLSB0aGlzIHJlZmVyZW5jZSBzaG91bGQgYWx3YXlzIGJlIHVzZWQgZXZlbiB3aGVuIHBhc3NpbmcKCSAgICAgKiAgICAgICAgIHlvdXIgb3duIHJvdwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Um93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIGlmIChyb3cgPT09IG51bGwgfHwgcm93ID09PSB1bmRlZmluZWQgfHwgcm93LmdldFNpemUoKSA8IHRoaXMud2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh0aGlzLndpZHRoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHJvdy5jbGVhcigpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiByb3dTaXplOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvd1NpemU7IHgrKykgewoJICAgICAgICAgICAgcm93LnNldEJ1bGsoeCAqIDMyLCBiaXRzW29mZnNldCArIHhdKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIHkgcm93IHRvIHNldAoJICAgICAqIEBwYXJhbSByb3cge0BsaW5rIEJpdEFycmF5fSB0byBjb3B5IGZyb20KCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLnNldFJvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykgewoJICAgICAgICBTeXN0ZW1fMSQzLmRlZmF1bHQuYXJyYXljb3B5KHJvdy5nZXRCaXRBcnJheSgpLCAwLCB0aGlzLmJpdHMsIHkgKiB0aGlzLnJvd1NpemUsIHRoaXMucm93U2l6ZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBNb2RpZmllcyB0aGlzIHtAY29kZSBCaXRNYXRyaXh9IHRvIHJlcHJlc2VudCB0aGUgc2FtZSBidXQgcm90YXRlZCAxODAgZGVncmVlcwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUucm90YXRlMTgwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgdG9wUm93ID0gbmV3IEJpdEFycmF5XzEkMS5kZWZhdWx0KHdpZHRoKTsKCSAgICAgICAgdmFyIGJvdHRvbVJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh3aWR0aCk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IE1hdGguZmxvb3IoKGhlaWdodCArIDEpIC8gMik7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB0b3BSb3cgPSB0aGlzLmdldFJvdyhpLCB0b3BSb3cpOwoJICAgICAgICAgICAgYm90dG9tUm93ID0gdGhpcy5nZXRSb3coaGVpZ2h0IC0gMSAtIGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0b3BSb3cucmV2ZXJzZSgpOwoJICAgICAgICAgICAgYm90dG9tUm93LnJldmVyc2UoKTsKCSAgICAgICAgICAgIHRoaXMuc2V0Um93KGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0aGlzLnNldFJvdyhoZWlnaHQgLSAxIC0gaSwgdG9wUm93KTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIHRoZSBlbmNsb3NpbmcgcmVjdGFuZ2xlIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBsZWZ0LHRvcCx3aWR0aCxoZWlnaHR9IGVuY2xvc2luZyByZWN0YW5nbGUgb2YgYWxsIDEgYml0cywgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldEVuY2xvc2luZ1JlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaGVpZ2h0OwoJICAgICAgICB2YXIgcm93U2l6ZSA9IHRoaXMucm93U2l6ZTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBsZWZ0ID0gd2lkdGg7CgkgICAgICAgIHZhciB0b3AgPSBoZWlnaHQ7CgkgICAgICAgIHZhciByaWdodCA9IC0xOwoJICAgICAgICB2YXIgYm90dG9tID0gLTE7CgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHgzMiA9IDA7IHgzMiA8IHJvd1NpemU7IHgzMisrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHRoZUJpdHMgPSBiaXRzW3kgKiByb3dTaXplICsgeDMyXTsKCSAgICAgICAgICAgICAgICBpZiAodGhlQml0cyAhPT0gMCkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA8IHRvcCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA+IGJvdHRvbSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeDMyICogMzIgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHgzMiAqIDMyICsgYml0OwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGlmICh4MzIgKiAzMiArIDMxID4gcmlnaHQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXQgPSAzMTsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgodGhlQml0cyA+Pj4gYml0KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPiByaWdodCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0geDMyICogMzIgKyBiaXQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJpZ2h0IDwgbGVmdCB8fCBib3R0b20gPCB0b3ApIHsKCSAgICAgICAgICAgIHJldHVybiBudWxsOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2xlZnQsIHRvcCwgcmlnaHQgLSBsZWZ0ICsgMSwgYm90dG9tIC0gdG9wICsgMV0pOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIGEgY29ybmVyIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSB4LHl9IGNvb3JkaW5hdGUgb2YgdG9wLWxlZnQtbW9zdCAxIGJpdCwgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldFRvcExlZnRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IDA7CgkgICAgICAgIHdoaWxlIChiaXRzT2Zmc2V0IDwgYml0cy5sZW5ndGggJiYgYml0c1tiaXRzT2Zmc2V0XSA9PT0gMCkgewoJICAgICAgICAgICAgYml0c09mZnNldCsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChiaXRzT2Zmc2V0ID09PSBiaXRzLmxlbmd0aCkgewoJICAgICAgICAgICAgcmV0dXJuIG51bGw7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHkgPSBiaXRzT2Zmc2V0IC8gcm93U2l6ZTsKCSAgICAgICAgdmFyIHggPSAoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDA7CgkgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgYml0Kys7CgkgICAgICAgIH0KCSAgICAgICAgeCArPSBiaXQ7CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW3gsIHldKTsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Qm90dG9tUmlnaHRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IGJpdHMubGVuZ3RoIC0gMTsKCSAgICAgICAgd2hpbGUgKGJpdHNPZmZzZXQgPj0gMCAmJiBiaXRzW2JpdHNPZmZzZXRdID09PSAwKSB7CgkgICAgICAgICAgICBiaXRzT2Zmc2V0LS07CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJpdHNPZmZzZXQgPCAwKSB7CgkgICAgICAgICAgICByZXR1cm4gbnVsbDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoYml0c09mZnNldCAvIHJvd1NpemUpOwoJICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDMxOwoJICAgICAgICB3aGlsZSAoKHRoZUJpdHMgPj4+IGJpdCkgPT09IDApIHsKCSAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICB9CgkgICAgICAgIHggKz0gYml0OwoJICAgICAgICByZXR1cm4gSW50MzJBcnJheS5mcm9tKFt4LCB5XSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMud2lkdGg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSByb3cgc2l6ZSBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRSb3dTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yb3dTaXplOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdE1hdHJpeCkpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy53aWR0aCA9PT0gb3RoZXIud2lkdGggJiYgdGhpcy5oZWlnaHQgPT09IG90aGVyLmhlaWdodCAmJiB0aGlzLnJvd1NpemUgPT09IG90aGVyLnJvd1NpemUgJiYKCSAgICAgICAgICAgIEFycmF5c18xLmRlZmF1bHQuZXF1YWxzKHRoaXMuYml0cywgb3RoZXIuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGhhc2ggPSB0aGlzLndpZHRoOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy53aWR0aDsKCSAgICAgICAgaGFzaCA9IDMxICogaGFzaCArIHRoaXMuaGVpZ2h0OwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy5yb3dTaXplOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgQXJyYXlzXzEuZGVmYXVsdC5oYXNoQ29kZSh0aGlzLmJpdHMpOwoJICAgICAgICByZXR1cm4gaGFzaDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIHVzaW5nICJYIiBmb3Igc2V0IGFuZCAiICIgZm9yIHVuc2V0IGJpdHMKCSAgICAgKi8KCSAgICAvKkBPdmVycmlkZSovCgkgICAgLy8gcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdG9TdHJpbmcoIjogIlgsICIgICIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgdG9TdHJpbmcoc2V0U3RyaW5nOiBzdHJpbmcgPSAiWCAiLCB1bnNldFN0cmluZzogc3RyaW5nID0gIiAgIik6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5idWlsZFRvU3RyaW5nKHNldFN0cmluZywgdW5zZXRTdHJpbmcsICJcbiIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEBwYXJhbSBsaW5lU2VwYXJhdG9yIG5ld2xpbmUgY2hhcmFjdGVyIGluIHN0cmluZyByZXByZXNlbnRhdGlvbgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MgYW5kIGxpbmUgc2VwYXJhdG9yCgkgICAgICogQGRlcHJlY2F0ZWQgY2FsbCB7QGxpbmsgI3RvU3RyaW5nKFN0cmluZyxTdHJpbmcpfSBvbmx5LCB3aGljaCB1c2VzIFxuIGxpbmUgc2VwYXJhdG9yIGFsd2F5cwoJICAgICAqLwoJICAgIC8vIEBEZXByZWNhdGVkCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChzZXRTdHJpbmcsIHVuc2V0U3RyaW5nLCBsaW5lU2VwYXJhdG9yKSB7CgkgICAgICAgIGlmIChzZXRTdHJpbmcgPT09IHZvaWQgMCkgeyBzZXRTdHJpbmcgPSAnWCAnOyB9CgkgICAgICAgIGlmICh1bnNldFN0cmluZyA9PT0gdm9pZCAwKSB7IHVuc2V0U3RyaW5nID0gJyAgJzsgfQoJICAgICAgICBpZiAobGluZVNlcGFyYXRvciA9PT0gdm9pZCAwKSB7IGxpbmVTZXBhcmF0b3IgPSAnXG4nOyB9CgkgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkVG9TdHJpbmcoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcik7CgkgICAgfTsKCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmJ1aWxkVG9TdHJpbmcgPSBmdW5jdGlvbiAoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcikgewoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgLy8gcmVzdWx0LmFwcGVuZChsaW5lU2VwYXJhdG9yKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IHRoaXMud2lkdGg7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0aGlzLmdldCh4LCB5KSA/IHNldFN0cmluZyA6IHVuc2V0U3RyaW5nKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQobGluZVNlcGFyYXRvcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0TWF0cml4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJvd1NpemUsIHRoaXMuYml0cy5zbGljZSgpKTsKCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXg7Cgl9KCkpOwoJQml0TWF0cml4JDEuZGVmYXVsdCA9IEJpdE1hdHJpeDsKCgl2YXIgTm90Rm91bmRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb3RGb3VuZEV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBOb3RGb3VuZEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZChOb3RGb3VuZEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBOb3RGb3VuZEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5nZXROb3RGb3VuZEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5raW5kID0gJ05vdEZvdW5kRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gTm90Rm91bmRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCkpOwoJTm90Rm91bmRFeGNlcHRpb24kMS5kZWZhdWx0ID0gTm90Rm91bmRFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovCgl2YXIgQmluYXJpemVyXzEgPSBCaW5hcml6ZXIkMTsKCXZhciBCaXRBcnJheV8xID0gQml0QXJyYXkkMTsKCXZhciBCaXRNYXRyaXhfMSQ1ID0gQml0TWF0cml4JDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQ2ID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qKgoJICogVGhpcyBCaW5hcml6ZXIgaW1wbGVtZW50YXRpb24gdXNlcyB0aGUgb2xkIFpYaW5nIGdsb2JhbCBoaXN0b2dyYW0gYXBwcm9hY2guIEl0IGlzIHN1aXRhYmxlCgkgKiBmb3IgbG93LWVuZCBtb2JpbGUgZGV2aWNlcyB3aGljaCBkb24ndCBoYXZlIGVub3VnaCBDUFUgb3IgbWVtb3J5IHRvIHVzZSBhIGxvY2FsIHRocmVzaG9sZGluZwoJICogYWxnb3JpdGhtLiBIb3dldmVyLCBiZWNhdXNlIGl0IHBpY2tzIGEgZ2xvYmFsIGJsYWNrIHBvaW50LCBpdCBjYW5ub3QgaGFuZGxlIGRpZmZpY3VsdCBzaGFkb3dzCgkgKiBhbmQgZ3JhZGllbnRzLgoJICoKCSAqIEZhc3RlciBtb2JpbGUgZGV2aWNlcyBhbmQgYWxsIGRlc2t0b3AgYXBwbGljYXRpb25zIHNob3VsZCBwcm9iYWJseSB1c2UgSHlicmlkQmluYXJpemVyIGluc3RlYWQuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGMoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5sdW1pbmFuY2VzID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkVNUFRZOwoJICAgICAgICBfdGhpcy5idWNrZXRzID0gbmV3IEludDMyQXJyYXkoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CVUNLRVRTKTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvLyBBcHBsaWVzIHNpbXBsZSBzaGFycGVuaW5nIHRvIHRoZSByb3cgZGF0YSB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIG9mIHRoZSAxRCBSZWFkZXJzLgoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmdldEJsYWNrUm93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdyA9PT0gbnVsbCB8fCByb3cuZ2V0U2l6ZSgpIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xLmRlZmF1bHQod2lkdGgpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcm93LmNsZWFyKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5pbml0QXJyYXlzKHdpZHRoKTsKCSAgICAgICAgdmFyIGxvY2FsTHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRSb3coeSwgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgdmFyIGxvY2FsQnVja2V0cyA9IHRoaXMuYnVja2V0czsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICBsb2NhbEJ1Y2tldHNbKGxvY2FsTHVtaW5hbmNlc1t4XSAmIDB4ZmYpID4+IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfU0hJRlRdKys7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJsYWNrUG9pbnQgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuZXN0aW1hdGVCbGFja1BvaW50KGxvY2FsQnVja2V0cyk7CgkgICAgICAgIGlmICh3aWR0aCA8IDMpIHsKCSAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdmVyeSBzbWFsbCBpbWFnZXMKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgICAgIGlmICgobG9jYWxMdW1pbmFuY2VzW3hdICYgMHhmZikgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIHJvdy5zZXQoeCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGxlZnQgPSBsb2NhbEx1bWluYW5jZXNbMF0gJiAweGZmOwoJICAgICAgICAgICAgdmFyIGNlbnRlciA9IGxvY2FsTHVtaW5hbmNlc1sxXSAmIDB4ZmY7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMTsgeCA8IHdpZHRoIC0gMTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gbG9jYWxMdW1pbmFuY2VzW3ggKyAxXSAmIDB4ZmY7CgkgICAgICAgICAgICAgICAgLy8gQSBzaW1wbGUgLTEgNCAtMSBib3ggZmlsdGVyIHdpdGggYSB3ZWlnaHQgb2YgMi4KCSAgICAgICAgICAgICAgICBpZiAoKChjZW50ZXIgKiA0KSAtIGxlZnQgLSByaWdodCkgLyAyIDwgYmxhY2tQb2ludCkgewoJICAgICAgICAgICAgICAgICAgICByb3cuc2V0KHgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBsZWZ0ID0gY2VudGVyOwoJICAgICAgICAgICAgICAgIGNlbnRlciA9IHJpZ2h0OwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByb3c7CgkgICAgfTsKCSAgICAvLyBEb2VzIG5vdCBzaGFycGVuIHRoZSBkYXRhLCBhcyB0aGlzIGNhbGwgaXMgaW50ZW5kZWQgdG8gb25seSBiZSB1c2VkIGJ5IDJEIFJlYWRlcnMuCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBCaXRNYXRyaXhfMSQ1LmRlZmF1bHQod2lkdGgsIGhlaWdodCk7CgkgICAgICAgIC8vIFF1aWNrbHkgY2FsY3VsYXRlcyB0aGUgaGlzdG9ncmFtIGJ5IHNhbXBsaW5nIGZvdXIgcm93cyBmcm9tIHRoZSBpbWFnZS4gVGhpcyBwcm92ZWQgdG8gYmUKCSAgICAgICAgLy8gbW9yZSByb2J1c3Qgb24gdGhlIGJsYWNrYm94IHRlc3RzIHRoYW4gc2FtcGxpbmcgYSBkaWFnb25hbCBhcyB3ZSB1c2VkIHRvIGRvLgoJICAgICAgICB0aGlzLmluaXRBcnJheXMod2lkdGgpOwoJICAgICAgICB2YXIgbG9jYWxCdWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB5ID0gMTsgeSA8IDU7IHkrKykgewoJICAgICAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IoKGhlaWdodCAqIHkpIC8gNSk7CgkgICAgICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzXzEgPSBzb3VyY2UuZ2V0Um93KHJvdywgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgICAgIHZhciByaWdodCA9IE1hdGguZmxvb3IoKHdpZHRoICogNCkgLyA1KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSBNYXRoLmZsb29yKHdpZHRoIC8gNSk7IHggPCByaWdodDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzXzFbeF0gJiAweGZmOwoJICAgICAgICAgICAgICAgIGxvY2FsQnVja2V0c1twaXhlbCA+PiBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUXSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBibGFja1BvaW50ID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludChsb2NhbEJ1Y2tldHMpOwoJICAgICAgICAvLyBXZSBkZWxheSByZWFkaW5nIHRoZSBlbnRpcmUgaW1hZ2UgbHVtaW5hbmNlIHVudGlsIHRoZSBibGFjayBwb2ludCBlc3RpbWF0aW9uIHN1Y2NlZWRzLgoJICAgICAgICAvLyBBbHRob3VnaCB3ZSBlbmQgdXAgcmVhZGluZyBmb3VyIHJvd3MgdHdpY2UsIGl0IGlzIGNvbnNpc3RlbnQgd2l0aCBvdXIgbW90dG8gb2YKCSAgICAgICAgLy8gImZhaWwgcXVpY2tseSIgd2hpY2ggaXMgbmVjZXNzYXJ5IGZvciBjb250aW51b3VzIHNjYW5uaW5nLgoJICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzID0gc291cmNlLmdldE1hdHJpeCgpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzW29mZnNldCArIHhdICYgMHhmZjsKCSAgICAgICAgICAgICAgICBpZiAocGl4ZWwgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoeCwgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBtYXRyaXg7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLnByb3RvdHlwZS5jcmVhdGVCaW5hcml6ZXIgPSBmdW5jdGlvbiAoc291cmNlKSB7CgkgICAgICAgIHJldHVybiBuZXcgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyKHNvdXJjZSk7CgkgICAgfTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmluaXRBcnJheXMgPSBmdW5jdGlvbiAobHVtaW5hbmNlU2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmICh0aGlzLmx1bWluYW5jZXMubGVuZ3RoIDwgbHVtaW5hbmNlU2l6ZSkgewoJICAgICAgICAgICAgdGhpcy5sdW1pbmFuY2VzID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGx1bWluYW5jZVNpemUpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBidWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQlVDS0VUUzsgeCsrKSB7CgkgICAgICAgICAgICBidWNrZXRzW3hdID0gMDsKCSAgICAgICAgfQoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludCA9IGZ1bmN0aW9uIChidWNrZXRzKSB7CgkgICAgICAgIC8vIEZpbmQgdGhlIHRhbGxlc3QgcGVhayBpbiB0aGUgaGlzdG9ncmFtLgoJICAgICAgICB2YXIgbnVtQnVja2V0cyA9IGJ1Y2tldHMubGVuZ3RoOwoJICAgICAgICB2YXIgbWF4QnVja2V0Q291bnQgPSAwOwoJICAgICAgICB2YXIgZmlyc3RQZWFrID0gMDsKCSAgICAgICAgdmFyIGZpcnN0UGVha1NpemUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgaWYgKGJ1Y2tldHNbeF0gPiBmaXJzdFBlYWtTaXplKSB7CgkgICAgICAgICAgICAgICAgZmlyc3RQZWFrID0geDsKCSAgICAgICAgICAgICAgICBmaXJzdFBlYWtTaXplID0gYnVja2V0c1t4XTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChidWNrZXRzW3hdID4gbWF4QnVja2V0Q291bnQpIHsKCSAgICAgICAgICAgICAgICBtYXhCdWNrZXRDb3VudCA9IGJ1Y2tldHNbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCB0aGUgc2Vjb25kLXRhbGxlc3QgcGVhayB3aGljaCBpcyBzb21ld2hhdCBmYXIgZnJvbSB0aGUgdGFsbGVzdCBwZWFrLgoJICAgICAgICB2YXIgc2Vjb25kUGVhayA9IDA7CgkgICAgICAgIHZhciBzZWNvbmRQZWFrU2NvcmUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgdmFyIGRpc3RhbmNlVG9CaWdnZXN0ID0geCAtIGZpcnN0UGVhazsKCSAgICAgICAgICAgIC8vIEVuY291cmFnZSBtb3JlIGRpc3RhbnQgc2Vjb25kIHBlYWtzIGJ5IG11bHRpcGx5aW5nIGJ5IHNxdWFyZSBvZiBkaXN0YW5jZS4KCSAgICAgICAgICAgIHZhciBzY29yZSA9IGJ1Y2tldHNbeF0gKiBkaXN0YW5jZVRvQmlnZ2VzdCAqIGRpc3RhbmNlVG9CaWdnZXN0OwoJICAgICAgICAgICAgaWYgKHNjb3JlID4gc2Vjb25kUGVha1Njb3JlKSB7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVhayA9IHg7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVha1Njb3JlID0gc2NvcmU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTWFrZSBzdXJlIGZpcnN0UGVhayBjb3JyZXNwb25kcyB0byB0aGUgYmxhY2sgcGVhay4KCSAgICAgICAgaWYgKGZpcnN0UGVhayA+IHNlY29uZFBlYWspIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZmlyc3RQZWFrOwoJICAgICAgICAgICAgZmlyc3RQZWFrID0gc2Vjb25kUGVhazsKCSAgICAgICAgICAgIHNlY29uZFBlYWsgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHRoZXJlIGlzIHRvbyBsaXR0bGUgY29udHJhc3QgaW4gdGhlIGltYWdlIHRvIHBpY2sgYSBtZWFuaW5nZnVsIGJsYWNrIHBvaW50LCB0aHJvdyByYXRoZXIKCSAgICAgICAgLy8gdGhhbiB3YXN0ZSB0aW1lIHRyeWluZyB0byBkZWNvZGUgdGhlIGltYWdlLCBhbmQgcmlzayBmYWxzZSBwb3NpdGl2ZXMuCgkgICAgICAgIGlmIChzZWNvbmRQZWFrIC0gZmlyc3RQZWFrIDw9IG51bUJ1Y2tldHMgLyAxNikgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCBhIHZhbGxleSBiZXR3ZWVuIHRoZW0gdGhhdCBpcyBsb3cgYW5kIGNsb3NlciB0byB0aGUgd2hpdGUgcGVhay4KCSAgICAgICAgdmFyIGJlc3RWYWxsZXkgPSBzZWNvbmRQZWFrIC0gMTsKCSAgICAgICAgdmFyIGJlc3RWYWxsZXlTY29yZSA9IC0xOwoJICAgICAgICBmb3IgKHZhciB4ID0gc2Vjb25kUGVhayAtIDE7IHggPiBmaXJzdFBlYWs7IHgtLSkgewoJICAgICAgICAgICAgdmFyIGZyb21GaXJzdCA9IHggLSBmaXJzdFBlYWs7CgkgICAgICAgICAgICB2YXIgc2NvcmUgPSBmcm9tRmlyc3QgKiBmcm9tRmlyc3QgKiAoc2Vjb25kUGVhayAtIHgpICogKG1heEJ1Y2tldENvdW50IC0gYnVja2V0c1t4XSk7CgkgICAgICAgICAgICBpZiAoc2NvcmUgPiBiZXN0VmFsbGV5U2NvcmUpIHsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5ID0geDsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5U2NvcmUgPSBzY29yZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gYmVzdFZhbGxleSA8PCBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUOwoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CSVRTID0gNTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUID0gOCAtIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX0JVQ0tFVFMgPSAxIDw8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuRU1QVFkgPSBVaW50OENsYW1wZWRBcnJheS5mcm9tKFswXSk7CgkgICAgcmV0dXJuIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCX0oQmluYXJpemVyXzEuZGVmYXVsdCkpOwoJR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyJDEuZGVmYXVsdCA9IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyRiID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEh5YnJpZEJpbmFyaXplciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyXzEgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMTsKCXZhciBCaXRNYXRyaXhfMSQ0ID0gQml0TWF0cml4JDE7CgkvKioKCSAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyBhIGxvY2FsIHRocmVzaG9sZGluZyBhbGdvcml0aG0sIHdoaWNoIHdoaWxlIHNsb3dlciB0aGFuIHRoZQoJICogR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBpcyBmYWlybHkgZWZmaWNpZW50IGZvciB3aGF0IGl0IGRvZXMuIEl0IGlzIGRlc2lnbmVkIGZvcgoJICogaGlnaCBmcmVxdWVuY3kgaW1hZ2VzIG9mIGJhcmNvZGVzIHdpdGggYmxhY2sgZGF0YSBvbiB3aGl0ZSBiYWNrZ3JvdW5kcy4gRm9yIHRoaXMgYXBwbGljYXRpb24sCgkgKiBpdCBkb2VzIGEgbXVjaCBiZXR0ZXIgam9iIHRoYW4gYSBnbG9iYWwgYmxhY2twb2ludCB3aXRoIHNldmVyZSBzaGFkb3dzIGFuZCBncmFkaWVudHMuCgkgKiBIb3dldmVyIGl0IHRlbmRzIHRvIHByb2R1Y2UgYXJ0aWZhY3RzIG9uIGxvd2VyIGZyZXF1ZW5jeSBpbWFnZXMgYW5kIGlzIHRoZXJlZm9yZSBub3QKCSAqIGEgZ29vZCBnZW5lcmFsIHB1cnBvc2UgYmluYXJpemVyIGZvciB1c2VzIG91dHNpZGUgWlhpbmcuCgkgKgoJICogVGhpcyBjbGFzcyBleHRlbmRzIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplciwgdXNpbmcgdGhlIG9sZGVyIGhpc3RvZ3JhbSBhcHByb2FjaCBmb3IgMUQgcmVhZGVycywKCSAqIGFuZCB0aGUgbmV3ZXIgbG9jYWwgYXBwcm9hY2ggZm9yIDJEIHJlYWRlcnMuIDFEIGRlY29kaW5nIHVzaW5nIGEgcGVyLXJvdyBoaXN0b2dyYW0gaXMgYWxyZWFkeQoJICogaW5oZXJlbnRseSBsb2NhbCwgYW5kIG9ubHkgZmFpbHMgZm9yIGhvcml6b250YWwgZ3JhZGllbnRzLiBXZSBjYW4gcmV2aXNpdCB0aGF0IHByb2JsZW0gbGF0ZXIsCgkgKiBidXQgZm9yIG5vdyBpdCB3YXMgbm90IGEgd2luIHRvIHVzZSBsb2NhbCBibG9ja3MgZm9yIDFELgoJICoKCSAqIFRoaXMgQmluYXJpemVyIGlzIHRoZSBkZWZhdWx0IGZvciB0aGUgdW5pdCB0ZXN0cyBhbmQgdGhlIHJlY29tbWVuZGVkIGNsYXNzIGZvciBsaWJyYXJ5IHVzZXJzLgoJICoKCSAqIEBhdXRob3IgZHN3aXRraW5AZ29vZ2xlLmNvbSAoRGFuaWVsIFN3aXRraW4pCgkgKi8KCXZhciBIeWJyaWRCaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGIoSHlicmlkQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEh5YnJpZEJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tYXRyaXggPSBudWxsOwoJICAgICAgICByZXR1cm4gX3RoaXM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIENhbGN1bGF0ZXMgdGhlIGZpbmFsIEJpdE1hdHJpeCBvbmNlIGZvciBhbGwgcmVxdWVzdHMuIFRoaXMgY291bGQgYmUgY2FsbGVkIG9uY2UgZnJvbSB0aGUKCSAgICAgKiBjb25zdHJ1Y3RvciBpbnN0ZWFkLCBidXQgdGhlcmUgYXJlIHNvbWUgYWR2YW50YWdlcyB0byBkb2luZyBpdCBsYXppbHksIHN1Y2ggYXMgbWFraW5nCgkgICAgICogcHJvZmlsaW5nIGVhc2llciwgYW5kIG5vdCBkb2luZyBoZWF2eSBsaWZ0aW5nIHdoZW4gY2FsbGVycyBkb24ndCBleHBlY3QgaXQuCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLm1hdHJpeCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKHdpZHRoID49IEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiAmJiBoZWlnaHQgPj0gSHlicmlkQmluYXJpemVyLk1JTklNVU1fRElNRU5TSU9OKSB7CgkgICAgICAgICAgICB2YXIgbHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRNYXRyaXgoKTsKCSAgICAgICAgICAgIHZhciBzdWJXaWR0aCA9IHdpZHRoID4+IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKCh3aWR0aCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViV2lkdGgrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciBzdWJIZWlnaHQgPSBoZWlnaHQgPj4gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICBpZiAoKGhlaWdodCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViSGVpZ2h0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgYmxhY2tQb2ludHMgPSBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMobHVtaW5hbmNlcywgc3ViV2lkdGgsIHN1YkhlaWdodCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgICAgICB2YXIgbmV3TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDQuZGVmYXVsdCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgICAgIEh5YnJpZEJpbmFyaXplci5jYWxjdWxhdGVUaHJlc2hvbGRGb3JCbG9jayhsdW1pbmFuY2VzLCBzdWJXaWR0aCwgc3ViSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0LCBibGFja1BvaW50cywgbmV3TWF0cml4KTsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gbmV3TWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGlzIHRvbyBzbWFsbCwgZmFsbCBiYWNrIHRvIHRoZSBnbG9iYWwgaGlzdG9ncmFtIGFwcHJvYWNoLgoJICAgICAgICAgICAgdGhpcy5tYXRyaXggPSBfc3VwZXIucHJvdG90eXBlLmdldEJsYWNrTWF0cml4LmNhbGwodGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuY3JlYXRlQmluYXJpemVyID0gZnVuY3Rpb24gKHNvdXJjZSkgewoJICAgICAgICByZXR1cm4gbmV3IEh5YnJpZEJpbmFyaXplcihzb3VyY2UpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRm9yIGVhY2ggYmxvY2sgaW4gdGhlIGltYWdlLCBjYWxjdWxhdGUgdGhlIGF2ZXJhZ2UgYmxhY2sgcG9pbnQgdXNpbmcgYSA1eDUgZ3JpZAoJICAgICAqIG9mIHRoZSBibG9ja3MgYXJvdW5kIGl0LiBBbHNvIGhhbmRsZXMgdGhlIGNvcm5lciBjYXNlcyAoZnJhY3Rpb25hbCBibG9ja3MgYXJlIGNvbXB1dGVkIGJhc2VkCgkgICAgICogb24gdGhlIGxhc3QgcGl4ZWxzIGluIHRoZSByb3cvY29sdW1uIHdoaWNoIGFyZSBhbHNvIHVzZWQgaW4gdGhlIHByZXZpb3VzIGJsb2NrKS4KCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlVGhyZXNob2xkRm9yQmxvY2sgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBibGFja1BvaW50cywgbWF0cml4KSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdWJIZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgdG9wXzEgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHksIDIsIHN1YkhlaWdodCAtIDMpOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdWJXaWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHhvZmZzZXQgPSB4IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgICAgIGlmICh4b2Zmc2V0ID4gbWF4WE9mZnNldCkgewoJICAgICAgICAgICAgICAgICAgICB4b2Zmc2V0ID0gbWF4WE9mZnNldDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHgsIDIsIHN1YldpZHRoIC0gMyk7CgkgICAgICAgICAgICAgICAgdmFyIHN1bSA9IDA7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IC0yOyB6IDw9IDI7IHorKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgYmxhY2tSb3cgPSBibGFja1BvaW50c1t0b3BfMSArIHpdOwoJICAgICAgICAgICAgICAgICAgICBzdW0gKz0gYmxhY2tSb3dbbGVmdCAtIDJdICsgYmxhY2tSb3dbbGVmdCAtIDFdICsgYmxhY2tSb3dbbGVmdF0gKyBibGFja1Jvd1tsZWZ0ICsgMV0gKyBibGFja1Jvd1tsZWZ0ICsgMl07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlID0gc3VtIC8gMjU7CgkgICAgICAgICAgICAgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrKGx1bWluYW5jZXMsIHhvZmZzZXQsIHlvZmZzZXQsIGF2ZXJhZ2UsIHdpZHRoLCBtYXRyaXgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FwID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG1pbiAvKmludCovLCBtYXggLyppbnQqLykgewoJICAgICAgICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbGllcyBhIHNpbmdsZSB0aHJlc2hvbGQgdG8gYSBibG9jayBvZiBwaXhlbHMuCgkgICAgICovCgkgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrID0gZnVuY3Rpb24gKGx1bWluYW5jZXMsIHhvZmZzZXQgLyppbnQqLywgeW9mZnNldCAvKmludCovLCB0aHJlc2hvbGQgLyppbnQqLywgc3RyaWRlIC8qaW50Ki8sIG1hdHJpeCkgewoJICAgICAgICBmb3IgKHZhciB5ID0gMCwgb2Zmc2V0ID0geW9mZnNldCAqIHN0cmlkZSArIHhvZmZzZXQ7IHkgPCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsgeSsrLCBvZmZzZXQgKz0gc3RyaWRlKSB7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB4KyspIHsKCSAgICAgICAgICAgICAgICAvLyBDb21wYXJpc29uIG5lZWRzIHRvIGJlIDw9IHNvIHRoYXQgYmxhY2sgPT0gMCBwaXhlbHMgYXJlIGJsYWNrIGV2ZW4gaWYgdGhlIHRocmVzaG9sZCBpcyAwLgoJICAgICAgICAgICAgICAgIGlmICgobHVtaW5hbmNlc1tvZmZzZXQgKyB4XSAmIDB4RkYpIDw9IHRocmVzaG9sZCkgewoJICAgICAgICAgICAgICAgICAgICBtYXRyaXguc2V0KHhvZmZzZXQgKyB4LCB5b2Zmc2V0ICsgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDYWxjdWxhdGVzIGEgc2luZ2xlIGJsYWNrIHBvaW50IGZvciBlYWNoIGJsb2NrIG9mIHBpeGVscyBhbmQgc2F2ZXMgaXQgYXdheS4KCSAgICAgKiBTZWUgdGhlIGZvbGxvd2luZyB0aHJlYWQgZm9yIGEgZGlzY3Vzc2lvbiBvZiB0aGlzIGFsZ29yaXRobToKCSAgICAgKiAgaHR0cDovL2dyb3Vwcy5nb29nbGUuY29tL2dyb3VwL3p4aW5nL2Jyb3dzZV90aHJlYWQvdGhyZWFkL2QwNmVmYTJjMzVhN2RkYzAKCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOndoaXRlc3BhY2UKCSAgICAgICAgdmFyIGJsYWNrUG9pbnRzID0gbmV3IEFycmF5KHN1YkhlaWdodCk7IC8vIHN1YldpZHRoCgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc3ViSGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGJsYWNrUG9pbnRzW3ldID0gbmV3IEludDMyQXJyYXkoc3ViV2lkdGgpOwoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN1YldpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgeG9mZnNldCA9IHggPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICAgICAgaWYgKHhvZmZzZXQgPiBtYXhYT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgICAgIHhvZmZzZXQgPSBtYXhYT2Zmc2V0OwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB2YXIgc3VtID0gMDsKCSAgICAgICAgICAgICAgICB2YXIgbWluID0gMHhGRjsKCSAgICAgICAgICAgICAgICB2YXIgbWF4ID0gMDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciB5eSA9IDAsIG9mZnNldCA9IHlvZmZzZXQgKiB3aWR0aCArIHhvZmZzZXQ7IHl5IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHl5KyssIG9mZnNldCArPSB3aWR0aCkgewoJICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaXhlbCA9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBwaXhlbDsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0aWxsIGxvb2tpbmcgZm9yIGdvb2QgY29udHJhc3QKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaXhlbCA8IG1pbikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IHBpeGVsOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpeGVsID4gbWF4KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gcGl4ZWw7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBtaW4vbWF4IHRlc3RzIG9uY2UgZHluYW1pYyByYW5nZSBpcyBtZXQKCSAgICAgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA+IEh5YnJpZEJpbmFyaXplci5NSU5fRFlOQU1JQ19SQU5HRSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoZSByZXN0IG9mIHRoZSByb3dzIHF1aWNrbHkKCSAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeXkrKywgb2Zmc2V0ICs9IHdpZHRoOyB5eSA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB5eSsrLCBvZmZzZXQgKz0gd2lkdGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgZXN0aW1hdGUgaXMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHZhbHVlcyBpbiB0aGUgYmxvY2suCgkgICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2UgPSBzdW0gPj4gKEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSICogMik7CgkgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA8PSBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gSWYgdmFyaWF0aW9uIHdpdGhpbiB0aGUgYmxvY2sgaXMgbG93LCBhc3N1bWUgdGhpcyBpcyBhIGJsb2NrIHdpdGggb25seSBsaWdodCBvciBvbmx5CgkgICAgICAgICAgICAgICAgICAgIC8vIGRhcmsgcGl4ZWxzLiBJbiB0aGF0IGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gdXNlIHRoZSBhdmVyYWdlLCBhcyBpdCB3b3VsZCBkaXZpZGUgdGhpcwoJICAgICAgICAgICAgICAgICAgICAvLyBsb3cgY29udHJhc3QgYXJlYSBpbnRvIGJsYWNrIGFuZCB3aGl0ZSBwaXhlbHMsIGVzc2VudGlhbGx5IGNyZWF0aW5nIGRhdGEgb3V0IG9mIG5vaXNlLgoJICAgICAgICAgICAgICAgICAgICAvLwoJICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBhc3N1bXB0aW9uIGlzIHRoYXQgdGhlIGJsb2NrIGlzIGxpZ2h0L2JhY2tncm91bmQuIFNpbmNlIG5vIGVzdGltYXRlIGZvcgoJICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbGV2ZWwgb2YgZGFyayBwaXhlbHMgZXhpc3RzIGxvY2FsbHksIHVzZSBoYWxmIHRoZSBtaW4gZm9yIHRoZSBibG9jay4KCSAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IG1pbiAvIDI7CgkgICAgICAgICAgICAgICAgICAgIGlmICh5ID4gMCAmJiB4ID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ycmVjdCB0aGUgIndoaXRlIGJhY2tncm91bmQiIGFzc3VtcHRpb24gZm9yIGJsb2NrcyB0aGF0IGhhdmUgbmVpZ2hib3JzIGJ5IGNvbXBhcmluZwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBpeGVscyBpbiB0aGlzIGJsb2NrIHRvIHRoZSBwcmV2aW91c2x5IGNhbGN1bGF0ZWQgYmxhY2sgcG9pbnRzLiBUaGlzIGlzIGJhc2VkIG9uCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IGRhcmsgYmFyY29kZSBzeW1ib2xvZ3kgaXMgYWx3YXlzIHN1cnJvdW5kZWQgYnkgc29tZSBhbW91bnQgb2YgbGlnaHQKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmQgZm9yIHdoaWNoIHJlYXNvbmFibGUgYmxhY2sgcG9pbnQgZXN0aW1hdGVzIHdlcmUgbWFkZS4gVGhlIGJwIGVzdGltYXRlZCBhdAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGJvdW5kYXJpZXMgaXMgdXNlZCBmb3IgdGhlIGludGVyaW9yLgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIChtaW4gPCBicCkgaXMgYXJiaXRyYXJ5IGJ1dCB3b3JrcyBiZXR0ZXIgdGhhbiBvdGhlciBoZXVyaXN0aWNzIHRoYXQgd2VyZSB0cmllZC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50ID0gKGJsYWNrUG9pbnRzW3kgLSAxXVt4XSArICgyICogYmxhY2tQb2ludHNbeV1beCAtIDFdKSArIGJsYWNrUG9pbnRzW3kgLSAxXVt4IC0gMV0pIC8gNDsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW4gPCBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IGF2ZXJhZ2VOZWlnaGJvckJsYWNrUG9pbnQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYmxhY2tQb2ludHNbeV1beF0gPSBhdmVyYWdlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBibGFja1BvaW50czsKCSAgICB9OwoJICAgIC8vIFRoaXMgY2xhc3MgdXNlcyA1eDUgYmxvY2tzIHRvIGNvbXB1dGUgbG9jYWwgbHVtaW5hbmNlLCB3aGVyZSBlYWNoIGJsb2NrIGlzIDh4OCBwaXhlbHMuCgkgICAgLy8gU28gdGhpcyBpcyB0aGUgc21hbGxlc3QgZGltZW5zaW9uIGluIGVhY2ggYXhpcyB3ZSBjYW4gYWNjZXB0LgoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSID0gMzsKCSAgICBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSA9IDEgPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7IC8vIC4uLjAxMDAuLi4wMAoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0sgPSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSAtIDE7IC8vIC4uLjAwMTEuLi4xMQoJICAgIEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiA9IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFICogNTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UgPSAyNDsKCSAgICByZXR1cm4gSHlicmlkQmluYXJpemVyOwoJfShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXJfMS5kZWZhdWx0KSk7Cgl2YXIgX2RlZmF1bHQkMiA9IEh5YnJpZEJpbmFyaXplciQxLmRlZmF1bHQgPSBIeWJyaWRCaW5hcml6ZXI7CgoJdmFyIFJHQkx1bWluYW5jZVNvdXJjZSQxID0ge307CgoJdmFyIEludmVydGVkTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgl2YXIgTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMSA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJDE7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nIHsqLwoJLyoqCgkgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNsYXNzIGhpZXJhcmNoeSBpcyB0byBhYnN0cmFjdCBkaWZmZXJlbnQgYml0bWFwIGltcGxlbWVudGF0aW9ucyBhY3Jvc3MKCSAqIHBsYXRmb3JtcyBpbnRvIGEgc3RhbmRhcmQgaW50ZXJmYWNlIGZvciByZXF1ZXN0aW5nIGdyZXlzY2FsZSBsdW1pbmFuY2UgdmFsdWVzLiBUaGUgaW50ZXJmYWNlCgkgKiBvbmx5IHByb3ZpZGVzIGltbXV0YWJsZSBtZXRob2RzOyB0aGVyZWZvcmUgY3JvcCBhbmQgcm90YXRpb24gY3JlYXRlIGNvcGllcy4gVGhpcyBpcyB0byBlbnN1cmUKCSAqIHRoYXQgb25lIFJlYWRlciBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsIGx1bWluYW5jZSBzb3VyY2UgYW5kIGxlYXZlIGl0IGluIGFuIHVua25vd24gc3RhdGUKCSAqIGZvciBvdGhlciBSZWFkZXJzIGluIHRoZSBjaGFpbi4KCSAqCgkgKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKQoJICovCgl2YXIgTHVtaW5hbmNlU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEx1bWluYW5jZVNvdXJjZSh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgYml0bWFwLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLndpZHRoOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBUaGUgaGVpZ2h0IG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmhlaWdodDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNyb3BwaW5nLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIGNyb3BwZWQgaW1hZ2UgZGF0YS4gSW1wbGVtZW50YXRpb25zIG1heSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZQoJICAgICAqIG9yaWdpbmFsIGRhdGEgcmF0aGVyIHRoYW4gYSBjb3B5LiBPbmx5IGNhbGxhYmxlIGlmIGlzQ3JvcFN1cHBvcnRlZCgpIGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gbGVmdCBUaGUgbGVmdCBjb29yZGluYXRlLCB3aGljaCBtdXN0IGJlIGluIFswLGdldFdpZHRoKCkpCgkgICAgICogQHBhcmFtIHRvcCBUaGUgdG9wIGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0SGVpZ2h0KCkpCgkgICAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIHRvIGNyb3AuCgkgICAgICogQHBhcmFtIGhlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcmV0dXJuIEEgY3JvcHBlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBjcm9wcGluZy4nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNvdW50ZXItY2xvY2t3aXNlIHJvdGF0aW9uLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCByb3RhdGlvbiBieSA5MCBkZWdyZWVzLicpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCByb3RhdGVkIGltYWdlIGRhdGEgYnkgNDUgZGVncmVlcyBjb3VudGVyY2xvY2t3aXNlLgoJICAgICAqIE9ubHkgY2FsbGFibGUgaWYge0BsaW5rICNpc1JvdGF0ZVN1cHBvcnRlZCgpfSBpcyB0cnVlLgoJICAgICAqCgkgICAgICogQHJldHVybiBBIHJvdGF0ZWQgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC4KCSAgICAgKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2U0NSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnVGhpcyBsdW1pbmFuY2Ugc291cmNlIGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24gYnkgNDUgZGVncmVlcy4nKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcm93ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgpOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQxLmRlZmF1bHQoKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgc291cmNlUm93ID0gdGhpcy5nZXRSb3coeSwgcm93KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGx1bWluYW5jZSA9IHNvdXJjZVJvd1t4XSAmIDB4RkY7CgkgICAgICAgICAgICAgICAgdmFyIGMgPSB2b2lkIDA7CgkgICAgICAgICAgICAgICAgaWYgKGx1bWluYW5jZSA8IDB4NDApIHsKCSAgICAgICAgICAgICAgICAgICAgYyA9ICcjJzsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAobHVtaW5hbmNlIDwgMHg4MCkgewoJICAgICAgICAgICAgICAgICAgICBjID0gJysnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmIChsdW1pbmFuY2UgPCAweEMwKSB7CgkgICAgICAgICAgICAgICAgICAgIGMgPSAnLic7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICBjID0gJyAnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGMpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnXG4nKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0LnRvU3RyaW5nKCk7CgkgICAgfTsKCSAgICByZXR1cm4gTHVtaW5hbmNlU291cmNlOwoJfSgpKTsKCUx1bWluYW5jZVNvdXJjZSQxLmRlZmF1bHQgPSBMdW1pbmFuY2VTb3VyY2U7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEkMSA9IEx1bWluYW5jZVNvdXJjZSQxOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogQSB3cmFwcGVyIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHdoaWNoIGludmVydHMgdGhlIGx1bWluYW5jZXMgaXQgcmV0dXJucyAtLSBibGFjayBiZWNvbWVzCgkgKiB3aGl0ZSBhbmQgdmljZSB2ZXJzYSwgYW5kIGVhY2ggdmFsdWUgYmVjb21lcyAoMjU1LXZhbHVlKS4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGEoSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UsIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UoZGVsZWdhdGUpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVsZWdhdGUuZ2V0V2lkdGgoKSwgZGVsZWdhdGUuZ2V0SGVpZ2h0KCkpIHx8IHRoaXM7CgkgICAgICAgIF90aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgdmFyIHNvdXJjZVJvdyA9IHRoaXMuZGVsZWdhdGUuZ2V0Um93KHksIHJvdyk7CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7CgkgICAgICAgICAgICBzb3VyY2VSb3dbaV0gPSAvKihieXRlKSovICgyNTUgLSAoc291cmNlUm93W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBzb3VyY2VSb3c7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldE1hdHJpeCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuZGVsZWdhdGUuZ2V0TWF0cml4KCk7CgkgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldFdpZHRoKCkgKiB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgaW52ZXJ0ZWRNYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkobGVuZ3RoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewoJICAgICAgICAgICAgaW52ZXJ0ZWRNYXRyaXhbaV0gPSAvKihieXRlKSovICgyNTUgLSAobWF0cml4W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBpbnZlcnRlZE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUuY3JvcChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmlzUm90YXRlU3VwcG9ydGVkKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG9yaWdpbmFsIGRlbGVnYXRlIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHNpbmNlIGludmVydCB1bmRvZXMgaXRzZWxmCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCkpOwoJICAgIH07CgkgICAgcmV0dXJuIEludmVydGVkTHVtaW5hbmNlU291cmNlOwoJfShMdW1pbmFuY2VTb3VyY2VfMSQxLmRlZmF1bHQpKTsKCUludmVydGVkTHVtaW5hbmNlU291cmNlJDEuZGVmYXVsdCA9IEludmVydGVkTHVtaW5hbmNlU291cmNlOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUkdCTHVtaW5hbmNlU291cmNlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkgLy8gcmVxdWlyZWQgYmVjYXVzZSBvZiBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYmV0d2VlbiBMdW1pbmFuY2VTb3VyY2UgYW5kIEludmVydGVkTHVtaW5hbmNlU291cmNlCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMSA9IEludmVydGVkTHVtaW5hbmNlU291cmNlJDE7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEgPSBMdW1pbmFuY2VTb3VyY2UkMTsKCXZhciBTeXN0ZW1fMSQyID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNiA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gaGVscCBkZWNvZGUgaW1hZ2VzIGZyb20gZmlsZXMgd2hpY2ggYXJyaXZlIGFzIFJHQiBkYXRhIGZyb20KCSAqIGFuIEFSR0IgcGl4ZWwgYXJyYXkuIEl0IGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24uCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgQmV0YW1pbm9zCgkgKi8KCXZhciBSR0JMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDkoUkdCTHVtaW5hbmNlU291cmNlLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIFJHQkx1bWluYW5jZVNvdXJjZShsdW1pbmFuY2VzLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgZGF0YVdpZHRoIC8qaW50Ki8sIGRhdGFIZWlnaHQgLyppbnQqLywgbGVmdCAvKmludCovLCB0b3AgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5kYXRhV2lkdGggPSBkYXRhV2lkdGg7CgkgICAgICAgIF90aGlzLmRhdGFIZWlnaHQgPSBkYXRhSGVpZ2h0OwoJICAgICAgICBfdGhpcy5sZWZ0ID0gbGVmdDsKCSAgICAgICAgX3RoaXMudG9wID0gdG9wOwoJICAgICAgICBpZiAobHVtaW5hbmNlcy5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkgeyAvLyBJbnQzMkFycmF5CgkgICAgICAgICAgICB2YXIgc2l6ZSA9IHdpZHRoICogaGVpZ2h0OwoJICAgICAgICAgICAgdmFyIGx1bWluYW5jZXNVaW50OEFycmF5ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHNpemUpOwoJICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgc2l6ZTsgb2Zmc2V0KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgcGl4ZWwgPSBsdW1pbmFuY2VzW29mZnNldF07CgkgICAgICAgICAgICAgICAgdmFyIHIgPSAocGl4ZWwgPj4gMTYpICYgMHhmZjsgLy8gcmVkCgkgICAgICAgICAgICAgICAgdmFyIGcyID0gKHBpeGVsID4+IDcpICYgMHgxZmU7IC8vIDIgKiBncmVlbgoJICAgICAgICAgICAgICAgIHZhciBiID0gcGl4ZWwgJiAweGZmOyAvLyBibHVlCgkgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGdyZWVuLWZhdm91cmluZyBhdmVyYWdlIGNoZWFwbHkKCSAgICAgICAgICAgICAgICBsdW1pbmFuY2VzVWludDhBcnJheVtvZmZzZXRdID0gLyooYnl0ZSkgKi8gKChyICsgZzIgKyBiKSAvIDQpICYgMHhGRjsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzVWludDhBcnJheTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGRhdGFXaWR0aCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YVdpZHRoID0gd2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gZGF0YUhlaWdodCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YUhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBsZWZ0KSB7CgkgICAgICAgICAgICBfdGhpcy5sZWZ0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSB0b3ApIHsKCSAgICAgICAgICAgIF90aGlzLnRvcCA9IDA7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKF90aGlzLmxlZnQgKyB3aWR0aCA+IF90aGlzLmRhdGFXaWR0aCB8fCBfdGhpcy50b3AgKyBoZWlnaHQgPiBfdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNi5kZWZhdWx0KCdDcm9wIHJlY3RhbmdsZSBkb2VzIG5vdCBmaXQgd2l0aGluIGltYWdlIGRhdGEuJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgaWYgKHkgPCAwIHx8IHkgPj0gdGhpcy5nZXRIZWlnaHQoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCgnUmVxdWVzdGVkIHJvdyBpcyBvdXRzaWRlIHRoZSBpbWFnZTogJyArIHkpOwoJICAgICAgICB9CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gbnVsbCB8fCByb3cgPT09IHVuZGVmaW5lZCB8fCByb3cubGVuZ3RoIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG9mZnNldCA9ICh5ICsgdGhpcy50b3ApICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIFN5c3RlbV8xJDIuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5sdW1pbmFuY2VzLCBvZmZzZXQsIHJvdywgMCwgd2lkdGgpOwoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJHQkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0TWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBJZiB0aGUgY2FsbGVyIGFza3MgZm9yIHRoZSBlbnRpcmUgdW5kZXJseWluZyBpbWFnZSwgc2F2ZSB0aGUgY29weSBhbmQgZ2l2ZSB0aGVtIHRoZQoJICAgICAgICAvLyBvcmlnaW5hbCBkYXRhLiBUaGUgZG9jcyBzcGVjaWZpY2FsbHkgd2FybiB0aGF0IHJlc3VsdC5sZW5ndGggbXVzdCBiZSBpZ25vcmVkLgoJICAgICAgICBpZiAod2lkdGggPT09IHRoaXMuZGF0YVdpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5sdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhcmVhID0gd2lkdGggKiBoZWlnaHQ7CgkgICAgICAgIHZhciBtYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJlYSk7CgkgICAgICAgIHZhciBpbnB1dE9mZnNldCA9IHRoaXMudG9wICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIC8vIElmIHRoZSB3aWR0aCBtYXRjaGVzIHRoZSBmdWxsIHdpZHRoIG9mIHRoZSB1bmRlcmx5aW5nIGRhdGEsIHBlcmZvcm0gYSBzaW5nbGUgY29weS4KCSAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLmRhdGFXaWR0aCkgewoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIDAsIGFyZWEpOwoJICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICAgICAgfQoJICAgICAgICAvLyBPdGhlcndpc2UgY29weSBvbmUgY3JvcHBlZCByb3cgYXQgYSB0aW1lLgoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb3V0cHV0T2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIG91dHB1dE9mZnNldCwgd2lkdGgpOwoJICAgICAgICAgICAgaW5wdXRPZmZzZXQgKz0gdGhpcy5kYXRhV2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSR0JMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzQ3JvcFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgUkdCTHVtaW5hbmNlU291cmNlKHRoaXMubHVtaW5hbmNlcywgd2lkdGgsIGhlaWdodCwgdGhpcy5kYXRhV2lkdGgsIHRoaXMuZGF0YUhlaWdodCwgdGhpcy5sZWZ0ICsgbGVmdCwgdGhpcy50b3AgKyB0b3ApOwoJICAgIH07CgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMS5kZWZhdWx0KHRoaXMpOwoJICAgIH07CgkgICAgcmV0dXJuIFJHQkx1bWluYW5jZVNvdXJjZTsKCX0oTHVtaW5hbmNlU291cmNlXzEuZGVmYXVsdCkpOwoJdmFyIF9kZWZhdWx0JDEgPSBSR0JMdW1pbmFuY2VTb3VyY2UkMS5kZWZhdWx0ID0gUkdCTHVtaW5hbmNlU291cmNlOwoKCXZhciBRUkNvZGVSZWFkZXIkMSA9IHt9OwoKCXZhciBCYXJjb2RlRm9ybWF0JDEgPSB7fTsKCgkvKgoJICogRGlyZWN0IHBvcnQgdG8gVHlwZVNjcmlwdCBvZiBaWGluZyBieSBBZHJpYW4gVG/ImWPEgwoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFyY29kZUZvcm1hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogRW51bWVyYXRlcyBiYXJjb2RlIGZvcm1hdHMga25vd24gdG8gdGhpcyBwYWNrYWdlLiBQbGVhc2Uga2VlcCBhbHBoYWJldGl6ZWQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJhcmNvZGVGb3JtYXQ7CgkoZnVuY3Rpb24gKEJhcmNvZGVGb3JtYXQpIHsKCSAgICAvKiogQXp0ZWMgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJBWlRFQyJdID0gMF0gPSAiQVpURUMiOwoJICAgIC8qKiBDT0RBQkFSIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREFCQVIiXSA9IDFdID0gIkNPREFCQVIiOwoJICAgIC8qKiBDb2RlIDM5IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfMzkiXSA9IDJdID0gIkNPREVfMzkiOwoJICAgIC8qKiBDb2RlIDkzIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfOTMiXSA9IDNdID0gIkNPREVfOTMiOwoJICAgIC8qKiBDb2RlIDEyOCAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJDT0RFXzEyOCJdID0gNF0gPSAiQ09ERV8xMjgiOwoJICAgIC8qKiBEYXRhIE1hdHJpeCAyRCBiYXJjb2RlIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkRBVEFfTUFUUklYIl0gPSA1XSA9ICJEQVRBX01BVFJJWCI7CgkgICAgLyoqIEVBTi04IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkVBTl84Il0gPSA2XSA9ICJFQU5fOCI7CgkgICAgLyoqIEVBTi0xMyAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJFQU5fMTMiXSA9IDddID0gIkVBTl8xMyI7CgkgICAgLyoqIElURiAoSW50ZXJsZWF2ZWQgVHdvIG9mIEZpdmUpIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIklURiJdID0gOF0gPSAiSVRGIjsKCSAgICAvKiogTWF4aUNvZGUgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJNQVhJQ09ERSJdID0gOV0gPSAiTUFYSUNPREUiOwoJICAgIC8qKiBQREY0MTcgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUERGXzQxNyJdID0gMTBdID0gIlBERl80MTciOwoJICAgIC8qKiBRUiBDb2RlIDJEIGJhcmNvZGUgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUVJfQ09ERSJdID0gMTFdID0gIlFSX0NPREUiOwoJICAgIC8qKiBSU1MgMTQgKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlJTU18xNCJdID0gMTJdID0gIlJTU18xNCI7CgkgICAgLyoqIFJTUyBFWFBBTkRFRCAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUlNTX0VYUEFOREVEIl0gPSAxM10gPSAiUlNTX0VYUEFOREVEIjsKCSAgICAvKiogVVBDLUEgMUQgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiVVBDX0EiXSA9IDE0XSA9ICJVUENfQSI7CgkgICAgLyoqIFVQQy1FIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FIl0gPSAxNV0gPSAiVVBDX0UiOwoJICAgIC8qKiBVUEMvRUFOIGV4dGVuc2lvbiBmb3JtYXQuIE5vdCBhIHN0YW5kLWFsb25lIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSAxNl0gPSAiVVBDX0VBTl9FWFRFTlNJT04iOwoJfSkoQmFyY29kZUZvcm1hdCB8fCAoQmFyY29kZUZvcm1hdCA9IHt9KSk7CglCYXJjb2RlRm9ybWF0JDEuZGVmYXVsdCA9IEJhcmNvZGVGb3JtYXQ7CgoJdmFyIFJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIFN5c3RlbV8xJDEgPSBTeXN0ZW0kMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBiYXJjb2RlIHdpdGhpbiBhbiBpbWFnZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSB0ZXh0OiBzdHJpbmcsCgkgICAgLy8gICAgICAgICAgICAgICBVaW50OEFycmF5IHJhd0J5dGVzLAoJICAgIC8vICAgICAgICAgICAgICAgUmVzdWx0UG9jb25zdCByZXN1bHRQb2ludHM6IEludDMyQXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0IGZvcm1hdCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmVzdWx0UG9pbnRzLCBmb3JtYXQsIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IodGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgVWludDhBcnJheSByYXdCeXRlcywKCSAgICAvLyAgICAgICAgICAgICAgIFJlc3VsdFBvY29uc3QgcmVzdWx0UG9pbnRzOiBJbnQzMkFycmF5LAoJICAgIC8vICAgICAgICAgICAgICAgQmFyY29kZUZvcm1hdCBmb3JtYXQsCgkgICAgLy8gICAgICAgICAgICAgICBsb25nIHRpbWVzdGFtcCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoLAoJICAgIC8vICAgICAgICByZXN1bHRQb2ludHMsIGZvcm1hdCwgdGltZXN0YW1wKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBSZXN1bHQodGV4dCwgcmF3Qnl0ZXMsIG51bUJpdHMsIHJlc3VsdFBvaW50cywgZm9ybWF0LCB0aW1lc3RhbXApIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPT09IHZvaWQgMCkgeyBudW1CaXRzID0gcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoOyB9CgkgICAgICAgIGlmICh0aW1lc3RhbXAgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsgfQoJICAgICAgICB0aGlzLnRleHQgPSB0ZXh0OwoJICAgICAgICB0aGlzLnJhd0J5dGVzID0gcmF3Qnl0ZXM7CgkgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gcmVzdWx0UG9pbnRzOwoJICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDsKCSAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7CgkgICAgICAgIHRoaXMudGV4dCA9IHRleHQ7CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbnVtQml0cyB8fCBudWxsID09PSBudW1CaXRzKSB7CgkgICAgICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IG51bGwgfHwgcmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludHMgPSByZXN1bHRQb2ludHM7CgkgICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0OwoJICAgICAgICB0aGlzLnJlc3VsdE1ldGFkYXRhID0gbnVsbDsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGltZXN0YW1wIHx8IG51bGwgPT09IHRpbWVzdGFtcCkgewoJICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IHRleHQgZW5jb2RlZCBieSB0aGUgYmFyY29kZQoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGV4dDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IGJ5dGVzIGVuY29kZWQgYnkgdGhlIGJhcmNvZGUsIGlmIGFwcGxpY2FibGUsIG90aGVyd2lzZSB7QGNvZGUgbnVsbH0KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0TnVtQml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMubnVtQml0czsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcG9pbnRzIHJlbGF0ZWQgdG8gdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGVzZSBhcmUgdHlwaWNhbGx5IHBvaW50cwoJICAgICAqICAgICAgICAgaWRlbnRpZnlpbmcgZmluZGVyIHBhdHRlcm5zIG9yIHRoZSBjb3JuZXJzIG9mIHRoZSBiYXJjb2RlLiBUaGUgZXhhY3QgbWVhbmluZyBpcwoJICAgICAqICAgICAgICAgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkLgoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0UmVzdWx0UG9pbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCYXJjb2RlRm9ybWF0fSByZXByZXNlbnRpbmcgdGhlIGZvcm1hdCBvZiB0aGUgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkCgkgICAgICovCgkgICAgUmVzdWx0LnByb3RvdHlwZS5nZXRCYXJjb2RlRm9ybWF0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBNYXB9IG1hcHBpbmcge0BsaW5rIFJlc3VsdE1ldGFkYXRhVHlwZX0ga2V5cyB0byB2YWx1ZXMuIE1heSBiZQoJICAgICAqICAge0Bjb2RlIG51bGx9LiBUaGlzIGNvbnRhaW5zIG9wdGlvbmFsIG1ldGFkYXRhIGFib3V0IHdoYXQgd2FzIGRldGVjdGVkIGFib3V0IHRoZSBiYXJjb2RlLAoJICAgICAqICAgbGlrZSBvcmllbnRhdGlvbi4KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJlc3VsdE1ldGFkYXRhID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRNZXRhZGF0YTsKCSAgICB9OwoJICAgIFJlc3VsdC5wcm90b3R5cGUucHV0TWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUpIHsKCSAgICAgICAgaWYgKHRoaXMucmVzdWx0TWV0YWRhdGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0TWV0YWRhdGEgPSBuZXcgTWFwKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YS5zZXQodHlwZSwgdmFsdWUpOwoJICAgIH07CgkgICAgUmVzdWx0LnByb3RvdHlwZS5wdXRBbGxNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSkgewoJICAgICAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHsKCSAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdE1ldGFkYXRhID09PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG1ldGFkYXRhOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG5ldyBNYXAobWV0YWRhdGEpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmFkZFJlc3VsdFBvaW50cyA9IGZ1bmN0aW9uIChuZXdQb2ludHMpIHsKCSAgICAgICAgdmFyIG9sZFBvaW50cyA9IHRoaXMucmVzdWx0UG9pbnRzOwoJICAgICAgICBpZiAob2xkUG9pbnRzID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aGlzLnJlc3VsdFBvaW50cyA9IG5ld1BvaW50czsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChuZXdQb2ludHMgIT09IG51bGwgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDApIHsKCSAgICAgICAgICAgIHZhciBhbGxQb2ludHMgPSBuZXcgQXJyYXkob2xkUG9pbnRzLmxlbmd0aCArIG5ld1BvaW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgU3lzdGVtXzEkMS5kZWZhdWx0LmFycmF5Y29weShvbGRQb2ludHMsIDAsIGFsbFBvaW50cywgMCwgb2xkUG9pbnRzLmxlbmd0aCk7CgkgICAgICAgICAgICBTeXN0ZW1fMSQxLmRlZmF1bHQuYXJyYXljb3B5KG5ld1BvaW50cywgMCwgYWxsUG9pbnRzLCBvbGRQb2ludHMubGVuZ3RoLCBuZXdQb2ludHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gYWxsUG9pbnRzOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRleHQ7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0OwoJfSgpKTsKCVJlc3VsdCQxLmRlZmF1bHQgPSBSZXN1bHQ7CgoJdmFyIFJlc3VsdE1ldGFkYXRhVHlwZSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHRNZXRhZGF0YVR5cGUkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogUmVwcmVzZW50cyBzb21lIHR5cGUgb2YgbWV0YWRhdGEgYWJvdXQgdGhlIHJlc3VsdCBvZiB0aGUgZGVjb2RpbmcgdGhhdCB0aGUgZGVjb2RlcgoJICogd2lzaGVzIHRvIGNvbW11bmljYXRlIGJhY2sgdG8gdGhlIGNhbGxlci4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlOwoJKGZ1bmN0aW9uIChSZXN1bHRNZXRhZGF0YVR5cGUpIHsKCSAgICAvKioKCSAgICAgKiBVbnNwZWNpZmllZCwgYXBwbGljYXRpb24tc3BlY2lmaWMgbWV0YWRhdGEuIE1hcHMgdG8gYW4gdW5zcGVjaWZpZWQge0BsaW5rIE9iamVjdH0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiT1RIRVIiXSA9IDBdID0gIk9USEVSIjsKCSAgICAvKioKCSAgICAgKiBEZW5vdGVzIHRoZSBsaWtlbHkgYXBwcm94aW1hdGUgb3JpZW50YXRpb24gb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGlzIHZhbHVlCgkgICAgICogaXMgZ2l2ZW4gYXMgZGVncmVlcyByb3RhdGVkIGNsb2Nrd2lzZSBmcm9tIHRoZSBub3JtYWwsIHVwcmlnaHQgb3JpZW50YXRpb24uCgkgICAgICogRm9yIGV4YW1wbGUgYSAxRCBiYXJjb2RlIHdoaWNoIHdhcyBmb3VuZCBieSByZWFkaW5nIHRvcC10by1ib3R0b20gd291bGQgYmUKCSAgICAgKiBzYWlkIHRvIGhhdmUgb3JpZW50YXRpb24gIjkwIi4gVGhpcyBrZXkgbWFwcyB0byBhbiB7QGxpbmsgSW50ZWdlcn0gd2hvc2UKCSAgICAgKiB2YWx1ZSBpcyBpbiB0aGUgcmFuZ2UgWzAsMzYwKS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJPUklFTlRBVElPTiJdID0gMV0gPSAiT1JJRU5UQVRJT04iOwoJICAgIC8qKgoJICAgICAqIDxwPjJEIGJhcmNvZGUgZm9ybWF0cyB0eXBpY2FsbHkgZW5jb2RlIHRleHQsIGJ1dCBhbGxvdyBmb3IgYSBzb3J0IG9mICdieXRlIG1vZGUnCgkgICAgICogd2hpY2ggaXMgc29tZXRpbWVzIHVzZWQgdG8gZW5jb2RlIGJpbmFyeSBkYXRhLiBXaGlsZSB7QGxpbmsgUmVzdWx0fSBtYWtlcyBhdmFpbGFibGUKCSAgICAgKiB0aGUgY29tcGxldGUgcmF3IGJ5dGVzIGluIHRoZSBiYXJjb2RlIGZvciB0aGVzZSBmb3JtYXRzLCBpdCBkb2VzIG5vdCBvZmZlciB0aGUgYnl0ZXMKCSAgICAgKiBmcm9tIHRoZSBieXRlIHNlZ21lbnRzIGFsb25lLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWFwcyB0byBhIHtAbGluayBqYXZhLnV0aWwuTGlzdH0gb2YgYnl0ZSBhcnJheXMgY29ycmVzcG9uZGluZyB0byB0aGUKCSAgICAgKiByYXcgYnl0ZXMgaW4gdGhlIGJ5dGUgc2VnbWVudHMgaW4gdGhlIGJhcmNvZGUsIGluIG9yZGVyLjwvcD4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJCWVRFX1NFR01FTlRTIl0gPSAyXSA9ICJCWVRFX1NFR01FTlRTIjsKCSAgICAvKioKCSAgICAgKiBFcnJvciBjb3JyZWN0aW9uIGxldmVsIHVzZWQsIGlmIGFwcGxpY2FibGUuIFRoZSB2YWx1ZSB0eXBlIGRlcGVuZHMgb24gdGhlCgkgICAgICogZm9ybWF0LCBidXQgaXMgdHlwaWNhbGx5IGEgU3RyaW5nLgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiXSA9IDNdID0gIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHBlcmlvZGljYWxzLCBpbmRpY2F0ZXMgdGhlIGlzc3VlIG51bWJlciBhcyBhbiB7QGxpbmsgSW50ZWdlcn0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiSVNTVUVfTlVNQkVSIl0gPSA0XSA9ICJJU1NVRV9OVU1CRVIiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHByb2R1Y3RzLCBpbmRpY2F0ZXMgdGhlIHN1Z2dlc3RlZCByZXRhaWwgcHJpY2UgaW4gdGhlIGJhcmNvZGUgYXMgYQoJICAgICAqIGZvcm1hdHRlZCB7QGxpbmsgU3RyaW5nfS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJTVUdHRVNURURfUFJJQ0UiXSA9IDVdID0gIlNVR0dFU1RFRF9QUklDRSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBwb3NzaWJsZSBjb3VudHJ5IG9mIG1hbnVmYWN0dXJlIGFzIGEge0BsaW5rIFN0cmluZ30gZGVub3RpbmcgdGhlCgkgICAgICogSVNPIGNvdW50cnkgY29kZS4gU29tZSBtYXAgdG8gbXVsdGlwbGUgcG9zc2libGUgY291bnRyaWVzLCBsaWtlICJVUy9DQSIuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUE9TU0lCTEVfQ09VTlRSWSJdID0gNl0gPSAiUE9TU0lCTEVfQ09VTlRSWSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBleHRlbnNpb24gdGV4dAoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSA3XSA9ICJVUENfRUFOX0VYVEVOU0lPTiI7CgkgICAgLyoqCgkgICAgICogUERGNDE3LXNwZWNpZmljIG1ldGFkYXRhCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUERGNDE3X0VYVFJBX01FVEFEQVRBIl0gPSA4XSA9ICJQREY0MTdfRVhUUkFfTUVUQURBVEEiOwoJICAgIC8qKgoJICAgICAqIElmIHRoZSBjb2RlIGZvcm1hdCBzdXBwb3J0cyBzdHJ1Y3R1cmVkIGFwcGVuZCBhbmQgdGhlIGN1cnJlbnQgc2Nhbm5lZCBjb2RlIGlzIHBhcnQgb2Ygb25lIHRoZW4gdGhlCgkgICAgICogc2VxdWVuY2UgbnVtYmVyIGlzIGdpdmVuIHdpdGggaXQuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UiXSA9IDldID0gIlNUUlVDVFVSRURfQVBQRU5EX1NFUVVFTkNFIjsKCSAgICAvKioKCSAgICAgKiBJZiB0aGUgY29kZSBmb3JtYXQgc3VwcG9ydHMgc3RydWN0dXJlZCBhcHBlbmQgYW5kIHRoZSBjdXJyZW50IHNjYW5uZWQgY29kZSBpcyBwYXJ0IG9mIG9uZSB0aGVuIHRoZQoJICAgICAqIHBhcml0eSBpcyBnaXZlbiB3aXRoIGl0LgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSJdID0gMTBdID0gIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSI7Cgl9KShSZXN1bHRNZXRhZGF0YVR5cGUgfHwgKFJlc3VsdE1ldGFkYXRhVHlwZSA9IHt9KSk7CglSZXN1bHRNZXRhZGF0YVR5cGUkMS5kZWZhdWx0ID0gUmVzdWx0TWV0YWRhdGFUeXBlOwoKCXZhciBEZWNvZGVyJDEgPSB7fTsKCgl2YXIgQ2hlY2tzdW1FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkOCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGVja3N1bUV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNCA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBDaGVja3N1bUV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkOChDaGVja3N1bUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBDaGVja3N1bUV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5nZXRDaGVja3N1bUluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IENoZWNrc3VtRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5raW5kID0gJ0NoZWNrc3VtRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQ2hlY2tzdW1FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCkpOwoJQ2hlY2tzdW1FeGNlcHRpb24kMS5kZWZhdWx0ID0gQ2hlY2tzdW1FeGNlcHRpb247CgoJdmFyIEdlbmVyaWNHRiQxID0ge307CgoJdmFyIEdlbmVyaWNHRlBvbHkkMSA9IHt9OwoKCXZhciBBYnN0cmFjdEdlbmVyaWNHRiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEdlbmVyaWNHRiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGNvbnRhaW5zIHV0aWxpdHkgbWV0aG9kcyBmb3IgcGVyZm9ybWluZyBtYXRoZW1hdGljYWwgb3BlcmF0aW9ucyBvdmVyCgkgKiB0aGUgR2Fsb2lzIEZpZWxkcy4gT3BlcmF0aW9ucyB1c2UgYSBnaXZlbiBwcmltaXRpdmUgcG9seW5vbWlhbCBpbiBjYWxjdWxhdGlvbnMuPC9wPgoJICoKCSAqIDxwPlRocm91Z2hvdXQgdGhpcyBwYWNrYWdlLCBlbGVtZW50cyBvZiB0aGUgR0YgYXJlIHJlcHJlc2VudGVkIGFzIGFuIHtAY29kZSBpbnR9CgkgKiBmb3IgY29udmVuaWVuY2UgYW5kIHNwZWVkIChidXQgYXQgdGhlIGNvc3Qgb2YgbWVtb3J5KS4KCSAqIDwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBEYXZpZCBPbGl2aWVyCgkgKi8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBYnN0cmFjdEdlbmVyaWNHRigpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiAyIHRvIHRoZSBwb3dlciBvZiBhIGluIEdGKHNpemUpCgkgICAgICovCgkgICAgQWJzdHJhY3RHZW5lcmljR0YucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChhKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBiYXNlIDIgbG9nIG9mIGEgaW4gR0Yoc2l6ZSkKCSAgICAgKi8KCSAgICBBYnN0cmFjdEdlbmVyaWNHRi5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGEgLyppbnQqLykgewoJICAgICAgICBpZiAoYSA9PT0gMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0aGlzLmxvZ1RhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSW1wbGVtZW50cyBib3RoIGFkZGl0aW9uIGFuZCBzdWJ0cmFjdGlvbiAtLSB0aGV5IGFyZSB0aGUgc2FtZSBpbiBHRihzaXplKS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gc3VtL2RpZmZlcmVuY2Ugb2YgYSBhbmQgYgoJICAgICAqLwoJICAgIEFic3RyYWN0R2VuZXJpY0dGLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIGEgXiBiOwoJICAgIH07CgkgICAgcmV0dXJuIEFic3RyYWN0R2VuZXJpY0dGOwoJfSgpKTsKCUFic3RyYWN0R2VuZXJpY0dGJDEuZGVmYXVsdCA9IEFic3RyYWN0R2VuZXJpY0dGOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGUG9seSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5yZWVkc29sb21vbiB7Ki8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRl8xJDEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIFN5c3RlbV8xID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNCA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgcG9seW5vbWlhbCB3aG9zZSBjb2VmZmljaWVudHMgYXJlIGVsZW1lbnRzIG9mIGEgR0YuCgkgKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgaW1tdXRhYmxlLjwvcD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdlbmVyaWNHRlBvbHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGZpZWxkIHRoZSB7QGxpbmsgR2VuZXJpY0dGfSBpbnN0YW5jZSByZXByZXNlbnRpbmcgdGhlIGZpZWxkIHRvIHVzZQoJICAgICAqIHRvIHBlcmZvcm0gY29tcHV0YXRpb25zCgkgICAgICogQHBhcmFtIGNvZWZmaWNpZW50cyBjb2VmZmljaWVudHMgYXMgaW50cyByZXByZXNlbnRpbmcgZWxlbWVudHMgb2YgR0Yoc2l6ZSksIGFycmFuZ2VkCgkgICAgICogZnJvbSBtb3N0IHNpZ25pZmljYW50IChoaWdoZXN0LXBvd2VyIHRlcm0pIGNvZWZmaWNpZW50IHRvIGxlYXN0IHNpZ25pZmljYW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYXJndW1lbnQgaXMgbnVsbCBvciBlbXB0eSwKCSAgICAgKiBvciBpZiBsZWFkaW5nIGNvZWZmaWNpZW50IGlzIDAgYW5kIHRoaXMgaXMgbm90IGEKCSAgICAgKiBjb25zdGFudCBwb2x5bm9taWFsICh0aGF0IGlzLCBpdCBpcyBub3QgdGhlIG1vbm9taWFsICIwIikKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBHZW5lcmljR0ZQb2x5KGZpZWxkLCBjb2VmZmljaWVudHMpIHsKCSAgICAgICAgaWYgKGNvZWZmaWNpZW50cy5sZW5ndGggPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHNMZW5ndGggPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICBpZiAoY29lZmZpY2llbnRzTGVuZ3RoID4gMSAmJiBjb2VmZmljaWVudHNbMF0gPT09IDApIHsKCSAgICAgICAgICAgIC8vIExlYWRpbmcgdGVybSBtdXN0IGJlIG5vbi16ZXJvIGZvciBhbnl0aGluZyBleGNlcHQgdGhlIGNvbnN0YW50IHBvbHlub21pYWwgIjAiCgkgICAgICAgICAgICB2YXIgZmlyc3ROb25aZXJvID0gMTsKCSAgICAgICAgICAgIHdoaWxlIChmaXJzdE5vblplcm8gPCBjb2VmZmljaWVudHNMZW5ndGggJiYgY29lZmZpY2llbnRzW2ZpcnN0Tm9uWmVyb10gPT09IDApIHsKCSAgICAgICAgICAgICAgICBmaXJzdE5vblplcm8rKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChmaXJzdE5vblplcm8gPT09IGNvZWZmaWNpZW50c0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRoaXMuY29lZmZpY2llbnRzID0gSW50MzJBcnJheS5mcm9tKFswXSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICB0aGlzLmNvZWZmaWNpZW50cyA9IG5ldyBJbnQzMkFycmF5KGNvZWZmaWNpZW50c0xlbmd0aCAtIGZpcnN0Tm9uWmVybyk7CgkgICAgICAgICAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkoY29lZmZpY2llbnRzLCBmaXJzdE5vblplcm8sIHRoaXMuY29lZmZpY2llbnRzLCAwLCB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHM7CgkgICAgICAgIH0KCSAgICB9CgkgICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZ2V0Q29lZmZpY2llbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGRlZ3JlZSBvZiB0aGlzIHBvbHlub21pYWwKCSAgICAgKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5nZXREZWdyZWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGlzIHBvbHlub21pYWwgaXMgdGhlIG1vbm9taWFsICIwIgoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzWzBdID09PSAwOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBjb2VmZmljaWVudCBvZiB4XmRlZ3JlZSB0ZXJtIGluIHRoaXMgcG9seW5vbWlhbAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmdldENvZWZmaWNpZW50ID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50c1t0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxIC0gZGVncmVlXTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gZXZhbHVhdGlvbiBvZiB0aGlzIHBvbHlub21pYWwgYXQgYSBnaXZlbiBwb2ludAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmV2YWx1YXRlQXQgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgeF4wIGNvZWZmaWNpZW50CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgY29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciByZXN1bHQ7CgkgICAgICAgIGlmIChhID09PSAxKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHRoZSBzdW0gb2YgdGhlIGNvZWZmaWNpZW50cwoJICAgICAgICAgICAgcmVzdWx0ID0gMDsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7IGkgIT09IGxlbmd0aF8xOyBpKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBjb2VmZmljaWVudHNbaV07CgkgICAgICAgICAgICAgICAgcmVzdWx0ID0gQWJzdHJhY3RHZW5lcmljR0ZfMSQxLmRlZmF1bHQuYWRkT3JTdWJ0cmFjdChyZXN1bHQsIGNvZWZmaWNpZW50KTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgICAgIH0KCSAgICAgICAgcmVzdWx0ID0gY29lZmZpY2llbnRzWzBdOwoJICAgICAgICB2YXIgc2l6ZSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICByZXN1bHQgPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KGZpZWxkLm11bHRpcGx5KGEsIHJlc3VsdCksIGNvZWZmaWNpZW50c1tpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRoaXMuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiBvdGhlcjsKCSAgICAgICAgfQoJICAgICAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzbWFsbGVyQ29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBsYXJnZXJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIGlmIChzbWFsbGVyQ29lZmZpY2llbnRzLmxlbmd0aCA+IGxhcmdlckNvZWZmaWNpZW50cy5sZW5ndGgpIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gc21hbGxlckNvZWZmaWNpZW50czsKCSAgICAgICAgICAgIHNtYWxsZXJDb2VmZmljaWVudHMgPSBsYXJnZXJDb2VmZmljaWVudHM7CgkgICAgICAgICAgICBsYXJnZXJDb2VmZmljaWVudHMgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzdW1EaWZmID0gbmV3IEludDMyQXJyYXkobGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCk7CgkgICAgICAgIHZhciBsZW5ndGhEaWZmID0gbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCAtIHNtYWxsZXJDb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICAvLyBDb3B5IGhpZ2gtb3JkZXIgdGVybXMgb25seSBmb3VuZCBpbiBoaWdoZXItZGVncmVlIHBvbHlub21pYWwncyBjb2VmZmljaWVudHMKCSAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkobGFyZ2VyQ29lZmZpY2llbnRzLCAwLCBzdW1EaWZmLCAwLCBsZW5ndGhEaWZmKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aERpZmY7IGkgPCBsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHN1bURpZmZbaV0gPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KHNtYWxsZXJDb2VmZmljaWVudHNbaSAtIGxlbmd0aERpZmZdLCBsYXJnZXJDb2VmZmljaWVudHNbaV0pOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLmZpZWxkLCBzdW1EaWZmKTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gKG90aGVyKSB7CgkgICAgICAgIGlmICghdGhpcy5maWVsZC5lcXVhbHMob3RoZXIuZmllbGQpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdHZW5lcmljR0ZQb2x5cyBkbyBub3QgaGF2ZSBzYW1lIEdlbmVyaWNHRiBmaWVsZCcpOwoJICAgICAgICB9CgkgICAgICAgIGlmICh0aGlzLmlzWmVybygpIHx8IG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGFDb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIGFMZW5ndGggPSBhQ29lZmZpY2llbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBiTGVuZ3RoID0gYkNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoYUxlbmd0aCArIGJMZW5ndGggLSAxKTsKCSAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhTGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBhQ29lZmYgPSBhQ29lZmZpY2llbnRzW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiTGVuZ3RoOyBqKyspIHsKCSAgICAgICAgICAgICAgICBwcm9kdWN0W2kgKyBqXSA9IEFic3RyYWN0R2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocHJvZHVjdFtpICsgal0sIGZpZWxkLm11bHRpcGx5KGFDb2VmZiwgYkNvZWZmaWNpZW50c1tqXSkpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5tdWx0aXBseVNjYWxhciA9IGZ1bmN0aW9uIChzY2FsYXIgLyppbnQqLykgewoJICAgICAgICBpZiAoc2NhbGFyID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHNjYWxhciA9PT0gMSkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIHByb2R1Y3RbaV0gPSBmaWVsZC5tdWx0aXBseShjb2VmZmljaWVudHNbaV0sIHNjYWxhcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmljR0ZQb2x5KGZpZWxkLCBwcm9kdWN0KTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5QnlNb25vbWlhbCA9IGZ1bmN0aW9uIChkZWdyZWUgLyppbnQqLywgY29lZmZpY2llbnQgLyppbnQqLykgewoJICAgICAgICBpZiAoZGVncmVlIDwgMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChjb2VmZmljaWVudCA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQuZ2V0WmVybygpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIHNpemUgPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBJbnQzMkFycmF5KHNpemUgKyBkZWdyZWUpOwoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykgewoJICAgICAgICAgICAgcHJvZHVjdFtpXSA9IGZpZWxkLm11bHRpcGx5KGNvZWZmaWNpZW50c1tpXSwgY29lZmZpY2llbnQpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdEaXZpZGUgYnkgMCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBxdW90aWVudCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHJlbWFpbmRlciA9IHRoaXM7CgkgICAgICAgIHZhciBkZW5vbWluYXRvckxlYWRpbmdUZXJtID0gb3RoZXIuZ2V0Q29lZmZpY2llbnQob3RoZXIuZ2V0RGVncmVlKCkpOwoJICAgICAgICB2YXIgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0gPSBmaWVsZC5pbnZlcnNlKGRlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICB3aGlsZSAocmVtYWluZGVyLmdldERlZ3JlZSgpID49IG90aGVyLmdldERlZ3JlZSgpICYmICFyZW1haW5kZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHZhciBkZWdyZWVEaWZmZXJlbmNlID0gcmVtYWluZGVyLmdldERlZ3JlZSgpIC0gb3RoZXIuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICB2YXIgc2NhbGUgPSBmaWVsZC5tdWx0aXBseShyZW1haW5kZXIuZ2V0Q29lZmZpY2llbnQocmVtYWluZGVyLmdldERlZ3JlZSgpKSwgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICAgICAgdmFyIHRlcm0gPSBvdGhlci5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZmVyZW5jZSwgc2NhbGUpOwoJICAgICAgICAgICAgdmFyIGl0ZXJhdGlvblF1b3RpZW50ID0gZmllbGQuYnVpbGRNb25vbWlhbChkZWdyZWVEaWZmZXJlbmNlLCBzY2FsZSk7CgkgICAgICAgICAgICBxdW90aWVudCA9IHF1b3RpZW50LmFkZE9yU3VidHJhY3QoaXRlcmF0aW9uUXVvdGllbnQpOwoJICAgICAgICAgICAgcmVtYWluZGVyID0gcmVtYWluZGVyLmFkZE9yU3VidHJhY3QodGVybSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFtxdW90aWVudCwgcmVtYWluZGVyXTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJlc3VsdCA9ICcnOwoJICAgICAgICBmb3IgKHZhciBkZWdyZWUgPSB0aGlzLmdldERlZ3JlZSgpOyBkZWdyZWUgPj0gMDsgZGVncmVlLS0pIHsKCSAgICAgICAgICAgIHZhciBjb2VmZmljaWVudCA9IHRoaXMuZ2V0Q29lZmZpY2llbnQoZGVncmVlKTsKCSAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCA8IDApIHsKCSAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgLSAnOwoJICAgICAgICAgICAgICAgICAgICBjb2VmZmljaWVudCA9IC1jb2VmZmljaWVudDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgKyAnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgPT09IDAgfHwgY29lZmZpY2llbnQgIT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGFscGhhUG93ZXIgPSB0aGlzLmZpZWxkLmxvZyhjb2VmZmljaWVudCk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYVBvd2VyID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJzEnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFscGhhUG93ZXIgPT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnYSc7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ2FeJzsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhbHBoYVBvd2VyOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKGRlZ3JlZSA9PT0gMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICd4JzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAneF4nOwoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGRlZ3JlZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIEdlbmVyaWNHRlBvbHk7Cgl9KCkpOwoJR2VuZXJpY0dGUG9seSQxLmRlZmF1bHQgPSBHZW5lcmljR0ZQb2x5OwoKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkMyA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcml0aG1ldGljRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ3KEFyaXRobWV0aWNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJpdGhtZXRpY0V4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcml0aG1ldGljRXhjZXB0aW9uLmtpbmQgPSAnQXJpdGhtZXRpY0V4Y2VwdGlvbic7CgkgICAgcmV0dXJuIEFyaXRobWV0aWNFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCkpOwoJQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLmRlZmF1bHQgPSBBcml0aG1ldGljRXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uLnJlZWRzb2xvbW9uIHsqLwoJdmFyIEdlbmVyaWNHRlBvbHlfMSQxID0gR2VuZXJpY0dGUG9seSQxOwoJdmFyIEFic3RyYWN0R2VuZXJpY0dGXzEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIEludGVnZXJfMSQxID0gSW50ZWdlciQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDMgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uXzEgPSBBcml0aG1ldGljRXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgY29udGFpbnMgdXRpbGl0eSBtZXRob2RzIGZvciBwZXJmb3JtaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRpb25zIG92ZXIKCSAqIHRoZSBHYWxvaXMgRmllbGRzLiBPcGVyYXRpb25zIHVzZSBhIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsIGluIGNhbGN1bGF0aW9ucy48L3A+CgkgKgoJICogPHA+VGhyb3VnaG91dCB0aGlzIHBhY2thZ2UsIGVsZW1lbnRzIG9mIHRoZSBHRiBhcmUgcmVwcmVzZW50ZWQgYXMgYW4ge0Bjb2RlIGludH0KCSAqIGZvciBjb252ZW5pZW5jZSBhbmQgc3BlZWQgKGJ1dCBhdCB0aGUgY29zdCBvZiBtZW1vcnkpLgoJICogPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKiBAYXV0aG9yIERhdmlkIE9saXZpZXIKCSAqLwoJdmFyIEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkNihHZW5lcmljR0YsIF9zdXBlcik7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlIGEgcmVwcmVzZW50YXRpb24gb2YgR0Yoc2l6ZSkgdXNpbmcgdGhlIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsLgoJICAgICAqCgkgICAgICogQHBhcmFtIHByaW1pdGl2ZSBpcnJlZHVjaWJsZSBwb2x5bm9taWFsIHdob3NlIGNvZWZmaWNpZW50cyBhcmUgcmVwcmVzZW50ZWQgYnkKCSAgICAgKiAgdGhlIGJpdHMgb2YgYW4gaW50LCB3aGVyZSB0aGUgbGVhc3Qtc2lnbmlmaWNhbnQgYml0IHJlcHJlc2VudHMgdGhlIGNvbnN0YW50CgkgICAgICogIGNvZWZmaWNpZW50CgkgICAgICogQHBhcmFtIHNpemUgdGhlIHNpemUgb2YgdGhlIGZpZWxkCgkgICAgICogQHBhcmFtIGIgdGhlIGZhY3RvciBiIGluIHRoZSBnZW5lcmF0b3IgcG9seW5vbWlhbCBjYW4gYmUgMC0gb3IgMS1iYXNlZAoJICAgICAqICAoZyh4KSA9ICh4K2FeYikoeCthXihiKzEpKS4uLih4K2FeKGIrMnQtMSkpKS4KCSAgICAgKiAgSW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgMSwgYnV0IGZvciBRUiBjb2RlIGl0IGlzIDAuCgkgICAgICovCgkgICAgZnVuY3Rpb24gR2VuZXJpY0dGKHByaW1pdGl2ZSAvKmludCovLCBzaXplIC8qaW50Ki8sIGdlbmVyYXRvckJhc2UgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5wcmltaXRpdmUgPSBwcmltaXRpdmU7CgkgICAgICAgIF90aGlzLnNpemUgPSBzaXplOwoJICAgICAgICBfdGhpcy5nZW5lcmF0b3JCYXNlID0gZ2VuZXJhdG9yQmFzZTsKCSAgICAgICAgdmFyIGV4cFRhYmxlID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciB4ID0gMTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIGV4cFRhYmxlW2ldID0geDsKCSAgICAgICAgICAgIHggKj0gMjsgLy8gd2UncmUgYXNzdW1pbmcgdGhlIGdlbmVyYXRvciBhbHBoYSBpcyAyCgkgICAgICAgICAgICBpZiAoeCA+PSBzaXplKSB7CgkgICAgICAgICAgICAgICAgeCBePSBwcmltaXRpdmU7CgkgICAgICAgICAgICAgICAgeCAmPSBzaXplIC0gMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBfdGhpcy5leHBUYWJsZSA9IGV4cFRhYmxlOwoJICAgICAgICB2YXIgbG9nVGFibGUgPSBuZXcgSW50MzJBcnJheShzaXplKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplIC0gMTsgaSsrKSB7CgkgICAgICAgICAgICBsb2dUYWJsZVtleHBUYWJsZVtpXV0gPSBpOwoJICAgICAgICB9CgkgICAgICAgIF90aGlzLmxvZ1RhYmxlID0gbG9nVGFibGU7CgkgICAgICAgIC8vIGxvZ1RhYmxlWzBdID09IDAgYnV0IHRoaXMgc2hvdWxkIG5ldmVyIGJlIHVzZWQKCSAgICAgICAgX3RoaXMuemVybyA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzBdKSk7CgkgICAgICAgIF90aGlzLm9uZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzFdKSk7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRaZXJvID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRPbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm9uZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdGhlIG1vbm9taWFsIHJlcHJlc2VudGluZyBjb2VmZmljaWVudCAqIHheZGVncmVlCgkgICAgICovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5idWlsZE1vbm9taWFsID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovLCBjb2VmZmljaWVudCAvKmludCovKSB7CgkgICAgICAgIGlmIChkZWdyZWUgPCAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkMy5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShkZWdyZWUgKyAxKTsKCSAgICAgICAgY29lZmZpY2llbnRzWzBdID0gY29lZmZpY2llbnQ7CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seV8xJDEuZGVmYXVsdCh0aGlzLCBjb2VmZmljaWVudHMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlIG9mIGEKCSAgICAgKi8KCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmludmVyc2UgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5leHBUYWJsZVt0aGlzLnNpemUgLSB0aGlzLmxvZ1RhYmxlW2FdIC0gMV07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHByb2R1Y3Qgb2YgYSBhbmQgYiBpbiBHRihzaXplKQoJICAgICAqLwoJICAgIEdlbmVyaWNHRi5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGEgPT09IDAgfHwgYiA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDA7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZXhwVGFibGVbKHRoaXMubG9nVGFibGVbYV0gKyB0aGlzLmxvZ1RhYmxlW2JdKSAlICh0aGlzLnNpemUgLSAxKV07CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnNpemU7CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldEdlbmVyYXRvckJhc2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRvckJhc2U7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICgnR0YoMHgnICsgSW50ZWdlcl8xJDEuZGVmYXVsdC50b0hleFN0cmluZyh0aGlzLnByaW1pdGl2ZSkgKyAnLCcgKyB0aGlzLnNpemUgKyAnKScpOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICByZXR1cm4gbyA9PT0gdGhpczsKCSAgICB9OwoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEyID0gbmV3IEdlbmVyaWNHRigweDEwNjksIDQwOTYsIDEpOyAvLyB4XjEyICsgeF42ICsgeF41ICsgeF4zICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEwID0gbmV3IEdlbmVyaWNHRigweDQwOSwgMTAyNCwgMSk7IC8vIHheMTAgKyB4XjMgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfNiA9IG5ldyBHZW5lcmljR0YoMHg0MywgNjQsIDEpOyAvLyB4XjYgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19QQVJBTSA9IG5ldyBHZW5lcmljR0YoMHgxMywgMTYsIDEpOyAvLyB4XjQgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5RUl9DT0RFX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTFkLCAyNTYsIDApOyAvLyB4XjggKyB4XjQgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkRBVEFfTUFUUklYX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTJkLCAyNTYsIDEpOyAvLyB4XjggKyB4XjUgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfOCA9IEdlbmVyaWNHRi5EQVRBX01BVFJJWF9GSUVMRF8yNTY7CgkgICAgR2VuZXJpY0dGLk1BWElDT0RFX0ZJRUxEXzY0ID0gR2VuZXJpY0dGLkFaVEVDX0RBVEFfNjsKCSAgICByZXR1cm4gR2VuZXJpY0dGOwoJfShBYnN0cmFjdEdlbmVyaWNHRl8xLmRlZmF1bHQpKTsKCUdlbmVyaWNHRiQxLmRlZmF1bHQgPSBHZW5lcmljR0Y7CgoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciQxID0ge307CgoJdmFyIFJlZWRTb2xvbW9uRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDUgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVlZFNvbG9tb25FeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDIgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgUmVlZFNvbG9tb25FeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDUoUmVlZFNvbG9tb25FeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gUmVlZFNvbG9tb25FeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgUmVlZFNvbG9tb25FeGNlcHRpb24ua2luZCA9ICdSZWVkU29sb21vbkV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQyLmRlZmF1bHQpKTsKCVJlZWRTb2xvbW9uRXhjZXB0aW9uJDEuZGVmYXVsdCA9IFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkNCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDEgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSWxsZWdhbFN0YXRlRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ0KElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSWxsZWdhbFN0YXRlRXhjZXB0aW9uLmtpbmQgPSAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gSWxsZWdhbFN0YXRlRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQxLmRlZmF1bHQpKTsKCUlsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWVkU29sb21vbkRlY29kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24ucmVlZHNvbG9tb24geyovCgl2YXIgR2VuZXJpY0dGXzEkMSA9IEdlbmVyaWNHRiQxOwoJdmFyIEdlbmVyaWNHRlBvbHlfMSA9IEdlbmVyaWNHRlBvbHkkMTsKCXZhciBSZWVkU29sb21vbkV4Y2VwdGlvbl8xID0gUmVlZFNvbG9tb25FeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMSA9IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5JbXBsZW1lbnRzIFJlZWQtU29sb21vbiBkZWNvZGluZywgYXMgdGhlIG5hbWUgaW1wbGllcy48L3A+CgkgKgoJICogPHA+VGhlIGFsZ29yaXRobSB3aWxsIG5vdCBiZSBleHBsYWluZWQgaGVyZSwgYnV0IHRoZSBmb2xsb3dpbmcgcmVmZXJlbmNlcyB3ZXJlIGhlbHBmdWwKCSAqIGluIGNyZWF0aW5nIHRoaXMgaW1wbGVtZW50YXRpb246PC9wPgoJICoKCSAqIDx1bD4KCSAqIDxsaT5CcnVjZSBNYWdncy4KCSAqIDxhIGhyZWY9Imh0dHA6Ly93d3cuY3MuY211LmVkdS9hZnMvY3MuY211LmVkdS9wcm9qZWN0L3BzY2ljby1ndXliL3JlYWx3b3JsZC93d3cvcnNfZGVjb2RlLnBzIj4KCSAqICJEZWNvZGluZyBSZWVkLVNvbG9tb24gQ29kZXMiPC9hPiAoc2VlIGRpc2N1c3Npb24gb2YgRm9ybmV5J3MgRm9ybXVsYSk8L2xpPgoJICogPGxpPkouSS4gSGFsbC4gPGEgaHJlZj0id3d3Lm10aC5tc3UuZWR1L35qaGFsbC9jbGFzc2VzL2NvZGVub3Rlcy9HUlMucGRmIj4KCSAqICJDaGFwdGVyIDUuIEdlbmVyYWxpemVkIFJlZWQtU29sb21vbiBDb2RlcyI8L2E+CgkgKiAoc2VlIGRpc2N1c3Npb24gb2YgRXVjbGlkZWFuIGFsZ29yaXRobSk8L2xpPgoJICogPC91bD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgV2lsbGlhbSBSdWNrbGlkZ2UKCSAqIEBhdXRob3Igc2FuZm9yZHNxdWlyZXMKCSAqLwoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBSZWVkU29sb21vbkRlY29kZXIoZmllbGQpIHsKCSAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkOwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5EZWNvZGVzIGdpdmVuIHNldCBvZiByZWNlaXZlZCBjb2Rld29yZHMsIHdoaWNoIGluY2x1ZGUgYm90aCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uCgkgICAgICogY29kZXdvcmRzLiBSZWFsbHksIHRoaXMgbWVhbnMgaXQgdXNlcyBSZWVkLVNvbG9tb24gdG8gZGV0ZWN0IGFuZCBjb3JyZWN0IGVycm9ycywgaW4tcGxhY2UsCgkgICAgICogaW4gdGhlIGlucHV0LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByZWNlaXZlZCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcwoJICAgICAqIEBwYXJhbSB0d29TIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBhdmFpbGFibGUKCSAgICAgKiBAdGhyb3dzIFJlZWRTb2xvbW9uRXhjZXB0aW9uIGlmIGRlY29kaW5nIGZhaWxzIGZvciBhbnkgcmVhc29uCgkgICAgICovCgkgICAgUmVlZFNvbG9tb25EZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAocmVjZWl2ZWQsIHR3b1MgLyppbnQqLykgewoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgcG9seSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgcmVjZWl2ZWQpOwoJICAgICAgICB2YXIgc3luZHJvbWVDb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheSh0d29TKTsKCSAgICAgICAgdmFyIG5vRXJyb3IgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR3b1M7IGkrKykgewoJICAgICAgICAgICAgdmFyIGV2YWxSZXN1bHQgPSBwb2x5LmV2YWx1YXRlQXQoZmllbGQuZXhwKGkgKyBmaWVsZC5nZXRHZW5lcmF0b3JCYXNlKCkpKTsKCSAgICAgICAgICAgIHN5bmRyb21lQ29lZmZpY2llbnRzW3N5bmRyb21lQ29lZmZpY2llbnRzLmxlbmd0aCAtIDEgLSBpXSA9IGV2YWxSZXN1bHQ7CgkgICAgICAgICAgICBpZiAoZXZhbFJlc3VsdCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIG5vRXJyb3IgPSBmYWxzZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAobm9FcnJvcikgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzeW5kcm9tZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgc3luZHJvbWVDb2VmZmljaWVudHMpOwoJICAgICAgICB2YXIgc2lnbWFPbWVnYSA9IHRoaXMucnVuRXVjbGlkZWFuQWxnb3JpdGhtKGZpZWxkLmJ1aWxkTW9ub21pYWwodHdvUywgMSksIHN5bmRyb21lLCB0d29TKTsKCSAgICAgICAgdmFyIHNpZ21hID0gc2lnbWFPbWVnYVswXTsKCSAgICAgICAgdmFyIG9tZWdhID0gc2lnbWFPbWVnYVsxXTsKCSAgICAgICAgdmFyIGVycm9yTG9jYXRpb25zID0gdGhpcy5maW5kRXJyb3JMb2NhdGlvbnMoc2lnbWEpOwoJICAgICAgICB2YXIgZXJyb3JNYWduaXR1ZGVzID0gdGhpcy5maW5kRXJyb3JNYWduaXR1ZGVzKG9tZWdhLCBlcnJvckxvY2F0aW9ucyk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3JMb2NhdGlvbnMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHJlY2VpdmVkLmxlbmd0aCAtIDEgLSBmaWVsZC5sb2coZXJyb3JMb2NhdGlvbnNbaV0pOwoJICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ0JhZCBlcnJvciBsb2NhdGlvbicpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVjZWl2ZWRbcG9zaXRpb25dID0gR2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocmVjZWl2ZWRbcG9zaXRpb25dLCBlcnJvck1hZ25pdHVkZXNbaV0pOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZWVkU29sb21vbkRlY29kZXIucHJvdG90eXBlLnJ1bkV1Y2xpZGVhbkFsZ29yaXRobSA9IGZ1bmN0aW9uIChhLCBiLCBSIC8qaW50Ki8pIHsKCSAgICAgICAgLy8gQXNzdW1lIGEncyBkZWdyZWUgaXMgPj0gYidzCgkgICAgICAgIGlmIChhLmdldERlZ3JlZSgpIDwgYi5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgdmFyIHRlbXAgPSBhOwoJICAgICAgICAgICAgYSA9IGI7CgkgICAgICAgICAgICBiID0gdGVtcDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgckxhc3QgPSBhOwoJICAgICAgICB2YXIgciA9IGI7CgkgICAgICAgIHZhciB0TGFzdCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHQgPSBmaWVsZC5nZXRPbmUoKTsKCSAgICAgICAgLy8gUnVuIEV1Y2xpZGVhbiBhbGdvcml0aG0gdW50aWwgcidzIGRlZ3JlZSBpcyBsZXNzIHRoYW4gUi8yCgkgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IChSIC8gMiB8IDApKSB7CgkgICAgICAgICAgICB2YXIgckxhc3RMYXN0ID0gckxhc3Q7CgkgICAgICAgICAgICB2YXIgdExhc3RMYXN0ID0gdExhc3Q7CgkgICAgICAgICAgICByTGFzdCA9IHI7CgkgICAgICAgICAgICB0TGFzdCA9IHQ7CgkgICAgICAgICAgICAvLyBEaXZpZGUgckxhc3RMYXN0IGJ5IHJMYXN0LCB3aXRoIHF1b3RpZW50IGluIHEgYW5kIHJlbWFpbmRlciBpbiByCgkgICAgICAgICAgICBpZiAockxhc3QuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgICAgICAvLyBPb3BzLCBFdWNsaWRlYW4gYWxnb3JpdGhtIGFscmVhZHkgdGVybWluYXRlZD8KCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVlZFNvbG9tb25FeGNlcHRpb25fMS5kZWZhdWx0KCdyX3tpLTF9IHdhcyB6ZXJvJyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByID0gckxhc3RMYXN0OwoJICAgICAgICAgICAgdmFyIHEgPSBmaWVsZC5nZXRaZXJvKCk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3JMZWFkaW5nVGVybSA9IHJMYXN0LmdldENvZWZmaWNpZW50KHJMYXN0LmdldERlZ3JlZSgpKTsKCSAgICAgICAgICAgIHZhciBkbHRJbnZlcnNlID0gZmllbGQuaW52ZXJzZShkZW5vbWluYXRvckxlYWRpbmdUZXJtKTsKCSAgICAgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IHJMYXN0LmdldERlZ3JlZSgpICYmICFyLmlzWmVybygpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlZ3JlZURpZmYgPSByLmdldERlZ3JlZSgpIC0gckxhc3QuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gZmllbGQubXVsdGlwbHkoci5nZXRDb2VmZmljaWVudChyLmdldERlZ3JlZSgpKSwgZGx0SW52ZXJzZSk7CgkgICAgICAgICAgICAgICAgcSA9IHEuYWRkT3JTdWJ0cmFjdChmaWVsZC5idWlsZE1vbm9taWFsKGRlZ3JlZURpZmYsIHNjYWxlKSk7CgkgICAgICAgICAgICAgICAgciA9IHIuYWRkT3JTdWJ0cmFjdChyTGFzdC5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZiwgc2NhbGUpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHQgPSBxLm11bHRpcGx5KHRMYXN0KS5hZGRPclN1YnRyYWN0KHRMYXN0TGFzdCk7CgkgICAgICAgICAgICBpZiAoci5nZXREZWdyZWUoKSA+PSByTGFzdC5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMS5kZWZhdWx0KCdEaXZpc2lvbiBhbGdvcml0aG0gZmFpbGVkIHRvIHJlZHVjZSBwb2x5bm9taWFsPycpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBzaWdtYVRpbGRlQXRaZXJvID0gdC5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgaWYgKHNpZ21hVGlsZGVBdFplcm8gPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ3NpZ21hVGlsZGUoMCkgd2FzIHplcm8nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaW52ZXJzZSA9IGZpZWxkLmludmVyc2Uoc2lnbWFUaWxkZUF0WmVybyk7CgkgICAgICAgIHZhciBzaWdtYSA9IHQubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHZhciBvbWVnYSA9IHIubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHJldHVybiBbc2lnbWEsIG9tZWdhXTsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTG9jYXRpb25zID0gZnVuY3Rpb24gKGVycm9yTG9jYXRvcikgewoJICAgICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGFwcGxpY2F0aW9uIG9mIENoaWVuJ3Mgc2VhcmNoCgkgICAgICAgIHZhciBudW1FcnJvcnMgPSBlcnJvckxvY2F0b3IuZ2V0RGVncmVlKCk7CgkgICAgICAgIGlmIChudW1FcnJvcnMgPT09IDEpIHsgLy8gc2hvcnRjdXQKCSAgICAgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2Vycm9yTG9jYXRvci5nZXRDb2VmZmljaWVudCgxKV0pOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgSW50MzJBcnJheShudW1FcnJvcnMpOwoJICAgICAgICB2YXIgZSA9IDA7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmllbGQuZ2V0U2l6ZSgpICYmIGUgPCBudW1FcnJvcnM7IGkrKykgewoJICAgICAgICAgICAgaWYgKGVycm9yTG9jYXRvci5ldmFsdWF0ZUF0KGkpID09PSAwKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0W2VdID0gZmllbGQuaW52ZXJzZShpKTsKCSAgICAgICAgICAgICAgICBlKys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGUgIT09IG51bUVycm9ycykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IFJlZWRTb2xvbW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnRXJyb3IgbG9jYXRvciBkZWdyZWUgZG9lcyBub3QgbWF0Y2ggbnVtYmVyIG9mIHJvb3RzJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTWFnbml0dWRlcyA9IGZ1bmN0aW9uIChlcnJvckV2YWx1YXRvciwgZXJyb3JMb2NhdGlvbnMpIHsKCSAgICAgICAgLy8gVGhpcyBpcyBkaXJlY3RseSBhcHBseWluZyBGb3JuZXkncyBGb3JtdWxhCgkgICAgICAgIHZhciBzID0gZXJyb3JMb2NhdGlvbnMubGVuZ3RoOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEludDMyQXJyYXkocyk7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgczsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeGlJbnZlcnNlID0gZmllbGQuaW52ZXJzZShlcnJvckxvY2F0aW9uc1tpXSk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSAxOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaikgewoJICAgICAgICAgICAgICAgICAgICAvLyBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLAoJICAgICAgICAgICAgICAgICAgICAvLyAgICBHZW5lcmljR0YuYWRkT3JTdWJ0cmFjdCgxLCBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKSkpCgkgICAgICAgICAgICAgICAgICAgIC8vIEFib3ZlIHNob3VsZCB3b3JrIGJ1dCBmYWlscyBvbiBzb21lIEFwcGxlIGFuZCBMaW51eCBKREtzIGR1ZSB0byBhIEhvdHNwb3QgYnVnLgoJICAgICAgICAgICAgICAgICAgICAvLyBCZWxvdyBpcyBhIGZ1bm55LWxvb2tpbmcgd29ya2Fyb3VuZCBmcm9tIFN0ZXZlbiBQYXJrZXMKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1QbHVzMSA9ICh0ZXJtICYgMHgxKSA9PT0gMCA/IHRlcm0gfCAxIDogdGVybSAmIH4xOwoJICAgICAgICAgICAgICAgICAgICBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLCB0ZXJtUGx1czEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KGVycm9yRXZhbHVhdG9yLmV2YWx1YXRlQXQoeGlJbnZlcnNlKSwgZmllbGQuaW52ZXJzZShkZW5vbWluYXRvcikpOwoJICAgICAgICAgICAgaWYgKGZpZWxkLmdldEdlbmVyYXRvckJhc2UoKSAhPT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KHJlc3VsdFtpXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRGVjb2RlcjsKCX0oKSk7CglSZWVkU29sb21vbkRlY29kZXIkMS5kZWZhdWx0ID0gUmVlZFNvbG9tb25EZWNvZGVyOwoKCXZhciBCaXRNYXRyaXhQYXJzZXIkMSA9IHt9OwoKCXZhciBWZXJzaW9uJDEgPSB7fTsKCgl2YXIgRm9ybWF0SW5mb3JtYXRpb24kMSA9IHt9OwoKCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IHt9OwoKCXZhciBBcmd1bWVudEV4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyQzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkMyhBcmd1bWVudEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBcmd1bWVudEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0FyZ3VtZW50RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQXJndW1lbnRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xLmRlZmF1bHQpKTsKCUFyZ3VtZW50RXhjZXB0aW9uJDEuZGVmYXVsdCA9IEFyZ3VtZW50RXhjZXB0aW9uOwoKCShmdW5jdGlvbiAoZXhwb3J0cykgewoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CglleHBvcnRzLkVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gdm9pZCAwOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbl8xID0gQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJdmFyIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzOwoJKGZ1bmN0aW9uIChFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcykgewoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJMIl0gPSAwXSA9ICJMIjsKCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1tFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1siTSJdID0gMV0gPSAiTSI7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbIlEiXSA9IDJdID0gIlEiOwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJIIl0gPSAzXSA9ICJIIjsKCX0pKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyB8fCAoZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyA9IHt9KSk7CgkvKioKCSAqIDxwPlNlZSBJU08gMTgwMDQ6MjAwNiwgNi41LjEuIFRoaXMgZW51bSBlbmNhcHN1bGF0ZXMgdGhlIGZvdXIgZXJyb3IgY29ycmVjdGlvbiBsZXZlbHMKCSAqIGRlZmluZWQgYnkgdGhlIFFSIGNvZGUgc3RhbmRhcmQuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFcnJvckNvcnJlY3Rpb25MZXZlbCh2YWx1ZSwgc3RyaW5nVmFsdWUsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2V0KGJpdHMsIHRoaXMpOwoJICAgICAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5nZXRCaXRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIHN3aXRjaCAocykgewoJICAgICAgICAgICAgY2FzZSAnTCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5MOwoJICAgICAgICAgICAgY2FzZSAnTSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5NOwoJICAgICAgICAgICAgY2FzZSAnUSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5ROwoJICAgICAgICAgICAgY2FzZSAnSCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5IOwoJICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uXzEuZGVmYXVsdChzICsgJ25vdCBhdmFpbGFibGUnKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG90aGVyID0gbzsKCSAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IG90aGVyLnZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgaW50IGNvbnRhaW5pbmcgdGhlIHR3byBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSdzIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWwKCSAgICAgKiBAcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsIHJlcHJlc2VudGluZyB0aGUgZW5jb2RlZCBlcnJvciBjb3JyZWN0aW9uIGxldmVsCgkgICAgICovCgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZm9yQml0cyA9IGZ1bmN0aW9uIChiaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGJpdHMgPCAwIHx8IGJpdHMgPj0gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuZ2V0KGJpdHMpOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX1ZBTFVFID0gbmV3IE1hcCgpOwoJICAgIC8qKiBMID0gfjclIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5MID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkwsICdMJywgMHgwMSk7CgkgICAgLyoqIE0gPSB+MTUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5NID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLk0sICdNJywgMHgwMCk7CgkgICAgLyoqIFEgPSB+MjUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5RID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLlEsICdRJywgMHgwMyk7CgkgICAgLyoqIEggPSB+MzAlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5IID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkgsICdIJywgMHgwMik7CgkgICAgcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IEVycm9yQ29ycmVjdGlvbkxldmVsOwoKCX0oRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRm9ybWF0SW5mb3JtYXRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbF8xID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWw7Cgl2YXIgSW50ZWdlcl8xID0gSW50ZWdlciQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBRUiBDb2RlJ3MgZm9ybWF0IGluZm9ybWF0aW9uLCBpbmNsdWRpbmcgdGhlIGRhdGEgbWFzayB1c2VkIGFuZAoJICogZXJyb3IgY29ycmVjdGlvbiBsZXZlbC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBzZWUgRGF0YU1hc2sKCSAqIEBzZWUgRXJyb3JDb3JyZWN0aW9uTGV2ZWwKCSAqLwoJdmFyIEZvcm1hdEluZm9ybWF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZvcm1hdEluZm9ybWF0aW9uKGZvcm1hdEluZm8gLyppbnQqLykgewoJICAgICAgICAvLyBCaXRzIDMsNAoJICAgICAgICB0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWxfMS5kZWZhdWx0LmZvckJpdHMoKGZvcm1hdEluZm8gPj4gMykgJiAweDAzKTsKCSAgICAgICAgLy8gQm90dG9tIDMgYml0cwoJICAgICAgICB0aGlzLmRhdGFNYXNrID0gLyooYnl0ZSkgKi8gKGZvcm1hdEluZm8gJiAweDA3KTsKCSAgICB9CgkgICAgRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyA9IGZ1bmN0aW9uIChhIC8qaW50Ki8sIGIgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gSW50ZWdlcl8xLmRlZmF1bHQuYml0Q291bnQoYSBeIGIpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIG1hc2tlZEZvcm1hdEluZm8xIGZvcm1hdCBpbmZvIGluZGljYXRvciwgd2l0aCBtYXNrIHN0aWxsIGFwcGxpZWQKCSAgICAgKiBAcGFyYW0gbWFza2VkRm9ybWF0SW5mbzIgc2Vjb25kIGNvcHkgb2Ygc2FtZSBpbmZvOyBib3RoIGFyZSBjaGVja2VkIGF0IHRoZSBzYW1lIHRpbWUKCSAgICAgKiAgdG8gZXN0YWJsaXNoIGJlc3QgbWF0Y2gKCSAgICAgKiBAcmV0dXJuIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmb3JtYXQgaXQgc3BlY2lmaWVzLCBvciB7QGNvZGUgbnVsbH0KCSAgICAgKiAgaWYgZG9lc24ndCBzZWVtIHRvIG1hdGNoIGFueSBrbm93biBwYXR0ZXJuCgkgICAgICovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24uZGVjb2RlRm9ybWF0SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAobWFza2VkRm9ybWF0SW5mbzEgLyppbnQqLywgbWFza2VkRm9ybWF0SW5mbzIgLyppbnQqLykgewoJICAgICAgICB2YXIgZm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uLmRvRGVjb2RlRm9ybWF0SW5mb3JtYXRpb24obWFza2VkRm9ybWF0SW5mbzEsIG1hc2tlZEZvcm1hdEluZm8yKTsKCSAgICAgICAgaWYgKGZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiBmb3JtYXRJbmZvOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNob3VsZCByZXR1cm4gbnVsbCwgYnV0LCBzb21lIFFSIGNvZGVzIGFwcGFyZW50bHkKCSAgICAgICAgLy8gZG8gbm90IG1hc2sgdGhpcyBpbmZvLiBUcnkgYWdhaW4gYnkgYWN0dWFsbHkgbWFza2luZyB0aGUgcGF0dGVybgoJICAgICAgICAvLyBmaXJzdAoJICAgICAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb24uZG9EZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihtYXNrZWRGb3JtYXRJbmZvMSBeIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX01BU0tfUVIsIG1hc2tlZEZvcm1hdEluZm8yIF4gRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUik7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5kb0RlY29kZUZvcm1hdEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKG1hc2tlZEZvcm1hdEluZm8xIC8qaW50Ki8sIG1hc2tlZEZvcm1hdEluZm8yIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGVfMSwgX2E7CgkgICAgICAgIC8vIEZpbmQgdGhlIGludCBpbiBGT1JNQVRfSU5GT19ERUNPREVfTE9PS1VQIHdpdGggZmV3ZXN0IGJpdHMgZGlmZmVyaW5nCgkgICAgICAgIHZhciBiZXN0RGlmZmVyZW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgICAgICB2YXIgYmVzdEZvcm1hdEluZm8gPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyQ2KEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVApLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlY29kZUluZm8gPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SW5mbyA9IGRlY29kZUluZm9bMF07CgkgICAgICAgICAgICAgICAgaWYgKHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8xIHx8IHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8yKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGFuIGV4YWN0IG1hdGNoCgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRm9ybWF0SW5mb3JtYXRpb24oZGVjb2RlSW5mb1sxXSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBiaXRzRGlmZmVyZW5jZSA9IEZvcm1hdEluZm9ybWF0aW9uLm51bUJpdHNEaWZmZXJpbmcobWFza2VkRm9ybWF0SW5mbzEsIHRhcmdldEluZm8pOwoJICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgIGJlc3RGb3JtYXRJbmZvID0gZGVjb2RlSW5mb1sxXTsKCSAgICAgICAgICAgICAgICAgICAgYmVzdERpZmZlcmVuY2UgPSBiaXRzRGlmZmVyZW5jZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKG1hc2tlZEZvcm1hdEluZm8xICE9PSBtYXNrZWRGb3JtYXRJbmZvMikgewoJICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIHRyeSB0aGUgb3RoZXIgb3B0aW9uCgkgICAgICAgICAgICAgICAgICAgIGJpdHNEaWZmZXJlbmNlID0gRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyhtYXNrZWRGb3JtYXRJbmZvMiwgdGFyZ2V0SW5mbyk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Rm9ybWF0SW5mbyA9IGRlY29kZUluZm9bMV07CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSGFtbWluZyBkaXN0YW5jZSBvZiB0aGUgMzIgbWFza2VkIGNvZGVzIGlzIDcsIGJ5IGNvbnN0cnVjdGlvbiwgc28gPD0gMyBiaXRzCgkgICAgICAgIC8vIGRpZmZlcmluZyBtZWFucyB3ZSBmb3VuZCBhIG1hdGNoCgkgICAgICAgIGlmIChiZXN0RGlmZmVyZW5jZSA8PSAzKSB7CgkgICAgICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEluZm9ybWF0aW9uKGJlc3RGb3JtYXRJbmZvKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbnVsbDsKCSAgICB9OwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5nZXRFcnJvckNvcnJlY3Rpb25MZXZlbCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb3JyZWN0aW9uTGV2ZWw7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5wcm90b3R5cGUuZ2V0RGF0YU1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFNYXNrOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsLmdldEJpdHMoKSA8PCAzKSB8IHRoaXMuZGF0YU1hc2s7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBGb3JtYXRJbmZvcm1hdGlvbikpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvckNvcnJlY3Rpb25MZXZlbCA9PT0gb3RoZXIuZXJyb3JDb3JyZWN0aW9uTGV2ZWwgJiYKCSAgICAgICAgICAgIHRoaXMuZGF0YU1hc2sgPT09IG90aGVyLmRhdGFNYXNrOwoJICAgIH07CgkgICAgRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUiA9IDB4NTQxMjsKCSAgICAvKioKCSAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYsIEFubmV4IEMsIFRhYmxlIEMuMQoJICAgICAqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVAgPSBbCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1NDEyLCAweDAwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1MTI1LCAweDAxXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1RTdDLCAweDAyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1QjRCLCAweDAzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0NUY5LCAweDA0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0MENFLCAweDA1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0Rjk3LCAweDA2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0QUEwLCAweDA3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3N0M0LCAweDA4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3MkYzLCAweDA5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3REFBLCAweDBBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3ODlELCAweDBCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2NjJGLCAweDBDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2MzE4LCAweDBEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2QzQxLCAweDBFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2OTc2LCAweDBGXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxNjg5LCAweDEwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxM0JFLCAweDExXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxQ0U3LCAweDEyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxOUQwLCAweDEzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwNzYyLCAweDE0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwMjU1LCAweDE1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwRDBDLCAweDE2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwODNCLCAweDE3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzNTVGLCAweDE4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzMDY4LCAweDE5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzRjMxLCAweDFBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzQTA2LCAweDFCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyNEI0LCAweDFDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyMTgzLCAweDFEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyRURBLCAweDFFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyQkVELCAweDFGXSksCgkgICAgXTsKCSAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb247Cgl9KCkpOwoJRm9ybWF0SW5mb3JtYXRpb24kMS5kZWZhdWx0ID0gRm9ybWF0SW5mb3JtYXRpb247CgoJdmFyIEVDQmxvY2tzJDEgPSB7fTsKCgl2YXIgX192YWx1ZXMkNSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0Jsb2NrcyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHNldCBvZiBlcnJvci1jb3JyZWN0aW9uIGJsb2NrcyBpbiBvbmUgc3ltYm9sIHZlcnNpb24uIE1vc3QgdmVyc2lvbnMgd2lsbAoJICogdXNlIGJsb2NrcyBvZiBkaWZmZXJpbmcgc2l6ZXMgd2l0aGluIG9uZSB2ZXJzaW9uLCBzbywgdGhpcyBlbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yCgkgKiBlYWNoIHNldCBvZiBibG9ja3MuIEl0IGFsc28gaG9sZHMgdGhlIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBwZXIgYmxvY2sgc2luY2UgaXQKCSAqIHdpbGwgYmUgdGhlIHNhbWUgYWNyb3NzIGFsbCBibG9ja3Mgd2l0aGluIG9uZSB2ZXJzaW9uLjwvcD4KCSAqLwoJdmFyIEVDQmxvY2tzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEVDQmxvY2tzKGVjQ29kZXdvcmRzUGVyQmxvY2sgLyppbnQqLykgewoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayA9IGVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgICAgIHRoaXMuZWNCbG9ja3MgPSBlY0Jsb2NrczsKCSAgICB9CgkgICAgRUNCbG9ja3MucHJvdG90eXBlLmdldEVDQ29kZXdvcmRzUGVyQmxvY2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0TnVtQmxvY2tzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIHRvdGFsID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tzID0gdGhpcy5lY0Jsb2NrczsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIGVjQmxvY2tzXzEgPSBfX3ZhbHVlcyQ1KGVjQmxvY2tzKSwgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCk7ICFlY0Jsb2Nrc18xXzEuZG9uZTsgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tzXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbCArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2Nrc18xXzEgJiYgIWVjQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGVjQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2Nrc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdG90YWw7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0VG90YWxFQ0NvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayAqIHRoaXMuZ2V0TnVtQmxvY2tzKCk7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0RUNCbG9ja3MgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQmxvY2tzOwoJICAgIH07CgkgICAgcmV0dXJuIEVDQmxvY2tzOwoJfSgpKTsKCUVDQmxvY2tzJDEuZGVmYXVsdCA9IEVDQmxvY2tzOwoKCXZhciBFQ0IkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIG9uZSBlcnJvci1jb3JyZWN0aW9uIGJsb2NrIGluIG9uZSBzeW1ib2wgdmVyc2lvbi4KCSAqIFRoaXMgaW5jbHVkZXMgdGhlIG51bWJlciBvZiBkYXRhIGNvZGV3b3JkcywgYW5kIHRoZSBudW1iZXIgb2YgdGltZXMgYSBibG9jayB3aXRoIHRoZXNlCgkgKiBwYXJhbWV0ZXJzIGlzIHVzZWQgY29uc2VjdXRpdmVseSBpbiB0aGUgUVIgY29kZSB2ZXJzaW9uJ3MgZm9ybWF0LjwvcD4KCSAqLwoJdmFyIEVDQiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFQ0IoY291bnQgLyppbnQqLywgZGF0YUNvZGV3b3JkcyAvKmludCovKSB7CgkgICAgICAgIHRoaXMuY291bnQgPSBjb3VudDsKCSAgICAgICAgdGhpcy5kYXRhQ29kZXdvcmRzID0gZGF0YUNvZGV3b3JkczsKCSAgICB9CgkgICAgRUNCLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7CgkgICAgfTsKCSAgICBFQ0IucHJvdG90eXBlLmdldERhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICByZXR1cm4gRUNCOwoJfSgpKTsKCUVDQiQxLmRlZmF1bHQgPSBFQ0I7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX3ZhbHVlcyQ0ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlcnNpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBCaXRNYXRyaXhfMSQzID0gQml0TWF0cml4JDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSQxID0gRm9ybWF0SW5mb3JtYXRpb24kMTsKCXZhciBFQ0Jsb2Nrc18xID0gRUNCbG9ja3MkMTsKCXZhciBFQ0JfMSA9IEVDQiQxOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDIgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQyID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIFNlZSBJU08gMTgwMDQ6MjAwNiBBbm5leCBECgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFZlcnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gVmVyc2lvbih2ZXJzaW9uTnVtYmVyIC8qaW50Ki8sIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmVyc2lvbk51bWJlciA9IHZlcnNpb25OdW1iZXI7CgkgICAgICAgIHRoaXMuYWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczsKCSAgICAgICAgdGhpcy5lY0Jsb2NrcyA9IGVjQmxvY2tzOwoJICAgICAgICB2YXIgdG90YWwgPSAwOwoJICAgICAgICB2YXIgZWNDb2Rld29yZHMgPSBlY0Jsb2Nrc1swXS5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIHZhciBlY2JBcnJheSA9IGVjQmxvY2tzWzBdLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY2JBcnJheV8xID0gX192YWx1ZXMkNChlY2JBcnJheSksIGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpOyAhZWNiQXJyYXlfMV8xLmRvbmU7IGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVjQmxvY2sgPSBlY2JBcnJheV8xXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdG90YWwgKz0gZWNCbG9jay5nZXRDb3VudCgpICogKGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpICsgZWNDb2Rld29yZHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoZWNiQXJyYXlfMV8xICYmICFlY2JBcnJheV8xXzEuZG9uZSAmJiAoX2EgPSBlY2JBcnJheV8xLnJldHVybikpIF9hLmNhbGwoZWNiQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy50b3RhbENvZGV3b3JkcyA9IHRvdGFsOwoJICAgIH0KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5nZXRWZXJzaW9uTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0VG90YWxDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRvdGFsQ29kZXdvcmRzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDE3ICsgNCAqIHRoaXMudmVyc2lvbk51bWJlcjsKCSAgICB9OwoJICAgIFZlcnNpb24ucHJvdG90eXBlLmdldEVDQmxvY2tzRm9yTGV2ZWwgPSBmdW5jdGlvbiAoZWNMZXZlbCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0Jsb2Nrc1tlY0xldmVsLmdldFZhbHVlKCldOwoJICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogb3JpZ2luYWwgd2FzIHVzaW5nIG9yZGluYWwsIGFuZCB1c2luZyB0aGUgb3JkZXIgb2YgbGV2ZWxzIGFzIGRlZmluZWQgaW4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwgZW51bSAoTE1RSCkKCSAgICAgICAgLy8gSSB3aWxsIHVzZSB0aGUgZGlyZWN0IHZhbHVlIGZyb20gRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMgZW51bSB3aGljaCBpbiB0eXBlc2NyaXB0IGdvZXMgdG8gYSBudW1iZXIKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkRlZHVjZXMgdmVyc2lvbiBpbmZvcm1hdGlvbiBwdXJlbHkgZnJvbSBRUiBDb2RlIGRpbWVuc2lvbnMuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gaW4gbW9kdWxlcwoJICAgICAqIEByZXR1cm4gVmVyc2lvbiBmb3IgYSBRUiBDb2RlIG9mIHRoYXQgZGltZW5zaW9uCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCAxIG1vZCA0CgkgICAgICovCgkgICAgVmVyc2lvbi5nZXRQcm92aXNpb25hbFZlcnNpb25Gb3JEaW1lbnNpb24gPSBmdW5jdGlvbiAoZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiAlIDQgIT09IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVyc2lvbkZvck51bWJlcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlciA9IGZ1bmN0aW9uICh2ZXJzaW9uTnVtYmVyIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPCAxIHx8IHZlcnNpb25OdW1iZXIgPiA0MCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDIuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBWZXJzaW9uLlZFUlNJT05TW3ZlcnNpb25OdW1iZXIgLSAxXTsKCSAgICB9OwoJICAgIFZlcnNpb24uZGVjb2RlVmVyc2lvbkluZm9ybWF0aW9uID0gZnVuY3Rpb24gKHZlcnNpb25CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGJlc3REaWZmZXJlbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHZhciBiZXN0VmVyc2lvbiA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVmVyc2lvbi5WRVJTSU9OX0RFQ09ERV9JTkZPLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgdGFyZ2V0VmVyc2lvbiA9IFZlcnNpb24uVkVSU0lPTl9ERUNPREVfSU5GT1tpXTsKCSAgICAgICAgICAgIC8vIERvIHRoZSB2ZXJzaW9uIGluZm8gYml0cyBtYXRjaCBleGFjdGx5PyBkb25lLgoJICAgICAgICAgICAgaWYgKHRhcmdldFZlcnNpb24gPT09IHZlcnNpb25CaXRzKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlcihpICsgNyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBPdGhlcndpc2Ugc2VlIGlmIHRoaXMgaXMgdGhlIGNsb3Nlc3QgdG8gYSByZWFsIHZlcnNpb24gaW5mbyBiaXQgc3RyaW5nCgkgICAgICAgICAgICAvLyB3ZSBoYXZlIHNlZW4gc28gZmFyCgkgICAgICAgICAgICB2YXIgYml0c0RpZmZlcmVuY2UgPSBGb3JtYXRJbmZvcm1hdGlvbl8xJDEuZGVmYXVsdC5udW1CaXRzRGlmZmVyaW5nKHZlcnNpb25CaXRzLCB0YXJnZXRWZXJzaW9uKTsKCSAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgYmVzdFZlcnNpb24gPSBpICsgNzsKCSAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFdlIGNhbiB0b2xlcmF0ZSB1cCB0byAzIGJpdHMgb2YgZXJyb3Igc2luY2Ugbm8gdHdvIHZlcnNpb24gaW5mbyBjb2Rld29yZHMgd2lsbAoJICAgICAgICAvLyBkaWZmZXIgaW4gbGVzcyB0aGFuIDggYml0cy4KCSAgICAgICAgaWYgKGJlc3REaWZmZXJlbmNlIDw9IDMpIHsKCSAgICAgICAgICAgIHJldHVybiBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIoYmVzdFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIGEgY2xvc2UgZW5vdWdoIG1hdGNoLCBmYWlsCgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIElTTyAxODAwNDoyMDA2IEFubmV4IEUKCSAgICAgKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5idWlsZEZ1bmN0aW9uUGF0dGVybiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpOwoJICAgICAgICB2YXIgYml0TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDMuZGVmYXVsdChkaW1lbnNpb24pOwoJICAgICAgICAvLyBUb3AgbGVmdCBmaW5kZXIgcGF0dGVybiArIHNlcGFyYXRvciArIGZvcm1hdAoJICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKDAsIDAsIDksIDkpOwoJICAgICAgICAvLyBUb3AgcmlnaHQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbihkaW1lbnNpb24gLSA4LCAwLCA4LCA5KTsKCSAgICAgICAgLy8gQm90dG9tIGxlZnQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSA4LCA5LCA4KTsKCSAgICAgICAgLy8gQWxpZ25tZW50IHBhdHRlcm5zCgkgICAgICAgIHZhciBtYXggPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHgrKykgewoJICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzW3hdIC0gMjsKCSAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbWF4OyB5KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoKHggPT09IDAgJiYgKHkgPT09IDAgfHwgeSA9PT0gbWF4IC0gMSkpIHx8ICh4ID09PSBtYXggLSAxICYmIHkgPT09IDApKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE5vIGFsaWdubWVudCBwYXR0ZXJucyBuZWFyIHRoZSB0aHJlZSBmaW5kZXIgcGF0dGVybnMKCSAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24odGhpcy5hbGlnbm1lbnRQYXR0ZXJuQ2VudGVyc1t5XSAtIDIsIGksIDUsIDUpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFZlcnRpY2FsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oNiwgOSwgMSwgZGltZW5zaW9uIC0gMTcpOwoJICAgICAgICAvLyBIb3Jpem9udGFsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oOSwgNiwgZGltZW5zaW9uIC0gMTcsIDEpOwoJICAgICAgICBpZiAodGhpcy52ZXJzaW9uTnVtYmVyID4gNikgewoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCB0b3AgcmlnaHQKCSAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oZGltZW5zaW9uIC0gMTEsIDAsIDMsIDYpOwoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCBib3R0b20gbGVmdAoJICAgICAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSAxMSwgNiwgMyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICcnICsgdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgQW5uZXggRC4KCSAgICAgICAqIEVsZW1lbnQgaSByZXByZXNlbnRzIHRoZSByYXcgdmVyc2lvbiBiaXRzIHRoYXQgc3BlY2lmeSB2ZXJzaW9uIGkgKyA3CgkgICAgICAgKi8KCSAgICBWZXJzaW9uLlZFUlNJT05fREVDT0RFX0lORk8gPSBJbnQzMkFycmF5LmZyb20oWwoJICAgICAgICAweDA3Qzk0LCAweDA4NUJDLCAweDA5QTk5LCAweDBBNEQzLCAweDBCQkY2LAoJICAgICAgICAweDBDNzYyLCAweDBEODQ3LCAweDBFNjBELCAweDBGOTI4LCAweDEwQjc4LAoJICAgICAgICAweDExNDVELCAweDEyQTE3LCAweDEzNTMyLCAweDE0OUE2LCAweDE1NjgzLAoJICAgICAgICAweDE2OEM5LCAweDE3N0VDLCAweDE4RUM0LCAweDE5MUUxLCAweDFBRkFCLAoJICAgICAgICAweDFCMDhFLCAweDFDQzFBLCAweDFEMzNGLCAweDFFRDc1LCAweDFGMjUwLAoJICAgICAgICAweDIwOUQ1LCAweDIxNkYwLCAweDIyOEJBLCAweDIzNzlGLCAweDI0QjBCLAoJICAgICAgICAweDI1NDJFLCAweDI2QTY0LCAweDI3NTQxLCAweDI4QzY5CgkgICAgXSk7CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgNi41LjEgVGFibGUgOQoJICAgICAgICovCgkgICAgVmVyc2lvbi5WRVJTSU9OUyA9IFsKCSAgICAgICAgbmV3IFZlcnNpb24oMSwgbmV3IEludDMyQXJyYXkoMCksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOSkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMiwgSW50MzJBcnJheS5mcm9tKFs2LCAxOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDEwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMywgSW50MzJBcnJheS5mcm9tKFs2LCAyMl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE1LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1NSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA4MCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA5KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCA0MykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTIpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDYsIEludDMyQXJyYXkuZnJvbShbNiwgMzRdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDcsIEludDMyQXJyYXkuZnJvbShbNiwgMjIsIDM4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDc4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDMxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNCkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNCwgNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMzgpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzOSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxOCksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE5KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDksIEludDMyQXJyYXkuZnJvbShbNiwgMjYsIDQ2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAzNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDM3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTAsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDUwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDY4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxOSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDIwKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDExLCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA4MSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDUxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTIsIEludDMyQXJyYXkuZnJvbShbNiwgMzIsIDU4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDkyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMzYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDEzLCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2Ml0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMzcpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDEyLCAxMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDYsIDY2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA0MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDQxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDE3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNSwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDgsIDcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDg3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgODgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgNDEpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNiwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDk4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0NikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTkpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyMCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTcsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxMDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE4LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NiwgODJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIwKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDQzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxOSwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE5LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1OCwgODZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTE0KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDQ0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDQ1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDE3LCAyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDE0KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMCwgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjIsIDkwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDEwNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0MSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIxLCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1MCwgNzIsIDk0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDIpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIyLCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzQsIDk4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDExMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMywgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIxKSwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI0LCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1NCwgODAsIDEwNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTcpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMwLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE3KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyNSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMTA2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTA3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMjYsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzMsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI3LCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2MiwgOTAsIDExOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0LCA5OCwgMTIyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDIsIDEyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTYpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjEsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgzNywgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTIsIDc4LCAxMDQsIDEzMF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCA0NyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjMsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjUsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTYsIDgyLCAxMDgsIDEzNF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxMywgMTE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQyLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDI4LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzIsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYwLCA4NiwgMTEyLCAxMzhdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzUsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDM1LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzMsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzQsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgMTE4LCAxNDZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNDQsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2LCAxNTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDEyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMiwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgNDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzYsIEludDMyQXJyYXkuZnJvbShbNiwgMjQsIDUwLCA3NiwgMTAyLCAxMjgsIDE1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMjEpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDY0LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzcsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDU0LCA4MCwgMTA2LCAxMzIsIDE1OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIzKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDI5LCA0NiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCA0NykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0OSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjQsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNDYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzOCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTAsIDEzNiwgMTYyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE4LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzIsIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ4LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM5LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1NCwgODIsIDExMCwgMTM4LCAxNjZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjAsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCg0MCwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNjcsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig0MCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAxMTQsIDE0MiwgMTcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxMTgpLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyMCwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCg2MSwgMTYpKSkKCSAgICBdOwoJICAgIHJldHVybiBWZXJzaW9uOwoJfSgpKTsKCVZlcnNpb24kMS5kZWZhdWx0ID0gVmVyc2lvbjsKCgl2YXIgRGF0YU1hc2sgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5EYXRhTWFza1ZhbHVlcyA9IHZvaWQgMDsKCXZhciBEYXRhTWFza1ZhbHVlczsKCShmdW5jdGlvbiAoRGF0YU1hc2tWYWx1ZXMpIHsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAwMCJdID0gMF0gPSAiREFUQV9NQVNLXzAwMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18wMDEiXSA9IDFdID0gIkRBVEFfTUFTS18wMDEiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMDEwIl0gPSAyXSA9ICJEQVRBX01BU0tfMDEwIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAxMSJdID0gM10gPSAiREFUQV9NQVNLXzAxMSI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMDAiXSA9IDRdID0gIkRBVEFfTUFTS18xMDAiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMTAxIl0gPSA1XSA9ICJEQVRBX01BU0tfMTAxIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzExMCJdID0gNl0gPSAiREFUQV9NQVNLXzExMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMTEiXSA9IDddID0gIkRBVEFfTUFTS18xMTEiOwoJfSkoRGF0YU1hc2tWYWx1ZXMgPSBleHBvcnRzLkRhdGFNYXNrVmFsdWVzIHx8IChleHBvcnRzLkRhdGFNYXNrVmFsdWVzID0ge30pKTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGRhdGEgbWFza3MgZm9yIHRoZSBkYXRhIGJpdHMgaW4gYSBRUiBjb2RlLCBwZXIgSVNPIDE4MDA0OjIwMDYgNi44LiBJbXBsZW1lbnRhdGlvbnMKCSAqIG9mIHRoaXMgY2xhc3MgY2FuIHVuLW1hc2sgYSByYXcgQml0TWF0cml4LiBGb3Igc2ltcGxpY2l0eSwgdGhleSB3aWxsIHVubWFzayB0aGUgZW50aXJlIEJpdE1hdHJpeCwKCSAqIGluY2x1ZGluZyBhcmVhcyB1c2VkIGZvciBmaW5kZXIgcGF0dGVybnMsIHRpbWluZyBwYXR0ZXJucywgZXRjLiBUaGVzZSBhcmVhcyBzaG91bGQgYmUgdW51c2VkCgkgKiBhZnRlciB0aGUgcG9pbnQgdGhleSBhcmUgdW5tYXNrZWQgYW55d2F5LjwvcD4KCSAqCgkgKiA8cD5Ob3RlIHRoYXQgdGhlIGRpYWdyYW0gaW4gc2VjdGlvbiA2LjguMSBpcyBtaXNsZWFkaW5nIHNpbmNlIGl0IGluZGljYXRlcyB0aGF0IGkgaXMgY29sdW1uIHBvc2l0aW9uCgkgKiBhbmQgaiBpcyByb3cgcG9zaXRpb24uIEluIGZhY3QsIGFzIHRoZSB0ZXh0IHNheXMsIGkgaXMgcm93IHBvc2l0aW9uIGFuZCBqIGlzIGNvbHVtbiBwb3NpdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFNYXNrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIFNlZSBJU08gMTgwMDQ6MjAwNiA2LjguMQoJICAgIGZ1bmN0aW9uIERhdGFNYXNrKHZhbHVlLCBpc01hc2tlZCkgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuaXNNYXNrZWQgPSBpc01hc2tlZDsKCSAgICB9CgkgICAgLy8gRW5kIG9mIGVudW0gY29uc3RhbnRzLgoJICAgIC8qKgoJICAgICAqIDxwPkltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCByZXZlcnNlIHRoZSBkYXRhIG1hc2tpbmcgcHJvY2VzcyBhcHBsaWVkIHRvIGEgUVIgQ29kZSBhbmQKCSAgICAgKiBtYWtlIGl0cyBiaXRzIHJlYWR5IHRvIHJlYWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGJpdHMgcmVwcmVzZW50YXRpb24gb2YgUVIgQ29kZSBiaXRzCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gb2YgUVIgQ29kZSwgcmVwcmVzZW50ZWQgYnkgYml0cywgYmVpbmcgdW5tYXNrZWQKCSAgICAgKi8KCSAgICBEYXRhTWFzay5wcm90b3R5cGUudW5tYXNrQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGRpbWVuc2lvbiAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGltZW5zaW9uOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01hc2tlZChpLCBqKSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLmZsaXAoaiwgaSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBEYXRhTWFzay52YWx1ZXMgPSBuZXcgTWFwKFsKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDAwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeCArIHkpIG1vZCAyID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDAwLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMCwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoKGkgKyBqKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeCBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMDEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgJiAweDAxKSA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMDEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoIHkgbW9kIDMgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuIGogJSAzID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKHggKyB5KSBtb2QgMyA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAxMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgKyBqKSAlIDMgPT09IDA7IH0pXSwKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDEwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeC8yICsgeS8zKSBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMCwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMDAsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKChNYXRoLmZsb29yKGkgLyAyKSArIE1hdGguZmxvb3IoaiAvIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeHkgbW9kIDIgKyB4eSBtb2QgMyA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2ID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTAxLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMSwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoaSAqIGopICUgNiA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMTEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoICh4eSBtb2QgMiArIHh5IG1vZCAzKSBtb2QgMiA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2IDwgMwoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSAqIGopICUgNikgPCAzOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKCh4K3kpbW9kIDIgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKiBlcXVpdmFsZW50bHksIHN1Y2ggdGhhdCAoeCArIHkgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTEsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTExLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSArIGogKyAoKGkgKiBqKSAlIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgXSk7CgkgICAgcmV0dXJuIERhdGFNYXNrOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IERhdGFNYXNrOwoKCX0oRGF0YU1hc2spKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdE1hdHJpeFBhcnNlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgVmVyc2lvbl8xJDEgPSBWZXJzaW9uJDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSA9IEZvcm1hdEluZm9ybWF0aW9uJDE7Cgl2YXIgRGF0YU1hc2tfMSA9IERhdGFNYXNrOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCS8qKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJpdE1hdHJpeFBhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYml0TWF0cml4IHtAbGluayBCaXRNYXRyaXh9IHRvIHBhcnNlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCA+PSAyMSBhbmQgMSBtb2QgNAoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeFBhcnNlcihiaXRNYXRyaXgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IGJpdE1hdHJpeC5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiA8IDIxIHx8IChkaW1lbnNpb24gJiAweDAzKSAhPT0gMSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0TWF0cml4ID0gYml0TWF0cml4OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5SZWFkcyBmb3JtYXQgaW5mb3JtYXRpb24gZnJvbSBvbmUgb2YgaXRzIHR3byBsb2NhdGlvbnMgd2l0aGluIHRoZSBRUiBDb2RlLjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEZvcm1hdEluZm9ybWF0aW9ufSBlbmNhcHN1bGF0aW5nIHRoZSBRUiBDb2RlJ3MgZm9ybWF0IGluZm8KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIGZvcm1hdCBpbmZvcm1hdGlvbiBsb2NhdGlvbnMgY2Fubm90IGJlIHBhcnNlZCBhcwoJICAgICAqIHRoZSB2YWxpZCBlbmNvZGluZyBvZiBmb3JtYXQgaW5mb3JtYXRpb24KCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRGb3JtYXRJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgaWYgKHRoaXMucGFyc2VkRm9ybWF0SW5mbyAhPT0gbnVsbCAmJiB0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VkRm9ybWF0SW5mbzsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRvcC1sZWZ0IGZvcm1hdCBpbmZvIGJpdHMKCSAgICAgICAgdmFyIGZvcm1hdEluZm9CaXRzMSA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoaSwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyAuLiBhbmQgc2tpcCBhIGJpdCBpbiB0aGUgdGltaW5nIHBhdHRlcm4gLi4uCgkgICAgICAgIGZvcm1hdEluZm9CaXRzMSA9IHRoaXMuY29weUJpdCg3LCA4LCBmb3JtYXRJbmZvQml0czEpOwoJICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgZm9ybWF0SW5mb0JpdHMxID0gdGhpcy5jb3B5Qml0KDgsIDcsIGZvcm1hdEluZm9CaXRzMSk7CgkgICAgICAgIC8vIC4uIGFuZCBza2lwIGEgYml0IGluIHRoZSB0aW1pbmcgcGF0dGVybiAuLi4KCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgaiwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRoZSB0b3AtcmlnaHQvYm90dG9tLWxlZnQgcGF0dGVybiB0b28KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgZm9ybWF0SW5mb0JpdHMyID0gMDsKCSAgICAgICAgdmFyIGpNaW4gPSBkaW1lbnNpb24gLSA3OwoJICAgICAgICBmb3IgKHZhciBqID0gZGltZW5zaW9uIC0gMTsgaiA+PSBqTWluOyBqLS0pIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdCg4LCBqLCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIGZvciAodmFyIGkgPSBkaW1lbnNpb24gLSA4OyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdChpLCA4LCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uXzEuZGVmYXVsdC5kZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihmb3JtYXRJbmZvQml0czEsIGZvcm1hdEluZm9CaXRzMik7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZEZvcm1hdEluZm87CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+UmVhZHMgdmVyc2lvbiBpbmZvcm1hdGlvbiBmcm9tIG9uZSBvZiBpdHMgdHdvIGxvY2F0aW9ucyB3aXRoaW4gdGhlIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgVmVyc2lvbn0gZW5jYXBzdWxhdGluZyB0aGUgUVIgQ29kZSdzIHZlcnNpb24KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIHZlcnNpb24gaW5mb3JtYXRpb24gbG9jYXRpb25zIGNhbm5vdCBiZSBwYXJzZWQgYXMKCSAgICAgKiB0aGUgdmFsaWQgZW5jb2Rpbmcgb2YgdmVyc2lvbiBpbmZvcm1hdGlvbgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUucmVhZFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZFZlcnNpb24gIT09IG51bGwgJiYgdGhpcy5wYXJzZWRWZXJzaW9uICE9PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgcHJvdmlzaW9uYWxWZXJzaW9uID0gTWF0aC5mbG9vcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24gPD0gNikgewoJICAgICAgICAgICAgcmV0dXJuIFZlcnNpb25fMSQxLmRlZmF1bHQuZ2V0VmVyc2lvbkZvck51bWJlcihwcm92aXNpb25hbFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJlYWQgdG9wLXJpZ2h0IHZlcnNpb24gaW5mbzogMyB3aWRlIGJ5IDYgdGFsbAoJICAgICAgICB2YXIgdmVyc2lvbkJpdHMgPSAwOwoJICAgICAgICB2YXIgaWpNaW4gPSBkaW1lbnNpb24gLSAxMTsKCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gZGltZW5zaW9uIC0gOTsgaSA+PSBpak1pbjsgaS0tKSB7CgkgICAgICAgICAgICAgICAgdmVyc2lvbkJpdHMgPSB0aGlzLmNvcHlCaXQoaSwgaiwgdmVyc2lvbkJpdHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBmYWlsZWQuIFRyeSBib3R0b20gbGVmdDogNiB3aWRlIGJ5IDMgdGFsbAoJICAgICAgICB2ZXJzaW9uQml0cyA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSA1OyBpID49IDA7IGktLSkgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDk7IGogPj0gaWpNaW47IGotLSkgewoJICAgICAgICAgICAgICAgIHZlcnNpb25CaXRzID0gdGhpcy5jb3B5Qml0KGksIGosIHZlcnNpb25CaXRzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5jb3B5Qml0ID0gZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovLCB2ZXJzaW9uQml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBiaXQgPSB0aGlzLmlzTWlycm9yID8gdGhpcy5iaXRNYXRyaXguZ2V0KGosIGkpIDogdGhpcy5iaXRNYXRyaXguZ2V0KGksIGopOwoJICAgICAgICByZXR1cm4gYml0ID8gKHZlcnNpb25CaXRzIDw8IDEpIHwgMHgxIDogdmVyc2lvbkJpdHMgPDwgMTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlJlYWRzIHRoZSBiaXRzIGluIHRoZSB7QGxpbmsgQml0TWF0cml4fSByZXByZXNlbnRpbmcgdGhlIGZpbmRlciBwYXR0ZXJuIGluIHRoZQoJICAgICAqIGNvcnJlY3Qgb3JkZXIgaW4gb3JkZXIgdG8gcmVjb25zdHJ1Y3QgdGhlIGNvZGV3b3JkcyBieXRlcyBjb250YWluZWQgd2l0aGluIHRoZQoJICAgICAqIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBleGFjdCBudW1iZXIgb2YgYnl0ZXMgZXhwZWN0ZWQgaXMgbm90IHJlYWQKCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBmb3JtYXRJbmZvID0gdGhpcy5yZWFkRm9ybWF0SW5mb3JtYXRpb24oKTsKCSAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLnJlYWRWZXJzaW9uKCk7CgkgICAgICAgIC8vIEdldCB0aGUgZGF0YSBtYXNrIGZvciB0aGUgZm9ybWF0IHVzZWQgaW4gdGhpcyBRUiBDb2RlLiBUaGlzIHdpbGwgZXhjbHVkZQoJICAgICAgICAvLyBzb21lIGJpdHMgZnJvbSByZWFkaW5nIGFzIHdlIHdpbmQgdGhyb3VnaCB0aGUgYml0IG1hdHJpeC4KCSAgICAgICAgdmFyIGRhdGFNYXNrID0gRGF0YU1hc2tfMS5kZWZhdWx0LnZhbHVlcy5nZXQoZm9ybWF0SW5mby5nZXREYXRhTWFzaygpKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICBkYXRhTWFzay51bm1hc2tCaXRNYXRyaXgodGhpcy5iaXRNYXRyaXgsIGRpbWVuc2lvbik7CgkgICAgICAgIHZhciBmdW5jdGlvblBhdHRlcm4gPSB2ZXJzaW9uLmJ1aWxkRnVuY3Rpb25QYXR0ZXJuKCk7CgkgICAgICAgIHZhciByZWFkaW5nVXAgPSB0cnVlOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkodmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKTsKCSAgICAgICAgdmFyIHJlc3VsdE9mZnNldCA9IDA7CgkgICAgICAgIHZhciBjdXJyZW50Qnl0ZSA9IDA7CgkgICAgICAgIHZhciBiaXRzUmVhZCA9IDA7CgkgICAgICAgIC8vIFJlYWQgY29sdW1ucyBpbiBwYWlycywgZnJvbSByaWdodCB0byBsZWZ0CgkgICAgICAgIGZvciAodmFyIGogPSBkaW1lbnNpb24gLSAxOyBqID4gMDsgaiAtPSAyKSB7CgkgICAgICAgICAgICBpZiAoaiA9PT0gNikgewoJICAgICAgICAgICAgICAgIC8vIFNraXAgd2hvbGUgY29sdW1uIHdpdGggdmVydGljYWwgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgICAgICAgICAgICAvLyBzYXZlcyB0aW1lIGFuZCBtYWtlcyB0aGUgb3RoZXIgY29kZSBwcm9jZWVkIG1vcmUgY2xlYW5seQoJICAgICAgICAgICAgICAgIGotLTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIFJlYWQgYWx0ZXJuYXRpbmdseSBmcm9tIGJvdHRvbSB0byB0b3AgdGhlbiB0b3AgdG8gYm90dG9tCgkgICAgICAgICAgICBmb3IgKHZhciBjb3VudCA9IDA7IGNvdW50IDwgZGltZW5zaW9uOyBjb3VudCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGkgPSByZWFkaW5nVXAgPyBkaW1lbnNpb24gLSAxIC0gY291bnQgOiBjb3VudDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCAyOyBjb2wrKykgewoJICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgYml0cyBjb3ZlcmVkIGJ5IHRoZSBmdW5jdGlvbiBwYXR0ZXJuCgkgICAgICAgICAgICAgICAgICAgIGlmICghZnVuY3Rpb25QYXR0ZXJuLmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBhIGJpdAoJICAgICAgICAgICAgICAgICAgICAgICAgYml0c1JlYWQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0TWF0cml4LmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSBtYWRlIGEgd2hvbGUgYnl0ZSwgc2F2ZSBpdCBvZmYKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzUmVhZCA9PT0gOCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRPZmZzZXQrK10gPSAvKihieXRlKSAqLyBjdXJyZW50Qnl0ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXRzUmVhZCA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJ5dGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVhZGluZ1VwID0gIXJlYWRpbmdVcDsgLy8gcmVhZGluZ1VwIF49IHRydWU7IC8vIHJlYWRpbmdVcCA9ICFyZWFkaW5nVXA7IC8vIHN3aXRjaCBkaXJlY3Rpb25zCgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJlc3VsdE9mZnNldCAhPT0gdmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldmVydCB0aGUgbWFzayByZW1vdmFsIGRvbmUgd2hpbGUgcmVhZGluZyB0aGUgY29kZSB3b3Jkcy4gVGhlIGJpdCBtYXRyaXggc2hvdWxkIHJldmVydCB0byBpdHMgb3JpZ2luYWwgc3RhdGUuCgkgICAgICovCgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5yZW1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybjsgLy8gV2UgaGF2ZSBubyBmb3JtYXQgaW5mb3JtYXRpb24sIGFuZCBoYXZlIG5vIGRhdGEgbWFzawoJICAgICAgICB9CgkgICAgICAgIHZhciBkYXRhTWFzayA9IERhdGFNYXNrXzEuZGVmYXVsdC52YWx1ZXNbdGhpcy5wYXJzZWRGb3JtYXRJbmZvLmdldERhdGFNYXNrKCldOwoJICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5iaXRNYXRyaXguZ2V0SGVpZ2h0KCk7CgkgICAgICAgIGRhdGFNYXNrLnVubWFza0JpdE1hdHJpeCh0aGlzLmJpdE1hdHJpeCwgZGltZW5zaW9uKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFByZXBhcmUgdGhlIHBhcnNlciBmb3IgYSBtaXJyb3JlZCBvcGVyYXRpb24uCgkgICAgICogVGhpcyBmbGFnIGhhcyBlZmZlY3Qgb25seSBvbiB0aGUge0BsaW5rICNyZWFkRm9ybWF0SW5mb3JtYXRpb24oKX0gYW5kIHRoZQoJICAgICAqIHtAbGluayAjcmVhZFZlcnNpb24oKX0uIEJlZm9yZSBwcm9jZWVkaW5nIHdpdGgge0BsaW5rICNyZWFkQ29kZXdvcmRzKCl9IHRoZQoJICAgICAqIHtAbGluayAjbWlycm9yKCl9IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkLgoJICAgICAqCgkgICAgICogQHBhcmFtIG1pcnJvciBXaGV0aGVyIHRvIHJlYWQgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm9ybWF0aW9uIG1pcnJvcmVkLgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUuc2V0TWlycm9yID0gZnVuY3Rpb24gKGlzTWlycm9yKSB7CgkgICAgICAgIHRoaXMucGFyc2VkVmVyc2lvbiA9IG51bGw7CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IG51bGw7CgkgICAgICAgIHRoaXMuaXNNaXJyb3IgPSBpc01pcnJvcjsKCSAgICB9OwoJICAgIC8qKiBNaXJyb3IgdGhlIGJpdCBtYXRyaXggaW4gb3JkZXIgdG8gYXR0ZW1wdCBhIHNlY29uZCByZWFkaW5nLiAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUubWlycm9yID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgYml0TWF0cml4ID0gdGhpcy5iaXRNYXRyaXg7CgkgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IGJpdE1hdHJpeC5nZXRXaWR0aCgpOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgeSA9IHggKyAxLCBoZWlnaHQgPSBiaXRNYXRyaXguZ2V0SGVpZ2h0KCk7IHkgPCBoZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgICAgIGlmIChiaXRNYXRyaXguZ2V0KHgsIHkpICE9PSBiaXRNYXRyaXguZ2V0KHksIHgpKSB7CgkgICAgICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5mbGlwKHksIHgpOwoJICAgICAgICAgICAgICAgICAgICBiaXRNYXRyaXguZmxpcCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXhQYXJzZXI7Cgl9KCkpOwoJQml0TWF0cml4UGFyc2VyJDEuZGVmYXVsdCA9IEJpdE1hdHJpeFBhcnNlcjsKCgl2YXIgRGF0YUJsb2NrJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0YUJsb2NrJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQxID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIGJsb2NrIG9mIGRhdGEgd2l0aGluIGEgUVIgQ29kZS4gUVIgQ29kZXMgbWF5IHNwbGl0IHRoZWlyIGRhdGEgaW50bwoJICogbXVsdGlwbGUgYmxvY2tzLCBlYWNoIG9mIHdoaWNoIGlzIGEgdW5pdCBvZiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3Jkcy4gRWFjaAoJICogaXMgcmVwcmVzZW50ZWQgYnkgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFCbG9jayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEYXRhQmxvY2sobnVtRGF0YUNvZGV3b3JkcyAvKmludCovLCBjb2Rld29yZHMpIHsKCSAgICAgICAgdGhpcy5udW1EYXRhQ29kZXdvcmRzID0gbnVtRGF0YUNvZGV3b3JkczsKCSAgICAgICAgdGhpcy5jb2Rld29yZHMgPSBjb2Rld29yZHM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIDxwPldoZW4gUVIgQ29kZXMgdXNlIG11bHRpcGxlIGRhdGEgYmxvY2tzLCB0aGV5IGFyZSBhY3R1YWxseSBpbnRlcmxlYXZlZC4KCSAgICAgKiBUaGF0IGlzLCB0aGUgZmlyc3QgYnl0ZSBvZiBkYXRhIGJsb2NrIDEgdG8gbiBpcyB3cml0dGVuLCB0aGVuIHRoZSBzZWNvbmQgYnl0ZXMsIGFuZCBzbyBvbi4gVGhpcwoJICAgICAqIG1ldGhvZCB3aWxsIHNlcGFyYXRlIHRoZSBkYXRhIGludG8gb3JpZ2luYWwgYmxvY2tzLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByYXdDb2Rld29yZHMgYnl0ZXMgYXMgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBRUiBDb2RlCgkgICAgICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBvZiB0aGUgUVIgQ29kZQoJICAgICAqIEBwYXJhbSBlY0xldmVsIGVycm9yLWNvcnJlY3Rpb24gbGV2ZWwgb2YgdGhlIFFSIENvZGUKCSAgICAgKiBAcmV0dXJuIERhdGFCbG9ja3MgY29udGFpbmluZyBvcmlnaW5hbCBieXRlcywgImRlLWludGVybGVhdmVkIiBmcm9tIHJlcHJlc2VudGF0aW9uIGluIHRoZQoJICAgICAqICAgICAgICAgUVIgQ29kZQoJICAgICAqLwoJICAgIERhdGFCbG9jay5nZXREYXRhQmxvY2tzID0gZnVuY3Rpb24gKHJhd0NvZGV3b3JkcywgdmVyc2lvbiwgZWNMZXZlbCkgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgaWYgKHJhd0NvZGV3b3Jkcy5sZW5ndGggIT09IHZlcnNpb24uZ2V0VG90YWxDb2Rld29yZHMoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIG51bWJlciBhbmQgc2l6ZSBvZiBkYXRhIGJsb2NrcyB1c2VkIGJ5IHRoaXMgdmVyc2lvbiBhbmQKCSAgICAgICAgLy8gZXJyb3IgY29ycmVjdGlvbiBsZXZlbAoJICAgICAgICB2YXIgZWNCbG9ja3MgPSB2ZXJzaW9uLmdldEVDQmxvY2tzRm9yTGV2ZWwoZWNMZXZlbCk7CgkgICAgICAgIC8vIEZpcnN0IGNvdW50IHRoZSB0b3RhbCBudW1iZXIgb2YgZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIHRvdGFsQmxvY2tzID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tBcnJheSA9IGVjQmxvY2tzLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY0Jsb2NrQXJyYXlfMSA9IF9fdmFsdWVzJDMoZWNCbG9ja0FycmF5KSwgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKTsgIWVjQmxvY2tBcnJheV8xXzEuZG9uZTsgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBlY0Jsb2NrID0gZWNCbG9ja0FycmF5XzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbEJsb2NrcyArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2NrQXJyYXlfMV8xICYmICFlY0Jsb2NrQXJyYXlfMV8xLmRvbmUgJiYgKF9hID0gZWNCbG9ja0FycmF5XzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2NrQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGVzdGFibGlzaCBEYXRhQmxvY2tzIG9mIHRoZSBhcHByb3ByaWF0ZSBzaXplIGFuZCBudW1iZXIgb2YgZGF0YSBjb2Rld29yZHMKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0b3RhbEJsb2Nrcyk7CgkgICAgICAgIHZhciBudW1SZXN1bHRCbG9ja3MgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZWNCbG9ja0FycmF5XzIgPSBfX3ZhbHVlcyQzKGVjQmxvY2tBcnJheSksIGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCk7ICFlY0Jsb2NrQXJyYXlfMl8xLmRvbmU7IGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tBcnJheV8yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlY0Jsb2NrLmdldENvdW50KCk7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRGF0YUNvZGV3b3JkcyA9IGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQmxvY2tDb2Rld29yZHMgPSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCkgKyBudW1EYXRhQ29kZXdvcmRzOwoJICAgICAgICAgICAgICAgICAgICByZXN1bHRbbnVtUmVzdWx0QmxvY2tzKytdID0gbmV3IERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzLCBuZXcgVWludDhBcnJheShudW1CbG9ja0NvZGV3b3JkcykpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGVjQmxvY2tBcnJheV8yXzEgJiYgIWVjQmxvY2tBcnJheV8yXzEuZG9uZSAmJiAoX2IgPSBlY0Jsb2NrQXJyYXlfMi5yZXR1cm4pKSBfYi5jYWxsKGVjQmxvY2tBcnJheV8yKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICAvLyBBbGwgYmxvY2tzIGhhdmUgdGhlIHNhbWUgYW1vdW50IG9mIGRhdGEsIGV4Y2VwdCB0aGF0IHRoZSBsYXN0IG4KCSAgICAgICAgLy8gKHdoZXJlIG4gbWF5IGJlIDApIGhhdmUgMSBtb3JlIGJ5dGUuIEZpZ3VyZSBvdXQgd2hlcmUgdGhlc2Ugc3RhcnQuCgkgICAgICAgIHZhciBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGxvbmdlckJsb2Nrc1N0YXJ0QXQgPSByZXN1bHQubGVuZ3RoIC0gMTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IGNoZWNrIGxlbmd0aCBpcyBjb3JyZWN0IGhlcmUKCSAgICAgICAgd2hpbGUgKGxvbmdlckJsb2Nrc1N0YXJ0QXQgPj0gMCkgewoJICAgICAgICAgICAgdmFyIG51bUNvZGV3b3JkcyA9IHJlc3VsdFtsb25nZXJCbG9ja3NTdGFydEF0XS5jb2Rld29yZHMubGVuZ3RoOwoJICAgICAgICAgICAgaWYgKG51bUNvZGV3b3JkcyA9PT0gc2hvcnRlckJsb2Nrc1RvdGFsQ29kZXdvcmRzKSB7CgkgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsb25nZXJCbG9ja3NTdGFydEF0LS07CgkgICAgICAgIH0KCSAgICAgICAgbG9uZ2VyQmxvY2tzU3RhcnRBdCsrOwoJICAgICAgICB2YXIgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHMgPSBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgLSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIC8vIFRoZSBsYXN0IGVsZW1lbnRzIG9mIHJlc3VsdCBtYXkgYmUgMSBlbGVtZW50IGxvbmdlcgoJICAgICAgICAvLyBmaXJzdCBmaWxsIG91dCBhcyBtYW55IGVsZW1lbnRzIGFzIGFsbCBvZiB0aGVtIGhhdmUKCSAgICAgICAgdmFyIHJhd0NvZGV3b3Jkc09mZnNldCA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1SZXN1bHRCbG9ja3M7IGorKykgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaV0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIEZpbGwgb3V0IHRoZSBsYXN0IGRhdGEgYmxvY2sgaW4gdGhlIGxvbmdlciBvbmVzCgkgICAgICAgIGZvciAodmFyIGogPSBsb25nZXJCbG9ja3NTdGFydEF0OyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHNdID0gcmF3Q29kZXdvcmRzW3Jhd0NvZGV3b3Jkc09mZnNldCsrXTsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cgYWRkIGluIGVycm9yIGNvcnJlY3Rpb24gYmxvY2tzCgkgICAgICAgIHZhciBtYXggPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IHNob3J0ZXJCbG9ja3NOdW1EYXRhQ29kZXdvcmRzOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgaU9mZnNldCA9IGogPCBsb25nZXJCbG9ja3NTdGFydEF0ID8gaSA6IGkgKyAxOwoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaU9mZnNldF0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldE51bURhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bURhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldENvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29kZXdvcmRzOwoJICAgIH07CgkgICAgcmV0dXJuIERhdGFCbG9jazsKCX0oKSk7CglEYXRhQmxvY2skMS5kZWZhdWx0ID0gRGF0YUJsb2NrOwoKCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEgPSB7fTsKCgl2YXIgQml0U291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdFNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbiB7Ki8KCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIHByb3ZpZGVzIGFuIGVhc3kgYWJzdHJhY3Rpb24gdG8gcmVhZCBiaXRzIGF0IGEgdGltZSBmcm9tIGEgc2VxdWVuY2Ugb2YgYnl0ZXMsIHdoZXJlIHRoZQoJICogbnVtYmVyIG9mIGJpdHMgcmVhZCBpcyBub3Qgb2Z0ZW4gYSBtdWx0aXBsZSBvZiA4LjwvcD4KCSAqCgkgKiA8cD5UaGlzIGNsYXNzIGlzIHRocmVhZC1zYWZlIGJ1dCBub3QgcmVlbnRyYW50IC0tIHVubGVzcyB0aGUgY2FsbGVyIG1vZGlmaWVzIHRoZSBieXRlcyBhcnJheQoJICogaXQgcGFzc2VkIGluLCBpbiB3aGljaCBjYXNlIGFsbCBiZXRzIGFyZSBvZmYuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBCaXRTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJ5dGVzIGJ5dGVzIGZyb20gd2hpY2ggdGhpcyB3aWxsIHJlYWQgYml0cy4gQml0cyB3aWxsIGJlIHJlYWQgZnJvbSB0aGUgZmlyc3QgYnl0ZSBmaXJzdC4KCSAgICAgKiBCaXRzIGFyZSByZWFkIHdpdGhpbiBhIGJ5dGUgZnJvbSBtb3N0LXNpZ25pZmljYW50IHRvIGxlYXN0LXNpZ25pZmljYW50IGJpdC4KCSAgICAgKi8KCSAgICBmdW5jdGlvbiBCaXRTb3VyY2UoYnl0ZXMpIHsKCSAgICAgICAgdGhpcy5ieXRlcyA9IGJ5dGVzOwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSAwOwoJICAgICAgICB0aGlzLmJpdE9mZnNldCA9IDA7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaW5kZXggb2YgbmV4dCBiaXQgaW4gY3VycmVudCBieXRlIHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qml0T2Zmc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRPZmZzZXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgYnl0ZSBpbiBpbnB1dCBieXRlIGFycmF5IHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qnl0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZU9mZnNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBudW1CaXRzIG51bWJlciBvZiBiaXRzIHRvIHJlYWQKCSAgICAgKiBAcmV0dXJuIGludCByZXByZXNlbnRpbmcgdGhlIGJpdHMgcmVhZC4gVGhlIGJpdHMgd2lsbCBhcHBlYXIgYXMgdGhlIGxlYXN0LXNpZ25pZmljYW50CgkgICAgICogICAgICAgICBiaXRzIG9mIHRoZSBpbnQKCSAgICAgKiBAdGhyb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBpZiBudW1CaXRzIGlzbid0IGluIFsxLDMyXSBvciBtb3JlIHRoYW4gaXMgYXZhaWxhYmxlCgkgICAgICovCgkgICAgQml0U291cmNlLnByb3RvdHlwZS5yZWFkQml0cyA9IGZ1bmN0aW9uIChudW1CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPCAxIHx8IG51bUJpdHMgPiAzMiB8fCBudW1CaXRzID4gdGhpcy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoJycgKyBudW1CaXRzKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVzdWx0ID0gMDsKCSAgICAgICAgdmFyIGJpdE9mZnNldCA9IHRoaXMuYml0T2Zmc2V0OwoJICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZU9mZnNldDsKCSAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5ieXRlczsKCSAgICAgICAgLy8gRmlyc3QsIHJlYWQgcmVtYWluZGVyIGZyb20gY3VycmVudCBieXRlCgkgICAgICAgIGlmIChiaXRPZmZzZXQgPiAwKSB7CgkgICAgICAgICAgICB2YXIgYml0c0xlZnQgPSA4IC0gYml0T2Zmc2V0OwoJICAgICAgICAgICAgdmFyIHRvUmVhZCA9IG51bUJpdHMgPCBiaXRzTGVmdCA/IG51bUJpdHMgOiBiaXRzTGVmdDsKCSAgICAgICAgICAgIHZhciBiaXRzVG9Ob3RSZWFkID0gYml0c0xlZnQgLSB0b1JlYWQ7CgkgICAgICAgICAgICB2YXIgbWFzayA9ICgweEZGID4+ICg4IC0gdG9SZWFkKSkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgIHJlc3VsdCA9IChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQ7CgkgICAgICAgICAgICBudW1CaXRzIC09IHRvUmVhZDsKCSAgICAgICAgICAgIGJpdE9mZnNldCArPSB0b1JlYWQ7CgkgICAgICAgICAgICBpZiAoYml0T2Zmc2V0ID09PSA4KSB7CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0ID0gMDsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTmV4dCByZWFkIHdob2xlIGJ5dGVzCgkgICAgICAgIGlmIChudW1CaXRzID4gMCkgewoJICAgICAgICAgICAgd2hpbGUgKG51bUJpdHMgPj0gOCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCA9IChyZXN1bHQgPDwgOCkgfCAoYnl0ZXNbYnl0ZU9mZnNldF0gJiAweEZGKTsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICAgICAgbnVtQml0cyAtPSA4OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gRmluYWxseSByZWFkIGEgcGFydGlhbCBieXRlCgkgICAgICAgICAgICBpZiAobnVtQml0cyA+IDApIHsKCSAgICAgICAgICAgICAgICB2YXIgYml0c1RvTm90UmVhZCA9IDggLSBudW1CaXRzOwoJICAgICAgICAgICAgICAgIHZhciBtYXNrID0gKDB4RkYgPj4gYml0c1RvTm90UmVhZCkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IG51bUJpdHMpIHwgKChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQpOwoJICAgICAgICAgICAgICAgIGJpdE9mZnNldCArPSBudW1CaXRzOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0T2Zmc2V0ID0gYml0T2Zmc2V0OwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSBieXRlT2Zmc2V0OwoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB0aGF0IGNhbiBiZSByZWFkIHN1Y2Nlc3NmdWxseQoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuYXZhaWxhYmxlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gOCAqICh0aGlzLmJ5dGVzLmxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldCkgLSB0aGlzLmJpdE9mZnNldDsKCSAgICB9OwoJICAgIHJldHVybiBCaXRTb3VyY2U7Cgl9KCkpOwoJQml0U291cmNlJDEuZGVmYXVsdCA9IEJpdFNvdXJjZTsKCgl2YXIgRGVjb2RlclJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVyUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBtYXRyaXggb2YgYml0cy4gVGhpcyB0eXBpY2FsbHkKCSAqIGFwcGxpZXMgdG8gMkQgYmFyY29kZSBmb3JtYXRzLiBGb3Igbm93IGl0IGNvbnRhaW5zIHRoZSByYXcgYnl0ZXMgb2J0YWluZWQsCgkgKiBhcyB3ZWxsIGFzIGEgU3RyaW5nIGludGVycHJldGF0aW9uIG9mIHRob3NlIGJ5dGVzLCBpZiBhcHBsaWNhYmxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlclJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocmF3Qnl0ZXM6IFVpbnQ4QXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIExpc3Q8VWludDhBcnJheT4gYnl0ZVNlZ21lbnRzLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBlY0xldmVsKSB7CgkgICAgLy8gICB0aGlzKHJhd0J5dGVzLCB0ZXh0LCBieXRlU2VnbWVudHMsIGVjTGV2ZWwsIC0xLCAtMSkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRGVjb2RlclJlc3VsdChyYXdCeXRlcywgdGV4dCwgYnl0ZVNlZ21lbnRzLCBlY0xldmVsLCBzdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIsIHN0cnVjdHVyZWRBcHBlbmRQYXJpdHkpIHsKCSAgICAgICAgaWYgKHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9PT0gdm9pZCAwKSB7IHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9IC0xOyB9CgkgICAgICAgIGlmIChzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID09PSB2b2lkIDApIHsgc3RydWN0dXJlZEFwcGVuZFBhcml0eSA9IC0xOyB9CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDsKCSAgICAgICAgdGhpcy5ieXRlU2VnbWVudHMgPSBieXRlU2VnbWVudHM7CgkgICAgICAgIHRoaXMuZWNMZXZlbCA9IGVjTGV2ZWw7CgkgICAgICAgIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyOwoJICAgICAgICB0aGlzLnN0cnVjdHVyZWRBcHBlbmRQYXJpdHkgPSBzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCB8fCByYXdCeXRlcyA9PT0gbnVsbCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiByYXcgYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQsIG9yIHtAY29kZSBudWxsfSBpZiBub3QgYXBwbGljYWJsZQoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldE51bUJpdHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bUJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gbnVtQml0cyBvdmVycmlkZXMgdGhlIG51bWJlciBvZiBiaXRzIHRoYXQgYXJlIHZhbGlkIGluIHtAbGluayAjZ2V0UmF3Qnl0ZXMoKX0KCSAgICAgKiBAc2luY2UgMy4zLjAKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXROdW1CaXRzID0gZnVuY3Rpb24gKG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLm51bUJpdHMgPSBudW1CaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSByZXN1bHQKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50ZXh0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBsaXN0IG9mIGJ5dGUgc2VnbWVudHMgaW4gdGhlIHJlc3VsdCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0Qnl0ZVNlZ21lbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5ieXRlU2VnbWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG5hbWUgb2YgZXJyb3IgY29ycmVjdGlvbiBsZXZlbCB1c2VkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFQ0xldmVsID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0xldmVsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJyb3JzIGNvcnJlY3RlZCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0RXJyb3JzQ29ycmVjdGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNDb3JyZWN0ZWQ7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcnJvcnNDb3JyZWN0ZWQgPSBmdW5jdGlvbiAoZXJyb3JzQ29ycmVjdGVkIC8qSW50ZWdlciovKSB7CgkgICAgICAgIHRoaXMuZXJyb3JzQ29ycmVjdGVkID0gZXJyb3JzQ29ycmVjdGVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJhc3VyZXMgY29ycmVjdGVkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFcmFzdXJlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJhc3VyZXM7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcmFzdXJlcyA9IGZ1bmN0aW9uIChlcmFzdXJlcyAvKkludGVnZXIqLykgewoJICAgICAgICB0aGlzLmVyYXN1cmVzID0gZXJhc3VyZXM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGFyYml0cmFyeSBhZGRpdGlvbmFsIG1ldGFkYXRhCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0T3RoZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuc2V0T3RoZXIgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdGhpcy5vdGhlciA9IG90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuaGFzU3RydWN0dXJlZEFwcGVuZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlZEFwcGVuZFBhcml0eSA+PSAwICYmIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID49IDA7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXI7CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlclJlc3VsdDsKCX0oKSk7CglEZWNvZGVyUmVzdWx0JDEuZGVmYXVsdCA9IERlY29kZXJSZXN1bHQ7CgoJdmFyIE1vZGUgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5Nb2RlVmFsdWVzID0gdm9pZCAwOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgTW9kZVZhbHVlczsKCShmdW5jdGlvbiAoTW9kZVZhbHVlcykgewoJICAgIE1vZGVWYWx1ZXNbTW9kZVZhbHVlc1siVEVSTUlOQVRPUiJdID0gMF0gPSAiVEVSTUlOQVRPUiI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJOVU1FUklDIl0gPSAxXSA9ICJOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkFMUEhBTlVNRVJJQyJdID0gMl0gPSAiQUxQSEFOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIlNUUlVDVFVSRURfQVBQRU5EIl0gPSAzXSA9ICJTVFJVQ1RVUkVEX0FQUEVORCI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJCWVRFIl0gPSA0XSA9ICJCWVRFIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkVDSSJdID0gNV0gPSAiRUNJIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIktBTkpJIl0gPSA2XSA9ICJLQU5KSSI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJGTkMxX0ZJUlNUX1BPU0lUSU9OIl0gPSA3XSA9ICJGTkMxX0ZJUlNUX1BPU0lUSU9OIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkZOQzFfU0VDT05EX1BPU0lUSU9OIl0gPSA4XSA9ICJGTkMxX1NFQ09ORF9QT1NJVElPTiI7CgkgICAgLyoqIFNlZSBHQlQgMTgyODQtMjAwMDsgIkhhbnppIiBpcyBhIHRyYW5zbGl0ZXJhdGlvbiBvZiB0aGlzIG1vZGUgbmFtZS4gKi8KCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkhBTlpJIl0gPSA5XSA9ICJIQU5aSSI7Cgl9KShNb2RlVmFsdWVzID0gZXhwb3J0cy5Nb2RlVmFsdWVzIHx8IChleHBvcnRzLk1vZGVWYWx1ZXMgPSB7fSkpOwoJLyoqCgkgKiA8cD5TZWUgSVNPIDE4MDA0OjIwMDYsIDYuNC4xLCBUYWJsZXMgMiBhbmQgMy4gVGhpcyBlbnVtIGVuY2Fwc3VsYXRlcyB0aGUgdmFyaW91cyBtb2RlcyBpbiB3aGljaAoJICogZGF0YSBjYW4gYmUgZW5jb2RlZCB0byBiaXRzIGluIHRoZSBRUiBjb2RlIHN0YW5kYXJkLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgTW9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBNb2RlKHZhbHVlLCBzdHJpbmdWYWx1ZSwgY2hhcmFjdGVyQ291bnRCaXRzRm9yVmVyc2lvbnMsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9ucyA9IGNoYXJhY3RlckNvdW50Qml0c0ZvclZlcnNpb25zOwoJICAgICAgICB0aGlzLmJpdHMgPSBiaXRzOwoJICAgICAgICBNb2RlLkZPUl9CSVRTLnNldChiaXRzLCB0aGlzKTsKCSAgICAgICAgTW9kZS5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgZm91ciBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSBkYXRhIG1vZGUKCSAgICAgKiBAcmV0dXJuIE1vZGUgZW5jb2RlZCBieSB0aGVzZSBiaXRzCgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYml0cyBkbyBub3QgY29ycmVzcG9uZCB0byBhIGtub3duIG1vZGUKCSAgICAgKi8KCSAgICBNb2RlLmZvckJpdHMgPSBmdW5jdGlvbiAoYml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBtb2RlID0gTW9kZS5GT1JfQklUUy5nZXQoYml0cyk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IG1vZGUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1vZGU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmVyc2lvbiB2ZXJzaW9uIGluIHF1ZXN0aW9uCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB1c2VkLCBpbiB0aGlzIFFSIENvZGUgc3ltYm9sIHtAbGluayBWZXJzaW9ufSwgdG8gZW5jb2RlIHRoZQoJICAgICAqICAgICAgICAgY291bnQgb2YgY2hhcmFjdGVycyB0aGF0IHdpbGwgZm9sbG93IGVuY29kZWQgaW4gdGhpcyBNb2RlCgkgICAgICovCgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyQ291bnRCaXRzID0gZnVuY3Rpb24gKHZlcnNpb24pIHsKCSAgICAgICAgdmFyIHZlcnNpb25OdW1iZXIgPSB2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKTsKCSAgICAgICAgdmFyIG9mZnNldDsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPD0gOSkgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmICh2ZXJzaW9uTnVtYmVyIDw9IDI2KSB7CgkgICAgICAgICAgICBvZmZzZXQgPSAxOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9uc1tvZmZzZXRdOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBNb2RlKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBvdGhlci52YWx1ZTsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIE1vZGUuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5GT1JfVkFMVUUgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5URVJNSU5BVE9SID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5URVJNSU5BVE9SLCAnVEVSTUlOQVRPUicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDAwKTsgLy8gTm90IHJlYWxseSBhIG1vZGUuLi4KCSAgICBNb2RlLk5VTUVSSUMgPSBuZXcgTW9kZShNb2RlVmFsdWVzLk5VTUVSSUMsICdOVU1FUklDJywgSW50MzJBcnJheS5mcm9tKFsxMCwgMTIsIDE0XSksIDB4MDEpOwoJICAgIE1vZGUuQUxQSEFOVU1FUklDID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5BTFBIQU5VTUVSSUMsICdBTFBIQU5VTUVSSUMnLCBJbnQzMkFycmF5LmZyb20oWzksIDExLCAxM10pLCAweDAyKTsKCSAgICBNb2RlLlNUUlVDVFVSRURfQVBQRU5EID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5TVFJVQ1RVUkVEX0FQUEVORCwgJ1NUUlVDVFVSRURfQVBQRU5EJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDMpOyAvLyBOb3Qgc3VwcG9ydGVkCgkgICAgTW9kZS5CWVRFID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5CWVRFLCAnQllURScsIEludDMyQXJyYXkuZnJvbShbOCwgMTYsIDE2XSksIDB4MDQpOwoJICAgIE1vZGUuRUNJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5FQ0ksICdFQ0knLCBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDBdKSwgMHgwNyk7IC8vIGNoYXJhY3RlciBjb3VudHMgZG9uJ3QgYXBwbHkKCSAgICBNb2RlLktBTkpJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5LQU5KSSwgJ0tBTkpJJywgSW50MzJBcnJheS5mcm9tKFs4LCAxMCwgMTJdKSwgMHgwOCk7CgkgICAgTW9kZS5GTkMxX0ZJUlNUX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX0ZJUlNUX1BPU0lUSU9OLCAnRk5DMV9GSVJTVF9QT1NJVElPTicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDA1KTsKCSAgICBNb2RlLkZOQzFfU0VDT05EX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX1NFQ09ORF9QT1NJVElPTiwgJ0ZOQzFfU0VDT05EX1BPU0lUSU9OJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDkpOwoJICAgIC8qKiBTZWUgR0JUIDE4Mjg0LTIwMDA7ICJIYW56aSIgaXMgYSB0cmFuc2xpdGVyYXRpb24gb2YgdGhpcyBtb2RlIG5hbWUuICovCgkgICAgTW9kZS5IQU5aSSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuSEFOWkksICdIQU5aSScsIEludDMyQXJyYXkuZnJvbShbOCwgMTAsIDEyXSksIDB4MEQpOwoJICAgIHJldHVybiBNb2RlOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IE1vZGU7CgoJfShNb2RlKSk7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmRlY29kZXIgeyovCgl2YXIgQml0U291cmNlXzEgPSBCaXRTb3VyY2UkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSA9IENoYXJhY3RlclNldEVDSTsKCXZhciBEZWNvZGVyUmVzdWx0XzEgPSBEZWNvZGVyUmVzdWx0JDE7Cgl2YXIgU3RyaW5nVXRpbHNfMSA9IFN0cmluZ1V0aWxzJDE7Cgl2YXIgRm9ybWF0RXhjZXB0aW9uXzEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBTdHJpbmdCdWlsZGVyXzEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgU3RyaW5nRW5jb2RpbmdfMSA9IFN0cmluZ0VuY29kaW5nJDE7Cgl2YXIgTW9kZV8xID0gTW9kZTsKCS8qaW1wb3J0IGphdmEuaW8uVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbjsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlFSIENvZGVzIGNhbiBlbmNvZGUgdGV4dCBhcyBiaXRzIGluIG9uZSBvZiBzZXZlcmFsIG1vZGVzLCBhbmQgY2FuIHVzZSBtdWx0aXBsZSBtb2RlcwoJICogaW4gb25lIFFSIENvZGUuIFRoaXMgY2xhc3MgZGVjb2RlcyB0aGUgYml0cyBiYWNrIGludG8gdGV4dC48L3A+CgkgKgoJICogPHA+U2VlIElTTyAxODAwNDoyMDA2LCA2LjQuMyAtIDYuNC43PC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERlY29kZWRCaXRTdHJlYW1QYXJzZXIoKSB7CgkgICAgfQoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cykgewoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRTb3VyY2VfMS5kZWZhdWx0KGJ5dGVzKTsKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBTdHJpbmdCdWlsZGVyXzEuZGVmYXVsdCgpOwoJICAgICAgICB2YXIgYnl0ZVNlZ21lbnRzID0gbmV3IEFycmF5KCk7IC8vIDEKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IEkgZG8gbm90IHVzZSBjb25zdHJ1Y3RvciB3aXRoIHNpemUgMSBhcyBpbiBvcmlnaW5hbCBKYXZhIG1lYW5zIGNhcGFjaXR5IGFuZCB0aGUgYXJyYXkgbGVuZ3RoIGlzIGNoZWNrZWQgYmVsb3cKCSAgICAgICAgdmFyIHN5bWJvbFNlcXVlbmNlID0gLTE7CgkgICAgICAgIHZhciBwYXJpdHlEYXRhID0gLTE7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICB2YXIgY3VycmVudENoYXJhY3RlclNldEVDSSA9IG51bGw7CgkgICAgICAgICAgICB2YXIgZmMxSW5FZmZlY3QgPSBmYWxzZTsKCSAgICAgICAgICAgIHZhciBtb2RlID0gdm9pZCAwOwoJICAgICAgICAgICAgZG8gewoJICAgICAgICAgICAgICAgIC8vIFdoaWxlIHN0aWxsIGFub3RoZXIgc2VnbWVudCB0byByZWFkLi4uCgkgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA0KSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE9LLCBhc3N1bWUgd2UncmUgZG9uZS4gUmVhbGx5LCBhIFRFUk1JTkFUT1IgbW9kZSBzaG91bGQgaGF2ZSBiZWVuIHJlY29yZGVkIGhlcmUKCSAgICAgICAgICAgICAgICAgICAgbW9kZSA9IE1vZGVfMS5kZWZhdWx0LlRFUk1JTkFUT1I7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZUJpdHMgPSBiaXRzLnJlYWRCaXRzKDQpOwoJICAgICAgICAgICAgICAgICAgICBtb2RlID0gTW9kZV8xLmRlZmF1bHQuZm9yQml0cyhtb2RlQml0cyk7IC8vIG1vZGUgaXMgZW5jb2RlZCBieSA0IGJpdHMKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUjoKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkZOQzFfRklSU1RfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuRk5DMV9TRUNPTkRfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkbyBsaXR0bGUgd2l0aCBGTkMxIGV4Y2VwdCBhbHRlciB0aGUgcGFyc2VkIHJlc3VsdCBhIGJpdCBhY2NvcmRpbmcgdG8gdGhlIHNwZWMKCSAgICAgICAgICAgICAgICAgICAgICAgIGZjMUluRWZmZWN0ID0gdHJ1ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LlNUUlVDVFVSRURfQVBQRU5EOgoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCAxNikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIgYW5kIHBhcml0eSBpcyBhZGRlZCBsYXRlciB0byB0aGUgcmVzdWx0IG1ldGFkYXRhCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIG5leHQgOCBiaXRzIChzeW1ib2wgc2VxdWVuY2UgIykgYW5kIDggYml0cyAoZGF0YTogcGFyaXR5KSwgdGhlbiBjb250aW51ZQoJICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sU2VxdWVuY2UgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgcGFyaXR5RGF0YSA9IGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5FQ0k6CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBkb2Vzbid0IGFwcGx5IHRvIEVDSQoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5wYXJzZUVDSVZhbHVlKGJpdHMpOwoJICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENoYXJhY3RlclNldEVDSSA9IENoYXJhY3RlclNldEVDSV8xLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlWYWx1ZSh2YWx1ZSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5IQU5aSToKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IGhhbmRsZSBIYW56aSBtb2RlIHdoaWNoIGRvZXMgbm90IHN0YXJ0IHdpdGggY2hhcmFjdGVyIGNvdW50CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGluZXNlIG1vZGUgY29udGFpbnMgYSBzdWIgc2V0IGluZGljYXRvciByaWdodCBhZnRlciBtb2RlIGluZGljYXRvcgoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNldCA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRIYW56aSA9IGJpdHMucmVhZEJpdHMobW9kZS5nZXRDaGFyYWN0ZXJDb3VudEJpdHModmVyc2lvbikpOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNldCA9PT0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVIYW56aVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudEhhbnppKTsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gIk5vcm1hbCIgUVIgY29kZSBtb2RlczoKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvdyBtYW55IGNoYXJhY3RlcnMgd2lsbCBmb2xsb3csIGVuY29kZWQgaW4gdGhpcyBtb2RlPwoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gYml0cy5yZWFkQml0cyhtb2RlLmdldENoYXJhY3RlckNvdW50Qml0cyh2ZXJzaW9uKSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0Lk5VTUVSSUM6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlTnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuQUxQSEFOVU1FUklDOgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgZmMxSW5FZmZlY3QpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkJZVEU6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgY3VycmVudENoYXJhY3RlclNldEVDSSwgYnl0ZVNlZ21lbnRzLCBoaW50cyk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuS0FOSkk6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlS2FuamlTZWdtZW50KGJpdHMsIHJlc3VsdCwgY291bnQpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSB3aGlsZSAobW9kZSAhPT0gTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUik7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlhZSAvKjogSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIGZyb20gcmVhZEJpdHMoKSBjYWxscwoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbmV3IERlY29kZXJSZXN1bHRfMS5kZWZhdWx0KGJ5dGVzLCByZXN1bHQudG9TdHJpbmcoKSwgYnl0ZVNlZ21lbnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBieXRlU2VnbWVudHMsIGVjTGV2ZWwgPT09IG51bGwgPyBudWxsIDogZWNMZXZlbC50b1N0cmluZygpLCBzeW1ib2xTZXF1ZW5jZSwgcGFyaXR5RGF0YSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZWUgc3BlY2lmaWNhdGlvbiBHQlQgMTgyODQtMjAwMAoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlSGFuemlTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgY291bnQgLyppbnQqLykgewoJICAgICAgICAvLyBEb24ndCBjcmFzaCB0cnlpbmcgdG8gcmVhZCBtb3JlIGJpdHMgdGhhbiB3ZSBoYXZlIGF2YWlsYWJsZS4KCSAgICAgICAgaWYgKGNvdW50ICogMTMgPiBiaXRzLmF2YWlsYWJsZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhY2ggY2hhcmFjdGVyIHdpbGwgcmVxdWlyZSAyIGJ5dGVzLiBSZWFkIHRoZSBjaGFyYWN0ZXJzIGFzIDItYnl0ZSBwYWlycwoJICAgICAgICAvLyBhbmQgZGVjb2RlIGFzIEdCMjMxMiBhZnRlcndhcmRzCgkgICAgICAgIHZhciBidWZmZXIgPSBuZXcgVWludDhBcnJheSgyICogY291bnQpOwoJICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKCSAgICAgICAgd2hpbGUgKGNvdW50ID4gMCkgewoJICAgICAgICAgICAgLy8gRWFjaCAxMyBiaXRzIGVuY29kZXMgYSAyLWJ5dGUgY2hhcmFjdGVyCgkgICAgICAgICAgICB2YXIgdHdvQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDEzKTsKCSAgICAgICAgICAgIHZhciBhc3NlbWJsZWRUd29CeXRlcyA9ICgoKHR3b0J5dGVzIC8gMHgwNjApIDw8IDgpICYgMHhGRkZGRkZGRikgfCAodHdvQnl0ZXMgJSAweDA2MCk7CgkgICAgICAgICAgICBpZiAoYXNzZW1ibGVkVHdvQnl0ZXMgPCAweDAwM0JGKSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QTFBMSB0byAweEFBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBMUExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QjBBMSB0byAweEZBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBNkExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYnVmZmVyW29mZnNldF0gPSAvKihieXRlKSAqLyAoKGFzc2VtYmxlZFR3b0J5dGVzID4+IDgpICYgMHhGRik7CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMV0gPSAvKihieXRlKSAqLyAoYXNzZW1ibGVkVHdvQnl0ZXMgJiAweEZGKTsKCSAgICAgICAgICAgIG9mZnNldCArPSAyOwoJICAgICAgICAgICAgY291bnQtLTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKGJ1ZmZlciwgU3RyaW5nVXRpbHNfMS5kZWZhdWx0LkdCMjMxMikpOwoJICAgICAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IFRPRE86IGltcGxlbWVudCBHQjIzMTIgZGVjb2RlLiBTdHJpbmdWaWV3IGZyb20gTUROIGNvdWxkIGJlIGEgc3RhcnRpbmcgcG9pbnQKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVLYW5qaVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoY291bnQgKiAxMyA+IGJpdHMuYXZhaWxhYmxlKCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRWFjaCBjaGFyYWN0ZXIgd2lsbCByZXF1aXJlIDIgYnl0ZXMuIFJlYWQgdGhlIGNoYXJhY3RlcnMgYXMgMi1ieXRlIHBhaXJzCgkgICAgICAgIC8vIGFuZCBkZWNvZGUgYXMgU2hpZnRfSklTIGFmdGVyd2FyZHMKCSAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDIgKiBjb3VudCk7CgkgICAgICAgIHZhciBvZmZzZXQgPSAwOwoJICAgICAgICB3aGlsZSAoY291bnQgPiAwKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEzIGJpdHMgZW5jb2RlcyBhIDItYnl0ZSBjaGFyYWN0ZXIKCSAgICAgICAgICAgIHZhciB0d29CeXRlcyA9IGJpdHMucmVhZEJpdHMoMTMpOwoJICAgICAgICAgICAgdmFyIGFzc2VtYmxlZFR3b0J5dGVzID0gKCgodHdvQnl0ZXMgLyAweDBDMCkgPDwgOCkgJiAweEZGRkZGRkZGKSB8ICh0d29CeXRlcyAlIDB4MEMwKTsKCSAgICAgICAgICAgIGlmIChhc3NlbWJsZWRUd29CeXRlcyA8IDB4MDFGMDApIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHg4MTQwIHRvIDB4OUZGQyByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MDgxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHhFMDQwIHRvIDB4RUJCRiByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MEMxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0XSA9IC8qKGJ5dGUpICovIChhc3NlbWJsZWRUd29CeXRlcyA+PiA4KTsKCSAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9IC8qKGJ5dGUpICovIGFzc2VtYmxlZFR3b0J5dGVzOwoJICAgICAgICAgICAgb2Zmc2V0ICs9IDI7CgkgICAgICAgICAgICBjb3VudC0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNoaWZ0X0pJUyBtYXkgbm90IGJlIHN1cHBvcnRlZCBpbiBzb21lIGVudmlyb25tZW50czoKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nRW5jb2RpbmdfMS5kZWZhdWx0LmRlY29kZShidWZmZXIsIFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5TSElGVF9KSVMpKTsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBUT0RPOiBpbXBsZW1lbnQgU0hJRlRfSklTIGRlY29kZS4gU3RyaW5nVmlldyBmcm9tIE1ETiBjb3VsZCBiZSBhIHN0YXJ0aW5nIHBvaW50CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IFVuc3VwcG9ydGVkRW5jb2RpbmdFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoaWdub3JlZCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLCBieXRlU2VnbWVudHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoOCAqIGNvdW50ID4gYml0cy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVhZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoY291bnQpOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKCSAgICAgICAgICAgIHJlYWRCeXRlc1tpXSA9IC8qKGJ5dGUpICovIGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVuY29kaW5nOwoJICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgLy8gVGhlIHNwZWMgaXNuJ3QgY2xlYXIgb24gdGhpcyBtb2RlOyBzZWUKCSAgICAgICAgICAgIC8vIHNlY3Rpb24gNi40LjU6IHQgZG9lcyBub3Qgc2F5IHdoaWNoIGVuY29kaW5nIHRvIGFzc3VtaW5nCgkgICAgICAgICAgICAvLyB1cG9uIGRlY29kaW5nLiBJIGhhdmUgc2VlbiBJU08tODg1OS0xIHVzZWQgYXMgd2VsbCBhcwoJICAgICAgICAgICAgLy8gU2hpZnRfSklTIC0tIHdpdGhvdXQgYW55dGhpbmcgbGlrZSBhbiBFQ0kgZGVzaWduYXRvciB0bwoJICAgICAgICAgICAgLy8gZ2l2ZSBhIGhpbnQuCgkgICAgICAgICAgICBlbmNvZGluZyA9IFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5ndWVzc0VuY29kaW5nKHJlYWRCeXRlcywgaGludHMpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgZW5jb2RpbmcgPSBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLmdldE5hbWUoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKHJlYWRCeXRlcywgZW5jb2RpbmcpKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgICAgICBieXRlU2VnbWVudHMucHVzaChyZWFkQnl0ZXMpOwoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPj0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5BTFBIQU5VTUVSSUNfQ0hBUlMubGVuZ3RoKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkFMUEhBTlVNRVJJQ19DSEFSU1t2YWx1ZV07CgkgICAgfTsKCSAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBmYzFJbkVmZmVjdCkgewoJICAgICAgICAvLyBSZWFkIHR3byBjaGFyYWN0ZXJzIGF0IGEgdGltZQoJICAgICAgICB2YXIgc3RhcnQgPSByZXN1bHQubGVuZ3RoKCk7CgkgICAgICAgIHdoaWxlIChjb3VudCA+IDEpIHsKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTEpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIG5leHRUd29DaGFyc0JpdHMgPSBiaXRzLnJlYWRCaXRzKDExKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcihuZXh0VHdvQ2hhcnNCaXRzIC8gNDUpKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKG5leHRUd29DaGFyc0JpdHMgJSA0NSkpOwoJICAgICAgICAgICAgY291bnQgLT0gMjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY291bnQgPT09IDEpIHsKCSAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogb25lIGNoYXJhY3RlciBsZWZ0CgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDYpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcihiaXRzLnJlYWRCaXRzKDYpKSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gU2VlIHNlY3Rpb24gNi40LjguMSwgNi40LjguMgoJICAgICAgICBpZiAoZmMxSW5FZmZlY3QpIHsKCSAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gbWFzc2FnZSB0aGUgcmVzdWx0IGEgYml0IGlmIGluIGFuIEZOQzEgbW9kZToKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IHJlc3VsdC5sZW5ndGgoKTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jaGFyQXQoaSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHJlc3VsdC5sZW5ndGgoKSAtIDEgJiYgcmVzdWx0LmNoYXJBdChpICsgMSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gJSUgaXMgcmVuZGVyZWQgYXMgJQoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlbGV0ZUNoYXJBdChpICsgMSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBhbHBoYSBtb2RlLCAlIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gRk5DMSBzZXBhcmF0b3IgMHgxRAoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldENoYXJBdChpLCBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MUQpKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVOdW1lcmljU2VnbWVudCA9IGZ1bmN0aW9uIChiaXRzLCByZXN1bHQsIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgLy8gUmVhZCB0aHJlZSBkaWdpdHMgYXQgYSB0aW1lCgkgICAgICAgIHdoaWxlIChjb3VudCA+PSAzKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEwIGJpdHMgZW5jb2RlcyB0aHJlZSBkaWdpdHMKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTApIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIHRocmVlRGlnaXRzQml0cyA9IGJpdHMucmVhZEJpdHMoMTApOwoJICAgICAgICAgICAgaWYgKHRocmVlRGlnaXRzQml0cyA+PSAxMDAwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcih0aHJlZURpZ2l0c0JpdHMgLyAxMDApKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodGhyZWVEaWdpdHNCaXRzIC8gMTApICUgMTApKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIodGhyZWVEaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgICAgIGNvdW50IC09IDM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvdW50ID09PSAyKSB7CgkgICAgICAgICAgICAvLyBUd28gZGlnaXRzIGxlZnQgb3ZlciB0byByZWFkLCBlbmNvZGVkIGluIDcgYml0cwoJICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA3KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciB0d29EaWdpdHNCaXRzID0gYml0cy5yZWFkQml0cyg3KTsKCSAgICAgICAgICAgIGlmICh0d29EaWdpdHNCaXRzID49IDEwMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodHdvRGlnaXRzQml0cyAvIDEwKSkpOwoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcih0d29EaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChjb3VudCA9PT0gMSkgewoJICAgICAgICAgICAgLy8gT25lIGRpZ2l0IGxlZnQgb3ZlciB0byByZWFkCgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIGRpZ2l0Qml0cyA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICBpZiAoZGlnaXRCaXRzID49IDEwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoZGlnaXRCaXRzKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIucGFyc2VFQ0lWYWx1ZSA9IGZ1bmN0aW9uIChiaXRzKSB7CgkgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4ODApID09PSAwKSB7CgkgICAgICAgICAgICAvLyBqdXN0IG9uZSBieXRlCgkgICAgICAgICAgICByZXR1cm4gZmlyc3RCeXRlICYgMHg3RjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4QzApID09PSAweDgwKSB7CgkgICAgICAgICAgICAvLyB0d28gYnl0ZXMKCSAgICAgICAgICAgIHZhciBzZWNvbmRCeXRlID0gYml0cy5yZWFkQml0cyg4KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDNGKSA8PCA4KSAmIDB4RkZGRkZGRkYpIHwgc2Vjb25kQnl0ZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4RTApID09PSAweEMwKSB7CgkgICAgICAgICAgICAvLyB0aHJlZSBieXRlcwoJICAgICAgICAgICAgdmFyIHNlY29uZFRoaXJkQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDE2KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDFGKSA8PCAxNikgJiAweEZGRkZGRkZGKSB8IHNlY29uZFRoaXJkQnl0ZXM7CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFNlZSBJU08gMTgwMDQ6MjAwNiwgNi40LjQgVGFibGUgNQoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQUxQSEFOVU1FUklDX0NIQVJTID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiAkJSorLS4vOic7CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUID0gMTsKCSAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcjsKCX0oKSk7CglEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEuZGVmYXVsdCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXI7CgoJdmFyIFFSQ29kZURlY29kZXJNZXRhRGF0YSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShRUkNvZGVEZWNvZGVyTWV0YURhdGEkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiBNZXRhLWRhdGEgY29udGFpbmVyIGZvciBRUiBDb2RlIGRlY29kaW5nLiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBtYXkgYmUgdXNlZCB0byBjb252ZXkgaW5mb3JtYXRpb24gYmFjayB0byB0aGUKCSAqIGRlY29kaW5nIGNhbGxlci4gQ2FsbGVycyBhcmUgZXhwZWN0ZWQgdG8gcHJvY2VzcyB0aGlzLgoJICoKCSAqIEBzZWUgY29tLmdvb2dsZS56eGluZy5jb21tb24uRGVjb2RlclJlc3VsdCNnZXRPdGhlcigpCgkgKi8KCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUVJDb2RlRGVjb2Rlck1ldGFEYXRhKG1pcnJvcmVkKSB7CgkgICAgICAgIHRoaXMubWlycm9yZWQgPSBtaXJyb3JlZDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmIHRoZSBRUiBDb2RlIHdhcyBtaXJyb3JlZC4KCSAgICAgKi8KCSAgICBRUkNvZGVEZWNvZGVyTWV0YURhdGEucHJvdG90eXBlLmlzTWlycm9yZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm1pcnJvcmVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbHkgdGhlIHJlc3VsdCBwb2ludHMnIG9yZGVyIGNvcnJlY3Rpb24gZHVlIHRvIG1pcnJvcmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBwb2ludHMgQXJyYXkgb2YgcG9pbnRzIHRvIGFwcGx5IG1pcnJvciBjb3JyZWN0aW9uIHRvLgoJICAgICAqLwoJICAgIFFSQ29kZURlY29kZXJNZXRhRGF0YS5wcm90b3R5cGUuYXBwbHlNaXJyb3JlZENvcnJlY3Rpb24gPSBmdW5jdGlvbiAocG9pbnRzKSB7CgkgICAgICAgIGlmICghdGhpcy5taXJyb3JlZCB8fCBwb2ludHMgPT09IG51bGwgfHwgcG9pbnRzLmxlbmd0aCA8IDMpIHsKCSAgICAgICAgICAgIHJldHVybjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IHBvaW50c1swXTsKCSAgICAgICAgcG9pbnRzWzBdID0gcG9pbnRzWzJdOwoJICAgICAgICBwb2ludHNbMl0gPSBib3R0b21MZWZ0OwoJICAgICAgICAvLyBObyBuZWVkIHRvICdmaXgnIHRvcC1sZWZ0IGFuZCBhbGlnbm1lbnQgcGF0dGVybi4KCSAgICB9OwoJICAgIHJldHVybiBRUkNvZGVEZWNvZGVyTWV0YURhdGE7Cgl9KCkpOwoJUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDEuZGVmYXVsdCA9IFFSQ29kZURlY29kZXJNZXRhRGF0YTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjb2RlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZWNvZGVyIHsqLwoJdmFyIENoZWNrc3VtRXhjZXB0aW9uXzEgPSBDaGVja3N1bUV4Y2VwdGlvbiQxOwoJdmFyIEJpdE1hdHJpeF8xJDIgPSBCaXRNYXRyaXgkMTsKCXZhciBHZW5lcmljR0ZfMSA9IEdlbmVyaWNHRiQxOwoJdmFyIFJlZWRTb2xvbW9uRGVjb2Rlcl8xID0gUmVlZFNvbG9tb25EZWNvZGVyJDE7Cgl2YXIgQml0TWF0cml4UGFyc2VyXzEgPSBCaXRNYXRyaXhQYXJzZXIkMTsKCXZhciBEYXRhQmxvY2tfMSA9IERhdGFCbG9jayQxOwoJdmFyIERlY29kZWRCaXRTdHJlYW1QYXJzZXJfMSA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxID0gUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoZSBtYWluIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgUVIgQ29kZSBkZWNvZGluZyAtLSBhcyBvcHBvc2VkIHRvIGxvY2F0aW5nIGFuZCBleHRyYWN0aW5nCgkgKiB0aGUgUVIgQ29kZSBmcm9tIGFuIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEZWNvZGVyKCkgewoJICAgICAgICB0aGlzLnJzRGVjb2RlciA9IG5ldyBSZWVkU29sb21vbkRlY29kZXJfMS5kZWZhdWx0KEdlbmVyaWNHRl8xLmRlZmF1bHQuUVJfQ09ERV9GSUVMRF8yNTYpOwoJICAgIH0KCSAgICAvLyBwdWJsaWMgZGVjb2RlKGltYWdlOiBib29sZWFuW11bXSk6IERlY29kZXJSZXN1bHQgLyp0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkNvbnZlbmllbmNlIG1ldGhvZCB0aGF0IGNhbiBkZWNvZGUgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEgMkQgYXJyYXkgb2YgYm9vbGVhbnMuCgkgICAgICogInRydWUiIGlzIHRha2VuIHRvIG1lYW4gYSBibGFjayBtb2R1bGUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGJvb2xlYW5zIHJlcHJlc2VudGluZyB3aGl0ZS9ibGFjayBRUiBDb2RlIG1vZHVsZXMKCSAgICAgKiBAcGFyYW0gaGludHMgZGVjb2RpbmcgaGludHMgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBpbmZsdWVuY2UgZGVjb2RpbmcKCSAgICAgKiBAcmV0dXJuIHRleHQgYW5kIGJ5dGVzIGVuY29kZWQgd2l0aGluIHRoZSBRUiBDb2RlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIFFSIENvZGUgY2Fubm90IGJlIGRlY29kZWQKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeChCaXRNYXRyaXhfMSQyLmRlZmF1bHQucGFyc2VGcm9tQm9vbGVhbkFycmF5KGltYWdlKSwgaGludHMpOwoJICAgIH07CgkgICAgLy8gcHVibGljIGRlY29kZUJpdE1hdHJpeChiaXRzOiBCaXRNYXRyaXgpOiBEZWNvZGVyUmVzdWx0IC8qdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uLCBGb3JtYXRFeGNlcHRpb24qLyB7CgkgICAgLy8gICByZXR1cm4gZGVjb2RlKGJpdHMsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkRlY29kZXMgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0uIEEgMSBvciAidHJ1ZSIgaXMgdGFrZW4gdG8gbWVhbiBhIGJsYWNrIG1vZHVsZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0cyBib29sZWFucyByZXByZXNlbnRpbmcgd2hpdGUvYmxhY2sgUVIgQ29kZSBtb2R1bGVzCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kaW5nIGhpbnRzIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gaW5mbHVlbmNlIGRlY29kaW5nCgkgICAgICogQHJldHVybiB0ZXh0IGFuZCBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBRUiBDb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIENvbnN0cnVjdCBhIHBhcnNlciBhbmQgcmVhZCB2ZXJzaW9uLCBlcnJvci1jb3JyZWN0aW9uIGxldmVsCgkgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgQml0TWF0cml4UGFyc2VyXzEuZGVmYXVsdChiaXRzKTsKCSAgICAgICAgdmFyIGV4ID0gbnVsbDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKjogRm9ybWF0RXhjZXB0aW9uLCBDaGVja3N1bUV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICBleCA9IGU7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIC8vIFJldmVydCB0aGUgYml0IG1hdHJpeAoJICAgICAgICAgICAgcGFyc2VyLnJlbWFzaygpOwoJICAgICAgICAgICAgLy8gV2lsbCBiZSBhdHRlbXB0aW5nIGEgbWlycm9yZWQgcmVhZGluZyBvZiB0aGUgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm8uCgkgICAgICAgICAgICBwYXJzZXIuc2V0TWlycm9yKHRydWUpOwoJICAgICAgICAgICAgLy8gUHJlZW1wdGl2ZWx5IHJlYWQgdGhlIHZlcnNpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgICAgIC8vIFByZWVtcHRpdmVseSByZWFkIHRoZSBmb3JtYXQgaW5mb3JtYXRpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCk7CgkgICAgICAgICAgICAvKgoJICAgICAgICAgICAgICogU2luY2Ugd2UncmUgaGVyZSwgdGhpcyBtZWFucyB3ZSBoYXZlIHN1Y2Nlc3NmdWxseSBkZXRlY3RlZCBzb21lIGtpbmQKCSAgICAgICAgICAgICAqIG9mIHZlcnNpb24gYW5kIGZvcm1hdCBpbmZvcm1hdGlvbiB3aGVuIG1pcnJvcmVkLiBUaGlzIGlzIGEgZ29vZCBzaWduLAoJICAgICAgICAgICAgICogdGhhdCB0aGUgUVIgY29kZSBtYXkgYmUgbWlycm9yZWQsIGFuZCB3ZSBzaG91bGQgdHJ5IG9uY2UgbW9yZSB3aXRoIGEKCSAgICAgICAgICAgICAqIG1pcnJvcmVkIGNvbnRlbnQuCgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIFByZXBhcmUgZm9yIGEgbWlycm9yZWQgcmVhZGluZy4KCSAgICAgICAgICAgIHBhcnNlci5taXJyb3IoKTsKCSAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgICAgIC8vIFN1Y2Nlc3MhIE5vdGlmeSB0aGUgY2FsbGVyIHRoYXQgdGhlIGNvZGUgd2FzIG1pcnJvcmVkLgoJICAgICAgICAgICAgcmVzdWx0LnNldE90aGVyKG5ldyBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxLmRlZmF1bHQodHJ1ZSkpOwoJICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKkZvcm1hdEV4Y2VwdGlvbiB8IENoZWNrc3VtRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIFRocm93IHRoZSBleGNlcHRpb24gZnJvbSB0aGUgb3JpZ2luYWwgcmVhZGluZwoJICAgICAgICAgICAgaWYgKGV4ICE9PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgZXg7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0aHJvdyBlOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCaXRNYXRyaXhQYXJzZXIgPSBmdW5jdGlvbiAocGFyc2VyLCBoaW50cykgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgdmFyIHZlcnNpb24gPSBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCkuZ2V0RXJyb3JDb3JyZWN0aW9uTGV2ZWwoKTsKCSAgICAgICAgLy8gUmVhZCBjb2Rld29yZHMKCSAgICAgICAgdmFyIGNvZGV3b3JkcyA9IHBhcnNlci5yZWFkQ29kZXdvcmRzKCk7CgkgICAgICAgIC8vIFNlcGFyYXRlIGludG8gZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIGRhdGFCbG9ja3MgPSBEYXRhQmxvY2tfMS5kZWZhdWx0LmdldERhdGFCbG9ja3MoY29kZXdvcmRzLCB2ZXJzaW9uLCBlY0xldmVsKTsKCSAgICAgICAgLy8gQ291bnQgdG90YWwgbnVtYmVyIG9mIGRhdGEgYnl0ZXMKCSAgICAgICAgdmFyIHRvdGFsQnl0ZXMgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZGF0YUJsb2Nrc18xID0gX192YWx1ZXMkMihkYXRhQmxvY2tzKSwgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpOyAhZGF0YUJsb2Nrc18xXzEuZG9uZTsgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRhdGFCbG9jayA9IGRhdGFCbG9ja3NfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIHRvdGFsQnl0ZXMgKz0gZGF0YUJsb2NrLmdldE51bURhdGFDb2Rld29yZHMoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMV8xICYmICFkYXRhQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGRhdGFCbG9ja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGRhdGFCbG9ja3NfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxCeXRlcyk7CgkgICAgICAgIHZhciByZXN1bHRPZmZzZXQgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgLy8gRXJyb3ItY29ycmVjdCBhbmQgY29weSBkYXRhIGJsb2NrcyB0b2dldGhlciBpbnRvIGEgc3RyZWFtIG9mIGJ5dGVzCgkgICAgICAgICAgICBmb3IgKHZhciBkYXRhQmxvY2tzXzIgPSBfX3ZhbHVlcyQyKGRhdGFCbG9ja3MpLCBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCk7ICFkYXRhQmxvY2tzXzJfMS5kb25lOyBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZGF0YUJsb2NrID0gZGF0YUJsb2Nrc18yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkQnl0ZXMgPSBkYXRhQmxvY2suZ2V0Q29kZXdvcmRzKCk7CgkgICAgICAgICAgICAgICAgdmFyIG51bURhdGFDb2Rld29yZHMgPSBkYXRhQmxvY2suZ2V0TnVtRGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdEVycm9ycyhjb2Rld29yZEJ5dGVzLCBudW1EYXRhQ29kZXdvcmRzKTsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICByZXN1bHRCeXRlc1tyZXN1bHRPZmZzZXQrK10gPSBjb2Rld29yZEJ5dGVzW2ldOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMl8xICYmICFkYXRhQmxvY2tzXzJfMS5kb25lICYmIChfYiA9IGRhdGFCbG9ja3NfMi5yZXR1cm4pKSBfYi5jYWxsKGRhdGFCbG9ja3NfMik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRGVjb2RlIHRoZSBjb250ZW50cyBvZiB0aGF0IHN0cmVhbSBvZiBieXRlcwoJICAgICAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcl8xLmRlZmF1bHQuZGVjb2RlKHJlc3VsdEJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5HaXZlbiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyByZWNlaXZlZCwgcG9zc2libHkgY29ycnVwdGVkIGJ5IGVycm9ycywgYXR0ZW1wdHMgdG8KCSAgICAgKiBjb3JyZWN0IHRoZSBlcnJvcnMgaW4tcGxhY2UgdXNpbmcgUmVlZC1Tb2xvbW9uIGVycm9yIGNvcnJlY3Rpb24uPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGNvZGV3b3JkQnl0ZXMgZGF0YSBhbmQgZXJyb3IgY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgKiBAcGFyYW0gbnVtRGF0YUNvZGV3b3JkcyBudW1iZXIgb2YgY29kZXdvcmRzIHRoYXQgYXJlIGRhdGEgYnl0ZXMKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5jb3JyZWN0RXJyb3JzID0gZnVuY3Rpb24gKGNvZGV3b3JkQnl0ZXMsIG51bURhdGFDb2Rld29yZHMgLyppbnQqLykgewoJICAgICAgICAvLyBjb25zdCBudW1Db2Rld29yZHMgPSBjb2Rld29yZEJ5dGVzLmxlbmd0aDsKCSAgICAgICAgLy8gRmlyc3QgcmVhZCBpbnRvIGFuIGFycmF5IG9mIGludHMKCSAgICAgICAgdmFyIGNvZGV3b3Jkc0ludHMgPSBuZXcgSW50MzJBcnJheShjb2Rld29yZEJ5dGVzKTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG5vdCByZWFseSBuZWNlc3NhcnkgdG8gdHJhbnNmb3JtIHRvIGludHM/IGNvdWxkIHJlZGVzaWduIGV2ZXJ5dGhpbmcgdG8gd29yayB3aXRoIHVuc2lnbmVkIGJ5dGVzPwoJICAgICAgICAvLyBjb25zdCBjb2Rld29yZHNJbnRzID0gbmV3IEludDMyQXJyYXkobnVtQ29kZXdvcmRzKQoJICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNvZGV3b3JkczsgaSsrKSB7CgkgICAgICAgIC8vICAgY29kZXdvcmRzSW50c1tpXSA9IGNvZGV3b3JkQnl0ZXNbaV0gJiAweEZGCgkgICAgICAgIC8vIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHRoaXMucnNEZWNvZGVyLmRlY29kZShjb2Rld29yZHNJbnRzLCBjb2Rld29yZEJ5dGVzLmxlbmd0aCAtIG51bURhdGFDb2Rld29yZHMpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBSZWVkU29sb21vbkV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQ2hlY2tzdW1FeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29weSBiYWNrIGludG8gYXJyYXkgb2YgYnl0ZXMgLS0gb25seSBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZSBieXRlcyB0aGF0IHdlcmUgZGF0YQoJICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IGVycm9ycyBpbiB0aGUgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQ29kZXdvcmRzOyBpKyspIHsKCSAgICAgICAgICAgIGNvZGV3b3JkQnl0ZXNbaV0gPSAvKihieXRlKSAqLyBjb2Rld29yZHNJbnRzW2ldOwoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlcjsKCX0oKSk7CglEZWNvZGVyJDEuZGVmYXVsdCA9IERlY29kZXI7CgoJdmFyIERldGVjdG9yJDEgPSB7fTsKCgl2YXIgTWF0aFV0aWxzJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMTIgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGhVdGlscyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5kZXRlY3RvciB7Ki8KCS8qKgoJICogR2VuZXJhbCBtYXRoLXJlbGF0ZWQgYW5kIG51bWVyaWMgdXRpbGl0eSBmdW5jdGlvbnMuCgkgKi8KCXZhciBNYXRoVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gTWF0aFV0aWxzKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBFbmRzIHVwIGJlaW5nIGEgYml0IGZhc3RlciB0aGFuIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0uIFRoaXMgbWVyZWx5IHJvdW5kcyBpdHMKCSAgICAgKiBhcmd1bWVudCB0byB0aGUgbmVhcmVzdCBpbnQsIHdoZXJlIHguNSByb3VuZHMgdXAgdG8geCsxLiBTZW1hbnRpY3Mgb2YgdGhpcyBzaG9ydGN1dAoJICAgICAqIGRpZmZlciBzbGlnaHRseSBmcm9tIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0gaW4gdGhhdCBoYWxmIHJvdW5kcyBkb3duIGZvciBuZWdhdGl2ZQoJICAgICAqIHZhbHVlcy4gLTIuNSByb3VuZHMgdG8gLTMsIG5vdCAtMi4gRm9yIHB1cnBvc2VzIGhlcmUgaXQgbWFrZXMgbm8gZGlmZmVyZW5jZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBkIHJlYWwgdmFsdWUgdG8gcm91bmQKCSAgICAgKiBAcmV0dXJuIG5lYXJlc3Qge0Bjb2RlIGludH0KCSAgICAgKi8KCSAgICBNYXRoVXRpbHMucm91bmQgPSBmdW5jdGlvbiAoZCAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE5hTiA9PT0gZCkKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICBpZiAoZCA8PSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikKCSAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjsKCSAgICAgICAgaWYgKGQgPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpCgkgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHJldHVybiAvKihpbnQpICovIChkICsgKGQgPCAwLjAgPyAtMC41IDogMC41KSkgfCAwOwoJICAgIH07CgkgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG1heWJlIHJlbW92ZSByb3VuZCBtZXRob2QgYW5kIGNhbGwgZGlyZWN0bHkgTWF0aC5yb3VuZCwgaXQgbG9va3MgbGlrZSBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIGpzCgkgICAgLyoqCgkgICAgICogQHBhcmFtIGFYIHBvaW50IEEgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGFZIHBvaW50IEEgeSBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJYIHBvaW50IEIgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJZIHBvaW50IEIgeSBjb29yZGluYXRlCgkgICAgICogQHJldHVybiBFdWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgQSBhbmQgQgoJICAgICAqLwoJICAgIE1hdGhVdGlscy5kaXN0YW5jZSA9IGZ1bmN0aW9uIChhWCAvKmZsb2F0fGludCovLCBhWSAvKmZsb2F0fGludCovLCBiWCAvKmZsb2F0fGludCovLCBiWSAvKmZsb2F0fGludCovKSB7CgkgICAgICAgIHZhciB4RGlmZiA9IGFYIC0gYlg7CgkgICAgICAgIHZhciB5RGlmZiA9IGFZIC0gYlk7CgkgICAgICAgIHJldHVybiAvKihmbG9hdCkgKi8gTWF0aC5zcXJ0KHhEaWZmICogeERpZmYgKyB5RGlmZiAqIHlEaWZmKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBhWCBwb2ludCBBIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBhWSBwb2ludCBBIHkgY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWCBwb2ludCBCIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWSBwb2ludCBCIHkgY29vcmRpbmF0ZQoJICAgICAqIEByZXR1cm4gRXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIEEgYW5kIEIKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgc3RhdGljIGRpc3RhbmNlKGFYOiBudW1iZXIgLyppbnQqLywgYVk6IG51bWJlciAvKmludCovLCBiWDogbnVtYmVyIC8qaW50Ki8sIGJZOiBudW1iZXIgLyppbnQqLyk6IGZsb2F0IHsKCSAgICAvLyAgIGNvbnN0IHhEaWZmID0gYVggLSBiWAoJICAgIC8vICAgY29uc3QgeURpZmYgPSBhWSAtIGJZCgkgICAgLy8gICByZXR1cm4gKGZsb2F0KSBNYXRoLnNxcnQoeERpZmYgKiB4RGlmZiArIHlEaWZmICogeURpZmYpOwoJICAgIC8vIH0KCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYXJyYXkgdmFsdWVzIHRvIHN1bQoJICAgICAqIEByZXR1cm4gc3VtIG9mIHZhbHVlcyBpbiBhcnJheQoJICAgICAqLwoJICAgIE1hdGhVdGlscy5zdW0gPSBmdW5jdGlvbiAoYXJyYXkpIHsKCSAgICAgICAgdmFyIGNvdW50ID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gYXJyYXkubGVuZ3RoOyBpICE9PSBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgYSA9IGFycmF5W2ldOwoJICAgICAgICAgICAgY291bnQgKz0gYTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY291bnQ7CgkgICAgfTsKCSAgICByZXR1cm4gTWF0aFV0aWxzOwoJfSgpKTsKCU1hdGhVdGlscyQxLmRlZmF1bHQgPSBNYXRoVXRpbHM7CgoJdmFyIERldGVjdG9yUmVzdWx0JDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERldGVjdG9yUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGV0ZWN0aW5nIGEgYmFyY29kZSBpbiBhbiBpbWFnZS4gVGhpcyBpbmNsdWRlcyB0aGUgcmF3CgkgKiBtYXRyaXggb2YgYmxhY2svd2hpdGUgcGl4ZWxzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGJhcmNvZGUsIGFuZCBwb3NzaWJseSBwb2ludHMgb2YgaW50ZXJlc3QKCSAqIGluIHRoZSBpbWFnZSwgbGlrZSB0aGUgbG9jYXRpb24gb2YgZmluZGVyIHBhdHRlcm5zIG9yIGNvcm5lcnMgb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGV0ZWN0b3JSZXN1bHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gRGV0ZWN0b3JSZXN1bHQoYml0cywgcG9pbnRzKSB7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzOwoJICAgIH0KCSAgICBEZXRlY3RvclJlc3VsdC5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIERldGVjdG9yUmVzdWx0LnByb3RvdHlwZS5nZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnBvaW50czsKCSAgICB9OwoJICAgIHJldHVybiBEZXRlY3RvclJlc3VsdDsKCX0oKSk7CglEZXRlY3RvclJlc3VsdCQxLmRlZmF1bHQgPSBEZXRlY3RvclJlc3VsdDsKCgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSQxID0ge307CgoJdmFyIERlZmF1bHRHcmlkU2FtcGxlciQxID0ge307CgoJdmFyIEdyaWRTYW1wbGVyJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDUgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBJbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBjbGFzcyBjYW4sIGdpdmVuIGxvY2F0aW9ucyBvZiBmaW5kZXIgcGF0dGVybnMgZm9yIGEgUVIgY29kZSBpbiBhbgoJICogaW1hZ2UsIHNhbXBsZSB0aGUgcmlnaHQgcG9pbnRzIGluIHRoZSBpbWFnZSB0byByZWNvbnN0cnVjdCB0aGUgUVIgY29kZSwgYWNjb3VudGluZyBmb3IKCSAqIHBlcnNwZWN0aXZlIGRpc3RvcnRpb24uIEl0IGlzIGFic3RyYWN0ZWQgc2luY2UgaXQgaXMgcmVsYXRpdmVseSBleHBlbnNpdmUgYW5kIHNob3VsZCBiZSBhbGxvd2VkCgkgKiB0byB0YWtlIGFkdmFudGFnZSBvZiBwbGF0Zm9ybS1zcGVjaWZpYyBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb25zLCBsaWtlIFN1bidzIEphdmEgQWR2YW5jZWQKCSAqIEltYWdpbmcgbGlicmFyeSwgYnV0IHdoaWNoIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIG90aGVyIGVudmlyb25tZW50cyBzdWNoIGFzIEoyTUUsIGFuZCB2aWNlCgkgKiB2ZXJzYS4KCSAqCgkgKiBUaGUgaW1wbGVtZW50YXRpb24gdXNlZCBjYW4gYmUgY29udHJvbGxlZCBieSBjYWxsaW5nIHtAbGluayAjc2V0R3JpZFNhbXBsZXIoR3JpZFNhbXBsZXIpfQoJICogd2l0aCBhbiBpbnN0YW5jZSBvZiBhIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgdGhpcyBpbnRlcmZhY2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdyaWRTYW1wbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEdyaWRTYW1wbGVyKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5DaGVja3MgYSBzZXQgb2YgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIHRyYW5zZm9ybWVkIHRvIHNhbXBsZSBwb2ludHMgb24gYW4gaW1hZ2UgYWdhaW5zdAoJICAgICAqIHRoZSBpbWFnZSdzIGRpbWVuc2lvbnMgdG8gc2VlIGlmIHRoZSBwb2ludCBhcmUgZXZlbiB3aXRoaW4gdGhlIGltYWdlLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHdpbGwgYWN0dWFsbHkgIm51ZGdlIiB0aGUgZW5kcG9pbnRzIGJhY2sgb250byB0aGUgaW1hZ2UgaWYgdGhleSBhcmUgZm91bmQgdG8gYmUKCSAgICAgKiBiYXJlbHkgKGxlc3MgdGhhbiAxIHBpeGVsKSBvZmYgdGhlIGltYWdlLiBUaGlzIGFjY291bnRzIGZvciBpbXBlcmZlY3QgZGV0ZWN0aW9uIG9mIGZpbmRlcgoJICAgICAqIHBhdHRlcm5zIGluIGFuIGltYWdlIHdoZXJlIHRoZSBRUiBDb2RlIHJ1bnMgYWxsIHRoZSB3YXkgdG8gdGhlIGltYWdlIGJvcmRlci48L3A+CgkgICAgICoKCSAgICAgKiA8cD5Gb3IgZWZmaWNpZW5jeSwgdGhlIG1ldGhvZCB3aWxsIGNoZWNrIHBvaW50cyBmcm9tIGVpdGhlciBlbmQgb2YgdGhlIGxpbmUgdW50aWwgb25lIGlzIGZvdW5kCgkgICAgICogdG8gYmUgd2l0aGluIHRoZSBpbWFnZS4gQmVjYXVzZSB0aGUgc2V0IG9mIHBvaW50cyBhcmUgYXNzdW1lZCB0byBiZSBsaW5lYXIsIHRoaXMgaXMgdmFsaWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGltYWdlIGludG8gd2hpY2ggdGhlIHBvaW50cyBzaG91bGQgbWFwCgkgICAgICogQHBhcmFtIHBvaW50cyBhY3R1YWwgcG9pbnRzIGluIHgxLHkxLC4uLix4bix5biBmb3JtCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhbiBlbmRwb2ludCBpcyBsaWVzIG91dHNpZGUgdGhlIGltYWdlIGJvdW5kYXJpZXMKCSAgICAgKi8KCSAgICBHcmlkU2FtcGxlci5jaGVja0FuZE51ZGdlUG9pbnRzID0gZnVuY3Rpb24gKGltYWdlLCBwb2ludHMpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gc3RhcnQgdW50aWwgd2Ugc2VlIHNvbWUgdGhhdCBhcmUgT0s6CgkgICAgICAgIHZhciBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBwb2ludHMubGVuZ3RoICYmIG51ZGdlZDsgb2Zmc2V0ICs9IDIpIHsKCSAgICAgICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0XSk7CgkgICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IocG9pbnRzW29mZnNldCArIDFdKTsKCSAgICAgICAgICAgIGlmICh4IDwgLTEgfHwgeCA+IHdpZHRoIHx8IHkgPCAtMSB8fCB5ID4gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBudWRnZWQgPSBmYWxzZTsKCSAgICAgICAgICAgIGlmICh4ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gMC4wOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmICh4ID09PSB3aWR0aCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gd2lkdGggLSAxOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAoeSA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICBwb2ludHNbb2Zmc2V0ICsgMV0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IGhlaWdodCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gZW5kOgoJICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSBwb2ludHMubGVuZ3RoIC0gMjsgb2Zmc2V0ID49IDAgJiYgbnVkZ2VkOyBvZmZzZXQgLT0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKHBvaW50c1tvZmZzZXRdKTsKCSAgICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0ICsgMV0pOwoJICAgICAgICAgICAgaWYgKHggPCAtMSB8fCB4ID4gd2lkdGggfHwgeSA8IC0xIHx8IHkgPiBoZWlnaHQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ1LmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIG51ZGdlZCA9IGZhbHNlOwoJICAgICAgICAgICAgaWYgKHggPT09IC0xKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHggPT09IHdpZHRoKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSB3aWR0aCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmICh5ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IDAuMDsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoeSA9PT0gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldCArIDFdID0gaGVpZ2h0IC0gMTsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXI7Cgl9KCkpOwoJR3JpZFNhbXBsZXIkMS5kZWZhdWx0ID0gR3JpZFNhbXBsZXI7CgoJdmFyIFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGltcGxlbWVudHMgYSBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm0gaW4gdHdvIGRpbWVuc2lvbnMuIEdpdmVuIGZvdXIgc291cmNlIGFuZCBmb3VyCgkgKiBkZXN0aW5hdGlvbiBwb2ludHMsIGl0IHdpbGwgY29tcHV0ZSB0aGUgdHJhbnNmb3JtYXRpb24gaW1wbGllZCBiZXR3ZWVuIHRoZW0uIFRoZSBjb2RlIGlzIGJhc2VkCgkgKiBkaXJlY3RseSB1cG9uIHNlY3Rpb24gMy40LjIgb2YgR2VvcmdlIFdvbGJlcmcncyAiRGlnaXRhbCBJbWFnZSBXYXJwaW5nIjsgc2VlIHBhZ2VzIDU0LTU2LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUGVyc3BlY3RpdmVUcmFuc2Zvcm0oYTExIC8qZmxvYXQqLywgYTIxIC8qZmxvYXQqLywgYTMxIC8qZmxvYXQqLywgYTEyIC8qZmxvYXQqLywgYTIyIC8qZmxvYXQqLywgYTMyIC8qZmxvYXQqLywgYTEzIC8qZmxvYXQqLywgYTIzIC8qZmxvYXQqLywgYTMzIC8qZmxvYXQqLykgewoJICAgICAgICB0aGlzLmExMSA9IGExMTsKCSAgICAgICAgdGhpcy5hMjEgPSBhMjE7CgkgICAgICAgIHRoaXMuYTMxID0gYTMxOwoJICAgICAgICB0aGlzLmExMiA9IGExMjsKCSAgICAgICAgdGhpcy5hMjIgPSBhMjI7CgkgICAgICAgIHRoaXMuYTMyID0gYTMyOwoJICAgICAgICB0aGlzLmExMyA9IGExMzsKCSAgICAgICAgdGhpcy5hMjMgPSBhMjM7CgkgICAgICAgIHRoaXMuYTMzID0gYTMzOwoJICAgIH0KCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsID0gZnVuY3Rpb24gKHgwIC8qZmxvYXQqLywgeTAgLypmbG9hdCovLCB4MSAvKmZsb2F0Ki8sIHkxIC8qZmxvYXQqLywgeDIgLypmbG9hdCovLCB5MiAvKmZsb2F0Ki8sIHgzIC8qZmxvYXQqLywgeTMgLypmbG9hdCovLCB4MHAgLypmbG9hdCovLCB5MHAgLypmbG9hdCovLCB4MXAgLypmbG9hdCovLCB5MXAgLypmbG9hdCovLCB4MnAgLypmbG9hdCovLCB5MnAgLypmbG9hdCovLCB4M3AgLypmbG9hdCovLCB5M3AgLypmbG9hdCovKSB7CgkgICAgICAgIHZhciBxVG9TID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0ucXVhZHJpbGF0ZXJhbFRvU3F1YXJlKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Myk7CgkgICAgICAgIHZhciBzVG9RID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwcCwgeTBwLCB4MXAsIHkxcCwgeDJwLCB5MnAsIHgzcCwgeTNwKTsKCSAgICAgICAgcmV0dXJuIHNUb1EudGltZXMocVRvUyk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cykgewoJICAgICAgICB2YXIgbWF4ID0gcG9pbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkgKz0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbaV07CgkgICAgICAgICAgICB2YXIgeSA9IHBvaW50c1tpICsgMV07CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSBhMTMgKiB4ICsgYTIzICogeSArIGEzMzsKCSAgICAgICAgICAgIHBvaW50c1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHBvaW50c1tpICsgMV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludHNXaXRoVmFsdWVzID0gZnVuY3Rpb24gKHhWYWx1ZXMsIHlWYWx1ZXMpIHsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgdmFyIG4gPSB4VmFsdWVzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB4ID0geFZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciB5ID0geVZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciBkZW5vbWluYXRvciA9IGExMyAqIHggKyBhMjMgKiB5ICsgYTMzOwoJICAgICAgICAgICAgeFZhbHVlc1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHlWYWx1ZXNbaV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnNxdWFyZVRvUXVhZHJpbGF0ZXJhbCA9IGZ1bmN0aW9uICh4MCAvKmZsb2F0Ki8sIHkwIC8qZmxvYXQqLywgeDEgLypmbG9hdCovLCB5MSAvKmZsb2F0Ki8sIHgyIC8qZmxvYXQqLywgeTIgLypmbG9hdCovLCB4MyAvKmZsb2F0Ki8sIHkzIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgZHgzID0geDAgLSB4MSArIHgyIC0geDM7CgkgICAgICAgIHZhciBkeTMgPSB5MCAtIHkxICsgeTIgLSB5MzsKCSAgICAgICAgaWYgKGR4MyA9PT0gMC4wICYmIGR5MyA9PT0gMC4wKSB7CgkgICAgICAgICAgICAvLyBBZmZpbmUKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCwgeDIgLSB4MSwgeDAsIHkxIC0geTAsIHkyIC0geTEsIHkwLCAwLjAsIDAuMCwgMS4wKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHZhciBkeDEgPSB4MSAtIHgyOwoJICAgICAgICAgICAgdmFyIGR4MiA9IHgzIC0geDI7CgkgICAgICAgICAgICB2YXIgZHkxID0geTEgLSB5MjsKCSAgICAgICAgICAgIHZhciBkeTIgPSB5MyAtIHkyOwoJICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gZHgxICogZHkyIC0gZHgyICogZHkxOwoJICAgICAgICAgICAgdmFyIGExMyA9IChkeDMgKiBkeTIgLSBkeDIgKiBkeTMpIC8gZGVub21pbmF0b3I7CgkgICAgICAgICAgICB2YXIgYTIzID0gKGR4MSAqIGR5MyAtIGR4MyAqIGR5MSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCArIGExMyAqIHgxLCB4MyAtIHgwICsgYTIzICogeDMsIHgwLCB5MSAtIHkwICsgYTEzICogeTEsIHkzIC0geTAgKyBhMjMgKiB5MywgeTAsIGExMywgYTIzLCAxLjApOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9TcXVhcmUgPSBmdW5jdGlvbiAoeDAgLypmbG9hdCovLCB5MCAvKmZsb2F0Ki8sIHgxIC8qZmxvYXQqLywgeTEgLypmbG9hdCovLCB4MiAvKmZsb2F0Ki8sIHkyIC8qZmxvYXQqLywgeDMgLypmbG9hdCovLCB5MyAvKmZsb2F0Ki8pIHsKCSAgICAgICAgLy8gSGVyZSwgdGhlIGFkam9pbnQgc2VydmVzIGFzIHRoZSBpbnZlcnNlOgoJICAgICAgICByZXR1cm4gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MykuYnVpbGRBZGpvaW50KCk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUuYnVpbGRBZGpvaW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBBZGpvaW50IGlzIHRoZSB0cmFuc3Bvc2Ugb2YgdGhlIGNvZmFjdG9yIG1hdHJpeDoKCSAgICAgICAgcmV0dXJuIG5ldyBQZXJzcGVjdGl2ZVRyYW5zZm9ybSh0aGlzLmEyMiAqIHRoaXMuYTMzIC0gdGhpcy5hMjMgKiB0aGlzLmEzMiwgdGhpcy5hMjMgKiB0aGlzLmEzMSAtIHRoaXMuYTIxICogdGhpcy5hMzMsIHRoaXMuYTIxICogdGhpcy5hMzIgLSB0aGlzLmEyMiAqIHRoaXMuYTMxLCB0aGlzLmExMyAqIHRoaXMuYTMyIC0gdGhpcy5hMTIgKiB0aGlzLmEzMywgdGhpcy5hMTEgKiB0aGlzLmEzMyAtIHRoaXMuYTEzICogdGhpcy5hMzEsIHRoaXMuYTEyICogdGhpcy5hMzEgLSB0aGlzLmExMSAqIHRoaXMuYTMyLCB0aGlzLmExMiAqIHRoaXMuYTIzIC0gdGhpcy5hMTMgKiB0aGlzLmEyMiwgdGhpcy5hMTMgKiB0aGlzLmEyMSAtIHRoaXMuYTExICogdGhpcy5hMjMsIHRoaXMuYTExICogdGhpcy5hMjIgLSB0aGlzLmExMiAqIHRoaXMuYTIxKTsKCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50aW1lcyA9IGZ1bmN0aW9uIChvdGhlcikgewoJICAgICAgICByZXR1cm4gbmV3IFBlcnNwZWN0aXZlVHJhbnNmb3JtKHRoaXMuYTExICogb3RoZXIuYTExICsgdGhpcy5hMjEgKiBvdGhlci5hMTIgKyB0aGlzLmEzMSAqIG90aGVyLmExMywgdGhpcy5hMTEgKiBvdGhlci5hMjEgKyB0aGlzLmEyMSAqIG90aGVyLmEyMiArIHRoaXMuYTMxICogb3RoZXIuYTIzLCB0aGlzLmExMSAqIG90aGVyLmEzMSArIHRoaXMuYTIxICogb3RoZXIuYTMyICsgdGhpcy5hMzEgKiBvdGhlci5hMzMsIHRoaXMuYTEyICogb3RoZXIuYTExICsgdGhpcy5hMjIgKiBvdGhlci5hMTIgKyB0aGlzLmEzMiAqIG90aGVyLmExMywgdGhpcy5hMTIgKiBvdGhlci5hMjEgKyB0aGlzLmEyMiAqIG90aGVyLmEyMiArIHRoaXMuYTMyICogb3RoZXIuYTIzLCB0aGlzLmExMiAqIG90aGVyLmEzMSArIHRoaXMuYTIyICogb3RoZXIuYTMyICsgdGhpcy5hMzIgKiBvdGhlci5hMzMsIHRoaXMuYTEzICogb3RoZXIuYTExICsgdGhpcy5hMjMgKiBvdGhlci5hMTIgKyB0aGlzLmEzMyAqIG90aGVyLmExMywgdGhpcy5hMTMgKiBvdGhlci5hMjEgKyB0aGlzLmEyMyAqIG90aGVyLmEyMiArIHRoaXMuYTMzICogb3RoZXIuYTIzLCB0aGlzLmExMyAqIG90aGVyLmEzMSArIHRoaXMuYTIzICogb3RoZXIuYTMyICsgdGhpcy5hMzMgKiBvdGhlci5hMzMpOwoJICAgIH07CgkgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoJfSgpKTsKCVBlcnNwZWN0aXZlVHJhbnNmb3JtJDEuZGVmYXVsdCA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmYXVsdEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEdyaWRTYW1wbGVyXzEgPSBHcmlkU2FtcGxlciQxOwoJdmFyIEJpdE1hdHJpeF8xJDEgPSBCaXRNYXRyaXgkMTsKCXZhciBQZXJzcGVjdGl2ZVRyYW5zZm9ybV8xJDEgPSBQZXJzcGVjdGl2ZVRyYW5zZm9ybSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEkNCA9IE5vdEZvdW5kRXhjZXB0aW9uJDE7CgkvKioKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWZhdWx0R3JpZFNhbXBsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDIoRGVmYXVsdEdyaWRTYW1wbGVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIERlZmF1bHRHcmlkU2FtcGxlcigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgRGVmYXVsdEdyaWRTYW1wbGVyLnByb3RvdHlwZS5zYW1wbGVHcmlkID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgcDFUb1ggLypmbG9hdCovLCBwMVRvWSAvKmZsb2F0Ki8sIHAyVG9YIC8qZmxvYXQqLywgcDJUb1kgLypmbG9hdCovLCBwM1RvWCAvKmZsb2F0Ki8sIHAzVG9ZIC8qZmxvYXQqLywgcDRUb1ggLypmbG9hdCovLCBwNFRvWSAvKmZsb2F0Ki8sIHAxRnJvbVggLypmbG9hdCovLCBwMUZyb21ZIC8qZmxvYXQqLywgcDJGcm9tWCAvKmZsb2F0Ki8sIHAyRnJvbVkgLypmbG9hdCovLCBwM0Zyb21YIC8qZmxvYXQqLywgcDNGcm9tWSAvKmZsb2F0Ki8sIHA0RnJvbVggLypmbG9hdCovLCBwNEZyb21ZIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSQxLmRlZmF1bHQucXVhZHJpbGF0ZXJhbFRvUXVhZHJpbGF0ZXJhbChwMVRvWCwgcDFUb1ksIHAyVG9YLCBwMlRvWSwgcDNUb1gsIHAzVG9ZLCBwNFRvWCwgcDRUb1ksIHAxRnJvbVgsIHAxRnJvbVksIHAyRnJvbVgsIHAyRnJvbVksIHAzRnJvbVgsIHAzRnJvbVksIHA0RnJvbVgsIHA0RnJvbVkpOwoJICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGVHcmlkV2l0aFRyYW5zZm9ybShpbWFnZSwgZGltZW5zaW9uWCwgZGltZW5zaW9uWSwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBEZWZhdWx0R3JpZFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgdHJhbnNmb3JtKSB7CgkgICAgICAgIGlmIChkaW1lbnNpb25YIDw9IDAgfHwgZGltZW5zaW9uWSA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMSQxLmRlZmF1bHQoZGltZW5zaW9uWCwgZGltZW5zaW9uWSk7CgkgICAgICAgIHZhciBwb2ludHMgPSBuZXcgRmxvYXQzMkFycmF5KDIgKiBkaW1lbnNpb25YKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBkaW1lbnNpb25ZOyB5KyspIHsKCSAgICAgICAgICAgIHZhciBtYXggPSBwb2ludHMubGVuZ3RoOwoJICAgICAgICAgICAgdmFyIGlWYWx1ZSA9IHkgKyAwLjU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1heDsgeCArPSAyKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW3hdID0gKHggLyAyKSArIDAuNTsKCSAgICAgICAgICAgICAgICBwb2ludHNbeCArIDFdID0gaVZhbHVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50cyhwb2ludHMpOwoJICAgICAgICAgICAgLy8gUXVpY2sgY2hlY2sgdG8gc2VlIGlmIHBvaW50cyB0cmFuc2Zvcm1lZCB0byBzb21ldGhpbmcgaW5zaWRlIHRoZSBpbWFnZQoJICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0byBjaGVjayB0aGUgZW5kcG9pbnRzCgkgICAgICAgICAgICBHcmlkU2FtcGxlcl8xLmRlZmF1bHQuY2hlY2tBbmROdWRnZVBvaW50cyhpbWFnZSwgcG9pbnRzKTsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHggKz0gMikgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KE1hdGguZmxvb3IocG9pbnRzW3hdKSwgTWF0aC5mbG9vcihwb2ludHNbeCArIDFdKSkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrKC1pc2gpIHBpeGVsCgkgICAgICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4IC8gMiwgeSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoYWlvb2JlIC8qOiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgICAgIC8vIFRoaXMgZmVlbHMgd3JvbmcsIGJ1dCwgc29tZXRpbWVzIGlmIHRoZSBmaW5kZXIgcGF0dGVybnMgYXJlIG1pc2lkZW50aWZpZWQsIHRoZSByZXN1bHRpbmcKCSAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gZ2V0cyAidHdpc3RlZCIgc3VjaCB0aGF0IGl0IG1hcHMgYSBzdHJhaWdodCBsaW5lIG9mIHBvaW50cyB0byBhIHNldCBvZiBwb2ludHMKCSAgICAgICAgICAgICAgICAvLyB3aG9zZSBlbmRwb2ludHMgYXJlIGluIGJvdW5kcywgYnV0IG90aGVycyBhcmUgbm90LiBUaGVyZSBpcyBwcm9iYWJseSBzb21lIG1hdGhlbWF0aWNhbAoJICAgICAgICAgICAgICAgIC8vIHdheSB0byBkZXRlY3QgdGhpcyBhYm91dCB0aGUgdHJhbnNmb3JtYXRpb24gdGhhdCBJIGRvbid0IGtub3cgeWV0LgoJICAgICAgICAgICAgICAgIC8vIFRoaXMgcmVzdWx0cyBpbiBhbiB1Z2x5IHJ1bnRpbWUgZXhjZXB0aW9uIGRlc3BpdGUgb3VyIGNsZXZlciBjaGVja3MgYWJvdmUgLS0gY2FuJ3QgaGF2ZQoJICAgICAgICAgICAgICAgIC8vIHRoYXQuIFdlIGNvdWxkIGNoZWNrIGVhY2ggcG9pbnQncyBjb29yZGluYXRlcyBidXQgdGhhdCBmZWVscyBkdXBsaWNhdGl2ZS4gV2Ugc2V0dGxlIGZvcgoJICAgICAgICAgICAgICAgIC8vIGNhdGNoaW5nIGFuZCB3cmFwcGluZyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uCgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNC5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICByZXR1cm4gRGVmYXVsdEdyaWRTYW1wbGVyOwoJfShHcmlkU2FtcGxlcl8xLmRlZmF1bHQpKTsKCURlZmF1bHRHcmlkU2FtcGxlciQxLmRlZmF1bHQgPSBEZWZhdWx0R3JpZFNhbXBsZXI7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVySW5zdGFuY2UkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIERlZmF1bHRHcmlkU2FtcGxlcl8xID0gRGVmYXVsdEdyaWRTYW1wbGVyJDE7Cgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBHcmlkU2FtcGxlckluc3RhbmNlKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBTZXRzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBHcmlkU2FtcGxlciB1c2VkIGJ5IHRoZSBsaWJyYXJ5LiBPbmUgZ2xvYmFsCgkgICAgICogaW5zdGFuY2UgaXMgc3RvcmVkLCB3aGljaCBtYXkgc291bmQgcHJvYmxlbWF0aWMuIEJ1dCwgdGhlIGltcGxlbWVudGF0aW9uIHByb3ZpZGVkCgkgICAgICogb3VnaHQgdG8gYmUgYXBwcm9wcmlhdGUgZm9yIHRoZSBlbnRpcmUgcGxhdGZvcm0sIGFuZCBhbGwgdXNlcyBvZiB0aGlzIGxpYnJhcnkKCSAgICAgKiBpbiB0aGUgd2hvbGUgbGlmZXRpbWUgb2YgdGhlIEpWTS4gRm9yIGluc3RhbmNlLCBhbiBBbmRyb2lkIGFjdGl2aXR5IGNhbiBzd2FwIGluCgkgICAgICogYW4gaW1wbGVtZW50YXRpb24gdGhhdCB0YWtlcyBhZHZhbnRhZ2Ugb2YgbmF0aXZlIHBsYXRmb3JtIGxpYnJhcmllcy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBuZXdHcmlkU2FtcGxlciBUaGUgcGxhdGZvcm0tc3BlY2lmaWMgb2JqZWN0IHRvIGluc3RhbGwuCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5zZXRHcmlkU2FtcGxlciA9IGZ1bmN0aW9uIChuZXdHcmlkU2FtcGxlcikgewoJICAgICAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3R3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIEdyaWRTYW1wbGVyCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIEdyaWRTYW1wbGVySW5zdGFuY2UuZ3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3IERlZmF1bHRHcmlkU2FtcGxlcl8xLmRlZmF1bHQoKTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXJJbnN0YW5jZTsKCX0oKSk7CglHcmlkU2FtcGxlckluc3RhbmNlJDEuZGVmYXVsdCA9IEdyaWRTYW1wbGVySW5zdGFuY2U7CgoJdmFyIFJlc3VsdFBvaW50JDEgPSB7fTsKCgl2YXIgRmxvYXQkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIFBvbnlmaWxsIGZvciBKYXZhJ3MgRmxvYXQgY2xhc3MuCgkgKi8KCXZhciBGbG9hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBGbG9hdCgpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogU2luY1RTIGhhcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gaW50IGFuZCBmbG9hdCwgdGhlcmUncyBhbGwgbnVtYmVycywKCSAgICAgKiB0aGlzIGlzIHVzZWQgb25seSB0byBwb2x5ZmlsbCBKYXZhIGNvZGUuCgkgICAgICovCgkgICAgRmxvYXQuZmxvYXRUb0ludEJpdHMgPSBmdW5jdGlvbiAoZikgewoJICAgICAgICByZXR1cm4gZjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFRoZSBmbG9hdCBtYXggdmFsdWUgaW4gSlMgaXMgdGhlIG51bWJlciBtYXggdmFsdWUuCgkgICAgICovCgkgICAgRmxvYXQuTUFYX1ZBTFVFID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgcmV0dXJuIEZsb2F0OwoJfSgpKTsKCUZsb2F0JDEuZGVmYXVsdCA9IEZsb2F0OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0UG9pbnQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCXZhciBNYXRoVXRpbHNfMSQxID0gTWF0aFV0aWxzJDE7Cgl2YXIgRmxvYXRfMSA9IEZsb2F0JDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHBvaW50IG9mIGludGVyZXN0IGluIGFuIGltYWdlIGNvbnRhaW5pbmcgYSBiYXJjb2RlLiBUeXBpY2FsbHksIHRoaXMKCSAqIHdvdWxkIGJlIHRoZSBsb2NhdGlvbiBvZiBhIGZpbmRlciBwYXR0ZXJuIG9yIHRoZSBjb3JuZXIgb2YgdGhlIGJhcmNvZGUsIGZvciBleGFtcGxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0UG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUmVzdWx0UG9pbnQoeCwgeSkgewoJICAgICAgICB0aGlzLnggPSB4OwoJICAgICAgICB0aGlzLnkgPSB5OwoJICAgIH0KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMueDsKCSAgICB9OwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy55OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVzdWx0UG9pbnQpIHsKCSAgICAgICAgICAgIHZhciBvdGhlclBvaW50ID0gb3RoZXI7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlclBvaW50LnggJiYgdGhpcy55ID09PSBvdGhlclBvaW50Lnk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogRmxvYXRfMS5kZWZhdWx0LmZsb2F0VG9JbnRCaXRzKHRoaXMueCkgKyBGbG9hdF8xLmRlZmF1bHQuZmxvYXRUb0ludEJpdHModGhpcy55KTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiAnKCcgKyB0aGlzLnggKyAnLCcgKyB0aGlzLnkgKyAnKSc7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBPcmRlcnMgYW4gYXJyYXkgb2YgdGhyZWUgUmVzdWx0UG9pbnRzIGluIGFuIG9yZGVyIFtBLEIsQ10gc3VjaCB0aGF0IEFCIGlzIGxlc3MgdGhhbiBBQwoJICAgICAqIGFuZCBCQyBpcyBsZXNzIHRoYW4gQUMsIGFuZCB0aGUgYW5nbGUgYmV0d2VlbiBCQyBhbmQgQkEgaXMgbGVzcyB0aGFuIDE4MCBkZWdyZWVzLgoJICAgICAqCgkgICAgICogQHBhcmFtIHBhdHRlcm5zIGFycmF5IG9mIHRocmVlIHtAY29kZSBSZXN1bHRQb2ludH0gdG8gb3JkZXIKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5vcmRlckJlc3RQYXR0ZXJucyA9IGZ1bmN0aW9uIChwYXR0ZXJucykgewoJICAgICAgICAvLyBGaW5kIGRpc3RhbmNlcyBiZXR3ZWVuIHBhdHRlcm4gY2VudGVycwoJICAgICAgICB2YXIgemVyb09uZURpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShwYXR0ZXJuc1swXSwgcGF0dGVybnNbMV0pOwoJICAgICAgICB2YXIgb25lVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzFdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciB6ZXJvVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzBdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciBwb2ludEE7CgkgICAgICAgIHZhciBwb2ludEI7CgkgICAgICAgIHZhciBwb2ludEM7CgkgICAgICAgIC8vIEFzc3VtZSBvbmUgY2xvc2VzdCB0byBvdGhlciB0d28gaXMgQjsgQSBhbmQgQyB3aWxsIGp1c3QgYmUgZ3Vlc3NlcyBhdCBmaXJzdAoJICAgICAgICBpZiAob25lVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlICYmIG9uZVR3b0Rpc3RhbmNlID49IHplcm9Ud29EaXN0YW5jZSkgewoJICAgICAgICAgICAgcG9pbnRCID0gcGF0dGVybnNbMF07CgkgICAgICAgICAgICBwb2ludEEgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QyA9IHBhdHRlcm5zWzJdOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHplcm9Ud29EaXN0YW5jZSA+PSBvbmVUd29EaXN0YW5jZSAmJiB6ZXJvVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlKSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMl07CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1syXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMV07CgkgICAgICAgIH0KCSAgICAgICAgLy8gVXNlIGNyb3NzIHByb2R1Y3QgdG8gZmlndXJlIG91dCB3aGV0aGVyIEEgYW5kIEMgYXJlIGNvcnJlY3Qgb3IgZmxpcHBlZC4KCSAgICAgICAgLy8gVGhpcyBhc2tzIHdoZXRoZXIgQkMgeCBCQSBoYXMgYSBwb3NpdGl2ZSB6IGNvbXBvbmVudCwgd2hpY2ggaXMgdGhlIGFycmFuZ2VtZW50CgkgICAgICAgIC8vIHdlIHdhbnQgZm9yIEEsIEIsIEMuIElmIGl0J3MgbmVnYXRpdmUsIHRoZW4gd2UndmUgZ290IGl0IGZsaXBwZWQgYXJvdW5kIGFuZAoJICAgICAgICAvLyBzaG91bGQgc3dhcCBBIGFuZCBDLgoJICAgICAgICBpZiAodGhpcy5jcm9zc1Byb2R1Y3RaKHBvaW50QSwgcG9pbnRCLCBwb2ludEMpIDwgMC4wKSB7CgkgICAgICAgICAgICB2YXIgdGVtcCA9IHBvaW50QTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBvaW50QzsKCSAgICAgICAgICAgIHBvaW50QyA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgcGF0dGVybnNbMF0gPSBwb2ludEE7CgkgICAgICAgIHBhdHRlcm5zWzFdID0gcG9pbnRCOwoJICAgICAgICBwYXR0ZXJuc1syXSA9IHBvaW50QzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBwYXR0ZXJuMSBmaXJzdCBwYXR0ZXJuCgkgICAgICogQHBhcmFtIHBhdHRlcm4yIHNlY29uZCBwYXR0ZXJuCgkgICAgICogQHJldHVybiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5kaXN0YW5jZSA9IGZ1bmN0aW9uIChwYXR0ZXJuMSwgcGF0dGVybjIpIHsKCSAgICAgICAgcmV0dXJuIE1hdGhVdGlsc18xJDEuZGVmYXVsdC5kaXN0YW5jZShwYXR0ZXJuMS54LCBwYXR0ZXJuMS55LCBwYXR0ZXJuMi54LCBwYXR0ZXJuMi55KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHogY29tcG9uZW50IG9mIHRoZSBjcm9zcyBwcm9kdWN0IGJldHdlZW4gdmVjdG9ycyBCQyBhbmQgQkEuCgkgICAgICovCgkgICAgUmVzdWx0UG9pbnQuY3Jvc3NQcm9kdWN0WiA9IGZ1bmN0aW9uIChwb2ludEEsIHBvaW50QiwgcG9pbnRDKSB7CgkgICAgICAgIHZhciBiWCA9IHBvaW50Qi54OwoJICAgICAgICB2YXIgYlkgPSBwb2ludEIueTsKCSAgICAgICAgcmV0dXJuICgocG9pbnRDLnggLSBiWCkgKiAocG9pbnRBLnkgLSBiWSkpIC0gKChwb2ludEMueSAtIGJZKSAqIChwb2ludEEueCAtIGJYKSk7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0UG9pbnQ7Cgl9KCkpOwoJUmVzdWx0UG9pbnQkMS5kZWZhdWx0ID0gUmVzdWx0UG9pbnQ7CgoJdmFyIEFsaWdubWVudFBhdHRlcm5GaW5kZXIkMSA9IHt9OwoKCXZhciBBbGlnbm1lbnRQYXR0ZXJuJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyQxID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFsaWdubWVudFBhdHRlcm4kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgUmVzdWx0UG9pbnRfMSQzID0gUmVzdWx0UG9pbnQkMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGFuIGFsaWdubWVudCBwYXR0ZXJuLCB3aGljaCBhcmUgdGhlIHNtYWxsZXIgc3F1YXJlIHBhdHRlcm5zIGZvdW5kIGluCgkgKiBhbGwgYnV0IHRoZSBzaW1wbGVzdCBRUiBDb2Rlcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEFsaWdubWVudFBhdHRlcm4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDEoQWxpZ25tZW50UGF0dGVybiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZXJtaW5lcyBpZiB0aGlzIGFsaWdubWVudCBwYXR0ZXJuICJhYm91dCBlcXVhbHMiIGFuIGFsaWdubWVudCBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhbiBhdmVyYWdlIG9mIHRoZSB0d28uCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybi5wcm90b3R5cGUuY29tYmluZUVzdGltYXRlID0gZnVuY3Rpb24gKGkgLypmbG9hdCovLCBqIC8qZmxvYXQqLywgbmV3TW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIGNvbWJpbmVkWCA9ICh0aGlzLmdldFgoKSArIGopIC8gMi4wOwoJICAgICAgICB2YXIgY29tYmluZWRZID0gKHRoaXMuZ2V0WSgpICsgaSkgLyAyLjA7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplICsgbmV3TW9kdWxlU2l6ZSkgLyAyLjA7CgkgICAgICAgIHJldHVybiBuZXcgQWxpZ25tZW50UGF0dGVybihjb21iaW5lZFgsIGNvbWJpbmVkWSwgY29tYmluZWRNb2R1bGVTaXplKTsKCSAgICB9OwoJICAgIHJldHVybiBBbGlnbm1lbnRQYXR0ZXJuOwoJfShSZXN1bHRQb2ludF8xJDMuZGVmYXVsdCkpOwoJQWxpZ25tZW50UGF0dGVybiQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX192YWx1ZXMkMSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuXzEgPSBBbGlnbm1lbnRQYXR0ZXJuJDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQzID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBhbGlnbm1lbnQgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBBbGlnbm1lbnQgcGF0dGVybnMgbG9vayBsaWtlIGZpbmRlcgoJICogcGF0dGVybnMgYnV0IGFyZSBzbWFsbGVyIGFuZCBhcHBlYXIgYXQgcmVndWxhciBpbnRlcnZhbHMgdGhyb3VnaG91dCB0aGUgaW1hZ2UuPC9wPgoJICoKCSAqIDxwPkF0IHRoZSBtb21lbnQgdGhpcyBvbmx5IGxvb2tzIGZvciB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAqCgkgKiA8cD5UaGlzIGlzIG1vc3RseSBhIHNpbXBsaWZpZWQgY29weSBvZiB7QGxpbmsgRmluZGVyUGF0dGVybkZpbmRlcn0uIEl0IGlzIGNvcGllZCwKCSAqIHBhc3RlZCBhbmQgc3RyaXBwZWQgZG93biBoZXJlIGZvciBtYXhpbXVtIHBlcmZvcm1hbmNlIGJ1dCBkb2VzIHVuZm9ydHVuYXRlbHkgZHVwbGljYXRlCgkgKiBzb21lIGNvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8qKgoJICAgICAqIDxwPkNyZWF0ZXMgYSBmaW5kZXIgdGhhdCB3aWxsIGxvb2sgaW4gYSBwb3J0aW9uIG9mIHRoZSB3aG9sZSBpbWFnZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gaW1hZ2UgaW1hZ2UgdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIHN0YXJ0WCBsZWZ0IGNvbHVtbiBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSBzdGFydFkgdG9wIHJvdyBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSB3aWR0aCB3aWR0aCBvZiByZWdpb24gdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIGhlaWdodCBoZWlnaHQgb2YgcmVnaW9uIHRvIHNlYXJjaAoJICAgICAqIEBwYXJhbSBtb2R1bGVTaXplIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBzbyBmYXIKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyKGltYWdlLCBzdGFydFggLyppbnQqLywgc3RhcnRZIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBtb2R1bGVTaXplIC8qZmxvYXQqLywgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMuc3RhcnRYID0gc3RhcnRYOwoJICAgICAgICB0aGlzLnN0YXJ0WSA9IHN0YXJ0WTsKCSAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoOwoJICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgdGhpcy5tb2R1bGVTaXplID0gbW9kdWxlU2l6ZTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICAgICAgdGhpcy5wb3NzaWJsZUNlbnRlcnMgPSBbXTsgLy8gbmV3IEFycmF5PGFueT4oNSkpCgkgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBhcnJheSBpbml0aWFsaXphdGlvbiB3aXRob3V0IHNpemUgYXMgdGhlIGxlbmd0aCBpcyBjaGVja2VkIGJlbG93CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSgzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+VGhpcyBtZXRob2QgYXR0ZW1wdHMgdG8gZmluZCB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuIGluIHRoZSBpbWFnZS4gSXQgaXMgYSBiaXQgbWVzc3kgc2luY2UKCSAgICAgKiBpdCdzIHByZXR0eSBwZXJmb3JtYW5jZS1jcml0aWNhbCBhbmQgc28gaXMgd3JpdHRlbiB0byBiZSBmYXN0IGZvcmVtb3N0LjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBub3QgZm91bmQKCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgc3RhcnRYID0gdGhpcy5zdGFydFg7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodDsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIG1heEogPSBzdGFydFggKyB3aWR0aDsKCSAgICAgICAgdmFyIG1pZGRsZUkgPSB0aGlzLnN0YXJ0WSArIChoZWlnaHQgLyAyKTsKCSAgICAgICAgLy8gV2UgYXJlIGxvb2tpbmcgZm9yIGJsYWNrL3doaXRlL2JsYWNrIG1vZHVsZXMgaW4gMToxOjEgcmF0aW8KCSAgICAgICAgLy8gdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIHNlZW4gc28gZmFyCgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoMyk7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIGZvciAodmFyIGlHZW4gPSAwOyBpR2VuIDwgaGVpZ2h0OyBpR2VuKyspIHsKCSAgICAgICAgICAgIC8vIFNlYXJjaCBmcm9tIG1pZGRsZSBvdXR3YXJkcwoJICAgICAgICAgICAgdmFyIGkgPSBtaWRkbGVJICsgKChpR2VuICYgMHgwMSkgPT09IDAgPyBNYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSA6IC1NYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSk7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICB2YXIgaiA9IHN0YXJ0WDsKCSAgICAgICAgICAgIC8vIEJ1cm4gb2ZmIGxlYWRpbmcgd2hpdGUgcGl4ZWxzIGJlZm9yZSBhbnl0aGluZyBlbHNlOyBpZiB3ZSBzdGFydCBpbiB0aGUgbWlkZGxlIG9mCgkgICAgICAgICAgICAvLyBhIHdoaXRlIHJ1biwgaXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIGNvdW50IGl0cyBsZW5ndGgsIHNpbmNlIHdlIGRvbid0IGtub3cgaWYgdGhlCgkgICAgICAgICAgICAvLyB3aGl0ZSBydW4gY29udGludWVkIHRvIHRoZSBsZWZ0IG9mIHRoZSBzdGFydCBwb2ludAoJICAgICAgICAgICAgd2hpbGUgKGogPCBtYXhKICYmICFpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gMDsKCSAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4SikgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gQ291bnRpbmcgd2hpdGUgcGl4ZWxzCgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAyKSB7IC8vIEEgd2lubmVyPwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpKSB7IC8vIFllcwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBqKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gc3RhdGVDb3VudFsyXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gMTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsrK2N1cnJlbnRTdGF0ZV0rKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAodGhpcy5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSkgewoJICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIG1heEopOwoJICAgICAgICAgICAgICAgIGlmIChjb25maXJtZWQgIT09IG51bGwpIHsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBub3RoaW5nIHdlIHNhdyB3YXMgb2JzZXJ2ZWQgYW5kIGNvbmZpcm1lZCB0d2ljZS4gSWYgd2UgaGFkCgkgICAgICAgIC8vIGFueSBndWVzcyBhdCBhbGwsIHJldHVybiBpdC4KCSAgICAgICAgaWYgKHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aCAhPT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zc2libGVDZW50ZXJzWzBdOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogR2l2ZW4gYSBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCBzZWVuIGFuZCBhbiBlbmQgcG9zaXRpb24sCgkgICAgICogZmlndXJlcyB0aGUgbG9jYXRpb24gb2YgdGhlIGNlbnRlciBvZiB0aGlzIGJsYWNrL3doaXRlL2JsYWNrIHJ1bi4KCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCwgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIChlbmQgLSBzdGF0ZUNvdW50WzJdKSAtIHN0YXRlQ291bnRbMV0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8xIHJhdGlvcwoJICAgICAqICAgICAgICAgdXNlZCBieSBhbGlnbm1lbnQgcGF0dGVybnMgdG8gYmUgY29uc2lkZXJlZCBhIG1hdGNoCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMubW9kdWxlU2l6ZTsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFtpXSkgPj0gbWF4VmFyaWFuY2UpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5BZnRlciBhIGhvcml6b250YWwgc2NhbiBmaW5kcyBhIHBvdGVudGlhbCBhbGlnbm1lbnQgcGF0dGVybiwgdGhpcyBtZXRob2QKCSAgICAgKiAiY3Jvc3MtY2hlY2tzIiBieSBzY2FubmluZyBkb3duIHZlcnRpY2FsbHkgdGhyb3VnaCB0aGUgY2VudGVyIG9mIHRoZSBwb3NzaWJsZQoJICAgICAqIGFsaWdubWVudCBwYXR0ZXJuIHRvIHNlZSBpZiB0aGUgc2FtZSBwcm9wb3J0aW9uIGlzIGRldGVjdGVkLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydEkgcm93IHdoZXJlIGFuIGFsaWdubWVudCBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYW4gYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBhbGlnbm1lbnQgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAvLyBTdGFydCBjb3VudGluZyB1cCBmcm9tIGNlbnRlcgoJICAgICAgICB2YXIgaSA9IHN0YXJ0STsKCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMF0gPD0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMF0rKzsKCSAgICAgICAgICAgIGktLTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFswXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIC8vIE5vdyBhbHNvIGNvdW50IGRvd24gZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IHN0YXJ0SSArIDE7CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbMV0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA8IG1heEkgJiYgIWltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzJdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzJdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMl0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSAyICogb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkgPyBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaSkgOiBOYU47CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5UaGlzIGlzIGNhbGxlZCB3aGVuIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4uIEl0IHdpbGwKCSAgICAgKiBjcm9zcyBjaGVjayB3aXRoIGEgdmVydGljYWwgc2NhbiwgYW5kIGlmIHN1Y2Nlc3NmdWwsIHdpbGwgc2VlIGlmIHRoaXMgcGF0dGVybiBoYWQgYmVlbgoJICAgICAqIGZvdW5kIG9uIGEgcHJldmlvdXMgaG9yaXpvbnRhbCBzY2FuLiBJZiBzbywgd2UgY29uc2lkZXIgaXQgY29uZmlybWVkIGFuZCBjb25jbHVkZSB3ZSBoYXZlCgkgICAgICogZm91bmQgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGF0ZUNvdW50IHJlYWRpbmcgc3RhdGUgbW9kdWxlIGNvdW50cyBmcm9tIGhvcml6b250YWwgc2NhbgoJICAgICAqIEBwYXJhbSBpIHJvdyB3aGVyZSBhbGlnbm1lbnQgcGF0dGVybiBtYXkgYmUgZm91bmQKCSAgICAgKiBAcGFyYW0gaiBlbmQgb2YgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4gaW4gcm93CgkgICAgICogQHJldHVybiB7QGxpbmsgQWxpZ25tZW50UGF0dGVybn0gaWYgd2UgaGF2ZSBmb3VuZCB0aGUgc2FtZSBwYXR0ZXJuIHR3aWNlLCBvciBudWxsIGlmIG5vdAoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmhhbmRsZVBvc3NpYmxlQ2VudGVyID0gZnVuY3Rpb24gKHN0YXRlQ291bnQsIGkgLyppbnQqLywgaiAvKmludCovKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICB2YXIgY2VudGVySiA9IEFsaWdubWVudFBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKTsKCSAgICAgICAgdmFyIGNlbnRlckkgPSB0aGlzLmNyb3NzQ2hlY2tWZXJ0aWNhbChpLCAvKihpbnQpICovIGNlbnRlckosIDIgKiBzdGF0ZUNvdW50WzFdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IChzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0pIC8gMy4wOwoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzJDEodGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYWJvdXQgdGhlIHNhbWUgY2VudGVyIGFuZCBtb2R1bGUgc2l6ZToKCSAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5hYm91dEVxdWFscyhlc3RpbWF0ZWRNb2R1bGVTaXplLCBjZW50ZXJJLCBjZW50ZXJKKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbnRlci5jb21iaW5lRXN0aW1hdGUoY2VudGVySSwgY2VudGVySiwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBIYWRuJ3QgZm91bmQgdGhpcyBiZWZvcmU7IHNhdmUgaXQKCSAgICAgICAgICAgIHZhciBwb2ludCA9IG5ldyBBbGlnbm1lbnRQYXR0ZXJuXzEuZGVmYXVsdChjZW50ZXJKLCBjZW50ZXJJLCBlc3RpbWF0ZWRNb2R1bGVTaXplKTsKCSAgICAgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzLnB1c2gocG9pbnQpOwoJICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjay5mb3VuZFBvc3NpYmxlUmVzdWx0UG9pbnQocG9pbnQpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgcmV0dXJuIEFsaWdubWVudFBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJQWxpZ25tZW50UGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyOwoKCXZhciBGaW5kZXJQYXR0ZXJuRmluZGVyJDEgPSB7fTsKCgl2YXIgRmluZGVyUGF0dGVybiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRmluZGVyUGF0dGVybiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZXRlY3RvciB7Ki8KCXZhciBSZXN1bHRQb2ludF8xJDIgPSBSZXN1bHRQb2ludCQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBmaW5kZXIgcGF0dGVybiwgd2hpY2ggYXJlIHRoZSB0aHJlZSBzcXVhcmUgcGF0dGVybnMgZm91bmQgaW4KCSAqIHRoZSBjb3JuZXJzIG9mIFFSIENvZGVzLiBJdCBhbHNvIGVuY2Fwc3VsYXRlcyBhIGNvdW50IG9mIHNpbWlsYXIgZmluZGVyIHBhdHRlcm5zLAoJICogYXMgYSBjb252ZW5pZW5jZSB0byB0aGUgZmluZGVyJ3MgYm9va2tlZXBpbmcuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBGaW5kZXJQYXR0ZXJuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyhGaW5kZXJQYXR0ZXJuLCBfc3VwZXIpOwoJICAgIC8vIEZpbmRlclBhdHRlcm4ocG9zWDogbnVtYmVyLypmbG9hdCovLCBwb3NZOiBudW1iZXIvKmZsb2F0Ki8sIGVzdGltYXRlZE1vZHVsZVNpemU6IG51bWJlci8qZmxvYXQqLykgewoJICAgIC8vICAgdGhpcyhwb3NYLCBwb3NZLCBlc3RpbWF0ZWRNb2R1bGVTaXplLCAxKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBGaW5kZXJQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8sIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIF90aGlzLmNvdW50ID0gY291bnQ7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNvdW50KSB7CgkgICAgICAgICAgICBfdGhpcy5jb3VudCA9IDE7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybi5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvdW50OwoJICAgIH07CgkgICAgLyoKCSAgICB2b2lkIGluY3JlbWVudENvdW50KCkgewoJICAgICAgdGhpcy5jb3VudCsrCgkgICAgfQoJICAgICAqLwoJICAgIC8qKgoJICAgICAqIDxwPkRldGVybWluZXMgaWYgdGhpcyBmaW5kZXIgcGF0dGVybiAiYWJvdXQgZXF1YWxzIiBhIGZpbmRlciBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhIHdlaWdodGVkIGF2ZXJhZ2UKCSAgICAgKiBiYXNlZCBvbiBjb3VudC4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5jb21iaW5lRXN0aW1hdGUgPSBmdW5jdGlvbiAoaSAvKmZsb2F0Ki8sIGogLypmbG9hdCovLCBuZXdNb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgY29tYmluZWRDb3VudCA9IHRoaXMuY291bnQgKyAxOwoJICAgICAgICB2YXIgY29tYmluZWRYID0gKHRoaXMuY291bnQgKiB0aGlzLmdldFgoKSArIGopIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgdmFyIGNvbWJpbmVkWSA9ICh0aGlzLmNvdW50ICogdGhpcy5nZXRZKCkgKyBpKSAvIGNvbWJpbmVkQ291bnQ7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5jb3VudCAqIHRoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSArIG5ld01vZHVsZVNpemUpIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgcmV0dXJuIG5ldyBGaW5kZXJQYXR0ZXJuKGNvbWJpbmVkWCwgY29tYmluZWRZLCBjb21iaW5lZE1vZHVsZVNpemUsIGNvbWJpbmVkQ291bnQpOwoJICAgIH07CgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm47Cgl9KFJlc3VsdFBvaW50XzEkMi5kZWZhdWx0KSk7CglGaW5kZXJQYXR0ZXJuJDEuZGVmYXVsdCA9IEZpbmRlclBhdHRlcm47CgoJdmFyIEZpbmRlclBhdHRlcm5JbmZvJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5JbmZvJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGluZm9ybWF0aW9uIGFib3V0IGZpbmRlciBwYXR0ZXJucyBpbiBhbiBpbWFnZSwgaW5jbHVkaW5nIHRoZSBsb2NhdGlvbiBvZgoJICogdGhlIHRocmVlIGZpbmRlciBwYXR0ZXJucywgYW5kIHRoZWlyIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5JbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZpbmRlclBhdHRlcm5JbmZvKHBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHRoaXMuYm90dG9tTGVmdCA9IHBhdHRlcm5DZW50ZXJzWzBdOwoJICAgICAgICB0aGlzLnRvcExlZnQgPSBwYXR0ZXJuQ2VudGVyc1sxXTsKCSAgICAgICAgdGhpcy50b3BSaWdodCA9IHBhdHRlcm5DZW50ZXJzWzJdOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuSW5mby5wcm90b3R5cGUuZ2V0Qm90dG9tTGVmdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tTGVmdDsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5JbmZvLnByb3RvdHlwZS5nZXRUb3BMZWZ0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BMZWZ0OwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkluZm8ucHJvdG90eXBlLmdldFRvcFJpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BSaWdodDsKCSAgICB9OwoJICAgIHJldHVybiBGaW5kZXJQYXR0ZXJuSW5mbzsKCX0oKSk7CglGaW5kZXJQYXR0ZXJuSW5mbyQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuSW5mbzsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5GaW5kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQyID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBSZXN1bHRQb2ludF8xJDEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIEZpbmRlclBhdHRlcm5fMSA9IEZpbmRlclBhdHRlcm4kMTsKCXZhciBGaW5kZXJQYXR0ZXJuSW5mb18xID0gRmluZGVyUGF0dGVybkluZm8kMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDIgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyppbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbXBhcmF0b3I7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBmaW5kZXIgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBGaW5kZXIgcGF0dGVybnMgYXJlIHRoZSBzcXVhcmUKCSAqIG1hcmtlcnMgYXQgdGhyZWUgY29ybmVycyBvZiBhIFFSIENvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5GaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogPHA+Q3JlYXRlcyBhIGZpbmRlciB0aGF0IHdpbGwgc2VhcmNoIHRoZSBpbWFnZSBmb3IgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBpbWFnZSBpbWFnZSB0byBzZWFyY2gKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoaW1hZ2U6IEJpdE1hdHJpeCkgewoJICAgIC8vICAgdGhpcyhpbWFnZSwgbnVsbCkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRmluZGVyUGF0dGVybkZpbmRlcihpbWFnZSwgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayA9IHJlc3VsdFBvaW50Q2FsbGJhY2s7CgkgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzID0gW107CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSg1KTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICB9CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmltYWdlOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0UG9zc2libGVDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGhpbnRzKSB7CgkgICAgICAgIHZhciB0cnlIYXJkZXIgPSAoaGludHMgIT09IG51bGwgJiYgaGludHMgIT09IHVuZGVmaW5lZCkgJiYgdW5kZWZpbmVkICE9PSBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQyLmRlZmF1bHQuVFJZX0hBUkRFUik7CgkgICAgICAgIHZhciBwdXJlQmFyY29kZSA9IChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkKSAmJiB1bmRlZmluZWQgIT09IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZV8xJDIuZGVmYXVsdC5QVVJFX0JBUkNPREUpOwoJICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlOwoJICAgICAgICB2YXIgbWF4SSA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgbWF4SiA9IGltYWdlLmdldFdpZHRoKCk7CgkgICAgICAgIC8vIFdlIGFyZSBsb29raW5nIGZvciBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIGluCgkgICAgICAgIC8vIDE6MTozOjE6MSByYXRpbzsgdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBzdWNoIG1vZHVsZXMgc2VlbiBzbyBmYXIKCSAgICAgICAgLy8gTGV0J3MgYXNzdW1lIHRoYXQgdGhlIG1heGltdW0gdmVyc2lvbiBRUiBDb2RlIHdlIHN1cHBvcnQgdGFrZXMgdXAgMS80IHRoZSBoZWlnaHQgb2YgdGhlCgkgICAgICAgIC8vIGltYWdlLCBhbmQgdGhlbiBhY2NvdW50IGZvciB0aGUgY2VudGVyIGJlaW5nIDMgbW9kdWxlcyBpbiBzaXplLiBUaGlzIGdpdmVzIHRoZSBzbWFsbGVzdAoJICAgICAgICAvLyBudW1iZXIgb2YgcGl4ZWxzIHRoZSBjZW50ZXIgY291bGQgYmUsIHNvIHNraXAgdGhpcyBvZnRlbi4gV2hlbiB0cnlpbmcgaGFyZGVyLCBsb29rIGZvciBhbGwKCSAgICAgICAgLy8gUVIgdmVyc2lvbnMgcmVnYXJkbGVzcyBvZiBob3cgZGVuc2UgdGhleSBhcmUuCgkgICAgICAgIHZhciBpU2tpcCA9IE1hdGguZmxvb3IoKDMgKiBtYXhJKSAvICg0ICogRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUykpOwoJICAgICAgICBpZiAoaVNraXAgPCBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQIHx8IHRyeUhhcmRlcikgewoJICAgICAgICAgICAgaVNraXAgPSBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkb25lID0gZmFsc2U7CgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoNSk7CgkgICAgICAgIGZvciAodmFyIGkgPSBpU2tpcCAtIDE7IGkgPCBtYXhJICYmICFkb25lOyBpICs9IGlTa2lwKSB7CgkgICAgICAgICAgICAvLyBHZXQgYSByb3cgb2YgYmxhY2svd2hpdGUgdmFsdWVzCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0gPSAwOwoJICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IDA7CgkgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1heEo7IGorKykgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMSkgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMCkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09IDQpIHsgLy8gQSB3aW5uZXI/CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsgLy8gWWVzCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIGosIHB1cmVCYXJjb2RlKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgZXhhbWluaW5nIGV2ZXJ5IG90aGVyIGxpbmUuIENoZWNraW5nIGVhY2ggbGluZSB0dXJuZWQgb3V0IHRvIGJlIHRvbwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwZW5zaXZlIGFuZCBkaWRuJ3QgaW1wcm92ZSBwZXJmb3JtYW5jZS4KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlTa2lwID0gMjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQgPT09IHRydWUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93U2tpcCA9IHRoaXMuZmluZFJvd1NraXAoKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93U2tpcCA+IHN0YXRlQ291bnRbMl0pIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCByb3dzIGJldHdlZW4gcm93IG9mIGxvd2VyIGNvbmZpcm1lZCBjZW50ZXIKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRvcCBvZiBwcmVzdW1lZCB0aGlyZCBjb25maXJtZWQgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBiYWNrIHVwIGEgYml0IHRvIGdldCBhIGZ1bGwgY2hhbmNlIG9mIGRldGVjdGluZwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCwgZW50aXJlIHdpZHRoIG9mIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGJ5IHJvd1NraXAsIGJ1dCBiYWNrIG9mZiBieSBzdGF0ZUNvdW50WzJdIChzaXplIG9mIGxhc3QgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHBhdHRlcm4gd2Ugc2F3KSB0byBiZSBjb25zZXJ2YXRpdmUsIGFuZCBhbHNvIGJhY2sgb2ZmIGJ5IGlTa2lwIHdoaWNoCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIGFib3V0IHRvIGJlIHJlLWFkZGVkCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gcm93U2tpcCAtIHN0YXRlQ291bnRbMl0gLSBpU2tpcDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IG1heEogLSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IHN0YXRlQ291bnRbM107CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gc3RhdGVDb3VudFs0XTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAzOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgc3RhdGUgdG8gc3RhcnQgbG9va2luZyBhZ2FpbgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBObywgc2hpZnQgY291bnRzIGJhY2sgYnkgdHdvCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gc3RhdGVDb3VudFszXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IHN0YXRlQ291bnRbNF07CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gMzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WysrY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBtYXhKLCBwdXJlQmFyY29kZSk7CgkgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICBpU2tpcCA9IHN0YXRlQ291bnRbMF07CgkgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGEgdGhpcmQgb25lCgkgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBhdHRlcm5JbmZvID0gdGhpcy5zZWxlY3RCZXN0UGF0dGVybnMoKTsKCSAgICAgICAgUmVzdWx0UG9pbnRfMSQxLmRlZmF1bHQub3JkZXJCZXN0UGF0dGVybnMocGF0dGVybkluZm8pOwoJICAgICAgICByZXR1cm4gbmV3IEZpbmRlclBhdHRlcm5JbmZvXzEuZGVmYXVsdChwYXR0ZXJuSW5mbyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBHaXZlbiBhIGNvdW50IG9mIGJsYWNrL3doaXRlL2JsYWNrL3doaXRlL2JsYWNrIHBpeGVscyBqdXN0IHNlZW4gYW5kIGFuIGVuZCBwb3NpdGlvbiwKCSAgICAgKiBmaWd1cmVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoaXMgcnVuLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZCA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBlbmQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gKGVuZCAtIHN0YXRlQ291bnRbNF0gLSBzdGF0ZUNvdW50WzNdKSAtIHN0YXRlQ291bnRbMl0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8zLzEvMSByYXRpb3MKCSAgICAgKiAgICAgICAgIHVzZWQgYnkgZmluZGVyIHBhdHRlcm5zIHRvIGJlIGNvbnNpZGVyZWQgYSBtYXRjaAoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHsKCSAgICAgICAgICAgIHZhciBjb3VudCA9IHN0YXRlQ291bnRbaV07CgkgICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gY291bnQ7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvdGFsTW9kdWxlU2l6ZSA8IDcpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIDcuMDsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgLy8gQWxsb3cgbGVzcyB0aGFuIDUwJSB2YXJpYW5jZSBmcm9tIDEtMS0zLTEtMSBwcm9wb3J0aW9ucwoJICAgICAgICByZXR1cm4gTWF0aC5hYnMobW9kdWxlU2l6ZSAtIHN0YXRlQ291bnRbMF0pIDwgbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzFdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicygzLjAgKiBtb2R1bGVTaXplIC0gc3RhdGVDb3VudFsyXSkgPCAzICogbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzNdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFs0XSkgPCBtYXhWYXJpYW5jZTsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgY3Jvc3NDaGVja1N0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFswXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzFdID0gMDsKCSAgICAgICAgY3Jvc3NDaGVja1N0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFszXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgcmV0dXJuIGNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQWZ0ZXIgYSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jcm9zcy1jcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gZGlhZ29uYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnRJIHJvdyB3aGVyZSBhIGZpbmRlciBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYSBmaW5kZXIgcGF0dGVybgoJICAgICAqIEBwYXJhbSBtYXhDb3VudCBtYXhpbXVtIHJlYXNvbmFibGUgbnVtYmVyIG9mIG1vZHVsZXMgdGhhdCBzaG91bGQgYmUKCSAgICAgKiAgb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcGFyYW0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgVGhlIG9yaWdpbmFsIHN0YXRlIGNvdW50IHRvdGFsLgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBwcm9wb3J0aW9ucyBhcmUgd2l0aGluZyBleHBlY3RlZCBsaW1pdHMKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrRGlhZ29uYWwgPSBmdW5jdGlvbiAoc3RhcnRJIC8qaW50Ki8sIGNlbnRlckogLyppbnQqLywgbWF4Q291bnQgLyppbnQqLywgb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgLyppbnQqLykgewoJICAgICAgICB2YXIgc3RhdGVDb3VudCA9IHRoaXMuZ2V0Q3Jvc3NDaGVja1N0YXRlQ291bnQoKTsKCSAgICAgICAgLy8gU3RhcnQgY291bnRpbmcgdXAsIGxlZnQgZnJvbSBjZW50ZXIgZmluZGluZyBibGFjayBjZW50ZXIgbWFzcwoJICAgICAgICB2YXIgaSA9IDA7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHdoaWxlIChzdGFydEkgPj0gaSAmJiBjZW50ZXJKID49IGkgJiYgaW1hZ2UuZ2V0KGNlbnRlckogLSBpLCBzdGFydEkgLSBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgPCBpIHx8IGNlbnRlckogPCBpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyB3aGl0ZSBzcGFjZQoJICAgICAgICB3aGlsZSAoc3RhcnRJID49IGkgJiYgY2VudGVySiA+PSBpICYmICFpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgYWxyZWFkeSB0b28gbWFueSBtb2R1bGVzIGluIHRoaXMgc3RhdGUgb3IgcmFuIG9mZiB0aGUgZWRnZToKCSAgICAgICAgaWYgKHN0YXJ0SSA8IGkgfHwgY2VudGVySiA8IGkgfHwgc3RhdGVDb3VudFsxXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyBibGFjayBib3JkZXIKCSAgICAgICAgd2hpbGUgKHN0YXJ0SSA+PSBpICYmIGNlbnRlckogPj0gaSAmJiBpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMF0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtYXhJID0gaW1hZ2UuZ2V0SGVpZ2h0KCk7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biwgcmlnaHQgZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IDE7CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgaW1hZ2UuZ2V0KGNlbnRlckogKyBpLCBzdGFydEkgKyBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJhbiBvZmYgdGhlIGVkZ2U/CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgIWltYWdlLmdldChjZW50ZXJKICsgaSwgc3RhcnRJICsgaSkgJiYKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKHN0YXJ0SSArIGkgPCBtYXhJICYmIGNlbnRlckogKyBpIDwgbWF4SiAmJiBpbWFnZS5nZXQoY2VudGVySiArIGksIHN0YXJ0SSArIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZmluZGVyLXBhdHRlcm4tbGlrZSBzZWN0aW9uLCBidXQgaXRzIHNpemUgaXMgbW9yZSB0aGFuIDEwMCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgcmV0dXJuIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA8IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAmJgoJICAgICAgICAgICAgRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkFmdGVyIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gdmVydGljYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXJ0SSByb3cgd2hlcmUgYSBmaW5kZXIgcGF0dGVybiB3YXMgZGV0ZWN0ZWQKCSAgICAgKiBAcGFyYW0gY2VudGVySiBjZW50ZXIgb2YgdGhlIHNlY3Rpb24gdGhhdCBhcHBlYXJzIHRvIGNyb3NzIGEgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIC8vIFN0YXJ0IGNvdW50aW5nIHVwIGZyb20gY2VudGVyCgkgICAgICAgIHZhciBpID0gc3RhcnRJOwoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmICFpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biBmcm9tIGNlbnRlcgoJICAgICAgICBpID0gc3RhcnRJICsgMTsKCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJKSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbM10gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIGZpbmRlci1wYXR0ZXJuLWxpa2Ugc2VjdGlvbiwgYnV0IGl0cyBzaXplIGlzIG1vcmUgdGhhbiA0MCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF07CgkgICAgICAgIGlmICg1ICogTWF0aC5hYnMoc3RhdGVDb3VudFRvdGFsIC0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpID49IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBpKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkxpa2Uge0BsaW5rICNjcm9zc0NoZWNrVmVydGljYWwoaW50LCBpbnQsIGludCwgaW50KX0sIGFuZCBpbiBmYWN0IGlzIGJhc2ljYWxseSBpZGVudGljYWwsCgkgICAgICogZXhjZXB0IGl0IHJlYWRzIGhvcml6b250YWxseSBpbnN0ZWFkIG9mIHZlcnRpY2FsbHkuIFRoaXMgaXMgdXNlZCB0byBjcm9zcy1jcm9zcwoJICAgICAqIGNoZWNrIGEgdmVydGljYWwgY3Jvc3MgY2hlY2sgYW5kIGxvY2F0ZSB0aGUgcmVhbCBjZW50ZXIgb2YgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChzdGFydEogLyppbnQqLywgY2VudGVySSAvKmludCovLCBtYXhDb3VudCAvKmludCovLCBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAvKmludCovKSB7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIHZhciBqID0gc3RhcnRKOwoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmIGltYWdlLmdldChqLCBjZW50ZXJJKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmICFpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGogPj0gMCAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgaiA9IHN0YXJ0SiArIDE7CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMl0rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA8IG1heEogJiYgIWltYWdlLmdldChqLCBjZW50ZXJJKSAmJiBzdGF0ZUNvdW50WzNdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFs0XSA8IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdKys7CgkgICAgICAgICAgICBqKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbNF0gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBmaW5kZXItcGF0dGVybi1saWtlIHNlY3Rpb24sIGJ1dCBpdHMgc2l6ZSBpcyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCB0aGFuCgkgICAgICAgIC8vIHRoZSBvcmlnaW5hbCwgYXNzdW1lIGl0J3MgYSBmYWxzZSBwb3NpdGl2ZQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdICsgc3RhdGVDb3VudFszXSArCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgaXMgY2FsbGVkIHdoZW4gYSBob3Jpem9udGFsIHNjYW4gZmluZHMgYSBwb3NzaWJsZSBhbGlnbm1lbnQgcGF0dGVybi4gSXQgd2lsbAoJICAgICAqIGNyb3NzIGNoZWNrIHdpdGggYSB2ZXJ0aWNhbCBzY2FuLCBhbmQgaWYgc3VjY2Vzc2Z1bCwgd2lsbCwgYWgsIGNyb3NzLWNyb3NzLWNoZWNrCgkgICAgICogd2l0aCBhbm90aGVyIGhvcml6b250YWwgc2Nhbi4gVGhpcyBpcyBuZWVkZWQgcHJpbWFyaWx5IHRvIGxvY2F0ZSB0aGUgcmVhbCBob3Jpem9udGFsCgkgICAgICogY2VudGVyIG9mIHRoZSBwYXR0ZXJuIGluIGNhc2VzIG9mIGV4dHJlbWUgc2tldy4KCSAgICAgKiBBbmQgdGhlbiB3ZSBjcm9zcy1jcm9zcy1jcm9zcyBjaGVjayB3aXRoIGFub3RoZXIgZGlhZ29uYWwgc2Nhbi48L3A+CgkgICAgICoKCSAgICAgKiA8cD5JZiB0aGF0IHN1Y2NlZWRzIHRoZSBmaW5kZXIgcGF0dGVybiBsb2NhdGlvbiBpcyBhZGRlZCB0byBhIGxpc3QgdGhhdCB0cmFja3MKCSAgICAgKiB0aGUgbnVtYmVyIG9mIHRpbWVzIGVhY2ggbG9jYXRpb24gaGFzIGJlZW4gbmVhcmx5LW1hdGNoZWQgYXMgYSBmaW5kZXIgcGF0dGVybi4KCSAgICAgKiBFYWNoIGFkZGl0aW9uYWwgZmluZCBpcyBtb3JlIGV2aWRlbmNlIHRoYXQgdGhlIGxvY2F0aW9uIGlzIGluIGZhY3QgYSBmaW5kZXIKCSAgICAgKiBwYXR0ZXJuIGNlbnRlcgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXRlQ291bnQgcmVhZGluZyBzdGF0ZSBtb2R1bGUgY291bnRzIGZyb20gaG9yaXpvbnRhbCBzY2FuCgkgICAgICogQHBhcmFtIGkgcm93IHdoZXJlIGZpbmRlciBwYXR0ZXJuIG1heSBiZSBmb3VuZAoJICAgICAqIEBwYXJhbSBqIGVuZCBvZiBwb3NzaWJsZSBmaW5kZXIgcGF0dGVybiBpbiByb3cKCSAgICAgKiBAcGFyYW0gcHVyZUJhcmNvZGUgdHJ1ZSBpZiBpbiAicHVyZSBiYXJjb2RlIiBtb2RlCgkgICAgICogQHJldHVybiB0cnVlIGlmIGEgZmluZGVyIHBhdHRlcm4gY2FuZGlkYXRlIHdhcyBmb3VuZCB0aGlzIHRpbWUKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYW5kbGVQb3NzaWJsZUNlbnRlciA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBpIC8qaW50Ki8sIGogLyppbnQqLywgcHVyZUJhcmNvZGUpIHsKCSAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXSArIHN0YXRlQ291bnRbM10gKwoJICAgICAgICAgICAgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgdmFyIGNlbnRlckogPSBGaW5kZXJQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaik7CgkgICAgICAgIHZhciBjZW50ZXJJID0gdGhpcy5jcm9zc0NoZWNrVmVydGljYWwoaSwgLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCBzdGF0ZUNvdW50WzJdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICAvLyBSZS1jcm9zcyBjaGVjawoJICAgICAgICAgICAgY2VudGVySiA9IHRoaXMuY3Jvc3NDaGVja0hvcml6b250YWwoLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCAvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIHN0YXRlQ291bnRbMl0sIHN0YXRlQ291bnRUb3RhbCk7CgkgICAgICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckopICYmCgkgICAgICAgICAgICAgICAgKCFwdXJlQmFyY29kZSB8fCB0aGlzLmNyb3NzQ2hlY2tEaWFnb25hbCgvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIC8qKGludCkgKi8gTWF0aC5mbG9vcihjZW50ZXJKKSwgc3RhdGVDb3VudFsyXSwgc3RhdGVDb3VudFRvdGFsKSkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IHN0YXRlQ291bnRUb3RhbCAvIDcuMDsKCSAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXJzID0gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGhfMSA9IHBvc3NpYmxlQ2VudGVycy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoXzE7IGluZGV4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHBvc3NpYmxlQ2VudGVyc1tpbmRleF07CgkgICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIGFib3V0IHRoZSBzYW1lIGNlbnRlciBhbmQgbW9kdWxlIHNpemU6CgkgICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXIuYWJvdXRFcXVhbHMoZXN0aW1hdGVkTW9kdWxlU2l6ZSwgY2VudGVySSwgY2VudGVySikpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVyc1tpbmRleF0gPSBjZW50ZXIuY29tYmluZUVzdGltYXRlKGNlbnRlckksIGNlbnRlckosIGVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBuZXcgRmluZGVyUGF0dGVybl8xLmRlZmF1bHQoY2VudGVySiwgY2VudGVySSwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5wdXNoKHBvaW50KTsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrLmZvdW5kUG9zc2libGVSZXN1bHRQb2ludChwb2ludCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2Ygcm93cyB3ZSBjb3VsZCBzYWZlbHkgc2tpcCBkdXJpbmcgc2Nhbm5pbmcsIGJhc2VkIG9uIHRoZSBmaXJzdAoJICAgICAqICAgICAgICAgdHdvIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBsb2NhdGVkLiBJbiBzb21lIGNhc2VzIHRoZWlyIHBvc2l0aW9uIHdpbGwKCSAgICAgKiAgICAgICAgIGFsbG93IHVzIHRvIGluZmVyIHRoYXQgdGhlIHRoaXJkIHBhdHRlcm4gbXVzdCBsaWUgYmVsb3cgYSBjZXJ0YWluIHBvaW50IGZhcnRoZXIKCSAgICAgKiAgICAgICAgIGRvd24gaW4gdGhlIGltYWdlLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmZpbmRSb3dTa2lwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKG1heCA8PSAxKSB7CgkgICAgICAgICAgICByZXR1cm4gMDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBudWxsOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gX2MudmFsdWU7CgkgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RDb25maXJtZWRDZW50ZXIgPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBjZW50ZXI7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHR3byBjb25maXJtZWQgY2VudGVycwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93IGZhciBkb3duIGNhbiB3ZSBza2lwIGJlZm9yZSByZXN1bWluZyBsb29raW5nIGZvciB0aGUgbmV4dAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF0dGVybj8gSW4gdGhlIHdvcnN0IGNhc2UsIG9ubHkgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gdGhlIHggLyB5IGNvb3JkaW5hdGVzIG9mIHRoZSB0d28gY2VudGVycy4KCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlcmUgeW91IGZpbmQgdG9wIGxlZnQgbGFzdC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzU2tpcHBlZCA9IHRydWU7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLyooaW50KSAqLyBNYXRoLmZsb29yKChNYXRoLmFicyhmaXJzdENvbmZpcm1lZENlbnRlci5nZXRYKCkgLSBjZW50ZXIuZ2V0WCgpKSAtCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoZmlyc3RDb25maXJtZWRDZW50ZXIuZ2V0WSgpIC0gY2VudGVyLmdldFkoKSkpIC8gMik7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZmYgd2UgaGF2ZSBmb3VuZCBhdCBsZWFzdCAzIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZAoJICAgICAqICAgICAgICAgYXQgbGVhc3Qge0BsaW5rICNDRU5URVJfUVVPUlVNfSB0aW1lcyBlYWNoLCBhbmQsIHRoZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgb2YgdGhlCgkgICAgICogICAgICAgICBjYW5kaWRhdGVzIGlzICJwcmV0dHkgc2ltaWxhciIKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8yLCBfYSwgZV8zLCBfYjsKCSAgICAgICAgdmFyIGNvbmZpcm1lZENvdW50ID0gMDsKCSAgICAgICAgdmFyIHRvdGFsTW9kdWxlU2l6ZSA9IDAuMDsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZC52YWx1ZTsKCSAgICAgICAgICAgICAgICBpZiAocGF0dGVybi5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBjb25maXJtZWRDb3VudCsrOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcGF0dGVybi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvbmZpcm1lZENvdW50IDwgMykgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIE9LLCB3ZSBoYXZlIGF0IGxlYXN0IDMgY29uZmlybWVkIGNlbnRlcnMsIGJ1dCwgaXQncyBwb3NzaWJsZSB0aGF0IG9uZSBpcyBhICJmYWxzZSBwb3NpdGl2ZSIKCSAgICAgICAgLy8gYW5kIHRoYXQgd2UgbmVlZCB0byBrZWVwIGxvb2tpbmcuIFdlIGRldGVjdCB0aGlzIGJ5IGFza2luZyBpZiB0aGUgZXN0aW1hdGVkIG1vZHVsZSBzaXplcwoJICAgICAgICAvLyB2YXJ5IHRvbyBtdWNoLiBXZSBhcmJpdHJhcmlseSBzYXkgdGhhdCB3aGVuIHRoZSB0b3RhbCBkZXZpYXRpb24gZnJvbSBhdmVyYWdlIGV4Y2VlZHMKCSAgICAgICAgLy8gNSUgb2YgdGhlIHRvdGFsIG1vZHVsZSBzaXplIGVzdGltYXRlcywgaXQncyB0b28gbXVjaC4KCSAgICAgICAgdmFyIGF2ZXJhZ2UgPSB0b3RhbE1vZHVsZVNpemUgLyBtYXg7CgkgICAgICAgIHZhciB0b3RhbERldmlhdGlvbiA9IDAuMDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9lID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZi52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbERldmlhdGlvbiArPSBNYXRoLmFicyhwYXR0ZXJuLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRvdGFsRGV2aWF0aW9uIDw9IDAuMDUgKiB0b3RhbE1vZHVsZVNpemU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSAzIGJlc3Qge0BsaW5rIEZpbmRlclBhdHRlcm59cyBmcm9tIG91ciBsaXN0IG9mIGNhbmRpZGF0ZXMuIFRoZSAiYmVzdCIgYXJlCgkgICAgICogICAgICAgICB0aG9zZSB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZCBhdCBsZWFzdCB7QGxpbmsgI0NFTlRFUl9RVU9SVU19IHRpbWVzLCBhbmQgd2hvc2UgbW9kdWxlCgkgICAgICogICAgICAgICBzaXplIGRpZmZlcnMgZnJvbSB0aGUgYXZlcmFnZSBhbW9uZyB0aG9zZSBwYXR0ZXJucyB0aGUgbGVhc3QKCSAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIDMgc3VjaCBmaW5kZXIgcGF0dGVybnMgZG8gbm90IGV4aXN0CgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuc2VsZWN0QmVzdFBhdHRlcm5zID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV80LCBfYSwgZV81LCBfYjsKCSAgICAgICAgdmFyIHN0YXJ0U2l6ZSA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKHN0YXJ0U2l6ZSA8IDMpIHsKCSAgICAgICAgICAgIC8vIENvdWxkbid0IGZpbmQgZW5vdWdoIGZpbmRlciBwYXR0ZXJucwoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBvc3NpYmxlQ2VudGVycyA9IHRoaXMucG9zc2libGVDZW50ZXJzOwoJICAgICAgICB2YXIgYXZlcmFnZTsKCSAgICAgICAgLy8gRmlsdGVyIG91dGxpZXIgcG9zc2liaWxpdGllcyB3aG9zZSBtb2R1bGUgc2l6ZSBpcyB0b28gZGlmZmVyZW50CgkgICAgICAgIGlmIChzdGFydFNpemUgPiAzKSB7CgkgICAgICAgICAgICAvLyBCdXQgd2UgY2FuIG9ubHkgYWZmb3JkIHRvIGRvIHNvIGlmIHdlIGhhdmUgYXQgbGVhc3QgNCBwb3NzaWJpbGl0aWVzIHRvIGNob29zZSBmcm9tCgkgICAgICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMC4wOwoJICAgICAgICAgICAgdmFyIHNxdWFyZSA9IDAuMDsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IF9kLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGNlbnRlci5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgICAgIHRvdGFsTW9kdWxlU2l6ZSArPSBzaXplOwoJICAgICAgICAgICAgICAgICAgICBzcXVhcmUgKz0gc2l6ZSAqIHNpemU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH0KCSAgICAgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYXZlcmFnZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIHN0YXJ0U2l6ZTsKCSAgICAgICAgICAgIHZhciBzdGREZXYgPSBNYXRoLnNxcnQoc3F1YXJlIC8gc3RhcnRTaXplIC0gYXZlcmFnZSAqIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzLnNvcnQoCgkgICAgICAgICAgICAvKioKCSAgICAgICAgICAgICAqIDxwPk9yZGVycyBieSBmdXJ0aGVzdCBmcm9tIGF2ZXJhZ2U8L3A+CgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIEZ1cnRoZXN0RnJvbUF2ZXJhZ2VDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICB2YXIgZEEgPSBNYXRoLmFicyhjZW50ZXIyLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgICAgIHZhciBkQiA9IE1hdGguYWJzKGNlbnRlcjEuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSk7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAtMSA6IGRBID4gZEIgPyAxIDogMDsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgICAgdmFyIGxpbWl0ID0gTWF0aC5tYXgoMC4yICogYXZlcmFnZSwgc3RkRGV2KTsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zc2libGVDZW50ZXJzLmxlbmd0aCAmJiBwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMzsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBwb3NzaWJsZUNlbnRlcnNbaV07CgkgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhdHRlcm4uZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSkgPiBsaW1pdCkgewoJICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKGksIDEpOwoJICAgICAgICAgICAgICAgICAgICBpLS07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGlmIChwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMykgewoJICAgICAgICAgICAgLy8gVGhyb3cgYXdheSBhbGwgYnV0IHRob3NlIGZpcnN0IHNpemUgY2FuZGlkYXRlIHBvaW50cyB3ZSBmb3VuZC4KCSAgICAgICAgICAgIHZhciB0b3RhbE1vZHVsZVNpemUgPSAwLjA7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGZvciAodmFyIHBvc3NpYmxlQ2VudGVyc18xID0gX192YWx1ZXMocG9zc2libGVDZW50ZXJzKSwgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKTsgIXBvc3NpYmxlQ2VudGVyc18xXzEuZG9uZTsgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXIgPSBwb3NzaWJsZUNlbnRlcnNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcG9zc2libGVDZW50ZXIuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9CgkgICAgICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVDZW50ZXJzXzFfMSAmJiAhcG9zc2libGVDZW50ZXJzXzFfMS5kb25lICYmIChfYiA9IHBvc3NpYmxlQ2VudGVyc18xLnJldHVybikpIF9iLmNhbGwocG9zc2libGVDZW50ZXJzXzEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhdmVyYWdlID0gdG90YWxNb2R1bGVTaXplIC8gcG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5zb3J0KAoJICAgICAgICAgICAgLyoqCgkgICAgICAgICAgICAgKiA8cD5PcmRlcnMgYnkge0BsaW5rIEZpbmRlclBhdHRlcm4jZ2V0Q291bnQoKX0sIGRlc2NlbmRpbmcuPC9wPgoJICAgICAgICAgICAgICovCgkgICAgICAgICAgICAvLyBDZW50ZXJDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICBpZiAoY2VudGVyMi5nZXRDb3VudCgpID09PSBjZW50ZXIxLmdldENvdW50KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRBID0gTWF0aC5hYnMoY2VudGVyMi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRCID0gTWF0aC5hYnMoY2VudGVyMS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAxIDogZEEgPiBkQiA/IC0xIDogMDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZW50ZXIyLmdldENvdW50KCkgLSBjZW50ZXIxLmdldENvdW50KCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKDMpOyAvLyB0aGlzIGlzIG5vdCByZWFseSBuZWNlc3NhcnkgYXMgd2Ugb25seSByZXR1cm4gZmlyc3QgMyBhbnl3YXkKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gWwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzBdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzFdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzJdCgkgICAgICAgIF07CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLkNFTlRFUl9RVU9SVU0gPSAyOwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuTUlOX1NLSVAgPSAzOyAvLyAxIHBpeGVsL21vZHVsZSB0aW1lcyAzIG1vZHVsZXMvY2VudGVyCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUyA9IDU3OyAvLyBzdXBwb3J0IHVwIHRvIHZlcnNpb24gMTAgZm9yIG1vYmlsZSBjbGllbnRzCgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJRmluZGVyUGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuRmluZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV0ZWN0b3IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIE1hdGhVdGlsc18xID0gTWF0aFV0aWxzJDE7Cgl2YXIgRGV0ZWN0b3JSZXN1bHRfMSA9IERldGVjdG9yUmVzdWx0JDE7CgkvLyBpbXBvcnQgR3JpZFNhbXBsZXIgZnJvbSAnLi4vLi4vY29tbW9uL0dyaWRTYW1wbGVyJzsKCXZhciBHcmlkU2FtcGxlckluc3RhbmNlXzEgPSBHcmlkU2FtcGxlckluc3RhbmNlJDE7Cgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtJDE7Cgl2YXIgRGVjb2RlSGludFR5cGVfMSQxID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdFBvaW50XzEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIFZlcnNpb25fMSA9IFZlcnNpb24kMTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyXzEgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDE7Cgl2YXIgRmluZGVyUGF0dGVybkZpbmRlcl8xID0gRmluZGVyUGF0dGVybkZpbmRlciQxOwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgbG9naWMgdGhhdCBjYW4gZGV0ZWN0IGEgUVIgQ29kZSBpbiBhbiBpbWFnZSwgZXZlbiBpZiB0aGUgUVIgQ29kZQoJICogaXMgcm90YXRlZCBvciBza2V3ZWQsIG9yIHBhcnRpYWxseSBvYnNjdXJlZC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERldGVjdG9yKGltYWdlKSB7CgkgICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTsKCSAgICB9CgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5pbWFnZTsKCSAgICB9OwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXRSZXN1bHRQb2ludENhbGxiYWNrID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBkZXRlY3QoKTogRGV0ZWN0b3JSZXN1bHQgLyp0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZXRlY3QobnVsbCkKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGhpbnRzIG9wdGlvbmFsIGhpbnRzIHRvIGRldGVjdG9yCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAoaGludHMpIHsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gKGhpbnRzID09PSBudWxsIHx8IGhpbnRzID09PSB1bmRlZmluZWQpID8gbnVsbCA6CgkgICAgICAgICAgICAvKihSZXN1bHRQb2ludENhbGxiYWNrKSAqLyBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQxLmRlZmF1bHQuTkVFRF9SRVNVTFRfUE9JTlRfQ0FMTEJBQ0spOwoJICAgICAgICB2YXIgZmluZGVyID0gbmV3IEZpbmRlclBhdHRlcm5GaW5kZXJfMS5kZWZhdWx0KHRoaXMuaW1hZ2UsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHZhciBpbmZvID0gZmluZGVyLmZpbmQoaGludHMpOwoJICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzRmluZGVyUGF0dGVybkluZm8oaW5mbyk7CgkgICAgfTsKCSAgICBEZXRlY3Rvci5wcm90b3R5cGUucHJvY2Vzc0ZpbmRlclBhdHRlcm5JbmZvID0gZnVuY3Rpb24gKGluZm8pIHsKCSAgICAgICAgdmFyIHRvcExlZnQgPSBpbmZvLmdldFRvcExlZnQoKTsKCSAgICAgICAgdmFyIHRvcFJpZ2h0ID0gaW5mby5nZXRUb3BSaWdodCgpOwoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IGluZm8uZ2V0Qm90dG9tTGVmdCgpOwoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMuY2FsY3VsYXRlTW9kdWxlU2l6ZSh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCk7CgkgICAgICAgIGlmIChtb2R1bGVTaXplIDwgMS4wKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ05vIHBhdHRlcm4gZm91bmQgaW4gcHJvY2Nlc3MgZmluZGVyLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkaW1lbnNpb24gPSBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHByb3Zpc2lvbmFsVmVyc2lvbiA9IFZlcnNpb25fMS5kZWZhdWx0LmdldFByb3Zpc2lvbmFsVmVyc2lvbkZvckRpbWVuc2lvbihkaW1lbnNpb24pOwoJICAgICAgICB2YXIgbW9kdWxlc0JldHdlZW5GUENlbnRlcnMgPSBwcm92aXNpb25hbFZlcnNpb24uZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpIC0gNzsKCSAgICAgICAgdmFyIGFsaWdubWVudFBhdHRlcm4gPSBudWxsOwoJICAgICAgICAvLyBBbnl0aGluZyBhYm92ZSB2ZXJzaW9uIDEgaGFzIGFuIGFsaWdubWVudCBwYXR0ZXJuCgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24uZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMoKS5sZW5ndGggPiAwKSB7CgkgICAgICAgICAgICAvLyBHdWVzcyB3aGVyZSBhICJib3R0b20gcmlnaHQiIGZpbmRlciBwYXR0ZXJuIHdvdWxkIGhhdmUgYmVlbgoJICAgICAgICAgICAgdmFyIGJvdHRvbVJpZ2h0WCA9IHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpICsgYm90dG9tTGVmdC5nZXRYKCk7CgkgICAgICAgICAgICB2YXIgYm90dG9tUmlnaHRZID0gdG9wUmlnaHQuZ2V0WSgpIC0gdG9wTGVmdC5nZXRZKCkgKyBib3R0b21MZWZ0LmdldFkoKTsKCSAgICAgICAgICAgIC8vIEVzdGltYXRlIHRoYXQgYWxpZ25tZW50IHBhdHRlcm4gaXMgY2xvc2VyIGJ5IDMgbW9kdWxlcwoJICAgICAgICAgICAgLy8gZnJvbSAiYm90dG9tIHJpZ2h0IiB0byBrbm93biB0b3AgbGVmdCBsb2NhdGlvbgoJICAgICAgICAgICAgdmFyIGNvcnJlY3Rpb25Ub1RvcExlZnQgPSAxLjAgLSAzLjAgLyBtb2R1bGVzQmV0d2VlbkZQQ2VudGVyczsKCSAgICAgICAgICAgIHZhciBlc3RBbGlnbm1lbnRYID0gLyooaW50KSAqLyBNYXRoLmZsb29yKHRvcExlZnQuZ2V0WCgpICsgY29ycmVjdGlvblRvVG9wTGVmdCAqIChib3R0b21SaWdodFggLSB0b3BMZWZ0LmdldFgoKSkpOwoJICAgICAgICAgICAgdmFyIGVzdEFsaWdubWVudFkgPSAvKihpbnQpICovIE1hdGguZmxvb3IodG9wTGVmdC5nZXRZKCkgKyBjb3JyZWN0aW9uVG9Ub3BMZWZ0ICogKGJvdHRvbVJpZ2h0WSAtIHRvcExlZnQuZ2V0WSgpKSk7CgkgICAgICAgICAgICAvLyBLaW5kIG9mIGFyYml0cmFyeSAtLSBleHBhbmQgc2VhcmNoIHJhZGl1cyBiZWZvcmUgZ2l2aW5nIHVwCgkgICAgICAgICAgICBmb3IgKHZhciBpID0gNDsgaSA8PSAxNjsgaSA8PD0gMSkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGFsaWdubWVudFBhdHRlcm4gPSB0aGlzLmZpbmRBbGlnbm1lbnRJblJlZ2lvbihtb2R1bGVTaXplLCBlc3RBbGlnbm1lbnRYLCBlc3RBbGlnbm1lbnRZLCBpKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGNhdGNoIChyZSAvKk5vdEZvdW5kRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCEocmUgaW5zdGFuY2VvZiBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHJlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIC8vIHRyeSBuZXh0IHJvdW5kCgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYWxpZ25tZW50IHBhdHRlcm4uLi4gd2VsbCB0cnkgYW55d2F5IHdpdGhvdXQgaXQKCSAgICAgICAgfQoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gRGV0ZWN0b3IuY3JlYXRlVHJhbnNmb3JtKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBhbGlnbm1lbnRQYXR0ZXJuLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgYml0cyA9IERldGVjdG9yLnNhbXBsZUdyaWQodGhpcy5pbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgcG9pbnRzOwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgcG9pbnRzID0gW2JvdHRvbUxlZnQsIHRvcExlZnQsIHRvcFJpZ2h0XTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHBvaW50cyA9IFtib3R0b21MZWZ0LCB0b3BMZWZ0LCB0b3BSaWdodCwgYWxpZ25tZW50UGF0dGVybl07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBEZXRlY3RvclJlc3VsdF8xLmRlZmF1bHQoYml0cywgcG9pbnRzKTsKCSAgICB9OwoJICAgIERldGVjdG9yLmNyZWF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgYWxpZ25tZW50UGF0dGVybiwgZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGRpbU1pbnVzVGhyZWUgPSBkaW1lbnNpb24gLSAzLjU7CgkgICAgICAgIHZhciBib3R0b21SaWdodFg7IC8qZmxvYXQqLwoJICAgICAgICB2YXIgYm90dG9tUmlnaHRZOyAvKmZsb2F0Ki8KCSAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0WDsgLypmbG9hdCovCgkgICAgICAgIHZhciBzb3VyY2VCb3R0b21SaWdodFk7IC8qZmxvYXQqLwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiAhPT0gbnVsbCkgewoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gYWxpZ25tZW50UGF0dGVybi5nZXRYKCk7CgkgICAgICAgICAgICBib3R0b21SaWdodFkgPSBhbGlnbm1lbnRQYXR0ZXJuLmdldFkoKTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WCA9IGRpbU1pbnVzVGhyZWUgLSAzLjA7CgkgICAgICAgICAgICBzb3VyY2VCb3R0b21SaWdodFkgPSBzb3VyY2VCb3R0b21SaWdodFg7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBEb24ndCBoYXZlIGFuIGFsaWdubWVudCBwYXR0ZXJuLCBqdXN0IG1ha2UgdXAgdGhlIGJvdHRvbS1yaWdodCBwb2ludAoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gKHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpKSArIGJvdHRvbUxlZnQuZ2V0WCgpOwoJICAgICAgICAgICAgYm90dG9tUmlnaHRZID0gKHRvcFJpZ2h0LmdldFkoKSAtIHRvcExlZnQuZ2V0WSgpKSArIGJvdHRvbUxlZnQuZ2V0WSgpOwoJICAgICAgICAgICAgc291cmNlQm90dG9tUmlnaHRYID0gZGltTWludXNUaHJlZTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WSA9IGRpbU1pbnVzVGhyZWU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtXzEuZGVmYXVsdC5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsKDMuNSwgMy41LCBkaW1NaW51c1RocmVlLCAzLjUsIHNvdXJjZUJvdHRvbVJpZ2h0WCwgc291cmNlQm90dG9tUmlnaHRZLCAzLjUsIGRpbU1pbnVzVGhyZWUsIHRvcExlZnQuZ2V0WCgpLCB0b3BMZWZ0LmdldFkoKSwgdG9wUmlnaHQuZ2V0WCgpLCB0b3BSaWdodC5nZXRZKCksIGJvdHRvbVJpZ2h0WCwgYm90dG9tUmlnaHRZLCBib3R0b21MZWZ0LmdldFgoKSwgYm90dG9tTGVmdC5nZXRZKCkpOwoJICAgIH07CgkgICAgRGV0ZWN0b3Iuc2FtcGxlR3JpZCA9IGZ1bmN0aW9uIChpbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24gLyppbnQqLykgewoJICAgICAgICB2YXIgc2FtcGxlciA9IEdyaWRTYW1wbGVySW5zdGFuY2VfMS5kZWZhdWx0LmdldEluc3RhbmNlKCk7CgkgICAgICAgIHJldHVybiBzYW1wbGVyLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtKGltYWdlLCBkaW1lbnNpb24sIGRpbWVuc2lvbiwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkNvbXB1dGVzIHRoZSBkaW1lbnNpb24gKG51bWJlciBvZiBtb2R1bGVzIG9uIGEgc2l6ZSkgb2YgdGhlIFFSIENvZGUgYmFzZWQgb24gdGhlIHBvc2l0aW9uCgkgICAgICogb2YgdGhlIGZpbmRlciBwYXR0ZXJucyBhbmQgZXN0aW1hdGVkIG1vZHVsZSBzaXplLjwvcD4KCSAgICAgKi8KCSAgICBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uID0gZnVuY3Rpb24gKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdGx0ckNlbnRlcnNEaW1lbnNpb24gPSBNYXRoVXRpbHNfMS5kZWZhdWx0LnJvdW5kKFJlc3VsdFBvaW50XzEuZGVmYXVsdC5kaXN0YW5jZSh0b3BMZWZ0LCB0b3BSaWdodCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHRsYmxDZW50ZXJzRGltZW5zaW9uID0gTWF0aFV0aWxzXzEuZGVmYXVsdC5yb3VuZChSZXN1bHRQb2ludF8xLmRlZmF1bHQuZGlzdGFuY2UodG9wTGVmdCwgYm90dG9tTGVmdCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IE1hdGguZmxvb3IoKHRsdHJDZW50ZXJzRGltZW5zaW9uICsgdGxibENlbnRlcnNEaW1lbnNpb24pIC8gMikgKyA3OwoJICAgICAgICBzd2l0Y2ggKGRpbWVuc2lvbiAmIDB4MDMpIHsgLy8gbW9kIDQKCSAgICAgICAgICAgIGNhc2UgMDoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24rKzsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIC8vIDE/IGRvIG5vdGhpbmcKCSAgICAgICAgICAgIGNhc2UgMjoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24tLTsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIGNhc2UgMzoKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ0RpbWVuc2lvbnMgY291bGQgYmUgbm90IGZvdW5kLicpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBkaW1lbnNpb247CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5Db21wdXRlcyBhbiBhdmVyYWdlIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBiYXNlZCBvbiBlc3RpbWF0ZWQgZGVyaXZlZCBmcm9tIHRoZSBwb3NpdGlvbnMKCSAgICAgKiBvZiB0aGUgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB0b3BMZWZ0IGRldGVjdGVkIHRvcC1sZWZ0IGZpbmRlciBwYXR0ZXJuIGNlbnRlcgoJICAgICAqIEBwYXJhbSB0b3BSaWdodCBkZXRlY3RlZCB0b3AtcmlnaHQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHBhcmFtIGJvdHRvbUxlZnQgZGV0ZWN0ZWQgYm90dG9tLWxlZnQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHJldHVybiBlc3RpbWF0ZWQgbW9kdWxlIHNpemUKCSAgICAgKi8KCSAgICBEZXRlY3Rvci5wcm90b3R5cGUuY2FsY3VsYXRlTW9kdWxlU2l6ZSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCkgewoJICAgICAgICAvLyBUYWtlIHRoZSBhdmVyYWdlCgkgICAgICAgIHJldHVybiAodGhpcy5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5KHRvcExlZnQsIHRvcFJpZ2h0KSArCgkgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU1vZHVsZVNpemVPbmVXYXkodG9wTGVmdCwgYm90dG9tTGVmdCkpIC8gMi4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RXN0aW1hdGVzIG1vZHVsZSBzaXplIGJhc2VkIG9uIHR3byBmaW5kZXIgcGF0dGVybnMgLS0gaXQgdXNlcwoJICAgICAqIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuQm90aFdheXMoaW50LCBpbnQsIGludCwgaW50KX0gdG8gZmlndXJlIHRoZQoJICAgICAqIHdpZHRoIG9mIGVhY2gsIG1lYXN1cmluZyBhbG9uZyB0aGUgYXhpcyBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5ID0gZnVuY3Rpb24gKHBhdHRlcm4sIG90aGVyUGF0dGVybikgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZUVzdDEgPSB0aGlzLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzKC8qKGludCkgKi8gTWF0aC5mbG9vcihwYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRZKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRZKCkpKTsKCSAgICAgICAgdmFyIG1vZHVsZVNpemVFc3QyID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW5Cb3RoV2F5cygvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFkoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKHBhdHRlcm4uZ2V0WSgpKSk7CgkgICAgICAgIGlmIChpc05hTihtb2R1bGVTaXplRXN0MSkpIHsKCSAgICAgICAgICAgIHJldHVybiBtb2R1bGVTaXplRXN0MiAvIDcuMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaXNOYU4obW9kdWxlU2l6ZUVzdDIpKSB7CgkgICAgICAgICAgICByZXR1cm4gbW9kdWxlU2l6ZUVzdDEgLyA3LjA7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQXZlcmFnZSB0aGVtLCBhbmQgZGl2aWRlIGJ5IDcgc2luY2Ugd2UndmUgY291bnRlZCB0aGUgd2lkdGggb2YgMyBibGFjayBtb2R1bGVzLAoJICAgICAgICAvLyBhbmQgMSB3aGl0ZSBhbmQgMSBibGFjayBtb2R1bGUgb24gZWl0aGVyIHNpZGUuIEVyZ28sIGRpdmlkZSBzdW0gYnkgMTQuCgkgICAgICAgIHJldHVybiAobW9kdWxlU2l6ZUVzdDEgKyBtb2R1bGVTaXplRXN0MikgLyAxNC4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuKGludCwgaW50LCBpbnQsIGludCl9OyBjb21wdXRlcyB0aGUgdG90YWwgd2lkdGggb2YKCSAgICAgKiBhIGZpbmRlciBwYXR0ZXJuIGJ5IGxvb2tpbmcgZm9yIGEgYmxhY2std2hpdGUtYmxhY2sgcnVuIGZyb20gdGhlIGNlbnRlciBpbiB0aGUgZGlyZWN0aW9uCgkgICAgICogb2YgYW5vdGhlciBwb2ludCAoYW5vdGhlciBmaW5kZXIgcGF0dGVybiBjZW50ZXIpLCBhbmQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiB0b28uCgkgICAgICovCgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzID0gZnVuY3Rpb24gKGZyb21YIC8qaW50Ki8sIGZyb21ZIC8qaW50Ki8sIHRvWCAvKmludCovLCB0b1kgLyppbnQqLykgewoJICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSk7CgkgICAgICAgIC8vIE5vdyBjb3VudCBvdGhlciB3YXkgLS0gZG9uJ3QgcnVuIG9mZiBpbWFnZSB0aG91Z2ggb2YgY291cnNlCgkgICAgICAgIHZhciBzY2FsZSA9IDEuMDsKCSAgICAgICAgdmFyIG90aGVyVG9YID0gZnJvbVggLSAodG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAob3RoZXJUb1ggPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21YIC8gLyooZmxvYXQpICovIChmcm9tWCAtIG90aGVyVG9YKTsKCSAgICAgICAgICAgIG90aGVyVG9YID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWCA+PSB0aGlzLmltYWdlLmdldFdpZHRoKCkpIHsKCSAgICAgICAgICAgIHNjYWxlID0gKHRoaXMuaW1hZ2UuZ2V0V2lkdGgoKSAtIDEgLSBmcm9tWCkgLyAvKihmbG9hdCkgKi8gKG90aGVyVG9YIC0gZnJvbVgpOwoJICAgICAgICAgICAgb3RoZXJUb1ggPSB0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlclRvWSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihmcm9tWSAtICh0b1kgLSBmcm9tWSkgKiBzY2FsZSk7CgkgICAgICAgIHNjYWxlID0gMS4wOwoJICAgICAgICBpZiAob3RoZXJUb1kgPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21ZIC8gLyooZmxvYXQpICovIChmcm9tWSAtIG90aGVyVG9ZKTsKCSAgICAgICAgICAgIG90aGVyVG9ZID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWSA+PSB0aGlzLmltYWdlLmdldEhlaWdodCgpKSB7CgkgICAgICAgICAgICBzY2FsZSA9ICh0aGlzLmltYWdlLmdldEhlaWdodCgpIC0gMSAtIGZyb21ZKSAvIC8qKGZsb2F0KSAqLyAob3RoZXJUb1kgLSBmcm9tWSk7CgkgICAgICAgICAgICBvdGhlclRvWSA9IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIG90aGVyVG9YID0gLyooaW50KSAqLyBNYXRoLmZsb29yKGZyb21YICsgKG90aGVyVG9YIC0gZnJvbVgpICogc2NhbGUpOwoJICAgICAgICByZXN1bHQgKz0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCBvdGhlclRvWCwgb3RoZXJUb1kpOwoJICAgICAgICAvLyBNaWRkbGUgcGl4ZWwgaXMgZG91YmxlLWNvdW50ZWQgdGhpcyB3YXk7IHN1YnRyYWN0IDEKCSAgICAgICAgcmV0dXJuIHJlc3VsdCAtIDEuMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHRyYWNlcyBhIGxpbmUgZnJvbSBhIHBvaW50IGluIHRoZSBpbWFnZSwgaW4gdGhlIGRpcmVjdGlvbiB0b3dhcmRzIGFub3RoZXIgcG9pbnQuCgkgICAgICogSXQgYmVnaW5zIGluIGEgYmxhY2sgcmVnaW9uLCBhbmQga2VlcHMgZ29pbmcgdW50aWwgaXQgZmluZHMgd2hpdGUsIHRoZW4gYmxhY2ssIHRoZW4gd2hpdGUgYWdhaW4uCgkgICAgICogSXQgcmVwb3J0cyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc3RhcnQgdG8gdGhpcyBwb2ludC48L3A+CgkgICAgICoKCSAgICAgKiA8cD5UaGlzIGlzIHVzZWQgd2hlbiBmaWd1cmluZyBvdXQgaG93IHdpZGUgYSBmaW5kZXIgcGF0dGVybiBpcywgd2hlbiB0aGUgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBtYXkgYmUgc2tld2VkIG9yIHJvdGF0ZWQuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4gPSBmdW5jdGlvbiAoZnJvbVggLyppbnQqLywgZnJvbVkgLyppbnQqLywgdG9YIC8qaW50Ki8sIHRvWSAvKmludCovKSB7CgkgICAgICAgIC8vIE1pbGQgdmFyaWFudCBvZiBCcmVzZW5oYW0ncyBhbGdvcml0aG0KCSAgICAgICAgLy8gc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnJlc2VuaGFtJ3NfbGluZV9hbGdvcml0aG0KCSAgICAgICAgdmFyIHN0ZWVwID0gTWF0aC5hYnModG9ZIC0gZnJvbVkpID4gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAoc3RlZXApIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZnJvbVg7CgkgICAgICAgICAgICBmcm9tWCA9IGZyb21ZOwoJICAgICAgICAgICAgZnJvbVkgPSB0ZW1wOwoJICAgICAgICAgICAgdGVtcCA9IHRvWDsKCSAgICAgICAgICAgIHRvWCA9IHRvWTsKCSAgICAgICAgICAgIHRvWSA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyh0b1kgLSBmcm9tWSk7CgkgICAgICAgIHZhciBlcnJvciA9IC1keCAvIDI7CgkgICAgICAgIHZhciB4c3RlcCA9IGZyb21YIDwgdG9YID8gMSA6IC0xOwoJICAgICAgICB2YXIgeXN0ZXAgPSBmcm9tWSA8IHRvWSA/IDEgOiAtMTsKCSAgICAgICAgLy8gSW4gYmxhY2sgcGl4ZWxzLCBsb29raW5nIGZvciB3aGl0ZSwgZmlyc3Qgb3Igc2Vjb25kIHRpbWUuCgkgICAgICAgIHZhciBzdGF0ZSA9IDA7CgkgICAgICAgIC8vIExvb3AgdXAgdW50aWwgeCA9PSB0b1gsIGJ1dCBub3QgYmV5b25kCgkgICAgICAgIHZhciB4TGltaXQgPSB0b1ggKyB4c3RlcDsKCSAgICAgICAgZm9yICh2YXIgeCA9IGZyb21YLCB5ID0gZnJvbVk7IHggIT09IHhMaW1pdDsgeCArPSB4c3RlcCkgewoJICAgICAgICAgICAgdmFyIHJlYWxYID0gc3RlZXAgPyB5IDogeDsKCSAgICAgICAgICAgIHZhciByZWFsWSA9IHN0ZWVwID8geCA6IHk7CgkgICAgICAgICAgICAvLyBEb2VzIGN1cnJlbnQgcGl4ZWwgbWVhbiB3ZSBoYXZlIG1vdmVkIHdoaXRlIHRvIGJsYWNrIG9yIHZpY2UgdmVyc2E/CgkgICAgICAgICAgICAvLyBTY2FubmluZyBibGFjayBpbiBzdGF0ZSAwLDIgYW5kIHdoaXRlIGluIHN0YXRlIDEsIHNvIGlmIHdlIGZpbmQgdGhlIHdyb25nCgkgICAgICAgICAgICAvLyBjb2xvciwgYWR2YW5jZSB0byBuZXh0IHN0YXRlIG9yIGVuZCBpZiB3ZSBhcmUgaW4gc3RhdGUgMiBhbHJlYWR5CgkgICAgICAgICAgICBpZiAoKHN0YXRlID09PSAxKSA9PT0gdGhpcy5pbWFnZS5nZXQocmVhbFgsIHJlYWxZKSkgewoJICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMikgewoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aFV0aWxzXzEuZGVmYXVsdC5kaXN0YW5jZSh4LCB5LCBmcm9tWCwgZnJvbVkpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBzdGF0ZSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZXJyb3IgKz0gZHk7CgkgICAgICAgICAgICBpZiAoZXJyb3IgPiAwKSB7CgkgICAgICAgICAgICAgICAgaWYgKHkgPT09IHRvWSkgewoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgeSArPSB5c3RlcDsKCSAgICAgICAgICAgICAgICBlcnJvciAtPSBkeDsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBGb3VuZCBibGFjay13aGl0ZS1ibGFjazsgZ2l2ZSB0aGUgYmVuZWZpdCBvZiB0aGUgZG91YnQgdGhhdCB0aGUgbmV4dCBwaXhlbCBvdXRzaWRlIHRoZSBpbWFnZQoJICAgICAgICAvLyBpcyAid2hpdGUiIHNvIHRoaXMgbGFzdCBwb2ludCBhdCAodG9YK3hTdGVwLHRvWSkgaXMgdGhlIHJpZ2h0IGVuZGluZy4gVGhpcyBpcyByZWFsbHkgYQoJICAgICAgICAvLyBzbWFsbCBhcHByb3hpbWF0aW9uOyAodG9YK3hTdGVwLHRvWSt5U3RlcCkgbWlnaHQgYmUgcmVhbGx5IGNvcnJlY3QuIElnbm9yZSB0aGlzLgoJICAgICAgICBpZiAoc3RhdGUgPT09IDIpIHsKCSAgICAgICAgICAgIHJldHVybiBNYXRoVXRpbHNfMS5kZWZhdWx0LmRpc3RhbmNlKHRvWCArIHhzdGVwLCB0b1ksIGZyb21YLCBmcm9tWSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gZWxzZSB3ZSBkaWRuJ3QgZmluZCBldmVuIGJsYWNrLXdoaXRlLWJsYWNrOyBubyBlc3RpbWF0ZSBpcyByZWFsbHkgcG9zc2libGUKCSAgICAgICAgcmV0dXJuIE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkF0dGVtcHRzIHRvIGxvY2F0ZSBhbiBhbGlnbm1lbnQgcGF0dGVybiBpbiBhIGxpbWl0ZWQgcmVnaW9uIG9mIHRoZSBpbWFnZSwgd2hpY2ggaXMKCSAgICAgKiBndWVzc2VkIHRvIGNvbnRhaW4gaXQuIFRoaXMgbWV0aG9kIHVzZXMge0BsaW5rIEFsaWdubWVudFBhdHRlcm59LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBvdmVyYWxsRXN0TW9kdWxlU2l6ZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgc28gZmFyCgkgICAgICogQHBhcmFtIGVzdEFsaWdubWVudFggeCBjb29yZGluYXRlIG9mIGNlbnRlciBvZiBhcmVhIHByb2JhYmx5IGNvbnRhaW5pbmcgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gZXN0QWxpZ25tZW50WSB5IGNvb3JkaW5hdGUgb2YgYWJvdmUKCSAgICAgKiBAcGFyYW0gYWxsb3dhbmNlRmFjdG9yIG51bWJlciBvZiBwaXhlbHMgaW4gYWxsIGRpcmVjdGlvbnMgdG8gc2VhcmNoIGZyb20gdGhlIGNlbnRlcgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kLCBvciBudWxsIG90aGVyd2lzZQoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgYW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnMgZHVyaW5nIGRldGVjdGlvbgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5maW5kQWxpZ25tZW50SW5SZWdpb24gPSBmdW5jdGlvbiAob3ZlcmFsbEVzdE1vZHVsZVNpemUgLypmbG9hdCovLCBlc3RBbGlnbm1lbnRYIC8qaW50Ki8sIGVzdEFsaWdubWVudFkgLyppbnQqLywgYWxsb3dhbmNlRmFjdG9yIC8qZmxvYXQqLykgewoJICAgICAgICAvLyBMb29rIGZvciBhbiBhbGlnbm1lbnQgcGF0dGVybiAoMyBtb2R1bGVzIGluIHNpemUpIGFyb3VuZCB3aGVyZSBpdAoJICAgICAgICAvLyBzaG91bGQgYmUKCSAgICAgICAgdmFyIGFsbG93YW5jZSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihhbGxvd2FuY2VGYWN0b3IgKiBvdmVyYWxsRXN0TW9kdWxlU2l6ZSk7CgkgICAgICAgIHZhciBhbGlnbm1lbnRBcmVhTGVmdFggPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRYIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFSaWdodFggPSBNYXRoLm1pbih0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxLCBlc3RBbGlnbm1lbnRYICsgYWxsb3dhbmNlKTsKCSAgICAgICAgaWYgKGFsaWdubWVudEFyZWFSaWdodFggLSBhbGlnbm1lbnRBcmVhTGVmdFggPCBvdmVyYWxsRXN0TW9kdWxlU2l6ZSAqIDMpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgnQWxpZ25tZW50IHRvcCBleGNlZWRzIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS4nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYWxpZ25tZW50QXJlYVRvcFkgPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRZIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFCb3R0b21ZID0gTWF0aC5taW4odGhpcy5pbWFnZS5nZXRIZWlnaHQoKSAtIDEsIGVzdEFsaWdubWVudFkgKyBhbGxvd2FuY2UpOwoJICAgICAgICBpZiAoYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSA8IG92ZXJhbGxFc3RNb2R1bGVTaXplICogMykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMS5kZWZhdWx0KCdBbGlnbm1lbnQgYm90dG9tIGV4Y2VlZHMgZXN0aW1hdGVkIG1vZHVsZSBzaXplLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhbGlnbm1lbnRGaW5kZXIgPSBuZXcgQWxpZ25tZW50UGF0dGVybkZpbmRlcl8xLmRlZmF1bHQodGhpcy5pbWFnZSwgYWxpZ25tZW50QXJlYUxlZnRYLCBhbGlnbm1lbnRBcmVhVG9wWSwgYWxpZ25tZW50QXJlYVJpZ2h0WCAtIGFsaWdubWVudEFyZWFMZWZ0WCwgYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSwgb3ZlcmFsbEVzdE1vZHVsZVNpemUsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHJldHVybiBhbGlnbm1lbnRGaW5kZXIuZmluZCgpOwoJICAgIH07CgkgICAgcmV0dXJuIERldGVjdG9yOwoJfSgpKTsKCURldGVjdG9yJDEuZGVmYXVsdCA9IERldGVjdG9yOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUVJDb2RlUmVhZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlIHsqLwoJdmFyIEJhcmNvZGVGb3JtYXRfMSA9IEJhcmNvZGVGb3JtYXQkMTsKCXZhciBCaXRNYXRyaXhfMSA9IEJpdE1hdHJpeCQxOwoJdmFyIERlY29kZUhpbnRUeXBlXzEgPSBEZWNvZGVIaW50VHlwZSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdF8xID0gUmVzdWx0JDE7Cgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlXzEgPSBSZXN1bHRNZXRhZGF0YVR5cGUkMTsKCS8vIGltcG9ydCBEZXRlY3RvclJlc3VsdCBmcm9tICcuLi9jb21tb24vRGV0ZWN0b3JSZXN1bHQnOwoJdmFyIERlY29kZXJfMSA9IERlY29kZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSA9IFFSQ29kZURlY29kZXJNZXRhRGF0YSQxOwoJdmFyIERldGVjdG9yXzEgPSBEZXRlY3RvciQxOwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5NYXA7Ki8KCS8qKgoJICogVGhpcyBpbXBsZW1lbnRhdGlvbiBjYW4gZGV0ZWN0IGFuZCBkZWNvZGUgUVIgQ29kZXMgaW4gYW4gaW1hZ2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFFSQ29kZVJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBRUkNvZGVSZWFkZXIoKSB7CgkgICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBEZWNvZGVyXzEuZGVmYXVsdCgpOwoJICAgIH0KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmdldERlY29kZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBMb2NhdGVzIGFuZCBkZWNvZGVzIGEgUVIgY29kZSBpbiBhbiBpbWFnZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gYSByZXByZXNlbnRpbmc6IHN0cmluZyB0aGUgY29udGVudCBlbmNvZGVkIGJ5IHRoZSBRUiBjb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhIFFSIGNvZGUgY2Fubm90IGJlIGZvdW5kCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYSBRUiBjb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIC8vIHB1YmxpYyBkZWNvZGUoaW1hZ2U6IEJpbmFyeUJpdG1hcCk6IFJlc3VsdCAvKnRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiwgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiAqLyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5kZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHsKCSAgICAgICAgdmFyIGRlY29kZXJSZXN1bHQ7CgkgICAgICAgIHZhciBwb2ludHM7CgkgICAgICAgIGlmIChoaW50cyAhPT0gdW5kZWZpbmVkICYmIGhpbnRzICE9PSBudWxsICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEuZGVmYXVsdC5QVVJFX0JBUkNPREUpKSB7CgkgICAgICAgICAgICB2YXIgYml0cyA9IFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMoaW1hZ2UuZ2V0QmxhY2tNYXRyaXgoKSk7CgkgICAgICAgICAgICBkZWNvZGVyUmVzdWx0ID0gdGhpcy5kZWNvZGVyLmRlY29kZUJpdE1hdHJpeChiaXRzLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGRldGVjdG9yUmVzdWx0ID0gbmV3IERldGVjdG9yXzEuZGVmYXVsdChpbWFnZS5nZXRCbGFja01hdHJpeCgpKS5kZXRlY3QoaGludHMpOwoJICAgICAgICAgICAgZGVjb2RlclJlc3VsdCA9IHRoaXMuZGVjb2Rlci5kZWNvZGVCaXRNYXRyaXgoZGV0ZWN0b3JSZXN1bHQuZ2V0Qml0cygpLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBkZXRlY3RvclJlc3VsdC5nZXRQb2ludHMoKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB0aGUgY29kZSB3YXMgbWlycm9yZWQ6IHN3YXAgdGhlIGJvdHRvbS1sZWZ0IGFuZCB0aGUgdG9wLXJpZ2h0IHBvaW50cy4KCSAgICAgICAgaWYgKGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKSBpbnN0YW5jZW9mIFFSQ29kZURlY29kZXJNZXRhRGF0YV8xLmRlZmF1bHQpIHsKCSAgICAgICAgICAgIGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKS5hcHBseU1pcnJvcmVkQ29ycmVjdGlvbihwb2ludHMpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgUmVzdWx0XzEuZGVmYXVsdChkZWNvZGVyUmVzdWx0LmdldFRleHQoKSwgZGVjb2RlclJlc3VsdC5nZXRSYXdCeXRlcygpLCB1bmRlZmluZWQsIHBvaW50cywgQmFyY29kZUZvcm1hdF8xLmRlZmF1bHQuUVJfQ09ERSwgdW5kZWZpbmVkKTsKCSAgICAgICAgdmFyIGJ5dGVTZWdtZW50cyA9IGRlY29kZXJSZXN1bHQuZ2V0Qnl0ZVNlZ21lbnRzKCk7CgkgICAgICAgIGlmIChieXRlU2VnbWVudHMgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkJZVEVfU0VHTUVOVFMsIGJ5dGVTZWdtZW50cyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBkZWNvZGVyUmVzdWx0LmdldEVDTGV2ZWwoKTsKCSAgICAgICAgaWYgKGVjTGV2ZWwgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwsIGVjTGV2ZWwpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChkZWNvZGVyUmVzdWx0Lmhhc1N0cnVjdHVyZWRBcHBlbmQoKSkgewoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UsIGRlY29kZXJSZXN1bHQuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyKCkpOwoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfUEFSSVRZLCBkZWNvZGVyUmVzdWx0LmdldFN0cnVjdHVyZWRBcHBlbmRQYXJpdHkoKSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBkbyBub3RoaW5nCgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBUaGlzIG1ldGhvZCBkZXRlY3RzIGEgY29kZSBpbiBhICJwdXJlIiBpbWFnZSAtLSB0aGF0IGlzLCBwdXJlIG1vbm9jaHJvbWUgaW1hZ2UKCSAgICAgKiB3aGljaCBjb250YWlucyBvbmx5IGFuIHVucm90YXRlZCwgdW5za2V3ZWQsIGltYWdlIG9mIGEgY29kZSwgd2l0aCBzb21lIHdoaXRlIGJvcmRlcgoJICAgICAqIGFyb3VuZCBpdC4gVGhpcyBpcyBhIHNwZWNpYWxpemVkIG1ldGhvZCB0aGF0IHdvcmtzIGV4Y2VwdGlvbmFsbHkgZmFzdCBpbiB0aGlzIHNwZWNpYWwKCSAgICAgKiBjYXNlLgoJICAgICAqCgkgICAgICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLmRhdGFtYXRyaXguRGF0YU1hdHJpeFJlYWRlciNleHRyYWN0UHVyZUJpdHMoQml0TWF0cml4KQoJICAgICAqLwoJICAgIFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMgPSBmdW5jdGlvbiAoaW1hZ2UpIHsKCSAgICAgICAgdmFyIGxlZnRUb3BCbGFjayA9IGltYWdlLmdldFRvcExlZnRPbkJpdCgpOwoJICAgICAgICB2YXIgcmlnaHRCb3R0b21CbGFjayA9IGltYWdlLmdldEJvdHRvbVJpZ2h0T25CaXQoKTsKCSAgICAgICAgaWYgKGxlZnRUb3BCbGFjayA9PT0gbnVsbCB8fCByaWdodEJvdHRvbUJsYWNrID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1vZHVsZVNpemUgPSB0aGlzLm1vZHVsZVNpemUobGVmdFRvcEJsYWNrLCBpbWFnZSk7CgkgICAgICAgIHZhciB0b3AgPSBsZWZ0VG9wQmxhY2tbMV07CgkgICAgICAgIHZhciBib3R0b20gPSByaWdodEJvdHRvbUJsYWNrWzFdOwoJICAgICAgICB2YXIgbGVmdCA9IGxlZnRUb3BCbGFja1swXTsKCSAgICAgICAgdmFyIHJpZ2h0ID0gcmlnaHRCb3R0b21CbGFja1swXTsKCSAgICAgICAgLy8gU2FuaXR5IGNoZWNrIQoJICAgICAgICBpZiAobGVmdCA+PSByaWdodCB8fCB0b3AgPj0gYm90dG9tKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJvdHRvbSAtIHRvcCAhPT0gcmlnaHQgLSBsZWZ0KSB7CgkgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UsIHdoZXJlIGJvdHRvbS1yaWdodCBtb2R1bGUgd2Fzbid0IGJsYWNrIHNvIHdlIGZvdW5kIHNvbWV0aGluZyBlbHNlIGluIHRoZSBsYXN0IHJvdwoJICAgICAgICAgICAgLy8gQXNzdW1lIGl0J3MgYSBzcXVhcmUsIHNvIHVzZSBoZWlnaHQgYXMgdGhlIHdpZHRoCgkgICAgICAgICAgICByaWdodCA9IGxlZnQgKyAoYm90dG9tIC0gdG9wKTsKCSAgICAgICAgICAgIGlmIChyaWdodCA+PSBpbWFnZS5nZXRXaWR0aCgpKSB7CgkgICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhhdCB3b3VsZCBub3QgbWFrZSBzZW5zZSAtLSBvZmYgaW1hZ2UKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1hdHJpeFdpZHRoID0gTWF0aC5yb3VuZCgocmlnaHQgLSBsZWZ0ICsgMSkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIG1hdHJpeEhlaWdodCA9IE1hdGgucm91bmQoKGJvdHRvbSAtIHRvcCArIDEpIC8gbW9kdWxlU2l6ZSk7CgkgICAgICAgIGlmIChtYXRyaXhXaWR0aCA8PSAwIHx8IG1hdHJpeEhlaWdodCA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG1hdHJpeEhlaWdodCAhPT0gbWF0cml4V2lkdGgpIHsKCSAgICAgICAgICAgIC8vIE9ubHkgcG9zc2libHkgZGVjb2RlIHNxdWFyZSByZWdpb25zCgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gUHVzaCBpbiB0aGUgImJvcmRlciIgYnkgaGFsZiB0aGUgbW9kdWxlIHdpZHRoIHNvIHRoYXQgd2Ugc3RhcnQKCSAgICAgICAgLy8gc2FtcGxpbmcgaW4gdGhlIG1pZGRsZSBvZiB0aGUgbW9kdWxlLiBKdXN0IGluIGNhc2UgdGhlIGltYWdlIGlzIGEKCSAgICAgICAgLy8gbGl0dGxlIG9mZiwgdGhpcyB3aWxsIGhlbHAgcmVjb3Zlci4KCSAgICAgICAgdmFyIG51ZGdlID0gLyooaW50KSAqLyBNYXRoLmZsb29yKG1vZHVsZVNpemUgLyAyLjApOwoJICAgICAgICB0b3AgKz0gbnVkZ2U7CgkgICAgICAgIGxlZnQgKz0gbnVkZ2U7CgkgICAgICAgIC8vIEJ1dCBjYXJlZnVsIHRoYXQgdGhpcyBkb2VzIG5vdCBzYW1wbGUgb2ZmIHRoZSBlZGdlCgkgICAgICAgIC8vICJyaWdodCIgaXMgdGhlIGZhcnRoZXN0LXJpZ2h0IHZhbGlkIHBpeGVsIGxvY2F0aW9uIC0tIHJpZ2h0KzEgaXMgbm90IG5lY2Vzc2FyaWx5CgkgICAgICAgIC8vIFRoaXMgaXMgcG9zaXRpdmUgYnkgaG93IG11Y2ggdGhlIGlubmVyIHggbG9vcCBiZWxvdyB3b3VsZCBiZSB0b28gbGFyZ2UKCSAgICAgICAgdmFyIG51ZGdlZFRvb0ZhclJpZ2h0ID0gbGVmdCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4V2lkdGggLSAxKSAqIG1vZHVsZVNpemUpIC0gcmlnaHQ7CgkgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IDApIHsKCSAgICAgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsZWZ0IC09IG51ZGdlZFRvb0ZhclJpZ2h0OwoJICAgICAgICB9CgkgICAgICAgIC8vIFNlZSBsb2dpYyBhYm92ZQoJICAgICAgICB2YXIgbnVkZ2VkVG9vRmFyRG93biA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4SGVpZ2h0IC0gMSkgKiBtb2R1bGVTaXplKSAtIGJvdHRvbTsKCSAgICAgICAgaWYgKG51ZGdlZFRvb0ZhckRvd24gPiAwKSB7CgkgICAgICAgICAgICBpZiAobnVkZ2VkVG9vRmFyRG93biA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3AgLT0gbnVkZ2VkVG9vRmFyRG93bjsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cganVzdCByZWFkIG9mZiB0aGUgYml0cwoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMS5kZWZhdWx0KG1hdHJpeFdpZHRoLCBtYXRyaXhIZWlnaHQpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG1hdHJpeEhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgaU9mZnNldCA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcih5ICogbW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1hdHJpeFdpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KGxlZnQgKyAvKihpbnQpICovIE1hdGguZmxvb3IoeCAqIG1vZHVsZVNpemUpLCBpT2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIubW9kdWxlU2l6ZSA9IGZ1bmN0aW9uIChsZWZ0VG9wQmxhY2ssIGltYWdlKSB7CgkgICAgICAgIHZhciBoZWlnaHQgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHggPSBsZWZ0VG9wQmxhY2tbMF07CgkgICAgICAgIHZhciB5ID0gbGVmdFRvcEJsYWNrWzFdOwoJICAgICAgICB2YXIgaW5CbGFjayA9IHRydWU7CgkgICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IDA7CgkgICAgICAgIHdoaWxlICh4IDwgd2lkdGggJiYgeSA8IGhlaWdodCkgewoJICAgICAgICAgICAgaWYgKGluQmxhY2sgIT09IGltYWdlLmdldCh4LCB5KSkgewoJICAgICAgICAgICAgICAgIGlmICgrK3RyYW5zaXRpb25zID09PSA1KSB7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBpbkJsYWNrID0gIWluQmxhY2s7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB4Kys7CgkgICAgICAgICAgICB5Kys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHggPT09IHdpZHRoIHx8IHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiAoeCAtIGxlZnRUb3BCbGFja1swXSkgLyA3LjA7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTID0gbmV3IEFycmF5KCk7CgkgICAgcmV0dXJuIFFSQ29kZVJlYWRlcjsKCX0oKSk7Cgl2YXIgX2RlZmF1bHQgPSBRUkNvZGVSZWFkZXIkMS5kZWZhdWx0ID0gUVJDb2RlUmVhZGVyOwoKCXZhciB0b0dyYXlzY2FsZUJ1ZmZlciA9IGZ1bmN0aW9uIHRvR3JheXNjYWxlQnVmZmVyKGltYWdlQnVmZmVyLCB3aWR0aCwgaGVpZ2h0KSB7CgkgIHZhciBncmF5c2NhbGVCdWZmZXIgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkod2lkdGggKiBoZWlnaHQpOwoKCSAgZm9yICh2YXIgaSA9IDAsIGogPSAwLCBsZW5ndGhfMSA9IGltYWdlQnVmZmVyLmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpICs9IDQsIGorKykgewoJICAgIHZhciBncmF5ID0gdm9pZCAwOwoJICAgIHZhciBhbHBoYSA9IGltYWdlQnVmZmVyW2kgKyAzXTsgLy8gVGhlIGNvbG9yIG9mIGZ1bGx5LXRyYW5zcGFyZW50IHBpeGVscyBpcyBpcnJlbGV2YW50LiBUaGV5IGFyZSBvZnRlbiwgdGVjaG5pY2FsbHksIGZ1bGx5LXRyYW5zcGFyZW50CgkgICAgLy8gYmxhY2sgKDAgYWxwaGEsIGFuZCB0aGVuIDAgUkdCKS4gVGhleSBhcmUgb2Z0ZW4gdXNlZCwgb2YgY291cnNlIGFzIHRoZSAid2hpdGUiIGFyZWEgaW4gYQoJICAgIC8vIGJhcmNvZGUgaW1hZ2UuIEZvcmNlIGFueSBzdWNoIHBpeGVsIHRvIGJlIHdoaXRlOgoKCSAgICBpZiAoYWxwaGEgPT09IDApIHsKCSAgICAgIGdyYXkgPSAweEZGOwoJICAgIH0gZWxzZSB7CgkgICAgICB2YXIgcGl4ZWxSID0gaW1hZ2VCdWZmZXJbaV07CgkgICAgICB2YXIgcGl4ZWxHID0gaW1hZ2VCdWZmZXJbaSArIDFdOwoJICAgICAgdmFyIHBpeGVsQiA9IGltYWdlQnVmZmVyW2kgKyAyXTsgLy8gLjI5OVIgKyAwLjU4N0cgKyAwLjExNEIgKFlVVi9ZSVEgZm9yIFBBTCBhbmQgTlRTQyksCgkgICAgICAvLyAoMzA2KlIpID4+IDEwIGlzIGFwcHJveGltYXRlbHkgZXF1YWwgdG8gUiowLjI5OSwgYW5kIHNvIG9uLgoJICAgICAgLy8gMHgyMDAgPj4gMTAgaXMgMC41LCBpdCBpbXBsZW1lbnRzIHJvdW5kaW5nLgoKCSAgICAgIGdyYXkgPSAzMDYgKiBwaXhlbFIgKyA2MDEgKiBwaXhlbEcgKyAxMTcgKiBwaXhlbEIgKyAweDIwMCA+PiAxMDsKCSAgICB9CgoJICAgIGdyYXlzY2FsZUJ1ZmZlcltqXSA9IGdyYXk7CgkgIH0KCgkgIHJldHVybiBncmF5c2NhbGVCdWZmZXI7Cgl9OwoKCXZhciByZWFkZXIgPSBuZXcgX2RlZmF1bHQoKTsKCXNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7CgkgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCgkgIHRyeSB7CgkgICAgdmFyIGx1bWluYW5jZXMgPSB0b0dyYXlzY2FsZUJ1ZmZlcihlLmRhdGEuZGF0YSwgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgbHVtaW5hbmNlU291cmNlID0gbmV3IF9kZWZhdWx0JDEobHVtaW5hbmNlcywgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgaHlicmlkQmluYXJpemVyID0gbmV3IF9kZWZhdWx0JDIobHVtaW5hbmNlU291cmNlKTsKCSAgICB2YXIgYmluYXJ5Qml0bWFwID0gbmV3IF9kZWZhdWx0JDMoaHlicmlkQmluYXJpemVyKTsKCSAgICB2YXIgZGVjb2RlZCA9IHJlYWRlci5kZWNvZGUoYmluYXJ5Qml0bWFwKTsKCSAgICBwb3N0TWVzc2FnZShkZWNvZGVkKTsKCSAgfSBjYXRjaCAoZXJyKSB7CgkgICAgcG9zdE1lc3NhZ2UobnVsbCk7CgkgIH0KCX0pOwoKfSkoKTsKCg=="),aNe=["constraints","onError","onLoad","onScan","resolution","qrArea"];function QY(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(d){return Object.getOwnPropertyDescriptor(t,d).enumerable})),o.push.apply(o,s)}return o}function qY(t){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?QY(Object(o),!0).forEach(function(s){Y_e(t,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):QY(Object(o)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(o,s))})}return t}var lNe=function(){return new sNe},$Y=function(n){n&&(n.getVideoTracks&&n.getAudioTracks?(n.getVideoTracks().forEach(function(o){n.removeTrack(o),o.stop()}),n.getAudioTracks().forEach(function(o){n.removeTrack(o),o.stop()})):n.stop())},hS=function(n){var o=n.constraints,s=n.onError,d=n.onLoad,m=n.onScan,p=n.resolution,v=n.qrArea,k=J_e(n,aNe),Z=q.useRef(null),_=q.useRef(null),N=q.useRef(document.createElement("canvas")),G=q.useRef(null),D=q.useRef(),M=q.useState(null),L=T_e(M,2),O=L[0],P=L[1],F=q.useRef(!1),j=q.useRef();q.useEffect(function(){j.current=lNe();var K=j.current;return K.onmessage=function(de){m&&m(de.data?qY(qY({},de.data),{},{canvas:N.current}):null),F.current=!1},function(){K.terminate()}},[m]);var ie=JSON.stringify(v),ne=q.useCallback(function(){var K=JSON.parse(ie),de=j.current,pe=_.current&&_.current.readyState===_.current.HAVE_ENOUGH_DATA;if(!F.current&&pe){F.current=!0;var Ce=_.current.videoWidth,be=_.current.videoHeight,Ge=Ce>be?Ce:be,Ee=Math.floor(p/Ge*100)/100;be=Math.floor(Ee*be),Ce=Math.floor(Ee*Ce),N.current.width=Ce,N.current.height=be,G.current=N.current.getContext("2d"),G.current.drawImage(_.current,0,0,Ce,be);var Se;K&&K.length===2&&K[0]>0&&K[1]>0?Se=G.current.getImageData(Math.floor((Ce-K[0])/2),Math.floor((be-K[1])/2),K[0],K[1]):Se=G.current.getImageData(0,0,Ce,be),de.postMessage(Se)}D.current=requestAnimationFrame(ne)},[p,ie]),ue=JSON.stringify(o);return q.useEffect(function(){var K=JSON.parse(ue),de=!0;return navigator.mediaDevices.getUserMedia(K).then(function(pe){if(!de)$Y(pe);else{Z.current=pe;try{_.current&&(_.current.srcObject=pe,_.current.setAttribute("playsinline",!0))}catch{P(window.URL.createObjectURL(pe))}d&&d(),D.current=requestAnimationFrame(ne)}}).catch(function(pe){return de?s(pe):null}),function(){cancelAnimationFrame(D.current),de=!1,$Y(Z.current),O&&window.URL.revokeObjectURL(O)}},[ne,ue,s,d,O]),q.createElement("video",xe({autoPlay:!0,playsInline:!0,src:O,ref:_},k))};hS.propTypes={constraints:Wg.object,onError:Wg.func.isRequired,onLoad:Wg.func,onScan:Wg.func.isRequired,resolution:Wg.number,qrArea:Wg.array};hS.defaultProps={constraints:{audio:!1,video:!0},resolution:640,qrArea:[]};const cNe=t=>{var xt,Vt,Hn,at,Wt,vt,It,mt;const[n,o]=q.useState([]),{t:s}=on(),{id:d}=Nf(),[m,p]=q.useState(),[v,k]=q.useState(!1),[Z,_]=q.useState(1),N=5,[G,D]=q.useState({}),[M,L]=q.useState([]),[O,P]=q.useState(""),[F,j]=q.useState(""),[ie,ne]=q.useState(""),[ue,K]=q.useState(""),[de,pe]=q.useState(""),[Ce,be]=q.useState(!1);q.useEffect(()=>{p(t.apiCheckin)},[t.apiCheckin]);const Ge=Fe=>{D(Fe),k(!0)};q.useEffect(()=>{const Fe=new AbortController,{signal:ct}=Fe;return(async()=>{try{const Ft=await yt.get(`/courtstar/booking/${d}`,{signal:ct});p(Ft.data.data)}catch(Ft){console.log(Ft.message)}})(),()=>{Fe.abort()}},[d]);const Ee=async Fe=>{be(!0),Re(!0);let ct={};await yt.post(`/courtstar/check-in/${Fe}`).then(dt=>{dt.data.data&&(ke(),ht.success("Check-in successfully",{toastId:"checkin-success"}),yt.get(`/courtstar/booking/${d}`).then(Ft=>{p(Ft.data.data),ct=Ft.data.data.filter(Mt=>Mt.id===Fe)[0],Re(!1),fe&&(_e(),Ge(ct))}).catch(Ft=>{console.log(Ft.message)}))}).catch(dt=>{console.log(dt.message)}).finally(()=>{be(!1)})},Se=async Fe=>{be(!0),await yt.post(`/courtstar/check-in/undo/${Fe}`).then(ct=>{ct.data.data&&(ke(),ht.success("Undo check-in successfully",{toastId:"undo-checkin-success"}),(async()=>{try{const Ft=await yt.get(`/courtstar/booking/${d}`);p(Ft.data.data)}catch(Ft){console.log(Ft.message)}})())}).catch(ct=>{console.log(ct.message)}).finally(()=>{be(!1)})},ke=()=>{k(!1)},[Be,Re]=q.useState(!0),[fe,Ze]=q.useState(!1),_e=()=>{Ze(!1)},[Pe,Qe]=q.useState(""),Je=Fe=>{Fe&&Qe(Fe)},ve=Fe=>{console.error(Fe)},Ye={height:240,width:320};q.useEffect(()=>{const Fe=De(),ct=[{label:"All Date"}];for(let dt=0;dt<10;dt++){const Ft=De(Fe).add(dt,"days").format("DD/MM");ct.push({label:Ft})}o(ct)},[]);const He=Fe=>{console.log(`Selected: ${Fe.label}`),ne(Fe.label)},je=(Fe=>{const ct=t.apiCheckin.map(Mt=>Mt.slot.slotNo),dt=[...new Set(ct)].sort((Mt,hn)=>Mt-hn);return[{label:"All Slot"},...dt.map(Mt=>({label:Mt.toString()}))]})(),et=Fe=>{console.log(`Selected: ${Fe.label}`),pe(Fe.label)};q.useEffect(()=>{if(Pe){let Fe=parseInt(Pe.text);console.log(Fe),m.filter(ct=>ct.id===Fe)[0]?Ee(Fe):ht.warning("Nhm sn ri bn i!",{toastId:"checkin-fail"})}},[Pe]),q.useEffect(()=>{(()=>{let ct=m?[...m]:[];O&&(ct=ct.filter(dt=>{var Mt,hn,Ke,tt,nt,St;return`${((hn=(Mt=dt==null?void 0:dt.bookingSchedule)==null?void 0:Mt.account)==null?void 0:hn.firstName)||""} ${((tt=(Ke=dt==null?void 0:dt.bookingSchedule)==null?void 0:Ke.account)==null?void 0:tt.lastName)||""} ${((St=(nt=dt==null?void 0:dt.bookingSchedule)==null?void 0:nt.guest)==null?void 0:St.fullName)||""}`.toLowerCase().includes(O.toLowerCase())})),F&&(ct=ct.filter(dt=>{var Mt,hn,Ke,tt;return(((hn=(Mt=dt==null?void 0:dt.bookingSchedule)==null?void 0:Mt.account)==null?void 0:hn.email)||((tt=(Ke=dt==null?void 0:dt.bookingSchedule)==null?void 0:Ke.guest)==null?void 0:tt.email)||"").toLowerCase().includes(F.toLowerCase())})),ue&&(ct=ct.filter(dt=>{var Mt,hn,Ke,tt;return(((hn=(Mt=dt==null?void 0:dt.bookingSchedule)==null?void 0:Mt.account)==null?void 0:hn.phone)||((tt=(Ke=dt==null?void 0:dt.bookingSchedule)==null?void 0:Ke.guest)==null?void 0:tt.phone)||"").toLowerCase().includes(ue.toLowerCase())})),ie&&ie!=="All Date"&&(ct=ct.filter(dt=>De(dt.date,"yyyy-MM-DD").format("DD/MM")===ie)),de&&de!=="All Slot"&&(ct=ct.filter(dt=>dt.slot.slotNo===parseInt(de))),ct.sort((dt,Ft)=>dt.checkedIn-Ft.checkedIn),L(ct)})()},[O,F,ue,ie,de,m]);const Ct=Z*N,ft=Ct-N,wt=M.slice(ft,Ct),rt=Fe=>{_(Fe)};return A.jsxs("div",{className:"w-[70rem] my-12",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{className:"text-3xl font-bold",children:["Check in (",m==null?void 0:m.length,")"]}),A.jsx("div",{children:m!=null&&m.length?A.jsx(tn,{label:s("Check in"),fullWidth:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",icon:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-qr-code",children:[A.jsx("rect",{width:"5",height:"5",x:"3",y:"3",rx:"1"}),A.jsx("rect",{width:"5",height:"5",x:"16",y:"3",rx:"1"}),A.jsx("rect",{width:"5",height:"5",x:"3",y:"16",rx:"1"}),A.jsx("path",{d:"M21 16h-3a2 2 0 0 0-2 2v3"}),A.jsx("path",{d:"M21 21v.01"}),A.jsx("path",{d:"M12 7v3a2 2 0 0 1-2 2H7"}),A.jsx("path",{d:"M3 12h.01"}),A.jsx("path",{d:"M12 3h.01"}),A.jsx("path",{d:"M12 16v.01"}),A.jsx("path",{d:"M16 12h1"}),A.jsx("path",{d:"M21 12v.01"}),A.jsx("path",{d:"M12 21v-1"})]}),onClick:()=>{Re(!0),Ze(!0),setTimeout(()=>{Re(!1)},500)}}):A.jsx(A.Fragment,{})})]}),m!=null&&m.length?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"my-4",children:[A.jsxs("div",{className:"px-10 py-4 grid grid-cols-12 gap-2 bg-white shadow rounded-xl ",children:[A.jsx("div",{className:"col-span-3",children:A.jsx(_t,{placeholder:s("enterUserName"),label:s("fullName"),value:O,onchange:Fe=>P(Fe.target.value)})}),A.jsx("div",{className:"col-span-3",children:A.jsx(_t,{value:F,onchange:Fe=>j(Fe.target.value),placeholder:s("enterUserEmail"),label:"Email"})}),A.jsx("div",{className:"col-span-2",children:A.jsx(Wi,{label:"Date",items:n,onSelect:He,placeholder:s("Select date")})}),A.jsx("div",{className:"col-span-2",children:A.jsx(_t,{onchange:Fe=>K(Fe.target.value),value:ue,placeholder:s("enterUserPhone"),label:s("phone")})}),A.jsx("div",{className:"col-span-2 pr-3",children:A.jsx(Wi,{label:s("slot"),items:je,placeholder:s("selectSlot"),onSelect:et,itemClassName:"!px-4 !text-sm",buttonClassName:"!px-3"})})]}),A.jsx("div",{className:"mt-2 font-medium",children:wt==null?void 0:wt.map(Fe=>{var ct,dt,Ft,Mt,hn,Ke,tt,nt,St,Yt,$e,Dt,Kt,Zt,cn;return A.jsxs("div",{className:Fe!=null&&Fe.checkedIn?"bg-slate-200 px-10 py-1 grid grid-cols-12 gap-2 hover:px-8 cursor-pointer mt-2 rounded-lg ease-in-out duration-300":"bg-white px-10 py-1 grid grid-cols-12 gap-2 hover:bg-teal-50 hover:px-8 cursor-pointer mt-2 rounded-lg shadow ease-in-out duration-300",onClick:()=>Ge(Fe),children:[A.jsxs("div",{className:"col-span-3 px-3 flex items-center truncate",children:[(dt=(ct=Fe==null?void 0:Fe.bookingSchedule)==null?void 0:ct.account)==null?void 0:dt.firstName," ",(Mt=(Ft=Fe==null?void 0:Fe.bookingSchedule)==null?void 0:Ft.account)==null?void 0:Mt.lastName,(Ke=(hn=Fe==null?void 0:Fe.bookingSchedule)==null?void 0:hn.guest)==null?void 0:Ke.fullName]}),A.jsxs("div",{className:"col-span-3 px-3 flex items-center truncate",children:[(nt=(tt=Fe==null?void 0:Fe.bookingSchedule)==null?void 0:tt.account)==null?void 0:nt.email,(Yt=(St=Fe==null?void 0:Fe.bookingSchedule)==null?void 0:St.guest)==null?void 0:Yt.email]}),A.jsx("div",{className:"col-span-2 flex items-center justify-center",children:De(Fe==null?void 0:Fe.date,"yyyy-MM-DD").format("DD/MM")}),A.jsxs("div",{className:"col-span-2 flex items-center justify-center",children:[(Dt=($e=Fe==null?void 0:Fe.bookingSchedule)==null?void 0:$e.account)==null?void 0:Dt.phone,(Zt=(Kt=Fe==null?void 0:Fe.bookingSchedule)==null?void 0:Kt.guest)==null?void 0:Zt.phone]}),A.jsxs("div",{className:"col-span-2 flex flex-col justify-center items-center font-semibold",children:[(cn=Fe.slot)==null?void 0:cn.slotNo,A.jsxs("div",{className:"font-normal text-slate-500 text-sm",children:["(",De(Fe.slot.startTime,"HH:mm:ss").format("H"),"h - ",De(Fe.slot.endTime,"HH:mm:ss").format("H"),"h)"]})]})]},Fe.id)})})]}),A.jsx(ms,{isOpen:v,setIsOpen:ke,html:A.jsx("div",{className:"flex gap-7 max-w-5xl",children:A.jsxs("div",{className:"flex flex-col gap-3",children:[A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Address: "})," ",(xt=t==null?void 0:t.centreDetail)==null?void 0:xt.address]}),A.jsxs("div",{className:"flex gap-6",children:[A.jsxs("div",{className:"",children:[A.jsx("span",{className:"font-semibold",children:"Date: "}),G==null?void 0:G.date]}),A.jsxs("div",{className:"self-center",children:[A.jsx("span",{className:"font-semibold",children:"Slot: "}),(Vt=G==null?void 0:G.slot)==null?void 0:Vt.slotNo,A.jsxs("span",{className:"font-normal text-slate-500 text-sm",children:["(",De((Hn=G==null?void 0:G.slot)==null?void 0:Hn.startTime,"HH:mm:ss").format("H"),"h - ",De((at=G==null?void 0:G.slot)==null?void 0:at.endTime,"HH:mm:ss").format("H"),"h)"]})]})]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Court number: "}),(Wt=G==null?void 0:G.court)==null?void 0:Wt.courtNo]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Total price: "}),A.jsxs("span",{className:"font-semibold text-rose-600",children:[(It=(vt=G==null?void 0:G.bookingSchedule)==null?void 0:vt.totalPrice)==null?void 0:It.toLocaleString("de-DE"),"/h"]})]}),A.jsx(tn,{className:`block text-center py-1 w-full border ${G.checkedIn?"bg-gray-800 hover:bg-gray-400":"bg-primary-green hover:bg-teal-900"} text-white rounded-md font-semibold transition-all ease-in-out duration-300`,onClick:G!=null&&G.checkedIn?()=>{Se(G.id)}:()=>{Ee(G.id)},label:G!=null&&G.checkedIn?"Undo":"Check in",loading:Ce,loadingColor:"#fff"})]})}),centreInfo:!0,title:(mt=t==null?void 0:t.centreDetail)==null?void 0:mt.name}),A.jsx(ms,{isOpen:fe,setIsOpen:_e,html:A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"QR Scanner"}),A.jsx("div",{className:"bg-white rounded-lg",children:fe&&!Be?A.jsx(hS,{delay:300,style:Ye,onError:ve,onScan:Je,className:"w-full h-[500px]"}):A.jsx("div",{className:"w-[320px] h-[240px] flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})})})]})})]}):A.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-3xl text-primary",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"150",height:"150",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-ticket-x",children:[A.jsx("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),A.jsx("path",{d:"m9.5 14.5 5-5"}),A.jsx("path",{d:"m9.5 9.5 5 5"})]}),"There are no booking yet!"]}),M.length>N&&A.jsx(Ea,{totalItems:M.length,itemsPerPage:N,currentPage:Z,onPageChange:rt})]})},gNe=t=>{const{id:n}=Nf(),[o,s]=q.useState(!0),[d,m]=q.useState({}),[p,v]=q.useState([]),[k,Z]=q.useState([]),[_,N]=q.useState([]),G=t.handleAddCentrePopup,[D,M]=q.useState([]);q.useEffect(()=>{const O=new AbortController,{signal:P}=O;return s(!0),n>=0&&((async()=>(v([]),m({}),await yt.get(`/courtstar/centre/getCentre/${n}`,{signal:P}).then(ie=>{m(ie.data.data),v(ie.data.data.images),Z(ie.data.data.centreStaffs),yt.get(`/courtstar/feedback/${n}`).then(ne=>{M(ne.data.data)}).catch(ne=>{console.log(ne.message)}).finally(()=>{s(!1)})}).catch(ie=>{console.log(ie.message)}).finally(()=>{setTimeout(()=>{s(!1)},1e3)})))(),(async()=>(s(!0),await yt.get(`/courtstar/booking/${n}`,{signal:P}).then(ie=>{N(ie.data.data)}).catch(ie=>{console.log(ie.message)}).finally(()=>{setTimeout(()=>{s(!1)},1e3)})))()),()=>{O.abort()}},[n]);const L=O=>{O&&m(O)};return console.log(_),A.jsx("div",{className:"flex-1 flex justify-center max-w-screen-1440 px-14 mx-auto",children:n==="balance"?A.jsx(A.Fragment,{children:A.jsx(W2e,{balanceDetail:t.balanceDetail,handleAddCentrePopup:G})}):A.jsx(A.Fragment,{children:o?A.jsx("div",{className:"h-[500px] flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})}):A.jsxs(A.Fragment,{children:[t.tab===0&&A.jsx(__e,{centreDetail:d,imgList:p,apiFeedbacks:D,dataCenterOnSubmit:L}),t.tab===1&&A.jsx("div",{className:"",children:A.jsx(X_e,{staffList:k})}),t.tab===2&&A.jsx("div",{className:"",children:A.jsx(cNe,{apiCheckin:_,centreDetail:d})})]})})})};function dNe(t){const{t:n}=on(),[o,s]=q.useState(""),[d,m]=q.useState([]),p=q.useRef(),v=q.useRef(),k=q.useRef();q.useState();const Z=[{key:"thuDucCity",label:n("thuDucCity")},{key:"district1",label:n("district1")},{key:"district3",label:n("district3")},{key:"district4",label:n("district4")},{key:"district5",label:n("district5")},{key:"district6",label:n("district6")},{key:"district7",label:n("district7")},{key:"district8",label:n("district8")},{key:"district10",label:n("district10")},{key:"district11",label:n("district11")},{key:"district12",label:n("district12")},{key:"binhTanDistrict",label:n("binhTanDistrict")},{key:"binhThanhDistrict",label:n("binhThanhDistrict")},{key:"goVapDistrict",label:n("goVapDistrict")},{key:"phuNhuanDistrict",label:n("phuNhuanDistrict")},{key:"tanBinhDistrict",label:n("tanBinhDistrict")},{key:"tanPhuDistrict",label:n("tanPhuDistrict")},{key:"nhaBeProvince",label:n("nhaBeProvince")},{key:"canGioProvince",label:n("canGioProvince")},{key:"cuChiProvince",label:n("cuChiProvince")},{key:"hocMonProvince",label:n("hocMonProvince")},{key:"binhChanhProvince",label:n("binhChanhProvince")}],_=Ce=>{Ce&&(s(Ce.key),L(be=>({...be,district:Ce.key})))},N=Ce=>{t.setIsOpen(),t.dataIdCentre(Ce)},G=D();function D(){let Ce=[];for(let be=0;be<24;be++){let Ge=be<10?`0${be}:00`:`${be}:00`;Ce.push({key:be,label:Ge})}return Ce}const[M,L]=q.useState({name:"",address:"",district:"",openTime:"",closeTime:"",pricePerHour:"",numberOfCourts:"",description:"",approveDate:De().format("yyyy-MM-DD"),images:[]}),O=Ce=>{const{name:be,value:Ge}=Ce.target;L(Ee=>({...Ee,[be]:Ge}))},P=Ce=>{Ce&&L(be=>({...be,openTime:Ce.label}))},F=Ce=>{Ce&&L(be=>({...be,closeTime:Ce.label}))},j=Ce=>{if(Ce!==null){const be=gJ(FJ,`files/${dJ()}`);lJ(be,Ce).then(Ge=>{cJ(Ge.ref).then(Ee=>{m(Se=>[...Se,{url:Ee,ref:Ge.ref}])})})}},ie=(Ce,be)=>{Vw(Ce).then(()=>{m(Ge=>Ge.filter(Ee=>Ee.url!==be)),L(Ge=>({...Ge,images:Ge.images.filter(Ee=>Ee!==be)}))}).catch(Ge=>{console.error("Error deleting image: ",Ge)})};q.useEffect(()=>{L(Ce=>({...Ce,images:d.map(be=>be.url)}))},[d]);const ne=Ce=>{if(d.length<6){const be=Ce.target.files[0];j(be)}else ht.error("Only upload a maximum of 6 photos",{toastId:"Upload-photo-error"})},ue=async()=>{if(M.images.length===0)return ht.error("You must upload at least 1 image",{toastId:"upload-img-error"});await yt.post("/courtstar/centre/create",M).then(Ce=>{console.log(Ce.data),ht.success("Create Successfully!",{toastId:"add-centre-success"}),m([]),N(Ce.data.data.id)}).catch(Ce=>{console.log(Ce.message),ht.error(Ce.message,{toastId:"add-centre-error"})}).finally()},K=()=>{const Ce=d.map(be=>Vw(be.ref));Promise.all(Ce).then(()=>{m([]),L({name:"",address:"",district:"",openTime:"",closeTime:"",pricePerHour:"",numberOfCourts:"",description:"",approveDate:De().format("yyyy-MM-DD"),images:[]}),de()}).catch(be=>{console.error("Error deleting images: ",be)})},de=()=>{p.current&&p.current.clearFormDropdown(),v.current&&v.current.clearFormDropdown(),k.current&&k.current.clearFormDropdown()},pe=A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsxs("div",{className:"w-[44rem]",children:[A.jsx("div",{children:d.length>0?A.jsx("img",{src:d[0].url,alt:"Centre",className:"h-64 w-fit mx-auto rounded-xl"}):A.jsx("img",{src:"https://i0.wp.com/y20india.in/wp-content/plugins/ultimate-post/assets/img/ultp-fallback-img.png?w=840&ssl=1",alt:"dummy-img",className:"h-64 w-fit mx-auto rounded-xl"})}),A.jsx("div",{className:"flex gap-2 mt-3 pt-1.5 border rounded-md bg-white overflow-hidden mx-auto relative",children:A.jsxs("div",{id:"image-scroll-container",className:"flex gap-2 overflow-x-auto pb-1.5 px-2",children:[A.jsx("div",{className:"flex justify-center items-center border rounded-lg cursor-pointer h-16 min-w-24 px-7",onClick:()=>document.getElementById("image-upload-input").click(),children:A.jsx("span",{className:"text-4xl font-bold",children:"+"})}),A.jsx("input",{id:"image-upload-input",type:"file",onChange:ne,className:"hidden"}),d.map((Ce,be)=>A.jsxs("div",{className:"image-container relative",children:[A.jsx("img",{src:Ce.url,alt:`Court ${be+1}`,className:"min-w-24 max-w-24 h-16 rounded-lg object-cover object-center "}),A.jsxs("svg",{onClick:()=>ie(Ce.ref,Ce.url),xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",s:!0,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-x absolute right-1 top-1 bg-white rounded-full cursor-pointer hover:scale-110 ease-in-out duration-200",children:[A.jsx("circle",{cx:"12",cy:"12",r:"10"}),A.jsx("path",{d:"m15 9-6 6"}),A.jsx("path",{d:"m9 9 6 6"})]})]},be))]})})]}),A.jsxs("div",{className:"flex-1 w-[36rem] flex flex-col gap-3",children:[A.jsx(_t,{id:"name",name:"name",placeholder:n("enterCentreName"),label:n("centreName"),value:M.name,onchange:O}),A.jsxs("div",{className:"grid grid-cols-7 gap-x-3",children:[A.jsx("div",{className:"col-span-4",children:A.jsx(_t,{id:"address",name:"address",placeholder:n("enterCentreAddress"),label:n("centreAddress"),value:M.address,onchange:O})}),A.jsx("div",{className:"col-span-3 content-end",children:A.jsx(Wi,{ref:p,items:Z,placeholder:n("selectTheDistrict"),onSelect:_})})]}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx(_t,{id:"pricePerHour",name:"pricePerHour",type:"number",placeholder:n("enterPricePerHour"),label:n("pricePerHour"),value:M.pricePerHour,onchange:O}),A.jsx(_t,{id:"numberOfCourts",name:"numberOfCourts",placeholder:n("enterNumberOfCourts"),label:n("numberOfCourts"),value:M.numberOfCourts,onchange:O})]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx(Wi,{ref:v,placeholder:n("selectOpenTime"),items:G,onSelect:P,dir:"up",label:n("openTimes")}),A.jsx(Wi,{ref:k,placeholder:n("selectCloseTime"),items:G,onSelect:F,dir:"up",label:n("closeTime")})]})]})]}),A.jsxs("div",{className:"mt-3",children:[A.jsxs("div",{className:"w-full flex flex-col gap-2 text-gray-800 font-semibold mb-2",children:[n("Description"),":"]}),A.jsx(DJ.CKEditor,{editor:HJ,data:M==null?void 0:M.description,onChange:(Ce,be)=>{const Ge=be.getData();L(Ee=>({...Ee,description:Ge}))}})]})]});return A.jsx("div",{children:A.jsx(nA,{html:pe,isOpen:t.isOpen,submit:ue,setIsOpen:N,title:n("centreInformation"),clearForm:K})})}const uNe=t=>{const{t:n}=on(),{state:o,dispatch:s}=Na(),{role:d}=o,m=Va(),[p,v]=q.useState(d==="STAFF"?t.centreList.id:"balance"),[k,Z]=q.useState();d&&d!=="STAFF"?q.useEffect(()=>{const D=window.location.href.split("/myCentre/")[1];v(D==="balance"?D:parseInt(D)),N(0)},[]):q.useEffect(()=>{m(`/myCentre/${t.centreList.id}`),v(parseInt(t.centreList.id)),N(0)},[]),q.useEffect(()=>{t.dataIsCentreId&&(v(t.dataIsCentreId),_(t.dataIsCentreId))},[t.dataIsCentreId]);const _=G=>{m(`/myCentre/${G}`),v(G),N(0)},N=G=>{Z(G),t.onDataTabSubmit(G)};return A.jsxs("div",{className:"bg-white w-1/6 flex flex-col gap-3 px-5 py-3 min-h-screen",children:[d!=="STAFF"&&A.jsx("div",{className:"",children:A.jsxs("div",{onClick:()=>_("balance"),className:p==="balance"?"flex gap-2 items-center py-1 font-bold text-lg px-3 rounded-md bg-primary-green text-white cursor-pointer scale-105 ease-in-out duration-300":"flex gap-2 items-center py-1 font-bold text-lg cursor-pointer hover:px-3 rounded-md hover:bg-primary-green hover:text-white hover:scale-105 ease-in-out duration-300",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-dollar-sign",children:[A.jsx("circle",{cx:"12",cy:"12",r:"10"}),A.jsx("path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"}),A.jsx("path",{d:"M12 18V6"})]}),n("myBalance")]})}),A.jsxs("div",{className:"",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{className:"flex gap-2 font-bold text-lg",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-layout-dashboard",children:[A.jsx("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),A.jsx("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),A.jsx("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),A.jsx("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]}),n("myCentre")]}),d!=="STAFF"&&A.jsx("button",{className:`flex gap-2 p-1 w-fit rounded-md text-primary-green hover:bg-primary-green hover:text-white\r
            ease-in-out duration-300 cursor-pointer`,onClick:t.handleAddCentrePopup,children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-plus",children:[A.jsx("path",{d:"M5 12h14"}),A.jsx("path",{d:"M12 5v14"})]})})]}),A.jsx("div",{className:"flex flex-col gap-1 mt-1",children:d!=="STAFF"?A.jsx(A.Fragment,{children:t.centreList.map(G=>A.jsxs("div",{className:"",children:[A.jsx("div",{className:p===G.id?"bg-primary-green text-lg text-white pl-3 pr-1 py-1 rounded-md ease-in-out duration-300 font-semibold cursor-pointer":"py-1 rounded-md hover:bg-primary-green text-lg hover:text-white truncate hover:truncate hover:px-1.5 ease-in-out duration-300 font-semibold cursor-pointer",onClick:()=>_(G.id),children:G.name}),p===G.id&&A.jsxs("div",{className:"flex flex-col gap-1 pl-5 mt-1 font-medium animate-fade-in-down transition-all ease-in-out duration-300",children:[A.jsxs("div",{onClick:()=>N(1),className:k===1?"flex gap-2 items-center cursor-pointer rounded-md pl-3 py-1 bg-gray-800 text-white":"flex gap-2 items-center cursor-pointer rounded-md hover:pl-3 py-1 hover:bg-gray-800 hover:text-white ease-in-out duration-300",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user",children:[A.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),A.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),n("manageStaff")]}),A.jsxs("div",{onClick:()=>N(2),className:k===2?"flex gap-2 items-center cursor-pointer py-1 rounded-md px-3 bg-gray-800 text-white":"flex gap-2 items-center cursor-pointer py-1 rounded-md hover:px-3 hover:bg-gray-800 hover:text-white ease-in-out duration-300",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-ticket-check",children:[A.jsx("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),A.jsx("path",{d:"m9 12 2 2 4-4"})]}),"Check in"]})]})]},G.id))}):A.jsxs("div",{className:"",children:[A.jsx("div",{className:p===t.centreList.id?"bg-primary-green text-white pl-3 pr-1 py-1.5 rounded-md ease-in-out duration-300 font-semibold cursor-pointer":"py-1.5 rounded-md hover:bg-primary-green hover:text-white truncate hover:pl-1.5 ease-in-out duration-300 font-semibold cursor-pointer",onClick:()=>_(t.centreList.id),children:t.centreList.name}),p===t.centreList.id&&A.jsxs("div",{className:"flex flex-col gap-1 pl-5 mt-1 animate-fade-in-down transition-all ease-in-out duration-300",children:[d!=="STAFF"&&A.jsx("div",{onClick:()=>N(1),className:k===1?"cursor-pointer rounded-md pl-3 bg-gray-800 text-white":"cursor-pointer rounded-md hover:pl-3 hover:bg-gray-800 hover:text-white ease-in-out duration-300",children:n("centreStaff")}),A.jsxs("div",{onClick:()=>N(2),className:k===2?"flex gap-2 items-center cursor-pointer py-1 rounded-md px-3 bg-gray-800 text-white":"flex gap-2 items-center cursor-pointer py-1 rounded-md hover:px-3 hover:bg-gray-800 hover:text-white ease-in-out duration-300",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-ticket-check",children:[A.jsx("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),A.jsx("path",{d:"m9 12 2 2 4-4"})]}),"Check in"]})]})]})})]})]})},hNe=()=>{const{state:t,dispatch:n}=Na(),{role:o}=t,[s,d]=q.useState([]),[m,p]=q.useState(!0),[v,k]=q.useState(),[Z,_]=q.useState(),[N,G]=q.useState();q.useEffect(()=>{const j=new AbortController,{signal:ie}=j,ne=async()=>{await yt.get("/courtstar/centre/getAllCentresOfManager",{signal:ie}).then(de=>{d(de.data.data)}).catch(de=>{console.log(de.message)}).finally(()=>{p(!1)})},ue=async()=>{await yt.get("/courtstar/centre/getCentreOfStaff",{signal:ie}).then(de=>{d(de.data.data)}).catch(de=>{console.log(de.message)}).finally(()=>{p(!1)})},K=async()=>{p(!0),await yt.get("/courtstar/manager/info",{signal:ie}).then(de=>{_(de.data.data)}).catch(de=>{console.log(de.message)}).finally(()=>{p(!1)})};return o==="MANAGER"?(ne(),K()):ue(),()=>{j.abort()}},[N]);const D=j=>{k(j)},M=j=>{G(j)},[L,O]=q.useState(!1),P=()=>{O(!0)},F=()=>{O(!1)};return A.jsxs("div",{className:"",children:[A.jsx(dNe,{isOpen:L,setIsOpen:F,dataIdCentre:M}),m?A.jsx("div",{className:"min-h-screen flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})}):A.jsxs("div",{className:"bg-gray-100 text-gray-800 flex",children:[A.jsx(uNe,{centreList:s,onDataTabSubmit:D,handleAddCentrePopup:P,dataIsCentreId:N}),A.jsx(gNe,{balanceDetail:Z,tab:v,handleAddCentrePopup:P})]})]})},mNe=t=>{const{t:n}=on(),[o,s]=q.useState(1),[d,m]=q.useState();q.useEffect(()=>{t.onDataTabSubmit(o),o===3&&(m(1),t.onDataTabItemSubmit(1))},[o]);const p=k=>{s(k)},v=k=>{m(k),t.onDataTabItemSubmit(k)};return A.jsxs("div",{className:"bg-white w-1/6 flex flex-col gap-2 px-3 py-3 min-h-screen",children:[A.jsxs("div",{className:o===1?"flex gap-2 font-semibold text-lg items-center py-1 bg-primary-green px-2 text-white cursor-pointer rounded-md ease-in-out duration-200":"flex gap-2 font-semibold text-lg items-center py-1 hover:bg-primary-green hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>p(1),children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-square-activity",children:[A.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),A.jsx("path",{d:"M17 12h-2l-2 5-2-10-2 5H7"})]}),A.jsx("div",{children:n("dashboard")})]}),A.jsxs("div",{className:o===2?"flex gap-2 font-semibold text-lg items-center py-1 bg-primary-green px-2 text-white cursor-pointer rounded-md ease-in-out duration-200":"flex gap-2 font-semibold text-lg items-center py-1 hover:bg-primary-green hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>p(2),children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-layout-dashboard",children:[A.jsx("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),A.jsx("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),A.jsx("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),A.jsx("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]}),n("allCenTre")]}),A.jsxs("div",{className:"",children:[A.jsxs("div",{className:o===3?"flex gap-2 font-semibold text-lg items-center py-1 bg-primary-green px-2 text-white rounded-md":"flex gap-2 font-semibold text-lg items-center py-1 hover:bg-primary-green hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>p(3),children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-square-user",children:[A.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),A.jsx("circle",{cx:"12",cy:"10",r:"3"}),A.jsx("path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2"})]}),n("allUser")]}),o===3&&A.jsxs("div",{className:"ml-4 mt-1 flex flex-col gap-0.5 animate-fade-in-down transition-all ease-in-out duration-200",children:[A.jsxs("div",{className:d===1?"flex gap-2 font-medium items-center py-1 bg-black px-2 text-white cursor-pointer rounded-md ease-in-out duration-200":"flex gap-2 font-medium items-center py-1 hover:bg-black hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>v(1),children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user",children:[A.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),A.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),n("centreManager")]}),A.jsxs("div",{className:d===2?"flex gap-2 font-medium items-center py-1 bg-black px-2 text-white cursor-pointer rounded-md ease-in-out duration-200":"flex gap-2 font-medium items-center py-1 hover:bg-black hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>v(2),children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user",children:[A.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),A.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),n("manageStaff")]}),A.jsxs("div",{className:d===3?"flex gap-2 font-medium items-center py-1 bg-black px-2 text-white cursor-pointer rounded-md ease-in-out duration-200":"flex gap-2 font-medium items-center py-1 hover:bg-black hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>v(3),children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user",children:[A.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),A.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),n("customer")]})]})]}),A.jsxs("div",{className:o===4?"flex gap-2 font-semibold text-lg items-center py-1 bg-primary-green px-2 text-white cursor-pointer rounded-md ease-in-out duration-200":"flex gap-2 font-semibold text-lg items-center py-1 hover:bg-primary-green hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>p(4),children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-hand-coins",children:[A.jsx("path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17"}),A.jsx("path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9"}),A.jsx("path",{d:"m2 16 6 6"}),A.jsx("circle",{cx:"16",cy:"9",r:"2.9"}),A.jsx("circle",{cx:"6",cy:"5",r:"3"})]}),n("withdrawalRequest")]}),A.jsxs("div",{className:o===5?"flex gap-2 font-semibold text-lg items-center py-1 bg-primary-green px-2 text-white cursor-pointer rounded-md ease-in-out duration-200":"flex gap-2 font-semibold text-lg items-center py-1 hover:bg-primary-green hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>p(5),children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-clipboard-list",children:[A.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),A.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),A.jsx("path",{d:"M12 11h4"}),A.jsx("path",{d:"M12 16h4"}),A.jsx("path",{d:"M8 11h.01"}),A.jsx("path",{d:"M8 16h.01"})]}),n("postCentreRequest")]})]})};var zJ={},Yw={exports:{}};/*!
 * ApexCharts v3.49.1
 * (c) 2018-2024 ApexCharts
 * Released under the MIT License.
 */(function(t,n){function o(le,c){var g=Object.keys(le);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(le);c&&(h=h.filter(function(I){return Object.getOwnPropertyDescriptor(le,I).enumerable})),g.push.apply(g,h)}return g}function s(le){for(var c=1;c<arguments.length;c++){var g=arguments[c]!=null?arguments[c]:{};c%2?o(Object(g),!0).forEach(function(h){k(le,h,g[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(g)):o(Object(g)).forEach(function(h){Object.defineProperty(le,h,Object.getOwnPropertyDescriptor(g,h))})}return le}function d(le){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},d(le)}function m(le,c){if(!(le instanceof c))throw new TypeError("Cannot call a class as a function")}function p(le,c){for(var g=0;g<c.length;g++){var h=c[g];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(le,h.key,h)}}function v(le,c,g){return c&&p(le.prototype,c),g&&p(le,g),le}function k(le,c,g){return c in le?Object.defineProperty(le,c,{value:g,enumerable:!0,configurable:!0,writable:!0}):le[c]=g,le}function Z(le,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(c&&c.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),c&&N(le,c)}function _(le){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},_(le)}function N(le,c){return N=Object.setPrototypeOf||function(g,h){return g.__proto__=h,g},N(le,c)}function G(le){if(le===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}function D(le){var c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var g,h=_(le);if(c){var I=_(this).constructor;g=Reflect.construct(h,arguments,I)}else g=h.apply(this,arguments);return function(b,y){if(y&&(typeof y=="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G(b)}(this,g)}}function M(le,c){return function(g){if(Array.isArray(g))return g}(le)||function(g,h){var I=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(I!=null){var b,y,x=[],B=!0,V=!1;try{for(I=I.call(g);!(B=(b=I.next()).done)&&(x.push(b.value),!h||x.length!==h);B=!0);}catch(E){V=!0,y=E}finally{try{B||I.return==null||I.return()}finally{if(V)throw y}}return x}}(le,c)||O(le,c)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function L(le){return function(c){if(Array.isArray(c))return P(c)}(le)||function(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}(le)||O(le)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function O(le,c){if(le){if(typeof le=="string")return P(le,c);var g=Object.prototype.toString.call(le).slice(8,-1);return g==="Object"&&le.constructor&&(g=le.constructor.name),g==="Map"||g==="Set"?Array.from(le):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?P(le,c):void 0}}function P(le,c){(c==null||c>le.length)&&(c=le.length);for(var g=0,h=new Array(c);g<c;g++)h[g]=le[g];return h}var F=function(){function le(){m(this,le)}return v(le,[{key:"shadeRGBColor",value:function(c,g){var h=g.split(","),I=c<0?0:255,b=c<0?-1*c:c,y=parseInt(h[0].slice(4),10),x=parseInt(h[1],10),B=parseInt(h[2],10);return"rgb("+(Math.round((I-y)*b)+y)+","+(Math.round((I-x)*b)+x)+","+(Math.round((I-B)*b)+B)+")"}},{key:"shadeHexColor",value:function(c,g){var h=parseInt(g.slice(1),16),I=c<0?0:255,b=c<0?-1*c:c,y=h>>16,x=h>>8&255,B=255&h;return"#"+(16777216+65536*(Math.round((I-y)*b)+y)+256*(Math.round((I-x)*b)+x)+(Math.round((I-B)*b)+B)).toString(16).slice(1)}},{key:"shadeColor",value:function(c,g){return le.isColorHex(g)?this.shadeHexColor(c,g):this.shadeRGBColor(c,g)}}],[{key:"bind",value:function(c,g){return function(){return c.apply(g,arguments)}}},{key:"isObject",value:function(c){return c&&d(c)==="object"&&!Array.isArray(c)&&c!=null}},{key:"is",value:function(c,g){return Object.prototype.toString.call(g)==="[object "+c+"]"}},{key:"listToArray",value:function(c){var g,h=[];for(g=0;g<c.length;g++)h[g]=c[g];return h}},{key:"extend",value:function(c,g){var h=this;typeof Object.assign!="function"&&(Object.assign=function(b){if(b==null)throw new TypeError("Cannot convert undefined or null to object");for(var y=Object(b),x=1;x<arguments.length;x++){var B=arguments[x];if(B!=null)for(var V in B)B.hasOwnProperty(V)&&(y[V]=B[V])}return y});var I=Object.assign({},c);return this.isObject(c)&&this.isObject(g)&&Object.keys(g).forEach(function(b){h.isObject(g[b])&&b in c?I[b]=h.extend(c[b],g[b]):Object.assign(I,k({},b,g[b]))}),I}},{key:"extendArray",value:function(c,g){var h=[];return c.map(function(I){h.push(le.extend(g,I))}),c=h}},{key:"monthMod",value:function(c){return c%12}},{key:"clone",value:function(c){if(le.is("Array",c)){for(var g=[],h=0;h<c.length;h++)g[h]=this.clone(c[h]);return g}if(le.is("Null",c))return null;if(le.is("Date",c))return c;if(d(c)==="object"){var I={};for(var b in c)c.hasOwnProperty(b)&&(I[b]=this.clone(c[b]));return I}return c}},{key:"log10",value:function(c){return Math.log(c)/Math.LN10}},{key:"roundToBase10",value:function(c){return Math.pow(10,Math.floor(Math.log10(c)))}},{key:"roundToBase",value:function(c,g){return Math.pow(g,Math.floor(Math.log(c)/Math.log(g)))}},{key:"parseNumber",value:function(c){return c===null?c:parseFloat(c)}},{key:"stripNumber",value:function(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(c)?c:parseFloat(c.toPrecision(g))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(c){var g=String(c).split(/[eE]/);if(g.length===1)return g[0];var h="",I=c<0?"-":"",b=g[0].replace(".",""),y=Number(g[1])+1;if(y<0){for(h=I+"0.";y++;)h+="0";return h+b.replace(/^-/,"")}for(y-=b.length;y--;)h+="0";return b+h}},{key:"getDimensions",value:function(c){var g=getComputedStyle(c,null),h=c.clientHeight,I=c.clientWidth;return h-=parseFloat(g.paddingTop)+parseFloat(g.paddingBottom),[I-=parseFloat(g.paddingLeft)+parseFloat(g.paddingRight),h]}},{key:"getBoundingClientRect",value:function(c){var g=c.getBoundingClientRect();return{top:g.top,right:g.right,bottom:g.bottom,left:g.left,width:c.clientWidth,height:c.clientHeight,x:g.left,y:g.top}}},{key:"getLargestStringFromArr",value:function(c){return c.reduce(function(g,h){return Array.isArray(h)&&(h=h.reduce(function(I,b){return I.length>b.length?I:b})),g.length>h.length?g:h},0)}},{key:"hexToRgba",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;c.substring(0,1)!=="#"&&(c="#999999");var h=c.replace("#","");h=h.match(new RegExp("(.{"+h.length/3+"})","g"));for(var I=0;I<h.length;I++)h[I]=parseInt(h[I].length===1?h[I]+h[I]:h[I],16);return g!==void 0&&h.push(g),"rgba("+h.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(c){return parseFloat(c.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(c){return(c=c.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&c.length===4?"#"+("0"+parseInt(c[1],10).toString(16)).slice(-2)+("0"+parseInt(c[2],10).toString(16)).slice(-2)+("0"+parseInt(c[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(c){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(c)}},{key:"getPolygonPos",value:function(c,g){for(var h=[],I=2*Math.PI/g,b=0;b<g;b++){var y={};y.x=c*Math.sin(b*I),y.y=-c*Math.cos(b*I),h.push(y)}return h}},{key:"polarToCartesian",value:function(c,g,h,I){var b=(I-90)*Math.PI/180;return{x:c+h*Math.cos(b),y:g+h*Math.sin(b)}}},{key:"escapeString",value:function(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",h=c.toString().slice();return h=h.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,g)}},{key:"negToZero",value:function(c){return c<0?0:c}},{key:"moveIndexInArray",value:function(c,g,h){if(h>=c.length)for(var I=h-c.length+1;I--;)c.push(void 0);return c.splice(h,0,c.splice(g,1)[0]),c}},{key:"extractNumber",value:function(c){return parseFloat(c.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(c,g){for(;(c=c.parentElement)&&!c.classList.contains(g););return c}},{key:"setELstyles",value:function(c,g){for(var h in g)g.hasOwnProperty(h)&&(c.style.key=g[h])}},{key:"isNumber",value:function(c){return!isNaN(c)&&parseFloat(Number(c))===c&&!isNaN(parseInt(c,10))}},{key:"isFloat",value:function(c){return Number(c)===c&&c%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var c=window.navigator.userAgent,g=c.indexOf("MSIE ");if(g>0)return parseInt(c.substring(g+5,c.indexOf(".",g)),10);if(c.indexOf("Trident/")>0){var h=c.indexOf("rv:");return parseInt(c.substring(h+3,c.indexOf(".",h)),10)}var I=c.indexOf("Edge/");return I>0&&parseInt(c.substring(I+5,c.indexOf(".",I)),10)}},{key:"getGCD",value:function(c,g){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,I=Math.pow(10,h-Math.floor(Math.log10(Math.max(c,g))));for(c=Math.round(Math.abs(c)*I),g=Math.round(Math.abs(g)*I);g;){var b=g;g=c%g,c=b}return c/I}},{key:"getPrimeFactors",value:function(c){for(var g=[],h=2;c>=2;)c%h==0?(g.push(h),c/=h):h++;return g}},{key:"mod",value:function(c,g){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,I=Math.pow(10,h-Math.floor(Math.log10(Math.max(c,g))));return(c=Math.round(Math.abs(c)*I))%(g=Math.round(Math.abs(g)*I))/I}}]),le}(),j=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w,this.setEasingFunctions()}return v(le,[{key:"setEasingFunctions",value:function(){var c;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":c="-";break;case"easein":c="<";break;case"easeout":c=">";break;case"easeinout":default:c="<>";break;case"swing":c=function(g){var h=1.70158;return(g-=1)*g*((h+1)*g+h)+1};break;case"bounce":c=function(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+.9375:7.5625*(g-=2.625/2.75)*g+.984375};break;case"elastic":c=function(g){return g===!!g?g:Math.pow(2,-10*g)*Math.sin((g-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=c}}},{key:"animateLine",value:function(c,g,h,I){c.attr(g).animate(I).attr(h)}},{key:"animateMarker",value:function(c,g,h,I,b,y){g||(g=0),c.attr({r:g,width:g,height:g}).animate(I,b).attr({r:h,width:h.width,height:h.height}).afterAll(function(){y()})}},{key:"animateCircle",value:function(c,g,h,I,b){c.attr({r:g.r,cx:g.cx,cy:g.cy}).animate(I,b).attr({r:h.r,cx:h.cx,cy:h.cy})}},{key:"animateRect",value:function(c,g,h,I,b){c.attr(g).animate(I).attr(h).afterAll(function(){return b()})}},{key:"animatePathsGradually",value:function(c){var g=c.el,h=c.realIndex,I=c.j,b=c.fill,y=c.pathFrom,x=c.pathTo,B=c.speed,V=c.delay,E=this.w,Y=0;E.config.chart.animations.animateGradually.enabled&&(Y=E.config.chart.animations.animateGradually.delay),E.config.chart.animations.dynamicAnimation.enabled&&E.globals.dataChanged&&E.config.chart.type!=="bar"&&(Y=0),this.morphSVG(g,h,I,E.config.chart.type!=="line"||E.globals.comboCharts?b:"stroke",y,x,B,V*Y)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(c){var g=c.el;g.classList.remove("apexcharts-element-hidden"),g.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(c){var g=this.w;g.globals.animationEnded||(g.globals.animationEnded=!0,this.showDelayedElements(),typeof g.config.chart.events.animationEnd=="function"&&g.config.chart.events.animationEnd(this.ctx,{el:c,w:g}))}},{key:"morphSVG",value:function(c,g,h,I,b,y,x,B){var V=this,E=this.w;b||(b=c.attr("pathFrom")),y||(y=c.attr("pathTo"));var Y=function(H){return E.config.chart.type==="radar"&&(x=1),"M 0 ".concat(E.globals.gridHeight)};(!b||b.indexOf("undefined")>-1||b.indexOf("NaN")>-1)&&(b=Y()),(!y||y.indexOf("undefined")>-1||y.indexOf("NaN")>-1)&&(y=Y()),E.globals.shouldAnimate||(x=1),c.plot(b).animate(1,E.globals.easing,B).plot(b).animate(x,E.globals.easing,B).plot(y).afterAll(function(){F.isNumber(h)?h===E.globals.series[E.globals.maxValsInArrayIndex].length-2&&E.globals.shouldAnimate&&V.animationCompleted(c):I!=="none"&&E.globals.shouldAnimate&&(!E.globals.comboCharts&&g===E.globals.series.length-1||E.globals.comboCharts)&&V.animationCompleted(c),V.showDelayedElements()})}}]),le}(),ie=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"getDefaultFilter",value:function(c,g){var h=this.w;c.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),h.config.states.normal.filter!=="none"?this.applyFilter(c,g,h.config.states.normal.filter.type,h.config.states.normal.filter.value):h.config.chart.dropShadow.enabled&&this.dropShadow(c,h.config.chart.dropShadow,g)}},{key:"addNormalFilter",value:function(c,g){var h=this.w;h.config.chart.dropShadow.enabled&&!c.node.classList.contains("apexcharts-marker")&&this.dropShadow(c,h.config.chart.dropShadow,g)}},{key:"addLightenFilter",value:function(c,g,h){var I=this,b=this.w,y=h.intensity;c.unfilter(!0),new window.SVG.Filter,c.filter(function(x){var B=b.config.chart.dropShadow;(B.enabled?I.addShadow(x,g,B):x).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:y}})}),c.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(c.filterer.node)}},{key:"addDarkenFilter",value:function(c,g,h){var I=this,b=this.w,y=h.intensity;c.unfilter(!0),new window.SVG.Filter,c.filter(function(x){var B=b.config.chart.dropShadow;(B.enabled?I.addShadow(x,g,B):x).componentTransfer({rgb:{type:"linear",slope:y}})}),c.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(c.filterer.node)}},{key:"applyFilter",value:function(c,g,h){var I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(h){case"none":this.addNormalFilter(c,g);break;case"lighten":this.addLightenFilter(c,g,{intensity:I});break;case"darken":this.addDarkenFilter(c,g,{intensity:I})}}},{key:"addShadow",value:function(c,g,h){var I,b=this.w,y=h.blur,x=h.top,B=h.left,V=h.color,E=h.opacity;if(((I=b.config.chart.dropShadow.enabledOnSeries)===null||I===void 0?void 0:I.length)>0&&b.config.chart.dropShadow.enabledOnSeries.indexOf(g)===-1)return c;var Y=c.flood(Array.isArray(V)?V[g]:V,E).composite(c.sourceAlpha,"in").offset(B,x).gaussianBlur(y).merge(c.source);return c.blend(c.source,Y)}},{key:"dropShadow",value:function(c,g){var h,I,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=g.top,x=g.left,B=g.blur,V=g.color,E=g.opacity,Y=g.noUserSpaceOnUse,H=this.w;return c.unfilter(!0),F.isIE()&&H.config.chart.type==="radialBar"||((h=H.config.chart.dropShadow.enabledOnSeries)===null||h===void 0?void 0:h.length)>0&&((I=H.config.chart.dropShadow.enabledOnSeries)===null||I===void 0?void 0:I.indexOf(b))===-1||(V=Array.isArray(V)?V[b]:V,c.filter(function(z){var Q=null;Q=F.isSafari()||F.isFirefox()||F.isIE()?z.flood(V,E).composite(z.sourceAlpha,"in").offset(x,y).gaussianBlur(B):z.flood(V,E).composite(z.sourceAlpha,"in").offset(x,y).gaussianBlur(B).merge(z.source),z.blend(z.source,Q)}),Y||c.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(c.filterer.node)),c}},{key:"setSelectionFilter",value:function(c,g,h){var I=this.w;if(I.globals.selectedDataPoints[g]!==void 0&&I.globals.selectedDataPoints[g].indexOf(h)>-1){c.node.setAttribute("selected",!0);var b=I.config.states.active.filter;b!=="none"&&this.applyFilter(c,g,b.type,b.value)}}},{key:"_scaleFilterSize",value:function(c){(function(g){for(var h in g)g.hasOwnProperty(h)&&c.setAttribute(h,g[h])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),le}(),ne=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"roundPathCorners",value:function(c,g){function h(me,Ae,ye){var Ne=Ae.x-me.x,Te=Ae.y-me.y,Ve=Math.sqrt(Ne*Ne+Te*Te);return I(me,Ae,Math.min(1,ye/Ve))}function I(me,Ae,ye){return{x:me.x+(Ae.x-me.x)*ye,y:me.y+(Ae.y-me.y)*ye}}function b(me,Ae){me.length>2&&(me[me.length-2]=Ae.x,me[me.length-1]=Ae.y)}function y(me){return{x:parseFloat(me[me.length-2]),y:parseFloat(me[me.length-1])}}c.indexOf("NaN")>-1&&(c="");var x=c.split(/[,\s]/).reduce(function(me,Ae){var ye=Ae.match("([a-zA-Z])(.+)");return ye?(me.push(ye[1]),me.push(ye[2])):me.push(Ae),me},[]).reduce(function(me,Ae){return parseFloat(Ae)==Ae&&me.length?me[me.length-1].push(Ae):me.push([Ae]),me},[]),B=[];if(x.length>1){var V=y(x[0]),E=null;x[x.length-1][0]=="Z"&&x[0].length>2&&(E=["L",V.x,V.y],x[x.length-1]=E),B.push(x[0]);for(var Y=1;Y<x.length;Y++){var H=B[B.length-1],z=x[Y],Q=z==E?x[1]:x[Y+1];if(Q&&H&&H.length>2&&z[0]=="L"&&Q.length>2&&Q[0]=="L"){var $,oe,re=y(H),se=y(z),W=y(Q);$=h(se,re,g),oe=h(se,W,g),b(z,$),z.origPoint=se,B.push(z);var T=I($,se,.5),ee=I(se,oe,.5),ce=["C",T.x,T.y,ee.x,ee.y,oe.x,oe.y];ce.origPoint=se,B.push(ce)}else B.push(z)}if(E){var ge=y(B[B.length-1]);B.push(["Z"]),b(B[0],ge)}}else B=x;return B.reduce(function(me,Ae){return me+Ae.join(" ")+" "},"")}},{key:"drawLine",value:function(c,g,h,I){var b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,B=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:c,y1:g,x2:h,y2:I,stroke:b,"stroke-dasharray":y,"stroke-width":x,"stroke-linecap":B})}},{key:"drawRect",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,B=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,V=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,E=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,Y=this.w.globals.dom.Paper.rect();return Y.attr({x:c,y:g,width:h>0?h:0,height:I>0?I:0,rx:b,ry:b,opacity:x,"stroke-width":B!==null?B:0,stroke:V!==null?V:"none","stroke-dasharray":E}),Y.node.setAttribute("fill",y),Y}},{key:"drawPolygon",value:function(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(c).attr({fill:I,stroke:g,"stroke-width":h})}},{key:"drawCircle",value:function(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;c<0&&(c=0);var h=this.w.globals.dom.Paper.circle(2*c);return g!==null&&h.attr(g),h}},{key:"drawPath",value:function(c){var g=c.d,h=g===void 0?"":g,I=c.stroke,b=I===void 0?"#a8a8a8":I,y=c.strokeWidth,x=y===void 0?1:y,B=c.fill,V=c.fillOpacity,E=V===void 0?1:V,Y=c.strokeOpacity,H=Y===void 0?1:Y,z=c.classes,Q=c.strokeLinecap,$=Q===void 0?null:Q,oe=c.strokeDashArray,re=oe===void 0?0:oe,se=this.w;return $===null&&($=se.config.stroke.lineCap),(h.indexOf("undefined")>-1||h.indexOf("NaN")>-1)&&(h="M 0 ".concat(se.globals.gridHeight)),se.globals.dom.Paper.path(h).attr({fill:B,"fill-opacity":E,stroke:b,"stroke-opacity":H,"stroke-linecap":$,"stroke-width":x,"stroke-dasharray":re,class:z})}},{key:"group",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=this.w.globals.dom.Paper.group();return c!==null&&g.attr(c),g}},{key:"move",value:function(c,g){var h=["M",c,g].join(" ");return h}},{key:"line",value:function(c,g){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,I=null;return h===null?I=[" L",c,g].join(" "):h==="H"?I=[" H",c].join(" "):h==="V"&&(I=[" V",g].join(" ")),I}},{key:"curve",value:function(c,g,h,I,b,y){var x=["C",c,g,h,I,b,y].join(" ");return x}},{key:"quadraticCurve",value:function(c,g,h,I){return["Q",c,g,h,I].join(" ")}},{key:"arc",value:function(c,g,h,I,b,y,x){var B="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(B="a");var V=[B,c,g,h,I,b,y,x].join(" ");return V}},{key:"renderPaths",value:function(c){var g,h=c.j,I=c.realIndex,b=c.pathFrom,y=c.pathTo,x=c.stroke,B=c.strokeWidth,V=c.strokeLinecap,E=c.fill,Y=c.animationDelay,H=c.initialSpeed,z=c.dataChangeSpeed,Q=c.className,$=c.shouldClipToGrid,oe=$===void 0||$,re=c.bindEventsOnPaths,se=re===void 0||re,W=c.drawShadow,T=W===void 0||W,ee=this.w,ce=new ie(this.ctx),ge=new j(this.ctx),me=this.w.config.chart.animations.enabled,Ae=me&&this.w.config.chart.animations.dynamicAnimation.enabled,ye=!!(me&&!ee.globals.resized||Ae&&ee.globals.dataChanged&&ee.globals.shouldAnimate);ye?g=b:(g=y,ee.globals.animationEnded=!0);var Ne=ee.config.stroke.dashArray,Te=0;Te=Array.isArray(Ne)?Ne[I]:ee.config.stroke.dashArray;var Ve=this.drawPath({d:g,stroke:x,strokeWidth:B,fill:E,fillOpacity:1,classes:Q,strokeLinecap:V,strokeDashArray:Te});if(Ve.attr("index",I),oe&&Ve.attr({"clip-path":"url(#gridRectMask".concat(ee.globals.cuid,")")}),ee.config.states.normal.filter.type!=="none")ce.getDefaultFilter(Ve,I);else if(ee.config.chart.dropShadow.enabled&&T){var Le=ee.config.chart.dropShadow;ce.dropShadow(Ve,Le,I)}se&&(Ve.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Ve)),Ve.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Ve)),Ve.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Ve))),Ve.attr({pathTo:y,pathFrom:b});var st={el:Ve,j:h,realIndex:I,pathFrom:b,pathTo:y,fill:E,strokeWidth:B,delay:Y};return!me||ee.globals.resized||ee.globals.dataChanged?!ee.globals.resized&&ee.globals.dataChanged||ge.showDelayedElements():ge.animatePathsGradually(s(s({},st),{},{speed:H})),ee.globals.dataChanged&&Ae&&ye&&ge.animatePathsGradually(s(s({},st),{},{speed:z})),Ve}},{key:"drawPattern",value:function(c,g,h){var I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(g,h,function(y){c==="horizontalLines"?y.line(0,0,h,0).stroke({color:I,width:b+1}):c==="verticalLines"?y.line(0,0,0,g).stroke({color:I,width:b+1}):c==="slantedLines"?y.line(0,0,g,h).stroke({color:I,width:b}):c==="squares"?y.rect(g,h).fill("none").stroke({color:I,width:b}):c==="circles"&&y.circle(g).fill("none").stroke({color:I,width:b})})}},{key:"drawGradient",value:function(c,g,h,I,b){var y,x=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,B=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,V=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,E=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,Y=this.w;g.length<9&&g.indexOf("#")===0&&(g=F.hexToRgba(g,I)),h.length<9&&h.indexOf("#")===0&&(h=F.hexToRgba(h,b));var H=0,z=1,Q=1,$=null;B!==null&&(H=B[0]!==void 0?B[0]/100:0,z=B[1]!==void 0?B[1]/100:1,Q=B[2]!==void 0?B[2]/100:1,$=B[3]!==void 0?B[3]/100:null);var oe=!(Y.config.chart.type!=="donut"&&Y.config.chart.type!=="pie"&&Y.config.chart.type!=="polarArea"&&Y.config.chart.type!=="bubble");if(y=V===null||V.length===0?Y.globals.dom.Paper.gradient(oe?"radial":"linear",function(W){W.at(H,g,I),W.at(z,h,b),W.at(Q,h,b),$!==null&&W.at($,g,I)}):Y.globals.dom.Paper.gradient(oe?"radial":"linear",function(W){(Array.isArray(V[E])?V[E]:V).forEach(function(T){W.at(T.offset/100,T.color,T.opacity)})}),oe){var re=Y.globals.gridWidth/2,se=Y.globals.gridHeight/2;Y.config.chart.type!=="bubble"?y.attr({gradientUnits:"userSpaceOnUse",cx:re,cy:se,r:x}):y.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else c==="vertical"?y.from(0,0).to(0,1):c==="diagonal"?y.from(0,0).to(1,1):c==="horizontal"?y.from(0,1).to(1,1):c==="diagonal2"&&y.from(1,0).to(0,1);return y}},{key:"getTextBasedOnMaxWidth",value:function(c){var g=c.text,h=c.maxWidth,I=c.fontSize,b=c.fontFamily,y=this.getTextRects(g,I,b),x=y.width/g.length,B=Math.floor(h/x);return h<y.width?g.slice(0,B-3)+"...":g}},{key:"drawText",value:function(c){var g=this,h=c.x,I=c.y,b=c.text,y=c.textAnchor,x=c.fontSize,B=c.fontFamily,V=c.fontWeight,E=c.foreColor,Y=c.opacity,H=c.maxWidth,z=c.cssClass,Q=z===void 0?"":z,$=c.isPlainText,oe=$===void 0||$,re=c.dominantBaseline,se=re===void 0?"auto":re,W=this.w;b===void 0&&(b="");var T=b;y||(y="start"),E&&E.length||(E=W.config.chart.foreColor),B=B||W.config.chart.fontFamily,V=V||"regular";var ee,ce={maxWidth:H,fontSize:x=x||"11px",fontFamily:B};return Array.isArray(b)?ee=W.globals.dom.Paper.text(function(ge){for(var me=0;me<b.length;me++)T=b[me],H&&(T=g.getTextBasedOnMaxWidth(s({text:b[me]},ce))),me===0?ge.tspan(T):ge.tspan(T).newLine()}):(H&&(T=this.getTextBasedOnMaxWidth(s({text:b},ce))),ee=oe?W.globals.dom.Paper.plain(b):W.globals.dom.Paper.text(function(ge){return ge.tspan(T)})),ee.attr({x:h,y:I,"text-anchor":y,"dominant-baseline":se,"font-size":x,"font-family":B,"font-weight":V,fill:E,class:"apexcharts-text "+Q}),ee.node.style.fontFamily=B,ee.node.style.opacity=Y,ee}},{key:"createGroupWithAttributes",value:function(c,g,h,I){var b=this.group();return h.forEach(function(y){return b.add(y)}),b.attr({class:I.class?I.class:"",cy:g,cx:c}),b}},{key:"drawPlus",value:function(c,g,h,I){var b=h/2,y=this.drawLine(c,g-b,c,g+b,I.pointStrokeColor,I.pointStrokeDashArray,I.pointStrokeWidth,I.pointStrokeLineCap),x=this.drawLine(c-b,g,c+b,g,I.pointStrokeColor,I.pointStrokeDashArray,I.pointStrokeWidth,I.pointStrokeLineCap);return this.createGroupWithAttributes(c,g,[y,x],I)}},{key:"drawX",value:function(c,g,h,I){var b=h/2,y=this.drawLine(c-b,g-b,c+b,g+b,I.pointStrokeColor,I.pointStrokeDashArray,I.pointStrokeWidth,I.pointStrokeLineCap),x=this.drawLine(c-b,g+b,c+b,g-b,I.pointStrokeColor,I.pointStrokeDashArray,I.pointStrokeWidth,I.pointStrokeLineCap);return this.createGroupWithAttributes(c,g,[y,x],I)}},{key:"drawMarker",value:function(c,g,h){c=c||0;var I=h.pSize||0,b=null;if((h==null?void 0:h.shape)==="X"||(h==null?void 0:h.shape)==="x")b=this.drawX(c,g,I,h);else if((h==null?void 0:h.shape)==="plus"||(h==null?void 0:h.shape)==="+")b=this.drawPlus(c,g,I,h);else if(h.shape==="square"||h.shape==="rect"){var y=h.pRadius===void 0?I/2:h.pRadius;g!==null&&I||(I=0,y=0);var x=1.2*I+y,B=this.drawRect(x,x,x,x,y);B.attr({x:c-x/2,y:g-x/2,cx:c,cy:g,class:h.class?h.class:"",fill:h.pointFillColor,"fill-opacity":h.pointFillOpacity?h.pointFillOpacity:1,stroke:h.pointStrokeColor,"stroke-width":h.pointStrokeWidth?h.pointStrokeWidth:0,"stroke-opacity":h.pointStrokeOpacity?h.pointStrokeOpacity:1}),b=B}else h.shape!=="circle"&&h.shape||(F.isNumber(g)||(I=0,g=0),b=this.drawCircle(I,{cx:c,cy:g,class:h.class?h.class:"",stroke:h.pointStrokeColor,fill:h.pointFillColor,"fill-opacity":h.pointFillOpacity?h.pointFillOpacity:1,"stroke-width":h.pointStrokeWidth?h.pointStrokeWidth:0,"stroke-opacity":h.pointStrokeOpacity?h.pointStrokeOpacity:1}));return b}},{key:"pathMouseEnter",value:function(c,g){var h=this.w,I=new ie(this.ctx),b=parseInt(c.node.getAttribute("index"),10),y=parseInt(c.node.getAttribute("j"),10);if(typeof h.config.chart.events.dataPointMouseEnter=="function"&&h.config.chart.events.dataPointMouseEnter(g,this.ctx,{seriesIndex:b,dataPointIndex:y,w:h}),this.ctx.events.fireEvent("dataPointMouseEnter",[g,this.ctx,{seriesIndex:b,dataPointIndex:y,w:h}]),(h.config.states.active.filter.type==="none"||c.node.getAttribute("selected")!=="true")&&h.config.states.hover.filter.type!=="none"&&!h.globals.isTouchDevice){var x=h.config.states.hover.filter;I.applyFilter(c,b,x.type,x.value)}}},{key:"pathMouseLeave",value:function(c,g){var h=this.w,I=new ie(this.ctx),b=parseInt(c.node.getAttribute("index"),10),y=parseInt(c.node.getAttribute("j"),10);typeof h.config.chart.events.dataPointMouseLeave=="function"&&h.config.chart.events.dataPointMouseLeave(g,this.ctx,{seriesIndex:b,dataPointIndex:y,w:h}),this.ctx.events.fireEvent("dataPointMouseLeave",[g,this.ctx,{seriesIndex:b,dataPointIndex:y,w:h}]),h.config.states.active.filter.type!=="none"&&c.node.getAttribute("selected")==="true"||h.config.states.hover.filter.type!=="none"&&I.getDefaultFilter(c,b)}},{key:"pathMouseDown",value:function(c,g){var h=this.w,I=new ie(this.ctx),b=parseInt(c.node.getAttribute("index"),10),y=parseInt(c.node.getAttribute("j"),10),x="false";if(c.node.getAttribute("selected")==="true"){if(c.node.setAttribute("selected","false"),h.globals.selectedDataPoints[b].indexOf(y)>-1){var B=h.globals.selectedDataPoints[b].indexOf(y);h.globals.selectedDataPoints[b].splice(B,1)}}else{if(!h.config.states.active.allowMultipleDataPointsSelection&&h.globals.selectedDataPoints.length>0){h.globals.selectedDataPoints=[];var V=h.globals.dom.Paper.select(".apexcharts-series path").members,E=h.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,Y=function(Q){Array.prototype.forEach.call(Q,function($){$.node.setAttribute("selected","false"),I.getDefaultFilter($,b)})};Y(V),Y(E)}c.node.setAttribute("selected","true"),x="true",h.globals.selectedDataPoints[b]===void 0&&(h.globals.selectedDataPoints[b]=[]),h.globals.selectedDataPoints[b].push(y)}if(x==="true"){var H=h.config.states.active.filter;if(H!=="none")I.applyFilter(c,b,H.type,H.value);else if(h.config.states.hover.filter!=="none"&&!h.globals.isTouchDevice){var z=h.config.states.hover.filter;I.applyFilter(c,b,z.type,z.value)}}else h.config.states.active.filter.type!=="none"&&(h.config.states.hover.filter.type==="none"||h.globals.isTouchDevice?I.getDefaultFilter(c,b):(z=h.config.states.hover.filter,I.applyFilter(c,b,z.type,z.value)));typeof h.config.chart.events.dataPointSelection=="function"&&h.config.chart.events.dataPointSelection(g,this.ctx,{selectedDataPoints:h.globals.selectedDataPoints,seriesIndex:b,dataPointIndex:y,w:h}),g&&this.ctx.events.fireEvent("dataPointSelection",[g,this.ctx,{selectedDataPoints:h.globals.selectedDataPoints,seriesIndex:b,dataPointIndex:y,w:h}])}},{key:"rotateAroundCenter",value:function(c){var g={};return c&&typeof c.getBBox=="function"&&(g=c.getBBox()),{x:g.x+g.width/2,y:g.y+g.height/2}}},{key:"getTextRects",value:function(c,g,h,I){var b=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],y=this.w,x=this.drawText({x:-200,y:-200,text:c,textAnchor:"start",fontSize:g,fontFamily:h,foreColor:"#fff",opacity:0});I&&x.attr("transform",I),y.globals.dom.Paper.add(x);var B=x.bbox();return b||(B=x.node.getBoundingClientRect()),x.remove(),{width:B.width,height:B.height}}},{key:"placeTextWithEllipsis",value:function(c,g,h){if(typeof c.getComputedTextLength=="function"&&(c.textContent=g,g.length>0&&c.getComputedTextLength()>=h/1.1)){for(var I=g.length-3;I>0;I-=3)if(c.getSubStringLength(0,I)<=h/1.1)return void(c.textContent=g.substring(0,I)+"...");c.textContent="."}}}],[{key:"setAttrs",value:function(c,g){for(var h in g)g.hasOwnProperty(h)&&c.setAttribute(h,g[h])}}]),le}(),ue=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"getStackedSeriesTotals",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=this.w,h=[];if(g.globals.series.length===0)return h;for(var I=0;I<g.globals.series[g.globals.maxValsInArrayIndex].length;I++){for(var b=0,y=0;y<g.globals.series.length;y++)g.globals.series[y][I]!==void 0&&c.indexOf(y)===-1&&(b+=g.globals.series[y][I]);h.push(b)}return h}},{key:"getSeriesTotalByIndex",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return c===null?this.w.config.series.reduce(function(g,h){return g+h},0):this.w.globals.series[c].reduce(function(g,h){return g+h},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var c=this,g=this.w,h=[];return g.globals.seriesGroups.forEach(function(I){var b=[];g.config.series.forEach(function(x,B){I.indexOf(g.globals.seriesNames[B])>-1&&b.push(B)});var y=g.globals.series.map(function(x,B){return b.indexOf(B)===-1?B:-1}).filter(function(x){return x!==-1});h.push(c.getStackedSeriesTotals(y))}),h}},{key:"setSeriesYAxisMappings",value:function(){var c=this.w.globals,g=this.w.config,h=[],I=[],b=[],y=c.series.length>g.yaxis.length||g.yaxis.some(function(Y){return Array.isArray(Y.seriesName)});g.series.forEach(function(Y,H){b.push(H),I.push(null)}),g.yaxis.forEach(function(Y,H){h[H]=[]});var x=[];g.yaxis.forEach(function(Y,H){var z=!1;if(Y.seriesName){var Q=[];Array.isArray(Y.seriesName)?Q=Y.seriesName:Q.push(Y.seriesName),Q.forEach(function($){g.series.forEach(function(oe,re){if(oe.name===$){var se=re;H===re||y?!y||b.indexOf(re)>-1?h[H].push([H,re]):console.warn("Series '"+oe.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(h[re].push([re,H]),se=H),z=!0,(se=b.indexOf(se))!==-1&&b.splice(se,1)}})})}z||x.push(H)}),h=h.map(function(Y,H){var z=[];return Y.forEach(function(Q){I[Q[1]]=Q[0],z.push(Q[1])}),z});for(var B=g.yaxis.length-1,V=0;V<x.length&&(B=x[V],h[B]=[],b);V++){var E=b[0];b.shift(),h[B].push(E),I[E]=B}b.forEach(function(Y){h[B].push(Y),I[Y]=B}),c.seriesYAxisMap=h.map(function(Y){return Y}),c.seriesYAxisReverseMap=I.map(function(Y){return Y}),c.seriesYAxisMap.forEach(function(Y,H){Y.forEach(function(z){g.series[z]&&g.series[z].group===void 0&&(g.series[z].group="apexcharts-axis-".concat(H.toString()))})})}},{key:"isSeriesNull",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(c===null?this.w.config.series.filter(function(g){return g!==null}):this.w.config.series[c].data.filter(function(g){return g!==null})).length===0}},{key:"seriesHaveSameValues",value:function(c){return this.w.globals.series[c].every(function(g,h,I){return g===I[0]})}},{key:"getCategoryLabels",value:function(c){var g=this.w,h=c.slice();return g.config.xaxis.convertedCatToNumeric&&(h=c.map(function(I,b){return g.config.xaxis.labels.formatter(I-g.globals.minX+1)})),h}},{key:"getLargestSeries",value:function(){var c=this.w;c.globals.maxValsInArrayIndex=c.globals.series.map(function(g){return g.length}).indexOf(Math.max.apply(Math,c.globals.series.map(function(g){return g.length})))}},{key:"getLargestMarkerSize",value:function(){var c=this.w,g=0;return c.globals.markers.size.forEach(function(h){g=Math.max(g,h)}),c.config.markers.discrete&&c.config.markers.discrete.length&&c.config.markers.discrete.forEach(function(h){g=Math.max(g,h.size)}),g>0&&(g+=c.config.markers.hover.sizeOffset+1),c.globals.markers.largestSize=g,g}},{key:"getSeriesTotals",value:function(){var c=this.w;c.globals.seriesTotals=c.globals.series.map(function(g,h){var I=0;if(Array.isArray(g))for(var b=0;b<g.length;b++)I+=g[b];else I+=g;return I})}},{key:"getSeriesTotalsXRange",value:function(c,g){var h=this.w;return h.globals.series.map(function(I,b){for(var y=0,x=0;x<I.length;x++)h.globals.seriesX[b][x]>c&&h.globals.seriesX[b][x]<g&&(y+=I[x]);return y})}},{key:"getPercentSeries",value:function(){var c=this.w;c.globals.seriesPercent=c.globals.series.map(function(g,h){var I=[];if(Array.isArray(g))for(var b=0;b<g.length;b++){var y=c.globals.stackedSeriesTotals[b],x=0;y&&(x=100*g[b]/y),I.push(x)}else{var B=100*g/c.globals.seriesTotals.reduce(function(V,E){return V+E},0);I.push(B)}return I})}},{key:"getCalculatedRatios",value:function(){var c,g,h,I=this,b=this.w,y=b.globals,x=[],B=0,V=[],E=.1,Y=0;if(y.yRange=[],y.isMultipleYAxis)for(var H=0;H<y.minYArr.length;H++)y.yRange.push(Math.abs(y.minYArr[H]-y.maxYArr[H])),V.push(0);else y.yRange.push(Math.abs(y.minY-y.maxY));y.xRange=Math.abs(y.maxX-y.minX),y.zRange=Math.abs(y.maxZ-y.minZ);for(var z=0;z<y.yRange.length;z++)x.push(y.yRange[z]/y.gridHeight);if(g=y.xRange/y.gridWidth,c=y.yRange/y.gridWidth,h=y.xRange/y.gridHeight,(B=y.zRange/y.gridHeight*16)||(B=1),y.minY!==Number.MIN_VALUE&&Math.abs(y.minY)!==0&&(y.hasNegs=!0),b.globals.seriesYAxisReverseMap.length>0){var Q=function(oe,re){var se=b.config.yaxis[b.globals.seriesYAxisReverseMap[re]],W=oe<0?-1:1;return oe=Math.abs(oe),se.logarithmic&&(oe=I.getBaseLog(se.logBase,oe)),-W*oe/x[re]};if(y.isMultipleYAxis){V=[];for(var $=0;$<x.length;$++)V.push(Q(y.minYArr[$],$))}else(V=[]).push(Q(y.minY,0)),y.minY!==Number.MIN_VALUE&&Math.abs(y.minY)!==0&&(E=-y.minY/c,Y=y.minX/g)}else(V=[]).push(0),E=0,Y=0;return{yRatio:x,invertedYRatio:c,zRatio:B,xRatio:g,invertedXRatio:h,baseLineInvertedY:E,baseLineY:V,baseLineX:Y}}},{key:"getLogSeries",value:function(c){var g=this,h=this.w;return h.globals.seriesLog=c.map(function(I,b){var y=h.globals.seriesYAxisReverseMap[b];return h.config.yaxis[y]&&h.config.yaxis[y].logarithmic?I.map(function(x){return x===null?null:g.getLogVal(h.config.yaxis[y].logBase,x,b)}):I}),h.globals.invalidLogScale?c:h.globals.seriesLog}},{key:"getBaseLog",value:function(c,g){return Math.log(g)/Math.log(c)}},{key:"getLogVal",value:function(c,g,h){if(g<=0)return 0;var I=this.w,b=I.globals.minYArr[h]===0?-1:this.getBaseLog(c,I.globals.minYArr[h]),y=(I.globals.maxYArr[h]===0?0:this.getBaseLog(c,I.globals.maxYArr[h]))-b;return g<1?g/y:(this.getBaseLog(c,g)-b)/y}},{key:"getLogYRatios",value:function(c){var g=this,h=this.w,I=this.w.globals;return I.yLogRatio=c.slice(),I.logYRange=I.yRange.map(function(b,y){var x=h.globals.seriesYAxisReverseMap[y];if(h.config.yaxis[x]&&g.w.config.yaxis[x].logarithmic){var B,V=-Number.MAX_VALUE,E=Number.MIN_VALUE;return I.seriesLog.forEach(function(Y,H){Y.forEach(function(z){h.config.yaxis[H]&&h.config.yaxis[H].logarithmic&&(V=Math.max(z,V),E=Math.min(z,E))})}),B=Math.pow(I.yRange[y],Math.abs(E-V)/I.yRange[y]),I.yLogRatio[y]=B/I.gridHeight,B}}),I.invalidLogScale?c.slice():I.yLogRatio}},{key:"drawSeriesByGroup",value:function(c,g,h,I){var b=this.w,y=[];return c.series.length>0&&g.forEach(function(x){var B=[],V=[];c.i.forEach(function(E,Y){b.config.series[E].group===x&&(B.push(c.series[Y]),V.push(E))}),B.length>0&&y.push(I.draw(B,h,V))}),y}}],[{key:"checkComboSeries",value:function(c,g){var h=!1,I=0,b=0;return g===void 0&&(g="line"),c.length&&c[0].type!==void 0&&c.forEach(function(y){y.type!=="bar"&&y.type!=="column"&&y.type!=="candlestick"&&y.type!=="boxPlot"||I++,y.type!==void 0&&y.type!==g&&b++}),b>0&&(h=!0),{comboBarCount:I,comboCharts:h}}},{key:"extendArrayProps",value:function(c,g,h){var I,b,y,x,B,V;return(I=g)!==null&&I!==void 0&&I.yaxis&&(g=c.extendYAxis(g,h)),(b=g)!==null&&b!==void 0&&b.annotations&&(g.annotations.yaxis&&(g=c.extendYAxisAnnotations(g)),(y=g)!==null&&y!==void 0&&(x=y.annotations)!==null&&x!==void 0&&x.xaxis&&(g=c.extendXAxisAnnotations(g)),(B=g)!==null&&B!==void 0&&(V=B.annotations)!==null&&V!==void 0&&V.points&&(g=c.extendPointAnnotations(g))),g}}]),le}(),K=function(){function le(c){m(this,le),this.w=c.w,this.annoCtx=c}return v(le,[{key:"setOrientations",value:function(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,h=this.w;if(c.label.orientation==="vertical"){var I=g!==null?g:0,b=h.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(I,"']"));if(b!==null){var y=b.getBoundingClientRect();b.setAttribute("x",parseFloat(b.getAttribute("x"))-y.height+4),c.label.position==="top"?b.setAttribute("y",parseFloat(b.getAttribute("y"))+y.width):b.setAttribute("y",parseFloat(b.getAttribute("y"))-y.width);var x=this.annoCtx.graphics.rotateAroundCenter(b),B=x.x,V=x.y;b.setAttribute("transform","rotate(-90 ".concat(B," ").concat(V,")"))}}}},{key:"addBackgroundToAnno",value:function(c,g){var h=this.w;if(!c||g.label.text===void 0||g.label.text!==void 0&&!String(g.label.text).trim())return null;var I=h.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),b=c.getBoundingClientRect(),y=g.label.style.padding.left,x=g.label.style.padding.right,B=g.label.style.padding.top,V=g.label.style.padding.bottom;g.label.orientation==="vertical"&&(B=g.label.style.padding.left,V=g.label.style.padding.right,y=g.label.style.padding.top,x=g.label.style.padding.bottom);var E=b.left-I.left-y,Y=b.top-I.top-B,H=this.annoCtx.graphics.drawRect(E-h.globals.barPadForNumericAxis,Y,b.width+y+x,b.height+B+V,g.label.borderRadius,g.label.style.background,1,g.label.borderWidth,g.label.borderColor,0);return g.id&&H.node.classList.add(g.id),H}},{key:"annotationsBackground",value:function(){var c=this,g=this.w,h=function(I,b,y){var x=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(y,"-annotations .apexcharts-").concat(y,"-annotation-label[rel='").concat(b,"']"));if(x){var B=x.parentNode,V=c.addBackgroundToAnno(x,I);V&&(B.insertBefore(V.node,x),I.label.mouseEnter&&V.node.addEventListener("mouseenter",I.label.mouseEnter.bind(c,I)),I.label.mouseLeave&&V.node.addEventListener("mouseleave",I.label.mouseLeave.bind(c,I)),I.label.click&&V.node.addEventListener("click",I.label.click.bind(c,I)))}};g.config.annotations.xaxis.map(function(I,b){h(I,b,"xaxis")}),g.config.annotations.yaxis.map(function(I,b){h(I,b,"yaxis")}),g.config.annotations.points.map(function(I,b){h(I,b,"point")})}},{key:"getY1Y2",value:function(c,g){var h,I=c==="y1"?g.y:g.y2,b=!1,y=this.w;if(this.annoCtx.invertAxis){var x=y.globals.labels;y.config.xaxis.convertedCatToNumeric&&(x=y.globals.categoryLabels);var B=x.indexOf(I),V=y.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(B+1)+")");h=V?parseFloat(V.getAttribute("y")):(y.globals.gridHeight/x.length-1)*(B+1)-y.globals.barHeight,g.seriesIndex!==void 0&&y.globals.barHeight&&(h=h-y.globals.barHeight/2*(y.globals.series.length-1)+y.globals.barHeight*g.seriesIndex)}else{var E,Y=y.globals.seriesYAxisMap[g.yAxisIndex][0];y.config.yaxis[g.yAxisIndex].logarithmic?E=(I=new ue(this.annoCtx.ctx).getLogVal(y.config.yaxis[g.yAxisIndex].logBase,I,Y))/y.globals.yLogRatio[Y]:E=(I-y.globals.minYArr[Y])/(y.globals.yRange[Y]/y.globals.gridHeight),E>y.globals.gridHeight?(E=y.globals.gridHeight,b=!0):E<0&&(E=0,b=!0),h=y.globals.gridHeight-E,!g.marker||g.y!==void 0&&g.y!==null||(h=0),y.config.yaxis[g.yAxisIndex]&&y.config.yaxis[g.yAxisIndex].reversed&&(h=E)}return typeof I=="string"&&I.indexOf("px")>-1&&(h=parseFloat(I)),{yP:h,clipped:b}}},{key:"getX1X2",value:function(c,g){var h,I=c==="x1"?g.x:g.x2,b=this.w,y=this.annoCtx.invertAxis?b.globals.minY:b.globals.minX,x=this.annoCtx.invertAxis?b.globals.maxY:b.globals.maxX,B=this.annoCtx.invertAxis?b.globals.yRange[0]:b.globals.xRange,V=!1;return h=this.annoCtx.inversedReversedAxis?(x-I)/(B/b.globals.gridWidth):(I-y)/(B/b.globals.gridWidth),b.config.xaxis.type!=="category"&&!b.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||b.globals.dataFormatXNumeric||b.config.chart.sparkline.enabled||(h=this.getStringX(I)),typeof I=="string"&&I.indexOf("px")>-1&&(h=parseFloat(I)),I==null&&g.marker&&(h=b.globals.gridWidth),g.seriesIndex!==void 0&&b.globals.barWidth&&!this.annoCtx.invertAxis&&(h=h-b.globals.barWidth/2*(b.globals.series.length-1)+b.globals.barWidth*g.seriesIndex),h>b.globals.gridWidth?(h=b.globals.gridWidth,V=!0):h<0&&(h=0,V=!0),{x:h,clipped:V}}},{key:"getStringX",value:function(c){var g=this.w,h=c;g.config.xaxis.convertedCatToNumeric&&g.globals.categoryLabels.length&&(c=g.globals.categoryLabels.indexOf(c)+1);var I=g.globals.labels.indexOf(c),b=g.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(I+1)+")");return b&&(h=parseFloat(b.getAttribute("x"))),h}}]),le}(),de=function(){function le(c){m(this,le),this.w=c.w,this.annoCtx=c,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new K(this.annoCtx)}return v(le,[{key:"addXaxisAnnotation",value:function(c,g,h){var I,b=this.w,y=this.helpers.getX1X2("x1",c),x=y.x,B=y.clipped,V=!0,E=c.label.text,Y=c.strokeDashArray;if(F.isNumber(x)){if(c.x2===null||c.x2===void 0){if(!B){var H=this.annoCtx.graphics.drawLine(x+c.offsetX,0+c.offsetY,x+c.offsetX,b.globals.gridHeight+c.offsetY,c.borderColor,Y,c.borderWidth);g.appendChild(H.node),c.id&&H.node.classList.add(c.id)}}else{var z=this.helpers.getX1X2("x2",c);if(I=z.x,V=z.clipped,!B||!V){if(I<x){var Q=x;x=I,I=Q}var $=this.annoCtx.graphics.drawRect(x+c.offsetX,0+c.offsetY,I-x,b.globals.gridHeight+c.offsetY,0,c.fillColor,c.opacity,1,c.borderColor,Y);$.node.classList.add("apexcharts-annotation-rect"),$.attr("clip-path","url(#gridRectMask".concat(b.globals.cuid,")")),g.appendChild($.node),c.id&&$.node.classList.add(c.id)}}if(!B||!V){var oe=this.annoCtx.graphics.getTextRects(E,parseFloat(c.label.style.fontSize)),re=c.label.position==="top"?4:c.label.position==="center"?b.globals.gridHeight/2+(c.label.orientation==="vertical"?oe.width/2:0):b.globals.gridHeight,se=this.annoCtx.graphics.drawText({x:x+c.label.offsetX,y:re+c.label.offsetY-(c.label.orientation==="vertical"?c.label.position==="top"?oe.width/2-12:-oe.width/2:0),text:E,textAnchor:c.label.textAnchor,fontSize:c.label.style.fontSize,fontFamily:c.label.style.fontFamily,fontWeight:c.label.style.fontWeight,foreColor:c.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(c.label.style.cssClass," ").concat(c.id?c.id:"")});se.attr({rel:h}),g.appendChild(se.node),this.annoCtx.helpers.setOrientations(c,h)}}}},{key:"drawXAxisAnnotations",value:function(){var c=this,g=this.w,h=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return g.config.annotations.xaxis.map(function(I,b){c.addXaxisAnnotation(I,h.node,b)}),h}}]),le}(),pe=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return v(le,[{key:"isValidDate",value:function(c){return typeof c!="number"&&!isNaN(this.parseDate(c))}},{key:"getTimeStamp",value:function(c){return Date.parse(c)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(c).toISOString().substr(0,25)).getTime():new Date(c).getTime():c}},{key:"getDate",value:function(c){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(c).toUTCString()):new Date(c)}},{key:"parseDate",value:function(c){var g=Date.parse(c);if(!isNaN(g))return this.getTimeStamp(c);var h=Date.parse(c.replace(/-/g,"/").replace(/[a-z]+/gi," "));return h=this.getTimeStamp(h)}},{key:"parseDateWithTimezone",value:function(c){return Date.parse(c.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(c,g){var h=this.w.globals.locale,I=this.w.config.xaxis.labels.datetimeUTC,b=["\0"].concat(L(h.months)),y=[""].concat(L(h.shortMonths)),x=[""].concat(L(h.days)),B=[""].concat(L(h.shortDays));function V(me,Ae){var ye=me+"";for(Ae=Ae||2;ye.length<Ae;)ye="0"+ye;return ye}var E=I?c.getUTCFullYear():c.getFullYear();g=(g=(g=g.replace(/(^|[^\\])yyyy+/g,"$1"+E)).replace(/(^|[^\\])yy/g,"$1"+E.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+E);var Y=(I?c.getUTCMonth():c.getMonth())+1;g=(g=(g=(g=g.replace(/(^|[^\\])MMMM+/g,"$1"+b[0])).replace(/(^|[^\\])MMM/g,"$1"+y[0])).replace(/(^|[^\\])MM/g,"$1"+V(Y))).replace(/(^|[^\\])M/g,"$1"+Y);var H=I?c.getUTCDate():c.getDate();g=(g=(g=(g=g.replace(/(^|[^\\])dddd+/g,"$1"+x[0])).replace(/(^|[^\\])ddd/g,"$1"+B[0])).replace(/(^|[^\\])dd/g,"$1"+V(H))).replace(/(^|[^\\])d/g,"$1"+H);var z=I?c.getUTCHours():c.getHours(),Q=z>12?z-12:z===0?12:z;g=(g=(g=(g=g.replace(/(^|[^\\])HH+/g,"$1"+V(z))).replace(/(^|[^\\])H/g,"$1"+z)).replace(/(^|[^\\])hh+/g,"$1"+V(Q))).replace(/(^|[^\\])h/g,"$1"+Q);var $=I?c.getUTCMinutes():c.getMinutes();g=(g=g.replace(/(^|[^\\])mm+/g,"$1"+V($))).replace(/(^|[^\\])m/g,"$1"+$);var oe=I?c.getUTCSeconds():c.getSeconds();g=(g=g.replace(/(^|[^\\])ss+/g,"$1"+V(oe))).replace(/(^|[^\\])s/g,"$1"+oe);var re=I?c.getUTCMilliseconds():c.getMilliseconds();g=g.replace(/(^|[^\\])fff+/g,"$1"+V(re,3)),re=Math.round(re/10),g=g.replace(/(^|[^\\])ff/g,"$1"+V(re)),re=Math.round(re/10);var se=z<12?"AM":"PM";g=(g=(g=g.replace(/(^|[^\\])f/g,"$1"+re)).replace(/(^|[^\\])TT+/g,"$1"+se)).replace(/(^|[^\\])T/g,"$1"+se.charAt(0));var W=se.toLowerCase();g=(g=g.replace(/(^|[^\\])tt+/g,"$1"+W)).replace(/(^|[^\\])t/g,"$1"+W.charAt(0));var T=-c.getTimezoneOffset(),ee=I||!T?"Z":T>0?"+":"-";if(!I){var ce=(T=Math.abs(T))%60;ee+=V(Math.floor(T/60))+":"+V(ce)}g=g.replace(/(^|[^\\])K/g,"$1"+ee);var ge=(I?c.getUTCDay():c.getDay())+1;return g=(g=(g=(g=(g=g.replace(new RegExp(x[0],"g"),x[ge])).replace(new RegExp(B[0],"g"),B[ge])).replace(new RegExp(b[0],"g"),b[Y])).replace(new RegExp(y[0],"g"),y[Y])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(c,g,h){var I=this.w;I.config.xaxis.min!==void 0&&(c=I.config.xaxis.min),I.config.xaxis.max!==void 0&&(g=I.config.xaxis.max);var b=this.getDate(c),y=this.getDate(g),x=this.formatDate(b,"yyyy MM dd HH mm ss fff").split(" "),B=this.formatDate(y,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(x[6],10),maxMillisecond:parseInt(B[6],10),minSecond:parseInt(x[5],10),maxSecond:parseInt(B[5],10),minMinute:parseInt(x[4],10),maxMinute:parseInt(B[4],10),minHour:parseInt(x[3],10),maxHour:parseInt(B[3],10),minDate:parseInt(x[2],10),maxDate:parseInt(B[2],10),minMonth:parseInt(x[1],10)-1,maxMonth:parseInt(B[1],10)-1,minYear:parseInt(x[0],10),maxYear:parseInt(B[0],10)}}},{key:"isLeapYear",value:function(c){return c%4==0&&c%100!=0||c%400==0}},{key:"calculcateLastDaysOfMonth",value:function(c,g,h){return this.determineDaysOfMonths(c,g)-h}},{key:"determineDaysOfYear",value:function(c){var g=365;return this.isLeapYear(c)&&(g=366),g}},{key:"determineRemainingDaysOfYear",value:function(c,g,h){var I=this.daysCntOfYear[g]+h;return g>1&&this.isLeapYear()&&I++,I}},{key:"determineDaysOfMonths",value:function(c,g){var h=30;switch(c=F.monthMod(c),!0){case this.months30.indexOf(c)>-1:c===2&&(h=this.isLeapYear(g)?29:28);break;case this.months31.indexOf(c)>-1:default:h=31}return h}}]),le}(),Ce=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w,this.tooltipKeyFormat="dd MMM"}return v(le,[{key:"xLabelFormat",value:function(c,g,h,I){var b=this.w;if(b.config.xaxis.type==="datetime"&&b.config.xaxis.labels.formatter===void 0&&b.config.tooltip.x.formatter===void 0){var y=new pe(this.ctx);return y.formatDate(y.getDate(g),b.config.tooltip.x.format)}return c(g,h,I)}},{key:"defaultGeneralFormatter",value:function(c){return Array.isArray(c)?c.map(function(g){return g}):c}},{key:"defaultYFormatter",value:function(c,g,h){var I=this.w;if(F.isNumber(c))if(I.globals.yValueDecimal!==0)c=c.toFixed(g.decimalsInFloat!==void 0?g.decimalsInFloat:I.globals.yValueDecimal);else{var b=c.toFixed(0);c=c==b?b:c.toFixed(1)}return c}},{key:"setLabelFormatters",value:function(){var c=this,g=this.w;return g.globals.xaxisTooltipFormatter=function(h){return c.defaultGeneralFormatter(h)},g.globals.ttKeyFormatter=function(h){return c.defaultGeneralFormatter(h)},g.globals.ttZFormatter=function(h){return h},g.globals.legendFormatter=function(h){return c.defaultGeneralFormatter(h)},g.config.xaxis.labels.formatter!==void 0?g.globals.xLabelFormatter=g.config.xaxis.labels.formatter:g.globals.xLabelFormatter=function(h){if(F.isNumber(h)){if(!g.config.xaxis.convertedCatToNumeric&&g.config.xaxis.type==="numeric"){if(F.isNumber(g.config.xaxis.decimalsInFloat))return h.toFixed(g.config.xaxis.decimalsInFloat);var I=g.globals.maxX-g.globals.minX;return I>0&&I<100?h.toFixed(1):h.toFixed(0)}return g.globals.isBarHorizontal&&g.globals.maxY-g.globals.minYArr<4?h.toFixed(1):h.toFixed(0)}return h},typeof g.config.tooltip.x.formatter=="function"?g.globals.ttKeyFormatter=g.config.tooltip.x.formatter:g.globals.ttKeyFormatter=g.globals.xLabelFormatter,typeof g.config.xaxis.tooltip.formatter=="function"&&(g.globals.xaxisTooltipFormatter=g.config.xaxis.tooltip.formatter),(Array.isArray(g.config.tooltip.y)||g.config.tooltip.y.formatter!==void 0)&&(g.globals.ttVal=g.config.tooltip.y),g.config.tooltip.z.formatter!==void 0&&(g.globals.ttZFormatter=g.config.tooltip.z.formatter),g.config.legend.formatter!==void 0&&(g.globals.legendFormatter=g.config.legend.formatter),g.config.yaxis.forEach(function(h,I){h.labels.formatter!==void 0?g.globals.yLabelFormatters[I]=h.labels.formatter:g.globals.yLabelFormatters[I]=function(b){return g.globals.xyCharts?Array.isArray(b)?b.map(function(y){return c.defaultYFormatter(y,h,I)}):c.defaultYFormatter(b,h,I):b}}),g.globals}},{key:"heatmapLabelFormatters",value:function(){var c=this.w;if(c.config.chart.type==="heatmap"){c.globals.yAxisScale[0].result=c.globals.seriesNames.slice();var g=c.globals.seriesNames.reduce(function(h,I){return h.length>I.length?h:I},0);c.globals.yAxisScale[0].niceMax=g,c.globals.yAxisScale[0].niceMin=g}}}]),le}(),be=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"getLabel",value:function(c,g,h,I){var b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",x=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],B=this.w,V=c[I]===void 0?"":c[I],E=V,Y=B.globals.xLabelFormatter,H=B.config.xaxis.labels.formatter,z=!1,Q=new Ce(this.ctx),$=V;x&&(E=Q.xLabelFormat(Y,V,$,{i:I,dateFormatter:new pe(this.ctx).formatDate,w:B}),H!==void 0&&(E=H(V,c[I],{i:I,dateFormatter:new pe(this.ctx).formatDate,w:B})));var oe,re;g.length>0?(oe=g[I].unit,re=null,g.forEach(function(ee){ee.unit==="month"?re="year":ee.unit==="day"?re="month":ee.unit==="hour"?re="day":ee.unit==="minute"&&(re="hour")}),z=re===oe,h=g[I].position,E=g[I].value):B.config.xaxis.type==="datetime"&&H===void 0&&(E=""),E===void 0&&(E=""),E=Array.isArray(E)?E:E.toString();var se=new ne(this.ctx),W={};W=B.globals.rotateXLabels&&x?se.getTextRects(E,parseInt(y,10),null,"rotate(".concat(B.config.xaxis.labels.rotate," 0 0)"),!1):se.getTextRects(E,parseInt(y,10));var T=!B.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(E)&&(String(E)==="NaN"||b.indexOf(E)>=0&&T)&&(E=""),{x:h,text:E,textRect:W,isBold:z}}},{key:"checkLabelBasedOnTickamount",value:function(c,g,h){var I=this.w,b=I.config.xaxis.tickAmount;return b==="dataPoints"&&(b=Math.round(I.globals.gridWidth/120)),b>h||c%Math.round(h/(b+1))==0||(g.text=""),g}},{key:"checkForOverflowingLabels",value:function(c,g,h,I,b){var y=this.w;if(c===0&&y.globals.skipFirstTimelinelabel&&(g.text=""),c===h-1&&y.globals.skipLastTimelinelabel&&(g.text=""),y.config.xaxis.labels.hideOverlappingLabels&&I.length>0){var x=b[b.length-1];g.x<x.textRect.width/(y.globals.rotateXLabels?Math.abs(y.config.xaxis.labels.rotate)/12:1.01)+x.x&&(g.text="")}return g}},{key:"checkForReversedLabels",value:function(c,g){var h=this.w;return h.config.yaxis[c]&&h.config.yaxis[c].reversed&&g.reverse(),g}},{key:"yAxisAllSeriesCollapsed",value:function(c){var g=this.w.globals;return!g.seriesYAxisMap[c].some(function(h){return g.collapsedSeriesIndices.indexOf(h)===-1})}},{key:"translateYAxisIndex",value:function(c){var g=this.w,h=g.globals,I=g.config.yaxis;return h.series.length>I.length||I.some(function(b){return Array.isArray(b.seriesName)})?c:h.seriesYAxisReverseMap[c]}},{key:"isYAxisHidden",value:function(c){var g=this.w,h=g.config.yaxis[c];if(!h.show||this.yAxisAllSeriesCollapsed(c))return!0;if(!h.showForNullSeries){var I=g.globals.seriesYAxisMap[c],b=new ue(this.ctx);return I.every(function(y){return b.isSeriesNull(y)})}return!1}},{key:"getYAxisForeColor",value:function(c,g){var h=this.w;return Array.isArray(c)&&h.globals.yAxisScale[g]&&this.ctx.theme.pushExtraColors(c,h.globals.yAxisScale[g].result.length,!1),c}},{key:"drawYAxisTicks",value:function(c,g,h,I,b,y,x){var B=this.w,V=new ne(this.ctx),E=B.globals.translateY+B.config.yaxis[b].labels.offsetY;if(B.globals.isBarHorizontal?E=0:B.config.chart.type==="heatmap"&&(E+=y/2),I.show&&g>0){B.config.yaxis[b].opposite===!0&&(c+=I.width);for(var Y=g;Y>=0;Y--){var H=V.drawLine(c+h.offsetX-I.width+I.offsetX,E+I.offsetY,c+h.offsetX+I.offsetX,E+I.offsetY,I.color);x.add(H),E+=y}}}}]),le}(),Ge=function(){function le(c){m(this,le),this.w=c.w,this.annoCtx=c,this.helpers=new K(this.annoCtx),this.axesUtils=new be(this.annoCtx)}return v(le,[{key:"addYaxisAnnotation",value:function(c,g,h){var I,b=this.w,y=c.strokeDashArray,x=this.helpers.getY1Y2("y1",c),B=x.yP,V=x.clipped,E=!0,Y=!1,H=c.label.text;if(c.y2===null||c.y2===void 0){if(!V){Y=!0;var z=this.annoCtx.graphics.drawLine(0+c.offsetX,B+c.offsetY,this._getYAxisAnnotationWidth(c),B+c.offsetY,c.borderColor,y,c.borderWidth);g.appendChild(z.node),c.id&&z.node.classList.add(c.id)}}else{if(I=(x=this.helpers.getY1Y2("y2",c)).yP,E=x.clipped,I>B){var Q=B;B=I,I=Q}if(!V||!E){Y=!0;var $=this.annoCtx.graphics.drawRect(0+c.offsetX,I+c.offsetY,this._getYAxisAnnotationWidth(c),B-I,0,c.fillColor,c.opacity,1,c.borderColor,y);$.node.classList.add("apexcharts-annotation-rect"),$.attr("clip-path","url(#gridRectMask".concat(b.globals.cuid,")")),g.appendChild($.node),c.id&&$.node.classList.add(c.id)}}if(Y){var oe=c.label.position==="right"?b.globals.gridWidth:c.label.position==="center"?b.globals.gridWidth/2:0,re=this.annoCtx.graphics.drawText({x:oe+c.label.offsetX,y:(I??B)+c.label.offsetY-3,text:H,textAnchor:c.label.textAnchor,fontSize:c.label.style.fontSize,fontFamily:c.label.style.fontFamily,fontWeight:c.label.style.fontWeight,foreColor:c.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(c.label.style.cssClass," ").concat(c.id?c.id:"")});re.attr({rel:h}),g.appendChild(re.node)}}},{key:"_getYAxisAnnotationWidth",value:function(c){var g=this.w;return g.globals.gridWidth,(c.width.indexOf("%")>-1?g.globals.gridWidth*parseInt(c.width,10)/100:parseInt(c.width,10))+c.offsetX}},{key:"drawYAxisAnnotations",value:function(){var c=this,g=this.w,h=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return g.config.annotations.yaxis.forEach(function(I,b){I.yAxisIndex=c.axesUtils.translateYAxisIndex(I.yAxisIndex),c.axesUtils.isYAxisHidden(I.yAxisIndex)&&c.axesUtils.yAxisAllSeriesCollapsed(I.yAxisIndex)||c.addYaxisAnnotation(I,h.node,b)}),h}}]),le}(),Ee=function(){function le(c){m(this,le),this.w=c.w,this.annoCtx=c,this.helpers=new K(this.annoCtx)}return v(le,[{key:"addPointAnnotation",value:function(c,g,h){if(!(this.w.globals.collapsedSeriesIndices.indexOf(c.seriesIndex)>-1)){var I=this.helpers.getX1X2("x1",c),b=I.x,y=I.clipped,x=(I=this.helpers.getY1Y2("y1",c)).yP,B=I.clipped;if(F.isNumber(b)&&!B&&!y){var V={pSize:c.marker.size,pointStrokeWidth:c.marker.strokeWidth,pointFillColor:c.marker.fillColor,pointStrokeColor:c.marker.strokeColor,shape:c.marker.shape,pRadius:c.marker.radius,class:"apexcharts-point-annotation-marker ".concat(c.marker.cssClass," ").concat(c.id?c.id:"")},E=this.annoCtx.graphics.drawMarker(b+c.marker.offsetX,x+c.marker.offsetY,V);g.appendChild(E.node);var Y=c.label.text?c.label.text:"",H=this.annoCtx.graphics.drawText({x:b+c.label.offsetX,y:x+c.label.offsetY-c.marker.size-parseFloat(c.label.style.fontSize)/1.6,text:Y,textAnchor:c.label.textAnchor,fontSize:c.label.style.fontSize,fontFamily:c.label.style.fontFamily,fontWeight:c.label.style.fontWeight,foreColor:c.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(c.label.style.cssClass," ").concat(c.id?c.id:"")});if(H.attr({rel:h}),g.appendChild(H.node),c.customSVG.SVG){var z=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+c.customSVG.cssClass});z.attr({transform:"translate(".concat(b+c.customSVG.offsetX,", ").concat(x+c.customSVG.offsetY,")")}),z.node.innerHTML=c.customSVG.SVG,g.appendChild(z.node)}if(c.image.path){var Q=c.image.width?c.image.width:20,$=c.image.height?c.image.height:20;E=this.annoCtx.addImage({x:b+c.image.offsetX-Q/2,y:x+c.image.offsetY-$/2,width:Q,height:$,path:c.image.path,appendTo:".apexcharts-point-annotations"})}c.mouseEnter&&E.node.addEventListener("mouseenter",c.mouseEnter.bind(this,c)),c.mouseLeave&&E.node.addEventListener("mouseleave",c.mouseLeave.bind(this,c)),c.click&&E.node.addEventListener("click",c.click.bind(this,c))}}}},{key:"drawPointAnnotations",value:function(){var c=this,g=this.w,h=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return g.config.annotations.points.map(function(I,b){c.addPointAnnotation(I,h.node,b)}),h}}]),le}(),Se={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},ke=function(){function le(){m(this,le),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return v(le,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[Se],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(c){return new Date(c).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(c){return c}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(c){return c+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(c){return c.globals.seriesTotals.reduce(function(g,h){return g+h},0)/c.globals.series.length+"%"}}},barLabels:{enabled:!1,margin:5,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(c){return c},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(c){return c}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(c){return c}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(c){return c.globals.seriesTotals.reduce(function(g,h){return g+h},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(c){return c!==null?c:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(c){return c?c+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),le}(),Be=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w,this.graphics=new ne(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new K(this),this.xAxisAnnotations=new de(this),this.yAxisAnnotations=new Ge(this),this.pointsAnnotations=new Ee(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return v(le,[{key:"drawAxesAnnotations",value:function(){var c=this.w;if(c.globals.axisCharts){for(var g=this.yAxisAnnotations.drawYAxisAnnotations(),h=this.xAxisAnnotations.drawXAxisAnnotations(),I=this.pointsAnnotations.drawPointAnnotations(),b=c.config.chart.animations.enabled,y=[g,h,I],x=[h.node,g.node,I.node],B=0;B<3;B++)c.globals.dom.elGraphical.add(y[B]),!b||c.globals.resized||c.globals.dataChanged||c.config.chart.type!=="scatter"&&c.config.chart.type!=="bubble"&&c.globals.dataPoints>1&&x[B].classList.add("apexcharts-element-hidden"),c.globals.delayedElements.push({el:x[B],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var c=this;this.w.config.annotations.images.map(function(g,h){c.addImage(g,h)})}},{key:"drawTextAnnos",value:function(){var c=this;this.w.config.annotations.texts.map(function(g,h){c.addText(g,h)})}},{key:"addXaxisAnnotation",value:function(c,g,h){this.xAxisAnnotations.addXaxisAnnotation(c,g,h)}},{key:"addYaxisAnnotation",value:function(c,g,h){this.yAxisAnnotations.addYaxisAnnotation(c,g,h)}},{key:"addPointAnnotation",value:function(c,g,h){this.pointsAnnotations.addPointAnnotation(c,g,h)}},{key:"addText",value:function(c,g){var h=c.x,I=c.y,b=c.text,y=c.textAnchor,x=c.foreColor,B=c.fontSize,V=c.fontFamily,E=c.fontWeight,Y=c.cssClass,H=c.backgroundColor,z=c.borderWidth,Q=c.strokeDashArray,$=c.borderRadius,oe=c.borderColor,re=c.appendTo,se=re===void 0?".apexcharts-svg":re,W=c.paddingLeft,T=W===void 0?4:W,ee=c.paddingRight,ce=ee===void 0?4:ee,ge=c.paddingBottom,me=ge===void 0?2:ge,Ae=c.paddingTop,ye=Ae===void 0?2:Ae,Ne=this.w,Te=this.graphics.drawText({x:h,y:I,text:b,textAnchor:y||"start",fontSize:B||"12px",fontWeight:E||"regular",fontFamily:V||Ne.config.chart.fontFamily,foreColor:x||Ne.config.chart.foreColor,cssClass:Y}),Ve=Ne.globals.dom.baseEl.querySelector(se);Ve&&Ve.appendChild(Te.node);var Le=Te.bbox();if(b){var st=this.graphics.drawRect(Le.x-T,Le.y-ye,Le.width+T+ce,Le.height+me+ye,$,H||"transparent",1,z,oe,Q);Ve.insertBefore(st.node,Te.node)}}},{key:"addImage",value:function(c,g){var h=this.w,I=c.path,b=c.x,y=b===void 0?0:b,x=c.y,B=x===void 0?0:x,V=c.width,E=V===void 0?20:V,Y=c.height,H=Y===void 0?20:Y,z=c.appendTo,Q=z===void 0?".apexcharts-svg":z,$=h.globals.dom.Paper.image(I);$.size(E,H).move(y,B);var oe=h.globals.dom.baseEl.querySelector(Q);return oe&&oe.appendChild($.node),$}},{key:"addXaxisAnnotationExternal",value:function(c,g,h){return this.addAnnotationExternal({params:c,pushToMemory:g,context:h,type:"xaxis",contextMethod:h.addXaxisAnnotation}),h}},{key:"addYaxisAnnotationExternal",value:function(c,g,h){return this.addAnnotationExternal({params:c,pushToMemory:g,context:h,type:"yaxis",contextMethod:h.addYaxisAnnotation}),h}},{key:"addPointAnnotationExternal",value:function(c,g,h){return this.invertAxis===void 0&&(this.invertAxis=h.w.globals.isBarHorizontal),this.addAnnotationExternal({params:c,pushToMemory:g,context:h,type:"point",contextMethod:h.addPointAnnotation}),h}},{key:"addAnnotationExternal",value:function(c){var g=c.params,h=c.pushToMemory,I=c.context,b=c.type,y=c.contextMethod,x=I,B=x.w,V=B.globals.dom.baseEl.querySelector(".apexcharts-".concat(b,"-annotations")),E=V.childNodes.length+1,Y=new ke,H=Object.assign({},b==="xaxis"?Y.xAxisAnnotation:b==="yaxis"?Y.yAxisAnnotation:Y.pointAnnotation),z=F.extend(H,g);switch(b){case"xaxis":this.addXaxisAnnotation(z,V,E);break;case"yaxis":this.addYaxisAnnotation(z,V,E);break;case"point":this.addPointAnnotation(z,V,E)}var Q=B.globals.dom.baseEl.querySelector(".apexcharts-".concat(b,"-annotations .apexcharts-").concat(b,"-annotation-label[rel='").concat(E,"']")),$=this.helpers.addBackgroundToAnno(Q,z);return $&&V.insertBefore($.node,Q),h&&B.globals.memory.methodsToExec.push({context:x,id:z.id?z.id:F.randomId(),method:y,label:"addAnnotation",params:g}),I}},{key:"clearAnnotations",value:function(c){var g=c.w,h=g.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");g.globals.memory.methodsToExec.map(function(I,b){I.label!=="addText"&&I.label!=="addAnnotation"||g.globals.memory.methodsToExec.splice(b,1)}),h=F.listToArray(h),Array.prototype.forEach.call(h,function(I){for(;I.firstChild;)I.removeChild(I.firstChild)})}},{key:"removeAnnotation",value:function(c,g){var h=c.w,I=h.globals.dom.baseEl.querySelectorAll(".".concat(g));I&&(h.globals.memory.methodsToExec.map(function(b,y){b.id===g&&h.globals.memory.methodsToExec.splice(y,1)}),Array.prototype.forEach.call(I,function(b){b.parentElement.removeChild(b)}))}}]),le}(),Re=function(le){var c,g=le.isTimeline,h=le.ctx,I=le.seriesIndex,b=le.dataPointIndex,y=le.y1,x=le.y2,B=le.w,V=B.globals.seriesRangeStart[I][b],E=B.globals.seriesRangeEnd[I][b],Y=B.globals.labels[b],H=B.config.series[I].name?B.config.series[I].name:"",z=B.globals.ttKeyFormatter,Q=B.config.tooltip.y.title.formatter,$={w:B,seriesIndex:I,dataPointIndex:b,start:V,end:E};typeof Q=="function"&&(H=Q(H,$)),(c=B.config.series[I].data[b])!==null&&c!==void 0&&c.x&&(Y=B.config.series[I].data[b].x),g||B.config.xaxis.type==="datetime"&&(Y=new Ce(h).xLabelFormat(B.globals.ttKeyFormatter,Y,Y,{i:void 0,dateFormatter:new pe(h).formatDate,w:B})),typeof z=="function"&&(Y=z(Y,$)),Number.isFinite(y)&&Number.isFinite(x)&&(V=y,E=x);var oe="",re="",se=B.globals.colors[I];if(B.config.tooltip.x.formatter===void 0)if(B.config.xaxis.type==="datetime"){var W=new pe(h);oe=W.formatDate(W.getDate(V),B.config.tooltip.x.format),re=W.formatDate(W.getDate(E),B.config.tooltip.x.format)}else oe=V,re=E;else oe=B.config.tooltip.x.formatter(V),re=B.config.tooltip.x.formatter(E);return{start:V,end:E,startVal:oe,endVal:re,ylabel:Y,color:se,seriesName:H}},fe=function(le){var c=le.color,g=le.seriesName,h=le.ylabel,I=le.start,b=le.end,y=le.seriesIndex,x=le.dataPointIndex,B=le.ctx.tooltip.tooltipLabels.getFormatters(y);I=B.yLbFormatter(I),b=B.yLbFormatter(b);var V=B.yLbFormatter(le.w.globals.series[y][x]),E=`<span class="value start-value">
  `.concat(I,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(b,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+c+'">'+(g||"")+'</span></div><div> <span class="category">'+h+": </span> "+(le.w.globals.comboCharts?le.w.config.series[y].type==="rangeArea"||le.w.config.series[y].type==="rangeBar"?E:"<span>".concat(V,"</span>"):E)+" </div></div>"},Ze=function(){function le(c){m(this,le),this.opts=c}return v(le,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(c){return this.hideYAxis(),F.extend(c,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(c,g){var h=g.w.config.series[g.seriesIndex].name;return c!==null?h+": "+c:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),s(s({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var c=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(g){var h=g.seriesIndex,I=g.dataPointIndex,b=g.w;return c._getBoxTooltip(b,h,I,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var c=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(g){var h=g.seriesIndex,I=g.dataPointIndex,b=g.w;return c._getBoxTooltip(b,h,I,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(c,g){g.ctx;var h=g.seriesIndex,I=g.dataPointIndex,b=g.w,y=function(){var x=b.globals.seriesRangeStart[h][I];return b.globals.seriesRangeEnd[h][I]-x};return b.globals.comboCharts?b.config.series[h].type==="rangeBar"||b.config.series[h].type==="rangeArea"?y():c:y()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(c){return c.w.config.plotOptions&&c.w.config.plotOptions.bar&&c.w.config.plotOptions.bar.horizontal?function(g){var h=Re(s(s({},g),{},{isTimeline:!0})),I=h.color,b=h.seriesName,y=h.ylabel,x=h.startVal,B=h.endVal;return fe(s(s({},g),{},{color:I,seriesName:b,ylabel:y,start:x,end:B}))}(c):function(g){var h=Re(g),I=h.color,b=h.seriesName,y=h.ylabel,x=h.start,B=h.end;return fe(s(s({},g),{},{color:I,seriesName:b,ylabel:y,start:x,end:B}))}(c)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(c){var g,h;return(g=c.plotOptions.bar)!==null&&g!==void 0&&g.barHeight||(c.plotOptions.bar.barHeight=2),(h=c.plotOptions.bar)!==null&&h!==void 0&&h.columnWidth||(c.plotOptions.bar.columnWidth=2),c}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(c){return function(g){var h=Re(g),I=h.color,b=h.seriesName,y=h.ylabel,x=h.start,B=h.end;return fe(s(s({},g),{},{color:I,seriesName:b,ylabel:y,start:x,end:B}))}(c)}}}}},{key:"brush",value:function(c){return F.extend(c,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(c){c.dataLabels=c.dataLabels||{},c.dataLabels.formatter=c.dataLabels.formatter||void 0;var g=c.dataLabels.formatter;return c.yaxis.forEach(function(h,I){c.yaxis[I].min=0,c.yaxis[I].max=100}),c.chart.type==="bar"&&(c.dataLabels.formatter=g||function(h){return typeof h=="number"&&h?h.toFixed(0)+"%":h}),c}},{key:"stackedBars",value:function(){var c=this.bar();return s(s({},c),{},{plotOptions:s(s({},c.plotOptions),{},{bar:s(s({},c.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(c){return c.xaxis.convertedCatToNumeric=!0,c}},{key:"convertCatToNumericXaxis",value:function(c,g,h){c.xaxis.type="numeric",c.xaxis.labels=c.xaxis.labels||{},c.xaxis.labels.formatter=c.xaxis.labels.formatter||function(y){return F.isNumber(y)?Math.floor(y):y};var I=c.xaxis.labels.formatter,b=c.xaxis.categories&&c.xaxis.categories.length?c.xaxis.categories:c.labels;return h&&h.length&&(b=h.map(function(y){return Array.isArray(y)?y:String(y)})),b&&b.length&&(c.xaxis.labels.formatter=function(y){return F.isNumber(y)?I(b[Math.floor(y)-1]):I(y)}),c.xaxis.categories=[],c.labels=[],c.xaxis.tickAmount=c.xaxis.tickAmount||"dataPoints",c}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(c){return c.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(c){return c.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(c){return c.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(c){return c},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(c,g,h,I,b){var y=c.globals.seriesCandleO[g][h],x=c.globals.seriesCandleH[g][h],B=c.globals.seriesCandleM[g][h],V=c.globals.seriesCandleL[g][h],E=c.globals.seriesCandleC[g][h];return c.config.series[g].type&&c.config.series[g].type!==b?`<div class="apexcharts-custom-tooltip">
          `.concat(c.config.series[g].name?c.config.series[g].name:"series-"+(g+1),": <strong>").concat(c.globals.series[g][h],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(c.config.chart.type,'">')+"<div>".concat(I[0],': <span class="value">')+y+"</span></div>"+"<div>".concat(I[1],': <span class="value">')+x+"</span></div>"+(B?"<div>".concat(I[2],': <span class="value">')+B+"</span></div>":"")+"<div>".concat(I[3],': <span class="value">')+V+"</span></div>"+"<div>".concat(I[4],': <span class="value">')+E+"</span></div></div>"}}]),le}(),_e=function(){function le(c){m(this,le),this.opts=c}return v(le,[{key:"init",value:function(c){var g=c.responsiveOverride,h=this.opts,I=new ke,b=new Ze(h);this.chartType=h.chart.type,h=this.extendYAxis(h),h=this.extendAnnotations(h);var y=I.init(),x={};if(h&&d(h)==="object"){var B,V,E,Y,H,z,Q,$,oe,re,se={};se=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(h.chart.type)!==-1?b[h.chart.type]():b.line(),(B=h.plotOptions)!==null&&B!==void 0&&(V=B.bar)!==null&&V!==void 0&&V.isFunnel&&(se=b.funnel()),h.chart.stacked&&h.chart.type==="bar"&&(se=b.stackedBars()),(E=h.chart.brush)!==null&&E!==void 0&&E.enabled&&(se=b.brush(se)),(Y=h.plotOptions)!==null&&Y!==void 0&&(H=Y.line)!==null&&H!==void 0&&H.isSlopeChart&&(se=b.slope()),h.chart.stacked&&h.chart.stackType==="100%"&&(h=b.stacked100(h)),(z=h.plotOptions)!==null&&z!==void 0&&(Q=z.bar)!==null&&Q!==void 0&&Q.isDumbbell&&(h=b.dumbbell(h)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(h),h.xaxis=h.xaxis||window.Apex.xaxis||{},g||(h.xaxis.convertedCatToNumeric=!1),(($=(h=this.checkForCatToNumericXAxis(this.chartType,se,h)).chart.sparkline)!==null&&$!==void 0&&$.enabled||(oe=window.Apex.chart)!==null&&oe!==void 0&&(re=oe.sparkline)!==null&&re!==void 0&&re.enabled)&&(se=b.sparkline(se)),x=F.extend(y,se)}var W=F.extend(x,window.Apex);return y=F.extend(W,h),y=this.handleUserInputErrors(y)}},{key:"checkForCatToNumericXAxis",value:function(c,g,h){var I,b,y=new Ze(h),x=(c==="bar"||c==="boxPlot")&&((I=h.plotOptions)===null||I===void 0||(b=I.bar)===null||b===void 0?void 0:b.horizontal),B=c==="pie"||c==="polarArea"||c==="donut"||c==="radar"||c==="radialBar"||c==="heatmap",V=h.xaxis.type!=="datetime"&&h.xaxis.type!=="numeric",E=h.xaxis.tickPlacement?h.xaxis.tickPlacement:g.xaxis&&g.xaxis.tickPlacement;return x||B||!V||E==="between"||(h=y.convertCatToNumeric(h)),h}},{key:"extendYAxis",value:function(c,g){var h=new ke;(c.yaxis===void 0||!c.yaxis||Array.isArray(c.yaxis)&&c.yaxis.length===0)&&(c.yaxis={}),c.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(c.yaxis=F.extend(c.yaxis,window.Apex.yaxis)),c.yaxis.constructor!==Array?c.yaxis=[F.extend(h.yAxis,c.yaxis)]:c.yaxis=F.extendArray(c.yaxis,h.yAxis);var I=!1;c.yaxis.forEach(function(y){y.logarithmic&&(I=!0)});var b=c.series;return g&&!b&&(b=g.config.series),I&&b.length!==c.yaxis.length&&b.length&&(c.yaxis=b.map(function(y,x){if(y.name||(b[x].name="series-".concat(x+1)),c.yaxis[x])return c.yaxis[x].seriesName=b[x].name,c.yaxis[x];var B=F.extend(h.yAxis,c.yaxis[0]);return B.show=!1,B})),I&&b.length>1&&b.length!==c.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),c}},{key:"extendAnnotations",value:function(c){return c.annotations===void 0&&(c.annotations={},c.annotations.yaxis=[],c.annotations.xaxis=[],c.annotations.points=[]),c=this.extendYAxisAnnotations(c),c=this.extendXAxisAnnotations(c),c=this.extendPointAnnotations(c)}},{key:"extendYAxisAnnotations",value:function(c){var g=new ke;return c.annotations.yaxis=F.extendArray(c.annotations.yaxis!==void 0?c.annotations.yaxis:[],g.yAxisAnnotation),c}},{key:"extendXAxisAnnotations",value:function(c){var g=new ke;return c.annotations.xaxis=F.extendArray(c.annotations.xaxis!==void 0?c.annotations.xaxis:[],g.xAxisAnnotation),c}},{key:"extendPointAnnotations",value:function(c){var g=new ke;return c.annotations.points=F.extendArray(c.annotations.points!==void 0?c.annotations.points:[],g.pointAnnotation),c}},{key:"checkForDarkTheme",value:function(c){c.theme&&c.theme.mode==="dark"&&(c.tooltip||(c.tooltip={}),c.tooltip.theme!=="light"&&(c.tooltip.theme="dark"),c.chart.foreColor||(c.chart.foreColor="#f6f7f8"),c.chart.background||(c.chart.background="#424242"),c.theme.palette||(c.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(c){var g=c;if(g.tooltip.shared&&g.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(g.chart.type==="bar"&&g.plotOptions.bar.horizontal){if(g.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");g.yaxis[0].reversed&&(g.yaxis[0].opposite=!0),g.xaxis.tooltip.enabled=!1,g.yaxis[0].tooltip.enabled=!1,g.chart.zoom.enabled=!1}return g.chart.type!=="bar"&&g.chart.type!=="rangeBar"||g.tooltip.shared&&g.xaxis.crosshairs.width==="barWidth"&&g.series.length>1&&(g.xaxis.crosshairs.width="tickWidth"),g.chart.type!=="candlestick"&&g.chart.type!=="boxPlot"||g.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(g.chart.type," chart is not supported.")),g.yaxis[0].reversed=!1),g}}]),le}(),Pe=function(){function le(){m(this,le)}return v(le,[{key:"initGlobalVars",value:function(c){c.series=[],c.seriesCandleO=[],c.seriesCandleH=[],c.seriesCandleM=[],c.seriesCandleL=[],c.seriesCandleC=[],c.seriesRangeStart=[],c.seriesRangeEnd=[],c.seriesRange=[],c.seriesPercent=[],c.seriesGoals=[],c.seriesX=[],c.seriesZ=[],c.seriesNames=[],c.seriesTotals=[],c.seriesLog=[],c.seriesColors=[],c.stackedSeriesTotals=[],c.seriesXvalues=[],c.seriesYvalues=[],c.labels=[],c.hasXaxisGroups=!1,c.groups=[],c.barGroups=[],c.lineGroups=[],c.areaGroups=[],c.hasSeriesGroups=!1,c.seriesGroups=[],c.categoryLabels=[],c.timescaleLabels=[],c.noLabelsProvided=!1,c.resizeTimer=null,c.selectionResizeTimer=null,c.delayedElements=[],c.pointsArray=[],c.dataLabelsRects=[],c.isXNumeric=!1,c.skipLastTimelinelabel=!1,c.skipFirstTimelinelabel=!1,c.isDataXYZ=!1,c.isMultiLineX=!1,c.isMultipleYAxis=!1,c.maxY=-Number.MAX_VALUE,c.minY=Number.MIN_VALUE,c.minYArr=[],c.maxYArr=[],c.maxX=-Number.MAX_VALUE,c.minX=Number.MAX_VALUE,c.initialMaxX=-Number.MAX_VALUE,c.initialMinX=Number.MAX_VALUE,c.maxDate=0,c.minDate=Number.MAX_VALUE,c.minZ=Number.MAX_VALUE,c.maxZ=-Number.MAX_VALUE,c.minXDiff=Number.MAX_VALUE,c.yAxisScale=[],c.xAxisScale=null,c.xAxisTicksPositions=[],c.yLabelsCoords=[],c.yTitleCoords=[],c.barPadForNumericAxis=0,c.padHorizontal=0,c.xRange=0,c.yRange=[],c.zRange=0,c.dataPoints=0,c.xTickAmount=0,c.multiAxisTickAmount=0}},{key:"globalVars",value:function(c){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:c.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:c.chart.toolbar.autoSelected==="zoom"&&c.chart.toolbar.tools.zoom&&c.chart.zoom.enabled,panEnabled:c.chart.toolbar.autoSelected==="pan"&&c.chart.toolbar.tools.pan,selectionEnabled:c.chart.toolbar.autoSelected==="selection"&&c.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:c.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(c){var g=this.globalVars(c);return this.initGlobalVars(g),g.initialConfig=F.extend({},c),g.initialSeries=F.clone(c.series),g.lastXAxis=F.clone(g.initialConfig.xaxis),g.lastYAxis=F.clone(g.initialConfig.yaxis),g}}]),le}(),Qe=function(){function le(c){m(this,le),this.opts=c}return v(le,[{key:"init",value:function(){var c=new _e(this.opts).init({responsiveOverride:!1});return{config:c,globals:new Pe().init(c)}}}]),le}(),Je=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w,this.opts=null,this.seriesIndex=0}return v(le,[{key:"clippedImgArea",value:function(c){var g=this.w,h=g.config,I=parseInt(g.globals.gridWidth,10),b=parseInt(g.globals.gridHeight,10),y=I>b?I:b,x=c.image,B=0,V=0;c.width===void 0&&c.height===void 0?h.fill.image.width!==void 0&&h.fill.image.height!==void 0?(B=h.fill.image.width+1,V=h.fill.image.height):(B=y+1,V=y):(B=c.width,V=c.height);var E=document.createElementNS(g.globals.SVGNS,"pattern");ne.setAttrs(E,{id:c.patternID,patternUnits:c.patternUnits?c.patternUnits:"userSpaceOnUse",width:B+"px",height:V+"px"});var Y=document.createElementNS(g.globals.SVGNS,"image");E.appendChild(Y),Y.setAttributeNS(window.SVG.xlink,"href",x),ne.setAttrs(Y,{x:0,y:0,preserveAspectRatio:"none",width:B+"px",height:V+"px"}),Y.style.opacity=c.opacity,g.globals.dom.elDefs.node.appendChild(E)}},{key:"getSeriesIndex",value:function(c){var g=this.w,h=g.config.chart.type;return(h==="bar"||h==="rangeBar")&&g.config.plotOptions.bar.distributed||h==="heatmap"||h==="treemap"?this.seriesIndex=c.seriesNumber:this.seriesIndex=c.seriesNumber%g.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(c){var g=this.w;this.opts=c;var h,I,b,y=this.w.config;this.seriesIndex=this.getSeriesIndex(c);var x=this.getFillColors()[this.seriesIndex];g.globals.seriesColors[this.seriesIndex]!==void 0&&(x=g.globals.seriesColors[this.seriesIndex]),typeof x=="function"&&(x=x({seriesIndex:this.seriesIndex,dataPointIndex:c.dataPointIndex,value:c.value,w:g}));var B=c.fillType?c.fillType:this.getFillType(this.seriesIndex),V=Array.isArray(y.fill.opacity)?y.fill.opacity[this.seriesIndex]:y.fill.opacity;c.color&&(x=c.color),x||(x="#fff",console.warn("undefined color - ApexCharts"));var E=x;if(x.indexOf("rgb")===-1?x.length<9&&(E=F.hexToRgba(x,V)):x.indexOf("rgba")>-1&&(V=F.getOpacityFromRGBA(x)),c.opacity&&(V=c.opacity),B==="pattern"&&(I=this.handlePatternFill({fillConfig:c.fillConfig,patternFill:I,fillColor:x,fillOpacity:V,defaultColor:E})),B==="gradient"&&(b=this.handleGradientFill({fillConfig:c.fillConfig,fillColor:x,fillOpacity:V,i:this.seriesIndex})),B==="image"){var Y=y.fill.image.src,H=c.patternID?c.patternID:"";this.clippedImgArea({opacity:V,image:Array.isArray(Y)?c.seriesNumber<Y.length?Y[c.seriesNumber]:Y[0]:Y,width:c.width?c.width:void 0,height:c.height?c.height:void 0,patternUnits:c.patternUnits,patternID:"pattern".concat(g.globals.cuid).concat(c.seriesNumber+1).concat(H)}),h="url(#pattern".concat(g.globals.cuid).concat(c.seriesNumber+1).concat(H,")")}else h=B==="gradient"?b:B==="pattern"?I:E;return c.solid&&(h=E),h}},{key:"getFillType",value:function(c){var g=this.w;return Array.isArray(g.config.fill.type)?g.config.fill.type[c]:g.config.fill.type}},{key:"getFillColors",value:function(){var c=this.w,g=c.config,h=this.opts,I=[];return c.globals.comboCharts?c.config.series[this.seriesIndex].type==="line"?Array.isArray(c.globals.stroke.colors)?I=c.globals.stroke.colors:I.push(c.globals.stroke.colors):Array.isArray(c.globals.fill.colors)?I=c.globals.fill.colors:I.push(c.globals.fill.colors):g.chart.type==="line"?Array.isArray(c.globals.stroke.colors)?I=c.globals.stroke.colors:I.push(c.globals.stroke.colors):Array.isArray(c.globals.fill.colors)?I=c.globals.fill.colors:I.push(c.globals.fill.colors),h.fillColors!==void 0&&(I=[],Array.isArray(h.fillColors)?I=h.fillColors.slice():I.push(h.fillColors)),I}},{key:"handlePatternFill",value:function(c){var g=c.fillConfig,h=c.patternFill,I=c.fillColor,b=c.fillOpacity,y=c.defaultColor,x=this.w.config.fill;g&&(x=g);var B=this.opts,V=new ne(this.ctx),E=Array.isArray(x.pattern.strokeWidth)?x.pattern.strokeWidth[this.seriesIndex]:x.pattern.strokeWidth,Y=I;return Array.isArray(x.pattern.style)?h=x.pattern.style[B.seriesNumber]!==void 0?V.drawPattern(x.pattern.style[B.seriesNumber],x.pattern.width,x.pattern.height,Y,E,b):y:h=V.drawPattern(x.pattern.style,x.pattern.width,x.pattern.height,Y,E,b),h}},{key:"handleGradientFill",value:function(c){var g=c.fillColor,h=c.fillOpacity,I=c.fillConfig,b=c.i,y=this.w.config.fill;I&&(y=s(s({},y),I));var x,B=this.opts,V=new ne(this.ctx),E=new F,Y=y.gradient.type,H=g,z=y.gradient.opacityFrom===void 0?h:Array.isArray(y.gradient.opacityFrom)?y.gradient.opacityFrom[b]:y.gradient.opacityFrom;H.indexOf("rgba")>-1&&(z=F.getOpacityFromRGBA(H));var Q=y.gradient.opacityTo===void 0?h:Array.isArray(y.gradient.opacityTo)?y.gradient.opacityTo[b]:y.gradient.opacityTo;if(y.gradient.gradientToColors===void 0||y.gradient.gradientToColors.length===0)x=y.gradient.shade==="dark"?E.shadeColor(-1*parseFloat(y.gradient.shadeIntensity),g.indexOf("rgb")>-1?F.rgb2hex(g):g):E.shadeColor(parseFloat(y.gradient.shadeIntensity),g.indexOf("rgb")>-1?F.rgb2hex(g):g);else if(y.gradient.gradientToColors[B.seriesNumber]){var $=y.gradient.gradientToColors[B.seriesNumber];x=$,$.indexOf("rgba")>-1&&(Q=F.getOpacityFromRGBA($))}else x=g;if(y.gradient.gradientFrom&&(H=y.gradient.gradientFrom),y.gradient.gradientTo&&(x=y.gradient.gradientTo),y.gradient.inverseColors){var oe=H;H=x,x=oe}return H.indexOf("rgb")>-1&&(H=F.rgb2hex(H)),x.indexOf("rgb")>-1&&(x=F.rgb2hex(x)),V.drawGradient(Y,H,x,z,Q,B.size,y.gradient.stops,y.gradient.colorStops,b)}}]),le}(),ve=function(){function le(c,g){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"setGlobalMarkerSize",value:function(){var c=this.w;if(c.globals.markers.size=Array.isArray(c.config.markers.size)?c.config.markers.size:[c.config.markers.size],c.globals.markers.size.length>0){if(c.globals.markers.size.length<c.globals.series.length+1)for(var g=0;g<=c.globals.series.length;g++)c.globals.markers.size[g]===void 0&&c.globals.markers.size.push(c.globals.markers.size[0])}else c.globals.markers.size=c.config.series.map(function(h){return c.config.markers.size})}},{key:"plotChartMarkers",value:function(c,g,h,I){var b,y=arguments.length>4&&arguments[4]!==void 0&&arguments[4],x=this.w,B=g,V=c,E=null,Y=new ne(this.ctx),H=x.config.markers.discrete&&x.config.markers.discrete.length;if((x.globals.markers.size[g]>0||y||H)&&(E=Y.group({class:y||H?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(x.globals.cuid,")")),Array.isArray(V.x))for(var z=0;z<V.x.length;z++){var Q=h;h===1&&z===0&&(Q=0),h===1&&z===1&&(Q=1);var $="apexcharts-marker";if(x.config.chart.type!=="line"&&x.config.chart.type!=="area"||x.globals.comboCharts||x.config.tooltip.intersect||($+=" no-pointer-events"),(Array.isArray(x.config.markers.size)?x.globals.markers.size[g]>0:x.config.markers.size>0)||y||H){F.isNumber(V.y[z])?$+=" w".concat(F.randomId()):$="apexcharts-nullpoint";var oe=this.getMarkerConfig({cssClass:$,seriesIndex:g,dataPointIndex:Q});x.config.series[B].data[Q]&&(x.config.series[B].data[Q].fillColor&&(oe.pointFillColor=x.config.series[B].data[Q].fillColor),x.config.series[B].data[Q].strokeColor&&(oe.pointStrokeColor=x.config.series[B].data[Q].strokeColor)),I&&(oe.pSize=I),(V.x[z]<-x.globals.markers.largestSize||V.x[z]>x.globals.gridWidth+x.globals.markers.largestSize||V.y[z]<-x.globals.markers.largestSize||V.y[z]>x.globals.gridHeight+x.globals.markers.largestSize)&&(oe.pSize=0),(b=Y.drawMarker(V.x[z],V.y[z],oe)).attr("rel",Q),b.attr("j",Q),b.attr("index",g),b.node.setAttribute("default-marker-size",oe.pSize),new ie(this.ctx).setSelectionFilter(b,g,Q),this.addEvents(b),E&&E.add(b)}else x.globals.pointsArray[g]===void 0&&(x.globals.pointsArray[g]=[]),x.globals.pointsArray[g].push([V.x[z],V.y[z]])}return E}},{key:"getMarkerConfig",value:function(c){var g=c.cssClass,h=c.seriesIndex,I=c.dataPointIndex,b=I===void 0?null:I,y=c.finishRadius,x=y===void 0?null:y,B=this.w,V=this.getMarkerStyle(h),E=B.globals.markers.size[h],Y=B.config.markers;return b!==null&&Y.discrete.length&&Y.discrete.map(function(H){H.seriesIndex===h&&H.dataPointIndex===b&&(V.pointStrokeColor=H.strokeColor,V.pointFillColor=H.fillColor,E=H.size,V.pointShape=H.shape)}),{pSize:x===null?E:x,pRadius:Y.radius,width:Array.isArray(Y.width)?Y.width[h]:Y.width,height:Array.isArray(Y.height)?Y.height[h]:Y.height,pointStrokeWidth:Array.isArray(Y.strokeWidth)?Y.strokeWidth[h]:Y.strokeWidth,pointStrokeColor:V.pointStrokeColor,pointFillColor:V.pointFillColor,shape:V.pointShape||(Array.isArray(Y.shape)?Y.shape[h]:Y.shape),class:g,pointStrokeOpacity:Array.isArray(Y.strokeOpacity)?Y.strokeOpacity[h]:Y.strokeOpacity,pointStrokeDashArray:Array.isArray(Y.strokeDashArray)?Y.strokeDashArray[h]:Y.strokeDashArray,pointFillOpacity:Array.isArray(Y.fillOpacity)?Y.fillOpacity[h]:Y.fillOpacity,seriesIndex:h}}},{key:"addEvents",value:function(c){var g=this.w,h=new ne(this.ctx);c.node.addEventListener("mouseenter",h.pathMouseEnter.bind(this.ctx,c)),c.node.addEventListener("mouseleave",h.pathMouseLeave.bind(this.ctx,c)),c.node.addEventListener("mousedown",h.pathMouseDown.bind(this.ctx,c)),c.node.addEventListener("click",g.config.markers.onClick),c.node.addEventListener("dblclick",g.config.markers.onDblClick),c.node.addEventListener("touchstart",h.pathMouseDown.bind(this.ctx,c),{passive:!0})}},{key:"getMarkerStyle",value:function(c){var g=this.w,h=g.globals.markers.colors,I=g.config.markers.strokeColor||g.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(I)?I[c]:I,pointFillColor:Array.isArray(h)?h[c]:h}}}]),le}(),Ye=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return v(le,[{key:"draw",value:function(c,g,h){var I=this.w,b=new ne(this.ctx),y=h.realIndex,x=h.pointsPos,B=h.zRatio,V=h.elParent,E=b.group({class:"apexcharts-series-markers apexcharts-series-".concat(I.config.chart.type)});if(E.attr("clip-path","url(#gridRectMarkerMask".concat(I.globals.cuid,")")),Array.isArray(x.x))for(var Y=0;Y<x.x.length;Y++){var H=g+1,z=!0;g===0&&Y===0&&(H=0),g===0&&Y===1&&(H=1);var Q=0,$=I.globals.markers.size[y];if(B!==1/0){var oe=I.config.plotOptions.bubble;$=I.globals.seriesZ[y][H],oe.zScaling&&($/=B),oe.minBubbleRadius&&$<oe.minBubbleRadius&&($=oe.minBubbleRadius),oe.maxBubbleRadius&&$>oe.maxBubbleRadius&&($=oe.maxBubbleRadius)}I.config.chart.animations.enabled||(Q=$);var re=x.x[Y],se=x.y[Y];if(Q=Q||0,se!==null&&I.globals.series[y][H]!==void 0||(z=!1),z){var W=this.drawPoint(re,se,Q,$,y,H,g);E.add(W)}V.add(E)}}},{key:"drawPoint",value:function(c,g,h,I,b,y,x){var B=this.w,V=b,E=new j(this.ctx),Y=new ie(this.ctx),H=new Je(this.ctx),z=new ve(this.ctx),Q=new ne(this.ctx),$=z.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:V,dataPointIndex:y,finishRadius:B.config.chart.type==="bubble"||B.globals.comboCharts&&B.config.series[b]&&B.config.series[b].type==="bubble"?I:null});I=$.pSize;var oe,re=H.fillPath({seriesNumber:b,dataPointIndex:y,color:$.pointFillColor,patternUnits:"objectBoundingBox",value:B.globals.series[b][x]});if($.shape==="circle"?oe=Q.drawCircle(h):$.shape!=="square"&&$.shape!=="rect"||(oe=Q.drawRect(0,0,$.width-$.pointStrokeWidth/2,$.height-$.pointStrokeWidth/2,$.pRadius)),B.config.series[V].data[y]&&B.config.series[V].data[y].fillColor&&(re=B.config.series[V].data[y].fillColor),oe.attr({x:c-$.width/2-$.pointStrokeWidth/2,y:g-$.height/2-$.pointStrokeWidth/2,cx:c,cy:g,fill:re,"fill-opacity":$.pointFillOpacity,stroke:$.pointStrokeColor,r:I,"stroke-width":$.pointStrokeWidth,"stroke-dasharray":$.pointStrokeDashArray,"stroke-opacity":$.pointStrokeOpacity}),B.config.chart.dropShadow.enabled){var se=B.config.chart.dropShadow;Y.dropShadow(oe,se,b)}if(!this.initialAnim||B.globals.dataChanged||B.globals.resized)B.globals.animationEnded=!0;else{var W=B.config.chart.animations.speed;E.animateMarker(oe,0,$.shape==="circle"?I:{width:$.width,height:$.height},W,B.globals.easing,function(){window.setTimeout(function(){E.animationCompleted(oe)},100)})}if(B.globals.dataChanged&&$.shape==="circle")if(this.dynamicAnim){var T,ee,ce,ge,me=B.config.chart.animations.dynamicAnimation.speed;(ge=B.globals.previousPaths[b]&&B.globals.previousPaths[b][x])!=null&&(T=ge.x,ee=ge.y,ce=ge.r!==void 0?ge.r:I);for(var Ae=0;Ae<B.globals.collapsedSeries.length;Ae++)B.globals.collapsedSeries[Ae].index===b&&(me=1,I=0);c===0&&g===0&&(I=0),E.animateCircle(oe,{cx:T,cy:ee,r:ce},{cx:c,cy:g,r:I},me,B.globals.easing)}else oe.attr({r:I});return oe.attr({rel:y,j:y,index:b,"default-marker-size":I}),Y.setSelectionFilter(oe,b,y),z.addEvents(oe),oe.node.classList.add("apexcharts-marker"),oe}},{key:"centerTextInBubble",value:function(c){var g=this.w;return{y:c+=parseInt(g.config.dataLabels.style.fontSize,10)/4}}}]),le}(),He=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"dataLabelsCorrection",value:function(c,g,h,I,b,y,x){var B=this.w,V=!1,E=new ne(this.ctx).getTextRects(h,x),Y=E.width,H=E.height;g<0&&(g=0),g>B.globals.gridHeight+H&&(g=B.globals.gridHeight+H/2),B.globals.dataLabelsRects[I]===void 0&&(B.globals.dataLabelsRects[I]=[]),B.globals.dataLabelsRects[I].push({x:c,y:g,width:Y,height:H});var z=B.globals.dataLabelsRects[I].length-2,Q=B.globals.lastDrawnDataLabelsIndexes[I]!==void 0?B.globals.lastDrawnDataLabelsIndexes[I][B.globals.lastDrawnDataLabelsIndexes[I].length-1]:0;if(B.globals.dataLabelsRects[I][z]!==void 0){var $=B.globals.dataLabelsRects[I][Q];(c>$.x+$.width||g>$.y+$.height||g+H<$.y||c+Y<$.x)&&(V=!0)}return(b===0||y)&&(V=!0),{x:c,y:g,textRects:E,drawnextLabel:V}}},{key:"drawDataLabel",value:function(c){var g=this,h=c.type,I=c.pos,b=c.i,y=c.j,x=c.isRangeStart,B=c.strokeWidth,V=B===void 0?2:B,E=this.w,Y=new ne(this.ctx),H=E.config.dataLabels,z=0,Q=0,$=y,oe=null;if(E.globals.collapsedSeriesIndices.indexOf(b)!==-1||!H.enabled||!Array.isArray(I.x))return oe;oe=Y.group({class:"apexcharts-data-labels"});for(var re=0;re<I.x.length;re++)if(z=I.x[re]+H.offsetX,Q=I.y[re]+H.offsetY+V,!isNaN(z)){y===1&&re===0&&($=0),y===1&&re===1&&($=1);var se=E.globals.series[b][$];h==="rangeArea"&&(se=x?E.globals.seriesRangeStart[b][$]:E.globals.seriesRangeEnd[b][$]);var W="",T=function(ce){return E.config.dataLabels.formatter(ce,{ctx:g.ctx,seriesIndex:b,dataPointIndex:$,w:E})};E.config.chart.type==="bubble"?(W=T(se=E.globals.seriesZ[b][$]),Q=I.y[re],Q=new Ye(this.ctx).centerTextInBubble(Q,b,$).y):se!==void 0&&(W=T(se));var ee=E.config.dataLabels.textAnchor;E.globals.isSlopeChart&&(ee=$===0?"end":$===E.config.series[b].data.length-1?"start":"middle"),this.plotDataLabelsText({x:z,y:Q,text:W,i:b,j:$,parent:oe,offsetCorrection:!0,dataLabelsConfig:E.config.dataLabels,textAnchor:ee})}return oe}},{key:"plotDataLabelsText",value:function(c){var g=this.w,h=new ne(this.ctx),I=c.x,b=c.y,y=c.i,x=c.j,B=c.text,V=c.textAnchor,E=c.fontSize,Y=c.parent,H=c.dataLabelsConfig,z=c.color,Q=c.alwaysDrawDataLabel,$=c.offsetCorrection;if(!(Array.isArray(g.config.dataLabels.enabledOnSeries)&&g.config.dataLabels.enabledOnSeries.indexOf(y)<0)){var oe={x:I,y:b,drawnextLabel:!0,textRects:null};$&&(oe=this.dataLabelsCorrection(I,b,B,y,x,Q,parseInt(H.style.fontSize,10))),g.globals.zoomed||(I=oe.x,b=oe.y),oe.textRects&&(I<-20-oe.textRects.width||I>g.globals.gridWidth+oe.textRects.width+30)&&(B="");var re=g.globals.dataLabels.style.colors[y];((g.config.chart.type==="bar"||g.config.chart.type==="rangeBar")&&g.config.plotOptions.bar.distributed||g.config.dataLabels.distributed)&&(re=g.globals.dataLabels.style.colors[x]),typeof re=="function"&&(re=re({series:g.globals.series,seriesIndex:y,dataPointIndex:x,w:g})),z&&(re=z);var se=H.offsetX,W=H.offsetY;if(g.config.chart.type!=="bar"&&g.config.chart.type!=="rangeBar"||(se=0,W=0),g.globals.isSlopeChart&&(x!==0&&(se=-2*H.offsetX+5),x!==0&&x!==g.config.series[y].data.length-1&&(se=0)),oe.drawnextLabel){var T=h.drawText({width:100,height:parseInt(H.style.fontSize,10),x:I+se,y:b+W,foreColor:re,textAnchor:V||H.textAnchor,text:B,fontSize:E||H.style.fontSize,fontFamily:H.style.fontFamily,fontWeight:H.style.fontWeight||"normal"});if(T.attr({class:"apexcharts-datalabel",cx:I,cy:b}),H.dropShadow.enabled){var ee=H.dropShadow;new ie(this.ctx).dropShadow(T,ee)}Y.add(T),g.globals.lastDrawnDataLabelsIndexes[y]===void 0&&(g.globals.lastDrawnDataLabelsIndexes[y]=[]),g.globals.lastDrawnDataLabelsIndexes[y].push(x)}}}},{key:"addBackgroundToDataLabel",value:function(c,g){var h=this.w,I=h.config.dataLabels.background,b=I.padding,y=I.padding/2,x=g.width,B=g.height,V=new ne(this.ctx).drawRect(g.x-b,g.y-y/2,x+2*b,B+y,I.borderRadius,h.config.chart.background==="transparent"?"#fff":h.config.chart.background,I.opacity,I.borderWidth,I.borderColor);return I.dropShadow.enabled&&new ie(this.ctx).dropShadow(V,I.dropShadow),V}},{key:"dataLabelsBackground",value:function(){var c=this.w;if(c.config.chart.type!=="bubble")for(var g=c.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),h=0;h<g.length;h++){var I=g[h],b=I.getBBox(),y=null;if(b.width&&b.height&&(y=this.addBackgroundToDataLabel(I,b)),y){I.parentNode.insertBefore(y.node,I);var x=I.getAttribute("fill");c.config.chart.animations.enabled&&!c.globals.resized&&!c.globals.dataChanged?y.animate().attr({fill:x}):y.attr({fill:x}),I.setAttribute("fill",c.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var c=this.w,g=c.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),h=c.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),I=0;I<g.length;I++)h&&h.insertBefore(g[I],h.nextSibling)}}]),le}(),Oe=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w,this.legendInactiveClass="legend-mouseover-inactive"}return v(le,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(c){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(F.escapeString(c),"']"))}},{key:"isSeriesHidden",value:function(c){var g=this.getSeriesByName(c),h=parseInt(g.getAttribute("data:realIndex"),10);return{isHidden:g.classList.contains("apexcharts-series-collapsed"),realIndex:h}}},{key:"addCollapsedClassToSeries",value:function(c,g){var h=this.w;function I(b){for(var y=0;y<b.length;y++)b[y].index===g&&c.node.classList.add("apexcharts-series-collapsed")}I(h.globals.collapsedSeries),I(h.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(c){var g=this.isSeriesHidden(c);return this.ctx.legend.legendHelpers.toggleDataSeries(g.realIndex,g.isHidden),g.isHidden}},{key:"showSeries",value:function(c){var g=this.isSeriesHidden(c);g.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(g.realIndex,!0)}},{key:"hideSeries",value:function(c){var g=this.isSeriesHidden(c);g.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(g.realIndex,!1)}},{key:"resetSeries",value:function(){var c=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],h=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],I=this.w,b=F.clone(I.globals.initialSeries);I.globals.previousPaths=[],h?(I.globals.collapsedSeries=[],I.globals.ancillaryCollapsedSeries=[],I.globals.collapsedSeriesIndices=[],I.globals.ancillaryCollapsedSeriesIndices=[]):b=this.emptyCollapsedSeries(b),I.config.series=b,c&&(g&&(I.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(b,I.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(c){for(var g=this.w,h=0;h<c.length;h++)g.globals.collapsedSeriesIndices.indexOf(h)>-1&&(c[h].data=[]);return c}},{key:"toggleSeriesOnHover",value:function(c,g){var h=this.w;g||(g=c.target);var I=h.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(c.type==="mousemove"){var b=parseInt(g.getAttribute("rel"),10)-1,y=null,x=null,B=null;if(h.globals.axisCharts||h.config.chart.type==="radialBar")if(h.globals.axisCharts){y=h.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(b,"']")),x=h.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(b,"']"));var V=h.globals.seriesYAxisReverseMap[b];B=h.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(V,"']"))}else y=h.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(b+1,"']"));else y=h.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(b+1,"'] path"));for(var E=0;E<I.length;E++)I[E].classList.add(this.legendInactiveClass);y!==null&&(h.globals.axisCharts||y.parentNode.classList.remove(this.legendInactiveClass),y.classList.remove(this.legendInactiveClass),x!==null&&x.classList.remove(this.legendInactiveClass),B!==null&&B.classList.remove(this.legendInactiveClass))}else if(c.type==="mouseout")for(var Y=0;Y<I.length;Y++)I[Y].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(c,g){var h=this,I=this.w,b=I.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),y=function(B){for(var V=0;V<b.length;V++)b[V].classList[B](h.legendInactiveClass)};if(c.type==="mousemove"){var x=parseInt(g.getAttribute("rel"),10)-1;y("add"),function(B){for(var V=0;V<b.length;V++){var E=parseInt(b[V].getAttribute("val"),10);E>=B.from&&E<=B.to&&b[V].classList.remove(h.legendInactiveClass)}}(I.config.plotOptions.heatmap.colorScale.ranges[x])}else c.type==="mouseout"&&y("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],h=this.w,I=0;if(h.config.series.length>1){for(var b=h.config.series.map(function(x,B){return x.data&&x.data.length>0&&h.globals.collapsedSeriesIndices.indexOf(B)===-1&&(!h.globals.comboCharts||g.length===0||g.length&&g.indexOf(h.config.series[B].type)>-1)?B:-1}),y=c==="asc"?0:b.length-1;c==="asc"?y<b.length:y>=0;c==="asc"?y++:y--)if(b[y]!==-1){I=b[y];break}}return I}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(c,g){return c.type==="bar"||c.type==="column"?g:-1}).filter(function(c){return c!==-1}):this.w.config.series.map(function(c,g){return g})}},{key:"getPreviousPaths",value:function(){var c=this.w;function g(y,x,B){for(var V=y[x].childNodes,E={type:B,paths:[],realIndex:y[x].getAttribute("data:realIndex")},Y=0;Y<V.length;Y++)if(V[Y].hasAttribute("pathTo")){var H=V[Y].getAttribute("pathTo");E.paths.push({d:H})}c.globals.previousPaths.push(E)}c.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(y){for(var x,B=(x=y,c.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(x,"-series .apexcharts-series"))),V=0;V<B.length;V++)g(B,V,y)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var h=c.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(c.config.chart.type," .apexcharts-series"));if(h.length>0)for(var I=function(y){for(var x=c.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(c.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(y,"'] rect")),B=[],V=function(Y){var H=function(Q){return x[Y].getAttribute(Q)},z={x:parseFloat(H("x")),y:parseFloat(H("y")),width:parseFloat(H("width")),height:parseFloat(H("height"))};B.push({rect:z,color:x[Y].getAttribute("color")})},E=0;E<x.length;E++)V(E);c.globals.previousPaths.push(B)},b=0;b<h.length;b++)I(b);c.globals.axisCharts||(c.globals.previousPaths=c.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(c){var g=this.w,h=g.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(c,"-series .apexcharts-series"));if(h.length>0)for(var I=0;I<h.length;I++){for(var b=g.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(c,"-series .apexcharts-series[data\\:realIndex='").concat(I,"'] circle")),y=[],x=0;x<b.length;x++)y.push({x:b[x].getAttribute("cx"),y:b[x].getAttribute("cy"),r:b[x].getAttribute("r")});g.globals.previousPaths.push(y)}}},{key:"clearPreviousPaths",value:function(){var c=this.w;c.globals.previousPaths=[],c.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var c=this.w,g=c.config.noData,h=new ne(this.ctx),I=c.globals.svgWidth/2,b=c.globals.svgHeight/2,y="middle";if(c.globals.noData=!0,c.globals.animationEnded=!0,g.align==="left"?(I=10,y="start"):g.align==="right"&&(I=c.globals.svgWidth-10,y="end"),g.verticalAlign==="top"?b=50:g.verticalAlign==="bottom"&&(b=c.globals.svgHeight-50),I+=g.offsetX,b=b+parseInt(g.style.fontSize,10)+2+g.offsetY,g.text!==void 0&&g.text!==""){var x=h.drawText({x:I,y:b,text:g.text,textAnchor:y,fontSize:g.style.fontSize,fontFamily:g.style.fontFamily,foreColor:g.style.color,opacity:1,class:"apexcharts-text-nodata"});c.globals.dom.Paper.add(x)}}},{key:"setNullSeriesToZeroValues",value:function(c){for(var g=this.w,h=0;h<c.length;h++)if(c[h].length===0)for(var I=0;I<c[g.globals.maxValsInArrayIndex].length;I++)c[h].push(0);return c}},{key:"hasAllSeriesEqualX",value:function(){for(var c=!0,g=this.w,h=this.filteredSeriesX(),I=0;I<h.length-1;I++)if(h[I][0]!==h[I+1][0]){c=!1;break}return g.globals.allSeriesHasEqualX=c,c}},{key:"filteredSeriesX",value:function(){var c=this.w.globals.seriesX.map(function(g){return g.length>0?g:[]});return c}}]),le}(),je=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new ue(this.ctx)}return v(le,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var c=this.w.config.series.slice(),g=new Oe(this.ctx);if(this.activeSeriesIndex=g.getActiveConfigSeriesIndex(),c[this.activeSeriesIndex].data!==void 0&&c[this.activeSeriesIndex].data.length>0&&c[this.activeSeriesIndex].data[0]!==null&&c[this.activeSeriesIndex].data[0].x!==void 0&&c[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var c=this.w.config.series.slice(),g=new Oe(this.ctx);if(this.activeSeriesIndex=g.getActiveConfigSeriesIndex(),c[this.activeSeriesIndex].data!==void 0&&c[this.activeSeriesIndex].data.length>0&&c[this.activeSeriesIndex].data[0]!==void 0&&c[this.activeSeriesIndex].data[0]!==null&&c[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(c,g){for(var h=this.w.config,I=this.w.globals,b=h.chart.type==="boxPlot"||h.series[g].type==="boxPlot",y=0;y<c[g].data.length;y++)if(c[g].data[y][1]!==void 0&&(Array.isArray(c[g].data[y][1])&&c[g].data[y][1].length===4&&!b?this.twoDSeries.push(F.parseNumber(c[g].data[y][1][3])):c[g].data[y].length>=5?this.twoDSeries.push(F.parseNumber(c[g].data[y][4])):this.twoDSeries.push(F.parseNumber(c[g].data[y][1])),I.dataFormatXNumeric=!0),h.xaxis.type==="datetime"){var x=new Date(c[g].data[y][0]);x=new Date(x).getTime(),this.twoDSeriesX.push(x)}else this.twoDSeriesX.push(c[g].data[y][0]);for(var B=0;B<c[g].data.length;B++)c[g].data[B][2]!==void 0&&(this.threeDSeries.push(c[g].data[B][2]),I.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(c,g){var h=this.w.config,I=this.w.globals,b=new pe(this.ctx),y=g;I.collapsedSeriesIndices.indexOf(g)>-1&&(y=this.activeSeriesIndex);for(var x=0;x<c[g].data.length;x++)c[g].data[x].y!==void 0&&(Array.isArray(c[g].data[x].y)?this.twoDSeries.push(F.parseNumber(c[g].data[x].y[c[g].data[x].y.length-1])):this.twoDSeries.push(F.parseNumber(c[g].data[x].y))),c[g].data[x].goals!==void 0&&Array.isArray(c[g].data[x].goals)?(this.seriesGoals[g]===void 0&&(this.seriesGoals[g]=[]),this.seriesGoals[g].push(c[g].data[x].goals)):(this.seriesGoals[g]===void 0&&(this.seriesGoals[g]=[]),this.seriesGoals[g].push(null));for(var B=0;B<c[y].data.length;B++){var V=typeof c[y].data[B].x=="string",E=Array.isArray(c[y].data[B].x),Y=!E&&!!b.isValidDate(c[y].data[B].x);if(V||Y)if(V||h.xaxis.convertedCatToNumeric){var H=I.isBarHorizontal&&I.isRangeData;h.xaxis.type!=="datetime"||H?(this.fallbackToCategory=!0,this.twoDSeriesX.push(c[y].data[B].x),isNaN(c[y].data[B].x)||this.w.config.xaxis.type==="category"||typeof c[y].data[B].x=="string"||(I.isXNumeric=!0)):this.twoDSeriesX.push(b.parseDate(c[y].data[B].x))}else h.xaxis.type==="datetime"?this.twoDSeriesX.push(b.parseDate(c[y].data[B].x.toString())):(I.dataFormatXNumeric=!0,I.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(c[y].data[B].x)));else E?(this.fallbackToCategory=!0,this.twoDSeriesX.push(c[y].data[B].x)):(I.isXNumeric=!0,I.dataFormatXNumeric=!0,this.twoDSeriesX.push(c[y].data[B].x))}if(c[g].data[0]&&c[g].data[0].z!==void 0){for(var z=0;z<c[g].data.length;z++)this.threeDSeries.push(c[g].data[z].z);I.isDataXYZ=!0}}},{key:"handleRangeData",value:function(c,g){var h=this.w.globals,I={};return this.isFormat2DArray()?I=this.handleRangeDataFormat("array",c,g):this.isFormatXY()&&(I=this.handleRangeDataFormat("xy",c,g)),h.seriesRangeStart.push(I.start===void 0?[]:I.start),h.seriesRangeEnd.push(I.end===void 0?[]:I.end),h.seriesRange.push(I.rangeUniques),h.seriesRange.forEach(function(b,y){b&&b.forEach(function(x,B){x.y.forEach(function(V,E){for(var Y=0;Y<x.y.length;Y++)if(E!==Y){var H=V.y1,z=V.y2,Q=x.y[Y].y1;H<=x.y[Y].y2&&Q<=z&&(x.overlaps.indexOf(V.rangeName)<0&&x.overlaps.push(V.rangeName),x.overlaps.indexOf(x.y[Y].rangeName)<0&&x.overlaps.push(x.y[Y].rangeName))}})})}),I}},{key:"handleCandleStickBoxData",value:function(c,g){var h=this.w.globals,I={};return this.isFormat2DArray()?I=this.handleCandleStickBoxDataFormat("array",c,g):this.isFormatXY()&&(I=this.handleCandleStickBoxDataFormat("xy",c,g)),h.seriesCandleO[g]=I.o,h.seriesCandleH[g]=I.h,h.seriesCandleM[g]=I.m,h.seriesCandleL[g]=I.l,h.seriesCandleC[g]=I.c,I}},{key:"handleRangeDataFormat",value:function(c,g,h){var I=[],b=[],y=g[h].data.filter(function(E,Y,H){return Y===H.findIndex(function(z){return z.x===E.x})}).map(function(E,Y){return{x:E.x,overlaps:[],y:[]}});if(c==="array")for(var x=0;x<g[h].data.length;x++)Array.isArray(g[h].data[x])?(I.push(g[h].data[x][1][0]),b.push(g[h].data[x][1][1])):(I.push(g[h].data[x]),b.push(g[h].data[x]));else if(c==="xy")for(var B=function(E){var Y=Array.isArray(g[h].data[E].y),H=F.randomId(),z=g[h].data[E].x,Q={y1:Y?g[h].data[E].y[0]:g[h].data[E].y,y2:Y?g[h].data[E].y[1]:g[h].data[E].y,rangeName:H};g[h].data[E].rangeName=H;var $=y.findIndex(function(oe){return oe.x===z});y[$].y.push(Q),I.push(Q.y1),b.push(Q.y2)},V=0;V<g[h].data.length;V++)B(V);return{start:I,end:b,rangeUniques:y}}},{key:"handleCandleStickBoxDataFormat",value:function(c,g,h){var I=this.w,b=I.config.chart.type==="boxPlot"||I.config.series[h].type==="boxPlot",y=[],x=[],B=[],V=[],E=[];if(c==="array")if(b&&g[h].data[0].length===6||!b&&g[h].data[0].length===5)for(var Y=0;Y<g[h].data.length;Y++)y.push(g[h].data[Y][1]),x.push(g[h].data[Y][2]),b?(B.push(g[h].data[Y][3]),V.push(g[h].data[Y][4]),E.push(g[h].data[Y][5])):(V.push(g[h].data[Y][3]),E.push(g[h].data[Y][4]));else for(var H=0;H<g[h].data.length;H++)Array.isArray(g[h].data[H][1])&&(y.push(g[h].data[H][1][0]),x.push(g[h].data[H][1][1]),b?(B.push(g[h].data[H][1][2]),V.push(g[h].data[H][1][3]),E.push(g[h].data[H][1][4])):(V.push(g[h].data[H][1][2]),E.push(g[h].data[H][1][3])));else if(c==="xy")for(var z=0;z<g[h].data.length;z++)Array.isArray(g[h].data[z].y)&&(y.push(g[h].data[z].y[0]),x.push(g[h].data[z].y[1]),b?(B.push(g[h].data[z].y[2]),V.push(g[h].data[z].y[3]),E.push(g[h].data[z].y[4])):(V.push(g[h].data[z].y[2]),E.push(g[h].data[z].y[3])));return{o:y,h:x,m:B,l:V,c:E}}},{key:"parseDataAxisCharts",value:function(c){var g=this,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,I=this.w.config,b=this.w.globals,y=new pe(h),x=I.labels.length>0?I.labels.slice():I.xaxis.categories.slice();b.isRangeBar=I.chart.type==="rangeBar"&&b.isBarHorizontal,b.hasXaxisGroups=I.xaxis.type==="category"&&I.xaxis.group.groups.length>0,b.hasXaxisGroups&&(b.groups=I.xaxis.group.groups),c.forEach(function(z,Q){z.name!==void 0?b.seriesNames.push(z.name):b.seriesNames.push("series-"+parseInt(Q+1,10))}),this.coreUtils.setSeriesYAxisMappings();var B=[],V=L(new Set(I.series.map(function(z){return z.group})));I.series.forEach(function(z,Q){var $=V.indexOf(z.group);B[$]||(B[$]=[]),B[$].push(b.seriesNames[Q])}),b.seriesGroups=B;for(var E=function(){for(var z=0;z<x.length;z++)if(typeof x[z]=="string"){if(!y.isValidDate(x[z]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");g.twoDSeriesX.push(y.parseDate(x[z]))}else g.twoDSeriesX.push(x[z])},Y=0;Y<c.length;Y++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],c[Y].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(I.chart.type!=="rangeBar"&&I.chart.type!=="rangeArea"&&c[Y].type!=="rangeBar"&&c[Y].type!=="rangeArea"||(b.isRangeData=!0,I.chart.type!=="rangeBar"&&I.chart.type!=="rangeArea"||this.handleRangeData(c,Y)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(c,Y):this.isFormatXY()&&this.handleFormatXY(c,Y),I.chart.type!=="candlestick"&&c[Y].type!=="candlestick"&&I.chart.type!=="boxPlot"&&c[Y].type!=="boxPlot"||this.handleCandleStickBoxData(c,Y),b.series.push(this.twoDSeries),b.labels.push(this.twoDSeriesX),b.seriesX.push(this.twoDSeriesX),b.seriesGoals=this.seriesGoals,Y!==this.activeSeriesIndex||this.fallbackToCategory||(b.isXNumeric=!0);else{I.xaxis.type==="datetime"?(b.isXNumeric=!0,E(),b.seriesX.push(this.twoDSeriesX)):I.xaxis.type==="numeric"&&(b.isXNumeric=!0,x.length>0&&(this.twoDSeriesX=x,b.seriesX.push(this.twoDSeriesX))),b.labels.push(this.twoDSeriesX);var H=c[Y].data.map(function(z){return F.parseNumber(z)});b.series.push(H)}b.seriesZ.push(this.threeDSeries),c[Y].color!==void 0?b.seriesColors.push(c[Y].color):b.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(c){var g=this.w.globals,h=this.w.config;g.series=c.slice(),g.seriesNames=h.labels.slice();for(var I=0;I<g.series.length;I++)g.seriesNames[I]===void 0&&g.seriesNames.push("series-"+(I+1));return this.w}},{key:"handleExternalLabelsData",value:function(c){var g=this.w.config,h=this.w.globals;g.xaxis.categories.length>0?h.labels=g.xaxis.categories:g.labels.length>0?h.labels=g.labels.slice():this.fallbackToCategory?(h.labels=h.labels[0],h.seriesRange.length&&(h.seriesRange.map(function(I){I.forEach(function(b){h.labels.indexOf(b.x)<0&&b.x&&h.labels.push(b.x)})}),h.labels=Array.from(new Set(h.labels.map(JSON.stringify)),JSON.parse)),g.xaxis.convertedCatToNumeric&&(new Ze(g).convertCatToNumericXaxis(g,this.ctx,h.seriesX[0]),this._generateExternalLabels(c))):this._generateExternalLabels(c)}},{key:"_generateExternalLabels",value:function(c){var g=this.w.globals,h=this.w.config,I=[];if(g.axisCharts){if(g.series.length>0)if(this.isFormatXY())for(var b=h.series.map(function(Y,H){return Y.data.filter(function(z,Q,$){return $.findIndex(function(oe){return oe.x===z.x})===Q})}),y=b.reduce(function(Y,H,z,Q){return Q[Y].length>H.length?Y:z},0),x=0;x<b[y].length;x++)I.push(x+1);else for(var B=0;B<g.series[g.maxValsInArrayIndex].length;B++)I.push(B+1);g.seriesX=[];for(var V=0;V<c.length;V++)g.seriesX.push(I);this.w.globals.isBarHorizontal||(g.isXNumeric=!0)}if(I.length===0){I=g.axisCharts?[]:g.series.map(function(Y,H){return H+1});for(var E=0;E<c.length;E++)g.seriesX.push(I)}g.labels=I,h.xaxis.convertedCatToNumeric&&(g.categoryLabels=I.map(function(Y){return h.xaxis.labels.formatter(Y)})),g.noLabelsProvided=!0}},{key:"parseData",value:function(c){var g=this.w,h=g.config,I=g.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),I.axisCharts?(this.parseDataAxisCharts(c),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(c),h.chart.stacked){var b=new Oe(this.ctx);I.series=b.setNullSeriesToZeroValues(I.series)}this.coreUtils.getSeriesTotals(),I.axisCharts&&(I.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),I.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),I.dataFormatXNumeric||I.isXNumeric&&(h.xaxis.type!=="numeric"||h.labels.length!==0||h.xaxis.categories.length!==0)||this.handleExternalLabelsData(c);for(var y=this.coreUtils.getCategoryLabels(I.labels),x=0;x<y.length;x++)if(Array.isArray(y[x])){I.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var c=this.w,g=[];c.globals.seriesYAxisMap.forEach(function(h,I){var b=0;h.forEach(function(y){c.globals.collapsedSeriesIndices.indexOf(y)!==-1&&b++}),b>0&&b==h.length&&g.push(I)}),c.globals.ignoreYAxisIndexes=g.map(function(h){return h})}}]),le}(),et=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"scaleSvgNode",value:function(c,g){var h=parseFloat(c.getAttributeNS(null,"width")),I=parseFloat(c.getAttributeNS(null,"height"));c.setAttributeNS(null,"width",h*g),c.setAttributeNS(null,"height",I*g),c.setAttributeNS(null,"viewBox","0 0 "+h+" "+I)}},{key:"fixSvgStringForIe11",value:function(c){if(!F.isIE11())return c.replace(/&nbsp;/g,"&#160;");var g=0,h=c.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(I){return++g===2?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':I});return h=(h=h.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(c){c==null&&(c=1);var g=this.w.globals.dom.Paper.svg();if(c!==1){var h=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(h,c),g=new XMLSerializer().serializeToString(h)}return this.fixSvgStringForIe11(g)}},{key:"cleanup",value:function(){var c=this.w,g=c.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),h=c.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),I=c.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(I,function(b){b.setAttribute("width",0)}),g&&g[0]&&(g[0].setAttribute("x",-500),g[0].setAttribute("x1",-500),g[0].setAttribute("x2",-500)),h&&h[0]&&(h[0].setAttribute("y",-100),h[0].setAttribute("y1",-100),h[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var c=this.getSvgString(),g=new Blob([c],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(g)}},{key:"dataURI",value:function(c){var g=this;return new Promise(function(h){var I=g.w,b=c?c.scale||c.width/I.globals.svgWidth:1;g.cleanup();var y=document.createElement("canvas");y.width=I.globals.svgWidth*b,y.height=parseInt(I.globals.dom.elWrap.style.height,10)*b;var x=I.config.chart.background==="transparent"?"#fff":I.config.chart.background,B=y.getContext("2d");B.fillStyle=x,B.fillRect(0,0,y.width*b,y.height*b);var V=g.getSvgString(b);if(window.canvg&&F.isIE11()){var E=window.canvg.Canvg.fromString(B,V,{ignoreClear:!0,ignoreDimensions:!0});E.start();var Y=y.msToBlob();E.stop(),h({blob:Y})}else{var H="data:image/svg+xml,"+encodeURIComponent(V),z=new Image;z.crossOrigin="anonymous",z.onload=function(){if(B.drawImage(z,0,0),y.msToBlob){var Q=y.msToBlob();h({blob:Q})}else{var $=y.toDataURL("image/png");h({imgURI:$})}},z.src=H}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var c=this;this.dataURI().then(function(g){var h=g.imgURI,I=g.blob;I?navigator.msSaveOrOpenBlob(I,c.w.globals.chartID+".png"):c.triggerDownload(h,c.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(c){var g=this,h=c.series,I=c.fileName,b=c.columnDelimiter,y=b===void 0?",":b,x=c.lineDelimiter,B=x===void 0?`
`:x,V=this.w;h||(h=V.config.series);var E,Y,H=[],z=[],Q="",$=V.globals.series.map(function(ce,ge){return V.globals.collapsedSeriesIndices.indexOf(ge)===-1?ce:[]}),oe=function(ce){return V.config.xaxis.type==="datetime"&&String(ce).length>=10},re=Math.max.apply(Math,L(h.map(function(ce){return ce.data?ce.data.length:0}))),se=new je(this.ctx),W=new be(this.ctx),T=function(ce){var ge="";if(V.globals.axisCharts){if(V.config.xaxis.type==="category"||V.config.xaxis.convertedCatToNumeric)if(V.globals.isBarHorizontal){var me=V.globals.yLabelFormatters[0],Ae=new Oe(g.ctx).getActiveConfigSeriesIndex();ge=me(V.globals.labels[ce],{seriesIndex:Ae,dataPointIndex:ce,w:V})}else ge=W.getLabel(V.globals.labels,V.globals.timescaleLabels,0,ce).text;V.config.xaxis.type==="datetime"&&(V.config.xaxis.categories.length?ge=V.config.xaxis.categories[ce]:V.config.labels.length&&(ge=V.config.labels[ce]))}else ge=V.config.labels[ce];return ge===null?"nullvalue":(Array.isArray(ge)&&(ge=ge.join(" ")),F.isNumber(ge)?ge:ge.split(y).join(""))},ee=function(ce,ge){if(H.length&&ge===0&&z.push(H.join(y)),ce.data){ce.data=ce.data.length&&ce.data||L(Array(re)).map(function(){return""});for(var me=0;me<ce.data.length;me++){H=[];var Ae=T(me);if(Ae!=="nullvalue"){if(Ae||(se.isFormatXY()?Ae=h[ge].data[me].x:se.isFormat2DArray()&&(Ae=h[ge].data[me]?h[ge].data[me][0]:"")),ge===0){H.push(oe(Ae)?V.config.chart.toolbar.export.csv.dateFormatter(Ae):F.isNumber(Ae)?Ae:Ae.split(y).join(""));for(var ye=0;ye<V.globals.series.length;ye++){var Ne;se.isFormatXY()?H.push((Ne=h[ye].data[me])===null||Ne===void 0?void 0:Ne.y):H.push($[ye][me])}}(V.config.chart.type==="candlestick"||ce.type&&ce.type==="candlestick")&&(H.pop(),H.push(V.globals.seriesCandleO[ge][me]),H.push(V.globals.seriesCandleH[ge][me]),H.push(V.globals.seriesCandleL[ge][me]),H.push(V.globals.seriesCandleC[ge][me])),(V.config.chart.type==="boxPlot"||ce.type&&ce.type==="boxPlot")&&(H.pop(),H.push(V.globals.seriesCandleO[ge][me]),H.push(V.globals.seriesCandleH[ge][me]),H.push(V.globals.seriesCandleM[ge][me]),H.push(V.globals.seriesCandleL[ge][me]),H.push(V.globals.seriesCandleC[ge][me])),V.config.chart.type==="rangeBar"&&(H.pop(),H.push(V.globals.seriesRangeStart[ge][me]),H.push(V.globals.seriesRangeEnd[ge][me])),H.length&&z.push(H.join(y))}}}};H.push(V.config.chart.toolbar.export.csv.headerCategory),V.config.chart.type==="boxPlot"?(H.push("minimum"),H.push("q1"),H.push("median"),H.push("q3"),H.push("maximum")):V.config.chart.type==="candlestick"?(H.push("open"),H.push("high"),H.push("low"),H.push("close")):V.config.chart.type==="rangeBar"?(H.push("minimum"),H.push("maximum")):h.map(function(ce,ge){var me=(ce.name?ce.name:"series-".concat(ge))+"";V.globals.axisCharts&&H.push(me.split(y).join("")?me.split(y).join(""):"series-".concat(ge))}),V.globals.axisCharts||(H.push(V.config.chart.toolbar.export.csv.headerValue),z.push(H.join(y))),V.globals.allSeriesHasEqualX||!V.globals.axisCharts||V.config.xaxis.categories.length||V.config.labels.length?h.map(function(ce,ge){V.globals.axisCharts?ee(ce,ge):((H=[]).push(V.globals.labels[ge].split(y).join("")),H.push($[ge]),z.push(H.join(y)))}):(E=new Set,Y={},h.forEach(function(ce,ge){ce==null||ce.data.forEach(function(me){var Ae,ye;if(se.isFormatXY())Ae=me.x,ye=me.y;else{if(!se.isFormat2DArray())return;Ae=me[0],ye=me[1]}Y[Ae]||(Y[Ae]=Array(h.length).fill("")),Y[Ae][ge]=ye,E.add(Ae)})}),H.length&&z.push(H.join(y)),Array.from(E).sort().forEach(function(ce){z.push([oe(ce)&&V.config.xaxis.type==="datetime"?V.config.chart.toolbar.export.csv.dateFormatter(ce):F.isNumber(ce)?ce:ce.split(y).join(""),Y[ce].join(y)])})),Q+=z.join(B),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+Q),I||V.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(c,g,h){var I=document.createElement("a");I.href=c,I.download=(g||this.w.globals.chartID)+h,document.body.appendChild(I),I.click(),document.body.removeChild(I)}}]),le}(),Ct=function(){function le(c,g){m(this,le),this.ctx=c,this.elgrid=g,this.w=c.w;var h=this.w;this.axesUtils=new be(c),this.xaxisLabels=h.globals.labels.slice(),h.globals.timescaleLabels.length>0&&!h.globals.isBarHorizontal&&(this.xaxisLabels=h.globals.timescaleLabels.slice()),h.config.xaxis.overwriteCategories&&(this.xaxisLabels=h.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],h.config.xaxis.position==="top"?this.offY=0:this.offY=h.globals.gridHeight,this.offY=this.offY+h.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=h.config.chart.type==="bar"&&h.config.plotOptions.bar.horizontal,this.xaxisFontSize=h.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=h.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=h.config.xaxis.labels.style.colors,this.xaxisBorderWidth=h.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=h.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=h.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=h.config.xaxis.axisBorder.height,this.yaxis=h.config.yaxis[0]}return v(le,[{key:"drawXaxis",value:function(){var c=this.w,g=new ne(this.ctx),h=g.group({class:"apexcharts-xaxis",transform:"translate(".concat(c.config.xaxis.offsetX,", ").concat(c.config.xaxis.offsetY,")")}),I=g.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(c.globals.translateXAxisX,", ").concat(c.globals.translateXAxisY,")")});h.add(I);for(var b=[],y=0;y<this.xaxisLabels.length;y++)b.push(this.xaxisLabels[y]);if(this.drawXAxisLabelAndGroup(!0,g,I,b,c.globals.isXNumeric,function(Q,$){return $}),c.globals.hasXaxisGroups){var x=c.globals.groups;b=[];for(var B=0;B<x.length;B++)b.push(x[B].title);var V={};c.config.xaxis.group.style&&(V.xaxisFontSize=c.config.xaxis.group.style.fontSize,V.xaxisFontFamily=c.config.xaxis.group.style.fontFamily,V.xaxisForeColors=c.config.xaxis.group.style.colors,V.fontWeight=c.config.xaxis.group.style.fontWeight,V.cssClass=c.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,g,I,b,!1,function(Q,$){return x[Q].cols*$},V)}if(c.config.xaxis.title.text!==void 0){var E=g.group({class:"apexcharts-xaxis-title"}),Y=g.drawText({x:c.globals.gridWidth/2+c.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(c.config.xaxis.position==="bottom"?c.globals.xAxisLabelsHeight:-c.globals.xAxisLabelsHeight-10)+c.config.xaxis.title.offsetY,text:c.config.xaxis.title.text,textAnchor:"middle",fontSize:c.config.xaxis.title.style.fontSize,fontFamily:c.config.xaxis.title.style.fontFamily,fontWeight:c.config.xaxis.title.style.fontWeight,foreColor:c.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+c.config.xaxis.title.style.cssClass});E.add(Y),h.add(E)}if(c.config.xaxis.axisBorder.show){var H=c.globals.barPadForNumericAxis,z=g.drawLine(c.globals.padHorizontal+c.config.xaxis.axisBorder.offsetX-H,this.offY,this.xaxisBorderWidth+H,this.offY,c.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&c.config.grid.show?this.elgrid.elGridBorders.add(z):h.add(z)}return h}},{key:"drawXAxisLabelAndGroup",value:function(c,g,h,I,b,y){var x,B=this,V=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},E=[],Y=[],H=this.w,z=V.xaxisFontSize||this.xaxisFontSize,Q=V.xaxisFontFamily||this.xaxisFontFamily,$=V.xaxisForeColors||this.xaxisForeColors,oe=V.fontWeight||H.config.xaxis.labels.style.fontWeight,re=V.cssClass||H.config.xaxis.labels.style.cssClass,se=H.globals.padHorizontal,W=I.length,T=H.config.xaxis.type==="category"?H.globals.dataPoints:W;if(T===0&&W>T&&(T=W),b){var ee=T>1?T-1:T;x=H.globals.gridWidth/Math.min(ee,W-1),se=se+y(0,x)/2+H.config.xaxis.labels.offsetX}else x=H.globals.gridWidth/T,se=se+y(0,x)+H.config.xaxis.labels.offsetX;for(var ce=function(me){var Ae=se-y(me,x)/2+H.config.xaxis.labels.offsetX;me===0&&W===1&&x/2===se&&T===1&&(Ae=H.globals.gridWidth/2);var ye=B.axesUtils.getLabel(I,H.globals.timescaleLabels,Ae,me,E,z,c),Ne=28;if(H.globals.rotateXLabels&&c&&(Ne=22),H.config.xaxis.title.text&&H.config.xaxis.position==="top"&&(Ne+=parseFloat(H.config.xaxis.title.style.fontSize)+2),c||(Ne=Ne+parseFloat(z)+(H.globals.xAxisLabelsHeight-H.globals.xAxisGroupLabelsHeight)+(H.globals.rotateXLabels?10:0)),ye=H.config.xaxis.tickAmount!==void 0&&H.config.xaxis.tickAmount!=="dataPoints"&&H.config.xaxis.type!=="datetime"?B.axesUtils.checkLabelBasedOnTickamount(me,ye,W):B.axesUtils.checkForOverflowingLabels(me,ye,W,E,Y),H.config.xaxis.labels.show){var Te=g.drawText({x:ye.x,y:B.offY+H.config.xaxis.labels.offsetY+Ne-(H.config.xaxis.position==="top"?H.globals.xAxisHeight+H.config.xaxis.axisTicks.height-2:0),text:ye.text,textAnchor:"middle",fontWeight:ye.isBold?600:oe,fontSize:z,fontFamily:Q,foreColor:Array.isArray($)?c&&H.config.xaxis.convertedCatToNumeric?$[H.globals.minX+me-1]:$[me]:$,isPlainText:!1,cssClass:(c?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+re});if(h.add(Te),Te.on("click",function(Le){if(typeof H.config.chart.events.xAxisLabelClick=="function"){var st=Object.assign({},H,{labelIndex:me});H.config.chart.events.xAxisLabelClick(Le,B.ctx,st)}}),c){var Ve=document.createElementNS(H.globals.SVGNS,"title");Ve.textContent=Array.isArray(ye.text)?ye.text.join(" "):ye.text,Te.node.appendChild(Ve),ye.text!==""&&(E.push(ye.text),Y.push(ye))}}me<W-1&&(se+=y(me+1,x))},ge=0;ge<=W-1;ge++)ce(ge)}},{key:"drawXaxisInversed",value:function(c){var g,h,I=this,b=this.w,y=new ne(this.ctx),x=b.config.yaxis[0].opposite?b.globals.translateYAxisX[c]:0,B=y.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:c}),V=y.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+x+", 0)"});B.add(V);var E=[];if(b.config.yaxis[c].show)for(var Y=0;Y<this.xaxisLabels.length;Y++)E.push(this.xaxisLabels[Y]);g=b.globals.gridHeight/E.length,h=-g/2.2;var H=b.globals.yLabelFormatters[0],z=b.config.yaxis[0].labels;if(z.show)for(var Q=function(ee){var ce=E[ee]===void 0?"":E[ee];ce=H(ce,{seriesIndex:c,dataPointIndex:ee,w:b});var ge=I.axesUtils.getYAxisForeColor(z.style.colors,c),me=0;Array.isArray(ce)&&(me=ce.length/2*parseInt(z.style.fontSize,10));var Ae=z.offsetX-15,ye="end";I.yaxis.opposite&&(ye="start"),b.config.yaxis[0].labels.align==="left"?(Ae=z.offsetX,ye="start"):b.config.yaxis[0].labels.align==="center"?(Ae=z.offsetX,ye="middle"):b.config.yaxis[0].labels.align==="right"&&(ye="end");var Ne=y.drawText({x:Ae,y:h+g+z.offsetY-me,text:ce,textAnchor:ye,foreColor:Array.isArray(ge)?ge[ee]:ge,fontSize:z.style.fontSize,fontFamily:z.style.fontFamily,fontWeight:z.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+z.style.cssClass,maxWidth:z.maxWidth});V.add(Ne),Ne.on("click",function(Le){if(typeof b.config.chart.events.xAxisLabelClick=="function"){var st=Object.assign({},b,{labelIndex:ee});b.config.chart.events.xAxisLabelClick(Le,I.ctx,st)}});var Te=document.createElementNS(b.globals.SVGNS,"title");if(Te.textContent=Array.isArray(ce)?ce.join(" "):ce,Ne.node.appendChild(Te),b.config.yaxis[c].labels.rotate!==0){var Ve=y.rotateAroundCenter(Ne.node);Ne.node.setAttribute("transform","rotate(".concat(b.config.yaxis[c].labels.rotate," 0 ").concat(Ve.y,")"))}h+=g},$=0;$<=E.length-1;$++)Q($);if(b.config.yaxis[0].title.text!==void 0){var oe=y.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+x+", 0)"}),re=y.drawText({x:b.config.yaxis[0].title.offsetX,y:b.globals.gridHeight/2+b.config.yaxis[0].title.offsetY,text:b.config.yaxis[0].title.text,textAnchor:"middle",foreColor:b.config.yaxis[0].title.style.color,fontSize:b.config.yaxis[0].title.style.fontSize,fontWeight:b.config.yaxis[0].title.style.fontWeight,fontFamily:b.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+b.config.yaxis[0].title.style.cssClass});oe.add(re),B.add(oe)}var se=0;this.isCategoryBarHorizontal&&b.config.yaxis[0].opposite&&(se=b.globals.gridWidth);var W=b.config.xaxis.axisBorder;if(W.show){var T=y.drawLine(b.globals.padHorizontal+W.offsetX+se,1+W.offsetY,b.globals.padHorizontal+W.offsetX+se,b.globals.gridHeight+W.offsetY,W.color,0);this.elgrid&&this.elgrid.elGridBorders&&b.config.grid.show?this.elgrid.elGridBorders.add(T):B.add(T)}return b.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(se,E.length,b.config.yaxis[0].axisBorder,b.config.yaxis[0].axisTicks,0,g,B),B}},{key:"drawXaxisTicks",value:function(c,g,h){var I=this.w,b=c;if(!(c<0||c-2>I.globals.gridWidth)){var y=this.offY+I.config.xaxis.axisTicks.offsetY;if(g=g+y+I.config.xaxis.axisTicks.height,I.config.xaxis.position==="top"&&(g=y-I.config.xaxis.axisTicks.height),I.config.xaxis.axisTicks.show){var x=new ne(this.ctx).drawLine(c+I.config.xaxis.axisTicks.offsetX,y+I.config.xaxis.offsetY,b+I.config.xaxis.axisTicks.offsetX,g+I.config.xaxis.offsetY,I.config.xaxis.axisTicks.color);h.add(x),x.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var c=this.w,g=[],h=this.xaxisLabels.length,I=c.globals.padHorizontal;if(c.globals.timescaleLabels.length>0)for(var b=0;b<h;b++)I=this.xaxisLabels[b].position,g.push(I);else for(var y=h,x=0;x<y;x++){var B=y;c.globals.isXNumeric&&c.config.chart.type!=="bar"&&(B-=1),I+=c.globals.gridWidth/B,g.push(I)}return g}},{key:"xAxisLabelCorrections",value:function(){var c=this.w,g=new ne(this.ctx),h=c.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),I=c.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),b=c.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),y=c.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(c.globals.rotateXLabels||c.config.xaxis.labels.rotateAlways)for(var x=0;x<I.length;x++){var B=g.rotateAroundCenter(I[x]);B.y=B.y-1,B.x=B.x+1,I[x].setAttribute("transform","rotate(".concat(c.config.xaxis.labels.rotate," ").concat(B.x," ").concat(B.y,")")),I[x].setAttribute("text-anchor","end"),h.setAttribute("transform","translate(0, ".concat(-10,")"));var V=I[x].childNodes;c.config.xaxis.labels.trim&&Array.prototype.forEach.call(V,function(z){g.placeTextWithEllipsis(z,z.textContent,c.globals.xAxisLabelsHeight-(c.config.legend.position==="bottom"?20:10))})}else(function(){for(var z=c.globals.gridWidth/(c.globals.labels.length+1),Q=0;Q<I.length;Q++){var $=I[Q].childNodes;c.config.xaxis.labels.trim&&c.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call($,function(oe){g.placeTextWithEllipsis(oe,oe.textContent,z)})}})();if(b.length>0){var E=b[b.length-1].getBBox(),Y=b[0].getBBox();E.x<-20&&b[b.length-1].parentNode.removeChild(b[b.length-1]),Y.x+Y.width>c.globals.gridWidth&&!c.globals.isBarHorizontal&&b[0].parentNode.removeChild(b[0]);for(var H=0;H<y.length;H++)g.placeTextWithEllipsis(y[H],y[H].textContent,c.config.yaxis[0].labels.maxWidth-(c.config.yaxis[0].title.text?2*parseFloat(c.config.yaxis[0].title.style.fontSize):0)-15)}}}]),le}(),ft=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w;var g=this.w;this.xaxisLabels=g.globals.labels.slice(),this.axesUtils=new be(c),this.isRangeBar=g.globals.seriesRange.length&&g.globals.isBarHorizontal,g.globals.timescaleLabels.length>0&&(this.xaxisLabels=g.globals.timescaleLabels.slice())}return v(le,[{key:"drawGridArea",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=this.w,h=new ne(this.ctx);c===null&&(c=h.group({class:"apexcharts-grid"}));var I=h.drawLine(g.globals.padHorizontal,1,g.globals.padHorizontal,g.globals.gridHeight,"transparent"),b=h.drawLine(g.globals.padHorizontal,g.globals.gridHeight,g.globals.gridWidth,g.globals.gridHeight,"transparent");return c.add(b),c.add(I),c}},{key:"drawGrid",value:function(){var c=null;return this.w.globals.axisCharts&&(c=this.renderGrid(),this.drawGridArea(c.el)),c}},{key:"createGridMask",value:function(){var c=this.w,g=c.globals,h=new ne(this.ctx),I=Array.isArray(c.config.stroke.width)?0:c.config.stroke.width;if(Array.isArray(c.config.stroke.width)){var b=0;c.config.stroke.width.forEach(function(Y){b=Math.max(b,Y)}),I=b}g.dom.elGridRectMask=document.createElementNS(g.SVGNS,"clipPath"),g.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(g.cuid)),g.dom.elGridRectMarkerMask=document.createElementNS(g.SVGNS,"clipPath"),g.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(g.cuid)),g.dom.elForecastMask=document.createElementNS(g.SVGNS,"clipPath"),g.dom.elForecastMask.setAttribute("id","forecastMask".concat(g.cuid)),g.dom.elNonForecastMask=document.createElementNS(g.SVGNS,"clipPath"),g.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(g.cuid));var y=c.config.chart.type,x=0,B=0;(y==="bar"||y==="rangeBar"||y==="candlestick"||y==="boxPlot"||c.globals.comboBarCount>0)&&c.globals.isXNumeric&&!c.globals.isBarHorizontal&&(x=c.config.grid.padding.left,B=c.config.grid.padding.right,g.barPadForNumericAxis>x&&(x=g.barPadForNumericAxis,B=g.barPadForNumericAxis)),g.dom.elGridRect=h.drawRect(-I/2-x-2,-I/2-2,g.gridWidth+I+B+x+4,g.gridHeight+I+4,0,"#fff");var V=c.globals.markers.largestSize+1;g.dom.elGridRectMarker=h.drawRect(2*-V,2*-V,g.gridWidth+4*V,g.gridHeight+4*V,0,"#fff"),g.dom.elGridRectMask.appendChild(g.dom.elGridRect.node),g.dom.elGridRectMarkerMask.appendChild(g.dom.elGridRectMarker.node);var E=g.dom.baseEl.querySelector("defs");E.appendChild(g.dom.elGridRectMask),E.appendChild(g.dom.elForecastMask),E.appendChild(g.dom.elNonForecastMask),E.appendChild(g.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(c){var g=c.i,h=c.x1,I=c.y1,b=c.x2,y=c.y2,x=c.xCount,B=c.parent,V=this.w;if(!(g===0&&V.globals.skipFirstTimelinelabel||g===x-1&&V.globals.skipLastTimelinelabel&&!V.config.xaxis.labels.formatter||V.config.chart.type==="radar")){V.config.grid.xaxis.lines.show&&this._drawGridLine({i:g,x1:h,y1:I,x2:b,y2:y,xCount:x,parent:B});var E=0;if(V.globals.hasXaxisGroups&&V.config.xaxis.tickPlacement==="between"){var Y=V.globals.groups;if(Y){for(var H=0,z=0;H<g&&z<Y.length;z++)H+=Y[z].cols;H===g&&(E=.6*V.globals.xAxisLabelsHeight)}}new Ct(this.ctx).drawXaxisTicks(h,E,V.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(c){var g=c.i,h=c.x1,I=c.y1,b=c.x2,y=c.y2,x=c.xCount,B=c.parent,V=this.w,E=!1,Y=B.node.classList.contains("apexcharts-gridlines-horizontal"),H=V.config.grid.strokeDashArray,z=V.globals.barPadForNumericAxis;(I===0&&y===0||h===0&&b===0)&&(E=!0),I===V.globals.gridHeight&&y===V.globals.gridHeight&&(E=!0),!V.globals.isBarHorizontal||g!==0&&g!==x-1||(E=!0);var Q=new ne(this).drawLine(h-(Y?z:0),I,b+(Y?z:0),y,V.config.grid.borderColor,H);Q.node.classList.add("apexcharts-gridline"),E&&V.config.grid.show?this.elGridBorders.add(Q):B.add(Q)}},{key:"_drawGridBandRect",value:function(c){var g=c.c,h=c.x1,I=c.y1,b=c.x2,y=c.y2,x=c.type,B=this.w,V=new ne(this.ctx),E=B.globals.barPadForNumericAxis;if(x!=="column"||B.config.xaxis.type!=="datetime"){var Y=B.config.grid[x].colors[g],H=V.drawRect(h-(x==="row"?E:0),I,b+(x==="row"?2*E:0),y,0,Y,B.config.grid[x].opacity);this.elg.add(H),H.attr("clip-path","url(#gridRectMask".concat(B.globals.cuid,")")),H.node.classList.add("apexcharts-grid-".concat(x))}}},{key:"_drawXYLines",value:function(c){var g=this,h=c.xCount,I=c.tickAmount,b=this.w;if(b.config.grid.xaxis.lines.show||b.config.xaxis.axisTicks.show){var y,x=b.globals.padHorizontal,B=b.globals.gridHeight;b.globals.timescaleLabels.length?function(Q){for(var $=Q.xC,oe=Q.x1,re=Q.y1,se=Q.x2,W=Q.y2,T=0;T<$;T++)oe=g.xaxisLabels[T].position,se=g.xaxisLabels[T].position,g._drawGridLines({i:T,x1:oe,y1:re,x2:se,y2:W,xCount:h,parent:g.elgridLinesV})}({xC:h,x1:x,y1:0,x2:y,y2:B}):(b.globals.isXNumeric&&(h=b.globals.xAxisScale.result.length),function(Q){for(var $=Q.xC,oe=Q.x1,re=Q.y1,se=Q.x2,W=Q.y2,T=0;T<$+(b.globals.isXNumeric?0:1);T++)T===0&&$===1&&b.globals.dataPoints===1&&(se=oe=b.globals.gridWidth/2),g._drawGridLines({i:T,x1:oe,y1:re,x2:se,y2:W,xCount:h,parent:g.elgridLinesV}),se=oe+=b.globals.gridWidth/(b.globals.isXNumeric?$-1:$)}({xC:h,x1:x,y1:0,x2:y,y2:B}))}if(b.config.grid.yaxis.lines.show){var V=0,E=0,Y=b.globals.gridWidth,H=I+1;this.isRangeBar&&(H=b.globals.labels.length);for(var z=0;z<H+(this.isRangeBar?1:0);z++)this._drawGridLine({i:z,xCount:H+(this.isRangeBar?1:0),x1:0,y1:V,x2:Y,y2:E,parent:this.elgridLinesH}),E=V+=b.globals.gridHeight/(this.isRangeBar?H:I)}}},{key:"_drawInvertedXYLines",value:function(c){var g=c.xCount,h=this.w;if(h.config.grid.xaxis.lines.show||h.config.xaxis.axisTicks.show)for(var I,b=h.globals.padHorizontal,y=h.globals.gridHeight,x=0;x<g+1;x++)h.config.grid.xaxis.lines.show&&this._drawGridLine({i:x,xCount:g+1,x1:b,y1:0,x2:I,y2:y,parent:this.elgridLinesV}),new Ct(this.ctx).drawXaxisTicks(b,0,h.globals.dom.elGraphical),I=b+=h.globals.gridWidth/g;if(h.config.grid.yaxis.lines.show)for(var B=0,V=0,E=h.globals.gridWidth,Y=0;Y<h.globals.dataPoints+1;Y++)this._drawGridLine({i:Y,xCount:h.globals.dataPoints+1,x1:0,y1:B,x2:E,y2:V,parent:this.elgridLinesH}),V=B+=h.globals.gridHeight/h.globals.dataPoints}},{key:"renderGrid",value:function(){var c=this.w,g=c.globals,h=new ne(this.ctx);this.elg=h.group({class:"apexcharts-grid"}),this.elgridLinesH=h.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=h.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=h.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),c.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var I=0;I<g.seriesYAxisMap.length&&g.ignoreYAxisIndexes.indexOf(I)!==-1;)I++;I===g.seriesYAxisMap.length&&(I=0);var b,y=g.yAxisScale[I].result.length-1;if(!g.isBarHorizontal||this.isRangeBar){var x,B,V;b=this.xaxisLabels.length,this.isRangeBar&&(y=g.labels.length,c.config.xaxis.tickAmount&&c.config.xaxis.labels.formatter&&(b=c.config.xaxis.tickAmount),((x=g.yAxisScale)===null||x===void 0||(B=x[I])===null||B===void 0||(V=B.result)===null||V===void 0?void 0:V.length)>0&&c.config.xaxis.type!=="datetime"&&(b=g.yAxisScale[I].result.length-1)),this._drawXYLines({xCount:b,tickAmount:y})}else b=y,y=g.xTickAmount,this._drawInvertedXYLines({xCount:b,tickAmount:y});return this.drawGridBands(b,y),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:g.gridWidth/b}}},{key:"drawGridBands",value:function(c,g){var h=this.w;if(h.config.grid.row.colors!==void 0&&h.config.grid.row.colors.length>0)for(var I=0,b=h.globals.gridHeight/g,y=h.globals.gridWidth,x=0,B=0;x<g;x++,B++)B>=h.config.grid.row.colors.length&&(B=0),this._drawGridBandRect({c:B,x1:0,y1:I,x2:y,y2:b,type:"row"}),I+=h.globals.gridHeight/g;if(h.config.grid.column.colors!==void 0&&h.config.grid.column.colors.length>0)for(var V=h.globals.isBarHorizontal||h.config.xaxis.tickPlacement!=="on"||h.config.xaxis.type!=="category"&&!h.config.xaxis.convertedCatToNumeric?c:c-1,E=h.globals.padHorizontal,Y=h.globals.padHorizontal+h.globals.gridWidth/V,H=h.globals.gridHeight,z=0,Q=0;z<c;z++,Q++)Q>=h.config.grid.column.colors.length&&(Q=0),this._drawGridBandRect({c:Q,x1:E,y1:0,x2:Y,y2:H,type:"column"}),E+=h.globals.gridWidth/V}}]),le}(),wt=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"niceScale",value:function(c,g){var h,I,b,y,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,B=1e-11,V=this.w,E=V.globals;E.isBarHorizontal?(h=V.config.xaxis,I=Math.max((E.svgWidth-100)/25,2)):(h=V.config.yaxis[x],I=Math.max((E.svgHeight-100)/15,2)),b=h.min!==void 0&&h.min!==null,y=h.max!==void 0&&h.min!==null;var Y=h.stepSize!==void 0&&h.stepSize!==null,H=h.tickAmount!==void 0&&h.tickAmount!==null,z=H?h.tickAmount:h.forceNiceScale?E.niceScaleDefaultTicks[Math.min(Math.round(I/2),E.niceScaleDefaultTicks.length-1)]:10;if(E.isMultipleYAxis&&!H&&E.multiAxisTickAmount>0&&(z=E.multiAxisTickAmount,H=!0),z=z==="dataPoints"?E.dataPoints-1:Math.abs(Math.round(z)),(c===Number.MIN_VALUE&&g===0||!F.isNumber(c)&&!F.isNumber(g)||c===Number.MIN_VALUE&&g===-Number.MAX_VALUE)&&(c=F.isNumber(h.min)?h.min:0,g=F.isNumber(h.max)?h.max:c+z,E.allSeriesCollapsed=!1),c>g){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var Q=g;g=c,c=Q}else c===g&&(c=c===0?0:c-1,g=g===0?2:g+1);var $=[];z<1&&(z=1);var oe=z,re=Math.abs(g-c);h.forceNiceScale&&(!b&&c>0&&c/re<.15&&(c=0,b=!0),!y&&g<0&&-g/re<.15&&(g=0,y=!0),re=Math.abs(g-c));var se=re/oe,W=se,T=Math.floor(Math.log10(W)),ee=Math.pow(10,T),ce=Math.ceil(W/ee);if(se=W=(ce=E.niceScaleAllowedMagMsd[E.yValueDecimal===0?0:1][ce])*ee,E.isBarHorizontal&&h.stepSize&&h.type!=="datetime"?(se=h.stepSize,Y=!0):Y&&(se=h.stepSize),Y&&h.forceNiceScale){var ge=Math.floor(Math.log10(se));se*=Math.pow(10,T-ge)}if(b&&y){var me=re/oe;if(H)if(Y)if(F.mod(re,se)!=0){var Ae=F.getGCD(se,me);se=me/Ae<10?Ae:me}else F.mod(se,me)==0?se=me:(me=se,H=!1);else se=me;else if(Y)F.mod(re,se)==0?me=se:se=me;else if(F.mod(re,se)==0)me=se;else{me=re/(oe=Math.ceil(re/se));var ye=F.getGCD(re,se);re/ye<I&&(me=ye),se=me}oe=Math.round(re/se)}else{if(b||y){if(y)if(H)c=g-se*oe;else{var Ne=c;c=se*Math.floor(c/se),Math.abs(g-c)/F.getGCD(re,se)>I&&(c=g-se*z,c+=se*Math.floor((Ne-c)/se))}else if(b)if(H)g=c+se*oe;else{var Te=g;g=se*Math.ceil(g/se),Math.abs(g-c)/F.getGCD(re,se)>I&&(g=c+se*z,g+=se*Math.ceil((Te-g)/se))}}else if(H){var Ve=se/(g-c>g?1:2),Le=Ve*Math.floor(c/Ve);Math.abs(Le-c)<=Ve/2?g=(c=Le)+se*oe:c=(g=Ve*Math.ceil(g/Ve))-se*oe}else c=se*Math.floor(c/se),g=se*Math.ceil(g/se);re=Math.abs(g-c),se=F.getGCD(re,se),oe=Math.round(re/se)}if(H||b||y||(oe=Math.ceil((re-B)/(se+B)))>16&&F.getPrimeFactors(oe).length<2&&oe++,!H&&h.forceNiceScale&&E.yValueDecimal===0&&oe>re&&(oe=re,se=Math.round(re/oe)),oe>I&&(!H&&!Y||h.forceNiceScale)){var st=F.getPrimeFactors(oe),pt=st.length-1,kt=oe;e:for(var Bt=0;Bt<pt;Bt++)for(var Et=0;Et<=pt-Bt;Et++){for(var Xt=Math.min(Et+Bt,pt),Pt=kt,Mn=1,ni=Et;ni<=Xt;ni++)Mn*=st[ni];if((Pt/=Mn)<I){kt=Pt;break e}}se=kt===oe?re:re/kt,oe=Math.round(re/se)}E.isMultipleYAxis&&E.multiAxisTickAmount==0&&E.ignoreYAxisIndexes.indexOf(x)<0&&(E.multiAxisTickAmount=oe);var vn=c-se,lo=se*B;do vn+=se,$.push(F.stripNumber(vn,7));while(g-vn>lo);return{result:$,niceMin:$[0],niceMax:$[$.length-1]}}},{key:"linearScale",value:function(c,g){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,y=Math.abs(g-c);(h=this._adjustTicksForSmallRange(h,I,y))==="dataPoints"&&(h=this.w.globals.dataPoints-1),b||(b=y/h),h===Number.MAX_VALUE&&(h=5,b=1);for(var x=[],B=c;h>=0;)x.push(B),B+=b,h-=1;return{result:x,niceMin:x[0],niceMax:x[x.length-1]}}},{key:"logarithmicScaleNice",value:function(c,g,h){g<=0&&(g=Math.max(c,h)),c<=0&&(c=Math.min(g,h));for(var I=[],b=Math.ceil(Math.log(g)/Math.log(h)+1),y=Math.floor(Math.log(c)/Math.log(h));y<b;y++)I.push(Math.pow(h,y));return{result:I,niceMin:I[0],niceMax:I[I.length-1]}}},{key:"logarithmicScale",value:function(c,g,h){g<=0&&(g=Math.max(c,h)),c<=0&&(c=Math.min(g,h));for(var I=[],b=Math.log(g)/Math.log(h),y=Math.log(c)/Math.log(h),x=b-y,B=Math.round(x),V=x/B,E=0,Y=y;E<B;E++,Y+=V)I.push(Math.pow(h,Y));return I.push(Math.pow(h,b)),{result:I,niceMin:c,niceMax:g}}},{key:"_adjustTicksForSmallRange",value:function(c,g,h){var I=c;if(g!==void 0&&this.w.config.yaxis[g].labels.formatter&&this.w.config.yaxis[g].tickAmount===void 0){var b=Number(this.w.config.yaxis[g].labels.formatter(1));F.isNumber(b)&&this.w.globals.yValueDecimal===0&&(I=Math.ceil(h))}return I<c?I:c}},{key:"setYScaleForIndex",value:function(c,g,h){var I=this.w.globals,b=this.w.config,y=I.isBarHorizontal?b.xaxis:b.yaxis[c];I.yAxisScale[c]===void 0&&(I.yAxisScale[c]=[]);var x=Math.abs(h-g);y.logarithmic&&x<=5&&(I.invalidLogScale=!0),y.logarithmic&&x>5?(I.allSeriesCollapsed=!1,I.yAxisScale[c]=y.forceNiceScale?this.logarithmicScaleNice(g,h,y.logBase):this.logarithmicScale(g,h,y.logBase)):h!==-Number.MAX_VALUE&&F.isNumber(h)&&g!==Number.MAX_VALUE&&F.isNumber(g)?(I.allSeriesCollapsed=!1,I.yAxisScale[c]=this.niceScale(g,h,c)):I.yAxisScale[c]=this.niceScale(Number.MIN_VALUE,0,c)}},{key:"setXScale",value:function(c,g){var h=this.w,I=h.globals,b=Math.abs(g-c);return g!==-Number.MAX_VALUE&&F.isNumber(g)?I.xAxisScale=this.linearScale(c,g,h.config.xaxis.tickAmount?h.config.xaxis.tickAmount:b<10&&b>1?b+1:10,0,h.config.xaxis.stepSize):I.xAxisScale=this.linearScale(0,10,10),I.xAxisScale}},{key:"setSeriesYAxisMappings",value:function(){var c=this.w.globals,g=this.w.config;c.minYArr,c.maxYArr;var h=[],I=[],b=[],y=c.series.length>g.yaxis.length||g.yaxis.some(function(Y){return Array.isArray(Y.seriesName)});g.series.forEach(function(Y,H){b.push(H),I.push(null)}),g.yaxis.forEach(function(Y,H){h[H]=[]});var x=[];g.yaxis.forEach(function(Y,H){var z=!1;if(Y.seriesName){var Q=[];Array.isArray(Y.seriesName)?Q=Y.seriesName:Q.push(Y.seriesName),Q.forEach(function($){g.series.forEach(function(oe,re){if(oe.name===$){var se=re;H===re||y?!y||b.indexOf(re)>-1?h[H].push([H,re]):console.warn("Series '"+oe.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(h[re].push([re,H]),se=H),z=!0,(se=b.indexOf(se))!==-1&&b.splice(se,1)}})})}z||x.push(H)}),h=h.map(function(Y,H){var z=[];return Y.forEach(function(Q){I[Q[1]]=Q[0],z.push(Q[1])}),z});for(var B=g.yaxis.length-1,V=0;V<x.length&&(B=x[V],h[B]=[],b);V++){var E=b[0];b.shift(),h[B].push(E),I[E]=B}b.forEach(function(Y){h[B].push(Y),I[Y]=B}),c.seriesYAxisMap=h.map(function(Y){return Y}),c.seriesYAxisReverseMap=I.map(function(Y){return Y})}},{key:"scaleMultipleYAxes",value:function(){var c=this,g=this.w.config,h=this.w.globals;this.setSeriesYAxisMappings();var I=h.seriesYAxisMap,b=h.minYArr,y=h.maxYArr;h.allSeriesCollapsed=!0,h.barGroups=[],I.forEach(function(x,B){var V=[];x.forEach(function(E){var Y=g.series[E].group;V.indexOf(Y)<0&&V.push(Y)}),x.length>0?function(){var E,Y,H=Number.MAX_VALUE,z=-Number.MAX_VALUE,Q=H,$=z;if(g.chart.stacked)(function(){var se=h.seriesX[x[0]],W=[],T=[],ee=[];V.forEach(function(){W.push(se.map(function(){return Number.MIN_VALUE})),T.push(se.map(function(){return Number.MIN_VALUE})),ee.push(se.map(function(){return Number.MIN_VALUE}))});for(var ce=function(me){!E&&g.series[x[me]].type&&(E=g.series[x[me]].type);var Ae=x[me];Y=g.series[Ae].group?g.series[Ae].group:"axis-".concat(B),!(h.collapsedSeriesIndices.indexOf(Ae)<0&&h.ancillaryCollapsedSeriesIndices.indexOf(Ae)<0)||(h.allSeriesCollapsed=!1,V.forEach(function(ye,Ne){if(g.series[Ae].group===ye)for(var Te=0;Te<h.series[Ae].length;Te++){var Ve=h.series[Ae][Te];Ve>=0?T[Ne][Te]+=Ve:ee[Ne][Te]+=Ve,W[Ne][Te]+=Ve,Q=Math.min(Q,Ve),$=Math.max($,Ve)}})),E!=="bar"&&E!=="column"||h.barGroups.push(Y)},ge=0;ge<x.length;ge++)ce(ge);E||(E=g.chart.type),E==="bar"||E==="column"?V.forEach(function(me,Ae){H=Math.min(H,Math.min.apply(null,ee[Ae])),z=Math.max(z,Math.max.apply(null,T[Ae]))}):(V.forEach(function(me,Ae){Q=Math.min(Q,Math.min.apply(null,W[Ae])),$=Math.max($,Math.max.apply(null,W[Ae]))}),H=Q,z=$),H===Number.MIN_VALUE&&z===Number.MIN_VALUE&&(z=-Number.MAX_VALUE)})();else for(var oe=0;oe<x.length;oe++){var re=x[oe];H=Math.min(H,b[re]),z=Math.max(z,y[re]),!(h.collapsedSeriesIndices.indexOf(re)<0&&h.ancillaryCollapsedSeriesIndices.indexOf(re)<0)||(h.allSeriesCollapsed=!1)}g.yaxis[B].min!==void 0&&(H=typeof g.yaxis[B].min=="function"?g.yaxis[B].min(H):g.yaxis[B].min),g.yaxis[B].max!==void 0&&(z=typeof g.yaxis[B].max=="function"?g.yaxis[B].max(z):g.yaxis[B].max),h.barGroups=h.barGroups.filter(function(se,W,T){return T.indexOf(se)===W}),c.setYScaleForIndex(B,H,z),x.forEach(function(se){b[se]=h.yAxisScale[B].niceMin,y[se]=h.yAxisScale[B].niceMax})}():c.setYScaleForIndex(B,0,-Number.MAX_VALUE)})}}]),le}(),rt=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w,this.scales=new wt(c)}return v(le,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,b=this.w.config,y=this.w.globals,x=-Number.MAX_VALUE,B=Number.MIN_VALUE;I===null&&(I=c+1);var V=0,E=0,Y=void 0;if(y.seriesX.length>=I){var H,z;V=0,E=(Y=L(new Set((H=[]).concat.apply(H,L(y.seriesX.slice(c,I)))))).length-1;var Q=(z=y.brushSource)===null||z===void 0?void 0:z.w.config.chart.brush;if(b.chart.zoom.enabled&&b.chart.zoom.autoScaleYaxis||Q!=null&&Q.enabled&&Q!=null&&Q.autoScaleYaxis){if(b.xaxis.min)for(V=0;V<E&&Y[V]<b.xaxis.min;V++);if(b.xaxis.max)for(;E>V&&Y[E]>b.xaxis.max;E--);}}var $=y.series,oe=$,re=$;b.chart.type==="candlestick"?(oe=y.seriesCandleL,re=y.seriesCandleH):b.chart.type==="boxPlot"?(oe=y.seriesCandleO,re=y.seriesCandleC):y.isRangeData&&(oe=y.seriesRangeStart,re=y.seriesRangeEnd);for(var se=c;se<I;se++){y.dataPoints=Math.max(y.dataPoints,$[se].length);var W=b.series[se].type;y.categoryLabels.length&&(y.dataPoints=y.categoryLabels.filter(function(ce){return ce!==void 0}).length),y.labels.length&&b.xaxis.type!=="datetime"&&y.series.reduce(function(ce,ge){return ce+ge.length},0)!==0&&(y.dataPoints=Math.max(y.dataPoints,y.labels.length)),Y||(V=0,E=y.series[se].length);for(var T=V;T<=E&&T<y.series[se].length;T++){var ee=$[se][T];if(ee!==null&&F.isNumber(ee)){switch(re[se][T]!==void 0&&(x=Math.max(x,re[se][T]),g=Math.min(g,re[se][T])),oe[se][T]!==void 0&&(g=Math.min(g,oe[se][T]),h=Math.max(h,oe[se][T])),W){case"candlestick":y.seriesCandleC[se][T]!==void 0&&(x=Math.max(x,y.seriesCandleH[se][T]),g=Math.min(g,y.seriesCandleL[se][T]));break;case"boxPlot":y.seriesCandleC[se][T]!==void 0&&(x=Math.max(x,y.seriesCandleC[se][T]),g=Math.min(g,y.seriesCandleO[se][T]))}W&&W!=="candlestick"&&W!=="boxPlot"&&W!=="rangeArea"&&W!=="rangeBar"&&(x=Math.max(x,y.series[se][T]),g=Math.min(g,y.series[se][T])),h=x,y.seriesGoals[se]&&y.seriesGoals[se][T]&&Array.isArray(y.seriesGoals[se][T])&&y.seriesGoals[se][T].forEach(function(ce){B!==Number.MIN_VALUE&&(B=Math.min(B,ce.value),g=B),x=Math.max(x,ce.value),h=x}),F.isFloat(ee)&&(ee=F.noExponents(ee),y.yValueDecimal=Math.max(y.yValueDecimal,ee.toString().split(".")[1].length)),B>oe[se][T]&&oe[se][T]<0&&(B=oe[se][T])}else y.hasNullValues=!0}W!=="bar"&&W!=="column"||(B<0&&x<0&&(x=0,h=Math.max(h,0)),B===Number.MIN_VALUE&&(B=0,g=Math.min(g,0)))}return b.chart.type==="rangeBar"&&y.seriesRangeStart.length&&y.isBarHorizontal&&(B=g),b.chart.type==="bar"&&(B<0&&x<0&&(x=0),B===Number.MIN_VALUE&&(B=0)),{minY:B,maxY:x,lowestY:g,highestY:h}}},{key:"setYRange",value:function(){var c=this.w.globals,g=this.w.config;c.maxY=-Number.MAX_VALUE,c.minY=Number.MIN_VALUE;var h,I=Number.MAX_VALUE;if(c.isMultipleYAxis){I=Number.MAX_VALUE;for(var b=0;b<c.series.length;b++)h=this.getMinYMaxY(b),c.minYArr[b]=h.lowestY,c.maxYArr[b]=h.highestY,I=Math.min(I,h.lowestY)}return h=this.getMinYMaxY(0,I,null,c.series.length),g.chart.type==="bar"?(c.minY=h.minY,c.maxY=h.maxY):(c.minY=h.lowestY,c.maxY=h.highestY),I=h.lowestY,g.chart.stacked&&this._setStackedMinMax(),g.chart.type==="line"||g.chart.type==="area"||g.chart.type==="scatter"||g.chart.type==="candlestick"||g.chart.type==="boxPlot"||g.chart.type==="rangeBar"&&!c.isBarHorizontal?c.minY===Number.MIN_VALUE&&I!==-Number.MAX_VALUE&&I!==c.maxY&&(c.minY=I):c.minY=h.minY,g.yaxis.forEach(function(y,x){y.max!==void 0&&(typeof y.max=="number"?c.maxYArr[x]=y.max:typeof y.max=="function"&&(c.maxYArr[x]=y.max(c.isMultipleYAxis?c.maxYArr[x]:c.maxY)),c.maxY=c.maxYArr[x]),y.min!==void 0&&(typeof y.min=="number"?c.minYArr[x]=y.min:typeof y.min=="function"&&(c.minYArr[x]=y.min(c.isMultipleYAxis?c.minYArr[x]===Number.MIN_VALUE?0:c.minYArr[x]:c.minY)),c.minY=c.minYArr[x])}),c.isBarHorizontal&&["min","max"].forEach(function(y){g.xaxis[y]!==void 0&&typeof g.xaxis[y]=="number"&&(y==="min"?c.minY=g.xaxis[y]:c.maxY=g.xaxis[y])}),c.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),c.minY=I):(this.scales.setYScaleForIndex(0,c.minY,c.maxY),c.minY=c.yAxisScale[0].niceMin,c.maxY=c.yAxisScale[0].niceMax,c.minYArr[0]=c.minY,c.maxYArr[0]=c.maxY),c.barGroups=[],c.lineGroups=[],c.areaGroups=[],g.series.forEach(function(y){switch(y.type||g.chart.type){case"bar":case"column":c.barGroups.push(y.group);break;case"line":c.lineGroups.push(y.group);break;case"area":c.areaGroups.push(y.group)}}),c.barGroups=c.barGroups.filter(function(y,x,B){return B.indexOf(y)===x}),c.lineGroups=c.lineGroups.filter(function(y,x,B){return B.indexOf(y)===x}),c.areaGroups=c.areaGroups.filter(function(y,x,B){return B.indexOf(y)===x}),{minY:c.minY,maxY:c.maxY,minYArr:c.minYArr,maxYArr:c.maxYArr,yAxisScale:c.yAxisScale}}},{key:"setXRange",value:function(){var c=this.w.globals,g=this.w.config,h=g.xaxis.type==="numeric"||g.xaxis.type==="datetime"||g.xaxis.type==="category"&&!c.noLabelsProvided||c.noLabelsProvided||c.isXNumeric;if(c.isXNumeric&&function(){for(var x=0;x<c.series.length;x++)if(c.labels[x])for(var B=0;B<c.labels[x].length;B++)c.labels[x][B]!==null&&F.isNumber(c.labels[x][B])&&(c.maxX=Math.max(c.maxX,c.labels[x][B]),c.initialMaxX=Math.max(c.maxX,c.labels[x][B]),c.minX=Math.min(c.minX,c.labels[x][B]),c.initialMinX=Math.min(c.minX,c.labels[x][B]))}(),c.noLabelsProvided&&g.xaxis.categories.length===0&&(c.maxX=c.labels[c.labels.length-1],c.initialMaxX=c.labels[c.labels.length-1],c.minX=1,c.initialMinX=1),c.isXNumeric||c.noLabelsProvided||c.dataFormatXNumeric){var I;if(g.xaxis.tickAmount===void 0?(I=Math.round(c.svgWidth/150),g.xaxis.type==="numeric"&&c.dataPoints<30&&(I=c.dataPoints-1),I>c.dataPoints&&c.dataPoints!==0&&(I=c.dataPoints-1)):g.xaxis.tickAmount==="dataPoints"?(c.series.length>1&&(I=c.series[c.maxValsInArrayIndex].length-1),c.isXNumeric&&(I=c.maxX-c.minX-1)):I=g.xaxis.tickAmount,c.xTickAmount=I,g.xaxis.max!==void 0&&typeof g.xaxis.max=="number"&&(c.maxX=g.xaxis.max),g.xaxis.min!==void 0&&typeof g.xaxis.min=="number"&&(c.minX=g.xaxis.min),g.xaxis.range!==void 0&&(c.minX=c.maxX-g.xaxis.range),c.minX!==Number.MAX_VALUE&&c.maxX!==-Number.MAX_VALUE)if(g.xaxis.convertedCatToNumeric&&!c.dataFormatXNumeric){for(var b=[],y=c.minX-1;y<c.maxX;y++)b.push(y+1);c.xAxisScale={result:b,niceMin:b[0],niceMax:b[b.length-1]}}else c.xAxisScale=this.scales.setXScale(c.minX,c.maxX);else c.xAxisScale=this.scales.linearScale(0,I,I,0,g.xaxis.stepSize),c.noLabelsProvided&&c.labels.length>0&&(c.xAxisScale=this.scales.linearScale(1,c.labels.length,I-1,0,g.xaxis.stepSize),c.seriesX=c.labels.slice());h&&(c.labels=c.xAxisScale.result.slice())}return c.isBarHorizontal&&c.labels.length&&(c.xTickAmount=c.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:c.minX,maxX:c.maxX}}},{key:"setZRange",value:function(){var c=this.w.globals;if(c.isDataXYZ){for(var g=0;g<c.series.length;g++)if(c.seriesZ[g]!==void 0)for(var h=0;h<c.seriesZ[g].length;h++)c.seriesZ[g][h]!==null&&F.isNumber(c.seriesZ[g][h])&&(c.maxZ=Math.max(c.maxZ,c.seriesZ[g][h]),c.minZ=Math.min(c.minZ,c.seriesZ[g][h]))}}},{key:"_handleSingleDataPoint",value:function(){var c=this.w.globals,g=this.w.config;if(c.minX===c.maxX){var h=new pe(this.ctx);if(g.xaxis.type==="datetime"){var I=h.getDate(c.minX);g.xaxis.labels.datetimeUTC?I.setUTCDate(I.getUTCDate()-2):I.setDate(I.getDate()-2),c.minX=new Date(I).getTime();var b=h.getDate(c.maxX);g.xaxis.labels.datetimeUTC?b.setUTCDate(b.getUTCDate()+2):b.setDate(b.getDate()+2),c.maxX=new Date(b).getTime()}else(g.xaxis.type==="numeric"||g.xaxis.type==="category"&&!c.noLabelsProvided)&&(c.minX=c.minX-2,c.initialMinX=c.minX,c.maxX=c.maxX+2,c.initialMaxX=c.maxX)}}},{key:"_getMinXDiff",value:function(){var c=this.w.globals;c.isXNumeric&&c.seriesX.forEach(function(g,h){g.length===1&&g.push(c.seriesX[c.maxValsInArrayIndex][c.seriesX[c.maxValsInArrayIndex].length-1]);var I=g.slice();I.sort(function(b,y){return b-y}),I.forEach(function(b,y){if(y>0){var x=b-I[y-1];x>0&&(c.minXDiff=Math.min(x,c.minXDiff))}}),c.dataPoints!==1&&c.minXDiff!==Number.MAX_VALUE||(c.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var c=this,g=this.w.globals;if(g.series.length){var h=g.seriesGroups;h.length||(h=[this.w.globals.seriesNames.map(function(y){return y})]);var I={},b={};h.forEach(function(y){I[y]=[],b[y]=[],c.w.config.series.map(function(x,B){return y.indexOf(g.seriesNames[B])>-1?B:null}).filter(function(x){return x!==null}).forEach(function(x){for(var B=0;B<g.series[g.maxValsInArrayIndex].length;B++){var V,E,Y,H;I[y][B]===void 0&&(I[y][B]=0,b[y][B]=0),(c.w.config.chart.stacked&&!g.comboCharts||c.w.config.chart.stacked&&g.comboCharts&&(!c.w.config.chart.stackOnlyBar||((V=c.w.config.series)===null||V===void 0||(E=V[x])===null||E===void 0?void 0:E.type)==="bar"||((Y=c.w.config.series)===null||Y===void 0||(H=Y[x])===null||H===void 0?void 0:H.type)==="column"))&&g.series[x][B]!==null&&F.isNumber(g.series[x][B])&&(g.series[x][B]>0?I[y][B]+=parseFloat(g.series[x][B])+1e-4:b[y][B]+=parseFloat(g.series[x][B]))}})}),Object.entries(I).forEach(function(y){var x=M(y,1)[0];I[x].forEach(function(B,V){g.maxY=Math.max(g.maxY,I[x][V]),g.minY=Math.min(g.minY,b[x][V])})})}}}]),le}(),xt=function(){function le(c,g){m(this,le),this.ctx=c,this.elgrid=g,this.w=c.w;var h=this.w;this.xaxisFontSize=h.config.xaxis.labels.style.fontSize,this.axisFontFamily=h.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=h.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=h.config.chart.type==="bar"&&h.config.plotOptions.bar.horizontal,this.xAxisoffX=0,h.config.xaxis.position==="bottom"&&(this.xAxisoffX=h.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new be(c)}return v(le,[{key:"drawYaxis",value:function(c){var g=this,h=this.w,I=new ne(this.ctx),b=h.config.yaxis[c].labels.style,y=b.fontSize,x=b.fontFamily,B=b.fontWeight,V=I.group({class:"apexcharts-yaxis",rel:c,transform:"translate("+h.globals.translateYAxisX[c]+", 0)"});if(this.axesUtils.isYAxisHidden(c))return V;var E=I.group({class:"apexcharts-yaxis-texts-g"});V.add(E);var Y=h.globals.yAxisScale[c].result.length-1,H=h.globals.gridHeight/Y,z=h.globals.yLabelFormatters[c],Q=h.globals.yAxisScale[c].result.slice();Q=this.axesUtils.checkForReversedLabels(c,Q);var $="";if(h.config.yaxis[c].labels.show){var oe=h.globals.translateY+h.config.yaxis[c].labels.offsetY;h.globals.isBarHorizontal?oe=0:h.config.chart.type==="heatmap"&&(oe-=H/2),oe+=parseInt(h.config.yaxis[c].labels.style.fontSize,10)/3;for(var re=function(Ae){var ye=Q[Ae];ye=z(ye,Ae,h);var Ne=h.config.yaxis[c].labels.padding;h.config.yaxis[c].opposite&&h.config.yaxis.length!==0&&(Ne*=-1);var Te="end";h.config.yaxis[c].opposite&&(Te="start"),h.config.yaxis[c].labels.align==="left"?Te="start":h.config.yaxis[c].labels.align==="center"?Te="middle":h.config.yaxis[c].labels.align==="right"&&(Te="end");var Ve=g.axesUtils.getYAxisForeColor(b.colors,c),Le=I.drawText({x:Ne,y:oe,text:ye,textAnchor:Te,fontSize:y,fontFamily:x,fontWeight:B,maxWidth:h.config.yaxis[c].labels.maxWidth,foreColor:Array.isArray(Ve)?Ve[Ae]:Ve,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+b.cssClass});Ae===Y&&($=Le),E.add(Le);var st=document.createElementNS(h.globals.SVGNS,"title");if(st.textContent=Array.isArray(ye)?ye.join(" "):ye,Le.node.appendChild(st),h.config.yaxis[c].labels.rotate!==0){var pt=I.rotateAroundCenter($.node),kt=I.rotateAroundCenter(Le.node);Le.node.setAttribute("transform","rotate(".concat(h.config.yaxis[c].labels.rotate," ").concat(pt.x," ").concat(kt.y,")"))}oe+=H},se=Y;se>=0;se--)re(se)}if(h.config.yaxis[c].title.text!==void 0){var W=I.group({class:"apexcharts-yaxis-title"}),T=0;h.config.yaxis[c].opposite&&(T=h.globals.translateYAxisX[c]);var ee=I.drawText({x:T,y:h.globals.gridHeight/2+h.globals.translateY+h.config.yaxis[c].title.offsetY,text:h.config.yaxis[c].title.text,textAnchor:"end",foreColor:h.config.yaxis[c].title.style.color,fontSize:h.config.yaxis[c].title.style.fontSize,fontWeight:h.config.yaxis[c].title.style.fontWeight,fontFamily:h.config.yaxis[c].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+h.config.yaxis[c].title.style.cssClass});W.add(ee),V.add(W)}var ce=h.config.yaxis[c].axisBorder,ge=31+ce.offsetX;if(h.config.yaxis[c].opposite&&(ge=-31-ce.offsetX),ce.show){var me=I.drawLine(ge,h.globals.translateY+ce.offsetY-2,ge,h.globals.gridHeight+h.globals.translateY+ce.offsetY+2,ce.color,0,ce.width);V.add(me)}return h.config.yaxis[c].axisTicks.show&&this.axesUtils.drawYAxisTicks(ge,Y,ce,h.config.yaxis[c].axisTicks,c,H,V),V}},{key:"drawYaxisInversed",value:function(c){var g=this.w,h=new ne(this.ctx),I=h.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),b=h.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(g.globals.translateXAxisX,", ").concat(g.globals.translateXAxisY,")")});I.add(b);var y=g.globals.yAxisScale[c].result.length-1,x=g.globals.gridWidth/y+.1,B=x+g.config.xaxis.labels.offsetX,V=g.globals.xLabelFormatter,E=g.globals.yAxisScale[c].result.slice(),Y=g.globals.timescaleLabels;Y.length>0&&(this.xaxisLabels=Y.slice(),y=(E=Y.slice()).length),E=this.axesUtils.checkForReversedLabels(c,E);var H=Y.length;if(g.config.xaxis.labels.show)for(var z=H?0:y;H?z<H:z>=0;H?z++:z--){var Q=E[z];Q=V(Q,z,g);var $=g.globals.gridWidth+g.globals.padHorizontal-(B-x+g.config.xaxis.labels.offsetX);if(Y.length){var oe=this.axesUtils.getLabel(E,Y,$,z,this.drawnLabels,this.xaxisFontSize);$=oe.x,Q=oe.text,this.drawnLabels.push(oe.text),z===0&&g.globals.skipFirstTimelinelabel&&(Q=""),z===E.length-1&&g.globals.skipLastTimelinelabel&&(Q="")}var re=h.drawText({x:$,y:this.xAxisoffX+g.config.xaxis.labels.offsetY+30-(g.config.xaxis.position==="top"?g.globals.xAxisHeight+g.config.xaxis.axisTicks.height-2:0),text:Q,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[c]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:g.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+g.config.xaxis.labels.style.cssClass});b.add(re),re.tspan(Q);var se=document.createElementNS(g.globals.SVGNS,"title");se.textContent=Q,re.node.appendChild(se),B+=x}return this.inversedYAxisTitleText(I),this.inversedYAxisBorder(I),I}},{key:"inversedYAxisBorder",value:function(c){var g=this.w,h=new ne(this.ctx),I=g.config.xaxis.axisBorder;if(I.show){var b=0;g.config.chart.type==="bar"&&g.globals.isXNumeric&&(b-=15);var y=h.drawLine(g.globals.padHorizontal+b+I.offsetX,this.xAxisoffX,g.globals.gridWidth,this.xAxisoffX,I.color,0,I.height);this.elgrid&&this.elgrid.elGridBorders&&g.config.grid.show?this.elgrid.elGridBorders.add(y):c.add(y)}}},{key:"inversedYAxisTitleText",value:function(c){var g=this.w,h=new ne(this.ctx);if(g.config.xaxis.title.text!==void 0){var I=h.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),b=h.drawText({x:g.globals.gridWidth/2+g.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(g.config.xaxis.title.style.fontSize)+g.config.xaxis.title.offsetY+20,text:g.config.xaxis.title.text,textAnchor:"middle",fontSize:g.config.xaxis.title.style.fontSize,fontFamily:g.config.xaxis.title.style.fontFamily,fontWeight:g.config.xaxis.title.style.fontWeight,foreColor:g.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+g.config.xaxis.title.style.cssClass});I.add(b),c.add(I)}}},{key:"yAxisTitleRotate",value:function(c,g){var h=this.w,I=new ne(this.ctx),b={width:0,height:0},y={width:0,height:0},x=h.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-texts-g"));x!==null&&(b=x.getBoundingClientRect());var B=h.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"'] .apexcharts-yaxis-title text"));if(B!==null&&(y=B.getBoundingClientRect()),B!==null){var V=this.xPaddingForYAxisTitle(c,b,y,g);B.setAttribute("x",V.xPos-(g?10:0))}if(B!==null){var E=I.rotateAroundCenter(B);B.setAttribute("transform","rotate(".concat(g?-1*h.config.yaxis[c].title.rotate:h.config.yaxis[c].title.rotate," ").concat(E.x," ").concat(E.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(c,g,h,I){var b=this.w,y=0,x=0,B=10;return b.config.yaxis[c].title.text===void 0||c<0?{xPos:x,padd:0}:(I?(x=g.width+b.config.yaxis[c].title.offsetX+h.width/2+B/2,(y+=1)===0&&(x-=B/2)):(x=-1*g.width+b.config.yaxis[c].title.offsetX+B/2+h.width/2,b.globals.isBarHorizontal&&(B=25,x=-1*g.width-b.config.yaxis[c].title.offsetX-B)),{xPos:x,padd:B})}},{key:"setYAxisXPosition",value:function(c,g){var h=this.w,I=0,b=0,y=18,x=1;h.config.yaxis.length>1&&(this.multipleYs=!0),h.config.yaxis.map(function(B,V){var E=h.globals.ignoreYAxisIndexes.indexOf(V)>-1||!B.show||B.floating||c[V].width===0,Y=c[V].width+g[V].width;B.opposite?h.globals.isBarHorizontal?(b=h.globals.gridWidth+h.globals.translateX-1,h.globals.translateYAxisX[V]=b-B.labels.offsetX):(b=h.globals.gridWidth+h.globals.translateX+x,E||(x=x+Y+20),h.globals.translateYAxisX[V]=b-B.labels.offsetX+20):(I=h.globals.translateX-y,E||(y=y+Y+20),h.globals.translateYAxisX[V]=I+B.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var c=this.w,g=c.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(g=F.listToArray(g)).forEach(function(h,I){var b=c.config.yaxis[I];if(b&&!b.floating&&b.labels.align!==void 0){var y=c.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(I,"'] .apexcharts-yaxis-texts-g")),x=c.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(I,"'] .apexcharts-yaxis-label"));x=F.listToArray(x);var B=y.getBoundingClientRect();b.labels.align==="left"?(x.forEach(function(V,E){V.setAttribute("text-anchor","start")}),b.opposite||y.setAttribute("transform","translate(-".concat(B.width,", 0)"))):b.labels.align==="center"?(x.forEach(function(V,E){V.setAttribute("text-anchor","middle")}),y.setAttribute("transform","translate(".concat(B.width/2*(b.opposite?1:-1),", 0)"))):b.labels.align==="right"&&(x.forEach(function(V,E){V.setAttribute("text-anchor","end")}),b.opposite&&y.setAttribute("transform","translate(".concat(B.width,", 0)")))}})}}]),le}(),Vt=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w,this.documentEvent=F.bind(this.documentEvent,this)}return v(le,[{key:"addEventListener",value:function(c,g){var h=this.w;h.globals.events.hasOwnProperty(c)?h.globals.events[c].push(g):h.globals.events[c]=[g]}},{key:"removeEventListener",value:function(c,g){var h=this.w;if(h.globals.events.hasOwnProperty(c)){var I=h.globals.events[c].indexOf(g);I!==-1&&h.globals.events[c].splice(I,1)}}},{key:"fireEvent",value:function(c,g){var h=this.w;if(h.globals.events.hasOwnProperty(c)){g&&g.length||(g=[]);for(var I=h.globals.events[c],b=I.length,y=0;y<b;y++)I[y].apply(null,g)}}},{key:"setupEventHandlers",value:function(){var c=this,g=this.w,h=this.ctx,I=g.globals.dom.baseEl.querySelector(g.globals.chartClass);this.ctx.eventList.forEach(function(b){I.addEventListener(b,function(y){var x=Object.assign({},g,{seriesIndex:g.globals.axisCharts?g.globals.capturedSeriesIndex:0,dataPointIndex:g.globals.capturedDataPointIndex});y.type==="mousemove"||y.type==="touchmove"?typeof g.config.chart.events.mouseMove=="function"&&g.config.chart.events.mouseMove(y,h,x):y.type==="mouseleave"||y.type==="touchleave"?typeof g.config.chart.events.mouseLeave=="function"&&g.config.chart.events.mouseLeave(y,h,x):(y.type==="mouseup"&&y.which===1||y.type==="touchend")&&(typeof g.config.chart.events.click=="function"&&g.config.chart.events.click(y,h,x),h.ctx.events.fireEvent("click",[y,h,x]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(b){g.globals.dom.baseEl.addEventListener(b,c.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(c){var g=this.w,h=c.target.className;if(c.type==="click"){var I=g.globals.dom.baseEl.querySelector(".apexcharts-menu");I&&I.classList.contains("apexcharts-menu-open")&&h!=="apexcharts-menu-icon"&&I.classList.remove("apexcharts-menu-open")}g.globals.clientX=c.type==="touchmove"?c.touches[0].clientX:c.clientX,g.globals.clientY=c.type==="touchmove"?c.touches[0].clientY:c.clientY}}]),le}(),Hn=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"setCurrentLocaleValues",value:function(c){var g=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(g=this.w.config.chart.locales.concat(window.Apex.chart.locales));var h=g.filter(function(b){return b.name===c})[0];if(!h)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var I=F.extend(Se,h);this.w.globals.locale=I.options}}]),le}(),at=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"drawAxis",value:function(c,g){var h,I,b=this,y=this.w.globals,x=this.w.config,B=new Ct(this.ctx,g),V=new xt(this.ctx,g);y.axisCharts&&c!=="radar"&&(y.isBarHorizontal?(I=V.drawYaxisInversed(0),h=B.drawXaxisInversed(0),y.dom.elGraphical.add(h),y.dom.elGraphical.add(I)):(h=B.drawXaxis(),y.dom.elGraphical.add(h),x.yaxis.map(function(E,Y){if(y.ignoreYAxisIndexes.indexOf(Y)===-1&&(I=V.drawYaxis(Y),y.dom.Paper.add(I),b.w.config.grid.position==="back")){var H=y.dom.Paper.children()[1];H.remove(),y.dom.Paper.add(H)}})))}}]),le}(),Wt=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"drawXCrosshairs",value:function(){var c=this.w,g=new ne(this.ctx),h=new ie(this.ctx),I=c.config.xaxis.crosshairs.fill.gradient,b=c.config.xaxis.crosshairs.dropShadow,y=c.config.xaxis.crosshairs.fill.type,x=I.colorFrom,B=I.colorTo,V=I.opacityFrom,E=I.opacityTo,Y=I.stops,H=b.enabled,z=b.left,Q=b.top,$=b.blur,oe=b.color,re=b.opacity,se=c.config.xaxis.crosshairs.fill.color;if(c.config.xaxis.crosshairs.show){y==="gradient"&&(se=g.drawGradient("vertical",x,B,V,E,null,Y,null));var W=g.drawRect();c.config.xaxis.crosshairs.width===1&&(W=g.drawLine());var T=c.globals.gridHeight;(!F.isNumber(T)||T<0)&&(T=0);var ee=c.config.xaxis.crosshairs.width;(!F.isNumber(ee)||ee<0)&&(ee=0),W.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:T,width:ee,height:T,fill:se,filter:"none","fill-opacity":c.config.xaxis.crosshairs.opacity,stroke:c.config.xaxis.crosshairs.stroke.color,"stroke-width":c.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":c.config.xaxis.crosshairs.stroke.dashArray}),H&&(W=h.dropShadow(W,{left:z,top:Q,blur:$,color:oe,opacity:re})),c.globals.dom.elGraphical.add(W)}}},{key:"drawYCrosshairs",value:function(){var c=this.w,g=new ne(this.ctx),h=c.config.yaxis[0].crosshairs,I=c.globals.barPadForNumericAxis;if(c.config.yaxis[0].crosshairs.show){var b=g.drawLine(-I,0,c.globals.gridWidth+I,0,h.stroke.color,h.stroke.dashArray,h.stroke.width);b.attr({class:"apexcharts-ycrosshairs"}),c.globals.dom.elGraphical.add(b)}var y=g.drawLine(-I,0,c.globals.gridWidth+I,0,h.stroke.color,0,0);y.attr({class:"apexcharts-ycrosshairs-hidden"}),c.globals.dom.elGraphical.add(y)}}]),le}(),vt=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"checkResponsiveConfig",value:function(c){var g=this,h=this.w,I=h.config;if(I.responsive.length!==0){var b=I.responsive.slice();b.sort(function(V,E){return V.breakpoint>E.breakpoint?1:E.breakpoint>V.breakpoint?-1:0}).reverse();var y=new _e({}),x=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=b[0].breakpoint,Y=window.innerWidth>0?window.innerWidth:screen.width;if(Y>E){var H=F.clone(h.globals.initialConfig);H.series=F.clone(h.config.series);var z=ue.extendArrayProps(y,H,h);V=F.extend(z,V),V=F.extend(h.config,V),g.overrideResponsiveOptions(V)}else for(var Q=0;Q<b.length;Q++)if(Y<b[Q].breakpoint){var $=ue.extendArrayProps(y,b[Q].options,h);V=F.extend($,V),V=F.extend(h.config,V),g.overrideResponsiveOptions(V)}};if(c){var B=ue.extendArrayProps(y,c,h);B=F.extend(h.config,B),x(B=F.extend(B,c))}else x({})}}},{key:"overrideResponsiveOptions",value:function(c){var g=new _e(c).init({responsiveOverride:!0});this.w.config=g}}]),le}(),It=function(){function le(c){m(this,le),this.ctx=c,this.colors=[],this.w=c.w;var g=this.w;this.isColorFn=!1,this.isHeatmapDistributed=g.config.chart.type==="treemap"&&g.config.plotOptions.treemap.distributed||g.config.chart.type==="heatmap"&&g.config.plotOptions.heatmap.distributed,this.isBarDistributed=g.config.plotOptions.bar.distributed&&(g.config.chart.type==="bar"||g.config.chart.type==="rangeBar")}return v(le,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var c,g=this,h=this.w,I=new F;if(h.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(h.config.theme.mode)),h.config.colors===void 0||((c=h.config.colors)===null||c===void 0?void 0:c.length)===0?h.globals.colors=this.predefined():(h.globals.colors=h.config.colors,Array.isArray(h.config.colors)&&h.config.colors.length>0&&typeof h.config.colors[0]=="function"&&(h.globals.colors=h.config.series.map(function(Q,$){var oe=h.config.colors[$];return oe||(oe=h.config.colors[0]),typeof oe=="function"?(g.isColorFn=!0,oe({value:h.globals.axisCharts?h.globals.series[$][0]?h.globals.series[$][0]:0:h.globals.series[$],seriesIndex:$,dataPointIndex:$,w:h})):oe}))),h.globals.seriesColors.map(function(Q,$){Q&&(h.globals.colors[$]=Q)}),h.config.theme.monochrome.enabled){var b=[],y=h.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(y=h.globals.series[0].length*h.globals.series.length);for(var x=h.config.theme.monochrome.color,B=1/(y/h.config.theme.monochrome.shadeIntensity),V=h.config.theme.monochrome.shadeTo,E=0,Y=0;Y<y;Y++){var H=void 0;V==="dark"?(H=I.shadeColor(-1*E,x),E+=B):(H=I.shadeColor(E,x),E+=B),b.push(H)}h.globals.colors=b.slice()}var z=h.globals.colors.slice();this.pushExtraColors(h.globals.colors),["fill","stroke"].forEach(function(Q){h.config[Q].colors===void 0?h.globals[Q].colors=g.isColorFn?h.config.colors:z:h.globals[Q].colors=h.config[Q].colors.slice(),g.pushExtraColors(h.globals[Q].colors)}),h.config.dataLabels.style.colors===void 0?h.globals.dataLabels.style.colors=z:h.globals.dataLabels.style.colors=h.config.dataLabels.style.colors.slice(),this.pushExtraColors(h.globals.dataLabels.style.colors,50),h.config.plotOptions.radar.polygons.fill.colors===void 0?h.globals.radarPolygons.fill.colors=[h.config.theme.mode==="dark"?"#424242":"none"]:h.globals.radarPolygons.fill.colors=h.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(h.globals.radarPolygons.fill.colors,20),h.config.markers.colors===void 0?h.globals.markers.colors=z:h.globals.markers.colors=h.config.markers.colors.slice(),this.pushExtraColors(h.globals.markers.colors)}},{key:"pushExtraColors",value:function(c,g){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,I=this.w,b=g||I.globals.series.length;if(h===null&&(h=this.isBarDistributed||this.isHeatmapDistributed||I.config.chart.type==="heatmap"&&I.config.plotOptions.heatmap.colorScale.inverse),h&&I.globals.series.length&&(b=I.globals.series[I.globals.maxValsInArrayIndex].length*I.globals.series.length),c.length<b)for(var y=b-c.length,x=0;x<y;x++)c.push(c[x])}},{key:"updateThemeOptions",value:function(c){c.chart=c.chart||{},c.tooltip=c.tooltip||{};var g=c.theme.mode||"light",h=c.theme.palette?c.theme.palette:g==="dark"?"palette4":"palette1",I=c.chart.foreColor?c.chart.foreColor:g==="dark"?"#f6f7f8":"#373d3f";return c.tooltip.theme=g,c.chart.foreColor=I,c.theme.palette=h,c}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),le}(),mt=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(c){var g=this.w,h=c==="title"?g.config.title:g.config.subtitle,I=g.globals.svgWidth/2,b=h.offsetY,y="middle";if(h.align==="left"?(I=10,y="start"):h.align==="right"&&(I=g.globals.svgWidth-10,y="end"),I+=h.offsetX,b=b+parseInt(h.style.fontSize,10)+h.margin/2,h.text!==void 0){var x=new ne(this.ctx).drawText({x:I,y:b,text:h.text,textAnchor:y,fontSize:h.style.fontSize,fontFamily:h.style.fontFamily,fontWeight:h.style.fontWeight,foreColor:h.style.color,opacity:1});x.node.setAttribute("class","apexcharts-".concat(c,"-text")),g.globals.dom.Paper.add(x)}}}]),le}(),Fe=function(){function le(c){m(this,le),this.w=c.w,this.dCtx=c}return v(le,[{key:"getTitleSubtitleCoords",value:function(c){var g=this.w,h=0,I=0,b=c==="title"?g.config.title.floating:g.config.subtitle.floating,y=g.globals.dom.baseEl.querySelector(".apexcharts-".concat(c,"-text"));if(y!==null&&!b){var x=y.getBoundingClientRect();h=x.width,I=g.globals.axisCharts?x.height+5:x.height}return{width:h,height:I}}},{key:"getLegendsRect",value:function(){var c=this.w,g=c.globals.dom.elLegendWrap;c.config.legend.height||c.config.legend.position!=="top"&&c.config.legend.position!=="bottom"||(g.style.maxHeight=c.globals.svgHeight/2+"px");var h=Object.assign({},F.getBoundingClientRect(g));return g!==null&&!c.config.legend.floating&&c.config.legend.show?this.dCtx.lgRect={x:h.x,y:h.y,height:h.height,width:h.height===0?0:h.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},c.config.legend.position!=="left"&&c.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>c.globals.svgWidth&&(this.dCtx.lgRect.width=c.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var c=this,g=this.w,h=[];g.config.series.forEach(function(B,V){B.data.forEach(function(E,Y){var H;H=g.globals.series[V][Y],I=g.config.dataLabels.formatter(H,{ctx:c.dCtx.ctx,seriesIndex:V,dataPointIndex:Y,w:g}),h.push(I)})});var I=F.getLargestStringFromArr(h),b=new ne(this.dCtx.ctx),y=g.config.dataLabels.style,x=b.getTextRects(I,parseInt(y.fontSize),y.fontFamily);return{width:1.05*x.width,height:x.height}}},{key:"getLargestStringFromMultiArr",value:function(c,g){var h=c;if(this.w.globals.isMultiLineX){var I=g.map(function(y,x){return Array.isArray(y)?y.length:1}),b=Math.max.apply(Math,L(I));h=g[I.indexOf(b)]}return h}}]),le}(),ct=function(){function le(c){m(this,le),this.w=c.w,this.dCtx=c}return v(le,[{key:"getxAxisLabelsCoords",value:function(){var c,g=this.w,h=g.globals.labels.slice();if(g.config.xaxis.convertedCatToNumeric&&h.length===0&&(h=g.globals.categoryLabels),g.globals.timescaleLabels.length>0){var I=this.getxAxisTimeScaleLabelsCoords();c={width:I.width,height:I.height},g.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=g.config.legend.position!=="left"&&g.config.legend.position!=="right"||g.config.legend.floating?0:this.dCtx.lgRect.width;var b=g.globals.xLabelFormatter,y=F.getLargestStringFromArr(h),x=this.dCtx.dimHelpers.getLargestStringFromMultiArr(y,h);g.globals.isBarHorizontal&&(x=y=g.globals.yAxisScale[0].result.reduce(function(Q,$){return Q.length>$.length?Q:$},0));var B=new Ce(this.dCtx.ctx),V=y;y=B.xLabelFormat(b,y,V,{i:void 0,dateFormatter:new pe(this.dCtx.ctx).formatDate,w:g}),x=B.xLabelFormat(b,x,V,{i:void 0,dateFormatter:new pe(this.dCtx.ctx).formatDate,w:g}),(g.config.xaxis.convertedCatToNumeric&&y===void 0||String(y).trim()==="")&&(x=y="1");var E=new ne(this.dCtx.ctx),Y=E.getTextRects(y,g.config.xaxis.labels.style.fontSize),H=Y;if(y!==x&&(H=E.getTextRects(x,g.config.xaxis.labels.style.fontSize)),(c={width:Y.width>=H.width?Y.width:H.width,height:Y.height>=H.height?Y.height:H.height}).width*h.length>g.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&g.config.xaxis.labels.rotate!==0||g.config.xaxis.labels.rotateAlways){if(!g.globals.isBarHorizontal){g.globals.rotateXLabels=!0;var z=function(Q){return E.getTextRects(Q,g.config.xaxis.labels.style.fontSize,g.config.xaxis.labels.style.fontFamily,"rotate(".concat(g.config.xaxis.labels.rotate," 0 0)"),!1)};Y=z(y),y!==x&&(H=z(x)),c.height=(Y.height>H.height?Y.height:H.height)/1.5,c.width=Y.width>H.width?Y.width:H.width}}else g.globals.rotateXLabels=!1}return g.config.xaxis.labels.show||(c={width:0,height:0}),{width:c.width,height:c.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var c,g=this.w;if(!g.globals.hasXaxisGroups)return{width:0,height:0};var h,I=((c=g.config.xaxis.group.style)===null||c===void 0?void 0:c.fontSize)||g.config.xaxis.labels.style.fontSize,b=g.globals.groups.map(function(Y){return Y.title}),y=F.getLargestStringFromArr(b),x=this.dCtx.dimHelpers.getLargestStringFromMultiArr(y,b),B=new ne(this.dCtx.ctx),V=B.getTextRects(y,I),E=V;return y!==x&&(E=B.getTextRects(x,I)),h={width:V.width>=E.width?V.width:E.width,height:V.height>=E.height?V.height:E.height},g.config.xaxis.labels.show||(h={width:0,height:0}),{width:h.width,height:h.height}}},{key:"getxAxisTitleCoords",value:function(){var c=this.w,g=0,h=0;if(c.config.xaxis.title.text!==void 0){var I=new ne(this.dCtx.ctx).getTextRects(c.config.xaxis.title.text,c.config.xaxis.title.style.fontSize);g=I.width,h=I.height}return{width:g,height:h}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var c,g=this.w;this.dCtx.timescaleLabels=g.globals.timescaleLabels.slice();var h=this.dCtx.timescaleLabels.map(function(b){return b.value}),I=h.reduce(function(b,y){return b===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):b.length>y.length?b:y},0);return 1.05*(c=new ne(this.dCtx.ctx).getTextRects(I,g.config.xaxis.labels.style.fontSize)).width*h.length>g.globals.gridWidth&&g.config.xaxis.labels.rotate!==0&&(g.globals.overlappingXLabels=!0),c}},{key:"additionalPaddingXLabels",value:function(c){var g=this,h=this.w,I=h.globals,b=h.config,y=b.xaxis.type,x=c.width;I.skipLastTimelinelabel=!1,I.skipFirstTimelinelabel=!1;var B=h.config.yaxis[0].opposite&&h.globals.isBarHorizontal,V=function(E,Y){b.yaxis.length>1&&function(H){return I.collapsedSeriesIndices.indexOf(H)!==-1}(Y)||function(H){if(g.dCtx.timescaleLabels&&g.dCtx.timescaleLabels.length){var z=g.dCtx.timescaleLabels[0],Q=g.dCtx.timescaleLabels[g.dCtx.timescaleLabels.length-1].position+x/1.75-g.dCtx.yAxisWidthRight,$=z.position-x/1.75+g.dCtx.yAxisWidthLeft,oe=h.config.legend.position==="right"&&g.dCtx.lgRect.width>0?g.dCtx.lgRect.width:0;Q>I.svgWidth-I.translateX-oe&&(I.skipLastTimelinelabel=!0),$<-(H.show&&!H.floating||b.chart.type!=="bar"&&b.chart.type!=="candlestick"&&b.chart.type!=="rangeBar"&&b.chart.type!=="boxPlot"?10:x/1.75)&&(I.skipFirstTimelinelabel=!0)}else y==="datetime"?g.dCtx.gridPad.right<x&&!I.rotateXLabels&&(I.skipLastTimelinelabel=!0):y!=="datetime"&&g.dCtx.gridPad.right<x/2-g.dCtx.yAxisWidthRight&&!I.rotateXLabels&&!h.config.xaxis.labels.trim&&(h.config.xaxis.tickPlacement!=="between"||h.globals.isBarHorizontal)&&(g.dCtx.xPadRight=x/2+1)}(E)};b.yaxis.forEach(function(E,Y){B?(g.dCtx.gridPad.left<x&&(g.dCtx.xPadLeft=x/2+1),g.dCtx.xPadRight=x/2+1):V(E,Y)})}}]),le}(),dt=function(){function le(c){m(this,le),this.w=c.w,this.dCtx=c}return v(le,[{key:"getyAxisLabelsCoords",value:function(){var c=this,g=this.w,h=[],I=10,b=new be(this.dCtx.ctx);return g.config.yaxis.map(function(y,x){var B={seriesIndex:x,dataPointIndex:-1,w:g},V=g.globals.yAxisScale[x],E=0;if(!b.isYAxisHidden(x)&&y.labels.show&&y.labels.minWidth!==void 0&&(E=y.labels.minWidth),!b.isYAxisHidden(x)&&y.labels.show&&V.result.length){var Y=g.globals.yLabelFormatters[x],H=V.niceMin===Number.MIN_VALUE?0:V.niceMin,z=V.result.reduce(function(T,ee){var ce,ge;return((ce=String(Y(T,B)))===null||ce===void 0?void 0:ce.length)>((ge=String(Y(ee,B)))===null||ge===void 0?void 0:ge.length)?T:ee},H),Q=z=Y(z,B);if(z!==void 0&&z.length!==0||(z=V.niceMax),g.globals.isBarHorizontal){I=0;var $=g.globals.labels.slice();z=F.getLargestStringFromArr($),z=Y(z,{seriesIndex:x,dataPointIndex:-1,w:g}),Q=c.dCtx.dimHelpers.getLargestStringFromMultiArr(z,$)}var oe=new ne(c.dCtx.ctx),re="rotate(".concat(y.labels.rotate," 0 0)"),se=oe.getTextRects(z,y.labels.style.fontSize,y.labels.style.fontFamily,re,!1),W=se;z!==Q&&(W=oe.getTextRects(Q,y.labels.style.fontSize,y.labels.style.fontFamily,re,!1)),h.push({width:(E>W.width||E>se.width?E:W.width>se.width?W.width:se.width)+I,height:W.height>se.height?W.height:se.height})}else h.push({width:0,height:0})}),h}},{key:"getyAxisTitleCoords",value:function(){var c=this,g=this.w,h=[];return g.config.yaxis.map(function(I,b){if(I.show&&I.title.text!==void 0){var y=new ne(c.dCtx.ctx),x="rotate(".concat(I.title.rotate," 0 0)"),B=y.getTextRects(I.title.text,I.title.style.fontSize,I.title.style.fontFamily,x,!1);h.push({width:B.width,height:B.height})}else h.push({width:0,height:0})}),h}},{key:"getTotalYAxisWidth",value:function(){var c=this.w,g=0,h=0,I=0,b=c.globals.yAxisScale.length>1?10:0,y=new be(this.dCtx.ctx),x=function(B,V){var E=c.config.yaxis[V].floating,Y=0;B.width>0&&!E?(Y=B.width+b,function(H){return c.globals.ignoreYAxisIndexes.indexOf(H)>-1}(V)&&(Y=Y-B.width-b)):Y=E||y.isYAxisHidden(V)?0:5,c.config.yaxis[V].opposite?I+=Y:h+=Y,g+=Y};return c.globals.yLabelsCoords.map(function(B,V){x(B,V)}),c.globals.yTitleCoords.map(function(B,V){x(B,V)}),c.globals.isBarHorizontal&&!c.config.yaxis[0].floating&&(g=c.globals.yLabelsCoords[0].width+c.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=h,this.dCtx.yAxisWidthRight=I,g}}]),le}(),Ft=function(){function le(c){m(this,le),this.w=c.w,this.dCtx=c}return v(le,[{key:"gridPadForColumnsInNumericAxis",value:function(c){var g=this.w,h=g.config,I=g.globals;if(I.noData||I.collapsedSeries.length+I.ancillaryCollapsedSeries.length===h.series.length)return 0;var b=function(H){return H==="bar"||H==="rangeBar"||H==="candlestick"||H==="boxPlot"},y=h.chart.type,x=0,B=b(y)?h.series.length:1;if(I.comboBarCount>0&&(B=I.comboBarCount),I.collapsedSeries.forEach(function(H){b(H.type)&&(B-=1)}),h.chart.stacked&&(B=1),(b(y)||I.comboBarCount>0)&&I.isXNumeric&&!I.isBarHorizontal&&B>0){var V,E,Y=Math.abs(I.initialMaxX-I.initialMinX);Y<=3&&(Y=I.dataPoints),V=Y/c,I.minXDiff&&I.minXDiff/V>0&&(E=I.minXDiff/V),E>c/2&&(E/=2),(x=E*parseInt(h.plotOptions.bar.columnWidth,10)/100)<1&&(x=1),I.barPadForNumericAxis=x}return x}},{key:"gridPadFortitleSubtitle",value:function(){var c=this,g=this.w,h=g.globals,I=this.dCtx.isSparkline||!g.globals.axisCharts?0:10;["title","subtitle"].forEach(function(x){g.config[x].text!==void 0?I+=g.config[x].margin:I+=c.dCtx.isSparkline||!g.globals.axisCharts?0:5}),!g.config.legend.show||g.config.legend.position!=="bottom"||g.config.legend.floating||g.globals.axisCharts||(I+=10);var b=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),y=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");h.gridHeight=h.gridHeight-b.height-y.height-I,h.translateY=h.translateY+b.height+y.height+I}},{key:"setGridXPosForDualYAxis",value:function(c,g){var h=this.w,I=new be(this.dCtx.ctx);h.config.yaxis.map(function(b,y){h.globals.ignoreYAxisIndexes.indexOf(y)!==-1||b.floating||I.isYAxisHidden(y)||(b.opposite&&(h.globals.translateX=h.globals.translateX-(g[y].width+c[y].width)-parseInt(h.config.yaxis[y].labels.style.fontSize,10)/1.2-12),h.globals.translateX<2&&(h.globals.translateX=2))})}}]),le}(),Mt=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new Fe(this),this.dimYAxis=new dt(this),this.dimXAxis=new ct(this),this.dimGrid=new Ft(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return v(le,[{key:"plotCoords",value:function(){var c=this,g=this.w,h=g.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var I=Array.isArray(g.config.stroke.width)?Math.max.apply(Math,L(g.config.stroke.width)):g.config.stroke.width;this.isSparkline&&((g.config.markers.discrete.length>0||g.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(y){var x=M(y,2),B=x[0],V=x[1];c.gridPad[B]=Math.max(V,c.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(I/2,this.gridPad.top),this.gridPad.bottom=Math.max(I/2,this.gridPad.bottom)),h.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),h.gridHeight=h.gridHeight-this.gridPad.top-this.gridPad.bottom,h.gridWidth=h.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var b=this.dimGrid.gridPadForColumnsInNumericAxis(h.gridWidth);h.gridWidth=h.gridWidth-2*b,h.translateX=h.translateX+this.gridPad.left+this.xPadLeft+(b>0?b:0),h.translateY=h.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var c=this,g=this.w,h=g.globals,I=this.dimYAxis.getyAxisLabelsCoords(),b=this.dimYAxis.getyAxisTitleCoords();h.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),g.globals.yLabelsCoords=[],g.globals.yTitleCoords=[],g.config.yaxis.map(function(z,Q){g.globals.yLabelsCoords.push({width:I[Q].width,index:Q}),g.globals.yTitleCoords.push({width:b[Q].width,index:Q})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var y=this.dimXAxis.getxAxisLabelsCoords(),x=this.dimXAxis.getxAxisGroupLabelsCoords(),B=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(y,B,x),h.translateXAxisY=g.globals.rotateXLabels?this.xAxisHeight/8:-4,h.translateXAxisX=g.globals.rotateXLabels&&g.globals.isXNumeric&&g.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,g.globals.isBarHorizontal&&(h.rotateXLabels=!1,h.translateXAxisY=parseInt(g.config.xaxis.labels.style.fontSize,10)/1.5*-1),h.translateXAxisY=h.translateXAxisY+g.config.xaxis.labels.offsetY,h.translateXAxisX=h.translateXAxisX+g.config.xaxis.labels.offsetX;var V=this.yAxisWidth,E=this.xAxisHeight;h.xAxisLabelsHeight=this.xAxisHeight-B.height,h.xAxisGroupLabelsHeight=h.xAxisLabelsHeight-y.height,h.xAxisLabelsWidth=this.xAxisWidth,h.xAxisHeight=this.xAxisHeight;var Y=10;(g.config.chart.type==="radar"||this.isSparkline)&&(V=0,E=h.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||g.config.chart.type==="treemap")&&(V=0,E=0,Y=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(y);var H=function(){h.translateX=V+c.datalabelsCoords.width,h.gridHeight=h.svgHeight-c.lgRect.height-E-(c.isSparkline||g.config.chart.type==="treemap"?0:g.globals.rotateXLabels?10:15),h.gridWidth=h.svgWidth-V-2*c.datalabelsCoords.width};switch(g.config.xaxis.position==="top"&&(Y=h.xAxisHeight-g.config.xaxis.axisTicks.height-5),g.config.legend.position){case"bottom":h.translateY=Y,H();break;case"top":h.translateY=this.lgRect.height+Y,H();break;case"left":h.translateY=Y,h.translateX=this.lgRect.width+V+this.datalabelsCoords.width,h.gridHeight=h.svgHeight-E-12,h.gridWidth=h.svgWidth-this.lgRect.width-V-2*this.datalabelsCoords.width;break;case"right":h.translateY=Y,h.translateX=V+this.datalabelsCoords.width,h.gridHeight=h.svgHeight-E-12,h.gridWidth=h.svgWidth-this.lgRect.width-V-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(b,I),new xt(this.ctx).setYAxisXPosition(I,b)}},{key:"setDimensionsForNonAxisCharts",value:function(){var c=this.w,g=c.globals,h=c.config,I=0;c.config.legend.show&&!c.config.legend.floating&&(I=20);var b=h.chart.type==="pie"||h.chart.type==="polarArea"||h.chart.type==="donut"?"pie":"radialBar",y=h.plotOptions[b].offsetY,x=h.plotOptions[b].offsetX;if(!h.legend.show||h.legend.floating)return g.gridHeight=g.svgHeight-h.grid.padding.left+h.grid.padding.right,g.gridWidth=Math.min(g.svgWidth,g.gridHeight),g.translateY=y,void(g.translateX=x+(g.svgWidth-g.gridWidth)/2);switch(h.legend.position){case"bottom":g.gridHeight=g.svgHeight-this.lgRect.height-g.goldenPadding,g.gridWidth=g.svgWidth,g.translateY=y-10,g.translateX=x+(g.svgWidth-g.gridWidth)/2;break;case"top":g.gridHeight=g.svgHeight-this.lgRect.height-g.goldenPadding,g.gridWidth=g.svgWidth,g.translateY=this.lgRect.height+y+10,g.translateX=x+(g.svgWidth-g.gridWidth)/2;break;case"left":g.gridWidth=g.svgWidth-this.lgRect.width-I,g.gridHeight=h.chart.height!=="auto"?g.svgHeight:g.gridWidth,g.translateY=y,g.translateX=x+this.lgRect.width+I;break;case"right":g.gridWidth=g.svgWidth-this.lgRect.width-I-5,g.gridHeight=h.chart.height!=="auto"?g.svgHeight:g.gridWidth,g.translateY=y,g.translateX=x+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(c,g,h){var I=this.w,b=I.globals.hasXaxisGroups?2:1,y=h.height+c.height+g.height,x=I.globals.isMultiLineX?1.2:I.globals.LINE_HEIGHT_RATIO,B=I.globals.rotateXLabels?22:10,V=I.globals.rotateXLabels&&I.config.legend.position==="bottom"?10:0;this.xAxisHeight=y*x+b*B+V,this.xAxisWidth=c.width,this.xAxisHeight-g.height>I.config.xaxis.labels.maxHeight&&(this.xAxisHeight=I.config.xaxis.labels.maxHeight),I.config.xaxis.labels.minHeight&&this.xAxisHeight<I.config.xaxis.labels.minHeight&&(this.xAxisHeight=I.config.xaxis.labels.minHeight),I.config.xaxis.floating&&(this.xAxisHeight=0);var E=0,Y=0;I.config.yaxis.forEach(function(H){E+=H.labels.minWidth,Y+=H.labels.maxWidth}),this.yAxisWidth<E&&(this.yAxisWidth=E),this.yAxisWidth>Y&&(this.yAxisWidth=Y)}}]),le}(),hn=function(){function le(c){m(this,le),this.w=c.w,this.lgCtx=c}return v(le,[{key:"getLegendStyles",value:function(){var c,g,h,I=document.createElement("style");I.setAttribute("type","text/css");var b=((c=this.lgCtx.ctx)===null||c===void 0||(g=c.opts)===null||g===void 0||(h=g.chart)===null||h===void 0?void 0:h.nonce)||this.w.config.chart.nonce;b&&I.setAttribute("nonce",b);var y=document.createTextNode(`
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
      }
      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: inline-block;
        cursor: pointer;
        margin-right: 3px;
        border-style: solid;
      }

      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{
        display: inline-block;
      }
      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }`);return I.appendChild(y),I}},{key:"getLegendBBox",value:function(){var c=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),g=c.width;return{clwh:c.height,clww:g}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(c,g){var h=this,I=this.w;if(I.globals.axisCharts||I.config.chart.type==="radialBar"){I.globals.resized=!0;var b=null,y=null;I.globals.risingSeries=[],I.globals.axisCharts?(b=I.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(c,"']")),y=parseInt(b.getAttribute("data:realIndex"),10)):(b=I.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(c+1,"']")),y=parseInt(b.getAttribute("rel"),10)-1),g?[{cs:I.globals.collapsedSeries,csi:I.globals.collapsedSeriesIndices},{cs:I.globals.ancillaryCollapsedSeries,csi:I.globals.ancillaryCollapsedSeriesIndices}].forEach(function(E){h.riseCollapsedSeries(E.cs,E.csi,y)}):this.hideSeries({seriesEl:b,realIndex:y})}else{var x=I.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(c+1,"'] path")),B=I.config.chart.type;if(B==="pie"||B==="polarArea"||B==="donut"){var V=I.config.plotOptions.pie.donut.labels;new ne(this.lgCtx.ctx).pathMouseDown(x.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(x.members[0].node,V)}x.fire("click")}}},{key:"hideSeries",value:function(c){var g=c.seriesEl,h=c.realIndex,I=this.w,b=I.globals,y=F.clone(I.config.series);if(b.axisCharts){var x=I.config.yaxis[b.seriesYAxisReverseMap[h]];if(x&&x.show&&x.showAlways)b.ancillaryCollapsedSeriesIndices.indexOf(h)<0&&(b.ancillaryCollapsedSeries.push({index:h,data:y[h].data.slice(),type:g.parentNode.className.baseVal.split("-")[1]}),b.ancillaryCollapsedSeriesIndices.push(h));else if(b.collapsedSeriesIndices.indexOf(h)<0){b.collapsedSeries.push({index:h,data:y[h].data.slice(),type:g.parentNode.className.baseVal.split("-")[1]}),b.collapsedSeriesIndices.push(h);var B=b.risingSeries.indexOf(h);b.risingSeries.splice(B,1)}}else b.collapsedSeries.push({index:h,data:y[h]}),b.collapsedSeriesIndices.push(h);for(var V=g.childNodes,E=0;E<V.length;E++)V[E].classList.contains("apexcharts-series-markers-wrap")&&(V[E].classList.contains("apexcharts-hide")?V[E].classList.remove("apexcharts-hide"):V[E].classList.add("apexcharts-hide"));b.allSeriesCollapsed=b.collapsedSeries.length+b.ancillaryCollapsedSeries.length===I.config.series.length,y=this._getSeriesBasedOnCollapsedState(y),this.lgCtx.ctx.updateHelpers._updateSeries(y,I.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(c,g,h){var I=this.w,b=F.clone(I.config.series);if(c.length>0){for(var y=0;y<c.length;y++)c[y].index===h&&(I.globals.axisCharts?(b[h].data=c[y].data.slice(),c.splice(y,1),g.splice(y,1),I.globals.risingSeries.push(h)):(b[h]=c[y].data,c.splice(y,1),g.splice(y,1),I.globals.risingSeries.push(h)));b=this._getSeriesBasedOnCollapsedState(b),this.lgCtx.ctx.updateHelpers._updateSeries(b,I.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(c){var g=this.w,h=0;return g.globals.axisCharts?c.forEach(function(I,b){g.globals.collapsedSeriesIndices.indexOf(b)<0&&g.globals.ancillaryCollapsedSeriesIndices.indexOf(b)<0||(c[b].data=[],h++)}):c.forEach(function(I,b){!g.globals.collapsedSeriesIndices.indexOf(b)<0&&(c[b]=0,h++)}),g.globals.allSeriesCollapsed=h===c.length,c}}]),le}(),Ke=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new hn(this)}return v(le,[{key:"init",value:function(){var c=this.w,g=c.globals,h=c.config;if((h.legend.showForSingleSeries&&g.series.length===1||this.isBarsDistributed||g.series.length>1||!g.axisCharts)&&h.legend.show){for(;g.dom.elLegendWrap.firstChild;)g.dom.elLegendWrap.removeChild(g.dom.elLegendWrap.firstChild);this.drawLegends(),F.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),h.legend.position==="bottom"||h.legend.position==="top"?this.legendAlignHorizontal():h.legend.position!=="right"&&h.legend.position!=="left"||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var c=this,g=this.w,h=g.config.legend.fontFamily,I=g.globals.seriesNames,b=g.globals.colors.slice();if(g.config.chart.type==="heatmap"){var y=g.config.plotOptions.heatmap.colorScale.ranges;I=y.map(function(Ve){return Ve.name?Ve.name:Ve.from+" - "+Ve.to}),b=y.map(function(Ve){return Ve.color})}else this.isBarsDistributed&&(I=g.globals.labels.slice());g.config.legend.customLegendItems.length&&(I=g.config.legend.customLegendItems);for(var x=g.globals.legendFormatter,B=g.config.legend.inverseOrder,V=B?I.length-1:0;B?V>=0:V<=I.length-1;B?V--:V++){var E,Y=x(I[V],{seriesIndex:V,w:g}),H=!1,z=!1;if(g.globals.collapsedSeries.length>0)for(var Q=0;Q<g.globals.collapsedSeries.length;Q++)g.globals.collapsedSeries[Q].index===V&&(H=!0);if(g.globals.ancillaryCollapsedSeriesIndices.length>0)for(var $=0;$<g.globals.ancillaryCollapsedSeriesIndices.length;$++)g.globals.ancillaryCollapsedSeriesIndices[$]===V&&(z=!0);var oe=document.createElement("span");oe.classList.add("apexcharts-legend-marker");var re=g.config.legend.markers.offsetX,se=g.config.legend.markers.offsetY,W=g.config.legend.markers.height,T=g.config.legend.markers.width,ee=g.config.legend.markers.strokeWidth,ce=g.config.legend.markers.strokeColor,ge=g.config.legend.markers.radius,me=oe.style;me.background=b[V],me.color=b[V],me.setProperty("background",b[V],"important"),g.config.legend.markers.fillColors&&g.config.legend.markers.fillColors[V]&&(me.background=g.config.legend.markers.fillColors[V]),g.globals.seriesColors[V]!==void 0&&(me.background=g.globals.seriesColors[V],me.color=g.globals.seriesColors[V]),me.height=Array.isArray(W)?parseFloat(W[V])+"px":parseFloat(W)+"px",me.width=Array.isArray(T)?parseFloat(T[V])+"px":parseFloat(T)+"px",me.left=(Array.isArray(re)?parseFloat(re[V]):parseFloat(re))+"px",me.top=(Array.isArray(se)?parseFloat(se[V]):parseFloat(se))+"px",me.borderWidth=Array.isArray(ee)?ee[V]:ee,me.borderColor=Array.isArray(ce)?ce[V]:ce,me.borderRadius=Array.isArray(ge)?parseFloat(ge[V])+"px":parseFloat(ge)+"px",g.config.legend.markers.customHTML&&(Array.isArray(g.config.legend.markers.customHTML)?g.config.legend.markers.customHTML[V]&&(oe.innerHTML=g.config.legend.markers.customHTML[V]()):oe.innerHTML=g.config.legend.markers.customHTML()),ne.setAttrs(oe,{rel:V+1,"data:collapsed":H||z}),(H||z)&&oe.classList.add("apexcharts-inactive-legend");var Ae=document.createElement("div"),ye=document.createElement("span");ye.classList.add("apexcharts-legend-text"),ye.innerHTML=Array.isArray(Y)?Y.join(" "):Y;var Ne=g.config.legend.labels.useSeriesColors?g.globals.colors[V]:Array.isArray(g.config.legend.labels.colors)?(E=g.config.legend.labels.colors)===null||E===void 0?void 0:E[V]:g.config.legend.labels.colors;Ne||(Ne=g.config.chart.foreColor),ye.style.color=Ne,ye.style.fontSize=parseFloat(g.config.legend.fontSize)+"px",ye.style.fontWeight=g.config.legend.fontWeight,ye.style.fontFamily=h||g.config.chart.fontFamily,ne.setAttrs(ye,{rel:V+1,i:V,"data:default-text":encodeURIComponent(Y),"data:collapsed":H||z}),Ae.appendChild(oe),Ae.appendChild(ye);var Te=new ue(this.ctx);g.config.legend.showForZeroSeries||Te.getSeriesTotalByIndex(V)===0&&Te.seriesHaveSameValues(V)&&!Te.isSeriesNull(V)&&g.globals.collapsedSeriesIndices.indexOf(V)===-1&&g.globals.ancillaryCollapsedSeriesIndices.indexOf(V)===-1&&Ae.classList.add("apexcharts-hidden-zero-series"),g.config.legend.showForNullSeries||Te.isSeriesNull(V)&&g.globals.collapsedSeriesIndices.indexOf(V)===-1&&g.globals.ancillaryCollapsedSeriesIndices.indexOf(V)===-1&&Ae.classList.add("apexcharts-hidden-null-series"),g.globals.dom.elLegendWrap.appendChild(Ae),g.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(g.config.legend.horizontalAlign)),g.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+g.config.legend.position),Ae.classList.add("apexcharts-legend-series"),Ae.style.margin="".concat(g.config.legend.itemMargin.vertical,"px ").concat(g.config.legend.itemMargin.horizontal,"px"),g.globals.dom.elLegendWrap.style.width=g.config.legend.width?g.config.legend.width+"px":"",g.globals.dom.elLegendWrap.style.height=g.config.legend.height?g.config.legend.height+"px":"",ne.setAttrs(Ae,{rel:V+1,seriesName:F.escapeString(I[V]),"data:collapsed":H||z}),(H||z)&&Ae.classList.add("apexcharts-inactive-legend"),g.config.legend.onItemClick.toggleDataSeries||Ae.classList.add("apexcharts-no-click")}g.globals.dom.elWrap.addEventListener("click",c.onLegendClick,!0),g.config.legend.onItemHover.highlightDataSeries&&g.config.legend.customLegendItems.length===0&&(g.globals.dom.elWrap.addEventListener("mousemove",c.onLegendHovered,!0),g.globals.dom.elWrap.addEventListener("mouseout",c.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(c,g){var h=this.w,I=h.globals.dom.elLegendWrap,b=I.getBoundingClientRect(),y=0,x=0;if(h.config.legend.position==="bottom")x+=h.globals.svgHeight-b.height/2;else if(h.config.legend.position==="top"){var B=new Mt(this.ctx),V=B.dimHelpers.getTitleSubtitleCoords("title").height,E=B.dimHelpers.getTitleSubtitleCoords("subtitle").height;x=x+(V>0?V-10:0)+(E>0?E-10:0)}I.style.position="absolute",y=y+c+h.config.legend.offsetX,x=x+g+h.config.legend.offsetY,I.style.left=y+"px",I.style.top=x+"px",h.config.legend.position==="bottom"?(I.style.top="auto",I.style.bottom=5-h.config.legend.offsetY+"px"):h.config.legend.position==="right"&&(I.style.left="auto",I.style.right=25+h.config.legend.offsetX+"px"),["width","height"].forEach(function(Y){I.style[Y]&&(I.style[Y]=parseInt(h.config.legend[Y],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var c=this.w;c.globals.dom.elLegendWrap.style.right=0;var g=this.legendHelpers.getLegendBBox(),h=new Mt(this.ctx),I=h.dimHelpers.getTitleSubtitleCoords("title"),b=h.dimHelpers.getTitleSubtitleCoords("subtitle"),y=0;c.config.legend.position==="bottom"?y=-g.clwh/1.8:c.config.legend.position==="top"&&(y=I.height+b.height+c.config.title.margin+c.config.subtitle.margin-10),this.setLegendWrapXY(20,y)}},{key:"legendAlignVertical",value:function(){var c=this.w,g=this.legendHelpers.getLegendBBox(),h=0;c.config.legend.position==="left"&&(h=20),c.config.legend.position==="right"&&(h=c.globals.svgWidth-g.clww-10),this.setLegendWrapXY(h,20)}},{key:"onLegendHovered",value:function(c){var g=this.w,h=c.target.classList.contains("apexcharts-legend-series")||c.target.classList.contains("apexcharts-legend-text")||c.target.classList.contains("apexcharts-legend-marker");if(g.config.chart.type==="heatmap"||this.isBarsDistributed){if(h){var I=parseInt(c.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,I,this.w]),new Oe(this.ctx).highlightRangeInSeries(c,c.target)}}else!c.target.classList.contains("apexcharts-inactive-legend")&&h&&new Oe(this.ctx).toggleSeriesOnHover(c,c.target)}},{key:"onLegendClick",value:function(c){var g=this.w;if(!g.config.legend.customLegendItems.length&&(c.target.classList.contains("apexcharts-legend-series")||c.target.classList.contains("apexcharts-legend-text")||c.target.classList.contains("apexcharts-legend-marker"))){var h=parseInt(c.target.getAttribute("rel"),10)-1,I=c.target.getAttribute("data:collapsed")==="true",b=this.w.config.chart.events.legendClick;typeof b=="function"&&b(this.ctx,h,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,h,this.w]);var y=this.w.config.legend.markers.onClick;typeof y=="function"&&c.target.classList.contains("apexcharts-legend-marker")&&(y(this.ctx,h,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,h,this.w])),g.config.chart.type!=="treemap"&&g.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&g.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(h,I)}}}]),le}(),tt=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w;var g=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=g.globals.minX,this.maxX=g.globals.maxX}return v(le,[{key:"createToolbar",value:function(){var c=this,g=this.w,h=function(){return document.createElement("div")},I=h();if(I.setAttribute("class","apexcharts-toolbar"),I.style.top=g.config.chart.toolbar.offsetY+"px",I.style.right=3-g.config.chart.toolbar.offsetX+"px",g.globals.dom.elWrap.appendChild(I),this.elZoom=h(),this.elZoomIn=h(),this.elZoomOut=h(),this.elPan=h(),this.elSelection=h(),this.elZoomReset=h(),this.elMenuIcon=h(),this.elMenu=h(),this.elCustomIcons=[],this.t=g.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var b=0;b<this.t.customIcons.length;b++)this.elCustomIcons.push(h());var y=[],x=function(Y,H,z){var Q=Y.toLowerCase();c.t[Q]&&g.config.chart.zoom.enabled&&y.push({el:H,icon:typeof c.t[Q]=="string"?c.t[Q]:z,title:c.localeValues[Y],class:"apexcharts-".concat(Q,"-icon")})};x("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),x("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var B=function(Y){c.t[Y]&&g.config.chart[Y].enabled&&y.push({el:Y==="zoom"?c.elZoom:c.elSelection,icon:typeof c.t[Y]=="string"?c.t[Y]:Y==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:c.localeValues[Y==="zoom"?"selectionZoom":"selection"],class:g.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(Y,"-icon")})};B("zoom"),B("selection"),this.t.pan&&g.config.chart.zoom.enabled&&y.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:g.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),x("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&y.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var V=0;V<this.elCustomIcons.length;V++)y.push({el:this.elCustomIcons[V],icon:this.t.customIcons[V].icon,title:this.t.customIcons[V].title,index:this.t.customIcons[V].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[V].class});y.forEach(function(Y,H){Y.index&&F.moveIndexInArray(y,H,Y.index)});for(var E=0;E<y.length;E++)ne.setAttrs(y[E].el,{class:y[E].class,title:y[E].title}),y[E].el.innerHTML=y[E].icon,I.appendChild(y[E].el);this._createHamburgerMenu(I),g.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):g.globals.panEnabled?this.elPan.classList.add(this.selectedClass):g.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(c){this.elMenuItems=[],c.appendChild(this.elMenu),ne.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var g=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],h=0;h<g.length;h++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[h].innerHTML=g[h].title,ne.setAttrs(this.elMenuItems[h],{class:"apexcharts-menu-item ".concat(g[h].name),title:g[h].title}),this.elMenu.appendChild(this.elMenuItems[h])}},{key:"addToolbarEventListeners",value:function(){var c=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(h){h.classList.contains("exportSVG")?h.addEventListener("click",c.handleDownload.bind(c,"svg")):h.classList.contains("exportPNG")?h.addEventListener("click",c.handleDownload.bind(c,"png")):h.classList.contains("exportCSV")&&h.addEventListener("click",c.handleDownload.bind(c,"csv"))});for(var g=0;g<this.t.customIcons.length;g++)this.elCustomIcons[g].addEventListener("click",this.t.customIcons[g].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(c){this.ctx.getSyncedCharts().forEach(function(g){g.ctx.toolbar.toggleOtherControls();var h=c==="selection"?g.ctx.toolbar.elSelection:g.ctx.toolbar.elZoom,I=c==="selection"?"selectionEnabled":"zoomEnabled";g.w.globals[I]=!g.w.globals[I],h.classList.contains(g.ctx.toolbar.selectedClass)?h.classList.remove(g.ctx.toolbar.selectedClass):h.classList.add(g.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var c=this.w;this.elZoom||(this.elZoom=c.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=c.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=c.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(c){this.toggleOtherControls(),c==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var g=c==="pan"?this.elPan:this.elZoom,h=c==="pan"?this.elZoom:this.elPan;g&&g.classList.add(this.selectedClass),h&&h.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(c){c.ctx.toolbar.toggleOtherControls(),c.w.globals.panEnabled=!c.w.globals.panEnabled,c.ctx.toolbar.elPan.classList.contains(c.ctx.toolbar.selectedClass)?c.ctx.toolbar.elPan.classList.remove(c.ctx.toolbar.selectedClass):c.ctx.toolbar.elPan.classList.add(c.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var c=this,g=this.w;g.globals.panEnabled=!1,g.globals.zoomEnabled=!1,g.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(h){h&&h.classList.remove(c.selectedClass)})}},{key:"handleZoomIn",value:function(){var c=this.w;c.globals.isRangeBar&&(this.minX=c.globals.minY,this.maxX=c.globals.maxY);var g=(this.minX+this.maxX)/2,h=(this.minX+g)/2,I=(this.maxX+g)/2,b=this._getNewMinXMaxX(h,I);c.globals.disableZoomIn||this.zoomUpdateOptions(b.minX,b.maxX)}},{key:"handleZoomOut",value:function(){var c=this.w;if(c.globals.isRangeBar&&(this.minX=c.globals.minY,this.maxX=c.globals.maxY),!(c.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var g=(this.minX+this.maxX)/2,h=this.minX-(g-this.minX),I=this.maxX-(g-this.maxX),b=this._getNewMinXMaxX(h,I);c.globals.disableZoomOut||this.zoomUpdateOptions(b.minX,b.maxX)}}},{key:"_getNewMinXMaxX",value:function(c,g){var h=this.w.config.xaxis.convertedCatToNumeric;return{minX:h?Math.floor(c):c,maxX:h?Math.floor(g):g}}},{key:"zoomUpdateOptions",value:function(c,g){var h=this.w;if(c!==void 0||g!==void 0){if(!(h.config.xaxis.convertedCatToNumeric&&(c<1&&(c=1,g=h.globals.dataPoints),g-c<2))){var I={min:c,max:g},b=this.getBeforeZoomRange(I);b&&(I=b.xaxis);var y={xaxis:I},x=F.clone(h.globals.initialConfig.yaxis);h.config.chart.group||(y.yaxis=x),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(y,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(I,x)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(c,g){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:c,yaxis:g})}},{key:"getBeforeZoomRange",value:function(c,g){var h=null;return typeof this.ev.beforeZoom=="function"&&(h=this.ev.beforeZoom(this,{xaxis:c,yaxis:g})),h}},{key:"toggleMenu",value:function(){var c=this;window.setTimeout(function(){c.elMenu.classList.contains("apexcharts-menu-open")?c.elMenu.classList.remove("apexcharts-menu-open"):c.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(c){var g=this.w,h=new et(this.ctx);switch(c){case"svg":h.exportToSVG(this.ctx);break;case"png":h.exportToPng(this.ctx);break;case"csv":h.exportToCSV({series:g.config.series,columnDelimiter:g.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(c){this.ctx.getSyncedCharts().forEach(function(g){var h=g.w;if(h.globals.lastXAxis.min=h.globals.initialConfig.xaxis.min,h.globals.lastXAxis.max=h.globals.initialConfig.xaxis.max,g.updateHelpers.revertDefaultAxisMinMax(),typeof h.config.chart.events.beforeResetZoom=="function"){var I=h.config.chart.events.beforeResetZoom(g,h);I&&g.updateHelpers.revertDefaultAxisMinMax(I)}typeof h.config.chart.events.zoomed=="function"&&g.ctx.toolbar.zoomCallback({min:h.config.xaxis.min,max:h.config.xaxis.max}),h.globals.zoomed=!1;var b=g.ctx.series.emptyCollapsedSeries(F.clone(h.globals.initialSeries));g.updateHelpers._updateSeries(b,h.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),le}(),nt=function(le){Z(g,tt);var c=D(g);function g(h){var I;return m(this,g),(I=c.call(this,h)).ctx=h,I.w=h.w,I.dragged=!1,I.graphics=new ne(I.ctx),I.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],I.clientX=0,I.clientY=0,I.startX=0,I.endX=0,I.dragX=0,I.startY=0,I.endY=0,I.dragY=0,I.moveDirection="none",I}return v(g,[{key:"init",value:function(h){var I=this,b=h.xyRatios,y=this.w,x=this;this.xyRatios=b,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=y.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),y.globals.dom.elGraphical.add(this.zoomRect),y.globals.dom.elGraphical.add(this.selectionRect),y.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:y.globals.gridWidth,maxY:y.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):y.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:y.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=y.globals.dom.baseEl.querySelector("".concat(y.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(B){I.hoverArea.addEventListener(B,x.svgMouseEvents.bind(x,b),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(h,I){var b=this.w,y=this,x=this.ctx.toolbar,B=b.globals.zoomEnabled?b.config.chart.zoom.type:b.config.chart.selection.type,V=b.config.chart.toolbar.autoSelected;if(I.shiftKey?(this.shiftWasPressed=!0,x.enableZoomPanFromToolbar(V==="pan"?"zoom":"pan")):this.shiftWasPressed&&(x.enableZoomPanFromToolbar(V),this.shiftWasPressed=!1),I.target){var E,Y=I.target.classList;if(I.target.parentNode&&I.target.parentNode!==null&&(E=I.target.parentNode.classList),!(Y.contains("apexcharts-selection-rect")||Y.contains("apexcharts-legend-marker")||Y.contains("apexcharts-legend-text")||E&&E.contains("apexcharts-toolbar"))){if(y.clientX=I.type==="touchmove"||I.type==="touchstart"?I.touches[0].clientX:I.type==="touchend"?I.changedTouches[0].clientX:I.clientX,y.clientY=I.type==="touchmove"||I.type==="touchstart"?I.touches[0].clientY:I.type==="touchend"?I.changedTouches[0].clientY:I.clientY,I.type==="mousedown"&&I.which===1){var H=y.gridRect.getBoundingClientRect();y.startX=y.clientX-H.left,y.startY=y.clientY-H.top,y.dragged=!1,y.w.globals.mousedown=!0}if((I.type==="mousemove"&&I.which===1||I.type==="touchmove")&&(y.dragged=!0,b.globals.panEnabled?(b.globals.selection=null,y.w.globals.mousedown&&y.panDragging({context:y,zoomtype:B,xyRatios:h})):(y.w.globals.mousedown&&b.globals.zoomEnabled||y.w.globals.mousedown&&b.globals.selectionEnabled)&&(y.selection=y.selectionDrawing({context:y,zoomtype:B}))),I.type==="mouseup"||I.type==="touchend"||I.type==="mouseleave"){var z=y.gridRect.getBoundingClientRect();y.w.globals.mousedown&&(y.endX=y.clientX-z.left,y.endY=y.clientY-z.top,y.dragX=Math.abs(y.endX-y.startX),y.dragY=Math.abs(y.endY-y.startY),(b.globals.zoomEnabled||b.globals.selectionEnabled)&&y.selectionDrawn({context:y,zoomtype:B}),b.globals.panEnabled&&b.config.xaxis.convertedCatToNumeric&&y.delayedPanScrolled()),b.globals.zoomEnabled&&y.hideSelectionRect(this.selectionRect),y.dragged=!1,y.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var h=this.w;if(this.selectionRect){var I=this.selectionRect.node.getBoundingClientRect();I.width>0&&I.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:h.globals.gridWidth,maxY:h.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var h=this.w,I=this.xyRatios;if(!h.globals.zoomEnabled){if(h.globals.selection!==void 0&&h.globals.selection!==null)this.drawSelectionRect(h.globals.selection);else if(h.config.chart.selection.xaxis.min!==void 0&&h.config.chart.selection.xaxis.max!==void 0){var b=(h.config.chart.selection.xaxis.min-h.globals.minX)/I.xRatio,y=h.globals.gridWidth-(h.globals.maxX-h.config.chart.selection.xaxis.max)/I.xRatio-b;h.globals.isRangeBar&&(b=(h.config.chart.selection.xaxis.min-h.globals.yAxisScale[0].niceMin)/I.invertedYRatio,y=(h.config.chart.selection.xaxis.max-h.config.chart.selection.xaxis.min)/I.invertedYRatio);var x={x:b,y:0,width:y,height:h.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(x),this.makeSelectionRectDraggable(),typeof h.config.chart.events.selection=="function"&&h.config.chart.events.selection(this.ctx,{xaxis:{min:h.config.chart.selection.xaxis.min,max:h.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(h){var I=h.x,b=h.y,y=h.width,x=h.height,B=h.translateX,V=B===void 0?0:B,E=h.translateY,Y=E===void 0?0:E,H=this.w,z=this.zoomRect,Q=this.selectionRect;if(this.dragged||H.globals.selection!==null){var $={transform:"translate("+V+", "+Y+")"};H.globals.zoomEnabled&&this.dragged&&(y<0&&(y=1),z.attr({x:I,y:b,width:y,height:x,fill:H.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":H.config.chart.zoom.zoomedArea.fill.opacity,stroke:H.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":H.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":H.config.chart.zoom.zoomedArea.stroke.opacity}),ne.setAttrs(z.node,$)),H.globals.selectionEnabled&&(Q.attr({x:I,y:b,width:y>0?y:0,height:x>0?x:0,fill:H.config.chart.selection.fill.color,"fill-opacity":H.config.chart.selection.fill.opacity,stroke:H.config.chart.selection.stroke.color,"stroke-width":H.config.chart.selection.stroke.width,"stroke-dasharray":H.config.chart.selection.stroke.dashArray,"stroke-opacity":H.config.chart.selection.stroke.opacity}),ne.setAttrs(Q.node,$))}}},{key:"hideSelectionRect",value:function(h){h&&h.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(h){var I=h.context,b=h.zoomtype,y=this.w,x=I,B=this.gridRect.getBoundingClientRect(),V=x.startX-1,E=x.startY,Y=!1,H=!1,z=x.clientX-B.left-V,Q=x.clientY-B.top-E,$={};return Math.abs(z+V)>y.globals.gridWidth?z=y.globals.gridWidth-V:x.clientX-B.left<0&&(z=V),V>x.clientX-B.left&&(Y=!0,z=Math.abs(z)),E>x.clientY-B.top&&(H=!0,Q=Math.abs(Q)),$=b==="x"?{x:Y?V-z:V,y:0,width:z,height:y.globals.gridHeight}:b==="y"?{x:0,y:H?E-Q:E,width:y.globals.gridWidth,height:Q}:{x:Y?V-z:V,y:H?E-Q:E,width:z,height:Q},x.drawSelectionRect($),x.selectionDragging("resizing"),$}},{key:"selectionDragging",value:function(h,I){var b=this,y=this.w,x=this.xyRatios,B=this.selectionRect,V=0;h==="resizing"&&(V=30);var E=function(H){return parseFloat(B.node.getAttribute(H))},Y={x:E("x"),y:E("y"),width:E("width"),height:E("height")};y.globals.selection=Y,typeof y.config.chart.events.selection=="function"&&y.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var H,z,Q,$,oe=b.gridRect.getBoundingClientRect(),re=B.node.getBoundingClientRect();y.globals.isRangeBar?(H=y.globals.yAxisScale[0].niceMin+(re.left-oe.left)*x.invertedYRatio,z=y.globals.yAxisScale[0].niceMin+(re.right-oe.left)*x.invertedYRatio,Q=0,$=1):(H=y.globals.xAxisScale.niceMin+(re.left-oe.left)*x.xRatio,z=y.globals.xAxisScale.niceMin+(re.right-oe.left)*x.xRatio,Q=y.globals.yAxisScale[0].niceMin+(oe.bottom-re.bottom)*x.yRatio[0],$=y.globals.yAxisScale[0].niceMax-(re.top-oe.top)*x.yRatio[0]);var se={xaxis:{min:H,max:z},yaxis:{min:Q,max:$}};y.config.chart.events.selection(b.ctx,se),y.config.chart.brush.enabled&&y.config.chart.events.brushScrolled!==void 0&&y.config.chart.events.brushScrolled(b.ctx,se)},V))}},{key:"selectionDrawn",value:function(h){var I=h.context,b=h.zoomtype,y=this.w,x=I,B=this.xyRatios,V=this.ctx.toolbar;if(x.startX>x.endX){var E=x.startX;x.startX=x.endX,x.endX=E}if(x.startY>x.endY){var Y=x.startY;x.startY=x.endY,x.endY=Y}var H=void 0,z=void 0;y.globals.isRangeBar?(H=y.globals.yAxisScale[0].niceMin+x.startX*B.invertedYRatio,z=y.globals.yAxisScale[0].niceMin+x.endX*B.invertedYRatio):(H=y.globals.xAxisScale.niceMin+x.startX*B.xRatio,z=y.globals.xAxisScale.niceMin+x.endX*B.xRatio);var Q=[],$=[];if(y.config.yaxis.forEach(function(ce,ge){if(y.globals.seriesYAxisMap[ge].length>0){var me=y.globals.seriesYAxisMap[ge][0];Q.push(y.globals.yAxisScale[ge].niceMax-B.yRatio[me]*x.startY),$.push(y.globals.yAxisScale[ge].niceMax-B.yRatio[me]*x.endY)}}),x.dragged&&(x.dragX>10||x.dragY>10)&&H!==z){if(y.globals.zoomEnabled){var oe=F.clone(y.globals.initialConfig.yaxis),re=F.clone(y.globals.initialConfig.xaxis);if(y.globals.zoomed=!0,y.config.xaxis.convertedCatToNumeric&&(H=Math.floor(H),z=Math.floor(z),H<1&&(H=1,z=y.globals.dataPoints),z-H<2&&(z=H+1)),b!=="xy"&&b!=="x"||(re={min:H,max:z}),b!=="xy"&&b!=="y"||oe.forEach(function(ce,ge){oe[ge].min=$[ge],oe[ge].max=Q[ge]}),V){var se=V.getBeforeZoomRange(re,oe);se&&(re=se.xaxis?se.xaxis:re,oe=se.yaxis?se.yaxis:oe)}var W={xaxis:re};y.config.chart.group||(W.yaxis=oe),x.ctx.updateHelpers._updateOptions(W,!1,x.w.config.chart.animations.dynamicAnimation.enabled),typeof y.config.chart.events.zoomed=="function"&&V.zoomCallback(re,oe)}else if(y.globals.selectionEnabled){var T,ee=null;T={min:H,max:z},b!=="xy"&&b!=="y"||(ee=F.clone(y.config.yaxis)).forEach(function(ce,ge){ee[ge].min=$[ge],ee[ge].max=Q[ge]}),y.globals.selection=x.selection,typeof y.config.chart.events.selection=="function"&&y.config.chart.events.selection(x.ctx,{xaxis:T,yaxis:ee})}}}},{key:"panDragging",value:function(h){var I=h.context,b=this.w,y=I;if(b.globals.lastClientPosition.x!==void 0){var x=b.globals.lastClientPosition.x-y.clientX,B=b.globals.lastClientPosition.y-y.clientY;Math.abs(x)>Math.abs(B)&&x>0?this.moveDirection="left":Math.abs(x)>Math.abs(B)&&x<0?this.moveDirection="right":Math.abs(B)>Math.abs(x)&&B>0?this.moveDirection="up":Math.abs(B)>Math.abs(x)&&B<0&&(this.moveDirection="down")}b.globals.lastClientPosition={x:y.clientX,y:y.clientY};var V=b.globals.isRangeBar?b.globals.minY:b.globals.minX,E=b.globals.isRangeBar?b.globals.maxY:b.globals.maxX;b.config.xaxis.convertedCatToNumeric||y.panScrolled(V,E)}},{key:"delayedPanScrolled",value:function(){var h=this.w,I=h.globals.minX,b=h.globals.maxX,y=(h.globals.maxX-h.globals.minX)/2;this.moveDirection==="left"?(I=h.globals.minX+y,b=h.globals.maxX+y):this.moveDirection==="right"&&(I=h.globals.minX-y,b=h.globals.maxX-y),I=Math.floor(I),b=Math.floor(b),this.updateScrolledChart({xaxis:{min:I,max:b}},I,b)}},{key:"panScrolled",value:function(h,I){var b=this.w,y=this.xyRatios,x=F.clone(b.globals.initialConfig.yaxis),B=y.xRatio,V=b.globals.minX,E=b.globals.maxX;b.globals.isRangeBar&&(B=y.invertedYRatio,V=b.globals.minY,E=b.globals.maxY),this.moveDirection==="left"?(h=V+b.globals.gridWidth/15*B,I=E+b.globals.gridWidth/15*B):this.moveDirection==="right"&&(h=V-b.globals.gridWidth/15*B,I=E-b.globals.gridWidth/15*B),b.globals.isRangeBar||(h<b.globals.initialMinX||I>b.globals.initialMaxX)&&(h=V,I=E);var Y={xaxis:{min:h,max:I}};b.config.chart.group||(Y.yaxis=x),this.updateScrolledChart(Y,h,I)}},{key:"updateScrolledChart",value:function(h,I,b){var y=this.w;this.ctx.updateHelpers._updateOptions(h,!1,!1),typeof y.config.chart.events.scrolled=="function"&&y.config.chart.events.scrolled(this.ctx,{xaxis:{min:I,max:b}})}}]),g}(),St=function(){function le(c){m(this,le),this.w=c.w,this.ttCtx=c,this.ctx=c.ctx}return v(le,[{key:"getNearestValues",value:function(c){var g=c.hoverArea,h=c.elGrid,I=c.clientX,b=c.clientY,y=this.w,x=h.getBoundingClientRect(),B=x.width,V=x.height,E=B/(y.globals.dataPoints-1),Y=V/y.globals.dataPoints,H=this.hasBars();!y.globals.comboCharts&&!H||y.config.xaxis.convertedCatToNumeric||(E=B/y.globals.dataPoints);var z=I-x.left-y.globals.barPadForNumericAxis,Q=b-x.top;z<0||Q<0||z>B||Q>V?(g.classList.remove("hovering-zoom"),g.classList.remove("hovering-pan")):y.globals.zoomEnabled?(g.classList.remove("hovering-pan"),g.classList.add("hovering-zoom")):y.globals.panEnabled&&(g.classList.remove("hovering-zoom"),g.classList.add("hovering-pan"));var $=Math.round(z/E),oe=Math.floor(Q/Y);H&&!y.config.xaxis.convertedCatToNumeric&&($=Math.ceil(z/E),$-=1);var re=null,se=null,W=y.globals.seriesXvalues.map(function(me){return me.filter(function(Ae){return F.isNumber(Ae)})}),T=y.globals.seriesYvalues.map(function(me){return me.filter(function(Ae){return F.isNumber(Ae)})});if(y.globals.isXNumeric){var ee=this.ttCtx.getElGrid().getBoundingClientRect(),ce=z*(ee.width/B),ge=Q*(ee.height/V);re=(se=this.closestInMultiArray(ce,ge,W,T)).index,$=se.j,re!==null&&(W=y.globals.seriesXvalues[re],$=(se=this.closestInArray(ce,W)).index)}return y.globals.capturedSeriesIndex=re===null?-1:re,(!$||$<1)&&($=0),y.globals.isBarHorizontal?y.globals.capturedDataPointIndex=oe:y.globals.capturedDataPointIndex=$,{capturedSeries:re,j:y.globals.isBarHorizontal?oe:$,hoverX:z,hoverY:Q}}},{key:"closestInMultiArray",value:function(c,g,h,I){var b=this.w,y=0,x=null,B=-1;b.globals.series.length>1?y=this.getFirstActiveXArray(h):x=0;var V=h[y][0],E=Math.abs(c-V);if(h.forEach(function(z){z.forEach(function(Q,$){var oe=Math.abs(c-Q);oe<=E&&(E=oe,B=$)})}),B!==-1){var Y=I[y][B],H=Math.abs(g-Y);x=y,I.forEach(function(z,Q){var $=Math.abs(g-z[B]);$<=H&&(H=$,x=Q)})}return{index:x,j:B}}},{key:"getFirstActiveXArray",value:function(c){for(var g=this.w,h=0,I=c.map(function(y,x){return y.length>0?x:-1}),b=0;b<I.length;b++)if(I[b]!==-1&&g.globals.collapsedSeriesIndices.indexOf(b)===-1&&g.globals.ancillaryCollapsedSeriesIndices.indexOf(b)===-1){h=I[b];break}return h}},{key:"closestInArray",value:function(c,g){for(var h=g[0],I=null,b=Math.abs(c-h),y=0;y<g.length;y++){var x=Math.abs(c-g[y]);x<b&&(b=x,I=y)}return{index:I}}},{key:"isXoverlap",value:function(c){var g=[],h=this.w.globals.seriesX.filter(function(b){return b[0]!==void 0});if(h.length>0)for(var I=0;I<h.length-1;I++)h[I][c]!==void 0&&h[I+1][c]!==void 0&&h[I][c]!==h[I+1][c]&&g.push("unEqual");return g.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var c=!0,g=this.w.globals.initialSeries,h=0;h<g.length-1;h++)if(g[h].data.length!==g[h+1].data.length){c=!1;break}return c}},{key:"getBarsHeight",value:function(c){return L(c).reduce(function(g,h){return g+h.getBBox().height},0)}},{key:"getElMarkers",value:function(c){return typeof c=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(c,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var c=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(c=L(c)).sort(function(h,I){var b=Number(h.getAttribute("data:realIndex")),y=Number(I.getAttribute("data:realIndex"));return y<b?1:y>b?-1:0});var g=[];return c.forEach(function(h){g.push(h.querySelector(".apexcharts-marker"))}),g}},{key:"hasMarkers",value:function(c){return this.getElMarkers(c).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(c){var g=this.w,h=g.config.markers.hover.size;return h===void 0&&(h=g.globals.markers.size[c]+g.config.markers.hover.sizeOffset),h}},{key:"toggleAllTooltipSeriesGroups",value:function(c){var g=this.w,h=this.ttCtx;h.allTooltipSeriesGroups.length===0&&(h.allTooltipSeriesGroups=g.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var I=h.allTooltipSeriesGroups,b=0;b<I.length;b++)c==="enable"?(I[b].classList.add("apexcharts-active"),I[b].style.display=g.config.tooltip.items.display):(I[b].classList.remove("apexcharts-active"),I[b].style.display="none")}}]),le}(),Yt=function(){function le(c){m(this,le),this.w=c.w,this.ctx=c.ctx,this.ttCtx=c,this.tooltipUtil=new St(c)}return v(le,[{key:"drawSeriesTexts",value:function(c){var g=c.shared,h=g===void 0||g,I=c.ttItems,b=c.i,y=b===void 0?0:b,x=c.j,B=x===void 0?null:x,V=c.y1,E=c.y2,Y=c.e,H=this.w;H.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:y,j:B,y1:V,y2:E,w:H}):this.toggleActiveInactiveSeries(h);var z=this.getValuesToPrint({i:y,j:B});this.printLabels({i:y,j:B,values:z,ttItems:I,shared:h,e:Y});var Q=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=Q.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=Q.getBoundingClientRect().height}},{key:"printLabels",value:function(c){var g,h=this,I=c.i,b=c.j,y=c.values,x=c.ttItems,B=c.shared,V=c.e,E=this.w,Y=[],H=function(ee){return E.globals.seriesGoals[ee]&&E.globals.seriesGoals[ee][b]&&Array.isArray(E.globals.seriesGoals[ee][b])},z=y.xVal,Q=y.zVal,$=y.xAxisTTVal,oe="",re=E.globals.colors[I];b!==null&&E.config.plotOptions.bar.distributed&&(re=E.globals.colors[b]);for(var se=function(ee,ce){var ge=h.getFormatters(I);oe=h.getSeriesName({fn:ge.yLbTitleFormatter,index:I,seriesIndex:I,j:b}),E.config.chart.type==="treemap"&&(oe=ge.yLbTitleFormatter(String(E.config.series[I].data[b].x),{series:E.globals.series,seriesIndex:I,dataPointIndex:b,w:E}));var me=E.config.tooltip.inverseOrder?ce:ee;if(E.globals.axisCharts){var Ae=function(Te){var Ve,Le,st,pt;return E.globals.isRangeData?ge.yLbFormatter((Ve=E.globals.seriesRangeStart)===null||Ve===void 0||(Le=Ve[Te])===null||Le===void 0?void 0:Le[b],{series:E.globals.seriesRangeStart,seriesIndex:Te,dataPointIndex:b,w:E})+" - "+ge.yLbFormatter((st=E.globals.seriesRangeEnd)===null||st===void 0||(pt=st[Te])===null||pt===void 0?void 0:pt[b],{series:E.globals.seriesRangeEnd,seriesIndex:Te,dataPointIndex:b,w:E}):ge.yLbFormatter(E.globals.series[Te][b],{series:E.globals.series,seriesIndex:Te,dataPointIndex:b,w:E})};if(B)ge=h.getFormatters(me),oe=h.getSeriesName({fn:ge.yLbTitleFormatter,index:me,seriesIndex:I,j:b}),re=E.globals.colors[me],g=Ae(me),H(me)&&(Y=E.globals.seriesGoals[me][b].map(function(Te){return{attrs:Te,val:ge.yLbFormatter(Te.value,{seriesIndex:me,dataPointIndex:b,w:E})}}));else{var ye,Ne=V==null||(ye=V.target)===null||ye===void 0?void 0:ye.getAttribute("fill");Ne&&(re=Ne.indexOf("url")!==-1?document.querySelector(Ne.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):Ne),g=Ae(I),H(I)&&Array.isArray(E.globals.seriesGoals[I][b])&&(Y=E.globals.seriesGoals[I][b].map(function(Te){return{attrs:Te,val:ge.yLbFormatter(Te.value,{seriesIndex:I,dataPointIndex:b,w:E})}}))}}b===null&&(g=ge.yLbFormatter(E.globals.series[I],s(s({},E),{},{seriesIndex:I,dataPointIndex:I}))),h.DOMHandling({i:I,t:me,j:b,ttItems:x,values:{val:g,goalVals:Y,xVal:z,xAxisTTVal:$,zVal:Q},seriesName:oe,shared:B,pColor:re})},W=0,T=E.globals.series.length-1;W<E.globals.series.length;W++,T--)se(W,T)}},{key:"getFormatters",value:function(c){var g,h=this.w,I=h.globals.yLabelFormatters[c];return h.globals.ttVal!==void 0?Array.isArray(h.globals.ttVal)?(I=h.globals.ttVal[c]&&h.globals.ttVal[c].formatter,g=h.globals.ttVal[c]&&h.globals.ttVal[c].title&&h.globals.ttVal[c].title.formatter):(I=h.globals.ttVal.formatter,typeof h.globals.ttVal.title.formatter=="function"&&(g=h.globals.ttVal.title.formatter)):g=h.config.tooltip.y.title.formatter,typeof I!="function"&&(I=h.globals.yLabelFormatters[0]?h.globals.yLabelFormatters[0]:function(b){return b}),typeof g!="function"&&(g=function(b){return b}),{yLbFormatter:I,yLbTitleFormatter:g}}},{key:"getSeriesName",value:function(c){var g=c.fn,h=c.index,I=c.seriesIndex,b=c.j,y=this.w;return g(String(y.globals.seriesNames[h]),{series:y.globals.series,seriesIndex:I,dataPointIndex:b,w:y})}},{key:"DOMHandling",value:function(c){c.i;var g=c.t,h=c.j,I=c.ttItems,b=c.values,y=c.seriesName,x=c.shared,B=c.pColor,V=this.w,E=this.ttCtx,Y=b.val,H=b.goalVals,z=b.xVal,Q=b.xAxisTTVal,$=b.zVal,oe=null;oe=I[g].children,V.config.tooltip.fillSeriesColor&&(I[g].style.backgroundColor=B,oe[0].style.display="none"),E.showTooltipTitle&&(E.tooltipTitle===null&&(E.tooltipTitle=V.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),E.tooltipTitle.innerHTML=z),E.isXAxisTooltipEnabled&&(E.xaxisTooltipText.innerHTML=Q!==""?Q:z);var re=I[g].querySelector(".apexcharts-tooltip-text-y-label");re&&(re.innerHTML=y||"");var se=I[g].querySelector(".apexcharts-tooltip-text-y-value");se&&(se.innerHTML=Y!==void 0?Y:""),oe[0]&&oe[0].classList.contains("apexcharts-tooltip-marker")&&(V.config.tooltip.marker.fillColors&&Array.isArray(V.config.tooltip.marker.fillColors)&&(B=V.config.tooltip.marker.fillColors[g]),oe[0].style.backgroundColor=B),V.config.tooltip.marker.show||(oe[0].style.display="none");var W=I[g].querySelector(".apexcharts-tooltip-text-goals-label"),T=I[g].querySelector(".apexcharts-tooltip-text-goals-value");if(H.length&&V.globals.seriesGoals[g]){var ee=function(){var me="<div >",Ae="<div>";H.forEach(function(ye,Ne){me+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(ye.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(ye.attrs.name,"</div>"),Ae+="<div>".concat(ye.val,"</div>")}),W.innerHTML=me+"</div>",T.innerHTML=Ae+"</div>"};x?V.globals.seriesGoals[g][h]&&Array.isArray(V.globals.seriesGoals[g][h])?ee():(W.innerHTML="",T.innerHTML=""):ee()}else W.innerHTML="",T.innerHTML="";if($!==null&&(I[g].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=V.config.tooltip.z.title,I[g].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=$!==void 0?$:""),x&&oe[0]){if(V.config.tooltip.hideEmptySeries){var ce=I[g].querySelector(".apexcharts-tooltip-marker"),ge=I[g].querySelector(".apexcharts-tooltip-text");parseFloat(Y)==0?(ce.style.display="none",ge.style.display="none"):(ce.style.display="block",ge.style.display="block")}Y==null||V.globals.ancillaryCollapsedSeriesIndices.indexOf(g)>-1||V.globals.collapsedSeriesIndices.indexOf(g)>-1?oe[0].parentNode.style.display="none":oe[0].parentNode.style.display=V.config.tooltip.items.display}}},{key:"toggleActiveInactiveSeries",value:function(c){var g=this.w;if(c)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var h=g.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");h&&(h.classList.add("apexcharts-active"),h.style.display=g.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(c){var g=c.i,h=c.j,I=this.w,b=this.ctx.series.filteredSeriesX(),y="",x="",B=null,V=null,E={series:I.globals.series,seriesIndex:g,dataPointIndex:h,w:I},Y=I.globals.ttZFormatter;h===null?V=I.globals.series[g]:I.globals.isXNumeric&&I.config.chart.type!=="treemap"?(y=b[g][h],b[g].length===0&&(y=b[this.tooltipUtil.getFirstActiveXArray(b)][h])):y=I.globals.labels[h]!==void 0?I.globals.labels[h]:"";var H=y;return I.globals.isXNumeric&&I.config.xaxis.type==="datetime"?y=new Ce(this.ctx).xLabelFormat(I.globals.ttKeyFormatter,H,H,{i:void 0,dateFormatter:new pe(this.ctx).formatDate,w:this.w}):y=I.globals.isBarHorizontal?I.globals.yLabelFormatters[0](H,E):I.globals.xLabelFormatter(H,E),I.config.tooltip.x.formatter!==void 0&&(y=I.globals.ttKeyFormatter(H,E)),I.globals.seriesZ.length>0&&I.globals.seriesZ[g].length>0&&(B=Y(I.globals.seriesZ[g][h],I)),x=typeof I.config.xaxis.tooltip.formatter=="function"?I.globals.xaxisTooltipFormatter(H,E):y,{val:Array.isArray(V)?V.join(" "):V,xVal:Array.isArray(y)?y.join(" "):y,xAxisTTVal:Array.isArray(x)?x.join(" "):x,zVal:B}}},{key:"handleCustomTooltip",value:function(c){var g=c.i,h=c.j,I=c.y1,b=c.y2,y=c.w,x=this.ttCtx.getElTooltip(),B=y.config.tooltip.custom;Array.isArray(B)&&B[g]&&(B=B[g]),x.innerHTML=B({ctx:this.ctx,series:y.globals.series,seriesIndex:g,dataPointIndex:h,y1:I,y2:b,w:y})}}]),le}(),$e=function(){function le(c){m(this,le),this.ttCtx=c,this.ctx=c.ctx,this.w=c.w}return v(le,[{key:"moveXCrosshairs",value:function(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,h=this.ttCtx,I=this.w,b=h.getElXCrosshairs(),y=c-h.xcrosshairsWidth/2,x=I.globals.labels.slice().length;if(g!==null&&(y=I.globals.gridWidth/x*g),b===null||I.globals.isBarHorizontal||(b.setAttribute("x",y),b.setAttribute("x1",y),b.setAttribute("x2",y),b.setAttribute("y2",I.globals.gridHeight),b.classList.add("apexcharts-active")),y<0&&(y=0),y>I.globals.gridWidth&&(y=I.globals.gridWidth),h.isXAxisTooltipEnabled){var B=y;I.config.xaxis.crosshairs.width!=="tickWidth"&&I.config.xaxis.crosshairs.width!=="barWidth"||(B=y+h.xcrosshairsWidth/2),this.moveXAxisTooltip(B)}}},{key:"moveYCrosshairs",value:function(c){var g=this.ttCtx;g.ycrosshairs!==null&&ne.setAttrs(g.ycrosshairs,{y1:c,y2:c}),g.ycrosshairsHidden!==null&&ne.setAttrs(g.ycrosshairsHidden,{y1:c,y2:c})}},{key:"moveXAxisTooltip",value:function(c){var g=this.w,h=this.ttCtx;if(h.xaxisTooltip!==null&&h.xcrosshairsWidth!==0){h.xaxisTooltip.classList.add("apexcharts-active");var I=h.xaxisOffY+g.config.xaxis.tooltip.offsetY+g.globals.translateY+1+g.config.xaxis.offsetY;if(c-=h.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(c)){c+=g.globals.translateX;var b;b=new ne(this.ctx).getTextRects(h.xaxisTooltipText.innerHTML),h.xaxisTooltipText.style.minWidth=b.width+"px",h.xaxisTooltip.style.left=c+"px",h.xaxisTooltip.style.top=I+"px"}}}},{key:"moveYAxisTooltip",value:function(c){var g=this.w,h=this.ttCtx;h.yaxisTTEls===null&&(h.yaxisTTEls=g.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var I=parseInt(h.ycrosshairsHidden.getAttribute("y1"),10),b=g.globals.translateY+I,y=h.yaxisTTEls[c].getBoundingClientRect().height,x=g.globals.translateYAxisX[c]-2;g.config.yaxis[c].opposite&&(x-=26),b-=y/2,g.globals.ignoreYAxisIndexes.indexOf(c)===-1?(h.yaxisTTEls[c].classList.add("apexcharts-active"),h.yaxisTTEls[c].style.top=b+"px",h.yaxisTTEls[c].style.left=x+g.config.yaxis[c].tooltip.offsetX+"px"):h.yaxisTTEls[c].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(c,g){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,I=this.w,b=this.ttCtx,y=b.getElTooltip(),x=b.tooltipRect,B=h!==null?parseFloat(h):1,V=parseFloat(c)+B+5,E=parseFloat(g)+B/2;if(V>I.globals.gridWidth/2&&(V=V-x.ttWidth-B-10),V>I.globals.gridWidth-x.ttWidth-10&&(V=I.globals.gridWidth-x.ttWidth),V<-20&&(V=-20),I.config.tooltip.followCursor){var Y=b.getElGrid().getBoundingClientRect();(V=b.e.clientX-Y.left)>I.globals.gridWidth/2&&(V-=b.tooltipRect.ttWidth),(E=b.e.clientY+I.globals.translateY-Y.top)>I.globals.gridHeight/2&&(E-=b.tooltipRect.ttHeight)}else I.globals.isBarHorizontal||x.ttHeight/2+E>I.globals.gridHeight&&(E=I.globals.gridHeight-x.ttHeight+I.globals.translateY);isNaN(V)||(V+=I.globals.translateX,y.style.left=V+"px",y.style.top=E+"px")}},{key:"moveMarkers",value:function(c,g){var h=this.w,I=this.ttCtx;if(h.globals.markers.size[c]>0)for(var b=h.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(c,"'] .apexcharts-marker")),y=0;y<b.length;y++)parseInt(b[y].getAttribute("rel"),10)===g&&(I.marker.resetPointsSize(),I.marker.enlargeCurrentPoint(g,b[y]));else I.marker.resetPointsSize(),this.moveDynamicPointOnHover(g,c)}},{key:"moveDynamicPointOnHover",value:function(c,g){var h,I,b=this.w,y=this.ttCtx,x=b.globals.pointsArray,B=y.tooltipUtil.getHoverMarkerSize(g),V=b.config.series[g].type;if(!V||V!=="column"&&V!=="candlestick"&&V!=="boxPlot"){h=x[g][c][0],I=x[g][c][1]?x[g][c][1]:0;var E=b.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(g,"'] .apexcharts-series-markers circle"));E&&I<b.globals.gridHeight&&I>0&&(E.setAttribute("r",B),E.setAttribute("cx",h),E.setAttribute("cy",I)),this.moveXCrosshairs(h),y.fixedTooltip||this.moveTooltip(h,I,B)}}},{key:"moveDynamicPointsOnHover",value:function(c){var g,h=this.ttCtx,I=h.w,b=0,y=0,x=I.globals.pointsArray;g=new Oe(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var B=h.tooltipUtil.getHoverMarkerSize(g);x[g]&&(b=x[g][c][0],y=x[g][c][1]);var V=h.tooltipUtil.getAllMarkers();if(V!==null)for(var E=0;E<I.globals.series.length;E++){var Y=x[E];if(I.globals.comboCharts&&Y===void 0&&V.splice(E,0,null),Y&&Y.length){var H=x[E][c][1],z=void 0;if(V[E].setAttribute("cx",b),I.config.chart.type==="rangeArea"&&!I.globals.comboCharts){var Q=c+I.globals.series[E].length;z=x[E][Q][1],H-=Math.abs(H-z)/2}H!==null&&!isNaN(H)&&H<I.globals.gridHeight+B&&H+B>0?(V[E]&&V[E].setAttribute("r",B),V[E]&&V[E].setAttribute("cy",H)):V[E]&&V[E].setAttribute("r",0)}}this.moveXCrosshairs(b),h.fixedTooltip||this.moveTooltip(b,y||I.globals.gridHeight,B)}},{key:"moveStickyTooltipOverBars",value:function(c,g){var h=this.w,I=this.ttCtx,b=h.globals.columnSeries?h.globals.columnSeries.length:h.globals.series.length,y=b>=2&&b%2==0?Math.floor(b/2):Math.floor(b/2)+1;h.globals.isBarHorizontal&&(y=new Oe(this.ctx).getActiveConfigSeriesIndex("desc")+1);var x=h.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(y,"'] path[j='").concat(c,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(y,"'] path[j='").concat(c,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(y,"'] path[j='").concat(c,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(y,"'] path[j='").concat(c,"']"));x||typeof g!="number"||(x=h.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(g,"'] path[j='").concat(c,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(g,"'] path[j='").concat(c,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(g,"'] path[j='").concat(c,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(g,"'] path[j='").concat(c,"']")));var B=x?parseFloat(x.getAttribute("cx")):0,V=x?parseFloat(x.getAttribute("cy")):0,E=x?parseFloat(x.getAttribute("barWidth")):0,Y=I.getElGrid().getBoundingClientRect(),H=x&&(x.classList.contains("apexcharts-candlestick-area")||x.classList.contains("apexcharts-boxPlot-area"));h.globals.isXNumeric?(x&&!H&&(B-=b%2!=0?E/2:0),x&&H&&h.globals.comboCharts&&(B-=E/2)):h.globals.isBarHorizontal||(B=I.xAxisTicksPositions[c-1]+I.dataPointsDividedWidth/2,isNaN(B)&&(B=I.xAxisTicksPositions[c]-I.dataPointsDividedWidth/2)),h.globals.isBarHorizontal?V-=I.tooltipRect.ttHeight:h.config.tooltip.followCursor?V=I.e.clientY-Y.top-I.tooltipRect.ttHeight/2:V+I.tooltipRect.ttHeight+15>h.globals.gridHeight&&(V=h.globals.gridHeight),h.globals.isBarHorizontal||this.moveXCrosshairs(B),I.fixedTooltip||this.moveTooltip(B,V||h.globals.gridHeight)}}]),le}(),Dt=function(){function le(c){m(this,le),this.w=c.w,this.ttCtx=c,this.ctx=c.ctx,this.tooltipPosition=new $e(c)}return v(le,[{key:"drawDynamicPoints",value:function(){var c=this.w,g=new ne(this.ctx),h=new ve(this.ctx),I=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series");I=L(I),c.config.chart.stacked&&I.sort(function(Y,H){return parseFloat(Y.getAttribute("data:realIndex"))-parseFloat(H.getAttribute("data:realIndex"))});for(var b=0;b<I.length;b++){var y=I[b].querySelector(".apexcharts-series-markers-wrap");if(y!==null){var x=void 0,B="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));c.config.chart.type!=="line"&&c.config.chart.type!=="area"||c.globals.comboCharts||c.config.tooltip.intersect||(B+=" no-pointer-events");var V=h.getMarkerConfig({cssClass:B,seriesIndex:Number(y.getAttribute("data:realIndex"))});(x=g.drawMarker(0,0,V)).node.setAttribute("default-marker-size",0);var E=document.createElementNS(c.globals.SVGNS,"g");E.classList.add("apexcharts-series-markers"),E.appendChild(x.node),y.appendChild(E)}}}},{key:"enlargeCurrentPoint",value:function(c,g){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,b=this.w;b.config.chart.type!=="bubble"&&this.newPointSize(c,g);var y=g.getAttribute("cx"),x=g.getAttribute("cy");if(h!==null&&I!==null&&(y=h,x=I),this.tooltipPosition.moveXCrosshairs(y),!this.fixedTooltip){if(b.config.chart.type==="radar"){var B=this.ttCtx.getElGrid().getBoundingClientRect();y=this.ttCtx.e.clientX-B.left}this.tooltipPosition.moveTooltip(y,x,b.config.markers.hover.size)}}},{key:"enlargePoints",value:function(c){for(var g=this.w,h=this,I=this.ttCtx,b=c,y=g.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),x=g.config.markers.hover.size,B=0;B<y.length;B++){var V=y[B].getAttribute("rel"),E=y[B].getAttribute("index");if(x===void 0&&(x=g.globals.markers.size[E]+g.config.markers.hover.sizeOffset),b===parseInt(V,10)){h.newPointSize(b,y[B]);var Y=y[B].getAttribute("cx"),H=y[B].getAttribute("cy");h.tooltipPosition.moveXCrosshairs(Y),I.fixedTooltip||h.tooltipPosition.moveTooltip(Y,H,x)}else h.oldPointSize(y[B])}}},{key:"newPointSize",value:function(c,g){var h=this.w,I=h.config.markers.hover.size,b=c===0?g.parentNode.firstChild:g.parentNode.lastChild;if(b.getAttribute("default-marker-size")!=="0"){var y=parseInt(b.getAttribute("index"),10);I===void 0&&(I=h.globals.markers.size[y]+h.config.markers.hover.sizeOffset),I<0&&(I=0),b.setAttribute("r",I)}}},{key:"oldPointSize",value:function(c){var g=parseFloat(c.getAttribute("default-marker-size"));c.setAttribute("r",g)}},{key:"resetPointsSize",value:function(){for(var c=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),g=0;g<c.length;g++){var h=parseFloat(c[g].getAttribute("default-marker-size"));F.isNumber(h)&&h>=0?c[g].setAttribute("r",h):c[g].setAttribute("r",0)}}}]),le}(),Kt=function(){function le(c){m(this,le),this.w=c.w;var g=this.w;this.ttCtx=c,this.isVerticalGroupedRangeBar=!g.globals.isBarHorizontal&&g.config.chart.type==="rangeBar"&&g.config.plotOptions.bar.rangeBarGroupRows}return v(le,[{key:"getAttr",value:function(c,g){return parseFloat(c.target.getAttribute(g))}},{key:"handleHeatTreeTooltip",value:function(c){var g=c.e,h=c.opt,I=c.x,b=c.y,y=c.type,x=this.ttCtx,B=this.w;if(g.target.classList.contains("apexcharts-".concat(y,"-rect"))){var V=this.getAttr(g,"i"),E=this.getAttr(g,"j"),Y=this.getAttr(g,"cx"),H=this.getAttr(g,"cy"),z=this.getAttr(g,"width"),Q=this.getAttr(g,"height");if(x.tooltipLabels.drawSeriesTexts({ttItems:h.ttItems,i:V,j:E,shared:!1,e:g}),B.globals.capturedSeriesIndex=V,B.globals.capturedDataPointIndex=E,I=Y+x.tooltipRect.ttWidth/2+z,b=H+x.tooltipRect.ttHeight/2-Q/2,x.tooltipPosition.moveXCrosshairs(Y+z/2),I>B.globals.gridWidth/2&&(I=Y-x.tooltipRect.ttWidth/2+z),x.w.config.tooltip.followCursor){var $=B.globals.dom.elWrap.getBoundingClientRect();I=B.globals.clientX-$.left-(I>B.globals.gridWidth/2?x.tooltipRect.ttWidth:0),b=B.globals.clientY-$.top-(b>B.globals.gridHeight/2?x.tooltipRect.ttHeight:0)}}return{x:I,y:b}}},{key:"handleMarkerTooltip",value:function(c){var g,h,I=c.e,b=c.opt,y=c.x,x=c.y,B=this.w,V=this.ttCtx;if(I.target.classList.contains("apexcharts-marker")){var E=parseInt(b.paths.getAttribute("cx"),10),Y=parseInt(b.paths.getAttribute("cy"),10),H=parseFloat(b.paths.getAttribute("val"));if(h=parseInt(b.paths.getAttribute("rel"),10),g=parseInt(b.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,V.intersect){var z=F.findAncestor(b.paths,"apexcharts-series");z&&(g=parseInt(z.getAttribute("data:realIndex"),10))}if(V.tooltipLabels.drawSeriesTexts({ttItems:b.ttItems,i:g,j:h,shared:!V.showOnIntersect&&B.config.tooltip.shared,e:I}),I.type==="mouseup"&&V.markerClick(I,g,h),B.globals.capturedSeriesIndex=g,B.globals.capturedDataPointIndex=h,y=E,x=Y+B.globals.translateY-1.4*V.tooltipRect.ttHeight,V.w.config.tooltip.followCursor){var Q=V.getElGrid().getBoundingClientRect();x=V.e.clientY+B.globals.translateY-Q.top}H<0&&(x=Y),V.marker.enlargeCurrentPoint(h,b.paths,y,x)}return{x:y,y:x}}},{key:"handleBarTooltip",value:function(c){var g,h,I=c.e,b=c.opt,y=this.w,x=this.ttCtx,B=x.getElTooltip(),V=0,E=0,Y=0,H=this.getBarTooltipXY({e:I,opt:b});g=H.i;var z=H.barHeight,Q=H.j;y.globals.capturedSeriesIndex=g,y.globals.capturedDataPointIndex=Q,y.globals.isBarHorizontal&&x.tooltipUtil.hasBars()||!y.config.tooltip.shared?(E=H.x,Y=H.y,h=Array.isArray(y.config.stroke.width)?y.config.stroke.width[g]:y.config.stroke.width,V=E):y.globals.comboCharts||y.config.tooltip.shared||(V/=2),isNaN(Y)&&(Y=y.globals.svgHeight-x.tooltipRect.ttHeight);var $=parseInt(b.paths.parentNode.getAttribute("data:realIndex"),10),oe=y.globals.isMultipleYAxis?y.config.yaxis[$]&&y.config.yaxis[$].reversed:y.config.yaxis[0].reversed;if(E+x.tooltipRect.ttWidth>y.globals.gridWidth&&!oe?E-=x.tooltipRect.ttWidth:E<0&&(E=0),x.w.config.tooltip.followCursor){var re=x.getElGrid().getBoundingClientRect();Y=x.e.clientY-re.top}x.tooltip===null&&(x.tooltip=y.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),y.config.tooltip.shared||(y.globals.comboBarCount>0?x.tooltipPosition.moveXCrosshairs(V+h/2):x.tooltipPosition.moveXCrosshairs(V)),!x.fixedTooltip&&(!y.config.tooltip.shared||y.globals.isBarHorizontal&&x.tooltipUtil.hasBars())&&(oe&&(E-=x.tooltipRect.ttWidth)<0&&(E=0),!oe||y.globals.isBarHorizontal&&x.tooltipUtil.hasBars()||(Y=Y+z-2*(y.globals.series[g][Q]<0?z:0)),Y=Y+y.globals.translateY-x.tooltipRect.ttHeight/2,B.style.left=E+y.globals.translateX+"px",B.style.top=Y+"px")}},{key:"getBarTooltipXY",value:function(c){var g=this,h=c.e,I=c.opt,b=this.w,y=null,x=this.ttCtx,B=0,V=0,E=0,Y=0,H=0,z=h.target.classList;if(z.contains("apexcharts-bar-area")||z.contains("apexcharts-candlestick-area")||z.contains("apexcharts-boxPlot-area")||z.contains("apexcharts-rangebar-area")){var Q=h.target,$=Q.getBoundingClientRect(),oe=I.elGrid.getBoundingClientRect(),re=$.height;H=$.height;var se=$.width,W=parseInt(Q.getAttribute("cx"),10),T=parseInt(Q.getAttribute("cy"),10);Y=parseFloat(Q.getAttribute("barWidth"));var ee=h.type==="touchmove"?h.touches[0].clientX:h.clientX;y=parseInt(Q.getAttribute("j"),10),B=parseInt(Q.parentNode.getAttribute("rel"),10)-1;var ce=Q.getAttribute("data-range-y1"),ge=Q.getAttribute("data-range-y2");b.globals.comboCharts&&(B=parseInt(Q.parentNode.getAttribute("data:realIndex"),10));var me=function(ye){return b.globals.isXNumeric?W-se/2:g.isVerticalGroupedRangeBar?W+se/2:W-x.dataPointsDividedWidth+se/2},Ae=function(){return T-x.dataPointsDividedHeight+re/2-x.tooltipRect.ttHeight/2};x.tooltipLabels.drawSeriesTexts({ttItems:I.ttItems,i:B,j:y,y1:ce?parseInt(ce,10):null,y2:ge?parseInt(ge,10):null,shared:!x.showOnIntersect&&b.config.tooltip.shared,e:h}),b.config.tooltip.followCursor?b.globals.isBarHorizontal?(V=ee-oe.left+15,E=Ae()):(V=me(),E=h.clientY-oe.top-x.tooltipRect.ttHeight/2-15):b.globals.isBarHorizontal?((V=W)<x.xyRatios.baseLineInvertedY&&(V=W-x.tooltipRect.ttWidth),E=Ae()):(V=me(),E=T)}return{x:V,y:E,barHeight:H,barWidth:Y,i:B,j:y}}}]),le}(),Zt=function(){function le(c){m(this,le),this.w=c.w,this.ttCtx=c}return v(le,[{key:"drawXaxisTooltip",value:function(){var c=this.w,g=this.ttCtx,h=c.config.xaxis.position==="bottom";g.xaxisOffY=h?c.globals.gridHeight+1:-c.globals.xAxisHeight-c.config.xaxis.axisTicks.height+3;var I=h?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",b=c.globals.dom.elWrap;g.isXAxisTooltipEnabled&&c.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(g.xaxisTooltip=document.createElement("div"),g.xaxisTooltip.setAttribute("class",I+" apexcharts-theme-"+c.config.tooltip.theme),b.appendChild(g.xaxisTooltip),g.xaxisTooltipText=document.createElement("div"),g.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),g.xaxisTooltipText.style.fontFamily=c.config.xaxis.tooltip.style.fontFamily||c.config.chart.fontFamily,g.xaxisTooltipText.style.fontSize=c.config.xaxis.tooltip.style.fontSize,g.xaxisTooltip.appendChild(g.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var c=this.w,g=this.ttCtx,h=0;h<c.config.yaxis.length;h++){var I=c.config.yaxis[h].opposite||c.config.yaxis[h].crosshairs.opposite;g.yaxisOffX=I?c.globals.gridWidth+1:1;var b="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(h,I?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),y=c.globals.dom.elWrap;c.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(h))===null&&(g.yaxisTooltip=document.createElement("div"),g.yaxisTooltip.setAttribute("class",b+" apexcharts-theme-"+c.config.tooltip.theme),y.appendChild(g.yaxisTooltip),h===0&&(g.yaxisTooltipText=[]),g.yaxisTooltipText[h]=document.createElement("div"),g.yaxisTooltipText[h].classList.add("apexcharts-yaxistooltip-text"),g.yaxisTooltip.appendChild(g.yaxisTooltipText[h]))}}},{key:"setXCrosshairWidth",value:function(){var c=this.w,g=this.ttCtx,h=g.getElXCrosshairs();if(g.xcrosshairsWidth=parseInt(c.config.xaxis.crosshairs.width,10),c.globals.comboCharts){var I=c.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(I!==null&&c.config.xaxis.crosshairs.width==="barWidth"){var b=parseFloat(I.getAttribute("barWidth"));g.xcrosshairsWidth=b}else if(c.config.xaxis.crosshairs.width==="tickWidth"){var y=c.globals.labels.length;g.xcrosshairsWidth=c.globals.gridWidth/y}}else if(c.config.xaxis.crosshairs.width==="tickWidth"){var x=c.globals.labels.length;g.xcrosshairsWidth=c.globals.gridWidth/x}else if(c.config.xaxis.crosshairs.width==="barWidth"){var B=c.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(B!==null){var V=parseFloat(B.getAttribute("barWidth"));g.xcrosshairsWidth=V}else g.xcrosshairsWidth=1}c.globals.isBarHorizontal&&(g.xcrosshairsWidth=0),h!==null&&g.xcrosshairsWidth>0&&h.setAttribute("width",g.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var c=this.w,g=this.ttCtx;g.ycrosshairs=c.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),g.ycrosshairsHidden=c.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(c,g,h){var I=this.ttCtx,b=this.w,y=b.globals,x=y.seriesYAxisMap[c];if(I.yaxisTooltips[c]&&x.length>0){var B=y.yLabelFormatters[c],V=I.getElGrid().getBoundingClientRect(),E=x[0];h.yRatio.length>1&&function(Q){throw new TypeError('"'+Q+'" is read-only')}("translationsIndex");var Y=(g-V.top)*h.yRatio[0],H=y.maxYArr[E]-y.minYArr[E],z=y.minYArr[E]+(H-Y);b.config.yaxis[c].reversed&&(z=y.maxYArr[E]-(H-Y)),I.tooltipPosition.moveYCrosshairs(g-V.top),I.yaxisTooltipText[c].innerHTML=B(z),I.tooltipPosition.moveYAxisTooltip(c)}}}]),le}(),cn=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w;var g=this.w;this.tConfig=g.config.tooltip,this.tooltipUtil=new St(this),this.tooltipLabels=new Yt(this),this.tooltipPosition=new $e(this),this.marker=new Dt(this),this.intersect=new Kt(this),this.axesTooltip=new Zt(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!g.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return v(le,[{key:"getElTooltip",value:function(c){return c||(c=this),c.w.globals.dom.baseEl?c.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(c){var g=this.w;this.xyRatios=c,this.isXAxisTooltipEnabled=g.config.xaxis.tooltip.enabled&&g.globals.axisCharts,this.yaxisTooltips=g.config.yaxis.map(function(y,x){return!!(y.show&&y.tooltip.enabled&&g.globals.axisCharts)}),this.allTooltipSeriesGroups=[],g.globals.axisCharts||(this.showTooltipTitle=!1);var h=document.createElement("div");if(h.classList.add("apexcharts-tooltip"),g.config.tooltip.cssClass&&h.classList.add(g.config.tooltip.cssClass),h.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),g.globals.dom.elWrap.appendChild(h),g.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var I=new Ct(this.ctx);this.xAxisTicksPositions=I.getXAxisTicksPositions()}if(!g.globals.comboCharts&&!this.tConfig.intersect&&g.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),g.config.markers.size!==0&&g.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),g.globals.collapsedSeries.length!==g.globals.series.length){this.dataPointsDividedHeight=g.globals.gridHeight/g.globals.dataPoints,this.dataPointsDividedWidth=g.globals.gridWidth/g.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||g.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,h.appendChild(this.tooltipTitle));var b=g.globals.series.length;(g.globals.xyCharts||g.globals.comboCharts)&&this.tConfig.shared&&(b=this.showOnIntersect?1:g.globals.series.length),this.legendLabels=g.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(b),this.addSVGEvents()}}},{key:"createTTElements",value:function(c){for(var g=this,h=this.w,I=[],b=this.getElTooltip(),y=function(B){var V=document.createElement("div");V.classList.add("apexcharts-tooltip-series-group"),V.style.order=h.config.tooltip.inverseOrder?c-B:B+1,g.tConfig.shared&&g.tConfig.enabledOnSeries&&Array.isArray(g.tConfig.enabledOnSeries)&&g.tConfig.enabledOnSeries.indexOf(B)<0&&V.classList.add("apexcharts-tooltip-series-group-hidden");var E=document.createElement("span");E.classList.add("apexcharts-tooltip-marker"),E.style.backgroundColor=h.globals.colors[B],V.appendChild(E);var Y=document.createElement("div");Y.classList.add("apexcharts-tooltip-text"),Y.style.fontFamily=g.tConfig.style.fontFamily||h.config.chart.fontFamily,Y.style.fontSize=g.tConfig.style.fontSize,["y","goals","z"].forEach(function(H){var z=document.createElement("div");z.classList.add("apexcharts-tooltip-".concat(H,"-group"));var Q=document.createElement("span");Q.classList.add("apexcharts-tooltip-text-".concat(H,"-label")),z.appendChild(Q);var $=document.createElement("span");$.classList.add("apexcharts-tooltip-text-".concat(H,"-value")),z.appendChild($),Y.appendChild(z)}),V.appendChild(Y),b.appendChild(V),I.push(V)},x=0;x<c;x++)y(x);return I}},{key:"addSVGEvents",value:function(){var c=this.w,g=c.config.chart.type,h=this.getElTooltip(),I=!(g!=="bar"&&g!=="candlestick"&&g!=="boxPlot"&&g!=="rangeBar"),b=g==="area"||g==="line"||g==="scatter"||g==="bubble"||g==="radar",y=c.globals.dom.Paper.node,x=this.getElGrid();x&&(this.seriesBound=x.getBoundingClientRect());var B,V=[],E=[],Y={hoverArea:y,elGrid:x,tooltipEl:h,tooltipY:V,tooltipX:E,ttItems:this.ttItems};if(c.globals.axisCharts&&(b?B=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):I?B=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):g!=="heatmap"&&g!=="treemap"||(B=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),B&&B.length))for(var H=0;H<B.length;H++)V.push(B[H].getAttribute("cy")),E.push(B[H].getAttribute("cx"));if(c.globals.xyCharts&&!this.showOnIntersect||c.globals.comboCharts&&!this.showOnIntersect||I&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([y],Y);else if(I&&!c.globals.comboCharts||b&&this.showOnIntersect)this.addDatapointEventsListeners(Y);else if(!c.globals.axisCharts||g==="heatmap"||g==="treemap"){var z=c.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(z,Y)}if(this.showOnIntersect){var Q=c.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");Q.length>0&&this.addPathsEventListeners(Q,Y),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(Y)}}},{key:"drawFixedTooltipRect",value:function(){var c=this.w,g=this.getElTooltip(),h=g.getBoundingClientRect(),I=h.width+10,b=h.height+10,y=this.tConfig.fixed.offsetX,x=this.tConfig.fixed.offsetY,B=this.tConfig.fixed.position.toLowerCase();return B.indexOf("right")>-1&&(y=y+c.globals.svgWidth-I+10),B.indexOf("bottom")>-1&&(x=x+c.globals.svgHeight-b-10),g.style.left=y+"px",g.style.top=x+"px",{x:y,y:x,ttWidth:I,ttHeight:b}}},{key:"addDatapointEventsListeners",value:function(c){var g=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(g,c)}},{key:"addPathsEventListeners",value:function(c,g){for(var h=this,I=function(y){var x={paths:c[y],tooltipEl:g.tooltipEl,tooltipY:g.tooltipY,tooltipX:g.tooltipX,elGrid:g.elGrid,hoverArea:g.hoverArea,ttItems:g.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(B){return c[y].addEventListener(B,h.onSeriesHover.bind(h,x),{capture:!1,passive:!0})})},b=0;b<c.length;b++)I(b)}},{key:"onSeriesHover",value:function(c,g){var h=this,I=Date.now()-this.lastHoverTime;I>=100?this.seriesHover(c,g):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){h.seriesHover(c,g)},100-I))}},{key:"seriesHover",value:function(c,g){var h=this;this.lastHoverTime=Date.now();var I=[],b=this.w;b.config.chart.group&&(I=this.ctx.getGroupedCharts()),b.globals.axisCharts&&(b.globals.minX===-1/0&&b.globals.maxX===1/0||b.globals.dataPoints===0)||(I.length?I.forEach(function(y){var x=h.getElTooltip(y),B={paths:c.paths,tooltipEl:x,tooltipY:c.tooltipY,tooltipX:c.tooltipX,elGrid:c.elGrid,hoverArea:c.hoverArea,ttItems:y.w.globals.tooltip.ttItems};y.w.globals.minX===h.w.globals.minX&&y.w.globals.maxX===h.w.globals.maxX&&y.w.globals.tooltip.seriesHoverByContext({chartCtx:y,ttCtx:y.w.globals.tooltip,opt:B,e:g})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:c,e:g}))}},{key:"seriesHoverByContext",value:function(c){var g=c.chartCtx,h=c.ttCtx,I=c.opt,b=c.e,y=g.w,x=this.getElTooltip();x&&(h.tooltipRect={x:0,y:0,ttWidth:x.getBoundingClientRect().width,ttHeight:x.getBoundingClientRect().height},h.e=b,h.tooltipUtil.hasBars()&&!y.globals.comboCharts&&!h.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Oe(g).toggleSeriesOnHover(b,b.target.parentNode),h.fixedTooltip&&h.drawFixedTooltipRect(),y.globals.axisCharts?h.axisChartsTooltips({e:b,opt:I,tooltipRect:h.tooltipRect}):h.nonAxisChartsTooltips({e:b,opt:I,tooltipRect:h.tooltipRect}))}},{key:"axisChartsTooltips",value:function(c){var g,h,I=c.e,b=c.opt,y=this.w,x=b.elGrid.getBoundingClientRect(),B=I.type==="touchmove"?I.touches[0].clientX:I.clientX,V=I.type==="touchmove"?I.touches[0].clientY:I.clientY;if(this.clientY=V,this.clientX=B,y.globals.capturedSeriesIndex=-1,y.globals.capturedDataPointIndex=-1,V<x.top||V>x.top+x.height)this.handleMouseOut(b);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!y.config.tooltip.shared){var E=parseInt(b.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(E)<0)return void this.handleMouseOut(b)}var Y=this.getElTooltip(),H=this.getElXCrosshairs(),z=y.globals.xyCharts||y.config.chart.type==="bar"&&!y.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||y.globals.comboCharts&&this.tooltipUtil.hasBars();if(I.type==="mousemove"||I.type==="touchmove"||I.type==="mouseup"){if(y.globals.collapsedSeries.length+y.globals.ancillaryCollapsedSeries.length===y.globals.series.length)return;H!==null&&H.classList.add("apexcharts-active");var Q=this.yaxisTooltips.filter(function(re){return re===!0});if(this.ycrosshairs!==null&&Q.length&&this.ycrosshairs.classList.add("apexcharts-active"),z&&!this.showOnIntersect)this.handleStickyTooltip(I,B,V,b);else if(y.config.chart.type==="heatmap"||y.config.chart.type==="treemap"){var $=this.intersect.handleHeatTreeTooltip({e:I,opt:b,x:g,y:h,type:y.config.chart.type});g=$.x,h=$.y,Y.style.left=g+"px",Y.style.top=h+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:I,opt:b}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:I,opt:b,x:g,y:h});if(this.yaxisTooltips.length)for(var oe=0;oe<y.config.yaxis.length;oe++)this.axesTooltip.drawYaxisTooltipText(oe,V,this.xyRatios);b.tooltipEl.classList.add("apexcharts-active")}else I.type!=="mouseout"&&I.type!=="touchend"||this.handleMouseOut(b)}}},{key:"nonAxisChartsTooltips",value:function(c){var g=c.e,h=c.opt,I=c.tooltipRect,b=this.w,y=h.paths.getAttribute("rel"),x=this.getElTooltip(),B=b.globals.dom.elWrap.getBoundingClientRect();if(g.type==="mousemove"||g.type==="touchmove"){x.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:h.ttItems,i:parseInt(y,10)-1,shared:!1});var V=b.globals.clientX-B.left-I.ttWidth/2,E=b.globals.clientY-B.top-I.ttHeight-10;if(x.style.left=V+"px",x.style.top=E+"px",b.config.legend.tooltipHoverFormatter){var Y=y-1,H=(0,b.config.legend.tooltipHoverFormatter)(this.legendLabels[Y].getAttribute("data:default-text"),{seriesIndex:Y,dataPointIndex:Y,w:b});this.legendLabels[Y].innerHTML=H}}else g.type!=="mouseout"&&g.type!=="touchend"||(x.classList.remove("apexcharts-active"),b.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(z){var Q=z.getAttribute("data:default-text");z.innerHTML=decodeURIComponent(Q)}))}},{key:"handleStickyTooltip",value:function(c,g,h,I){var b=this.w,y=this.tooltipUtil.getNearestValues({context:this,hoverArea:I.hoverArea,elGrid:I.elGrid,clientX:g,clientY:h}),x=y.j,B=y.capturedSeries;b.globals.collapsedSeriesIndices.includes(B)&&(B=null);var V=I.elGrid.getBoundingClientRect();if(y.hoverX<0||y.hoverX>V.width)this.handleMouseOut(I);else if(B!==null)this.handleStickyCapturedSeries(c,B,I,x);else if(this.tooltipUtil.isXoverlap(x)||b.globals.isBarHorizontal){var E=b.globals.series.findIndex(function(Y,H){return!b.globals.collapsedSeriesIndices.includes(H)});this.create(c,this,E,x,I.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(c,g,h,I){var b=this.w;if(!this.tConfig.shared&&b.globals.series[g][I]===null)return void this.handleMouseOut(h);if(b.globals.series[g][I]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(I)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(c,this,g,I,h.ttItems):this.create(c,this,g,I,h.ttItems,!1);else if(this.tooltipUtil.isXoverlap(I)){var y=b.globals.series.findIndex(function(x,B){return!b.globals.collapsedSeriesIndices.includes(B)});this.create(c,this,y,I,h.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var c=this.w,g=new ne(this.ctx),h=c.globals.dom.Paper.select(".apexcharts-bar-area"),I=0;I<h.length;I++)g.pathMouseLeave(h[I])}},{key:"handleMouseOut",value:function(c){var g=this.w,h=this.getElXCrosshairs();if(c.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),g.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),h!==null&&h.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=g.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var I=0;I<this.yaxisTTEls.length;I++)this.yaxisTTEls[I].classList.remove("apexcharts-active")}g.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(b){var y=b.getAttribute("data:default-text");b.innerHTML=decodeURIComponent(y)})}},{key:"markerClick",value:function(c,g,h){var I=this.w;typeof I.config.chart.events.markerClick=="function"&&I.config.chart.events.markerClick(c,this.ctx,{seriesIndex:g,dataPointIndex:h,w:I}),this.ctx.events.fireEvent("markerClick",[c,this.ctx,{seriesIndex:g,dataPointIndex:h,w:I}])}},{key:"create",value:function(c,g,h,I,b){var y,x,B,V,E,Y,H,z,Q,$,oe,re,se,W,T,ee,ce=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,ge=this.w,me=g;c.type==="mouseup"&&this.markerClick(c,h,I),ce===null&&(ce=this.tConfig.shared);var Ae=this.tooltipUtil.hasMarkers(h),ye=this.tooltipUtil.getElBars();if(ge.config.legend.tooltipHoverFormatter){var Ne=ge.config.legend.tooltipHoverFormatter,Te=Array.from(this.legendLabels);Te.forEach(function(Mn){var ni=Mn.getAttribute("data:default-text");Mn.innerHTML=decodeURIComponent(ni)});for(var Ve=0;Ve<Te.length;Ve++){var Le=Te[Ve],st=parseInt(Le.getAttribute("i"),10),pt=decodeURIComponent(Le.getAttribute("data:default-text")),kt=Ne(pt,{seriesIndex:ce?st:h,dataPointIndex:I,w:ge});if(ce)Le.innerHTML=ge.globals.collapsedSeriesIndices.indexOf(st)<0?kt:pt;else if(Le.innerHTML=st===h?kt:pt,h===st)break}}var Bt=s(s({ttItems:b,i:h,j:I},((y=ge.globals.seriesRange)===null||y===void 0||(x=y[h])===null||x===void 0||(B=x[I])===null||B===void 0||(V=B.y[0])===null||V===void 0?void 0:V.y1)!==void 0&&{y1:(E=ge.globals.seriesRange)===null||E===void 0||(Y=E[h])===null||Y===void 0||(H=Y[I])===null||H===void 0||(z=H.y[0])===null||z===void 0?void 0:z.y1}),((Q=ge.globals.seriesRange)===null||Q===void 0||($=Q[h])===null||$===void 0||(oe=$[I])===null||oe===void 0||(re=oe.y[0])===null||re===void 0?void 0:re.y2)!==void 0&&{y2:(se=ge.globals.seriesRange)===null||se===void 0||(W=se[h])===null||W===void 0||(T=W[I])===null||T===void 0||(ee=T.y[0])===null||ee===void 0?void 0:ee.y2});if(ce){if(me.tooltipLabels.drawSeriesTexts(s(s({},Bt),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),Ae)ge.globals.markers.largestSize>0?me.marker.enlargePoints(I):me.tooltipPosition.moveDynamicPointsOnHover(I);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(ye),this.barSeriesHeight>0)){var Et=new ne(this.ctx),Xt=ge.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(I,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(I,h);for(var Pt=0;Pt<Xt.length;Pt++)Et.pathMouseEnter(Xt[Pt])}}else me.tooltipLabels.drawSeriesTexts(s({shared:!1},Bt)),this.tooltipUtil.hasBars()&&me.tooltipPosition.moveStickyTooltipOverBars(I,h),Ae&&me.tooltipPosition.moveMarkers(h,I)}}]),le}(),Tr=function(){function le(c){m(this,le),this.w=c.w,this.barCtx=c,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return v(le,[{key:"handleBarDataLabels",value:function(c){var g,h,I=c.x,b=c.y,y=c.y1,x=c.y2,B=c.i,V=c.j,E=c.realIndex,Y=c.columnGroupIndex,H=c.series,z=c.barHeight,Q=c.barWidth,$=c.barXPosition,oe=c.barYPosition,re=c.visibleSeries,se=c.renderedPath,W=this.w,T=new ne(this.barCtx.ctx),ee=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[E]:this.barCtx.strokeWidth;W.globals.isXNumeric&&!W.globals.isBarHorizontal?(g=I+parseFloat(Q*(re+1)),h=b+parseFloat(z*(re+1))-ee):(g=I+parseFloat(Q*re),h=b+parseFloat(z*re));var ce,ge=null,me=I,Ae=b,ye={},Ne=W.config.dataLabels,Te=this.barCtx.barOptions.dataLabels,Ve=this.barCtx.barOptions.dataLabels.total;oe!==void 0&&this.barCtx.isRangeBar&&(h=oe,Ae=oe),$!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(g=$,me=$);var Le=Ne.offsetX,st=Ne.offsetY,pt={width:0,height:0};if(W.config.dataLabels.enabled){var kt=this.barCtx.series[B][V];pt=T.getTextRects(W.globals.yLabelFormatters[0](kt),parseFloat(Ne.style.fontSize))}var Bt={x:I,y:b,i:B,j:V,realIndex:E,columnGroupIndex:Y,renderedPath:se,bcx:g,bcy:h,barHeight:z,barWidth:Q,textRects:pt,strokeWidth:ee,dataLabelsX:me,dataLabelsY:Ae,dataLabelsConfig:Ne,barDataLabelsConfig:Te,barTotalDataLabelsConfig:Ve,offX:Le,offY:st};return ye=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Bt):this.calculateColumnsDataLabelsPosition(Bt),se.attr({cy:ye.bcy,cx:ye.bcx,j:V,val:H[B][V],barHeight:z,barWidth:Q}),ce=this.drawCalculatedDataLabels({x:ye.dataLabelsX,y:ye.dataLabelsY,val:this.barCtx.isRangeBar?[y,x]:H[B][V],i:E,j:V,barWidth:Q,barHeight:z,textRects:pt,dataLabelsConfig:Ne}),W.config.chart.stacked&&Ve.enabled&&(ge=this.drawTotalDataLabels({x:ye.totalDataLabelsX,y:ye.totalDataLabelsY,barWidth:Q,barHeight:z,realIndex:E,textAnchor:ye.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:E,j:V}),dataLabelsConfig:Ne,barTotalDataLabelsConfig:Ve})),{dataLabels:ce,totalDataLabels:ge}}},{key:"getStackedTotalDataLabel",value:function(c){var g=c.realIndex,h=c.j,I=this.w,b=this.barCtx.stackedSeriesTotals[h];return this.totalFormatter&&(b=this.totalFormatter(b,s(s({},I),{},{seriesIndex:g,dataPointIndex:h,w:I}))),b}},{key:"calculateColumnsDataLabelsPosition",value:function(c){var g,h,I=this.w,b=c.i,y=c.j,x=c.realIndex,B=c.columnGroupIndex,V=c.y,E=c.bcx,Y=c.barWidth,H=c.barHeight,z=c.textRects,Q=c.dataLabelsX,$=c.dataLabelsY,oe=c.dataLabelsConfig,re=c.barDataLabelsConfig,se=c.barTotalDataLabelsConfig,W=c.strokeWidth,T=c.offX,ee=c.offY,ce=E;H=Math.abs(H);var ge=I.config.plotOptions.bar.dataLabels.orientation==="vertical",me=this.barCtx.barHelpers.getZeroValueEncounters({i:b,j:y}).zeroEncounters;E=E-W/2+B*Y;var Ae=I.globals.gridWidth/I.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?Q+=Y/2:(Q=I.globals.isXNumeric?E-Y/2+T:E-Ae+Y/2+T,me>0&&I.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(Q-=Y*me)),ge&&(Q=Q+z.height/2-W/2-2);var ye=this.barCtx.series[b][y]<0,Ne=V;switch(this.barCtx.isReversed&&(Ne=V+(ye?H:-H),V-=H),re.position){case"center":$=ge?ye?Ne-H/2+ee:Ne+H/2-ee:ye?Ne-H/2+z.height/2+ee:Ne+H/2+z.height/2-ee;break;case"bottom":$=ge?ye?Ne-H+ee:Ne+H-ee:ye?Ne-H+z.height+W+ee:Ne+H-z.height/2+W-ee;break;case"top":$=ge?ye?Ne+ee:Ne-ee:ye?Ne-z.height/2-ee:Ne+z.height+ee}if(this.barCtx.lastActiveBarSerieIndex===x&&se.enabled){var Te=new ne(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:x,j:y}),oe.fontSize);g=ye?Ne-Te.height/2-ee-se.offsetY+18:Ne+Te.height+ee+se.offsetY-18,h=ce+(I.globals.isXNumeric?Y*(I.globals.barGroups.length-1)-Y/2:-(Y*I.globals.barGroups.length-Y/2-2*W))+se.offsetX}return I.config.chart.stacked||($<0?$=0+W:$+z.height/3>I.globals.gridHeight&&($=I.globals.gridHeight-W)),{bcx:E,bcy:V,dataLabelsX:Q,dataLabelsY:$,totalDataLabelsX:h,totalDataLabelsY:g,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(c){var g=this.w,h=c.x,I=c.i,b=c.j,y=c.realIndex,x=c.columnGroupIndex,B=c.bcy,V=c.barHeight,E=c.barWidth,Y=c.textRects,H=c.dataLabelsX,z=c.strokeWidth,Q=c.dataLabelsConfig,$=c.barDataLabelsConfig,oe=c.barTotalDataLabelsConfig,re=c.offX,se=c.offY,W=g.globals.gridHeight/g.globals.dataPoints;E=Math.abs(E);var T,ee,ce=(B+=x*V)-(this.barCtx.isRangeBar?0:W)+V/2+Y.height/2+se-3,ge="start",me=this.barCtx.series[I][b]<0,Ae=h;switch(this.barCtx.isReversed&&(Ae=h+(me?-E:E),h=g.globals.gridWidth-E,ge=me?"start":"end"),$.position){case"center":H=me?Ae+E/2-re:Math.max(Y.width/2,Ae-E/2)+re;break;case"bottom":H=me?Ae+E-z-Math.round(Y.width/2)-re:Ae-E+z+Math.round(Y.width/2)+re;break;case"top":H=me?Ae-z+Math.round(Y.width/2)-re:Ae-z-Math.round(Y.width/2)+re}if(this.barCtx.lastActiveBarSerieIndex===y&&oe.enabled){var ye=new ne(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:y,j:b}),Q.fontSize);me?(T=Ae-z-re-oe.offsetX,ge="end"):T=Ae+re+oe.offsetX+(this.barCtx.isReversed?-(E+z):z),ee=ce-Y.height/2+ye.height/2+oe.offsetY+z}return g.config.chart.stacked||(H<0?H=H+Y.width+z:H+Y.width/2>g.globals.gridWidth&&(H=g.globals.gridWidth-Y.width-z)),{bcx:h,bcy:B,dataLabelsX:H,dataLabelsY:ce,totalDataLabelsX:T,totalDataLabelsY:ee,totalDataLabelsAnchor:ge}}},{key:"drawCalculatedDataLabels",value:function(c){var g=c.x,h=c.y,I=c.val,b=c.i,y=c.j,x=c.textRects,B=c.barHeight,V=c.barWidth,E=c.dataLabelsConfig,Y=this.w,H="rotate(0)";Y.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(H="rotate(-90, ".concat(g,", ").concat(h,")"));var z=new He(this.barCtx.ctx),Q=new ne(this.barCtx.ctx),$=E.formatter,oe=null,re=Y.globals.collapsedSeriesIndices.indexOf(b)>-1;if(E.enabled&&!re){oe=Q.group({class:"apexcharts-data-labels",transform:H});var se="";I!==void 0&&(se=$(I,s(s({},Y),{},{seriesIndex:b,dataPointIndex:y,w:Y}))),!I&&Y.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(se="");var W=Y.globals.series[b][y]<0,T=Y.config.plotOptions.bar.dataLabels.position;Y.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(T==="top"&&(E.textAnchor=W?"end":"start"),T==="center"&&(E.textAnchor="middle"),T==="bottom"&&(E.textAnchor=W?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&V<Q.getTextRects(se,parseFloat(E.style.fontSize)).width&&(se=""),Y.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?x.width/1.6>Math.abs(V)&&(se=""):x.height/1.6>Math.abs(B)&&(se=""));var ee=s({},E);this.barCtx.isHorizontal&&I<0&&(E.textAnchor==="start"?ee.textAnchor="end":E.textAnchor==="end"&&(ee.textAnchor="start")),z.plotDataLabelsText({x:g,y:h,text:se,i:b,j:y,parent:oe,dataLabelsConfig:ee,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return oe}},{key:"drawTotalDataLabels",value:function(c){var g,h=c.x,I=c.y,b=c.val,y=c.barWidth,x=c.barHeight,B=c.realIndex,V=c.textAnchor,E=c.barTotalDataLabelsConfig,Y=this.w,H=new ne(this.barCtx.ctx);return E.enabled&&h!==void 0&&I!==void 0&&this.barCtx.lastActiveBarSerieIndex===B&&(g=H.drawText({x:h-(!Y.globals.isBarHorizontal&&Y.globals.barGroups.length?y*(Y.globals.barGroups.length-1)/2:0),y:I-(Y.globals.isBarHorizontal&&Y.globals.barGroups.length?x*(Y.globals.barGroups.length-1)/2:0),foreColor:E.style.color,text:b,textAnchor:V,fontFamily:E.style.fontFamily,fontSize:E.style.fontSize,fontWeight:E.style.fontWeight})),g}}]),le}(),$i=function(){function le(c){m(this,le),this.w=c.w,this.barCtx=c}return v(le,[{key:"initVariables",value:function(c){var g=this.w;this.barCtx.series=c,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var h=0;h<c.length;h++)if(c[h].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=c[h].length),g.globals.isXNumeric)for(var I=0;I<c[h].length;I++)g.globals.seriesX[h][I]>g.globals.minX&&g.globals.seriesX[h][I]<g.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=g.globals.dataPoints;this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],g.globals.comboCharts||this.checkZeroSeries({series:c})}},{key:"initialPositions",value:function(){var c,g,h,I,b,y,x,B,V=this.w,E=V.globals.dataPoints;this.barCtx.isRangeBar&&(E=V.globals.labels.length);var Y=this.barCtx.seriesLen;if(V.config.plotOptions.bar.rangeBarGroupRows&&(Y=1),this.barCtx.isHorizontal)b=(h=V.globals.gridHeight/E)/Y,V.globals.isXNumeric&&(b=(h=V.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),b=b*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(b=parseInt(this.barCtx.barOptions.barHeight,10)),B=this.barCtx.baseLineInvertedY+V.globals.padHorizontal+(this.barCtx.isReversed?V.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(B=V.globals.gridWidth/2),g=(h-b*this.barCtx.seriesLen)/2;else{if(I=V.globals.gridWidth/this.barCtx.visibleItems,V.config.xaxis.convertedCatToNumeric&&(I=V.globals.gridWidth/V.globals.dataPoints),y=I/Y*parseInt(this.barCtx.barOptions.columnWidth,10)/100,V.globals.isXNumeric){var H=this.barCtx.xRatio;V.globals.minXDiff&&V.globals.minXDiff!==.5&&V.globals.minXDiff/H>0&&(I=V.globals.minXDiff/H),(y=I/Y*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(y=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(y=parseInt(this.barCtx.barOptions.columnWidth,10)),x=V.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?V.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),c=V.globals.padHorizontal+(I-y*this.barCtx.seriesLen)/2}return V.globals.barHeight=b,V.globals.barWidth=y,{x:c,y:g,yDivision:h,xDivision:I,barHeight:b,barWidth:y,zeroH:x,zeroW:B}}},{key:"initializeStackedPrevVars",value:function(c){c.w.globals.seriesGroups.forEach(function(g){c[g]||(c[g]={}),c[g].prevY=[],c[g].prevX=[],c[g].prevYF=[],c[g].prevXF=[],c[g].prevYVal=[],c[g].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(c){c.w.globals.seriesGroups.forEach(function(g){c[g]||(c[g]={}),c[g].xArrj=[],c[g].xArrjF=[],c[g].xArrjVal=[],c[g].yArrj=[],c[g].yArrjF=[],c[g].yArrjVal=[]})}},{key:"getPathFillColor",value:function(c,g,h,I){var b,y,x,B,V=this.w,E=new Je(this.barCtx.ctx),Y=null,H=this.barCtx.barOptions.distributed?h:g;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(z){c[g][h]>=z.from&&c[g][h]<=z.to&&(Y=z.color)}),V.config.series[g].data[h]&&V.config.series[g].data[h].fillColor&&(Y=V.config.series[g].data[h].fillColor),E.fillPath({seriesNumber:this.barCtx.barOptions.distributed?H:I,dataPointIndex:h,color:Y,value:c[g][h],fillConfig:(b=V.config.series[g].data[h])===null||b===void 0?void 0:b.fill,fillType:(y=V.config.series[g].data[h])!==null&&y!==void 0&&(x=y.fill)!==null&&x!==void 0&&x.type?(B=V.config.series[g].data[h])===null||B===void 0?void 0:B.fill.type:Array.isArray(V.config.fill.type)?V.config.fill.type[g]:V.config.fill.type})}},{key:"getStrokeWidth",value:function(c,g,h){var I=0,b=this.w;return this.barCtx.series[c][g]===void 0||this.barCtx.series[c][g]===null?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,b.config.stroke.show&&(this.barCtx.isNullValue||(I=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[h]:this.barCtx.strokeWidth)),I}},{key:"shouldApplyRadius",value:function(c){var g=this.w,h=!1;return g.config.plotOptions.bar.borderRadius>0&&(g.config.chart.stacked&&g.config.plotOptions.bar.borderRadiusWhenStacked==="last"?this.barCtx.lastActiveBarSerieIndex===c&&(h=!0):h=!0),h}},{key:"barBackground",value:function(c){var g=c.j,h=c.i,I=c.x1,b=c.x2,y=c.y1,x=c.y2,B=c.elSeries,V=this.w,E=new ne(this.barCtx.ctx),Y=new Oe(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&Y===h){g>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(g%=this.barCtx.barOptions.colors.backgroundBarColors.length);var H=this.barCtx.barOptions.colors.backgroundBarColors[g],z=E.drawRect(I!==void 0?I:0,y!==void 0?y:0,b!==void 0?b:V.globals.gridWidth,x!==void 0?x:V.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,H,this.barCtx.barOptions.colors.backgroundBarOpacity);B.add(z),z.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(c){var g,h=c.barWidth,I=c.barXPosition,b=c.y1,y=c.y2,x=c.strokeWidth,B=c.seriesGroup,V=c.realIndex,E=c.i,Y=c.j,H=c.w,z=new ne(this.barCtx.ctx);(x=Array.isArray(x)?x[V]:x)||(x=0);var Q=h,$=I;(g=H.config.series[V].data[Y])!==null&&g!==void 0&&g.columnWidthOffset&&($=I-H.config.series[V].data[Y].columnWidthOffset/2,Q=h+H.config.series[V].data[Y].columnWidthOffset);var oe=x/2,re=$+oe,se=$+Q-oe;b+=.001-oe,y+=.001+oe;var W=z.move(re,b),T=z.move(re,b),ee=z.line(se,b);if(H.globals.previousPaths.length>0&&(T=this.barCtx.getPreviousPath(V,Y,!1)),W=W+z.line(re,y)+z.line(se,y)+z.line(se,b)+(H.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),T=T+z.line(re,b)+ee+ee+ee+ee+ee+z.line(re,b)+(H.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(V)&&(W=z.roundPathCorners(W,H.config.plotOptions.bar.borderRadius)),H.config.chart.stacked){var ce=this.barCtx;(ce=this.barCtx[B]).yArrj.push(y-oe),ce.yArrjF.push(Math.abs(b-y+x)),ce.yArrjVal.push(this.barCtx.series[E][Y])}return{pathTo:W,pathFrom:T}}},{key:"getBarpaths",value:function(c){var g,h=c.barYPosition,I=c.barHeight,b=c.x1,y=c.x2,x=c.strokeWidth,B=c.seriesGroup,V=c.realIndex,E=c.i,Y=c.j,H=c.w,z=new ne(this.barCtx.ctx);(x=Array.isArray(x)?x[V]:x)||(x=0);var Q=h,$=I;(g=H.config.series[V].data[Y])!==null&&g!==void 0&&g.barHeightOffset&&(Q=h-H.config.series[V].data[Y].barHeightOffset/2,$=I+H.config.series[V].data[Y].barHeightOffset);var oe=x/2,re=Q+oe,se=Q+$-oe;b+=.001-oe,y+=.001+oe;var W=z.move(b,re),T=z.move(b,re);H.globals.previousPaths.length>0&&(T=this.barCtx.getPreviousPath(V,Y,!1));var ee=z.line(b,se);if(W=W+z.line(y,re)+z.line(y,se)+ee+(H.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),T=T+z.line(b,re)+ee+ee+ee+ee+ee+z.line(b,re)+(H.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(V)&&(W=z.roundPathCorners(W,H.config.plotOptions.bar.borderRadius)),H.config.chart.stacked){var ce=this.barCtx;(ce=this.barCtx[B]).xArrj.push(y+oe),ce.xArrjF.push(Math.abs(b-y)),ce.xArrjVal.push(this.barCtx.series[E][Y])}return{pathTo:W,pathFrom:T}}},{key:"checkZeroSeries",value:function(c){for(var g=c.series,h=this.w,I=0;I<g.length;I++){for(var b=0,y=0;y<g[h.globals.maxValsInArrayIndex].length;y++)b+=g[I][y];b===0&&this.barCtx.zeroSerieses.push(I)}}},{key:"getXForValue",value:function(c,g){var h=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?g:null;return c!=null&&(h=g+c/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?c/this.barCtx.invertedYRatio:0)),h}},{key:"getYForValue",value:function(c,g,h){var I=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?g:null;return c!=null&&(I=g-c/this.barCtx.yRatio[h]+2*(this.barCtx.isReversed?c/this.barCtx.yRatio[h]:0)),I}},{key:"getGoalValues",value:function(c,g,h,I,b,y){var x=this,B=this.w,V=[],E=function(z,Q){var $;V.push((k($={},c,c==="x"?x.getXForValue(z,g,!1):x.getYForValue(z,h,y,!1)),k($,"attrs",Q),$))};if(B.globals.seriesGoals[I]&&B.globals.seriesGoals[I][b]&&Array.isArray(B.globals.seriesGoals[I][b])&&B.globals.seriesGoals[I][b].forEach(function(z){E(z.value,z)}),this.barCtx.barOptions.isDumbbell&&B.globals.seriesRange.length){var Y=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:B.globals.colors,H={strokeHeight:c==="x"?0:B.globals.markers.size[I],strokeWidth:c==="x"?B.globals.markers.size[I]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(Y[I])?Y[I][0]:Y[I]};E(B.globals.seriesRangeStart[I][b],H),E(B.globals.seriesRangeEnd[I][b],s(s({},H),{},{strokeColor:Array.isArray(Y[I])?Y[I][1]:Y[I]}))}return V}},{key:"drawGoalLine",value:function(c){var g=c.barXPosition,h=c.barYPosition,I=c.goalX,b=c.goalY,y=c.barWidth,x=c.barHeight,B=new ne(this.barCtx.ctx),V=B.group({className:"apexcharts-bar-goals-groups"});V.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:V.node}),V.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var E=null;return this.barCtx.isHorizontal?Array.isArray(I)&&I.forEach(function(Y){if(Y.x>=-1&&Y.x<=B.w.globals.gridWidth+1){var H=Y.attrs.strokeHeight!==void 0?Y.attrs.strokeHeight:x/2,z=h+H+x/2;E=B.drawLine(Y.x,z-2*H,Y.x,z,Y.attrs.strokeColor?Y.attrs.strokeColor:void 0,Y.attrs.strokeDashArray,Y.attrs.strokeWidth?Y.attrs.strokeWidth:2,Y.attrs.strokeLineCap),V.add(E)}}):Array.isArray(b)&&b.forEach(function(Y){if(Y.y>=-1&&Y.y<=B.w.globals.gridHeight+1){var H=Y.attrs.strokeWidth!==void 0?Y.attrs.strokeWidth:y/2,z=g+H+y/2;E=B.drawLine(z-2*H,Y.y,z,Y.y,Y.attrs.strokeColor?Y.attrs.strokeColor:void 0,Y.attrs.strokeDashArray,Y.attrs.strokeHeight?Y.attrs.strokeHeight:2,Y.attrs.strokeLineCap),V.add(E)}}),V}},{key:"drawBarShadow",value:function(c){var g=c.prevPaths,h=c.currPaths,I=c.color,b=this.w,y=g.x,x=g.x1,B=g.barYPosition,V=h.x,E=h.x1,Y=h.barYPosition,H=B+h.barHeight,z=new ne(this.barCtx.ctx),Q=new F,$=z.move(x,H)+z.line(y,H)+z.line(V,Y)+z.line(E,Y)+z.line(x,H)+(b.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z");return z.drawPath({d:$,fill:Q.shadeColor(.5,F.rgb2hex(I)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(c){var g,h=c.i,I=c.j,b=this.w,y=0,x=0;return(b.config.plotOptions.bar.horizontal?b.globals.series.map(function(B,V){return V}):((g=b.globals.columnSeries)===null||g===void 0?void 0:g.i.map(function(B){return B}))||[]).forEach(function(B){var V=b.globals.seriesPercent[B][I];V&&y++,B<h&&V===0&&x++}),{nonZeroColumns:y,zeroEncounters:x}}},{key:"getGroupIndex",value:function(c){var g=this.w,h=g.globals.seriesGroups.findIndex(function(y){return y.indexOf(g.globals.seriesNames[c])>-1}),I=this.barCtx.columnGroupIndices,b=I.indexOf(h);return b<0&&(I.push(h),b=I.length-1),{groupIndex:h,columnGroupIndex:b}}}]),le}(),Cr=function(){function le(c,g){m(this,le),this.ctx=c,this.w=c.w;var h=this.w;this.barOptions=h.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=h.config.stroke.width,this.isNullValue=!1,this.isRangeBar=h.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!h.globals.isBarHorizontal&&h.globals.seriesRange.length&&h.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=g,this.xyRatios!==null&&(this.xRatio=g.xRatio,this.yRatio=g.yRatio,this.invertedXRatio=g.invertedXRatio,this.invertedYRatio=g.invertedYRatio,this.baseLineY=g.baseLineY,this.baseLineInvertedY=g.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var I=new Oe(this.ctx);this.lastActiveBarSerieIndex=I.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var b=I.getBarSeriesIndices(),y=new ue(this.ctx);this.stackedSeriesTotals=y.getStackedSeriesTotals(this.w.config.series.map(function(x,B){return b.indexOf(B)===-1?B:-1}).filter(function(x){return x!==-1})),this.barHelpers=new $i(this)}return v(le,[{key:"draw",value:function(c,g){var h=this.w,I=new ne(this.ctx),b=new ue(this.ctx,h);c=b.getLogSeries(c),this.series=c,this.yRatio=b.getLogYRatios(this.yRatio),this.barHelpers.initVariables(c);var y=I.group({class:"apexcharts-bar-series apexcharts-plot-series"});h.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var x=0,B=0;x<c.length;x++,B++){var V,E,Y,H,z=void 0,Q=void 0,$=[],oe=[],re=h.globals.comboCharts?g[x]:x,se=this.barHelpers.getGroupIndex(re).columnGroupIndex,W=I.group({class:"apexcharts-series",rel:x+1,seriesName:F.escapeString(h.globals.seriesNames[re]),"data:realIndex":re});this.ctx.series.addCollapsedClassToSeries(W,re),c[x].length>0&&(this.visibleI=this.visibleI+1);var T=0,ee=0;this.yRatio.length>1&&(this.yaxisIndex=h.globals.seriesYAxisReverseMap[re],this.translationsIndex=re);var ce=this.translationsIndex;this.isReversed=h.config.yaxis[this.yaxisIndex]&&h.config.yaxis[this.yaxisIndex].reversed;var ge=this.barHelpers.initialPositions();Q=ge.y,T=ge.barHeight,E=ge.yDivision,H=ge.zeroW,z=ge.x,ee=ge.barWidth,V=ge.xDivision,Y=ge.zeroH,this.horizontal||oe.push(z+ee/2);var me=I.group({class:"apexcharts-datalabels","data:realIndex":re});h.globals.delayedElements.push({el:me.node}),me.node.classList.add("apexcharts-element-hidden");var Ae=I.group({class:"apexcharts-bar-goals-markers"}),ye=I.group({class:"apexcharts-bar-shadows"});h.globals.delayedElements.push({el:ye.node}),ye.node.classList.add("apexcharts-element-hidden");for(var Ne=0;Ne<c[x].length;Ne++){var Te=this.barHelpers.getStrokeWidth(x,Ne,re),Ve=null,Le={indexes:{i:x,j:Ne,realIndex:re,translationsIndex:ce,bc:B},x:z,y:Q,strokeWidth:Te,elSeries:W};this.isHorizontal?(Ve=this.drawBarPaths(s(s({},Le),{},{barHeight:T,zeroW:H,yDivision:E})),ee=this.series[x][Ne]/this.invertedYRatio):(Ve=this.drawColumnPaths(s(s({},Le),{},{xDivision:V,barWidth:ee,zeroH:Y})),T=this.series[x][Ne]/this.yRatio[ce]);var st=this.barHelpers.getPathFillColor(c,x,Ne,re);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&Ne>0){var pt=this.barHelpers.drawBarShadow({color:typeof st=="string"&&(st==null?void 0:st.indexOf("url"))===-1?st:F.hexToRgba(h.globals.colors[x]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:Ve});pt&&ye.add(pt)}this.pathArr.push(Ve);var kt=this.barHelpers.drawGoalLine({barXPosition:Ve.barXPosition,barYPosition:Ve.barYPosition,goalX:Ve.goalX,goalY:Ve.goalY,barHeight:T,barWidth:ee});kt&&Ae.add(kt),Q=Ve.y,z=Ve.x,Ne>0&&oe.push(z+ee/2),$.push(Q),this.renderSeries({realIndex:re,pathFill:st,j:Ne,i:x,columnGroupIndex:se,pathFrom:Ve.pathFrom,pathTo:Ve.pathTo,strokeWidth:Te,elSeries:W,x:z,y:Q,series:c,barHeight:Ve.barHeight?Ve.barHeight:T,barWidth:Ve.barWidth?Ve.barWidth:ee,elDataLabelsWrap:me,elGoalsMarkers:Ae,elBarShadows:ye,visibleSeries:this.visibleI,type:"bar"})}h.globals.seriesXvalues[re]=oe,h.globals.seriesYvalues[re]=$,y.add(W)}return y}},{key:"renderSeries",value:function(c){var g=c.realIndex,h=c.pathFill,I=c.lineFill,b=c.j,y=c.i,x=c.columnGroupIndex,B=c.pathFrom,V=c.pathTo,E=c.strokeWidth,Y=c.elSeries,H=c.x,z=c.y,Q=c.y1,$=c.y2,oe=c.series,re=c.barHeight,se=c.barWidth,W=c.barXPosition,T=c.barYPosition,ee=c.elDataLabelsWrap,ce=c.elGoalsMarkers,ge=c.elBarShadows,me=c.visibleSeries,Ae=c.type,ye=this.w,Ne=new ne(this.ctx);if(!I){var Te=typeof ye.globals.stroke.colors[g]=="function"?function(kt){var Bt,Et=ye.config.stroke.colors;return Array.isArray(Et)&&Et.length>0&&((Bt=Et[kt])||(Bt=""),typeof Bt=="function")?Bt({value:ye.globals.series[kt][b],dataPointIndex:b,w:ye}):Bt}(g):ye.globals.stroke.colors[g];I=this.barOptions.distributed?ye.globals.stroke.colors[b]:Te}ye.config.series[y].data[b]&&ye.config.series[y].data[b].strokeColor&&(I=ye.config.series[y].data[b].strokeColor),this.isNullValue&&(h="none");var Ve=b/ye.config.chart.animations.animateGradually.delay*(ye.config.chart.animations.speed/ye.globals.dataPoints)/2.4,Le=Ne.renderPaths({i:y,j:b,realIndex:g,pathFrom:B,pathTo:V,stroke:I,strokeWidth:E,strokeLineCap:ye.config.stroke.lineCap,fill:h,animationDelay:Ve,initialSpeed:ye.config.chart.animations.speed,dataChangeSpeed:ye.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Ae,"-area")});Le.attr("clip-path","url(#gridRectMask".concat(ye.globals.cuid,")"));var st=ye.config.forecastDataPoints;st.count>0&&b>=ye.globals.dataPoints-st.count&&(Le.node.setAttribute("stroke-dasharray",st.dashArray),Le.node.setAttribute("stroke-width",st.strokeWidth),Le.node.setAttribute("fill-opacity",st.fillOpacity)),Q!==void 0&&$!==void 0&&(Le.attr("data-range-y1",Q),Le.attr("data-range-y2",$)),new ie(this.ctx).setSelectionFilter(Le,g,b),Y.add(Le);var pt=new Tr(this).handleBarDataLabels({x:H,y:z,y1:Q,y2:$,i:y,j:b,series:oe,realIndex:g,columnGroupIndex:x,barHeight:re,barWidth:se,barXPosition:W,barYPosition:T,renderedPath:Le,visibleSeries:me});return pt.dataLabels!==null&&ee.add(pt.dataLabels),pt.totalDataLabels&&ee.add(pt.totalDataLabels),Y.add(ee),ce&&Y.add(ce),ge&&Y.add(ge),Y}},{key:"drawBarPaths",value:function(c){var g,h=c.indexes,I=c.barHeight,b=c.strokeWidth,y=c.zeroW,x=c.x,B=c.y,V=c.yDivision,E=c.elSeries,Y=this.w,H=h.i,z=h.j;if(Y.globals.isXNumeric)g=(B=(Y.globals.seriesX[H][z]-Y.globals.minX)/this.invertedXRatio-I)+I*this.visibleI;else if(Y.config.plotOptions.bar.hideZeroBarsWhenGrouped){var Q=0,$=0;Y.globals.seriesPercent.forEach(function(re,se){re[z]&&Q++,se<H&&re[z]===0&&$++}),Q>0&&(I=this.seriesLen*I/Q),g=B+I*this.visibleI,g-=I*$}else g=B+I*this.visibleI;this.isFunnel&&(y-=(this.barHelpers.getXForValue(this.series[H][z],y)-y)/2),x=this.barHelpers.getXForValue(this.series[H][z],y);var oe=this.barHelpers.getBarpaths({barYPosition:g,barHeight:I,x1:y,x2:x,strokeWidth:b,series:this.series,realIndex:h.realIndex,i:H,j:z,w:Y});return Y.globals.isXNumeric||(B+=V),this.barHelpers.barBackground({j:z,i:H,y1:g-I*this.visibleI,y2:I*this.seriesLen,elSeries:E}),{pathTo:oe.pathTo,pathFrom:oe.pathFrom,x1:y,x,y:B,goalX:this.barHelpers.getGoalValues("x",y,null,H,z),barYPosition:g,barHeight:I}}},{key:"drawColumnPaths",value:function(c){var g,h=c.indexes,I=c.x,b=c.y,y=c.xDivision,x=c.barWidth,B=c.zeroH,V=c.strokeWidth,E=c.elSeries,Y=this.w,H=h.realIndex,z=h.translationsIndex,Q=h.i,$=h.j,oe=h.bc;if(Y.globals.isXNumeric){var re=this.getBarXForNumericXAxis({x:I,j:$,realIndex:H,barWidth:x});I=re.x,g=re.barXPosition}else if(Y.config.plotOptions.bar.hideZeroBarsWhenGrouped){var se=this.barHelpers.getZeroValueEncounters({i:Q,j:$}),W=se.nonZeroColumns,T=se.zeroEncounters;W>0&&(x=this.seriesLen*x/W),g=I+x*this.visibleI,g-=x*T}else g=I+x*this.visibleI;b=this.barHelpers.getYForValue(this.series[Q][$],B,z);var ee=this.barHelpers.getColumnPaths({barXPosition:g,barWidth:x,y1:B,y2:b,strokeWidth:V,series:this.series,realIndex:H,i:Q,j:$,w:Y});return Y.globals.isXNumeric||(I+=y),this.barHelpers.barBackground({bc:oe,j:$,i:Q,x1:g-V/2-x*this.visibleI,x2:x*this.seriesLen+V/2,elSeries:E}),{pathTo:ee.pathTo,pathFrom:ee.pathFrom,x:I,y:b,goalY:this.barHelpers.getGoalValues("y",null,B,Q,$,z),barXPosition:g,barWidth:x}}},{key:"getBarXForNumericXAxis",value:function(c){var g=c.x,h=c.barWidth,I=c.realIndex,b=c.j,y=this.w,x=I;return y.globals.seriesX[I].length||(x=y.globals.maxValsInArrayIndex),y.globals.seriesX[x][b]&&(g=(y.globals.seriesX[x][b]-y.globals.minX)/this.xRatio-h*this.seriesLen/2),{barXPosition:g+h*this.visibleI,x:g}}},{key:"getPreviousPath",value:function(c,g){for(var h,I=this.w,b=0;b<I.globals.previousPaths.length;b++){var y=I.globals.previousPaths[b];y.paths&&y.paths.length>0&&parseInt(y.realIndex,10)===parseInt(c,10)&&I.globals.previousPaths[b].paths[g]!==void 0&&(h=I.globals.previousPaths[b].paths[g].d)}return h}}]),le}(),Os=function(le){Z(g,Cr);var c=D(g);function g(){return m(this,g),c.apply(this,arguments)}return v(g,[{key:"draw",value:function(h,I){var b=this,y=this.w;this.graphics=new ne(this.ctx),this.bar=new Cr(this.ctx,this.xyRatios);var x=new ue(this.ctx,y);h=x.getLogSeries(h),this.yRatio=x.getLogYRatios(this.yRatio),this.barHelpers.initVariables(h),y.config.chart.stackType==="100%"&&(h=y.globals.comboCharts?I.map(function(Q){return y.globals.seriesPercent[Q]}):y.globals.seriesPercent.slice()),this.series=h,this.barHelpers.initializeStackedPrevVars(this);for(var B=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),V=0,E=0,Y=function(Q,$){var oe=void 0,re=void 0,se=void 0,W=void 0,T=y.globals.comboCharts?I[Q]:Q,ee=b.barHelpers.getGroupIndex(T),ce=ee.groupIndex,ge=ee.columnGroupIndex;b.groupCtx=b[y.globals.seriesGroups[ce]];var me=[],Ae=[],ye=0;b.yRatio.length>1&&(b.yaxisIndex=y.globals.seriesYAxisReverseMap[T][0],ye=T),b.isReversed=y.config.yaxis[b.yaxisIndex]&&y.config.yaxis[b.yaxisIndex].reversed;var Ne=b.graphics.group({class:"apexcharts-series",seriesName:F.escapeString(y.globals.seriesNames[T]),rel:Q+1,"data:realIndex":T});b.ctx.series.addCollapsedClassToSeries(Ne,T);var Te=b.graphics.group({class:"apexcharts-datalabels","data:realIndex":T}),Ve=b.graphics.group({class:"apexcharts-bar-goals-markers"}),Le=0,st=0,pt=b.initialPositions(V,E,oe,re,se,W,ye);E=pt.y,Le=pt.barHeight,re=pt.yDivision,W=pt.zeroW,V=pt.x,st=pt.barWidth,oe=pt.xDivision,se=pt.zeroH,y.globals.barHeight=Le,y.globals.barWidth=st,b.barHelpers.initializeStackedXYVars(b),b.groupCtx.prevY.length===1&&b.groupCtx.prevY[0].every(function(ni){return isNaN(ni)})&&(b.groupCtx.prevY[0]=b.groupCtx.prevY[0].map(function(){return se}),b.groupCtx.prevYF[0]=b.groupCtx.prevYF[0].map(function(){return 0}));for(var kt=0;kt<y.globals.dataPoints;kt++){var Bt=b.barHelpers.getStrokeWidth(Q,kt,T),Et={indexes:{i:Q,j:kt,realIndex:T,translationsIndex:ye,bc:$},strokeWidth:Bt,x:V,y:E,elSeries:Ne,columnGroupIndex:ge,seriesGroup:y.globals.seriesGroups[ce]},Xt=null;b.isHorizontal?(Xt=b.drawStackedBarPaths(s(s({},Et),{},{zeroW:W,barHeight:Le,yDivision:re})),st=b.series[Q][kt]/b.invertedYRatio):(Xt=b.drawStackedColumnPaths(s(s({},Et),{},{xDivision:oe,barWidth:st,zeroH:se})),Le=b.series[Q][kt]/b.yRatio[ye]);var Pt=b.barHelpers.drawGoalLine({barXPosition:Xt.barXPosition,barYPosition:Xt.barYPosition,goalX:Xt.goalX,goalY:Xt.goalY,barHeight:Le,barWidth:st});Pt&&Ve.add(Pt),E=Xt.y,V=Xt.x,me.push(V),Ae.push(E);var Mn=b.barHelpers.getPathFillColor(h,Q,kt,T);Ne=b.renderSeries({realIndex:T,pathFill:Mn,j:kt,i:Q,columnGroupIndex:ge,pathFrom:Xt.pathFrom,pathTo:Xt.pathTo,strokeWidth:Bt,elSeries:Ne,x:V,y:E,series:h,barHeight:Le,barWidth:st,elDataLabelsWrap:Te,elGoalsMarkers:Ve,type:"bar",visibleSeries:0})}y.globals.seriesXvalues[T]=me,y.globals.seriesYvalues[T]=Ae,b.groupCtx.prevY.push(b.groupCtx.yArrj),b.groupCtx.prevYF.push(b.groupCtx.yArrjF),b.groupCtx.prevYVal.push(b.groupCtx.yArrjVal),b.groupCtx.prevX.push(b.groupCtx.xArrj),b.groupCtx.prevXF.push(b.groupCtx.xArrjF),b.groupCtx.prevXVal.push(b.groupCtx.xArrjVal),B.add(Ne)},H=0,z=0;H<h.length;H++,z++)Y(H,z);return B}},{key:"initialPositions",value:function(h,I,b,y,x,B,V){var E,Y,H=this.w;if(this.isHorizontal){y=H.globals.gridHeight/H.globals.dataPoints;var z=H.config.plotOptions.bar.barHeight;E=String(z).indexOf("%")===-1?parseInt(z,10):y*parseInt(z,10)/100,B=H.globals.padHorizontal+(this.isReversed?H.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),I=(y-E)/2}else{Y=b=H.globals.gridWidth/H.globals.dataPoints;var Q=H.config.plotOptions.bar.columnWidth;H.globals.isXNumeric&&H.globals.dataPoints>1?Y=(b=H.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(Q).indexOf("%")===-1?Y=parseInt(Q,10):Y*=parseInt(Q,10)/100,x=H.globals.gridHeight-this.baseLineY[V]-(this.isReversed?H.globals.gridHeight:0),h=H.globals.padHorizontal+(b-Y)/2}var $=H.globals.barGroups.length||1;return{x:h,y:I,yDivision:y,xDivision:b,barHeight:E/$,barWidth:Y/$,zeroH:x,zeroW:B}}},{key:"drawStackedBarPaths",value:function(h){for(var I,b=h.indexes,y=h.barHeight,x=h.strokeWidth,B=h.zeroW,V=h.x,E=h.y,Y=h.columnGroupIndex,H=h.seriesGroup,z=h.yDivision,Q=h.elSeries,$=this.w,oe=E+Y*y,re=b.i,se=b.j,W=b.realIndex,T=b.translationsIndex,ee=0,ce=0;ce<this.groupCtx.prevXF.length;ce++)ee+=this.groupCtx.prevXF[ce][se];var ge;if((ge=H.indexOf($.config.series[W].name))>0){var me=B;this.groupCtx.prevXVal[ge-1][se]<0?me=this.series[re][se]>=0?this.groupCtx.prevX[ge-1][se]+ee-2*(this.isReversed?ee:0):this.groupCtx.prevX[ge-1][se]:this.groupCtx.prevXVal[ge-1][se]>=0&&(me=this.series[re][se]>=0?this.groupCtx.prevX[ge-1][se]:this.groupCtx.prevX[ge-1][se]-ee+2*(this.isReversed?ee:0)),I=me}else I=B;V=this.series[re][se]===null?I:I+this.series[re][se]/this.invertedYRatio-2*(this.isReversed?this.series[re][se]/this.invertedYRatio:0);var Ae=this.barHelpers.getBarpaths({barYPosition:oe,barHeight:y,x1:I,x2:V,strokeWidth:x,series:this.series,realIndex:b.realIndex,seriesGroup:H,i:re,j:se,w:$});return this.barHelpers.barBackground({j:se,i:re,y1:oe,y2:y,elSeries:Q}),E+=z,{pathTo:Ae.pathTo,pathFrom:Ae.pathFrom,goalX:this.barHelpers.getGoalValues("x",B,null,re,se,T),barXPosition:I,barYPosition:oe,x:V,y:E}}},{key:"drawStackedColumnPaths",value:function(h){var I=h.indexes,b=h.x,y=h.y,x=h.xDivision,B=h.barWidth,V=h.zeroH,E=h.columnGroupIndex,Y=h.seriesGroup,H=h.elSeries,z=this.w,Q=I.i,$=I.j,oe=I.bc,re=I.realIndex,se=I.translationsIndex;if(z.globals.isXNumeric){var W=z.globals.seriesX[re][$];W||(W=0),b=(W-z.globals.minX)/this.xRatio-B/2*z.globals.barGroups.length}for(var T,ee=b+E*B,ce=0,ge=0;ge<this.groupCtx.prevYF.length;ge++)ce+=isNaN(this.groupCtx.prevYF[ge][$])?0:this.groupCtx.prevYF[ge][$];var me=Q;if(Y&&(me=Y.indexOf(z.globals.seriesNames[re])),me>0&&!z.globals.isXNumeric||me>0&&z.globals.isXNumeric&&z.globals.seriesX[re-1][$]===z.globals.seriesX[re][$]){var Ae,ye,Ne,Te=Math.min(this.yRatio.length+1,re+1);if(this.groupCtx.prevY[me-1]!==void 0&&this.groupCtx.prevY[me-1].length)for(var Ve=1;Ve<Te;Ve++){var Le;if(!isNaN((Le=this.groupCtx.prevY[me-Ve])===null||Le===void 0?void 0:Le[$])){Ne=this.groupCtx.prevY[me-Ve][$];break}}for(var st=1;st<Te;st++){var pt,kt;if(((pt=this.groupCtx.prevYVal[me-st])===null||pt===void 0?void 0:pt[$])<0){ye=this.series[Q][$]>=0?Ne-ce+2*(this.isReversed?ce:0):Ne;break}if(((kt=this.groupCtx.prevYVal[me-st])===null||kt===void 0?void 0:kt[$])>=0){ye=this.series[Q][$]>=0?Ne:Ne+ce-2*(this.isReversed?ce:0);break}}ye===void 0&&(ye=z.globals.gridHeight),T=(Ae=this.groupCtx.prevYF[0])!==null&&Ae!==void 0&&Ae.every(function(Et){return Et===0})&&this.groupCtx.prevYF.slice(1,me).every(function(Et){return Et.every(function(Xt){return isNaN(Xt)})})?V:ye}else T=V;y=this.series[Q][$]?T-this.series[Q][$]/this.yRatio[se]+2*(this.isReversed?this.series[Q][$]/this.yRatio[se]:0):T;var Bt=this.barHelpers.getColumnPaths({barXPosition:ee,barWidth:B,y1:T,y2:y,yRatio:this.yRatio[se],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:Y,realIndex:I.realIndex,i:Q,j:$,w:z});return this.barHelpers.barBackground({bc:oe,j:$,i:Q,x1:ee,x2:B,elSeries:H}),b+=x,{pathTo:Bt.pathTo,pathFrom:Bt.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,V,Q,$),barXPosition:ee,x:z.globals.isXNumeric?b-x:b,y}}}]),g}(),Us=function(le){Z(g,Cr);var c=D(g);function g(){return m(this,g),c.apply(this,arguments)}return v(g,[{key:"draw",value:function(h,I,b){var y=this,x=this.w,B=new ne(this.ctx),V=x.globals.comboCharts?I:x.config.chart.type,E=new Je(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=x.config.plotOptions.bar.horizontal;var Y=new ue(this.ctx,x);h=Y.getLogSeries(h),this.series=h,this.yRatio=Y.getLogYRatios(this.yRatio),this.barHelpers.initVariables(h);for(var H=B.group({class:"apexcharts-".concat(V,"-series apexcharts-plot-series")}),z=function($){y.isBoxPlot=x.config.chart.type==="boxPlot"||x.config.series[$].type==="boxPlot";var oe,re,se,W,T=void 0,ee=void 0,ce=[],ge=[],me=x.globals.comboCharts?b[$]:$,Ae=y.barHelpers.getGroupIndex(me).columnGroupIndex,ye=B.group({class:"apexcharts-series",seriesName:F.escapeString(x.globals.seriesNames[me]),rel:$+1,"data:realIndex":me});y.ctx.series.addCollapsedClassToSeries(ye,me),h[$].length>0&&(y.visibleI=y.visibleI+1);var Ne,Te,Ve=0;y.yRatio.length>1&&(y.yaxisIndex=x.globals.seriesYAxisReverseMap[me][0],Ve=me);var Le=y.barHelpers.initialPositions();ee=Le.y,Ne=Le.barHeight,re=Le.yDivision,W=Le.zeroW,T=Le.x,Te=Le.barWidth,oe=Le.xDivision,se=Le.zeroH,ge.push(T+Te/2);for(var st=B.group({class:"apexcharts-datalabels","data:realIndex":me}),pt=function(Bt){var Et=y.barHelpers.getStrokeWidth($,Bt,me),Xt=null,Pt={indexes:{i:$,j:Bt,realIndex:me,translationsIndex:Ve},x:T,y:ee,strokeWidth:Et,elSeries:ye};Xt=y.isHorizontal?y.drawHorizontalBoxPaths(s(s({},Pt),{},{yDivision:re,barHeight:Ne,zeroW:W})):y.drawVerticalBoxPaths(s(s({},Pt),{},{xDivision:oe,barWidth:Te,zeroH:se})),ee=Xt.y,T=Xt.x,Bt>0&&ge.push(T+Te/2),ce.push(ee),Xt.pathTo.forEach(function(Mn,ni){var vn=!y.isBoxPlot&&y.candlestickOptions.wick.useFillColor?Xt.color[ni]:x.globals.stroke.colors[$],lo=E.fillPath({seriesNumber:me,dataPointIndex:Bt,color:Xt.color[ni],value:h[$][Bt]});y.renderSeries({realIndex:me,pathFill:lo,lineFill:vn,j:Bt,i:$,pathFrom:Xt.pathFrom,pathTo:Mn,strokeWidth:Et,elSeries:ye,x:T,y:ee,series:h,columnGroupIndex:Ae,barHeight:Ne,barWidth:Te,elDataLabelsWrap:st,visibleSeries:y.visibleI,type:x.config.chart.type})})},kt=0;kt<x.globals.dataPoints;kt++)pt(kt);x.globals.seriesXvalues[me]=ge,x.globals.seriesYvalues[me]=ce,H.add(ye)},Q=0;Q<h.length;Q++)z(Q);return H}},{key:"drawVerticalBoxPaths",value:function(h){var I=h.indexes,b=h.x;h.y;var y=h.xDivision,x=h.barWidth,B=h.zeroH,V=h.strokeWidth,E=this.w,Y=new ne(this.ctx),H=I.i,z=I.j,Q=!0,$=E.config.plotOptions.candlestick.colors.upward,oe=E.config.plotOptions.candlestick.colors.downward,re="";this.isBoxPlot&&(re=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var se=this.yRatio[I.translationsIndex],W=I.realIndex,T=this.getOHLCValue(W,z),ee=B,ce=B;T.o>T.c&&(Q=!1);var ge=Math.min(T.o,T.c),me=Math.max(T.o,T.c),Ae=T.m;E.globals.isXNumeric&&(b=(E.globals.seriesX[W][z]-E.globals.minX)/this.xRatio-x/2);var ye=b+x*this.visibleI;this.series[H][z]===void 0||this.series[H][z]===null?(ge=B,me=B):(ge=B-ge/se,me=B-me/se,ee=B-T.h/se,ce=B-T.l/se,Ae=B-T.m/se);var Ne=Y.move(ye,B),Te=Y.move(ye+x/2,ge);return E.globals.previousPaths.length>0&&(Te=this.getPreviousPath(W,z,!0)),Ne=this.isBoxPlot?[Y.move(ye,ge)+Y.line(ye+x/2,ge)+Y.line(ye+x/2,ee)+Y.line(ye+x/4,ee)+Y.line(ye+x-x/4,ee)+Y.line(ye+x/2,ee)+Y.line(ye+x/2,ge)+Y.line(ye+x,ge)+Y.line(ye+x,Ae)+Y.line(ye,Ae)+Y.line(ye,ge+V/2),Y.move(ye,Ae)+Y.line(ye+x,Ae)+Y.line(ye+x,me)+Y.line(ye+x/2,me)+Y.line(ye+x/2,ce)+Y.line(ye+x-x/4,ce)+Y.line(ye+x/4,ce)+Y.line(ye+x/2,ce)+Y.line(ye+x/2,me)+Y.line(ye,me)+Y.line(ye,Ae)+"z"]:[Y.move(ye,me)+Y.line(ye+x/2,me)+Y.line(ye+x/2,ee)+Y.line(ye+x/2,me)+Y.line(ye+x,me)+Y.line(ye+x,ge)+Y.line(ye+x/2,ge)+Y.line(ye+x/2,ce)+Y.line(ye+x/2,ge)+Y.line(ye,ge)+Y.line(ye,me-V/2)],Te+=Y.move(ye,ge),E.globals.isXNumeric||(b+=y),{pathTo:Ne,pathFrom:Te,x:b,y:me,barXPosition:ye,color:this.isBoxPlot?re:Q?[$]:[oe]}}},{key:"drawHorizontalBoxPaths",value:function(h){var I=h.indexes;h.x;var b=h.y,y=h.yDivision,x=h.barHeight,B=h.zeroW,V=h.strokeWidth,E=this.w,Y=new ne(this.ctx),H=I.i,z=I.j,Q=this.boxOptions.colors.lower;this.isBoxPlot&&(Q=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var $=this.invertedYRatio,oe=I.realIndex,re=this.getOHLCValue(oe,z),se=B,W=B,T=Math.min(re.o,re.c),ee=Math.max(re.o,re.c),ce=re.m;E.globals.isXNumeric&&(b=(E.globals.seriesX[oe][z]-E.globals.minX)/this.invertedXRatio-x/2);var ge=b+x*this.visibleI;this.series[H][z]===void 0||this.series[H][z]===null?(T=B,ee=B):(T=B+T/$,ee=B+ee/$,se=B+re.h/$,W=B+re.l/$,ce=B+re.m/$);var me=Y.move(B,ge),Ae=Y.move(T,ge+x/2);return E.globals.previousPaths.length>0&&(Ae=this.getPreviousPath(oe,z,!0)),me=[Y.move(T,ge)+Y.line(T,ge+x/2)+Y.line(se,ge+x/2)+Y.line(se,ge+x/2-x/4)+Y.line(se,ge+x/2+x/4)+Y.line(se,ge+x/2)+Y.line(T,ge+x/2)+Y.line(T,ge+x)+Y.line(ce,ge+x)+Y.line(ce,ge)+Y.line(T+V/2,ge),Y.move(ce,ge)+Y.line(ce,ge+x)+Y.line(ee,ge+x)+Y.line(ee,ge+x/2)+Y.line(W,ge+x/2)+Y.line(W,ge+x-x/4)+Y.line(W,ge+x/4)+Y.line(W,ge+x/2)+Y.line(ee,ge+x/2)+Y.line(ee,ge)+Y.line(ce,ge)+"z"],Ae+=Y.move(T,ge),E.globals.isXNumeric||(b+=y),{pathTo:me,pathFrom:Ae,x:ee,y:b,barYPosition:ge,color:Q}}},{key:"getOHLCValue",value:function(h,I){var b=this.w;return{o:this.isBoxPlot?b.globals.seriesCandleH[h][I]:b.globals.seriesCandleO[h][I],h:this.isBoxPlot?b.globals.seriesCandleO[h][I]:b.globals.seriesCandleH[h][I],m:b.globals.seriesCandleM[h][I],l:this.isBoxPlot?b.globals.seriesCandleC[h][I]:b.globals.seriesCandleL[h][I],c:this.isBoxPlot?b.globals.seriesCandleL[h][I]:b.globals.seriesCandleC[h][I]}}}]),g}(),Ya=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"checkColorRange",value:function(){var c=this.w,g=!1,h=c.config.plotOptions[c.config.chart.type];return h.colorScale.ranges.length>0&&h.colorScale.ranges.map(function(I,b){I.from<=0&&(g=!0)}),g}},{key:"getShadeColor",value:function(c,g,h,I){var b=this.w,y=1,x=b.config.plotOptions[c].shadeIntensity,B=this.determineColor(c,g,h);b.globals.hasNegs||I?y=b.config.plotOptions[c].reverseNegativeShade?B.percent<0?B.percent/100*(1.25*x):(1-B.percent/100)*(1.25*x):B.percent<=0?1-(1+B.percent/100)*x:(1-B.percent/100)*x:(y=1-B.percent/100,c==="treemap"&&(y=(1-B.percent/100)*(1.25*x)));var V=B.color,E=new F;return b.config.plotOptions[c].enableShades&&(V=this.w.config.theme.mode==="dark"?F.hexToRgba(E.shadeColor(-1*y,B.color),b.config.fill.opacity):F.hexToRgba(E.shadeColor(y,B.color),b.config.fill.opacity)),{color:V,colorProps:B}}},{key:"determineColor",value:function(c,g,h){var I=this.w,b=I.globals.series[g][h],y=I.config.plotOptions[c],x=y.colorScale.inverse?h:g;y.distributed&&I.config.chart.type==="treemap"&&(x=h);var B=I.globals.colors[x],V=null,E=Math.min.apply(Math,L(I.globals.series[g])),Y=Math.max.apply(Math,L(I.globals.series[g]));y.distributed||c!=="heatmap"||(E=I.globals.minY,Y=I.globals.maxY),y.colorScale.min!==void 0&&(E=y.colorScale.min<I.globals.minY?y.colorScale.min:I.globals.minY,Y=y.colorScale.max>I.globals.maxY?y.colorScale.max:I.globals.maxY);var H=Math.abs(Y)+Math.abs(E),z=100*b/(H===0?H-1e-6:H);return y.colorScale.ranges.length>0&&y.colorScale.ranges.map(function(Q,$){if(b>=Q.from&&b<=Q.to){B=Q.color,V=Q.foreColor?Q.foreColor:null,E=Q.from,Y=Q.to;var oe=Math.abs(Y)+Math.abs(E);z=100*b/(oe===0?oe-1e-6:oe)}}),{color:B,foreColor:V,percent:z}}},{key:"calculateDataLabels",value:function(c){var g=c.text,h=c.x,I=c.y,b=c.i,y=c.j,x=c.colorProps,B=c.fontSize,V=this.w.config.dataLabels,E=new ne(this.ctx),Y=new He(this.ctx),H=null;if(V.enabled){H=E.group({class:"apexcharts-data-labels"});var z=V.offsetX,Q=V.offsetY,$=h+z,oe=I+parseFloat(V.style.fontSize)/3+Q;Y.plotDataLabelsText({x:$,y:oe,text:g,i:b,j:y,color:x.foreColor,parent:H,fontSize:B,dataLabelsConfig:V})}return H}},{key:"addListeners",value:function(c){var g=new ne(this.ctx);c.node.addEventListener("mouseenter",g.pathMouseEnter.bind(this,c)),c.node.addEventListener("mouseleave",g.pathMouseLeave.bind(this,c)),c.node.addEventListener("mousedown",g.pathMouseDown.bind(this,c))}}]),le}(),Wl=function(){function le(c,g){m(this,le),this.ctx=c,this.w=c.w,this.xRatio=g.xRatio,this.yRatio=g.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Ya(c),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return v(le,[{key:"draw",value:function(c){var g=this.w,h=new ne(this.ctx),I=h.group({class:"apexcharts-heatmap"});I.attr("clip-path","url(#gridRectMask".concat(g.globals.cuid,")"));var b=g.globals.gridWidth/g.globals.dataPoints,y=g.globals.gridHeight/g.globals.series.length,x=0,B=!1;this.negRange=this.helpers.checkColorRange();var V=c.slice();g.config.yaxis[0].reversed&&(B=!0,V.reverse());for(var E=B?0:V.length-1;B?E<V.length:E>=0;B?E++:E--){var Y=h.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:F.escapeString(g.globals.seriesNames[E]),rel:E+1,"data:realIndex":E});if(this.ctx.series.addCollapsedClassToSeries(Y,E),g.config.chart.dropShadow.enabled){var H=g.config.chart.dropShadow;new ie(this.ctx).dropShadow(Y,H,E)}for(var z=0,Q=g.config.plotOptions.heatmap.shadeIntensity,$=0;$<V[E].length;$++){var oe=this.helpers.getShadeColor(g.config.chart.type,E,$,this.negRange),re=oe.color,se=oe.colorProps;g.config.fill.type==="image"&&(re=new Je(this.ctx).fillPath({seriesNumber:E,dataPointIndex:$,opacity:g.globals.hasNegs?se.percent<0?1-(1+se.percent/100):Q+se.percent/100:se.percent/100,patternID:F.randomId(),width:g.config.fill.image.width?g.config.fill.image.width:b,height:g.config.fill.image.height?g.config.fill.image.height:y}));var W=this.rectRadius,T=h.drawRect(z,x,b,y,W);if(T.attr({cx:z,cy:x}),T.node.classList.add("apexcharts-heatmap-rect"),Y.add(T),T.attr({fill:re,i:E,index:E,j:$,val:c[E][$],"stroke-width":this.strokeWidth,stroke:g.config.plotOptions.heatmap.useFillColorAsStroke?re:g.globals.stroke.colors[0],color:re}),this.helpers.addListeners(T),g.config.chart.animations.enabled&&!g.globals.dataChanged){var ee=1;g.globals.resized||(ee=g.config.chart.animations.speed),this.animateHeatMap(T,z,x,b,y,ee)}if(g.globals.dataChanged){var ce=1;if(this.dynamicAnim.enabled&&g.globals.shouldAnimate){ce=this.dynamicAnim.speed;var ge=g.globals.previousPaths[E]&&g.globals.previousPaths[E][$]&&g.globals.previousPaths[E][$].color;ge||(ge="rgba(255, 255, 255, 0)"),this.animateHeatColor(T,F.isColorHex(ge)?ge:F.rgb2hex(ge),F.isColorHex(re)?re:F.rgb2hex(re),ce)}}var me=(0,g.config.dataLabels.formatter)(g.globals.series[E][$],{value:g.globals.series[E][$],seriesIndex:E,dataPointIndex:$,w:g}),Ae=this.helpers.calculateDataLabels({text:me,x:z+b/2,y:x+y/2,i:E,j:$,colorProps:se,series:V});Ae!==null&&Y.add(Ae),z+=b}x+=y,I.add(Y)}var ye=g.globals.yAxisScale[0].result.slice();return g.config.yaxis[0].reversed?ye.unshift(""):ye.push(""),g.globals.yAxisScale[0].result=ye,I}},{key:"animateHeatMap",value:function(c,g,h,I,b,y){var x=new j(this.ctx);x.animateRect(c,{x:g+I/2,y:h+b/2,width:0,height:0},{x:g,y:h,width:I,height:b},y,function(){x.animationCompleted(c)})}},{key:"animateHeatColor",value:function(c,g,h,I){c.attr({fill:g}).animate(I).attr({fill:h})}}]),le}(),Da=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"drawYAxisTexts",value:function(c,g,h,I){var b=this.w,y=b.config.yaxis[0],x=b.globals.yLabelFormatters[0];return new ne(this.ctx).drawText({x:c+y.labels.offsetX,y:g+y.labels.offsetY,text:x(I,h),textAnchor:"middle",fontSize:y.labels.style.fontSize,fontFamily:y.labels.style.fontFamily,foreColor:Array.isArray(y.labels.style.colors)?y.labels.style.colors[h]:y.labels.style.colors})}}]),le}(),Kc=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w;var g=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=g.globals.stroke.colors!==void 0?g.globals.stroke.colors:g.globals.colors,this.defaultSize=Math.min(g.globals.gridWidth,g.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=g.globals.gridWidth/2,g.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(g.config.plotOptions.pie.endAngle-g.config.plotOptions.pie.startAngle),this.initialAngle=g.config.plotOptions.pie.startAngle%this.fullAngle,g.globals.radialSize=this.defaultSize/2.05-g.config.stroke.width-(g.config.chart.sparkline.enabled?0:g.config.chart.dropShadow.blur),this.donutSize=g.globals.radialSize*parseInt(g.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return v(le,[{key:"draw",value:function(c){var g=this,h=this.w,I=new ne(this.ctx);if(this.ret=I.group({class:"apexcharts-pie"}),h.globals.noData)return this.ret;for(var b=0,y=0;y<c.length;y++)b+=F.negToZero(c[y]);var x=[],B=I.group();b===0&&(b=1e-5),c.forEach(function(ge){g.maxY=Math.max(g.maxY,ge)}),h.config.yaxis[0].max&&(this.maxY=h.config.yaxis[0].max),h.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret);for(var V=0;V<c.length;V++){var E=this.fullAngle*F.negToZero(c[V])/b;x.push(E),this.chartType==="polarArea"?(x[V]=this.fullAngle/c.length,this.sliceSizes.push(h.globals.radialSize*c[V]/this.maxY)):this.sliceSizes.push(h.globals.radialSize)}if(h.globals.dataChanged){for(var Y,H=0,z=0;z<h.globals.previousPaths.length;z++)H+=F.negToZero(h.globals.previousPaths[z]);for(var Q=0;Q<h.globals.previousPaths.length;Q++)Y=this.fullAngle*F.negToZero(h.globals.previousPaths[Q])/H,this.prevSectorAngleArr.push(Y)}this.donutSize<0&&(this.donutSize=0);var $=h.config.plotOptions.pie.customScale,oe=h.globals.gridWidth/2,re=h.globals.gridHeight/2,se=oe-h.globals.gridWidth/2*$,W=re-h.globals.gridHeight/2*$;if(this.chartType==="donut"){var T=I.drawCircle(this.donutSize);T.attr({cx:this.centerX,cy:this.centerY,fill:h.config.plotOptions.pie.donut.background?h.config.plotOptions.pie.donut.background:"transparent"}),B.add(T)}var ee=this.drawArcs(x,c);if(this.sliceLabels.forEach(function(ge){ee.add(ge)}),B.attr({transform:"translate(".concat(se,", ").concat(W,") scale(").concat($,")")}),B.add(ee),this.ret.add(B),this.donutDataLabels.show){var ce=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:se,translateY:W});this.ret.add(ce)}return h.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(c,g){var h=this.w,I=new ie(this.ctx),b=new ne(this.ctx),y=new Je(this.ctx),x=b.group({class:"apexcharts-slices"}),B=this.initialAngle,V=this.initialAngle,E=this.initialAngle,Y=this.initialAngle;this.strokeWidth=h.config.stroke.show?h.config.stroke.width:0;for(var H=0;H<c.length;H++){var z=b.group({class:"apexcharts-series apexcharts-pie-series",seriesName:F.escapeString(h.globals.seriesNames[H]),rel:H+1,"data:realIndex":H});x.add(z),V=Y,E=(B=E)+c[H],Y=V+this.prevSectorAngleArr[H];var Q=E<B?this.fullAngle+E-B:E-B,$=y.fillPath({seriesNumber:H,size:this.sliceSizes[H],value:g[H]}),oe=this.getChangedPath(V,Y),re=b.drawPath({d:oe,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[H]:this.lineColorArr,strokeWidth:0,fill:$,fillOpacity:h.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(H)});if(re.attr({index:0,j:H}),I.setSelectionFilter(re,0,H),h.config.chart.dropShadow.enabled){var se=h.config.chart.dropShadow;I.dropShadow(re,se,H)}this.addListeners(re,this.donutDataLabels),ne.setAttrs(re.node,{"data:angle":Q,"data:startAngle":B,"data:strokeWidth":this.strokeWidth,"data:value":g[H]});var W={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?W=F.polarToCartesian(this.centerX,this.centerY,h.globals.radialSize/1.25+h.config.plotOptions.pie.dataLabels.offset,(B+Q/2)%this.fullAngle):this.chartType==="donut"&&(W=F.polarToCartesian(this.centerX,this.centerY,(h.globals.radialSize+this.donutSize)/2+h.config.plotOptions.pie.dataLabels.offset,(B+Q/2)%this.fullAngle)),z.add(re);var T=0;if(!this.initialAnim||h.globals.resized||h.globals.dataChanged?this.animBeginArr.push(0):((T=Q/this.fullAngle*h.config.chart.animations.speed)===0&&(T=1),this.animDur=T+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&h.globals.dataChanged?this.animatePaths(re,{size:this.sliceSizes[H],endAngle:E,startAngle:B,prevStartAngle:V,prevEndAngle:Y,animateStartingPos:!0,i:H,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:h.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(re,{size:this.sliceSizes[H],endAngle:E,startAngle:B,i:H,totalItems:c.length-1,animBeginArr:this.animBeginArr,dur:T}),h.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&re.node.addEventListener("mouseup",this.pieClicked.bind(this,H)),h.globals.selectedDataPoints[0]!==void 0&&h.globals.selectedDataPoints[0].indexOf(H)>-1&&this.pieClicked(H),h.config.dataLabels.enabled){var ee=W.x,ce=W.y,ge=100*Q/this.fullAngle+"%";if(Q!==0&&h.config.plotOptions.pie.dataLabels.minAngleToShowLabel<c[H]){var me=h.config.dataLabels.formatter;me!==void 0&&(ge=me(h.globals.seriesPercent[H][0],{seriesIndex:H,w:h}));var Ae=h.globals.dataLabels.style.colors[H],ye=b.group({class:"apexcharts-datalabels"}),Ne=b.drawText({x:ee,y:ce,text:ge,textAnchor:"middle",fontSize:h.config.dataLabels.style.fontSize,fontFamily:h.config.dataLabels.style.fontFamily,fontWeight:h.config.dataLabels.style.fontWeight,foreColor:Ae});if(ye.add(Ne),h.config.dataLabels.dropShadow.enabled){var Te=h.config.dataLabels.dropShadow;I.dropShadow(Ne,Te)}Ne.node.classList.add("apexcharts-pie-label"),h.config.chart.animations.animate&&h.globals.resized===!1&&(Ne.node.classList.add("apexcharts-pie-label-delay"),Ne.node.style.animationDelay=h.config.chart.animations.speed/940+"s"),this.sliceLabels.push(ye)}}}return x}},{key:"addListeners",value:function(c,g){var h=new ne(this.ctx);c.node.addEventListener("mouseenter",h.pathMouseEnter.bind(this,c)),c.node.addEventListener("mouseleave",h.pathMouseLeave.bind(this,c)),c.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,c.node,g)),c.node.addEventListener("mousedown",h.pathMouseDown.bind(this,c)),this.donutDataLabels.total.showAlways||(c.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,c.node,g)),c.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,c.node,g)))}},{key:"animatePaths",value:function(c,g){var h=this.w,I=g.endAngle<g.startAngle?this.fullAngle+g.endAngle-g.startAngle:g.endAngle-g.startAngle,b=I,y=g.startAngle,x=g.startAngle;g.prevStartAngle!==void 0&&g.prevEndAngle!==void 0&&(y=g.prevEndAngle,b=g.prevEndAngle<g.prevStartAngle?this.fullAngle+g.prevEndAngle-g.prevStartAngle:g.prevEndAngle-g.prevStartAngle),g.i===h.config.series.length-1&&(I+x>this.fullAngle?g.endAngle=g.endAngle-(I+x):I+x<this.fullAngle&&(g.endAngle=g.endAngle+(this.fullAngle-(I+x)))),I===this.fullAngle&&(I=this.fullAngle-.01),this.animateArc(c,y,x,I,b,g)}},{key:"animateArc",value:function(c,g,h,I,b,y){var x,B=this,V=this.w,E=new j(this.ctx),Y=y.size;(isNaN(g)||isNaN(b))&&(g=h,b=I,y.dur=0);var H=I,z=h,Q=g<h?this.fullAngle+g-h:g-h;V.globals.dataChanged&&y.shouldSetPrevPaths&&y.prevEndAngle&&(x=B.getPiePath({me:B,startAngle:y.prevStartAngle,angle:y.prevEndAngle<y.prevStartAngle?this.fullAngle+y.prevEndAngle-y.prevStartAngle:y.prevEndAngle-y.prevStartAngle,size:Y}),c.attr({d:x})),y.dur!==0?c.animate(y.dur,V.globals.easing,y.animBeginArr[y.i]).afterAll(function(){B.chartType!=="pie"&&B.chartType!=="donut"&&B.chartType!=="polarArea"||this.animate(V.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":B.strokeWidth}),y.i===V.config.series.length-1&&E.animationCompleted(c)}).during(function($){H=Q+(I-Q)*$,y.animateStartingPos&&(H=b+(I-b)*$,z=g-b+(h-(g-b))*$),x=B.getPiePath({me:B,startAngle:z,angle:H,size:Y}),c.node.setAttribute("data:pathOrig",x),c.attr({d:x})}):(x=B.getPiePath({me:B,startAngle:z,angle:I,size:Y}),y.isTrack||(V.globals.animationEnded=!0),c.node.setAttribute("data:pathOrig",x),c.attr({d:x,"stroke-width":B.strokeWidth}))}},{key:"pieClicked",value:function(c){var g,h=this.w,I=this,b=I.sliceSizes[c]+(h.config.plotOptions.pie.expandOnClick?4:0),y=h.globals.dom.Paper.select(".apexcharts-".concat(I.chartType.toLowerCase(),"-slice-").concat(c)).members[0];if(y.attr("data:pieClicked")!=="true"){var x=h.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(x,function(Y){Y.setAttribute("data:pieClicked","false");var H=Y.getAttribute("data:pathOrig");H&&Y.setAttribute("d",H)}),h.globals.capturedDataPointIndex=c,y.attr("data:pieClicked","true");var B=parseInt(y.attr("data:startAngle"),10),V=parseInt(y.attr("data:angle"),10);g=I.getPiePath({me:I,startAngle:B,angle:V,size:b}),V!==360&&y.plot(g)}else{y.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(y.node,this.donutDataLabels);var E=y.attr("data:pathOrig");y.attr({d:E})}}},{key:"getChangedPath",value:function(c,g){var h="";return this.dynamicAnim&&this.w.globals.dataChanged&&(h=this.getPiePath({me:this,startAngle:c,angle:g-c,size:this.size})),h}},{key:"getPiePath",value:function(c){var g,h=c.me,I=c.startAngle,b=c.angle,y=c.size,x=new ne(this.ctx),B=I,V=Math.PI*(B-90)/180,E=b+I;Math.ceil(E)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(E=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(E)>this.fullAngle&&(E-=this.fullAngle);var Y=Math.PI*(E-90)/180,H=h.centerX+y*Math.cos(V),z=h.centerY+y*Math.sin(V),Q=h.centerX+y*Math.cos(Y),$=h.centerY+y*Math.sin(Y),oe=F.polarToCartesian(h.centerX,h.centerY,h.donutSize,E),re=F.polarToCartesian(h.centerX,h.centerY,h.donutSize,B),se=b>180?1:0,W=["M",H,z,"A",y,y,0,se,1,Q,$];return g=h.chartType==="donut"?[].concat(W,["L",oe.x,oe.y,"A",h.donutSize,h.donutSize,0,se,0,re.x,re.y,"L",H,z,"z"]).join(" "):h.chartType==="pie"||h.chartType==="polarArea"?[].concat(W,["L",h.centerX,h.centerY,"L",H,z]).join(" "):[].concat(W).join(" "),x.roundPathCorners(g,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(c){var g=this.w,h=new wt(this.ctx),I=new ne(this.ctx),b=new Da(this.ctx),y=I.group(),x=I.group(),B=h.niceScale(0,Math.ceil(this.maxY),0),V=B.result.reverse(),E=B.result.length;this.maxY=B.niceMax;for(var Y=g.globals.radialSize,H=Y/(E-1),z=0;z<E-1;z++){var Q=I.drawCircle(Y);if(Q.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":g.config.plotOptions.polarArea.rings.strokeWidth,stroke:g.config.plotOptions.polarArea.rings.strokeColor}),g.config.yaxis[0].show){var $=b.drawYAxisTexts(this.centerX,this.centerY-Y+parseInt(g.config.yaxis[0].labels.style.fontSize,10)/2,z,V[z]);x.add($)}y.add(Q),Y-=H}this.drawSpokes(c),c.add(y),c.add(x)}},{key:"renderInnerDataLabels",value:function(c,g){var h=this.w,I=new ne(this.ctx),b=I.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(g.translateX?g.translateX:0,", ").concat(g.translateY?g.translateY:0,") scale(").concat(h.config.plotOptions.pie.customScale,")")}),y=c.total.show;b.node.style.opacity=g.opacity;var x,B,V=g.centerX,E=g.centerY;x=c.name.color===void 0?h.globals.colors[0]:c.name.color;var Y=c.name.fontSize,H=c.name.fontFamily,z=c.name.fontWeight;B=c.value.color===void 0?h.config.chart.foreColor:c.value.color;var Q=c.value.formatter,$="",oe="";if(y?(x=c.total.color,Y=c.total.fontSize,H=c.total.fontFamily,z=c.total.fontWeight,oe=c.total.label,$=c.total.formatter(h)):h.globals.series.length===1&&($=Q(h.globals.series[0],h),oe=h.globals.seriesNames[0]),oe&&(oe=c.name.formatter(oe,c.total.show,h)),c.name.show){var re=I.drawText({x:V,y:E+parseFloat(c.name.offsetY),text:oe,textAnchor:"middle",foreColor:x,fontSize:Y,fontWeight:z,fontFamily:H});re.node.classList.add("apexcharts-datalabel-label"),b.add(re)}if(c.value.show){var se=c.name.show?parseFloat(c.value.offsetY)+16:c.value.offsetY,W=I.drawText({x:V,y:E+se,text:$,textAnchor:"middle",foreColor:B,fontWeight:c.value.fontWeight,fontSize:c.value.fontSize,fontFamily:c.value.fontFamily});W.node.classList.add("apexcharts-datalabel-value"),b.add(W)}return b}},{key:"printInnerLabels",value:function(c,g,h,I){var b,y=this.w;I?b=c.name.color===void 0?y.globals.colors[parseInt(I.parentNode.getAttribute("rel"),10)-1]:c.name.color:y.globals.series.length>1&&c.total.show&&(b=c.total.color);var x=y.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),B=y.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");h=(0,c.value.formatter)(h,y),I||typeof c.total.formatter!="function"||(h=c.total.formatter(y));var V=g===c.total.label;g=c.name.formatter(g,V,y),x!==null&&(x.textContent=g),B!==null&&(B.textContent=h),x!==null&&(x.style.fill=b)}},{key:"printDataLabelsInner",value:function(c,g){var h=this.w,I=c.getAttribute("data:value"),b=h.globals.seriesNames[parseInt(c.parentNode.getAttribute("rel"),10)-1];h.globals.series.length>1&&this.printInnerLabels(g,b,I,c);var y=h.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");y!==null&&(y.style.opacity=1)}},{key:"drawSpokes",value:function(c){var g=this,h=this.w,I=new ne(this.ctx),b=h.config.plotOptions.polarArea.spokes;if(b.strokeWidth!==0){for(var y=[],x=360/h.globals.series.length,B=0;B<h.globals.series.length;B++)y.push(F.polarToCartesian(this.centerX,this.centerY,h.globals.radialSize,h.config.plotOptions.pie.startAngle+x*B));y.forEach(function(V,E){var Y=I.drawLine(V.x,V.y,g.centerX,g.centerY,Array.isArray(b.connectorColors)?b.connectorColors[E]:b.connectorColors);c.add(Y)})}}},{key:"revertDataLabelsInner",value:function(c,g,h){var I=this,b=this.w,y=b.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),x=!1,B=b.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),V=function(H){var z=H.makeSliceOut,Q=H.printLabel;Array.prototype.forEach.call(B,function($){$.getAttribute("data:pieClicked")==="true"&&(z&&(x=!0),Q&&I.printDataLabelsInner($,g))})};if(V({makeSliceOut:!0,printLabel:!1}),g.total.show&&b.globals.series.length>1)x&&!g.total.showAlways?V({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(g,g.total.label,g.total.formatter(b));else if(V({makeSliceOut:!1,printLabel:!0}),!x)if(b.globals.selectedDataPoints.length&&b.globals.series.length>1)if(b.globals.selectedDataPoints[0].length>0){var E=b.globals.selectedDataPoints[0],Y=b.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(E));this.printDataLabelsInner(Y,g)}else y&&b.globals.selectedDataPoints.length&&b.globals.selectedDataPoints[0].length===0&&(y.style.opacity=0);else y&&b.globals.series.length>1&&(y.style.opacity=0)}}]),le}(),Ei=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var g=this.w;this.graphics=new ne(this.ctx),this.lineColorArr=g.globals.stroke.colors!==void 0?g.globals.stroke.colors:g.globals.colors,this.defaultSize=g.globals.svgHeight<g.globals.svgWidth?g.globals.gridHeight+1.5*g.globals.goldenPadding:g.globals.gridWidth,this.isLog=g.config.yaxis[0].logarithmic,this.logBase=g.config.yaxis[0].logBase,this.coreUtils=new ue(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,g.globals.maxY,0):g.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):g.globals.minY,this.polygons=g.config.plotOptions.radar.polygons,this.strokeWidth=g.config.stroke.show?g.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-g.config.chart.dropShadow.blur,g.config.xaxis.labels.show&&(this.size=this.size-g.globals.xAxisLabelsWidth/1.75),g.config.plotOptions.radar.size!==void 0&&(this.size=g.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return v(le,[{key:"draw",value:function(c){var g=this,h=this.w,I=new Je(this.ctx),b=[],y=new He(this.ctx);c.length&&(this.dataPointsLen=c[h.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var x=h.globals.gridWidth/2,B=h.globals.gridHeight/2,V=x+h.config.plotOptions.radar.offsetX,E=B+h.config.plotOptions.radar.offsetY,Y=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(V||0,", ").concat(E||0,")")}),H=[],z=null,Q=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),c.forEach(function(oe,re){var se=oe.length===h.globals.dataPoints,W=g.graphics.group().attr({class:"apexcharts-series","data:longestSeries":se,seriesName:F.escapeString(h.globals.seriesNames[re]),rel:re+1,"data:realIndex":re});g.dataRadiusOfPercent[re]=[],g.dataRadius[re]=[],g.angleArr[re]=[],oe.forEach(function(Ve,Le){var st=Math.abs(g.maxValue-g.minValue);Ve-=g.minValue,g.isLog&&(Ve=g.coreUtils.getLogVal(g.logBase,Ve,0)),g.dataRadiusOfPercent[re][Le]=Ve/st,g.dataRadius[re][Le]=g.dataRadiusOfPercent[re][Le]*g.size,g.angleArr[re][Le]=Le*g.disAngle}),H=g.getDataPointsPos(g.dataRadius[re],g.angleArr[re]);var T=g.createPaths(H,{x:0,y:0});z=g.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),Q=g.graphics.group({class:"apexcharts-datalabels","data:realIndex":re}),h.globals.delayedElements.push({el:z.node,index:re});var ee={i:re,realIndex:re,animationDelay:re,initialSpeed:h.config.chart.animations.speed,dataChangeSpeed:h.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:h.globals.stroke.colors[re],strokeLineCap:h.config.stroke.lineCap},ce=null;h.globals.previousPaths.length>0&&(ce=g.getPreviousPath(re));for(var ge=0;ge<T.linePathsTo.length;ge++){var me=g.graphics.renderPaths(s(s({},ee),{},{pathFrom:ce===null?T.linePathsFrom[ge]:ce,pathTo:T.linePathsTo[ge],strokeWidth:Array.isArray(g.strokeWidth)?g.strokeWidth[re]:g.strokeWidth,fill:"none",drawShadow:!1}));W.add(me);var Ae=I.fillPath({seriesNumber:re}),ye=g.graphics.renderPaths(s(s({},ee),{},{pathFrom:ce===null?T.areaPathsFrom[ge]:ce,pathTo:T.areaPathsTo[ge],strokeWidth:0,fill:Ae,drawShadow:!1}));if(h.config.chart.dropShadow.enabled){var Ne=new ie(g.ctx),Te=h.config.chart.dropShadow;Ne.dropShadow(ye,Object.assign({},Te,{noUserSpaceOnUse:!0}),re)}W.add(ye)}oe.forEach(function(Ve,Le){var st=new ve(g.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:re,dataPointIndex:Le}),pt=g.graphics.drawMarker(H[Le].x,H[Le].y,st);pt.attr("rel",Le),pt.attr("j",Le),pt.attr("index",re),pt.node.setAttribute("default-marker-size",st.pSize);var kt=g.graphics.group({class:"apexcharts-series-markers"});kt&&kt.add(pt),z.add(kt),W.add(z);var Bt=h.config.dataLabels;if(Bt.enabled){var Et=Bt.formatter(h.globals.series[re][Le],{seriesIndex:re,dataPointIndex:Le,w:h});y.plotDataLabelsText({x:H[Le].x,y:H[Le].y,text:Et,textAnchor:"middle",i:re,j:re,parent:Q,offsetCorrection:!1,dataLabelsConfig:s({},Bt)})}W.add(Q)}),b.push(W)}),this.drawPolygons({parent:Y}),h.config.xaxis.labels.show){var $=this.drawXAxisTexts();Y.add($)}return b.forEach(function(oe){Y.add(oe)}),Y.add(this.yaxisLabels),Y}},{key:"drawPolygons",value:function(c){for(var g=this,h=this.w,I=c.parent,b=new Da(this.ctx),y=h.globals.yAxisScale[0].result.reverse(),x=y.length,B=[],V=this.size/(x-1),E=0;E<x;E++)B[E]=V*E;B.reverse();var Y=[],H=[];B.forEach(function(z,Q){var $=F.getPolygonPos(z,g.dataPointsLen),oe="";$.forEach(function(re,se){if(Q===0){var W=g.graphics.drawLine(re.x,re.y,0,0,Array.isArray(g.polygons.connectorColors)?g.polygons.connectorColors[se]:g.polygons.connectorColors);H.push(W)}se===0&&g.yaxisLabelsTextsPos.push({x:re.x,y:re.y}),oe+=re.x+","+re.y+" "}),Y.push(oe)}),Y.forEach(function(z,Q){var $=g.polygons.strokeColors,oe=g.polygons.strokeWidth,re=g.graphics.drawPolygon(z,Array.isArray($)?$[Q]:$,Array.isArray(oe)?oe[Q]:oe,h.globals.radarPolygons.fill.colors[Q]);I.add(re)}),H.forEach(function(z){I.add(z)}),h.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(z,Q){var $=b.drawYAxisTexts(z.x,z.y,Q,y[Q]);g.yaxisLabels.add($)})}},{key:"drawXAxisTexts",value:function(){var c=this,g=this.w,h=g.config.xaxis.labels,I=this.graphics.group({class:"apexcharts-xaxis"}),b=F.getPolygonPos(this.size,this.dataPointsLen);return g.globals.labels.forEach(function(y,x){var B=g.config.xaxis.labels.formatter,V=new He(c.ctx);if(b[x]){var E=c.getTextPos(b[x],c.size),Y=B(y,{seriesIndex:-1,dataPointIndex:x,w:g});V.plotDataLabelsText({x:E.newX,y:E.newY,text:Y,textAnchor:E.textAnchor,i:x,j:x,parent:I,color:Array.isArray(h.style.colors)&&h.style.colors[x]?h.style.colors[x]:"#a8a8a8",dataLabelsConfig:s({textAnchor:E.textAnchor,dropShadow:{enabled:!1}},h),offsetCorrection:!1})}}),I}},{key:"createPaths",value:function(c,g){var h=this,I=[],b=[],y=[],x=[];if(c.length){b=[this.graphics.move(g.x,g.y)],x=[this.graphics.move(g.x,g.y)];var B=this.graphics.move(c[0].x,c[0].y),V=this.graphics.move(c[0].x,c[0].y);c.forEach(function(E,Y){B+=h.graphics.line(E.x,E.y),V+=h.graphics.line(E.x,E.y),Y===c.length-1&&(B+="Z",V+="Z")}),I.push(B),y.push(V)}return{linePathsFrom:b,linePathsTo:I,areaPathsFrom:x,areaPathsTo:y}}},{key:"getTextPos",value:function(c,g){var h="middle",I=c.x,b=c.y;return Math.abs(c.x)>=10?c.x>0?(h="start",I+=10):c.x<0&&(h="end",I-=10):h="middle",Math.abs(c.y)>=g-10&&(c.y<0?b-=10:c.y>0&&(b+=10)),{textAnchor:h,newX:I,newY:b}}},{key:"getPreviousPath",value:function(c){for(var g=this.w,h=null,I=0;I<g.globals.previousPaths.length;I++){var b=g.globals.previousPaths[I];b.paths.length>0&&parseInt(b.realIndex,10)===parseInt(c,10)&&g.globals.previousPaths[I].paths[0]!==void 0&&(h=g.globals.previousPaths[I].paths[0].d)}return h}},{key:"getDataPointsPos",value:function(c,g){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;c=c||[],g=g||[];for(var I=[],b=0;b<h;b++){var y={};y.x=c[b]*Math.sin(g[b]),y.y=-c[b]*Math.cos(g[b]),I.push(y)}return I}}]),le}(),_l=function(le){Z(g,Kc);var c=D(g);function g(h){var I;m(this,g),(I=c.call(this,h)).ctx=h,I.w=h.w,I.animBeginArr=[0],I.animDur=0;var b=I.w;return I.startAngle=b.config.plotOptions.radialBar.startAngle,I.endAngle=b.config.plotOptions.radialBar.endAngle,I.totalAngle=Math.abs(b.config.plotOptions.radialBar.endAngle-b.config.plotOptions.radialBar.startAngle),I.trackStartAngle=b.config.plotOptions.radialBar.track.startAngle,I.trackEndAngle=b.config.plotOptions.radialBar.track.endAngle,I.barLabels=I.w.config.plotOptions.radialBar.barLabels,I.donutDataLabels=I.w.config.plotOptions.radialBar.dataLabels,I.radialDataLabels=I.donutDataLabels,I.trackStartAngle||(I.trackStartAngle=I.startAngle),I.trackEndAngle||(I.trackEndAngle=I.endAngle),I.endAngle===360&&(I.endAngle=359.99),I.margin=parseInt(b.config.plotOptions.radialBar.track.margin,10),I.onBarLabelClick=I.onBarLabelClick.bind(G(I)),I}return v(g,[{key:"draw",value:function(h){var I=this.w,b=new ne(this.ctx),y=b.group({class:"apexcharts-radialbar"});if(I.globals.noData)return y;var x=b.group(),B=this.defaultSize/2,V=I.globals.gridWidth/2,E=this.defaultSize/2.05;I.config.chart.sparkline.enabled||(E=E-I.config.stroke.width-I.config.chart.dropShadow.blur);var Y=I.globals.fill.colors;if(I.config.plotOptions.radialBar.track.show){var H=this.drawTracks({size:E,centerX:V,centerY:B,colorArr:Y,series:h});x.add(H)}var z=this.drawArcs({size:E,centerX:V,centerY:B,colorArr:Y,series:h}),Q=360;I.config.plotOptions.radialBar.startAngle<0&&(Q=this.totalAngle);var $=(360-Q)/360;if(I.globals.radialSize=E-E*$,this.radialDataLabels.value.show){var oe=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);I.globals.radialSize+=oe*$}return x.add(z.g),I.config.plotOptions.radialBar.hollow.position==="front"&&(z.g.add(z.elHollow),z.dataLabels&&z.g.add(z.dataLabels)),y.add(x),y}},{key:"drawTracks",value:function(h){var I=this.w,b=new ne(this.ctx),y=b.group({class:"apexcharts-tracks"}),x=new ie(this.ctx),B=new Je(this.ctx),V=this.getStrokeWidth(h);h.size=h.size-V/2;for(var E=0;E<h.series.length;E++){var Y=b.group({class:"apexcharts-radialbar-track apexcharts-track"});y.add(Y),Y.attr({rel:E+1}),h.size=h.size-V-this.margin;var H=I.config.plotOptions.radialBar.track,z=B.fillPath({seriesNumber:0,size:h.size,fillColors:Array.isArray(H.background)?H.background[E]:H.background,solid:!0}),Q=this.trackStartAngle,$=this.trackEndAngle;Math.abs($)+Math.abs(Q)>=360&&($=360-Math.abs(this.startAngle)-.1);var oe=b.drawPath({d:"",stroke:z,strokeWidth:V*parseInt(H.strokeWidth,10)/100,fill:"none",strokeOpacity:H.opacity,classes:"apexcharts-radialbar-area"});if(H.dropShadow.enabled){var re=H.dropShadow;x.dropShadow(oe,re)}Y.add(oe),oe.attr("id","apexcharts-radialbarTrack-"+E),this.animatePaths(oe,{centerX:h.centerX,centerY:h.centerY,endAngle:$,startAngle:Q,size:h.size,i:E,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:I.globals.easing})}return y}},{key:"drawArcs",value:function(h){var I=this.w,b=new ne(this.ctx),y=new Je(this.ctx),x=new ie(this.ctx),B=b.group(),V=this.getStrokeWidth(h);h.size=h.size-V/2;var E=I.config.plotOptions.radialBar.hollow.background,Y=h.size-V*h.series.length-this.margin*h.series.length-V*parseInt(I.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,H=Y-I.config.plotOptions.radialBar.hollow.margin;I.config.plotOptions.radialBar.hollow.image!==void 0&&(E=this.drawHollowImage(h,B,Y,E));var z=this.drawHollow({size:H,centerX:h.centerX,centerY:h.centerY,fill:E||"transparent"});if(I.config.plotOptions.radialBar.hollow.dropShadow.enabled){var Q=I.config.plotOptions.radialBar.hollow.dropShadow;x.dropShadow(z,Q)}var $=1;!this.radialDataLabels.total.show&&I.globals.series.length>1&&($=0);var oe=null;this.radialDataLabels.show&&(oe=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:Y,centerX:h.centerX,centerY:h.centerY,opacity:$})),I.config.plotOptions.radialBar.hollow.position==="back"&&(B.add(z),oe&&B.add(oe));var re=!1;I.config.plotOptions.radialBar.inverseOrder&&(re=!0);for(var se=re?h.series.length-1:0;re?se>=0:se<h.series.length;re?se--:se++){var W=b.group({class:"apexcharts-series apexcharts-radial-series",seriesName:F.escapeString(I.globals.seriesNames[se])});B.add(W),W.attr({rel:se+1,"data:realIndex":se}),this.ctx.series.addCollapsedClassToSeries(W,se),h.size=h.size-V-this.margin;var T=y.fillPath({seriesNumber:se,size:h.size,value:h.series[se]}),ee=this.startAngle,ce=void 0,ge=F.negToZero(h.series[se]>100?100:h.series[se])/100,me=Math.round(this.totalAngle*ge)+this.startAngle,Ae=void 0;I.globals.dataChanged&&(ce=this.startAngle,Ae=Math.round(this.totalAngle*F.negToZero(I.globals.previousPaths[se])/100)+ce),Math.abs(me)+Math.abs(ee)>=360&&(me-=.01),Math.abs(Ae)+Math.abs(ce)>=360&&(Ae-=.01);var ye=me-ee,Ne=Array.isArray(I.config.stroke.dashArray)?I.config.stroke.dashArray[se]:I.config.stroke.dashArray,Te=b.drawPath({d:"",stroke:T,strokeWidth:V,fill:"none",fillOpacity:I.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+se,strokeDashArray:Ne});if(ne.setAttrs(Te.node,{"data:angle":ye,"data:value":h.series[se]}),I.config.chart.dropShadow.enabled){var Ve=I.config.chart.dropShadow;x.dropShadow(Te,Ve,se)}if(x.setSelectionFilter(Te,0,se),this.addListeners(Te,this.radialDataLabels),W.add(Te),Te.attr({index:0,j:se}),this.barLabels.enabled){var Le=F.polarToCartesian(h.centerX,h.centerY,h.size,ee),st=this.barLabels.formatter(I.globals.seriesNames[se],{seriesIndex:se,w:I}),pt=["apexcharts-radialbar-label"];this.barLabels.onClick||pt.push("apexcharts-no-click");var kt=this.barLabels.useSeriesColors?I.globals.colors[se]:I.config.chart.foreColor;kt||(kt=I.config.chart.foreColor);var Bt=Le.x-this.barLabels.margin,Et=Le.y,Xt=b.drawText({x:Bt,y:Et,text:st,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:kt,cssClass:pt.join(" ")});Xt.on("click",this.onBarLabelClick),Xt.attr({rel:se+1}),ee!==0&&Xt.attr({"transform-origin":"".concat(Bt," ").concat(Et),transform:"rotate(".concat(ee," 0 0)")}),W.add(Xt)}var Pt=0;!this.initialAnim||I.globals.resized||I.globals.dataChanged||(Pt=I.config.chart.animations.speed),I.globals.dataChanged&&(Pt=I.config.chart.animations.dynamicAnimation.speed),this.animDur=Pt/(1.2*h.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(Te,{centerX:h.centerX,centerY:h.centerY,endAngle:me,startAngle:ee,prevEndAngle:Ae,prevStartAngle:ce,size:h.size,i:se,totalItems:2,animBeginArr:this.animBeginArr,dur:Pt,shouldSetPrevPaths:!0,easing:I.globals.easing})}return{g:B,elHollow:z,dataLabels:oe}}},{key:"drawHollow",value:function(h){var I=new ne(this.ctx).drawCircle(2*h.size);return I.attr({class:"apexcharts-radialbar-hollow",cx:h.centerX,cy:h.centerY,r:h.size,fill:h.fill}),I}},{key:"drawHollowImage",value:function(h,I,b,y){var x=this.w,B=new Je(this.ctx),V=F.randomId(),E=x.config.plotOptions.radialBar.hollow.image;if(x.config.plotOptions.radialBar.hollow.imageClipped)B.clippedImgArea({width:b,height:b,image:E,patternID:"pattern".concat(x.globals.cuid).concat(V)}),y="url(#pattern".concat(x.globals.cuid).concat(V,")");else{var Y=x.config.plotOptions.radialBar.hollow.imageWidth,H=x.config.plotOptions.radialBar.hollow.imageHeight;if(Y===void 0&&H===void 0){var z=x.globals.dom.Paper.image(E).loaded(function($){this.move(h.centerX-$.width/2+x.config.plotOptions.radialBar.hollow.imageOffsetX,h.centerY-$.height/2+x.config.plotOptions.radialBar.hollow.imageOffsetY)});I.add(z)}else{var Q=x.globals.dom.Paper.image(E).loaded(function($){this.move(h.centerX-Y/2+x.config.plotOptions.radialBar.hollow.imageOffsetX,h.centerY-H/2+x.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(Y,H)});I.add(Q)}}return y}},{key:"getStrokeWidth",value:function(h){var I=this.w;return h.size*(100-parseInt(I.config.plotOptions.radialBar.hollow.size,10))/100/(h.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(h){var I=parseInt(h.target.getAttribute("rel"),10)-1,b=this.barLabels.onClick,y=this.w;b&&b(y.globals.seriesNames[I],{w:y,seriesIndex:I})}}]),g}(),Jr=function(le){Z(g,Cr);var c=D(g);function g(){return m(this,g),c.apply(this,arguments)}return v(g,[{key:"draw",value:function(h,I){var b=this.w,y=new ne(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=h,this.seriesRangeStart=b.globals.seriesRangeStart,this.seriesRangeEnd=b.globals.seriesRangeEnd,this.barHelpers.initVariables(h);for(var x=y.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),B=0;B<h.length;B++){var V,E,Y,H,z=void 0,Q=void 0,$=b.globals.comboCharts?I[B]:B,oe=this.barHelpers.getGroupIndex($).columnGroupIndex,re=y.group({class:"apexcharts-series",seriesName:F.escapeString(b.globals.seriesNames[$]),rel:B+1,"data:realIndex":$});this.ctx.series.addCollapsedClassToSeries(re,$),h[B].length>0&&(this.visibleI=this.visibleI+1);var se=0,W=0,T=0;this.yRatio.length>1&&(this.yaxisIndex=b.globals.seriesYAxisReverseMap[$][0],T=$);var ee=this.barHelpers.initialPositions();Q=ee.y,H=ee.zeroW,z=ee.x,W=ee.barWidth,se=ee.barHeight,V=ee.xDivision,E=ee.yDivision,Y=ee.zeroH;for(var ce=y.group({class:"apexcharts-datalabels","data:realIndex":$}),ge=y.group({class:"apexcharts-rangebar-goals-markers"}),me=0;me<b.globals.dataPoints;me++){var Ae,ye=this.barHelpers.getStrokeWidth(B,me,$),Ne=this.seriesRangeStart[B][me],Te=this.seriesRangeEnd[B][me],Ve=null,Le=null,st=null,pt={x:z,y:Q,strokeWidth:ye,elSeries:re},kt=this.seriesLen;if(b.config.plotOptions.bar.rangeBarGroupRows&&(kt=1),b.config.series[B].data[me]===void 0)break;if(this.isHorizontal){st=Q+se*this.visibleI;var Bt=(E-se*kt)/2;if(b.config.series[B].data[me].x){var Et=this.detectOverlappingBars({i:B,j:me,barYPosition:st,srty:Bt,barHeight:se,yDivision:E,initPositions:ee});se=Et.barHeight,st=Et.barYPosition}W=(Ve=this.drawRangeBarPaths(s({indexes:{i:B,j:me,realIndex:$},barHeight:se,barYPosition:st,zeroW:H,yDivision:E,y1:Ne,y2:Te},pt))).barWidth}else{b.globals.isXNumeric&&(z=(b.globals.seriesX[B][me]-b.globals.minX)/this.xRatio-W/2),Le=z+W*this.visibleI;var Xt=(V-W*kt)/2;if(b.config.series[B].data[me].x){var Pt=this.detectOverlappingBars({i:B,j:me,barXPosition:Le,srtx:Xt,barWidth:W,xDivision:V,initPositions:ee});W=Pt.barWidth,Le=Pt.barXPosition}se=(Ve=this.drawRangeColumnPaths(s({indexes:{i:B,j:me,realIndex:$,translationsIndex:T},barWidth:W,barXPosition:Le,zeroH:Y,xDivision:V},pt))).barHeight}var Mn=this.barHelpers.drawGoalLine({barXPosition:Ve.barXPosition,barYPosition:st,goalX:Ve.goalX,goalY:Ve.goalY,barHeight:se,barWidth:W});Mn&&ge.add(Mn),Q=Ve.y,z=Ve.x;var ni=this.barHelpers.getPathFillColor(h,B,me,$),vn=b.globals.stroke.colors[$];this.renderSeries((k(Ae={realIndex:$,pathFill:ni,lineFill:vn,j:me,i:B,x:z,y:Q,y1:Ne,y2:Te,pathFrom:Ve.pathFrom,pathTo:Ve.pathTo,strokeWidth:ye,elSeries:re,series:h,barHeight:se,barWidth:W,barXPosition:Le,barYPosition:st},"barWidth",W),k(Ae,"columnGroupIndex",oe),k(Ae,"elDataLabelsWrap",ce),k(Ae,"elGoalsMarkers",ge),k(Ae,"visibleSeries",this.visibleI),k(Ae,"type","rangebar"),Ae))}x.add(re)}return x}},{key:"detectOverlappingBars",value:function(h){var I=h.i,b=h.j,y=h.barYPosition,x=h.barXPosition,B=h.srty,V=h.srtx,E=h.barHeight,Y=h.barWidth,H=h.yDivision,z=h.xDivision,Q=h.initPositions,$=this.w,oe=[],re=$.config.series[I].data[b].rangeName,se=$.config.series[I].data[b].x,W=Array.isArray(se)?se.join(" "):se,T=$.globals.labels.map(function(ce){return Array.isArray(ce)?ce.join(" "):ce}).indexOf(W),ee=$.globals.seriesRange[I].findIndex(function(ce){return ce.x===W&&ce.overlaps.length>0});return this.isHorizontal?(y=$.config.plotOptions.bar.rangeBarGroupRows?B+H*T:B+E*this.visibleI+H*T,ee>-1&&!$.config.plotOptions.bar.rangeBarOverlap&&(oe=$.globals.seriesRange[I][ee].overlaps).indexOf(re)>-1&&(y=(E=Q.barHeight/oe.length)*this.visibleI+H*(100-parseInt(this.barOptions.barHeight,10))/100/2+E*(this.visibleI+oe.indexOf(re))+H*T)):(T>-1&&!$.globals.timescaleLabels.length&&(x=$.config.plotOptions.bar.rangeBarGroupRows?V+z*T:V+Y*this.visibleI+z*T),ee>-1&&!$.config.plotOptions.bar.rangeBarOverlap&&(oe=$.globals.seriesRange[I][ee].overlaps).indexOf(re)>-1&&(x=(Y=Q.barWidth/oe.length)*this.visibleI+z*(100-parseInt(this.barOptions.barWidth,10))/100/2+Y*(this.visibleI+oe.indexOf(re))+z*T)),{barYPosition:y,barXPosition:x,barHeight:E,barWidth:Y}}},{key:"drawRangeColumnPaths",value:function(h){var I=h.indexes,b=h.x,y=h.xDivision,x=h.barWidth,B=h.barXPosition,V=h.zeroH,E=this.w,Y=I.i,H=I.j,z=I.realIndex,Q=I.translationsIndex,$=this.yRatio[Q],oe=this.getRangeValue(z,H),re=Math.min(oe.start,oe.end),se=Math.max(oe.start,oe.end);this.series[Y][H]===void 0||this.series[Y][H]===null?re=V:(re=V-re/$,se=V-se/$);var W=Math.abs(se-re),T=this.barHelpers.getColumnPaths({barXPosition:B,barWidth:x,y1:re,y2:se,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:z,i:z,j:H,w:E});if(E.globals.isXNumeric){var ee=this.getBarXForNumericXAxis({x:b,j:H,realIndex:z,barWidth:x});b=ee.x,B=ee.barXPosition}else b+=y;return{pathTo:T.pathTo,pathFrom:T.pathFrom,barHeight:W,x:b,y:oe.start<0&&oe.end<0?re:se,goalY:this.barHelpers.getGoalValues("y",null,V,Y,H,Q),barXPosition:B}}},{key:"drawRangeBarPaths",value:function(h){var I=h.indexes,b=h.y,y=h.y1,x=h.y2,B=h.yDivision,V=h.barHeight,E=h.barYPosition,Y=h.zeroW,H=this.w,z=I.realIndex,Q=I.j,$=Y+y/this.invertedYRatio,oe=Y+x/this.invertedYRatio,re=this.getRangeValue(z,Q),se=Math.abs(oe-$),W=this.barHelpers.getBarpaths({barYPosition:E,barHeight:V,x1:$,x2:oe,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:z,realIndex:z,j:Q,w:H});return H.globals.isXNumeric||(b+=B),{pathTo:W.pathTo,pathFrom:W.pathFrom,barWidth:se,x:re.start<0&&re.end<0?$:oe,goalX:this.barHelpers.getGoalValues("x",Y,null,z,Q),y:b}}},{key:"getRangeValue",value:function(h,I){var b=this.w;return{start:b.globals.seriesRangeStart[h][I],end:b.globals.seriesRangeEnd[h][I]}}}]),g}(),Ha=function(){function le(c){m(this,le),this.w=c.w,this.lineCtx=c}return v(le,[{key:"sameValueSeriesFix",value:function(c,g){var h=this.w;if((h.config.fill.type==="gradient"||h.config.fill.type[c]==="gradient")&&new ue(this.lineCtx.ctx,h).seriesHaveSameValues(c)){var I=g[c].slice();I[I.length-1]=I[I.length-1]+1e-6,g[c]=I}return g}},{key:"calculatePoints",value:function(c){var g=c.series,h=c.realIndex,I=c.x,b=c.y,y=c.i,x=c.j,B=c.prevY,V=this.w,E=[],Y=[];if(x===0){var H=this.lineCtx.categoryAxisCorrection+V.config.markers.offsetX;V.globals.isXNumeric&&(H=(V.globals.seriesX[h][0]-V.globals.minX)/this.lineCtx.xRatio+V.config.markers.offsetX),E.push(H),Y.push(F.isNumber(g[y][0])?B+V.config.markers.offsetY:null),E.push(I+V.config.markers.offsetX),Y.push(F.isNumber(g[y][x+1])?b+V.config.markers.offsetY:null)}else E.push(I+V.config.markers.offsetX),Y.push(F.isNumber(g[y][x+1])?b+V.config.markers.offsetY:null);return{x:E,y:Y}}},{key:"checkPreviousPaths",value:function(c){for(var g=c.pathFromLine,h=c.pathFromArea,I=c.realIndex,b=this.w,y=0;y<b.globals.previousPaths.length;y++){var x=b.globals.previousPaths[y];(x.type==="line"||x.type==="area")&&x.paths.length>0&&parseInt(x.realIndex,10)===parseInt(I,10)&&(x.type==="line"?(this.lineCtx.appendPathFrom=!1,g=b.globals.previousPaths[y].paths[0].d):x.type==="area"&&(this.lineCtx.appendPathFrom=!1,h=b.globals.previousPaths[y].paths[0].d,b.config.stroke.show&&b.globals.previousPaths[y].paths[1]&&(g=b.globals.previousPaths[y].paths[1].d)))}return{pathFromLine:g,pathFromArea:h}}},{key:"determineFirstPrevY",value:function(c){var g,h,I,b=c.i,y=c.realIndex,x=c.series,B=c.prevY,V=c.lineYPosition,E=c.translationsIndex,Y=this.w,H=Y.config.chart.stacked&&!Y.globals.comboCharts||Y.config.chart.stacked&&Y.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((g=this.w.config.series[y])===null||g===void 0?void 0:g.type)==="bar"||((h=this.w.config.series[y])===null||h===void 0?void 0:h.type)==="column");if(((I=x[b])===null||I===void 0?void 0:I[0])!==void 0)B=(V=H&&b>0?this.lineCtx.prevSeriesY[b-1][0]:this.lineCtx.zeroY)-x[b][0]/this.lineCtx.yRatio[E]+2*(this.lineCtx.isReversed?x[b][0]/this.lineCtx.yRatio[E]:0);else if(H&&b>0&&x[b][0]===void 0){for(var z=b-1;z>=0;z--)if(x[z][0]!==null&&x[z][0]!==void 0){B=V=this.lineCtx.prevSeriesY[z][0];break}}return{prevY:B,lineYPosition:V}}}]),le}(),Kd=function(le){for(var c,g,h,I,b=function(E){for(var Y=[],H=E[0],z=E[1],Q=Y[0]=Nl(H,z),$=1,oe=E.length-1;$<oe;$++)H=z,z=E[$+1],Y[$]=.5*(Q+(Q=Nl(H,z)));return Y[$]=Q,Y}(le),y=le.length-1,x=[],B=0;B<y;B++)h=Nl(le[B],le[B+1]),Math.abs(h)<1e-6?b[B]=b[B+1]=0:(I=(c=b[B]/h)*c+(g=b[B+1]/h)*g)>9&&(I=3*h/Math.sqrt(I),b[B]=I*c,b[B+1]=I*g);for(var V=0;V<=y;V++)I=(le[Math.min(y,V+1)][0]-le[Math.max(0,V-1)][0])/(6*(1+b[V]*b[V])),x.push([I||0,b[V]*I||0]);return x},Pd=function(le){var c=Kd(le),g=le[1],h=le[0],I=[],b=c[1],y=c[0];I.push(h,[h[0]+y[0],h[1]+y[1],g[0]-b[0],g[1]-b[1],g[0],g[1]]);for(var x=2,B=c.length;x<B;x++){var V=le[x],E=c[x];I.push([V[0]-E[0],V[1]-E[1],V[0],V[1]])}return I},jd=function(le,c,g){var h=le.slice(c,g);if(c){if(g-c>1&&h[1].length<6){var I=h[0].length;h[1]=[2*h[0][I-2]-h[0][I-4],2*h[0][I-1]-h[0][I-3]].concat(h[1])}h[0]=h[0].slice(-2)}return h};function Nl(le,c){return(c[1]-le[1])/(c[0]-le[0])}var El=function(){function le(c,g,h){m(this,le),this.ctx=c,this.w=c.w,this.xyRatios=g,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||h,this.scatter=new Ye(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Ha(this),this.markers=new ve(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return v(le,[{key:"draw",value:function(c,g,h,I){var b,y=this.w,x=new ne(this.ctx),B=y.globals.comboCharts?g:y.config.chart.type,V=x.group({class:"apexcharts-".concat(B,"-series apexcharts-plot-series")}),E=new ue(this.ctx,y);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,c=E.getLogSeries(c),this.yRatio=E.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var Y=[],H=0;H<c.length;H++){c=this.lineHelpers.sameValueSeriesFix(H,c);var z=y.globals.comboCharts?h[H]:H,Q=this.yRatio.length>1?z:0;this._initSerieVariables(c,H,z);var $=[],oe=[],re=[],se=y.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,z),y.globals.isXNumeric&&y.globals.seriesX.length>0&&(se=(y.globals.seriesX[z][0]-y.globals.minX)/this.xRatio),re.push(se);var W,T=se,ee=void 0,ce=T,ge=this.zeroY,me=this.zeroY;ge=this.lineHelpers.determineFirstPrevY({i:H,realIndex:z,series:c,prevY:ge,lineYPosition:0,translationsIndex:Q}).prevY,y.config.stroke.curve==="monotoneCubic"&&c[H][0]===null?$.push(null):$.push(ge),W=ge,B==="rangeArea"&&(ee=me=this.lineHelpers.determineFirstPrevY({i:H,realIndex:z,series:I,prevY:me,lineYPosition:0,translationsIndex:Q}).prevY,oe.push($[0]!==null?me:null));var Ae=this._calculatePathsFrom({type:B,series:c,i:H,realIndex:z,translationsIndex:Q,prevX:ce,prevY:ge,prevY2:me}),ye=[$[0]],Ne=[oe[0]],Te={type:B,series:c,realIndex:z,translationsIndex:Q,i:H,x:se,y:1,pX:T,pY:W,pathsFrom:Ae,linePaths:[],areaPaths:[],seriesIndex:h,lineYPosition:0,xArrj:re,yArrj:$,y2Arrj:oe,seriesRangeEnd:I},Ve=this._iterateOverDataPoints(s(s({},Te),{},{iterations:B==="rangeArea"?c[H].length-1:void 0,isRangeStart:!0}));if(B==="rangeArea"){for(var Le=this._calculatePathsFrom({series:I,i:H,realIndex:z,prevX:ce,prevY:me}),st=this._iterateOverDataPoints(s(s({},Te),{},{series:I,xArrj:[se],yArrj:ye,y2Arrj:Ne,pY:ee,areaPaths:Ve.areaPaths,pathsFrom:Le,iterations:I[H].length-1,isRangeStart:!1})),pt=Ve.linePaths.length/2,kt=0;kt<pt;kt++)Ve.linePaths[kt]=st.linePaths[kt+pt]+Ve.linePaths[kt];Ve.linePaths.splice(pt),Ve.pathFromLine=st.pathFromLine+Ve.pathFromLine}else Ve.pathFromArea+=x.line(0,this.zeroY);this._handlePaths({type:B,realIndex:z,i:H,paths:Ve}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),Y.push(this.elSeries)}if(((b=y.config.series[0])===null||b===void 0?void 0:b.zIndex)!==void 0&&Y.sort(function(Xt,Pt){return Number(Xt.node.getAttribute("zIndex"))-Number(Pt.node.getAttribute("zIndex"))}),y.config.chart.stacked)for(var Bt=Y.length-1;Bt>=0;Bt--)V.add(Y[Bt]);else for(var Et=0;Et<Y.length;Et++)V.add(Y[Et]);return V}},{key:"_initSerieVariables",value:function(c,g,h){var I=this.w,b=new ne(this.ctx);this.xDivision=I.globals.gridWidth/(I.globals.dataPoints-(I.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(I.config.stroke.width)?I.config.stroke.width[h]:I.config.stroke.width;var y=0;this.yRatio.length>1&&(this.yaxisIndex=I.globals.seriesYAxisReverseMap[h],y=h),this.isReversed=I.config.yaxis[this.yaxisIndex]&&I.config.yaxis[this.yaxisIndex].reversed,this.zeroY=I.globals.gridHeight-this.baseLineY[y]-(this.isReversed?I.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[y]:0),this.areaBottomY=this.zeroY,(this.zeroY>I.globals.gridHeight||I.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=I.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=b.group({class:"apexcharts-series",zIndex:I.config.series[h].zIndex!==void 0?I.config.series[h].zIndex:h,seriesName:F.escapeString(I.globals.seriesNames[h])}),this.elPointsMain=b.group({class:"apexcharts-series-markers-wrap","data:realIndex":h}),this.elDataLabelsWrap=b.group({class:"apexcharts-datalabels","data:realIndex":h});var x=c[g].length===I.globals.dataPoints;this.elSeries.attr({"data:longestSeries":x,rel:g+1,"data:realIndex":h}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(c){var g,h,I,b,y=c.type,x=c.series,B=c.i,V=c.realIndex,E=c.translationsIndex,Y=c.prevX,H=c.prevY,z=c.prevY2,Q=this.w,$=new ne(this.ctx);if(x[B][0]===null){for(var oe=0;oe<x[B].length;oe++)if(x[B][oe]!==null){Y=this.xDivision*oe,H=this.zeroY-x[B][oe]/this.yRatio[E],g=$.move(Y,H),h=$.move(Y,this.areaBottomY);break}}else g=$.move(Y,H),y==="rangeArea"&&(g=$.move(Y,z)+$.line(Y,H)),h=$.move(Y,this.areaBottomY)+$.line(Y,H);if(I=$.move(0,this.zeroY)+$.line(0,this.zeroY),b=$.move(0,this.zeroY)+$.line(0,this.zeroY),Q.globals.previousPaths.length>0){var re=this.lineHelpers.checkPreviousPaths({pathFromLine:I,pathFromArea:b,realIndex:V});I=re.pathFromLine,b=re.pathFromArea}return{prevX:Y,prevY:H,linePath:g,areaPath:h,pathFromLine:I,pathFromArea:b}}},{key:"_handlePaths",value:function(c){var g=c.type,h=c.realIndex,I=c.i,b=c.paths,y=this.w,x=new ne(this.ctx),B=new Je(this.ctx);this.prevSeriesY.push(b.yArrj),y.globals.seriesXvalues[h]=b.xArrj,y.globals.seriesYvalues[h]=b.yArrj;var V=y.config.forecastDataPoints;if(V.count>0&&g!=="rangeArea"){var E=y.globals.seriesXvalues[h][y.globals.seriesXvalues[h].length-V.count-1],Y=x.drawRect(E,0,y.globals.gridWidth,y.globals.gridHeight,0);y.globals.dom.elForecastMask.appendChild(Y.node);var H=x.drawRect(0,0,E,y.globals.gridHeight,0);y.globals.dom.elNonForecastMask.appendChild(H.node)}this.pointsChart||y.globals.delayedElements.push({el:this.elPointsMain.node,index:h});var z={i:I,realIndex:h,animationDelay:I,initialSpeed:y.config.chart.animations.speed,dataChangeSpeed:y.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(g)};if(g==="area")for(var Q=B.fillPath({seriesNumber:h}),$=0;$<b.areaPaths.length;$++){var oe=x.renderPaths(s(s({},z),{},{pathFrom:b.pathFromArea,pathTo:b.areaPaths[$],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:Q}));this.elSeries.add(oe)}if(y.config.stroke.show&&!this.pointsChart){var re=null;if(g==="line")re=B.fillPath({seriesNumber:h,i:I});else if(y.config.stroke.fill.type==="solid")re=y.globals.stroke.colors[h];else{var se=y.config.fill;y.config.fill=y.config.stroke.fill,re=B.fillPath({seriesNumber:h,i:I}),y.config.fill=se}for(var W=0;W<b.linePaths.length;W++){var T=re;g==="rangeArea"&&(T=B.fillPath({seriesNumber:h}));var ee=s(s({},z),{},{pathFrom:b.pathFromLine,pathTo:b.linePaths[W],stroke:re,strokeWidth:this.strokeWidth,strokeLineCap:y.config.stroke.lineCap,fill:g==="rangeArea"?T:"none"}),ce=x.renderPaths(ee);if(this.elSeries.add(ce),ce.attr("fill-rule","evenodd"),V.count>0&&g!=="rangeArea"){var ge=x.renderPaths(ee);ge.node.setAttribute("stroke-dasharray",V.dashArray),V.strokeWidth&&ge.node.setAttribute("stroke-width",V.strokeWidth),this.elSeries.add(ge),ge.attr("clip-path","url(#forecastMask".concat(y.globals.cuid,")")),ce.attr("clip-path","url(#nonForecastMask".concat(y.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(c){var g,h,I=this,b=c.type,y=c.series,x=c.iterations,B=c.realIndex,V=c.translationsIndex,E=c.i,Y=c.x,H=c.y,z=c.pX,Q=c.pY,$=c.pathsFrom,oe=c.linePaths,re=c.areaPaths,se=c.seriesIndex,W=c.lineYPosition,T=c.xArrj,ee=c.yArrj,ce=c.y2Arrj,ge=c.isRangeStart,me=c.seriesRangeEnd,Ae=this.w,ye=new ne(this.ctx),Ne=this.yRatio,Te=$.prevY,Ve=$.linePath,Le=$.areaPath,st=$.pathFromLine,pt=$.pathFromArea,kt=F.isNumber(Ae.globals.minYArr[B])?Ae.globals.minYArr[B]:Ae.globals.minY;x||(x=Ae.globals.dataPoints>1?Ae.globals.dataPoints-1:Ae.globals.dataPoints);var Bt=function(Li,Xi){return Xi-Li/Ne[V]+2*(I.isReversed?Li/Ne[V]:0)},Et=H,Xt=Ae.config.chart.stacked&&!Ae.globals.comboCharts||Ae.config.chart.stacked&&Ae.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((g=this.w.config.series[B])===null||g===void 0?void 0:g.type)==="bar"||((h=this.w.config.series[B])===null||h===void 0?void 0:h.type)==="column"),Pt=Ae.config.stroke.curve;Array.isArray(Pt)&&(Pt=Array.isArray(se)?Pt[se[E]]:Pt[E]);for(var Mn,ni=0,vn=0;vn<x;vn++){var lo=y[E][vn+1]===void 0||y[E][vn+1]===null;if(Ae.globals.isXNumeric){var An=Ae.globals.seriesX[B][vn+1];Ae.globals.seriesX[B][vn+1]===void 0&&(An=Ae.globals.seriesX[B][x-1]),Y=(An-Ae.globals.minX)/this.xRatio}else Y+=this.xDivision;Xt?E>0&&Ae.globals.collapsedSeries.length<Ae.config.series.length-1?W=this.prevSeriesY[function(Li){for(var Xi=Li;Xi>0;Xi--){if(!(Ae.globals.collapsedSeriesIndices.indexOf((se==null?void 0:se[Xi])||Xi)>-1))return Xi;Xi--}return 0}(E-1)][vn+1]:W=this.zeroY:W=this.zeroY,lo?H=Bt(kt,W):(H=Bt(y[E][vn+1],W),b==="rangeArea"&&(Et=Bt(me[E][vn+1],W))),T.push(Y),!lo||Ae.config.stroke.curve!=="smooth"&&Ae.config.stroke.curve!=="monotoneCubic"?(ee.push(H),ce.push(Et)):(ee.push(null),ce.push(null));var mn=this.lineHelpers.calculatePoints({series:y,x:Y,y:H,realIndex:B,i:E,j:vn,prevY:Te}),gn=this._createPaths({type:b,series:y,i:E,realIndex:B,j:vn,x:Y,y:H,y2:Et,xArrj:T,yArrj:ee,y2Arrj:ce,pX:z,pY:Q,pathState:ni,segmentStartX:Mn,linePath:Ve,areaPath:Le,linePaths:oe,areaPaths:re,curve:Pt,isRangeStart:ge});re=gn.areaPaths,oe=gn.linePaths,z=gn.pX,Q=gn.pY,ni=gn.pathState,Mn=gn.segmentStartX,Le=gn.areaPath,Ve=gn.linePath,!this.appendPathFrom||Pt==="monotoneCubic"&&b==="rangeArea"||(st+=ye.line(Y,this.zeroY),pt+=ye.line(Y,this.zeroY)),this.handleNullDataPoints(y,mn,E,vn,B),this._handleMarkersAndLabels({type:b,pointsPos:mn,i:E,j:vn,realIndex:B,isRangeStart:ge})}return{yArrj:ee,xArrj:T,pathFromArea:pt,areaPaths:re,pathFromLine:st,linePaths:oe,linePath:Ve,areaPath:Le}}},{key:"_handleMarkersAndLabels",value:function(c){var g=c.type,h=c.pointsPos,I=c.isRangeStart,b=c.i,y=c.j,x=c.realIndex,B=this.w,V=new He(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,y,{realIndex:x,pointsPos:h,zRatio:this.zRatio,elParent:this.elPointsMain});else{B.globals.series[b].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var E=this.markers.plotChartMarkers(h,x,y+1);E!==null&&this.elPointsMain.add(E)}var Y=V.drawDataLabel({type:g,isRangeStart:I,pos:h,i:x,j:y+1});Y!==null&&this.elDataLabelsWrap.add(Y)}},{key:"_createPaths",value:function(c){var g=c.type,h=c.series,I=c.i;c.realIndex;var b=c.j,y=c.x,x=c.y,B=c.xArrj,V=c.yArrj,E=c.y2,Y=c.y2Arrj,H=c.pX,z=c.pY,Q=c.pathState,$=c.segmentStartX,oe=c.linePath,re=c.areaPath,se=c.linePaths,W=c.areaPaths,T=c.curve,ee=c.isRangeStart;this.w;var ce,ge=new ne(this.ctx),me=this.areaBottomY,Ae=g==="rangeArea",ye=g==="rangeArea"&&ee;switch(T){case"monotoneCubic":var Ne=ee?V:Y;switch(Q){case 0:if(Ne[b+1]===null)break;Q=1;case 1:if(!(Ae?B.length===h[I].length:b===h[I].length-2))break;case 2:var Te=ee?B:B.slice().reverse(),Ve=ee?Ne:Ne.slice().reverse(),Le=(ce=Ve,Te.map(function(An,mn){return[An,ce[mn]]}).filter(function(An){return An[1]!==null})),st=Le.length>1?Pd(Le):Le,pt=[];Ae&&(ye?W=Le:pt=W.reverse());var kt=0,Bt=0;if(function(An,mn){for(var gn=function(Fa){var fi=[],zr=0;return Fa.forEach(function(Pc){Pc!==null?zr++:zr>0&&(fi.push(zr),zr=0)}),zr>0&&fi.push(zr),fi}(An),Li=[],Xi=0,zo=0;Xi<gn.length;zo+=gn[Xi++])Li[Xi]=jd(mn,zo,zo+gn[Xi]);return Li}(Ve,st).forEach(function(An){kt++;var mn=function(Xi){for(var zo="",Fa=0;Fa<Xi.length;Fa++){var fi=Xi[Fa],zr=fi.length;zr>4?(zo+="C".concat(fi[0],", ").concat(fi[1]),zo+=", ".concat(fi[2],", ").concat(fi[3]),zo+=", ".concat(fi[4],", ").concat(fi[5])):zr>2&&(zo+="S".concat(fi[0],", ").concat(fi[1]),zo+=", ".concat(fi[2],", ").concat(fi[3]))}return zo}(An),gn=Bt,Li=(Bt+=An.length)-1;ye?oe=ge.move(Le[gn][0],Le[gn][1])+mn:Ae?oe=ge.move(pt[gn][0],pt[gn][1])+ge.line(Le[gn][0],Le[gn][1])+mn+ge.line(pt[Li][0],pt[Li][1]):(oe=ge.move(Le[gn][0],Le[gn][1])+mn,re=oe+ge.line(Le[Li][0],me)+ge.line(Le[gn][0],me)+"z",W.push(re)),se.push(oe)}),Ae&&kt>1&&!ye){var Et=se.slice(kt).reverse();se.splice(kt),Et.forEach(function(An){return se.push(An)})}Q=0}break;case"smooth":var Xt=.35*(y-H);if(h[I][b]===null)Q=0;else switch(Q){case 0:if($=H,oe=ye?ge.move(H,Y[b])+ge.line(H,z):ge.move(H,z),re=ge.move(H,z),Q=1,b<h[I].length-2){var Pt=ge.curve(H+Xt,z,y-Xt,x,y,x);oe+=Pt,re+=Pt;break}case 1:if(h[I][b+1]===null)oe+=ye?ge.line(H,E):ge.move(H,z),re+=ge.line(H,me)+ge.line($,me)+"z",se.push(oe),W.push(re);else{var Mn=ge.curve(H+Xt,z,y-Xt,x,y,x);oe+=Mn,re+=Mn,b>=h[I].length-2&&(ye&&(oe+=ge.curve(y,x,y,x,y,E)+ge.move(y,E)),re+=ge.curve(y,x,y,x,y,me)+ge.line($,me)+"z",se.push(oe),W.push(re))}}H=y,z=x;break;default:var ni=function(An,mn,gn){var Li=[];switch(An){case"stepline":Li=ge.line(mn,null,"H")+ge.line(null,gn,"V");break;case"linestep":Li=ge.line(null,gn,"V")+ge.line(mn,null,"H");break;case"straight":Li=ge.line(mn,gn)}return Li};if(h[I][b]===null)Q=0;else switch(Q){case 0:if($=H,oe=ye?ge.move(H,Y[b])+ge.line(H,z):ge.move(H,z),re=ge.move(H,z),Q=1,b<h[I].length-2){var vn=ni(T,y,x);oe+=vn,re+=vn;break}case 1:if(h[I][b+1]===null)oe+=ye?ge.line(H,E):ge.move(H,z),re+=ge.line(H,me)+ge.line($,me)+"z",se.push(oe),W.push(re);else{var lo=ni(T,y,x);oe+=lo,re+=lo,b>=h[I].length-2&&(ye&&(oe+=ge.line(y,E)),re+=ge.line(y,me)+ge.line($,me)+"z",se.push(oe),W.push(re))}}H=y,z=x}return{linePaths:se,areaPaths:W,pX:H,pY:z,pathState:Q,segmentStartX:$,linePath:oe,areaPath:re}}},{key:"handleNullDataPoints",value:function(c,g,h,I,b){var y=this.w;if(c[h][I]===null&&y.config.markers.showNullDataPoints||c[h].length===1){var x=this.strokeWidth-y.config.markers.strokeWidth/2;x>0||(x=0);var B=this.markers.plotChartMarkers(g,b,I+1,x,!0);B!==null&&this.elPointsMain.add(B)}}}]),le}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function le(x,B,V,E){this.xoffset=x,this.yoffset=B,this.height=E,this.width=V,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(Y){var H,z=[],Q=this.xoffset,$=this.yoffset,oe=b(Y)/this.height,re=b(Y)/this.width;if(this.width>=this.height)for(H=0;H<Y.length;H++)z.push([Q,$,Q+oe,$+Y[H]/oe]),$+=Y[H]/oe;else for(H=0;H<Y.length;H++)z.push([Q,$,Q+Y[H]/re,$+re]),Q+=Y[H]/re;return z},this.cutArea=function(Y){var H;if(this.width>=this.height){var z=Y/this.height,Q=this.width-z;H=new le(this.xoffset+z,this.yoffset,Q,this.height)}else{var $=Y/this.width,oe=this.height-$;H=new le(this.xoffset,this.yoffset+$,this.width,oe)}return H}}function c(x,B,V,E,Y){E=E===void 0?0:E,Y=Y===void 0?0:Y;var H=g(function(z,Q){var $,oe=[],re=Q/b(z);for($=0;$<z.length;$++)oe[$]=z[$]*re;return oe}(x,B*V),[],new le(E,Y,B,V),[]);return function(z){var Q,$,oe=[];for(Q=0;Q<z.length;Q++)for($=0;$<z[Q].length;$++)oe.push(z[Q][$]);return oe}(H)}function g(x,B,V,E){var Y,H,z;if(x.length!==0)return Y=V.shortestEdge(),function(Q,$,oe){var re;if(Q.length===0)return!0;(re=Q.slice()).push($);var se=h(Q,oe),W=h(re,oe);return se>=W}(B,H=x[0],Y)?(B.push(H),g(x.slice(1),B,V,E)):(z=V.cutArea(b(B),E),E.push(V.getCoordinates(B)),g(x,[],z,E)),E;E.push(V.getCoordinates(B))}function h(x,B){var V=Math.min.apply(Math,x),E=Math.max.apply(Math,x),Y=b(x);return Math.max(Math.pow(B,2)*E/Math.pow(Y,2),Math.pow(Y,2)/(Math.pow(B,2)*V))}function I(x){return x&&x.constructor===Array}function b(x){var B,V=0;for(B=0;B<x.length;B++)V+=x[B];return V}function y(x){var B,V=0;if(I(x[0]))for(B=0;B<x.length;B++)V+=y(x[B]);else V=b(x);return V}return function x(B,V,E,Y,H){Y=Y===void 0?0:Y,H=H===void 0?0:H;var z,Q,$=[],oe=[];if(I(B[0])){for(Q=0;Q<B.length;Q++)$[Q]=y(B[Q]);for(z=c($,V,E,Y,H),Q=0;Q<B.length;Q++)oe.push(x(B[Q],z[Q][2]-z[Q][0],z[Q][3]-z[Q][1],z[Q][0],z[Q][1]))}else oe=c(B,V,E,Y,H);return oe}}();var Ji,Lr,Xl=function(){function le(c,g){m(this,le),this.ctx=c,this.w=c.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Ya(c),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return v(le,[{key:"draw",value:function(c){var g=this,h=this.w,I=new ne(this.ctx),b=new Je(this.ctx),y=I.group({class:"apexcharts-treemap"});if(h.globals.noData)return y;var x=[];return c.forEach(function(B){var V=B.map(function(E){return Math.abs(E)});x.push(V)}),this.negRange=this.helpers.checkColorRange(),h.config.series.forEach(function(B,V){B.data.forEach(function(E){Array.isArray(g.labels[V])||(g.labels[V]=[]),g.labels[V].push(E.x)})}),window.TreemapSquared.generate(x,h.globals.gridWidth,h.globals.gridHeight).forEach(function(B,V){var E=I.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:F.escapeString(h.globals.seriesNames[V]),rel:V+1,"data:realIndex":V});if(h.config.chart.dropShadow.enabled){var Y=h.config.chart.dropShadow;new ie(g.ctx).dropShadow(y,Y,V)}var H=I.group({class:"apexcharts-data-labels"});B.forEach(function(z,Q){var $=z[0],oe=z[1],re=z[2],se=z[3],W=I.drawRect($,oe,re-$,se-oe,h.config.plotOptions.treemap.borderRadius,"#fff",1,g.strokeWidth,h.config.plotOptions.treemap.useFillColorAsStroke?ee:h.globals.stroke.colors[V]);W.attr({cx:$,cy:oe,index:V,i:V,j:Q,width:re-$,height:se-oe});var T=g.helpers.getShadeColor(h.config.chart.type,V,Q,g.negRange),ee=T.color;h.config.series[V].data[Q]!==void 0&&h.config.series[V].data[Q].fillColor&&(ee=h.config.series[V].data[Q].fillColor);var ce=b.fillPath({color:ee,seriesNumber:V,dataPointIndex:Q});W.node.classList.add("apexcharts-treemap-rect"),W.attr({fill:ce}),g.helpers.addListeners(W);var ge={x:$+(re-$)/2,y:oe+(se-oe)/2,width:0,height:0},me={x:$,y:oe,width:re-$,height:se-oe};if(h.config.chart.animations.enabled&&!h.globals.dataChanged){var Ae=1;h.globals.resized||(Ae=h.config.chart.animations.speed),g.animateTreemap(W,ge,me,Ae)}if(h.globals.dataChanged){var ye=1;g.dynamicAnim.enabled&&h.globals.shouldAnimate&&(ye=g.dynamicAnim.speed,h.globals.previousPaths[V]&&h.globals.previousPaths[V][Q]&&h.globals.previousPaths[V][Q].rect&&(ge=h.globals.previousPaths[V][Q].rect),g.animateTreemap(W,ge,me,ye))}var Ne=g.getFontSize(z),Te=h.config.dataLabels.formatter(g.labels[V][Q],{value:h.globals.series[V][Q],seriesIndex:V,dataPointIndex:Q,w:h});h.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Ne=parseInt(h.config.dataLabels.style.fontSize,10),Te=g.truncateLabels(Te,Ne,$,oe,re,se));var Ve=g.helpers.calculateDataLabels({text:Te,x:($+re)/2,y:(oe+se)/2+g.strokeWidth/2+Ne/3,i:V,j:Q,colorProps:T,fontSize:Ne,series:c});h.config.dataLabels.enabled&&Ve&&g.rotateToFitLabel(Ve,Ne,Te,$,oe,re,se),E.add(W),Ve!==null&&E.add(Ve)}),E.add(H),y.add(E)}),y}},{key:"getFontSize",value:function(c){var g=this.w,h,I,b,y,x=function B(V){var E,Y=0;if(Array.isArray(V[0]))for(E=0;E<V.length;E++)Y+=B(V[E]);else for(E=0;E<V.length;E++)Y+=V[E].length;return Y}(this.labels)/function B(V){var E,Y=0;if(Array.isArray(V[0]))for(E=0;E<V.length;E++)Y+=B(V[E]);else for(E=0;E<V.length;E++)Y+=1;return Y}(this.labels);return h=c[2]-c[0],I=c[3]-c[1],b=h*I,y=Math.pow(b,.5),Math.min(y/x,parseInt(g.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(c,g,h,I,b,y,x){var B=new ne(this.ctx),V=B.getTextRects(h,g);if(V.width+this.w.config.stroke.width+5>y-I&&V.width<=x-b){var E=B.rotateAroundCenter(c.node);c.node.setAttribute("transform","rotate(-90 ".concat(E.x," ").concat(E.y,") translate(").concat(V.height/3,")"))}}},{key:"truncateLabels",value:function(c,g,h,I,b,y){var x=new ne(this.ctx),B=x.getTextRects(c,g).width+this.w.config.stroke.width+5>b-h&&y-I>b-h?y-I:b-h,V=x.getTextBasedOnMaxWidth({text:c,maxWidth:B,fontSize:g});return c.length!==V.length&&B/g<5?"":V}},{key:"animateTreemap",value:function(c,g,h,I){var b=new j(this.ctx);b.animateRect(c,{x:g.x,y:g.y,width:g.width,height:g.height},{x:h.x,y:h.y,width:h.width,height:h.height},I,function(){b.animationCompleted(c)})}}]),le}(),Yl=86400,Od=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return v(le,[{key:"calculateTimeScaleTicks",value:function(c,g){var h=this,I=this.w;if(I.globals.allSeriesCollapsed)return I.globals.labels=[],I.globals.timescaleLabels=[],[];var b=new pe(this.ctx),y=(g-c)/864e5;this.determineInterval(y),I.globals.disableZoomIn=!1,I.globals.disableZoomOut=!1,y<.00011574074074074075?I.globals.disableZoomIn=!0:y>5e4&&(I.globals.disableZoomOut=!0);var x=b.getTimeUnitsfromTimestamp(c,g,this.utc),B=I.globals.gridWidth/y,V=B/24,E=V/60,Y=E/60,H=Math.floor(24*y),z=Math.floor(1440*y),Q=Math.floor(y*Yl),$=Math.floor(y),oe=Math.floor(y/30),re=Math.floor(y/365),se={minMillisecond:x.minMillisecond,minSecond:x.minSecond,minMinute:x.minMinute,minHour:x.minHour,minDate:x.minDate,minMonth:x.minMonth,minYear:x.minYear},W={firstVal:se,currentMillisecond:se.minMillisecond,currentSecond:se.minSecond,currentMinute:se.minMinute,currentHour:se.minHour,currentMonthDate:se.minDate,currentDate:se.minDate,currentMonth:se.minMonth,currentYear:se.minYear,daysWidthOnXAxis:B,hoursWidthOnXAxis:V,minutesWidthOnXAxis:E,secondsWidthOnXAxis:Y,numberOfSeconds:Q,numberOfMinutes:z,numberOfHours:H,numberOfDays:$,numberOfMonths:oe,numberOfYears:re};switch(this.tickInterval){case"years":this.generateYearScale(W);break;case"months":case"half_year":this.generateMonthScale(W);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(W);break;case"hours":this.generateHourScale(W);break;case"minutes_fives":case"minutes":this.generateMinuteScale(W);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(W)}var T=this.timeScaleArray.map(function(ee){var ce={position:ee.position,unit:ee.unit,year:ee.year,day:ee.day?ee.day:1,hour:ee.hour?ee.hour:0,month:ee.month+1};return ee.unit==="month"?s(s({},ce),{},{day:1,value:ee.value+1}):ee.unit==="day"||ee.unit==="hour"?s(s({},ce),{},{value:ee.value}):ee.unit==="minute"?s(s({},ce),{},{value:ee.value,minute:ee.value}):ee.unit==="second"?s(s({},ce),{},{value:ee.value,minute:ee.minute,second:ee.second}):ee});return T.filter(function(ee){var ce=1,ge=Math.ceil(I.globals.gridWidth/120),me=ee.value;I.config.xaxis.tickAmount!==void 0&&(ge=I.config.xaxis.tickAmount),T.length>ge&&(ce=Math.floor(T.length/ge));var Ae=!1,ye=!1;switch(h.tickInterval){case"years":ee.unit==="year"&&(Ae=!0);break;case"half_year":ce=7,ee.unit==="year"&&(Ae=!0);break;case"months":ce=1,ee.unit==="year"&&(Ae=!0);break;case"months_fortnight":ce=15,ee.unit!=="year"&&ee.unit!=="month"||(Ae=!0),me===30&&(ye=!0);break;case"months_days":ce=10,ee.unit==="month"&&(Ae=!0),me===30&&(ye=!0);break;case"week_days":ce=8,ee.unit==="month"&&(Ae=!0);break;case"days":ce=1,ee.unit==="month"&&(Ae=!0);break;case"hours":ee.unit==="day"&&(Ae=!0);break;case"minutes_fives":case"seconds_fives":me%5!=0&&(ye=!0);break;case"seconds_tens":me%10!=0&&(ye=!0)}if(h.tickInterval==="hours"||h.tickInterval==="minutes_fives"||h.tickInterval==="seconds_tens"||h.tickInterval==="seconds_fives"){if(!ye)return!0}else if((me%ce==0||Ae)&&!ye)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(c,g){var h=this.w,I=this.formatDates(c),b=this.removeOverlappingTS(I);h.globals.timescaleLabels=b.slice(),new Mt(this.ctx).plotCoords()}},{key:"determineInterval",value:function(c){var g=24*c,h=60*g;switch(!0){case c/365>5:this.tickInterval="years";break;case c>800:this.tickInterval="half_year";break;case c>180:this.tickInterval="months";break;case c>90:this.tickInterval="months_fortnight";break;case c>60:this.tickInterval="months_days";break;case c>30:this.tickInterval="week_days";break;case c>2:this.tickInterval="days";break;case g>2.4:this.tickInterval="hours";break;case h>15:this.tickInterval="minutes_fives";break;case h>5:this.tickInterval="minutes";break;case h>1:this.tickInterval="seconds_tens";break;case 60*h>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(c){var g=c.firstVal,h=c.currentMonth,I=c.currentYear,b=c.daysWidthOnXAxis,y=c.numberOfYears,x=g.minYear,B=0,V=new pe(this.ctx),E="year";if(g.minDate>1||g.minMonth>0){var Y=V.determineRemainingDaysOfYear(g.minYear,g.minMonth,g.minDate);B=(V.determineDaysOfYear(g.minYear)-Y+1)*b,x=g.minYear+1,this.timeScaleArray.push({position:B,value:x,unit:E,year:x,month:F.monthMod(h+1)})}else g.minDate===1&&g.minMonth===0&&this.timeScaleArray.push({position:B,value:x,unit:E,year:I,month:F.monthMod(h+1)});for(var H=x,z=B,Q=0;Q<y;Q++)H++,z=V.determineDaysOfYear(H-1)*b+z,this.timeScaleArray.push({position:z,value:H,unit:E,year:H,month:1})}},{key:"generateMonthScale",value:function(c){var g=c.firstVal,h=c.currentMonthDate,I=c.currentMonth,b=c.currentYear,y=c.daysWidthOnXAxis,x=c.numberOfMonths,B=I,V=0,E=new pe(this.ctx),Y="month",H=0;if(g.minDate>1){V=(E.determineDaysOfMonths(I+1,g.minYear)-h+1)*y,B=F.monthMod(I+1);var z=b+H,Q=F.monthMod(B),$=B;B===0&&(Y="year",$=z,Q=1,z+=H+=1),this.timeScaleArray.push({position:V,value:$,unit:Y,year:z,month:Q})}else this.timeScaleArray.push({position:V,value:B,unit:Y,year:b,month:F.monthMod(I)});for(var oe=B+1,re=V,se=0,W=1;se<x;se++,W++){(oe=F.monthMod(oe))===0?(Y="year",H+=1):Y="month";var T=this._getYear(b,oe,H);re=E.determineDaysOfMonths(oe,T)*y+re;var ee=oe===0?T:oe;this.timeScaleArray.push({position:re,value:ee,unit:Y,year:T,month:oe===0?1:oe}),oe++}}},{key:"generateDayScale",value:function(c){var g=c.firstVal,h=c.currentMonth,I=c.currentYear,b=c.hoursWidthOnXAxis,y=c.numberOfDays,x=new pe(this.ctx),B="day",V=g.minDate+1,E=V,Y=function(W,T,ee){return W>x.determineDaysOfMonths(T+1,ee)&&(E=1,B="month",z=T+=1),T},H=(24-g.minHour)*b,z=V,Q=Y(E,h,I);g.minHour===0&&g.minDate===1?(H=0,z=F.monthMod(g.minMonth),B="month",E=g.minDate):g.minDate!==1&&g.minHour===0&&g.minMinute===0&&(H=0,V=g.minDate,z=V,Q=Y(E=V,h,I)),this.timeScaleArray.push({position:H,value:z,unit:B,year:this._getYear(I,Q,0),month:F.monthMod(Q),day:E});for(var $=H,oe=0;oe<y;oe++){B="day",Q=Y(E+=1,Q,this._getYear(I,Q,0));var re=this._getYear(I,Q,0);$=24*b+$;var se=E===1?F.monthMod(Q):E;this.timeScaleArray.push({position:$,value:se,unit:B,year:re,month:F.monthMod(Q),day:se})}}},{key:"generateHourScale",value:function(c){var g=c.firstVal,h=c.currentDate,I=c.currentMonth,b=c.currentYear,y=c.minutesWidthOnXAxis,x=c.numberOfHours,B=new pe(this.ctx),V="hour",E=function(ce,ge){return ce>B.determineDaysOfMonths(ge+1,b)&&(oe=1,ge+=1),{month:ge,date:oe}},Y=function(ce,ge){return ce>B.determineDaysOfMonths(ge+1,b)?ge+=1:ge},H=60-(g.minMinute+g.minSecond/60),z=H*y,Q=g.minHour+1,$=Q;H===60&&(z=0,$=Q=g.minHour);var oe=h;$>=24&&($=0,oe+=1,V="day");var re=E(oe,I).month;re=Y(oe,re),this.timeScaleArray.push({position:z,value:Q,unit:V,day:oe,hour:$,year:b,month:F.monthMod(re)}),$++;for(var se=z,W=0;W<x;W++){V="hour",$>=24&&($=0,V="day",re=E(oe+=1,re).month,re=Y(oe,re));var T=this._getYear(b,re,0);se=60*y+se;var ee=$===0?oe:$;this.timeScaleArray.push({position:se,value:ee,unit:V,hour:$,day:oe,year:T,month:F.monthMod(re)}),$++}}},{key:"generateMinuteScale",value:function(c){for(var g=c.currentMillisecond,h=c.currentSecond,I=c.currentMinute,b=c.currentHour,y=c.currentDate,x=c.currentMonth,B=c.currentYear,V=c.minutesWidthOnXAxis,E=c.secondsWidthOnXAxis,Y=c.numberOfMinutes,H=I+1,z=y,Q=x,$=B,oe=b,re=(60-h-g/1e3)*E,se=0;se<Y;se++)H>=60&&(H=0,(oe+=1)===24&&(oe=0)),this.timeScaleArray.push({position:re,value:H,unit:"minute",hour:oe,minute:H,day:z,year:this._getYear($,Q,0),month:F.monthMod(Q)}),re+=V,H++}},{key:"generateSecondScale",value:function(c){for(var g=c.currentMillisecond,h=c.currentSecond,I=c.currentMinute,b=c.currentHour,y=c.currentDate,x=c.currentMonth,B=c.currentYear,V=c.secondsWidthOnXAxis,E=c.numberOfSeconds,Y=h+1,H=I,z=y,Q=x,$=B,oe=b,re=(1e3-g)/1e3*V,se=0;se<E;se++)Y>=60&&(Y=0,++H>=60&&(H=0,++oe===24&&(oe=0))),this.timeScaleArray.push({position:re,value:Y,unit:"second",hour:oe,minute:H,second:Y,day:z,year:this._getYear($,Q,0),month:F.monthMod(Q)}),re+=V,Y++}},{key:"createRawDateString",value:function(c,g){var h=c.year;return c.month===0&&(c.month=1),h+="-"+("0"+c.month.toString()).slice(-2),c.unit==="day"?h+=c.unit==="day"?"-"+("0"+g).slice(-2):"-01":h+="-"+("0"+(c.day?c.day:"1")).slice(-2),c.unit==="hour"?h+=c.unit==="hour"?"T"+("0"+g).slice(-2):"T00":h+="T"+("0"+(c.hour?c.hour:"0")).slice(-2),c.unit==="minute"?h+=":"+("0"+g).slice(-2):h+=":"+(c.minute?("0"+c.minute).slice(-2):"00"),c.unit==="second"?h+=":"+("0"+g).slice(-2):h+=":00",this.utc&&(h+=".000Z"),h}},{key:"formatDates",value:function(c){var g=this,h=this.w;return c.map(function(I){var b=I.value.toString(),y=new pe(g.ctx),x=g.createRawDateString(I,b),B=y.getDate(y.parseDate(x));if(g.utc||(B=y.getDate(y.parseDateWithTimezone(x))),h.config.xaxis.labels.format===void 0){var V="dd MMM",E=h.config.xaxis.labels.datetimeFormatter;I.unit==="year"&&(V=E.year),I.unit==="month"&&(V=E.month),I.unit==="day"&&(V=E.day),I.unit==="hour"&&(V=E.hour),I.unit==="minute"&&(V=E.minute),I.unit==="second"&&(V=E.second),b=y.formatDate(B,V)}else b=y.formatDate(B,h.config.xaxis.labels.format);return{dateString:x,position:I.position,value:b,unit:I.unit,year:I.year,month:I.month}})}},{key:"removeOverlappingTS",value:function(c){var g,h=this,I=new ne(this.ctx),b=!1;c.length>0&&c[0].value&&c.every(function(B){return B.value.length===c[0].value.length})&&(b=!0,g=I.getTextRects(c[0].value).width);var y=0,x=c.map(function(B,V){if(V>0&&h.w.config.xaxis.labels.hideOverlappingLabels){var E=b?g:I.getTextRects(c[y].value).width,Y=c[y].position;return B.position>Y+E+10?(y=V,B):null}return B});return x=x.filter(function(B){return B!==null})}},{key:"_getYear",value:function(c,g,h){return c+Math.floor(g/12)+h}}]),le}(),ti=function(){function le(c,g){m(this,le),this.ctx=g,this.w=g.w,this.el=c}return v(le,[{key:"setupElements",value:function(){var c=this.w.globals,g=this.w.config,h=g.chart.type;c.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(h)>-1,c.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(h)>-1,c.isBarHorizontal=(g.chart.type==="bar"||g.chart.type==="rangeBar"||g.chart.type==="boxPlot")&&g.plotOptions.bar.horizontal,c.chartClass=".apexcharts"+c.chartID,c.dom.baseEl=this.el,c.dom.elWrap=document.createElement("div"),ne.setAttrs(c.dom.elWrap,{id:c.chartClass.substring(1),class:"apexcharts-canvas "+c.chartClass.substring(1)}),this.el.appendChild(c.dom.elWrap),c.dom.Paper=new window.SVG.Doc(c.dom.elWrap),c.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(g.chart.offsetX,", ").concat(g.chart.offsetY,")")}),c.dom.Paper.node.style.background=g.theme.mode!=="dark"||g.chart.background?g.chart.background:"rgba(0, 0, 0, 0.8)",this.setSVGDimensions(),c.dom.elLegendForeign=document.createElementNS(c.SVGNS,"foreignObject"),ne.setAttrs(c.dom.elLegendForeign,{x:0,y:0,width:c.svgWidth,height:c.svgHeight}),c.dom.elLegendWrap=document.createElement("div"),c.dom.elLegendWrap.classList.add("apexcharts-legend"),c.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),c.dom.elLegendForeign.appendChild(c.dom.elLegendWrap),c.dom.Paper.node.appendChild(c.dom.elLegendForeign),c.dom.elGraphical=c.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),c.dom.elDefs=c.dom.Paper.defs(),c.dom.Paper.add(c.dom.elGraphical),c.dom.elGraphical.add(c.dom.elDefs)}},{key:"plotChartType",value:function(c,g){var h=this.w,I=h.config,b=h.globals,y={series:[],i:[]},x={series:[],i:[]},B={series:[],i:[]},V={series:[],i:[]},E={series:[],i:[]},Y={series:[],i:[]},H={series:[],i:[]},z={series:[],i:[]},Q={series:[],seriesRangeEnd:[],i:[]},$=I.chart.type!==void 0?I.chart.type:"line",oe=null,re=0;b.series.forEach(function(Ve,Le){var st=c[Le].type||$;switch(st){case"column":case"bar":E.series.push(Ve),E.i.push(Le),h.globals.columnSeries=E;break;case"area":x.series.push(Ve),x.i.push(Le);break;case"line":y.series.push(Ve),y.i.push(Le);break;case"scatter":B.series.push(Ve),B.i.push(Le);break;case"bubble":V.series.push(Ve),V.i.push(Le);break;case"candlestick":Y.series.push(Ve),Y.i.push(Le);break;case"boxPlot":H.series.push(Ve),H.i.push(Le);break;case"rangeBar":z.series.push(Ve),z.i.push(Le);break;case"rangeArea":Q.series.push(b.seriesRangeStart[Le]),Q.seriesRangeEnd.push(b.seriesRangeEnd[Le]),Q.i.push(Le);break;case"heatmap":case"treemap":case"pie":case"donut":case"polarArea":case"radialBar":case"radar":oe=st;break;default:console.warn("You have specified an unrecognized series type (",st,").")}$!==st&&st!=="scatter"&&re++}),re>0&&(oe!==null&&console.warn("Chart or series type ",oe," can not appear with other chart or series types."),E.series.length>0&&I.plotOptions.bar.horizontal&&(re-=E.length,E={series:[],i:[]},h.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),b.comboCharts||(b.comboCharts=re>0);var se=new El(this.ctx,g),W=new Us(this.ctx,g);this.ctx.pie=new Kc(this.ctx);var T=new _l(this.ctx);this.ctx.rangeBar=new Jr(this.ctx,g);var ee=new Ei(this.ctx),ce=[];if(b.comboCharts){var ge,me,Ae=new ue(this.ctx);if(x.series.length>0&&(ge=ce).push.apply(ge,L(Ae.drawSeriesByGroup(x,b.areaGroups,"area",se))),E.series.length>0)if(h.config.chart.stacked){var ye=new Os(this.ctx,g);ce.push(ye.draw(E.series,E.i))}else this.ctx.bar=new Cr(this.ctx,g),ce.push(this.ctx.bar.draw(E.series,E.i));if(Q.series.length>0&&ce.push(se.draw(Q.series,"rangeArea",Q.i,Q.seriesRangeEnd)),y.series.length>0&&(me=ce).push.apply(me,L(Ae.drawSeriesByGroup(y,b.lineGroups,"line",se))),Y.series.length>0&&ce.push(W.draw(Y.series,"candlestick",Y.i)),H.series.length>0&&ce.push(W.draw(H.series,"boxPlot",H.i)),z.series.length>0&&ce.push(this.ctx.rangeBar.draw(z.series,z.i)),B.series.length>0){var Ne=new El(this.ctx,g,!0);ce.push(Ne.draw(B.series,"scatter",B.i))}if(V.series.length>0){var Te=new El(this.ctx,g,!0);ce.push(Te.draw(V.series,"bubble",V.i))}}else switch(I.chart.type){case"line":ce=se.draw(b.series,"line");break;case"area":ce=se.draw(b.series,"area");break;case"bar":I.chart.stacked?ce=new Os(this.ctx,g).draw(b.series):(this.ctx.bar=new Cr(this.ctx,g),ce=this.ctx.bar.draw(b.series));break;case"candlestick":ce=new Us(this.ctx,g).draw(b.series,"candlestick");break;case"boxPlot":ce=new Us(this.ctx,g).draw(b.series,I.chart.type);break;case"rangeBar":ce=this.ctx.rangeBar.draw(b.series);break;case"rangeArea":ce=se.draw(b.seriesRangeStart,"rangeArea",void 0,b.seriesRangeEnd);break;case"heatmap":ce=new Wl(this.ctx,g).draw(b.series);break;case"treemap":ce=new Xl(this.ctx,g).draw(b.series);break;case"pie":case"donut":case"polarArea":ce=this.ctx.pie.draw(b.series);break;case"radialBar":ce=T.draw(b.series);break;case"radar":ce=ee.draw(b.series);break;default:ce=se.draw(b.series)}return ce}},{key:"setSVGDimensions",value:function(){var c=this.w.globals,g=this.w.config;c.svgWidth=g.chart.width,c.svgHeight=g.chart.height;var h=F.getDimensions(this.el),I=g.chart.width.toString().split(/[0-9]+/g).pop();I==="%"?F.isNumber(h[0])&&(h[0].width===0&&(h=F.getDimensions(this.el.parentNode)),c.svgWidth=h[0]*parseInt(g.chart.width,10)/100):I!=="px"&&I!==""||(c.svgWidth=parseInt(g.chart.width,10));var b=g.chart.height.toString().split(/[0-9]+/g).pop();if(c.svgHeight!=="auto"&&c.svgHeight!=="")if(b==="%"){var y=F.getDimensions(this.el.parentNode);c.svgHeight=y[1]*parseInt(g.chart.height,10)/100}else c.svgHeight=parseInt(g.chart.height,10);else c.axisCharts?c.svgHeight=c.svgWidth/1.61:c.svgHeight=c.svgWidth/1.2;if(c.svgWidth<0&&(c.svgWidth=0),c.svgHeight<0&&(c.svgHeight=0),ne.setAttrs(c.dom.Paper.node,{width:c.svgWidth,height:c.svgHeight}),b!=="%"){var x=g.chart.sparkline.enabled?0:c.axisCharts?g.chart.parentHeightOffset:0;c.dom.Paper.node.parentNode.parentNode.style.minHeight=c.svgHeight+x+"px"}c.dom.elWrap.style.width=c.svgWidth+"px",c.dom.elWrap.style.height=c.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var c=this.w.globals,g=c.translateY,h={transform:"translate("+c.translateX+", "+g+")"};ne.setAttrs(c.dom.elGraphical.node,h)}},{key:"resizeNonAxisCharts",value:function(){var c=this.w,g=c.globals,h=0,I=c.config.chart.sparkline.enabled?1:15;I+=c.config.grid.padding.bottom,c.config.legend.position!=="top"&&c.config.legend.position!=="bottom"||!c.config.legend.show||c.config.legend.floating||(h=new Ke(this.ctx).legendHelpers.getLegendBBox().clwh+10);var b=c.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),y=2.05*c.globals.radialSize;if(b&&!c.config.chart.sparkline.enabled&&c.config.plotOptions.radialBar.startAngle!==0){var x=F.getBoundingClientRect(b);y=x.bottom;var B=x.bottom-x.top;y=Math.max(2.05*c.globals.radialSize,B)}var V=y+g.translateY+h+I;g.dom.elLegendForeign&&g.dom.elLegendForeign.setAttribute("height",V),c.config.chart.height&&String(c.config.chart.height).indexOf("%")>0||(g.dom.elWrap.style.height=V+"px",ne.setAttrs(g.dom.Paper.node,{height:V}),g.dom.Paper.node.parentNode.parentNode.style.minHeight=V+"px")}},{key:"coreCalculations",value:function(){new rt(this.ctx).init()}},{key:"resetGlobals",value:function(){var c=this,g=function(){return c.w.config.series.map(function(b){return[]})},h=new Pe,I=this.w.globals;h.initGlobalVars(I),I.seriesXvalues=g(),I.seriesYvalues=g()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var c=null,g=this.w;if(g.globals.axisCharts){if(g.config.xaxis.crosshairs.position==="back"&&new Wt(this.ctx).drawXCrosshairs(),g.config.yaxis[0].crosshairs.position==="back"&&new Wt(this.ctx).drawYCrosshairs(),g.config.xaxis.type==="datetime"&&g.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new Od(this.ctx);var h=[];isFinite(g.globals.minX)&&isFinite(g.globals.maxX)&&!g.globals.isBarHorizontal?h=this.ctx.timeScale.calculateTimeScaleTicks(g.globals.minX,g.globals.maxX):g.globals.isBarHorizontal&&(h=this.ctx.timeScale.calculateTimeScaleTicks(g.globals.minY,g.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(h)}c=new ue(this.ctx).getCalculatedRatios()}return c}},{key:"updateSourceChart",value:function(c){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:c.w.globals.minX,max:c.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var c=this,g=this.w;if(g.config.chart.brush.enabled&&typeof g.config.chart.events.selection!="function"){var h=Array.isArray(g.config.chart.brush.targets)?g.config.chart.brush.targets:[g.config.chart.brush.target];h.forEach(function(I){var b=ApexCharts.getChartByID(I);b.w.globals.brushSource=c.ctx,typeof b.w.config.chart.events.zoomed!="function"&&(b.w.config.chart.events.zoomed=function(){c.updateSourceChart(b)}),typeof b.w.config.chart.events.scrolled!="function"&&(b.w.config.chart.events.scrolled=function(){c.updateSourceChart(b)})}),g.config.chart.events.selection=function(I,b){h.forEach(function(y){ApexCharts.getChartByID(y).ctx.updateHelpers._updateOptions({xaxis:{min:b.xaxis.min,max:b.xaxis.max}},!1,!1,!1,!1)})}}}}]),le}(),Fn=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"_updateOptions",value:function(c){var g=this,h=arguments.length>1&&arguments[1]!==void 0&&arguments[1],I=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],b=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],y=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(x){var B=[g.ctx];b&&(B=g.ctx.getSyncedCharts()),g.ctx.w.globals.isExecCalled&&(B=[g.ctx],g.ctx.w.globals.isExecCalled=!1),B.forEach(function(V,E){var Y=V.w;if(Y.globals.shouldAnimate=I,h||(Y.globals.resized=!0,Y.globals.dataChanged=!0,I&&V.series.getPreviousPaths()),c&&d(c)==="object"&&(V.config=new _e(c),c=ue.extendArrayProps(V.config,c,Y),V.w.globals.chartID!==g.ctx.w.globals.chartID&&delete c.series,Y.config=F.extend(Y.config,c),y&&(Y.globals.lastXAxis=c.xaxis?F.clone(c.xaxis):[],Y.globals.lastYAxis=c.yaxis?F.clone(c.yaxis):[],Y.globals.initialConfig=F.extend({},Y.config),Y.globals.initialSeries=F.clone(Y.config.series),c.series))){for(var H=0;H<Y.globals.collapsedSeriesIndices.length;H++){var z=Y.config.series[Y.globals.collapsedSeriesIndices[H]];Y.globals.collapsedSeries[H].data=Y.globals.axisCharts?z.data.slice():z}for(var Q=0;Q<Y.globals.ancillaryCollapsedSeriesIndices.length;Q++){var $=Y.config.series[Y.globals.ancillaryCollapsedSeriesIndices[Q]];Y.globals.ancillaryCollapsedSeries[Q].data=Y.globals.axisCharts?$.data.slice():$}V.series.emptyCollapsedSeries(Y.config.series)}return V.update(c).then(function(){E===B.length-1&&x(V)})})})}},{key:"_updateSeries",value:function(c,g){var h=this,I=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(b){var y,x=h.w;return x.globals.shouldAnimate=g,x.globals.dataChanged=!0,g&&h.ctx.series.getPreviousPaths(),x.globals.axisCharts?((y=c.map(function(B,V){return h._extendSeries(B,V)})).length===0&&(y=[{data:[]}]),x.config.series=y):x.config.series=c.slice(),I&&(x.globals.initialConfig.series=F.clone(x.config.series),x.globals.initialSeries=F.clone(x.config.series)),h.ctx.update().then(function(){b(h.ctx)})})}},{key:"_extendSeries",value:function(c,g){var h=this.w,I=h.config.series[g];return s(s({},h.config.series[g]),{},{name:c.name?c.name:I==null?void 0:I.name,color:c.color?c.color:I==null?void 0:I.color,type:c.type?c.type:I==null?void 0:I.type,group:c.group?c.group:I==null?void 0:I.group,data:c.data?c.data:I==null?void 0:I.data,zIndex:c.zIndex!==void 0?c.zIndex:g})}},{key:"toggleDataPointSelection",value:function(c,g){var h=this.w,I=null,b=".apexcharts-series[data\\:realIndex='".concat(c,"']");return h.globals.axisCharts?I=h.globals.dom.Paper.select("".concat(b," path[j='").concat(g,"'], ").concat(b," circle[j='").concat(g,"'], ").concat(b," rect[j='").concat(g,"']")).members[0]:g===void 0&&(I=h.globals.dom.Paper.select("".concat(b," path[j='").concat(c,"']")).members[0],h.config.chart.type!=="pie"&&h.config.chart.type!=="polarArea"&&h.config.chart.type!=="donut"||this.ctx.pie.pieClicked(c)),I?(new ne(this.ctx).pathMouseDown(I,null),I.node?I.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(c){var g=this.w;if(["min","max"].forEach(function(I){c.xaxis[I]!==void 0&&(g.config.xaxis[I]=c.xaxis[I],g.globals.lastXAxis[I]=c.xaxis[I])}),c.xaxis.categories&&c.xaxis.categories.length&&(g.config.xaxis.categories=c.xaxis.categories),g.config.xaxis.convertedCatToNumeric){var h=new Ze(c);c=h.convertCatToNumericXaxis(c,this.ctx)}return c}},{key:"forceYAxisUpdate",value:function(c){return c.chart&&c.chart.stacked&&c.chart.stackType==="100%"&&(Array.isArray(c.yaxis)?c.yaxis.forEach(function(g,h){c.yaxis[h].min=0,c.yaxis[h].max=100}):(c.yaxis.min=0,c.yaxis.max=100)),c}},{key:"revertDefaultAxisMinMax",value:function(c){var g=this,h=this.w,I=h.globals.lastXAxis,b=h.globals.lastYAxis;c&&c.xaxis&&(I=c.xaxis),c&&c.yaxis&&(b=c.yaxis),h.config.xaxis.min=I.min,h.config.xaxis.max=I.max;var y=function(x){b[x]!==void 0&&(h.config.yaxis[x].min=b[x].min,h.config.yaxis[x].max=b[x].max)};h.config.yaxis.map(function(x,B){h.globals.zoomed||b[B]!==void 0?y(B):g.ctx.opts.yaxis[B]!==void 0&&(x.min=g.ctx.opts.yaxis[B].min,x.max=g.ctx.opts.yaxis[B].max)})}}]),le}();Ji=typeof window<"u"?window:void 0,Lr=function(le,c){var g=(this!==void 0?this:le).SVG=function(W){if(g.supported)return W=new g.Doc(W),g.parser.draw||g.prepare(),W};if(g.ns="http://www.w3.org/2000/svg",g.xmlns="http://www.w3.org/2000/xmlns/",g.xlink="http://www.w3.org/1999/xlink",g.svgjs="http://svgjs.dev",g.supported=!0,!g.supported)return!1;g.did=1e3,g.eid=function(W){return"Svgjs"+E(W)+g.did++},g.create=function(W){var T=c.createElementNS(this.ns,W);return T.setAttribute("id",this.eid(W)),T},g.extend=function(){var W,T;T=(W=[].slice.call(arguments)).pop();for(var ee=W.length-1;ee>=0;ee--)if(W[ee])for(var ce in T)W[ee].prototype[ce]=T[ce];g.Set&&g.Set.inherit&&g.Set.inherit()},g.invent=function(W){var T=typeof W.create=="function"?W.create:function(){this.constructor.call(this,g.create(W.create))};return W.inherit&&(T.prototype=new W.inherit),W.extend&&g.extend(T,W.extend),W.construct&&g.extend(W.parent||g.Container,W.construct),T},g.adopt=function(W){return W?W.instance?W.instance:((T=W.nodeName=="svg"?W.parentNode instanceof le.SVGElement?new g.Nested:new g.Doc:W.nodeName=="linearGradient"?new g.Gradient("linear"):W.nodeName=="radialGradient"?new g.Gradient("radial"):g[E(W.nodeName)]?new g[E(W.nodeName)]:new g.Element(W)).type=W.nodeName,T.node=W,W.instance=T,T instanceof g.Doc&&T.namespace().defs(),T.setData(JSON.parse(W.getAttribute("svgjs:data"))||{}),T):null;var T},g.prepare=function(){var W=c.getElementsByTagName("body")[0],T=(W?new g.Doc(W):g.adopt(c.documentElement).nested()).size(2,0);g.parser={body:W||c.documentElement,draw:T.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:T.polyline().node,path:T.path().node,native:g.create("svg")}},g.parser={native:g.create("svg")},c.addEventListener("DOMContentLoaded",function(){g.parser.draw||g.prepare()},!1),g.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},g.utils={map:function(W,T){for(var ee=W.length,ce=[],ge=0;ge<ee;ge++)ce.push(T(W[ge]));return ce},filter:function(W,T){for(var ee=W.length,ce=[],ge=0;ge<ee;ge++)T(W[ge])&&ce.push(W[ge]);return ce},filterSVGElements:function(W){return this.filter(W,function(T){return T instanceof le.SVGElement})}},g.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},g.Color=function(W){var T,ee;this.r=0,this.g=0,this.b=0,W&&(typeof W=="string"?g.regex.isRgb.test(W)?(T=g.regex.rgb.exec(W.replace(g.regex.whitespace,"")),this.r=parseInt(T[1]),this.g=parseInt(T[2]),this.b=parseInt(T[3])):g.regex.isHex.test(W)&&(T=g.regex.hex.exec((ee=W).length==4?["#",ee.substring(1,2),ee.substring(1,2),ee.substring(2,3),ee.substring(2,3),ee.substring(3,4),ee.substring(3,4)].join(""):ee),this.r=parseInt(T[1],16),this.g=parseInt(T[2],16),this.b=parseInt(T[3],16)):d(W)==="object"&&(this.r=W.r,this.g=W.g,this.b=W.b))},g.extend(g.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+Y(this.r)+Y(this.g)+Y(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(W){return this.destination=new g.Color(W),this},at:function(W){return this.destination?(W=W<0?0:W>1?1:W,new g.Color({r:~~(this.r+(this.destination.r-this.r)*W),g:~~(this.g+(this.destination.g-this.g)*W),b:~~(this.b+(this.destination.b-this.b)*W)})):this}}),g.Color.test=function(W){return W+="",g.regex.isHex.test(W)||g.regex.isRgb.test(W)},g.Color.isRgb=function(W){return W&&typeof W.r=="number"&&typeof W.g=="number"&&typeof W.b=="number"},g.Color.isColor=function(W){return g.Color.isRgb(W)||g.Color.test(W)},g.Array=function(W,T){(W=(W||[]).valueOf()).length==0&&T&&(W=T.valueOf()),this.value=this.parse(W)},g.extend(g.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(W){return W=W.valueOf(),Array.isArray(W)?W:this.split(W)}}),g.PointArray=function(W,T){g.Array.call(this,W,T||[[0,0]])},g.PointArray.prototype=new g.Array,g.PointArray.prototype.constructor=g.PointArray;for(var h={M:function(W,T,ee){return T.x=ee.x=W[0],T.y=ee.y=W[1],["M",T.x,T.y]},L:function(W,T){return T.x=W[0],T.y=W[1],["L",W[0],W[1]]},H:function(W,T){return T.x=W[0],["H",W[0]]},V:function(W,T){return T.y=W[0],["V",W[0]]},C:function(W,T){return T.x=W[4],T.y=W[5],["C",W[0],W[1],W[2],W[3],W[4],W[5]]},Q:function(W,T){return T.x=W[2],T.y=W[3],["Q",W[0],W[1],W[2],W[3]]},S:function(W,T){return T.x=W[2],T.y=W[3],["S",W[0],W[1],W[2],W[3]]},Z:function(W,T,ee){return T.x=ee.x,T.y=ee.y,["Z"]}},I="mlhvqtcsaz".split(""),b=0,y=I.length;b<y;++b)h[I[b]]=function(W){return function(T,ee,ce){if(W=="H")T[0]=T[0]+ee.x;else if(W=="V")T[0]=T[0]+ee.y;else if(W=="A")T[5]=T[5]+ee.x,T[6]=T[6]+ee.y;else for(var ge=0,me=T.length;ge<me;++ge)T[ge]=T[ge]+(ge%2?ee.y:ee.x);if(h&&typeof h[W]=="function")return h[W](T,ee,ce)}}(I[b].toUpperCase());g.PathArray=function(W,T){g.Array.call(this,W,T||[["M",0,0]])},g.PathArray.prototype=new g.Array,g.PathArray.prototype.constructor=g.PathArray,g.extend(g.PathArray,{toString:function(){return function(W){for(var T=0,ee=W.length,ce="";T<ee;T++)ce+=W[T][0],W[T][1]!=null&&(ce+=W[T][1],W[T][2]!=null&&(ce+=" ",ce+=W[T][2],W[T][3]!=null&&(ce+=" ",ce+=W[T][3],ce+=" ",ce+=W[T][4],W[T][5]!=null&&(ce+=" ",ce+=W[T][5],ce+=" ",ce+=W[T][6],W[T][7]!=null&&(ce+=" ",ce+=W[T][7])))));return ce+" "}(this.value)},move:function(W,T){var ee=this.bbox();return ee.x,ee.y,this},at:function(W){if(!this.destination)return this;for(var T=this.value,ee=this.destination.value,ce=[],ge=new g.PathArray,me=0,Ae=T.length;me<Ae;me++){ce[me]=[T[me][0]];for(var ye=1,Ne=T[me].length;ye<Ne;ye++)ce[me][ye]=T[me][ye]+(ee[me][ye]-T[me][ye])*W;ce[me][0]==="A"&&(ce[me][4]=+(ce[me][4]!=0),ce[me][5]=+(ce[me][5]!=0))}return ge.value=ce,ge},parse:function(W){if(W instanceof g.PathArray)return W.valueOf();var T,ee={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};W=typeof W=="string"?W.replace(g.regex.numbersWithDots,B).replace(g.regex.pathLetters," $& ").replace(g.regex.hyphen,"$1 -").trim().split(g.regex.delimiter):W.reduce(function(Ne,Te){return[].concat.call(Ne,Te)},[]);var ce=[],ge=new g.Point,me=new g.Point,Ae=0,ye=W.length;do g.regex.isPathLetter.test(W[Ae])?(T=W[Ae],++Ae):T=="M"?T="L":T=="m"&&(T="l"),ce.push(h[T].call(null,W.slice(Ae,Ae+=ee[T.toUpperCase()]).map(parseFloat),ge,me));while(ye>Ae);return ce},bbox:function(){return g.parser.draw||g.prepare(),g.parser.path.setAttribute("d",this.toString()),g.parser.path.getBBox()}}),g.Number=g.invent({create:function(W,T){this.value=0,this.unit=T||"",typeof W=="number"?this.value=isNaN(W)?0:isFinite(W)?W:W<0?-34e37:34e37:typeof W=="string"?(T=W.match(g.regex.numberAndUnit))&&(this.value=parseFloat(T[1]),T[5]=="%"?this.value/=100:T[5]=="s"&&(this.value*=1e3),this.unit=T[5]):W instanceof g.Number&&(this.value=W.valueOf(),this.unit=W.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(W){return W=new g.Number(W),new g.Number(this+W,this.unit||W.unit)},minus:function(W){return W=new g.Number(W),new g.Number(this-W,this.unit||W.unit)},times:function(W){return W=new g.Number(W),new g.Number(this*W,this.unit||W.unit)},divide:function(W){return W=new g.Number(W),new g.Number(this/W,this.unit||W.unit)},to:function(W){var T=new g.Number(this);return typeof W=="string"&&(T.unit=W),T},morph:function(W){return this.destination=new g.Number(W),W.relative&&(this.destination.value+=this.value),this},at:function(W){return this.destination?new g.Number(this.destination).minus(this).times(W).plus(this):this}}}),g.Element=g.invent({create:function(W){this._stroke=g.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=W)&&(this.type=W.nodeName,this.node.instance=this,this._stroke=W.getAttribute("stroke")||this._stroke)},extend:{x:function(W){return this.attr("x",W)},y:function(W){return this.attr("y",W)},cx:function(W){return W==null?this.x()+this.width()/2:this.x(W-this.width()/2)},cy:function(W){return W==null?this.y()+this.height()/2:this.y(W-this.height()/2)},move:function(W,T){return this.x(W).y(T)},center:function(W,T){return this.cx(W).cy(T)},width:function(W){return this.attr("width",W)},height:function(W){return this.attr("height",W)},size:function(W,T){var ee=H(this,W,T);return this.width(new g.Number(ee.width)).height(new g.Number(ee.height))},clone:function(W){this.writeDataToDom();var T=$(this.node.cloneNode(!0));return W?W.add(T):this.after(T),T},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(W){return this.after(W).remove(),W},addTo:function(W){return W.put(this)},putIn:function(W){return W.add(this)},id:function(W){return this.attr("id",W)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var W=this.attr("class");return W==null?[]:W.trim().split(g.regex.delimiter)},hasClass:function(W){return this.classes().indexOf(W)!=-1},addClass:function(W){if(!this.hasClass(W)){var T=this.classes();T.push(W),this.attr("class",T.join(" "))}return this},removeClass:function(W){return this.hasClass(W)&&this.attr("class",this.classes().filter(function(T){return T!=W}).join(" ")),this},toggleClass:function(W){return this.hasClass(W)?this.removeClass(W):this.addClass(W)},reference:function(W){return g.get(this.attr(W))},parent:function(W){var T=this;if(!T.node.parentNode)return null;if(T=g.adopt(T.node.parentNode),!W)return T;for(;T&&T.node instanceof le.SVGElement;){if(typeof W=="string"?T.matches(W):T instanceof W)return T;if(!T.node.parentNode||T.node.parentNode.nodeName=="#document")return null;T=g.adopt(T.node.parentNode)}},doc:function(){return this instanceof g.Doc?this:this.parent(g.Doc)},parents:function(W){var T=[],ee=this;do{if(!(ee=ee.parent(W))||!ee.node)break;T.push(ee)}while(ee.parent);return T},matches:function(W){return function(T,ee){return(T.matches||T.matchesSelector||T.msMatchesSelector||T.mozMatchesSelector||T.webkitMatchesSelector||T.oMatchesSelector).call(T,ee)}(this.node,W)},native:function(){return this.node},svg:function(W){var T=c.createElementNS("http://www.w3.org/2000/svg","svg");if(!(W&&this instanceof g.Parent))return T.appendChild(W=c.createElementNS("http://www.w3.org/2000/svg","svg")),this.writeDataToDom(),W.appendChild(this.node.cloneNode(!0)),T.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");T.innerHTML="<svg>"+W.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var ee=0,ce=T.firstChild.childNodes.length;ee<ce;ee++)this.node.appendChild(T.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(W){return this.dom=W,this},is:function(W){return function(T,ee){return T instanceof ee}(this,W)}}}),g.easing={"-":function(W){return W},"<>":function(W){return-Math.cos(W*Math.PI)/2+.5},">":function(W){return Math.sin(W*Math.PI/2)},"<":function(W){return 1-Math.cos(W*Math.PI/2)}},g.morph=function(W){return function(T,ee){return new g.MorphObj(T,ee).at(W)}},g.Situation=g.invent({create:function(W){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new g.Number(W.duration).valueOf(),this.delay=new g.Number(W.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=W.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),g.FX=g.invent({create:function(W){this._target=W,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(W,T,ee){d(W)==="object"&&(T=W.ease,ee=W.delay,W=W.duration);var ce=new g.Situation({duration:W||1e3,delay:ee||0,ease:g.easing[T||"-"]||T});return this.queue(ce),this},target:function(W){return W&&W instanceof g.Element?(this._target=W,this):this._target},timeToAbsPos:function(W){return(W-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(W){return this.situation.duration/this._speed*W+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=le.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){le.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(W){return(typeof W=="function"||W instanceof g.Situation)&&this.situations.push(W),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof g.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var W,T=this.situation;if(T.init)return this;for(var ee in T.animations){W=this.target()[ee](),Array.isArray(W)||(W=[W]),Array.isArray(T.animations[ee])||(T.animations[ee]=[T.animations[ee]]);for(var ce=W.length;ce--;)T.animations[ee][ce]instanceof g.Number&&(W[ce]=new g.Number(W[ce])),T.animations[ee][ce]=W[ce].morph(T.animations[ee][ce])}for(var ee in T.attrs)T.attrs[ee]=new g.MorphObj(this.target().attr(ee),T.attrs[ee]);for(var ee in T.styles)T.styles[ee]=new g.MorphObj(this.target().style(ee),T.styles[ee]);return T.initialTransformation=this.target().matrixify(),T.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(W,T){var ee=this.active;return this.active=!1,T&&this.clearQueue(),W&&this.situation&&(!ee&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(W){var T=this.last();return this.target().on("finished.fx",function ee(ce){ce.detail.situation==T&&(W.call(this,T),this.off("finished.fx",ee))}),this._callStart()},during:function(W){var T=this.last(),ee=function(ce){ce.detail.situation==T&&W.call(this,ce.detail.pos,g.morph(ce.detail.pos),ce.detail.eased,T)};return this.target().off("during.fx",ee).on("during.fx",ee),this.after(function(){this.off("during.fx",ee)}),this._callStart()},afterAll:function(W){var T=function ee(ce){W.call(this),this.off("allfinished.fx",ee)};return this.target().off("allfinished.fx",T).on("allfinished.fx",T),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(W,T,ee){return this.last()[ee||"animations"][W]=T,this._callStart()},step:function(W){var T,ee,ce;W||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(T=Math.max(this.absPos,0),ee=Math.floor(T),this.situation.loops===!0||ee<this.situation.loops?(this.pos=T-ee,ce=this.situation.loop,this.situation.loop=ee):(this.absPos=this.situation.loops,this.pos=1,ce=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-ce)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var ge=this.situation.ease(this.pos);for(var me in this.situation.once)me>this.lastPos&&me<=ge&&(this.situation.once[me].call(this.target(),this.pos,ge),delete this.situation.once[me]);return this.active&&this.target().fire("during",{pos:this.pos,eased:ge,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=ge,this):this},eachAt:function(){var W,T=this,ee=this.target(),ce=this.situation;for(var ge in ce.animations)W=[].concat(ce.animations[ge]).map(function(ye){return typeof ye!="string"&&ye.at?ye.at(ce.ease(T.pos),T.pos):ye}),ee[ge].apply(ee,W);for(var ge in ce.attrs)W=[ge].concat(ce.attrs[ge]).map(function(Ne){return typeof Ne!="string"&&Ne.at?Ne.at(ce.ease(T.pos),T.pos):Ne}),ee.attr.apply(ee,W);for(var ge in ce.styles)W=[ge].concat(ce.styles[ge]).map(function(Ne){return typeof Ne!="string"&&Ne.at?Ne.at(ce.ease(T.pos),T.pos):Ne}),ee.style.apply(ee,W);if(ce.transforms.length){W=ce.initialTransformation,ge=0;for(var me=ce.transforms.length;ge<me;ge++){var Ae=ce.transforms[ge];Ae instanceof g.Matrix?W=Ae.relative?W.multiply(new g.Matrix().morph(Ae).at(ce.ease(this.pos))):W.morph(Ae).at(ce.ease(this.pos)):(Ae.relative||Ae.undo(W.extract()),W=W.multiply(Ae.at(ce.ease(this.pos))))}ee.matrix(W)}return this},once:function(W,T,ee){var ce=this.last();return ee||(W=ce.ease(W)),ce.once[W]=T,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:g.Element,construct:{animate:function(W,T,ee){return(this.fx||(this.fx=new g.FX(this))).animate(W,T,ee)},delay:function(W){return(this.fx||(this.fx=new g.FX(this))).delay(W)},stop:function(W,T){return this.fx&&this.fx.stop(W,T),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),g.MorphObj=g.invent({create:function(W,T){return g.Color.isColor(T)?new g.Color(W).morph(T):g.regex.delimiter.test(W)?g.regex.pathLetters.test(W)?new g.PathArray(W).morph(T):new g.Array(W).morph(T):g.regex.numberAndUnit.test(T)?new g.Number(W).morph(T):(this.value=W,void(this.destination=T))},extend:{at:function(W,T){return T<1?this.value:this.destination},valueOf:function(){return this.value}}}),g.extend(g.FX,{attr:function(W,T,ee){if(d(W)==="object")for(var ce in W)this.attr(ce,W[ce]);else this.add(W,T,"attrs");return this},plot:function(W,T,ee,ce){return arguments.length==4?this.plot([W,T,ee,ce]):this.add("plot",new(this.target()).morphArray(W))}}),g.Box=g.invent({create:function(W,T,ee,ce){if(!(d(W)!=="object"||W instanceof g.Element))return g.Box.call(this,W.left!=null?W.left:W.x,W.top!=null?W.top:W.y,W.width,W.height);var ge;arguments.length==4&&(this.x=W,this.y=T,this.width=ee,this.height=ce),(ge=this).x==null&&(ge.x=0,ge.y=0,ge.width=0,ge.height=0),ge.w=ge.width,ge.h=ge.height,ge.x2=ge.x+ge.width,ge.y2=ge.y+ge.height,ge.cx=ge.x+ge.width/2,ge.cy=ge.y+ge.height/2}}),g.BBox=g.invent({create:function(W){if(g.Box.apply(this,[].slice.call(arguments)),W instanceof g.Element){var T;try{if(!c.documentElement.contains){for(var ee=W.node;ee.parentNode;)ee=ee.parentNode;if(ee!=c)throw new Error("Element not in the dom")}T=W.node.getBBox()}catch{if(W instanceof g.Shape){g.parser.draw||g.prepare();var ce=W.clone(g.parser.draw.instance).show();ce&&ce.node&&typeof ce.node.getBBox=="function"&&(T=ce.node.getBBox()),ce&&typeof ce.remove=="function"&&ce.remove()}else T={x:W.node.clientLeft,y:W.node.clientTop,width:W.node.clientWidth,height:W.node.clientHeight}}g.Box.call(this,T)}},inherit:g.Box,parent:g.Element,construct:{bbox:function(){return new g.BBox(this)}}}),g.BBox.prototype.constructor=g.BBox,g.Matrix=g.invent({create:function(W){var T=Q([1,0,0,1,0,0]);W=W===null?T:W instanceof g.Element?W.matrixify():typeof W=="string"?Q(W.split(g.regex.delimiter).map(parseFloat)):arguments.length==6?Q([].slice.call(arguments)):Array.isArray(W)?Q(W):W&&d(W)==="object"?W:T;for(var ee=re.length-1;ee>=0;--ee)this[re[ee]]=W[re[ee]]!=null?W[re[ee]]:T[re[ee]]},extend:{extract:function(){var W=z(this,0,1);z(this,1,0);var T=180/Math.PI*Math.atan2(W.y,W.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(T*Math.PI/180)+this.f*Math.sin(T*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(T*Math.PI/180)+this.e*Math.sin(-T*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:T,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new g.Matrix(this)}},clone:function(){return new g.Matrix(this)},morph:function(W){return this.destination=new g.Matrix(W),this},multiply:function(W){return new g.Matrix(this.native().multiply(function(T){return T instanceof g.Matrix||(T=new g.Matrix(T)),T}(W).native()))},inverse:function(){return new g.Matrix(this.native().inverse())},translate:function(W,T){return new g.Matrix(this.native().translate(W||0,T||0))},native:function(){for(var W=g.parser.native.createSVGMatrix(),T=re.length-1;T>=0;T--)W[re[T]]=this[re[T]];return W},toString:function(){return"matrix("+oe(this.a)+","+oe(this.b)+","+oe(this.c)+","+oe(this.d)+","+oe(this.e)+","+oe(this.f)+")"}},parent:g.Element,construct:{ctm:function(){return new g.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof g.Nested){var W=this.rect(1,1),T=W.node.getScreenCTM();return W.remove(),new g.Matrix(T)}return new g.Matrix(this.node.getScreenCTM())}}}),g.Point=g.invent({create:function(W,T){var ee;ee=Array.isArray(W)?{x:W[0],y:W[1]}:d(W)==="object"?{x:W.x,y:W.y}:W!=null?{x:W,y:T??W}:{x:0,y:0},this.x=ee.x,this.y=ee.y},extend:{clone:function(){return new g.Point(this)},morph:function(W,T){return this.destination=new g.Point(W,T),this}}}),g.extend(g.Element,{point:function(W,T){return new g.Point(W,T).transform(this.screenCTM().inverse())}}),g.extend(g.Element,{attr:function(W,T,ee){if(W==null){for(W={},ee=(T=this.node.attributes).length-1;ee>=0;ee--)W[T[ee].nodeName]=g.regex.isNumber.test(T[ee].nodeValue)?parseFloat(T[ee].nodeValue):T[ee].nodeValue;return W}if(d(W)==="object")for(var ce in W)this.attr(ce,W[ce]);else if(T===null)this.node.removeAttribute(W);else{if(T==null)return(T=this.node.getAttribute(W))==null?g.defaults.attrs[W]:g.regex.isNumber.test(T)?parseFloat(T):T;W=="stroke-width"?this.attr("stroke",parseFloat(T)>0?this._stroke:null):W=="stroke"&&(this._stroke=T),W!="fill"&&W!="stroke"||(g.regex.isImage.test(T)&&(T=this.doc().defs().image(T,0,0)),T instanceof g.Image&&(T=this.doc().defs().pattern(0,0,function(){this.add(T)}))),typeof T=="number"?T=new g.Number(T):g.Color.isColor(T)?T=new g.Color(T):Array.isArray(T)&&(T=new g.Array(T)),W=="leading"?this.leading&&this.leading(T):typeof ee=="string"?this.node.setAttributeNS(ee,W,T.toString()):this.node.setAttribute(W,T.toString()),!this.rebuild||W!="font-size"&&W!="x"||this.rebuild(W,T)}return this}}),g.extend(g.Element,{transform:function(W,T){var ee;return d(W)!=="object"?(ee=new g.Matrix(this).extract(),typeof W=="string"?ee[W]:ee):(ee=new g.Matrix(this),T=!!T||!!W.relative,W.a!=null&&(ee=T?ee.multiply(new g.Matrix(W)):new g.Matrix(W)),this.attr("transform",ee))}}),g.extend(g.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(g.regex.transforms).slice(0,-1).map(function(W){var T=W.trim().split("(");return[T[0],T[1].split(g.regex.delimiter).map(function(ee){return parseFloat(ee)})]}).reduce(function(W,T){return T[0]=="matrix"?W.multiply(Q(T[1])):W[T[0]].apply(W,T[1])},new g.Matrix)},toParent:function(W){if(this==W)return this;var T=this.screenCTM(),ee=W.screenCTM().inverse();return this.addTo(W).untransform().transform(ee.multiply(T)),this},toDoc:function(){return this.toParent(this.doc())}}),g.Transformation=g.invent({create:function(W,T){if(arguments.length>1&&typeof T!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(W))for(var ee=0,ce=this.arguments.length;ee<ce;++ee)this[this.arguments[ee]]=W[ee];else if(W&&d(W)==="object")for(ee=0,ce=this.arguments.length;ee<ce;++ee)this[this.arguments[ee]]=W[this.arguments[ee]];this.inversed=!1,T===!0&&(this.inversed=!0)}}),g.Translate=g.invent({parent:g.Matrix,inherit:g.Transformation,create:function(W,T){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),g.extend(g.Element,{style:function(W,T){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(d(W)==="object")for(var ee in W)this.style(ee,W[ee]);else{if(!g.regex.isCss.test(W))return this.node.style[V(W)];for(W=W.split(/\s*;\s*/).filter(function(ce){return!!ce}).map(function(ce){return ce.split(/\s*:\s*/)});T=W.pop();)this.style(T[0],T[1])}else this.node.style[V(W)]=T===null||g.regex.isBlank.test(T)?"":T;return this}}),g.Parent=g.invent({create:function(W){this.constructor.call(this,W)},inherit:g.Element,extend:{children:function(){return g.utils.map(g.utils.filterSVGElements(this.node.childNodes),function(W){return g.adopt(W)})},add:function(W,T){return T==null?this.node.appendChild(W.node):W.node!=this.node.childNodes[T]&&this.node.insertBefore(W.node,this.node.childNodes[T]),this},put:function(W,T){return this.add(W,T),W},has:function(W){return this.index(W)>=0},index:function(W){return[].slice.call(this.node.childNodes).indexOf(W.node)},get:function(W){return g.adopt(this.node.childNodes[W])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(W,T){for(var ee=this.children(),ce=0,ge=ee.length;ce<ge;ce++)ee[ce]instanceof g.Element&&W.apply(ee[ce],[ce,ee]),T&&ee[ce]instanceof g.Container&&ee[ce].each(W,T);return this},removeElement:function(W){return this.node.removeChild(W.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),g.extend(g.Parent,{ungroup:function(W,T){return T===0||this instanceof g.Defs||this.node==g.parser.draw||(W=W||(this instanceof g.Doc?this:this.parent(g.Parent)),T=T||1/0,this.each(function(){return this instanceof g.Defs?this:this instanceof g.Parent?this.ungroup(W,T-1):this.toParent(W)}),this.node.firstChild||this.remove()),this},flatten:function(W,T){return this.ungroup(W,T)}}),g.Container=g.invent({create:function(W){this.constructor.call(this,W)},inherit:g.Parent}),g.ViewBox=g.invent({parent:g.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(W){g.Element.prototype[W]=function(T){return g.on(this.node,W,T),this}}),g.listeners=[],g.handlerMap=[],g.listenerId=0,g.on=function(W,T,ee,ce,ge){var me=ee.bind(ce||W.instance||W),Ae=(g.handlerMap.indexOf(W)+1||g.handlerMap.push(W))-1,ye=T.split(".")[0],Ne=T.split(".")[1]||"*";g.listeners[Ae]=g.listeners[Ae]||{},g.listeners[Ae][ye]=g.listeners[Ae][ye]||{},g.listeners[Ae][ye][Ne]=g.listeners[Ae][ye][Ne]||{},ee._svgjsListenerId||(ee._svgjsListenerId=++g.listenerId),g.listeners[Ae][ye][Ne][ee._svgjsListenerId]=me,W.addEventListener(ye,me,ge||{passive:!1})},g.off=function(W,T,ee){var ce=g.handlerMap.indexOf(W),ge=T&&T.split(".")[0],me=T&&T.split(".")[1],Ae="";if(ce!=-1)if(ee){if(typeof ee=="function"&&(ee=ee._svgjsListenerId),!ee)return;g.listeners[ce][ge]&&g.listeners[ce][ge][me||"*"]&&(W.removeEventListener(ge,g.listeners[ce][ge][me||"*"][ee],!1),delete g.listeners[ce][ge][me||"*"][ee])}else if(me&&ge){if(g.listeners[ce][ge]&&g.listeners[ce][ge][me]){for(var ye in g.listeners[ce][ge][me])g.off(W,[ge,me].join("."),ye);delete g.listeners[ce][ge][me]}}else if(me)for(var Ne in g.listeners[ce])for(var Ae in g.listeners[ce][Ne])me===Ae&&g.off(W,[Ne,me].join("."));else if(ge){if(g.listeners[ce][ge]){for(var Ae in g.listeners[ce][ge])g.off(W,[ge,Ae].join("."));delete g.listeners[ce][ge]}}else{for(var Ne in g.listeners[ce])g.off(W,Ne);delete g.listeners[ce],delete g.handlerMap[ce]}},g.extend(g.Element,{on:function(W,T,ee,ce){return g.on(this.node,W,T,ee,ce),this},off:function(W,T){return g.off(this.node,W,T),this},fire:function(W,T){return W instanceof le.Event?this.node.dispatchEvent(W):this.node.dispatchEvent(W=new g.CustomEvent(W,{detail:T,cancelable:!0})),this._event=W,this},event:function(){return this._event}}),g.Defs=g.invent({create:"defs",inherit:g.Container}),g.G=g.invent({create:"g",inherit:g.Container,extend:{x:function(W){return W==null?this.transform("x"):this.transform({x:W-this.x()},!0)}},construct:{group:function(){return this.put(new g.G)}}}),g.Doc=g.invent({create:function(W){W&&((W=typeof W=="string"?c.getElementById(W):W).nodeName=="svg"?this.constructor.call(this,W):(this.constructor.call(this,g.create("svg")),W.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:g.Container,extend:{namespace:function(){return this.attr({xmlns:g.ns,version:"1.1"}).attr("xmlns:xlink",g.xlink,g.xmlns).attr("xmlns:svgjs",g.svgjs,g.xmlns)},defs:function(){var W;return this._defs||((W=this.node.getElementsByTagName("defs")[0])?this._defs=g.adopt(W):this._defs=new g.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,g.parser.draw&&!g.parser.draw.parentNode&&this.node.appendChild(g.parser.draw),this},clone:function(W){this.writeDataToDom();var T=this.node,ee=$(T.cloneNode(!0));return W?(W.node||W).appendChild(ee.node):T.parentNode.insertBefore(ee.node,T.nextSibling),ee}}}),g.extend(g.Element,{}),g.Gradient=g.invent({create:function(W){this.constructor.call(this,g.create(W+"Gradient")),this.type=W},inherit:g.Container,extend:{at:function(W,T,ee){return this.put(new g.Stop).update(W,T,ee)},update:function(W){return this.clear(),typeof W=="function"&&W.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(W,T,ee){return W=="transform"&&(W="gradientTransform"),g.Container.prototype.attr.call(this,W,T,ee)}},construct:{gradient:function(W,T){return this.defs().gradient(W,T)}}}),g.extend(g.Gradient,g.FX,{from:function(W,T){return(this._target||this).type=="radial"?this.attr({fx:new g.Number(W),fy:new g.Number(T)}):this.attr({x1:new g.Number(W),y1:new g.Number(T)})},to:function(W,T){return(this._target||this).type=="radial"?this.attr({cx:new g.Number(W),cy:new g.Number(T)}):this.attr({x2:new g.Number(W),y2:new g.Number(T)})}}),g.extend(g.Defs,{gradient:function(W,T){return this.put(new g.Gradient(W)).update(T)}}),g.Stop=g.invent({create:"stop",inherit:g.Element,extend:{update:function(W){return(typeof W=="number"||W instanceof g.Number)&&(W={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),W.opacity!=null&&this.attr("stop-opacity",W.opacity),W.color!=null&&this.attr("stop-color",W.color),W.offset!=null&&this.attr("offset",new g.Number(W.offset)),this}}}),g.Pattern=g.invent({create:"pattern",inherit:g.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(W){return this.clear(),typeof W=="function"&&W.call(this,this),this},toString:function(){return this.fill()},attr:function(W,T,ee){return W=="transform"&&(W="patternTransform"),g.Container.prototype.attr.call(this,W,T,ee)}},construct:{pattern:function(W,T,ee){return this.defs().pattern(W,T,ee)}}}),g.extend(g.Defs,{pattern:function(W,T,ee){return this.put(new g.Pattern).update(ee).attr({x:0,y:0,width:W,height:T,patternUnits:"userSpaceOnUse"})}}),g.Shape=g.invent({create:function(W){this.constructor.call(this,W)},inherit:g.Element}),g.Symbol=g.invent({create:"symbol",inherit:g.Container,construct:{symbol:function(){return this.put(new g.Symbol)}}}),g.Use=g.invent({create:"use",inherit:g.Shape,extend:{element:function(W,T){return this.attr("href",(T||"")+"#"+W,g.xlink)}},construct:{use:function(W,T){return this.put(new g.Use).element(W,T)}}}),g.Rect=g.invent({create:"rect",inherit:g.Shape,construct:{rect:function(W,T){return this.put(new g.Rect).size(W,T)}}}),g.Circle=g.invent({create:"circle",inherit:g.Shape,construct:{circle:function(W){return this.put(new g.Circle).rx(new g.Number(W).divide(2)).move(0,0)}}}),g.extend(g.Circle,g.FX,{rx:function(W){return this.attr("r",W)},ry:function(W){return this.rx(W)}}),g.Ellipse=g.invent({create:"ellipse",inherit:g.Shape,construct:{ellipse:function(W,T){return this.put(new g.Ellipse).size(W,T).move(0,0)}}}),g.extend(g.Ellipse,g.Rect,g.FX,{rx:function(W){return this.attr("rx",W)},ry:function(W){return this.attr("ry",W)}}),g.extend(g.Circle,g.Ellipse,{x:function(W){return W==null?this.cx()-this.rx():this.cx(W+this.rx())},y:function(W){return W==null?this.cy()-this.ry():this.cy(W+this.ry())},cx:function(W){return W==null?this.attr("cx"):this.attr("cx",W)},cy:function(W){return W==null?this.attr("cy"):this.attr("cy",W)},width:function(W){return W==null?2*this.rx():this.rx(new g.Number(W).divide(2))},height:function(W){return W==null?2*this.ry():this.ry(new g.Number(W).divide(2))},size:function(W,T){var ee=H(this,W,T);return this.rx(new g.Number(ee.width).divide(2)).ry(new g.Number(ee.height).divide(2))}}),g.Line=g.invent({create:"line",inherit:g.Shape,extend:{array:function(){return new g.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(W,T,ee,ce){return W==null?this.array():(W=T!==void 0?{x1:W,y1:T,x2:ee,y2:ce}:new g.PointArray(W).toLine(),this.attr(W))},move:function(W,T){return this.attr(this.array().move(W,T).toLine())},size:function(W,T){var ee=H(this,W,T);return this.attr(this.array().size(ee.width,ee.height).toLine())}},construct:{line:function(W,T,ee,ce){return g.Line.prototype.plot.apply(this.put(new g.Line),W!=null?[W,T,ee,ce]:[0,0,0,0])}}}),g.Polyline=g.invent({create:"polyline",inherit:g.Shape,construct:{polyline:function(W){return this.put(new g.Polyline).plot(W||new g.PointArray)}}}),g.Polygon=g.invent({create:"polygon",inherit:g.Shape,construct:{polygon:function(W){return this.put(new g.Polygon).plot(W||new g.PointArray)}}}),g.extend(g.Polyline,g.Polygon,{array:function(){return this._array||(this._array=new g.PointArray(this.attr("points")))},plot:function(W){return W==null?this.array():this.clear().attr("points",typeof W=="string"?W:this._array=new g.PointArray(W))},clear:function(){return delete this._array,this},move:function(W,T){return this.attr("points",this.array().move(W,T))},size:function(W,T){var ee=H(this,W,T);return this.attr("points",this.array().size(ee.width,ee.height))}}),g.extend(g.Line,g.Polyline,g.Polygon,{morphArray:g.PointArray,x:function(W){return W==null?this.bbox().x:this.move(W,this.bbox().y)},y:function(W){return W==null?this.bbox().y:this.move(this.bbox().x,W)},width:function(W){var T=this.bbox();return W==null?T.width:this.size(W,T.height)},height:function(W){var T=this.bbox();return W==null?T.height:this.size(T.width,W)}}),g.Path=g.invent({create:"path",inherit:g.Shape,extend:{morphArray:g.PathArray,array:function(){return this._array||(this._array=new g.PathArray(this.attr("d")))},plot:function(W){return W==null?this.array():this.clear().attr("d",typeof W=="string"?W:this._array=new g.PathArray(W))},clear:function(){return delete this._array,this}},construct:{path:function(W){return this.put(new g.Path).plot(W||new g.PathArray)}}}),g.Image=g.invent({create:"image",inherit:g.Shape,extend:{load:function(W){if(!W)return this;var T=this,ee=new le.Image;return g.on(ee,"load",function(){g.off(ee);var ce=T.parent(g.Pattern);ce!==null&&(T.width()==0&&T.height()==0&&T.size(ee.width,ee.height),ce&&ce.width()==0&&ce.height()==0&&ce.size(T.width(),T.height()),typeof T._loaded=="function"&&T._loaded.call(T,{width:ee.width,height:ee.height,ratio:ee.width/ee.height,url:W}))}),g.on(ee,"error",function(ce){g.off(ee),typeof T._error=="function"&&T._error.call(T,ce)}),this.attr("href",ee.src=this.src=W,g.xlink)},loaded:function(W){return this._loaded=W,this},error:function(W){return this._error=W,this}},construct:{image:function(W,T,ee){return this.put(new g.Image).load(W).size(T||0,ee||T||0)}}}),g.Text=g.invent({create:function(){this.constructor.call(this,g.create("text")),this.dom.leading=new g.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",g.defaults.attrs["font-family"])},inherit:g.Shape,extend:{x:function(W){return W==null?this.attr("x"):this.attr("x",W)},text:function(W){if(W===void 0){W="";for(var T=this.node.childNodes,ee=0,ce=T.length;ee<ce;++ee)ee!=0&&T[ee].nodeType!=3&&g.adopt(T[ee]).dom.newLined==1&&(W+=`
`),W+=T[ee].textContent;return W}if(this.clear().build(!0),typeof W=="function")W.call(this,this);else{ee=0;for(var ge=(W=W.split(`
`)).length;ee<ge;ee++)this.tspan(W[ee]).newLine()}return this.build(!1).rebuild()},size:function(W){return this.attr("font-size",W).rebuild()},leading:function(W){return W==null?this.dom.leading:(this.dom.leading=new g.Number(W),this.rebuild())},lines:function(){var W=(this.textPath&&this.textPath()||this).node,T=g.utils.map(g.utils.filterSVGElements(W.childNodes),function(ee){return g.adopt(ee)});return new g.Set(T)},rebuild:function(W){if(typeof W=="boolean"&&(this._rebuild=W),this._rebuild){var T=this,ee=0,ce=this.dom.leading*new g.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(T.textPath()||this.attr("x",T.attr("x")),this.text()==`
`?ee+=ce:(this.attr("dy",ce+ee),ee=0))}),this.fire("rebuild")}return this},build:function(W){return this._build=!!W,this},setData:function(W){return this.dom=W,this.dom.leading=new g.Number(W.leading||1.3),this}},construct:{text:function(W){return this.put(new g.Text).text(W)},plain:function(W){return this.put(new g.Text).plain(W)}}}),g.Tspan=g.invent({create:"tspan",inherit:g.Shape,extend:{text:function(W){return W==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof W=="function"?W.call(this,this):this.plain(W),this)},dx:function(W){return this.attr("dx",W)},dy:function(W){return this.attr("dy",W)},newLine:function(){var W=this.parent(g.Text);return this.dom.newLined=!0,this.dy(W.dom.leading*W.attr("font-size")).attr("x",W.x())}}}),g.extend(g.Text,g.Tspan,{plain:function(W){return this._build===!1&&this.clear(),this.node.appendChild(c.createTextNode(W)),this},tspan:function(W){var T=(this.textPath&&this.textPath()||this).node,ee=new g.Tspan;return this._build===!1&&this.clear(),T.appendChild(ee.node),ee.text(W)},clear:function(){for(var W=(this.textPath&&this.textPath()||this).node;W.hasChildNodes();)W.removeChild(W.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),g.TextPath=g.invent({create:"textPath",inherit:g.Parent,parent:g.Text,construct:{morphArray:g.PathArray,array:function(){var W=this.track();return W?W.array():null},plot:function(W){var T=this.track(),ee=null;return T&&(ee=T.plot(W)),W==null?ee:this},track:function(){var W=this.textPath();if(W)return W.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return g.adopt(this.node.firstChild)}}}),g.Nested=g.invent({create:function(){this.constructor.call(this,g.create("svg")),this.style("overflow","visible")},inherit:g.Container,construct:{nested:function(){return this.put(new g.Nested)}}});var x={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(W,T){return T=="color"?W:W+"-"+T}};function B(W,T,ee,ce){return ee+ce.replace(g.regex.dots," .")}function V(W){return W.toLowerCase().replace(/-(.)/g,function(T,ee){return ee.toUpperCase()})}function E(W){return W.charAt(0).toUpperCase()+W.slice(1)}function Y(W){var T=W.toString(16);return T.length==1?"0"+T:T}function H(W,T,ee){if(T==null||ee==null){var ce=W.bbox();T==null?T=ce.width/ce.height*ee:ee==null&&(ee=ce.height/ce.width*T)}return{width:T,height:ee}}function z(W,T,ee){return{x:T*W.a+ee*W.c+0,y:T*W.b+ee*W.d+0}}function Q(W){return{a:W[0],b:W[1],c:W[2],d:W[3],e:W[4],f:W[5]}}function $(W){for(var T=W.childNodes.length-1;T>=0;T--)W.childNodes[T]instanceof le.SVGElement&&$(W.childNodes[T]);return g.adopt(W).id(g.eid(W.nodeName))}function oe(W){return Math.abs(W)>1e-37?W:0}["fill","stroke"].forEach(function(W){var T={};T[W]=function(ee){if(ee===void 0)return this;if(typeof ee=="string"||g.Color.isRgb(ee)||ee&&typeof ee.fill=="function")this.attr(W,ee);else for(var ce=x[W].length-1;ce>=0;ce--)ee[x[W][ce]]!=null&&this.attr(x.prefix(W,x[W][ce]),ee[x[W][ce]]);return this},g.extend(g.Element,g.FX,T)}),g.extend(g.Element,g.FX,{translate:function(W,T){return this.transform({x:W,y:T})},matrix:function(W){return this.attr("transform",new g.Matrix(arguments.length==6?[].slice.call(arguments):W))},opacity:function(W){return this.attr("opacity",W)},dx:function(W){return this.x(new g.Number(W).plus(this instanceof g.FX?0:this.x()),!0)},dy:function(W){return this.y(new g.Number(W).plus(this instanceof g.FX?0:this.y()),!0)}}),g.extend(g.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(W){return this.node.getPointAtLength(W)}}),g.Set=g.invent({create:function(W){Array.isArray(W)?this.members=W:this.clear()},extend:{add:function(){for(var W=[].slice.call(arguments),T=0,ee=W.length;T<ee;T++)this.members.push(W[T]);return this},remove:function(W){var T=this.index(W);return T>-1&&this.members.splice(T,1),this},each:function(W){for(var T=0,ee=this.members.length;T<ee;T++)W.apply(this.members[T],[T,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(W){return this.index(W)>=0},index:function(W){return this.members.indexOf(W)},get:function(W){return this.members[W]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(W){return new g.Set(W)}}}),g.FX.Set=g.invent({create:function(W){this.set=W}}),g.Set.inherit=function(){var W=[];for(var T in g.Shape.prototype)typeof g.Shape.prototype[T]=="function"&&typeof g.Set.prototype[T]!="function"&&W.push(T);for(var T in W.forEach(function(ce){g.Set.prototype[ce]=function(){for(var ge=0,me=this.members.length;ge<me;ge++)this.members[ge]&&typeof this.members[ge][ce]=="function"&&this.members[ge][ce].apply(this.members[ge],arguments);return ce=="animate"?this.fx||(this.fx=new g.FX.Set(this)):this}}),W=[],g.FX.prototype)typeof g.FX.prototype[T]=="function"&&typeof g.FX.Set.prototype[T]!="function"&&W.push(T);W.forEach(function(ee){g.FX.Set.prototype[ee]=function(){for(var ce=0,ge=this.set.members.length;ce<ge;ce++)this.set.members[ce].fx[ee].apply(this.set.members[ce].fx,arguments);return this}})},g.extend(g.Element,{}),g.extend(g.Element,{remember:function(W,T){if(d(arguments[0])==="object")for(var ee in W)this.remember(ee,W[ee]);else{if(arguments.length==1)return this.memory()[W];this.memory()[W]=T}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var W=arguments.length-1;W>=0;W--)delete this.memory()[arguments[W]];return this},memory:function(){return this._memory||(this._memory={})}}),g.get=function(W){var T=c.getElementById(function(ee){var ce=(ee||"").toString().match(g.regex.reference);if(ce)return ce[1]}(W)||W);return g.adopt(T)},g.select=function(W,T){return new g.Set(g.utils.map((T||c).querySelectorAll(W),function(ee){return g.adopt(ee)}))},g.extend(g.Parent,{select:function(W){return g.select(W,this.node)}});var re="abcdef".split("");if(typeof le.CustomEvent!="function"){var se=function(W,T){T=T||{bubbles:!1,cancelable:!1,detail:void 0};var ee=c.createEvent("CustomEvent");return ee.initCustomEvent(W,T.bubbles,T.cancelable,T.detail),ee};se.prototype=le.Event.prototype,g.CustomEvent=se}else g.CustomEvent=le.CustomEvent;return g},d(n)==="object"?t.exports=Ji.document?Lr(Ji,Ji.document):function(le){return Lr(le,le.document)}:Ji.SVG=Lr(Ji,Ji.document),(function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(y,x){return this.add(y,x),!y.attr("in")&&this.autoSetIn&&y.attr("in",this.source),y.attr("result")||y.attr("result",y),y},blend:function(y,x,B){return this.put(new SVG.BlendEffect(y,x,B))},colorMatrix:function(y,x){return this.put(new SVG.ColorMatrixEffect(y,x))},convolveMatrix:function(y){return this.put(new SVG.ConvolveMatrixEffect(y))},componentTransfer:function(y){return this.put(new SVG.ComponentTransferEffect(y))},composite:function(y,x,B){return this.put(new SVG.CompositeEffect(y,x,B))},flood:function(y,x){return this.put(new SVG.FloodEffect(y,x))},offset:function(y,x){return this.put(new SVG.OffsetEffect(y,x))},image:function(y){return this.put(new SVG.ImageEffect(y))},merge:function(){var y=[void 0];for(var x in arguments)y.push(arguments[x]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,y)))},gaussianBlur:function(y,x){return this.put(new SVG.GaussianBlurEffect(y,x))},morphology:function(y,x){return this.put(new SVG.MorphologyEffect(y,x))},diffuseLighting:function(y,x,B){return this.put(new SVG.DiffuseLightingEffect(y,x,B))},displacementMap:function(y,x,B,V,E){return this.put(new SVG.DisplacementMapEffect(y,x,B,V,E))},specularLighting:function(y,x,B,V){return this.put(new SVG.SpecularLightingEffect(y,x,B,V))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(y,x,B,V,E){return this.put(new SVG.TurbulenceEffect(y,x,B,V,E))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(y){var x=this.put(new SVG.Filter);return typeof y=="function"&&y.call(x,x),x}}),SVG.extend(SVG.Container,{filter:function(y){return this.defs().filter(y)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(y){return this.filterer=y instanceof SVG.Element?y:this.doc().filter(y),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(y){return this.filterer&&y===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(y){return y==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",y)},result:function(y){return y==null?this.attr("result"):this.attr("result",y)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(y){return y==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",y)},result:function(y){return y==null?this.attr("result"):this.attr("result",y)},toString:function(){return this.result()}}});var le={blend:function(y,x){return this.parent()&&this.parent().blend(this,y,x)},colorMatrix:function(y,x){return this.parent()&&this.parent().colorMatrix(y,x).in(this)},convolveMatrix:function(y){return this.parent()&&this.parent().convolveMatrix(y).in(this)},componentTransfer:function(y){return this.parent()&&this.parent().componentTransfer(y).in(this)},composite:function(y,x){return this.parent()&&this.parent().composite(this,y,x)},flood:function(y,x){return this.parent()&&this.parent().flood(y,x)},offset:function(y,x){return this.parent()&&this.parent().offset(y,x).in(this)},image:function(y){return this.parent()&&this.parent().image(y)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(y,x){return this.parent()&&this.parent().gaussianBlur(y,x).in(this)},morphology:function(y,x){return this.parent()&&this.parent().morphology(y,x).in(this)},diffuseLighting:function(y,x,B){return this.parent()&&this.parent().diffuseLighting(y,x,B).in(this)},displacementMap:function(y,x,B,V){return this.parent()&&this.parent().displacementMap(this,y,x,B,V)},specularLighting:function(y,x,B,V){return this.parent()&&this.parent().specularLighting(y,x,B,V).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(y,x,B,V,E){return this.parent()&&this.parent().turbulence(y,x,B,V,E).in(this)}};SVG.extend(SVG.Effect,le),SVG.extend(SVG.ParentEffect,le),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(y){this.attr("in",y)}}});var c={blend:function(y,x,B){this.attr({in:y,in2:x,mode:B||"normal"})},colorMatrix:function(y,x){y=="matrix"&&(x=I(x)),this.attr({type:y,values:x===void 0?null:x})},convolveMatrix:function(y){y=I(y),this.attr({order:Math.sqrt(y.split(" ").length),kernelMatrix:y})},composite:function(y,x,B){this.attr({in:y,in2:x,operator:B})},flood:function(y,x){this.attr("flood-color",y),x!=null&&this.attr("flood-opacity",x)},offset:function(y,x){this.attr({dx:y,dy:x})},image:function(y){this.attr("href",y,SVG.xlink)},displacementMap:function(y,x,B,V,E){this.attr({in:y,in2:x,scale:B,xChannelSelector:V,yChannelSelector:E})},gaussianBlur:function(y,x){y!=null||x!=null?this.attr("stdDeviation",function(B){if(!Array.isArray(B))return B;for(var V=0,E=B.length,Y=[];V<E;V++)Y.push(B[V]);return Y.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(y,x){this.attr({operator:y,radius:x})},tile:function(){},turbulence:function(y,x,B,V,E){this.attr({numOctaves:x,seed:B,stitchTiles:V,baseFrequency:y,type:E})}},g={merge:function(){var y;if(arguments[0]instanceof SVG.Set){var x=this;arguments[0].each(function(V){this instanceof SVG.MergeNode?x.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&x.put(new SVG.MergeNode(this))})}else{y=Array.isArray(arguments[0])?arguments[0]:arguments;for(var B=0;B<y.length;B++)y[B]instanceof SVG.MergeNode?this.put(y[B]):this.put(new SVG.MergeNode(y[B]))}},componentTransfer:function(y){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach((function(B){this[B]=new SVG["Func"+B.toUpperCase()]("identity"),this.rgb.add(this[B]),this.node.appendChild(this[B].node)}).bind(this)),y)for(var x in y.rgb&&(["r","g","b"].forEach((function(B){this[B].attr(y.rgb)}).bind(this)),delete y.rgb),y)this[x].attr(y[x])},diffuseLighting:function(y,x,B){this.attr({surfaceScale:y,diffuseConstant:x,kernelUnitLength:B})},specularLighting:function(y,x,B,V){this.attr({surfaceScale:y,diffuseConstant:x,specularExponent:B,kernelUnitLength:V})}},h={distantLight:function(y,x){this.attr({azimuth:y,elevation:x})},pointLight:function(y,x,B){this.attr({x:y,y:x,z:B})},spotLight:function(y,x,B,V,E,Y){this.attr({x:y,y:x,z:B,pointsAtX:V,pointsAtY:E,pointsAtZ:Y})},mergeNode:function(y){this.attr("in",y)}};function I(y){return Array.isArray(y)&&(y=new SVG.Array(y)),y.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function b(){var y=function(){};for(var x in typeof arguments[arguments.length-1]=="function"&&(y=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var B in arguments[x])y(arguments[x][B],B,arguments[x])}["r","g","b","a"].forEach(function(y){h["Func"+y.toUpperCase()]=function(x){switch(this.attr("type",x),x){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),b(c,function(y,x){var B=x.charAt(0).toUpperCase()+x.slice(1);SVG[B+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+B)),y.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),b(g,function(y,x){var B=x.charAt(0).toUpperCase()+x.slice(1);SVG[B+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+B)),y.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),b(h,function(y,x){var B=x.charAt(0).toUpperCase()+x.slice(1);SVG[B]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+B)),y.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(y){return y instanceof SVG.MergeNode?this.add(y,0):this.add(new SVG.MergeNode(y),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(y){return y==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",y)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}).call(void 0),function(){function le(b,y,x,B,V,E,Y){for(var H=b.slice(y,x||Y),z=B.slice(V,E||Y),Q=0,$={pos:[0,0],start:[0,0]},oe={pos:[0,0],start:[0,0]};H[Q]=c.call($,H[Q]),z[Q]=c.call(oe,z[Q]),H[Q][0]!=z[Q][0]||H[Q][0]=="M"||H[Q][0]=="A"&&(H[Q][4]!=z[Q][4]||H[Q][5]!=z[Q][5])?(Array.prototype.splice.apply(H,[Q,1].concat(h.call($,H[Q]))),Array.prototype.splice.apply(z,[Q,1].concat(h.call(oe,z[Q])))):(H[Q]=g.call($,H[Q]),z[Q]=g.call(oe,z[Q])),!(++Q==H.length&&Q==z.length);)Q==H.length&&H.push(["C",$.pos[0],$.pos[1],$.pos[0],$.pos[1],$.pos[0],$.pos[1]]),Q==z.length&&z.push(["C",oe.pos[0],oe.pos[1],oe.pos[0],oe.pos[1],oe.pos[0],oe.pos[1]]);return{start:H,dest:z}}function c(b){switch(b[0]){case"z":case"Z":b[0]="L",b[1]=this.start[0],b[2]=this.start[1];break;case"H":b[0]="L",b[2]=this.pos[1];break;case"V":b[0]="L",b[2]=b[1],b[1]=this.pos[0];break;case"T":b[0]="Q",b[3]=b[1],b[4]=b[2],b[1]=this.reflection[1],b[2]=this.reflection[0];break;case"S":b[0]="C",b[6]=b[4],b[5]=b[3],b[4]=b[2],b[3]=b[1],b[2]=this.reflection[1],b[1]=this.reflection[0]}return b}function g(b){var y=b.length;return this.pos=[b[y-2],b[y-1]],"SCQT".indexOf(b[0])!=-1&&(this.reflection=[2*this.pos[0]-b[y-4],2*this.pos[1]-b[y-3]]),b}function h(b){var y=[b];switch(b[0]){case"M":return this.pos=this.start=[b[1],b[2]],y;case"L":b[5]=b[3]=b[1],b[6]=b[4]=b[2],b[1]=this.pos[0],b[2]=this.pos[1];break;case"Q":b[6]=b[4],b[5]=b[3],b[4]=1*b[4]/3+2*b[2]/3,b[3]=1*b[3]/3+2*b[1]/3,b[2]=1*this.pos[1]/3+2*b[2]/3,b[1]=1*this.pos[0]/3+2*b[1]/3;break;case"A":y=function(x,B){var V,E,Y,H,z,Q,$,oe,re,se,W,T,ee,ce,ge,me,Ae,ye,Ne,Te,Ve,Le,st,pt,kt,Bt,Et=Math.abs(B[1]),Xt=Math.abs(B[2]),Pt=B[3]%360,Mn=B[4],ni=B[5],vn=B[6],lo=B[7],An=new SVG.Point(x),mn=new SVG.Point(vn,lo),gn=[];if(Et===0||Xt===0||An.x===mn.x&&An.y===mn.y)return[["C",An.x,An.y,mn.x,mn.y,mn.x,mn.y]];for(V=new SVG.Point((An.x-mn.x)/2,(An.y-mn.y)/2).transform(new SVG.Matrix().rotate(Pt)),(E=V.x*V.x/(Et*Et)+V.y*V.y/(Xt*Xt))>1&&(Et*=E=Math.sqrt(E),Xt*=E),Y=new SVG.Matrix().rotate(Pt).scale(1/Et,1/Xt).rotate(-Pt),An=An.transform(Y),mn=mn.transform(Y),H=[mn.x-An.x,mn.y-An.y],Q=H[0]*H[0]+H[1]*H[1],z=Math.sqrt(Q),H[0]/=z,H[1]/=z,$=Q<4?Math.sqrt(1-Q/4):0,Mn===ni&&($*=-1),oe=new SVG.Point((mn.x+An.x)/2+$*-H[1],(mn.y+An.y)/2+$*H[0]),re=new SVG.Point(An.x-oe.x,An.y-oe.y),se=new SVG.Point(mn.x-oe.x,mn.y-oe.y),W=Math.acos(re.x/Math.sqrt(re.x*re.x+re.y*re.y)),re.y<0&&(W*=-1),T=Math.acos(se.x/Math.sqrt(se.x*se.x+se.y*se.y)),se.y<0&&(T*=-1),ni&&W>T&&(T+=2*Math.PI),!ni&&W<T&&(T-=2*Math.PI),ce=Math.ceil(2*Math.abs(W-T)/Math.PI),me=[],Ae=W,ee=(T-W)/ce,ge=4*Math.tan(ee/4)/3,Ve=0;Ve<=ce;Ve++)Ne=Math.cos(Ae),ye=Math.sin(Ae),Te=new SVG.Point(oe.x+Ne,oe.y+ye),me[Ve]=[new SVG.Point(Te.x+ge*ye,Te.y-ge*Ne),Te,new SVG.Point(Te.x-ge*ye,Te.y+ge*Ne)],Ae+=ee;for(me[0][0]=me[0][1].clone(),me[me.length-1][2]=me[me.length-1][1].clone(),Y=new SVG.Matrix().rotate(Pt).scale(Et,Xt).rotate(-Pt),Ve=0,Le=me.length;Ve<Le;Ve++)me[Ve][0]=me[Ve][0].transform(Y),me[Ve][1]=me[Ve][1].transform(Y),me[Ve][2]=me[Ve][2].transform(Y);for(Ve=1,Le=me.length;Ve<Le;Ve++)st=(Te=me[Ve-1][2]).x,pt=Te.y,kt=(Te=me[Ve][0]).x,Bt=Te.y,vn=(Te=me[Ve][1]).x,lo=Te.y,gn.push(["C",st,pt,kt,Bt,vn,lo]);return gn}(this.pos,b),b=y[0]}return b[0]="C",this.pos=[b[5],b[6]],this.reflection=[2*b[5]-b[3],2*b[6]-b[4]],y}function I(b,y){if(y===!1)return!1;for(var x=y,B=b.length;x<B;++x)if(b[x][0]=="M")return x;return!1}SVG.extend(SVG.PathArray,{morph:function(b){for(var y=this.value,x=this.parse(b),B=0,V=0,E=!1,Y=!1;B!==!1||V!==!1;){var H;E=I(y,B!==!1&&B+1),Y=I(x,V!==!1&&V+1),B===!1&&(B=(H=new SVG.PathArray(z.start).bbox()).height==0||H.width==0?y.push(y[0])-1:y.push(["M",H.x+H.width/2,H.y+H.height/2])-1),V===!1&&(V=(H=new SVG.PathArray(z.dest).bbox()).height==0||H.width==0?x.push(x[0])-1:x.push(["M",H.x+H.width/2,H.y+H.height/2])-1);var z=le(y,B,E,x,V,Y);y=y.slice(0,B).concat(z.start,E===!1?[]:y.slice(E)),x=x.slice(0,V).concat(z.dest,Y===!1?[]:x.slice(Y)),B=E!==!1&&B+z.start.length,V=Y!==!1&&V+z.dest.length}return this.value=y,this.destination=new SVG.PathArray,this.destination.value=x,this}})}(),(function(){function le(c){c.remember("_draggable",this),this.el=c}le.prototype.init=function(c,g){var h=this;this.constraint=c,this.value=g,this.el.on("mousedown.drag",function(I){h.start(I)}),this.el.on("touchstart.drag",function(I){h.start(I)})},le.prototype.transformPoint=function(c,g){var h=(c=c||window.event).changedTouches&&c.changedTouches[0]||c;return this.p.x=h.clientX-(g||0),this.p.y=h.clientY,this.p.matrixTransform(this.m)},le.prototype.getBBox=function(){var c=this.el.bbox();return this.el instanceof SVG.Nested&&(c=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(c.x=this.el.x(),c.y=this.el.y()),c},le.prototype.start=function(c){if(c.type!="click"&&c.type!="mousedown"&&c.type!="mousemove"||(c.which||c.buttons)==1){var g=this;if(this.el.fire("beforedrag",{event:c,handler:this}),!this.el.event().defaultPrevented){c.preventDefault(),c.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var h,I=this.getBBox();if(this.el instanceof SVG.Text)switch(h=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":h/=2;break;case"start":h=0}this.startPoints={point:this.transformPoint(c,h),box:I,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(b){g.drag(b)}),SVG.on(window,"touchmove.drag",function(b){g.drag(b)}),SVG.on(window,"mouseup.drag",function(b){g.end(b)}),SVG.on(window,"touchend.drag",function(b){g.end(b)}),this.el.fire("dragstart",{event:c,p:this.startPoints.point,m:this.m,handler:this})}}},le.prototype.drag=function(c){var g=this.getBBox(),h=this.transformPoint(c),I=this.startPoints.box.x+h.x-this.startPoints.point.x,b=this.startPoints.box.y+h.y-this.startPoints.point.y,y=this.constraint,x=h.x-this.startPoints.point.x,B=h.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:c,p:h,m:this.m,handler:this}),this.el.event().defaultPrevented)return h;if(typeof y=="function"){var V=y.call(this.el,I,b,this.m);typeof V=="boolean"&&(V={x:V,y:V}),V.x===!0?this.el.x(I):V.x!==!1&&this.el.x(V.x),V.y===!0?this.el.y(b):V.y!==!1&&this.el.y(V.y)}else typeof y=="object"&&(y.minX!=null&&I<y.minX?x=(I=y.minX)-this.startPoints.box.x:y.maxX!=null&&I>y.maxX-g.width&&(x=(I=y.maxX-g.width)-this.startPoints.box.x),y.minY!=null&&b<y.minY?B=(b=y.minY)-this.startPoints.box.y:y.maxY!=null&&b>y.maxY-g.height&&(B=(b=y.maxY-g.height)-this.startPoints.box.y),y.snapToGrid!=null&&(I-=I%y.snapToGrid,b-=b%y.snapToGrid,x-=x%y.snapToGrid,B-=B%y.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x,y:B},!0):this.el.move(I,b));return h},le.prototype.end=function(c){var g=this.drag(c);this.el.fire("dragend",{event:c,p:g,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(c,g){typeof c!="function"&&typeof c!="object"||(g=c,c=!0);var h=this.remember("_draggable")||new le(this);return(c=c===void 0||c)?h.init(g||{},c):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}).call(void 0),function(){function le(c){this.el=c,c.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(g,h,I){var b=typeof g!="string"?g:h[g];return I?b/2:b},this.pointCoords=function(g,h){var I=this.pointsList[g];return{x:this.pointCoord(I[0],h,g==="t"||g==="b"),y:this.pointCoord(I[1],h,g==="r"||g==="l")}}}le.prototype.init=function(c,g){var h=this.el.bbox();this.options={};var I=this.el.selectize.defaults.points;for(var b in this.el.selectize.defaults)this.options[b]=this.el.selectize.defaults[b],g[b]!==void 0&&(this.options[b]=g[b]);var y=["points","pointsExclude"];for(var b in y){var x=this.options[y[b]];typeof x=="string"?x=x.length>0?x.split(/\s*,\s*/i):[]:typeof x=="boolean"&&y[b]==="points"&&(x=x?I:[]),this.options[y[b]]=x}this.options.points=[I,this.options.points].reduce(function(B,V){return B.filter(function(E){return V.indexOf(E)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(B,V){return B.filter(function(E){return V.indexOf(E)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(h.x,h.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(c):this.selectRect(c),this.observe(),this.cleanup()},le.prototype.selectPoints=function(c){return this.pointSelection.isSelected=c,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},le.prototype.getPointArray=function(){var c=this.el.bbox();return this.el.array().valueOf().map(function(g){return[g[0]-c.x,g[1]-c.y]})},le.prototype.drawPoints=function(){for(var c=this,g=this.getPointArray(),h=0,I=g.length;h<I;++h){var b=function(x){return function(B){(B=B||window.event).preventDefault?B.preventDefault():B.returnValue=!1,B.stopPropagation();var V=B.pageX||B.touches[0].pageX,E=B.pageY||B.touches[0].pageY;c.el.fire("point",{x:V,y:E,i:x,event:B})}}(h),y=this.drawPoint(g[h][0],g[h][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",b).on("mousedown",b);this.pointSelection.set.add(y)}},le.prototype.drawPoint=function(c,g){var h=this.options.pointType;switch(h){case"circle":return this.drawCircle(c,g);case"rect":return this.drawRect(c,g);default:if(typeof h=="function")return h.call(this,c,g);throw new Error("Unknown "+h+" point type!")}},le.prototype.drawCircle=function(c,g){return this.nested.circle(this.options.pointSize).center(c,g)},le.prototype.drawRect=function(c,g){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(c,g)},le.prototype.updatePointSelection=function(){var c=this.getPointArray();this.pointSelection.set.each(function(g){this.cx()===c[g][0]&&this.cy()===c[g][1]||this.center(c[g][0],c[g][1])})},le.prototype.updateRectSelection=function(){var c=this,g=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:g.width,height:g.height}),this.options.points.length&&this.options.points.map(function(I,b){var y=c.pointCoords(I,g);c.rectSelection.set.get(b+1).center(y.x,y.y)}),this.options.rotationPoint){var h=this.rectSelection.set.length();this.rectSelection.set.get(h-1).center(g.width/2,20)}},le.prototype.selectRect=function(c){var g=this,h=this.el.bbox();function I(x){return function(B){(B=B||window.event).preventDefault?B.preventDefault():B.returnValue=!1,B.stopPropagation();var V=B.pageX||B.touches[0].pageX,E=B.pageY||B.touches[0].pageY;g.el.fire(x,{x:V,y:E,event:B})}}if(this.rectSelection.isSelected=c,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(h.width,h.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(x,B){var V=g.pointCoords(x,h),E=g.drawPoint(V.x,V.y).attr("class",g.options.classPoints+"_"+x).on("mousedown",I(x)).on("touchstart",I(x));g.rectSelection.set.add(E)}),this.rectSelection.set.each(function(){this.addClass(g.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var b=function(x){(x=x||window.event).preventDefault?x.preventDefault():x.returnValue=!1,x.stopPropagation();var B=x.pageX||x.touches[0].pageX,V=x.pageY||x.touches[0].pageY;g.el.fire("rot",{x:B,y:V,event:x})},y=this.drawPoint(h.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",b).on("mousedown",b);this.rectSelection.set.add(y)}},le.prototype.handler=function(){var c=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(c.x,c.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},le.prototype.observe=function(){var c=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){c.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){c.handler()})},le.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(c,g){return typeof c=="object"&&(g=c,c=!0),(this.remember("_selectHandler")||new le(this)).init(c===void 0||c,g||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function le(c){c.remember("_resizeHandler",this),this.el=c,this.parameters={},this.lastUpdateCall=null,this.p=c.doc().node.createSVGPoint()}le.prototype.transformPoint=function(c,g,h){return this.p.x=c-(this.offset.x-window.pageXOffset),this.p.y=g-(this.offset.y-window.pageYOffset),this.p.matrixTransform(h||this.m)},le.prototype._extractPosition=function(c){return{x:c.clientX!=null?c.clientX:c.touches[0].clientX,y:c.clientY!=null?c.clientY:c.touches[0].clientY}},le.prototype.init=function(c){var g=this;if(this.stop(),c!=="stop"){for(var h in this.options={},this.el.resize.defaults)this.options[h]=this.el.resize.defaults[h],c[h]!==void 0&&(this.options[h]=c[h]);this.el.on("lt.resize",function(I){g.resize(I||window.event)}),this.el.on("rt.resize",function(I){g.resize(I||window.event)}),this.el.on("rb.resize",function(I){g.resize(I||window.event)}),this.el.on("lb.resize",function(I){g.resize(I||window.event)}),this.el.on("t.resize",function(I){g.resize(I||window.event)}),this.el.on("r.resize",function(I){g.resize(I||window.event)}),this.el.on("b.resize",function(I){g.resize(I||window.event)}),this.el.on("l.resize",function(I){g.resize(I||window.event)}),this.el.on("rot.resize",function(I){g.resize(I||window.event)}),this.el.on("point.resize",function(I){g.resize(I||window.event)}),this.update()}},le.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},le.prototype.resize=function(c){var g=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var h=this._extractPosition(c.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(h.x,h.y),x:c.detail.x,y:c.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),c.detail.i!==void 0){var I=this.el.array().valueOf();this.parameters.i=c.detail.i,this.parameters.pointCoords=[I[c.detail.i][0],I[c.detail.i][1]]}switch(c.type){case"lt":this.calc=function(b,y){var x=this.snapToGrid(b,y);if(this.parameters.box.width-x[0]>0&&this.parameters.box.height-x[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+x[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-x[0]);x=this.checkAspectRatio(x),this.el.move(this.parameters.box.x+x[0],this.parameters.box.y+x[1]).size(this.parameters.box.width-x[0],this.parameters.box.height-x[1])}};break;case"rt":this.calc=function(b,y){var x=this.snapToGrid(b,y,2);if(this.parameters.box.width+x[0]>0&&this.parameters.box.height-x[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-x[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+x[0]);x=this.checkAspectRatio(x,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+x[1]).size(this.parameters.box.width+x[0],this.parameters.box.height-x[1])}};break;case"rb":this.calc=function(b,y){var x=this.snapToGrid(b,y,0);if(this.parameters.box.width+x[0]>0&&this.parameters.box.height+x[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-x[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+x[0]);x=this.checkAspectRatio(x),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+x[0],this.parameters.box.height+x[1])}};break;case"lb":this.calc=function(b,y){var x=this.snapToGrid(b,y,1);if(this.parameters.box.width-x[0]>0&&this.parameters.box.height+x[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+x[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-x[0]);x=this.checkAspectRatio(x,!0),this.el.move(this.parameters.box.x+x[0],this.parameters.box.y).size(this.parameters.box.width-x[0],this.parameters.box.height+x[1])}};break;case"t":this.calc=function(b,y){var x=this.snapToGrid(b,y,2);if(this.parameters.box.height-x[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+x[1]).height(this.parameters.box.height-x[1])}};break;case"r":this.calc=function(b,y){var x=this.snapToGrid(b,y,0);if(this.parameters.box.width+x[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+x[0])}};break;case"b":this.calc=function(b,y){var x=this.snapToGrid(b,y,0);if(this.parameters.box.height+x[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+x[1])}};break;case"l":this.calc=function(b,y){var x=this.snapToGrid(b,y,1);if(this.parameters.box.width-x[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+x[0],this.parameters.box.y).width(this.parameters.box.width-x[0])}};break;case"rot":this.calc=function(b,y){var x=b+this.parameters.p.x,B=y+this.parameters.p.y,V=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),E=Math.atan2(B-this.parameters.box.y-this.parameters.box.height/2,x-this.parameters.box.x-this.parameters.box.width/2),Y=this.parameters.rotation+180*(E-V)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(Y-Y%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(b,y){var x=this.snapToGrid(b,y,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),B=this.el.array().valueOf();B[this.parameters.i][0]=this.parameters.pointCoords[0]+x[0],B[this.parameters.i][1]=this.parameters.pointCoords[1]+x[1],this.el.plot(B)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:c}),SVG.on(window,"touchmove.resize",function(b){g.update(b||window.event)}),SVG.on(window,"touchend.resize",function(){g.done()}),SVG.on(window,"mousemove.resize",function(b){g.update(b||window.event)}),SVG.on(window,"mouseup.resize",function(){g.done()})},le.prototype.update=function(c){if(c){var g=this._extractPosition(c),h=this.transformPoint(g.x,g.y),I=h.x-this.parameters.p.x,b=h.y-this.parameters.p.y;this.lastUpdateCall=[I,b],this.calc(I,b),this.el.fire("resizing",{dx:I,dy:b,event:c})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},le.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},le.prototype.snapToGrid=function(c,g,h,I){var b;return I!==void 0?b=[(h+c)%this.options.snapToGrid,(I+g)%this.options.snapToGrid]:(h=h??3,b=[(this.parameters.box.x+c+(1&h?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+g+(2&h?0:this.parameters.box.height))%this.options.snapToGrid]),c<0&&(b[0]-=this.options.snapToGrid),g<0&&(b[1]-=this.options.snapToGrid),c-=Math.abs(b[0])<this.options.snapToGrid/2?b[0]:b[0]-(c<0?-this.options.snapToGrid:this.options.snapToGrid),g-=Math.abs(b[1])<this.options.snapToGrid/2?b[1]:b[1]-(g<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(c,g,h,I)},le.prototype.constraintToBox=function(c,g,h,I){var b,y,x=this.options.constraint||{};return I!==void 0?(b=h,y=I):(b=this.parameters.box.x+(1&h?0:this.parameters.box.width),y=this.parameters.box.y+(2&h?0:this.parameters.box.height)),x.minX!==void 0&&b+c<x.minX&&(c=x.minX-b),x.maxX!==void 0&&b+c>x.maxX&&(c=x.maxX-b),x.minY!==void 0&&y+g<x.minY&&(g=x.minY-y),x.maxY!==void 0&&y+g>x.maxY&&(g=x.maxY-y),[c,g]},le.prototype.checkAspectRatio=function(c,g){if(!this.options.saveAspectRatio)return c;var h=c.slice(),I=this.parameters.box.width/this.parameters.box.height,b=this.parameters.box.width+c[0],y=this.parameters.box.height-c[1],x=b/y;return x<I?(h[1]=b/I-this.parameters.box.height,g&&(h[1]=-h[1])):x>I&&(h[0]=this.parameters.box.width-y*I,g&&(h[0]=-h[0])),h},SVG.extend(SVG.Element,{resize:function(c){return(this.remember("_resizeHandler")||new le(this)).init(c||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var As=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new j(this.ctx),this.ctx.axes=new at(this.ctx),this.ctx.core=new ti(this.ctx.el,this.ctx),this.ctx.config=new _e({}),this.ctx.data=new je(this.ctx),this.ctx.grid=new ft(this.ctx),this.ctx.graphics=new ne(this.ctx),this.ctx.coreUtils=new ue(this.ctx),this.ctx.crosshairs=new Wt(this.ctx),this.ctx.events=new Vt(this.ctx),this.ctx.exports=new et(this.ctx),this.ctx.localization=new Hn(this.ctx),this.ctx.options=new ke,this.ctx.responsive=new vt(this.ctx),this.ctx.series=new Oe(this.ctx),this.ctx.theme=new It(this.ctx),this.ctx.formatters=new Ce(this.ctx),this.ctx.titleSubtitle=new mt(this.ctx),this.ctx.legend=new Ke(this.ctx),this.ctx.toolbar=new tt(this.ctx),this.ctx.tooltip=new cn(this.ctx),this.ctx.dimensions=new Mt(this.ctx),this.ctx.updateHelpers=new Fn(this.ctx),this.ctx.zoomPanSelection=new nt(this.ctx),this.ctx.w.globals.tooltip=new cn(this.ctx)}}]),le}(),ys=function(){function le(c){m(this,le),this.ctx=c,this.w=c.w}return v(le,[{key:"clear",value:function(c){var g=c.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:g})}},{key:"killSVG",value:function(c){c.each(function(g,h){this.removeClass("*"),this.off(),this.stop()},!0),c.ungroup(),c.clear()}},{key:"clearDomElements",value:function(c){var g=this,h=c.isUpdating,I=this.w.globals.dom.Paper.node;I.parentNode&&I.parentNode.parentNode&&!h&&(I.parentNode.parentNode.style.minHeight="unset");var b=this.w.globals.dom.baseEl;b&&this.ctx.eventList.forEach(function(x){b.removeEventListener(x,g.ctx.events.documentEvent)});var y=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(y.Paper),y.Paper.remove(),y.elWrap=null,y.elGraphical=null,y.elLegendWrap=null,y.elLegendForeign=null,y.baseEl=null,y.elGridRect=null,y.elGridRectMask=null,y.elGridRectMarkerMask=null,y.elForecastMask=null,y.elNonForecastMask=null,y.elDefs=null}}]),le}(),Ao=new WeakMap,hA=function(){function le(c,g){m(this,le),this.opts=g,this.ctx=this,this.w=new Qe(g).init(),this.el=c,this.w.globals.cuid=F.randomId(),this.w.globals.chartID=this.w.config.chart.id?F.escapeString(this.w.config.chart.id):this.w.globals.cuid,new As(this).initModules(),this.create=F.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return v(le,[{key:"render",value:function(){var c=this;return new Promise(function(g,h){if(c.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),c.w.config.chart.id&&Apex._chartInstances.push({id:c.w.globals.chartID,group:c.w.config.chart.group,chart:c}),c.setLocale(c.w.config.chart.defaultLocale);var I=c.w.config.chart.events.beforeMount;typeof I=="function"&&I(c,c.w),c.events.fireEvent("beforeMount",[c,c.w]),window.addEventListener("resize",c.windowResizeHandler),function(H,z){var Q=!1;if(H.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var $=H.getBoundingClientRect();H.style.display!=="none"&&$.width!==0||(Q=!0)}var oe=new ResizeObserver(function(re){Q&&z.call(H,re),Q=!0});H.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(H.children).forEach(function(re){return oe.observe(re)}):oe.observe(H),Ao.set(z,oe)}(c.el.parentNode,c.parentResizeHandler);var b=c.el.getRootNode&&c.el.getRootNode(),y=F.is("ShadowRoot",b),x=c.el.ownerDocument,B=y?b.getElementById("apexcharts-css"):x.getElementById("apexcharts-css");if(!B){var V;(B=document.createElement("style")).id="apexcharts-css",B.textContent=`@keyframes opaque {
  0% {
      opacity: 0
  }

  to {
      opacity: 1
  }
}

@keyframes resizeanim {
  0%,to {
      opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0,0,0,.5);
  box-shadow: 0 0 1px rgba(255,255,255,.5);
  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

.legend-mouseover-inactive {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255,255,255,.96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30,30,30,.8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0,0,0,.7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-series-group-hidden {
  opacity: 0;
  height: 0;
  line-height: 0;
  padding: 0!important
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0,0,0,.7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
      opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {
  display: none;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}
.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,.resize-triggers,.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers{
  pointer-events: none
}

.apexcharts-bar-shadows{
  pointer-events: none
}

.apexcharts-rangebar-goals-markers{
  pointer-events: none
}`;var E=((V=c.opts.chart)===null||V===void 0?void 0:V.nonce)||c.w.config.chart.nonce;E&&B.setAttribute("nonce",E),y?b.prepend(B):x.head.appendChild(B)}var Y=c.create(c.w.config.series,{});if(!Y)return g(c);c.mount(Y).then(function(){typeof c.w.config.chart.events.mounted=="function"&&c.w.config.chart.events.mounted(c,c.w),c.events.fireEvent("mounted",[c,c.w]),g(Y)}).catch(function(H){h(H)})}else h(new Error("Element not found"))})}},{key:"create",value:function(c,g){var h=this.w;new As(this).initModules();var I=this.w.globals;if(I.noData=!1,I.animationEnded=!1,this.responsive.checkResponsiveConfig(g),h.config.xaxis.convertedCatToNumeric&&new Ze(h.config).convertCatToNumericXaxis(h.config,this.ctx),this.el===null||(this.core.setupElements(),h.config.chart.type==="treemap"&&(h.config.grid.show=!1,h.config.yaxis[0].show=!1),I.svgWidth===0))return I.animationEnded=!0,null;var b=ue.checkComboSeries(c,h.config.chart.type);I.comboCharts=b.comboCharts,I.comboBarCount=b.comboBarCount;var y=c.every(function(E){return E.data&&E.data.length===0});(c.length===0||y&&I.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(c),this.theme.init(),new ve(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),I.noData&&I.collapsedSeries.length!==I.series.length&&!h.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),I.axisCharts&&(this.core.coreCalculations(),h.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=h.globals.minX,this.ctx.toolbar.maxX=h.globals.maxX),this.formatters.heatmapLabelFormatters(),new ue(this).getLargestMarkerSize(),this.dimensions.plotCoords();var x=this.core.xySettings();this.grid.createGridMask();var B=this.core.plotChartType(c,x),V=new He(this);return V.bringForward(),h.config.dataLabels.background.enabled&&V.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:B,xyRatios:x,dimensions:{plot:{left:h.globals.translateX,top:h.globals.translateY,width:h.globals.gridWidth,height:h.globals.gridHeight}}}}},{key:"mount",value:function(){var c=this,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,h=this,I=h.w;return new Promise(function(b,y){if(h.el===null)return y(new Error("Not enough data to display or target element not found"));(g===null||I.globals.allSeriesCollapsed)&&h.series.handleNoData(),h.grid=new ft(h);var x,B,V=h.grid.drawGrid();if(h.annotations=new Be(h),h.annotations.drawImageAnnos(),h.annotations.drawTextAnnos(),I.config.grid.position==="back"&&(V&&I.globals.dom.elGraphical.add(V.el),V!=null&&(x=V.elGridBorders)!==null&&x!==void 0&&x.node&&I.globals.dom.elGraphical.add(V.elGridBorders)),Array.isArray(g.elGraph))for(var E=0;E<g.elGraph.length;E++)I.globals.dom.elGraphical.add(g.elGraph[E]);else I.globals.dom.elGraphical.add(g.elGraph);I.config.grid.position==="front"&&(V&&I.globals.dom.elGraphical.add(V.el),V!=null&&(B=V.elGridBorders)!==null&&B!==void 0&&B.node&&I.globals.dom.elGraphical.add(V.elGridBorders)),I.config.xaxis.crosshairs.position==="front"&&h.crosshairs.drawXCrosshairs(),I.config.yaxis[0].crosshairs.position==="front"&&h.crosshairs.drawYCrosshairs(),I.config.chart.type!=="treemap"&&h.axes.drawAxis(I.config.chart.type,V);var Y=new Ct(c.ctx,V),H=new xt(c.ctx,V);if(V!==null&&(Y.xAxisLabelCorrections(V.xAxisTickWidth),H.setYAxisTextAlignments(),I.config.yaxis.map(function(Q,$){I.globals.ignoreYAxisIndexes.indexOf($)===-1&&H.yAxisTitleRotate($,Q.opposite)})),h.annotations.drawAxesAnnotations(),!I.globals.noData){if(I.config.tooltip.enabled&&!I.globals.noData&&h.w.globals.tooltip.drawTooltip(g.xyRatios),I.globals.axisCharts&&(I.globals.isXNumeric||I.config.xaxis.convertedCatToNumeric||I.globals.isRangeBar))(I.config.chart.zoom.enabled||I.config.chart.selection&&I.config.chart.selection.enabled||I.config.chart.pan&&I.config.chart.pan.enabled)&&h.zoomPanSelection.init({xyRatios:g.xyRatios});else{var z=I.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(Q){z[Q]=!1})}I.config.chart.toolbar.show&&!I.globals.allSeriesCollapsed&&h.toolbar.createToolbar()}I.globals.memory.methodsToExec.length>0&&I.globals.memory.methodsToExec.forEach(function(Q){Q.method(Q.params,!1,Q.context)}),I.globals.axisCharts||I.globals.noData||h.core.resizeNonAxisCharts(),b(h)})}},{key:"destroy",value:function(){var c,g;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,c=this.parentResizeHandler,(g=Ao.get(c))&&(g.disconnect(),Ao.delete(c));var h=this.w.config.chart.id;h&&Apex._chartInstances.forEach(function(I,b){I.id===F.escapeString(h)&&Apex._chartInstances.splice(b,1)}),new ys(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(c){var g=this,h=arguments.length>1&&arguments[1]!==void 0&&arguments[1],I=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],b=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],y=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],x=this.w;return x.globals.selection=void 0,c.series&&(this.series.resetSeries(!1,!0,!1),c.series.length&&c.series[0].data&&(c.series=c.series.map(function(B,V){return g.updateHelpers._extendSeries(B,V)})),this.updateHelpers.revertDefaultAxisMinMax()),c.xaxis&&(c=this.updateHelpers.forceXAxisUpdate(c)),c.yaxis&&(c=this.updateHelpers.forceYAxisUpdate(c)),x.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),c.theme&&(c=this.theme.updateThemeOptions(c)),this.updateHelpers._updateOptions(c,h,I,b,y)}},{key:"updateSeries",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],h=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(c,g,h)}},{key:"appendSeries",value:function(c){var g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],h=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],I=this.w.config.series.slice();return I.push(c),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(I,g,h)}},{key:"appendData",value:function(c){var g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],h=this;h.w.globals.dataChanged=!0,h.series.getPreviousPaths();for(var I=h.w.config.series.slice(),b=0;b<I.length;b++)if(c[b]!==null&&c[b]!==void 0)for(var y=0;y<c[b].data.length;y++)I[b].data.push(c[b].data[y]);return h.w.config.series=I,g&&(h.w.globals.initialSeries=F.clone(h.w.config.series)),this.update()}},{key:"update",value:function(c){var g=this;return new Promise(function(h,I){new ys(g.ctx).clear({isUpdating:!0});var b=g.create(g.w.config.series,c);if(!b)return h(g);g.mount(b).then(function(){typeof g.w.config.chart.events.updated=="function"&&g.w.config.chart.events.updated(g,g.w),g.events.fireEvent("updated",[g,g.w]),g.w.globals.isDirty=!0,h(g)}).catch(function(y){I(y)})})}},{key:"getSyncedCharts",value:function(){var c=this.getGroupedCharts(),g=[this];return c.length&&(g=[],c.forEach(function(h){g.push(h)})),g}},{key:"getGroupedCharts",value:function(){var c=this;return Apex._chartInstances.filter(function(g){if(g.group)return!0}).map(function(g){return c.w.config.chart.group===g.group?g.chart:c})}},{key:"toggleSeries",value:function(c){return this.series.toggleSeries(c)}},{key:"highlightSeriesOnLegendHover",value:function(c,g){return this.series.toggleSeriesOnHover(c,g)}},{key:"showSeries",value:function(c){this.series.showSeries(c)}},{key:"hideSeries",value:function(c){this.series.hideSeries(c)}},{key:"isSeriesHidden",value:function(c){this.series.isSeriesHidden(c)}},{key:"resetSeries",value:function(){var c=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(c,g)}},{key:"addEventListener",value:function(c,g){this.events.addEventListener(c,g)}},{key:"removeEventListener",value:function(c,g){this.events.removeEventListener(c,g)}},{key:"addXaxisAnnotation",value:function(c){var g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,I=this;h&&(I=h),I.annotations.addXaxisAnnotationExternal(c,g,I)}},{key:"addYaxisAnnotation",value:function(c){var g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,I=this;h&&(I=h),I.annotations.addYaxisAnnotationExternal(c,g,I)}},{key:"addPointAnnotation",value:function(c){var g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,I=this;h&&(I=h),I.annotations.addPointAnnotationExternal(c,g,I)}},{key:"clearAnnotations",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,g=this;c&&(g=c),g.annotations.clearAnnotations(g)}},{key:"removeAnnotation",value:function(c){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,h=this;g&&(h=g),h.annotations.removeAnnotation(h,c)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(c,g){return this.coreUtils.getSeriesTotalsXRange(c,g)}},{key:"getHighestValueInSeries",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new rt(this.ctx).getMinYMaxY(c).highestY}},{key:"getLowestValueInSeries",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new rt(this.ctx).getMinYMaxY(c).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(c,g){return this.updateHelpers.toggleDataPointSelection(c,g)}},{key:"zoomX",value:function(c,g){this.ctx.toolbar.zoomUpdateOptions(c,g)}},{key:"setLocale",value:function(c){this.localization.setCurrentLocaleValues(c)}},{key:"dataURI",value:function(c){return new et(this.ctx).dataURI(c)}},{key:"exportToCSV",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new et(this.ctx).exportToCSV(c)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var c=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){c.w.globals.resized=!0,c.w.globals.dataChanged=!1,c.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var c=this.w.config.chart.redrawOnWindowResize;typeof c=="function"&&(c=c()),c&&this._windowResize()}}],[{key:"getChartByID",value:function(c){var g=F.escapeString(c);if(Apex._chartInstances){var h=Apex._chartInstances.filter(function(I){return I.id===g})[0];return h&&h.chart}}},{key:"initOnLoad",value:function(){for(var c=document.querySelectorAll("[data-apexcharts]"),g=0;g<c.length;g++)new le(c[g],JSON.parse(c[g].getAttribute("data-options"))).render()}},{key:"exec",value:function(c,g){var h=this.getChartByID(c);if(h){h.w.globals.isExecCalled=!0;var I=null;if(h.publicMethods.indexOf(g)!==-1){for(var b=arguments.length,y=new Array(b>2?b-2:0),x=2;x<b;x++)y[x-2]=arguments[x];I=h[g].apply(h,y)}return I}}},{key:"merge",value:function(c,g){return F.extend(c,g)}}]),le}();t.exports=hA})(Yw,Yw.exports);var CNe=Yw.exports,Dw;Object.defineProperty(zJ,"__esModule",{value:!0});var pNe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},INe=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var o,s=arguments[n];for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},fNe=function(){function t(n,o){for(var s=0;s<o.length;s++){var d=o[s];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,o,s){return o&&t(n.prototype,o),s&&t(n,s),n}}(),bNe=CNe,KJ=mS(bNe),PJ=q,eh=mS(PJ),ANe=bb(),la=mS(ANe);function mS(t){return t&&t.__esModule?t:{default:t}}function yNe(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function kNe(t,n){var o,s={};for(o in t)0<=n.indexOf(o)||Object.prototype.hasOwnProperty.call(t,o)&&(s[o]=t[o]);return s}function vNe(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function wNe(t,n){if(t)return!n||typeof n!="object"&&typeof n!="function"?t:n;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function xNe(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}window.ApexCharts=KJ.default;var eD=function(){function t(n){vNe(this,t);var o=wNe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return eh.default.createRef?o.chartRef=eh.default.createRef():o.setRef=function(s){return o.chartRef=s},o.chart=null,o}return xNe(t,PJ.Component),fNe(t,[{key:"render",value:function(){var n=kNe(this.props,[]);return eh.default.createElement("div",INe({ref:eh.default.createRef?this.chartRef:this.setRef},n))}},{key:"componentDidMount",value:function(){var n=eh.default.createRef?this.chartRef.current:this.chartRef;this.chart=new KJ.default(n,this.getConfig()),this.chart.render()}},{key:"getConfig",value:function(){var m=this.props,n=m.type,o=m.height,s=m.width,d=m.series,m=m.options;return this.extend(m,{chart:{type:n,height:o,width:s},series:d})}},{key:"isObject",value:function(n){return n&&(n===void 0?"undefined":pNe(n))==="object"&&!Array.isArray(n)&&n!=null}},{key:"extend",value:function(n,o){var s=this,d=(typeof Object.assign!="function"&&(Object.assign=function(m){if(m==null)throw new TypeError("Cannot convert undefined or null to object");for(var p=Object(m),v=1;v<arguments.length;v++){var k=arguments[v];if(k!=null)for(var Z in k)k.hasOwnProperty(Z)&&(p[Z]=k[Z])}return p}),Object.assign({},n));return this.isObject(n)&&this.isObject(o)&&Object.keys(o).forEach(function(m){s.isObject(o[m])&&m in n?d[m]=s.extend(n[m],o[m]):Object.assign(d,yNe({},m,o[m]))}),d}},{key:"componentDidUpdate",value:function(n){if(!this.chart)return null;var d=this.props,v=d.options,o=d.series,s=d.height,d=d.width,m=JSON.stringify(n.options),p=JSON.stringify(n.series),v=JSON.stringify(v),k=JSON.stringify(o);m===v&&p===k&&s===n.height&&d===n.width||(p!==k&&m===v&&s===n.height&&d===n.width?this.chart.updateSeries(o):this.chart.updateOptions(this.getConfig()))}},{key:"componentWillUnmount",value:function(){this.chart&&typeof this.chart.destroy=="function"&&this.chart.destroy()}}]),t}();(Dw=zJ.default=eD).propTypes={type:la.default.string.isRequired,width:la.default.oneOfType([la.default.string,la.default.number]),height:la.default.oneOfType([la.default.string,la.default.number]),series:la.default.array.isRequired,options:la.default.object.isRequired},eD.defaultProps={type:"line",width:"100%",height:"auto"};const hI=Array.from({length:10},(t,n)=>De().subtract(9-n,"days").format("YYYY-MM-DD")),Nk=(t,n)=>{let o=[];return hI.forEach(s=>{t[s]?n?o.push(t[s]*.05/1e3):o.push(t[s]):o.push(0)}),o},SNe=t=>{let n=[];for(let o=0;o<hI.length;o++){if(o===0){n.push(0);continue}const s=hI[o],d=hI[o-1];t[s]&&t[d]?n.push((t[s]-t[d])/t[d]):t[d]?n.push(-1):n.push(0)}return n},BNe=()=>{const t=new AbortController,{signal:n}=t,[o,s]=q.useState(),[d,m]=q.useState(!0),[p,v]=q.useState({users:[],centres:[],revenues:[],rate:[]}),k=async()=>{await yt.get("/courtstar/admin/platform",{signal:n}).then(D=>{s(D.data.data)}).catch(D=>{console.log(D.message)}).finally(()=>{m(!1)})};q.useEffect(()=>{k()},[]),q.useEffect(()=>{o&&v(D=>({...D,users:Nk(o.users),centres:Nk(o.centres),revenues:Nk(o.revenues,!0),rates:SNe(o.revenues)}))},[o]);const Z=[{name:"Revenue",color:"#2B5A50",data:p.revenues,type:"bar"},{name:"Profit growth",color:"#dc2626",data:p.rates,type:"line"}],_={chart:{fontFamily:"Inter",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},stroke:{width:[0,2],curve:["smooth","straight"]},tooltip:{x:{show:!0,formatter:function(D){return De().subtract(10-D,"days").format("MMM DD")}},y:[{title:{formatter:function(D,M){return D+":"}},formatter:function(D){return D+"K VND"}},{title:{formatter:function(D,M){return D+":"}},formatter:function(D){return Math.round(D*100)+"%"}}]},xaxis:{categories:Array.from({length:10},(D,M)=>De().subtract(9-M,"days").format("MMM DD"))},yaxis:{labels:{formatter:function(D){return Math.round(D)}}},plotOptions:{bar:{columnWidth:"30%"}}},N=[{name:"User Registration",color:"#2563eb",data:p.users,type:"line"},{name:"Centre Registration",color:"#9ca3af",data:p.centres,type:"line"}],G={chart:{fontFamily:"Inter",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},stroke:{width:[3,3],curve:["smooth","smooth"],dashArray:[0,0]},tooltip:{x:{show:!0,formatter:function(D){return De().subtract(10-D,"days").format("MMM DD")}},y:[{title:{formatter:function(D){return D+":"}},formatter:function(D){return D}},{title:{formatter:function(D){return D+":"}},formatter:function(D){return D}}]},xaxis:{categories:Array.from({length:10},(D,M)=>De().subtract(9-M,"days").format("MMM DD"))}};return A.jsxs("div",{className:"py-5 px-7 flex flex-col gap-5",children:[A.jsx("div",{className:"text-3xl font-semibold",children:"Dashboard"}),d?A.jsx("div",{className:"h-[500px] flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})}):A.jsx(A.Fragment,{children:A.jsxs("div",{className:"bg-white rounded-2xl py-3 px-5 flex flex-col gap-5",children:[A.jsxs("div",{className:"flex justify-between items-center font-semibold",children:[A.jsx("div",{className:"text-lg",children:"Overview"}),A.jsxs("button",{className:"flex gap-2 items-center text-gray-500 py-2 px-4 border rounded-md hover:bg-primary-green hover:text-white transition-all ease-in-out duration-300",children:[A.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[A.jsx("path",{d:"M12.25 8.75V11.0833C12.25 11.3928 12.1271 11.6895 11.9083 11.9083C11.6895 12.1271 11.3928 12.25 11.0833 12.25H2.91667C2.60725 12.25 2.3105 12.1271 2.09171 11.9083C1.87292 11.6895 1.75 11.3928 1.75 11.0833V8.75",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),A.jsx("path",{d:"M9.91671 4.66667L7.00004 1.75L4.08337 4.66667",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),A.jsx("path",{d:"M7 1.75V8.75",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Export"]})]}),A.jsxs("div",{className:"flex gap-2.5 justify-between text-gray-500",children:[A.jsxs("div",{className:"p-4 border rounded-xl text-2xl font-semibold w-full",children:[A.jsx("div",{className:"text-sm font-medium mb-1",children:"Total Revenue"}),A.jsx(vr,{endNumber:o==null?void 0:o.totalRevenue,duration:1e3,postfix:" VND"})]}),A.jsxs("div",{className:"p-4 border rounded-xl text-2xl font-semibold w-full",children:[A.jsx("div",{className:"text-sm font-medium mb-1",children:"Total Centre"}),A.jsx(vr,{endNumber:o==null?void 0:o.totalCentre,duration:1e3})]}),A.jsxs("div",{className:"p-4 border rounded-xl text-2xl font-semibold w-full",children:[A.jsx("div",{className:"text-sm font-medium mb-1",children:"Total User"}),A.jsx(vr,{endNumber:o==null?void 0:o.totalUser,duration:1e3})]})]}),A.jsxs("div",{className:"flex flex-col gap-5 w-full",children:[A.jsx(Dw,{height:"350",width:"100%",options:_,series:Z}),A.jsx(Dw,{height:"350",width:"100%",options:G,series:N})]})]})})]})},ZNe=()=>{var He,Oe;const{t}=on(),n=new AbortController,{signal:o}=n,s=[{key:"all",label:t("allCenTre")},{key:"thuDucCity",label:t("thuDucCity")},{key:"district1",label:t("district1")},{key:"district3",label:t("district3")},{key:"district4",label:t("district4")},{key:"district5",label:t("district5")},{key:"district6",label:t("district6")},{key:"district7",label:t("district7")},{key:"district8",label:t("district8")},{key:"district10",label:t("district10")},{key:"district11",label:t("district11")},{key:"district12",label:t("district12")},{key:"binhTanDistrict",label:t("binhTanDistrict")},{key:"binhThanhDistrict",label:t("binhThanhDistrict")},{key:"goVapDistrict",label:t("goVapDistrict")},{key:"phuNhuanDistrict",label:t("phuNhuanDistrict")},{key:"tanBinhDistrict",label:t("tanBinhDistrict")},{key:"tanPhuDistrict",label:t("tanPhuDistrict")},{key:"nhaBeProvince",label:t("nhaBeProvince")},{key:"canGioProvince",label:t("canGioProvince")},{key:"cuChiProvince",label:t("cuChiProvince")},{key:"hocMonProvince",label:t("hocMonProvince")},{key:"binhChanhProvince",label:t("binhChanhProvince")}],d=[{key:"all",label:"All Rating"},{key:"1",label:"1 Star"},{key:"2",label:"2 Stars"},{key:"3",label:"3 Stars"},{key:"4",label:"4 Stars"},{key:"5",label:"5 Stars"}],m=[{key:"all",label:"All Status"},{key:"true",label:"Unavailable"},{ket:"false",label:"Available"}],[p,v]=q.useState([]),[k,Z]=q.useState(!0),[_,N]=q.useState(),[G,D]=q.useState(!1);q.useState(!1),q.useState(!1);const[M,L]=q.useState([]),[O,P]=q.useState(!1),[F,j]=q.useState(1),ie=10,[ne,ue]=q.useState([]),[K,de]=q.useState(""),[pe,Ce]=q.useState(""),[be,Ge]=q.useState("all"),[Ee,Se]=q.useState("all"),[ke,Be]=q.useState("all");q.useEffect(()=>{(async()=>{await yt.get("/courtstar/centre/allCentre",{signal:o}).then(et=>{v(et.data.data.reverse()),ue(et.data.data)}).catch(et=>{console.log(et.message)}).finally(()=>{Z(!1)})})()},[]);const Re=je=>{Ge(je.key)},fe=je=>{Se(je.key)},Ze=je=>{Be(je.key)};q.useEffect(()=>{(()=>{let et=p;K&&(et=et.filter(Ct=>Ct.name.toLowerCase().includes(K.toLowerCase()))),pe&&(et=et.filter(Ct=>Ct.managerEmail.toLowerCase().includes(pe.toLowerCase()))),be&&be!=="all"&&(et=et.filter(Ct=>Ct.district===be)),Ee&&Ee!=="all"&&(et=et.filter(Ct=>Ct.currentRate===parseInt(Ee))),ke!=="all"&&(et=et.filter(Ct=>Ct.deleted===!!ke)),ue(et)})()},[K,pe,be,Ee,ke,p]);const _e=async je=>{let et=p.filter(Ct=>Ct.id===je);N(et[0]),D(!0),P(!0),await yt.get(`/courtstar/feedback/${je}`).then(Ct=>{L(Ct.data.data),console.log(Ct.data.data)}).catch(Ct=>{console.log(Ct.message)}).finally(()=>{P(!1)})};q.useState(!1);const Pe=F*ie,Qe=Pe-ie,Je=ne.slice(Qe,Pe),ve=je=>{j(je)},Ye=A.jsx(A.Fragment,{children:_&&A.jsxs("div",{className:"h-[calc(80vh)] w-[calc(80vw)] overflow-y-auto px-2 mx-2",children:[A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsx("div",{className:"w-[44rem]",children:A.jsx(Qb,{images:_==null?void 0:_.images})}),A.jsx("div",{className:"flex-1 w-[410px] flex flex-col gap-3",children:A.jsxs("div",{className:"flex flex-col gap-3",children:[A.jsx("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow flex flex-col gap-3",children:A.jsxs("div",{className:"flex flex-col gap-1.5",children:[A.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[t("information"),_!=null&&_.deleted?A.jsx("div",{className:"bg-red-500 text-white text-sm px-3 py-1 rounded-md font-semibold",children:"Deleted"}):A.jsx("div",{className:"font-semibold",children:_!=null&&_.status?A.jsx("div",{className:"bg-primary-green text-white text-sm px-3 py-1 rounded-md",children:"Opening"}):A.jsx("div",{className:"bg-black text-white px-3 text-sm py-1 rounded-md",children:"Closed"})})]}),A.jsxs("div",{className:"px-2",children:[A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[t("address"),": "]}),_.address]}),A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[t("openTime"),": "]}),De(_.openTime,"HH:mm:ss").format("HH:mm")," - ",De(_.closeTime,"HH:mm:ss").format("HH:mm")]}),A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[t("price"),": "]}),A.jsxs("span",{className:"font-semibold text-rose-600",children:[(He=_==null?void 0:_.pricePerHour)==null?void 0:He.toLocaleString("de-DE")," VND/h"]})]})]})]})}),(_==null?void 0:_.description)&&A.jsxs("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow",children:[A.jsxs("span",{className:"font-semibold",children:[t("description"),": "]}),A.jsx("div",{dangerouslySetInnerHTML:{__html:_.description}})]}),A.jsxs("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow flex flex-col gap-3",children:[A.jsx("div",{className:"flex justify-between text-lg font-semibold",children:A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[t("numberOfCourts"),": "]}),_.numberOfCourts]})}),A.jsx("div",{className:"mx-auto",children:A.jsx("div",{className:"grid grid-cols-2 gap-x-20",children:(Oe=_==null?void 0:_.courts)==null?void 0:Oe.map((je,et)=>A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsxs("div",{className:"",children:[je.courtNo,"."]}),A.jsx("div",{className:"flex justify-between gap-1 w-full items-center",children:A.jsxs("div",{className:"flex gap-1 ",children:[A.jsxs("div",{className:"font-semibold",children:[t("status"),":"]}),A.jsx("div",{className:je.status?"font-semibold text-primary-green":"font-semibold text-red-500",children:je.status?"Active":"Close"})]})})]},je.id))})})]})]})})]}),A.jsxs("div",{id:"top",className:"flex-1 bg-white rounded-lg shadow-md my-3",children:[A.jsx("div",{className:"text-white rounded-t-lg bg-primary-green flex items-center justify-center gap-1.5 py-2",children:A.jsx("span",{className:"text-3xl font-medium",children:"Feedbacks"})}),O?A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"}):A.jsx("div",{className:"",children:A.jsx(L1,{listItem:M,itemsPerPage:10})})]})]})});return A.jsxs(A.Fragment,{children:[A.jsx(ms,{isOpen:G,setIsOpen:()=>{D(!1),N()},html:Ye,title:_==null?void 0:_.name,centreInfo:!0}),A.jsxs("div",{id:"top",className:"py-5 px-7",children:[A.jsx("div",{className:"flex justify-between",children:A.jsx("div",{className:"text-3xl font-bold",children:t("allCenTre")})}),k?A.jsx("div",{className:"h-[500px] flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})}):A.jsx(A.Fragment,{children:A.jsxs("div",{className:"mt-5 mb-10",children:[A.jsxs("div",{className:"px-10 bg-white py-4 grid grid-cols-5 gap-x-1 rounded-xl shadow",children:[A.jsx("div",{className:"",children:A.jsx(_t,{placeholder:"Enter name of centre",label:"Name",value:K,onchange:je=>de(je.target.value)})}),A.jsx("div",{className:"",children:A.jsx(_t,{placeholder:"Enter email of manager",label:"Email",value:pe,onchange:je=>Ce(je.target.value)})}),A.jsxs("div",{className:"",children:[A.jsx("div",{className:"font-semibold mb-2",children:"District"}),A.jsx(Wi,{placeholder:"Select District",items:s,onSelect:Re,buttonClassName:"!px-3"})]}),A.jsxs("div",{className:"",children:[A.jsx("div",{className:"font-semibold mb-2",children:"Feedback"}),A.jsx(Wi,{placeholder:"Select Rating",items:d,onSelect:fe,buttonClassName:"!px-3"})]}),A.jsxs("div",{className:"",children:[A.jsx("div",{className:"font-semibold mb-2",children:"Status"}),A.jsx(Wi,{placeholder:"Select Status",items:m,onSelect:Ze,buttonClassName:"!px-3"})]})]}),A.jsx("div",{className:"mt-2",children:Je.length?A.jsx(A.Fragment,{children:Je==null?void 0:Je.map(je=>A.jsxs("div",{className:"bg-white px-10 py-3 grid grid-cols-5 content-center gap-2 font-medium hover:bg-teal-50 hover:px-8 cursor-pointer mt-1 rounded-lg shadow-sm ease-in-out duration-300",onClick:()=>_e(je.id),children:[A.jsx("div",{className:"ml-5 truncate",children:je.name}),A.jsx("div",{className:"ml-5 truncate",children:je.managerEmail}),A.jsx("div",{className:"ml-5 truncate",children:t(je.district)}),A.jsx("div",{className:"mx-auto",children:A.jsx(Rl,{ratingWrapper:"flex gap-1",value:je.currentRate,editable:!1})}),je.deleted===!0?A.jsx("div",{className:"mx-auto text-white text-xs font-semibold px-2 py-1 bg-rose-500 rounded-md",children:"Unavailable"}):A.jsx("div",{className:"mx-auto text-white text-xs font-semibold px-2 py-1 bg-primary-green rounded-md",children:"Available"})]},je.id))}):A.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px] text-3xl text-primary mx-auto",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"250",height:"250",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search-x",children:[A.jsx("path",{d:"m13.5 8.5-5 5"}),A.jsx("path",{d:"m8.5 8.5 5 5"}),A.jsx("circle",{cx:"11",cy:"11",r:"8"}),A.jsx("path",{d:"m21 21-4.3-4.3"})]}),"No centre found."]})})]})}),ne.length>ie&&A.jsx(Ea,{totalItems:ne.length,itemsPerPage:ie,currentPage:F,onPageChange:ve})]})]})},GNe=()=>{const t=new AbortController,{signal:n}=t,[o,s]=q.useState([]),[d,m]=q.useState(!0),[p,v]=q.useState(1),k=10,[Z,_]=q.useState([]),[N,G]=q.useState(""),[D,M]=q.useState(""),[L,O]=q.useState("");q.useEffect(()=>{(()=>{let de=o;N&&(de=de.filter(pe=>pe.account.firstName.toLowerCase().includes(N.toLowerCase())||pe.account.lastName.toLowerCase().includes(N.toLowerCase()))),D&&(de=de.filter(pe=>pe.account.email.toLowerCase().includes(D.toLowerCase()))),L&&(de=de.filter(pe=>pe.account.phone.toLowerCase().includes(L.toLowerCase()))),_(de)})()},[N,D,L,o]);const P=async()=>{await yt.get("/courtstar/manager",{signal:n}).then(K=>{s(K.data.data.map(de=>({...de,loading:!1}))),_(K.data.data)}).catch(K=>{console.log(K.message)}).finally(()=>{m(!1)})};q.useEffect(()=>{P()},[]),console.log(o);const F=async(K,de)=>{s(pe=>{const Ce=[...pe];return Ce[de]={...Ce[de],loading:!0},Ce}),await yt.post(`/courtstar/account/${K}`,{signal:n}).then(pe=>{console.log(pe.data),ht.success("Delete Successfully!",{toastId:"delete-manager-success"}),P()}).catch(pe=>{console.log(pe.message),ht.error(pe.message,{toastId:"delete-manager-error"})}).finally()},j=K=>{v(K)},ie=p*k,ne=ie-k,ue=Z.slice(ne,ie);return A.jsxs("div",{className:"py-5 px-7",children:[A.jsx("div",{className:"flex justify-between",children:A.jsx("div",{className:"text-3xl font-bold",children:"Managers"})}),d?A.jsx("div",{className:"h-[500px] flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"mt-5",children:[A.jsxs("div",{className:"bg-white rounded-xl px-10 py-4 grid grid-cols-12 gap-2",children:[A.jsx("div",{className:"col-span-4 ",children:A.jsx(_t,{id:"name",name:"name",placeholder:"Enter the user's name",label:"Name",value:N,onchange:K=>G(K.target.value)})}),A.jsx("div",{className:"col-span-4 ",children:A.jsx(_t,{id:"email",name:"email",placeholder:"Enter the user's email",label:"Email",value:D,onchange:K=>M(K.target.value)})}),A.jsx("div",{className:"col-span-3 ",children:A.jsx(_t,{id:"phone",name:"phone",placeholder:"Enter the user's phone number",label:"Phone number",value:L,onchange:K=>O(K.target.value)})}),A.jsx("div",{className:"col-span-1 "})]}),A.jsx("div",{className:"mt-2 font-medium",children:ue.length?A.jsx(A.Fragment,{children:ue.map((K,de)=>A.jsxs("div",{className:"bg-white px-10 py-3 grid grid-cols-12 content-center gap-2 font-medium mt-1 rounded-lg shadow-sm",children:[A.jsxs("div",{className:"col-span-4 content-center truncate ml-4",children:[K.account.firstName," ",K.account.lastName]}),A.jsx("div",{className:"col-span-4 content-center truncate ml-4",children:K.account.email}),A.jsx("div",{className:"col-span-3 content-center ml-4",children:K.account.phone}),A.jsx("div",{className:"mx-auto col-span-1",children:K.loading?A.jsx(Sn,{height:"30",width:"30",color:"#2B5A50"}):A.jsx(A.Fragment,{children:K.account.deleted?A.jsx("div",{className:"p-1.5 rounded-full text-red-500",children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[A.jsx("path",{d:"M3 6h18"}),A.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),A.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),A.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),A.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"}),A.jsx("line",{x1:"2",y1:"2",x2:"22",y2:"22"})]})}):A.jsx("div",{className:"p-1.5 rounded-full hover:bg-red-600 hover:text-white cursor-pointer ease-in-out duration-300",onClick:()=>F(K.account.id,de),children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[A.jsx("path",{d:"M3 6h18"}),A.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),A.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),A.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),A.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})})})})]},K.account.id))}):A.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px] text-3xl text-primary mx-auto",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"300",height:"300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users-round",children:[A.jsx("path",{d:"M18 21a8 8 0 0 0-16 0"}),A.jsx("circle",{cx:"10",cy:"8",r:"5"}),A.jsx("path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3"})]}),"No manager found."]})})]}),o.length>k&&A.jsx(Ea,{totalItems:o.length,itemsPerPage:k,currentPage:p,onPageChange:j})]})]})},RNe=()=>{const t=new AbortController,{signal:n}=t,[o,s]=q.useState([]),[d,m]=q.useState(!0),[p,v]=q.useState(1),k=10,[Z,_]=q.useState([]),[N,G]=q.useState(""),[D,M]=q.useState(""),[L,O]=q.useState("");q.useEffect(()=>{(()=>{let de=o;N&&(de=de.filter(pe=>pe.account.firstName.toLowerCase().includes(N.toLowerCase())||pe.account.lastName.toLowerCase().includes(N.toLowerCase()))),D&&(de=de.filter(pe=>pe.account.email.toLowerCase().includes(D.toLowerCase()))),L&&(de=de.filter(pe=>pe.account.phone.toLowerCase().includes(L.toLowerCase()))),_(de)})()},[N,D,L,o]);const P=async()=>{await yt.get("/courtstar/staff",{signal:n}).then(K=>{s(K.data.data.map(de=>({...de,loading:!1}))),_(K.data.data)}).catch(K=>{console.log(K.message)}).finally(()=>{m(!1)})};q.useEffect(()=>{P()},[]),console.log(o);const F=async(K,de)=>{s(pe=>{const Ce=[...pe];return Ce[de]={...Ce[de],loading:!0},Ce}),await yt.post(`/courtstar/account/${K}`,{signal:n}).then(pe=>{console.log(pe.data),ht.success("Delete Successfully!",{toastId:"delete-manager-success"}),P()}).catch(pe=>{console.log(pe.message),ht.error(pe.message,{toastId:"delete-manager-error"})}).finally()},j=K=>{v(K)},ie=p*k,ne=ie-k,ue=Z.slice(ne,ie);return A.jsxs("div",{className:"py-5 px-7",children:[A.jsx("div",{className:"flex justify-between",children:A.jsx("div",{className:"text-3xl font-bold",children:"Staffs"})}),d?A.jsx("div",{className:"h-[500px] flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"mt-5",children:[A.jsxs("div",{className:"bg-white rounded-xl px-10 py-4 grid grid-cols-12 gap-2",children:[A.jsx("div",{className:"col-span-4 ",children:A.jsx(_t,{id:"name",name:"name",placeholder:"Enter the user's name",label:"Name",value:N,onchange:K=>G(K.target.value)})}),A.jsx("div",{className:"col-span-4 ",children:A.jsx(_t,{id:"email",name:"email",placeholder:"Enter the user's email",label:"Email",value:D,onchange:K=>M(K.target.value)})}),A.jsx("div",{className:"col-span-3 ",children:A.jsx(_t,{id:"phone",name:"phone",placeholder:"Enter the user's phone number",label:"Phone number",value:L,onchange:K=>O(K.target.value)})}),A.jsx("div",{className:"col-span-1 "})]}),A.jsx("div",{className:"mt-2 font-medium",children:ue.length?A.jsx(A.Fragment,{children:ue.map((K,de)=>A.jsxs("div",{className:"bg-white px-10 py-3 grid grid-cols-12 content-center gap-2 font-medium mt-1 rounded-lg shadow-sm",children:[A.jsxs("div",{className:"col-span-4 content-center truncate ml-4",children:[K.account.firstName," ",K.account.lastName]}),A.jsx("div",{className:"col-span-4 content-center truncate ml-4",children:K.account.email}),A.jsx("div",{className:"col-span-3 content-center ml-4",children:K.account.phone}),A.jsx("div",{className:"mx-auto col-span-1",children:K.loading?A.jsx(Sn,{height:"30",width:"30",color:"#2B5A50"}):A.jsx(A.Fragment,{children:K.account.deleted?A.jsx("div",{className:"p-1.5 rounded-full text-red-500",children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[A.jsx("path",{d:"M3 6h18"}),A.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),A.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),A.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),A.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"}),A.jsx("line",{x1:"2",y1:"2",x2:"22",y2:"22"})]})}):A.jsx("div",{className:"p-1.5 rounded-full hover:bg-red-600 hover:text-white cursor-pointer ease-in-out duration-300",onClick:()=>F(K.account.id,de),children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[A.jsx("path",{d:"M3 6h18"}),A.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),A.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),A.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),A.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})})})})]},K.account.id))}):A.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px] text-3xl text-primary mx-auto",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"300",height:"300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users-round",children:[A.jsx("path",{d:"M18 21a8 8 0 0 0-16 0"}),A.jsx("circle",{cx:"10",cy:"8",r:"5"}),A.jsx("path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3"})]}),"No staff found."]})})]}),o.length>k&&A.jsx(Ea,{totalItems:o.length,itemsPerPage:k,currentPage:p,onPageChange:j})]})]})},VNe=()=>{const t=new AbortController,{signal:n}=t,[o,s]=q.useState([]),[d,m]=q.useState(!0),[p,v]=q.useState(1),k=10,[Z,_]=q.useState([]),[N,G]=q.useState(""),[D,M]=q.useState(""),[L,O]=q.useState("");q.useEffect(()=>{(()=>{let de=o;N&&(de=de.filter(pe=>pe.firstName.toLowerCase().includes(N.toLowerCase())||pe.lastName.toLowerCase().includes(N.toLowerCase()))),D&&(de=de.filter(pe=>pe.email.toLowerCase().includes(D.toLowerCase()))),L&&(de=de.filter(pe=>{var Ce;return(Ce=pe.phone)==null?void 0:Ce.toLowerCase().includes(L.toLowerCase())})),_(de)})()},[N,D,L,o]);const P=async()=>{await yt.get("/courtstar/customer",{signal:n}).then(K=>{s(K.data.data.map(de=>({...de,loading:!1}))),_(K.data.data)}).catch(K=>{console.log(K.message)}).finally(()=>{m(!1)})};q.useEffect(()=>{P()},[]),console.log(o);const F=async(K,de)=>{s(pe=>{const Ce=[...pe];return Ce[de]={...Ce[de],loading:!0},Ce}),await yt.post(`/courtstar/account/${K}`,{signal:n}).then(pe=>{console.log(pe.data),ht.success("Delete Successfully!",{toastId:"delete-customer-success"}),P()}).catch(pe=>{console.log(pe.message),ht.error(pe.message,{toastId:"delete-customer-error"})}).finally(()=>{})},j=K=>{v(K)},ie=p*k,ne=ie-k,ue=Z.slice(ne,ie);return A.jsxs("div",{className:"py-5 px-7",children:[A.jsx("div",{className:"flex justify-between",children:A.jsx("div",{className:"text-3xl font-bold",children:"Customers"})}),d?A.jsx("div",{className:"h-[500px] flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"mt-5",children:[A.jsxs("div",{className:"px-10 py-4 grid grid-cols-12 gap-2 bg-white rounded-xl",children:[A.jsx("div",{className:"col-span-4 ",children:A.jsx(_t,{id:"name",name:"name",placeholder:"Enter the user's name",label:"Name",value:N,onchange:K=>G(K.target.value)})}),A.jsx("div",{className:"col-span-4 ",children:A.jsx(_t,{id:"email",name:"email",placeholder:"Enter the user's email",label:"Email",value:D,onchange:K=>M(K.target.value)})}),A.jsx("div",{className:"col-span-3 ",children:A.jsx(_t,{id:"phone",name:"phone",placeholder:"Enter the user's phone number",label:"Phone number",value:L,onchange:K=>O(K.target.value)})}),A.jsx("div",{className:"col-span-1 "})]}),A.jsx("div",{className:"mt-2 font-medium",children:ue.length?A.jsx(A.Fragment,{children:ue.map((K,de)=>A.jsxs("div",{className:"bg-white px-10 py-3 grid grid-cols-12 content-center gap-2 font-medium mt-1 rounded-lg shadow-sm",children:[A.jsxs("div",{className:"col-span-4 content-center truncate ml-4",children:[K.firstName," ",K.lastName]}),A.jsx("div",{className:"col-span-4 content-center truncate ml-4",children:K.email}),A.jsx("div",{className:"col-span-3 content-center ml-4",children:K.phone}),A.jsx("div",{className:"mx-auto col-span-1",children:K.loading?A.jsx(Sn,{height:"30",width:"30",color:"#2B5A50"}):A.jsx(A.Fragment,{children:K.deleted?A.jsx("div",{className:"p-1.5 rounded-full text-red-500",children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[A.jsx("path",{d:"M3 6h18"}),A.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),A.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),A.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),A.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"}),A.jsx("line",{x1:"2",y1:"2",x2:"22",y2:"22"})]})}):A.jsx("div",{className:"p-1.5 rounded-full hover:bg-red-600 hover:text-white cursor-pointer ease-in-out duration-300",onClick:()=>F(K.id,de),children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[A.jsx("path",{d:"M3 6h18"}),A.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),A.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),A.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),A.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})})})})]},K.id))}):A.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px] text-3xl text-primary mx-auto",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"300",height:"300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users-round",children:[A.jsx("path",{d:"M18 21a8 8 0 0 0-16 0"}),A.jsx("circle",{cx:"10",cy:"8",r:"5"}),A.jsx("path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3"})]}),"No customer found."]})})]}),o.length>k&&A.jsx(Ea,{totalItems:o.length,itemsPerPage:k,currentPage:p,onPageChange:j})]})]})},WNe=t=>A.jsxs(A.Fragment,{children:[t.tabItem===1&&A.jsx(GNe,{}),t.tabItem===2&&A.jsx(RNe,{}),t.tabItem===3&&A.jsx(VNe,{})]}),_Ne=()=>{const[t,n]=q.useState(!0),[o,s]=q.useState(),[d,m]=q.useState(null),[p,v]=q.useState(!1),k=[{key:"all",label:"All Request"},{key:"asc",label:"Ascending"},{key:"dsc",label:"Descending"}],Z=[{key:"all",label:"All Request"},{key:"asc",label:"Ascending"},{key:"dsc",label:"Descending"}],_=[{key:"all",label:"All Request"},{key:"acp",label:"Accepted"},{key:"den",label:"Denied"},{key:"pen",label:"Pending"}],[N,G]=q.useState(),[D,M]=q.useState(""),[L,O]=q.useState("all"),[P,F]=q.useState("all"),[j,ie]=q.useState("all");q.useEffect(()=>{(()=>{let be=o;D&&(be=be.filter(Ge=>Ge.managerEmail.toLowerCase().includes(D.toLowerCase()))),j&&j!=="all"&&(be=be.filter(Ge=>j==="acp"?Ge.status===!0:j==="den"?Ge.status===!1&&Ge.dateAuthenticate:j==="pen"?!Ge.dateAuthenticate:!0)),L&&L!=="all"&&(be=be.slice().sort((Ge,Ee)=>L==="asc"?Ge.amount-Ee.amount:L==="dsc"?Ee.amount-Ge.amount:0)),P&&P!=="all"&&(be=be.slice().sort((Ge,Ee)=>P==="asc"?De(Ge.dateCreateWithdrawalOrder).diff(Ee.dateCreateWithdrawalOrder):P==="dsc"?De(Ee.dateCreateWithdrawalOrder).diff(Ge.dateCreateWithdrawalOrder):0)),G(be)})()},[D,L,P,j,o]);const ne=async()=>{try{const be=(await yt.get("/courtstar/transfer-money/all")).data.data.map(Ge=>({...Ge,loading:!1})).sort((Ge,Ee)=>Ee.id-Ge.id);s(be)}catch(Ce){console.log(Ce.message)}finally{n(!1)}},ue=Ce=>{m(Ce),v(!0)},K=A.jsxs("div",{className:"text-black w-96",children:[A.jsxs("div",{className:"",children:[A.jsx("span",{className:"font-semibold",children:"Manager's email:"})," ",d==null?void 0:d.managerEmail]}),A.jsxs("div",{className:"",children:[A.jsx("span",{className:"font-semibold",children:"Created date:"})," ",De(d==null?void 0:d.dateCreateWithdrawalOrder).format("yyyy-MM-DD")]}),A.jsx("div",{className:"",children:(d==null?void 0:d.dateAuthenticate)&&A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"font-semibold",children:"Response date:"})," ",De(d==null?void 0:d.dateAuthenticate).format("yyyy-MM-DD")]})}),A.jsxs("div",{className:"",children:[A.jsx("span",{className:"font-semibold",children:"Card holder name:"})," ",d==null?void 0:d.cardHolderName]}),A.jsxs("div",{className:"",children:[A.jsx("span",{className:"font-semibold",children:"Bank name:"})," ",d==null?void 0:d.nameBanking]}),A.jsxs("div",{className:"",children:[A.jsx("span",{className:"font-semibold",children:"Bank account number:"})," ",d==null?void 0:d.numberBanking]}),d!=null&&d.dateAuthenticate?A.jsx(A.Fragment,{children:d!=null&&d.status?A.jsx("div",{className:"text-center py-1 mt-2 text-white bg-primary-green font-semibold rounded",children:"Accepted"}):A.jsx("div",{className:"text-center py-1 mt-2 text-white bg-rose-500 font-semibold rounded",children:"Denied"})}):A.jsx(A.Fragment,{children:d!=null&&d.loading?A.jsx("div",{className:"mx-auto mt-2",children:A.jsx(Sn,{width:"24",height:"24",color:"#2b5a50"})}):A.jsxs("div",{className:"mt-2 flex gap-1 w-full",children:[A.jsx(tn,{className:"text-center text-primary-green text-xs font-semibold w-full py-1 border-primary-green border-2 rounded hover:bg-primary-green hover:text-white",icon:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-check",children:A.jsx("path",{d:"M20 6 9 17l-5-5"})}),label:"Accept",onClick:()=>de(d)}),A.jsx(tn,{className:"text-center text-red-500 text-xs font-semibold w-full py-1 border-red-500 border-2 rounded hover:bg-red-500 hover:text-white",icon:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[A.jsx("path",{d:"M18 6 6 18"}),A.jsx("path",{d:"m6 6 12 12"})]}),label:"Deny",onClick:()=>pe(d)})]})})]}),de=async Ce=>{m(be=>({...be,loading:!0}));try{const be=await yt.post(`/courtstar/transfer-money/authenticate-withdrawal-order/${Ce.id}`);ht.success("Accepted withdrawal!",{toastId:"accept-withdrawal-success"}),be.data.data&&(ne(),v(!1))}catch(be){ht.error(be.message,{toastId:"accept-withdrawal-unsuccess"})}},pe=async Ce=>{m(be=>({...be,loading:!0}));try{const be=await yt.post(`/courtstar/transfer-money/authenticate-deny-withdrawal-order/${Ce.id}`);ht.success("Denied withdrawal!",{toastId:"deny-withdrawal-success"}),be.data.data&&(ne(),v(!1))}catch(be){ht.error(be.message,{toastId:"deny-withdrawal-unsuccess"})}};return q.useEffect(()=>{ne()},[]),A.jsxs("div",{className:"py-7 px-7",children:[A.jsx(ms,{isOpen:p,setIsOpen:()=>{v(!1),m(null)},html:K,title:"Request Detail",centreInfo:!0}),A.jsx("div",{className:"text-3xl font-bold mb-4",children:"Withdrawal Request"}),t?A.jsx("div",{className:"h-[500px] flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"px-10 bg-white py-4 grid grid-cols-4 gap-x-1 rounded-xl shadow",children:[A.jsx("div",{className:"",children:A.jsx(_t,{placeholder:"Enter email of manager",label:"Manager's Email",value:D,onchange:Ce=>M(Ce.target.value)})}),A.jsxs("div",{className:"",children:[A.jsx("div",{className:"font-semibold mb-2",children:"Amount"}),A.jsx(Wi,{placeholder:"Select Amount",items:k,onSelect:Ce=>O((Ce==null?void 0:Ce.key)??"all"),buttonClassName:"!px-3"})]}),A.jsxs("div",{className:"",children:[A.jsx("div",{className:"font-semibold mb-2",children:"Date Create"}),A.jsx(Wi,{placeholder:"Select Date Create",items:Z,onSelect:Ce=>F((Ce==null?void 0:Ce.key)??"all"),buttonClassName:"!px-3"})]}),A.jsxs("div",{className:"",children:[A.jsx("div",{className:"font-semibold mb-2",children:"Status"}),A.jsx(Wi,{placeholder:"Select Status",items:_,onSelect:Ce=>ie((Ce==null?void 0:Ce.key)??"all"),buttonClassName:"!px-3"})]})]}),N&&N.length>0?N.map(Ce=>A.jsxs("div",{className:`grid grid-cols-4 py-3 px-10 mt-2 rounded-lg shadow ease-in-out duration-300 font-medium
                        ${Ce.dateAuthenticate?"bg-slate-50":"bg-white"}
                        hover:px-8 cursor-pointer`,onClick:()=>ue(Ce),children:[A.jsx("div",{className:"self-center font-semibold ml-5 truncate",children:Ce.managerEmail}),A.jsx("div",{className:"self-center text-center truncate",children:Ce.amount}),A.jsx("div",{className:"self-center text-center truncate",children:De(Ce.dateCreateWithdrawalOrder).format("yyyy-MM-DD")}),Ce.status?A.jsx("div",{className:"text-xs mx-auto py-1 px-2 text-white bg-primary-green w-fit font-semibold rounded",children:"Accepted"}):Ce.dateAuthenticate?A.jsx("div",{className:"text-xs mx-auto py-1 px-2 text-white bg-rose-500 w-fit font-semibold rounded",children:"Denied"}):A.jsx("div",{className:"text-xs mx-auto py-1 px-2 text-white bg-yellow-400 w-fit font-semibold rounded",children:"Pending"})]},Ce.id)):A.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px] text-3xl text-primary mx-auto",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"250",height:"250",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search-x",children:[A.jsx("path",{d:"m13.5 8.5-5 5"}),A.jsx("path",{d:"m8.5 8.5 5 5"}),A.jsx("circle",{cx:"11",cy:"11",r:"8"}),A.jsx("path",{d:"m21 21-4.3-4.3"})]}),"No request found."]})]})]})},NNe=()=>{var O,P;const t=new AbortController,{signal:n}=t,{t:o}=on(),[s,d]=q.useState(!0),[m,p]=q.useState(),[v,k]=q.useState(!1),[Z,_]=q.useState(),N=async()=>{await yt.get("/courtstar/centre/centre/pending",{signal:n}).then(F=>{p(F.data.data)}).catch(F=>{console.log(F.message)}).finally(()=>{d(!1)})};q.useEffect(()=>{N()},[]);const G=async F=>{let j=m.filter(ie=>ie.id===F);_(j[0]),k(!0)},D=async F=>{await yt.post(`/courtstar/admin/centre/approve/${F}`,{signal:n}).then(j=>{ht.success("Approve successfully",{toastId:"approve-success"}),j.data.data&&(N(),k(!1))}).catch(j=>{ht.error(j.message,{toastId:"approve-unsuccess"})}).finally()},M=async F=>{await yt.post(`/courtstar/admin/centre/deny/${F}`,{signal:n}).then(j=>{ht.success("Deny successfully",{toastId:"deny-success"}),j.data.data&&(N(),k(!1))}).catch(j=>{ht.error(j.message,{toastId:"deny-unsuccess"})}).finally()},L=A.jsx(A.Fragment,{children:Z&&A.jsx("div",{className:"w-[calc(80vw)]",children:A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsx("div",{className:"",children:A.jsx(Qb,{images:Z==null?void 0:Z.images})}),A.jsx("div",{className:"flex-1 w-[410px] flex flex-col gap-3",children:A.jsxs("div",{className:"flex flex-col gap-3",children:[A.jsx("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow flex flex-col gap-3",children:A.jsxs("div",{className:"flex flex-col gap-1.5",children:[A.jsx("div",{className:"flex justify-between text-lg font-semibold",children:o("information")}),A.jsxs("div",{className:"px-2",children:[A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[o("address"),": "]}),Z.address]}),A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[o("openTime"),": "]}),De(Z.openTime,"HH:mm:ss").format("HH:mm")," - ",De(Z.closeTime,"HH:mm:ss").format("HH:mm")]}),A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[o("price"),": "]}),A.jsxs("span",{className:"font-semibold text-rose-600",children:[(O=Z==null?void 0:Z.pricePerHour)==null?void 0:O.toLocaleString("de-DE")," VND/h"]})]})]})]})}),(Z==null?void 0:Z.description)&&A.jsxs("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow",children:[A.jsxs("span",{className:"font-semibold",children:[o("description"),": "]}),A.jsx("div",{dangerouslySetInnerHTML:{__html:Z.description}})]}),A.jsxs("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow flex flex-col gap-3",children:[A.jsx("div",{className:"flex justify-between text-lg font-semibold",children:A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:[o("numberOfCourts"),": "]}),Z.numberOfCourts]})}),A.jsx("div",{className:"mx-auto",children:A.jsx("div",{className:"grid grid-cols-2 gap-x-20",children:(P=Z==null?void 0:Z.courts)==null?void 0:P.map(F=>A.jsxs("div",{className:"flex items-center gap-1",children:[A.jsxs("div",{className:"",children:[F.courtNo,"."]}),A.jsx("div",{className:"flex justify-between gap-1 w-full items-center",children:A.jsxs("div",{className:"flex gap-1 ",children:[A.jsxs("div",{className:"font-semibold",children:[o("status"),":"]}),A.jsx("div",{className:F.status?"font-semibold text-primary-green":"font-semibold text-red-500",children:F.status?"Active":"Close"})]})})]},F.id))})})]})]})})]})})});return A.jsxs(A.Fragment,{children:[A.jsx(nA,{isOpen:v,setIsOpen:()=>{k(!1)},html:L,title:Z==null?void 0:Z.name,submit:()=>D(Z==null?void 0:Z.id),submitDeny:()=>M(Z==null?void 0:Z.id),centreInfo:!0}),A.jsxs("div",{className:"py-7 px-7",children:[A.jsx("div",{className:"text-3xl font-bold",children:"Post Centre Request"}),s?A.jsx("div",{className:"h-[500px] flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})}):A.jsx(A.Fragment,{children:m.length?A.jsx("div",{className:"mt-2",children:m==null?void 0:m.map(F=>A.jsxs("div",{className:"grid grid-cols-3 py-3 px-10 mt-1 bg-white rounded-lg shadow-sm ease-in-out duration-300 font-medium hover:bg-teal-50 hover:px-8 cursor-pointer",onClick:()=>G(F.id),children:[A.jsx("div",{className:"self-center font-semibold",children:F.name}),A.jsx("div",{className:"self-center",children:F.managerEmail}),A.jsx("div",{className:"w-fit justify-self-end",children:A.jsx("div",{className:"mx-auto text-white text-xs font-semibold px-2 py-1 bg-rose-500 rounded-md",children:"Pending"})})]},F.id))}):A.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px] text-3xl text-primary mx-auto",children:[A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"250",height:"250",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search-x",children:[A.jsx("path",{d:"m13.5 8.5-5 5"}),A.jsx("path",{d:"m8.5 8.5 5 5"}),A.jsx("circle",{cx:"11",cy:"11",r:"8"}),A.jsx("path",{d:"m21 21-4.3-4.3"})]}),"No request found."]})})]})]})},ENe=t=>A.jsxs("div",{className:"flex-1",children:[t.tab===1&&A.jsx(BNe,{}),t.tab===2&&A.jsx(ZNe,{}),t.tab===3&&A.jsx(WNe,{tabItem:t.tabItem}),t.tab===4&&A.jsx(_Ne,{}),t.tab===5&&A.jsx(NNe,{})]}),XNe=()=>{const[t,n]=q.useState(),[o,s]=q.useState(),d=p=>{n(p)},m=p=>{s(p)};return A.jsxs("div",{className:"bg-gray-100 text-gray-800 flex",children:[A.jsx(mNe,{onDataTabSubmit:d,onDataTabItemSubmit:m}),A.jsx(ENe,{tab:t,tabItem:o})]})};function YNe(){const{t}=on(),{state:n,dispatch:o}=Na(),{account:s}=n,[d,m]=q.useState(!1),[p,v]=q.useState(!1),[k,Z]=q.useState({firstName:"",lastName:"",phone:"",password:""}),_=G=>{const{name:D,value:M}=G.target;Z(L=>({...L,[D]:M}))};q.useEffect(()=>{Z({firstName:s.firstName,lastName:s.lastName,phone:s.phone,password:""})},[s]);const N=async()=>{v(!0);const{email:G,...D}=k;try{const M=await yt.put("/courtstar/account",D);ht.success("Profile updated successfully!",{toastId:"update-success"}),o({type:"SET_ACCOUNT",payload:M.data.data})}catch(M){ht.error(M.message,{toastId:"update-error"})}finally{v(!1)}};return d?A.jsx("div",{className:"h-[652px] flex items-center justify-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})}):A.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:A.jsx("div",{className:"items-center bg-gray-100 py-10",children:A.jsxs("div",{className:"max-w-xl mx-auto py-8 px-16 bg-white rounded-lg",children:[A.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:t("yourProfile")}),A.jsxs("div",{children:[A.jsxs("div",{className:"mb-4 flex gap-5",children:[A.jsx(_t,{id:"firstName",name:"firstName",label:t("firstName"),onchange:_,value:k.firstName}),A.jsx(_t,{id:"lastName",name:"lastName",label:t("lastName"),onchange:_,value:k.lastName})]}),A.jsx("div",{className:"mb-4",children:A.jsx(_t,{id:"email",name:"email",label:"Email",value:s.email,disabled:!0})}),A.jsx("div",{className:"mb-4",children:A.jsx(_t,{id:"phone",name:"phone",label:t("phone"),onchange:_,value:k.phone})}),A.jsx("div",{className:"mb-3",children:A.jsx(_t,{id:"password",name:"password",label:t("password"),onchange:_,value:k.password})}),A.jsxs("div",{className:"pb-5 px-5 pt-3 -mx-5 font-semibold flex gap-6",children:[A.jsx(tn,{label:t("update"),fullWidth:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",icon:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 22 22",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-check",children:A.jsx("path",{d:"M20 6 9 17l-5-5"})}),loading:p,onClick:N}),A.jsx(tn,{label:t("cancel"),fullWidth:!0,size:"medium",className:"text-red-600 border-2 border-red-600 w-1/2  hover:bg-red-600 hover:text-white !font-semibold"})]})]})]})})})}function DNe(t){var Z,_,N;const[n,o]=q.useState(0),[s,d]=q.useState("");q.useEffect(()=>{t.isOpen&&(o(0),d(""))},[t.isOpen]);const m=()=>{t.setIsOpen()},p=G=>{o(G)},v=async G=>{G.preventDefault();const D={content:s,rate:n,centreId:t.booking.centreId,bookingId:t.booking.id};try{await yt.post("/courtstar/feedback/create",D),m(),ht.success("Feedback submitted successfully!",{toastId:"feedback-success"}),t.onFeedbackSubmitted()}catch(M){console.error("Error submitting feedback:",M),ht.error(M.message,{toastId:"feedback-error"})}},k=A.jsx("form",{onSubmit:v,className:"w-[28rem] mx-auto",children:A.jsxs("div",{className:"max-w-md mx-auto",children:[A.jsx("h2",{className:"text-2xl font-bold mb-3 text-center",children:"Rate us!"}),A.jsxs("p",{className:"text-gray-600 text-sm mb-3 text-center",children:["Your feedback is useful for us to understand your needs, ",A.jsx("br",{}),"so we can customize our services to suit you perfectly."]}),A.jsx("div",{className:"mb-3",children:A.jsx("p",{className:"text-gray-700 font-semibold text-center",children:"How would you rate our centre?"})}),A.jsxs("div",{className:"text-center mb-3",children:[A.jsx("img",{src:(Z=t==null?void 0:t.booking)==null?void 0:Z.centreImg,alt:(_=t==null?void 0:t.booking)==null?void 0:_.centreName,className:"mx-auto object-cover object-center min-w-72 max-w-72 h-44 rounded-lg mb-3"}),A.jsx("h3",{className:"font-semibold text-lg mb-2",children:(N=t==null?void 0:t.booking)==null?void 0:N.centreName})]}),A.jsx("div",{className:"flex justify-center mb-3",children:A.jsx(Rl,{ratingWrapper:"flex gap-1",value:n,editable:!0,onChange:p})}),A.jsxs("div",{className:"mb-3",children:[A.jsx("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"comment",children:"Add a comment..."}),A.jsx("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"comment",rows:"3",placeholder:"Enter your comment here...",value:s,onChange:G=>d(G.target.value)})]}),A.jsx("div",{className:"flex justify-center",children:A.jsx("button",{className:"bg-primary-green hover:bg-teal-900 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline",type:"submit",children:"Send now"})})]})});return A.jsx("div",{children:A.jsx(ms,{html:k,isOpen:t.isOpen,setIsOpen:m})})}const HNe=()=>{const[t,n]=q.useState(!1),[o,s]=q.useState(!0),[d,m]=q.useState([]),[p,v]=q.useState(null),[k,Z]=q.useState(1),[_,N]=q.useState(null),G=4,D=async()=>{try{const ie=await yt.get("/courtstar/booking");if(ie.data.code===1e3){const ne=ie.data.data.sort((ue,K)=>ue.rate===0&&K.rate!==0?-1:ue.rate!==0&&K.rate===0?1:new Date(K.bookingDetails[0].date)-new Date(ue.bookingDetails[0].date));m(ne)}else N("Failed to fetch bookings")}catch{N("Error fetching booking data")}finally{s(!1)}};q.useEffect(()=>{D()},[]);const M=ie=>{v(ie),n(!0)},L=()=>{n(!1),v(null)},O=ie=>{Z(ie)},P=k*G,F=P-G,j=d.slice(F,P);return A.jsxs("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:[A.jsx(DNe,{isOpen:t,setIsOpen:L,booking:p,onFeedbackSubmitted:D}),A.jsx("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-100",children:A.jsxs("div",{id:"top",className:"max-w-screen-1440 1440:mx-auto mx-4 py-10 px-12 w-full flex flex-col gap-4 items-center justify-between",children:[A.jsx("div",{className:"font-bold text-3xl uppercase text-start w-full pb-5 pl-2",children:"Booking History"}),A.jsx("div",{className:"flex gap-5 w-full rounded-2xl py-10 min-h-[50px]",children:o?A.jsx(Sn,{type:"page",height:"80",width:"80",color:"#2B5A50"}):_?A.jsx("div",{className:"text-red-500 text-xl",children:_}):A.jsx("div",{className:"flex-1 flex flex-col gap-5 items-center",children:j.length?j.map(ie=>A.jsx(FNe,{booking:ie,handleFeedbackPopup:M},ie.id)):A.jsxs("div",{className:"flex flex-col items-center justify-center h-56 text-3xl text-primary",children:[A.jsx(MNe,{}),"You don't have any bookings yet!"]})})}),d.length>G&&A.jsx(Ea,{totalItems:d.length,itemsPerPage:G,currentPage:k,onPageChange:O})]})})]})},FNe=({booking:t,handleFeedbackPopup:n})=>A.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border py-5 px-7 flex gap-7 max-w-5xl w-full",children:[A.jsx("img",{src:t.centreImg||centrePlaceholder,alt:t.centreName,className:"min-w-80 max-w-80 h-56 rounded-lg object-cover object-center"}),A.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[A.jsx("div",{className:"font-semibold text-xl",children:t.centreName}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Address: "}),t.centreAddress]}),A.jsx("div",{children:A.jsx("span",{className:"font-semibold",children:"Court Number: "})}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Total price: "}),A.jsx("span",{className:"font-semibold text-rose-600",children:t.totalPrice.toLocaleString("vi-VN",{style:"currency",currency:"VND"})})]}),t.bookingDetails.map(o=>A.jsxs("div",{className:"border-t pt-3",children:[A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Date: "}),De(o.date).format("DD/MM/YYYY")]}),A.jsxs("div",{children:[A.jsx("span",{className:"font-semibold",children:"Court number: "}),o.court.courtNo]}),A.jsxs("div",{children:[A.jsxs("span",{className:"font-semibold",children:["Slot: ",o.slot.slotNo," / "]}),A.jsx("span",{className:"font-semibold",children:"Time: "}),De(o.slot.startTime,"HH:mm:ss").format("HH:mm")," -"," ",De(o.slot.endTime,"HH:mm:ss").format("HH:mm")]})]},o.id)),A.jsx("div",{className:"flex justify-center items-end h-full",children:t.rate===0?A.jsx("button",{className:"block text-center py-1 w-full border bg-primary-green text-white rounded-md font-semibold hover:bg-teal-900 transition-all ease-in-out duration-300",onClick:()=>n(t),children:"Feedback"}):A.jsx(Rl,{ratingWrapper:"flex gap-1",value:t.rate,editable:!1})})]})]}),MNe=()=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"150",height:"150",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-ticket-x",children:[A.jsx("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),A.jsx("path",{d:"m9.5 14.5 5-5"}),A.jsx("path",{d:"m9.5 9.5 5 5"})]}),TNe=({children:t})=>{const n=localStorage.getItem("role");return!n||n==="CUSTOMER"?A.jsx(Dx,{to:"/"}):A.jsx(A.Fragment,{children:t})},JNe=({children:t})=>{const n=localStorage.getItem("role");return!n||n!=="ADMIN"?A.jsx(Dx,{to:"/"}):A.jsx(A.Fragment,{children:t})},tD=({children:t})=>localStorage.getItem("role")?A.jsx(A.Fragment,{children:t}):A.jsx(Dx,{to:"/"}),LNe=()=>{const{t}=on();return A.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:A.jsx("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-100",children:A.jsxs("div",{className:"max-w-screen-1440 1440:mx-auto mx-4 py-8 px-12 w-full flex flex-col gap-3",children:[A.jsx("div",{className:"flex justify-between items-center",children:A.jsx("h1",{className:"text-3xl font-bold font py-8",children:t("aboutUs")})}),A.jsx("div",{className:"flex justify-between items-center",children:A.jsxs("div",{className:"text-3xl font-semibold py-5",children:[A.jsxs("p",{className:"text-2xl font-semibold py-5 text-center",children:[" ",t("COURTSTAR - A healthy body leads to a healthy mind")]}),A.jsxs("p",{className:"text-xl font-semibold py-6",children:[" 1. ",t("History and Development")]}),A.jsxs("div",{className:"text-base font-normal",children:[A.jsx("p",{children:t("foundedIn2024")}),A.jsx("p",{children:t("dynamicTeam")}),A.jsx("p",{children:t("manyCourts")}),A.jsx("p",{children:t("enthusiasticStaff")})]}),A.jsxs("p",{className:"text-xl font-semibold py-6",children:["2. ",t("Mission and Vision")]}),A.jsx("p",{className:"text-lg font-semibold",children:t("Vision")}),A.jsx("p",{className:"font-normal text-base py-6",children:t("visionDescription")}),A.jsx("p",{className:"text-lg font-semibold py-6",children:t("Mission")}),A.jsx("p",{className:"font-normal text-base py-6",children:t("missionDescription")}),A.jsxs("p",{className:"text-xl font-semibold py-6",children:["3. ",t("CourtStar Commitments")]}),A.jsx("p",{className:"text-lg font-semibold py-6",children:t("Commitment to the Guest")}),A.jsx("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:t("guestCommitments",{returnObjects:!0}).map((n,o)=>A.jsx("li",{children:n},o))}),A.jsx("p",{className:"text-lg font-semibold py-6",children:t("Commitment to the Partner")}),A.jsx("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:t("partnerCommitments",{returnObjects:!0}).map((n,o)=>A.jsx("li",{children:n},o))})]})})]})})})},zNe=()=>{const{t}=on();return A.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:A.jsx("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-100",children:A.jsxs("div",{className:"max-w-screen-1440 mx-auto mx-4 py-8 px-12 w-full flex flex-col gap-3",children:[A.jsx("div",{className:"flex justify-between items-center",children:A.jsx("h1",{className:"text-3xl font-bold py-8",children:t("privacyPolicy")})}),A.jsxs("table",{className:"w-fit mx-4 py-8 px-12 flex flex-col gap-3 bg-slate-200",children:[A.jsx("thead",{children:A.jsx("tr",{className:"table-header text-left",children:A.jsx("th",{children:t("quickView")})})}),A.jsxs("tbody",{children:[A.jsx("tr",{children:A.jsx("td",{children:A.jsxs("a",{href:"#personal",children:["1. ",t("personalDataWeCollect")]})})}),A.jsx("tr",{children:A.jsx("td",{children:A.jsxs("a",{href:"#provided",children:["2. ",t("thirdPartyPersonalDataProvided")]})})}),A.jsx("tr",{children:A.jsx("td",{children:A.jsxs("a",{href:"#purpose",children:["3. ",t("purposeForDataProcessing")]})})}),A.jsx("tr",{children:A.jsx("td",{children:A.jsxs("a",{href:"#sharing",children:["4. ",t("sharingPersonalData")]})})}),A.jsx("tr",{children:A.jsx("td",{children:A.jsxs("a",{href:"#international",children:["5. ",t("internationalDataTransfer")]})})}),A.jsx("tr",{children:A.jsx("td",{children:A.jsxs("a",{href:"#storage",children:["6. ",t("dataStorageAndProcessingTime")]})})}),A.jsx("tr",{children:A.jsx("td",{children:A.jsxs("a",{href:"#rights",children:["7. ",t("rightsAndObligationsOfCustomers")]})})}),A.jsx("tr",{children:A.jsx("td",{children:A.jsxs("a",{href:"#protection",children:["8. ",t("dataProtection")]})})}),A.jsx("tr",{children:A.jsx("td",{children:A.jsxs("a",{href:"#cookies",children:["9. ",t("cookies")]})})}),A.jsx("tr",{children:A.jsx("td",{children:A.jsxs("a",{href:"#updating",children:["10. ",t("updatingDataProtectionPolicy")]})})})]})]}),A.jsx("div",{className:"flex justify-between items-center",children:A.jsxs("div",{className:"text-3xl font-semibold py-5",children:[A.jsx("h2",{className:"text-2xl font-semibold py-5",children:t("thankYouForVisiting")}),A.jsx("h3",{className:"text-xl font-semibold py-6",children:t("overview")}),A.jsxs("h4",{className:"text-base font-normal",children:[A.jsx("p",{className:"pb-4",children:t("overviewText1")}),A.jsx("p",{className:"pb-4",children:t("overviewText2")}),A.jsx("p",{className:"pb-4",children:t("overviewText3")})]}),A.jsxs("p",{id:"personal",className:"text-xl font-semibold py-6",children:["1. ",t("personalDataWeCollect")]}),A.jsx("p",{className:"text-base font-normal",children:t("dataCollectionIntro")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["1.1 ",t("personalData")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("personalDataDetails")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["1.2 ",t("personalDataCollectedAutomatically")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("automaticDataCollectionIntro")}),A.jsxs("p",{className:"text-lg font-semibold py-6",children:["1.2.1 ",t("contactInformation")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("contactInformationDetails")}),A.jsxs("p",{className:"text-lg font-semibold py-6",children:["1.2.2 ",t("financialInformation")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("financialInformationDetails")}),A.jsxs("p",{className:"text-lg font-semibold py-6",children:["1.2.3 ",t("transactionInformation")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("transactionInformationDetails")}),A.jsxs("p",{className:"text-lg font-semibold py-6",children:["1.2.4 ",t("behavioralInformation")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("behavioralInformationDetails")}),A.jsxs("p",{className:"text-lg font-semibold py-6",children:["1.2.5 ",t("profileInformation")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("profileInformationDetails")}),A.jsxs("p",{className:"text-lg font-semibold py-6",children:["1.2.6 ",t("marketingAndCommunicationInformation")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("marketingAndCommunicationDetails")}),A.jsxs("p",{id:"provided",className:"text-lg font-semibold py-6",children:["2. ",t("thirdPartyPersonalDataProvided")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("thirdPartyPersonalDataIntro")}),A.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[A.jsx("li",{children:t("thirdPartyPersonalDataItem1")}),A.jsx("li",{children:t("thirdPartyPersonalDataItem2")}),A.jsx("li",{children:t("thirdPartyPersonalDataItem3")}),A.jsx("li",{children:t("thirdPartyPersonalDataItem4")}),A.jsx("li",{children:t("thirdPartyPersonalDataItem5")})]}),A.jsxs("p",{id:"purpose",className:"text-lg font-semibold py-6",children:["3. ",t("purposeForData")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("scopePermitted")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.1 ",t("regisAuthen")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("processData")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.2 ",t("relationManagement")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("processYour")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.3 ",t("dataAnalysis")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("dataPurpose")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.4 ",t("improveProduct")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("dataServe")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.5 ",t("meetFunction")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("weMay")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.6 ",t("informationTech")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("toPerform")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.7 ",t("protectCommon")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("thirdParties")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.8 ",t("complianceLegal")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("complyLegal")}),A.jsxs("p",{id:"sharing",className:"text-lg font-semibold py-6",children:["4. ",t("personalShare")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("mayDisclose")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["4.1 ",t("websiteSocial")," "]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("provideYou")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["4.2 ",t("uponRequest")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("toProtecting")}),A.jsxs("p",{id:"international",className:"text-lg font-semibold py-6",children:["5. ",t("dataTransfer")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("beTransfer")}),A.jsx("p",{className:"text-base font-normal py-6",children:t("legalBasis")}),A.jsxs("p",{id:"storage",className:"text-lg font-semibold py-6",children:["6. ",t("dataStorage")]}),A.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[A.jsx("li",{children:t("storeProcess")}),A.jsx("li",{children:t("ceaseStoring")}),A.jsx("li",{children:t("regulationsAbove")})]}),A.jsxs("p",{id:"rights",className:"text-lg font-semibold py-6",children:["7. ",t("rightsAnd")]}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.1. ",t("knowRight")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("rightTo")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.2. ",t("toConsent")]}),A.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[A.jsx("li",{children:t("haveRight")}),A.jsx("li",{children:t("toWithdraw")})]}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.3. ",t("toAccess")]}),A.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[A.jsx("li",{children:t("toView")}),A.jsx("li",{children:t("notResponsible")})]}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.4. ",t("deleteData")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("toRequest")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.5. ",t("toRestrict")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("toLimit")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.6. ",t("toProvided")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("mayRequest")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.7. ",t("toObject")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("toData")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.8. ",t("toComplain")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("toSubmit")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.9. ",t("toRequests")]}),A.jsx("p",{className:"text-base font-normal py-6",children:t("requestCompensation")}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.10. ",t("toSelf")]}),A.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[A.jsx("li",{children:t("asRegulated")}),A.jsx("li",{children:t("tryTo")}),A.jsx("li",{children:t("mayExercise")}),A.jsx("li",{children:t("ownPrivacy")})]}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.11 ",t("ofCustomers")]}),A.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[A.jsx("li",{children:t("provideFull")}),A.jsx("li",{children:t("respectProtect")}),A.jsx("li",{children:t("otherLegal")})]}),A.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.12. ",t("notesOn")]}),A.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[A.jsx("li",{children:t("ifYou")}),A.jsx("li",{children:t("ofYours")})]}),A.jsxs("p",{id:"protection",className:"text-lg font-semibold py-6 pb-6",children:["8. ",t("dataProtections")]}),A.jsx("p",{className:"text-base font-normal py-6 pb-4",children:t("weHave")}),A.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[A.jsx("li",{children:t("byLaw")}),A.jsx("li",{children:t("rulesOn")}),A.jsx("li",{children:t("conductSecurity")}),A.jsx("li",{children:t("weAlso")}),A.jsx("li",{children:t("theEvent")})]}),A.jsxs("p",{id:"cookies",className:"text-lg font-semibold py-6",children:["9. ",t("forCookies")]}),A.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[A.jsx("li",{children:t("cookieIs")}),A.jsx("li",{children:t("toHelp")}),A.jsx("li",{children:t("acceptDecline")})]}),A.jsxs("p",{id:"updating",className:"text-lg font-semibold py-6",children:["10. ",t("updatingThe")]}),A.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[A.jsx("li",{children:t("mayModify")}),A.jsx("li",{children:t("agreeThat")})]}),A.jsx("p",{className:"text-lg font-semibold py-6",children:t("forConsent")}),A.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[A.jsx("li",{children:t("pleaseRead")}),A.jsx("li",{children:t("notAgree")})]})]})})]})})})},KNe=()=>{const{t}=on();return A.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:A.jsx("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-100",children:A.jsxs("div",{className:"max-w-screen-1440 1440:mx-auto mx-4 py-8 px-12 w-full flex flex-col gap-3",children:[A.jsx("div",{className:"flex justify-between items-center",children:A.jsxs("h1",{className:"text-3xl font-bold font py-8",children:[" ",t("Customer")," "]})}),A.jsx("div",{className:"flex justify-between items-center",children:A.jsxs("div",{className:"text-3xl font-semibold py-5",children:[A.jsxs("p",{className:"text-xl font-semibold py-6",children:[" 1. ",t("basicTerm")]}),A.jsx("div",{className:"text-base font-normal",children:A.jsxs("p",{children:["- ",t("beLiable")," "]})}),A.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:t("basicTerms",{returnObjects:!0}).map((n,o)=>A.jsx("li",{children:n},o))}),A.jsxs("p",{className:"text-xl font-semibold py-6",children:["2. ",t("condition")]}),A.jsx("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:t("generalConditions",{returnObjects:!0}).map((n,o)=>A.jsx("li",{children:n},o))}),A.jsxs("p",{className:"text-xl font-semibold py-6",children:["3. ",t("prohibitedActivity")]}),A.jsx("div",{className:"text-base font-normal",children:A.jsxs("p",{children:["- ",t("useThe")," "]})}),A.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:t("prohibitedActivities",{returnObjects:!0}).map((n,o)=>A.jsx("li",{children:n},o))}),A.jsxs("p",{className:"text-xl font-semibold py-6",children:["4. ",t("refunderPolicy")," "]}),A.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:t("refundPolicy",{returnObjects:!0}).map((n,o)=>A.jsx("li",{children:n},o))}),A.jsx("p",{className:"text-xl font-semibold py-6",children:t("copyRight")}),A.jsx("div",{className:"text-base font-normal",children:A.jsx("p",{children:t("allCopyright")})})]})})]})})})},PNe=()=>{const{t}=on();return A.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:A.jsx("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-100",children:A.jsxs("div",{className:"max-w-screen-1440 1440:mx-auto mx-4 py-8 px-12 w-full flex flex-col gap-3",children:[A.jsx("div",{className:"flex justify-between items-center",children:A.jsx("h1",{className:"text-3xl font-bold font py-8",children:t("Partners")})}),A.jsx("div",{className:"flex justify-between items-center",children:A.jsxs("div",{className:"text-3xl font-semibold py-5",children:[A.jsxs("p",{className:"text-xl font-semibold py-6",children:[" 1. ",t("basicTerm")]}),A.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:t("basicTermsPartner",{returnObjects:!0}).map((n,o)=>A.jsx("li",{children:n},o))}),A.jsxs("p",{className:"text-xl font-semibold py-6",children:["2. ",t("condition")]}),A.jsxs("p",{className:"text-lg font-semibold",children:["2.1 ",t("uploadCourt")," "]}),A.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:t("uploadCondition",{returnObjects:!0}).map((n,o)=>A.jsx("li",{children:n},o))}),A.jsxs("p",{className:"text-lg font-semibold font py-6",children:["2.2 ",t("partnerSharing")," "]}),A.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:t("moneySharing",{returnObjects:!0}).map((n,o)=>A.jsx("li",{children:n},o))}),A.jsxs("p",{className:"text-lg font-semibold font py-6",children:["2.3 ",t("withdrawalPolicy")," "]}),A.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:t("withdrawPolicy",{returnObjects:!0}).map((n,o)=>A.jsx("li",{children:n},o))}),A.jsx("p",{className:"text-lg font-semibold font py-6",children:"2.4 Disable-Court Policy"}),A.jsxs("p",{className:"text-lg font-semibold font py-6",children:["3. ",t("prohibitedActivity")," "]}),A.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:t("prohibitedActPartner",{returnObjects:!0}).map((n,o)=>A.jsx("li",{children:n},o))}),A.jsxs("p",{className:"text-xl font-semibold py-6",children:[" ",t("copyRight")," "]}),A.jsx("div",{className:"text-base font-normal",children:A.jsxs("p",{children:[" ",t("allCopyright")," "]})})]})})]})})})},jNe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%2322c55e'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-circle-check-big'%3e%3cpath%20d='M22%2011.08V12a10%2010%200%201%201-5.93-9.14'/%3e%3cpath%20d='m9%2011%203%203L22%204'/%3e%3c/svg%3e";function ONe(){return new URLSearchParams(Hc().search)}const UNe=()=>{var Z;const[t,n]=q.useState(!0),[o,s]=q.useState(null),[d,m]=q.useState(null),p=ONe(),v=p.get("status"),k=p.get("apptransid");return q.useEffect(()=>{v==="1"?(async()=>{await yt.post("/courtstar/payment/order-info",{appTransId:k}).then(N=>{m(N.data)}).catch(N=>{console.log(N.message)}).finally(()=>{n(!1)})})():n(!1),s(v)},[v,k]),A.jsx("div",{className:"flex flex-col justify-center items-center min-h-[calc(100vh-350px)]",children:t?A.jsx("div",{className:"w-full h-[500px] flex justify-center items-center",children:A.jsx(Sn,{height:"80",width:"80",color:"#2B5A50"})}):A.jsxs("div",{className:"w-full max-w-xl bg-white shadow-lg rounded-lg p-6 m-10",children:[o==="1"?A.jsxs("div",{className:"text-center text-green-500 text-xl font-bold flex justify-center",children:[A.jsx("img",{src:jNe,className:"pr-3",alt:"check"}),"Payment successfully!"]}):A.jsxs("div",{className:"divide-y divide-slate-700",children:[A.jsx("div",{className:"text-center text-red-500 text-3xl font-semibold mb-4",children:"Payment fail!"}),A.jsxs("div",{className:"text-gray-500 text-md text-center mb-4 pt-4",children:["Your payment was not successfully proceed.",A.jsx("br",{}),"Please contact our customer support."]}),A.jsxs("div",{children:[A.jsx("h2",{className:"text-lg font-bold mt-4",children:"Why did it fail?"}),A.jsxs("ol",{children:[A.jsx("li",{children:"Payment is overdue."}),A.jsx("li",{children:"Cancel payment."}),A.jsx("li",{children:"Invalid card's information."})]})]})]}),d&&A.jsx(A.Fragment,{children:A.jsxs("div",{className:"mt-6",children:[A.jsxs("div",{className:"text-gray-500 text-sm text-center my-4",children:["We just sent the booking schedule to your email",A.jsx("br",{}),A.jsx("span",{className:"text-black font-bold",children:d.account?d.account.email:(Z=d.guest)==null?void 0:Z.email})]}),A.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Booking Schedule"}),A.jsxs("div",{className:"mb-4 flex flex-col text-lg",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Centre Name:"})," ",d.centreName]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Centre Address:"})," ",d.centreAddress]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Total Price:"})," ",d.totalPrice.toLocaleString("de-DE"),A.jsx("span",{className:"text-sm font-semibold text-gray-500",children:" VND"})]})]}),d.bookingDetails.map((_,N)=>A.jsxs("div",{className:"mb-4 grid grid-cols-2 text-lg",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Date:"})," ",_.date]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Court No:"})," ",_.court.courtNo]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Status:"})," ",_.checkedIn?"Checked in":"Not yet"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Slot No:"})," ",_.slot.slotNo]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Time:"})," ",De(_.slot.startTime,"hh:mm:ss").format("H:mm")," - ",De(_.slot.endTime,"hh:mm:ss").format("H:mm")]})]},N))]})})]})})};function QNe(){const[t,n]=q.useState(!0);return q.useEffect(()=>{setTimeout(()=>{n(!1)},1e3)},[]),t?A.jsx(Sn,{type:"page",height:"80",width:"80",color:"#2B5A50"}):A.jsx(WAe,{children:A.jsxs(whe,{children:[A.jsx(PAe,{}),A.jsx(Ihe,{children:A.jsxs(uo,{path:"/",element:A.jsx(zAe,{}),children:[A.jsx(uo,{index:!0,element:A.jsx(RSe,{})}),A.jsx(uo,{path:"/partnerRegister",element:A.jsx(G2e,{})}),A.jsx(uo,{path:"/customerRegister",element:A.jsx(R2e,{})}),A.jsx(uo,{path:"/centreBooking/:id",element:A.jsx(Z2e,{})}),A.jsx(uo,{path:"/aboutUs",element:A.jsx(LNe,{})}),A.jsx(uo,{path:"/PrivacyPolicy",element:A.jsx(zNe,{})}),A.jsx(uo,{path:"/CustomerTerm",element:A.jsx(KNe,{})}),A.jsx(uo,{path:"/PartnerTerm",element:A.jsx(PNe,{})}),A.jsx(uo,{path:"/payment/result",element:A.jsx(UNe,{})}),A.jsx(uo,{path:"/myCentre/:id",element:A.jsx(TNe,{children:A.jsx(hNe,{})})}),A.jsx(uo,{path:"/admin",element:A.jsx(JNe,{children:A.jsx(XNe,{})})}),A.jsx(uo,{path:"/profile",element:A.jsx(tD,{children:A.jsx(YNe,{})})}),A.jsx(uo,{path:"/bookingHistory",element:A.jsx(tD,{children:A.jsx(HNe,{})})}),A.jsx(uo,{path:"*",element:A.jsx(KAe,{})})]})})]})})}Ek.createRoot(document.getElementById("root")).render(A.jsx(QNe,{}))});export default qNe();
