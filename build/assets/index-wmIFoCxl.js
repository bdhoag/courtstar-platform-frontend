function uoe(e,t){for(var i=0;i<t.length;i++){const o=t[i];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in e)){const c=Object.getOwnPropertyDescriptor(o,s);c&&Object.defineProperty(e,s,c.get?c:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function i(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=i(s);fetch(s.href,c)}})();var gg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ik(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Zc(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var s=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(i,o,s.get?s:{enumerable:!0,get:function(){return e[o]}})}),i}var l9={exports:{}},bk={},c9={exports:{}},Ai={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb=Symbol.for("react.element"),hoe=Symbol.for("react.portal"),moe=Symbol.for("react.fragment"),poe=Symbol.for("react.strict_mode"),Coe=Symbol.for("react.profiler"),foe=Symbol.for("react.provider"),Ioe=Symbol.for("react.context"),boe=Symbol.for("react.forward_ref"),yoe=Symbol.for("react.suspense"),voe=Symbol.for("react.memo"),woe=Symbol.for("react.lazy"),V4=Symbol.iterator;function koe(e){return e===null||typeof e!="object"?null:(e=V4&&e[V4]||e["@@iterator"],typeof e=="function"?e:null)}var g9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d9=Object.assign,A9={};function qp(e,t,i){this.props=e,this.context=t,this.refs=A9,this.updater=i||g9}qp.prototype.isReactComponent={};qp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function u9(){}u9.prototype=qp.prototype;function JG(e,t,i){this.props=e,this.context=t,this.refs=A9,this.updater=i||g9}var UG=JG.prototype=new u9;UG.constructor=JG;d9(UG,qp.prototype);UG.isPureReactComponent=!0;var E4=Array.isArray,h9=Object.prototype.hasOwnProperty,PG={current:null},m9={key:!0,ref:!0,__self:!0,__source:!0};function p9(e,t,i){var o,s={},c=null,u=null;if(t!=null)for(o in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(c=""+t.key),t)h9.call(t,o)&&!m9.hasOwnProperty(o)&&(s[o]=t[o]);var C=arguments.length-2;if(C===1)s.children=i;else if(1<C){for(var m=Array(C),v=0;v<C;v++)m[v]=arguments[v+2];s.children=m}if(e&&e.defaultProps)for(o in C=e.defaultProps,C)s[o]===void 0&&(s[o]=C[o]);return{$$typeof:xb,type:e,key:c,ref:u,props:s,_owner:PG.current}}function Boe(e,t){return{$$typeof:xb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function KG(e){return typeof e=="object"&&e!==null&&e.$$typeof===xb}function xoe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var F4=/\/+/g;function px(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xoe(""+e.key):t.toString(36)}function Bv(e,t,i,o,s){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(c){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case xb:case hoe:u=!0}}if(u)return u=e,s=s(u),e=o===""?"."+px(u,0):o,E4(s)?(i="",e!=null&&(i=e.replace(F4,"$&/")+"/"),Bv(s,t,i,"",function(v){return v})):s!=null&&(KG(s)&&(s=Boe(s,i+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(F4,"$&/")+"/")+e)),t.push(s)),1;if(u=0,o=o===""?".":o+":",E4(e))for(var C=0;C<e.length;C++){c=e[C];var m=o+px(c,C);u+=Bv(c,t,i,m,s)}else if(m=koe(e),typeof m=="function")for(e=m.call(e),C=0;!(c=e.next()).done;)c=c.value,m=o+px(c,C++),u+=Bv(c,t,i,m,s);else if(c==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Ay(e,t,i){if(e==null)return e;var o=[],s=0;return Bv(e,o,"","",function(c){return t.call(i,c,s++)}),o}function Soe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Os={current:null},xv={transition:null},Zoe={ReactCurrentDispatcher:Os,ReactCurrentBatchConfig:xv,ReactCurrentOwner:PG};function C9(){throw Error("act(...) is not supported in production builds of React.")}Ai.Children={map:Ay,forEach:function(e,t,i){Ay(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return Ay(e,function(){t++}),t},toArray:function(e){return Ay(e,function(t){return t})||[]},only:function(e){if(!KG(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ai.Component=qp;Ai.Fragment=moe;Ai.Profiler=Coe;Ai.PureComponent=JG;Ai.StrictMode=poe;Ai.Suspense=yoe;Ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zoe;Ai.act=C9;Ai.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=d9({},e.props),s=e.key,c=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(c=t.ref,u=PG.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var C=e.type.defaultProps;for(m in t)h9.call(t,m)&&!m9.hasOwnProperty(m)&&(o[m]=t[m]===void 0&&C!==void 0?C[m]:t[m])}var m=arguments.length-2;if(m===1)o.children=i;else if(1<m){C=Array(m);for(var v=0;v<m;v++)C[v]=arguments[v+2];o.children=C}return{$$typeof:xb,type:e.type,key:s,ref:c,props:o,_owner:u}};Ai.createContext=function(e){return e={$$typeof:Ioe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:foe,_context:e},e.Consumer=e};Ai.createElement=p9;Ai.createFactory=function(e){var t=p9.bind(null,e);return t.type=e,t};Ai.createRef=function(){return{current:null}};Ai.forwardRef=function(e){return{$$typeof:boe,render:e}};Ai.isValidElement=KG;Ai.lazy=function(e){return{$$typeof:woe,_payload:{_status:-1,_result:e},_init:Soe}};Ai.memo=function(e,t){return{$$typeof:voe,type:e,compare:t===void 0?null:t}};Ai.startTransition=function(e){var t=xv.transition;xv.transition={};try{e()}finally{xv.transition=t}};Ai.unstable_act=C9;Ai.useCallback=function(e,t){return Os.current.useCallback(e,t)};Ai.useContext=function(e){return Os.current.useContext(e)};Ai.useDebugValue=function(){};Ai.useDeferredValue=function(e){return Os.current.useDeferredValue(e)};Ai.useEffect=function(e,t){return Os.current.useEffect(e,t)};Ai.useId=function(){return Os.current.useId()};Ai.useImperativeHandle=function(e,t,i){return Os.current.useImperativeHandle(e,t,i)};Ai.useInsertionEffect=function(e,t){return Os.current.useInsertionEffect(e,t)};Ai.useLayoutEffect=function(e,t){return Os.current.useLayoutEffect(e,t)};Ai.useMemo=function(e,t){return Os.current.useMemo(e,t)};Ai.useReducer=function(e,t,i){return Os.current.useReducer(e,t,i)};Ai.useRef=function(e){return Os.current.useRef(e)};Ai.useState=function(e){return Os.current.useState(e)};Ai.useSyncExternalStore=function(e,t,i){return Os.current.useSyncExternalStore(e,t,i)};Ai.useTransition=function(){return Os.current.useTransition()};Ai.version="18.3.1";c9.exports=Ai;var le=c9.exports;const ai=Ik(le),sw=uoe({__proto__:null,default:ai},[le]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Goe=le,Roe=Symbol.for("react.element"),Noe=Symbol.for("react.fragment"),_oe=Object.prototype.hasOwnProperty,Voe=Goe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Eoe={key:!0,ref:!0,__self:!0,__source:!0};function f9(e,t,i){var o,s={},c=null,u=null;i!==void 0&&(c=""+i),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(u=t.ref);for(o in t)_oe.call(t,o)&&!Eoe.hasOwnProperty(o)&&(s[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)s[o]===void 0&&(s[o]=t[o]);return{$$typeof:Roe,type:e,key:c,ref:u,props:s,_owner:Voe.current}}bk.Fragment=Noe;bk.jsx=f9;bk.jsxs=f9;l9.exports=bk;var y=l9.exports,aw={},I9={exports:{}},tl={},b9={exports:{}},y9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(fe,Ge){var De=fe.length;fe.push(Ge);e:for(;0<De;){var Pe=De-1>>>1,me=fe[Pe];if(0<s(me,Ge))fe[Pe]=Ge,fe[De]=me,De=Pe;else break e}}function i(fe){return fe.length===0?null:fe[0]}function o(fe){if(fe.length===0)return null;var Ge=fe[0],De=fe.pop();if(De!==Ge){fe[0]=De;e:for(var Pe=0,me=fe.length,_e=me>>>1;Pe<_e;){var pe=2*(Pe+1)-1,Ee=fe[pe],We=pe+1,Ue=fe[We];if(0>s(Ee,De))We<me&&0>s(Ue,Ee)?(fe[Pe]=Ue,fe[We]=De,Pe=We):(fe[Pe]=Ee,fe[pe]=De,Pe=pe);else if(We<me&&0>s(Ue,De))fe[Pe]=Ue,fe[We]=De,Pe=We;else break e}}return Ge}function s(fe,Ge){var De=fe.sortIndex-Ge.sortIndex;return De!==0?De:fe.id-Ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,C=u.now();e.unstable_now=function(){return u.now()-C}}var m=[],v=[],x=1,G=null,B=3,R=!1,V=!1,H=!1,M=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function X(fe){for(var Ge=i(v);Ge!==null;){if(Ge.callback===null)o(v);else if(Ge.startTime<=fe)o(v),Ge.sortIndex=Ge.expirationTime,t(m,Ge);else break;Ge=i(v)}}function Q(fe){if(H=!1,X(fe),!V)if(i(m)!==null)V=!0,ye(j);else{var Ge=i(v);Ge!==null&&ve(Q,Ge.startTime-fe)}}function j(fe,Ge){V=!1,H&&(H=!1,L(O),O=-1),R=!0;var De=B;try{for(X(Ge),G=i(m);G!==null&&(!(G.expirationTime>Ge)||fe&&!ne());){var Pe=G.callback;if(typeof Pe=="function"){G.callback=null,B=G.priorityLevel;var me=Pe(G.expirationTime<=Ge);Ge=e.unstable_now(),typeof me=="function"?G.callback=me:G===i(m)&&o(m),X(Ge)}else o(m);G=i(m)}if(G!==null)var _e=!0;else{var pe=i(v);pe!==null&&ve(Q,pe.startTime-Ge),_e=!1}return _e}finally{G=null,B=De,R=!1}}var re=!1,P=null,O=-1,de=5,ce=-1;function ne(){return!(e.unstable_now()-ce<de)}function oe(){if(P!==null){var fe=e.unstable_now();ce=fe;var Ge=!0;try{Ge=P(!0,fe)}finally{Ge?be():(re=!1,P=null)}}else re=!1}var be;if(typeof _=="function")be=function(){_(oe)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,Re=Ie.port2;Ie.port1.onmessage=oe,be=function(){Re.postMessage(null)}}else be=function(){M(oe,0)};function ye(fe){P=fe,re||(re=!0,be())}function ve(fe,Ge){O=M(function(){fe(e.unstable_now())},Ge)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(fe){fe.callback=null},e.unstable_continueExecution=function(){V||R||(V=!0,ye(j))},e.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<fe?Math.floor(1e3/fe):5},e.unstable_getCurrentPriorityLevel=function(){return B},e.unstable_getFirstCallbackNode=function(){return i(m)},e.unstable_next=function(fe){switch(B){case 1:case 2:case 3:var Ge=3;break;default:Ge=B}var De=B;B=Ge;try{return fe()}finally{B=De}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(fe,Ge){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var De=B;B=fe;try{return Ge()}finally{B=De}},e.unstable_scheduleCallback=function(fe,Ge,De){var Pe=e.unstable_now();switch(typeof De=="object"&&De!==null?(De=De.delay,De=typeof De=="number"&&0<De?Pe+De:Pe):De=Pe,fe){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=De+me,fe={id:x++,callback:Ge,priorityLevel:fe,startTime:De,expirationTime:me,sortIndex:-1},De>Pe?(fe.sortIndex=De,t(v,fe),i(m)===null&&fe===i(v)&&(H?(L(O),O=-1):H=!0,ve(Q,De-Pe))):(fe.sortIndex=me,t(m,fe),V||R||(V=!0,ye(j))),fe},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(fe){var Ge=B;return function(){var De=B;B=Ge;try{return fe.apply(this,arguments)}finally{B=De}}}})(y9);b9.exports=y9;var Foe=b9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Woe=le,el=Foe;function qt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v9=new Set,HI={};function _h(e,t){Ep(e,t),Ep(e+"Capture",t)}function Ep(e,t){for(HI[e]=t,e=0;e<t.length;e++)v9.add(t[e])}var bd=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r5=Object.prototype.hasOwnProperty,Hoe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W4={},H4={};function Doe(e){return r5.call(H4,e)?!0:r5.call(W4,e)?!1:Hoe.test(e)?H4[e]=!0:(W4[e]=!0,!1)}function Toe(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Loe(e,t,i,o){if(t===null||typeof t>"u"||Toe(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qs(e,t,i,o,s,c,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=u}var ps={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ps[e]=new qs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ps[t]=new qs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ps[e]=new qs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ps[e]=new qs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ps[e]=new qs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ps[e]=new qs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ps[e]=new qs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ps[e]=new qs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ps[e]=new qs(e,5,!1,e.toLowerCase(),null,!1,!1)});var zG=/[\-:]([a-z])/g;function QG(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zG,QG);ps[t]=new qs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zG,QG);ps[t]=new qs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zG,QG);ps[t]=new qs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ps[e]=new qs(e,1,!1,e.toLowerCase(),null,!1,!1)});ps.xlinkHref=new qs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ps[e]=new qs(e,1,!1,e.toLowerCase(),null,!0,!0)});function jG(e,t,i,o){var s=ps.hasOwnProperty(t)?ps[t]:null;(s!==null?s.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Loe(t,i,s,o)&&(i=null),o||s===null?Doe(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):s.mustUseProperty?e[s.propertyName]=i===null?s.type===3?!1:"":i:(t=s.attributeName,o=s.attributeNamespace,i===null?e.removeAttribute(t):(s=s.type,i=s===3||s===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var Zd=Woe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uy=Symbol.for("react.element"),sp=Symbol.for("react.portal"),ap=Symbol.for("react.fragment"),OG=Symbol.for("react.strict_mode"),o5=Symbol.for("react.profiler"),w9=Symbol.for("react.provider"),k9=Symbol.for("react.context"),qG=Symbol.for("react.forward_ref"),s5=Symbol.for("react.suspense"),a5=Symbol.for("react.suspense_list"),$G=Symbol.for("react.memo"),hA=Symbol.for("react.lazy"),B9=Symbol.for("react.offscreen"),D4=Symbol.iterator;function mf(e){return e===null||typeof e!="object"?null:(e=D4&&e[D4]||e["@@iterator"],typeof e=="function"?e:null)}var Tr=Object.assign,Cx;function Mf(e){if(Cx===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Cx=t&&t[1]||""}return`
`+Cx+e}var fx=!1;function Ix(e,t){if(!e||fx)return"";fx=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(v){var o=v}Reflect.construct(e,[],t)}else{try{t.call()}catch(v){o=v}e.call(t.prototype)}else{try{throw Error()}catch(v){o=v}e()}}catch(v){if(v&&o&&typeof v.stack=="string"){for(var s=v.stack.split(`
`),c=o.stack.split(`
`),u=s.length-1,C=c.length-1;1<=u&&0<=C&&s[u]!==c[C];)C--;for(;1<=u&&0<=C;u--,C--)if(s[u]!==c[C]){if(u!==1||C!==1)do if(u--,C--,0>C||s[u]!==c[C]){var m=`
`+s[u].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=u&&0<=C);break}}}finally{fx=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Mf(e):""}function Xoe(e){switch(e.tag){case 5:return Mf(e.type);case 16:return Mf("Lazy");case 13:return Mf("Suspense");case 19:return Mf("SuspenseList");case 0:case 2:case 15:return e=Ix(e.type,!1),e;case 11:return e=Ix(e.type.render,!1),e;case 1:return e=Ix(e.type,!0),e;default:return""}}function l5(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ap:return"Fragment";case sp:return"Portal";case o5:return"Profiler";case OG:return"StrictMode";case s5:return"Suspense";case a5:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case k9:return(e.displayName||"Context")+".Consumer";case w9:return(e._context.displayName||"Context")+".Provider";case qG:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $G:return t=e.displayName||null,t!==null?t:l5(e.type)||"Memo";case hA:t=e._payload,e=e._init;try{return l5(e(t))}catch{}}return null}function Moe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return l5(t);case 8:return t===OG?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function KA(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function x9(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yoe(e){var t=x9(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(u){o=""+u,c.call(this,u)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(u){o=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hy(e){e._valueTracker||(e._valueTracker=Yoe(e))}function S9(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=x9(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function lw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function c5(e,t){var i=t.checked;return Tr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function T4(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=KA(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Z9(e,t){t=t.checked,t!=null&&jG(e,"checked",t,!1)}function g5(e,t){Z9(e,t);var i=KA(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?d5(e,t.type,i):t.hasOwnProperty("defaultValue")&&d5(e,t.type,KA(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function L4(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function d5(e,t,i){(t!=="number"||lw(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Yf=Array.isArray;function yp(e,t,i,o){if(e=e.options,t){t={};for(var s=0;s<i.length;s++)t["$"+i[s]]=!0;for(i=0;i<e.length;i++)s=t.hasOwnProperty("$"+e[i].value),e[i].selected!==s&&(e[i].selected=s),s&&o&&(e[i].defaultSelected=!0)}else{for(i=""+KA(i),t=null,s=0;s<e.length;s++){if(e[s].value===i){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function A5(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(qt(91));return Tr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function X4(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(qt(92));if(Yf(i)){if(1<i.length)throw Error(qt(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:KA(i)}}function G9(e,t){var i=KA(t.value),o=KA(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function M4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function R9(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function u5(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?R9(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var my,N9=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,s){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(my=my||document.createElement("div"),my.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=my.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function DI(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var rI={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Joe=["Webkit","ms","Moz","O"];Object.keys(rI).forEach(function(e){Joe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rI[t]=rI[e]})});function _9(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||rI.hasOwnProperty(e)&&rI[e]?(""+t).trim():t+"px"}function V9(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,s=_9(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,s):e[i]=s}}var Uoe=Tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h5(e,t){if(t){if(Uoe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(qt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(qt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(qt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(qt(62))}}function m5(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p5=null;function eR(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var C5=null,vp=null,wp=null;function Y4(e){if(e=Gb(e)){if(typeof C5!="function")throw Error(qt(280));var t=e.stateNode;t&&(t=Bk(t),C5(e.stateNode,e.type,t))}}function E9(e){vp?wp?wp.push(e):wp=[e]:vp=e}function F9(){if(vp){var e=vp,t=wp;if(wp=vp=null,Y4(e),t)for(e=0;e<t.length;e++)Y4(t[e])}}function W9(e,t){return e(t)}function H9(){}var bx=!1;function D9(e,t,i){if(bx)return e(t,i);bx=!0;try{return W9(e,t,i)}finally{bx=!1,(vp!==null||wp!==null)&&(H9(),F9())}}function TI(e,t){var i=e.stateNode;if(i===null)return null;var o=Bk(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(qt(231,t,typeof i));return i}var f5=!1;if(bd)try{var pf={};Object.defineProperty(pf,"passive",{get:function(){f5=!0}}),window.addEventListener("test",pf,pf),window.removeEventListener("test",pf,pf)}catch{f5=!1}function Poe(e,t,i,o,s,c,u,C,m){var v=Array.prototype.slice.call(arguments,3);try{t.apply(i,v)}catch(x){this.onError(x)}}var oI=!1,cw=null,gw=!1,I5=null,Koe={onError:function(e){oI=!0,cw=e}};function zoe(e,t,i,o,s,c,u,C,m){oI=!1,cw=null,Poe.apply(Koe,arguments)}function Qoe(e,t,i,o,s,c,u,C,m){if(zoe.apply(this,arguments),oI){if(oI){var v=cw;oI=!1,cw=null}else throw Error(qt(198));gw||(gw=!0,I5=v)}}function Vh(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function T9(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function J4(e){if(Vh(e)!==e)throw Error(qt(188))}function joe(e){var t=e.alternate;if(!t){if(t=Vh(e),t===null)throw Error(qt(188));return t!==e?null:e}for(var i=e,o=t;;){var s=i.return;if(s===null)break;var c=s.alternate;if(c===null){if(o=s.return,o!==null){i=o;continue}break}if(s.child===c.child){for(c=s.child;c;){if(c===i)return J4(s),e;if(c===o)return J4(s),t;c=c.sibling}throw Error(qt(188))}if(i.return!==o.return)i=s,o=c;else{for(var u=!1,C=s.child;C;){if(C===i){u=!0,i=s,o=c;break}if(C===o){u=!0,o=s,i=c;break}C=C.sibling}if(!u){for(C=c.child;C;){if(C===i){u=!0,i=c,o=s;break}if(C===o){u=!0,o=c,i=s;break}C=C.sibling}if(!u)throw Error(qt(189))}}if(i.alternate!==o)throw Error(qt(190))}if(i.tag!==3)throw Error(qt(188));return i.stateNode.current===i?e:t}function L9(e){return e=joe(e),e!==null?X9(e):null}function X9(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=X9(e);if(t!==null)return t;e=e.sibling}return null}var M9=el.unstable_scheduleCallback,U4=el.unstable_cancelCallback,Ooe=el.unstable_shouldYield,qoe=el.unstable_requestPaint,lo=el.unstable_now,$oe=el.unstable_getCurrentPriorityLevel,tR=el.unstable_ImmediatePriority,Y9=el.unstable_UserBlockingPriority,dw=el.unstable_NormalPriority,ese=el.unstable_LowPriority,J9=el.unstable_IdlePriority,yk=null,pg=null;function tse(e){if(pg&&typeof pg.onCommitFiberRoot=="function")try{pg.onCommitFiberRoot(yk,e,void 0,(e.current.flags&128)===128)}catch{}}var bc=Math.clz32?Math.clz32:rse,nse=Math.log,ise=Math.LN2;function rse(e){return e>>>=0,e===0?32:31-(nse(e)/ise|0)|0}var py=64,Cy=4194304;function Jf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Aw(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,s=e.suspendedLanes,c=e.pingedLanes,u=i&268435455;if(u!==0){var C=u&~s;C!==0?o=Jf(C):(c&=u,c!==0&&(o=Jf(c)))}else u=i&~s,u!==0?o=Jf(u):c!==0&&(o=Jf(c));if(o===0)return 0;if(t!==0&&t!==o&&!(t&s)&&(s=o&-o,c=t&-t,s>=c||s===16&&(c&4194240)!==0))return t;if(o&4&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-bc(t),s=1<<i,o|=e[i],t&=~s;return o}function ose(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sse(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,c=e.pendingLanes;0<c;){var u=31-bc(c),C=1<<u,m=s[u];m===-1?(!(C&i)||C&o)&&(s[u]=ose(C,t)):m<=t&&(e.expiredLanes|=C),c&=~C}}function b5(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function U9(){var e=py;return py<<=1,!(py&4194240)&&(py=64),e}function yx(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Sb(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bc(t),e[t]=i}function ase(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var s=31-bc(i),c=1<<s;t[s]=0,o[s]=-1,e[s]=-1,i&=~c}}function nR(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-bc(i),s=1<<o;s&t|e[o]&t&&(e[o]|=t),i&=~s}}var Qi=0;function P9(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var K9,iR,z9,Q9,j9,y5=!1,fy=[],NA=null,_A=null,VA=null,LI=new Map,XI=new Map,fA=[],lse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function P4(e,t){switch(e){case"focusin":case"focusout":NA=null;break;case"dragenter":case"dragleave":_A=null;break;case"mouseover":case"mouseout":VA=null;break;case"pointerover":case"pointerout":LI.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":XI.delete(t.pointerId)}}function Cf(e,t,i,o,s,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:c,targetContainers:[s]},t!==null&&(t=Gb(t),t!==null&&iR(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function cse(e,t,i,o,s){switch(t){case"focusin":return NA=Cf(NA,e,t,i,o,s),!0;case"dragenter":return _A=Cf(_A,e,t,i,o,s),!0;case"mouseover":return VA=Cf(VA,e,t,i,o,s),!0;case"pointerover":var c=s.pointerId;return LI.set(c,Cf(LI.get(c)||null,e,t,i,o,s)),!0;case"gotpointercapture":return c=s.pointerId,XI.set(c,Cf(XI.get(c)||null,e,t,i,o,s)),!0}return!1}function O9(e){var t=eh(e.target);if(t!==null){var i=Vh(t);if(i!==null){if(t=i.tag,t===13){if(t=T9(i),t!==null){e.blockedOn=t,j9(e.priority,function(){z9(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=v5(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);p5=o,i.target.dispatchEvent(o),p5=null}else return t=Gb(i),t!==null&&iR(t),e.blockedOn=i,!1;t.shift()}return!0}function K4(e,t,i){Sv(e)&&i.delete(t)}function gse(){y5=!1,NA!==null&&Sv(NA)&&(NA=null),_A!==null&&Sv(_A)&&(_A=null),VA!==null&&Sv(VA)&&(VA=null),LI.forEach(K4),XI.forEach(K4)}function ff(e,t){e.blockedOn===t&&(e.blockedOn=null,y5||(y5=!0,el.unstable_scheduleCallback(el.unstable_NormalPriority,gse)))}function MI(e){function t(s){return ff(s,e)}if(0<fy.length){ff(fy[0],e);for(var i=1;i<fy.length;i++){var o=fy[i];o.blockedOn===e&&(o.blockedOn=null)}}for(NA!==null&&ff(NA,e),_A!==null&&ff(_A,e),VA!==null&&ff(VA,e),LI.forEach(t),XI.forEach(t),i=0;i<fA.length;i++)o=fA[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<fA.length&&(i=fA[0],i.blockedOn===null);)O9(i),i.blockedOn===null&&fA.shift()}var kp=Zd.ReactCurrentBatchConfig,uw=!0;function dse(e,t,i,o){var s=Qi,c=kp.transition;kp.transition=null;try{Qi=1,rR(e,t,i,o)}finally{Qi=s,kp.transition=c}}function Ase(e,t,i,o){var s=Qi,c=kp.transition;kp.transition=null;try{Qi=4,rR(e,t,i,o)}finally{Qi=s,kp.transition=c}}function rR(e,t,i,o){if(uw){var s=v5(e,t,i,o);if(s===null)Nx(e,t,o,hw,i),P4(e,o);else if(cse(s,e,t,i,o))o.stopPropagation();else if(P4(e,o),t&4&&-1<lse.indexOf(e)){for(;s!==null;){var c=Gb(s);if(c!==null&&K9(c),c=v5(e,t,i,o),c===null&&Nx(e,t,o,hw,i),c===s)break;s=c}s!==null&&o.stopPropagation()}else Nx(e,t,o,null,i)}}var hw=null;function v5(e,t,i,o){if(hw=null,e=eR(o),e=eh(e),e!==null)if(t=Vh(e),t===null)e=null;else if(i=t.tag,i===13){if(e=T9(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hw=e,null}function q9(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($oe()){case tR:return 1;case Y9:return 4;case dw:case ese:return 16;case J9:return 536870912;default:return 16}default:return 16}}var vA=null,oR=null,Zv=null;function $9(){if(Zv)return Zv;var e,t=oR,i=t.length,o,s="value"in vA?vA.value:vA.textContent,c=s.length;for(e=0;e<i&&t[e]===s[e];e++);var u=i-e;for(o=1;o<=u&&t[i-o]===s[c-o];o++);return Zv=s.slice(e,1<o?1-o:void 0)}function Gv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Iy(){return!0}function z4(){return!1}function nl(e){function t(i,o,s,c,u){this._reactName=i,this._targetInst=s,this.type=o,this.nativeEvent=c,this.target=u,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(i=e[C],this[C]=i?i(c):c[C]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Iy:z4,this.isPropagationStopped=z4,this}return Tr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Iy)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Iy)},persist:function(){},isPersistent:Iy}),t}var $p={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sR=nl($p),Zb=Tr({},$p,{view:0,detail:0}),use=nl(Zb),vx,wx,If,vk=Tr({},Zb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aR,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==If&&(If&&e.type==="mousemove"?(vx=e.screenX-If.screenX,wx=e.screenY-If.screenY):wx=vx=0,If=e),vx)},movementY:function(e){return"movementY"in e?e.movementY:wx}}),Q4=nl(vk),hse=Tr({},vk,{dataTransfer:0}),mse=nl(hse),pse=Tr({},Zb,{relatedTarget:0}),kx=nl(pse),Cse=Tr({},$p,{animationName:0,elapsedTime:0,pseudoElement:0}),fse=nl(Cse),Ise=Tr({},$p,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bse=nl(Ise),yse=Tr({},$p,{data:0}),j4=nl(yse),vse={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wse={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kse={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bse(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kse[e])?!!t[e]:!1}function aR(){return Bse}var xse=Tr({},Zb,{key:function(e){if(e.key){var t=vse[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wse[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aR,charCode:function(e){return e.type==="keypress"?Gv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sse=nl(xse),Zse=Tr({},vk,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O4=nl(Zse),Gse=Tr({},Zb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aR}),Rse=nl(Gse),Nse=Tr({},$p,{propertyName:0,elapsedTime:0,pseudoElement:0}),_se=nl(Nse),Vse=Tr({},vk,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ese=nl(Vse),Fse=[9,13,27,32],lR=bd&&"CompositionEvent"in window,sI=null;bd&&"documentMode"in document&&(sI=document.documentMode);var Wse=bd&&"TextEvent"in window&&!sI,eJ=bd&&(!lR||sI&&8<sI&&11>=sI),q4=" ",$4=!1;function tJ(e,t){switch(e){case"keyup":return Fse.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nJ(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var lp=!1;function Hse(e,t){switch(e){case"compositionend":return nJ(t);case"keypress":return t.which!==32?null:($4=!0,q4);case"textInput":return e=t.data,e===q4&&$4?null:e;default:return null}}function Dse(e,t){if(lp)return e==="compositionend"||!lR&&tJ(e,t)?(e=$9(),Zv=oR=vA=null,lp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return eJ&&t.locale!=="ko"?null:t.data;default:return null}}var Tse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tse[e.type]:t==="textarea"}function iJ(e,t,i,o){E9(o),t=mw(t,"onChange"),0<t.length&&(i=new sR("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var aI=null,YI=null;function Lse(e){hJ(e,0)}function wk(e){var t=dp(e);if(S9(t))return e}function Xse(e,t){if(e==="change")return t}var rJ=!1;if(bd){var Bx;if(bd){var xx="oninput"in document;if(!xx){var tT=document.createElement("div");tT.setAttribute("oninput","return;"),xx=typeof tT.oninput=="function"}Bx=xx}else Bx=!1;rJ=Bx&&(!document.documentMode||9<document.documentMode)}function nT(){aI&&(aI.detachEvent("onpropertychange",oJ),YI=aI=null)}function oJ(e){if(e.propertyName==="value"&&wk(YI)){var t=[];iJ(t,YI,e,eR(e)),D9(Lse,t)}}function Mse(e,t,i){e==="focusin"?(nT(),aI=t,YI=i,aI.attachEvent("onpropertychange",oJ)):e==="focusout"&&nT()}function Yse(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wk(YI)}function Jse(e,t){if(e==="click")return wk(t)}function Use(e,t){if(e==="input"||e==="change")return wk(t)}function Pse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kc=typeof Object.is=="function"?Object.is:Pse;function JI(e,t){if(kc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var s=i[o];if(!r5.call(t,s)||!kc(e[s],t[s]))return!1}return!0}function iT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rT(e,t){var i=iT(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=iT(i)}}function sJ(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sJ(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function aJ(){for(var e=window,t=lw();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=lw(e.document)}return t}function cR(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kse(e){var t=aJ(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&sJ(i.ownerDocument.documentElement,i)){if(o!==null&&cR(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=i.textContent.length,c=Math.min(o.start,s);o=o.end===void 0?c:Math.min(o.end,s),!e.extend&&c>o&&(s=o,o=c,c=s),s=rT(i,c);var u=rT(i,o);s&&u&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),c>o?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zse=bd&&"documentMode"in document&&11>=document.documentMode,cp=null,w5=null,lI=null,k5=!1;function oT(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;k5||cp==null||cp!==lw(o)||(o=cp,"selectionStart"in o&&cR(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),lI&&JI(lI,o)||(lI=o,o=mw(w5,"onSelect"),0<o.length&&(t=new sR("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=cp)))}function by(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var gp={animationend:by("Animation","AnimationEnd"),animationiteration:by("Animation","AnimationIteration"),animationstart:by("Animation","AnimationStart"),transitionend:by("Transition","TransitionEnd")},Sx={},lJ={};bd&&(lJ=document.createElement("div").style,"AnimationEvent"in window||(delete gp.animationend.animation,delete gp.animationiteration.animation,delete gp.animationstart.animation),"TransitionEvent"in window||delete gp.transitionend.transition);function kk(e){if(Sx[e])return Sx[e];if(!gp[e])return e;var t=gp[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in lJ)return Sx[e]=t[i];return e}var cJ=kk("animationend"),gJ=kk("animationiteration"),dJ=kk("animationstart"),AJ=kk("transitionend"),uJ=new Map,sT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $A(e,t){uJ.set(e,t),_h(t,[e])}for(var Zx=0;Zx<sT.length;Zx++){var Gx=sT[Zx],Qse=Gx.toLowerCase(),jse=Gx[0].toUpperCase()+Gx.slice(1);$A(Qse,"on"+jse)}$A(cJ,"onAnimationEnd");$A(gJ,"onAnimationIteration");$A(dJ,"onAnimationStart");$A("dblclick","onDoubleClick");$A("focusin","onFocus");$A("focusout","onBlur");$A(AJ,"onTransitionEnd");Ep("onMouseEnter",["mouseout","mouseover"]);Ep("onMouseLeave",["mouseout","mouseover"]);Ep("onPointerEnter",["pointerout","pointerover"]);Ep("onPointerLeave",["pointerout","pointerover"]);_h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_h("onBeforeInput",["compositionend","keypress","textInput","paste"]);_h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ose=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uf));function aT(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,Qoe(o,t,void 0,e),e.currentTarget=null}function hJ(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],s=o.event;o=o.listeners;e:{var c=void 0;if(t)for(var u=o.length-1;0<=u;u--){var C=o[u],m=C.instance,v=C.currentTarget;if(C=C.listener,m!==c&&s.isPropagationStopped())break e;aT(s,C,v),c=m}else for(u=0;u<o.length;u++){if(C=o[u],m=C.instance,v=C.currentTarget,C=C.listener,m!==c&&s.isPropagationStopped())break e;aT(s,C,v),c=m}}}if(gw)throw e=I5,gw=!1,I5=null,e}function pr(e,t){var i=t[G5];i===void 0&&(i=t[G5]=new Set);var o=e+"__bubble";i.has(o)||(mJ(t,e,2,!1),i.add(o))}function Rx(e,t,i){var o=0;t&&(o|=4),mJ(i,e,o,t)}var yy="_reactListening"+Math.random().toString(36).slice(2);function UI(e){if(!e[yy]){e[yy]=!0,v9.forEach(function(i){i!=="selectionchange"&&(Ose.has(i)||Rx(i,!1,e),Rx(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yy]||(t[yy]=!0,Rx("selectionchange",!1,t))}}function mJ(e,t,i,o){switch(q9(t)){case 1:var s=dse;break;case 4:s=Ase;break;default:s=rR}i=s.bind(null,t,i,e),s=void 0,!f5||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(t,i,{capture:!0,passive:s}):e.addEventListener(t,i,!0):s!==void 0?e.addEventListener(t,i,{passive:s}):e.addEventListener(t,i,!1)}function Nx(e,t,i,o,s){var c=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var u=o.tag;if(u===3||u===4){var C=o.stateNode.containerInfo;if(C===s||C.nodeType===8&&C.parentNode===s)break;if(u===4)for(u=o.return;u!==null;){var m=u.tag;if((m===3||m===4)&&(m=u.stateNode.containerInfo,m===s||m.nodeType===8&&m.parentNode===s))return;u=u.return}for(;C!==null;){if(u=eh(C),u===null)return;if(m=u.tag,m===5||m===6){o=c=u;continue e}C=C.parentNode}}o=o.return}D9(function(){var v=c,x=eR(i),G=[];e:{var B=uJ.get(e);if(B!==void 0){var R=sR,V=e;switch(e){case"keypress":if(Gv(i)===0)break e;case"keydown":case"keyup":R=Sse;break;case"focusin":V="focus",R=kx;break;case"focusout":V="blur",R=kx;break;case"beforeblur":case"afterblur":R=kx;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Q4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=mse;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Rse;break;case cJ:case gJ:case dJ:R=fse;break;case AJ:R=_se;break;case"scroll":R=use;break;case"wheel":R=Ese;break;case"copy":case"cut":case"paste":R=bse;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=O4}var H=(t&4)!==0,M=!H&&e==="scroll",L=H?B!==null?B+"Capture":null:B;H=[];for(var _=v,X;_!==null;){X=_;var Q=X.stateNode;if(X.tag===5&&Q!==null&&(X=Q,L!==null&&(Q=TI(_,L),Q!=null&&H.push(PI(_,Q,X)))),M)break;_=_.return}0<H.length&&(B=new R(B,V,null,i,x),G.push({event:B,listeners:H}))}}if(!(t&7)){e:{if(B=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",B&&i!==p5&&(V=i.relatedTarget||i.fromElement)&&(eh(V)||V[yd]))break e;if((R||B)&&(B=x.window===x?x:(B=x.ownerDocument)?B.defaultView||B.parentWindow:window,R?(V=i.relatedTarget||i.toElement,R=v,V=V?eh(V):null,V!==null&&(M=Vh(V),V!==M||V.tag!==5&&V.tag!==6)&&(V=null)):(R=null,V=v),R!==V)){if(H=Q4,Q="onMouseLeave",L="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(H=O4,Q="onPointerLeave",L="onPointerEnter",_="pointer"),M=R==null?B:dp(R),X=V==null?B:dp(V),B=new H(Q,_+"leave",R,i,x),B.target=M,B.relatedTarget=X,Q=null,eh(x)===v&&(H=new H(L,_+"enter",V,i,x),H.target=X,H.relatedTarget=M,Q=H),M=Q,R&&V)t:{for(H=R,L=V,_=0,X=H;X;X=Nm(X))_++;for(X=0,Q=L;Q;Q=Nm(Q))X++;for(;0<_-X;)H=Nm(H),_--;for(;0<X-_;)L=Nm(L),X--;for(;_--;){if(H===L||L!==null&&H===L.alternate)break t;H=Nm(H),L=Nm(L)}H=null}else H=null;R!==null&&lT(G,B,R,H,!1),V!==null&&M!==null&&lT(G,M,V,H,!0)}}e:{if(B=v?dp(v):window,R=B.nodeName&&B.nodeName.toLowerCase(),R==="select"||R==="input"&&B.type==="file")var j=Xse;else if(eT(B))if(rJ)j=Use;else{j=Yse;var re=Mse}else(R=B.nodeName)&&R.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(j=Jse);if(j&&(j=j(e,v))){iJ(G,j,i,x);break e}re&&re(e,B,v),e==="focusout"&&(re=B._wrapperState)&&re.controlled&&B.type==="number"&&d5(B,"number",B.value)}switch(re=v?dp(v):window,e){case"focusin":(eT(re)||re.contentEditable==="true")&&(cp=re,w5=v,lI=null);break;case"focusout":lI=w5=cp=null;break;case"mousedown":k5=!0;break;case"contextmenu":case"mouseup":case"dragend":k5=!1,oT(G,i,x);break;case"selectionchange":if(zse)break;case"keydown":case"keyup":oT(G,i,x)}var P;if(lR)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else lp?tJ(e,i)&&(O="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(O="onCompositionStart");O&&(eJ&&i.locale!=="ko"&&(lp||O!=="onCompositionStart"?O==="onCompositionEnd"&&lp&&(P=$9()):(vA=x,oR="value"in vA?vA.value:vA.textContent,lp=!0)),re=mw(v,O),0<re.length&&(O=new j4(O,e,null,i,x),G.push({event:O,listeners:re}),P?O.data=P:(P=nJ(i),P!==null&&(O.data=P)))),(P=Wse?Hse(e,i):Dse(e,i))&&(v=mw(v,"onBeforeInput"),0<v.length&&(x=new j4("onBeforeInput","beforeinput",null,i,x),G.push({event:x,listeners:v}),x.data=P))}hJ(G,t)})}function PI(e,t,i){return{instance:e,listener:t,currentTarget:i}}function mw(e,t){for(var i=t+"Capture",o=[];e!==null;){var s=e,c=s.stateNode;s.tag===5&&c!==null&&(s=c,c=TI(e,i),c!=null&&o.unshift(PI(e,c,s)),c=TI(e,t),c!=null&&o.push(PI(e,c,s))),e=e.return}return o}function Nm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lT(e,t,i,o,s){for(var c=t._reactName,u=[];i!==null&&i!==o;){var C=i,m=C.alternate,v=C.stateNode;if(m!==null&&m===o)break;C.tag===5&&v!==null&&(C=v,s?(m=TI(i,c),m!=null&&u.unshift(PI(i,m,C))):s||(m=TI(i,c),m!=null&&u.push(PI(i,m,C)))),i=i.return}u.length!==0&&e.push({event:t,listeners:u})}var qse=/\r\n?/g,$se=/\u0000|\uFFFD/g;function cT(e){return(typeof e=="string"?e:""+e).replace(qse,`
`).replace($se,"")}function vy(e,t,i){if(t=cT(t),cT(e)!==t&&i)throw Error(qt(425))}function pw(){}var B5=null,x5=null;function S5(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Z5=typeof setTimeout=="function"?setTimeout:void 0,eae=typeof clearTimeout=="function"?clearTimeout:void 0,gT=typeof Promise=="function"?Promise:void 0,tae=typeof queueMicrotask=="function"?queueMicrotask:typeof gT<"u"?function(e){return gT.resolve(null).then(e).catch(nae)}:Z5;function nae(e){setTimeout(function(){throw e})}function _x(e,t){var i=t,o=0;do{var s=i.nextSibling;if(e.removeChild(i),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(o===0){e.removeChild(s),MI(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=s}while(i);MI(t)}function EA(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var eC=Math.random().toString(36).slice(2),lg="__reactFiber$"+eC,KI="__reactProps$"+eC,yd="__reactContainer$"+eC,G5="__reactEvents$"+eC,iae="__reactListeners$"+eC,rae="__reactHandles$"+eC;function eh(e){var t=e[lg];if(t)return t;for(var i=e.parentNode;i;){if(t=i[yd]||i[lg]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=dT(e);e!==null;){if(i=e[lg])return i;e=dT(e)}return t}e=i,i=e.parentNode}return null}function Gb(e){return e=e[lg]||e[yd],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(qt(33))}function Bk(e){return e[KI]||null}var R5=[],Ap=-1;function eu(e){return{current:e}}function yr(e){0>Ap||(e.current=R5[Ap],R5[Ap]=null,Ap--)}function ur(e,t){Ap++,R5[Ap]=e.current,e.current=t}var zA={},Fs=eu(zA),Ia=eu(!1),yh=zA;function Fp(e,t){var i=e.type.contextTypes;if(!i)return zA;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var s={},c;for(c in i)s[c]=t[c];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ba(e){return e=e.childContextTypes,e!=null}function Cw(){yr(Ia),yr(Fs)}function AT(e,t,i){if(Fs.current!==zA)throw Error(qt(168));ur(Fs,t),ur(Ia,i)}function pJ(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var s in o)if(!(s in t))throw Error(qt(108,Moe(e)||"Unknown",s));return Tr({},i,o)}function fw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zA,yh=Fs.current,ur(Fs,e),ur(Ia,Ia.current),!0}function uT(e,t,i){var o=e.stateNode;if(!o)throw Error(qt(169));i?(e=pJ(e,t,yh),o.__reactInternalMemoizedMergedChildContext=e,yr(Ia),yr(Fs),ur(Fs,e)):yr(Ia),ur(Ia,i)}var ld=null,xk=!1,Vx=!1;function CJ(e){ld===null?ld=[e]:ld.push(e)}function oae(e){xk=!0,CJ(e)}function tu(){if(!Vx&&ld!==null){Vx=!0;var e=0,t=Qi;try{var i=ld;for(Qi=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}ld=null,xk=!1}catch(s){throw ld!==null&&(ld=ld.slice(e+1)),M9(tR,tu),s}finally{Qi=t,Vx=!1}}return null}var up=[],hp=0,Iw=null,bw=0,xl=[],Sl=0,vh=null,Ad=1,ud="";function Pu(e,t){up[hp++]=bw,up[hp++]=Iw,Iw=e,bw=t}function fJ(e,t,i){xl[Sl++]=Ad,xl[Sl++]=ud,xl[Sl++]=vh,vh=e;var o=Ad;e=ud;var s=32-bc(o)-1;o&=~(1<<s),i+=1;var c=32-bc(t)+s;if(30<c){var u=s-s%5;c=(o&(1<<u)-1).toString(32),o>>=u,s-=u,Ad=1<<32-bc(t)+s|i<<s|o,ud=c+e}else Ad=1<<c|i<<s|o,ud=e}function gR(e){e.return!==null&&(Pu(e,1),fJ(e,1,0))}function dR(e){for(;e===Iw;)Iw=up[--hp],up[hp]=null,bw=up[--hp],up[hp]=null;for(;e===vh;)vh=xl[--Sl],xl[Sl]=null,ud=xl[--Sl],xl[Sl]=null,Ad=xl[--Sl],xl[Sl]=null}var Oa=null,za=null,Rr=!1,fc=null;function IJ(e,t){var i=_l(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function hT(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Oa=e,za=EA(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Oa=e,za=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=vh!==null?{id:Ad,overflow:ud}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=_l(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Oa=e,za=null,!0):!1;default:return!1}}function N5(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _5(e){if(Rr){var t=za;if(t){var i=t;if(!hT(e,t)){if(N5(e))throw Error(qt(418));t=EA(i.nextSibling);var o=Oa;t&&hT(e,t)?IJ(o,i):(e.flags=e.flags&-4097|2,Rr=!1,Oa=e)}}else{if(N5(e))throw Error(qt(418));e.flags=e.flags&-4097|2,Rr=!1,Oa=e}}}function mT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oa=e}function wy(e){if(e!==Oa)return!1;if(!Rr)return mT(e),Rr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!S5(e.type,e.memoizedProps)),t&&(t=za)){if(N5(e))throw bJ(),Error(qt(418));for(;t;)IJ(e,t),t=EA(t.nextSibling)}if(mT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(qt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){za=EA(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}za=null}}else za=Oa?EA(e.stateNode.nextSibling):null;return!0}function bJ(){for(var e=za;e;)e=EA(e.nextSibling)}function Wp(){za=Oa=null,Rr=!1}function AR(e){fc===null?fc=[e]:fc.push(e)}var sae=Zd.ReactCurrentBatchConfig;function bf(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(qt(309));var o=i.stateNode}if(!o)throw Error(qt(147,e));var s=o,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(u){var C=s.refs;u===null?delete C[c]:C[c]=u},t._stringRef=c,t)}if(typeof e!="string")throw Error(qt(284));if(!i._owner)throw Error(qt(290,e))}return e}function ky(e,t){throw e=Object.prototype.toString.call(t),Error(qt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pT(e){var t=e._init;return t(e._payload)}function yJ(e){function t(L,_){if(e){var X=L.deletions;X===null?(L.deletions=[_],L.flags|=16):X.push(_)}}function i(L,_){if(!e)return null;for(;_!==null;)t(L,_),_=_.sibling;return null}function o(L,_){for(L=new Map;_!==null;)_.key!==null?L.set(_.key,_):L.set(_.index,_),_=_.sibling;return L}function s(L,_){return L=DA(L,_),L.index=0,L.sibling=null,L}function c(L,_,X){return L.index=X,e?(X=L.alternate,X!==null?(X=X.index,X<_?(L.flags|=2,_):X):(L.flags|=2,_)):(L.flags|=1048576,_)}function u(L){return e&&L.alternate===null&&(L.flags|=2),L}function C(L,_,X,Q){return _===null||_.tag!==6?(_=Lx(X,L.mode,Q),_.return=L,_):(_=s(_,X),_.return=L,_)}function m(L,_,X,Q){var j=X.type;return j===ap?x(L,_,X.props.children,Q,X.key):_!==null&&(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hA&&pT(j)===_.type)?(Q=s(_,X.props),Q.ref=bf(L,_,X),Q.return=L,Q):(Q=Wv(X.type,X.key,X.props,null,L.mode,Q),Q.ref=bf(L,_,X),Q.return=L,Q)}function v(L,_,X,Q){return _===null||_.tag!==4||_.stateNode.containerInfo!==X.containerInfo||_.stateNode.implementation!==X.implementation?(_=Xx(X,L.mode,Q),_.return=L,_):(_=s(_,X.children||[]),_.return=L,_)}function x(L,_,X,Q,j){return _===null||_.tag!==7?(_=lh(X,L.mode,Q,j),_.return=L,_):(_=s(_,X),_.return=L,_)}function G(L,_,X){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Lx(""+_,L.mode,X),_.return=L,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case uy:return X=Wv(_.type,_.key,_.props,null,L.mode,X),X.ref=bf(L,null,_),X.return=L,X;case sp:return _=Xx(_,L.mode,X),_.return=L,_;case hA:var Q=_._init;return G(L,Q(_._payload),X)}if(Yf(_)||mf(_))return _=lh(_,L.mode,X,null),_.return=L,_;ky(L,_)}return null}function B(L,_,X,Q){var j=_!==null?_.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return j!==null?null:C(L,_,""+X,Q);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case uy:return X.key===j?m(L,_,X,Q):null;case sp:return X.key===j?v(L,_,X,Q):null;case hA:return j=X._init,B(L,_,j(X._payload),Q)}if(Yf(X)||mf(X))return j!==null?null:x(L,_,X,Q,null);ky(L,X)}return null}function R(L,_,X,Q,j){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return L=L.get(X)||null,C(_,L,""+Q,j);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case uy:return L=L.get(Q.key===null?X:Q.key)||null,m(_,L,Q,j);case sp:return L=L.get(Q.key===null?X:Q.key)||null,v(_,L,Q,j);case hA:var re=Q._init;return R(L,_,X,re(Q._payload),j)}if(Yf(Q)||mf(Q))return L=L.get(X)||null,x(_,L,Q,j,null);ky(_,Q)}return null}function V(L,_,X,Q){for(var j=null,re=null,P=_,O=_=0,de=null;P!==null&&O<X.length;O++){P.index>O?(de=P,P=null):de=P.sibling;var ce=B(L,P,X[O],Q);if(ce===null){P===null&&(P=de);break}e&&P&&ce.alternate===null&&t(L,P),_=c(ce,_,O),re===null?j=ce:re.sibling=ce,re=ce,P=de}if(O===X.length)return i(L,P),Rr&&Pu(L,O),j;if(P===null){for(;O<X.length;O++)P=G(L,X[O],Q),P!==null&&(_=c(P,_,O),re===null?j=P:re.sibling=P,re=P);return Rr&&Pu(L,O),j}for(P=o(L,P);O<X.length;O++)de=R(P,L,O,X[O],Q),de!==null&&(e&&de.alternate!==null&&P.delete(de.key===null?O:de.key),_=c(de,_,O),re===null?j=de:re.sibling=de,re=de);return e&&P.forEach(function(ne){return t(L,ne)}),Rr&&Pu(L,O),j}function H(L,_,X,Q){var j=mf(X);if(typeof j!="function")throw Error(qt(150));if(X=j.call(X),X==null)throw Error(qt(151));for(var re=j=null,P=_,O=_=0,de=null,ce=X.next();P!==null&&!ce.done;O++,ce=X.next()){P.index>O?(de=P,P=null):de=P.sibling;var ne=B(L,P,ce.value,Q);if(ne===null){P===null&&(P=de);break}e&&P&&ne.alternate===null&&t(L,P),_=c(ne,_,O),re===null?j=ne:re.sibling=ne,re=ne,P=de}if(ce.done)return i(L,P),Rr&&Pu(L,O),j;if(P===null){for(;!ce.done;O++,ce=X.next())ce=G(L,ce.value,Q),ce!==null&&(_=c(ce,_,O),re===null?j=ce:re.sibling=ce,re=ce);return Rr&&Pu(L,O),j}for(P=o(L,P);!ce.done;O++,ce=X.next())ce=R(P,L,O,ce.value,Q),ce!==null&&(e&&ce.alternate!==null&&P.delete(ce.key===null?O:ce.key),_=c(ce,_,O),re===null?j=ce:re.sibling=ce,re=ce);return e&&P.forEach(function(oe){return t(L,oe)}),Rr&&Pu(L,O),j}function M(L,_,X,Q){if(typeof X=="object"&&X!==null&&X.type===ap&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case uy:e:{for(var j=X.key,re=_;re!==null;){if(re.key===j){if(j=X.type,j===ap){if(re.tag===7){i(L,re.sibling),_=s(re,X.props.children),_.return=L,L=_;break e}}else if(re.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===hA&&pT(j)===re.type){i(L,re.sibling),_=s(re,X.props),_.ref=bf(L,re,X),_.return=L,L=_;break e}i(L,re);break}else t(L,re);re=re.sibling}X.type===ap?(_=lh(X.props.children,L.mode,Q,X.key),_.return=L,L=_):(Q=Wv(X.type,X.key,X.props,null,L.mode,Q),Q.ref=bf(L,_,X),Q.return=L,L=Q)}return u(L);case sp:e:{for(re=X.key;_!==null;){if(_.key===re)if(_.tag===4&&_.stateNode.containerInfo===X.containerInfo&&_.stateNode.implementation===X.implementation){i(L,_.sibling),_=s(_,X.children||[]),_.return=L,L=_;break e}else{i(L,_);break}else t(L,_);_=_.sibling}_=Xx(X,L.mode,Q),_.return=L,L=_}return u(L);case hA:return re=X._init,M(L,_,re(X._payload),Q)}if(Yf(X))return V(L,_,X,Q);if(mf(X))return H(L,_,X,Q);ky(L,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,_!==null&&_.tag===6?(i(L,_.sibling),_=s(_,X),_.return=L,L=_):(i(L,_),_=Lx(X,L.mode,Q),_.return=L,L=_),u(L)):i(L,_)}return M}var Hp=yJ(!0),vJ=yJ(!1),yw=eu(null),vw=null,mp=null,uR=null;function hR(){uR=mp=vw=null}function mR(e){var t=yw.current;yr(yw),e._currentValue=t}function V5(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Bp(e,t){vw=e,uR=mp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pa=!0),e.firstContext=null)}function Dl(e){var t=e._currentValue;if(uR!==e)if(e={context:e,memoizedValue:t,next:null},mp===null){if(vw===null)throw Error(qt(308));mp=e,vw.dependencies={lanes:0,firstContext:e}}else mp=mp.next=e;return t}var th=null;function pR(e){th===null?th=[e]:th.push(e)}function wJ(e,t,i,o){var s=t.interleaved;return s===null?(i.next=i,pR(t)):(i.next=s.next,s.next=i),t.interleaved=i,vd(e,o)}function vd(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var mA=!1;function CR(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kJ(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pd(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function FA(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Si&2){var s=o.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),o.pending=t,vd(e,i)}return s=o.interleaved,s===null?(t.next=t,pR(o)):(t.next=s.next,s.next=t),o.interleaved=t,vd(e,i)}function Rv(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,nR(e,i)}}function CT(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var s=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var u={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};c===null?s=c=u:c=c.next=u,i=i.next}while(i!==null);c===null?s=c=t:c=c.next=t}else s=c=t;i={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:c,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ww(e,t,i,o){var s=e.updateQueue;mA=!1;var c=s.firstBaseUpdate,u=s.lastBaseUpdate,C=s.shared.pending;if(C!==null){s.shared.pending=null;var m=C,v=m.next;m.next=null,u===null?c=v:u.next=v,u=m;var x=e.alternate;x!==null&&(x=x.updateQueue,C=x.lastBaseUpdate,C!==u&&(C===null?x.firstBaseUpdate=v:C.next=v,x.lastBaseUpdate=m))}if(c!==null){var G=s.baseState;u=0,x=v=m=null,C=c;do{var B=C.lane,R=C.eventTime;if((o&B)===B){x!==null&&(x=x.next={eventTime:R,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var V=e,H=C;switch(B=t,R=i,H.tag){case 1:if(V=H.payload,typeof V=="function"){G=V.call(R,G,B);break e}G=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=H.payload,B=typeof V=="function"?V.call(R,G,B):V,B==null)break e;G=Tr({},G,B);break e;case 2:mA=!0}}C.callback!==null&&C.lane!==0&&(e.flags|=64,B=s.effects,B===null?s.effects=[C]:B.push(C))}else R={eventTime:R,lane:B,tag:C.tag,payload:C.payload,callback:C.callback,next:null},x===null?(v=x=R,m=G):x=x.next=R,u|=B;if(C=C.next,C===null){if(C=s.shared.pending,C===null)break;B=C,C=B.next,B.next=null,s.lastBaseUpdate=B,s.shared.pending=null}}while(!0);if(x===null&&(m=G),s.baseState=m,s.firstBaseUpdate=v,s.lastBaseUpdate=x,t=s.shared.interleaved,t!==null){s=t;do u|=s.lane,s=s.next;while(s!==t)}else c===null&&(s.shared.lanes=0);kh|=u,e.lanes=u,e.memoizedState=G}}function fT(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],s=o.callback;if(s!==null){if(o.callback=null,o=i,typeof s!="function")throw Error(qt(191,s));s.call(o)}}}var Rb={},Cg=eu(Rb),zI=eu(Rb),QI=eu(Rb);function nh(e){if(e===Rb)throw Error(qt(174));return e}function fR(e,t){switch(ur(QI,t),ur(zI,e),ur(Cg,Rb),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:u5(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=u5(t,e)}yr(Cg),ur(Cg,t)}function Dp(){yr(Cg),yr(zI),yr(QI)}function BJ(e){nh(QI.current);var t=nh(Cg.current),i=u5(t,e.type);t!==i&&(ur(zI,e),ur(Cg,i))}function IR(e){zI.current===e&&(yr(Cg),yr(zI))}var Hr=eu(0);function kw(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ex=[];function bR(){for(var e=0;e<Ex.length;e++)Ex[e]._workInProgressVersionPrimary=null;Ex.length=0}var Nv=Zd.ReactCurrentDispatcher,Fx=Zd.ReactCurrentBatchConfig,wh=0,Dr=null,Eo=null,Ko=null,Bw=!1,cI=!1,jI=0,aae=0;function vs(){throw Error(qt(321))}function yR(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!kc(e[i],t[i]))return!1;return!0}function vR(e,t,i,o,s,c){if(wh=c,Dr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nv.current=e===null||e.memoizedState===null?dae:Aae,e=i(o,s),cI){c=0;do{if(cI=!1,jI=0,25<=c)throw Error(qt(301));c+=1,Ko=Eo=null,t.updateQueue=null,Nv.current=uae,e=i(o,s)}while(cI)}if(Nv.current=xw,t=Eo!==null&&Eo.next!==null,wh=0,Ko=Eo=Dr=null,Bw=!1,t)throw Error(qt(300));return e}function wR(){var e=jI!==0;return jI=0,e}function rg(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ko===null?Dr.memoizedState=Ko=e:Ko=Ko.next=e,Ko}function Tl(){if(Eo===null){var e=Dr.alternate;e=e!==null?e.memoizedState:null}else e=Eo.next;var t=Ko===null?Dr.memoizedState:Ko.next;if(t!==null)Ko=t,Eo=e;else{if(e===null)throw Error(qt(310));Eo=e,e={memoizedState:Eo.memoizedState,baseState:Eo.baseState,baseQueue:Eo.baseQueue,queue:Eo.queue,next:null},Ko===null?Dr.memoizedState=Ko=e:Ko=Ko.next=e}return Ko}function OI(e,t){return typeof t=="function"?t(e):t}function Wx(e){var t=Tl(),i=t.queue;if(i===null)throw Error(qt(311));i.lastRenderedReducer=e;var o=Eo,s=o.baseQueue,c=i.pending;if(c!==null){if(s!==null){var u=s.next;s.next=c.next,c.next=u}o.baseQueue=s=c,i.pending=null}if(s!==null){c=s.next,o=o.baseState;var C=u=null,m=null,v=c;do{var x=v.lane;if((wh&x)===x)m!==null&&(m=m.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),o=v.hasEagerState?v.eagerState:e(o,v.action);else{var G={lane:x,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};m===null?(C=m=G,u=o):m=m.next=G,Dr.lanes|=x,kh|=x}v=v.next}while(v!==null&&v!==c);m===null?u=o:m.next=C,kc(o,t.memoizedState)||(pa=!0),t.memoizedState=o,t.baseState=u,t.baseQueue=m,i.lastRenderedState=o}if(e=i.interleaved,e!==null){s=e;do c=s.lane,Dr.lanes|=c,kh|=c,s=s.next;while(s!==e)}else s===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Hx(e){var t=Tl(),i=t.queue;if(i===null)throw Error(qt(311));i.lastRenderedReducer=e;var o=i.dispatch,s=i.pending,c=t.memoizedState;if(s!==null){i.pending=null;var u=s=s.next;do c=e(c,u.action),u=u.next;while(u!==s);kc(c,t.memoizedState)||(pa=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,o]}function xJ(){}function SJ(e,t){var i=Dr,o=Tl(),s=t(),c=!kc(o.memoizedState,s);if(c&&(o.memoizedState=s,pa=!0),o=o.queue,kR(RJ.bind(null,i,o,e),[e]),o.getSnapshot!==t||c||Ko!==null&&Ko.memoizedState.tag&1){if(i.flags|=2048,qI(9,GJ.bind(null,i,o,s,t),void 0,null),Qo===null)throw Error(qt(349));wh&30||ZJ(i,t,s)}return s}function ZJ(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Dr.updateQueue,t===null?(t={lastEffect:null,stores:null},Dr.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function GJ(e,t,i,o){t.value=i,t.getSnapshot=o,NJ(t)&&_J(e)}function RJ(e,t,i){return i(function(){NJ(t)&&_J(e)})}function NJ(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!kc(e,i)}catch{return!0}}function _J(e){var t=vd(e,1);t!==null&&yc(t,e,1,-1)}function IT(e){var t=rg();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:OI,lastRenderedState:e},t.queue=e,e=e.dispatch=gae.bind(null,Dr,e),[t.memoizedState,e]}function qI(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=Dr.updateQueue,t===null?(t={lastEffect:null,stores:null},Dr.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function VJ(){return Tl().memoizedState}function _v(e,t,i,o){var s=rg();Dr.flags|=e,s.memoizedState=qI(1|t,i,void 0,o===void 0?null:o)}function Sk(e,t,i,o){var s=Tl();o=o===void 0?null:o;var c=void 0;if(Eo!==null){var u=Eo.memoizedState;if(c=u.destroy,o!==null&&yR(o,u.deps)){s.memoizedState=qI(t,i,c,o);return}}Dr.flags|=e,s.memoizedState=qI(1|t,i,c,o)}function bT(e,t){return _v(8390656,8,e,t)}function kR(e,t){return Sk(2048,8,e,t)}function EJ(e,t){return Sk(4,2,e,t)}function FJ(e,t){return Sk(4,4,e,t)}function WJ(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function HJ(e,t,i){return i=i!=null?i.concat([e]):null,Sk(4,4,WJ.bind(null,t,e),i)}function BR(){}function DJ(e,t){var i=Tl();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&yR(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function TJ(e,t){var i=Tl();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&yR(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function LJ(e,t,i){return wh&21?(kc(i,t)||(i=U9(),Dr.lanes|=i,kh|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pa=!0),e.memoizedState=i)}function lae(e,t){var i=Qi;Qi=i!==0&&4>i?i:4,e(!0);var o=Fx.transition;Fx.transition={};try{e(!1),t()}finally{Qi=i,Fx.transition=o}}function XJ(){return Tl().memoizedState}function cae(e,t,i){var o=HA(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},MJ(e))YJ(t,i);else if(i=wJ(e,t,i,o),i!==null){var s=js();yc(i,e,o,s),JJ(i,t,o)}}function gae(e,t,i){var o=HA(e),s={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(MJ(e))YJ(t,s);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var u=t.lastRenderedState,C=c(u,i);if(s.hasEagerState=!0,s.eagerState=C,kc(C,u)){var m=t.interleaved;m===null?(s.next=s,pR(t)):(s.next=m.next,m.next=s),t.interleaved=s;return}}catch{}finally{}i=wJ(e,t,s,o),i!==null&&(s=js(),yc(i,e,o,s),JJ(i,t,o))}}function MJ(e){var t=e.alternate;return e===Dr||t!==null&&t===Dr}function YJ(e,t){cI=Bw=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function JJ(e,t,i){if(i&4194240){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,nR(e,i)}}var xw={readContext:Dl,useCallback:vs,useContext:vs,useEffect:vs,useImperativeHandle:vs,useInsertionEffect:vs,useLayoutEffect:vs,useMemo:vs,useReducer:vs,useRef:vs,useState:vs,useDebugValue:vs,useDeferredValue:vs,useTransition:vs,useMutableSource:vs,useSyncExternalStore:vs,useId:vs,unstable_isNewReconciler:!1},dae={readContext:Dl,useCallback:function(e,t){return rg().memoizedState=[e,t===void 0?null:t],e},useContext:Dl,useEffect:bT,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,_v(4194308,4,WJ.bind(null,t,e),i)},useLayoutEffect:function(e,t){return _v(4194308,4,e,t)},useInsertionEffect:function(e,t){return _v(4,2,e,t)},useMemo:function(e,t){var i=rg();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=rg();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=cae.bind(null,Dr,e),[o.memoizedState,e]},useRef:function(e){var t=rg();return e={current:e},t.memoizedState=e},useState:IT,useDebugValue:BR,useDeferredValue:function(e){return rg().memoizedState=e},useTransition:function(){var e=IT(!1),t=e[0];return e=lae.bind(null,e[1]),rg().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=Dr,s=rg();if(Rr){if(i===void 0)throw Error(qt(407));i=i()}else{if(i=t(),Qo===null)throw Error(qt(349));wh&30||ZJ(o,t,i)}s.memoizedState=i;var c={value:i,getSnapshot:t};return s.queue=c,bT(RJ.bind(null,o,c,e),[e]),o.flags|=2048,qI(9,GJ.bind(null,o,c,i,t),void 0,null),i},useId:function(){var e=rg(),t=Qo.identifierPrefix;if(Rr){var i=ud,o=Ad;i=(o&~(1<<32-bc(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=jI++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=aae++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Aae={readContext:Dl,useCallback:DJ,useContext:Dl,useEffect:kR,useImperativeHandle:HJ,useInsertionEffect:EJ,useLayoutEffect:FJ,useMemo:TJ,useReducer:Wx,useRef:VJ,useState:function(){return Wx(OI)},useDebugValue:BR,useDeferredValue:function(e){var t=Tl();return LJ(t,Eo.memoizedState,e)},useTransition:function(){var e=Wx(OI)[0],t=Tl().memoizedState;return[e,t]},useMutableSource:xJ,useSyncExternalStore:SJ,useId:XJ,unstable_isNewReconciler:!1},uae={readContext:Dl,useCallback:DJ,useContext:Dl,useEffect:kR,useImperativeHandle:HJ,useInsertionEffect:EJ,useLayoutEffect:FJ,useMemo:TJ,useReducer:Hx,useRef:VJ,useState:function(){return Hx(OI)},useDebugValue:BR,useDeferredValue:function(e){var t=Tl();return Eo===null?t.memoizedState=e:LJ(t,Eo.memoizedState,e)},useTransition:function(){var e=Hx(OI)[0],t=Tl().memoizedState;return[e,t]},useMutableSource:xJ,useSyncExternalStore:SJ,useId:XJ,unstable_isNewReconciler:!1};function pc(e,t){if(e&&e.defaultProps){t=Tr({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function E5(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:Tr({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Zk={isMounted:function(e){return(e=e._reactInternals)?Vh(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=js(),s=HA(e),c=pd(o,s);c.payload=t,i!=null&&(c.callback=i),t=FA(e,c,s),t!==null&&(yc(t,e,s,o),Rv(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=js(),s=HA(e),c=pd(o,s);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=FA(e,c,s),t!==null&&(yc(t,e,s,o),Rv(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=js(),o=HA(e),s=pd(i,o);s.tag=2,t!=null&&(s.callback=t),t=FA(e,s,o),t!==null&&(yc(t,e,o,i),Rv(t,e,o))}};function yT(e,t,i,o,s,c,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,c,u):t.prototype&&t.prototype.isPureReactComponent?!JI(i,o)||!JI(s,c):!0}function UJ(e,t,i){var o=!1,s=zA,c=t.contextType;return typeof c=="object"&&c!==null?c=Dl(c):(s=ba(t)?yh:Fs.current,o=t.contextTypes,c=(o=o!=null)?Fp(e,s):zA),t=new t(i,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zk,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=c),t}function vT(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Zk.enqueueReplaceState(t,t.state,null)}function F5(e,t,i,o){var s=e.stateNode;s.props=i,s.state=e.memoizedState,s.refs={},CR(e);var c=t.contextType;typeof c=="object"&&c!==null?s.context=Dl(c):(c=ba(t)?yh:Fs.current,s.context=Fp(e,c)),s.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&(E5(e,t,c,i),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Zk.enqueueReplaceState(s,s.state,null),ww(e,i,s,o),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Tp(e,t){try{var i="",o=t;do i+=Xoe(o),o=o.return;while(o);var s=i}catch(c){s=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:s,digest:null}}function Dx(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function W5(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var hae=typeof WeakMap=="function"?WeakMap:Map;function PJ(e,t,i){i=pd(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){Zw||(Zw=!0,P5=o),W5(e,t)},i}function KJ(e,t,i){i=pd(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var s=t.value;i.payload=function(){return o(s)},i.callback=function(){W5(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(i.callback=function(){W5(e,t),typeof o!="function"&&(WA===null?WA=new Set([this]):WA.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),i}function wT(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new hae;var s=new Set;o.set(t,s)}else s=o.get(t),s===void 0&&(s=new Set,o.set(t,s));s.has(i)||(s.add(i),e=Zae.bind(null,e,t,i),t.then(e,e))}function kT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function BT(e,t,i,o,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=pd(-1,1),t.tag=2,FA(i,t,1))),i.lanes|=1),e)}var mae=Zd.ReactCurrentOwner,pa=!1;function Ks(e,t,i,o){t.child=e===null?vJ(t,null,i,o):Hp(t,e.child,i,o)}function xT(e,t,i,o,s){i=i.render;var c=t.ref;return Bp(t,s),o=vR(e,t,i,o,c,s),i=wR(),e!==null&&!pa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wd(e,t,s)):(Rr&&i&&gR(t),t.flags|=1,Ks(e,t,o,s),t.child)}function ST(e,t,i,o,s){if(e===null){var c=i.type;return typeof c=="function"&&!VR(c)&&c.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=c,zJ(e,t,c,o,s)):(e=Wv(i.type,null,o,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!(e.lanes&s)){var u=c.memoizedProps;if(i=i.compare,i=i!==null?i:JI,i(u,o)&&e.ref===t.ref)return wd(e,t,s)}return t.flags|=1,e=DA(c,o),e.ref=t.ref,e.return=t,t.child=e}function zJ(e,t,i,o,s){if(e!==null){var c=e.memoizedProps;if(JI(c,o)&&e.ref===t.ref)if(pa=!1,t.pendingProps=o=c,(e.lanes&s)!==0)e.flags&131072&&(pa=!0);else return t.lanes=e.lanes,wd(e,t,s)}return H5(e,t,i,o,s)}function QJ(e,t,i){var o=t.pendingProps,s=o.children,c=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ur(Cp,Ua),Ua|=i;else{if(!(i&1073741824))return e=c!==null?c.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ur(Cp,Ua),Ua|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=c!==null?c.baseLanes:i,ur(Cp,Ua),Ua|=o}else c!==null?(o=c.baseLanes|i,t.memoizedState=null):o=i,ur(Cp,Ua),Ua|=o;return Ks(e,t,s,i),t.child}function jJ(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function H5(e,t,i,o,s){var c=ba(i)?yh:Fs.current;return c=Fp(t,c),Bp(t,s),i=vR(e,t,i,o,c,s),o=wR(),e!==null&&!pa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wd(e,t,s)):(Rr&&o&&gR(t),t.flags|=1,Ks(e,t,i,s),t.child)}function ZT(e,t,i,o,s){if(ba(i)){var c=!0;fw(t)}else c=!1;if(Bp(t,s),t.stateNode===null)Vv(e,t),UJ(t,i,o),F5(t,i,o,s),o=!0;else if(e===null){var u=t.stateNode,C=t.memoizedProps;u.props=C;var m=u.context,v=i.contextType;typeof v=="object"&&v!==null?v=Dl(v):(v=ba(i)?yh:Fs.current,v=Fp(t,v));var x=i.getDerivedStateFromProps,G=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function";G||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(C!==o||m!==v)&&vT(t,u,o,v),mA=!1;var B=t.memoizedState;u.state=B,ww(t,o,u,s),m=t.memoizedState,C!==o||B!==m||Ia.current||mA?(typeof x=="function"&&(E5(t,i,x,o),m=t.memoizedState),(C=mA||yT(t,i,C,o,B,m,v))?(G||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=m),u.props=o,u.state=m,u.context=v,o=C):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{u=t.stateNode,kJ(e,t),C=t.memoizedProps,v=t.type===t.elementType?C:pc(t.type,C),u.props=v,G=t.pendingProps,B=u.context,m=i.contextType,typeof m=="object"&&m!==null?m=Dl(m):(m=ba(i)?yh:Fs.current,m=Fp(t,m));var R=i.getDerivedStateFromProps;(x=typeof R=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(C!==G||B!==m)&&vT(t,u,o,m),mA=!1,B=t.memoizedState,u.state=B,ww(t,o,u,s);var V=t.memoizedState;C!==G||B!==V||Ia.current||mA?(typeof R=="function"&&(E5(t,i,R,o),V=t.memoizedState),(v=mA||yT(t,i,v,o,B,V,m)||!1)?(x||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(o,V,m),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(o,V,m)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||C===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=V),u.props=o,u.state=V,u.context=m,o=v):(typeof u.componentDidUpdate!="function"||C===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),o=!1)}return D5(e,t,i,o,c,s)}function D5(e,t,i,o,s,c){jJ(e,t);var u=(t.flags&128)!==0;if(!o&&!u)return s&&uT(t,i,!1),wd(e,t,c);o=t.stateNode,mae.current=t;var C=u&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&u?(t.child=Hp(t,e.child,null,c),t.child=Hp(t,null,C,c)):Ks(e,t,C,c),t.memoizedState=o.state,s&&uT(t,i,!0),t.child}function OJ(e){var t=e.stateNode;t.pendingContext?AT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&AT(e,t.context,!1),fR(e,t.containerInfo)}function GT(e,t,i,o,s){return Wp(),AR(s),t.flags|=256,Ks(e,t,i,o),t.child}var T5={dehydrated:null,treeContext:null,retryLane:0};function L5(e){return{baseLanes:e,cachePool:null,transitions:null}}function qJ(e,t,i){var o=t.pendingProps,s=Hr.current,c=!1,u=(t.flags&128)!==0,C;if((C=u)||(C=e!==null&&e.memoizedState===null?!1:(s&2)!==0),C?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ur(Hr,s&1),e===null)return _5(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=o.children,e=o.fallback,c?(o=t.mode,c=t.child,u={mode:"hidden",children:u},!(o&1)&&c!==null?(c.childLanes=0,c.pendingProps=u):c=Nk(u,o,0,null),e=lh(e,o,i,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=L5(i),t.memoizedState=T5,e):xR(t,u));if(s=e.memoizedState,s!==null&&(C=s.dehydrated,C!==null))return pae(e,t,u,o,C,s,i);if(c){c=o.fallback,u=t.mode,s=e.child,C=s.sibling;var m={mode:"hidden",children:o.children};return!(u&1)&&t.child!==s?(o=t.child,o.childLanes=0,o.pendingProps=m,t.deletions=null):(o=DA(s,m),o.subtreeFlags=s.subtreeFlags&14680064),C!==null?c=DA(C,c):(c=lh(c,u,i,null),c.flags|=2),c.return=t,o.return=t,o.sibling=c,t.child=o,o=c,c=t.child,u=e.child.memoizedState,u=u===null?L5(i):{baseLanes:u.baseLanes|i,cachePool:null,transitions:u.transitions},c.memoizedState=u,c.childLanes=e.childLanes&~i,t.memoizedState=T5,o}return c=e.child,e=c.sibling,o=DA(c,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function xR(e,t){return t=Nk({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function By(e,t,i,o){return o!==null&&AR(o),Hp(t,e.child,null,i),e=xR(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pae(e,t,i,o,s,c,u){if(i)return t.flags&256?(t.flags&=-257,o=Dx(Error(qt(422))),By(e,t,u,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=o.fallback,s=t.mode,o=Nk({mode:"visible",children:o.children},s,0,null),c=lh(c,s,u,null),c.flags|=2,o.return=t,c.return=t,o.sibling=c,t.child=o,t.mode&1&&Hp(t,e.child,null,u),t.child.memoizedState=L5(u),t.memoizedState=T5,c);if(!(t.mode&1))return By(e,t,u,null);if(s.data==="$!"){if(o=s.nextSibling&&s.nextSibling.dataset,o)var C=o.dgst;return o=C,c=Error(qt(419)),o=Dx(c,o,void 0),By(e,t,u,o)}if(C=(u&e.childLanes)!==0,pa||C){if(o=Qo,o!==null){switch(u&-u){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(o.suspendedLanes|u)?0:s,s!==0&&s!==c.retryLane&&(c.retryLane=s,vd(e,s),yc(o,e,s,-1))}return _R(),o=Dx(Error(qt(421))),By(e,t,u,o)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Gae.bind(null,e),s._reactRetry=t,null):(e=c.treeContext,za=EA(s.nextSibling),Oa=t,Rr=!0,fc=null,e!==null&&(xl[Sl++]=Ad,xl[Sl++]=ud,xl[Sl++]=vh,Ad=e.id,ud=e.overflow,vh=t),t=xR(t,o.children),t.flags|=4096,t)}function RT(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),V5(e.return,t,i)}function Tx(e,t,i,o,s){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:s}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=o,c.tail=i,c.tailMode=s)}function $J(e,t,i){var o=t.pendingProps,s=o.revealOrder,c=o.tail;if(Ks(e,t,o.children,i),o=Hr.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&RT(e,i,t);else if(e.tag===19)RT(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ur(Hr,o),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(i=t.child,s=null;i!==null;)e=i.alternate,e!==null&&kw(e)===null&&(s=i),i=i.sibling;i=s,i===null?(s=t.child,t.child=null):(s=i.sibling,i.sibling=null),Tx(t,!1,s,i,c);break;case"backwards":for(i=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&kw(e)===null){t.child=s;break}e=s.sibling,s.sibling=i,i=s,s=e}Tx(t,!0,i,null,c);break;case"together":Tx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wd(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),kh|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(qt(153));if(t.child!==null){for(e=t.child,i=DA(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=DA(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Cae(e,t,i){switch(t.tag){case 3:OJ(t),Wp();break;case 5:BJ(t);break;case 1:ba(t.type)&&fw(t);break;case 4:fR(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,s=t.memoizedProps.value;ur(yw,o._currentValue),o._currentValue=s;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ur(Hr,Hr.current&1),t.flags|=128,null):i&t.child.childLanes?qJ(e,t,i):(ur(Hr,Hr.current&1),e=wd(e,t,i),e!==null?e.sibling:null);ur(Hr,Hr.current&1);break;case 19:if(o=(i&t.childLanes)!==0,e.flags&128){if(o)return $J(e,t,i);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ur(Hr,Hr.current),o)break;return null;case 22:case 23:return t.lanes=0,QJ(e,t,i)}return wd(e,t,i)}var eU,X5,tU,nU;eU=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};X5=function(){};tU=function(e,t,i,o){var s=e.memoizedProps;if(s!==o){e=t.stateNode,nh(Cg.current);var c=null;switch(i){case"input":s=c5(e,s),o=c5(e,o),c=[];break;case"select":s=Tr({},s,{value:void 0}),o=Tr({},o,{value:void 0}),c=[];break;case"textarea":s=A5(e,s),o=A5(e,o),c=[];break;default:typeof s.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=pw)}h5(i,o);var u;i=null;for(v in s)if(!o.hasOwnProperty(v)&&s.hasOwnProperty(v)&&s[v]!=null)if(v==="style"){var C=s[v];for(u in C)C.hasOwnProperty(u)&&(i||(i={}),i[u]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(HI.hasOwnProperty(v)?c||(c=[]):(c=c||[]).push(v,null));for(v in o){var m=o[v];if(C=s!=null?s[v]:void 0,o.hasOwnProperty(v)&&m!==C&&(m!=null||C!=null))if(v==="style")if(C){for(u in C)!C.hasOwnProperty(u)||m&&m.hasOwnProperty(u)||(i||(i={}),i[u]="");for(u in m)m.hasOwnProperty(u)&&C[u]!==m[u]&&(i||(i={}),i[u]=m[u])}else i||(c||(c=[]),c.push(v,i)),i=m;else v==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,C=C?C.__html:void 0,m!=null&&C!==m&&(c=c||[]).push(v,m)):v==="children"?typeof m!="string"&&typeof m!="number"||(c=c||[]).push(v,""+m):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(HI.hasOwnProperty(v)?(m!=null&&v==="onScroll"&&pr("scroll",e),c||C===m||(c=[])):(c=c||[]).push(v,m))}i&&(c=c||[]).push("style",i);var v=c;(t.updateQueue=v)&&(t.flags|=4)}};nU=function(e,t,i,o){i!==o&&(t.flags|=4)};function yf(e,t){if(!Rr)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ws(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var s=e.child;s!==null;)i|=s.lanes|s.childLanes,o|=s.subtreeFlags&14680064,o|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)i|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function fae(e,t,i){var o=t.pendingProps;switch(dR(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ws(t),null;case 1:return ba(t.type)&&Cw(),ws(t),null;case 3:return o=t.stateNode,Dp(),yr(Ia),yr(Fs),bR(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(wy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fc!==null&&(Q5(fc),fc=null))),X5(e,t),ws(t),null;case 5:IR(t);var s=nh(QI.current);if(i=t.type,e!==null&&t.stateNode!=null)tU(e,t,i,o,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(qt(166));return ws(t),null}if(e=nh(Cg.current),wy(t)){o=t.stateNode,i=t.type;var c=t.memoizedProps;switch(o[lg]=t,o[KI]=c,e=(t.mode&1)!==0,i){case"dialog":pr("cancel",o),pr("close",o);break;case"iframe":case"object":case"embed":pr("load",o);break;case"video":case"audio":for(s=0;s<Uf.length;s++)pr(Uf[s],o);break;case"source":pr("error",o);break;case"img":case"image":case"link":pr("error",o),pr("load",o);break;case"details":pr("toggle",o);break;case"input":T4(o,c),pr("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!c.multiple},pr("invalid",o);break;case"textarea":X4(o,c),pr("invalid",o)}h5(i,c),s=null;for(var u in c)if(c.hasOwnProperty(u)){var C=c[u];u==="children"?typeof C=="string"?o.textContent!==C&&(c.suppressHydrationWarning!==!0&&vy(o.textContent,C,e),s=["children",C]):typeof C=="number"&&o.textContent!==""+C&&(c.suppressHydrationWarning!==!0&&vy(o.textContent,C,e),s=["children",""+C]):HI.hasOwnProperty(u)&&C!=null&&u==="onScroll"&&pr("scroll",o)}switch(i){case"input":hy(o),L4(o,c,!0);break;case"textarea":hy(o),M4(o);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(o.onclick=pw)}o=s,t.updateQueue=o,o!==null&&(t.flags|=4)}else{u=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=R9(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=u.createElement(i,{is:o.is}):(e=u.createElement(i),i==="select"&&(u=e,o.multiple?u.multiple=!0:o.size&&(u.size=o.size))):e=u.createElementNS(e,i),e[lg]=t,e[KI]=o,eU(e,t,!1,!1),t.stateNode=e;e:{switch(u=m5(i,o),i){case"dialog":pr("cancel",e),pr("close",e),s=o;break;case"iframe":case"object":case"embed":pr("load",e),s=o;break;case"video":case"audio":for(s=0;s<Uf.length;s++)pr(Uf[s],e);s=o;break;case"source":pr("error",e),s=o;break;case"img":case"image":case"link":pr("error",e),pr("load",e),s=o;break;case"details":pr("toggle",e),s=o;break;case"input":T4(e,o),s=c5(e,o),pr("invalid",e);break;case"option":s=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},s=Tr({},o,{value:void 0}),pr("invalid",e);break;case"textarea":X4(e,o),s=A5(e,o),pr("invalid",e);break;default:s=o}h5(i,s),C=s;for(c in C)if(C.hasOwnProperty(c)){var m=C[c];c==="style"?V9(e,m):c==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&N9(e,m)):c==="children"?typeof m=="string"?(i!=="textarea"||m!=="")&&DI(e,m):typeof m=="number"&&DI(e,""+m):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(HI.hasOwnProperty(c)?m!=null&&c==="onScroll"&&pr("scroll",e):m!=null&&jG(e,c,m,u))}switch(i){case"input":hy(e),L4(e,o,!1);break;case"textarea":hy(e),M4(e);break;case"option":o.value!=null&&e.setAttribute("value",""+KA(o.value));break;case"select":e.multiple=!!o.multiple,c=o.value,c!=null?yp(e,!!o.multiple,c,!1):o.defaultValue!=null&&yp(e,!!o.multiple,o.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=pw)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ws(t),null;case 6:if(e&&t.stateNode!=null)nU(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(qt(166));if(i=nh(QI.current),nh(Cg.current),wy(t)){if(o=t.stateNode,i=t.memoizedProps,o[lg]=t,(c=o.nodeValue!==i)&&(e=Oa,e!==null))switch(e.tag){case 3:vy(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vy(o.nodeValue,i,(e.mode&1)!==0)}c&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[lg]=t,t.stateNode=o}return ws(t),null;case 13:if(yr(Hr),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Rr&&za!==null&&t.mode&1&&!(t.flags&128))bJ(),Wp(),t.flags|=98560,c=!1;else if(c=wy(t),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(qt(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(qt(317));c[lg]=t}else Wp(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ws(t),c=!1}else fc!==null&&(Q5(fc),fc=null),c=!0;if(!c)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||Hr.current&1?Ho===0&&(Ho=3):_R())),t.updateQueue!==null&&(t.flags|=4),ws(t),null);case 4:return Dp(),X5(e,t),e===null&&UI(t.stateNode.containerInfo),ws(t),null;case 10:return mR(t.type._context),ws(t),null;case 17:return ba(t.type)&&Cw(),ws(t),null;case 19:if(yr(Hr),c=t.memoizedState,c===null)return ws(t),null;if(o=(t.flags&128)!==0,u=c.rendering,u===null)if(o)yf(c,!1);else{if(Ho!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=kw(e),u!==null){for(t.flags|=128,yf(c,!1),o=u.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)c=i,e=o,c.flags&=14680066,u=c.alternate,u===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=u.childLanes,c.lanes=u.lanes,c.child=u.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=u.memoizedProps,c.memoizedState=u.memoizedState,c.updateQueue=u.updateQueue,c.type=u.type,e=u.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ur(Hr,Hr.current&1|2),t.child}e=e.sibling}c.tail!==null&&lo()>Lp&&(t.flags|=128,o=!0,yf(c,!1),t.lanes=4194304)}else{if(!o)if(e=kw(u),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),yf(c,!0),c.tail===null&&c.tailMode==="hidden"&&!u.alternate&&!Rr)return ws(t),null}else 2*lo()-c.renderingStartTime>Lp&&i!==1073741824&&(t.flags|=128,o=!0,yf(c,!1),t.lanes=4194304);c.isBackwards?(u.sibling=t.child,t.child=u):(i=c.last,i!==null?i.sibling=u:t.child=u,c.last=u)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=lo(),t.sibling=null,i=Hr.current,ur(Hr,o?i&1|2:i&1),t):(ws(t),null);case 22:case 23:return NR(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?Ua&1073741824&&(ws(t),t.subtreeFlags&6&&(t.flags|=8192)):ws(t),null;case 24:return null;case 25:return null}throw Error(qt(156,t.tag))}function Iae(e,t){switch(dR(t),t.tag){case 1:return ba(t.type)&&Cw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Dp(),yr(Ia),yr(Fs),bR(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return IR(t),null;case 13:if(yr(Hr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(qt(340));Wp()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return yr(Hr),null;case 4:return Dp(),null;case 10:return mR(t.type._context),null;case 22:case 23:return NR(),null;case 24:return null;default:return null}}var xy=!1,Vs=!1,bae=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function pp(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){zr(e,t,o)}else i.current=null}function M5(e,t,i){try{i()}catch(o){zr(e,t,o)}}var NT=!1;function yae(e,t){if(B5=uw,e=aJ(),cR(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var s=o.anchorOffset,c=o.focusNode;o=o.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var u=0,C=-1,m=-1,v=0,x=0,G=e,B=null;t:for(;;){for(var R;G!==i||s!==0&&G.nodeType!==3||(C=u+s),G!==c||o!==0&&G.nodeType!==3||(m=u+o),G.nodeType===3&&(u+=G.nodeValue.length),(R=G.firstChild)!==null;)B=G,G=R;for(;;){if(G===e)break t;if(B===i&&++v===s&&(C=u),B===c&&++x===o&&(m=u),(R=G.nextSibling)!==null)break;G=B,B=G.parentNode}G=R}i=C===-1||m===-1?null:{start:C,end:m}}else i=null}i=i||{start:0,end:0}}else i=null;for(x5={focusedElem:e,selectionRange:i},uw=!1,Cn=t;Cn!==null;)if(t=Cn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Cn=e;else for(;Cn!==null;){t=Cn;try{var V=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var H=V.memoizedProps,M=V.memoizedState,L=t.stateNode,_=L.getSnapshotBeforeUpdate(t.elementType===t.type?H:pc(t.type,H),M);L.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var X=t.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qt(163))}}catch(Q){zr(t,t.return,Q)}if(e=t.sibling,e!==null){e.return=t.return,Cn=e;break}Cn=t.return}return V=NT,NT=!1,V}function gI(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var s=o=o.next;do{if((s.tag&e)===e){var c=s.destroy;s.destroy=void 0,c!==void 0&&M5(t,i,c)}s=s.next}while(s!==o)}}function Gk(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Y5(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function iU(e){var t=e.alternate;t!==null&&(e.alternate=null,iU(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lg],delete t[KI],delete t[G5],delete t[iae],delete t[rae])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rU(e){return e.tag===5||e.tag===3||e.tag===4}function _T(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rU(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function J5(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=pw));else if(o!==4&&(e=e.child,e!==null))for(J5(e,t,i),e=e.sibling;e!==null;)J5(e,t,i),e=e.sibling}function U5(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(U5(e,t,i),e=e.sibling;e!==null;)U5(e,t,i),e=e.sibling}var gs=null,Cc=!1;function oA(e,t,i){for(i=i.child;i!==null;)oU(e,t,i),i=i.sibling}function oU(e,t,i){if(pg&&typeof pg.onCommitFiberUnmount=="function")try{pg.onCommitFiberUnmount(yk,i)}catch{}switch(i.tag){case 5:Vs||pp(i,t);case 6:var o=gs,s=Cc;gs=null,oA(e,t,i),gs=o,Cc=s,gs!==null&&(Cc?(e=gs,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):gs.removeChild(i.stateNode));break;case 18:gs!==null&&(Cc?(e=gs,i=i.stateNode,e.nodeType===8?_x(e.parentNode,i):e.nodeType===1&&_x(e,i),MI(e)):_x(gs,i.stateNode));break;case 4:o=gs,s=Cc,gs=i.stateNode.containerInfo,Cc=!0,oA(e,t,i),gs=o,Cc=s;break;case 0:case 11:case 14:case 15:if(!Vs&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){s=o=o.next;do{var c=s,u=c.destroy;c=c.tag,u!==void 0&&(c&2||c&4)&&M5(i,t,u),s=s.next}while(s!==o)}oA(e,t,i);break;case 1:if(!Vs&&(pp(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(C){zr(i,t,C)}oA(e,t,i);break;case 21:oA(e,t,i);break;case 22:i.mode&1?(Vs=(o=Vs)||i.memoizedState!==null,oA(e,t,i),Vs=o):oA(e,t,i);break;default:oA(e,t,i)}}function VT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new bae),t.forEach(function(o){var s=Rae.bind(null,e,o);i.has(o)||(i.add(o),o.then(s,s))})}}function cc(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var s=i[o];try{var c=e,u=t,C=u;e:for(;C!==null;){switch(C.tag){case 5:gs=C.stateNode,Cc=!1;break e;case 3:gs=C.stateNode.containerInfo,Cc=!0;break e;case 4:gs=C.stateNode.containerInfo,Cc=!0;break e}C=C.return}if(gs===null)throw Error(qt(160));oU(c,u,s),gs=null,Cc=!1;var m=s.alternate;m!==null&&(m.return=null),s.return=null}catch(v){zr(s,t,v)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sU(t,e),t=t.sibling}function sU(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cc(t,e),tg(e),o&4){try{gI(3,e,e.return),Gk(3,e)}catch(H){zr(e,e.return,H)}try{gI(5,e,e.return)}catch(H){zr(e,e.return,H)}}break;case 1:cc(t,e),tg(e),o&512&&i!==null&&pp(i,i.return);break;case 5:if(cc(t,e),tg(e),o&512&&i!==null&&pp(i,i.return),e.flags&32){var s=e.stateNode;try{DI(s,"")}catch(H){zr(e,e.return,H)}}if(o&4&&(s=e.stateNode,s!=null)){var c=e.memoizedProps,u=i!==null?i.memoizedProps:c,C=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{C==="input"&&c.type==="radio"&&c.name!=null&&Z9(s,c),m5(C,u);var v=m5(C,c);for(u=0;u<m.length;u+=2){var x=m[u],G=m[u+1];x==="style"?V9(s,G):x==="dangerouslySetInnerHTML"?N9(s,G):x==="children"?DI(s,G):jG(s,x,G,v)}switch(C){case"input":g5(s,c);break;case"textarea":G9(s,c);break;case"select":var B=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!c.multiple;var R=c.value;R!=null?yp(s,!!c.multiple,R,!1):B!==!!c.multiple&&(c.defaultValue!=null?yp(s,!!c.multiple,c.defaultValue,!0):yp(s,!!c.multiple,c.multiple?[]:"",!1))}s[KI]=c}catch(H){zr(e,e.return,H)}}break;case 6:if(cc(t,e),tg(e),o&4){if(e.stateNode===null)throw Error(qt(162));s=e.stateNode,c=e.memoizedProps;try{s.nodeValue=c}catch(H){zr(e,e.return,H)}}break;case 3:if(cc(t,e),tg(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{MI(t.containerInfo)}catch(H){zr(e,e.return,H)}break;case 4:cc(t,e),tg(e);break;case 13:cc(t,e),tg(e),s=e.child,s.flags&8192&&(c=s.memoizedState!==null,s.stateNode.isHidden=c,!c||s.alternate!==null&&s.alternate.memoizedState!==null||(GR=lo())),o&4&&VT(e);break;case 22:if(x=i!==null&&i.memoizedState!==null,e.mode&1?(Vs=(v=Vs)||x,cc(t,e),Vs=v):cc(t,e),tg(e),o&8192){if(v=e.memoizedState!==null,(e.stateNode.isHidden=v)&&!x&&e.mode&1)for(Cn=e,x=e.child;x!==null;){for(G=Cn=x;Cn!==null;){switch(B=Cn,R=B.child,B.tag){case 0:case 11:case 14:case 15:gI(4,B,B.return);break;case 1:pp(B,B.return);var V=B.stateNode;if(typeof V.componentWillUnmount=="function"){o=B,i=B.return;try{t=o,V.props=t.memoizedProps,V.state=t.memoizedState,V.componentWillUnmount()}catch(H){zr(o,i,H)}}break;case 5:pp(B,B.return);break;case 22:if(B.memoizedState!==null){FT(G);continue}}R!==null?(R.return=B,Cn=R):FT(G)}x=x.sibling}e:for(x=null,G=e;;){if(G.tag===5){if(x===null){x=G;try{s=G.stateNode,v?(c=s.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(C=G.stateNode,m=G.memoizedProps.style,u=m!=null&&m.hasOwnProperty("display")?m.display:null,C.style.display=_9("display",u))}catch(H){zr(e,e.return,H)}}}else if(G.tag===6){if(x===null)try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(H){zr(e,e.return,H)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===e)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===e)break e;for(;G.sibling===null;){if(G.return===null||G.return===e)break e;x===G&&(x=null),G=G.return}x===G&&(x=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:cc(t,e),tg(e),o&4&&VT(e);break;case 21:break;default:cc(t,e),tg(e)}}function tg(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(rU(i)){var o=i;break e}i=i.return}throw Error(qt(160))}switch(o.tag){case 5:var s=o.stateNode;o.flags&32&&(DI(s,""),o.flags&=-33);var c=_T(e);U5(e,c,s);break;case 3:case 4:var u=o.stateNode.containerInfo,C=_T(e);J5(e,C,u);break;default:throw Error(qt(161))}}catch(m){zr(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vae(e,t,i){Cn=e,aU(e)}function aU(e,t,i){for(var o=(e.mode&1)!==0;Cn!==null;){var s=Cn,c=s.child;if(s.tag===22&&o){var u=s.memoizedState!==null||xy;if(!u){var C=s.alternate,m=C!==null&&C.memoizedState!==null||Vs;C=xy;var v=Vs;if(xy=u,(Vs=m)&&!v)for(Cn=s;Cn!==null;)u=Cn,m=u.child,u.tag===22&&u.memoizedState!==null?WT(s):m!==null?(m.return=u,Cn=m):WT(s);for(;c!==null;)Cn=c,aU(c),c=c.sibling;Cn=s,xy=C,Vs=v}ET(e)}else s.subtreeFlags&8772&&c!==null?(c.return=s,Cn=c):ET(e)}}function ET(e){for(;Cn!==null;){var t=Cn;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vs||Gk(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Vs)if(i===null)o.componentDidMount();else{var s=t.elementType===t.type?i.memoizedProps:pc(t.type,i.memoizedProps);o.componentDidUpdate(s,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&fT(t,c,o);break;case 3:var u=t.updateQueue;if(u!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}fT(t,u,i)}break;case 5:var C=t.stateNode;if(i===null&&t.flags&4){i=C;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&i.focus();break;case"img":m.src&&(i.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var v=t.alternate;if(v!==null){var x=v.memoizedState;if(x!==null){var G=x.dehydrated;G!==null&&MI(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qt(163))}Vs||t.flags&512&&Y5(t)}catch(B){zr(t,t.return,B)}}if(t===e){Cn=null;break}if(i=t.sibling,i!==null){i.return=t.return,Cn=i;break}Cn=t.return}}function FT(e){for(;Cn!==null;){var t=Cn;if(t===e){Cn=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Cn=i;break}Cn=t.return}}function WT(e){for(;Cn!==null;){var t=Cn;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Gk(4,t)}catch(m){zr(t,i,m)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var s=t.return;try{o.componentDidMount()}catch(m){zr(t,s,m)}}var c=t.return;try{Y5(t)}catch(m){zr(t,c,m)}break;case 5:var u=t.return;try{Y5(t)}catch(m){zr(t,u,m)}}}catch(m){zr(t,t.return,m)}if(t===e){Cn=null;break}var C=t.sibling;if(C!==null){C.return=t.return,Cn=C;break}Cn=t.return}}var wae=Math.ceil,Sw=Zd.ReactCurrentDispatcher,SR=Zd.ReactCurrentOwner,Wl=Zd.ReactCurrentBatchConfig,Si=0,Qo=null,ko=null,hs=0,Ua=0,Cp=eu(0),Ho=0,$I=null,kh=0,Rk=0,ZR=0,dI=null,ma=null,GR=0,Lp=1/0,od=null,Zw=!1,P5=null,WA=null,Sy=!1,wA=null,Gw=0,AI=0,K5=null,Ev=-1,Fv=0;function js(){return Si&6?lo():Ev!==-1?Ev:Ev=lo()}function HA(e){return e.mode&1?Si&2&&hs!==0?hs&-hs:sae.transition!==null?(Fv===0&&(Fv=U9()),Fv):(e=Qi,e!==0||(e=window.event,e=e===void 0?16:q9(e.type)),e):1}function yc(e,t,i,o){if(50<AI)throw AI=0,K5=null,Error(qt(185));Sb(e,i,o),(!(Si&2)||e!==Qo)&&(e===Qo&&(!(Si&2)&&(Rk|=i),Ho===4&&IA(e,hs)),ya(e,o),i===1&&Si===0&&!(t.mode&1)&&(Lp=lo()+500,xk&&tu()))}function ya(e,t){var i=e.callbackNode;sse(e,t);var o=Aw(e,e===Qo?hs:0);if(o===0)i!==null&&U4(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&U4(i),t===1)e.tag===0?oae(HT.bind(null,e)):CJ(HT.bind(null,e)),tae(function(){!(Si&6)&&tu()}),i=null;else{switch(P9(o)){case 1:i=tR;break;case 4:i=Y9;break;case 16:i=dw;break;case 536870912:i=J9;break;default:i=dw}i=mU(i,lU.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function lU(e,t){if(Ev=-1,Fv=0,Si&6)throw Error(qt(327));var i=e.callbackNode;if(xp()&&e.callbackNode!==i)return null;var o=Aw(e,e===Qo?hs:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=Rw(e,o);else{t=o;var s=Si;Si|=2;var c=gU();(Qo!==e||hs!==t)&&(od=null,Lp=lo()+500,ah(e,t));do try{xae();break}catch(C){cU(e,C)}while(!0);hR(),Sw.current=c,Si=s,ko!==null?t=0:(Qo=null,hs=0,t=Ho)}if(t!==0){if(t===2&&(s=b5(e),s!==0&&(o=s,t=z5(e,s))),t===1)throw i=$I,ah(e,0),IA(e,o),ya(e,lo()),i;if(t===6)IA(e,o);else{if(s=e.current.alternate,!(o&30)&&!kae(s)&&(t=Rw(e,o),t===2&&(c=b5(e),c!==0&&(o=c,t=z5(e,c))),t===1))throw i=$I,ah(e,0),IA(e,o),ya(e,lo()),i;switch(e.finishedWork=s,e.finishedLanes=o,t){case 0:case 1:throw Error(qt(345));case 2:Ku(e,ma,od);break;case 3:if(IA(e,o),(o&130023424)===o&&(t=GR+500-lo(),10<t)){if(Aw(e,0)!==0)break;if(s=e.suspendedLanes,(s&o)!==o){js(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Z5(Ku.bind(null,e,ma,od),t);break}Ku(e,ma,od);break;case 4:if(IA(e,o),(o&4194240)===o)break;for(t=e.eventTimes,s=-1;0<o;){var u=31-bc(o);c=1<<u,u=t[u],u>s&&(s=u),o&=~c}if(o=s,o=lo()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*wae(o/1960))-o,10<o){e.timeoutHandle=Z5(Ku.bind(null,e,ma,od),o);break}Ku(e,ma,od);break;case 5:Ku(e,ma,od);break;default:throw Error(qt(329))}}}return ya(e,lo()),e.callbackNode===i?lU.bind(null,e):null}function z5(e,t){var i=dI;return e.current.memoizedState.isDehydrated&&(ah(e,t).flags|=256),e=Rw(e,t),e!==2&&(t=ma,ma=i,t!==null&&Q5(t)),e}function Q5(e){ma===null?ma=e:ma.push.apply(ma,e)}function kae(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var s=i[o],c=s.getSnapshot;s=s.value;try{if(!kc(c(),s))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function IA(e,t){for(t&=~ZR,t&=~Rk,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-bc(t),o=1<<i;e[i]=-1,t&=~o}}function HT(e){if(Si&6)throw Error(qt(327));xp();var t=Aw(e,0);if(!(t&1))return ya(e,lo()),null;var i=Rw(e,t);if(e.tag!==0&&i===2){var o=b5(e);o!==0&&(t=o,i=z5(e,o))}if(i===1)throw i=$I,ah(e,0),IA(e,t),ya(e,lo()),i;if(i===6)throw Error(qt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ku(e,ma,od),ya(e,lo()),null}function RR(e,t){var i=Si;Si|=1;try{return e(t)}finally{Si=i,Si===0&&(Lp=lo()+500,xk&&tu())}}function Bh(e){wA!==null&&wA.tag===0&&!(Si&6)&&xp();var t=Si;Si|=1;var i=Wl.transition,o=Qi;try{if(Wl.transition=null,Qi=1,e)return e()}finally{Qi=o,Wl.transition=i,Si=t,!(Si&6)&&tu()}}function NR(){Ua=Cp.current,yr(Cp)}function ah(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,eae(i)),ko!==null)for(i=ko.return;i!==null;){var o=i;switch(dR(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Cw();break;case 3:Dp(),yr(Ia),yr(Fs),bR();break;case 5:IR(o);break;case 4:Dp();break;case 13:yr(Hr);break;case 19:yr(Hr);break;case 10:mR(o.type._context);break;case 22:case 23:NR()}i=i.return}if(Qo=e,ko=e=DA(e.current,null),hs=Ua=t,Ho=0,$I=null,ZR=Rk=kh=0,ma=dI=null,th!==null){for(t=0;t<th.length;t++)if(i=th[t],o=i.interleaved,o!==null){i.interleaved=null;var s=o.next,c=i.pending;if(c!==null){var u=c.next;c.next=s,o.next=u}i.pending=o}th=null}return e}function cU(e,t){do{var i=ko;try{if(hR(),Nv.current=xw,Bw){for(var o=Dr.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}Bw=!1}if(wh=0,Ko=Eo=Dr=null,cI=!1,jI=0,SR.current=null,i===null||i.return===null){Ho=1,$I=t,ko=null;break}e:{var c=e,u=i.return,C=i,m=t;if(t=hs,C.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var v=m,x=C,G=x.tag;if(!(x.mode&1)&&(G===0||G===11||G===15)){var B=x.alternate;B?(x.updateQueue=B.updateQueue,x.memoizedState=B.memoizedState,x.lanes=B.lanes):(x.updateQueue=null,x.memoizedState=null)}var R=kT(u);if(R!==null){R.flags&=-257,BT(R,u,C,c,t),R.mode&1&&wT(c,v,t),t=R,m=v;var V=t.updateQueue;if(V===null){var H=new Set;H.add(m),t.updateQueue=H}else V.add(m);break e}else{if(!(t&1)){wT(c,v,t),_R();break e}m=Error(qt(426))}}else if(Rr&&C.mode&1){var M=kT(u);if(M!==null){!(M.flags&65536)&&(M.flags|=256),BT(M,u,C,c,t),AR(Tp(m,C));break e}}c=m=Tp(m,C),Ho!==4&&(Ho=2),dI===null?dI=[c]:dI.push(c),c=u;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var L=PJ(c,m,t);CT(c,L);break e;case 1:C=m;var _=c.type,X=c.stateNode;if(!(c.flags&128)&&(typeof _.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(WA===null||!WA.has(X)))){c.flags|=65536,t&=-t,c.lanes|=t;var Q=KJ(c,C,t);CT(c,Q);break e}}c=c.return}while(c!==null)}AU(i)}catch(j){t=j,ko===i&&i!==null&&(ko=i=i.return);continue}break}while(!0)}function gU(){var e=Sw.current;return Sw.current=xw,e===null?xw:e}function _R(){(Ho===0||Ho===3||Ho===2)&&(Ho=4),Qo===null||!(kh&268435455)&&!(Rk&268435455)||IA(Qo,hs)}function Rw(e,t){var i=Si;Si|=2;var o=gU();(Qo!==e||hs!==t)&&(od=null,ah(e,t));do try{Bae();break}catch(s){cU(e,s)}while(!0);if(hR(),Si=i,Sw.current=o,ko!==null)throw Error(qt(261));return Qo=null,hs=0,Ho}function Bae(){for(;ko!==null;)dU(ko)}function xae(){for(;ko!==null&&!Ooe();)dU(ko)}function dU(e){var t=hU(e.alternate,e,Ua);e.memoizedProps=e.pendingProps,t===null?AU(e):ko=t,SR.current=null}function AU(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Iae(i,t),i!==null){i.flags&=32767,ko=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ho=6,ko=null;return}}else if(i=fae(i,t,Ua),i!==null){ko=i;return}if(t=t.sibling,t!==null){ko=t;return}ko=t=e}while(t!==null);Ho===0&&(Ho=5)}function Ku(e,t,i){var o=Qi,s=Wl.transition;try{Wl.transition=null,Qi=1,Sae(e,t,i,o)}finally{Wl.transition=s,Qi=o}return null}function Sae(e,t,i,o){do xp();while(wA!==null);if(Si&6)throw Error(qt(327));i=e.finishedWork;var s=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(qt(177));e.callbackNode=null,e.callbackPriority=0;var c=i.lanes|i.childLanes;if(ase(e,c),e===Qo&&(ko=Qo=null,hs=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Sy||(Sy=!0,mU(dw,function(){return xp(),null})),c=(i.flags&15990)!==0,i.subtreeFlags&15990||c){c=Wl.transition,Wl.transition=null;var u=Qi;Qi=1;var C=Si;Si|=4,SR.current=null,yae(e,i),sU(i,e),Kse(x5),uw=!!B5,x5=B5=null,e.current=i,vae(i),qoe(),Si=C,Qi=u,Wl.transition=c}else e.current=i;if(Sy&&(Sy=!1,wA=e,Gw=s),c=e.pendingLanes,c===0&&(WA=null),tse(i.stateNode),ya(e,lo()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)s=t[i],o(s.value,{componentStack:s.stack,digest:s.digest});if(Zw)throw Zw=!1,e=P5,P5=null,e;return Gw&1&&e.tag!==0&&xp(),c=e.pendingLanes,c&1?e===K5?AI++:(AI=0,K5=e):AI=0,tu(),null}function xp(){if(wA!==null){var e=P9(Gw),t=Wl.transition,i=Qi;try{if(Wl.transition=null,Qi=16>e?16:e,wA===null)var o=!1;else{if(e=wA,wA=null,Gw=0,Si&6)throw Error(qt(331));var s=Si;for(Si|=4,Cn=e.current;Cn!==null;){var c=Cn,u=c.child;if(Cn.flags&16){var C=c.deletions;if(C!==null){for(var m=0;m<C.length;m++){var v=C[m];for(Cn=v;Cn!==null;){var x=Cn;switch(x.tag){case 0:case 11:case 15:gI(8,x,c)}var G=x.child;if(G!==null)G.return=x,Cn=G;else for(;Cn!==null;){x=Cn;var B=x.sibling,R=x.return;if(iU(x),x===v){Cn=null;break}if(B!==null){B.return=R,Cn=B;break}Cn=R}}}var V=c.alternate;if(V!==null){var H=V.child;if(H!==null){V.child=null;do{var M=H.sibling;H.sibling=null,H=M}while(H!==null)}}Cn=c}}if(c.subtreeFlags&2064&&u!==null)u.return=c,Cn=u;else e:for(;Cn!==null;){if(c=Cn,c.flags&2048)switch(c.tag){case 0:case 11:case 15:gI(9,c,c.return)}var L=c.sibling;if(L!==null){L.return=c.return,Cn=L;break e}Cn=c.return}}var _=e.current;for(Cn=_;Cn!==null;){u=Cn;var X=u.child;if(u.subtreeFlags&2064&&X!==null)X.return=u,Cn=X;else e:for(u=_;Cn!==null;){if(C=Cn,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Gk(9,C)}}catch(j){zr(C,C.return,j)}if(C===u){Cn=null;break e}var Q=C.sibling;if(Q!==null){Q.return=C.return,Cn=Q;break e}Cn=C.return}}if(Si=s,tu(),pg&&typeof pg.onPostCommitFiberRoot=="function")try{pg.onPostCommitFiberRoot(yk,e)}catch{}o=!0}return o}finally{Qi=i,Wl.transition=t}}return!1}function DT(e,t,i){t=Tp(i,t),t=PJ(e,t,1),e=FA(e,t,1),t=js(),e!==null&&(Sb(e,1,t),ya(e,t))}function zr(e,t,i){if(e.tag===3)DT(e,e,i);else for(;t!==null;){if(t.tag===3){DT(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(WA===null||!WA.has(o))){e=Tp(i,e),e=KJ(t,e,1),t=FA(t,e,1),e=js(),t!==null&&(Sb(t,1,e),ya(t,e));break}}t=t.return}}function Zae(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=js(),e.pingedLanes|=e.suspendedLanes&i,Qo===e&&(hs&i)===i&&(Ho===4||Ho===3&&(hs&130023424)===hs&&500>lo()-GR?ah(e,0):ZR|=i),ya(e,t)}function uU(e,t){t===0&&(e.mode&1?(t=Cy,Cy<<=1,!(Cy&130023424)&&(Cy=4194304)):t=1);var i=js();e=vd(e,t),e!==null&&(Sb(e,t,i),ya(e,i))}function Gae(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),uU(e,i)}function Rae(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(i=s.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(qt(314))}o!==null&&o.delete(t),uU(e,i)}var hU;hU=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ia.current)pa=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return pa=!1,Cae(e,t,i);pa=!!(e.flags&131072)}else pa=!1,Rr&&t.flags&1048576&&fJ(t,bw,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Vv(e,t),e=t.pendingProps;var s=Fp(t,Fs.current);Bp(t,i),s=vR(null,t,o,e,s,i);var c=wR();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ba(o)?(c=!0,fw(t)):c=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,CR(t),s.updater=Zk,t.stateNode=s,s._reactInternals=t,F5(t,o,e,i),t=D5(null,t,o,!0,c,i)):(t.tag=0,Rr&&c&&gR(t),Ks(null,t,s,i),t=t.child),t;case 16:o=t.elementType;e:{switch(Vv(e,t),e=t.pendingProps,s=o._init,o=s(o._payload),t.type=o,s=t.tag=_ae(o),e=pc(o,e),s){case 0:t=H5(null,t,o,e,i);break e;case 1:t=ZT(null,t,o,e,i);break e;case 11:t=xT(null,t,o,e,i);break e;case 14:t=ST(null,t,o,pc(o.type,e),i);break e}throw Error(qt(306,o,""))}return t;case 0:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:pc(o,s),H5(e,t,o,s,i);case 1:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:pc(o,s),ZT(e,t,o,s,i);case 3:e:{if(OJ(t),e===null)throw Error(qt(387));o=t.pendingProps,c=t.memoizedState,s=c.element,kJ(e,t),ww(t,o,null,i);var u=t.memoizedState;if(o=u.element,c.isDehydrated)if(c={element:o,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){s=Tp(Error(qt(423)),t),t=GT(e,t,o,i,s);break e}else if(o!==s){s=Tp(Error(qt(424)),t),t=GT(e,t,o,i,s);break e}else for(za=EA(t.stateNode.containerInfo.firstChild),Oa=t,Rr=!0,fc=null,i=vJ(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Wp(),o===s){t=wd(e,t,i);break e}Ks(e,t,o,i)}t=t.child}return t;case 5:return BJ(t),e===null&&_5(t),o=t.type,s=t.pendingProps,c=e!==null?e.memoizedProps:null,u=s.children,S5(o,s)?u=null:c!==null&&S5(o,c)&&(t.flags|=32),jJ(e,t),Ks(e,t,u,i),t.child;case 6:return e===null&&_5(t),null;case 13:return qJ(e,t,i);case 4:return fR(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Hp(t,null,o,i):Ks(e,t,o,i),t.child;case 11:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:pc(o,s),xT(e,t,o,s,i);case 7:return Ks(e,t,t.pendingProps,i),t.child;case 8:return Ks(e,t,t.pendingProps.children,i),t.child;case 12:return Ks(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,s=t.pendingProps,c=t.memoizedProps,u=s.value,ur(yw,o._currentValue),o._currentValue=u,c!==null)if(kc(c.value,u)){if(c.children===s.children&&!Ia.current){t=wd(e,t,i);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var C=c.dependencies;if(C!==null){u=c.child;for(var m=C.firstContext;m!==null;){if(m.context===o){if(c.tag===1){m=pd(-1,i&-i),m.tag=2;var v=c.updateQueue;if(v!==null){v=v.shared;var x=v.pending;x===null?m.next=m:(m.next=x.next,x.next=m),v.pending=m}}c.lanes|=i,m=c.alternate,m!==null&&(m.lanes|=i),V5(c.return,i,t),C.lanes|=i;break}m=m.next}}else if(c.tag===10)u=c.type===t.type?null:c.child;else if(c.tag===18){if(u=c.return,u===null)throw Error(qt(341));u.lanes|=i,C=u.alternate,C!==null&&(C.lanes|=i),V5(u,i,t),u=c.sibling}else u=c.child;if(u!==null)u.return=c;else for(u=c;u!==null;){if(u===t){u=null;break}if(c=u.sibling,c!==null){c.return=u.return,u=c;break}u=u.return}c=u}Ks(e,t,s.children,i),t=t.child}return t;case 9:return s=t.type,o=t.pendingProps.children,Bp(t,i),s=Dl(s),o=o(s),t.flags|=1,Ks(e,t,o,i),t.child;case 14:return o=t.type,s=pc(o,t.pendingProps),s=pc(o.type,s),ST(e,t,o,s,i);case 15:return zJ(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,s=t.pendingProps,s=t.elementType===o?s:pc(o,s),Vv(e,t),t.tag=1,ba(o)?(e=!0,fw(t)):e=!1,Bp(t,i),UJ(t,o,s),F5(t,o,s,i),D5(null,t,o,!0,e,i);case 19:return $J(e,t,i);case 22:return QJ(e,t,i)}throw Error(qt(156,t.tag))};function mU(e,t){return M9(e,t)}function Nae(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _l(e,t,i,o){return new Nae(e,t,i,o)}function VR(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _ae(e){if(typeof e=="function")return VR(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qG)return 11;if(e===$G)return 14}return 2}function DA(e,t){var i=e.alternate;return i===null?(i=_l(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Wv(e,t,i,o,s,c){var u=2;if(o=e,typeof e=="function")VR(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case ap:return lh(i.children,s,c,t);case OG:u=8,s|=8;break;case o5:return e=_l(12,i,t,s|2),e.elementType=o5,e.lanes=c,e;case s5:return e=_l(13,i,t,s),e.elementType=s5,e.lanes=c,e;case a5:return e=_l(19,i,t,s),e.elementType=a5,e.lanes=c,e;case B9:return Nk(i,s,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w9:u=10;break e;case k9:u=9;break e;case qG:u=11;break e;case $G:u=14;break e;case hA:u=16,o=null;break e}throw Error(qt(130,e==null?e:typeof e,""))}return t=_l(u,i,t,s),t.elementType=e,t.type=o,t.lanes=c,t}function lh(e,t,i,o){return e=_l(7,e,o,t),e.lanes=i,e}function Nk(e,t,i,o){return e=_l(22,e,o,t),e.elementType=B9,e.lanes=i,e.stateNode={isHidden:!1},e}function Lx(e,t,i){return e=_l(6,e,null,t),e.lanes=i,e}function Xx(e,t,i){return t=_l(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vae(e,t,i,o,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yx(0),this.expirationTimes=yx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yx(0),this.identifierPrefix=o,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ER(e,t,i,o,s,c,u,C,m){return e=new Vae(e,t,i,C,m),t===1?(t=1,c===!0&&(t|=8)):t=0,c=_l(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},CR(c),e}function Eae(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sp,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function pU(e){if(!e)return zA;e=e._reactInternals;e:{if(Vh(e)!==e||e.tag!==1)throw Error(qt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ba(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(qt(171))}if(e.tag===1){var i=e.type;if(ba(i))return pJ(e,i,t)}return t}function CU(e,t,i,o,s,c,u,C,m){return e=ER(i,o,!0,e,s,c,u,C,m),e.context=pU(null),i=e.current,o=js(),s=HA(i),c=pd(o,s),c.callback=t??null,FA(i,c,s),e.current.lanes=s,Sb(e,s,o),ya(e,o),e}function _k(e,t,i,o){var s=t.current,c=js(),u=HA(s);return i=pU(i),t.context===null?t.context=i:t.pendingContext=i,t=pd(c,u),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=FA(s,t,u),e!==null&&(yc(e,s,u,c),Rv(e,s,u)),u}function Nw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function TT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function FR(e,t){TT(e,t),(e=e.alternate)&&TT(e,t)}function Fae(){return null}var fU=typeof reportError=="function"?reportError:function(e){console.error(e)};function WR(e){this._internalRoot=e}Vk.prototype.render=WR.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(qt(409));_k(e,t,null,null)};Vk.prototype.unmount=WR.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bh(function(){_k(null,e,null,null)}),t[yd]=null}};function Vk(e){this._internalRoot=e}Vk.prototype.unstable_scheduleHydration=function(e){if(e){var t=Q9();e={blockedOn:null,target:e,priority:t};for(var i=0;i<fA.length&&t!==0&&t<fA[i].priority;i++);fA.splice(i,0,e),i===0&&O9(e)}};function HR(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ek(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function LT(){}function Wae(e,t,i,o,s){if(s){if(typeof o=="function"){var c=o;o=function(){var v=Nw(u);c.call(v)}}var u=CU(t,o,e,0,null,!1,!1,"",LT);return e._reactRootContainer=u,e[yd]=u.current,UI(e.nodeType===8?e.parentNode:e),Bh(),u}for(;s=e.lastChild;)e.removeChild(s);if(typeof o=="function"){var C=o;o=function(){var v=Nw(m);C.call(v)}}var m=ER(e,0,!1,null,null,!1,!1,"",LT);return e._reactRootContainer=m,e[yd]=m.current,UI(e.nodeType===8?e.parentNode:e),Bh(function(){_k(t,m,i,o)}),m}function Fk(e,t,i,o,s){var c=i._reactRootContainer;if(c){var u=c;if(typeof s=="function"){var C=s;s=function(){var m=Nw(u);C.call(m)}}_k(t,u,e,s)}else u=Wae(i,t,e,s,o);return Nw(u)}K9=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Jf(t.pendingLanes);i!==0&&(nR(t,i|1),ya(t,lo()),!(Si&6)&&(Lp=lo()+500,tu()))}break;case 13:Bh(function(){var o=vd(e,1);if(o!==null){var s=js();yc(o,e,1,s)}}),FR(e,1)}};iR=function(e){if(e.tag===13){var t=vd(e,134217728);if(t!==null){var i=js();yc(t,e,134217728,i)}FR(e,134217728)}};z9=function(e){if(e.tag===13){var t=HA(e),i=vd(e,t);if(i!==null){var o=js();yc(i,e,t,o)}FR(e,t)}};Q9=function(){return Qi};j9=function(e,t){var i=Qi;try{return Qi=e,t()}finally{Qi=i}};C5=function(e,t,i){switch(t){case"input":if(g5(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var s=Bk(o);if(!s)throw Error(qt(90));S9(o),g5(o,s)}}}break;case"textarea":G9(e,i);break;case"select":t=i.value,t!=null&&yp(e,!!i.multiple,t,!1)}};W9=RR;H9=Bh;var Hae={usingClientEntryPoint:!1,Events:[Gb,dp,Bk,E9,F9,RR]},vf={findFiberByHostInstance:eh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dae={bundleType:vf.bundleType,version:vf.version,rendererPackageName:vf.rendererPackageName,rendererConfig:vf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zd.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=L9(e),e===null?null:e.stateNode},findFiberByHostInstance:vf.findFiberByHostInstance||Fae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zy.isDisabled&&Zy.supportsFiber)try{yk=Zy.inject(Dae),pg=Zy}catch{}}tl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hae;tl.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!HR(t))throw Error(qt(200));return Eae(e,t,null,i)};tl.createRoot=function(e,t){if(!HR(e))throw Error(qt(299));var i=!1,o="",s=fU;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ER(e,1,!1,null,null,i,!1,o,s),e[yd]=t.current,UI(e.nodeType===8?e.parentNode:e),new WR(t)};tl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(qt(188)):(e=Object.keys(e).join(","),Error(qt(268,e)));return e=L9(t),e=e===null?null:e.stateNode,e};tl.flushSync=function(e){return Bh(e)};tl.hydrate=function(e,t,i){if(!Ek(t))throw Error(qt(200));return Fk(null,e,t,!0,i)};tl.hydrateRoot=function(e,t,i){if(!HR(e))throw Error(qt(405));var o=i!=null&&i.hydratedSources||null,s=!1,c="",u=fU;if(i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(u=i.onRecoverableError)),t=CU(t,null,e,1,i??null,s,!1,c,u),e[yd]=t.current,UI(e),o)for(e=0;e<o.length;e++)i=o[e],s=i._getVersion,s=s(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,s]:t.mutableSourceEagerHydrationData.push(i,s);return new Vk(t)};tl.render=function(e,t,i){if(!Ek(t))throw Error(qt(200));return Fk(null,e,t,!1,i)};tl.unmountComponentAtNode=function(e){if(!Ek(e))throw Error(qt(40));return e._reactRootContainer?(Bh(function(){Fk(null,null,e,!1,function(){e._reactRootContainer=null,e[yd]=null})}),!0):!1};tl.unstable_batchedUpdates=RR;tl.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Ek(i))throw Error(qt(200));if(e==null||e._reactInternals===void 0)throw Error(qt(38));return Fk(e,t,i,!1,o)};tl.version="18.3.1-next-f1338f8080-20240426";function IU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IU)}catch(e){console.error(e)}}IU(),I9.exports=tl;var DR=I9.exports;const Gy=Ik(DR);var XT=DR;aw.createRoot=XT.createRoot,aw.hydrateRoot=XT.hydrateRoot;const Tae={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};let Lae=class j5{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,i)}init(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=t||Tae,this.options=i,this.debug=i.debug}log(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return this.forward(i,"log","",!0)}warn(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return this.forward(i,"warn","",!0)}error(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return this.forward(i,"error","")}deprecate(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(t,i,o,s){return s&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${o}${this.prefix} ${t[0]}`),this.logger[i](t))}create(t){return new j5(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new j5(this.logger,t)}};var dg=new Lae;class Wk{constructor(){this.observers={}}on(t,i){return t.split(" ").forEach(o=>{this.observers[o]||(this.observers[o]=new Map);const s=this.observers[o].get(i)||0;this.observers[o].set(i,s+1)}),this}off(t,i){if(this.observers[t]){if(!i){delete this.observers[t];return}this.observers[t].delete(i)}}emit(t){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(u=>{let[C,m]=u;for(let v=0;v<m;v++)C(...o)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(u=>{let[C,m]=u;for(let v=0;v<m;v++)C.apply(C,[t,...o])})}}function wf(){let e,t;const i=new Promise((o,s)=>{e=o,t=s});return i.resolve=e,i.reject=t,i}function MT(e){return e==null?"":""+e}function Xae(e,t,i){e.forEach(o=>{t[o]&&(i[o]=t[o])})}const Mae=/###/g;function uI(e,t,i){function o(C){return C&&C.indexOf("###")>-1?C.replace(Mae,"."):C}function s(){return!e||typeof e=="string"}const c=typeof t!="string"?t:t.split(".");let u=0;for(;u<c.length-1;){if(s())return{};const C=o(c[u]);!e[C]&&i&&(e[C]=new i),Object.prototype.hasOwnProperty.call(e,C)?e=e[C]:e={},++u}return s()?{}:{obj:e,k:o(c[u])}}function YT(e,t,i){const{obj:o,k:s}=uI(e,t,Object);if(o!==void 0||t.length===1){o[s]=i;return}let c=t[t.length-1],u=t.slice(0,t.length-1),C=uI(e,u,Object);for(;C.obj===void 0&&u.length;)c=`${u[u.length-1]}.${c}`,u=u.slice(0,u.length-1),C=uI(e,u,Object),C&&C.obj&&typeof C.obj[`${C.k}.${c}`]<"u"&&(C.obj=void 0);C.obj[`${C.k}.${c}`]=i}function Yae(e,t,i,o){const{obj:s,k:c}=uI(e,t,Object);s[c]=s[c]||[],s[c].push(i)}function _w(e,t){const{obj:i,k:o}=uI(e,t);if(i)return i[o]}function Jae(e,t,i){const o=_w(e,i);return o!==void 0?o:_w(t,i)}function bU(e,t,i){for(const o in t)o!=="__proto__"&&o!=="constructor"&&(o in e?typeof e[o]=="string"||e[o]instanceof String||typeof t[o]=="string"||t[o]instanceof String?i&&(e[o]=t[o]):bU(e[o],t[o],i):e[o]=t[o]);return e}function _m(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Uae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Pae(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>Uae[t]):e}class Kae{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const i=this.regExpMap.get(t);if(i!==void 0)return i;const o=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,o),this.regExpQueue.push(t),o}}const zae=[" ",",","?","!",";"],Qae=new Kae(20);function jae(e,t,i){t=t||"",i=i||"";const o=zae.filter(u=>t.indexOf(u)<0&&i.indexOf(u)<0);if(o.length===0)return!0;const s=Qae.getRegExp(`(${o.map(u=>u==="?"?"\\?":u).join("|")})`);let c=!s.test(e);if(!c){const u=e.indexOf(i);u>0&&!s.test(e.substring(0,u))&&(c=!0)}return c}function O5(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const o=t.split(i);let s=e;for(let c=0;c<o.length;){if(!s||typeof s!="object")return;let u,C="";for(let m=c;m<o.length;++m)if(m!==c&&(C+=i),C+=o[m],u=s[C],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&m<o.length-1)continue;c+=m-c+1;break}s=u}return s}function Vw(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class JT extends Wk{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const i=this.options.ns.indexOf(t);i>-1&&this.options.ns.splice(i,1)}getResource(t,i,o){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let C;t.indexOf(".")>-1?C=t.split("."):(C=[t,i],o&&(Array.isArray(o)?C.push(...o):typeof o=="string"&&c?C.push(...o.split(c)):C.push(o)));const m=_w(this.data,C);return!m&&!i&&!o&&t.indexOf(".")>-1&&(t=C[0],i=C[1],o=C.slice(2).join(".")),m||!u||typeof o!="string"?m:O5(this.data&&this.data[t]&&this.data[t][i],o,c)}addResource(t,i,o,s){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const u=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let C=[t,i];o&&(C=C.concat(u?o.split(u):o)),t.indexOf(".")>-1&&(C=t.split("."),s=i,i=C[1]),this.addNamespaces(i),YT(this.data,C,s),c.silent||this.emit("added",t,i,o,s)}addResources(t,i,o){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const c in o)(typeof o[c]=="string"||Array.isArray(o[c]))&&this.addResource(t,i,c,o[c],{silent:!0});s.silent||this.emit("added",t,i,o)}addResourceBundle(t,i,o,s,c){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},C=[t,i];t.indexOf(".")>-1&&(C=t.split("."),s=o,o=i,i=C[1]),this.addNamespaces(i);let m=_w(this.data,C)||{};u.skipCopy||(o=JSON.parse(JSON.stringify(o))),s?bU(m,o,c):m={...m,...o},YT(this.data,C,m),u.silent||this.emit("added",t,i,o)}removeResourceBundle(t,i){this.hasResourceBundle(t,i)&&delete this.data[t][i],this.removeNamespaces(i),this.emit("removed",t,i)}hasResourceBundle(t,i){return this.getResource(t,i)!==void 0}getResourceBundle(t,i){return i||(i=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,i)}:this.getResource(t,i)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const i=this.getDataByLanguage(t);return!!(i&&Object.keys(i)||[]).find(s=>i[s]&&Object.keys(i[s]).length>0)}toJSON(){return this.data}}var yU={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,i,o,s){return e.forEach(c=>{this.processors[c]&&(t=this.processors[c].process(t,i,o,s))}),t}};const UT={};class Ew extends Wk{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Xae(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=dg.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const o=this.resolve(t,i);return o&&o.res!==void 0}extractFromKey(t,i){let o=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=i.ns||this.options.defaultNS||[];const u=o&&t.indexOf(o)>-1,C=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!jae(t,o,s);if(u&&!C){const m=t.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:t,namespaces:c};const v=t.split(o);(o!==s||o===s&&this.options.ns.indexOf(v[0])>-1)&&(c=v.shift()),t=v.join(s)}return typeof c=="string"&&(c=[c]),{key:t,namespaces:c}}translate(t,i,o){if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,c=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:u,namespaces:C}=this.extractFromKey(t[t.length-1],i),m=C[C.length-1],v=i.lng||this.language,x=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v&&v.toLowerCase()==="cimode"){if(x){const Q=i.nsSeparator||this.options.nsSeparator;return s?{res:`${m}${Q}${u}`,usedKey:u,exactUsedKey:u,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(i)}:`${m}${Q}${u}`}return s?{res:u,usedKey:u,exactUsedKey:u,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(i)}:u}const G=this.resolve(t,i);let B=G&&G.res;const R=G&&G.usedKey||u,V=G&&G.exactUsedKey||u,H=Object.prototype.toString.apply(B),M=["[object Number]","[object Function]","[object RegExp]"],L=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject;if(_&&B&&(typeof B!="string"&&typeof B!="boolean"&&typeof B!="number")&&M.indexOf(H)<0&&!(typeof L=="string"&&Array.isArray(B))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Q=this.options.returnedObjectHandler?this.options.returnedObjectHandler(R,B,{...i,ns:C}):`key '${u} (${this.language})' returned an object instead of string.`;return s?(G.res=Q,G.usedParams=this.getUsedParamsDetails(i),G):Q}if(c){const Q=Array.isArray(B),j=Q?[]:{},re=Q?V:R;for(const P in B)if(Object.prototype.hasOwnProperty.call(B,P)){const O=`${re}${c}${P}`;j[P]=this.translate(O,{...i,joinArrays:!1,ns:C}),j[P]===O&&(j[P]=B[P])}B=j}}else if(_&&typeof L=="string"&&Array.isArray(B))B=B.join(L),B&&(B=this.extendTranslation(B,t,i,o));else{let Q=!1,j=!1;const re=i.count!==void 0&&typeof i.count!="string",P=Ew.hasDefaultValue(i),O=re?this.pluralResolver.getSuffix(v,i.count,i):"",de=i.ordinal&&re?this.pluralResolver.getSuffix(v,i.count,{ordinal:!1}):"",ce=re&&!i.ordinal&&i.count===0&&this.pluralResolver.shouldUseIntlApi(),ne=ce&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${O}`]||i[`defaultValue${de}`]||i.defaultValue;!this.isValidLookup(B)&&P&&(Q=!0,B=ne),this.isValidLookup(B)||(j=!0,B=u);const be=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&j?void 0:B,Ie=P&&ne!==B&&this.options.updateMissing;if(j||Q||Ie){if(this.logger.log(Ie?"updateKey":"missingKey",v,m,u,Ie?ne:B),c){const fe=this.resolve(u,{...i,keySeparator:!1});fe&&fe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Re=[];const ye=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ye&&ye[0])for(let fe=0;fe<ye.length;fe++)Re.push(ye[fe]);else this.options.saveMissingTo==="all"?Re=this.languageUtils.toResolveHierarchy(i.lng||this.language):Re.push(i.lng||this.language);const ve=(fe,Ge,De)=>{const Pe=P&&De!==B?De:be;this.options.missingKeyHandler?this.options.missingKeyHandler(fe,m,Ge,Pe,Ie,i):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(fe,m,Ge,Pe,Ie,i),this.emit("missingKey",fe,m,Ge,B)};this.options.saveMissing&&(this.options.saveMissingPlurals&&re?Re.forEach(fe=>{const Ge=this.pluralResolver.getSuffixes(fe,i);ce&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Ge.indexOf(`${this.options.pluralSeparator}zero`)<0&&Ge.push(`${this.options.pluralSeparator}zero`),Ge.forEach(De=>{ve([fe],u+De,i[`defaultValue${De}`]||ne)})}):ve(Re,u,ne))}B=this.extendTranslation(B,t,i,G,o),j&&B===u&&this.options.appendNamespaceToMissingKey&&(B=`${m}:${u}`),(j||Q)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?B=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}:${u}`:u,Q?B:void 0):B=this.options.parseMissingKeyHandler(B))}return s?(G.res=B,G.usedParams=this.getUsedParamsDetails(i),G):B}extendTranslation(t,i,o,s,c){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...o},o.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init({...o,interpolation:{...this.options.interpolation,...o.interpolation}});const v=typeof t=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let x;if(v){const B=t.match(this.interpolator.nestingRegexp);x=B&&B.length}let G=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(G={...this.options.interpolation.defaultVariables,...G}),t=this.interpolator.interpolate(t,G,o.lng||this.language,o),v){const B=t.match(this.interpolator.nestingRegexp),R=B&&B.length;x<R&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(o.lng=s.usedLng),o.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var B=arguments.length,R=new Array(B),V=0;V<B;V++)R[V]=arguments[V];return c&&c[0]===R[0]&&!o.context?(u.logger.warn(`It seems you are nesting recursively key: ${R[0]} in key: ${i[0]}`),null):u.translate(...R,i)},o)),o.interpolation&&this.interpolator.reset()}const C=o.postProcess||this.options.postProcess,m=typeof C=="string"?[C]:C;return t!=null&&m&&m.length&&o.applyPostProcessor!==!1&&(t=yU.handle(m,t,i,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(o)},...o}:o,this)),t}resolve(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,s,c,u,C;return typeof t=="string"&&(t=[t]),t.forEach(m=>{if(this.isValidLookup(o))return;const v=this.extractFromKey(m,i),x=v.key;s=x;let G=v.namespaces;this.options.fallbackNS&&(G=G.concat(this.options.fallbackNS));const B=i.count!==void 0&&typeof i.count!="string",R=B&&!i.ordinal&&i.count===0&&this.pluralResolver.shouldUseIntlApi(),V=i.context!==void 0&&(typeof i.context=="string"||typeof i.context=="number")&&i.context!=="",H=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);G.forEach(M=>{this.isValidLookup(o)||(C=M,!UT[`${H[0]}-${M}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(C)&&(UT[`${H[0]}-${M}`]=!0,this.logger.warn(`key "${s}" for languages "${H.join(", ")}" won't get resolved as namespace "${C}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),H.forEach(L=>{if(this.isValidLookup(o))return;u=L;const _=[x];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(_,x,L,M,i);else{let Q;B&&(Q=this.pluralResolver.getSuffix(L,i.count,i));const j=`${this.options.pluralSeparator}zero`,re=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(B&&(_.push(x+Q),i.ordinal&&Q.indexOf(re)===0&&_.push(x+Q.replace(re,this.options.pluralSeparator)),R&&_.push(x+j)),V){const P=`${x}${this.options.contextSeparator}${i.context}`;_.push(P),B&&(_.push(P+Q),i.ordinal&&Q.indexOf(re)===0&&_.push(P+Q.replace(re,this.options.pluralSeparator)),R&&_.push(P+j))}}let X;for(;X=_.pop();)this.isValidLookup(o)||(c=X,o=this.getResource(L,M,X,i))}))})}),{res:o,usedKey:s,exactUsedKey:c,usedLng:u,usedNS:C}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,i,o){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,i,o,s):this.resourceStore.getResource(t,i,o,s)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],o=t.replace&&typeof t.replace!="string";let s=o?t.replace:t;if(o&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!o){s={...s};for(const c of i)delete s[c]}return s}static hasDefaultValue(t){const i="defaultValue";for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&i===o.substring(0,i.length)&&t[o]!==void 0)return!0;return!1}}function Mx(e){return e.charAt(0).toUpperCase()+e.slice(1)}class PT{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=dg.create("languageUtils")}getScriptPartFromCode(t){if(t=Vw(t),!t||t.indexOf("-")<0)return null;const i=t.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(t){if(t=Vw(t),!t||t.indexOf("-")<0)return t;const i=t.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const i=["hans","hant","latn","cyrl","cans","mong","arab"];let o=t.split("-");return this.options.lowerCaseLng?o=o.map(s=>s.toLowerCase()):o.length===2?(o[0]=o[0].toLowerCase(),o[1]=o[1].toUpperCase(),i.indexOf(o[1].toLowerCase())>-1&&(o[1]=Mx(o[1].toLowerCase()))):o.length===3&&(o[0]=o[0].toLowerCase(),o[1].length===2&&(o[1]=o[1].toUpperCase()),o[0]!=="sgn"&&o[2].length===2&&(o[2]=o[2].toUpperCase()),i.indexOf(o[1].toLowerCase())>-1&&(o[1]=Mx(o[1].toLowerCase())),i.indexOf(o[2].toLowerCase())>-1&&(o[2]=Mx(o[2].toLowerCase()))),o.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let i;return t.forEach(o=>{if(i)return;const s=this.formatLanguageCode(o);(!this.options.supportedLngs||this.isSupportedCode(s))&&(i=s)}),!i&&this.options.supportedLngs&&t.forEach(o=>{if(i)return;const s=this.getLanguagePartFromCode(o);if(this.isSupportedCode(s))return i=s;i=this.options.supportedLngs.find(c=>{if(c===s)return c;if(!(c.indexOf("-")<0&&s.indexOf("-")<0)&&(c.indexOf("-")>0&&s.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===s||c.indexOf(s)===0&&s.length>1))return c})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(t,i){if(!t)return[];if(typeof t=="function"&&(t=t(i)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!i)return t.default||[];let o=t[i];return o||(o=t[this.getScriptPartFromCode(i)]),o||(o=t[this.formatLanguageCode(i)]),o||(o=t[this.getLanguagePartFromCode(i)]),o||(o=t.default),o||[]}toResolveHierarchy(t,i){const o=this.getFallbackCodes(i||this.options.fallbackLng||[],t),s=[],c=u=>{u&&(this.isSupportedCode(u)?s.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(t))):typeof t=="string"&&c(this.formatLanguageCode(t)),o.forEach(u=>{s.indexOf(u)<0&&c(this.formatLanguageCode(u))}),s}}let Oae=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],qae={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}};const $ae=["v1","v2","v3"],ele=["v4"],KT={zero:0,one:1,two:2,few:3,many:4,other:5};function tle(){const e={};return Oae.forEach(t=>{t.lngs.forEach(i=>{e[i]={numbers:t.nr,plurals:qae[t.fc]}})}),e}class nle{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=i,this.logger=dg.create("pluralResolver"),(!this.options.compatibilityJSON||ele.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=tle()}addRule(t,i){this.rules[t]=i}getRule(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Vw(t==="dev"?"en":t),{type:i.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=this.getRule(t,i);return this.shouldUseIntlApi()?o&&o.resolvedOptions().pluralCategories.length>1:o&&o.numbers.length>1}getPluralFormsOfKey(t,i){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,o).map(s=>`${i}${s}`)}getSuffixes(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=this.getRule(t,i);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort((s,c)=>KT[s]-KT[c]).map(s=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s}`):o.numbers.map(s=>this.getSuffix(t,s,i)):[]}getSuffix(t,i){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(t,o);return s?this.shouldUseIntlApi()?`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${s.select(i)}`:this.getSuffixRetroCompatible(s,i):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,i){const o=t.noAbs?t.plurals(i):t.plurals(Math.abs(i));let s=t.numbers[o];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const c=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:c():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?c():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}shouldUseIntlApi(){return!$ae.includes(this.options.compatibilityJSON)}}function zT(e,t,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,c=Jae(e,t,i);return!c&&s&&typeof i=="string"&&(c=O5(e,i,o),c===void 0&&(c=O5(t,i,o))),c}class ile{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=dg.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(i=>i),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:i,escapeValue:o,useRawValueToEscape:s,prefix:c,prefixEscaped:u,suffix:C,suffixEscaped:m,formatSeparator:v,unescapeSuffix:x,unescapePrefix:G,nestingPrefix:B,nestingPrefixEscaped:R,nestingSuffix:V,nestingSuffixEscaped:H,nestingOptionsSeparator:M,maxReplaces:L,alwaysFormat:_}=t.interpolation;this.escape=i!==void 0?i:Pae,this.escapeValue=o!==void 0?o:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=c?_m(c):u||"{{",this.suffix=C?_m(C):m||"}}",this.formatSeparator=v||",",this.unescapePrefix=x?"":G||"-",this.unescapeSuffix=this.unescapePrefix?"":x||"",this.nestingPrefix=B?_m(B):R||_m("$t("),this.nestingSuffix=V?_m(V):H||_m(")"),this.nestingOptionsSeparator=M||",",this.maxReplaces=L||1e3,this.alwaysFormat=_!==void 0?_:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(i,o)=>i&&i.source===o?(i.lastIndex=0,i):new RegExp(o,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,i,o,s){let c,u,C;const m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function v(V){return V.replace(/\$/g,"$$$$")}const x=V=>{if(V.indexOf(this.formatSeparator)<0){const _=zT(i,m,V,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,o,{...s,...i,interpolationkey:V}):_}const H=V.split(this.formatSeparator),M=H.shift().trim(),L=H.join(this.formatSeparator).trim();return this.format(zT(i,m,M,this.options.keySeparator,this.options.ignoreJSONStructure),L,o,{...s,...i,interpolationkey:M})};this.resetRegExp();const G=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,B=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:V=>v(V)},{regex:this.regexp,safeValue:V=>this.escapeValue?v(this.escape(V)):v(V)}].forEach(V=>{for(C=0;c=V.regex.exec(t);){const H=c[1].trim();if(u=x(H),u===void 0)if(typeof G=="function"){const L=G(t,c,s);u=typeof L=="string"?L:""}else if(s&&Object.prototype.hasOwnProperty.call(s,H))u="";else if(B){u=c[0];continue}else this.logger.warn(`missed to pass in variable ${H} for interpolating ${t}`),u="";else typeof u!="string"&&!this.useRawValueToEscape&&(u=MT(u));const M=V.safeValue(u);if(t=t.replace(c[0],M),B?(V.regex.lastIndex+=u.length,V.regex.lastIndex-=c[0].length):V.regex.lastIndex=0,C++,C>=this.maxReplaces)break}}),t}nest(t,i){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,c,u;function C(m,v){const x=this.nestingOptionsSeparator;if(m.indexOf(x)<0)return m;const G=m.split(new RegExp(`${x}[ ]*{`));let B=`{${G[1]}`;m=G[0],B=this.interpolate(B,u);const R=B.match(/'/g),V=B.match(/"/g);(R&&R.length%2===0&&!V||V.length%2!==0)&&(B=B.replace(/'/g,'"'));try{u=JSON.parse(B),v&&(u={...v,...u})}catch(H){return this.logger.warn(`failed parsing options string in nesting for key ${m}`,H),`${m}${x}${B}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,m}for(;s=this.nestingRegexp.exec(t);){let m=[];u={...o},u=u.replace&&typeof u.replace!="string"?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;let v=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const x=s[1].split(this.formatSeparator).map(G=>G.trim());s[1]=x.shift(),m=x,v=!0}if(c=i(C.call(this,s[1].trim(),u),u),c&&s[0]===t&&typeof c!="string")return c;typeof c!="string"&&(c=MT(c)),c||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),c=""),v&&(c=m.reduce((x,G)=>this.format(x,G,o.lng,{...o,interpolationkey:s[1].trim()}),c.trim())),t=t.replace(s[0],c),this.regexp.lastIndex=0}return t}}function rle(e){let t=e.toLowerCase().trim();const i={};if(e.indexOf("(")>-1){const o=e.split("(");t=o[0].toLowerCase().trim();const s=o[1].substring(0,o[1].length-1);t==="currency"&&s.indexOf(":")<0?i.currency||(i.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?i.range||(i.range=s.trim()):s.split(";").forEach(u=>{if(u){const[C,...m]=u.split(":"),v=m.join(":").trim().replace(/^'+|'+$/g,""),x=C.trim();i[x]||(i[x]=v),v==="false"&&(i[x]=!1),v==="true"&&(i[x]=!0),isNaN(v)||(i[x]=parseInt(v,10))}})}return{formatName:t,formatOptions:i}}function Vm(e){const t={};return function(o,s,c){const u=s+JSON.stringify(c);let C=t[u];return C||(C=e(Vw(s),c),t[u]=C),C(o)}}class ole{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=dg.create("formatter"),this.options=t,this.formats={number:Vm((i,o)=>{const s=new Intl.NumberFormat(i,{...o});return c=>s.format(c)}),currency:Vm((i,o)=>{const s=new Intl.NumberFormat(i,{...o,style:"currency"});return c=>s.format(c)}),datetime:Vm((i,o)=>{const s=new Intl.DateTimeFormat(i,{...o});return c=>s.format(c)}),relativetime:Vm((i,o)=>{const s=new Intl.RelativeTimeFormat(i,{...o});return c=>s.format(c,o.range||"day")}),list:Vm((i,o)=>{const s=new Intl.ListFormat(i,{...o});return c=>s.format(c)})},this.init(t)}init(t){const o=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=o.formatSeparator?o.formatSeparator:o.formatSeparator||","}add(t,i){this.formats[t.toLowerCase().trim()]=i}addCached(t,i){this.formats[t.toLowerCase().trim()]=Vm(i)}format(t,i,o){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return i.split(this.formatSeparator).reduce((C,m)=>{const{formatName:v,formatOptions:x}=rle(m);if(this.formats[v]){let G=C;try{const B=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},R=B.locale||B.lng||s.locale||s.lng||o;G=this.formats[v](C,R,{...x,...s,...B})}catch(B){this.logger.warn(B)}return G}else this.logger.warn(`there was no format function for ${v}`);return C},t)}}function sle(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}class ale extends Wk{constructor(t,i,o){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=i,this.services=o,this.languageUtils=o.languageUtils,this.options=s,this.logger=dg.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(o,s.backend,s)}queueLoad(t,i,o,s){const c={},u={},C={},m={};return t.forEach(v=>{let x=!0;i.forEach(G=>{const B=`${v}|${G}`;!o.reload&&this.store.hasResourceBundle(v,G)?this.state[B]=2:this.state[B]<0||(this.state[B]===1?u[B]===void 0&&(u[B]=!0):(this.state[B]=1,x=!1,u[B]===void 0&&(u[B]=!0),c[B]===void 0&&(c[B]=!0),m[G]===void 0&&(m[G]=!0)))}),x||(C[v]=!0)}),(Object.keys(c).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(c),pending:Object.keys(u),toLoadLanguages:Object.keys(C),toLoadNamespaces:Object.keys(m)}}loaded(t,i,o){const s=t.split("|"),c=s[0],u=s[1];i&&this.emit("failedLoading",c,u,i),o&&this.store.addResourceBundle(c,u,o,void 0,void 0,{skipCopy:!0}),this.state[t]=i?-1:2;const C={};this.queue.forEach(m=>{Yae(m.loaded,[c],u),sle(m,t),i&&m.errors.push(i),m.pendingCount===0&&!m.done&&(Object.keys(m.loaded).forEach(v=>{C[v]||(C[v]={});const x=m.loaded[v];x.length&&x.forEach(G=>{C[v][G]===void 0&&(C[v][G]=!0)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",C),this.queue=this.queue.filter(m=>!m.done)}read(t,i,o){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!t.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:i,fcName:o,tried:s,wait:c,callback:u});return}this.readingCalls++;const C=(v,x)=>{if(this.readingCalls--,this.waitingReads.length>0){const G=this.waitingReads.shift();this.read(G.lng,G.ns,G.fcName,G.tried,G.wait,G.callback)}if(v&&x&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,i,o,s+1,c*2,u)},c);return}u(v,x)},m=this.backend[o].bind(this.backend);if(m.length===2){try{const v=m(t,i);v&&typeof v.then=="function"?v.then(x=>C(null,x)).catch(C):C(null,v)}catch(v){C(v)}return}return m(t,i,C)}prepareLoading(t,i){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof i=="string"&&(i=[i]);const c=this.queueLoad(t,i,o,s);if(!c.toLoad.length)return c.pending.length||s(),null;c.toLoad.forEach(u=>{this.loadOne(u)})}load(t,i,o){this.prepareLoading(t,i,{},o)}reload(t,i,o){this.prepareLoading(t,i,{reload:!0},o)}loadOne(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const o=t.split("|"),s=o[0],c=o[1];this.read(s,c,"read",void 0,void 0,(u,C)=>{u&&this.logger.warn(`${i}loading namespace ${c} for language ${s} failed`,u),!u&&C&&this.logger.log(`${i}loaded namespace ${c} for language ${s}`,C),this.loaded(t,u,C)})}saveMissing(t,i,o,s,c){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},C=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(i)){this.logger.warn(`did not save key "${o}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){const m={...u,isUpdate:c},v=this.backend.create.bind(this.backend);if(v.length<6)try{let x;v.length===5?x=v(t,i,o,s,m):x=v(t,i,o,s),x&&typeof x.then=="function"?x.then(G=>C(null,G)).catch(C):C(null,x)}catch(x){C(x)}else v(t,i,o,s,C,m)}!t||!t[0]||this.store.addResource(t[0],i,o,s)}}}function QT(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){let i={};if(typeof t[1]=="object"&&(i=t[1]),typeof t[1]=="string"&&(i.defaultValue=t[1]),typeof t[2]=="string"&&(i.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const o=t[3]||t[2];Object.keys(o).forEach(s=>{i[s]=o[s]})}return i},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function jT(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Ry(){}function lle(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(i=>{typeof e[i]=="function"&&(e[i]=e[i].bind(e))})}class eb extends Wk{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(super(),this.options=jT(t),this.services={},this.logger=dg,this.modules={external:[]},lle(this),i&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,i),this;setTimeout(()=>{this.init(t,i)},0)}}init(){var t=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof i=="function"&&(o=i,i={}),!i.defaultNS&&i.defaultNS!==!1&&i.ns&&(typeof i.ns=="string"?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));const s=QT();this.options={...s,...this.options,...jT(i)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);function c(x){return x?typeof x=="function"?new x:x:null}if(!this.options.isClone){this.modules.logger?dg.init(c(this.modules.logger),this.options):dg.init(null,this.options);let x;this.modules.formatter?x=this.modules.formatter:typeof Intl<"u"&&(x=ole);const G=new PT(this.options);this.store=new JT(this.options.resources,this.options);const B=this.services;B.logger=dg,B.resourceStore=this.store,B.languageUtils=G,B.pluralResolver=new nle(G,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),x&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(B.formatter=c(x),B.formatter.init(B,this.options),this.options.interpolation.format=B.formatter.format.bind(B.formatter)),B.interpolator=new ile(this.options),B.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},B.backendConnector=new ale(c(this.modules.backend),B.resourceStore,B,this.options),B.backendConnector.on("*",function(R){for(var V=arguments.length,H=new Array(V>1?V-1:0),M=1;M<V;M++)H[M-1]=arguments[M];t.emit(R,...H)}),this.modules.languageDetector&&(B.languageDetector=c(this.modules.languageDetector),B.languageDetector.init&&B.languageDetector.init(B,this.options.detection,this.options)),this.modules.i18nFormat&&(B.i18nFormat=c(this.modules.i18nFormat),B.i18nFormat.init&&B.i18nFormat.init(this)),this.translator=new Ew(this.services,this.options),this.translator.on("*",function(R){for(var V=arguments.length,H=new Array(V>1?V-1:0),M=1;M<V;M++)H[M-1]=arguments[M];t.emit(R,...H)}),this.modules.external.forEach(R=>{R.init&&R.init(this)})}if(this.format=this.options.interpolation.format,o||(o=Ry),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const x=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);x.length>0&&x[0]!=="dev"&&(this.options.lng=x[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(x=>{this[x]=function(){return t.store[x](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(x=>{this[x]=function(){return t.store[x](...arguments),t}});const m=wf(),v=()=>{const x=(G,B)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),m.resolve(B),o(G,B)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return x(null,this.t.bind(this));this.changeLanguage(this.options.lng,x)};return this.options.resources||!this.options.initImmediate?v():setTimeout(v,0),m}loadResources(t){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ry;const s=typeof t=="string"?t:this.language;if(typeof t=="function"&&(o=t),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const c=[],u=C=>{if(!C||C==="cimode")return;this.services.languageUtils.toResolveHierarchy(C).forEach(v=>{v!=="cimode"&&c.indexOf(v)<0&&c.push(v)})};s?u(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>u(m)),this.options.preload&&this.options.preload.forEach(C=>u(C)),this.services.backendConnector.load(c,this.options.ns,C=>{!C&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(C)})}else o(null)}reloadResources(t,i,o){const s=wf();return t||(t=this.languages),i||(i=this.options.ns),o||(o=Ry),this.services.backendConnector.reload(t,i,c=>{s.resolve(),o(c)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&yU.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let i=0;i<this.languages.length;i++){const o=this.languages[i];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}changeLanguage(t,i){var o=this;this.isLanguageChangingTo=t;const s=wf();this.emit("languageChanging",t);const c=m=>{this.language=m,this.languages=this.services.languageUtils.toResolveHierarchy(m),this.resolvedLanguage=void 0,this.setResolvedLanguage(m)},u=(m,v)=>{v?(c(v),this.translator.changeLanguage(v),this.isLanguageChangingTo=void 0,this.emit("languageChanged",v),this.logger.log("languageChanged",v)):this.isLanguageChangingTo=void 0,s.resolve(function(){return o.t(...arguments)}),i&&i(m,function(){return o.t(...arguments)})},C=m=>{!t&&!m&&this.services.languageDetector&&(m=[]);const v=typeof m=="string"?m:this.services.languageUtils.getBestMatchFromCodes(m);v&&(this.language||c(v),this.translator.language||this.translator.changeLanguage(v),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(v)),this.loadResources(v,x=>{u(x,v)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?C(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(C):this.services.languageDetector.detect(C):C(t),s}getFixedT(t,i,o){var s=this;const c=function(u,C){let m;if(typeof C!="object"){for(var v=arguments.length,x=new Array(v>2?v-2:0),G=2;G<v;G++)x[G-2]=arguments[G];m=s.options.overloadTranslationOptionHandler([u,C].concat(x))}else m={...C};m.lng=m.lng||c.lng,m.lngs=m.lngs||c.lngs,m.ns=m.ns||c.ns,m.keyPrefix=m.keyPrefix||o||c.keyPrefix;const B=s.options.keySeparator||".";let R;return m.keyPrefix&&Array.isArray(u)?R=u.map(V=>`${m.keyPrefix}${B}${V}`):R=m.keyPrefix?`${m.keyPrefix}${B}${u}`:u,s.t(R,m)};return typeof t=="string"?c.lng=t:c.lngs=t,c.ns=i,c.keyPrefix=o,c}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const o=i.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const u=(C,m)=>{const v=this.services.backendConnector.state[`${C}|${m}`];return v===-1||v===2};if(i.precheck){const C=i.precheck(this,u);if(C!==void 0)return C}return!!(this.hasResourceBundle(o,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(o,t)&&(!s||u(c,t)))}loadNamespaces(t,i){const o=wf();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{o.resolve(),i&&i(s)}),o):(i&&i(),Promise.resolve())}loadLanguages(t,i){const o=wf();typeof t=="string"&&(t=[t]);const s=this.options.preload||[],c=t.filter(u=>s.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return c.length?(this.options.preload=s.concat(c),this.loadResources(u=>{o.resolve(),i&&i(u)}),o):(i&&i(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new PT(QT());return i.indexOf(o.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return new eb(t,i)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ry;const o=t.forkResourceStore;o&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},c=new eb(s);return(t.debug!==void 0||t.prefix!==void 0)&&(c.logger=c.logger.clone(t)),["store","services","language"].forEach(C=>{c[C]=this[C]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},o&&(c.store=new JT(this.store.data,s),c.services.resourceStore=c.store),c.translator=new Ew(c.services,s),c.translator.on("*",function(C){for(var m=arguments.length,v=new Array(m>1?m-1:0),x=1;x<m;x++)v[x-1]=arguments[x];c.emit(C,...v)}),c.init(s,i),c.translator.options=s,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ws=eb.createInstance();Ws.createInstance=eb.createInstance;Ws.createInstance;Ws.dir;Ws.init;Ws.loadResources;Ws.reloadResources;Ws.use;Ws.changeLanguage;Ws.getFixedT;Ws.t;Ws.exists;Ws.setDefaultNamespace;Ws.hasLoadedNamespace;Ws.loadNamespaces;Ws.loadLanguages;function cle(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const OT={};function q5(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];typeof t[0]=="string"&&OT[t[0]]||(typeof t[0]=="string"&&(OT[t[0]]=new Date),cle(...t))}const vU=(e,t)=>()=>{if(e.isInitialized)t();else{const i=()=>{setTimeout(()=>{e.off("initialized",i)},0),t()};e.on("initialized",i)}};function qT(e,t,i){e.loadNamespaces(t,vU(e,i))}function $T(e,t,i,o){typeof i=="string"&&(i=[i]),i.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,vU(e,o))}function gle(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=t.languages[0],s=t.options?t.options.fallbackLng:!1,c=t.languages[t.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const u=(C,m)=>{const v=t.services.backendConnector.state[`${C}|${m}`];return v===-1||v===2};return i.bindI18n&&i.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!u(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(o,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||u(o,e)&&(!s||u(c,e)))}function dle(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(q5("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:i.lng,precheck:(s,c)=>{if(i.bindI18n&&i.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!c(s.isLanguageChangingTo,e))return!1}}):gle(e,t,i)}const Ale=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ule={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},hle=e=>ule[e],mle=e=>e.replace(Ale,hle);let $5={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:mle};function ple(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$5={...$5,...e}}function Cle(){return $5}let wU;function fle(e){wU=e}function Ile(){return wU}const ble={type:"3rdParty",init(e){ple(e.options.react),fle(e)}},yle=le.createContext();class vle{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(i=>{this.usedNamespaces[i]||(this.usedNamespaces[i]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const wle=(e,t)=>{const i=le.useRef();return le.useEffect(()=>{i.current=e},[e,t]),i.current};function kU(e,t,i,o){return e.getFixedT(t,i,o)}function kle(e,t,i,o){return le.useCallback(kU(e,t,i,o),[e,t,i,o])}function Jn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:i}=t,{i18n:o,defaultNS:s}=le.useContext(yle)||{},c=i||o||Ile();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new vle),!c){q5("You will need to pass in an i18next instance by using initReactI18next");const Q=(re,P)=>typeof P=="string"?P:P&&typeof P=="object"&&typeof P.defaultValue=="string"?P.defaultValue:Array.isArray(re)?re[re.length-1]:re,j=[Q,{},!1];return j.t=Q,j.i18n={},j.ready=!1,j}c.options.react&&c.options.react.wait!==void 0&&q5("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...Cle(),...c.options.react,...t},{useSuspense:C,keyPrefix:m}=u;let v=s||c.options&&c.options.defaultNS;v=typeof v=="string"?[v]:v||["translation"],c.reportNamespaces.addUsedNamespaces&&c.reportNamespaces.addUsedNamespaces(v);const x=(c.isInitialized||c.initializedStoreOnce)&&v.every(Q=>dle(Q,c,u)),G=kle(c,t.lng||null,u.nsMode==="fallback"?v:v[0],m),B=()=>G,R=()=>kU(c,t.lng||null,u.nsMode==="fallback"?v:v[0],m),[V,H]=le.useState(B);let M=v.join();t.lng&&(M=`${t.lng}${M}`);const L=wle(M),_=le.useRef(!0);le.useEffect(()=>{const{bindI18n:Q,bindI18nStore:j}=u;_.current=!0,!x&&!C&&(t.lng?$T(c,t.lng,v,()=>{_.current&&H(R)}):qT(c,v,()=>{_.current&&H(R)})),x&&L&&L!==M&&_.current&&H(R);function re(){_.current&&H(R)}return Q&&c&&c.on(Q,re),j&&c&&c.store.on(j,re),()=>{_.current=!1,Q&&c&&Q.split(" ").forEach(P=>c.off(P,re)),j&&c&&j.split(" ").forEach(P=>c.store.off(P,re))}},[c,M]),le.useEffect(()=>{_.current&&x&&H(B)},[c,m,x]);const X=[V,c,x];if(X.t=V,X.i18n=c,X.ready=x,x||!x&&!C)return X;throw new Promise(Q=>{t.lng?$T(c,t.lng,v,()=>Q()):qT(c,v,()=>Q())})}const Ble="Trang ch",xle="V chng ti",Sle="ng k i tc",Zle="My Dashboard",Gle="Sn ca ti",Rle="ng nhp",Nle="ng k",_le="Thnh ph Th c",Vle="Qun 1",Ele="Qun 3",Fle="Qun 4",Wle="Qun 5",Hle="Qun 6",Dle="Qun 7",Tle="Qun 8",Lle="Qun 10",Xle="Qun 11",Mle="Qun 12",Yle="Qun Bnh Tn",Jle="Qun Bnh Thnh",Ule="Qun G Vp",Ple="Qun Ph Nhun",Kle="Qun Tn Bnh",zle="Qun Tn Ph",Qle="Huyn Nh B",jle="Huyn Cn Gi",Ole="Huyn C Chi",qle="Huyn Hc Mn",$le="Huyn Bnh Chnh",ece="Tm sn ngay",tce="Tm kim sn cu lng ti Thnh ph H Ch Minh",nce="Tm",ice="Chn qun",rce="Danh sch sn",oce="nh gi",sce="Chn nh gi",ace="Gi thu",lce="a ch",cce="Gi hot ng",gce="S sn",dce="Gi thu",Ace="Xem chi tit",uce="iu khon ngi dng",hce="iu khon i tc",mce="Chnh sch bo mt",pce="Bn quyn thuc s hu ca Court Star 2024",Cce="Cha c ti khon",fce="ng k",Ice="Qun mt khu",bce="ng nhp bng Google",yce="ng k Ngi dng",vce="Nhp Tn",wce="Nhp H",kce="Nhp Email",Bce="Nhp S in thoi",xce="Nhp s in thoi ca Qun l",Sce="Nhp Mt khu",Zce="Tn",Gce="H",Rce="S in Thoi",Nce="Mt Khu",_ce="S dng 8 k t tr ln kt hp ch ci, s v k hiu",Vce="ng  vi",Ece="iu khon s dng",Fce="v",Wce="ng k vi ti khon Google",Hce=" c ti khon",Dce="Thng tin C nhn",Tce="Cp Nht",Lce="Hu b",Xce="Qun Mt Khu",Mce="Nhp email ca bn v chng ti s gi m xc nhn n email!",Yce="Gi m",Jce="Kim tra Email",Uce="Chng ti  gi m xc nhn n ",Pce="Nhp mt m gm 6 ch s  c gi n",Kce="Nhp mt khu mi",zce="Mt khu mi",Qce="Xc nhn li mt khu",jce="Xc nhn li mt khu mi",Oce="Cha nhn c email?",qce="Gi li",$ce="Xc nhn",ege="S d ca ti",tge="Nhn vin",nge="Nhn vin",ige="Tn ca Nhn vin",rge="Nhp tn ca nhn vin",oge="Thng tin Sn",sge="Nhp tn sn",age="Tn sn",lge="Nhp a ch sn",cge="a Ch sn",gge="Nhp s sn",dge="Nhp gi mi gi",Age="Gi mi gi",uge="Gi m ca",hge="Chn gi m ca",mge="Gi ng ca",pge="Chn gi ng ca",Cge="Phng thc thanh ton",fge="Nhp phng thc thanh ton",Ige="ang m ca",bge="M ca",yge=" ng ca",vge="ng ca",wge="Thng tin",kge="Sa",Bge="Trng thi",xge="Chn trng thi",Sge="nh gi",Zge="nh gi",Gge="Thng tin nhn vin",Rge="Thm Nhn vin",Nge="H Tn",_ge="Nhp Tn khch hng",Vge="Nhp Email khch hng",Ege="Nhp S in thoi khch hng",Fge="Chn khung gi",Wge="Khung gi",Hge="Nhp email ca nhn vin",Dge="Nhp s in thoi ca nhn vin",Tge="Nhp mt khu ca nhn vin",Lge="Thng bo mi",Xge="C yu cu ng sn mi t i tc",Mge="Sn ca bn  b t chi",Yge="Cho mng n vi Court Star!",Jge="C n hng mi",Uge="To mi",Pge="Hy b",Kge="Nhp a ch",zge="- Cng ty c thnh lp nm 2024 vi tn CourtStar. CourtStar ni ln l trang t ch sn cu lng hng u Vit Nam.",Qge="- CourtStar t ho c mt i ng nng ng, tr trung v nhit huyt.",jge="- CourtStar hin c nhiu sn cu lng vi c s vt cht tt.",Oge="- Vi i ng nhn vin nhit tnh v nng ng. Chnh sch ph duyt sn nghim ngt. Chng ti chc chn s mang n cho bn tri nghim tuyt vi khi t sn cu lng trn trang web ca chng ti.",qge="Tm nhn",$ge="CourStar mong mun tr thnh trung tm hng u trong lnh vc sn cu lng ti Vit Nam.",ede="S mnh",tde="Courtstar cam kt cung cp cc sn cu lng cht lng tt nht  p ng am m ca khch hng.  t c iu , chng ti phi khng ngng ci tin quy trnh x l, nh gi cht lng sn. Trong tng lai gn, Courtstar s l trung tm ca cc sn cu lng cht lng hng u ti Vit Nam.",nde=["Sn cu lng chnh hng vi gi tt nht.","Tri nghim chi cu lng vt tri.","Chnh sch thay i, hy sn minh bch.","Lun lng nghe khch hng  h tr kp thi v nng cao cht lng dch v.","Cung cp a dng cc sn cu lng vi nhiu mc gi v cht lng khc nhau  khch hng la chn.","Khch hng c th d dng so snh cc sn trc khi t.","Nhn vin h tr khch hng 24/7, sn sng gii p mi thc mc ca khch hng.","Chnh sch thay i, hy sn minh bch."],ide=["Chnh sch hp tc minh bch.","Thu ht khch hng tim nng.","Chnh sch qung co a dng.","Nng cao uy tn ca sn cu lng."],rde="Xem nhanh",ode="D LIU C NHN CHNG TI THU THP",sde="CUNG CP D LIU C NHN CA BN TH BA BI BN",ade="MC CH X L D LIU",lde="Chia s d liu c nhn",cde="CHUYN D LIU QUC T",gde="THI GIAN LU TR V X L D LIU",dde="QUYN V NGHA V CA KHCH HNG",Ade="BO V D LIU",ude="COOKIES",hde="CP NHT CHNH SCH BO V D LIU",mde="Cm n bn  gh thm trang web. Chng ti tn trng v cam kt bo v quyn ring t ca bn. Vui lng c chnh sch bo mt di y  hiu r hn v cc cam kt ca chng ti i vi vic tn trng v bo v quyn li ca khch hng.",pde="Tng quan",Cde='L Ngi kim sot d liu v/hoc Ngi x l d liu c nhn (theo nh ngha trong Ngh nh s 13/2023/N-CP ban hnh ngy 17 thng 4 nm 2023, c hiu lc t ngy 1 thng 7 nm 2023 - gi tt l "Ngh nh 13"), Chnh sch Bo v D liu ny ("Chnh sch") s trnh by cch CourtStar x l d liu bn cung cp hoc c thu thp bi CourtStar.',fde='"X l d liu" c ngha l mt hoc nhiu hot ng nh hng n D liu c nhn, chng hn nh: thu thp, ghi li, phn tch, xc minh, lu tr, chnh sa, tit l, kt hp, truy cp, truy xut, khi phc, m ha, gii m, sao chp, chia s, truyn ti, cung cp, chuyn giao, xa, tiu hy D liu c nhn hoc cc hnh ng lin quan khc.',Ide='"D liu c nhn" l thng tin di dng k hiu, ch vit, s, hnh nh, m thanh hoc tng t trn mi trng in t lin quan n mt c nhn c th hoc gip nhn dng mt c nhn c th. D liu c nhn bao gm d liu c nhn c bn v d liu c nhn nhy cm.',bde="CourtStar thu thp nhiu loi thng tin lin quan n cc dch v, bao gm:",yde="D liu c nhn",vde="CourtStar thu thp d liu v cch bn s dng cc dch v v sn phm ca chng ti, chng hn nh loi dch v bn xem hoc quan tm, hoc tn sut bn s dng dch v. Chng ti cng thu thp d liu c nhn m bn cung cp cho chng ti khi bn ng k nhn bn tin tip th, hon thnh kho st hoc ng k ti khon  mua sn phm/dch v ca chng ti. Khi thc hin iu ny, chng ti c th yu cu thng tin c nhn nh tn, gii tnh, ngy sinh, a ch, a ch email, s in thoi hoc chi tit th tn dng ca bn. Xin lu  rng thng tin th tn dng l d liu c nhn nhy cm theo quy nh ca Ngh nh 13.",wde="D liu c nhn c CourtStar t ng thu thp",kde="Cc loi d liu c nhn m chng ti c th thu thp bao gm, nhng khng gii hn , cc thng tin sau:",Bde="Thng tin lin lc",xde="V d: a ch email, s in thoi.",Sde="Thng tin ti chnh",Zde="V d: s ti khon ngn hng/th ghi n/th tn dng, tn ch ti khon, loi th hoc ti khon thanh ton c s dng... Xin lu  rng thng tin ny l d liu c nhn nhy cm theo quy nh ca Ngh nh 13.",Gde="Thng tin giao dch",Rde="V d: lch s mua hng ca sn phm/dch v.",Nde="Thng tin hnh vi",_de="V d: cc hot ng, s thch v thi quen ca bn khi truy cp cc dch v.",Vde="Thng tin h s",Ede="V d: tui, gii tnh, s thch v s thch c nhn.",Fde="Thng tin tip th v lin lc",Wde="V d: s thch v vic nhn thng tin tip th t CourtStar v s thch lin lc.",Hde="Chng ti cng c th thu thp thng tin v bn t cc bn th ba m bn  ng  hoc nu cn thit  cung cp dch v cho bn. D liu ny bao gm, nhng khng gii hn :",Dde="D liu c nhn bn  cung cp cho cc i tc dch v ca chng ti.",Tde="D liu c nhn c sn trn mng x hi.",Lde="D liu c nhn do cc bn th ba cung cp.",Xde="D liu c nhn t cc ngun khc.",Mde="D liu c nhn thu thp bng cch s dng cookie ca bn th ba.",Yde="Trong phm vi cho php ca bn v/hoc trong phm vi php lut yu cu hoc cho php, CourtStar c th s dng D Liu C Nhn ca bn cho ng thi mt hoc nhiu mc ch sau y:",Jde=" ng k v xc thc",Ude="Chng ti c th X L D Liu ca bn  thc hin cho mc ch ng k, xc minh hoc xc thc danh tnh ca bn khi chng ti cung cp sn phm/dch v n bn v/hoc phc v cho cc mc ch khc theo qui nh php lut v theo Chnh Sch ny.",Pde="Qun l mi quan h",Kde="Chng ti c th X L D Liu ca bn  phc v cho mc ch lin h, lin lc, qun l tp khch hng, x l cc truy vn thng tin, yu cu, phn hi, khiu ni theo yu cu ca bn lin quan n cc sn phm m chng ti cung cp cho bn.",zde="Phn tch d liu",Qde="Chng ti c th X L D Liu ca bn  thc hin cho mc ch gii thiu cc sn phm m bn c th quan tm, xc nh s thch ca bn v c nhn ha tri nghim ca bn;  tm hiu thm v bn, cc sn phm bn nhn c cng nh cc sn phm khc m bn c th mun nhn;  o lng mc  tng tc ca bn, thc hin phn tch d liu, lp h s d liu, nghin cu th trng, kho st, nh gi hnh vi, thng k v phn khc, xu hng v m hnh tiu dng ",jde="Ci thin sn phm/dch v",Ode="Chng ti c th X L D Liu ca bn  phc v cho mc ch khc phc v chn on s c, li, h hng, khuyt im ca sn phm cng nh cung cp cc dch v chm sc v h tr khch hng;  nh gi, ci thin v pht trin cc sn phm da trn mc  hi lng v hnh vi tiu dng ca bn;  o lng mc  hiu qu cc chin dch tip th, truyn thng cng nh m hnh kinh doanh.",qde=" p ng cc chc nng trn trang trc tuyn",$de="Chng ti c th X L D Liu ca bn  thc hin cho mc ch qun l, vn hnh, theo di, gim st v qun l cc website v nn tng trc tuyn, m bo rng website hot ng ng cch, hiu qu v an ton;  to iu kin thun li cho tri nghim ca bn trn cc website",eAe=" Qun l cng ngh thng tin",tAe="CourtStar c th X L D Liu ca bn  thc hin cho mc ch qun l vn hnh, ci tin, pht trin h thng cng ngh thng tin c th bao gm nh m bo an ninh thng tin v bo v d liu, m bo tnh kh dng, ton vn v bo mt ca h thng, m bo hiu sut ca h thng p ng nhu cu ca ngi s dng",nAe="Bo v li ch chung",iAe="CourtStar c th X L D Liu ca bn  thc hin cho mc ch bo v tnh bo mt, tnh ton vn, an ton ca d liu, hot ng kinh doanh ca chng ti;  thc hin cc quyn ca chng ti hoc bo v li ch hp php ca chng ti khi cn thit. V d nh  gii quyt cc khiu ni, khiu kin, pht hin, ngn chn v hnh vi vi phm php lut;  m bo tun th cc iu khon v iu kin ca chng ti theo Hp ng v hoc bt k vn bn no i vi bn th ba bt k;",rAe="Tun th cc qui nh php lut",oAe="CourtStar c th X L D Liu ca bn  thc hin cho mc ch tun th cc qui nh php lut v yu cu t c quan nh nc c thm quyn ti Vit Nam cng nh ca nc ngoi  ni chng ti ang hot ng kinh doanh hp php.",sAe="CHIA S D LIU C NHN",aAe="Chng ti c th tit l hoc chuyn D Liu C Nhn ca bn cho cc bn th ba sau y ph hp vi cc Mc ch trong Chnh Sch ny. Cc bn th ba c  cp di y c th ti lnh th Vit Nam hoc ti cc khu vc ngoi lnh th Vit Nam.",lAe="Cc trang mng (Website), nn tng mng x hi",cAe="Chng ti c th ty chn cung cp cho bn tnh nng ng nhp trn website CourtStar m khng cn nhp thng tin vo biu mu.",gAe="Bn th ba theo yu cu ca c quan nh nc c thm quyn v/hoc theo qui nh ca php lut",dAe="Chng ti cam kt bo v D Liu C Nhn ca bn v ch tit l hoc chia s khi c yu cu ca c quan nh nc c thm quyn v/hoc theo qui nh ca php lut. Trong trng hp nh vy, chng ti s hp tc vi cc c quan nh nc c thm quyn hoc bn th ba khc  tun th lut php, bo v quyn li ca chng ti v ca chnh bn, nhm ngn chn gian ln, bo mt hoc cc vn  an ton thng tin.",AAe="CHUYN D LIU RA NC NGOI",uAe="D Liu C Nhn ca bn c th c chng ti chuyn t Vit Nam (Quc Gia S Ti) n mt v tr, thnh ph, quc gia khc ngoi phm vi lnh th Vit Nam (Quc Gia Thay Th). Khi chng ti chuyn D Liu C Nhn ca bn t Quc Gia S Ti n Quc Gia Thay Th, chng ti s tun th cc ngha v php l v quy nh lin quan n D Liu C Nhn ca bn, bao gm c c s hp php  chuyn D Liu C Nhn v p dng cc bin php bo v ph hp  m bo y  mc  bo v D Liu C Nhn.",hAe="C s hp php  chng ti thc hin chuyn D Liu C Nhn quy nh ti iu ny s l s ng  bn i vi Chnh Sch v nhng bin php bo v theo qui nh php lut.",mAe="THI GIAN LU TR V X L D LIU",pAe="Chng ti ch lu tr v x l D Liu C Nhn ca bn trong khong thi gian m chng ti cn n thng tin   phc v cho cc Mc ch ti Chnh Sch i vi bn hoc  tun th cc ngha v php l ca chng ti. D Liu C Nhn ca bn c bt u x l t thi im chng ti tip cn c D Liu C Nhn ca bn.",CAe="Chng ti s ngng vic lu tr D Liu C Nhn ca bn bng cch hy b D Liu C Nhn  mt cch an ton ph hp vi qui nh php lut v Chnh Sch ngay khi (i) c l do hp l  cho rng vic lu tr  khng cn phc v cho cc Mc ch m D Liu C Nhn c thu thp v khng cn cn thit cho bt k Mc ch php l hoc kinh doanh no v/hoc (ii) thi hn lu tr thng tin chm dt theo quy nh php lut v/hoc (iii) c yu cu t bn v vic hy b D Liu C Nhn, phn i, hn ch X L D Liu hoc rt li s ng  v vic cho php X L D Liu ca bn.",fAe="Khng mu thun vi qui nh trn, chng ti c th gi li mt s D Liu C Nhn ca bn  thc hin cc quyn ca mnh hoc tun th qui nh ti Chnh Sch hoc tun th cc qui nh php lut.",IAe="QUYN V NGHA V CA KHCH HNG",bAe="Quyn c bit",yAe="Bn c quyn c bit r rng, minh bch, y  v cch thc chng ti X L D Liu ca bn v bao gm thng tin bn c cc quyn v ngha v g i vi D Liu C Nhn khi c chng ti X L D Liu, tr trng hp php lut c quy nh khc.",vAe="Quyn ng  v rt li s ng ",wAe="Bn c quyn ng  cho php chng ti X L D Liu ca mnh theo Chnh Sch ny (c th l chng ti da vo s ng   lm c s php l cho vic X L D Liu).",kAe="Bn c quyn rt li s ng  ca mnh, tr trng hp php lut c quy nh khc, vo bt k thi im no bng vic thng bo cho chng ti bit v vic ny (mc d nu bn rt li s ng  ca mnh, vic  khng c ngha l X L D Liu i vi D Liu C Nhn ca bn khi  c s ng  ca bn tnh n thi im  l bt hp php).",BAe=" Quyn truy cp v sa i",xAe="Bn c quyn truy cp  xem, chnh sa hoc yu cu chng ti chnh sa bt k D Liu C Nhn no v bn m chng ti ang x l , tr trng hp php lut c quy nh khc.",SAe="Chng ti khng chu trch nhim i vi cc vn  pht sinh trong trng hp D Liu C Nhn do bn cung cp (i) gi mo/khng chnh xc (mt phn hoc ton b thng tin) hoc (ii) gy hiu nhm hoc (iii) khng y / khng hon chnh/ khng lin quan hoc (iv) khng cp nht cho chng ti v bt k thay i no i vi D Liu C Nhn ca bn nh thng tin m bn  cung cp cho chng ti v/hoc cc trng hp khc theo qui nh php lut.",ZAe="Quyn xa d liu",GAe="Bn c quyn yu cu chng ti xa mt phn hoc ton b D Liu C Nhn ca mnh, tr trng hp php lut c quy nh khc. Xin lu  rng y khng phi l mt yu cu tuyt i trong mi trng hp, v chng ti c th c cc cn c php l  gi li thng tin c nhn ca bn phc v cho Mc ch tun th cc qui nh ca php lut v/hoc yu cu t c quan nh nc c thm quyn.",RAe=" Quyn hn ch X L D Liu",NAe="Bn c quyn yu cu gii hn vic chng ti X L D Liu i vi D Liu C Nhn ca bn, tr trng hp php lut c quy nh khc. Quyn ny c ngha l phm vi chng ti X L D Liu i vi D Liu C Nhn ca bn s b hn ch, do , chng ti c th lu tr thng tin nhng khng c s dng tip thng tin hoc x l tip thng tin.",_Ae=" Quyn c cung cp d liu",VAe="Bn c th yu cu chng ti cung cp mt bn sao D Liu C Nhn v bn m chng ti ang c.",EAe=" Quyn phn i X L D Liu",FAe="Bn c quyn phn i X L D Liu ca mnh nhm ngn chn hoc hn ch tit l D Liu C Nhn hoc s dng cho Mc ch qung co, tip th, tr trng hp php lut c quy nh khc.",WAe="Quyn khiu ni",HAe="Khch hng c quyn gi khiu ni v vic l thng tin c nhn cho bn th ba n Ban qun tr ca website theo thng tin lin h  mc s 12. Khi tip nhn nhng phn hi ny,CourtStar s xc nhn li thng tin v phi c trch nhim tr li l do v hng dn khch hng kim tra v bo mt li thng tin.",DAe="Quyn yu cu bi thng thit hi",TAe="Bn c quyn yu cu bi thng thit hi theo quy nh ca php lut khi c cn c cho rng chng ti vi phm quy nh bo v D Liu C Nhn ca mnh, tr trng hp cc bn c tha thun khc hoc lut c quy nh khc.",LAe="Quyn t bo v",XAe="Bn c quyn t bo v theo quy nh ca B lut Dn s v php lut hin hnh, hoc yu cu c quan, t chc c thm quyn thc hin cc phng thc bo v quyn dn s ca bn theo quy nh ca B lut Dn s.",MAe="Chng ti lun c gng x l cc yu cu ca bn mt cch nhanh chng, cng bng v minh bch. Tuy nhin, chng ti c quyn t chi cc yu cu khng c cn c, trng lp hoc vi phm quyn v li ch hp php ca chng ti hoc ca bn th ba bt k hoc nm ngoi thm quyn/phm vi x l d liu ca chng ti. Chng ti s thng bo cho bn v l do t chi v cch khc phc nu c th..",YAe="Bn c th thc hin cc quyn ny bng cch gi e-mail (th in t) cho chng ti ti phn Lin H Vi Chng Ti v nh km h s c lin quan (khi chng ti yu cu v/hoc qui nh php lut cho php). Nu yu cu c a ra bi mt ngi khc khng phi bn nhng ngi ny khng cung cp c bng chng chng minh yu cu  c thc hin thay mt bn mt cch hp php v c s ng  hp l ca bn, th yu cu  s b t chi.",JAe="V quyn ring t v bo mt thng tin ca ring bn, chng ti c th yu cu bn xc minh danh tnh trc khi p ng yu thc hin cc quyn nu ti iu 7 ca Chnh Sch ny t bn.",UAe="Ngha v ca khch hng",PAe="Cung cp y , chnh xc D Liu C Nhn khi bn ng  cho chng ti X L D Liu.",KAe="Tn trng, bo v D Liu C Nhn ca ngi khc.",zAe="Tun th cc yu cu v ngha v php l khc i vi ch th d liu theo quy nh ca php lut.",QAe="Lu  v hu qu, thit hi khng mong mun c kh nng xy ra",jAe="Nu bn thc hin mt hoc ng thi cc quyn ca mnh th chng ti (i) c kh nng khng th thc hin cc hnh ng cn thit  t c Mc ch x l c m t ti Chnh Sch i vi bn; v/hoc (ii) khng th thc hin, k kt c hp ng m chng ti  hoc ang c gng k kt vi bn; v/hoc (iii) khng th cung cp cho bn cc sn phm/dch v ca chng ti.",OAe="Vic bn thc hin cc quyn ca mnh v cc h qu khng mong mun ny s c xem l s chm dt t pha bn cho bt k mi quan h no m bn c vi chng ti, v/hoc vi phm ngha v, cc cam kt theo hp ng.  lm r, chng ti bo lu mt cch r rng cc quyn v bin php khc phc hp php ca mnh trong nhng trng hp  v ng thi s khng chu trch nhim i vi bn cho bt k tn tht, thit hi, khiu ni, khiu kin no pht sinh t vic bn thc hin quyn ca mnh nh nu trn.",qAe=" BO V D LIU",$Ae="Chng ti  v ang p dng nhiu bin php v mt k thut v t chc  bo v v bo mt D Liu C Nhn ca bn, chng hn nh:",eue="Thng tin c nhn ca thnh vin trn CourtStar c CourtStar cam kt bo mt tuyt i theo chnh sch bo v thng tin c nhn ca CourtStar. Vic thu thp v s dng thng tin ca mi thnh vin ch c thc hin khi c s ng  ca Qu khch hng  tr nhng trng hp php lut c quy nh khc;",tue="Thc hin cc chnh sch, quy tc v bo mt thng tin cng cc bin php k thut nhm bo v D Liu C Nhn v tun th cc yu cu theo qui nh php lut.",nue="Kim tra an ninh mng i vi h thng v phng tin, thit b phc v x l D Liu C Nhn trc khi x l, xa khng th khi phc c hoc hy cc thit b cha D Liu C Nhn.",iue="Chng ti cng yu cu cc nh cung cp dch v ca chng ti, hoc cc bn th ba khc m chng ti hp tc v c chng ti tit l d liu c nhn ca qu khch hng phi thc hin cc tiu chun v bin php tng t v bo mt, quyn ring t v an ninh d liu khi h X L D Liu ca bn.",rue="Trong trng hp my ch lu tr thng tin b hacker tn cng dn n mt mt d liu c nhn khch hng, CourtStar s c trch nhim thng bo v vic cho c quan chc nng iu tra x l kp thi v thng bo cho khch hng c bit.",oue="COOKIES",sue="Cookie l mt file vn bn c t trn a cng ca qu khch bi mt my ch ca trang web. Cookie khng c dng  chy chng trnh hay a virus vo my tnh ca qu khch. Cookie c ch nh vo my tnh ca qu khch v ch c th c c bi mt my ch trang web trn min c a ra cookie cho qu khch.",aue="Chng ti dng (cookie)  gip c nhn ha v nng cao ti a hiu qu s dng thi gian trc tuyn ca qu khch khi truy cp trang web CourtStar m khng cn ng k li thng tin sn c.",lue="Qu khch c th chp nhn hoc t chi dng cookie. Hu ht nhng browser t ng chp nhn cookie, nhng qu khch c th thay i nhng ci t  t chi tt c nhng cookie nu qu khch thch. Tuy nhin, nu qu khch chn t chi cookie, iu  c th gy cn tr v nh hng khng tt n mt s dch v v tnh nng ph thuc vo cookie ti trang web/app.",cue="CP NHT CHNH SCH BO V D LIU",gue="Chng ti c th xem xt, sa i hoc cp nht t ng Chnh Sch ny trn cc website CourtStar ca chng ti theo quyt nh ring ca mnh vo tng thi im,  m bo rng vic cp nht ph hp vi hot ng kinh doanh ca chng ti cng nh tun th nhng thay i ca qui nh php lut. Nu cc thay i  c tnh cht ng k, chng ti s cung cp mt thng bo d nhn thy hn (bng mt thng bo chung c cng b trn website CourtStar hoc n a ch th in t (email) do bn cung cp).",due="Bn ng  rng bn c trch nhim xem li Chnh Sch ny thng xuyn  bit thng tin mi nht v vic chng ti X L D Liu ca bn v do , vic bn tip tc s dng website CourtStar hoc s dng cc sn/phm dch v do chng ti cung cp sau bt k sa i no i vi Chnh Sch ny s cu thnh s ng  ca bn i vi Chnh Sch ny v tt c cc sa i (nu c) v vic X L D Liu ca bn theo Chnh Sch ny v tt c cc sa i (nu c).",Aue="S NG ",uue="Vui lng c k chnh sch ny v m bo rng bn  c, hiu ton b ni dung ca Chnh Sch v ng , cho php chng ti X L D Liu ca Bn theo quy nh ti Chnh Sch ny.",hue="Nu Bn khng ng  bt k ni dung no trong Chnh Sch, vui lng khng tip tc truy cp website hoc cung cp/gi D Liu C Nhn cho Chng Ti. Bn c quyn gi cc phn hi, khiu ni, thc mc ca mnh ti phn LIN H VI CHNG TI  c gii p.",mue="Tt c sn",pue="Np tin",Cue="Rt tin",fue="Ha n",Iue="Thu nhp hm nay",bue="Lt t hm nay",yue="Doanh thu d kin",vue="S tin",wue="Chn kiu lc tin",kue="Nhp s tin",Bue="ang ch",xue="Bng thng k",Sue="Tt c ngi dng",Zue="Nh Qun l",Gue="Tn ca Qun l",Rue="Nhp tn ca Qun l",Nue="Khch hng",_ue="Tn ca Khch hng",Vue="Nhp tn ca Khch hng",Eue="Nhp email ca Khch hng",Fue="Nhp s in thoi ca Khch hng",Wue="Yu cu rt tin",Hue="Yu cu ng sn",Due="im ni bt",Tue="Hy t sn",Lue=" hy",Xue="T chi",Mue="t sn",Yue="t sn ngay",Jue="Lch t sn",Uue="n",Pue="Sn",Kue="Th Hai",zue="Th Ba",Que="Th T",jue="Th Nm",Oue="Th Su",que="Th By",$ue="Ch Nht",ehe="M t",the="t li",nhe="iu khon i tc",ihe="iu khon c bn",rhe=["Tt c cc i tc mun hp tc vi chng ti u phi c giy php kinh doanh r rng, minh bch.","Sn phi c a ch r rng v cht lng tt.","i tc phi chp nhn tt c cc iu khon ca chng ti."],ohe="iu kin chung",she="Chnh sch ng sn",ahe=["Chng ti yu cu bn cung cp y  cc thng tin v sn nh tn trung tm, a ch trung tm, qun, qun, gi mi gi, s lng sn, thi gian m v ng, hnh nh tht ca sn, m t sn.","Khi bn  ng thnh cng Trung tm ca mnh, h thng ca chng ti s kim tra v xc thc n. Sau khi xc thc thnh cng, Trung tm ca bn s c hin th trn trang web ca chng ti."],lhe="Chnh sch hoa hng",che=["Chnh sch ca chng ti da trn gi th trng hin ti, chng ti s c hng 5% cho mi ln t sn m khch hng thc hin.","Gi chng ti a ra l hp l nht trn th trng, chng ti s khng chp nhn bt k trng hp no mun thng lng v gi c."],ghe="Chnh sch rt tin",dhe=["i vi tin ca Ngi qun l sn trn web ca chng ti, bn c th yu cu rt tin bt c lc no. Chng ti yu cu bn nhp chnh xc Tn ngn hng, M s ngn hng, S tin, Tn ch th.","Chnh sch rt tin ca chng ti s xut hin trong vng 2 n 3 ngy. Chng ti hy vng rng Ngi qun l sn s i cho n khi tin vo ti khon ca h sau khi a ra yu cu. Nu sau 2 n 3 ngy khng nhn c, vui lng lin h email Courtstar.se@gmail.com  chng ti c th h tr kp thi."],Ahe="Nhng hot ng b cm",uhe=["Qun l sn khng c ng thng tin sai lch v sn m bn mun hp tc trn trang web ca chng ti.","Khng c c hnh vi la o tin bc i vi khch hng ca chng ti.","Khng thu thp thng tin v sn trn h thng ca chng ti khi cha c s ng  ca CourtStar."],hhe="Bn Quyn",mhe="Ni dung trn ng dng ny, bao gm hnh nh, vn bn v video c bo v theo bn quyn v nhn hiu, v vy vic s dng bt k ni dung no trong s  m khng c s ng  s l bt hp php. Ngoi tr ni dung do ngi dng ti ln, tt c ti liu c sn u l ti sn ca ng dng ny. iu khon ca ng dng ny khng cp cho ai quyn s dng tn ca ng dng hoc bt k thng tin no khc nh tn min, nhn hiu, mu v cc tnh nng phn bit khc. Chng ti c quyn s dng nhn xt, phn hi v  xut ca bn v ng dng ny.",phe="Chnh sch v iu kin cho Khch Hng",Che="Bn s chu trch nhim v mi hot ng din ra trong h s ngi dng ca mnh.",fhe=["Bn chu trch nhim v mi hot ng xy ra trong ti khon ngi dng ca mnh.","Bn khng c spam cc tnh nng trn trang web ca chng ti.","Bn khng c n cp  tng hoc nhn hiu ca chng ti.","Bn phi tun th cc iu khon t phng ca chng ti."],Ihe=["Chng ti c quyn chm dt dch v ca mnh v bt k l do g m khng cn thng bo bt c lc no.","Vic bn tip tc s dng ng dng ny s ng ngha vi vic bn chp nhn nhng thay i hoc sa i , nhng g cu thnh nn thay i quan trng s c xc nh theo quyt nh ring ca chng ti, mt cch thin ch v s dng l thng cng nh phn on hp l.","Chng ti c quyn t chi cung cp dch v cho bt k ai v bt k phn quyt hp l no.","Khi bn s dng dch v ca bt k sn no m bn  t, bn phi tun th cc quy nh ca sn  cng nh trn trang web ca chng ti.","Gi sn m chng ti trng by  c chng ti kim chng so vi cht lng ca sn  nn bn c th yn tm rng mnh s c tri nghim dch v vi mc gi ph hp."],bhe="Bn khng c truy cp hoc s dng ng dng cho bt k mc ch no khc ngoi mc ch m chng ti cung cp ng dng. Khng c s dng ng dng ny lin quan n bt k n lc thng mi no ngoi tr nhng n lc c chng ti xc nhn hoc ph duyt c th. Vi t cch l ngi dng ng dng, bn ng  khng: Bn khng c truy cp hoc s dng ng dng cho bt k mc ch no khc ngoi mc ch m chng ti cung cp ng dng. Khng c s dng ng dng ny lin quan n bt k n lc thng mi no ngoi tr nhng n lc c chng ti xc nhn hoc ph duyt c th. Vi t cch l ngi dng ng dng, bn ng  khng:",yhe=["Truy xut mt cch c h thng d liu hoc ni dung khc t ng dng  to hoc bin dch, trc tip hoc gin tip, mt b su tp, bin son, c s d liu hoc th mc m khng c s cho php bng vn bn ca chng ti.","Ph v, v hiu ha hoc can thip vo cc tnh nng lin quan n bo mt ca ng dng, bao gm cc tnh nng ngn chn hoc hn ch vic s dng hoc sao chp bt k Ni dung no hoc thc thi cc hn ch i vi vic s dng ng dng v/hoc Ni dung c trong .","La o, la o hoc nh la chng ti v nhng ngi dng khc, c bit l trong mi n lc tm hiu thng tin ti khon nhy cm nh mt khu ngi dng.","S dng khng ng cch cc dch v h tr ca chng ti hoc gi bo co sai v hnh vi lm dng hoc hnh vi sai tri.","Can thip, lm gin on hoc to gnh nng qu mc cho ng dng hoc mng hoc dch v c kt ni vi ng dng.","C gng mo danh ngi dng hoc ngi khc hoc s dng tn ngi dng ca ngi dng khc.","S dng bt k thng tin no c c t ng dng  quy ri, lm dng hoc lm hi ngi khc.","Gii m, dch ngc, tho ri hoc thit k i chiu bt k phn mm no bao gm hoc to thnh mt phn ca ng dng theo bt k cch no.","Quy ri, lm phin, e da hoc e da bt k nhn vin hoc i l no ca chng ti tham gia cung cp bt k phn no ca Sn phm trn th trng cho bn.","Sao chp hoc iu chnh phn mm ng dng, bao gm nhng khng gii hn  Flash, PHP, HTML, JavaScript hoc m khc."],vhe="Chnh sch hon tin",whe=["Khi  t lch v thanh ton thnh cng, bn khng c php hy phin ta v bt k l do g. Nu bn hy, bn s khng c hon li s tin  thanh ton.","Trong trng hp ta n  t ca bn b Qun l ta n hy v l do lin quan n vic sa cha ta n hoc t i tc, bn s c hon li 100% s tin bn  ng."],khe="Tn sut",Bhe="t hng tun",xhe="p dng",She="*Hy nhp email ca bn!",Zhe="*Hy nhp mt khu!",Ghe="Email hoc mt khu  sai!",Rhe="*Hy nhp tn ca bn!",Nhe="*Hy nhp h ca bn!",_he="*Hy nhp s in thoi ca bn!",Vhe="Bn s khng th khi phc li nhng s la chn hin ti",Ehe="Bn s khng th khi phc li hnh ng ny",Fhe="Bn  chc chn",Whe="Bn chp thun cho sn ny xut hin trn h thng",Hhe="Bn chp thun cho yu cu rt tin ny",Dhe="Bn xa ti khon qun l ny",The="Bn xa ti khon nhn vin ny",Lhe="Bn xa ti khon khch hng ny",Xhe="Nhp Email ca qun l",Mhe="Email ca Qun l",Yhe="Qun",Jhe="Tt c nh gi",Uhe="Tt c trng thi",Phe="Khng hot ng",Khe="Hot ng",zhe=" xa",Qhe="ang hot ng",jhe="Ngy to yu cu",Ohe="Chn kiu lc ngy",qhe="Trng thi ban u",$he="Tng dn",eme="Gim dn",tme="Chp thun",nme="T chi",ime="ang ch",rme="Tng doanh thu",ome="Tng s sn",sme="Tng s ngi dng",ame="Tng trng li nhun",lme="Doanh thu",cme="S ngi ng k",gme="S sn ng k",dme="Xut bn",Ame="Doanh thu tun ny",ume="Yu cu ng sn",hme="Theo ngy",mme="Theo slot",pme="Chi tit t sn",Cme="Chn ngy",fme="Sn s",Ime="im danh",bme="ang m",yme="V hiu ha",vme="Qun l",wme="Chuyn nhn vin",kme="Xc nhn",Bme="Chn sn",xme="Lch s giao dch",Sme="Tn ngn hng",Zme="Nhp tn Ngn Hng",Gme="S ti khon",Rme="Nhp s ti khon",Nme="Tn ch th",_me="Nhp tn ch th",Vme="Khng c l do",Eme="Tng quan tun ny",Fme="Sn  ph duyt",Wme="i tc  ng k",Hme="Khch hng  ng k",Dme="Biu  tng trng doanh thu",Tme="Biu  s lng ng k ti khon v ng k sn",Lme={home:Ble,aboutUs:xle,partnerRegister:Sle,myDashboard:Zle,myCentre:Gle,logIn:Rle,signUp:Nle,thuDucCity:_le,district1:Vle,district3:Ele,district4:Fle,district5:Wle,district6:Hle,district7:Dle,district8:Tle,district10:Lle,district11:Xle,district12:Mle,binhTanDistrict:Yle,binhThanhDistrict:Jle,goVapDistrict:Ule,phuNhuanDistrict:Ple,tanBinhDistrict:Kle,tanPhuDistrict:zle,nhaBeProvince:Qle,canGioProvince:jle,cuChiProvince:Ole,hocMonProvince:qle,binhChanhProvince:$le,findCourtNow:ece,searchForBadmintonCourtsInHoChiMinhCity:tce,find:nce,selectTheDistrict:ice,listOfCentres:rce,rating:oce,selectRating:sce,priceRange:ace,address:lce,openTime:cce,numberOfCourts:gce,price:dce,viewDetail:Ace,termForCustomer:uce,termForPartner:hce,privacyPolicy:mce,allRightsReserved2024CourtStar:pce,dontHaveAccount:Cce,signUpForFree:fce,forgetPassword:Ice,continueWithGoogle:bce,customerRegister:yce,enterFirstName:vce,enterLastName:wce,enterEmail:kce,enterPhone:Bce,enterManagerPhone:xce,enterPassword:Sce,firstName:Zce,lastName:Gce,phone:Rce,password:Nce,conditionPassword:_ce,agreeToOur:Vce,termOfUse:Ece,and:Fce,signUpWithGoogleAccount:Wce,alreadyHaveAnAccount:Hce,yourProfile:Dce,update:Tce,cancel:Lce,forgotPassword:Xce,forgotPasswordNote:Mce,sendCode:Yce,checkYourEmail:Jce,weSent:Uce,enterDigit:Pce,enterNewPassword:Kce,newPassword:zce,enterConfirmNewPassword:Qce,confirmNewPassword:jce,gotEmailYet:Oce,resend:qce,confirm:$ce,myBalance:ege,manageStaff:tge,staffs:nge,staffName:ige,enterStaffName:rge,centreInformation:oge,enterCentreName:sge,centreName:age,enterCentreAddress:lge,centreAddress:cge,enterNumberOfCourts:gge,enterPricePerHour:dge,pricePerHour:Age,openTimes:uge,selectOpenTime:hge,closeTime:mge,selectCloseTime:pge,paymentMethod:Cge,enterPaymentMethod:fge,activated:Ige,activate:bge,closed:yge,close:vge,delete:"Xo",information:wge,edit:kge,status:Bge,selectStatus:xge,feedbacks:Sge,feedback:Zge,staffInformation:Gge,addStaff:Rge,fullName:Nge,enterUserName:_ge,enterUserEmail:Vge,enterUserPhone:Ege,selectSlot:Fge,slot:Wge,enterStaffEmail:Hge,enterStaffPhone:Dge,enterStaffPassword:Tge,OTHER_CONTENT:Lge,ADD_CENTRE_CONTENT:Xge,DENIED_CENTRE_CONTENT:Mge,REGISTERED_CONTENT:Yge,BOOKING_CONTENT:Jge,upload:Uge,discard:Pge,enterAddress:Kge,"COURTSTAR - A healthy body leads to a healthy mind":"COURTSTAR - Sc khe vng mnh dn ti tinh thn tnh to","History and Development":"Lch s hnh thnh v pht trin",foundedIn2024:zge,dynamicTeam:Qge,manyCourts:jge,enthusiasticStaff:Oge,"Mission and Vision":"S mnh v tm nhn",Vision:qge,visionDescription:$ge,Mission:ede,missionDescription:tde,"CourtStar Commitments":"Cam kt ca CourtStar","Commitment to the Guest":"Cam kt vi khch hng:",guestCommitments:nde,"Commitment to the Partner":"Cam kt vi i tc:",partnerCommitments:ide,quickView:rde,personalDataWeCollect:ode,thirdPartyPersonalDataProvided:sde,purposeForData:ade,sharingPersonalData:lde,internationalDataTransfer:cde,dataStorageAndProcessingTime:gde,rightsAndObligationsOfCustomers:dde,dataProtection:Ade,cookies:ude,updatingDataProtectionPolicy:hde,thankYouForVisiting:mde,overview:pde,overviewText1:Cde,overviewText2:fde,overviewText3:Ide,dataCollectionIntro:bde,personalData:yde,personalDataDetails:vde,personalDataCollectedAutomatically:wde,automaticDataCollectionIntro:kde,contactInformation:Bde,contactInformationDetails:xde,financialInformation:Sde,financialInformationDetails:Zde,transactionInformation:Gde,transactionInformationDetails:Rde,behavioralInformation:Nde,behavioralInformationDetails:_de,profileInformation:Vde,profileInformationDetails:Ede,marketingAndCommunicationInformation:Fde,marketingAndCommunicationDetails:Wde,thirdPartyPersonalDataIntro:Hde,thirdPartyPersonalDataItem1:Dde,thirdPartyPersonalDataItem2:Tde,thirdPartyPersonalDataItem3:Lde,thirdPartyPersonalDataItem4:Xde,thirdPartyPersonalDataItem5:Mde,scopePermitted:Yde,regisAuthen:Jde,processData:Ude,relationManagement:Pde,processYour:Kde,dataAnalysis:zde,dataPurpose:Qde,improveProduct:jde,dataServe:Ode,meetFunction:qde,weMay:$de,informationTech:eAe,toPerform:tAe,protectCommon:nAe,thirdParties:iAe,complianceLegal:rAe,complyLegal:oAe,personalShare:sAe,mayDisclose:aAe,websiteSocial:lAe,provideYou:cAe,uponRequest:gAe,toProtecting:dAe,dataTransfer:AAe,beTransfer:uAe,legalBasis:hAe,dataStorage:mAe,storeProcess:pAe,ceaseStoring:CAe,regulationsAbove:fAe,rightsAnd:IAe,knowRight:bAe,rightTo:yAe,toConsent:vAe,haveRight:wAe,toWithdraw:kAe,toAccess:BAe,toView:xAe,notResponsible:SAe,deleteData:ZAe,toRequest:GAe,toRestrict:RAe,toLimit:NAe,toProvided:_Ae,mayRequest:VAe,toObject:EAe,toData:FAe,toComplain:WAe,toSubmit:HAe,toRequests:DAe,requestCompensation:TAe,toSelf:LAe,asRegulated:XAe,tryTo:MAe,mayExercise:YAe,ownPrivacy:JAe,ofCustomers:UAe,provideFull:PAe,respectProtect:KAe,otherLegal:zAe,notesOn:QAe,ifYou:jAe,ofYours:OAe,dataProtections:qAe,weHave:$Ae,byLaw:eue,rulesOn:tue,conductSecurity:nue,weAlso:iue,theEvent:rue,forCookies:oue,cookieIs:sue,toHelp:aue,acceptDecline:lue,updatingThe:cue,mayModify:gue,agreeThat:due,forConsent:Aue,pleaseRead:uue,notAgree:hue,allCenTre:mue,topUp:pue,withdraw:Cue,billPayment:fue,todayIncome:Iue,todayBookings:bue,expectedRevenue:yue,amount:vue,selectAmount:wue,enterAmount:kue,pending:Bue,dashboard:xue,allUser:Sue,centreManager:Zue,managerName:Gue,enterManagerName:Rue,customer:Nue,customerName:_ue,enterCustomerName:Vue,enterCustomerEmail:Eue,enterCustomerPhone:Fue,withdrawalRequest:Wue,postCentreRequest:Hue,description:Due,cancelBooking:Tue,canceled:Lue,deny:Xue,booking:Mue,bookNow:Yue,calendar:Jue,to:Uue,court:Pue,Monday:Kue,Tuesday:zue,Wednesday:Que,Thursday:jue,Friday:Oue,Saturday:que,Sunday:$ue,Description:ehe,reset:the,Partners:nhe,basicTerm:ihe,basicTermsPartner:rhe,condition:ohe,uploadCourt:she,uploadCondition:ahe,partnerSharing:lhe,moneySharing:che,withdrawalPolicy:ghe,withdrawPolicy:dhe,prohibitedActivity:Ahe,prohibitedActPartner:uhe,copyRight:hhe,allCopyright:mhe,Customer:phe,beLiable:Che,basicTerms:fhe,generalConditions:Ihe,useThe:bhe,prohibitedActivities:yhe,refunderPolicy:vhe,refundPolicy:whe,frequency:khe,weeklyBooking:Bhe,apply:xhe,plsEnterEmail:She,plsEnterPassword:Zhe,wrongMailOrPass:Ghe,plsEnterFirstName:Rhe,plsEnterLastName:Nhe,plsEnterPhone:_he,youWillNotAbleToRecoverTheEntireSelection:Vhe,youWillNotAbleToRecoverThisAction:Ehe,areYouSure:Fhe,youAllowThisCentreOpenInTheSystem:Whe,youAllowThisWithdrawalRequest:Hhe,youDeleteThisManagerAccount:Dhe,youDeleteThisStaffAccount:The,youDeleteThisCustomerAccount:Lhe,enterManagerEmail:Xhe,managerEmail:Mhe,district:Yhe,allRating:Jhe,"1star":"1 sao","2star":"2 sao","3star":"3 sao","4star":"4 sao","5star":"5 sao",allStatus:Uhe,Unavailable:Phe,Available:Khe,deleted:zhe,active:Qhe,dateCreate:jhe,selectDateCreate:Ohe,allRequest:qhe,Ascending:$he,Descending:eme,Accepted:tme,Denied:nme,Pending:ime,totalRevenue:rme,totalCentre:ome,totalUser:sme,profitGrowth:ame,revenue:lme,userRegistration:cme,centreRegistration:gme,Export:dme,weekRevenue:Ame,postCentre:ume,allDate:hme,allSlot:mme,bookingDetail:pme,Date:"Ngy chi",selectDate:Cme,courtNumber:fme,checkIn:Ime,opening:bme,Disable:yme,manage:vme,moveStaff:wme,Submit:kme,selectCentre:Bme,withdrawalHistory:xme,bankName:Sme,enterNameBank:Zme,accountNumber:Gme,enterAccountNumber:Rme,cardholderName:Nme,enterCardholderName:_me,noReason:Vme,overviewThisWeek:Eme,approvedCentre:Fme,registeredPartner:Wme,registeredCustomer:Hme,revenueGrowthChart:Dme,accountAndCentreRegistrationChart:Tme,export:"Xut"},Xme="Home",Mme="About us",Yme="Partner Register",Jme="My Centre",Ume="Log in",Pme="Sign up",Kme="Thu Duc City",zme="District 1",Qme="District 3",jme="District 4",Ome="District 5",qme="District 6",$me="District 7",epe="District 8",tpe="District 10",npe="District 11",ipe="District 12",rpe="Binh Tan District",ope="Binh Thanh District",spe="Go Vap District",ape="Phu Nhuan District",lpe="Tan Binh District",cpe="Tan Phu District",gpe="Nha Be Province",dpe="Can Gio Province",Ape="Cu Chi Province",upe="Hoc Mon Province",hpe="Binh Chanh Province",mpe="Find court now",ppe="Search for badminton courts in Ho Chi Minh city",Cpe="Find",fpe="Select the district",Ipe="District",bpe="List Of Centres",ype="Rating",vpe="Select rating",wpe="Price Range",kpe="Address",Bpe="Open Time",xpe="Number of Courts",Spe="Price",Zpe="View Detail",Gpe="Term For Customer",Rpe="Term For Partner",Npe="Privacy Policy",_pe="All Right Reserved 2024 Court Star",Vpe="Don't have account",Epe="Sign up for free",Fpe="Forget Password",Wpe="Continue with Google",Hpe="Customer Register",Dpe="Enter your First Name",Tpe="Enter your Last Name",Lpe="Enter your Email",Xpe="Enter email of Manager",Mpe="Enter name of Manager",Ype="Enter your Phone",Jpe="Enter phone number of Manager",Upe="Enter your Password",Ppe="First Name*",Kpe="Last Name*",zpe="Phone",Qpe="Password*",jpe="Use 8 or more characters with a mix of letters, numbers & symbols",Ope="Agree to our",qpe="Term of use",$pe="and",eCe="Sign up with Google account",tCe="Already have an account",nCe="Your Profile",iCe="Update",rCe="Cancel",oCe="Forgot Password",sCe="Enter your email and we'll send you a code to verify your email!",aCe="Send Code",lCe="Check Your Email",cCe="We just sent a verification code to ",gCe="Enter the 6-digit code mentioned in the email!",dCe="Enter your new password",ACe="New Password",uCe="Confirm your new password",hCe="Confirm New Password",mCe="Haven't got the email yet?",pCe="Resend",CCe="Confirm",fCe="My Balance",ICe="Manage Staff",bCe="Centre Information",yCe="Enter Name of Centre",vCe="Centre Name",wCe="Enter Address of Centre",kCe="Centre Address",BCe="Enter Number of Courts",xCe="Enter Price per Hour",SCe="Price per Hour",ZCe="Open Time",GCe="Choose open time",RCe="Close Time",NCe="Choose close time",_Ce="Payment Method",VCe="Enter payment method",ECe="Active",FCe="Deleted",WCe="Activated",HCe="Activate",DCe="Closed",TCe="Close",LCe="Information",XCe="Edit",MCe="Status",YCe="Select Status",JCe="feedbacks",UCe="feedback",PCe="Staff Information",KCe="Add Staff",zCe="Full Name",QCe="Name of Staff",jCe="Enter Staff's name",OCe="Enter User's name",qCe="Enter User's email",$Ce="Enter User's phone",efe="Select slot",tfe="Slot",nfe="Staffs",ife="Enter Staff's email",rfe="Enter Staff's phone",ofe="Enter Staff's password",sfe="Uncategorized notification",afe="There is a new centre need to approve from partner",lfe="Your centre was denied",cfe="Welcome to Court Star!",gfe="There is a new booking",dfe="Upload",Afe="Discard",ufe="Enter Address",hfe="- Founded in 2024 in Vietnam as CourtStar. CourtStar has emerged as Vietnam's leading badminton court booking site.",mfe="- CourtStar boasts a dynamic team, embodying youth and energy.",pfe="- CourtStar currently has many badminton courts with good facilities.",Cfe="- With a team of enthusiastic and dynamic staff. Strict yard approval policies. We are sure that we will bring a great experience to you when booking a badminton court on our website",ffe="Vision",Ife="CourStar aspires to be the foremost center in the field of badminton yard in Viet Nam.",bfe="Mission",yfe="Courtstar is committed to providing the best quality badminton courts to meet the passion of customers. In order to get that, we have to constantly improve the processing process, evaluate the quality of the courts. In the near future, Courtstar will be the center of the top quality badminton yard in Vietnam.",vfe=["Genuine court at the best prices.","A superior playing badminton experience.","The policy of changing, canceling the court transparently.","Constantly listening to customers for timely support and service quality improvement.","Provide a variety of badminton courts with different prices and quality for guests to choose.","Guests can easily compare courses before booking.","Customer support staff 24/7, ready to answer all questions of guests.","The policy of changing, canceling the court transparently."],wfe=["Transparent cooperation policy.","Attract potential customers.","Diverse advertising policies.","Improve the reputation of badminton courts."],kfe="Quick view",Bfe="Personal data we collect",xfe="Third-party personal data provided by customers",Sfe="Purpose for data processing",Zfe="Sharing personal data",Gfe="INTERNATIONAL DATA TRANSFER",Rfe="DATA STORAGE AND PROCESSING TIME",Nfe="RIGHTS AND OBLIGATIONS OF CUSTOMERS",_fe="DATA PROTECTION",Vfe="COOKIES",Efe="UPDATING THE DATA PROTECTION POLICY",Ffe="Thank you for visiting the website. We respect and are committed to protecting your privacy. Please read the privacy policy below to better understand the commitments we make to respect and protect the rights of our visitors.",Wfe="Overview",Hfe='As the Data Controller and/or Personal Data Processor (as defined in Decree No. 13/2023/N-CP issued on April 17, 2023, effective from July 1, 2023  referred to as "Decree 13"), this Data Protection Policy ("Policy") will outline how CourtStar processes the Data you provide to or is collected by CourtStar.',Dfe='"Data Processing" means one or more activities affecting Personal Data, such as: collection, recording, analysis, verification, storage, editing, disclosure, combination, access, retrieval, recovery, encryption, decryption, copying, sharing, transmission, provision, transfer, deletion, destruction of Personal Data or other related actions.',Tfe='"Personal Data" is information in the form of symbols, writing, numbers, images, sounds, or similar on an electronic environment linked to a specific individual or helps identify a specific individual. Personal Data includes basic personal data and sensitive personal data.',Lfe="CourtStar collects various types of information related to the Services, including:",Xfe="Personal Data",Mfe="CourtStar collects data about how you use our services and products, such as the type of services you view or are interested in, or how frequently you use the services. We also collect Personal Data that you provide to us when you subscribe to marketing newsletters, complete a survey, or register an account to purchase our products/services. In doing so, we may ask for Personal Data such as your name, gender, date of birth, address, email address, phone number, or credit card details. Please note that credit card information is sensitive personal data as regulated by Decree 13.",Yfe="Personal Data CourtStar collects automatically",Jfe="Types of Personal Data that we may collect include, but are not limited to, the following information:",Ufe="Contact Information",Pfe="For example: email address, phone number.",Kfe="Financial Information",zfe="For example: bank account number/debit card/credit card, account holder's name, type of payment card or account used... Please note that this information is sensitive personal data as regulated by Decree 13.",Qfe="Transaction Information",jfe="For example: the purchase history of products/services.",Ofe="Behavioral Information",qfe="For example: your activities, interests, and habits when accessing the services.",$fe="Profile Information",eIe="For example: age, gender, preferences, and interests.",tIe="Marketing and Communication Information",nIe="For example: preferences in receiving marketing information from CourtStar and communication preferences.",iIe="We may also collect information about you from third parties that you have consented to or if it is necessary to provide services to you. This data includes, but is not limited to:",rIe="Personal data you have provided to our service partners.",oIe="Personal data available on social networks.",sIe="Personal data provided by third parties.",aIe="Personal data from other sources.",lIe="Personal data collected by using third-party cookies.",cIe="PURPOSES FOR DATA PROCESSING",gIe="Within the scope permitted by you and/or to the extent that the law requires or allows, CourtStar may use your Personal Data for simultaneously one or more of the following purposes:",dIe="Registration and Authentication",AIe="We may Process your Data for the purpose of registration, verification, or authentication of your identity when we provide products/services to you and/or serve other purposes as required by law and this Policy.",uIe="Relationship Management",hIe="We may Process your Data to serve the purpose of contacting, communicating, managing customer files, processing information inquiries, requests, feedback, complaints upon your request related to the products we provide to you.",mIe="Data Analysis",pIe="We may Process your Data for the purpose of introducing products you may be interested in, identifying your preferences, and personalizing your experience; to learn more about you, the products you receive, and other products you may want to receive; to measure your level of interaction, perform data analysis, profile data, market research, surveys, behavior evaluations, statistics and segmentation, trends, and consumer models...",CIe="Improving Products/Services",fIe="We may Process your Data to serve the purpose of troubleshooting and diagnosing product malfunctions, errors, defects, providing customer care and support services; To assess, improve, and develop products based on your satisfaction and consumer behavior; to measure the effectiveness of marketing campaigns, communications as well as business models.",IIe="To meet the functions on online pages",bIe="We may Process your Data to perform the purpose of managing, operating, monitoring, supervising, and managing online websites and platforms, ensuring that websites function properly, efficiently, and securely; to create favorable conditions for your experience on our websites.",yIe=" Information Technology Management",vIe="CourtStar may Process your Data to perform the purpose of managing operations, improving, developing information technology systems which may include ensuring information security and data protection, ensuring the availability, integrity, and security of the system, ensuring the system's performance meets user needs.",wIe="Protecting Common Interests",kIe="CourtStar may Process your Data to perform the purpose of protecting the security, integrity, and safety of data, our business operations; to exercise our rights or protect our legitimate interests when necessary. For example, to resolve complaints, lawsuits, detect, prevent and prosecute illegal activities; to ensure compliance with our terms and conditions under Contracts and/or any documents with third parties.",BIe="Compliance with Legal Regulations",xIe="CourtStar may Process your Data to comply with legal regulations and requirements from competent authorities in Vietnam as well as in foreign countries where we operate legally.",SIe="SHARING PERSONAL DATA",ZIe="We may disclose or transfer your Personal Data to the following third parties consistent with the Purposes in this Policy. These third parties may be in the territory of Vietnam or outside the territory of Vietnam.",GIe="Websites, Social Media Platforms",RIe="We may optionally provide you with a login feature on the CourtStar without requiring you to enter information into a form.",NIe="Third Parties upon Request by Competent Government Authorities and/or Legal Requirements",_Ie="We commit to protecting your Personal Data and only disclosing or sharing it when requested by competent government authorities and/or legal requirements. In such cases, we will cooperate with competent government authorities or other third parties to comply with the law, protect our rights and yours, prevent fraud, secure or address information security issues.",VIe="INTERNATIONAL DATA TRANSFER",EIe="Your Personal Data may be transferred by us from Vietnam (Home Country) to a location, city, country outside the territory of Vietnam (Alternate Country). When we transfer your Personal Data from the Home Country to the Alternate Country, we will comply with the legal obligations and regulations related to your Personal Data, including having a legal basis for transferring Personal Data and applying appropriate protective measures to ensure an adequate level of protection of Personal Data.",FIe="The legal basis for us to carry out the transfer of Personal Data as stipulated herein will be your consent to the Policy and the protective measures as prescribed by law.",WIe="DATA STORAGE AND PROCESSING TIME",HIe="We only store and process your Personal Data for the period that we need that information to serve the Purposes in the Policy for you or to comply with our legal obligations. Your Personal Data begins to be processed from the moment we access your Personal Data.",DIe="We will cease storing your Personal Data by safely cancelling the Personal Data in accordance with the legal regulations and the Policy as soon as (i) there is a reasonable cause to believe that such storage no longer serves the Purposes for which the Personal Data was collected and is no longer necessary for any legal or business Purpose and/or (ii) the storage term of the information expires as regulated by law and/or (iii) there is a request from you regarding the cancellation of Personal Data, objection, restriction of Data Processing or withdrawal of consent for allowing Data Processing of yours.",TIe="Notwithstanding the regulations above, we may retain some of your Personal Data to exercise our rights or comply with the regulations in the Policy or comply with legal regulations.",LIe="RIGHTS AND OBLIGATIONS OF CUSTOMERS",XIe="Right to know",MIe="You have the right to clearly, transparently, and fully know about how we Process your Data and includes information about what rights and obligations you have regarding the Personal Data when being Processed by us, except where the law stipulates otherwise.",YIe="Right to consent and withdraw consent",JIe="You have the right to consent to allow us to Process your Data according to this Policy (specifically, we rely on consent as the legal basis for Data Processing).",UIe="You have the right to withdraw your consent, except where the law stipulates otherwise, at any time by informing us about this (although if you withdraw your consent, it does not mean that the Data Processing of your Personal Data up to that point was unlawful).",PIe="Right to access and modify",KIe="You have the right to access to view, edit, or request us to edit any Personal Data about you that we are processing, except where the law stipulates otherwise.",zIe="We are not responsible for issues arising in the case Personal Data provided by you (i) is forged/inaccurate (partially or wholly) or (ii) causes misunderstanding or (iii) is incomplete/ not comprehensive/ irrelevant or (iv) not updated to us about any changes to the Personal Data of you such as the information that you provided to us and/or other cases as regulated by law.",QIe="Right to delete data",jIe="You have the right to request us to delete a part or all of your Personal Data, except where the law stipulates otherwise. Please note that this is not an absolute demand in all cases, as we may have legal grounds to retain your personal information to serve the Purpose of complying with legal regulations and/or requests from competent state agencies.",OIe=" Right to restrict Data Processing",qIe="You have the right to request to limit the Processing we carry out regarding your Personal Data, except where the law stipulates otherwise. This right means that the extent to which we Process Data regarding your Personal Data will be limited, therefore, we may store the information but may not further use or process the information.",$Ie="Right to be provided data",ebe="You may request us to provide a copy of your Personal Data that we have.",tbe="Right to object to Data Processing",nbe="You have the right to object to Data Processing of yours to prevent or restrict the disclosure of Personal Data or use for the Purpose of advertising, marketing, except where the law stipulates otherwise.",ibe="Right to complain",rbe="Customers have the right to submit complaints about the disclosure of personal information to a third party to the Management Board of the CourtStar website according to the contact information in section 12. Upon receiving these responses, CourtStar will verify the information and must have the responsibility to respond to the reason and guide customers to check and secure the information again.",obe="Right to request compensation for damages",sbe="You have the right to request compensation for damages as regulated by law when there is a basis to believe that we violated the regulations protecting your Personal Data, except where the parties have a different agreement or the law stipulates otherwise.",abe="Right to self-defense",lbe="You have the right to self-defense as regulated by the Civil Code and current laws, or request competent agencies, organizations to carry out methods to protect your civil rights as regulated by the Civil Code.",cbe="We always try to process your requests quickly, fairly, and transparently. However, we reserve the right to reject requests that are baseless, repetitive or violate our legitimate rights and interests or those of any third party or are outside the authority/scope of data processing of ours. We will notify you of the reason for the refusal and how to remedy it if possible.",gbe="You may exercise these rights by sending us an email at the (Contact Us) section and attach relevant documents (when we request and/or the law allows). If the request is made by someone other than you but this person does not provide proof that the request is made on your behalf legally and with your valid consent, then the request will be denied.",dbe="For your own privacy and information security, we may require you to verify your identity before responding to the exercise of the rights mentioned in Article 7 of this Policy from you.",Abe="Obligations of customers",ube="Provide full, accurate Personal Data when you agree for us to Process Data.",hbe="Respect, protect the Personal Data of others.",mbe="Comply with other legal requirements and obligations regarding data subjects as regulated by law.",pbe="Notes on potential unwanted consequences and damages",Cbe="If you exercise one or more of your rights as the Policy, then we (i) may not be able to perform the necessary actions to achieve the Purposes of processing described in the Policy for you; and/or (ii) may not be able to perform, enter into contracts we have been or are trying to sign with you; and/or (iii) may not be able to provide you with our services.",fbe="Your exercise of your rights and the unwanted consequences will be considered as termination from your side of any relationship you have with us, and/or a violation of obligations, commitments under the contract. To clarify, we explicitly reserve our legal rights and remedies in those cases and will not be liable to you for any loss, damage, claims, or lawsuits arising from your exercise of your rights as stated above.",Ibe="DATA PROTECTION",bbe="We have implemented and continue to implement various technical and organizational measures to protect and secure your Personal Data, such as:",ybe="The personal information of members  is absolutely confidential according to the personal information protection policy of CourtStar. The collection and use of information from each member are only performed with the consent of that customer unless otherwise specified by law.",vbe="Implement policies, rules on information security, and technical measures to protect Personal Data and comply with legal requirements.",wbe="Conduct security checks on systems and devices, equipment used to process Personal Data before processing, irreversibly delete or destroy devices containing Personal Data.",kbe="We also require our service providers, or other third parties we cooperate with and have disclosed your personal data to, to implement similar standards and measures on security, privacy, and data security when they Process your Data.",Bbe="In the event that the server storing information is attacked by hackers leading to the loss of customer personal data, CourtStar will be responsible for notifying the incident to the authorities for timely investigation and informing the customers concerned.",xbe="COOKIES",Sbe="A cookie is a text file placed on your hard disk by a web server. Cookies are not used to run programs or deliver viruses to your computer. Cookies are uniquely assigned to your computer and can only be read by a web server in the domain that issued the cookie to you.",Zbe="We use (cookies) to help personalize and maximize the efficiency of your online time when accessing the website CourtStar without having to re-register available information.",Gbe="You may accept or decline cookies. Most browsers automatically accept cookies, but you can modify your settings to decline all cookies if you prefer. However, if you choose to decline cookies, this may interfere with and adversely affect some services and features dependent on cookies at the website/app.",Rbe="UPDATING THE DATA PROTECTION POLICY",Nbe="We may review, modify, or automatically update this Policy on our websites CourtStar at our sole discretion at any time, to ensure that updates are consistent with our business operations as well as compliance with changes in legal regulations. If these changes are significant, we will provide a more noticeable notification (through a general announcement published on the website CourtStar or to the email address you provided).",_be="You agree that you are responsible for regularly reviewing this Policy to stay informed about how we are Processing your Data and thus, your continued use of the website CourtStar or use of the services we provide after any modification to this Policy will constitute your consent to this Policy and all modifications (if any) and the Processing of your Data under this Policy and all modifications (if any).",Vbe="CONSENT",Ebe="Please read this policy carefully and ensure that you have read, understood the entire content of the Policy, and agree, allowing us to Process your Data as regulated in this Policy.",Fbe="If you do not agree with any content in the Policy, please do not continue to access the website or provide/send Personal Data to us. You have the right to submit your feedback, complaints, and inquiries at the section CONTACT US for clarification.",Wbe="All Centre",Hbe="Top-up",Dbe="Withdraw",Tbe="Bill Payment",Lbe="Today's Income",Xbe="Today's Bookings",Mbe="Expected Revenue",Ybe="Amount",Jbe="Select Amount",Ube="Enter amount",Pbe="Pending",Kbe="Dashboard",zbe="All User",Qbe="Centre Manager",jbe="Name of manager",Obe="Manager's Email",qbe="Customer",$be="Name of Customer",e0e="Enter Customer's Name",t0e="Enter Customer's Email",n0e="Enter Customer's Phone",i0e="Withdrawal Request",r0e="Post Centre Request",o0e="Description",s0e="Cancel booking",a0e="Canceled",l0e="Deny",c0e="Booking",g0e="Book now",d0e="Calendar",A0e="to",u0e="Court",h0e="Monday",m0e="Tuesday",p0e="Wednesday",C0e="Thursday",f0e="Friday",I0e="Saturday",b0e="Sunday",y0e="Description",v0e=["You are responsible for any activity that occurs under your user account.","You must not spam features on our website.","You must not steal our ideas or trademarks.","You must comply with our terms of booking"],w0e=["We reserve the right to terminate our service for any reason, without notice at any time.","Your continued use of this app will constitute your acceptance of such changes or modifications, what constitutes a material change will be determined at our sole discretion, in good faith and using common sense and reasonable judgment.","We reserve the right to refuse service to anyone for any reasonable judgment.","When you use the services of any court you have booked, you must comply with the rules of that court as well as on our site.","The yard price we display has been checked by us against the quality of that yard, so you can rest assured that you will experience the service at the right price."],k0e=["Systematically retrieve data or other content from the app to create or compile, directly or indirectly, a collection, compilation, database, or directory without written permission from us.","Circumvent, disable, or otherwise interfere with security-related features of the App, including features that prevent or restrict the use or copying of any Content or enforce limitations on the use of the app and/or the Content contained therein.","Trick, defraud, or mislead us and other users, especially in any attempt to learn sensitive account information such as user passwords.","Make improper use of our support services or submit false reports of abuse or misconduct.","Interfere with, disrupt, or create an undue burden on the app or the networks or services connected to the app.","Attempt to impersonate another user or person or use the username of another user.","Use any information obtained from the app in order to harass, abuse, or harm another person.","Decipher, decompile, disassemble, or reverse engineer any of the software comprising or in any way making up a part of the app.","Harass, annoy, intimidate, or threaten any of our employees or agents engaged in providing any portion of the Marketplace Offerings to you.","Copy or adapt the app software, including but not limited to Flash, PHP, HTML, JavaScript, or other code."],B0e=["Once you have booked the court and paid successfully, you are not allowed to cancel the court for any reason. If you cancel, you will not receive a refund of the money you paid.","In case your booked court is canceled by Court Manager for reasons related to court repair or from a partner, you will receive a 100% refund of the amount you paid."],x0e=["All partners who want to cooperate with us must have a clear and transparent business license.","Court must have clear addresses and good quality.","Partners must accept all of our terms."],S0e=["We require you to provide full yard information such as center name, center address, district, Price Per Hour, Number of Courts, Open and Close Time, authentic image of the Court, Court description.","Once you have successfully posted your Centre, our system will check and authenticate it. After successful authentication, your Centre will be displayed on our web."],Z0e=["Our policy is based on the current market price, We will earn 5% on each booking that the customer makes.","The price we charge is the most reasonable on the market, we will not accept any cases that want to negotiate on price."],G0e=["For Court Manager money on our web, you can request to withdraw money at any time. We require that you enter Name of Banking, Number of Banking, Amount of Money, Name of Cardholder correctly.","Our refund policy will appear within 2 to 3 days. We hope that Court Managers will wait until the money is in their account after making a request. If you do not receive it after 2 to 3 days, please contact email Courtstar.se@gmail.com so we can provide timely support."],R0e=["Court Manager must not post false information about the court you want to cooperate with on our website.","There must be no money scams against our customers.","Do not collect information about courts on our system without CourtStar's consent"],N0e="Reset",_0e="Terms and Conditions for Partner",V0e="Basic Terms",E0e="GENERAL CONDITION",F0e="Upload-Court Policy",W0e="Money-Sharing Policy",H0e="Withdraw Policy",D0e="PROHIBITED ACTIVITIES",T0e="COPYRIGHT",L0e="The content on this app, including images, texts, and videos are protected under copyright and trademark, so it will be illegal to use any of them without consent. Except for the content uploaded by the users, all the material available is the property of this app. The Terms of this app gives no one a right to using the apps name or any other information such as domain name, trademarks, templates, and other distinguishing features. We have the right to use your remarks, feedback, and recommendations regarding this app.The content on this app, including images, texts, and videos are protected under copyright and trademark, so it will be illegal to use any of them without consent. Except for the content uploaded by the users, all the material available is the property of this app. The Terms of this app gives no one a right to using the apps name or any other information such as domain name, trademarks, templates, and other distinguishing features. We have the right to use your remarks, feedback, and recommendations regarding this app.",X0e="Terms and Conditions for Customer",M0e="You will be liable for every activity that takes place within your user profile.",Y0e="You may not access or use the app for any purpose other than that for which we make the app available. The app may not be used in connection with any commercial endeavors except those that are specifically endorsed or approved by us. As a user of the app, you agree not to:You may not access or use the app for any purpose other than that for which we make the app available. The app may not be used in connection with any commercial endeavors except those that are specifically endorsed or approved by us. As a user of the app, you agree not to:",J0e="REFUND POLICY",U0e="Frequency",P0e="Weekly booking",K0e="Apply",z0e="*Please enter your password!",Q0e="*Please enter your password!",j0e="Wrong email or password!",O0e="*Please enter your first name!",q0e="*Please enter your last name!",$0e="*Please enter your phone number!",eye="You will not able to recover the entire selection",tye="You will not able to recover this action",nye="Are you sure",iye="You allow this centre open in the system",rye="You allow this Withdrawal Request",oye="You delete this manager account",sye="You delete this staff account",aye="You delete this customer account",lye="All Rating",cye="All Status",gye="Unavailable",dye="Available",Aye="Date Create",uye="Select Date Create",hye="All Request",mye="Ascending",pye="Descending",Cye="Accepted",fye="Denied",Iye="Pending",bye="Total Revenue",yye="Total Centre",vye="Total User",wye="Profit Growth",kye="Revenue",Bye="User Registration",xye="Centre Registration",Sye="Export",Zye="Week's Revenue",Gye="Post Centre Request",Rye="All Date",Nye="All Slot",_ye="Booking Detail",Vye="Select Date",Eye="Court Number",Fye="Check in",Wye="Opening",Hye="Disable",Dye="Manage",Tye="Move Staff",Lye="Submit",Xye="Select Centre",Mye="Withdrawal history",Yye="Bank's Name",Jye="Enter Name of Bank",Uye="Account Number",Pye="Enter Account number",Kye="Card Holder's Name",zye="Enter Holder's Name",Qye="No reason",jye="Overview this week",Oye="Approved centre",qye="Registered partner",$ye="Registered customer",eve="Revenue growth chart",tve="Account and centre registration chart",nve={home:Xme,aboutUs:Mme,partnerRegister:Yme,myCentre:Jme,logIn:Ume,signUp:Pme,thuDucCity:Kme,district1:zme,district3:Qme,district4:jme,district5:Ome,district6:qme,district7:$me,district8:epe,district10:tpe,district11:npe,district12:ipe,binhTanDistrict:rpe,binhThanhDistrict:ope,goVapDistrict:spe,phuNhuanDistrict:ape,tanBinhDistrict:lpe,tanPhuDistrict:cpe,nhaBeProvince:gpe,canGioProvince:dpe,cuChiProvince:Ape,hocMonProvince:upe,binhChanhProvince:hpe,findCourtNow:mpe,searchForBadmintonCourtsInHoChiMinhCity:ppe,find:Cpe,selectTheDistrict:fpe,district:Ipe,listOfCentres:bpe,rating:ype,selectRating:vpe,priceRange:wpe,address:kpe,openTime:Bpe,numberOfCourts:xpe,price:Spe,viewDetail:Zpe,termForCustomer:Gpe,termForPartner:Rpe,privacyPolicy:Npe,allRightsReserved2024CourtStar:_pe,dontHaveAccount:Vpe,signUpForFree:Epe,forgetPassword:Fpe,continueWithGoogle:Wpe,customerRegister:Hpe,enterFirstName:Dpe,enterLastName:Tpe,enterEmail:Lpe,enterManagerEmail:Xpe,enterManagerName:Mpe,enterPhone:Ype,enterManagerPhone:Jpe,enterPassword:Upe,firstName:Ppe,lastName:Kpe,phone:zpe,password:Qpe,conditionPassword:jpe,agreeToOur:Ope,termOfUse:qpe,and:$pe,signUpWithGoogleAccount:eCe,alreadyHaveAnAccount:tCe,yourProfile:nCe,update:iCe,cancel:rCe,forgotPassword:oCe,forgotPasswordNote:sCe,sendCode:aCe,checkYourEmail:lCe,weSent:cCe,enterDigit:gCe,enterNewPassword:dCe,newPassword:ACe,enterConfirmNewPassword:uCe,confirmNewPassword:hCe,gotEmailYet:mCe,resend:pCe,confirm:CCe,myBalance:fCe,manageStaff:ICe,centreInformation:bCe,enterCentreName:yCe,centreName:vCe,enterCentreAddress:wCe,centreAddress:kCe,enterNumberOfCourts:BCe,enterPricePerHour:xCe,pricePerHour:SCe,openTimes:ZCe,selectOpenTime:GCe,closeTime:RCe,selectCloseTime:NCe,paymentMethod:_Ce,enterPaymentMethod:VCe,active:ECe,deleted:FCe,activated:WCe,activate:HCe,closed:DCe,close:TCe,delete:"Delete",information:LCe,edit:XCe,status:MCe,selectStatus:YCe,feedbacks:JCe,feedback:UCe,staffInformation:PCe,addStaff:KCe,fullName:zCe,staffName:QCe,enterStaffName:jCe,enterUserName:OCe,enterUserEmail:qCe,enterUserPhone:$Ce,selectSlot:efe,slot:tfe,staffs:nfe,enterStaffEmail:ife,enterStaffPhone:rfe,enterStaffPassword:ofe,OTHER_CONTENT:sfe,ADD_CENTRE_CONTENT:afe,DENIED_CENTRE_CONTENT:lfe,REGISTERED_CONTENT:cfe,BOOKING_CONTENT:gfe,upload:dfe,discard:Afe,enterAddress:ufe,"COURTSTAR - A healthy body leads to a healthy mind":"COURTSTAR - A healthy body leads to a healthy mind","History and Development":"History and Development",foundedIn2024:hfe,dynamicTeam:mfe,manyCourts:pfe,enthusiasticStaff:Cfe,"Mission and Vision":"Mission and Vision",Vision:ffe,visionDescription:Ife,Mission:bfe,missionDescription:yfe,"CourtStar Commitments":"CourtStar Commitments","Commitment to the Guest":"Commitment to the Guest:",guestCommitments:vfe,"Commitment to the Partner":"Commitment to the Partner:",partnerCommitments:wfe,quickView:kfe,personalDataWeCollect:Bfe,thirdPartyPersonalDataProvided:xfe,purposeForDataProcessing:Sfe,sharingPersonalData:Zfe,internationalDataTransfer:Gfe,dataStorageAndProcessingTime:Rfe,rightsAndObligationsOfCustomers:Nfe,dataProtection:_fe,cookies:Vfe,updatingDataProtectionPolicy:Efe,thankYouForVisiting:Ffe,overview:Wfe,overviewText1:Hfe,overviewText2:Dfe,overviewText3:Tfe,dataCollectionIntro:Lfe,personalData:Xfe,personalDataDetails:Mfe,personalDataCollectedAutomatically:Yfe,automaticDataCollectionIntro:Jfe,contactInformation:Ufe,contactInformationDetails:Pfe,financialInformation:Kfe,financialInformationDetails:zfe,transactionInformation:Qfe,transactionInformationDetails:jfe,behavioralInformation:Ofe,behavioralInformationDetails:qfe,profileInformation:$fe,profileInformationDetails:eIe,marketingAndCommunicationInformation:tIe,marketingAndCommunicationDetails:nIe,thirdPartyPersonalDataIntro:iIe,thirdPartyPersonalDataItem1:rIe,thirdPartyPersonalDataItem2:oIe,thirdPartyPersonalDataItem3:sIe,thirdPartyPersonalDataItem4:aIe,thirdPartyPersonalDataItem5:lIe,purposeForData:cIe,scopePermitted:gIe,regisAuthen:dIe,processData:AIe,relationManagement:uIe,processYour:hIe,dataAnalysis:mIe,dataPurpose:pIe,improveProduct:CIe,dataServe:fIe,meetFunction:IIe,weMay:bIe,informationTech:yIe,toPerform:vIe,protectCommon:wIe,thirdParties:kIe,complianceLegal:BIe,complyLegal:xIe,personalShare:SIe,mayDisclose:ZIe,websiteSocial:GIe,provideYou:RIe,uponRequest:NIe,toProtecting:_Ie,dataTransfer:VIe,beTransfer:EIe,legalBasis:FIe,dataStorage:WIe,storeProcess:HIe,ceaseStoring:DIe,regulationsAbove:TIe,rightsAnd:LIe,knowRight:XIe,rightTo:MIe,toConsent:YIe,haveRight:JIe,toWithdraw:UIe,toAccess:PIe,toView:KIe,notResponsible:zIe,deleteData:QIe,toRequest:jIe,toRestrict:OIe,toLimit:qIe,toProvided:$Ie,mayRequest:ebe,toObject:tbe,toData:nbe,toComplain:ibe,toSubmit:rbe,toRequests:obe,requestCompensation:sbe,toSelf:abe,asRegulated:lbe,tryTo:cbe,mayExercise:gbe,ownPrivacy:dbe,ofCustomers:Abe,provideFull:ube,respectProtect:hbe,otherLegal:mbe,notesOn:pbe,ifYou:Cbe,ofYours:fbe,dataProtections:Ibe,weHave:bbe,byLaw:ybe,rulesOn:vbe,conductSecurity:wbe,weAlso:kbe,theEvent:Bbe,forCookies:xbe,cookieIs:Sbe,toHelp:Zbe,acceptDecline:Gbe,updatingThe:Rbe,mayModify:Nbe,agreeThat:_be,forConsent:Vbe,pleaseRead:Ebe,notAgree:Fbe,allCenTre:Wbe,topUp:Hbe,withdraw:Dbe,billPayment:Tbe,todayIncome:Lbe,todayBookings:Xbe,expectedRevenue:Mbe,amount:Ybe,selectAmount:Jbe,enterAmount:Ube,pending:Pbe,dashboard:Kbe,allUser:zbe,centreManager:Qbe,managerName:jbe,managerEmail:Obe,customer:qbe,customerName:$be,enterCustomerName:e0e,enterCustomerEmail:t0e,enterCustomerPhone:n0e,withdrawalRequest:i0e,postCentreRequest:r0e,description:o0e,cancelBooking:s0e,canceled:a0e,deny:l0e,booking:c0e,bookNow:g0e,calendar:d0e,to:A0e,court:u0e,Monday:h0e,Tuesday:m0e,Wednesday:p0e,Thursday:C0e,Friday:f0e,Saturday:I0e,Sunday:b0e,Description:y0e,basicTerms:v0e,generalConditions:w0e,prohibitedActivities:k0e,refundPolicy:B0e,basicTermsPartner:x0e,uploadCondition:S0e,moneySharing:Z0e,withdrawPolicy:G0e,prohibitedActPartner:R0e,reset:N0e,Partners:_0e,basicTerm:V0e,condition:E0e,uploadCourt:F0e,partnerSharing:W0e,withdrawalPolicy:H0e,prohibitedActivity:D0e,copyRight:T0e,allCopyright:L0e,Customer:X0e,beLiable:M0e,useThe:Y0e,refunderPolicy:J0e,frequency:U0e,weeklyBooking:P0e,apply:K0e,plsEnterEmail:z0e,plsEnterPassword:Q0e,wrongMailOrPass:j0e,plsEnterFirstName:O0e,plsEnterLastName:q0e,plsEnterPhone:$0e,youWillNotAbleToRecoverTheEntireSelection:eye,youWillNotAbleToRecoverThisAction:tye,areYouSure:nye,youAllowThisCentreOpenInTheSystem:iye,youAllowThisWithdrawalRequest:rye,youDeleteThisManagerAccount:oye,youDeleteThisStaffAccount:sye,youDeleteThisCustomerAccount:aye,allRating:lye,"1star":"1 Stars","2star":"2 Stars","3star":"3 Stars","4star":"4 Stars","5star":"5 Stars",allStatus:cye,Unavailable:gye,Available:dye,dateCreate:Aye,selectDateCreate:uye,allRequest:hye,Ascending:mye,Descending:pye,Accepted:Cye,Denied:fye,Pending:Iye,totalRevenue:bye,totalCentre:yye,totalUser:vye,profitGrowth:wye,revenue:kye,userRegistration:Bye,centreRegistration:xye,Export:Sye,weekRevenue:Zye,postCentre:Gye,allDate:Rye,allSlot:Nye,bookingDetail:_ye,Date:"Date",selectDate:Vye,courtNumber:Eye,checkIn:Fye,opening:Wye,Disable:Hye,manage:Dye,moveStaff:Tye,Submit:Lye,selectCentre:Xye,withdrawalHistory:Mye,bankName:Yye,enterNameBank:Jye,accountNumber:Uye,enterAccountNumber:Pye,cardholderName:Kye,enterCardholderName:zye,noReason:Qye,overviewThisWeek:jye,approvedCentre:Oye,registeredPartner:qye,registeredCustomer:$ye,revenueGrowthChart:eve,accountAndCentreRegistrationChart:tve,export:"Export"},ive={en:{translation:nve},vi:{translation:Lme}},rve=localStorage.getItem("lang");Ws.use(ble).init({resources:ive,lng:rve||"en",fallbackLng:"en",interpolation:{escapeValue:!1}});/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},tb.apply(this,arguments)}var kA;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(kA||(kA={}));const eL="popstate";function ove(e){e===void 0&&(e={});function t(o,s){let{pathname:c,search:u,hash:C}=o.location;return eZ("",{pathname:c,search:u,hash:C},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function i(o,s){return typeof s=="string"?s:Fw(s)}return ave(t,i,null,e)}function uo(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function BU(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sve(){return Math.random().toString(36).substr(2,8)}function tL(e,t){return{usr:e.state,key:e.key,idx:t}}function eZ(e,t,i,o){return i===void 0&&(i=null),tb({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tC(t):t,{state:i,key:t&&t.key||o||sve()})}function Fw(e){let{pathname:t="/",search:i="",hash:o=""}=e;return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function tC(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function ave(e,t,i,o){o===void 0&&(o={});let{window:s=document.defaultView,v5Compat:c=!1}=o,u=s.history,C=kA.Pop,m=null,v=x();v==null&&(v=0,u.replaceState(tb({},u.state,{idx:v}),""));function x(){return(u.state||{idx:null}).idx}function G(){C=kA.Pop;let M=x(),L=M==null?null:M-v;v=M,m&&m({action:C,location:H.location,delta:L})}function B(M,L){C=kA.Push;let _=eZ(H.location,M,L);v=x()+1;let X=tL(_,v),Q=H.createHref(_);try{u.pushState(X,"",Q)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(Q)}c&&m&&m({action:C,location:H.location,delta:1})}function R(M,L){C=kA.Replace;let _=eZ(H.location,M,L);v=x();let X=tL(_,v),Q=H.createHref(_);u.replaceState(X,"",Q),c&&m&&m({action:C,location:H.location,delta:0})}function V(M){let L=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof M=="string"?M:Fw(M);return _=_.replace(/ $/,"%20"),uo(L,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,L)}let H={get action(){return C},get location(){return e(s,u)},listen(M){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(eL,G),m=M,()=>{s.removeEventListener(eL,G),m=null}},createHref(M){return t(s,M)},createURL:V,encodeLocation(M){let L=V(M);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:B,replace:R,go(M){return u.go(M)}};return H}var nL;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nL||(nL={}));function lve(e,t,i){i===void 0&&(i="/");let o=typeof t=="string"?tC(t):t,s=TR(o.pathname||"/",i);if(s==null)return null;let c=xU(e);cve(c);let u=null;for(let C=0;u==null&&C<c.length;++C){let m=yve(s);u=fve(c[C],m)}return u}function xU(e,t,i,o){t===void 0&&(t=[]),i===void 0&&(i=[]),o===void 0&&(o="");let s=(c,u,C)=>{let m={relativePath:C===void 0?c.path||"":C,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};m.relativePath.startsWith("/")&&(uo(m.relativePath.startsWith(o),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(o.length));let v=TA([o,m.relativePath]),x=i.concat(m);c.children&&c.children.length>0&&(uo(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),xU(c.children,t,x,v)),!(c.path==null&&!c.index)&&t.push({path:v,score:pve(v,c.index),routesMeta:x})};return e.forEach((c,u)=>{var C;if(c.path===""||!((C=c.path)!=null&&C.includes("?")))s(c,u);else for(let m of SU(c.path))s(c,u,m)}),t}function SU(e){let t=e.split("/");if(t.length===0)return[];let[i,...o]=t,s=i.endsWith("?"),c=i.replace(/\?$/,"");if(o.length===0)return s?[c,""]:[c];let u=SU(o.join("/")),C=[];return C.push(...u.map(m=>m===""?c:[c,m].join("/"))),s&&C.push(...u),C.map(m=>e.startsWith("/")&&m===""?"/":m)}function cve(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:Cve(t.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}const gve=/^:[\w-]+$/,dve=3,Ave=2,uve=1,hve=10,mve=-2,iL=e=>e==="*";function pve(e,t){let i=e.split("/"),o=i.length;return i.some(iL)&&(o+=mve),t&&(o+=Ave),i.filter(s=>!iL(s)).reduce((s,c)=>s+(gve.test(c)?dve:c===""?uve:hve),o)}function Cve(e,t){return e.length===t.length&&e.slice(0,-1).every((o,s)=>o===t[s])?e[e.length-1]-t[t.length-1]:0}function fve(e,t){let{routesMeta:i}=e,o={},s="/",c=[];for(let u=0;u<i.length;++u){let C=i[u],m=u===i.length-1,v=s==="/"?t:t.slice(s.length)||"/",x=Ive({path:C.relativePath,caseSensitive:C.caseSensitive,end:m},v);if(!x)return null;Object.assign(o,x.params);let G=C.route;c.push({params:o,pathname:TA([s,x.pathname]),pathnameBase:Bve(TA([s,x.pathnameBase])),route:G}),x.pathnameBase!=="/"&&(s=TA([s,x.pathnameBase]))}return c}function Ive(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,o]=bve(e.path,e.caseSensitive,e.end),s=t.match(i);if(!s)return null;let c=s[0],u=c.replace(/(.)\/+$/,"$1"),C=s.slice(1);return{params:o.reduce((v,x,G)=>{let{paramName:B,isOptional:R}=x;if(B==="*"){let H=C[G]||"";u=c.slice(0,c.length-H.length).replace(/(.)\/+$/,"$1")}const V=C[G];return R&&!V?v[B]=void 0:v[B]=(V||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:u,pattern:e}}function bve(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!0),BU(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,C,m)=>(o.push({paramName:C,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),o]}function yve(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return BU(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function TR(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,o=e.charAt(i);return o&&o!=="/"?null:e.slice(i)||"/"}function vve(e,t){t===void 0&&(t="/");let{pathname:i,search:o="",hash:s=""}=typeof e=="string"?tC(e):e;return{pathname:i?i.startsWith("/")?i:wve(i,t):t,search:xve(o),hash:Sve(s)}}function wve(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?i.length>1&&i.pop():s!=="."&&i.push(s)}),i.length>1?i.join("/"):"/"}function Yx(e,t,i,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kve(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function LR(e,t){let i=kve(e);return t?i.map((o,s)=>s===e.length-1?o.pathname:o.pathnameBase):i.map(o=>o.pathnameBase)}function XR(e,t,i,o){o===void 0&&(o=!1);let s;typeof e=="string"?s=tC(e):(s=tb({},e),uo(!s.pathname||!s.pathname.includes("?"),Yx("?","pathname","search",s)),uo(!s.pathname||!s.pathname.includes("#"),Yx("#","pathname","hash",s)),uo(!s.search||!s.search.includes("#"),Yx("#","search","hash",s)));let c=e===""||s.pathname==="",u=c?"/":s.pathname,C;if(u==null)C=i;else{let G=t.length-1;if(!o&&u.startsWith("..")){let B=u.split("/");for(;B[0]==="..";)B.shift(),G-=1;s.pathname=B.join("/")}C=G>=0?t[G]:"/"}let m=vve(s,C),v=u&&u!=="/"&&u.endsWith("/"),x=(c||u===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(v||x)&&(m.pathname+="/"),m}const TA=e=>e.join("/").replace(/\/\/+/g,"/"),Bve=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xve=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sve=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Zve(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ZU=["post","put","patch","delete"];new Set(ZU);const Gve=["get",...ZU];new Set(Gve);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},nb.apply(this,arguments)}const MR=le.createContext(null),Rve=le.createContext(null),nu=le.createContext(null),Hk=le.createContext(null),yg=le.createContext({outlet:null,matches:[],isDataRoute:!1}),GU=le.createContext(null);function Nve(e,t){let{relative:i}=t===void 0?{}:t;nC()||uo(!1);let{basename:o,navigator:s}=le.useContext(nu),{hash:c,pathname:u,search:C}=NU(e,{relative:i}),m=u;return o!=="/"&&(m=u==="/"?o:TA([o,u])),s.createHref({pathname:m,search:C,hash:c})}function nC(){return le.useContext(Hk)!=null}function iu(){return nC()||uo(!1),le.useContext(Hk).location}function RU(e){le.useContext(nu).static||le.useLayoutEffect(e)}function Gd(){let{isDataRoute:e}=le.useContext(yg);return e?Pve():_ve()}function _ve(){nC()||uo(!1);let e=le.useContext(MR),{basename:t,future:i,navigator:o}=le.useContext(nu),{matches:s}=le.useContext(yg),{pathname:c}=iu(),u=JSON.stringify(LR(s,i.v7_relativeSplatPath)),C=le.useRef(!1);return RU(()=>{C.current=!0}),le.useCallback(function(v,x){if(x===void 0&&(x={}),!C.current)return;if(typeof v=="number"){o.go(v);return}let G=XR(v,JSON.parse(u),c,x.relative==="path");e==null&&t!=="/"&&(G.pathname=G.pathname==="/"?t:TA([t,G.pathname])),(x.replace?o.replace:o.push)(G,x.state,x)},[t,o,u,c,e])}const Vve=le.createContext(null);function Eve(e){let t=le.useContext(yg).outlet;return t&&le.createElement(Vve.Provider,{value:e},t)}function Dk(){let{matches:e}=le.useContext(yg),t=e[e.length-1];return t?t.params:{}}function NU(e,t){let{relative:i}=t===void 0?{}:t,{future:o}=le.useContext(nu),{matches:s}=le.useContext(yg),{pathname:c}=iu(),u=JSON.stringify(LR(s,o.v7_relativeSplatPath));return le.useMemo(()=>XR(e,JSON.parse(u),c,i==="path"),[e,u,c,i])}function Fve(e,t){return Wve(e,t)}function Wve(e,t,i,o){nC()||uo(!1);let{navigator:s}=le.useContext(nu),{matches:c}=le.useContext(yg),u=c[c.length-1],C=u?u.params:{};u&&u.pathname;let m=u?u.pathnameBase:"/";u&&u.route;let v=iu(),x;if(t){var G;let M=typeof t=="string"?tC(t):t;m==="/"||(G=M.pathname)!=null&&G.startsWith(m)||uo(!1),x=M}else x=v;let B=x.pathname||"/",R=B;if(m!=="/"){let M=m.replace(/^\//,"").split("/");R="/"+B.replace(/^\//,"").split("/").slice(M.length).join("/")}let V=lve(e,{pathname:R}),H=Xve(V&&V.map(M=>Object.assign({},M,{params:Object.assign({},C,M.params),pathname:TA([m,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:TA([m,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),c,i,o);return t&&H?le.createElement(Hk.Provider,{value:{location:nb({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:kA.Pop}},H):H}function Hve(){let e=Uve(),t=Zve(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return le.createElement(le.Fragment,null,le.createElement("h2",null,"Unexpected Application Error!"),le.createElement("h3",{style:{fontStyle:"italic"}},t),i?le.createElement("pre",{style:s},i):null,null)}const Dve=le.createElement(Hve,null);class Tve extends le.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){console.error("React Router caught the following error during render",t,i)}render(){return this.state.error!==void 0?le.createElement(yg.Provider,{value:this.props.routeContext},le.createElement(GU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lve(e){let{routeContext:t,match:i,children:o}=e,s=le.useContext(MR);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),le.createElement(yg.Provider,{value:t},o)}function Xve(e,t,i,o){var s;if(t===void 0&&(t=[]),i===void 0&&(i=null),o===void 0&&(o=null),e==null){var c;if((c=i)!=null&&c.errors)e=i.matches;else return null}let u=e,C=(s=i)==null?void 0:s.errors;if(C!=null){let x=u.findIndex(G=>G.route.id&&(C==null?void 0:C[G.route.id])!==void 0);x>=0||uo(!1),u=u.slice(0,Math.min(u.length,x+1))}let m=!1,v=-1;if(i&&o&&o.v7_partialHydration)for(let x=0;x<u.length;x++){let G=u[x];if((G.route.HydrateFallback||G.route.hydrateFallbackElement)&&(v=x),G.route.id){let{loaderData:B,errors:R}=i,V=G.route.loader&&B[G.route.id]===void 0&&(!R||R[G.route.id]===void 0);if(G.route.lazy||V){m=!0,v>=0?u=u.slice(0,v+1):u=[u[0]];break}}}return u.reduceRight((x,G,B)=>{let R,V=!1,H=null,M=null;i&&(R=C&&G.route.id?C[G.route.id]:void 0,H=G.route.errorElement||Dve,m&&(v<0&&B===0?(V=!0,M=null):v===B&&(V=!0,M=G.route.hydrateFallbackElement||null)));let L=t.concat(u.slice(0,B+1)),_=()=>{let X;return R?X=H:V?X=M:G.route.Component?X=le.createElement(G.route.Component,null):G.route.element?X=G.route.element:X=x,le.createElement(Lve,{match:G,routeContext:{outlet:x,matches:L,isDataRoute:i!=null},children:X})};return i&&(G.route.ErrorBoundary||G.route.errorElement||B===0)?le.createElement(Tve,{location:i.location,revalidation:i.revalidation,component:H,error:R,children:_(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):_()},null)}var _U=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_U||{}),Ww=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ww||{});function Mve(e){let t=le.useContext(MR);return t||uo(!1),t}function Yve(e){let t=le.useContext(Rve);return t||uo(!1),t}function Jve(e){let t=le.useContext(yg);return t||uo(!1),t}function VU(e){let t=Jve(),i=t.matches[t.matches.length-1];return i.route.id||uo(!1),i.route.id}function Uve(){var e;let t=le.useContext(GU),i=Yve(Ww.UseRouteError),o=VU(Ww.UseRouteError);return t!==void 0?t:(e=i.errors)==null?void 0:e[o]}function Pve(){let{router:e}=Mve(_U.UseNavigateStable),t=VU(Ww.UseNavigateStable),i=le.useRef(!1);return RU(()=>{i.current=!0}),le.useCallback(function(s,c){c===void 0&&(c={}),i.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,nb({fromRouteId:t},c)))},[e,t])}function YR(e){let{to:t,replace:i,state:o,relative:s}=e;nC()||uo(!1);let{future:c,static:u}=le.useContext(nu),{matches:C}=le.useContext(yg),{pathname:m}=iu(),v=Gd(),x=XR(t,LR(C,c.v7_relativeSplatPath),m,s==="path"),G=JSON.stringify(x);return le.useEffect(()=>v(JSON.parse(G),{replace:i,state:o,relative:s}),[v,G,s,i,o]),null}function Kve(e){return Eve(e.context)}function Zs(e){uo(!1)}function zve(e){let{basename:t="/",children:i=null,location:o,navigationType:s=kA.Pop,navigator:c,static:u=!1,future:C}=e;nC()&&uo(!1);let m=t.replace(/^\/*/,"/"),v=le.useMemo(()=>({basename:m,navigator:c,static:u,future:nb({v7_relativeSplatPath:!1},C)}),[m,C,c,u]);typeof o=="string"&&(o=tC(o));let{pathname:x="/",search:G="",hash:B="",state:R=null,key:V="default"}=o,H=le.useMemo(()=>{let M=TR(x,m);return M==null?null:{location:{pathname:M,search:G,hash:B,state:R,key:V},navigationType:s}},[m,x,G,B,R,V,s]);return H==null?null:le.createElement(nu.Provider,{value:v},le.createElement(Hk.Provider,{children:i,value:H}))}function Qve(e){let{children:t,location:i}=e;return Fve(tZ(t),i)}new Promise(()=>{});function tZ(e,t){t===void 0&&(t=[]);let i=[];return le.Children.forEach(e,(o,s)=>{if(!le.isValidElement(o))return;let c=[...t,s];if(o.type===le.Fragment){i.push.apply(i,tZ(o.props.children,c));return}o.type!==Zs&&uo(!1),!o.props.index||!o.props.children||uo(!1);let u={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(u.children=tZ(o.props.children,c)),i.push(u)}),i}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nZ(){return nZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},nZ.apply(this,arguments)}function jve(e,t){if(e==null)return{};var i={},o=Object.keys(e),s,c;for(c=0;c<o.length;c++)s=o[c],!(t.indexOf(s)>=0)&&(i[s]=e[s]);return i}function Ove(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qve(e,t){return e.button===0&&(!t||t==="_self")&&!Ove(e)}const $ve=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ewe="6";try{window.__reactRouterVersion=ewe}catch{}const twe="startTransition",rL=sw[twe];function nwe(e){let{basename:t,children:i,future:o,window:s}=e,c=le.useRef();c.current==null&&(c.current=ove({window:s,v5Compat:!0}));let u=c.current,[C,m]=le.useState({action:u.action,location:u.location}),{v7_startTransition:v}=o||{},x=le.useCallback(G=>{v&&rL?rL(()=>m(G)):m(G)},[m,v]);return le.useLayoutEffect(()=>u.listen(x),[u,x]),le.createElement(zve,{basename:t,children:i,location:C.location,navigationType:C.action,navigator:u,future:o})}const iwe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rwe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nl=le.forwardRef(function(t,i){let{onClick:o,relative:s,reloadDocument:c,replace:u,state:C,target:m,to:v,preventScrollReset:x,unstable_viewTransition:G}=t,B=jve(t,$ve),{basename:R}=le.useContext(nu),V,H=!1;if(typeof v=="string"&&rwe.test(v)&&(V=v,iwe))try{let X=new URL(window.location.href),Q=v.startsWith("//")?new URL(X.protocol+v):new URL(v),j=TR(Q.pathname,R);Q.origin===X.origin&&j!=null?v=j+Q.search+Q.hash:H=!0}catch{}let M=Nve(v,{relative:s}),L=owe(v,{replace:u,state:C,target:m,preventScrollReset:x,relative:s,unstable_viewTransition:G});function _(X){o&&o(X),X.defaultPrevented||L(X)}return le.createElement("a",nZ({},B,{href:V||M,onClick:H||c?o:_,ref:i,target:m}))});var oL;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(oL||(oL={}));var sL;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sL||(sL={}));function owe(e,t){let{target:i,replace:o,state:s,preventScrollReset:c,relative:u,unstable_viewTransition:C}=t===void 0?{}:t,m=Gd(),v=iu(),x=NU(e,{relative:u});return le.useCallback(G=>{if(qve(G,i)){G.preventDefault();let B=o!==void 0?o:Fw(v)===Fw(x);m(e,{replace:B,state:s,preventScrollReset:c,relative:u,unstable_viewTransition:C})}},[v,m,x,o,s,i,e,c,u,C])}const EU="/logo.svg",Em="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20id='flag-icon-css-us'%20viewBox='0%200%20512%20512'%3e%3cg%20fill-rule='evenodd'%3e%3cg%20stroke-width='1pt'%3e%3cpath%20fill='%23bd3d44'%20d='M0%200h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0z'%20transform='scale(3.9385)'/%3e%3cpath%20fill='%23fff'%20d='M0%2010h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0zm0%2020h247v10H0z'%20transform='scale(3.9385)'/%3e%3c/g%3e%3cpath%20fill='%23192f5d'%20d='M0%200h98.8v70H0z'%20transform='scale(3.9385)'/%3e%3cpath%20fill='%23fff'%20d='M8.2%203l1%202.8H12L9.7%207.5l.9%202.7-2.4-1.7L6%2010.2l.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8H45l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.4%201.7%201%202.7L74%208.5l-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9L92%207.5l1%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm-74.1%207l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7H65zm16.4%200l1%202.8H86l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm-74%207l.8%202.8h3l-2.4%201.7.9%202.7-2.4-1.7L6%2024.2l.9-2.7-2.4-1.7h3zm16.4%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8H45l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9L92%2021.5l1%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm-74.1%207l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7H65zm16.4%200l1%202.8H86l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm-74%207l.8%202.8h3l-2.4%201.7.9%202.7-2.4-1.7L6%2038.2l.9-2.7-2.4-1.7h3zm16.4%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8H45l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9L92%2035.5l1%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm-74.1%207l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7H65zm16.4%200l1%202.8H86l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm-74%207l.8%202.8h3l-2.4%201.7.9%202.7-2.4-1.7L6%2052.2l.9-2.7-2.4-1.7h3zm16.4%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8H45l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9L92%2049.5l1%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm-74.1%207l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7H65zm16.4%200l1%202.8H86l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm-74%207l.8%202.8h3l-2.4%201.7.9%202.7-2.4-1.7L6%2066.2l.9-2.7-2.4-1.7h3zm16.4%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8H45l-2.4%201.7%201%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9zm16.4%200l1%202.8h2.8l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h3zm16.5%200l.9%202.8h2.9l-2.3%201.7.9%202.7-2.4-1.7-2.3%201.7.9-2.7-2.4-1.7h2.9zm16.5%200l.9%202.8h2.9L92%2063.5l1%202.7-2.4-1.7-2.4%201.7%201-2.7-2.4-1.7h2.9z'%20transform='scale(3.9385)'/%3e%3c/g%3e%3c/svg%3e",Jx="data:image/svg+xml,%3csvg%20width='16px'%20height='16px'%20viewBox='0%200%2064%2064'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--emojione'%20preserveAspectRatio='xMidYMid%20meet'%3e%3ccircle%20cx='32'%20cy='32'%20r='30'%20fill='%23f42f4c'%3e%3c/circle%3e%3cpath%20fill='%23ffe62e'%20d='M32%2039l9.9%207l-3.7-11.4l9.8-7.4H35.8L32%2016l-3.7%2011.2H16l9.8%207.4L22.1%2046z'%3e%3c/path%3e%3c/svg%3e",swe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%23fff'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-chevron-down'%3e%3cpath%20d='m6%209%206%206%206-6'/%3e%3c/svg%3e",awe=()=>{const{i18n:e}=Jn(),[t,i]=le.useState(!1),[o,s]=le.useState(Em),c=le.useRef(null),u=()=>{i(!t)},C=v=>{const x=v===Em?"en":"vi";e.changeLanguage(x),localStorage.setItem("lang",x),s(v),i(!1)},m=v=>{c.current&&!c.current.contains(v.target)&&i(!1)};return le.useEffect(()=>{const v=localStorage.getItem("lang");v&&s(v==="vi"?Jx:Em)},[]),le.useEffect(()=>(document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}),[]),le.useEffect(()=>{const v=()=>{i(!1)};return window.addEventListener("scroll",v),()=>{window.removeEventListener("scroll",v)}},[]),y.jsxs("div",{className:"relative inline-flex",ref:c,children:[y.jsxs("button",{className:"py-1 ps-1 pe-3 inline-flex items-center gap-x-2 font-semibold text-white w-28",onClick:u,children:[y.jsx("img",{className:"w-5 h-auto rounded-full",src:o,alt:"current language"}),y.jsx("span",{className:"font-medium truncate max-w-[7.5rem]",children:o===Em?"US":"VI"}),y.jsx("img",{src:swe,className:t?"rotate-180 w-4":"w-4",alt:"chevron-down"})]}),t&&y.jsxs("div",{className:"z-50 fixed top-14 min-w-40 bg-white shadow-gray-800 shadow-md rounded-lg p-2 mt-2",children:[y.jsxs("button",{className:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100",onClick:()=>C(Em),children:[y.jsx("img",{src:Em,className:"w-4 rounded-full",alt:"English (US)"}),y.jsx("span",{children:"English (US)"})]}),y.jsxs("button",{className:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100",onClick:()=>C(Jx),children:[y.jsx("img",{src:Jx,alt:"Vit Nam (VI)"}),y.jsx("span",{children:"Vit Nam (VI)"})]})]})]})},FU="data:image/svg+xml,%3csvg%20width='25'%20height='25'%20viewBox='0%200%2025%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.001%2012.7331C23.001%2011.8698%2022.9296%2011.2398%2022.7748%2010.5864H12.7153V14.483H18.62C18.501%2015.4514%2017.8582%2016.9097%2016.4296%2017.8897L16.4096%2018.0202L19.5902%2020.4349L19.8106%2020.4564C21.8343%2018.6247%2023.001%2015.9297%2023.001%2012.7331Z'%20fill='%234285F4'/%3e%3cpath%20d='M12.714%2023.0001C15.6068%2023.0001%2018.0353%2022.0667%2019.8092%2020.4567L16.4282%2017.89C15.5235%2018.5083%2014.3092%2018.94%2012.714%2018.94C9.88069%2018.94%207.47596%2017.1083%206.61874%2014.5767L6.49309%2014.5871L3.18583%2017.0955L3.14258%2017.2133C4.90446%2020.6433%208.5235%2023.0001%2012.714%2023.0001Z'%20fill='%2334A853'/%3e%3cpath%20d='M6.62046%2014.5765C6.39428%2013.9232%206.26337%2013.2231%206.26337%2012.4998C6.26337%2011.7764%206.39428%2011.0765%206.60856%2010.4231L6.60257%2010.284L3.25386%207.73535L3.14429%207.78642C2.41814%209.20977%202.00146%2010.8081%202.00146%2012.4998C2.00146%2014.1915%202.41814%2015.7897%203.14429%2017.2131L6.62046%2014.5765Z'%20fill='%23FBBC05'/%3e%3cpath%20d='M12.7141%206.05997C14.7259%206.05997%2016.083%206.91163%2016.8569%207.62335L19.8807%204.73C18.0236%203.03834%2015.6069%202%2012.7141%202C8.52353%202%204.90447%204.35665%203.14258%207.78662L6.60686%2010.4233C7.47598%207.89166%209.88073%206.05997%2012.7141%206.05997Z'%20fill='%23EB4335'/%3e%3c/svg%3e",Nn=({id:e,label:t,name:i,placeholder:o,onchange:s,value:c,disabled:u,type:C="text",error:m,errorMsg:v})=>{const[x,G]=le.useState(c);le.useEffect(()=>{G(c)},[c]);const B=V=>V.replace(/\B(?=(\d{3})+(?!\d))/g,"."),R=async V=>{const{value:H}=V.target;let M=H;if(C==="number"){const L=H.replace(/[^0-9]/g,"");M=B(L)}await new Promise(L=>{G(M),L()}),s(V)};return y.jsxs("div",{className:"w-full flex flex-col font-medium gap-2 text-gray-800",children:[y.jsx("label",{htmlFor:e,className:"font-semibold",children:t}),y.jsx("input",{type:C==="number"?"text":C,name:i,id:e,className:`w-full py-2.5 px-6 border ${m?"border-red-500 outline-red-400 placeholder:text-red-500 animate-shake":"border-gray-300 outline-gray-400"} rounded-lg placeholder:text-sm placeholder:font-normal `,placeholder:o,onChange:R,value:x,disabled:u}),m&&y.jsx("div",{className:"text-red-500 text-xs font-semibold text-end -mt-2 animate-shake",children:v})]})},Hw="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%231f2937'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-x'%3e%3cpath%20d='M18%206%206%2018'/%3e%3cpath%20d='m6%206%2012%2012'/%3e%3c/svg%3e",Ll=({isOpen:e,html:t,setIsOpen:i,centreInfo:o,title:s})=>{le.useEffect(()=>{e?document.body.style.overflow="hidden":document.body.style.overflow="unset"},[e]);const c=()=>{i()};return y.jsx("div",{className:e===!1?"hidden":"",children:y.jsxs("div",{className:"text-gray-800",children:[y.jsx("div",{className:"fixed z-50 top-0 left-0 h-screen w-screen bg-gray-900 opacity-40"}),y.jsx("div",{className:"fixed z-50 top-0 left-0 h-screen w-screen flex justify-center items-center",children:o?y.jsxs("div",{className:"animate-fade-in-down w-fit px-10 pb-5 rounded-3xl shadow-2xl bg-white max-h-screen overflow-y-auto overflow-x-hidden",children:[y.jsxs("div",{className:"flex py-3 -mr-5",children:[y.jsx("div",{className:"text-2xl flex-1 flex justify-center items-center font-semibold ",children:s}),y.jsx("button",{className:"p-1 hover:bg-gray-200 rounded-full transition-all duration-300 ease-in-out",onClick:c,children:y.jsx("img",{src:Hw,alt:"x"})})]}),t]}):y.jsxs("div",{className:"relative animate-fade-in-down w-fit p-10 rounded-3xl shadow-2xl bg-white max-h-screen overflow-y-auto overflow-x-hidden",children:[t,y.jsx("button",{className:"absolute p-2 top-3 right-3 hover:bg-gray-200 rounded-full transition-all duration-300 ease-in-out",onClick:c,children:y.jsx("img",{src:Hw,alt:"x"})})]})})]})})};var WU={exports:{}};(function(e,t){(function(i,o){e.exports=o()})(gg,function(){return function(i){var o={};function s(c){if(o[c])return o[c].exports;var u=o[c]={i:c,l:!1,exports:{}};return i[c].call(u.exports,u,u.exports,s),u.l=!0,u.exports}return s.m=i,s.c=o,s.d=function(c,u,C){s.o(c,u)||Object.defineProperty(c,u,{enumerable:!0,get:C})},s.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},s.t=function(c,u){if(1&u&&(c=s(c)),8&u||4&u&&typeof c=="object"&&c&&c.__esModule)return c;var C=Object.create(null);if(s.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:c}),2&u&&typeof c!="string")for(var m in c)s.d(C,m,(function(v){return c[v]}).bind(null,m));return C},s.n=function(c){var u=c&&c.__esModule?function(){return c.default}:function(){return c};return s.d(u,"a",u),u},s.o=function(c,u){return Object.prototype.hasOwnProperty.call(c,u)},s.p="/dist/",s(s.s=3)}([function(i,o,s){i.exports=s(5)()},function(i,o,s){function c(C){return function(){return C}}var u=function(){};u.thatReturns=c,u.thatReturnsFalse=c(!1),u.thatReturnsTrue=c(!0),u.thatReturnsNull=c(null),u.thatReturnsThis=function(){return this},u.thatReturnsArgument=function(C){return C},i.exports=u},function(i,o,s){i.exports=s(8)},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var c,u=s(4),C=(c=u)&&c.__esModule?c:{default:c};o.default=C.default},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function B(R,V){for(var H=0;H<V.length;H++){var M=V[H];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(R,M.key,M)}}return function(R,V,H){return V&&B(R.prototype,V),H&&B(R,H),R}}(),u=x(s(0)),C=s(2),m=x(C),v=x(s(11));function x(B){return B&&B.__esModule?B:{default:B}}var G=function(B){function R(V){(function(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")})(this,R);var H=function(M,L){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||typeof L!="object"&&typeof L!="function"?M:L}(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,V));return H.values=Array(V.length).fill("").map(function(M,L){return V.initialValue.toString()[L]||""}),H.elements=[],H.currentIndex=0,H.onPaste=H.onPaste.bind(H),H}return function(V,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);V.prototype=Object.create(H&&H.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(V,H):V.__proto__=H)}(R,B),c(R,[{key:"componentDidMount",value:function(){this.props.focus&&this.props.length&&this.elements[0].focus()}},{key:"clear",value:function(){this.elements.forEach(function(V){return V.clear()}),this.values=this.values.map(function(){}),this.elements[0].focus()}},{key:"focus",value:function(){this.props.length&&this.elements[0].focus()}},{key:"onItemChange",value:function(V,H,M){var L=this.props,_=L.length,X=L.onComplete,Q=L.onChange,j=M;this.values[M]=V,V.length===1&&M<_-1&&(j+=1,this.elements[j].focus());var re=this.values.join("");if(H||Q(re,j),re.length===_){if(H&&M<_-1)return;X(re,j)}}},{key:"onBackspace",value:function(V){V>0&&this.elements[V-1].focus()}},{key:"onPaste",value:function(V){var H=this.props.length;V.length===H&&this.elements.forEach(function(M,L){return M.update(V[L],!0)})}},{key:"render",value:function(){var V=this;return m.default.createElement("div",{style:this.props.style,className:"pincode-input-container"},this.values.map(function(H,M){return m.default.createElement(v.default,{initialValue:H,ref:function(L){return V.elements[M]=L},key:M,disabled:V.props.disabled,onBackspace:function(){return V.onBackspace(M)},secret:V.props.secret||!1,onChange:function(L,_){return V.onItemChange(L,_,M)},type:V.props.type,inputMode:V.props.inputMode,validate:V.props.validate,inputStyle:V.props.inputStyle,inputFocusStyle:V.props.inputFocusStyle,autoSelect:V.props.autoSelect,onPaste:M===0?V.onPaste:null,regexCriteria:V.props.regexCriteria,ariaLabel:V.props.ariaLabel,placeholder:V.props.placeholder,secretDelay:V.props.secretDelay})}))}}]),R}(C.Component);G.propTypes={initialValue:u.default.oneOfType([u.default.string,u.default.number]),length:u.default.number.isRequired,type:u.default.string,onComplete:u.default.func,validate:u.default.func,secret:u.default.bool,disabled:u.default.bool,focus:u.default.bool,onChange:u.default.func,inputMode:u.default.string,style:u.default.object,inputStyle:u.default.object,inputFocusStyle:u.default.object,autoSelect:u.default.bool,regexCriteria:u.default.any,ariaLabel:u.default.string,placeholder:u.default.string},G.defaultProps={initialValue:"",type:"numeric",secret:!1,validate:null,focus:!1,disabled:!1,onChange:function(){},onComplete:function(){},inputMode:void 0,style:{},inputStyle:{},inputFocusStyle:{},autoSelect:!0,regexCriteria:/^[a-zA-Z0-9]+$/,ariaLabel:"",placeholder:""},o.default=G},function(i,o,s){var c=s(1),u=s(6),C=s(7);i.exports=function(){function m(G,B,R,V,H,M){M!==C&&u(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function v(){return m}m.isRequired=m;var x={array:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:v,element:m,instanceOf:v,node:m,objectOf:v,oneOf:v,oneOfType:v,shape:v,exact:v};return x.checkPropTypes=c,x.PropTypes=x,x}},function(i,o,s){i.exports=function(c,u,C,m,v,x,G,B){if(!c){var R;if(u===void 0)R=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var V=[C,m,v,x,G,B],H=0;(R=new Error(u.replace(/%s/g,function(){return V[H++]}))).name="Invariant Violation"}throw R.framesToPop=1,R}}},function(i,o,s){i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(i,o,s){/** @license React v16.2.0
* react.production.min.js
*
* Copyright (c) 2013-present, Facebook, Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var c=s(9),u=s(10),C=s(1),m=typeof Symbol=="function"&&Symbol.for,v=m?Symbol.for("react.element"):60103,x=m?Symbol.for("react.call"):60104,G=m?Symbol.for("react.return"):60105,B=m?Symbol.for("react.portal"):60106,R=m?Symbol.for("react.fragment"):60107,V=typeof Symbol=="function"&&Symbol.iterator;function H(pe){for(var Ee=arguments.length-1,We="Minified React error #"+pe+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+pe,Ue=0;Ue<Ee;Ue++)We+="&args[]="+encodeURIComponent(arguments[Ue+1]);throw(Ee=Error(We+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",Ee.framesToPop=1,Ee}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function L(pe,Ee,We){this.props=pe,this.context=Ee,this.refs=u,this.updater=We||M}function _(pe,Ee,We){this.props=pe,this.context=Ee,this.refs=u,this.updater=We||M}function X(){}L.prototype.isReactComponent={},L.prototype.setState=function(pe,Ee){typeof pe!="object"&&typeof pe!="function"&&pe!=null&&H("85"),this.updater.enqueueSetState(this,pe,Ee,"setState")},L.prototype.forceUpdate=function(pe){this.updater.enqueueForceUpdate(this,pe,"forceUpdate")},X.prototype=L.prototype;var Q=_.prototype=new X;function j(pe,Ee,We){this.props=pe,this.context=Ee,this.refs=u,this.updater=We||M}Q.constructor=_,c(Q,L.prototype),Q.isPureReactComponent=!0;var re=j.prototype=new X;re.constructor=j,c(re,L.prototype),re.unstable_isAsyncReactComponent=!0,re.render=function(){return this.props.children};var P={current:null},O=Object.prototype.hasOwnProperty,de={key:!0,ref:!0,__self:!0,__source:!0};function ce(pe,Ee,We){var Ue,je={},qe=null,At=null;if(Ee!=null)for(Ue in Ee.ref!==void 0&&(At=Ee.ref),Ee.key!==void 0&&(qe=""+Ee.key),Ee)O.call(Ee,Ue)&&!de.hasOwnProperty(Ue)&&(je[Ue]=Ee[Ue]);var ct=arguments.length-2;if(ct===1)je.children=We;else if(1<ct){for(var lt=Array(ct),at=0;at<ct;at++)lt[at]=arguments[at+2];je.children=lt}if(pe&&pe.defaultProps)for(Ue in ct=pe.defaultProps)je[Ue]===void 0&&(je[Ue]=ct[Ue]);return{$$typeof:v,type:pe,key:qe,ref:At,props:je,_owner:P.current}}function ne(pe){return typeof pe=="object"&&pe!==null&&pe.$$typeof===v}var oe=/\/+/g,be=[];function Ie(pe,Ee,We,Ue){if(be.length){var je=be.pop();return je.result=pe,je.keyPrefix=Ee,je.func=We,je.context=Ue,je.count=0,je}return{result:pe,keyPrefix:Ee,func:We,context:Ue,count:0}}function Re(pe){pe.result=null,pe.keyPrefix=null,pe.func=null,pe.context=null,pe.count=0,10>be.length&&be.push(pe)}function ye(pe,Ee,We,Ue){var je=typeof pe;je!=="undefined"&&je!=="boolean"||(pe=null);var qe=!1;if(pe===null)qe=!0;else switch(je){case"string":case"number":qe=!0;break;case"object":switch(pe.$$typeof){case v:case x:case G:case B:qe=!0}}if(qe)return We(Ue,pe,Ee===""?"."+ve(pe,0):Ee),1;if(qe=0,Ee=Ee===""?".":Ee+":",Array.isArray(pe))for(var At=0;At<pe.length;At++){var ct=Ee+ve(je=pe[At],At);qe+=ye(je,ct,We,Ue)}else if(pe==null?ct=null:ct=typeof(ct=V&&pe[V]||pe["@@iterator"])=="function"?ct:null,typeof ct=="function")for(pe=ct.call(pe),At=0;!(je=pe.next()).done;)qe+=ye(je=je.value,ct=Ee+ve(je,At++),We,Ue);else je==="object"&&H("31",(We=""+pe)=="[object Object]"?"object with keys {"+Object.keys(pe).join(", ")+"}":We,"");return qe}function ve(pe,Ee){return typeof pe=="object"&&pe!==null&&pe.key!=null?function(We){var Ue={"=":"=0",":":"=2"};return"$"+(""+We).replace(/[=:]/g,function(je){return Ue[je]})}(pe.key):Ee.toString(36)}function fe(pe,Ee){pe.func.call(pe.context,Ee,pe.count++)}function Ge(pe,Ee,We){var Ue=pe.result,je=pe.keyPrefix;pe=pe.func.call(pe.context,Ee,pe.count++),Array.isArray(pe)?De(pe,Ue,We,C.thatReturnsArgument):pe!=null&&(ne(pe)&&(Ee=je+(!pe.key||Ee&&Ee.key===pe.key?"":(""+pe.key).replace(oe,"$&/")+"/")+We,pe={$$typeof:v,type:pe.type,key:Ee,ref:pe.ref,props:pe.props,_owner:pe._owner}),Ue.push(pe))}function De(pe,Ee,We,Ue,je){var qe="";We!=null&&(qe=(""+We).replace(oe,"$&/")+"/"),Ee=Ie(Ee,qe,Ue,je),pe==null||ye(pe,"",Ge,Ee),Re(Ee)}var Pe={Children:{map:function(pe,Ee,We){if(pe==null)return pe;var Ue=[];return De(pe,Ue,null,Ee,We),Ue},forEach:function(pe,Ee,We){if(pe==null)return pe;Ee=Ie(null,null,Ee,We),pe==null||ye(pe,"",fe,Ee),Re(Ee)},count:function(pe){return pe==null?0:ye(pe,"",C.thatReturnsNull,null)},toArray:function(pe){var Ee=[];return De(pe,Ee,null,C.thatReturnsArgument),Ee},only:function(pe){return ne(pe)||H("143"),pe}},Component:L,PureComponent:_,unstable_AsyncComponent:j,Fragment:R,createElement:ce,cloneElement:function(pe,Ee,We){var Ue=c({},pe.props),je=pe.key,qe=pe.ref,At=pe._owner;if(Ee!=null){if(Ee.ref!==void 0&&(qe=Ee.ref,At=P.current),Ee.key!==void 0&&(je=""+Ee.key),pe.type&&pe.type.defaultProps)var ct=pe.type.defaultProps;for(lt in Ee)O.call(Ee,lt)&&!de.hasOwnProperty(lt)&&(Ue[lt]=Ee[lt]===void 0&&ct!==void 0?ct[lt]:Ee[lt])}var lt=arguments.length-2;if(lt===1)Ue.children=We;else if(1<lt){ct=Array(lt);for(var at=0;at<lt;at++)ct[at]=arguments[at+2];Ue.children=ct}return{$$typeof:v,type:pe.type,key:je,ref:qe,props:Ue,_owner:At}},createFactory:function(pe){var Ee=ce.bind(null,pe);return Ee.type=pe,Ee},isValidElement:ne,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:P,assign:c}},me=Object.freeze({default:Pe}),_e=me&&Pe||me;i.exports=_e.default?_e.default:_e},function(i,o,s){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;function m(v){if(v==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(v)}i.exports=function(){try{if(!Object.assign)return!1;var v=new String("abc");if(v[5]="de",Object.getOwnPropertyNames(v)[0]==="5")return!1;for(var x={},G=0;G<10;G++)x["_"+String.fromCharCode(G)]=G;if(Object.getOwnPropertyNames(x).map(function(R){return x[R]}).join("")!=="0123456789")return!1;var B={};return"abcdefghijklmnopqrst".split("").forEach(function(R){B[R]=R}),Object.keys(Object.assign({},B)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(v,x){for(var G,B,R=m(v),V=1;V<arguments.length;V++){for(var H in G=Object(arguments[V]))u.call(G,H)&&(R[H]=G[H]);if(c){B=c(G);for(var M=0;M<B.length;M++)C.call(G,B[M])&&(R[B[M]]=G[B[M]])}}return R}},function(i,o,s){i.exports={}},function(i,o,s){Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function R(V,H){for(var M=0;M<H.length;M++){var L=H[M];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(V,L.key,L)}}return function(V,H,M){return H&&R(V.prototype,H),M&&R(V,M),V}}(),u=v(s(0)),C=s(2),m=v(C);function v(R){return R&&R.__esModule?R:{default:R}}var x={padding:0,margin:"0 2px",textAlign:"center",border:"1px solid",background:"transparent",width:"50px",height:"50px"},G={outline:"none",boxShadow:"none"},B=function(R){function V(H){(function(L,_){if(!(L instanceof _))throw new TypeError("Cannot call a class as a function")})(this,V);var M=function(L,_){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?L:_}(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,H));return M.state={value:M.validate(H.initialValue),showSecret:M.props.secret,focus:!1},M.onChange=M.onChange.bind(M),M.onKeyDown=M.onKeyDown.bind(M),M.onFocus=M.onFocus.bind(M),M.onBlur=M.onBlur.bind(M),M.onPaste=M.onPaste.bind(M),M.secretTimeout=null,M.inputTimeout=null,M}return function(H,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);H.prototype=Object.create(M&&M.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(H,M):H.__proto__=M)}(V,R),c(V,[{key:"componentWillUnmount",value:function(){clearTimeout(this.secretTimeout),clearTimeout(this.inputTimeout)}},{key:"onKeyDown",value:function(H){H.keyCode!==8||this.state.value&&this.state.value.length||this.props.onBackspace()}},{key:"clear",value:function(){this.setState({value:""})}},{key:"setSecretDelayed",value:function(H){var M=this;this.setState({showSecret:!1}),this.secretTimeout=setTimeout(function(){M.setState({showSecret:!!H})},this.props.secretDelay)}},{key:"update",value:function(H){var M=this,L=arguments.length>1&&arguments[1]!==void 0&&arguments[1],_=this.validate(H);(this.state.value!==_||L)&&_.length<2&&(this.setState({value:_}),this.inputTimeout=setTimeout(function(){M.props.onChange(_,L)},0))}},{key:"onChange",value:function(H){this.update(H.target.value)}},{key:"focus",value:function(){this.input.focus()}},{key:"onFocus",value:function(H){this.props.autoSelect&&H.target.select(),this.setState({focus:!0})}},{key:"onBlur",value:function(){this.setState({focus:!1})}},{key:"onPaste",value:function(H){if(this.props.onPaste){var M=H.clipboardData.getData("text");this.props.onPaste(M)}}},{key:"validate",value:function(H){if(this.props.secretDelay&&this.setSecretDelayed(H),this.props.validate)return this.props.validate(H);if(this.props.type==="numeric"){var M=H.charCodeAt(0);return M>=48&&M<=57?H:""}return this.props.regexCriteria.test(H)?H.toUpperCase():""}},{key:"render",value:function(){var H=this,M=this.state,L=M.focus,_=M.value,X=this.props,Q=X.type,j=X.inputMode,re=X.inputStyle,P=X.inputFocusStyle,O=Q==="numeric"?"tel":Q||"text";return m.default.createElement("input",{disabled:this.props.disabled?"disabled":void 0,className:"pincode-input-text",onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:this.props.placeholder?this.props.placeholder:_,"aria-label":this.props.ariaLabel?this.props.ariaLabel:_,maxLength:"1",autoComplete:"off",type:this.state.showSecret?"password":O,inputMode:j||"text",pattern:this.props.type==="numeric"?"[0-9]*":"^[a-zA-Z0-9]+$",ref:function(de){return H.input=de},onFocus:this.onFocus,onBlur:this.onBlur,onPaste:this.onPaste,style:Object.assign({},x,re,L?Object.assign({},G,P):{}),value:_})}}]),V}(C.Component);B.propTypes={initialValue:u.default.string,onChange:u.default.func.isRequired,onBackspace:u.default.func.isRequired,onPaste:u.default.func,secret:u.default.bool,secretDelay:u.default.number,disabled:u.default.bool,type:u.default.string,inputMode:u.default.string,validate:u.default.func,inputStyle:u.default.object.isRequired,inputFocusStyle:u.default.object.isRequired,autoSelect:u.default.bool,regexCriteria:u.default.any,ariaLabel:u.default.string,placeholder:u.default.string},B.defaultProps={secret:!1,type:"numeric",inputMode:void 0,disabled:!1,validate:void 0,autoSelect:!1,onPaste:void 0,regexCriteria:/^[a-zA-Z0-9]+$/,ariaLabel:"",placeholder:""},o.default=B}])})})(WU);var lwe=WU.exports;const cwe=Ik(lwe),gwe=e=>{const t=le.useRef(null);return le.useEffect(()=>{e.clear&&t.current&&t.current.clear()},[e.clear]),y.jsx(cwe,{ref:t,length:6,initialValue:e.value,onChange:i=>e.onChange(i),type:"numeric",inputMode:"numeric",style:{padding:"18px",display:"flex",justifyContent:"space-evenly",gap:"5px"},inputStyle:{borderColor:"#e5e7eb",borderWidth:"2px",borderRadius:"6px"},inputFocusStyle:{borderColor:"#6b7280"},onComplete:e.onComplete,autoSelect:!0,regexCriteria:/^[ A-Za-z0-9_@./#&+-]*$/})},dwe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%236b7280'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-eye'%3e%3cpath%20d='M2%2012s3-7%2010-7%2010%207%2010%207-3%207-10%207-10-7-10-7Z'/%3e%3ccircle%20cx='12'%20cy='12'%20r='3'/%3e%3c/svg%3e",Awe="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%236b7280'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-eye-off'%3e%3cpath%20d='M9.88%209.88a3%203%200%201%200%204.24%204.24'/%3e%3cpath%20d='M10.73%205.08A10.43%2010.43%200%200%201%2012%205c7%200%2010%207%2010%207a13.16%2013.16%200%200%201-1.67%202.68'/%3e%3cpath%20d='M6.61%206.61A13.526%2013.526%200%200%200%202%2012s3%207%2010%207a9.74%209.74%200%200%200%205.39-1.61'/%3e%3cline%20x1='2'%20x2='22'%20y1='2'%20y2='22'/%3e%3c/svg%3e",uwe=({password:e,evaluate:t})=>{const o=(c=>{let u=0;return c&&(c.length>=8&&(u+=1),/[!@#$%^&*(),.?":{}|<>]/.test(c)&&(u+=1),/[A-Z]/.test(c)&&(u+=1),/[a-z]/.test(c)&&(u+=1),/[0-9]/.test(c)&&(u+=1)),u})(e),s={1:"w-1/4 bg-red-600",2:"w-2/4 bg-orange-500",3:"w-3/4 bg-yellow-400",4:"bg-green-500",5:"bg-green-500",6:"bg-green-500"};return t&&y.jsxs("div",{className:"relative px-1 w-full -mt-1",children:[y.jsx("div",{className:`h-1 rounded-full transition-all ease-in-out duration-300 ${s[o]}`}),y.jsx("div",{className:"absolute pl-1.5 py-1 -top-10 right-2 bg-white z-10 font-normal text-gray-500 text-sm",children:o>=4?"Very Strong":o>=3?"Strong":o>=2?"Average":o>=1?"Weak":""})]})},Xp=e=>{const[t,i]=le.useState(!1),o=()=>{i(!t)};return y.jsxs("div",{className:"w-full flex flex-col font-medium gap-2 text-gray-800",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("label",{htmlFor:e.id,className:"font-semibold",children:e.label}),y.jsx("div",{className:"px-1.5",onClick:o,children:t?y.jsx("img",{src:Awe,alt:"eye-off"}):y.jsx("img",{src:dwe,alt:"eye"})})]}),y.jsx("input",{type:t?"text":"password",name:e.name,id:e.id,className:`w-full py-2.5 px-6 border rounded-lg placeholder:text-sm placeholder:font-normal  ${e.error?"border-red-500 animate-shake outline-red-400 placeholder:text-red-500":"border-gray-300 outline-gray-400"}`,placeholder:e.placeholder,onChange:e.onchange,value:e.value}),e.error?y.jsx("div",{className:"text-red-500 text-xs font-semibold text-end -mt-2 animate-shake",children:e.errorMsg}):y.jsx(uwe,{password:e.value,evaluate:e.evaluate})]})};function HU(e,t){return function(){return e.apply(t,arguments)}}const{toString:hwe}=Object.prototype,{getPrototypeOf:JR}=Object,Tk=(e=>t=>{const i=hwe.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Gc=e=>(e=e.toLowerCase(),t=>Tk(t)===e),Lk=e=>t=>typeof t===e,{isArray:iC}=Array,ib=Lk("undefined");function mwe(e){return e!==null&&!ib(e)&&e.constructor!==null&&!ib(e.constructor)&&Hl(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const DU=Gc("ArrayBuffer");function pwe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&DU(e.buffer),t}const Cwe=Lk("string"),Hl=Lk("function"),TU=Lk("number"),Xk=e=>e!==null&&typeof e=="object",fwe=e=>e===!0||e===!1,Hv=e=>{if(Tk(e)!=="object")return!1;const t=JR(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Iwe=Gc("Date"),bwe=Gc("File"),ywe=Gc("Blob"),vwe=Gc("FileList"),wwe=e=>Xk(e)&&Hl(e.pipe),kwe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Hl(e.append)&&((t=Tk(e))==="formdata"||t==="object"&&Hl(e.toString)&&e.toString()==="[object FormData]"))},Bwe=Gc("URLSearchParams"),[xwe,Swe,Zwe,Gwe]=["ReadableStream","Request","Response","Headers"].map(Gc),Rwe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nb(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let o,s;if(typeof e!="object"&&(e=[e]),iC(e))for(o=0,s=e.length;o<s;o++)t.call(null,e[o],o,e);else{const c=i?Object.getOwnPropertyNames(e):Object.keys(e),u=c.length;let C;for(o=0;o<u;o++)C=c[o],t.call(null,e[C],C,e)}}function LU(e,t){t=t.toLowerCase();const i=Object.keys(e);let o=i.length,s;for(;o-- >0;)if(s=i[o],t===s.toLowerCase())return s;return null}const XU=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MU=e=>!ib(e)&&e!==XU;function iZ(){const{caseless:e}=MU(this)&&this||{},t={},i=(o,s)=>{const c=e&&LU(t,s)||s;Hv(t[c])&&Hv(o)?t[c]=iZ(t[c],o):Hv(o)?t[c]=iZ({},o):iC(o)?t[c]=o.slice():t[c]=o};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&Nb(arguments[o],i);return t}const Nwe=(e,t,i,{allOwnKeys:o}={})=>(Nb(t,(s,c)=>{i&&Hl(s)?e[c]=HU(s,i):e[c]=s},{allOwnKeys:o}),e),_we=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Vwe=(e,t,i,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},Ewe=(e,t,i,o)=>{let s,c,u;const C={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),c=s.length;c-- >0;)u=s[c],(!o||o(u,e,t))&&!C[u]&&(t[u]=e[u],C[u]=!0);e=i!==!1&&JR(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},Fwe=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const o=e.indexOf(t,i);return o!==-1&&o===i},Wwe=e=>{if(!e)return null;if(iC(e))return e;let t=e.length;if(!TU(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},Hwe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&JR(Uint8Array)),Dwe=(e,t)=>{const o=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=o.next())&&!s.done;){const c=s.value;t.call(e,c[0],c[1])}},Twe=(e,t)=>{let i;const o=[];for(;(i=e.exec(t))!==null;)o.push(i);return o},Lwe=Gc("HTMLFormElement"),Xwe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,s){return o.toUpperCase()+s}),aL=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),Mwe=Gc("RegExp"),YU=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),o={};Nb(i,(s,c)=>{let u;(u=t(s,c,e))!==!1&&(o[c]=u||s)}),Object.defineProperties(e,o)},Ywe=e=>{YU(e,(t,i)=>{if(Hl(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=e[i];if(Hl(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},Jwe=(e,t)=>{const i={},o=s=>{s.forEach(c=>{i[c]=!0})};return iC(e)?o(e):o(String(e).split(t)),i},Uwe=()=>{},Pwe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Ux="abcdefghijklmnopqrstuvwxyz",lL="0123456789",JU={DIGIT:lL,ALPHA:Ux,ALPHA_DIGIT:Ux+Ux.toUpperCase()+lL},Kwe=(e=16,t=JU.ALPHA_DIGIT)=>{let i="";const{length:o}=t;for(;e--;)i+=t[Math.random()*o|0];return i};function zwe(e){return!!(e&&Hl(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Qwe=e=>{const t=new Array(10),i=(o,s)=>{if(Xk(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[s]=o;const c=iC(o)?[]:{};return Nb(o,(u,C)=>{const m=i(u,s+1);!ib(m)&&(c[C]=m)}),t[s]=void 0,c}}return o};return i(e,0)},jwe=Gc("AsyncFunction"),Owe=e=>e&&(Xk(e)||Hl(e))&&Hl(e.then)&&Hl(e.catch),Ft={isArray:iC,isArrayBuffer:DU,isBuffer:mwe,isFormData:kwe,isArrayBufferView:pwe,isString:Cwe,isNumber:TU,isBoolean:fwe,isObject:Xk,isPlainObject:Hv,isReadableStream:xwe,isRequest:Swe,isResponse:Zwe,isHeaders:Gwe,isUndefined:ib,isDate:Iwe,isFile:bwe,isBlob:ywe,isRegExp:Mwe,isFunction:Hl,isStream:wwe,isURLSearchParams:Bwe,isTypedArray:Hwe,isFileList:vwe,forEach:Nb,merge:iZ,extend:Nwe,trim:Rwe,stripBOM:_we,inherits:Vwe,toFlatObject:Ewe,kindOf:Tk,kindOfTest:Gc,endsWith:Fwe,toArray:Wwe,forEachEntry:Dwe,matchAll:Twe,isHTMLForm:Lwe,hasOwnProperty:aL,hasOwnProp:aL,reduceDescriptors:YU,freezeMethods:Ywe,toObjectSet:Jwe,toCamelCase:Xwe,noop:Uwe,toFiniteNumber:Pwe,findKey:LU,global:XU,isContextDefined:MU,ALPHABET:JU,generateString:Kwe,isSpecCompliantForm:zwe,toJSONObject:Qwe,isAsyncFn:jwe,isThenable:Owe};function zn(e,t,i,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),o&&(this.request=o),s&&(this.response=s)}Ft.inherits(zn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ft.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const UU=zn.prototype,PU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{PU[e]={value:e}});Object.defineProperties(zn,PU);Object.defineProperty(UU,"isAxiosError",{value:!0});zn.from=(e,t,i,o,s,c)=>{const u=Object.create(UU);return Ft.toFlatObject(e,u,function(m){return m!==Error.prototype},C=>C!=="isAxiosError"),zn.call(u,e.message,t,i,o,s),u.cause=e,u.name=e.name,c&&Object.assign(u,c),u};const qwe=null;function rZ(e){return Ft.isPlainObject(e)||Ft.isArray(e)}function KU(e){return Ft.endsWith(e,"[]")?e.slice(0,-2):e}function cL(e,t,i){return e?e.concat(t).map(function(s,c){return s=KU(s),!i&&c?"["+s+"]":s}).join(i?".":""):t}function $we(e){return Ft.isArray(e)&&!e.some(rZ)}const eke=Ft.toFlatObject(Ft,{},null,function(t){return/^is[A-Z]/.test(t)});function Mk(e,t,i){if(!Ft.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=Ft.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(H,M){return!Ft.isUndefined(M[H])});const o=i.metaTokens,s=i.visitor||x,c=i.dots,u=i.indexes,m=(i.Blob||typeof Blob<"u"&&Blob)&&Ft.isSpecCompliantForm(t);if(!Ft.isFunction(s))throw new TypeError("visitor must be a function");function v(V){if(V===null)return"";if(Ft.isDate(V))return V.toISOString();if(!m&&Ft.isBlob(V))throw new zn("Blob is not supported. Use a Buffer instead.");return Ft.isArrayBuffer(V)||Ft.isTypedArray(V)?m&&typeof Blob=="function"?new Blob([V]):Buffer.from(V):V}function x(V,H,M){let L=V;if(V&&!M&&typeof V=="object"){if(Ft.endsWith(H,"{}"))H=o?H:H.slice(0,-2),V=JSON.stringify(V);else if(Ft.isArray(V)&&$we(V)||(Ft.isFileList(V)||Ft.endsWith(H,"[]"))&&(L=Ft.toArray(V)))return H=KU(H),L.forEach(function(X,Q){!(Ft.isUndefined(X)||X===null)&&t.append(u===!0?cL([H],Q,c):u===null?H:H+"[]",v(X))}),!1}return rZ(V)?!0:(t.append(cL(M,H,c),v(V)),!1)}const G=[],B=Object.assign(eke,{defaultVisitor:x,convertValue:v,isVisitable:rZ});function R(V,H){if(!Ft.isUndefined(V)){if(G.indexOf(V)!==-1)throw Error("Circular reference detected in "+H.join("."));G.push(V),Ft.forEach(V,function(L,_){(!(Ft.isUndefined(L)||L===null)&&s.call(t,L,Ft.isString(_)?_.trim():_,H,B))===!0&&R(L,H?H.concat(_):[_])}),G.pop()}}if(!Ft.isObject(e))throw new TypeError("data must be an object");return R(e),t}function gL(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function UR(e,t){this._pairs=[],e&&Mk(e,this,t)}const zU=UR.prototype;zU.append=function(t,i){this._pairs.push([t,i])};zU.toString=function(t){const i=t?function(o){return t.call(this,o,gL)}:gL;return this._pairs.map(function(s){return i(s[0])+"="+i(s[1])},"").join("&")};function tke(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function QU(e,t,i){if(!t)return e;const o=i&&i.encode||tke,s=i&&i.serialize;let c;if(s?c=s(t,i):c=Ft.isURLSearchParams(t)?t.toString():new UR(t,i).toString(o),c){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class dL{constructor(){this.handlers=[]}use(t,i,o){return this.handlers.push({fulfilled:t,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ft.forEach(this.handlers,function(o){o!==null&&t(o)})}}const jU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nke=typeof URLSearchParams<"u"?URLSearchParams:UR,ike=typeof FormData<"u"?FormData:null,rke=typeof Blob<"u"?Blob:null,oke={isBrowser:!0,classes:{URLSearchParams:nke,FormData:ike,Blob:rke},protocols:["http","https","file","blob","url","data"]},PR=typeof window<"u"&&typeof document<"u",ske=(e=>PR&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),ake=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",lke=PR&&window.location.href||"http://localhost",cke=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:PR,hasStandardBrowserEnv:ske,hasStandardBrowserWebWorkerEnv:ake,origin:lke},Symbol.toStringTag,{value:"Module"})),vc={...cke,...oke};function gke(e,t){return Mk(e,new vc.classes.URLSearchParams,Object.assign({visitor:function(i,o,s,c){return vc.isNode&&Ft.isBuffer(i)?(this.append(o,i.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},t))}function dke(e){return Ft.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ake(e){const t={},i=Object.keys(e);let o;const s=i.length;let c;for(o=0;o<s;o++)c=i[o],t[c]=e[c];return t}function OU(e){function t(i,o,s,c){let u=i[c++];if(u==="__proto__")return!0;const C=Number.isFinite(+u),m=c>=i.length;return u=!u&&Ft.isArray(s)?s.length:u,m?(Ft.hasOwnProp(s,u)?s[u]=[s[u],o]:s[u]=o,!C):((!s[u]||!Ft.isObject(s[u]))&&(s[u]=[]),t(i,o,s[u],c)&&Ft.isArray(s[u])&&(s[u]=Ake(s[u])),!C)}if(Ft.isFormData(e)&&Ft.isFunction(e.entries)){const i={};return Ft.forEachEntry(e,(o,s)=>{t(dke(o),s,i,0)}),i}return null}function uke(e,t,i){if(Ft.isString(e))try{return(t||JSON.parse)(e),Ft.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(e)}const _b={transitional:jU,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const o=i.getContentType()||"",s=o.indexOf("application/json")>-1,c=Ft.isObject(t);if(c&&Ft.isHTMLForm(t)&&(t=new FormData(t)),Ft.isFormData(t))return s?JSON.stringify(OU(t)):t;if(Ft.isArrayBuffer(t)||Ft.isBuffer(t)||Ft.isStream(t)||Ft.isFile(t)||Ft.isBlob(t)||Ft.isReadableStream(t))return t;if(Ft.isArrayBufferView(t))return t.buffer;if(Ft.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let C;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return gke(t,this.formSerializer).toString();if((C=Ft.isFileList(t))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Mk(C?{"files[]":t}:t,m&&new m,this.formSerializer)}}return c||s?(i.setContentType("application/json",!1),uke(t)):t}],transformResponse:[function(t){const i=this.transitional||_b.transitional,o=i&&i.forcedJSONParsing,s=this.responseType==="json";if(Ft.isResponse(t)||Ft.isReadableStream(t))return t;if(t&&Ft.isString(t)&&(o&&!this.responseType||s)){const u=!(i&&i.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(C){if(u)throw C.name==="SyntaxError"?zn.from(C,zn.ERR_BAD_RESPONSE,this,null,this.response):C}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vc.classes.FormData,Blob:vc.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ft.forEach(["delete","get","head","post","put","patch"],e=>{_b.headers[e]={}});const hke=Ft.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mke=e=>{const t={};let i,o,s;return e&&e.split(`
`).forEach(function(u){s=u.indexOf(":"),i=u.substring(0,s).trim().toLowerCase(),o=u.substring(s+1).trim(),!(!i||t[i]&&hke[i])&&(i==="set-cookie"?t[i]?t[i].push(o):t[i]=[o]:t[i]=t[i]?t[i]+", "+o:o)}),t},AL=Symbol("internals");function kf(e){return e&&String(e).trim().toLowerCase()}function Dv(e){return e===!1||e==null?e:Ft.isArray(e)?e.map(Dv):String(e)}function pke(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(e);)t[o[1]]=o[2];return t}const Cke=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Px(e,t,i,o,s){if(Ft.isFunction(o))return o.call(this,t,i);if(s&&(t=i),!!Ft.isString(t)){if(Ft.isString(o))return t.indexOf(o)!==-1;if(Ft.isRegExp(o))return o.test(t)}}function fke(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,o)=>i.toUpperCase()+o)}function Ike(e,t){const i=Ft.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+i,{value:function(s,c,u){return this[o].call(this,t,s,c,u)},configurable:!0})})}class va{constructor(t){t&&this.set(t)}set(t,i,o){const s=this;function c(C,m,v){const x=kf(m);if(!x)throw new Error("header name must be a non-empty string");const G=Ft.findKey(s,x);(!G||s[G]===void 0||v===!0||v===void 0&&s[G]!==!1)&&(s[G||m]=Dv(C))}const u=(C,m)=>Ft.forEach(C,(v,x)=>c(v,x,m));if(Ft.isPlainObject(t)||t instanceof this.constructor)u(t,i);else if(Ft.isString(t)&&(t=t.trim())&&!Cke(t))u(mke(t),i);else if(Ft.isHeaders(t))for(const[C,m]of t.entries())c(m,C,o);else t!=null&&c(i,t,o);return this}get(t,i){if(t=kf(t),t){const o=Ft.findKey(this,t);if(o){const s=this[o];if(!i)return s;if(i===!0)return pke(s);if(Ft.isFunction(i))return i.call(this,s,o);if(Ft.isRegExp(i))return i.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=kf(t),t){const o=Ft.findKey(this,t);return!!(o&&this[o]!==void 0&&(!i||Px(this,this[o],o,i)))}return!1}delete(t,i){const o=this;let s=!1;function c(u){if(u=kf(u),u){const C=Ft.findKey(o,u);C&&(!i||Px(o,o[C],C,i))&&(delete o[C],s=!0)}}return Ft.isArray(t)?t.forEach(c):c(t),s}clear(t){const i=Object.keys(this);let o=i.length,s=!1;for(;o--;){const c=i[o];(!t||Px(this,this[c],c,t,!0))&&(delete this[c],s=!0)}return s}normalize(t){const i=this,o={};return Ft.forEach(this,(s,c)=>{const u=Ft.findKey(o,c);if(u){i[u]=Dv(s),delete i[c];return}const C=t?fke(c):String(c).trim();C!==c&&delete i[c],i[C]=Dv(s),o[C]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return Ft.forEach(this,(o,s)=>{o!=null&&o!==!1&&(i[s]=t&&Ft.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const o=new this(t);return i.forEach(s=>o.set(s)),o}static accessor(t){const o=(this[AL]=this[AL]={accessors:{}}).accessors,s=this.prototype;function c(u){const C=kf(u);o[C]||(Ike(s,u),o[C]=!0)}return Ft.isArray(t)?t.forEach(c):c(t),this}}va.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ft.reduceDescriptors(va.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[i]=o}}});Ft.freezeMethods(va);function Kx(e,t){const i=this||_b,o=t||i,s=va.from(o.headers);let c=o.data;return Ft.forEach(e,function(C){c=C.call(i,c,s.normalize(),t?t.status:void 0)}),s.normalize(),c}function qU(e){return!!(e&&e.__CANCEL__)}function rC(e,t,i){zn.call(this,e??"canceled",zn.ERR_CANCELED,t,i),this.name="CanceledError"}Ft.inherits(rC,zn,{__CANCEL__:!0});function $U(e,t,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?e(i):t(new zn("Request failed with status code "+i.status,[zn.ERR_BAD_REQUEST,zn.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function bke(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function yke(e,t){e=e||10;const i=new Array(e),o=new Array(e);let s=0,c=0,u;return t=t!==void 0?t:1e3,function(m){const v=Date.now(),x=o[c];u||(u=v),i[s]=m,o[s]=v;let G=c,B=0;for(;G!==s;)B+=i[G++],G=G%e;if(s=(s+1)%e,s===c&&(c=(c+1)%e),v-u<t)return;const R=x&&v-x;return R?Math.round(B*1e3/R):void 0}}function vke(e,t){let i=0;const o=1e3/t;let s=null;return function(){const u=this===!0,C=Date.now();if(u||C-i>o)return s&&(clearTimeout(s),s=null),i=C,e.apply(null,arguments);s||(s=setTimeout(()=>(s=null,i=Date.now(),e.apply(null,arguments)),o-(C-i)))}}const Dw=(e,t,i=3)=>{let o=0;const s=yke(50,250);return vke(c=>{const u=c.loaded,C=c.lengthComputable?c.total:void 0,m=u-o,v=s(m),x=u<=C;o=u;const G={loaded:u,total:C,progress:C?u/C:void 0,bytes:m,rate:v||void 0,estimated:v&&C&&x?(C-u)/v:void 0,event:c,lengthComputable:C!=null};G[t?"download":"upload"]=!0,e(G)},i)},wke=vc.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");let o;function s(c){let u=c;return t&&(i.setAttribute("href",u),u=i.href),i.setAttribute("href",u),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return o=s(window.location.href),function(u){const C=Ft.isString(u)?s(u):u;return C.protocol===o.protocol&&C.host===o.host}}():function(){return function(){return!0}}(),kke=vc.hasStandardBrowserEnv?{write(e,t,i,o,s,c){const u=[e+"="+encodeURIComponent(t)];Ft.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),Ft.isString(o)&&u.push("path="+o),Ft.isString(s)&&u.push("domain="+s),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Bke(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xke(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function eP(e,t){return e&&!Bke(t)?xke(e,t):t}const uL=e=>e instanceof va?{...e}:e;function xh(e,t){t=t||{};const i={};function o(v,x,G){return Ft.isPlainObject(v)&&Ft.isPlainObject(x)?Ft.merge.call({caseless:G},v,x):Ft.isPlainObject(x)?Ft.merge({},x):Ft.isArray(x)?x.slice():x}function s(v,x,G){if(Ft.isUndefined(x)){if(!Ft.isUndefined(v))return o(void 0,v,G)}else return o(v,x,G)}function c(v,x){if(!Ft.isUndefined(x))return o(void 0,x)}function u(v,x){if(Ft.isUndefined(x)){if(!Ft.isUndefined(v))return o(void 0,v)}else return o(void 0,x)}function C(v,x,G){if(G in t)return o(v,x);if(G in e)return o(void 0,v)}const m={url:c,method:c,data:c,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:C,headers:(v,x)=>s(uL(v),uL(x),!0)};return Ft.forEach(Object.keys(Object.assign({},e,t)),function(x){const G=m[x]||s,B=G(e[x],t[x],x);Ft.isUndefined(B)&&G!==C||(i[x]=B)}),i}const tP=e=>{const t=xh({},e);let{data:i,withXSRFToken:o,xsrfHeaderName:s,xsrfCookieName:c,headers:u,auth:C}=t;t.headers=u=va.from(u),t.url=QU(eP(t.baseURL,t.url),e.params,e.paramsSerializer),C&&u.set("Authorization","Basic "+btoa((C.username||"")+":"+(C.password?unescape(encodeURIComponent(C.password)):"")));let m;if(Ft.isFormData(i)){if(vc.hasStandardBrowserEnv||vc.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((m=u.getContentType())!==!1){const[v,...x]=m?m.split(";").map(G=>G.trim()).filter(Boolean):[];u.setContentType([v||"multipart/form-data",...x].join("; "))}}if(vc.hasStandardBrowserEnv&&(o&&Ft.isFunction(o)&&(o=o(t)),o||o!==!1&&wke(t.url))){const v=s&&c&&kke.read(c);v&&u.set(s,v)}return t},Ske=typeof XMLHttpRequest<"u",Zke=Ske&&function(e){return new Promise(function(i,o){const s=tP(e);let c=s.data;const u=va.from(s.headers).normalize();let{responseType:C}=s,m;function v(){s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function G(){if(!x)return;const R=va.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),H={data:!C||C==="text"||C==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:R,config:e,request:x};$U(function(L){i(L),v()},function(L){o(L),v()},H),x=null}"onloadend"in x?x.onloadend=G:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(G)},x.onabort=function(){x&&(o(new zn("Request aborted",zn.ECONNABORTED,s,x)),x=null)},x.onerror=function(){o(new zn("Network Error",zn.ERR_NETWORK,s,x)),x=null},x.ontimeout=function(){let V=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const H=s.transitional||jU;s.timeoutErrorMessage&&(V=s.timeoutErrorMessage),o(new zn(V,H.clarifyTimeoutError?zn.ETIMEDOUT:zn.ECONNABORTED,s,x)),x=null},c===void 0&&u.setContentType(null),"setRequestHeader"in x&&Ft.forEach(u.toJSON(),function(V,H){x.setRequestHeader(H,V)}),Ft.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),C&&C!=="json"&&(x.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&x.addEventListener("progress",Dw(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",Dw(s.onUploadProgress)),(s.cancelToken||s.signal)&&(m=R=>{x&&(o(!R||R.type?new rC(null,e,x):R),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const B=bke(s.url);if(B&&vc.protocols.indexOf(B)===-1){o(new zn("Unsupported protocol "+B+":",zn.ERR_BAD_REQUEST,e));return}x.send(c||null)})},Gke=(e,t)=>{let i=new AbortController,o;const s=function(m){if(!o){o=!0,u();const v=m instanceof Error?m:this.reason;i.abort(v instanceof zn?v:new rC(v instanceof Error?v.message:v))}};let c=t&&setTimeout(()=>{s(new zn(`timeout ${t} of ms exceeded`,zn.ETIMEDOUT))},t);const u=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(m=>{m&&(m.removeEventListener?m.removeEventListener("abort",s):m.unsubscribe(s))}),e=null)};e.forEach(m=>m&&m.addEventListener&&m.addEventListener("abort",s));const{signal:C}=i;return C.unsubscribe=u,[C,()=>{c&&clearTimeout(c),c=null}]},Rke=function*(e,t){let i=e.byteLength;if(!t||i<t){yield e;return}let o=0,s;for(;o<i;)s=o+t,yield e.slice(o,s),o=s},Nke=async function*(e,t,i){for await(const o of e)yield*Rke(ArrayBuffer.isView(o)?o:await i(String(o)),t)},hL=(e,t,i,o,s)=>{const c=Nke(e,t,s);let u=0;return new ReadableStream({type:"bytes",async pull(C){const{done:m,value:v}=await c.next();if(m){C.close(),o();return}let x=v.byteLength;i&&i(u+=x),C.enqueue(new Uint8Array(v))},cancel(C){return o(C),c.return()}},{highWaterMark:2})},mL=(e,t)=>{const i=e!=null;return o=>setTimeout(()=>t({lengthComputable:i,total:e,loaded:o}))},Yk=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nP=Yk&&typeof ReadableStream=="function",oZ=Yk&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),_ke=nP&&(()=>{let e=!1;const t=new Request(vc.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),pL=64*1024,sZ=nP&&!!(()=>{try{return Ft.isReadableStream(new Response("").body)}catch{}})(),Tw={stream:sZ&&(e=>e.body)};Yk&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Tw[t]&&(Tw[t]=Ft.isFunction(e[t])?i=>i[t]():(i,o)=>{throw new zn(`Response type '${t}' is not supported`,zn.ERR_NOT_SUPPORT,o)})})})(new Response);const Vke=async e=>{if(e==null)return 0;if(Ft.isBlob(e))return e.size;if(Ft.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(Ft.isArrayBufferView(e))return e.byteLength;if(Ft.isURLSearchParams(e)&&(e=e+""),Ft.isString(e))return(await oZ(e)).byteLength},Eke=async(e,t)=>{const i=Ft.toFiniteNumber(e.getContentLength());return i??Vke(t)},Fke=Yk&&(async e=>{let{url:t,method:i,data:o,signal:s,cancelToken:c,timeout:u,onDownloadProgress:C,onUploadProgress:m,responseType:v,headers:x,withCredentials:G="same-origin",fetchOptions:B}=tP(e);v=v?(v+"").toLowerCase():"text";let[R,V]=s||c||u?Gke([s,c],u):[],H,M;const L=()=>{!H&&setTimeout(()=>{R&&R.unsubscribe()}),H=!0};let _;try{if(m&&_ke&&i!=="get"&&i!=="head"&&(_=await Eke(x,o))!==0){let re=new Request(t,{method:"POST",body:o,duplex:"half"}),P;Ft.isFormData(o)&&(P=re.headers.get("content-type"))&&x.setContentType(P),re.body&&(o=hL(re.body,pL,mL(_,Dw(m)),null,oZ))}Ft.isString(G)||(G=G?"cors":"omit"),M=new Request(t,{...B,signal:R,method:i.toUpperCase(),headers:x.normalize().toJSON(),body:o,duplex:"half",withCredentials:G});let X=await fetch(M);const Q=sZ&&(v==="stream"||v==="response");if(sZ&&(C||Q)){const re={};["status","statusText","headers"].forEach(O=>{re[O]=X[O]});const P=Ft.toFiniteNumber(X.headers.get("content-length"));X=new Response(hL(X.body,pL,C&&mL(P,Dw(C,!0)),Q&&L,oZ),re)}v=v||"text";let j=await Tw[Ft.findKey(Tw,v)||"text"](X,e);return!Q&&L(),V&&V(),await new Promise((re,P)=>{$U(re,P,{data:j,headers:va.from(X.headers),status:X.status,statusText:X.statusText,config:e,request:M})})}catch(X){throw L(),X&&X.name==="TypeError"&&/fetch/i.test(X.message)?Object.assign(new zn("Network Error",zn.ERR_NETWORK,e,M),{cause:X.cause||X}):zn.from(X,X&&X.code,e,M)}}),aZ={http:qwe,xhr:Zke,fetch:Fke};Ft.forEach(aZ,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const CL=e=>`- ${e}`,Wke=e=>Ft.isFunction(e)||e===null||e===!1,iP={getAdapter:e=>{e=Ft.isArray(e)?e:[e];const{length:t}=e;let i,o;const s={};for(let c=0;c<t;c++){i=e[c];let u;if(o=i,!Wke(i)&&(o=aZ[(u=String(i)).toLowerCase()],o===void 0))throw new zn(`Unknown adapter '${u}'`);if(o)break;s[u||"#"+c]=o}if(!o){const c=Object.entries(s).map(([C,m])=>`adapter ${C} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=t?c.length>1?`since :
`+c.map(CL).join(`
`):" "+CL(c[0]):"as no adapter specified";throw new zn("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return o},adapters:aZ};function zx(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new rC(null,e)}function fL(e){return zx(e),e.headers=va.from(e.headers),e.data=Kx.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),iP.getAdapter(e.adapter||_b.adapter)(e).then(function(o){return zx(e),o.data=Kx.call(e,e.transformResponse,o),o.headers=va.from(o.headers),o},function(o){return qU(o)||(zx(e),o&&o.response&&(o.response.data=Kx.call(e,e.transformResponse,o.response),o.response.headers=va.from(o.response.headers))),Promise.reject(o)})}const rP="1.7.2",KR={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{KR[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const IL={};KR.transitional=function(t,i,o){function s(c,u){return"[Axios v"+rP+"] Transitional option '"+c+"'"+u+(o?". "+o:"")}return(c,u,C)=>{if(t===!1)throw new zn(s(u," has been removed"+(i?" in "+i:"")),zn.ERR_DEPRECATED);return i&&!IL[u]&&(IL[u]=!0,console.warn(s(u," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(c,u,C):!0}};function Hke(e,t,i){if(typeof e!="object")throw new zn("options must be an object",zn.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let s=o.length;for(;s-- >0;){const c=o[s],u=t[c];if(u){const C=e[c],m=C===void 0||u(C,c,e);if(m!==!0)throw new zn("option "+c+" must be "+m,zn.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new zn("Unknown option "+c,zn.ERR_BAD_OPTION)}}const lZ={assertOptions:Hke,validators:KR},sA=lZ.validators;class ch{constructor(t){this.defaults=t,this.interceptors={request:new dL,response:new dL}}async request(t,i){try{return await this._request(t,i)}catch(o){if(o instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const c=s.stack?s.stack.replace(/^.+\n/,""):"";try{o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}catch{}}throw o}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=xh(this.defaults,i);const{transitional:o,paramsSerializer:s,headers:c}=i;o!==void 0&&lZ.assertOptions(o,{silentJSONParsing:sA.transitional(sA.boolean),forcedJSONParsing:sA.transitional(sA.boolean),clarifyTimeoutError:sA.transitional(sA.boolean)},!1),s!=null&&(Ft.isFunction(s)?i.paramsSerializer={serialize:s}:lZ.assertOptions(s,{encode:sA.function,serialize:sA.function},!0)),i.method=(i.method||this.defaults.method||"get").toLowerCase();let u=c&&Ft.merge(c.common,c[i.method]);c&&Ft.forEach(["delete","get","head","post","put","patch","common"],V=>{delete c[V]}),i.headers=va.concat(u,c);const C=[];let m=!0;this.interceptors.request.forEach(function(H){typeof H.runWhen=="function"&&H.runWhen(i)===!1||(m=m&&H.synchronous,C.unshift(H.fulfilled,H.rejected))});const v=[];this.interceptors.response.forEach(function(H){v.push(H.fulfilled,H.rejected)});let x,G=0,B;if(!m){const V=[fL.bind(this),void 0];for(V.unshift.apply(V,C),V.push.apply(V,v),B=V.length,x=Promise.resolve(i);G<B;)x=x.then(V[G++],V[G++]);return x}B=C.length;let R=i;for(G=0;G<B;){const V=C[G++],H=C[G++];try{R=V(R)}catch(M){H.call(this,M);break}}try{x=fL.call(this,R)}catch(V){return Promise.reject(V)}for(G=0,B=v.length;G<B;)x=x.then(v[G++],v[G++]);return x}getUri(t){t=xh(this.defaults,t);const i=eP(t.baseURL,t.url);return QU(i,t.params,t.paramsSerializer)}}Ft.forEach(["delete","get","head","options"],function(t){ch.prototype[t]=function(i,o){return this.request(xh(o||{},{method:t,url:i,data:(o||{}).data}))}});Ft.forEach(["post","put","patch"],function(t){function i(o){return function(c,u,C){return this.request(xh(C||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:u}))}}ch.prototype[t]=i(),ch.prototype[t+"Form"]=i(!0)});class zR{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(c){i=c});const o=this;this.promise.then(s=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](s);o._listeners=null}),this.promise.then=s=>{let c;const u=new Promise(C=>{o.subscribe(C),c=C}).then(s);return u.cancel=function(){o.unsubscribe(c)},u},t(function(c,u,C){o.reason||(o.reason=new rC(c,u,C),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}static source(){let t;return{token:new zR(function(s){t=s}),cancel:t}}}function Dke(e){return function(i){return e.apply(null,i)}}function Tke(e){return Ft.isObject(e)&&e.isAxiosError===!0}const cZ={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cZ).forEach(([e,t])=>{cZ[t]=e});function oP(e){const t=new ch(e),i=HU(ch.prototype.request,t);return Ft.extend(i,ch.prototype,t,{allOwnKeys:!0}),Ft.extend(i,t,null,{allOwnKeys:!0}),i.create=function(s){return oP(xh(e,s))},i}const Bo=oP(_b);Bo.Axios=ch;Bo.CanceledError=rC;Bo.CancelToken=zR;Bo.isCancel=qU;Bo.VERSION=rP;Bo.toFormData=Mk;Bo.AxiosError=zn;Bo.Cancel=Bo.CanceledError;Bo.all=function(t){return Promise.all(t)};Bo.spread=Dke;Bo.isAxiosError=Tke;Bo.mergeConfig=xh;Bo.AxiosHeaders=va;Bo.formToJSON=e=>OU(Ft.isHTMLForm(e)?new FormData(e):e);Bo.getAdapter=iP.getAdapter;Bo.HttpStatusCode=cZ;Bo.default=Bo;const mn=Bo.create({baseURL:"https://courtstar-platform-backend-production.up.railway.app/",headers:{"Content-Type":"application/json"}});mn.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));function sP(e){var t,i,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(i=sP(e[t]))&&(o&&(o+=" "),o+=i)}else for(i in e)e[i]&&(o&&(o+=" "),o+=i);return o}function li(){for(var e,t,i=0,o="",s=arguments.length;i<s;i++)(e=arguments[i])&&(t=sP(e))&&(o&&(o+=" "),o+=t);return o}const rb=e=>typeof e=="number"&&!isNaN(e),gh=e=>typeof e=="string",Qa=e=>typeof e=="function",Tv=e=>gh(e)||Qa(e)?e:null,gZ=e=>le.isValidElement(e)||gh(e)||Qa(e)||rb(e);function Lke(e,t,i){i===void 0&&(i=300);const{scrollHeight:o,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=o+"px",s.transition=`all ${i}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,i)})})}function Jk(e){let{enter:t,exit:i,appendPosition:o=!1,collapse:s=!0,collapseDuration:c=300}=e;return function(u){let{children:C,position:m,preventExitTransition:v,done:x,nodeRef:G,isIn:B,playToast:R}=u;const V=o?`${t}--${m}`:t,H=o?`${i}--${m}`:i,M=le.useRef(0);return le.useLayoutEffect(()=>{const L=G.current,_=V.split(" "),X=Q=>{Q.target===G.current&&(R(),L.removeEventListener("animationend",X),L.removeEventListener("animationcancel",X),M.current===0&&Q.type!=="animationcancel"&&L.classList.remove(..._))};L.classList.add(..._),L.addEventListener("animationend",X),L.addEventListener("animationcancel",X)},[]),le.useEffect(()=>{const L=G.current,_=()=>{L.removeEventListener("animationend",_),s?Lke(L,x,c):x()};B||(v?_():(M.current=1,L.className+=` ${H}`,L.addEventListener("animationend",_)))},[B]),ai.createElement(ai.Fragment,null,C)}}function bL(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const zs=new Map;let ob=[];const dZ=new Set,Xke=e=>dZ.forEach(t=>t(e)),aP=()=>zs.size>0;function lP(e,t){var i;if(t)return!((i=zs.get(t))==null||!i.isToastActive(e));let o=!1;return zs.forEach(s=>{s.isToastActive(e)&&(o=!0)}),o}function cP(e,t){gZ(e)&&(aP()||ob.push({content:e,options:t}),zs.forEach(i=>{i.buildToast(e,t)}))}function yL(e,t){zs.forEach(i=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===i.id&&i.toggle(e,t==null?void 0:t.id):i.toggle(e,t==null?void 0:t.id)})}function Mke(e){const{subscribe:t,getSnapshot:i,setProps:o}=le.useRef(function(c){const u=c.containerId||1;return{subscribe(C){const m=function(x,G,B){let R=1,V=0,H=[],M=[],L=[],_=G;const X=new Map,Q=new Set,j=()=>{L=Array.from(X.values()),Q.forEach(O=>O())},re=O=>{M=O==null?[]:M.filter(de=>de!==O),j()},P=O=>{const{toastId:de,onOpen:ce,updateId:ne,children:oe}=O.props,be=ne==null;O.staleId&&X.delete(O.staleId),X.set(de,O),M=[...M,O.props.toastId].filter(Ie=>Ie!==O.staleId),j(),B(bL(O,be?"added":"updated")),be&&Qa(ce)&&ce(le.isValidElement(oe)&&oe.props)};return{id:x,props:_,observe:O=>(Q.add(O),()=>Q.delete(O)),toggle:(O,de)=>{X.forEach(ce=>{de!=null&&de!==ce.props.toastId||Qa(ce.toggle)&&ce.toggle(O)})},removeToast:re,toasts:X,clearQueue:()=>{V-=H.length,H=[]},buildToast:(O,de)=>{if((me=>{let{containerId:_e,toastId:pe,updateId:Ee}=me;const We=_e?_e!==x:x!==1,Ue=X.has(pe)&&Ee==null;return We||Ue})(de))return;const{toastId:ce,updateId:ne,data:oe,staleId:be,delay:Ie}=de,Re=()=>{re(ce)},ye=ne==null;ye&&V++;const ve={..._,style:_.toastStyle,key:R++,...Object.fromEntries(Object.entries(de).filter(me=>{let[_e,pe]=me;return pe!=null})),toastId:ce,updateId:ne,data:oe,closeToast:Re,isIn:!1,className:Tv(de.className||_.toastClassName),bodyClassName:Tv(de.bodyClassName||_.bodyClassName),progressClassName:Tv(de.progressClassName||_.progressClassName),autoClose:!de.isLoading&&(fe=de.autoClose,Ge=_.autoClose,fe===!1||rb(fe)&&fe>0?fe:Ge),deleteToast(){const me=X.get(ce),{onClose:_e,children:pe}=me.props;Qa(_e)&&_e(le.isValidElement(pe)&&pe.props),B(bL(me,"removed")),X.delete(ce),V--,V<0&&(V=0),H.length>0?P(H.shift()):j()}};var fe,Ge;ve.closeButton=_.closeButton,de.closeButton===!1||gZ(de.closeButton)?ve.closeButton=de.closeButton:de.closeButton===!0&&(ve.closeButton=!gZ(_.closeButton)||_.closeButton);let De=O;le.isValidElement(O)&&!gh(O.type)?De=le.cloneElement(O,{closeToast:Re,toastProps:ve,data:oe}):Qa(O)&&(De=O({closeToast:Re,toastProps:ve,data:oe}));const Pe={content:De,props:ve,staleId:be};_.limit&&_.limit>0&&V>_.limit&&ye?H.push(Pe):rb(Ie)?setTimeout(()=>{P(Pe)},Ie):P(Pe)},setProps(O){_=O},setToggle:(O,de)=>{X.get(O).toggle=de},isToastActive:O=>M.some(de=>de===O),getSnapshot:()=>_.newestOnTop?L.reverse():L}}(u,c,Xke);zs.set(u,m);const v=m.observe(C);return ob.forEach(x=>cP(x.content,x.options)),ob=[],()=>{v(),zs.delete(u)}},setProps(C){var m;(m=zs.get(u))==null||m.setProps(C)},getSnapshot(){var C;return(C=zs.get(u))==null?void 0:C.getSnapshot()}}}(e)).current;o(e);const s=le.useSyncExternalStore(t,i,i);return{getToastToRender:function(c){if(!s)return[];const u=new Map;return s.forEach(C=>{const{position:m}=C.props;u.has(m)||u.set(m,[]),u.get(m).push(C)}),Array.from(u,C=>c(C[0],C[1]))},isToastActive:lP,count:s==null?void 0:s.length}}function Yke(e){const[t,i]=le.useState(!1),[o,s]=le.useState(!1),c=le.useRef(null),u=le.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:C,pauseOnHover:m,closeToast:v,onClick:x,closeOnClick:G}=e;var B,R;function V(){i(!0)}function H(){i(!1)}function M(X){const Q=c.current;u.canDrag&&Q&&(u.didMove=!0,t&&H(),u.delta=e.draggableDirection==="x"?X.clientX-u.start:X.clientY-u.start,u.start!==X.clientX&&(u.canCloseOnClick=!1),Q.style.transform=`translate3d(${e.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`},0)`,Q.style.opacity=""+(1-Math.abs(u.delta/u.removalDistance)))}function L(){document.removeEventListener("pointermove",M),document.removeEventListener("pointerup",L);const X=c.current;if(u.canDrag&&u.didMove&&X){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance)return s(!0),e.closeToast(),void e.collapseAll();X.style.transition="transform 0.2s, opacity 0.2s",X.style.removeProperty("transform"),X.style.removeProperty("opacity")}}(R=zs.get((B={id:e.toastId,containerId:e.containerId,fn:i}).containerId||1))==null||R.setToggle(B.id,B.fn),le.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||H(),window.addEventListener("focus",V),window.addEventListener("blur",H),()=>{window.removeEventListener("focus",V),window.removeEventListener("blur",H)}},[e.pauseOnFocusLoss]);const _={onPointerDown:function(X){if(e.draggable===!0||e.draggable===X.pointerType){u.didMove=!1,document.addEventListener("pointermove",M),document.addEventListener("pointerup",L);const Q=c.current;u.canCloseOnClick=!0,u.canDrag=!0,Q.style.transition="none",e.draggableDirection==="x"?(u.start=X.clientX,u.removalDistance=Q.offsetWidth*(e.draggablePercent/100)):(u.start=X.clientY,u.removalDistance=Q.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(X){const{top:Q,bottom:j,left:re,right:P}=c.current.getBoundingClientRect();X.nativeEvent.type!=="touchend"&&e.pauseOnHover&&X.clientX>=re&&X.clientX<=P&&X.clientY>=Q&&X.clientY<=j?H():V()}};return C&&m&&(_.onMouseEnter=H,e.stacked||(_.onMouseLeave=V)),G&&(_.onClick=X=>{x&&x(X),u.canCloseOnClick&&v()}),{playToast:V,pauseToast:H,isRunning:t,preventExitTransition:o,toastRef:c,eventHandlers:_}}function Jke(e){let{delay:t,isRunning:i,closeToast:o,type:s="default",hide:c,className:u,style:C,controlledProgress:m,progress:v,rtl:x,isIn:G,theme:B}=e;const R=c||m&&v===0,V={...C,animationDuration:`${t}ms`,animationPlayState:i?"running":"paused"};m&&(V.transform=`scaleX(${v})`);const H=li("Toastify__progress-bar",m?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${B}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":x}),M=Qa(u)?u({rtl:x,type:s,defaultClassName:H}):li(H,u),L={[m&&v>=1?"onTransitionEnd":"onAnimationEnd"]:m&&v<1?null:()=>{G&&o()}};return ai.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":R},ai.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${B} Toastify__progress-bar--${s}`}),ai.createElement("div",{role:"progressbar","aria-hidden":R?"true":"false","aria-label":"notification timer",className:M,style:V,...L}))}let Uke=1;const gP=()=>""+Uke++;function Pke(e){return e&&(gh(e.toastId)||rb(e.toastId))?e.toastId:gP()}function hI(e,t){return cP(e,t),t.toastId}function Lw(e,t){return{...t,type:t&&t.type||e,toastId:Pke(t)}}function Ny(e){return(t,i)=>hI(t,Lw(e,i))}function sn(e,t){return hI(e,Lw("default",t))}sn.loading=(e,t)=>hI(e,Lw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),sn.promise=function(e,t,i){let o,{pending:s,error:c,success:u}=t;s&&(o=gh(s)?sn.loading(s,i):sn.loading(s.render,{...i,...s}));const C={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(x,G,B)=>{if(G==null)return void sn.dismiss(o);const R={type:x,...C,...i,data:B},V=gh(G)?{render:G}:G;return o?sn.update(o,{...R,...V}):sn(V.render,{...R,...V}),B},v=Qa(e)?e():e;return v.then(x=>m("success",u,x)).catch(x=>m("error",c,x)),v},sn.success=Ny("success"),sn.info=Ny("info"),sn.error=Ny("error"),sn.warning=Ny("warning"),sn.warn=sn.warning,sn.dark=(e,t)=>hI(e,Lw("default",{theme:"dark",...t})),sn.dismiss=function(e){(function(t){var i;if(aP()){if(t==null||gh(i=t)||rb(i))zs.forEach(o=>{o.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const o=zs.get(t.containerId);o?o.removeToast(t.id):zs.forEach(s=>{s.removeToast(t.id)})}}else ob=ob.filter(o=>t!=null&&o.options.toastId!==t)})(e)},sn.clearWaitingQueue=function(e){e===void 0&&(e={}),zs.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},sn.isActive=lP,sn.update=function(e,t){t===void 0&&(t={});const i=((o,s)=>{var c;let{containerId:u}=s;return(c=zs.get(u||1))==null?void 0:c.toasts.get(o)})(e,t);if(i){const{props:o,content:s}=i,c={delay:100,...o,...t,toastId:t.toastId||e,updateId:gP()};c.toastId!==e&&(c.staleId=e);const u=c.render||s;delete c.render,hI(u,c)}},sn.done=e=>{sn.update(e,{progress:1})},sn.onChange=function(e){return dZ.add(e),()=>{dZ.delete(e)}},sn.play=e=>yL(!0,e),sn.pause=e=>yL(!1,e);const Kke=typeof window<"u"?le.useLayoutEffect:le.useEffect,_y=e=>{let{theme:t,type:i,isLoading:o,...s}=e;return ai.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${i})`,...s})},Qx={info:function(e){return ai.createElement(_y,{...e},ai.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return ai.createElement(_y,{...e},ai.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return ai.createElement(_y,{...e},ai.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return ai.createElement(_y,{...e},ai.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ai.createElement("div",{className:"Toastify__spinner"})}},zke=e=>{const{isRunning:t,preventExitTransition:i,toastRef:o,eventHandlers:s,playToast:c}=Yke(e),{closeButton:u,children:C,autoClose:m,onClick:v,type:x,hideProgressBar:G,closeToast:B,transition:R,position:V,className:H,style:M,bodyClassName:L,bodyStyle:_,progressClassName:X,progressStyle:Q,updateId:j,role:re,progress:P,rtl:O,toastId:de,deleteToast:ce,isIn:ne,isLoading:oe,closeOnClick:be,theme:Ie}=e,Re=li("Toastify__toast",`Toastify__toast-theme--${Ie}`,`Toastify__toast--${x}`,{"Toastify__toast--rtl":O},{"Toastify__toast--close-on-click":be}),ye=Qa(H)?H({rtl:O,position:V,type:x,defaultClassName:Re}):li(Re,H),ve=function(Pe){let{theme:me,type:_e,isLoading:pe,icon:Ee}=Pe,We=null;const Ue={theme:me,type:_e};return Ee===!1||(Qa(Ee)?We=Ee({...Ue,isLoading:pe}):le.isValidElement(Ee)?We=le.cloneElement(Ee,Ue):pe?We=Qx.spinner():(je=>je in Qx)(_e)&&(We=Qx[_e](Ue))),We}(e),fe=!!P||!m,Ge={closeToast:B,type:x,theme:Ie};let De=null;return u===!1||(De=Qa(u)?u(Ge):le.isValidElement(u)?le.cloneElement(u,Ge):function(Pe){let{closeToast:me,theme:_e,ariaLabel:pe="close"}=Pe;return ai.createElement("button",{className:`Toastify__close-button Toastify__close-button--${_e}`,type:"button",onClick:Ee=>{Ee.stopPropagation(),me(Ee)},"aria-label":pe},ai.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ai.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Ge)),ai.createElement(R,{isIn:ne,done:ce,position:V,preventExitTransition:i,nodeRef:o,playToast:c},ai.createElement("div",{id:de,onClick:v,"data-in":ne,className:ye,...s,style:M,ref:o},ai.createElement("div",{...ne&&{role:re},className:Qa(L)?L({type:x}):li("Toastify__toast-body",L),style:_},ve!=null&&ai.createElement("div",{className:li("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!oe})},ve),ai.createElement("div",null,C)),De,ai.createElement(Jke,{...j&&!fe?{key:`pb-${j}`}:{},rtl:O,theme:Ie,delay:m,isRunning:t,isIn:ne,closeToast:B,hide:G,type:x,style:Q,className:X,controlledProgress:fe,progress:P||0})))},Uk=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Qke=Jk(Uk("bounce",!0));Jk(Uk("slide",!0));Jk(Uk("zoom"));Jk(Uk("flip"));const jke={position:"top-right",transition:Qke,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Oke(e){let t={...jke,...e};const i=e.stacked,[o,s]=le.useState(!0),c=le.useRef(null),{getToastToRender:u,isToastActive:C,count:m}=Mke(t),{className:v,style:x,rtl:G,containerId:B}=t;function R(H){const M=li("Toastify__toast-container",`Toastify__toast-container--${H}`,{"Toastify__toast-container--rtl":G});return Qa(v)?v({position:H,rtl:G,defaultClassName:M}):li(M,Tv(v))}function V(){i&&(s(!0),sn.play())}return Kke(()=>{if(i){var H;const M=c.current.querySelectorAll('[data-in="true"]'),L=12,_=(H=t.position)==null?void 0:H.includes("top");let X=0,Q=0;Array.from(M).reverse().forEach((j,re)=>{const P=j;P.classList.add("Toastify__toast--stacked"),re>0&&(P.dataset.collapsed=`${o}`),P.dataset.pos||(P.dataset.pos=_?"top":"bot");const O=X*(o?.2:1)+(o?0:L*re);P.style.setProperty("--y",`${_?O:-1*O}px`),P.style.setProperty("--g",`${L}`),P.style.setProperty("--s",""+(1-(o?Q:0))),X+=P.offsetHeight,Q+=.025})}},[o,m,i]),ai.createElement("div",{ref:c,className:"Toastify",id:B,onMouseEnter:()=>{i&&(s(!1),sn.pause())},onMouseLeave:V},u((H,M)=>{const L=M.length?{...x}:{...x,pointerEvents:"none"};return ai.createElement("div",{className:R(H),style:L,key:`container-${H}`},M.map(_=>{let{content:X,props:Q}=_;return ai.createElement(zke,{...Q,stacked:i,collapseAll:V,isIn:C(Q.toastId,Q.containerId),style:Q.style,key:`toast-${Q.key}`},X)}))}))}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var dP;function xt(){return dP.apply(null,arguments)}function qke(e){dP=e}function Bc(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function dh(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function _i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function QR(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(_i(e,t))return!1;return!0}function Aa(e){return e===void 0}function kd(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Vb(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function AP(e,t){var i=[],o,s=e.length;for(o=0;o<s;++o)i.push(t(e[o],o));return i}function BA(e,t){for(var i in t)_i(t,i)&&(e[i]=t[i]);return _i(t,"toString")&&(e.toString=t.toString),_i(t,"valueOf")&&(e.valueOf=t.valueOf),e}function vg(e,t,i,o){return FP(e,t,i,o,!0).utc()}function $ke(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function On(e){return e._pf==null&&(e._pf=$ke()),e._pf}var AZ;Array.prototype.some?AZ=Array.prototype.some:AZ=function(e){var t=Object(this),i=t.length>>>0,o;for(o=0;o<i;o++)if(o in t&&e.call(this,t[o],o,t))return!0;return!1};function jR(e){var t=null,i=!1,o=e._d&&!isNaN(e._d.getTime());if(o&&(t=On(e),i=AZ.call(t.parsedDateParts,function(s){return s!=null}),o=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i),e._strict&&(o=o&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=o;else return o;return e._isValid}function Pk(e){var t=vg(NaN);return e!=null?BA(On(t),e):On(t).userInvalidated=!0,t}var vL=xt.momentProperties=[],jx=!1;function OR(e,t){var i,o,s,c=vL.length;if(Aa(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Aa(t._i)||(e._i=t._i),Aa(t._f)||(e._f=t._f),Aa(t._l)||(e._l=t._l),Aa(t._strict)||(e._strict=t._strict),Aa(t._tzm)||(e._tzm=t._tzm),Aa(t._isUTC)||(e._isUTC=t._isUTC),Aa(t._offset)||(e._offset=t._offset),Aa(t._pf)||(e._pf=On(t)),Aa(t._locale)||(e._locale=t._locale),c>0)for(i=0;i<c;i++)o=vL[i],s=t[o],Aa(s)||(e[o]=s);return e}function Eb(e){OR(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),jx===!1&&(jx=!0,xt.updateOffset(this),jx=!1)}function xc(e){return e instanceof Eb||e!=null&&e._isAMomentObject!=null}function uP(e){xt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Yl(e,t){var i=!0;return BA(function(){if(xt.deprecationHandler!=null&&xt.deprecationHandler(null,e),i){var o=[],s,c,u,C=arguments.length;for(c=0;c<C;c++){if(s="",typeof arguments[c]=="object"){s+=`
[`+c+"] ";for(u in arguments[0])_i(arguments[0],u)&&(s+=u+": "+arguments[0][u]+", ");s=s.slice(0,-2)}else s=arguments[c];o.push(s)}uP(e+`
Arguments: `+Array.prototype.slice.call(o).join("")+`
`+new Error().stack),i=!1}return t.apply(this,arguments)},t)}var wL={};function hP(e,t){xt.deprecationHandler!=null&&xt.deprecationHandler(e,t),wL[e]||(uP(t),wL[e]=!0)}xt.suppressDeprecationWarnings=!1;xt.deprecationHandler=null;function wg(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function e1e(e){var t,i;for(i in e)_i(e,i)&&(t=e[i],wg(t)?this[i]=t:this["_"+i]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function uZ(e,t){var i=BA({},e),o;for(o in t)_i(t,o)&&(dh(e[o])&&dh(t[o])?(i[o]={},BA(i[o],e[o]),BA(i[o],t[o])):t[o]!=null?i[o]=t[o]:delete i[o]);for(o in e)_i(e,o)&&!_i(t,o)&&dh(e[o])&&(i[o]=BA({},i[o]));return i}function qR(e){e!=null&&this.set(e)}var hZ;Object.keys?hZ=Object.keys:hZ=function(e){var t,i=[];for(t in e)_i(e,t)&&i.push(t);return i};var t1e={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function n1e(e,t,i){var o=this._calendar[e]||this._calendar.sameElse;return wg(o)?o.call(t,i):o}function bg(e,t,i){var o=""+Math.abs(e),s=t-o.length,c=e>=0;return(c?i?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+o}var $R=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Vy=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ox={},Sp={};function Zn(e,t,i,o){var s=o;typeof o=="string"&&(s=function(){return this[o]()}),e&&(Sp[e]=s),t&&(Sp[t[0]]=function(){return bg(s.apply(this,arguments),t[1],t[2])}),i&&(Sp[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function i1e(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function r1e(e){var t=e.match($R),i,o;for(i=0,o=t.length;i<o;i++)Sp[t[i]]?t[i]=Sp[t[i]]:t[i]=i1e(t[i]);return function(s){var c="",u;for(u=0;u<o;u++)c+=wg(t[u])?t[u].call(s,e):t[u];return c}}function Lv(e,t){return e.isValid()?(t=mP(t,e.localeData()),Ox[t]=Ox[t]||r1e(t),Ox[t](e)):e.localeData().invalidDate()}function mP(e,t){var i=5;function o(s){return t.longDateFormat(s)||s}for(Vy.lastIndex=0;i>=0&&Vy.test(e);)e=e.replace(Vy,o),Vy.lastIndex=0,i-=1;return e}var o1e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function s1e(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.match($R).map(function(o){return o==="MMMM"||o==="MM"||o==="DD"||o==="dddd"?o.slice(1):o}).join(""),this._longDateFormat[e])}var a1e="Invalid date";function l1e(){return this._invalidDate}var c1e="%d",g1e=/\d{1,2}/;function d1e(e){return this._ordinal.replace("%d",e)}var A1e={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function u1e(e,t,i,o){var s=this._relativeTime[i];return wg(s)?s(e,t,i,o):s.replace(/%d/i,e)}function h1e(e,t){var i=this._relativeTime[e>0?"future":"past"];return wg(i)?i(t):i.replace(/%s/i,t)}var kL={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Jl(e){return typeof e=="string"?kL[e]||kL[e.toLowerCase()]:void 0}function eN(e){var t={},i,o;for(o in e)_i(e,o)&&(i=Jl(o),i&&(t[i]=e[o]));return t}var m1e={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function p1e(e){var t=[],i;for(i in e)_i(e,i)&&t.push({unit:i,priority:m1e[i]});return t.sort(function(o,s){return o.priority-s.priority}),t}var pP=/\d/,il=/\d\d/,CP=/\d{3}/,tN=/\d{4}/,Kk=/[+-]?\d{6}/,wr=/\d\d?/,fP=/\d\d\d\d?/,IP=/\d\d\d\d\d\d?/,zk=/\d{1,3}/,nN=/\d{1,4}/,Qk=/[+-]?\d{1,6}/,oC=/\d+/,jk=/[+-]?\d+/,C1e=/Z|[+-]\d\d:?\d\d/gi,Ok=/Z|[+-]\d\d(?::?\d\d)?/gi,f1e=/[+-]?\d+(\.\d{1,3})?/,Fb=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,sC=/^[1-9]\d?/,iN=/^([1-9]\d|\d)/,Xw;Xw={};function pn(e,t,i){Xw[e]=wg(t)?t:function(o,s){return o&&i?i:t}}function I1e(e,t){return _i(Xw,e)?Xw[e](t._strict,t._locale):new RegExp(b1e(e))}function b1e(e){return Cd(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,i,o,s,c){return i||o||s||c}))}function Cd(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Zl(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function pi(e){var t=+e,i=0;return t!==0&&isFinite(t)&&(i=Zl(t)),i}var mZ={};function nr(e,t){var i,o=t,s;for(typeof e=="string"&&(e=[e]),kd(t)&&(o=function(c,u){u[t]=pi(c)}),s=e.length,i=0;i<s;i++)mZ[e[i]]=o}function Wb(e,t){nr(e,function(i,o,s,c){s._w=s._w||{},t(i,s._w,s,c)})}function y1e(e,t,i){t!=null&&_i(mZ,e)&&mZ[e](t,i._a,i,e)}function qk(e){return e%4===0&&e%100!==0||e%400===0}var Es=0,hd=1,cg=2,Do=3,Ic=4,md=5,ih=6,v1e=7,w1e=8;Zn("Y",0,0,function(){var e=this.year();return e<=9999?bg(e,4):"+"+e});Zn(0,["YY",2],0,function(){return this.year()%100});Zn(0,["YYYY",4],0,"year");Zn(0,["YYYYY",5],0,"year");Zn(0,["YYYYYY",6,!0],0,"year");pn("Y",jk);pn("YY",wr,il);pn("YYYY",nN,tN);pn("YYYYY",Qk,Kk);pn("YYYYYY",Qk,Kk);nr(["YYYYY","YYYYYY"],Es);nr("YYYY",function(e,t){t[Es]=e.length===2?xt.parseTwoDigitYear(e):pi(e)});nr("YY",function(e,t){t[Es]=xt.parseTwoDigitYear(e)});nr("Y",function(e,t){t[Es]=parseInt(e,10)});function mI(e){return qk(e)?366:365}xt.parseTwoDigitYear=function(e){return pi(e)+(pi(e)>68?1900:2e3)};var bP=aC("FullYear",!0);function k1e(){return qk(this.year())}function aC(e,t){return function(i){return i!=null?(yP(this,e,i),xt.updateOffset(this,t),this):sb(this,e)}}function sb(e,t){if(!e.isValid())return NaN;var i=e._d,o=e._isUTC;switch(t){case"Milliseconds":return o?i.getUTCMilliseconds():i.getMilliseconds();case"Seconds":return o?i.getUTCSeconds():i.getSeconds();case"Minutes":return o?i.getUTCMinutes():i.getMinutes();case"Hours":return o?i.getUTCHours():i.getHours();case"Date":return o?i.getUTCDate():i.getDate();case"Day":return o?i.getUTCDay():i.getDay();case"Month":return o?i.getUTCMonth():i.getMonth();case"FullYear":return o?i.getUTCFullYear():i.getFullYear();default:return NaN}}function yP(e,t,i){var o,s,c,u,C;if(!(!e.isValid()||isNaN(i))){switch(o=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?o.setUTCMilliseconds(i):o.setMilliseconds(i));case"Seconds":return void(s?o.setUTCSeconds(i):o.setSeconds(i));case"Minutes":return void(s?o.setUTCMinutes(i):o.setMinutes(i));case"Hours":return void(s?o.setUTCHours(i):o.setHours(i));case"Date":return void(s?o.setUTCDate(i):o.setDate(i));case"FullYear":break;default:return}c=i,u=e.month(),C=e.date(),C=C===29&&u===1&&!qk(c)?28:C,s?o.setUTCFullYear(c,u,C):o.setFullYear(c,u,C)}}function B1e(e){return e=Jl(e),wg(this[e])?this[e]():this}function x1e(e,t){if(typeof e=="object"){e=eN(e);var i=p1e(e),o,s=i.length;for(o=0;o<s;o++)this[i[o].unit](e[i[o].unit])}else if(e=Jl(e),wg(this[e]))return this[e](t);return this}function S1e(e,t){return(e%t+t)%t}var ao;Array.prototype.indexOf?ao=Array.prototype.indexOf:ao=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function rN(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=S1e(t,12);return e+=(t-i)/12,i===1?qk(e)?29:28:31-i%7%2}Zn("M",["MM",2],"Mo",function(){return this.month()+1});Zn("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Zn("MMMM",0,0,function(e){return this.localeData().months(this,e)});pn("M",wr,sC);pn("MM",wr,il);pn("MMM",function(e,t){return t.monthsShortRegex(e)});pn("MMMM",function(e,t){return t.monthsRegex(e)});nr(["M","MM"],function(e,t){t[hd]=pi(e)-1});nr(["MMM","MMMM"],function(e,t,i,o){var s=i._locale.monthsParse(e,o,i._strict);s!=null?t[hd]=s:On(i).invalidMonth=e});var Z1e="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),vP="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),wP=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,G1e=Fb,R1e=Fb;function N1e(e,t){return e?Bc(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||wP).test(t)?"format":"standalone"][e.month()]:Bc(this._months)?this._months:this._months.standalone}function _1e(e,t){return e?Bc(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[wP.test(t)?"format":"standalone"][e.month()]:Bc(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function V1e(e,t,i){var o,s,c,u=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;o<12;++o)c=vg([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(c,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(c,"").toLocaleLowerCase();return i?t==="MMM"?(s=ao.call(this._shortMonthsParse,u),s!==-1?s:null):(s=ao.call(this._longMonthsParse,u),s!==-1?s:null):t==="MMM"?(s=ao.call(this._shortMonthsParse,u),s!==-1?s:(s=ao.call(this._longMonthsParse,u),s!==-1?s:null)):(s=ao.call(this._longMonthsParse,u),s!==-1?s:(s=ao.call(this._shortMonthsParse,u),s!==-1?s:null))}function E1e(e,t,i){var o,s,c;if(this._monthsParseExact)return V1e.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;o<12;o++){if(s=vg([2e3,o]),i&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!i&&!this._monthsParse[o]&&(c="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[o]=new RegExp(c.replace(".",""),"i")),i&&t==="MMMM"&&this._longMonthsParse[o].test(e))return o;if(i&&t==="MMM"&&this._shortMonthsParse[o].test(e))return o;if(!i&&this._monthsParse[o].test(e))return o}}function kP(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=pi(t);else if(t=e.localeData().monthsParse(t),!kd(t))return e}var i=t,o=e.date();return o=o<29?o:Math.min(o,rN(e.year(),i)),e._isUTC?e._d.setUTCMonth(i,o):e._d.setMonth(i,o),e}function BP(e){return e!=null?(kP(this,e),xt.updateOffset(this,!0),this):sb(this,"Month")}function F1e(){return rN(this.year(),this.month())}function W1e(e){return this._monthsParseExact?(_i(this,"_monthsRegex")||xP.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(_i(this,"_monthsShortRegex")||(this._monthsShortRegex=G1e),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function H1e(e){return this._monthsParseExact?(_i(this,"_monthsRegex")||xP.call(this),e?this._monthsStrictRegex:this._monthsRegex):(_i(this,"_monthsRegex")||(this._monthsRegex=R1e),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function xP(){function e(m,v){return v.length-m.length}var t=[],i=[],o=[],s,c,u,C;for(s=0;s<12;s++)c=vg([2e3,s]),u=Cd(this.monthsShort(c,"")),C=Cd(this.months(c,"")),t.push(u),i.push(C),o.push(C),o.push(u);t.sort(e),i.sort(e),o.sort(e),this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function D1e(e,t,i,o,s,c,u){var C;return e<100&&e>=0?(C=new Date(e+400,t,i,o,s,c,u),isFinite(C.getFullYear())&&C.setFullYear(e)):C=new Date(e,t,i,o,s,c,u),C}function ab(e){var t,i;return e<100&&e>=0?(i=Array.prototype.slice.call(arguments),i[0]=e+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Mw(e,t,i){var o=7+t-i,s=(7+ab(e,0,o).getUTCDay()-t)%7;return-s+o-1}function SP(e,t,i,o,s){var c=(7+i-o)%7,u=Mw(e,o,s),C=1+7*(t-1)+c+u,m,v;return C<=0?(m=e-1,v=mI(m)+C):C>mI(e)?(m=e+1,v=C-mI(e)):(m=e,v=C),{year:m,dayOfYear:v}}function lb(e,t,i){var o=Mw(e.year(),t,i),s=Math.floor((e.dayOfYear()-o-1)/7)+1,c,u;return s<1?(u=e.year()-1,c=s+fd(u,t,i)):s>fd(e.year(),t,i)?(c=s-fd(e.year(),t,i),u=e.year()+1):(u=e.year(),c=s),{week:c,year:u}}function fd(e,t,i){var o=Mw(e,t,i),s=Mw(e+1,t,i);return(mI(e)-o+s)/7}Zn("w",["ww",2],"wo","week");Zn("W",["WW",2],"Wo","isoWeek");pn("w",wr,sC);pn("ww",wr,il);pn("W",wr,sC);pn("WW",wr,il);Wb(["w","ww","W","WW"],function(e,t,i,o){t[o.substr(0,1)]=pi(e)});function T1e(e){return lb(e,this._week.dow,this._week.doy).week}var L1e={dow:0,doy:6};function X1e(){return this._week.dow}function M1e(){return this._week.doy}function Y1e(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function J1e(e){var t=lb(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Zn("d",0,"do","day");Zn("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Zn("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Zn("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Zn("e",0,0,"weekday");Zn("E",0,0,"isoWeekday");pn("d",wr);pn("e",wr);pn("E",wr);pn("dd",function(e,t){return t.weekdaysMinRegex(e)});pn("ddd",function(e,t){return t.weekdaysShortRegex(e)});pn("dddd",function(e,t){return t.weekdaysRegex(e)});Wb(["dd","ddd","dddd"],function(e,t,i,o){var s=i._locale.weekdaysParse(e,o,i._strict);s!=null?t.d=s:On(i).invalidWeekday=e});Wb(["d","e","E"],function(e,t,i,o){t[o]=pi(e)});function U1e(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function P1e(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function oN(e,t){return e.slice(t,7).concat(e.slice(0,t))}var K1e="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ZP="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),z1e="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Q1e=Fb,j1e=Fb,O1e=Fb;function q1e(e,t){var i=Bc(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?oN(i,this._week.dow):e?i[e.day()]:i}function $1e(e){return e===!0?oN(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function e2e(e){return e===!0?oN(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function t2e(e,t,i){var o,s,c,u=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;o<7;++o)c=vg([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(c,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(c,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(c,"").toLocaleLowerCase();return i?t==="dddd"?(s=ao.call(this._weekdaysParse,u),s!==-1?s:null):t==="ddd"?(s=ao.call(this._shortWeekdaysParse,u),s!==-1?s:null):(s=ao.call(this._minWeekdaysParse,u),s!==-1?s:null):t==="dddd"?(s=ao.call(this._weekdaysParse,u),s!==-1||(s=ao.call(this._shortWeekdaysParse,u),s!==-1)?s:(s=ao.call(this._minWeekdaysParse,u),s!==-1?s:null)):t==="ddd"?(s=ao.call(this._shortWeekdaysParse,u),s!==-1||(s=ao.call(this._weekdaysParse,u),s!==-1)?s:(s=ao.call(this._minWeekdaysParse,u),s!==-1?s:null)):(s=ao.call(this._minWeekdaysParse,u),s!==-1||(s=ao.call(this._weekdaysParse,u),s!==-1)?s:(s=ao.call(this._shortWeekdaysParse,u),s!==-1?s:null))}function n2e(e,t,i){var o,s,c;if(this._weekdaysParseExact)return t2e.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;o<7;o++){if(s=vg([2e3,1]).day(o),i&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[o]||(c="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[o]=new RegExp(c.replace(".",""),"i")),i&&t==="dddd"&&this._fullWeekdaysParse[o].test(e))return o;if(i&&t==="ddd"&&this._shortWeekdaysParse[o].test(e))return o;if(i&&t==="dd"&&this._minWeekdaysParse[o].test(e))return o;if(!i&&this._weekdaysParse[o].test(e))return o}}function i2e(e){if(!this.isValid())return e!=null?this:NaN;var t=sb(this,"Day");return e!=null?(e=U1e(e,this.localeData()),this.add(e-t,"d")):t}function r2e(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function o2e(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=P1e(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function s2e(e){return this._weekdaysParseExact?(_i(this,"_weekdaysRegex")||sN.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(_i(this,"_weekdaysRegex")||(this._weekdaysRegex=Q1e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function a2e(e){return this._weekdaysParseExact?(_i(this,"_weekdaysRegex")||sN.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(_i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=j1e),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function l2e(e){return this._weekdaysParseExact?(_i(this,"_weekdaysRegex")||sN.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(_i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=O1e),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function sN(){function e(x,G){return G.length-x.length}var t=[],i=[],o=[],s=[],c,u,C,m,v;for(c=0;c<7;c++)u=vg([2e3,1]).day(c),C=Cd(this.weekdaysMin(u,"")),m=Cd(this.weekdaysShort(u,"")),v=Cd(this.weekdays(u,"")),t.push(C),i.push(m),o.push(v),s.push(C),s.push(m),s.push(v);t.sort(e),i.sort(e),o.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function aN(){return this.hours()%12||12}function c2e(){return this.hours()||24}Zn("H",["HH",2],0,"hour");Zn("h",["hh",2],0,aN);Zn("k",["kk",2],0,c2e);Zn("hmm",0,0,function(){return""+aN.apply(this)+bg(this.minutes(),2)});Zn("hmmss",0,0,function(){return""+aN.apply(this)+bg(this.minutes(),2)+bg(this.seconds(),2)});Zn("Hmm",0,0,function(){return""+this.hours()+bg(this.minutes(),2)});Zn("Hmmss",0,0,function(){return""+this.hours()+bg(this.minutes(),2)+bg(this.seconds(),2)});function GP(e,t){Zn(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}GP("a",!0);GP("A",!1);function RP(e,t){return t._meridiemParse}pn("a",RP);pn("A",RP);pn("H",wr,iN);pn("h",wr,sC);pn("k",wr,sC);pn("HH",wr,il);pn("hh",wr,il);pn("kk",wr,il);pn("hmm",fP);pn("hmmss",IP);pn("Hmm",fP);pn("Hmmss",IP);nr(["H","HH"],Do);nr(["k","kk"],function(e,t,i){var o=pi(e);t[Do]=o===24?0:o});nr(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e});nr(["h","hh"],function(e,t,i){t[Do]=pi(e),On(i).bigHour=!0});nr("hmm",function(e,t,i){var o=e.length-2;t[Do]=pi(e.substr(0,o)),t[Ic]=pi(e.substr(o)),On(i).bigHour=!0});nr("hmmss",function(e,t,i){var o=e.length-4,s=e.length-2;t[Do]=pi(e.substr(0,o)),t[Ic]=pi(e.substr(o,2)),t[md]=pi(e.substr(s)),On(i).bigHour=!0});nr("Hmm",function(e,t,i){var o=e.length-2;t[Do]=pi(e.substr(0,o)),t[Ic]=pi(e.substr(o))});nr("Hmmss",function(e,t,i){var o=e.length-4,s=e.length-2;t[Do]=pi(e.substr(0,o)),t[Ic]=pi(e.substr(o,2)),t[md]=pi(e.substr(s))});function g2e(e){return(e+"").toLowerCase().charAt(0)==="p"}var d2e=/[ap]\.?m?\.?/i,A2e=aC("Hours",!0);function u2e(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}var NP={calendar:t1e,longDateFormat:o1e,invalidDate:a1e,ordinal:c1e,dayOfMonthOrdinalParse:g1e,relativeTime:A1e,months:Z1e,monthsShort:vP,week:L1e,weekdays:K1e,weekdaysMin:z1e,weekdaysShort:ZP,meridiemParse:d2e},Gr={},Bf={},cb;function h2e(e,t){var i,o=Math.min(e.length,t.length);for(i=0;i<o;i+=1)if(e[i]!==t[i])return i;return o}function BL(e){return e&&e.toLowerCase().replace("_","-")}function m2e(e){for(var t=0,i,o,s,c;t<e.length;){for(c=BL(e[t]).split("-"),i=c.length,o=BL(e[t+1]),o=o?o.split("-"):null;i>0;){if(s=$k(c.slice(0,i).join("-")),s)return s;if(o&&o.length>=i&&h2e(c,o)>=i-1)break;i--}t++}return cb}function p2e(e){return!!(e&&e.match("^[^/\\\\]*$"))}function $k(e){var t=null,i;if(Gr[e]===void 0&&typeof module<"u"&&module&&module.exports&&p2e(e))try{t=cb._abbr,i=require,i("./locale/"+e),LA(t)}catch{Gr[e]=null}return Gr[e]}function LA(e,t){var i;return e&&(Aa(t)?i=Rd(e):i=lN(e,t),i?cb=i:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),cb._abbr}function lN(e,t){if(t!==null){var i,o=NP;if(t.abbr=e,Gr[e]!=null)hP("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),o=Gr[e]._config;else if(t.parentLocale!=null)if(Gr[t.parentLocale]!=null)o=Gr[t.parentLocale]._config;else if(i=$k(t.parentLocale),i!=null)o=i._config;else return Bf[t.parentLocale]||(Bf[t.parentLocale]=[]),Bf[t.parentLocale].push({name:e,config:t}),null;return Gr[e]=new qR(uZ(o,t)),Bf[e]&&Bf[e].forEach(function(s){lN(s.name,s.config)}),LA(e),Gr[e]}else return delete Gr[e],null}function C2e(e,t){if(t!=null){var i,o,s=NP;Gr[e]!=null&&Gr[e].parentLocale!=null?Gr[e].set(uZ(Gr[e]._config,t)):(o=$k(e),o!=null&&(s=o._config),t=uZ(s,t),o==null&&(t.abbr=e),i=new qR(t),i.parentLocale=Gr[e],Gr[e]=i),LA(e)}else Gr[e]!=null&&(Gr[e].parentLocale!=null?(Gr[e]=Gr[e].parentLocale,e===LA()&&LA(e)):Gr[e]!=null&&delete Gr[e]);return Gr[e]}function Rd(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return cb;if(!Bc(e)){if(t=$k(e),t)return t;e=[e]}return m2e(e)}function f2e(){return hZ(Gr)}function cN(e){var t,i=e._a;return i&&On(e).overflow===-2&&(t=i[hd]<0||i[hd]>11?hd:i[cg]<1||i[cg]>rN(i[Es],i[hd])?cg:i[Do]<0||i[Do]>24||i[Do]===24&&(i[Ic]!==0||i[md]!==0||i[ih]!==0)?Do:i[Ic]<0||i[Ic]>59?Ic:i[md]<0||i[md]>59?md:i[ih]<0||i[ih]>999?ih:-1,On(e)._overflowDayOfYear&&(t<Es||t>cg)&&(t=cg),On(e)._overflowWeeks&&t===-1&&(t=v1e),On(e)._overflowWeekday&&t===-1&&(t=w1e),On(e).overflow=t),e}var I2e=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,b2e=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,y2e=/Z|[+-]\d\d(?::?\d\d)?/,Ey=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],qx=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],v2e=/^\/?Date\((-?\d+)/i,w2e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,k2e={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function _P(e){var t,i,o=e._i,s=I2e.exec(o)||b2e.exec(o),c,u,C,m,v=Ey.length,x=qx.length;if(s){for(On(e).iso=!0,t=0,i=v;t<i;t++)if(Ey[t][1].exec(s[1])){u=Ey[t][0],c=Ey[t][2]!==!1;break}if(u==null){e._isValid=!1;return}if(s[3]){for(t=0,i=x;t<i;t++)if(qx[t][1].exec(s[3])){C=(s[2]||" ")+qx[t][0];break}if(C==null){e._isValid=!1;return}}if(!c&&C!=null){e._isValid=!1;return}if(s[4])if(y2e.exec(s[4]))m="Z";else{e._isValid=!1;return}e._f=u+(C||"")+(m||""),dN(e)}else e._isValid=!1}function B2e(e,t,i,o,s,c){var u=[x2e(e),vP.indexOf(t),parseInt(i,10),parseInt(o,10),parseInt(s,10)];return c&&u.push(parseInt(c,10)),u}function x2e(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function S2e(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Z2e(e,t,i){if(e){var o=ZP.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(o!==s)return On(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function G2e(e,t,i){if(e)return k2e[e];if(t)return 0;var o=parseInt(i,10),s=o%100,c=(o-s)/100;return c*60+s}function VP(e){var t=w2e.exec(S2e(e._i)),i;if(t){if(i=B2e(t[4],t[3],t[2],t[5],t[6],t[7]),!Z2e(t[1],i,e))return;e._a=i,e._tzm=G2e(t[8],t[9],t[10]),e._d=ab.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),On(e).rfc2822=!0}else e._isValid=!1}function R2e(e){var t=v2e.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(_P(e),e._isValid===!1)delete e._isValid;else return;if(VP(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:xt.createFromInputFallback(e)}xt.createFromInputFallback=Yl("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function qm(e,t,i){return e??t??i}function N2e(e){var t=new Date(xt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function gN(e){var t,i,o=[],s,c,u;if(!e._d){for(s=N2e(e),e._w&&e._a[cg]==null&&e._a[hd]==null&&_2e(e),e._dayOfYear!=null&&(u=qm(e._a[Es],s[Es]),(e._dayOfYear>mI(u)||e._dayOfYear===0)&&(On(e)._overflowDayOfYear=!0),i=ab(u,0,e._dayOfYear),e._a[hd]=i.getUTCMonth(),e._a[cg]=i.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=o[t]=s[t];for(;t<7;t++)e._a[t]=o[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Do]===24&&e._a[Ic]===0&&e._a[md]===0&&e._a[ih]===0&&(e._nextDay=!0,e._a[Do]=0),e._d=(e._useUTC?ab:D1e).apply(null,o),c=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Do]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==c&&(On(e).weekdayMismatch=!0)}}function _2e(e){var t,i,o,s,c,u,C,m,v;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(c=1,u=4,i=qm(t.GG,e._a[Es],lb(vr(),1,4).year),o=qm(t.W,1),s=qm(t.E,1),(s<1||s>7)&&(m=!0)):(c=e._locale._week.dow,u=e._locale._week.doy,v=lb(vr(),c,u),i=qm(t.gg,e._a[Es],v.year),o=qm(t.w,v.week),t.d!=null?(s=t.d,(s<0||s>6)&&(m=!0)):t.e!=null?(s=t.e+c,(t.e<0||t.e>6)&&(m=!0)):s=c),o<1||o>fd(i,c,u)?On(e)._overflowWeeks=!0:m!=null?On(e)._overflowWeekday=!0:(C=SP(i,o,s,c,u),e._a[Es]=C.year,e._dayOfYear=C.dayOfYear)}xt.ISO_8601=function(){};xt.RFC_2822=function(){};function dN(e){if(e._f===xt.ISO_8601){_P(e);return}if(e._f===xt.RFC_2822){VP(e);return}e._a=[],On(e).empty=!0;var t=""+e._i,i,o,s,c,u,C=t.length,m=0,v,x;for(s=mP(e._f,e._locale).match($R)||[],x=s.length,i=0;i<x;i++)c=s[i],o=(t.match(I1e(c,e))||[])[0],o&&(u=t.substr(0,t.indexOf(o)),u.length>0&&On(e).unusedInput.push(u),t=t.slice(t.indexOf(o)+o.length),m+=o.length),Sp[c]?(o?On(e).empty=!1:On(e).unusedTokens.push(c),y1e(c,o,e)):e._strict&&!o&&On(e).unusedTokens.push(c);On(e).charsLeftOver=C-m,t.length>0&&On(e).unusedInput.push(t),e._a[Do]<=12&&On(e).bigHour===!0&&e._a[Do]>0&&(On(e).bigHour=void 0),On(e).parsedDateParts=e._a.slice(0),On(e).meridiem=e._meridiem,e._a[Do]=V2e(e._locale,e._a[Do],e._meridiem),v=On(e).era,v!==null&&(e._a[Es]=e._locale.erasConvertYear(v,e._a[Es])),gN(e),cN(e)}function V2e(e,t,i){var o;return i==null?t:e.meridiemHour!=null?e.meridiemHour(t,i):(e.isPM!=null&&(o=e.isPM(i),o&&t<12&&(t+=12),!o&&t===12&&(t=0)),t)}function E2e(e){var t,i,o,s,c,u,C=!1,m=e._f.length;if(m===0){On(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<m;s++)c=0,u=!1,t=OR({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],dN(t),jR(t)&&(u=!0),c+=On(t).charsLeftOver,c+=On(t).unusedTokens.length*10,On(t).score=c,C?c<o&&(o=c,i=t):(o==null||c<o||u)&&(o=c,i=t,u&&(C=!0));BA(e,i||t)}function F2e(e){if(!e._d){var t=eN(e._i),i=t.day===void 0?t.date:t.day;e._a=AP([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],function(o){return o&&parseInt(o,10)}),gN(e)}}function W2e(e){var t=new Eb(cN(EP(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function EP(e){var t=e._i,i=e._f;return e._locale=e._locale||Rd(e._l),t===null||i===void 0&&t===""?Pk({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),xc(t)?new Eb(cN(t)):(Vb(t)?e._d=t:Bc(i)?E2e(e):i?dN(e):H2e(e),jR(e)||(e._d=null),e))}function H2e(e){var t=e._i;Aa(t)?e._d=new Date(xt.now()):Vb(t)?e._d=new Date(t.valueOf()):typeof t=="string"?R2e(e):Bc(t)?(e._a=AP(t.slice(0),function(i){return parseInt(i,10)}),gN(e)):dh(t)?F2e(e):kd(t)?e._d=new Date(t):xt.createFromInputFallback(e)}function FP(e,t,i,o,s){var c={};return(t===!0||t===!1)&&(o=t,t=void 0),(i===!0||i===!1)&&(o=i,i=void 0),(dh(e)&&QR(e)||Bc(e)&&e.length===0)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=s,c._l=i,c._i=e,c._f=t,c._strict=o,W2e(c)}function vr(e,t,i,o){return FP(e,t,i,o,!1)}var D2e=Yl("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Pk()}),T2e=Yl("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Pk()});function WP(e,t){var i,o;if(t.length===1&&Bc(t[0])&&(t=t[0]),!t.length)return vr();for(i=t[0],o=1;o<t.length;++o)(!t[o].isValid()||t[o][e](i))&&(i=t[o]);return i}function L2e(){var e=[].slice.call(arguments,0);return WP("isBefore",e)}function X2e(){var e=[].slice.call(arguments,0);return WP("isAfter",e)}var M2e=function(){return Date.now?Date.now():+new Date},xf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Y2e(e){var t,i=!1,o,s=xf.length;for(t in e)if(_i(e,t)&&!(ao.call(xf,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(o=0;o<s;++o)if(e[xf[o]]){if(i)return!1;parseFloat(e[xf[o]])!==pi(e[xf[o]])&&(i=!0)}return!0}function J2e(){return this._isValid}function U2e(){return Rc(NaN)}function e1(e){var t=eN(e),i=t.year||0,o=t.quarter||0,s=t.month||0,c=t.week||t.isoWeek||0,u=t.day||0,C=t.hour||0,m=t.minute||0,v=t.second||0,x=t.millisecond||0;this._isValid=Y2e(t),this._milliseconds=+x+v*1e3+m*6e4+C*1e3*60*60,this._days=+u+c*7,this._months=+s+o*3+i*12,this._data={},this._locale=Rd(),this._bubble()}function Xv(e){return e instanceof e1}function pZ(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function P2e(e,t,i){var o=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),c=0,u;for(u=0;u<o;u++)pi(e[u])!==pi(t[u])&&c++;return c+s}function HP(e,t){Zn(e,0,0,function(){var i=this.utcOffset(),o="+";return i<0&&(i=-i,o="-"),o+bg(~~(i/60),2)+t+bg(~~i%60,2)})}HP("Z",":");HP("ZZ","");pn("Z",Ok);pn("ZZ",Ok);nr(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=AN(Ok,e)});var K2e=/([\+\-]|\d\d)/gi;function AN(e,t){var i=(t||"").match(e),o,s,c;return i===null?null:(o=i[i.length-1]||[],s=(o+"").match(K2e)||["-",0,0],c=+(s[1]*60)+pi(s[2]),c===0?0:s[0]==="+"?c:-c)}function uN(e,t){var i,o;return t._isUTC?(i=t.clone(),o=(xc(e)||Vb(e)?e.valueOf():vr(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),xt.updateOffset(i,!1),i):vr(e).local()}function CZ(e){return-Math.round(e._d.getTimezoneOffset())}xt.updateOffset=function(){};function z2e(e,t,i){var o=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=AN(Ok,e),e===null)return this}else Math.abs(e)<16&&!i&&(e=e*60);return!this._isUTC&&t&&(s=CZ(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),o!==e&&(!t||this._changeInProgress?LP(this,Rc(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,xt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?o:CZ(this)}function Q2e(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function j2e(e){return this.utcOffset(0,e)}function O2e(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(CZ(this),"m")),this}function q2e(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=AN(C1e,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function $2e(e){return this.isValid()?(e=e?vr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function eBe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function tBe(){if(!Aa(this._isDSTShifted))return this._isDSTShifted;var e={},t;return OR(e,this),e=EP(e),e._a?(t=e._isUTC?vg(e._a):vr(e._a),this._isDSTShifted=this.isValid()&&P2e(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function nBe(){return this.isValid()?!this._isUTC:!1}function iBe(){return this.isValid()?this._isUTC:!1}function DP(){return this.isValid()?this._isUTC&&this._offset===0:!1}var rBe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,oBe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Rc(e,t){var i=e,o=null,s,c,u;return Xv(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:kd(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(o=rBe.exec(e))?(s=o[1]==="-"?-1:1,i={y:0,d:pi(o[cg])*s,h:pi(o[Do])*s,m:pi(o[Ic])*s,s:pi(o[md])*s,ms:pi(pZ(o[ih]*1e3))*s}):(o=oBe.exec(e))?(s=o[1]==="-"?-1:1,i={y:Mu(o[2],s),M:Mu(o[3],s),w:Mu(o[4],s),d:Mu(o[5],s),h:Mu(o[6],s),m:Mu(o[7],s),s:Mu(o[8],s)}):i==null?i={}:typeof i=="object"&&("from"in i||"to"in i)&&(u=sBe(vr(i.from),vr(i.to)),i={},i.ms=u.milliseconds,i.M=u.months),c=new e1(i),Xv(e)&&_i(e,"_locale")&&(c._locale=e._locale),Xv(e)&&_i(e,"_isValid")&&(c._isValid=e._isValid),c}Rc.fn=e1.prototype;Rc.invalid=U2e;function Mu(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function xL(e,t){var i={};return i.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function sBe(e,t){var i;return e.isValid()&&t.isValid()?(t=uN(t,e),e.isBefore(t)?i=xL(e,t):(i=xL(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function TP(e,t){return function(i,o){var s,c;return o!==null&&!isNaN(+o)&&(hP(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),c=i,i=o,o=c),s=Rc(i,o),LP(this,s,e),this}}function LP(e,t,i,o){var s=t._milliseconds,c=pZ(t._days),u=pZ(t._months);e.isValid()&&(o=o??!0,u&&kP(e,sb(e,"Month")+u*i),c&&yP(e,"Date",sb(e,"Date")+c*i),s&&e._d.setTime(e._d.valueOf()+s*i),o&&xt.updateOffset(e,c||u))}var aBe=TP(1,"add"),lBe=TP(-1,"subtract");function XP(e){return typeof e=="string"||e instanceof String}function cBe(e){return xc(e)||Vb(e)||XP(e)||kd(e)||dBe(e)||gBe(e)||e===null||e===void 0}function gBe(e){var t=dh(e)&&!QR(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,c,u=o.length;for(s=0;s<u;s+=1)c=o[s],i=i||_i(e,c);return t&&i}function dBe(e){var t=Bc(e),i=!1;return t&&(i=e.filter(function(o){return!kd(o)&&XP(e)}).length===0),t&&i}function ABe(e){var t=dh(e)&&!QR(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,c;for(s=0;s<o.length;s+=1)c=o[s],i=i||_i(e,c);return t&&i}function uBe(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function hBe(e,t){arguments.length===1&&(arguments[0]?cBe(arguments[0])?(e=arguments[0],t=void 0):ABe(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var i=e||vr(),o=uN(i,this).startOf("day"),s=xt.calendarFormat(this,o)||"sameElse",c=t&&(wg(t[s])?t[s].call(this,i):t[s]);return this.format(c||this.localeData().calendar(s,this,vr(i)))}function mBe(){return new Eb(this)}function pBe(e,t){var i=xc(e)?e:vr(e);return this.isValid()&&i.isValid()?(t=Jl(t)||"millisecond",t==="millisecond"?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf()):!1}function CBe(e,t){var i=xc(e)?e:vr(e);return this.isValid()&&i.isValid()?(t=Jl(t)||"millisecond",t==="millisecond"?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf()):!1}function fBe(e,t,i,o){var s=xc(e)?e:vr(e),c=xc(t)?t:vr(t);return this.isValid()&&s.isValid()&&c.isValid()?(o=o||"()",(o[0]==="("?this.isAfter(s,i):!this.isBefore(s,i))&&(o[1]===")"?this.isBefore(c,i):!this.isAfter(c,i))):!1}function IBe(e,t){var i=xc(e)?e:vr(e),o;return this.isValid()&&i.isValid()?(t=Jl(t)||"millisecond",t==="millisecond"?this.valueOf()===i.valueOf():(o=i.valueOf(),this.clone().startOf(t).valueOf()<=o&&o<=this.clone().endOf(t).valueOf())):!1}function bBe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function yBe(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function vBe(e,t,i){var o,s,c;if(!this.isValid())return NaN;if(o=uN(e,this),!o.isValid())return NaN;switch(s=(o.utcOffset()-this.utcOffset())*6e4,t=Jl(t),t){case"year":c=Mv(this,o)/12;break;case"month":c=Mv(this,o);break;case"quarter":c=Mv(this,o)/3;break;case"second":c=(this-o)/1e3;break;case"minute":c=(this-o)/6e4;break;case"hour":c=(this-o)/36e5;break;case"day":c=(this-o-s)/864e5;break;case"week":c=(this-o-s)/6048e5;break;default:c=this-o}return i?c:Zl(c)}function Mv(e,t){if(e.date()<t.date())return-Mv(t,e);var i=(t.year()-e.year())*12+(t.month()-e.month()),o=e.clone().add(i,"months"),s,c;return t-o<0?(s=e.clone().add(i-1,"months"),c=(t-o)/(o-s)):(s=e.clone().add(i+1,"months"),c=(t-o)/(s-o)),-(i+c)||0}xt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";xt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function wBe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function kBe(e){if(!this.isValid())return null;var t=e!==!0,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?Lv(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):wg(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Lv(i,"Z")):Lv(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function BBe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",i,o,s,c;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),i="["+e+'("]',o=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",c=t+'[")]',this.format(i+o+s+c)}function xBe(e){e||(e=this.isUtc()?xt.defaultFormatUtc:xt.defaultFormat);var t=Lv(this,e);return this.localeData().postformat(t)}function SBe(e,t){return this.isValid()&&(xc(e)&&e.isValid()||vr(e).isValid())?Rc({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ZBe(e){return this.from(vr(),e)}function GBe(e,t){return this.isValid()&&(xc(e)&&e.isValid()||vr(e).isValid())?Rc({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function RBe(e){return this.to(vr(),e)}function MP(e){var t;return e===void 0?this._locale._abbr:(t=Rd(e),t!=null&&(this._locale=t),this)}var YP=Yl("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function JP(){return this._locale}var Yw=1e3,Zp=60*Yw,Jw=60*Zp,UP=(365*400+97)*24*Jw;function Gp(e,t){return(e%t+t)%t}function PP(e,t,i){return e<100&&e>=0?new Date(e+400,t,i)-UP:new Date(e,t,i).valueOf()}function KP(e,t,i){return e<100&&e>=0?Date.UTC(e+400,t,i)-UP:Date.UTC(e,t,i)}function NBe(e){var t,i;if(e=Jl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?KP:PP,e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Gp(t+(this._isUTC?0:this.utcOffset()*Zp),Jw);break;case"minute":t=this._d.valueOf(),t-=Gp(t,Zp);break;case"second":t=this._d.valueOf(),t-=Gp(t,Yw);break}return this._d.setTime(t),xt.updateOffset(this,!0),this}function _Be(e){var t,i;if(e=Jl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?KP:PP,e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Jw-Gp(t+(this._isUTC?0:this.utcOffset()*Zp),Jw)-1;break;case"minute":t=this._d.valueOf(),t+=Zp-Gp(t,Zp)-1;break;case"second":t=this._d.valueOf(),t+=Yw-Gp(t,Yw)-1;break}return this._d.setTime(t),xt.updateOffset(this,!0),this}function VBe(){return this._d.valueOf()-(this._offset||0)*6e4}function EBe(){return Math.floor(this.valueOf()/1e3)}function FBe(){return new Date(this.valueOf())}function WBe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function HBe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function DBe(){return this.isValid()?this.toISOString():null}function TBe(){return jR(this)}function LBe(){return BA({},On(this))}function XBe(){return On(this).overflow}function MBe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Zn("N",0,0,"eraAbbr");Zn("NN",0,0,"eraAbbr");Zn("NNN",0,0,"eraAbbr");Zn("NNNN",0,0,"eraName");Zn("NNNNN",0,0,"eraNarrow");Zn("y",["y",1],"yo","eraYear");Zn("y",["yy",2],0,"eraYear");Zn("y",["yyy",3],0,"eraYear");Zn("y",["yyyy",4],0,"eraYear");pn("N",hN);pn("NN",hN);pn("NNN",hN);pn("NNNN",$Be);pn("NNNNN",exe);nr(["N","NN","NNN","NNNN","NNNNN"],function(e,t,i,o){var s=i._locale.erasParse(e,o,i._strict);s?On(i).era=s:On(i).invalidEra=e});pn("y",oC);pn("yy",oC);pn("yyy",oC);pn("yyyy",oC);pn("yo",txe);nr(["y","yy","yyy","yyyy"],Es);nr(["yo"],function(e,t,i,o){var s;i._locale._eraYearOrdinalRegex&&(s=e.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?t[Es]=i._locale.eraYearOrdinalParse(e,s):t[Es]=parseInt(e,10)});function YBe(e,t){var i,o,s,c=this._eras||Rd("en")._eras;for(i=0,o=c.length;i<o;++i){switch(typeof c[i].since){case"string":s=xt(c[i].since).startOf("day"),c[i].since=s.valueOf();break}switch(typeof c[i].until){case"undefined":c[i].until=1/0;break;case"string":s=xt(c[i].until).startOf("day").valueOf(),c[i].until=s.valueOf();break}}return c}function JBe(e,t,i){var o,s,c=this.eras(),u,C,m;for(e=e.toUpperCase(),o=0,s=c.length;o<s;++o)if(u=c[o].name.toUpperCase(),C=c[o].abbr.toUpperCase(),m=c[o].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(C===e)return c[o];break;case"NNNN":if(u===e)return c[o];break;case"NNNNN":if(m===e)return c[o];break}else if([u,C,m].indexOf(e)>=0)return c[o]}function UBe(e,t){var i=e.since<=e.until?1:-1;return t===void 0?xt(e.since).year():xt(e.since).year()+(t-e.offset)*i}function PBe(){var e,t,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return o[e].name;return""}function KBe(){var e,t,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return o[e].narrow;return""}function zBe(){var e,t,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return o[e].abbr;return""}function QBe(){var e,t,i,o,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(i=s[e].since<=s[e].until?1:-1,o=this.clone().startOf("day").valueOf(),s[e].since<=o&&o<=s[e].until||s[e].until<=o&&o<=s[e].since)return(this.year()-xt(s[e].since).year())*i+s[e].offset;return this.year()}function jBe(e){return _i(this,"_erasNameRegex")||mN.call(this),e?this._erasNameRegex:this._erasRegex}function OBe(e){return _i(this,"_erasAbbrRegex")||mN.call(this),e?this._erasAbbrRegex:this._erasRegex}function qBe(e){return _i(this,"_erasNarrowRegex")||mN.call(this),e?this._erasNarrowRegex:this._erasRegex}function hN(e,t){return t.erasAbbrRegex(e)}function $Be(e,t){return t.erasNameRegex(e)}function exe(e,t){return t.erasNarrowRegex(e)}function txe(e,t){return t._eraYearOrdinalRegex||oC}function mN(){var e=[],t=[],i=[],o=[],s,c,u,C,m,v=this.eras();for(s=0,c=v.length;s<c;++s)u=Cd(v[s].name),C=Cd(v[s].abbr),m=Cd(v[s].narrow),t.push(u),e.push(C),i.push(m),o.push(u),o.push(C),o.push(m);this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}Zn(0,["gg",2],0,function(){return this.weekYear()%100});Zn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function t1(e,t){Zn(0,[e,e.length],0,t)}t1("gggg","weekYear");t1("ggggg","weekYear");t1("GGGG","isoWeekYear");t1("GGGGG","isoWeekYear");pn("G",jk);pn("g",jk);pn("GG",wr,il);pn("gg",wr,il);pn("GGGG",nN,tN);pn("gggg",nN,tN);pn("GGGGG",Qk,Kk);pn("ggggg",Qk,Kk);Wb(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,o){t[o.substr(0,2)]=pi(e)});Wb(["gg","GG"],function(e,t,i,o){t[o]=xt.parseTwoDigitYear(e)});function nxe(e){return zP.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function ixe(e){return zP.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function rxe(){return fd(this.year(),1,4)}function oxe(){return fd(this.isoWeekYear(),1,4)}function sxe(){var e=this.localeData()._week;return fd(this.year(),e.dow,e.doy)}function axe(){var e=this.localeData()._week;return fd(this.weekYear(),e.dow,e.doy)}function zP(e,t,i,o,s){var c;return e==null?lb(this,o,s).year:(c=fd(e,o,s),t>c&&(t=c),lxe.call(this,e,t,i,o,s))}function lxe(e,t,i,o,s){var c=SP(e,t,i,o,s),u=ab(c.year,0,c.dayOfYear);return this.year(u.getUTCFullYear()),this.month(u.getUTCMonth()),this.date(u.getUTCDate()),this}Zn("Q",0,"Qo","quarter");pn("Q",pP);nr("Q",function(e,t){t[hd]=(pi(e)-1)*3});function cxe(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Zn("D",["DD",2],"Do","date");pn("D",wr,sC);pn("DD",wr,il);pn("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});nr(["D","DD"],cg);nr("Do",function(e,t){t[cg]=pi(e.match(wr)[0])});var QP=aC("Date",!0);Zn("DDD",["DDDD",3],"DDDo","dayOfYear");pn("DDD",zk);pn("DDDD",CP);nr(["DDD","DDDD"],function(e,t,i){i._dayOfYear=pi(e)});function gxe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Zn("m",["mm",2],0,"minute");pn("m",wr,iN);pn("mm",wr,il);nr(["m","mm"],Ic);var dxe=aC("Minutes",!1);Zn("s",["ss",2],0,"second");pn("s",wr,iN);pn("ss",wr,il);nr(["s","ss"],md);var Axe=aC("Seconds",!1);Zn("S",0,0,function(){return~~(this.millisecond()/100)});Zn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Zn(0,["SSS",3],0,"millisecond");Zn(0,["SSSS",4],0,function(){return this.millisecond()*10});Zn(0,["SSSSS",5],0,function(){return this.millisecond()*100});Zn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Zn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Zn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Zn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});pn("S",zk,pP);pn("SS",zk,il);pn("SSS",zk,CP);var xA,jP;for(xA="SSSS";xA.length<=9;xA+="S")pn(xA,oC);function uxe(e,t){t[ih]=pi(("0."+e)*1e3)}for(xA="S";xA.length<=9;xA+="S")nr(xA,uxe);jP=aC("Milliseconds",!1);Zn("z",0,0,"zoneAbbr");Zn("zz",0,0,"zoneName");function hxe(){return this._isUTC?"UTC":""}function mxe(){return this._isUTC?"Coordinated Universal Time":""}var $t=Eb.prototype;$t.add=aBe;$t.calendar=hBe;$t.clone=mBe;$t.diff=vBe;$t.endOf=_Be;$t.format=xBe;$t.from=SBe;$t.fromNow=ZBe;$t.to=GBe;$t.toNow=RBe;$t.get=B1e;$t.invalidAt=XBe;$t.isAfter=pBe;$t.isBefore=CBe;$t.isBetween=fBe;$t.isSame=IBe;$t.isSameOrAfter=bBe;$t.isSameOrBefore=yBe;$t.isValid=TBe;$t.lang=YP;$t.locale=MP;$t.localeData=JP;$t.max=T2e;$t.min=D2e;$t.parsingFlags=LBe;$t.set=x1e;$t.startOf=NBe;$t.subtract=lBe;$t.toArray=WBe;$t.toObject=HBe;$t.toDate=FBe;$t.toISOString=kBe;$t.inspect=BBe;typeof Symbol<"u"&&Symbol.for!=null&&($t[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});$t.toJSON=DBe;$t.toString=wBe;$t.unix=EBe;$t.valueOf=VBe;$t.creationData=MBe;$t.eraName=PBe;$t.eraNarrow=KBe;$t.eraAbbr=zBe;$t.eraYear=QBe;$t.year=bP;$t.isLeapYear=k1e;$t.weekYear=nxe;$t.isoWeekYear=ixe;$t.quarter=$t.quarters=cxe;$t.month=BP;$t.daysInMonth=F1e;$t.week=$t.weeks=Y1e;$t.isoWeek=$t.isoWeeks=J1e;$t.weeksInYear=sxe;$t.weeksInWeekYear=axe;$t.isoWeeksInYear=rxe;$t.isoWeeksInISOWeekYear=oxe;$t.date=QP;$t.day=$t.days=i2e;$t.weekday=r2e;$t.isoWeekday=o2e;$t.dayOfYear=gxe;$t.hour=$t.hours=A2e;$t.minute=$t.minutes=dxe;$t.second=$t.seconds=Axe;$t.millisecond=$t.milliseconds=jP;$t.utcOffset=z2e;$t.utc=j2e;$t.local=O2e;$t.parseZone=q2e;$t.hasAlignedHourOffset=$2e;$t.isDST=eBe;$t.isLocal=nBe;$t.isUtcOffset=iBe;$t.isUtc=DP;$t.isUTC=DP;$t.zoneAbbr=hxe;$t.zoneName=mxe;$t.dates=Yl("dates accessor is deprecated. Use date instead.",QP);$t.months=Yl("months accessor is deprecated. Use month instead",BP);$t.years=Yl("years accessor is deprecated. Use year instead",bP);$t.zone=Yl("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Q2e);$t.isDSTShifted=Yl("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",tBe);function pxe(e){return vr(e*1e3)}function Cxe(){return vr.apply(null,arguments).parseZone()}function OP(e){return e}var Vi=qR.prototype;Vi.calendar=n1e;Vi.longDateFormat=s1e;Vi.invalidDate=l1e;Vi.ordinal=d1e;Vi.preparse=OP;Vi.postformat=OP;Vi.relativeTime=u1e;Vi.pastFuture=h1e;Vi.set=e1e;Vi.eras=YBe;Vi.erasParse=JBe;Vi.erasConvertYear=UBe;Vi.erasAbbrRegex=OBe;Vi.erasNameRegex=jBe;Vi.erasNarrowRegex=qBe;Vi.months=N1e;Vi.monthsShort=_1e;Vi.monthsParse=E1e;Vi.monthsRegex=H1e;Vi.monthsShortRegex=W1e;Vi.week=T1e;Vi.firstDayOfYear=M1e;Vi.firstDayOfWeek=X1e;Vi.weekdays=q1e;Vi.weekdaysMin=e2e;Vi.weekdaysShort=$1e;Vi.weekdaysParse=n2e;Vi.weekdaysRegex=s2e;Vi.weekdaysShortRegex=a2e;Vi.weekdaysMinRegex=l2e;Vi.isPM=g2e;Vi.meridiem=u2e;function Uw(e,t,i,o){var s=Rd(),c=vg().set(o,t);return s[i](c,e)}function qP(e,t,i){if(kd(e)&&(t=e,e=void 0),e=e||"",t!=null)return Uw(e,t,i,"month");var o,s=[];for(o=0;o<12;o++)s[o]=Uw(e,o,i,"month");return s}function pN(e,t,i,o){typeof e=="boolean"?(kd(t)&&(i=t,t=void 0),t=t||""):(t=e,i=t,e=!1,kd(t)&&(i=t,t=void 0),t=t||"");var s=Rd(),c=e?s._week.dow:0,u,C=[];if(i!=null)return Uw(t,(i+c)%7,o,"day");for(u=0;u<7;u++)C[u]=Uw(t,(u+c)%7,o,"day");return C}function fxe(e,t){return qP(e,t,"months")}function Ixe(e,t){return qP(e,t,"monthsShort")}function bxe(e,t,i){return pN(e,t,i,"weekdays")}function yxe(e,t,i){return pN(e,t,i,"weekdaysShort")}function vxe(e,t,i){return pN(e,t,i,"weekdaysMin")}LA("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=pi(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i}});xt.lang=Yl("moment.lang is deprecated. Use moment.locale instead.",LA);xt.langData=Yl("moment.langData is deprecated. Use moment.localeData instead.",Rd);var ed=Math.abs;function wxe(){var e=this._data;return this._milliseconds=ed(this._milliseconds),this._days=ed(this._days),this._months=ed(this._months),e.milliseconds=ed(e.milliseconds),e.seconds=ed(e.seconds),e.minutes=ed(e.minutes),e.hours=ed(e.hours),e.months=ed(e.months),e.years=ed(e.years),this}function $P(e,t,i,o){var s=Rc(t,i);return e._milliseconds+=o*s._milliseconds,e._days+=o*s._days,e._months+=o*s._months,e._bubble()}function kxe(e,t){return $P(this,e,t,1)}function Bxe(e,t){return $P(this,e,t,-1)}function SL(e){return e<0?Math.floor(e):Math.ceil(e)}function xxe(){var e=this._milliseconds,t=this._days,i=this._months,o=this._data,s,c,u,C,m;return e>=0&&t>=0&&i>=0||e<=0&&t<=0&&i<=0||(e+=SL(fZ(i)+t)*864e5,t=0,i=0),o.milliseconds=e%1e3,s=Zl(e/1e3),o.seconds=s%60,c=Zl(s/60),o.minutes=c%60,u=Zl(c/60),o.hours=u%24,t+=Zl(u/24),m=Zl(eK(t)),i+=m,t-=SL(fZ(m)),C=Zl(i/12),i%=12,o.days=t,o.months=i,o.years=C,this}function eK(e){return e*4800/146097}function fZ(e){return e*146097/4800}function Sxe(e){if(!this.isValid())return NaN;var t,i,o=this._milliseconds;if(e=Jl(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+o/864e5,i=this._months+eK(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(fZ(this._months)),e){case"week":return t/7+o/6048e5;case"day":return t+o/864e5;case"hour":return t*24+o/36e5;case"minute":return t*1440+o/6e4;case"second":return t*86400+o/1e3;case"millisecond":return Math.floor(t*864e5)+o;default:throw new Error("Unknown unit "+e)}}function Nd(e){return function(){return this.as(e)}}var tK=Nd("ms"),Zxe=Nd("s"),Gxe=Nd("m"),Rxe=Nd("h"),Nxe=Nd("d"),_xe=Nd("w"),Vxe=Nd("M"),Exe=Nd("Q"),Fxe=Nd("y"),Wxe=tK;function Hxe(){return Rc(this)}function Dxe(e){return e=Jl(e),this.isValid()?this[e+"s"]():NaN}function Eh(e){return function(){return this.isValid()?this._data[e]:NaN}}var Txe=Eh("milliseconds"),Lxe=Eh("seconds"),Xxe=Eh("minutes"),Mxe=Eh("hours"),Yxe=Eh("days"),Jxe=Eh("months"),Uxe=Eh("years");function Pxe(){return Zl(this.days()/7)}var sd=Math.round,fp={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Kxe(e,t,i,o,s){return s.relativeTime(t||1,!!i,e,o)}function zxe(e,t,i,o){var s=Rc(e).abs(),c=sd(s.as("s")),u=sd(s.as("m")),C=sd(s.as("h")),m=sd(s.as("d")),v=sd(s.as("M")),x=sd(s.as("w")),G=sd(s.as("y")),B=c<=i.ss&&["s",c]||c<i.s&&["ss",c]||u<=1&&["m"]||u<i.m&&["mm",u]||C<=1&&["h"]||C<i.h&&["hh",C]||m<=1&&["d"]||m<i.d&&["dd",m];return i.w!=null&&(B=B||x<=1&&["w"]||x<i.w&&["ww",x]),B=B||v<=1&&["M"]||v<i.M&&["MM",v]||G<=1&&["y"]||["yy",G],B[2]=t,B[3]=+e>0,B[4]=o,Kxe.apply(null,B)}function Qxe(e){return e===void 0?sd:typeof e=="function"?(sd=e,!0):!1}function jxe(e,t){return fp[e]===void 0?!1:t===void 0?fp[e]:(fp[e]=t,e==="s"&&(fp.ss=t-1),!0)}function Oxe(e,t){if(!this.isValid())return this.localeData().invalidDate();var i=!1,o=fp,s,c;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(i=e),typeof t=="object"&&(o=Object.assign({},fp,t),t.s!=null&&t.ss==null&&(o.ss=t.s-1)),s=this.localeData(),c=zxe(this,!i,o,s),i&&(c=s.pastFuture(+this,c)),s.postformat(c)}var $x=Math.abs;function Fm(e){return(e>0)-(e<0)||+e}function n1(){if(!this.isValid())return this.localeData().invalidDate();var e=$x(this._milliseconds)/1e3,t=$x(this._days),i=$x(this._months),o,s,c,u,C=this.asSeconds(),m,v,x,G;return C?(o=Zl(e/60),s=Zl(o/60),e%=60,o%=60,c=Zl(i/12),i%=12,u=e?e.toFixed(3).replace(/\.?0+$/,""):"",m=C<0?"-":"",v=Fm(this._months)!==Fm(C)?"-":"",x=Fm(this._days)!==Fm(C)?"-":"",G=Fm(this._milliseconds)!==Fm(C)?"-":"",m+"P"+(c?v+c+"Y":"")+(i?v+i+"M":"")+(t?x+t+"D":"")+(s||o||e?"T":"")+(s?G+s+"H":"")+(o?G+o+"M":"")+(e?G+u+"S":"")):"P0D"}var bi=e1.prototype;bi.isValid=J2e;bi.abs=wxe;bi.add=kxe;bi.subtract=Bxe;bi.as=Sxe;bi.asMilliseconds=tK;bi.asSeconds=Zxe;bi.asMinutes=Gxe;bi.asHours=Rxe;bi.asDays=Nxe;bi.asWeeks=_xe;bi.asMonths=Vxe;bi.asQuarters=Exe;bi.asYears=Fxe;bi.valueOf=Wxe;bi._bubble=xxe;bi.clone=Hxe;bi.get=Dxe;bi.milliseconds=Txe;bi.seconds=Lxe;bi.minutes=Xxe;bi.hours=Mxe;bi.days=Yxe;bi.weeks=Pxe;bi.months=Jxe;bi.years=Uxe;bi.humanize=Oxe;bi.toISOString=n1;bi.toString=n1;bi.toJSON=n1;bi.locale=MP;bi.localeData=JP;bi.toIsoString=Yl("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",n1);bi.lang=YP;Zn("X",0,0,"unix");Zn("x",0,0,"valueOf");pn("x",jk);pn("X",f1e);nr("X",function(e,t,i){i._d=new Date(parseFloat(e)*1e3)});nr("x",function(e,t,i){i._d=new Date(pi(e))});//! moment.js
xt.version="2.30.1";qke(vr);xt.fn=$t;xt.min=L2e;xt.max=X2e;xt.now=M2e;xt.utc=vg;xt.unix=pxe;xt.months=fxe;xt.isDate=Vb;xt.locale=LA;xt.invalid=Pk;xt.duration=Rc;xt.isMoment=xc;xt.weekdays=bxe;xt.parseZone=Cxe;xt.localeData=Rd;xt.isDuration=Xv;xt.monthsShort=Ixe;xt.weekdaysMin=vxe;xt.defineLocale=lN;xt.updateLocale=C2e;xt.locales=f2e;xt.weekdaysShort=yxe;xt.normalizeUnits=Jl;xt.relativeTimeRounding=Qxe;xt.relativeTimeThreshold=jxe;xt.calendarFormat=uBe;xt.prototype=$t;xt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var Ca=function(){return Ca=Object.assign||function(t){for(var i,o=1,s=arguments.length;o<s;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c])}return t},Ca.apply(this,arguments)};function gb(e,t,i){if(i||arguments.length===2)for(var o=0,s=t.length,c;o<s;o++)(c||!(o in t))&&(c||(c=Array.prototype.slice.call(t,0,o)),c[o]=t[o]);return e.concat(c||Array.prototype.slice.call(t))}function nK(e){var t=Object.create(null);return function(i){return t[i]===void 0&&(t[i]=e(i)),t[i]}}var qxe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,$xe=nK(function(e){return qxe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),Cr="-ms-",pI="-moz-",Xi="-webkit-",iK="comm",i1="rule",CN="decl",eSe="@import",rK="@keyframes",tSe="@layer",oK=Math.abs,fN=String.fromCharCode,IZ=Object.assign;function nSe(e,t){return zo(e,0)^45?(((t<<2^zo(e,0))<<2^zo(e,1))<<2^zo(e,2))<<2^zo(e,3):0}function sK(e){return e.trim()}function ad(e,t){return(e=t.exec(e))?e[0]:e}function $n(e,t,i){return e.replace(t,i)}function Yv(e,t,i){return e.indexOf(t,i)}function zo(e,t){return e.charCodeAt(t)|0}function Mp(e,t,i){return e.slice(t,i)}function og(e){return e.length}function aK(e){return e.length}function Pf(e,t){return t.push(e),e}function iSe(e,t){return e.map(t).join("")}function ZL(e,t){return e.filter(function(i){return!ad(i,t)})}var r1=1,Yp=1,lK=0,Xl=0,yo=0,lC="";function o1(e,t,i,o,s,c,u,C){return{value:e,root:t,parent:i,type:o,props:s,children:c,line:r1,column:Yp,length:u,return:"",siblings:C}}function dA(e,t){return IZ(o1("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Wm(e){for(;e.root;)e=dA(e.root,{children:[e]});Pf(e,e.siblings)}function rSe(){return yo}function oSe(){return yo=Xl>0?zo(lC,--Xl):0,Yp--,yo===10&&(Yp=1,r1--),yo}function wc(){return yo=Xl<lK?zo(lC,Xl++):0,Yp++,yo===10&&(Yp=1,r1++),yo}function Ah(){return zo(lC,Xl)}function Jv(){return Xl}function s1(e,t){return Mp(lC,e,t)}function bZ(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sSe(e){return r1=Yp=1,lK=og(lC=e),Xl=0,[]}function aSe(e){return lC="",e}function eS(e){return sK(s1(Xl-1,yZ(e===91?e+2:e===40?e+1:e)))}function lSe(e){for(;(yo=Ah())&&yo<33;)wc();return bZ(e)>2||bZ(yo)>3?"":" "}function cSe(e,t){for(;--t&&wc()&&!(yo<48||yo>102||yo>57&&yo<65||yo>70&&yo<97););return s1(e,Jv()+(t<6&&Ah()==32&&wc()==32))}function yZ(e){for(;wc();)switch(yo){case e:return Xl;case 34:case 39:e!==34&&e!==39&&yZ(yo);break;case 40:e===41&&yZ(e);break;case 92:wc();break}return Xl}function gSe(e,t){for(;wc()&&e+yo!==57;)if(e+yo===84&&Ah()===47)break;return"/*"+s1(t,Xl-1)+"*"+fN(e===47?e:wc())}function dSe(e){for(;!bZ(Ah());)wc();return s1(e,Xl)}function ASe(e){return aSe(Uv("",null,null,null,[""],e=sSe(e),0,[0],e))}function Uv(e,t,i,o,s,c,u,C,m){for(var v=0,x=0,G=u,B=0,R=0,V=0,H=1,M=1,L=1,_=0,X="",Q=s,j=c,re=o,P=X;M;)switch(V=_,_=wc()){case 40:if(V!=108&&zo(P,G-1)==58){Yv(P+=$n(eS(_),"&","&\f"),"&\f",oK(v?C[v-1]:0))!=-1&&(L=-1);break}case 34:case 39:case 91:P+=eS(_);break;case 9:case 10:case 13:case 32:P+=lSe(V);break;case 92:P+=cSe(Jv()-1,7);continue;case 47:switch(Ah()){case 42:case 47:Pf(uSe(gSe(wc(),Jv()),t,i,m),m);break;default:P+="/"}break;case 123*H:C[v++]=og(P)*L;case 125*H:case 59:case 0:switch(_){case 0:case 125:M=0;case 59+x:L==-1&&(P=$n(P,/\f/g,"")),R>0&&og(P)-G&&Pf(R>32?RL(P+";",o,i,G-1,m):RL($n(P," ","")+";",o,i,G-2,m),m);break;case 59:P+=";";default:if(Pf(re=GL(P,t,i,v,x,s,C,X,Q=[],j=[],G,c),c),_===123)if(x===0)Uv(P,t,re,re,Q,c,G,C,j);else switch(B===99&&zo(P,3)===110?100:B){case 100:case 108:case 109:case 115:Uv(e,re,re,o&&Pf(GL(e,re,re,0,0,s,C,X,s,Q=[],G,j),j),s,j,G,C,o?Q:j);break;default:Uv(P,re,re,re,[""],j,0,C,j)}}v=x=R=0,H=L=1,X=P="",G=u;break;case 58:G=1+og(P),R=V;default:if(H<1){if(_==123)--H;else if(_==125&&H++==0&&oSe()==125)continue}switch(P+=fN(_),_*H){case 38:L=x>0?1:(P+="\f",-1);break;case 44:C[v++]=(og(P)-1)*L,L=1;break;case 64:Ah()===45&&(P+=eS(wc())),B=Ah(),x=G=og(X=P+=dSe(Jv())),_++;break;case 45:V===45&&og(P)==2&&(H=0)}}return c}function GL(e,t,i,o,s,c,u,C,m,v,x,G){for(var B=s-1,R=s===0?c:[""],V=aK(R),H=0,M=0,L=0;H<o;++H)for(var _=0,X=Mp(e,B+1,B=oK(M=u[H])),Q=e;_<V;++_)(Q=sK(M>0?R[_]+" "+X:$n(X,/&\f/g,R[_])))&&(m[L++]=Q);return o1(e,t,i,s===0?i1:C,m,v,x,G)}function uSe(e,t,i,o){return o1(e,t,i,iK,fN(rSe()),Mp(e,2,-2),0,o)}function RL(e,t,i,o,s){return o1(e,t,i,CN,Mp(e,0,o),Mp(e,o+1,-1),o,s)}function cK(e,t,i){switch(nSe(e,t)){case 5103:return Xi+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xi+e+e;case 4789:return pI+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Xi+e+pI+e+Cr+e+e;case 5936:switch(zo(e,t+11)){case 114:return Xi+e+Cr+$n(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Xi+e+Cr+$n(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Xi+e+Cr+$n(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Xi+e+Cr+e+e;case 6165:return Xi+e+Cr+"flex-"+e+e;case 5187:return Xi+e+$n(e,/(\w+).+(:[^]+)/,Xi+"box-$1$2"+Cr+"flex-$1$2")+e;case 5443:return Xi+e+Cr+"flex-item-"+$n(e,/flex-|-self/g,"")+(ad(e,/flex-|baseline/)?"":Cr+"grid-row-"+$n(e,/flex-|-self/g,""))+e;case 4675:return Xi+e+Cr+"flex-line-pack"+$n(e,/align-content|flex-|-self/g,"")+e;case 5548:return Xi+e+Cr+$n(e,"shrink","negative")+e;case 5292:return Xi+e+Cr+$n(e,"basis","preferred-size")+e;case 6060:return Xi+"box-"+$n(e,"-grow","")+Xi+e+Cr+$n(e,"grow","positive")+e;case 4554:return Xi+$n(e,/([^-])(transform)/g,"$1"+Xi+"$2")+e;case 6187:return $n($n($n(e,/(zoom-|grab)/,Xi+"$1"),/(image-set)/,Xi+"$1"),e,"")+e;case 5495:case 3959:return $n(e,/(image-set\([^]*)/,Xi+"$1$`$1");case 4968:return $n($n(e,/(.+:)(flex-)?(.*)/,Xi+"box-pack:$3"+Cr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xi+e+e;case 4200:if(!ad(e,/flex-|baseline/))return Cr+"grid-column-align"+Mp(e,t)+e;break;case 2592:case 3360:return Cr+$n(e,"template-","")+e;case 4384:case 3616:return i&&i.some(function(o,s){return t=s,ad(o.props,/grid-\w+-end/)})?~Yv(e+(i=i[t].value),"span",0)?e:Cr+$n(e,"-start","")+e+Cr+"grid-row-span:"+(~Yv(i,"span",0)?ad(i,/\d+/):+ad(i,/\d+/)-+ad(e,/\d+/))+";":Cr+$n(e,"-start","")+e;case 4896:case 4128:return i&&i.some(function(o){return ad(o.props,/grid-\w+-start/)})?e:Cr+$n($n(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return $n(e,/(.+)-inline(.+)/,Xi+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(og(e)-1-t>6)switch(zo(e,t+1)){case 109:if(zo(e,t+4)!==45)break;case 102:return $n(e,/(.+:)(.+)-([^]+)/,"$1"+Xi+"$2-$3$1"+pI+(zo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Yv(e,"stretch",0)?cK($n(e,"stretch","fill-available"),t,i)+e:e}break;case 5152:case 5920:return $n(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(o,s,c,u,C,m,v){return Cr+s+":"+c+v+(u?Cr+s+"-span:"+(C?m:+m-+c)+v:"")+e});case 4949:if(zo(e,t+6)===121)return $n(e,":",":"+Xi)+e;break;case 6444:switch(zo(e,zo(e,14)===45?18:11)){case 120:return $n(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Xi+(zo(e,14)===45?"inline-":"")+"box$3$1"+Xi+"$2$3$1"+Cr+"$2box$3")+e;case 100:return $n(e,":",":"+Cr)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return $n(e,"scroll-","scroll-snap-")+e}return e}function Pw(e,t){for(var i="",o=0;o<e.length;o++)i+=t(e[o],o,e,t)||"";return i}function hSe(e,t,i,o){switch(e.type){case tSe:if(e.children.length)break;case eSe:case CN:return e.return=e.return||e.value;case iK:return"";case rK:return e.return=e.value+"{"+Pw(e.children,o)+"}";case i1:if(!og(e.value=e.props.join(",")))return""}return og(i=Pw(e.children,o))?e.return=e.value+"{"+i+"}":""}function mSe(e){var t=aK(e);return function(i,o,s,c){for(var u="",C=0;C<t;C++)u+=e[C](i,o,s,c)||"";return u}}function pSe(e){return function(t){t.root||(t=t.return)&&e(t)}}function CSe(e,t,i,o){if(e.length>-1&&!e.return)switch(e.type){case CN:e.return=cK(e.value,e.length,i);return;case rK:return Pw([dA(e,{value:$n(e.value,"@","@"+Xi)})],o);case i1:if(e.length)return iSe(i=e.props,function(s){switch(ad(s,o=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Wm(dA(e,{props:[$n(s,/:(read-\w+)/,":"+pI+"$1")]})),Wm(dA(e,{props:[s]})),IZ(e,{props:ZL(i,o)});break;case"::placeholder":Wm(dA(e,{props:[$n(s,/:(plac\w+)/,":"+Xi+"input-$1")]})),Wm(dA(e,{props:[$n(s,/:(plac\w+)/,":"+pI+"$1")]})),Wm(dA(e,{props:[$n(s,/:(plac\w+)/,Cr+"input-$1")]})),Wm(dA(e,{props:[s]})),IZ(e,{props:ZL(i,o)});break}return""})}}var gK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ya={},Jp=typeof process<"u"&&Ya!==void 0&&(Ya.REACT_APP_SC_ATTR||Ya.SC_ATTR)||"data-styled",dK="active",AK="data-styled-version",a1="6.1.11",IN=`/*!sc*/
`,bN=typeof window<"u"&&"HTMLElement"in window,fSe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ya!==void 0&&Ya.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ya.REACT_APP_SC_DISABLE_SPEEDY!==""?Ya.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ya.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ya!==void 0&&Ya.SC_DISABLE_SPEEDY!==void 0&&Ya.SC_DISABLE_SPEEDY!==""&&Ya.SC_DISABLE_SPEEDY!=="false"&&Ya.SC_DISABLE_SPEEDY),l1=Object.freeze([]),Up=Object.freeze({});function ISe(e,t,i){return i===void 0&&(i=Up),e.theme!==i.theme&&e.theme||t||i.theme}var uK=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),bSe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ySe=/(^-|-$)/g;function NL(e){return e.replace(bSe,"-").replace(ySe,"")}var vSe=/(a)(d)/gi,Fy=52,_L=function(e){return String.fromCharCode(e+(e>25?39:97))};function vZ(e){var t,i="";for(t=Math.abs(e);t>Fy;t=t/Fy|0)i=_L(t%Fy)+i;return(_L(t%Fy)+i).replace(vSe,"$1-$2")}var tS,hK=5381,Ip=function(e,t){for(var i=t.length;i;)e=33*e^t.charCodeAt(--i);return e},mK=function(e){return Ip(hK,e)};function pK(e){return vZ(mK(e)>>>0)}function wSe(e){return e.displayName||e.name||"Component"}function nS(e){return typeof e=="string"&&!0}var CK=typeof Symbol=="function"&&Symbol.for,fK=CK?Symbol.for("react.memo"):60115,kSe=CK?Symbol.for("react.forward_ref"):60112,BSe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},xSe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},IK={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},SSe=((tS={})[kSe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tS[fK]=IK,tS);function VL(e){return("type"in(t=e)&&t.type.$$typeof)===fK?IK:"$$typeof"in e?SSe[e.$$typeof]:BSe;var t}var ZSe=Object.defineProperty,GSe=Object.getOwnPropertyNames,EL=Object.getOwnPropertySymbols,RSe=Object.getOwnPropertyDescriptor,NSe=Object.getPrototypeOf,FL=Object.prototype;function bK(e,t,i){if(typeof t!="string"){if(FL){var o=NSe(t);o&&o!==FL&&bK(e,o,i)}var s=GSe(t);EL&&(s=s.concat(EL(t)));for(var c=VL(e),u=VL(t),C=0;C<s.length;++C){var m=s[C];if(!(m in xSe||i&&i[m]||u&&m in u||c&&m in c)){var v=RSe(t,m);try{ZSe(e,m,v)}catch{}}}}return e}function Pp(e){return typeof e=="function"}function yN(e){return typeof e=="object"&&"styledComponentId"in e}function rh(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function wZ(e,t){if(e.length===0)return"";for(var i=e[0],o=1;o<e.length;o++)i+=e[o];return i}function db(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function kZ(e,t,i){if(i===void 0&&(i=!1),!i&&!db(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var o=0;o<t.length;o++)e[o]=kZ(e[o],t[o]);else if(db(t))for(var o in t)e[o]=kZ(e[o],t[o]);return e}function vN(e,t){Object.defineProperty(e,"toString",{value:t})}function Hb(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var _Se=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var i=0,o=0;o<t;o++)i+=this.groupSizes[o];return i},e.prototype.insertRules=function(t,i){if(t>=this.groupSizes.length){for(var o=this.groupSizes,s=o.length,c=s;t>=c;)if((c<<=1)<0)throw Hb(16,"".concat(t));this.groupSizes=new Uint32Array(c),this.groupSizes.set(o),this.length=c;for(var u=s;u<c;u++)this.groupSizes[u]=0}for(var C=this.indexOfGroup(t+1),m=(u=0,i.length);u<m;u++)this.tag.insertRule(C,i[u])&&(this.groupSizes[t]++,C++)},e.prototype.clearGroup=function(t){if(t<this.length){var i=this.groupSizes[t],o=this.indexOfGroup(t),s=o+i;this.groupSizes[t]=0;for(var c=o;c<s;c++)this.tag.deleteRule(o)}},e.prototype.getGroup=function(t){var i="";if(t>=this.length||this.groupSizes[t]===0)return i;for(var o=this.groupSizes[t],s=this.indexOfGroup(t),c=s+o,u=s;u<c;u++)i+="".concat(this.tag.getRule(u)).concat(IN);return i},e}(),Pv=new Map,Kw=new Map,Kv=1,Wy=function(e){if(Pv.has(e))return Pv.get(e);for(;Kw.has(Kv);)Kv++;var t=Kv++;return Pv.set(e,t),Kw.set(t,e),t},VSe=function(e,t){Kv=t+1,Pv.set(e,t),Kw.set(t,e)},ESe="style[".concat(Jp,"][").concat(AK,'="').concat(a1,'"]'),FSe=new RegExp("^".concat(Jp,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),WSe=function(e,t,i){for(var o,s=i.split(","),c=0,u=s.length;c<u;c++)(o=s[c])&&e.registerName(t,o)},HSe=function(e,t){for(var i,o=((i=t.textContent)!==null&&i!==void 0?i:"").split(IN),s=[],c=0,u=o.length;c<u;c++){var C=o[c].trim();if(C){var m=C.match(FSe);if(m){var v=0|parseInt(m[1],10),x=m[2];v!==0&&(VSe(x,v),WSe(e,x,m[3]),e.getTag().insertRules(v,s)),s.length=0}else s.push(C)}}};function DSe(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var yK=function(e){var t=document.head,i=e||t,o=document.createElement("style"),s=function(C){var m=Array.from(C.querySelectorAll("style[".concat(Jp,"]")));return m[m.length-1]}(i),c=s!==void 0?s.nextSibling:null;o.setAttribute(Jp,dK),o.setAttribute(AK,a1);var u=DSe();return u&&o.setAttribute("nonce",u),i.insertBefore(o,c),o},TSe=function(){function e(t){this.element=yK(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var o=document.styleSheets,s=0,c=o.length;s<c;s++){var u=o[s];if(u.ownerNode===i)return u}throw Hb(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,i){try{return this.sheet.insertRule(i,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var i=this.sheet.cssRules[t];return i&&i.cssText?i.cssText:""},e}(),LSe=function(){function e(t){this.element=yK(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,i){if(t<=this.length&&t>=0){var o=document.createTextNode(i);return this.element.insertBefore(o,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),XSe=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,i){return t<=this.length&&(this.rules.splice(t,0,i),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),WL=bN,MSe={isServer:!bN,useCSSOMInjection:!fSe},vK=function(){function e(t,i,o){t===void 0&&(t=Up),i===void 0&&(i={});var s=this;this.options=Ca(Ca({},MSe),t),this.gs=i,this.names=new Map(o),this.server=!!t.isServer,!this.server&&bN&&WL&&(WL=!1,function(c){for(var u=document.querySelectorAll(ESe),C=0,m=u.length;C<m;C++){var v=u[C];v&&v.getAttribute(Jp)!==dK&&(HSe(c,v),v.parentNode&&v.parentNode.removeChild(v))}}(this)),vN(this,function(){return function(c){for(var u=c.getTag(),C=u.length,m="",v=function(G){var B=function(L){return Kw.get(L)}(G);if(B===void 0)return"continue";var R=c.names.get(B),V=u.getGroup(G);if(R===void 0||V.length===0)return"continue";var H="".concat(Jp,".g").concat(G,'[id="').concat(B,'"]'),M="";R!==void 0&&R.forEach(function(L){L.length>0&&(M+="".concat(L,","))}),m+="".concat(V).concat(H,'{content:"').concat(M,'"}').concat(IN)},x=0;x<C;x++)v(x);return m}(s)})}return e.registerId=function(t){return Wy(t)},e.prototype.reconstructWithOptions=function(t,i){return i===void 0&&(i=!0),new e(Ca(Ca({},this.options),t),this.gs,i&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(i){var o=i.useCSSOMInjection,s=i.target;return i.isServer?new XSe(s):o?new TSe(s):new LSe(s)}(this.options),new _Se(t)));var t},e.prototype.hasNameForId=function(t,i){return this.names.has(t)&&this.names.get(t).has(i)},e.prototype.registerName=function(t,i){if(Wy(t),this.names.has(t))this.names.get(t).add(i);else{var o=new Set;o.add(i),this.names.set(t,o)}},e.prototype.insertRules=function(t,i,o){this.registerName(t,i),this.getTag().insertRules(Wy(t),o)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup(Wy(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),YSe=/&/g,JSe=/^\s*\/\/.*$/gm;function wK(e,t){return e.map(function(i){return i.type==="rule"&&(i.value="".concat(t," ").concat(i.value),i.value=i.value.replaceAll(",",",".concat(t," ")),i.props=i.props.map(function(o){return"".concat(t," ").concat(o)})),Array.isArray(i.children)&&i.type!=="@keyframes"&&(i.children=wK(i.children,t)),i})}function USe(e){var t,i,o,s=Up,c=s.options,u=c===void 0?Up:c,C=s.plugins,m=C===void 0?l1:C,v=function(B,R,V){return V.startsWith(i)&&V.endsWith(i)&&V.replaceAll(i,"").length>0?".".concat(t):B},x=m.slice();x.push(function(B){B.type===i1&&B.value.includes("&")&&(B.props[0]=B.props[0].replace(YSe,i).replace(o,v))}),u.prefix&&x.push(CSe),x.push(hSe);var G=function(B,R,V,H){R===void 0&&(R=""),V===void 0&&(V=""),H===void 0&&(H="&"),t=H,i=R,o=new RegExp("\\".concat(i,"\\b"),"g");var M=B.replace(JSe,""),L=ASe(V||R?"".concat(V," ").concat(R," { ").concat(M," }"):M);u.namespace&&(L=wK(L,u.namespace));var _=[];return Pw(L,mSe(x.concat(pSe(function(X){return _.push(X)})))),_};return G.hash=m.length?m.reduce(function(B,R){return R.name||Hb(15),Ip(B,R.name)},hK).toString():"",G}var PSe=new vK,BZ=USe(),kK=ai.createContext({shouldForwardProp:void 0,styleSheet:PSe,stylis:BZ});kK.Consumer;ai.createContext(void 0);function HL(){return le.useContext(kK)}var BK=function(){function e(t,i){var o=this;this.inject=function(s,c){c===void 0&&(c=BZ);var u=o.name+c.hash;s.hasNameForId(o.id,u)||s.insertRules(o.id,u,c(o.rules,u,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=i,vN(this,function(){throw Hb(12,String(o.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=BZ),this.name+t.hash},e}(),KSe=function(e){return e>="A"&&e<="Z"};function DL(e){for(var t="",i=0;i<e.length;i++){var o=e[i];if(i===1&&o==="-"&&e[0]==="-")return e;KSe(o)?t+="-"+o.toLowerCase():t+=o}return t.startsWith("ms-")?"-"+t:t}var xK=function(e){return e==null||e===!1||e===""},SK=function(e){var t,i,o=[];for(var s in e){var c=e[s];e.hasOwnProperty(s)&&!xK(c)&&(Array.isArray(c)&&c.isCss||Pp(c)?o.push("".concat(DL(s),":"),c,";"):db(c)?o.push.apply(o,gb(gb(["".concat(s," {")],SK(c),!1),["}"],!1)):o.push("".concat(DL(s),": ").concat((t=s,(i=c)==null||typeof i=="boolean"||i===""?"":typeof i!="number"||i===0||t in gK||t.startsWith("--")?String(i).trim():"".concat(i,"px")),";")))}return o};function uh(e,t,i,o){if(xK(e))return[];if(yN(e))return[".".concat(e.styledComponentId)];if(Pp(e)){if(!Pp(c=e)||c.prototype&&c.prototype.isReactComponent||!t)return[e];var s=e(t);return uh(s,t,i,o)}var c;return e instanceof BK?i?(e.inject(i,o),[e.getName(o)]):[e]:db(e)?SK(e):Array.isArray(e)?Array.prototype.concat.apply(l1,e.map(function(u){return uh(u,t,i,o)})):[e.toString()]}function zSe(e){for(var t=0;t<e.length;t+=1){var i=e[t];if(Pp(i)&&!yN(i))return!1}return!0}var QSe=mK(a1),jSe=function(){function e(t,i,o){this.rules=t,this.staticRulesId="",this.isStatic=(o===void 0||o.isStatic)&&zSe(t),this.componentId=i,this.baseHash=Ip(QSe,i),this.baseStyle=o,vK.registerId(i)}return e.prototype.generateAndInjectStyles=function(t,i,o){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,i,o):"";if(this.isStatic&&!o.hash)if(this.staticRulesId&&i.hasNameForId(this.componentId,this.staticRulesId))s=rh(s,this.staticRulesId);else{var c=wZ(uh(this.rules,t,i,o)),u=vZ(Ip(this.baseHash,c)>>>0);if(!i.hasNameForId(this.componentId,u)){var C=o(c,".".concat(u),void 0,this.componentId);i.insertRules(this.componentId,u,C)}s=rh(s,u),this.staticRulesId=u}else{for(var m=Ip(this.baseHash,o.hash),v="",x=0;x<this.rules.length;x++){var G=this.rules[x];if(typeof G=="string")v+=G;else if(G){var B=wZ(uh(G,t,i,o));m=Ip(m,B+x),v+=B}}if(v){var R=vZ(m>>>0);i.hasNameForId(this.componentId,R)||i.insertRules(this.componentId,R,o(v,".".concat(R),void 0,this.componentId)),s=rh(s,R)}}return s},e}(),ZK=ai.createContext(void 0);ZK.Consumer;var iS={};function OSe(e,t,i){var o=yN(e),s=e,c=!nS(e),u=t.attrs,C=u===void 0?l1:u,m=t.componentId,v=m===void 0?function(Q,j){var re=typeof Q!="string"?"sc":NL(Q);iS[re]=(iS[re]||0)+1;var P="".concat(re,"-").concat(pK(a1+re+iS[re]));return j?"".concat(j,"-").concat(P):P}(t.displayName,t.parentComponentId):m,x=t.displayName,G=x===void 0?function(Q){return nS(Q)?"styled.".concat(Q):"Styled(".concat(wSe(Q),")")}(e):x,B=t.displayName&&t.componentId?"".concat(NL(t.displayName),"-").concat(t.componentId):t.componentId||v,R=o&&s.attrs?s.attrs.concat(C).filter(Boolean):C,V=t.shouldForwardProp;if(o&&s.shouldForwardProp){var H=s.shouldForwardProp;if(t.shouldForwardProp){var M=t.shouldForwardProp;V=function(Q,j){return H(Q,j)&&M(Q,j)}}else V=H}var L=new jSe(i,B,o?s.componentStyle:void 0);function _(Q,j){return function(re,P,O){var de=re.attrs,ce=re.componentStyle,ne=re.defaultProps,oe=re.foldedComponentIds,be=re.styledComponentId,Ie=re.target,Re=ai.useContext(ZK),ye=HL(),ve=re.shouldForwardProp||ye.shouldForwardProp,fe=ISe(P,Re,ne)||Up,Ge=function(Ee,We,Ue){for(var je,qe=Ca(Ca({},We),{className:void 0,theme:Ue}),At=0;At<Ee.length;At+=1){var ct=Pp(je=Ee[At])?je(qe):je;for(var lt in ct)qe[lt]=lt==="className"?rh(qe[lt],ct[lt]):lt==="style"?Ca(Ca({},qe[lt]),ct[lt]):ct[lt]}return We.className&&(qe.className=rh(qe.className,We.className)),qe}(de,P,fe),De=Ge.as||Ie,Pe={};for(var me in Ge)Ge[me]===void 0||me[0]==="$"||me==="as"||me==="theme"&&Ge.theme===fe||(me==="forwardedAs"?Pe.as=Ge.forwardedAs:ve&&!ve(me,De)||(Pe[me]=Ge[me]));var _e=function(Ee,We){var Ue=HL(),je=Ee.generateAndInjectStyles(We,Ue.styleSheet,Ue.stylis);return je}(ce,Ge),pe=rh(oe,be);return _e&&(pe+=" "+_e),Ge.className&&(pe+=" "+Ge.className),Pe[nS(De)&&!uK.has(De)?"class":"className"]=pe,Pe.ref=O,le.createElement(De,Pe)}(X,Q,j)}_.displayName=G;var X=ai.forwardRef(_);return X.attrs=R,X.componentStyle=L,X.displayName=G,X.shouldForwardProp=V,X.foldedComponentIds=o?rh(s.foldedComponentIds,s.styledComponentId):"",X.styledComponentId=B,X.target=o?s.target:e,Object.defineProperty(X,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Q){this._foldedDefaultProps=o?function(j){for(var re=[],P=1;P<arguments.length;P++)re[P-1]=arguments[P];for(var O=0,de=re;O<de.length;O++)kZ(j,de[O],!0);return j}({},s.defaultProps,Q):Q}}),vN(X,function(){return".".concat(X.styledComponentId)}),c&&bK(X,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),X}function TL(e,t){for(var i=[e[0]],o=0,s=t.length;o<s;o+=1)i.push(t[o],e[o+1]);return i}var LL=function(e){return Object.assign(e,{isCss:!0})};function GK(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(Pp(e)||db(e))return LL(uh(TL(l1,gb([e],t,!0))));var o=e;return t.length===0&&o.length===1&&typeof o[0]=="string"?uh(o):LL(uh(TL(o,t)))}function xZ(e,t,i){if(i===void 0&&(i=Up),!t)throw Hb(1,t);var o=function(s){for(var c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];return e(t,i,GK.apply(void 0,gb([s],c,!1)))};return o.attrs=function(s){return xZ(e,t,Ca(Ca({},i),{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},o.withConfig=function(s){return xZ(e,t,Ca(Ca({},i),s))},o}var RK=function(e){return xZ(OSe,e)},Fh=RK;uK.forEach(function(e){Fh[e]=RK(e)});function wN(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var o=wZ(GK.apply(void 0,gb([e],t,!1))),s=pK(o);return new BK(s,o)}const qSe={"aria-busy":!0,role:"progressbar"};Fh.div`
  display: ${e=>e.$visible?"flex":"none"};
`;const mc=242.776657104492,$Se=1.6,e5e=wN`
12.5% {
  stroke-dasharray: ${mc*.14}px, ${mc}px;
  stroke-dashoffset: -${mc*.11}px;
}
43.75% {
  stroke-dasharray: ${mc*.35}px, ${mc}px;
  stroke-dashoffset: -${mc*.35}px;
}
100% {
  stroke-dasharray: ${mc*.01}px, ${mc}px;
  stroke-dashoffset: -${mc*.99}px;
}
`;Fh.path`
  stroke-dasharray: ${mc*.01}px, ${mc};
  stroke-dashoffset: 0;
  animation: ${e5e} ${$Se}s linear infinite;
`;const t5e=wN`
to {
   transform: rotate(360deg);
 }
`;Fh.svg`
  animation: ${t5e} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;Fh.polyline`
  stroke-width: ${e=>e.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const n5e=wN`
to {
   stroke-dashoffset: 136;
 }
`;Fh.polygon`
  stroke-dasharray: 17;
  animation: ${n5e} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;Fh.svg`
  transform-origin: 50% 65%;
`;const i5e=({visible:e=!0,width:t="80",height:i="80",colors:o=["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"],wrapperClass:s="",wrapperStyle:c={},ariaLabel:u="color-ring-loading"})=>e?y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:t,height:i,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:s,style:c,"aria-label":u,"data-testid":"color-ring-svg",...qSe,children:[y.jsx("defs",{children:y.jsx("mask",{id:"ldio-4offds5dlws-mask",children:y.jsx("circle",{cx:"50",cy:"50",r:"26",stroke:"#fff",strokeLinecap:"round",strokeDasharray:"122.52211349000194 40.840704496667314",strokeWidth:"9",transform:"rotate(198.018 50 50)",children:y.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"})})})}),y.jsxs("g",{mask:"url(#ldio-4offds5dlws-mask)",children:[y.jsx("rect",{x:"14.5",y:"0",width:"15",height:"100",fill:o[0],children:y.jsx("animate",{attributeName:"fill",values:o.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.8s"})}),y.jsx("rect",{x:"28.5",y:"0",width:"15",height:"100",fill:o[1],children:y.jsx("animate",{attributeName:"fill",values:o.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.6s"})}),y.jsx("rect",{x:"42.5",y:"0",width:"15",height:"100",fill:o[2],children:y.jsx("animate",{attributeName:"fill",values:o.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.4s"})}),y.jsx("rect",{x:"56.5",y:"0",width:"15",height:"100",fill:o[3],children:y.jsx("animate",{attributeName:"fill",values:o.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.2s"})}),y.jsx("rect",{x:"70.5",y:"0",width:"15",height:"100",fill:o[4],children:y.jsx("animate",{attributeName:"fill",values:o.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"0s"})})]})]}):null,Ti=e=>y.jsx("div",{className:`${e.type==="page"?"h-screen w-screen":""} flex items-center justify-center`,children:y.jsx(i5e,{visible:!0,height:e.height,width:e.width,ariaLabel:"color-ring-loading",wrapperStyle:{},wrapperClass:"color-ring-wrapper",colors:[e.color,e.color,e.color,e.color,e.color]})}),Pn=e=>{const t=le.useRef(null),i=s=>{if(t.current){const c=t.current,u=document.createElement("span"),C=c.getBoundingClientRect(),m=Math.max(C.width,C.height),v=m/2;u.style.width=u.style.height=`${m}px`,u.style.left=`${s.clientX-C.left-v}px`,u.style.top=`${s.clientY-C.top-v}px`,u.classList.add("ripple");const x=c.querySelector(".ripple");x&&c.removeChild(x),c.appendChild(u),setTimeout(()=>{c.removeChild(u)},500),e.onClick&&e.onClick()}},o=(e.fullWidth?" !w-full ":" ")+(e.fullRounded?" !rounded-full ":" ")+(e.size==="small"?" !py-1 !px-3 ":e.size==="medium"?" py-2.5 px-6 ":e.size==="large"?" !py-3 !px-8 ":e.size==="mini"?" !py-1 !px-2 ":"");return y.jsx("button",{ref:t,className:o+e.className+" relative overflow-hidden flex gap-3 items-center justify-center font-medium disabled:bg-opacity-80 disabled:pointer-events-none rounded-md transition-colors duration-300 ease-in-out ",type:e.type,disabled:e.loading||e.disabled,onClick:i,children:e.loading?y.jsx(Ti,{type:"button",height:e.loadingHeight?e.loadingHeight:"24",width:e.loadingWidth?e.loadingWidth:"24",color:e.loadingColor?e.loadingColor:"#fff"}):y.jsxs(y.Fragment,{children:[e.icon&&y.jsx("div",{className:`${e.iconClass} w-5`,children:e.icon}),e.label]})})};function r5e(e){const{t}=Jn(),[i,o]=le.useState(!1),[s,c]=le.useState(!1),[u,C]=le.useState({email:"",otp:"",newPassword:"",confirmPassword:""}),[m,v]=le.useState(!1);le.useEffect(()=>{e.email&&C(de=>({...de,email:e.email}))},[e.email]);const x=()=>{e.setIsOpen()},G=async de=>{c(!0),de.preventDefault(),await mn.post("/courtstar/account/reset-password",u).then(()=>{sn.success("Reset Successfully",{toastId:"reset-password-success"}),x()}).catch(ce=>{sn.error(ce.message,{toastId:"reset-password-error"})}).finally(()=>{c(!1)})},B=de=>{C(ce=>({...ce,otp:de}))},R=de=>{const{name:ce,value:ne}=de.target;C(oe=>({...oe,[ce]:ne}))};le.useEffect(()=>{e.isOpen&&(C(de=>({...de,otp:"",newPassword:"",confirmPassword:""})),v(!0),setTimeout(()=>v(!1),100),H(!0))},[e.isOpen]);const[V,H]=le.useState(!0),[M,L]=le.useState(0),[_,X]=le.useState(""),Q=async()=>{o(!0),await mn.put("/courtstar/account/regenerate-otp",e.email).then(de=>{X(de.data.data),H(!0)}).catch(de=>{sn.error(de.message,{toastId:"email-error"})}).finally(()=>{o(!1)})};le.useEffect(()=>{X(e.otpTime)},[e.otpTime]);const[j,re]=le.useState(xt().unix());le.useEffect(()=>{const de=setInterval(()=>{re(xt().unix())},1e3);return()=>clearInterval(de)},[]),le.useEffect(()=>{if(_){let de=180-(j-parseInt(_));de>0?L(de):H(!1)}},[_,j]);const P=de=>{const ce=Math.floor(de/60),ne=de%60;return`${String(ce).padStart(2,"0")}:${String(ne).padStart(2,"0")}`},O=y.jsxs("form",{onSubmit:G,className:"w-[440px] flex flex-col gap-5",children:[y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx("div",{className:"text-4xl font-semibold text-center",children:t("checkYourEmail")}),y.jsxs("div",{className:"text-gray-400 text-sm text-center",children:[y.jsxs("div",{children:[t("weSent"),y.jsx("span",{className:"font-semibold text-black",children:u.email})]}),y.jsx("div",{children:t("enterDigit")})]}),y.jsx(gwe,{value:u.otp.trim(),onChange:B,clear:m,onComplete:B}),y.jsx(Xp,{id:"newPassword",name:"newPassword",placeholder:t("enterNewPassword"),label:t("newPassword"),value:u.newPassword,onchange:R,evaluate:!0}),y.jsx(Xp,{id:"confirmPassword",name:"confirmPassword",placeholder:t("enterConfirmNewPassword"),label:t("confirmNewPassword"),value:u.confirmPassword,onchange:R,evaluate:!1}),y.jsxs("div",{className:"text-sm text-center justify-center text-gray-400",children:[t("gotEmailYet"),i?y.jsx(Ti,{type:"button",height:"20",width:"20",color:"#000"}):y.jsx("div",{className:V?"font-semibold text-red-500":"font-semibold text-gray-800 cursor-pointer hover:text-primary-green",onClick:Q,children:V?y.jsx("p",{children:P(M)}):t("resend")})]})]}),y.jsx("div",{className:"flex items-center justify-center",children:y.jsx(Pn,{type:"submit",label:t("confirm"),fullWidth:!0,fullRounded:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",loading:s})})]});return y.jsx("div",{children:y.jsx(Ll,{html:O,isOpen:e.isOpen,setIsOpen:x})})}function o5e(e){const{t}=Jn(),[i,o]=le.useState(!1),[s,c]=le.useState(!1),[u,C]=le.useState(""),m=async H=>{H.preventDefault(),o(!0),await mn.put("/courtstar/account/regenerate-otp",G).then(M=>{C(M.data.data),x(),c(!0)}).catch(M=>{sn.error(M.message,{toastId:"email-error"})}).finally(()=>{o(!1)})},v=()=>{c(!1)},x=()=>{e.setIsOpen(!1)},[G,B]=le.useState(""),R=H=>{B(H.target.value)};le.useEffect(()=>{e.isOpen&&B("")},[e.isOpen]);const V=y.jsxs("div",{className:"w-[440px]",children:[y.jsx("div",{className:"text-4xl font-semibold mb-5 text-center",children:t("forgotPassword")}),y.jsx("div",{className:"text-gray-400 text-sm mb-5 text-center",children:t("forgotPasswordNote")}),y.jsxs("form",{onSubmit:m,children:[y.jsx("div",{className:"mb-4",children:y.jsx(Nn,{id:"emailForget",name:"emailForget",placeholder:t("enterEmail"),label:"Email",value:G,onchange:R})}),y.jsx("div",{children:y.jsx(Pn,{type:"submit",label:t("sendCode"),fullWidth:!0,fullRounded:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",loading:i})})]})]});return y.jsxs("div",{children:[y.jsx(Ll,{html:V,isOpen:e.isOpen,setIsOpen:x}),y.jsx(r5e,{isOpen:s,setIsOpen:v,email:G,otpTime:u})]})}class Kf extends Error{}Kf.prototype.name="InvalidTokenError";function s5e(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,i)=>{let o=i.charCodeAt(0).toString(16).toUpperCase();return o.length<2&&(o="0"+o),"%"+o}))}function a5e(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return s5e(t)}catch{return atob(t)}}function l5e(e,t){if(typeof e!="string")throw new Kf("Invalid token specified: must be a string");t||(t={});const i=t.header===!0?0:1,o=e.split(".")[i];if(typeof o!="string")throw new Kf(`Invalid token specified: missing part #${i+1}`);let s;try{s=a5e(o)}catch(c){throw new Kf(`Invalid token specified: invalid base64 for part #${i+1} (${c.message})`)}try{return JSON.parse(s)}catch(c){throw new Kf(`Invalid token specified: invalid json for part #${i+1} (${c.message})`)}}const kN={isLogin:!!localStorage.getItem("token"),token:localStorage.getItem("token"),role:localStorage.getItem("role"),account:{firstName:"",lastName:"",email:"",phone:"",role:""},isLoading:!1},NK=le.createContext({state:kN,dispatch:()=>null}),c5e=(e,t)=>{switch(t.type){case"LOGIN":return{...e,isLogin:!0,token:t.payload.token,role:t.payload.role,isLoading:!1};case"LOGOUT":return{...kN,role:"",isLogin:!1};case"SET_ACCOUNT":return{...e,account:t.payload,isLoading:!1};case"REFRESH_TOKEN":return{...e,isLogin:!0,token:t.payload.token,role:t.payload.role,isLoading:!1};case"START_LOADING":return{...e,isLoading:!0};case"STOP_LOADING":return{...e,isLoading:!1};default:return e}},g5e=({children:e})=>{const[t,i]=le.useReducer(c5e,kN);return le.useEffect(()=>{const o=async()=>{if(!t.token)return;(u=>{const C=l5e(u);if(!C.exp)return!1;const v=C.exp*1e3-Date.now();if(v<0)return localStorage.clear(),i({type:"LOGOUT"}),!1;const x=10*60*1e3;return v<x})(t.token)&&(i({type:"START_LOADING"}),await mn.post("/courtstar/auth/refresh",{token:t.token}).then(u=>{const C=u.data,m=C.data.token,v=C.data.role;localStorage.setItem("token",m),localStorage.setItem("role",v),i({type:"REFRESH_TOKEN",payload:{token:m,role:v}}),mn.get("/courtstar/account/myInfor").then(x=>{i({type:"SET_ACCOUNT",payload:x.data.data})}).catch(x=>{console.log(x.message),localStorage.clear(),i({type:"LOGOUT"})}).finally(()=>{})}).catch(u=>{console.log(u.message),localStorage.clear(),i({type:"LOGOUT"})}).finally(()=>{i({type:"STOP_LOADING"})}))};o();const s=setInterval(o,60*1e3);return()=>clearInterval(s)},[t.token]),y.jsx(NK.Provider,{value:{state:t,dispatch:i},children:e})},_d=()=>le.useContext(NK);function d5e(e){const t=Gd(),{t:i}=Jn(),{dispatch:o}=_d(),[s,c]=le.useState(!1),[u,C]=le.useState(!1),m=()=>{e.setIsOpen(),C(!1)},[v,x]=le.useState(!1),G=()=>{m(),x(!0)},B=()=>{x(!1)},[R,V]=le.useState({email:"",password:""}),H=_=>{const{name:X,value:Q}=_.target;V(j=>({...j,[X]:Q}))},M=async _=>{if(_.preventDefault(),!R.email||!R.password){C(!0);return}c(!0),await mn.post("/courtstar/auth/token",R).then(X=>{const Q=X.data;localStorage.setItem("token",Q.data.token),localStorage.setItem("role",Q.data.role),o({type:"LOGIN",payload:{token:Q.data.token,role:Q.data.role}}),m(),Q.data.role==="MANAGER"?t("/myCentre/balance"):Q.data.role==="STAFF"?t("/myCentre/:id"):Q.data.role==="ADMIN"?t("/admin"):t("/"),sn.success(Q.message,{toastId:"login-success"})}).catch(X=>{sn.error(X.message==="Request failed with status code 401"||X.message==="Request failed with status code 400"?i("wrongMailOrPass"):X.message,{toastId:"login-error"}),console.log(X.message)}).finally(()=>{c(!1)})};le.useEffect(()=>{e.isOpen&&V({email:"",password:""})},[e.isOpen]);const L=y.jsxs("div",{className:"w-[440px]",children:[y.jsx("h2",{className:"text-4xl font-semibold mb-5 text-center",children:i("logIn")}),y.jsxs("p",{className:"text-gray-400 text-sm mb-5 text-center",children:[i("dontHaveAccount"),"? ",y.jsx("a",{href:"#s",className:"font-semibold underline text-gray-800",children:i("signUpForFree")})]}),y.jsxs("form",{onSubmit:M,children:[y.jsx("div",{className:"mb-4",children:y.jsx(Nn,{id:"email",name:"email",placeholder:i("enterEmail"),label:"Email*",value:R.email,onchange:H,error:u&&!R.email,errorMsg:i("plsEnterEmail")})}),y.jsx("div",{className:"mb-0",children:y.jsx(Xp,{id:"password",name:"password",placeholder:i("enterPassword"),label:i("password"),value:R.password,onchange:H,evaluate:!1,error:u&&!R.password,errorMsg:i("plsEnterPassword")})}),y.jsx("div",{className:"flex items-center justify-between mt-4 mb-5 px-0.5",children:y.jsxs("div",{onClick:G,className:"text-sm font-semibold underline cursor-pointer",children:[i("forgetPassword"),"?"]})}),y.jsx("div",{className:"flex items-center justify-center",children:y.jsx(Pn,{type:"submit",label:i("logIn"),fullWidth:!0,fullRounded:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white shadow",loading:s})}),y.jsx("div",{className:"flex justify-center mt-4 ",children:y.jsxs("button",{className:"text-center text-sm shadow border rounded-full py-3 px-14 inline-flex items-center hover:bg-gray-200 transition-all duration-300 ease-in-out",href:"#",children:[y.jsx("img",{className:"mr-3 w-fit",src:FU,alt:"google"}),i("continueWithGoogle")]})})]})]});return y.jsxs("div",{children:[y.jsx(Ll,{html:L,isOpen:e.isOpen,setIsOpen:m}),y.jsx(o5e,{isOpen:v,setIsOpen:B})]})}function A5e(e){const[t,i]=le.useState(!1),o=le.useRef(null),s=()=>{i(!t)},c=C=>{o.current&&!o.current.contains(C.target)&&i(!1)},u=C=>{i(!1)};return le.useEffect(()=>(document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}),[]),le.useEffect(()=>{const C=()=>{i(!1)};return window.addEventListener("scroll",C),()=>{window.removeEventListener("scroll",C)}},[]),y.jsx("div",{className:"w-full relative",ref:o,children:e.loadingLogout?y.jsxs("div",{className:"rounded-lg py-2 px-2 gap-1 flex justify-between items-center bg-gray-800 text-white font-semibold text-sm",children:[e.userEmail,y.jsx(Ti,{width:"20",height:"20",color:"#fff"})]}):y.jsxs(y.Fragment,{children:[y.jsxs("button",{className:"rounded-lg py-2 px-2 gap-1 flex justify-between items-center bg-gray-800",onClick:s,"aria-haspopup":"listbox","aria-expanded":t,children:[y.jsx("div",{className:"text-sm text-white font-semibold",children:e.userEmail}),y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t?"rotate-180 lucide lucide-chevron-down":"lucide lucide-chevron-down",children:y.jsx("path",{d:"m6 9 6 6 6-6"})})]}),t&&y.jsxs("div",{className:"z-50 fixed font-semibold bg-white shadow-gray-800 shadow-md rounded-lg p-1 mt-1.5",children:[y.jsxs(Nl,{className:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-200 focus:outline-none focus:bg-gray-100",to:"/profile",onClick:u,children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user",children:[y.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),"Your profile"]}),y.jsxs(Nl,{className:"flex items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-200 focus:outline-none focus:bg-gray-100",to:"/bookingHistory",onClick:u,children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-history",children:[y.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),y.jsx("path",{d:"M3 3v5h5"}),y.jsx("path",{d:"M12 7v5l4 2"})]}),"Booking history"]}),y.jsxs("button",{className:"flex w-full items-center gap-x-3.5 py-2 px-3 rounded-lg text-sm text-red-500 hover:bg-gray-200 focus:outline-none focus:bg-gray-100",onClick:e.logout,children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-log-out",children:[y.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),y.jsx("polyline",{points:"16 17 21 12 16 7"}),y.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),"Log out"]})]})]})})}const u5e="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%208C6%206.4087%206.63214%204.88258%207.75736%203.75736C8.88258%202.63214%2010.4087%202%2012%202C13.5913%202%2015.1174%202.63214%2016.2426%203.75736C17.3679%204.88258%2018%206.4087%2018%208C18%2015%2021%2017%2021%2017H3C3%2017%206%2015%206%208Z'%20stroke='%23F3F4F6'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M10.3%2021C10.4674%2021.3044%2010.7135%2021.5583%2011.0125%2021.7352C11.3116%2021.912%2011.6526%2022.0053%2012%2022.0053C12.3475%2022.0053%2012.6885%2021.912%2012.9876%2021.7352C13.2866%2021.5583%2013.5327%2021.3044%2013.7%2021'%20stroke='%23F3F4F6'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",h5e="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-info'%3e%3ccircle%20cx='12'%20cy='12'%20r='10'/%3e%3cpath%20d='M12%2016v-4'/%3e%3cpath%20d='M12%208h.01'/%3e%3c/svg%3e",m5e="/images/check-check.svg",p5e="/images/git-pull-request-arrow.svg",C5e="/images/git-pull-request-closed.svg",f5e="/images/ticket-check.svg",I5e=({notification:e,onNotificationClick:t})=>{const{t:i}=Jn();let o="";return e.type==="REGISTERED"?o=m5e:e.type==="ADD_CENTRE"?o=p5e:e.type==="DENIED_CENTRE"?o=C5e:e.type==="BOOKING"?o=f5e:o=h5e,y.jsxs("li",{className:"flex items-center justify-between gap-2 hover:rounded-md transition-all ease-in-out duration-300 p-2 hover:bg-gray-100 cursor-pointer border-t border-gray-200",onClick:()=>t(e),children:[y.jsx("img",{src:o,alt:"",className:"w-7 h-7 mr-2"}),y.jsxs("div",{className:"flex-1 flex flex-col items-start",children:[y.jsx("span",{className:"text-gray-700",children:e.content?i(e.content):i("noReason")}),y.jsxs("span",{className:"text-gray-500 text-sm flex items-end gap-3",children:[!e.status&&y.jsx("span",{className:"inline-flex items-center justify-center p-1 mb-0.5 h-2 w-2 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-400 rounded-full"}),xt(e.date).fromNow()]})]})]})},b5e=({notifications:e})=>{const[t,i]=le.useState(!1),o=le.useRef(null),s=()=>{i(!t)},c=C=>{o.current&&!o.current.contains(C.target)&&i(!1)},u=C=>{console.log("Seen",C.id)};return le.useEffect(()=>(document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}),[]),y.jsxs("div",{className:"relative",ref:o,children:[y.jsxs("button",{onClick:s,className:"relative rounded-full w-8 h-8 flex justify-center items-center transition-all duration-300 ease-in-out focus:outline-none hover:bg-gray-800",children:[y.jsx("img",{src:u5e,alt:"bell",className:"w-6 h-6"}),e&&e.length>0&&e.some(C=>!C.status)&&y.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center p-1 h-2 w-2 text-xs font-bold leading-none text-red-100 transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full"})]}),t&&y.jsx("div",{className:"z-50 fixed w-full 1440:w-[1440px] left-1/2 -translate-x-1/2 right-0 flex justify-end",children:y.jsx("div",{className:"mt-2.5 w-[400px] bg-white border border-gray-200 rounded-lg shadow-lg",children:y.jsxs("div",{className:"p-3",children:[y.jsx("h4",{className:"text-lg font-semibold text-gray-700 text-center",children:"Notifications"}),(e==null?void 0:e.length)===0&&y.jsx("p",{className:"text-gray-500",children:"No new notifications"}),y.jsx("div",{className:"mt-2 max-h-[400px] overflow-y-auto",children:e==null?void 0:e.map(C=>y.jsx(I5e,{notification:C,onNotificationClick:u},C.id))})]})})})]})},y5e=()=>{const{t:e}=Jn(),{state:t,dispatch:i}=_d(),{token:o,role:s,isLogin:c,account:u}=t,[C,m]=le.useState(!1),[v,x]=le.useState(!1),G=()=>{x(!0)},B=()=>{x(!1)};le.useEffect(()=>{c&&(async()=>{await mn.get("/courtstar/account/myInfor").then(_=>{i({type:"SET_ACCOUNT",payload:_.data.data})}).catch(_=>{console.log(_.message),localStorage.clear(),i({type:"LOGOUT"})}).finally(()=>{})})()},[c]);const R=Gd(),V=async()=>{m(!0),await mn.post("/courtstar/auth/logout",{token:o}).then(()=>{localStorage.clear(),i({type:"LOGOUT"}),sn.success("Log out successfully!",{toastId:"log-out-successfully"}),R("/")}).catch(L=>{console.log(L.message),sn.warning("Can not log out!",{toastId:"can-not-log-out"})}).finally(()=>m(!1))};le.useEffect(()=>{c&&(async()=>{await mn.get("/courtstar/notification").then(_=>{M(_.data.data.reverse())}).catch(_=>{console.log(_.message)}).finally()})()},[c]);const[H,M]=le.useState([]);return y.jsxs("div",{className:"font-Inter text-base overflow-x-hidden w-full shadow-lg fixed z-30",children:[y.jsx("header",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-primary-green",children:y.jsxs("nav",{className:"max-w-screen-1440 1440:mx-auto mx-4 w-full sm:flex sm:items-center sm:justify-between",children:[y.jsxs("div",{className:"flex items-center justify-between min-w-[416px]",children:[y.jsx("div",{className:"py-2",children:y.jsx("img",{src:EU,className:"h-16",alt:"logo"})}),y.jsx("div",{className:"sm:hidden",children:y.jsxs("button",{type:"button",className:"p-2 inline-flex justify-center items-center gap-x-2 rounded-lg border border-gray-200 text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none",children:[y.jsxs("svg",{className:"flex-shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("line",{x1:"3",x2:"21",y1:"6",y2:"6"}),y.jsx("line",{x1:"3",x2:"21",y1:"12",y2:"12"}),y.jsx("line",{x1:"3",x2:"21",y1:"18",y2:"18"})]}),y.jsxs("svg",{className:"hidden flex-shrink-0 size-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M18 6 6 18"}),y.jsx("path",{d:"m6 6 12 12"})]})]})})]}),y.jsx("div",{className:"hidden sm:flex justify-center overflow-hidden transition-all duration-200 grow text-lg",children:y.jsxs("div",{className:"flex flex-col gap-10 sm:flex-row sm:items-center sm:mt-0 font-medium",children:[y.jsx(Nl,{className:`text-gray-200 font-medium hover:text-white transition-all ease-in-out duration-200\r
                cursor-pointer py-1 relative after:sm:absolute after:sm:bottom-0 after:sm:left-0 after:sm:bg-white after:sm:h-0.5 after:sm:w-0 hover:after:sm:w-full after:sm:transition-all after:sm:ease-in-out after:sm:duration-200 after:sm:rounded-md`,to:"/",children:e("home")}),y.jsx(Nl,{className:`text-gray-200 font-medium hover:text-white transition-all ease-in-out duration-200\r
                cursor-pointer py-1 relative after:sm:absolute after:sm:bottom-0 after:sm:left-0 after:sm:bg-white after:sm:h-0.5 after:sm:w-0 hover:after:sm:w-full after:sm:transition-all after:sm:ease-in-out after:sm:duration-200 after:sm:rounded-md`,to:"/aboutUs",children:e("aboutUs")}),!(s==="MANAGER"||s==="ADMIN")&&y.jsx(Nl,{className:`text-gray-200 font-medium hover:text-white transition-all ease-in-out duration-200\r
                cursor-pointer py-1 relative after:sm:absolute after:sm:bottom-0 after:sm:left-0 after:sm:bg-white after:sm:h-0.5 after:sm:w-0 hover:after:sm:w-full after:sm:transition-all after:sm:ease-in-out after:sm:duration-200 after:sm:rounded-md`,to:"/partnerRegister",children:e("partnerRegister")}),s&&s==="ADMIN"&&c&&y.jsx(Nl,{className:`text-gray-200 font-medium hover:text-white transition-all ease-in-out duration-200\r
                cursor-pointer py-1 relative after:sm:absolute after:sm:bottom-0 after:sm:left-0 after:sm:bg-white after:sm:h-0.5 after:sm:w-0 hover:after:sm:w-full after:sm:transition-all after:sm:ease-in-out after:sm:duration-200 after:sm:rounded-md`,to:"/admin",children:e("dashboard")}),s&&(s==="STAFF"||s==="MANAGER")&&c&&y.jsx(Nl,{className:`text-gray-200 font-medium hover:text-white transition-all ease-in-out duration-200\r
                cursor-pointer py-1 relative after:sm:absolute after:sm:bottom-0 after:sm:left-0 after:sm:bg-white after:sm:h-0.5 after:sm:w-0 hover:after:sm:w-full after:sm:transition-all after:sm:ease-in-out after:sm:duration-200 after:sm:rounded-md`,to:s==="STAFF"?"/myCentre/:id":"/myCentre/balance",children:e("myCentre")})]})}),y.jsxs("div",{className:"flex basis-1/4 justify-end",children:[y.jsx(awe,{}),c===!1&&y.jsxs("div",{className:"flex gap-4",children:[y.jsx("div",{children:y.jsx(Pn,{label:e("logIn"),size:"medium",fullWidth:!0,className:"border-white border hover:bg-gray-200 text-white hover:text-primary-green min-w-36 max-w-36 min-h-[46px] max-h-[46px]",onClick:G})}),y.jsx("div",{children:y.jsx(Pn,{label:e("signUp"),size:"medium",fullWidth:!0,className:"bg-gray-700 hover:bg-gray-800 text-gray-200 border border-gray-700 hover:border-gray-800 min-w-36 max-w-36 min-h-[46px] max-h-[46px]",onClick:()=>R("/customerRegister")})})]}),c===!0&&y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(A5e,{userEmail:u.email,logout:V,loadingLogout:C}),y.jsx(b5e,{notifications:H})]})]})]})}),y.jsx(d5e,{isOpen:v,setIsOpen:B})]})},v5e=()=>{const{t:e}=Jn();return y.jsx("div",{className:"font-Inter text-base text-white overflow-x-hidden",children:y.jsx("footer",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-800",children:y.jsxs("div",{className:"max-w-screen-1440 1440:mx-auto mx-4 w-full flex flex-col items-center justify-between",children:[y.jsxs("div",{className:"flex justify-between items-center w-full py-5",children:[y.jsx("img",{src:EU,alt:"logo",className:"w-52 h-52 block basis-1/3"}),y.jsx("div",{className:"basis-1/3 flex",children:y.jsxs("div",{className:"mx-auto flex flex-col gap-4",children:[y.jsx("div",{children:y.jsx(Nl,{className:"text-gray-200 hover:text-white transition-all ease-in-out duration-300",to:"/aboutUs",children:e("aboutUs")})}),y.jsx("div",{children:y.jsx(Nl,{className:"text-gray-200 hover:text-white transition-all ease-in-out duration-300",to:"/partnerRegister",children:e("partnerRegister")})}),y.jsx("div",{children:y.jsx(Nl,{className:"text-gray-200 hover:text-white transition-all ease-in-out duration-300",to:"/CustomerTerm",children:e("termForCustomer")})}),y.jsx("div",{children:y.jsx(Nl,{className:"text-gray-200 hover:text-white transition-all ease-in-out duration-300",to:"/PartnerTerm",children:e("termForPartner")})}),y.jsx("div",{children:y.jsx(Nl,{className:"text-gray-200 hover:text-white transition-all ease-in-out duration-300",to:"/PrivacyPolicy",children:e("privacyPolicy")})})]})}),y.jsxs("div",{className:"basis-1/3 flex flex-col gap-5",children:[y.jsx("div",{children:"Email: courtstar.se@gmail.com"}),y.jsxs("div",{children:[e("address"),": L E2a-7, ng D1, Khu Cng ngh cao, P.Long Thnh M, Tp. Th c, TP.HCM."]})]})]}),y.jsx("hr",{className:"bg-white w-[100vw]"}),y.jsxs("div",{className:"py-4",children:[" ",e("allRightsReserved2024CourtStar")]})]})})})},w5e=()=>y.jsxs("div",{className:"relative",children:[y.jsx(y5e,{}),y.jsx("div",{className:"min-h-20",children:y.jsx(Oke,{pauseOnHover:!1,closeOnClick:!0,draggable:!0,autoClose:2e3})}),y.jsx(Kve,{}),y.jsx(v5e,{})]}),k5e=()=>y.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100",children:[y.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-8",children:"404 - Page Not Found"}),y.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."}),y.jsx("a",{href:"/",className:"text-blue-600 hover:underline transition duration-300",children:"Go to Home"})]}),B5e=()=>{const{pathname:e}=iu();return le.useEffect(()=>{window.scrollTo(0,0)},[e]),null},x5e="data:image/svg+xml,%3csvg%20width='29'%20height='24'%20viewBox='0%200%2029%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.7869%200.580933L19.516%207.52089L28.6995%209.22064L22.4388%2015.2095L23.3853%2023.2L14.7869%2019.9614L6.18847%2023.2L7.135%2015.2095L0.874344%209.22064L10.0578%207.52089L14.7869%200.580933Z'%20fill='%23FFCB45'/%3e%3c/svg%3e",S5e="data:image/svg+xml,%3csvg%20width='29'%20height='24'%20viewBox='0%200%2029%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.2623%200.580933L18.9914%207.52089L28.1749%209.22064L21.9142%2015.2095L22.8607%2023.2L14.2623%2019.9614L5.66386%2023.2L6.61039%2015.2095L0.349731%209.22064L9.53316%207.52089L14.2623%200.580933Z'%20fill='%23e5e6e7'/%3e%3c/svg%3e",ru=e=>{const[t,i]=le.useState(e.value);le.useEffect(()=>{i(e.value)},[e.value]);const o=s=>{e.editable&&(i(s===t?0:s),e.onChange&&e.onChange(s))};return y.jsx("div",{className:e.ratingWrapper,children:[1,2,3,4,5].map(s=>y.jsx("div",{className:e.editable?"cursor-pointer":"",onClick:()=>o(s),children:y.jsx("img",{src:t>=s?x5e:S5e,alt:"Star",className:e.star})},s))})},Ab={black:"#000",white:"#fff"},Hm={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Dm={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Tm={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Lm={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Xm={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Sf={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Z5e={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Sh(e){let t="https://mui.com/production-error/?code="+e;for(let i=1;i<arguments.length;i+=1)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const G5e=Object.freeze(Object.defineProperty({__proto__:null,default:Sh},Symbol.toStringTag,{value:"Module"})),Db="$$material";function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)({}).hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},tt.apply(null,arguments)}const R5e=Object.freeze(Object.defineProperty({__proto__:null,get default(){return tt}},Symbol.toStringTag,{value:"Module"}));function Dn(e,t){if(e==null)return{};var i={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;i[o]=e[o]}return i}function N5e(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function _5e(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var V5e=function(){function e(i){var o=this;this._insertTag=function(s){var c;o.tags.length===0?o.insertionPoint?c=o.insertionPoint.nextSibling:o.prepend?c=o.container.firstChild:c=o.before:c=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(s,c),o.tags.push(s)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(o){o.forEach(this._insertTag)},t.insert=function(o){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(_5e(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var c=N5e(s);try{c.insertRule(o,c.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(o));this.ctr++},t.flush=function(){this.tags.forEach(function(o){return o.parentNode&&o.parentNode.removeChild(o)}),this.tags=[],this.ctr=0},e}(),Gs="-ms-",zw="-moz-",Hi="-webkit-",_K="comm",BN="rule",xN="decl",E5e="@import",VK="@keyframes",F5e="@layer",W5e=Math.abs,c1=String.fromCharCode,H5e=Object.assign;function D5e(e,t){return As(e,0)^45?(((t<<2^As(e,0))<<2^As(e,1))<<2^As(e,2))<<2^As(e,3):0}function EK(e){return e.trim()}function T5e(e,t){return(e=t.exec(e))?e[0]:e}function Di(e,t,i){return e.replace(t,i)}function SZ(e,t){return e.indexOf(t)}function As(e,t){return e.charCodeAt(t)|0}function ub(e,t,i){return e.slice(t,i)}function sg(e){return e.length}function SN(e){return e.length}function Hy(e,t){return t.push(e),e}function L5e(e,t){return e.map(t).join("")}var g1=1,Kp=1,FK=0,wa=0,vo=0,cC="";function d1(e,t,i,o,s,c,u){return{value:e,root:t,parent:i,type:o,props:s,children:c,line:g1,column:Kp,length:u,return:""}}function Zf(e,t){return H5e(d1("",null,null,"",null,null,0),e,{length:-e.length},t)}function X5e(){return vo}function M5e(){return vo=wa>0?As(cC,--wa):0,Kp--,vo===10&&(Kp=1,g1--),vo}function qa(){return vo=wa<FK?As(cC,wa++):0,Kp++,vo===10&&(Kp=1,g1++),vo}function fg(){return As(cC,wa)}function zv(){return wa}function Tb(e,t){return ub(cC,e,t)}function hb(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WK(e){return g1=Kp=1,FK=sg(cC=e),wa=0,[]}function HK(e){return cC="",e}function Qv(e){return EK(Tb(wa-1,ZZ(e===91?e+2:e===40?e+1:e)))}function Y5e(e){for(;(vo=fg())&&vo<33;)qa();return hb(e)>2||hb(vo)>3?"":" "}function J5e(e,t){for(;--t&&qa()&&!(vo<48||vo>102||vo>57&&vo<65||vo>70&&vo<97););return Tb(e,zv()+(t<6&&fg()==32&&qa()==32))}function ZZ(e){for(;qa();)switch(vo){case e:return wa;case 34:case 39:e!==34&&e!==39&&ZZ(vo);break;case 40:e===41&&ZZ(e);break;case 92:qa();break}return wa}function U5e(e,t){for(;qa()&&e+vo!==57;)if(e+vo===84&&fg()===47)break;return"/*"+Tb(t,wa-1)+"*"+c1(e===47?e:qa())}function P5e(e){for(;!hb(fg());)qa();return Tb(e,wa)}function K5e(e){return HK(jv("",null,null,null,[""],e=WK(e),0,[0],e))}function jv(e,t,i,o,s,c,u,C,m){for(var v=0,x=0,G=u,B=0,R=0,V=0,H=1,M=1,L=1,_=0,X="",Q=s,j=c,re=o,P=X;M;)switch(V=_,_=qa()){case 40:if(V!=108&&As(P,G-1)==58){SZ(P+=Di(Qv(_),"&","&\f"),"&\f")!=-1&&(L=-1);break}case 34:case 39:case 91:P+=Qv(_);break;case 9:case 10:case 13:case 32:P+=Y5e(V);break;case 92:P+=J5e(zv()-1,7);continue;case 47:switch(fg()){case 42:case 47:Hy(z5e(U5e(qa(),zv()),t,i),m);break;default:P+="/"}break;case 123*H:C[v++]=sg(P)*L;case 125*H:case 59:case 0:switch(_){case 0:case 125:M=0;case 59+x:L==-1&&(P=Di(P,/\f/g,"")),R>0&&sg(P)-G&&Hy(R>32?ML(P+";",o,i,G-1):ML(Di(P," ","")+";",o,i,G-2),m);break;case 59:P+=";";default:if(Hy(re=XL(P,t,i,v,x,s,C,X,Q=[],j=[],G),c),_===123)if(x===0)jv(P,t,re,re,Q,c,G,C,j);else switch(B===99&&As(P,3)===110?100:B){case 100:case 108:case 109:case 115:jv(e,re,re,o&&Hy(XL(e,re,re,0,0,s,C,X,s,Q=[],G),j),s,j,G,C,o?Q:j);break;default:jv(P,re,re,re,[""],j,0,C,j)}}v=x=R=0,H=L=1,X=P="",G=u;break;case 58:G=1+sg(P),R=V;default:if(H<1){if(_==123)--H;else if(_==125&&H++==0&&M5e()==125)continue}switch(P+=c1(_),_*H){case 38:L=x>0?1:(P+="\f",-1);break;case 44:C[v++]=(sg(P)-1)*L,L=1;break;case 64:fg()===45&&(P+=Qv(qa())),B=fg(),x=G=sg(X=P+=P5e(zv())),_++;break;case 45:V===45&&sg(P)==2&&(H=0)}}return c}function XL(e,t,i,o,s,c,u,C,m,v,x){for(var G=s-1,B=s===0?c:[""],R=SN(B),V=0,H=0,M=0;V<o;++V)for(var L=0,_=ub(e,G+1,G=W5e(H=u[V])),X=e;L<R;++L)(X=EK(H>0?B[L]+" "+_:Di(_,/&\f/g,B[L])))&&(m[M++]=X);return d1(e,t,i,s===0?BN:C,m,v,x)}function z5e(e,t,i){return d1(e,t,i,_K,c1(X5e()),ub(e,2,-2),0)}function ML(e,t,i,o){return d1(e,t,i,xN,ub(e,0,o),ub(e,o+1,-1),o)}function Rp(e,t){for(var i="",o=SN(e),s=0;s<o;s++)i+=t(e[s],s,e,t)||"";return i}function Q5e(e,t,i,o){switch(e.type){case F5e:if(e.children.length)break;case E5e:case xN:return e.return=e.return||e.value;case _K:return"";case VK:return e.return=e.value+"{"+Rp(e.children,o)+"}";case BN:e.value=e.props.join(",")}return sg(i=Rp(e.children,o))?e.return=e.value+"{"+i+"}":""}function j5e(e){var t=SN(e);return function(i,o,s,c){for(var u="",C=0;C<t;C++)u+=e[C](i,o,s,c)||"";return u}}function O5e(e){return function(t){t.root||(t=t.return)&&e(t)}}var q5e=function(t,i,o){for(var s=0,c=0;s=c,c=fg(),s===38&&c===12&&(i[o]=1),!hb(c);)qa();return Tb(t,wa)},$5e=function(t,i){var o=-1,s=44;do switch(hb(s)){case 0:s===38&&fg()===12&&(i[o]=1),t[o]+=q5e(wa-1,i,o);break;case 2:t[o]+=Qv(s);break;case 4:if(s===44){t[++o]=fg()===58?"&\f":"",i[o]=t[o].length;break}default:t[o]+=c1(s)}while(s=qa());return t},eZe=function(t,i){return HK($5e(WK(t),i))},YL=new WeakMap,tZe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var i=t.value,o=t.parent,s=t.column===o.column&&t.line===o.line;o.type!=="rule";)if(o=o.parent,!o)return;if(!(t.props.length===1&&i.charCodeAt(0)!==58&&!YL.get(o))&&!s){YL.set(t,!0);for(var c=[],u=eZe(i,c),C=o.props,m=0,v=0;m<u.length;m++)for(var x=0;x<C.length;x++,v++)t.props[v]=c[m]?u[m].replace(/&\f/g,C[x]):C[x]+" "+u[m]}}},nZe=function(t){if(t.type==="decl"){var i=t.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(t.return="",t.value="")}};function DK(e,t){switch(D5e(e,t)){case 5103:return Hi+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Hi+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Hi+e+zw+e+Gs+e+e;case 6828:case 4268:return Hi+e+Gs+e+e;case 6165:return Hi+e+Gs+"flex-"+e+e;case 5187:return Hi+e+Di(e,/(\w+).+(:[^]+)/,Hi+"box-$1$2"+Gs+"flex-$1$2")+e;case 5443:return Hi+e+Gs+"flex-item-"+Di(e,/flex-|-self/,"")+e;case 4675:return Hi+e+Gs+"flex-line-pack"+Di(e,/align-content|flex-|-self/,"")+e;case 5548:return Hi+e+Gs+Di(e,"shrink","negative")+e;case 5292:return Hi+e+Gs+Di(e,"basis","preferred-size")+e;case 6060:return Hi+"box-"+Di(e,"-grow","")+Hi+e+Gs+Di(e,"grow","positive")+e;case 4554:return Hi+Di(e,/([^-])(transform)/g,"$1"+Hi+"$2")+e;case 6187:return Di(Di(Di(e,/(zoom-|grab)/,Hi+"$1"),/(image-set)/,Hi+"$1"),e,"")+e;case 5495:case 3959:return Di(e,/(image-set\([^]*)/,Hi+"$1$`$1");case 4968:return Di(Di(e,/(.+:)(flex-)?(.*)/,Hi+"box-pack:$3"+Gs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Hi+e+e;case 4095:case 3583:case 4068:case 2532:return Di(e,/(.+)-inline(.+)/,Hi+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(sg(e)-1-t>6)switch(As(e,t+1)){case 109:if(As(e,t+4)!==45)break;case 102:return Di(e,/(.+:)(.+)-([^]+)/,"$1"+Hi+"$2-$3$1"+zw+(As(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~SZ(e,"stretch")?DK(Di(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(As(e,t+1)!==115)break;case 6444:switch(As(e,sg(e)-3-(~SZ(e,"!important")&&10))){case 107:return Di(e,":",":"+Hi)+e;case 101:return Di(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Hi+(As(e,14)===45?"inline-":"")+"box$3$1"+Hi+"$2$3$1"+Gs+"$2box$3")+e}break;case 5936:switch(As(e,t+11)){case 114:return Hi+e+Gs+Di(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Hi+e+Gs+Di(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Hi+e+Gs+Di(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Hi+e+Gs+e+e}return e}var iZe=function(t,i,o,s){if(t.length>-1&&!t.return)switch(t.type){case xN:t.return=DK(t.value,t.length);break;case VK:return Rp([Zf(t,{value:Di(t.value,"@","@"+Hi)})],s);case BN:if(t.length)return L5e(t.props,function(c){switch(T5e(c,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Rp([Zf(t,{props:[Di(c,/:(read-\w+)/,":"+zw+"$1")]})],s);case"::placeholder":return Rp([Zf(t,{props:[Di(c,/:(plac\w+)/,":"+Hi+"input-$1")]}),Zf(t,{props:[Di(c,/:(plac\w+)/,":"+zw+"$1")]}),Zf(t,{props:[Di(c,/:(plac\w+)/,Gs+"input-$1")]})],s)}return""})}},rZe=[iZe],TK=function(t){var i=t.key;if(i==="css"){var o=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(o,function(H){var M=H.getAttribute("data-emotion");M.indexOf(" ")!==-1&&(document.head.appendChild(H),H.setAttribute("data-s",""))})}var s=t.stylisPlugins||rZe,c={},u,C=[];u=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(H){for(var M=H.getAttribute("data-emotion").split(" "),L=1;L<M.length;L++)c[M[L]]=!0;C.push(H)});var m,v=[tZe,nZe];{var x,G=[Q5e,O5e(function(H){x.insert(H)})],B=j5e(v.concat(s,G)),R=function(M){return Rp(K5e(M),B)};m=function(M,L,_,X){x=_,R(M?M+"{"+L.styles+"}":L.styles),X&&(V.inserted[L.name]=!0)}}var V={key:i,sheet:new V5e({key:i,container:u,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:c,registered:{},insert:m};return V.sheet.hydrate(C),V},LK={exports:{}},ji={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jo=typeof Symbol=="function"&&Symbol.for,ZN=jo?Symbol.for("react.element"):60103,GN=jo?Symbol.for("react.portal"):60106,A1=jo?Symbol.for("react.fragment"):60107,u1=jo?Symbol.for("react.strict_mode"):60108,h1=jo?Symbol.for("react.profiler"):60114,m1=jo?Symbol.for("react.provider"):60109,p1=jo?Symbol.for("react.context"):60110,RN=jo?Symbol.for("react.async_mode"):60111,C1=jo?Symbol.for("react.concurrent_mode"):60111,f1=jo?Symbol.for("react.forward_ref"):60112,I1=jo?Symbol.for("react.suspense"):60113,oZe=jo?Symbol.for("react.suspense_list"):60120,b1=jo?Symbol.for("react.memo"):60115,y1=jo?Symbol.for("react.lazy"):60116,sZe=jo?Symbol.for("react.block"):60121,aZe=jo?Symbol.for("react.fundamental"):60117,lZe=jo?Symbol.for("react.responder"):60118,cZe=jo?Symbol.for("react.scope"):60119;function rl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ZN:switch(e=e.type,e){case RN:case C1:case A1:case h1:case u1:case I1:return e;default:switch(e=e&&e.$$typeof,e){case p1:case f1:case y1:case b1:case m1:return e;default:return t}}case GN:return t}}}function XK(e){return rl(e)===C1}ji.AsyncMode=RN;ji.ConcurrentMode=C1;ji.ContextConsumer=p1;ji.ContextProvider=m1;ji.Element=ZN;ji.ForwardRef=f1;ji.Fragment=A1;ji.Lazy=y1;ji.Memo=b1;ji.Portal=GN;ji.Profiler=h1;ji.StrictMode=u1;ji.Suspense=I1;ji.isAsyncMode=function(e){return XK(e)||rl(e)===RN};ji.isConcurrentMode=XK;ji.isContextConsumer=function(e){return rl(e)===p1};ji.isContextProvider=function(e){return rl(e)===m1};ji.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ZN};ji.isForwardRef=function(e){return rl(e)===f1};ji.isFragment=function(e){return rl(e)===A1};ji.isLazy=function(e){return rl(e)===y1};ji.isMemo=function(e){return rl(e)===b1};ji.isPortal=function(e){return rl(e)===GN};ji.isProfiler=function(e){return rl(e)===h1};ji.isStrictMode=function(e){return rl(e)===u1};ji.isSuspense=function(e){return rl(e)===I1};ji.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===A1||e===C1||e===h1||e===u1||e===I1||e===oZe||typeof e=="object"&&e!==null&&(e.$$typeof===y1||e.$$typeof===b1||e.$$typeof===m1||e.$$typeof===p1||e.$$typeof===f1||e.$$typeof===aZe||e.$$typeof===lZe||e.$$typeof===cZe||e.$$typeof===sZe)};ji.typeOf=rl;LK.exports=ji;var gZe=LK.exports,MK=gZe,dZe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},AZe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},YK={};YK[MK.ForwardRef]=dZe;YK[MK.Memo]=AZe;var uZe=!0;function hZe(e,t,i){var o="";return i.split(" ").forEach(function(s){e[s]!==void 0?t.push(e[s]+";"):o+=s+" "}),o}var JK=function(t,i,o){var s=t.key+"-"+i.name;(o===!1||uZe===!1)&&t.registered[s]===void 0&&(t.registered[s]=i.styles)},UK=function(t,i,o){JK(t,i,o);var s=t.key+"-"+i.name;if(t.inserted[i.name]===void 0){var c=i;do t.insert(i===c?"."+s:"",c,t.sheet,!0),c=c.next;while(c!==void 0)}};function mZe(e){for(var t=0,i,o=0,s=e.length;s>=4;++o,s-=4)i=e.charCodeAt(o)&255|(e.charCodeAt(++o)&255)<<8|(e.charCodeAt(++o)&255)<<16|(e.charCodeAt(++o)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,t=(i&65535)*1540483477+((i>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(e.charCodeAt(o+2)&255)<<16;case 2:t^=(e.charCodeAt(o+1)&255)<<8;case 1:t^=e.charCodeAt(o)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var pZe=/[A-Z]|^ms/g,CZe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,PK=function(t){return t.charCodeAt(1)===45},JL=function(t){return t!=null&&typeof t!="boolean"},rS=nK(function(e){return PK(e)?e:e.replace(pZe,"-$&").toLowerCase()}),UL=function(t,i){switch(t){case"animation":case"animationName":if(typeof i=="string")return i.replace(CZe,function(o,s,c){return ag={name:s,styles:c,next:ag},s})}return gK[t]!==1&&!PK(t)&&typeof i=="number"&&i!==0?i+"px":i};function mb(e,t,i){if(i==null)return"";if(i.__emotion_styles!==void 0)return i;switch(typeof i){case"boolean":return"";case"object":{if(i.anim===1)return ag={name:i.name,styles:i.styles,next:ag},i.name;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)ag={name:o.name,styles:o.styles,next:ag},o=o.next;var s=i.styles+";";return s}return fZe(e,t,i)}case"function":{if(e!==void 0){var c=ag,u=i(e);return ag=c,mb(e,t,u)}break}}if(t==null)return i;var C=t[i];return C!==void 0?C:i}function fZe(e,t,i){var o="";if(Array.isArray(i))for(var s=0;s<i.length;s++)o+=mb(e,t,i[s])+";";else for(var c in i){var u=i[c];if(typeof u!="object")t!=null&&t[u]!==void 0?o+=c+"{"+t[u]+"}":JL(u)&&(o+=rS(c)+":"+UL(c,u)+";");else if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var C=0;C<u.length;C++)JL(u[C])&&(o+=rS(c)+":"+UL(c,u[C])+";");else{var m=mb(e,t,u);switch(c){case"animation":case"animationName":{o+=rS(c)+":"+m+";";break}default:o+=c+"{"+m+"}"}}}return o}var PL=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ag,NN=function(t,i,o){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var s=!0,c="";ag=void 0;var u=t[0];u==null||u.raw===void 0?(s=!1,c+=mb(o,i,u)):c+=u[0];for(var C=1;C<t.length;C++)c+=mb(o,i,t[C]),s&&(c+=u[C]);PL.lastIndex=0;for(var m="",v;(v=PL.exec(c))!==null;)m+="-"+v[1];var x=mZe(c)+m;return{name:x,styles:c,next:ag}},IZe=function(t){return t()},KK=sw.useInsertionEffect?sw.useInsertionEffect:!1,bZe=KK||IZe,KL=KK||le.useLayoutEffect,zK=le.createContext(typeof HTMLElement<"u"?TK({key:"css"}):null),yZe=zK.Provider,QK=function(t){return le.forwardRef(function(i,o){var s=le.useContext(zK);return t(i,s,o)})},v1=le.createContext({}),vZe=QK(function(e,t){var i=e.styles,o=NN([i],void 0,le.useContext(v1)),s=le.useRef();return KL(function(){var c=t.key+"-global",u=new t.sheet.constructor({key:c,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),C=!1,m=document.querySelector('style[data-emotion="'+c+" "+o.name+'"]');return t.sheet.tags.length&&(u.before=t.sheet.tags[0]),m!==null&&(C=!0,m.setAttribute("data-emotion",c),u.hydrate([m])),s.current=[u,C],function(){u.flush()}},[t]),KL(function(){var c=s.current,u=c[0],C=c[1];if(C){c[1]=!1;return}if(o.next!==void 0&&UK(t,o.next,!0),u.tags.length){var m=u.tags[u.tags.length-1].nextElementSibling;u.before=m,u.flush()}t.insert("",o,u,!1)},[t,o.name]),null});function jK(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return NN(t)}var wZe=function(){var t=jK.apply(void 0,arguments),i="animation-"+t.name;return{name:i,styles:"@keyframes "+i+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},kZe=$xe,BZe=function(t){return t!=="theme"},zL=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?kZe:BZe},QL=function(t,i,o){var s;if(i){var c=i.shouldForwardProp;s=t.__emotion_forwardProp&&c?function(u){return t.__emotion_forwardProp(u)&&c(u)}:c}return typeof s!="function"&&o&&(s=t.__emotion_forwardProp),s},xZe=function(t){var i=t.cache,o=t.serialized,s=t.isStringTag;return JK(i,o,s),bZe(function(){return UK(i,o,s)}),null},SZe=function e(t,i){var o=t.__emotion_real===t,s=o&&t.__emotion_base||t,c,u;i!==void 0&&(c=i.label,u=i.target);var C=QL(t,i,o),m=C||zL(s),v=!m("as");return function(){var x=arguments,G=o&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(c!==void 0&&G.push("label:"+c+";"),x[0]==null||x[0].raw===void 0)G.push.apply(G,x);else{G.push(x[0][0]);for(var B=x.length,R=1;R<B;R++)G.push(x[R],x[0][R])}var V=QK(function(H,M,L){var _=v&&H.as||s,X="",Q=[],j=H;if(H.theme==null){j={};for(var re in H)j[re]=H[re];j.theme=le.useContext(v1)}typeof H.className=="string"?X=hZe(M.registered,Q,H.className):H.className!=null&&(X=H.className+" ");var P=NN(G.concat(Q),M.registered,j);X+=M.key+"-"+P.name,u!==void 0&&(X+=" "+u);var O=v&&C===void 0?zL(_):m,de={};for(var ce in H)v&&ce==="as"||O(ce)&&(de[ce]=H[ce]);return de.className=X,de.ref=L,le.createElement(le.Fragment,null,le.createElement(xZe,{cache:M,serialized:P,isStringTag:typeof _=="string"}),le.createElement(_,de))});return V.displayName=c!==void 0?c:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",V.defaultProps=t.defaultProps,V.__emotion_real=V,V.__emotion_base=s,V.__emotion_styles=G,V.__emotion_forwardProp=C,Object.defineProperty(V,"toString",{value:function(){return"."+u}}),V.withComponent=function(H,M){return e(H,tt({},i,M,{shouldForwardProp:QL(V,M,!0)})).apply(void 0,G)},V}},ZZe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],GZ=SZe.bind();ZZe.forEach(function(e){GZ[e]=GZ(e)});var oS={exports:{}},sS,jL;function GZe(){if(jL)return sS;jL=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return sS=e,sS}var aS,OL;function RZe(){if(OL)return aS;OL=1;var e=GZe();function t(){}function i(){}return i.resetWarningCache=t,aS=function(){function o(u,C,m,v,x,G){if(G!==e){var B=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw B.name="Invariant Violation",B}}o.isRequired=o;function s(){return o}var c={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:s,element:o,elementType:o,instanceOf:s,node:o,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:i,resetWarningCache:t};return c.PropTypes=c,c},aS}var qL;function Lb(){return qL||(qL=1,oS.exports=RZe()()),oS.exports}Lb();let RZ;typeof document=="object"&&(RZ=TK({key:"css",prepend:!0}));function NZe(e){const{injectFirst:t,children:i}=e;return t&&RZ?y.jsx(yZe,{value:RZ,children:i}):i}function _Ze(e){return e==null||Object.keys(e).length===0}function OK(e){const{styles:t,defaultTheme:i={}}=e,o=typeof t=="function"?s=>t(_Ze(s)?i:s):t;return y.jsx(vZe,{styles:o})}function _N(e,t){return GZ(e,t)}const qK=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},VZe=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:OK,StyledEngineProvider:NZe,ThemeContext:v1,css:jK,default:_N,internal_processStyles:qK,keyframes:wZe},Symbol.toStringTag,{value:"Module"}));function dd(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function $K(e){if(!dd(e))return e;const t={};return Object.keys(e).forEach(i=>{t[i]=$K(e[i])}),t}function $a(e,t,i={clone:!0}){const o=i.clone?tt({},e):e;return dd(e)&&dd(t)&&Object.keys(t).forEach(s=>{dd(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&dd(e[s])?o[s]=$a(e[s],t[s],i):i.clone?o[s]=dd(t[s])?$K(t[s]):t[s]:o[s]=t[s]}),o}const EZe=Object.freeze(Object.defineProperty({__proto__:null,default:$a,isPlainObject:dd},Symbol.toStringTag,{value:"Module"})),FZe=["values","unit","step"],WZe=e=>{const t=Object.keys(e).map(i=>({key:i,val:e[i]}))||[];return t.sort((i,o)=>i.val-o.val),t.reduce((i,o)=>tt({},i,{[o.key]:o.val}),{})};function ez(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:o=5}=e,s=Dn(e,FZe),c=WZe(t),u=Object.keys(c);function C(B){return`@media (min-width:${typeof t[B]=="number"?t[B]:B}${i})`}function m(B){return`@media (max-width:${(typeof t[B]=="number"?t[B]:B)-o/100}${i})`}function v(B,R){const V=u.indexOf(R);return`@media (min-width:${typeof t[B]=="number"?t[B]:B}${i}) and (max-width:${(V!==-1&&typeof t[u[V]]=="number"?t[u[V]]:R)-o/100}${i})`}function x(B){return u.indexOf(B)+1<u.length?v(B,u[u.indexOf(B)+1]):C(B)}function G(B){const R=u.indexOf(B);return R===0?C(u[1]):R===u.length-1?m(u[R]):v(B,u[u.indexOf(B)+1]).replace("@media","@media not all and")}return tt({keys:u,values:c,up:C,down:m,between:v,only:x,not:G,unit:i},s)}const HZe={borderRadius:4};function CI(e,t){return t?$a(e,t,{clone:!1}):e}const VN={xs:0,sm:600,md:900,lg:1200,xl:1536},$L={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${VN[e]}px)`};function Bd(e,t,i){const o=e.theme||{};if(Array.isArray(t)){const c=o.breakpoints||$L;return t.reduce((u,C,m)=>(u[c.up(c.keys[m])]=i(t[m]),u),{})}if(typeof t=="object"){const c=o.breakpoints||$L;return Object.keys(t).reduce((u,C)=>{if(Object.keys(c.values||VN).indexOf(C)!==-1){const m=c.up(C);u[m]=i(t[C],C)}else{const m=C;u[m]=t[m]}return u},{})}return i(t)}function DZe(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((o,s)=>{const c=e.up(s);return o[c]={},o},{}))||{}}function TZe(e,t){return e.reduce((i,o)=>{const s=i[o];return(!s||Object.keys(s).length===0)&&delete i[o],i},t)}function Zi(e){if(typeof e!="string")throw new Error(Sh(7));return e.charAt(0).toUpperCase()+e.slice(1)}const LZe=Object.freeze(Object.defineProperty({__proto__:null,default:Zi},Symbol.toStringTag,{value:"Module"}));function w1(e,t,i=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&i){const o=`vars.${t}`.split(".").reduce((s,c)=>s&&s[c]?s[c]:null,e);if(o!=null)return o}return t.split(".").reduce((o,s)=>o&&o[s]!=null?o[s]:null,e)}function Qw(e,t,i,o=i){let s;return typeof e=="function"?s=e(i):Array.isArray(e)?s=e[i]||o:s=w1(e,i)||o,t&&(s=t(s,o,e)),s}function mo(e){const{prop:t,cssProperty:i=e.prop,themeKey:o,transform:s}=e,c=u=>{if(u[t]==null)return null;const C=u[t],m=u.theme,v=w1(m,o)||{};return Bd(u,C,G=>{let B=Qw(v,s,G);return G===B&&typeof G=="string"&&(B=Qw(v,s,`${t}${G==="default"?"":Zi(G)}`,G)),i===!1?B:{[i]:B}})};return c.propTypes={},c.filterProps=[t],c}function XZe(e){const t={};return i=>(t[i]===void 0&&(t[i]=e(i)),t[i])}const MZe={m:"margin",p:"padding"},YZe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},eX={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},JZe=XZe(e=>{if(e.length>2)if(eX[e])e=eX[e];else return[e];const[t,i]=e.split(""),o=MZe[t],s=YZe[i]||"";return Array.isArray(s)?s.map(c=>o+c):[o+s]}),EN=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],FN=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...EN,...FN];function Xb(e,t,i,o){var s;const c=(s=w1(e,t,!1))!=null?s:i;return typeof c=="number"?u=>typeof u=="string"?u:c*u:Array.isArray(c)?u=>typeof u=="string"?u:c[u]:typeof c=="function"?c:()=>{}}function tz(e){return Xb(e,"spacing",8)}function Mb(e,t){if(typeof t=="string"||t==null)return t;const i=Math.abs(t),o=e(i);return t>=0?o:typeof o=="number"?-o:`-${o}`}function UZe(e,t){return i=>e.reduce((o,s)=>(o[s]=Mb(t,i),o),{})}function PZe(e,t,i,o){if(t.indexOf(i)===-1)return null;const s=JZe(i),c=UZe(s,o),u=e[i];return Bd(e,u,c)}function nz(e,t){const i=tz(e.theme);return Object.keys(e).map(o=>PZe(e,t,o,i)).reduce(CI,{})}function Ur(e){return nz(e,EN)}Ur.propTypes={};Ur.filterProps=EN;function Pr(e){return nz(e,FN)}Pr.propTypes={};Pr.filterProps=FN;function KZe(e=8){if(e.mui)return e;const t=tz({spacing:e}),i=(...o)=>(o.length===0?[1]:o).map(c=>{const u=t(c);return typeof u=="number"?`${u}px`:u}).join(" ");return i.mui=!0,i}function k1(...e){const t=e.reduce((o,s)=>(s.filterProps.forEach(c=>{o[c]=s}),o),{}),i=o=>Object.keys(o).reduce((s,c)=>t[c]?CI(s,t[c](o)):s,{});return i.propTypes={},i.filterProps=e.reduce((o,s)=>o.concat(s.filterProps),[]),i}function Gl(e){return typeof e!="number"?e:`${e}px solid`}function Ul(e,t){return mo({prop:e,themeKey:"borders",transform:t})}const zZe=Ul("border",Gl),QZe=Ul("borderTop",Gl),jZe=Ul("borderRight",Gl),OZe=Ul("borderBottom",Gl),qZe=Ul("borderLeft",Gl),$Ze=Ul("borderColor"),eGe=Ul("borderTopColor"),tGe=Ul("borderRightColor"),nGe=Ul("borderBottomColor"),iGe=Ul("borderLeftColor"),rGe=Ul("outline",Gl),oGe=Ul("outlineColor"),B1=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=Xb(e.theme,"shape.borderRadius",4),i=o=>({borderRadius:Mb(t,o)});return Bd(e,e.borderRadius,i)}return null};B1.propTypes={};B1.filterProps=["borderRadius"];k1(zZe,QZe,jZe,OZe,qZe,$Ze,eGe,tGe,nGe,iGe,B1,rGe,oGe);const x1=e=>{if(e.gap!==void 0&&e.gap!==null){const t=Xb(e.theme,"spacing",8),i=o=>({gap:Mb(t,o)});return Bd(e,e.gap,i)}return null};x1.propTypes={};x1.filterProps=["gap"];const S1=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=Xb(e.theme,"spacing",8),i=o=>({columnGap:Mb(t,o)});return Bd(e,e.columnGap,i)}return null};S1.propTypes={};S1.filterProps=["columnGap"];const Z1=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=Xb(e.theme,"spacing",8),i=o=>({rowGap:Mb(t,o)});return Bd(e,e.rowGap,i)}return null};Z1.propTypes={};Z1.filterProps=["rowGap"];const sGe=mo({prop:"gridColumn"}),aGe=mo({prop:"gridRow"}),lGe=mo({prop:"gridAutoFlow"}),cGe=mo({prop:"gridAutoColumns"}),gGe=mo({prop:"gridAutoRows"}),dGe=mo({prop:"gridTemplateColumns"}),AGe=mo({prop:"gridTemplateRows"}),uGe=mo({prop:"gridTemplateAreas"}),hGe=mo({prop:"gridArea"});k1(x1,S1,Z1,sGe,aGe,lGe,cGe,gGe,dGe,AGe,uGe,hGe);function Np(e,t){return t==="grey"?t:e}const mGe=mo({prop:"color",themeKey:"palette",transform:Np}),pGe=mo({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Np}),CGe=mo({prop:"backgroundColor",themeKey:"palette",transform:Np});k1(mGe,pGe,CGe);function Pa(e){return e<=1&&e!==0?`${e*100}%`:e}const fGe=mo({prop:"width",transform:Pa}),WN=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=i=>{var o,s;const c=((o=e.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[i])||VN[i];return c?((s=e.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${c}${e.theme.breakpoints.unit}`}:{maxWidth:c}:{maxWidth:Pa(i)}};return Bd(e,e.maxWidth,t)}return null};WN.filterProps=["maxWidth"];const IGe=mo({prop:"minWidth",transform:Pa}),bGe=mo({prop:"height",transform:Pa}),yGe=mo({prop:"maxHeight",transform:Pa}),vGe=mo({prop:"minHeight",transform:Pa});mo({prop:"size",cssProperty:"width",transform:Pa});mo({prop:"size",cssProperty:"height",transform:Pa});const wGe=mo({prop:"boxSizing"});k1(fGe,WN,IGe,bGe,yGe,vGe,wGe);const Yb={border:{themeKey:"borders",transform:Gl},borderTop:{themeKey:"borders",transform:Gl},borderRight:{themeKey:"borders",transform:Gl},borderBottom:{themeKey:"borders",transform:Gl},borderLeft:{themeKey:"borders",transform:Gl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Gl},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:B1},color:{themeKey:"palette",transform:Np},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Np},backgroundColor:{themeKey:"palette",transform:Np},p:{style:Pr},pt:{style:Pr},pr:{style:Pr},pb:{style:Pr},pl:{style:Pr},px:{style:Pr},py:{style:Pr},padding:{style:Pr},paddingTop:{style:Pr},paddingRight:{style:Pr},paddingBottom:{style:Pr},paddingLeft:{style:Pr},paddingX:{style:Pr},paddingY:{style:Pr},paddingInline:{style:Pr},paddingInlineStart:{style:Pr},paddingInlineEnd:{style:Pr},paddingBlock:{style:Pr},paddingBlockStart:{style:Pr},paddingBlockEnd:{style:Pr},m:{style:Ur},mt:{style:Ur},mr:{style:Ur},mb:{style:Ur},ml:{style:Ur},mx:{style:Ur},my:{style:Ur},margin:{style:Ur},marginTop:{style:Ur},marginRight:{style:Ur},marginBottom:{style:Ur},marginLeft:{style:Ur},marginX:{style:Ur},marginY:{style:Ur},marginInline:{style:Ur},marginInlineStart:{style:Ur},marginInlineEnd:{style:Ur},marginBlock:{style:Ur},marginBlockStart:{style:Ur},marginBlockEnd:{style:Ur},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:x1},rowGap:{style:Z1},columnGap:{style:S1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Pa},maxWidth:{style:WN},minWidth:{transform:Pa},height:{transform:Pa},maxHeight:{transform:Pa},minHeight:{transform:Pa},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function kGe(...e){const t=e.reduce((o,s)=>o.concat(Object.keys(s)),[]),i=new Set(t);return e.every(o=>i.size===Object.keys(o).length)}function BGe(e,t){return typeof e=="function"?e(t):e}function iz(){function e(i,o,s,c){const u={[i]:o,theme:s},C=c[i];if(!C)return{[i]:o};const{cssProperty:m=i,themeKey:v,transform:x,style:G}=C;if(o==null)return null;if(v==="typography"&&o==="inherit")return{[i]:o};const B=w1(s,v)||{};return G?G(u):Bd(u,o,V=>{let H=Qw(B,x,V);return V===H&&typeof V=="string"&&(H=Qw(B,x,`${i}${V==="default"?"":Zi(V)}`,V)),m===!1?H:{[m]:H}})}function t(i){var o;const{sx:s,theme:c={}}=i||{};if(!s)return null;const u=(o=c.unstable_sxConfig)!=null?o:Yb;function C(m){let v=m;if(typeof m=="function")v=m(c);else if(typeof m!="object")return m;if(!v)return null;const x=DZe(c.breakpoints),G=Object.keys(x);let B=x;return Object.keys(v).forEach(R=>{const V=BGe(v[R],c);if(V!=null)if(typeof V=="object")if(u[R])B=CI(B,e(R,V,c,u));else{const H=Bd({theme:c},V,M=>({[R]:M}));kGe(H,V)?B[R]=t({sx:V,theme:c}):B=CI(B,H)}else B=CI(B,e(R,V,c,u))}),TZe(G,B)}return Array.isArray(s)?s.map(C):C(s)}return t}const gC=iz();gC.filterProps=["sx"];function rz(e,t){const i=this;return i.vars&&typeof i.getColorSchemeSelector=="function"?{[i.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:i.palette.mode===e?t:{}}const xGe=["breakpoints","palette","spacing","shape"];function G1(e={},...t){const{breakpoints:i={},palette:o={},spacing:s,shape:c={}}=e,u=Dn(e,xGe),C=ez(i),m=KZe(s);let v=$a({breakpoints:C,direction:"ltr",components:{},palette:tt({mode:"light"},o),spacing:m,shape:tt({},HZe,c)},u);return v.applyStyles=rz,v=t.reduce((x,G)=>$a(x,G),v),v.unstable_sxConfig=tt({},Yb,u==null?void 0:u.unstable_sxConfig),v.unstable_sx=function(G){return gC({sx:G,theme:this})},v}const SGe=Object.freeze(Object.defineProperty({__proto__:null,default:G1,private_createBreakpoints:ez,unstable_applyStyles:rz},Symbol.toStringTag,{value:"Module"}));function ZGe(e){return Object.keys(e).length===0}function GGe(e=null){const t=le.useContext(v1);return!t||ZGe(t)?e:t}const RGe=G1();function R1(e=RGe){return GGe(e)}function NGe({styles:e,themeId:t,defaultTheme:i={}}){const o=R1(i),s=typeof e=="function"?e(t&&o[t]||o):e;return y.jsx(OK,{styles:s})}const _Ge=["sx"],VGe=e=>{var t,i;const o={systemProps:{},otherProps:{}},s=(t=e==null||(i=e.theme)==null?void 0:i.unstable_sxConfig)!=null?t:Yb;return Object.keys(e).forEach(c=>{s[c]?o.systemProps[c]=e[c]:o.otherProps[c]=e[c]}),o};function HN(e){const{sx:t}=e,i=Dn(e,_Ge),{systemProps:o,otherProps:s}=VGe(i);let c;return Array.isArray(t)?c=[o,...t]:typeof t=="function"?c=(...u)=>{const C=t(...u);return dd(C)?tt({},o,C):o}:c=tt({},o,t),tt({},s,{sx:c})}const EGe=Object.freeze(Object.defineProperty({__proto__:null,default:gC,extendSxProp:HN,unstable_createStyleFunctionSx:iz,unstable_defaultSxConfig:Yb},Symbol.toStringTag,{value:"Module"})),tX=e=>e,FGe=()=>{let e=tX;return{configure(t){e=t},generate(t){return e(t)},reset(){e=tX}}},oz=FGe(),WGe=["className","component"];function HGe(e={}){const{themeId:t,defaultTheme:i,defaultClassName:o="MuiBox-root",generateClassName:s}=e,c=_N("div",{shouldForwardProp:C=>C!=="theme"&&C!=="sx"&&C!=="as"})(gC);return le.forwardRef(function(m,v){const x=R1(i),G=HN(m),{className:B,component:R="div"}=G,V=Dn(G,WGe);return y.jsx(c,tt({as:R,ref:v,className:li(B,s?s(o):o),theme:t&&x[t]||x},V))})}const DGe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function jr(e,t,i="Mui"){const o=DGe[t];return o?`${i}-${o}`:`${oz.generate(e)}-${t}`}function Or(e,t,i="Mui"){const o={};return t.forEach(s=>{o[s]=jr(e,s,i)}),o}var sz={exports:{}},Oi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DN=Symbol.for("react.element"),TN=Symbol.for("react.portal"),N1=Symbol.for("react.fragment"),_1=Symbol.for("react.strict_mode"),V1=Symbol.for("react.profiler"),E1=Symbol.for("react.provider"),F1=Symbol.for("react.context"),TGe=Symbol.for("react.server_context"),W1=Symbol.for("react.forward_ref"),H1=Symbol.for("react.suspense"),D1=Symbol.for("react.suspense_list"),T1=Symbol.for("react.memo"),L1=Symbol.for("react.lazy"),LGe=Symbol.for("react.offscreen"),az;az=Symbol.for("react.module.reference");function Pl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case DN:switch(e=e.type,e){case N1:case V1:case _1:case H1:case D1:return e;default:switch(e=e&&e.$$typeof,e){case TGe:case F1:case W1:case L1:case T1:case E1:return e;default:return t}}case TN:return t}}}Oi.ContextConsumer=F1;Oi.ContextProvider=E1;Oi.Element=DN;Oi.ForwardRef=W1;Oi.Fragment=N1;Oi.Lazy=L1;Oi.Memo=T1;Oi.Portal=TN;Oi.Profiler=V1;Oi.StrictMode=_1;Oi.Suspense=H1;Oi.SuspenseList=D1;Oi.isAsyncMode=function(){return!1};Oi.isConcurrentMode=function(){return!1};Oi.isContextConsumer=function(e){return Pl(e)===F1};Oi.isContextProvider=function(e){return Pl(e)===E1};Oi.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===DN};Oi.isForwardRef=function(e){return Pl(e)===W1};Oi.isFragment=function(e){return Pl(e)===N1};Oi.isLazy=function(e){return Pl(e)===L1};Oi.isMemo=function(e){return Pl(e)===T1};Oi.isPortal=function(e){return Pl(e)===TN};Oi.isProfiler=function(e){return Pl(e)===V1};Oi.isStrictMode=function(e){return Pl(e)===_1};Oi.isSuspense=function(e){return Pl(e)===H1};Oi.isSuspenseList=function(e){return Pl(e)===D1};Oi.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===N1||e===V1||e===_1||e===H1||e===D1||e===LGe||typeof e=="object"&&e!==null&&(e.$$typeof===L1||e.$$typeof===T1||e.$$typeof===E1||e.$$typeof===F1||e.$$typeof===W1||e.$$typeof===az||e.getModuleId!==void 0)};Oi.typeOf=Pl;sz.exports=Oi;var nX=sz.exports;const XGe=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function lz(e){const t=`${e}`.match(XGe);return t&&t[1]||""}function cz(e,t=""){return e.displayName||e.name||lz(e)||t}function iX(e,t,i){const o=cz(t);return e.displayName||(o!==""?`${i}(${o})`:i)}function MGe(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return cz(e,"Component");if(typeof e=="object")switch(e.$$typeof){case nX.ForwardRef:return iX(e,e.render,"ForwardRef");case nX.Memo:return iX(e,e.type,"memo");default:return}}}const YGe=Object.freeze(Object.defineProperty({__proto__:null,default:MGe,getFunctionName:lz},Symbol.toStringTag,{value:"Module"})),JGe=["ownerState"],UGe=["variants"],PGe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function KGe(e){return Object.keys(e).length===0}function zGe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function lS(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const QGe=G1(),jGe=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Dy({defaultTheme:e,theme:t,themeId:i}){return KGe(t)?e:t[i]||t}function OGe(e){return e?(t,i)=>i[e]:null}function Ov(e,t){let{ownerState:i}=t,o=Dn(t,JGe);const s=typeof e=="function"?e(tt({ownerState:i},o)):e;if(Array.isArray(s))return s.flatMap(c=>Ov(c,tt({ownerState:i},o)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:c=[]}=s;let C=Dn(s,UGe);return c.forEach(m=>{let v=!0;typeof m.props=="function"?v=m.props(tt({ownerState:i},o,i)):Object.keys(m.props).forEach(x=>{(i==null?void 0:i[x])!==m.props[x]&&o[x]!==m.props[x]&&(v=!1)}),v&&(Array.isArray(C)||(C=[C]),C.push(typeof m.style=="function"?m.style(tt({ownerState:i},o,i)):m.style))}),C}return s}function qGe(e={}){const{themeId:t,defaultTheme:i=QGe,rootShouldForwardProp:o=lS,slotShouldForwardProp:s=lS}=e,c=u=>gC(tt({},u,{theme:Dy(tt({},u,{defaultTheme:i,themeId:t}))}));return c.__mui_systemSx=!0,(u,C={})=>{qK(u,j=>j.filter(re=>!(re!=null&&re.__mui_systemSx)));const{name:m,slot:v,skipVariantsResolver:x,skipSx:G,overridesResolver:B=OGe(jGe(v))}=C,R=Dn(C,PGe),V=x!==void 0?x:v&&v!=="Root"&&v!=="root"||!1,H=G||!1;let M,L=lS;v==="Root"||v==="root"?L=o:v?L=s:zGe(u)&&(L=void 0);const _=_N(u,tt({shouldForwardProp:L,label:M},R)),X=j=>typeof j=="function"&&j.__emotion_real!==j||dd(j)?re=>Ov(j,tt({},re,{theme:Dy({theme:re.theme,defaultTheme:i,themeId:t})})):j,Q=(j,...re)=>{let P=X(j);const O=re?re.map(X):[];m&&B&&O.push(ne=>{const oe=Dy(tt({},ne,{defaultTheme:i,themeId:t}));if(!oe.components||!oe.components[m]||!oe.components[m].styleOverrides)return null;const be=oe.components[m].styleOverrides,Ie={};return Object.entries(be).forEach(([Re,ye])=>{Ie[Re]=Ov(ye,tt({},ne,{theme:oe}))}),B(ne,Ie)}),m&&!V&&O.push(ne=>{var oe;const be=Dy(tt({},ne,{defaultTheme:i,themeId:t})),Ie=be==null||(oe=be.components)==null||(oe=oe[m])==null?void 0:oe.variants;return Ov({variants:Ie},tt({},ne,{theme:be}))}),H||O.push(c);const de=O.length-re.length;if(Array.isArray(j)&&de>0){const ne=new Array(de).fill("");P=[...j,...ne],P.raw=[...j.raw,...ne]}const ce=_(P,...O);return u.muiName&&(ce.muiName=u.muiName),ce};return _.withConfig&&(Q.withConfig=_.withConfig),Q}}const $Ge=qGe();function gz(e,t){const i=tt({},t);return Object.keys(e).forEach(o=>{if(o.toString().match(/^(components|slots)$/))i[o]=tt({},e[o],i[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const s=e[o]||{},c=t[o];i[o]={},!c||!Object.keys(c)?i[o]=s:!s||!Object.keys(s)?i[o]=c:(i[o]=tt({},c),Object.keys(s).forEach(u=>{i[o][u]=gz(s[u],c[u])}))}else i[o]===void 0&&(i[o]=e[o])}),i}function eRe(e){const{theme:t,name:i,props:o}=e;return!t||!t.components||!t.components[i]||!t.components[i].defaultProps?o:gz(t.components[i].defaultProps,o)}function tRe({props:e,name:t,defaultTheme:i,themeId:o}){let s=R1(i);return o&&(s=s[o]||s),eRe({theme:s,name:t,props:e})}const QA=typeof window<"u"?le.useLayoutEffect:le.useEffect;function $m(e,t=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,i))}const nRe=Object.freeze(Object.defineProperty({__proto__:null,default:$m},Symbol.toStringTag,{value:"Module"}));function rX(...e){return e.reduce((t,i)=>i==null?t:function(...s){t.apply(this,s),i.apply(this,s)},()=>{})}function dz(e,t=166){let i;function o(...s){const c=()=>{e.apply(this,s)};clearTimeout(i),i=setTimeout(c,t)}return o.clear=()=>{clearTimeout(i)},o}function cS(e,t){var i,o;return le.isValidElement(e)&&t.indexOf((i=e.type.muiName)!=null?i:(o=e.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function ms(e){return e&&e.ownerDocument||document}function Zh(e){return ms(e).defaultView||window}function NZ(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let oX=0;function iRe(e){const[t,i]=le.useState(e),o=e||t;return le.useEffect(()=>{t==null&&(oX+=1,i(`mui-${oX}`))},[t]),o}const sX=sw.useId;function Az(e){if(sX!==void 0){const t=sX();return e??t}return iRe(e)}function _Z({controlled:e,default:t,name:i,state:o="value"}){const{current:s}=le.useRef(e!==void 0),[c,u]=le.useState(t),C=s?e:c,m=le.useCallback(v=>{s||u(v)},[]);return[C,m]}function fI(e){const t=le.useRef(e);return QA(()=>{t.current=e}),le.useRef((...i)=>(0,t.current)(...i)).current}function ka(...e){return le.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(i=>{NZ(i,t)})},e)}const aX={};function rRe(e,t){const i=le.useRef(aX);return i.current===aX&&(i.current=e(t)),i}const oRe=[];function sRe(e){le.useEffect(e,oRe)}class X1{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new X1}start(t,i){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,i()},t)}}function aRe(){const e=rRe(X1.create).current;return sRe(e.disposeEffect),e}let M1=!0,VZ=!1;const lRe=new X1,cRe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function gRe(e){const{type:t,tagName:i}=e;return!!(i==="INPUT"&&cRe[t]&&!e.readOnly||i==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function dRe(e){e.metaKey||e.altKey||e.ctrlKey||(M1=!0)}function gS(){M1=!1}function ARe(){this.visibilityState==="hidden"&&VZ&&(M1=!0)}function uRe(e){e.addEventListener("keydown",dRe,!0),e.addEventListener("mousedown",gS,!0),e.addEventListener("pointerdown",gS,!0),e.addEventListener("touchstart",gS,!0),e.addEventListener("visibilitychange",ARe,!0)}function hRe(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return M1||gRe(t)}function mRe(){const e=le.useCallback(s=>{s!=null&&uRe(s.ownerDocument)},[]),t=le.useRef(!1);function i(){return t.current?(VZ=!0,lRe.start(100,()=>{VZ=!1}),t.current=!1,!0):!1}function o(s){return hRe(s)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:o,onBlur:i,ref:e}}function uz(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const pRe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function po(e,t,i=void 0){const o={};return Object.keys(e).forEach(s=>{o[s]=e[s].reduce((c,u)=>{if(u){const C=t(u);C!==""&&c.push(C),i&&i[u]&&c.push(i[u])}return c},[]).join(" ")}),o}const CRe=le.createContext(),hz=()=>{const e=le.useContext(CRe);return e??!1};function Ni(e){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(e)}function fRe(e,t){if(Ni(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var o=i.call(e,t||"default");if(Ni(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IRe(e){var t=fRe(e,"string");return Ni(t)=="symbol"?t:t+""}function bRe(e,t){return tt({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Co={},mz={exports:{}};(function(e){function t(i){return i&&i.__esModule?i:{default:i}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(mz);var pz=mz.exports;const yRe=Zc(G5e),vRe=Zc(nRe);var Cz=pz;Object.defineProperty(Co,"__esModule",{value:!0});var jw=Co.alpha=yz;Co.blend=VRe;Co.colorChannel=void 0;var EZ=Co.darken=XN;Co.decomposeColor=Ml;Co.emphasize=vz;var wRe=Co.getContrastRatio=ZRe;Co.getLuminance=Ow;Co.hexToRgb=fz;Co.hslToRgb=bz;var FZ=Co.lighten=MN;Co.private_safeAlpha=GRe;Co.private_safeColorChannel=void 0;Co.private_safeDarken=RRe;Co.private_safeEmphasize=_Re;Co.private_safeLighten=NRe;Co.recomposeColor=dC;Co.rgbToHex=SRe;var lX=Cz(yRe),kRe=Cz(vRe);function LN(e,t=0,i=1){return(0,kRe.default)(e,t,i)}function fz(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let i=e.match(t);return i&&i[0].length===1&&(i=i.map(o=>o+o)),i?`rgb${i.length===4?"a":""}(${i.map((o,s)=>s<3?parseInt(o,16):Math.round(parseInt(o,16)/255*1e3)/1e3).join(", ")})`:""}function BRe(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function Ml(e){if(e.type)return e;if(e.charAt(0)==="#")return Ml(fz(e));const t=e.indexOf("("),i=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(i)===-1)throw new Error((0,lX.default)(9,e));let o=e.substring(t+1,e.length-1),s;if(i==="color"){if(o=o.split(" "),s=o.shift(),o.length===4&&o[3].charAt(0)==="/"&&(o[3]=o[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error((0,lX.default)(10,s))}else o=o.split(",");return o=o.map(c=>parseFloat(c)),{type:i,values:o,colorSpace:s}}const Iz=e=>{const t=Ml(e);return t.values.slice(0,3).map((i,o)=>t.type.indexOf("hsl")!==-1&&o!==0?`${i}%`:i).join(" ")};Co.colorChannel=Iz;const xRe=(e,t)=>{try{return Iz(e)}catch{return e}};Co.private_safeColorChannel=xRe;function dC(e){const{type:t,colorSpace:i}=e;let{values:o}=e;return t.indexOf("rgb")!==-1?o=o.map((s,c)=>c<3?parseInt(s,10):s):t.indexOf("hsl")!==-1&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),t.indexOf("color")!==-1?o=`${i} ${o.join(" ")}`:o=`${o.join(", ")}`,`${t}(${o})`}function SRe(e){if(e.indexOf("#")===0)return e;const{values:t}=Ml(e);return`#${t.map((i,o)=>BRe(o===3?Math.round(255*i):i)).join("")}`}function bz(e){e=Ml(e);const{values:t}=e,i=t[0],o=t[1]/100,s=t[2]/100,c=o*Math.min(s,1-s),u=(v,x=(v+i/30)%12)=>s-c*Math.max(Math.min(x-3,9-x,1),-1);let C="rgb";const m=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return e.type==="hsla"&&(C+="a",m.push(t[3])),dC({type:C,values:m})}function Ow(e){e=Ml(e);let t=e.type==="hsl"||e.type==="hsla"?Ml(bz(e)).values:e.values;return t=t.map(i=>(e.type!=="color"&&(i/=255),i<=.03928?i/12.92:((i+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function ZRe(e,t){const i=Ow(e),o=Ow(t);return(Math.max(i,o)+.05)/(Math.min(i,o)+.05)}function yz(e,t){return e=Ml(e),t=LN(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,dC(e)}function GRe(e,t,i){try{return yz(e,t)}catch{return e}}function XN(e,t){if(e=Ml(e),t=LN(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let i=0;i<3;i+=1)e.values[i]*=1-t;return dC(e)}function RRe(e,t,i){try{return XN(e,t)}catch{return e}}function MN(e,t){if(e=Ml(e),t=LN(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let i=0;i<3;i+=1)e.values[i]+=(255-e.values[i])*t;else if(e.type.indexOf("color")!==-1)for(let i=0;i<3;i+=1)e.values[i]+=(1-e.values[i])*t;return dC(e)}function NRe(e,t,i){try{return MN(e,t)}catch{return e}}function vz(e,t=.15){return Ow(e)>.5?XN(e,t):MN(e,t)}function _Re(e,t,i){try{return vz(e,t)}catch{return e}}function VRe(e,t,i,o=1){const s=(m,v)=>Math.round((m**(1/o)*(1-i)+v**(1/o)*i)**o),c=Ml(e),u=Ml(t),C=[s(c.values[0],u.values[0]),s(c.values[1],u.values[1]),s(c.values[2],u.values[2])];return dC({type:"rgb",values:C})}const ERe=["mode","contrastThreshold","tonalOffset"],cX={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ab.white,default:Ab.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dS={text:{primary:Ab.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ab.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function gX(e,t,i,o){const s=o.light||o,c=o.dark||o*1.5;e[t]||(e.hasOwnProperty(i)?e[t]=e[i]:t==="light"?e.light=FZ(e.main,s):t==="dark"&&(e.dark=EZ(e.main,c)))}function FRe(e="light"){return e==="dark"?{main:Tm[200],light:Tm[50],dark:Tm[400]}:{main:Tm[700],light:Tm[400],dark:Tm[800]}}function WRe(e="light"){return e==="dark"?{main:Dm[200],light:Dm[50],dark:Dm[400]}:{main:Dm[500],light:Dm[300],dark:Dm[700]}}function HRe(e="light"){return e==="dark"?{main:Hm[500],light:Hm[300],dark:Hm[700]}:{main:Hm[700],light:Hm[400],dark:Hm[800]}}function DRe(e="light"){return e==="dark"?{main:Lm[400],light:Lm[300],dark:Lm[700]}:{main:Lm[700],light:Lm[500],dark:Lm[900]}}function TRe(e="light"){return e==="dark"?{main:Xm[400],light:Xm[300],dark:Xm[700]}:{main:Xm[800],light:Xm[500],dark:Xm[900]}}function LRe(e="light"){return e==="dark"?{main:Sf[400],light:Sf[300],dark:Sf[700]}:{main:"#ed6c02",light:Sf[500],dark:Sf[900]}}function XRe(e){const{mode:t="light",contrastThreshold:i=3,tonalOffset:o=.2}=e,s=Dn(e,ERe),c=e.primary||FRe(t),u=e.secondary||WRe(t),C=e.error||HRe(t),m=e.info||DRe(t),v=e.success||TRe(t),x=e.warning||LRe(t);function G(H){return wRe(H,dS.text.primary)>=i?dS.text.primary:cX.text.primary}const B=({color:H,name:M,mainShade:L=500,lightShade:_=300,darkShade:X=700})=>{if(H=tt({},H),!H.main&&H[L]&&(H.main=H[L]),!H.hasOwnProperty("main"))throw new Error(Sh(11,M?` (${M})`:"",L));if(typeof H.main!="string")throw new Error(Sh(12,M?` (${M})`:"",JSON.stringify(H.main)));return gX(H,"light",_,o),gX(H,"dark",X,o),H.contrastText||(H.contrastText=G(H.main)),H},R={dark:dS,light:cX};return $a(tt({common:tt({},Ab),mode:t,primary:B({color:c,name:"primary"}),secondary:B({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:B({color:C,name:"error"}),warning:B({color:x,name:"warning"}),info:B({color:m,name:"info"}),success:B({color:v,name:"success"}),grey:Z5e,contrastThreshold:i,getContrastText:G,augmentColor:B,tonalOffset:o},R[t]),s)}const MRe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function YRe(e){return Math.round(e*1e5)/1e5}const dX={textTransform:"uppercase"},AX='"Roboto", "Helvetica", "Arial", sans-serif';function JRe(e,t){const i=typeof t=="function"?t(e):t,{fontFamily:o=AX,fontSize:s=14,fontWeightLight:c=300,fontWeightRegular:u=400,fontWeightMedium:C=500,fontWeightBold:m=700,htmlFontSize:v=16,allVariants:x,pxToRem:G}=i,B=Dn(i,MRe),R=s/14,V=G||(L=>`${L/v*R}rem`),H=(L,_,X,Q,j)=>tt({fontFamily:o,fontWeight:L,fontSize:V(_),lineHeight:X},o===AX?{letterSpacing:`${YRe(Q/_)}em`}:{},j,x),M={h1:H(c,96,1.167,-1.5),h2:H(c,60,1.2,-.5),h3:H(u,48,1.167,0),h4:H(u,34,1.235,.25),h5:H(u,24,1.334,0),h6:H(C,20,1.6,.15),subtitle1:H(u,16,1.75,.15),subtitle2:H(C,14,1.57,.1),body1:H(u,16,1.5,.15),body2:H(u,14,1.43,.15),button:H(C,14,1.75,.4,dX),caption:H(u,12,1.66,.4),overline:H(u,12,2.66,1,dX),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return $a(tt({htmlFontSize:v,pxToRem:V,fontFamily:o,fontSize:s,fontWeightLight:c,fontWeightRegular:u,fontWeightMedium:C,fontWeightBold:m},M),B,{clone:!1})}const URe=.2,PRe=.14,KRe=.12;function Sr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${URe})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${PRe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${KRe})`].join(",")}const zRe=["none",Sr(0,2,1,-1,0,1,1,0,0,1,3,0),Sr(0,3,1,-2,0,2,2,0,0,1,5,0),Sr(0,3,3,-2,0,3,4,0,0,1,8,0),Sr(0,2,4,-1,0,4,5,0,0,1,10,0),Sr(0,3,5,-1,0,5,8,0,0,1,14,0),Sr(0,3,5,-1,0,6,10,0,0,1,18,0),Sr(0,4,5,-2,0,7,10,1,0,2,16,1),Sr(0,5,5,-3,0,8,10,1,0,3,14,2),Sr(0,5,6,-3,0,9,12,1,0,3,16,2),Sr(0,6,6,-3,0,10,14,1,0,4,18,3),Sr(0,6,7,-4,0,11,15,1,0,4,20,3),Sr(0,7,8,-4,0,12,17,2,0,5,22,4),Sr(0,7,8,-4,0,13,19,2,0,5,24,4),Sr(0,7,9,-4,0,14,21,2,0,5,26,4),Sr(0,8,9,-5,0,15,22,2,0,6,28,5),Sr(0,8,10,-5,0,16,24,2,0,6,30,5),Sr(0,8,11,-5,0,17,26,2,0,6,32,5),Sr(0,9,11,-5,0,18,28,2,0,7,34,6),Sr(0,9,12,-6,0,19,29,2,0,7,36,6),Sr(0,10,13,-6,0,20,31,3,0,8,38,7),Sr(0,10,13,-6,0,21,33,3,0,8,40,7),Sr(0,10,14,-6,0,22,35,3,0,8,42,7),Sr(0,11,14,-7,0,23,36,3,0,9,44,8),Sr(0,11,15,-7,0,24,38,3,0,9,46,8)],QRe=["duration","easing","delay"],jRe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ORe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function uX(e){return`${Math.round(e)}ms`}function qRe(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function $Re(e){const t=tt({},jRe,e.easing),i=tt({},ORe,e.duration);return tt({getAutoHeightDuration:qRe,create:(s=["all"],c={})=>{const{duration:u=i.standard,easing:C=t.easeInOut,delay:m=0}=c;return Dn(c,QRe),(Array.isArray(s)?s:[s]).map(v=>`${v} ${typeof u=="string"?u:uX(u)} ${C} ${typeof m=="string"?m:uX(m)}`).join(",")}},e,{easing:t,duration:i})}const eNe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},tNe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function wz(e={},...t){const{mixins:i={},palette:o={},transitions:s={},typography:c={}}=e,u=Dn(e,tNe);if(e.vars)throw new Error(Sh(18));const C=XRe(o),m=G1(e);let v=$a(m,{mixins:bRe(m.breakpoints,i),palette:C,shadows:zRe.slice(),typography:JRe(C,c),transitions:$Re(s),zIndex:tt({},eNe)});return v=$a(v,u),v=t.reduce((x,G)=>$a(x,G),v),v.unstable_sxConfig=tt({},Yb,u==null?void 0:u.unstable_sxConfig),v.unstable_sx=function(G){return gC({sx:G,theme:this})},v}const Y1=wz();function kz(){const e=R1(Y1);return e[Db]||e}function xo({props:e,name:t}){return tRe({props:e,name:t,defaultTheme:Y1,themeId:Db})}var Jb={};const nNe=Zc(R5e);var AS={exports:{}},hX;function iNe(){return hX||(hX=1,function(e){function t(i,o){if(i==null)return{};var s={};for(var c in i)if({}.hasOwnProperty.call(i,c)){if(o.indexOf(c)>=0)continue;s[c]=i[c]}return s}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(AS)),AS.exports}const rNe=Zc(VZe),oNe=Zc(EZe),sNe=Zc(LZe),aNe=Zc(YGe),lNe=Zc(SGe),cNe=Zc(EGe);var AC=pz;Object.defineProperty(Jb,"__esModule",{value:!0});var gNe=Jb.default=wNe;Jb.shouldForwardProp=qv;Jb.systemDefaultTheme=void 0;var Bl=AC(nNe),WZ=AC(iNe()),mX=CNe(rNe),dNe=oNe;AC(sNe);AC(aNe);var ANe=AC(lNe),uNe=AC(cNe);const hNe=["ownerState"],mNe=["variants"],pNe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Bz(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,i=new WeakMap;return(Bz=function(o){return o?i:t})(e)}function CNe(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var i=Bz(t);if(i&&i.has(e))return i.get(e);var o={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(c!=="default"&&Object.prototype.hasOwnProperty.call(e,c)){var u=s?Object.getOwnPropertyDescriptor(e,c):null;u&&(u.get||u.set)?Object.defineProperty(o,c,u):o[c]=e[c]}return o.default=e,i&&i.set(e,o),o}function fNe(e){return Object.keys(e).length===0}function INe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function qv(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const bNe=Jb.systemDefaultTheme=(0,ANe.default)(),yNe=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function Ty({defaultTheme:e,theme:t,themeId:i}){return fNe(t)?e:t[i]||t}function vNe(e){return e?(t,i)=>i[e]:null}function $v(e,t){let{ownerState:i}=t,o=(0,WZ.default)(t,hNe);const s=typeof e=="function"?e((0,Bl.default)({ownerState:i},o)):e;if(Array.isArray(s))return s.flatMap(c=>$v(c,(0,Bl.default)({ownerState:i},o)));if(s&&typeof s=="object"&&Array.isArray(s.variants)){const{variants:c=[]}=s;let C=(0,WZ.default)(s,mNe);return c.forEach(m=>{let v=!0;typeof m.props=="function"?v=m.props((0,Bl.default)({ownerState:i},o,i)):Object.keys(m.props).forEach(x=>{(i==null?void 0:i[x])!==m.props[x]&&o[x]!==m.props[x]&&(v=!1)}),v&&(Array.isArray(C)||(C=[C]),C.push(typeof m.style=="function"?m.style((0,Bl.default)({ownerState:i},o,i)):m.style))}),C}return s}function wNe(e={}){const{themeId:t,defaultTheme:i=bNe,rootShouldForwardProp:o=qv,slotShouldForwardProp:s=qv}=e,c=u=>(0,uNe.default)((0,Bl.default)({},u,{theme:Ty((0,Bl.default)({},u,{defaultTheme:i,themeId:t}))}));return c.__mui_systemSx=!0,(u,C={})=>{(0,mX.internal_processStyles)(u,j=>j.filter(re=>!(re!=null&&re.__mui_systemSx)));const{name:m,slot:v,skipVariantsResolver:x,skipSx:G,overridesResolver:B=vNe(yNe(v))}=C,R=(0,WZ.default)(C,pNe),V=x!==void 0?x:v&&v!=="Root"&&v!=="root"||!1,H=G||!1;let M,L=qv;v==="Root"||v==="root"?L=o:v?L=s:INe(u)&&(L=void 0);const _=(0,mX.default)(u,(0,Bl.default)({shouldForwardProp:L,label:M},R)),X=j=>typeof j=="function"&&j.__emotion_real!==j||(0,dNe.isPlainObject)(j)?re=>$v(j,(0,Bl.default)({},re,{theme:Ty({theme:re.theme,defaultTheme:i,themeId:t})})):j,Q=(j,...re)=>{let P=X(j);const O=re?re.map(X):[];m&&B&&O.push(ne=>{const oe=Ty((0,Bl.default)({},ne,{defaultTheme:i,themeId:t}));if(!oe.components||!oe.components[m]||!oe.components[m].styleOverrides)return null;const be=oe.components[m].styleOverrides,Ie={};return Object.entries(be).forEach(([Re,ye])=>{Ie[Re]=$v(ye,(0,Bl.default)({},ne,{theme:oe}))}),B(ne,Ie)}),m&&!V&&O.push(ne=>{var oe;const be=Ty((0,Bl.default)({},ne,{defaultTheme:i,themeId:t})),Ie=be==null||(oe=be.components)==null||(oe=oe[m])==null?void 0:oe.variants;return $v({variants:Ie},(0,Bl.default)({},ne,{theme:be}))}),H||O.push(c);const de=O.length-re.length;if(Array.isArray(j)&&de>0){const ne=new Array(de).fill("");P=[...j,...ne],P.raw=[...j.raw,...ne]}const ce=_(P,...O);return u.muiName&&(ce.muiName=u.muiName),ce};return _.withConfig&&(Q.withConfig=_.withConfig),Q}}function J1(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const kg=e=>J1(e)&&e!=="classes",Tn=gNe({themeId:Db,defaultTheme:Y1,rootShouldForwardProp:kg}),pX=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function kNe(e){return jr("MuiSvgIcon",e)}Or("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const BNe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],xNe=e=>{const{color:t,fontSize:i,classes:o}=e,s={root:["root",t!=="inherit"&&`color${Zi(t)}`,`fontSize${Zi(i)}`]};return po(s,kNe,o)},SNe=Tn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.color!=="inherit"&&t[`color${Zi(i.color)}`],t[`fontSize${Zi(i.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var i,o,s,c,u,C,m,v,x,G,B,R,V;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(i=e.transitions)==null||(o=i.create)==null?void 0:o.call(i,"fill",{duration:(s=e.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((c=e.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,20))||"1.25rem",medium:((C=e.typography)==null||(m=C.pxToRem)==null?void 0:m.call(C,24))||"1.5rem",large:((v=e.typography)==null||(x=v.pxToRem)==null?void 0:x.call(v,35))||"2.1875rem"}[t.fontSize],color:(G=(B=(e.vars||e).palette)==null||(B=B[t.color])==null?void 0:B.main)!=null?G:{action:(R=(e.vars||e).palette)==null||(R=R.action)==null?void 0:R.active,disabled:(V=(e.vars||e).palette)==null||(V=V.action)==null?void 0:V.disabled,inherit:void 0}[t.color]}}),HZ=le.forwardRef(function(t,i){const o=xo({props:t,name:"MuiSvgIcon"}),{children:s,className:c,color:u="inherit",component:C="svg",fontSize:m="medium",htmlColor:v,inheritViewBox:x=!1,titleAccess:G,viewBox:B="0 0 24 24"}=o,R=Dn(o,BNe),V=le.isValidElement(s)&&s.type==="svg",H=tt({},o,{color:u,component:C,fontSize:m,instanceFontSize:t.fontSize,inheritViewBox:x,viewBox:B,hasSvgAsChild:V}),M={};x||(M.viewBox=B);const L=xNe(H);return y.jsxs(SNe,tt({as:C,className:li(L.root,c),focusable:"false",color:v,"aria-hidden":G?void 0:!0,role:G?"img":void 0,ref:i},M,R,V&&s.props,{ownerState:H,children:[V?s.props.children:s,G?y.jsx("title",{children:G}):null]}))});HZ.muiName="SvgIcon";function ZNe(e,t){function i(o,s){return y.jsx(HZ,tt({"data-testid":`${t}Icon`,ref:s},o,{children:e}))}return i.muiName=HZ.muiName,le.memo(le.forwardRef(i))}function GNe(e){return xo}function DZ(e,t){return DZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},DZ(e,t)}function RNe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,DZ(e,t)}const CX={disabled:!1},xz=ai.createContext(null);var NNe=function(t){return t.scrollTop},zf="unmounted",zu="exited",Qu="entering",ep="entered",TZ="exiting",Bg=function(e){RNe(t,e);function t(o,s){var c;c=e.call(this,o,s)||this;var u=s,C=u&&!u.isMounting?o.enter:o.appear,m;return c.appearStatus=null,o.in?C?(m=zu,c.appearStatus=Qu):m=ep:o.unmountOnExit||o.mountOnEnter?m=zf:m=zu,c.state={status:m},c.nextCallback=null,c}t.getDerivedStateFromProps=function(s,c){var u=s.in;return u&&c.status===zf?{status:zu}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(s){var c=null;if(s!==this.props){var u=this.state.status;this.props.in?u!==Qu&&u!==ep&&(c=Qu):(u===Qu||u===ep)&&(c=TZ)}this.updateStatus(!1,c)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var s=this.props.timeout,c,u,C;return c=u=C=s,s!=null&&typeof s!="number"&&(c=s.exit,u=s.enter,C=s.appear!==void 0?s.appear:u),{exit:c,enter:u,appear:C}},i.updateStatus=function(s,c){if(s===void 0&&(s=!1),c!==null)if(this.cancelNextCallback(),c===Qu){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Gy.findDOMNode(this);u&&NNe(u)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zu&&this.setState({status:zf})},i.performEnter=function(s){var c=this,u=this.props.enter,C=this.context?this.context.isMounting:s,m=this.props.nodeRef?[C]:[Gy.findDOMNode(this),C],v=m[0],x=m[1],G=this.getTimeouts(),B=C?G.appear:G.enter;if(!s&&!u||CX.disabled){this.safeSetState({status:ep},function(){c.props.onEntered(v)});return}this.props.onEnter(v,x),this.safeSetState({status:Qu},function(){c.props.onEntering(v,x),c.onTransitionEnd(B,function(){c.safeSetState({status:ep},function(){c.props.onEntered(v,x)})})})},i.performExit=function(){var s=this,c=this.props.exit,u=this.getTimeouts(),C=this.props.nodeRef?void 0:Gy.findDOMNode(this);if(!c||CX.disabled){this.safeSetState({status:zu},function(){s.props.onExited(C)});return}this.props.onExit(C),this.safeSetState({status:TZ},function(){s.props.onExiting(C),s.onTransitionEnd(u.exit,function(){s.safeSetState({status:zu},function(){s.props.onExited(C)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(s,c){c=this.setNextCallback(c),this.setState(s,c)},i.setNextCallback=function(s){var c=this,u=!0;return this.nextCallback=function(C){u&&(u=!1,c.nextCallback=null,s(C))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},i.onTransitionEnd=function(s,c){this.setNextCallback(c);var u=this.props.nodeRef?this.props.nodeRef.current:Gy.findDOMNode(this),C=s==null&&!this.props.addEndListener;if(!u||C){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var m=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],v=m[0],x=m[1];this.props.addEndListener(v,x)}s!=null&&setTimeout(this.nextCallback,s)},i.render=function(){var s=this.state.status;if(s===zf)return null;var c=this.props,u=c.children;c.in,c.mountOnEnter,c.unmountOnExit,c.appear,c.enter,c.exit,c.timeout,c.addEndListener,c.onEnter,c.onEntering,c.onEntered,c.onExit,c.onExiting,c.onExited,c.nodeRef;var C=Dn(c,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ai.createElement(xz.Provider,{value:null},typeof u=="function"?u(s,C):ai.cloneElement(ai.Children.only(u),C))},t}(ai.Component);Bg.contextType=xz;Bg.propTypes={};function Mm(){}Bg.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Mm,onEntering:Mm,onEntered:Mm,onExit:Mm,onExiting:Mm,onExited:Mm};Bg.UNMOUNTED=zf;Bg.EXITED=zu;Bg.ENTERING=Qu;Bg.ENTERED=ep;Bg.EXITING=TZ;const Sz=e=>e.scrollTop;function qw(e,t){var i,o;const{timeout:s,easing:c,style:u={}}=e;return{duration:(i=u.transitionDuration)!=null?i:typeof s=="number"?s:s[t.mode]||0,easing:(o=u.transitionTimingFunction)!=null?o:typeof c=="object"?c[t.mode]:c,delay:u.transitionDelay}}function _Ne(e){return jr("MuiPaper",e)}Or("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const VNe=["className","component","elevation","square","variant"],ENe=e=>{const{square:t,elevation:i,variant:o,classes:s}=e,c={root:["root",o,!t&&"rounded",o==="elevation"&&`elevation${i}`]};return po(c,_Ne,s)},FNe=Tn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[i.variant],!i.square&&t.rounded,i.variant==="elevation"&&t[`elevation${i.elevation}`]]}})(({theme:e,ownerState:t})=>{var i;return tt({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&tt({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${jw("#fff",pX(t.elevation))}, ${jw("#fff",pX(t.elevation))})`},e.vars&&{backgroundImage:(i=e.vars.overlays)==null?void 0:i[t.elevation]}))}),WNe=le.forwardRef(function(t,i){const o=xo({props:t,name:"MuiPaper"}),{className:s,component:c="div",elevation:u=1,square:C=!1,variant:m="elevation"}=o,v=Dn(o,VNe),x=tt({},o,{component:c,elevation:u,square:C,variant:m}),G=ENe(x);return y.jsx(FNe,tt({as:c,ownerState:x,className:li(G.root,s),ref:i},v))});function XA(e){return typeof e=="string"}function HNe(e,t,i){return e===void 0||XA(e)?t:tt({},t,{ownerState:tt({},t.ownerState,i)})}function DNe(e,t,i=(o,s)=>o===s){return e.length===t.length&&e.every((o,s)=>i(o,t[s]))}function II(e,t=[]){if(e===void 0)return{};const i={};return Object.keys(e).filter(o=>o.match(/^on[A-Z]/)&&typeof e[o]=="function"&&!t.includes(o)).forEach(o=>{i[o]=e[o]}),i}function TNe(e,t,i){return typeof e=="function"?e(t,i):e}function fX(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(i=>!(i.match(/^on[A-Z]/)&&typeof e[i]=="function")).forEach(i=>{t[i]=e[i]}),t}function LNe(e){const{getSlotProps:t,additionalProps:i,externalSlotProps:o,externalForwardedProps:s,className:c}=e;if(!t){const R=li(i==null?void 0:i.className,c,s==null?void 0:s.className,o==null?void 0:o.className),V=tt({},i==null?void 0:i.style,s==null?void 0:s.style,o==null?void 0:o.style),H=tt({},i,s,o);return R.length>0&&(H.className=R),Object.keys(V).length>0&&(H.style=V),{props:H,internalRef:void 0}}const u=II(tt({},s,o)),C=fX(o),m=fX(s),v=t(u),x=li(v==null?void 0:v.className,i==null?void 0:i.className,c,s==null?void 0:s.className,o==null?void 0:o.className),G=tt({},v==null?void 0:v.style,i==null?void 0:i.style,s==null?void 0:s.style,o==null?void 0:o.style),B=tt({},v,i,m,C);return x.length>0&&(B.className=x),Object.keys(G).length>0&&(B.style=G),{props:B,internalRef:v.ref}}const XNe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function ua(e){var t;const{elementType:i,externalSlotProps:o,ownerState:s,skipResolvingSlotProps:c=!1}=e,u=Dn(e,XNe),C=c?{}:TNe(o,s),{props:m,internalRef:v}=LNe(tt({},u,{externalSlotProps:C})),x=ka(v,C==null?void 0:C.ref,(t=e.additionalProps)==null?void 0:t.ref);return HNe(i,tt({},m,{ref:x}),s)}function MNe(e){return jr("MuiTypography",e)}Or("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const YNe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],JNe=e=>{const{align:t,gutterBottom:i,noWrap:o,paragraph:s,variant:c,classes:u}=e,C={root:["root",c,e.align!=="inherit"&&`align${Zi(t)}`,i&&"gutterBottom",o&&"noWrap",s&&"paragraph"]};return po(C,MNe,u)},UNe=Tn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.variant&&t[i.variant],i.align!=="inherit"&&t[`align${Zi(i.align)}`],i.noWrap&&t.noWrap,i.gutterBottom&&t.gutterBottom,i.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>tt({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),IX={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},PNe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},KNe=e=>PNe[e]||e,tp=le.forwardRef(function(t,i){const o=xo({props:t,name:"MuiTypography"}),s=KNe(o.color),c=HN(tt({},o,{color:s})),{align:u="inherit",className:C,component:m,gutterBottom:v=!1,noWrap:x=!1,paragraph:G=!1,variant:B="body1",variantMapping:R=IX}=c,V=Dn(c,YNe),H=tt({},c,{align:u,color:s,className:C,component:m,gutterBottom:v,noWrap:x,paragraph:G,variant:B,variantMapping:R}),M=m||(G?"p":R[B]||IX[B])||"span",L=JNe(H);return y.jsx(UNe,tt({as:M,ref:i,ownerState:H,className:li(L.root,C)},V))}),zNe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function QNe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function jNe(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=o=>e.ownerDocument.querySelector(`input[type="radio"]${o}`);let i=t(`[name="${e.name}"]:checked`);return i||(i=t(`[name="${e.name}"]`)),i!==e}function ONe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||jNe(e))}function qNe(e){const t=[],i=[];return Array.from(e.querySelectorAll(zNe)).forEach((o,s)=>{const c=QNe(o);c===-1||!ONe(o)||(c===0?t.push(o):i.push({documentOrder:s,tabIndex:c,node:o}))}),i.sort((o,s)=>o.tabIndex===s.tabIndex?o.documentOrder-s.documentOrder:o.tabIndex-s.tabIndex).map(o=>o.node).concat(t)}function $Ne(){return!0}function e_e(e){const{children:t,disableAutoFocus:i=!1,disableEnforceFocus:o=!1,disableRestoreFocus:s=!1,getTabbable:c=qNe,isEnabled:u=$Ne,open:C}=e,m=le.useRef(!1),v=le.useRef(null),x=le.useRef(null),G=le.useRef(null),B=le.useRef(null),R=le.useRef(!1),V=le.useRef(null),H=ka(t.ref,V),M=le.useRef(null);le.useEffect(()=>{!C||!V.current||(R.current=!i)},[i,C]),le.useEffect(()=>{if(!C||!V.current)return;const X=ms(V.current);return V.current.contains(X.activeElement)||(V.current.hasAttribute("tabIndex")||V.current.setAttribute("tabIndex","-1"),R.current&&V.current.focus()),()=>{s||(G.current&&G.current.focus&&(m.current=!0,G.current.focus()),G.current=null)}},[C]),le.useEffect(()=>{if(!C||!V.current)return;const X=ms(V.current),Q=P=>{M.current=P,!(o||!u()||P.key!=="Tab")&&X.activeElement===V.current&&P.shiftKey&&(m.current=!0,x.current&&x.current.focus())},j=()=>{const P=V.current;if(P===null)return;if(!X.hasFocus()||!u()||m.current){m.current=!1;return}if(P.contains(X.activeElement)||o&&X.activeElement!==v.current&&X.activeElement!==x.current)return;if(X.activeElement!==B.current)B.current=null;else if(B.current!==null)return;if(!R.current)return;let O=[];if((X.activeElement===v.current||X.activeElement===x.current)&&(O=c(V.current)),O.length>0){var de,ce;const ne=!!((de=M.current)!=null&&de.shiftKey&&((ce=M.current)==null?void 0:ce.key)==="Tab"),oe=O[0],be=O[O.length-1];typeof oe!="string"&&typeof be!="string"&&(ne?be.focus():oe.focus())}else P.focus()};X.addEventListener("focusin",j),X.addEventListener("keydown",Q,!0);const re=setInterval(()=>{X.activeElement&&X.activeElement.tagName==="BODY"&&j()},50);return()=>{clearInterval(re),X.removeEventListener("focusin",j),X.removeEventListener("keydown",Q,!0)}},[i,o,s,u,C,c]);const L=X=>{G.current===null&&(G.current=X.relatedTarget),R.current=!0,B.current=X.target;const Q=t.props.onFocus;Q&&Q(X)},_=X=>{G.current===null&&(G.current=X.relatedTarget),R.current=!0};return y.jsxs(le.Fragment,{children:[y.jsx("div",{tabIndex:C?0:-1,onFocus:_,ref:v,"data-testid":"sentinelStart"}),le.cloneElement(t,{ref:H,onFocus:L}),y.jsx("div",{tabIndex:C?0:-1,onFocus:_,ref:x,"data-testid":"sentinelEnd"})]})}function t_e(e){return typeof e=="function"?e():e}const n_e=le.forwardRef(function(t,i){const{children:o,container:s,disablePortal:c=!1}=t,[u,C]=le.useState(null),m=ka(le.isValidElement(o)?o.ref:null,i);if(QA(()=>{c||C(t_e(s)||document.body)},[s,c]),QA(()=>{if(u&&!c)return NZ(i,u),()=>{NZ(i,null)}},[i,u,c]),c){if(le.isValidElement(o)){const v={ref:m};return le.cloneElement(o,v)}return y.jsx(le.Fragment,{children:o})}return y.jsx(le.Fragment,{children:u&&DR.createPortal(o,u)})});function i_e(e){const t=ms(e);return t.body===e?Zh(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function bI(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function bX(e){return parseInt(Zh(e).getComputedStyle(e).paddingRight,10)||0}function r_e(e){const i=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,o=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return i||o}function yX(e,t,i,o,s){const c=[t,i,...o];[].forEach.call(e.children,u=>{const C=c.indexOf(u)===-1,m=!r_e(u);C&&m&&bI(u,s)})}function uS(e,t){let i=-1;return e.some((o,s)=>t(o)?(i=s,!0):!1),i}function o_e(e,t){const i=[],o=e.container;if(!t.disableScrollLock){if(i_e(o)){const u=uz(ms(o));i.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${bX(o)+u}px`;const C=ms(o).querySelectorAll(".mui-fixed");[].forEach.call(C,m=>{i.push({value:m.style.paddingRight,property:"padding-right",el:m}),m.style.paddingRight=`${bX(m)+u}px`})}let c;if(o.parentNode instanceof DocumentFragment)c=ms(o).body;else{const u=o.parentElement,C=Zh(o);c=(u==null?void 0:u.nodeName)==="HTML"&&C.getComputedStyle(u).overflowY==="scroll"?u:o}i.push({value:c.style.overflow,property:"overflow",el:c},{value:c.style.overflowX,property:"overflow-x",el:c},{value:c.style.overflowY,property:"overflow-y",el:c}),c.style.overflow="hidden"}return()=>{i.forEach(({value:c,el:u,property:C})=>{c?u.style.setProperty(C,c):u.style.removeProperty(C)})}}function s_e(e){const t=[];return[].forEach.call(e.children,i=>{i.getAttribute("aria-hidden")==="true"&&t.push(i)}),t}class a_e{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,i){let o=this.modals.indexOf(t);if(o!==-1)return o;o=this.modals.length,this.modals.push(t),t.modalRef&&bI(t.modalRef,!1);const s=s_e(i);yX(i,t.mount,t.modalRef,s,!0);const c=uS(this.containers,u=>u.container===i);return c!==-1?(this.containers[c].modals.push(t),o):(this.containers.push({modals:[t],container:i,restore:null,hiddenSiblings:s}),o)}mount(t,i){const o=uS(this.containers,c=>c.modals.indexOf(t)!==-1),s=this.containers[o];s.restore||(s.restore=o_e(s,i))}remove(t,i=!0){const o=this.modals.indexOf(t);if(o===-1)return o;const s=uS(this.containers,u=>u.modals.indexOf(t)!==-1),c=this.containers[s];if(c.modals.splice(c.modals.indexOf(t),1),this.modals.splice(o,1),c.modals.length===0)c.restore&&c.restore(),t.modalRef&&bI(t.modalRef,i),yX(c.container,t.mount,t.modalRef,c.hiddenSiblings,!1),this.containers.splice(s,1);else{const u=c.modals[c.modals.length-1];u.modalRef&&bI(u.modalRef,!1)}return o}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function l_e(e){return typeof e=="function"?e():e}function c_e(e){return e?e.props.hasOwnProperty("in"):!1}const g_e=new a_e;function d_e(e){const{container:t,disableEscapeKeyDown:i=!1,disableScrollLock:o=!1,manager:s=g_e,closeAfterTransition:c=!1,onTransitionEnter:u,onTransitionExited:C,children:m,onClose:v,open:x,rootRef:G}=e,B=le.useRef({}),R=le.useRef(null),V=le.useRef(null),H=ka(V,G),[M,L]=le.useState(!x),_=c_e(m);let X=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(X=!1);const Q=()=>ms(R.current),j=()=>(B.current.modalRef=V.current,B.current.mount=R.current,B.current),re=()=>{s.mount(j(),{disableScrollLock:o}),V.current&&(V.current.scrollTop=0)},P=fI(()=>{const ye=l_e(t)||Q().body;s.add(j(),ye),V.current&&re()}),O=le.useCallback(()=>s.isTopModal(j()),[s]),de=fI(ye=>{R.current=ye,ye&&(x&&O()?re():V.current&&bI(V.current,X))}),ce=le.useCallback(()=>{s.remove(j(),X)},[X,s]);le.useEffect(()=>()=>{ce()},[ce]),le.useEffect(()=>{x?P():(!_||!c)&&ce()},[x,ce,_,c,P]);const ne=ye=>ve=>{var fe;(fe=ye.onKeyDown)==null||fe.call(ye,ve),!(ve.key!=="Escape"||ve.which===229||!O())&&(i||(ve.stopPropagation(),v&&v(ve,"escapeKeyDown")))},oe=ye=>ve=>{var fe;(fe=ye.onClick)==null||fe.call(ye,ve),ve.target===ve.currentTarget&&v&&v(ve,"backdropClick")};return{getRootProps:(ye={})=>{const ve=II(e);delete ve.onTransitionEnter,delete ve.onTransitionExited;const fe=tt({},ve,ye);return tt({role:"presentation"},fe,{onKeyDown:ne(fe),ref:H})},getBackdropProps:(ye={})=>{const ve=ye;return tt({"aria-hidden":!0},ve,{onClick:oe(ve),open:x})},getTransitionProps:()=>{const ye=()=>{L(!1),u&&u()},ve=()=>{L(!0),C&&C(),c&&ce()};return{onEnter:rX(ye,m==null?void 0:m.props.onEnter),onExited:rX(ve,m==null?void 0:m.props.onExited)}},rootRef:H,portalRef:de,isTopModal:O,exited:M,hasTransition:_}}const A_e=2;function Zz(e,t){return e-t}function vX(e,t){var i;const{index:o}=(i=e.reduce((s,c,u)=>{const C=Math.abs(t-c);return s===null||C<s.distance||C===s.distance?{distance:C,index:u}:s},null))!=null?i:{};return o}function Ly(e,t){if(t.current!==void 0&&e.changedTouches){const i=e;for(let o=0;o<i.changedTouches.length;o+=1){const s=i.changedTouches[o];if(s.identifier===t.current)return{x:s.clientX,y:s.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function $w(e,t,i){return(e-t)*100/(i-t)}function u_e(e,t,i){return(i-t)*e+t}function h_e(e){if(Math.abs(e)<1){const i=e.toExponential().split("e-"),o=i[0].split(".")[1];return(o?o.length:0)+parseInt(i[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function m_e(e,t,i){const o=Math.round((e-i)/t)*t+i;return Number(o.toFixed(h_e(t)))}function wX({values:e,newValue:t,index:i}){const o=e.slice();return o[i]=t,o.sort(Zz)}function Xy({sliderRef:e,activeIndex:t,setActive:i}){var o,s;const c=ms(e.current);if(!((o=e.current)!=null&&o.contains(c.activeElement))||Number(c==null||(s=c.activeElement)==null?void 0:s.getAttribute("data-index"))!==t){var u;(u=e.current)==null||u.querySelector(`[type="range"][data-index="${t}"]`).focus()}i&&i(t)}function My(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?DNe(e,t):!1}const p_e={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},C_e=e=>e;let Yy;function kX(){return Yy===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Yy=CSS.supports("touch-action","none"):Yy=!0),Yy}function f_e(e){const{"aria-labelledby":t,defaultValue:i,disabled:o=!1,disableSwap:s=!1,isRtl:c=!1,marks:u=!1,max:C=100,min:m=0,name:v,onChange:x,onChangeCommitted:G,orientation:B="horizontal",rootRef:R,scale:V=C_e,step:H=1,shiftStep:M=10,tabIndex:L,value:_}=e,X=le.useRef(),[Q,j]=le.useState(-1),[re,P]=le.useState(-1),[O,de]=le.useState(!1),ce=le.useRef(0),[ne,oe]=_Z({controlled:_,default:i??m,name:"Slider"}),be=x&&((wt,St,Wt)=>{const Dt=wt.nativeEvent||wt,Zt=new Dt.constructor(Dt.type,Dt);Object.defineProperty(Zt,"target",{writable:!0,value:{value:St,name:v}}),x(Zt,St,Wt)}),Ie=Array.isArray(ne);let Re=Ie?ne.slice().sort(Zz):[ne];Re=Re.map(wt=>wt==null?m:$m(wt,m,C));const ye=u===!0&&H!==null?[...Array(Math.floor((C-m)/H)+1)].map((wt,St)=>({value:m+H*St})):u||[],ve=ye.map(wt=>wt.value),{isFocusVisibleRef:fe,onBlur:Ge,onFocus:De,ref:Pe}=mRe(),[me,_e]=le.useState(-1),pe=le.useRef(),Ee=ka(Pe,pe),We=ka(R,Ee),Ue=wt=>St=>{var Wt;const Dt=Number(St.currentTarget.getAttribute("data-index"));De(St),fe.current===!0&&_e(Dt),P(Dt),wt==null||(Wt=wt.onFocus)==null||Wt.call(wt,St)},je=wt=>St=>{var Wt;Ge(St),fe.current===!1&&_e(-1),P(-1),wt==null||(Wt=wt.onBlur)==null||Wt.call(wt,St)},qe=(wt,St)=>{const Wt=Number(wt.currentTarget.getAttribute("data-index")),Dt=Re[Wt],Zt=ve.indexOf(Dt);let Ct=St;if(ye&&H==null){const Kt=ve[ve.length-1];Ct>Kt?Ct=Kt:Ct<ve[0]?Ct=ve[0]:Ct=Ct<Dt?ve[Zt-1]:ve[Zt+1]}if(Ct=$m(Ct,m,C),Ie){s&&(Ct=$m(Ct,Re[Wt-1]||-1/0,Re[Wt+1]||1/0));const Kt=Ct;Ct=wX({values:Re,newValue:Ct,index:Wt});let en=Wt;s||(en=Ct.indexOf(Kt)),Xy({sliderRef:pe,activeIndex:en})}oe(Ct),_e(Wt),be&&!My(Ct,ne)&&be(wt,Ct,Wt),G&&G(wt,Ct)},At=wt=>St=>{var Wt;if(H!==null){const Dt=Number(St.currentTarget.getAttribute("data-index")),Zt=Re[Dt];let Ct=null;(St.key==="ArrowLeft"||St.key==="ArrowDown")&&St.shiftKey||St.key==="PageDown"?Ct=Math.max(Zt-M,m):((St.key==="ArrowRight"||St.key==="ArrowUp")&&St.shiftKey||St.key==="PageUp")&&(Ct=Math.min(Zt+M,C)),Ct!==null&&(qe(St,Ct),St.preventDefault())}wt==null||(Wt=wt.onKeyDown)==null||Wt.call(wt,St)};QA(()=>{if(o&&pe.current.contains(document.activeElement)){var wt;(wt=document.activeElement)==null||wt.blur()}},[o]),o&&Q!==-1&&j(-1),o&&me!==-1&&_e(-1);const ct=wt=>St=>{var Wt;(Wt=wt.onChange)==null||Wt.call(wt,St),qe(St,St.target.valueAsNumber)},lt=le.useRef();let at=B;c&&B==="horizontal"&&(at+="-reverse");const Ht=({finger:wt,move:St=!1})=>{const{current:Wt}=pe,{width:Dt,height:Zt,bottom:Ct,left:Kt}=Wt.getBoundingClientRect();let en;at.indexOf("vertical")===0?en=(Ct-wt.y)/Zt:en=(wt.x-Kt)/Dt,at.indexOf("-reverse")!==-1&&(en=1-en);let Qt;if(Qt=u_e(en,m,C),H)Qt=m_e(Qt,H,m);else{const Gn=vX(ve,Qt);Qt=ve[Gn]}Qt=$m(Qt,m,C);let xn=0;if(Ie){St?xn=lt.current:xn=vX(Re,Qt),s&&(Qt=$m(Qt,Re[xn-1]||-1/0,Re[xn+1]||1/0));const Gn=Qt;Qt=wX({values:Re,newValue:Qt,index:xn}),s&&St||(xn=Qt.indexOf(Gn),lt.current=xn)}return{newValue:Qt,activeIndex:xn}},st=fI(wt=>{const St=Ly(wt,X);if(!St)return;if(ce.current+=1,wt.type==="mousemove"&&wt.buttons===0){Ke(wt);return}const{newValue:Wt,activeIndex:Dt}=Ht({finger:St,move:!0});Xy({sliderRef:pe,activeIndex:Dt,setActive:j}),oe(Wt),!O&&ce.current>A_e&&de(!0),be&&!My(Wt,ne)&&be(wt,Wt,Dt)}),Ke=fI(wt=>{const St=Ly(wt,X);if(de(!1),!St)return;const{newValue:Wt}=Ht({finger:St,move:!0});j(-1),wt.type==="touchend"&&P(-1),G&&G(wt,Wt),X.current=void 0,Yt()}),Vt=fI(wt=>{if(o)return;kX()||wt.preventDefault();const St=wt.changedTouches[0];St!=null&&(X.current=St.identifier);const Wt=Ly(wt,X);if(Wt!==!1){const{newValue:Zt,activeIndex:Ct}=Ht({finger:Wt});Xy({sliderRef:pe,activeIndex:Ct,setActive:j}),oe(Zt),be&&!My(Zt,ne)&&be(wt,Zt,Ct)}ce.current=0;const Dt=ms(pe.current);Dt.addEventListener("touchmove",st,{passive:!0}),Dt.addEventListener("touchend",Ke,{passive:!0})}),Yt=le.useCallback(()=>{const wt=ms(pe.current);wt.removeEventListener("mousemove",st),wt.removeEventListener("mouseup",Ke),wt.removeEventListener("touchmove",st),wt.removeEventListener("touchend",Ke)},[Ke,st]);le.useEffect(()=>{const{current:wt}=pe;return wt.addEventListener("touchstart",Vt,{passive:kX()}),()=>{wt.removeEventListener("touchstart",Vt),Yt()}},[Yt,Vt]),le.useEffect(()=>{o&&Yt()},[o,Yt]);const It=wt=>St=>{var Wt;if((Wt=wt.onMouseDown)==null||Wt.call(wt,St),o||St.defaultPrevented||St.button!==0)return;St.preventDefault();const Dt=Ly(St,X);if(Dt!==!1){const{newValue:Ct,activeIndex:Kt}=Ht({finger:Dt});Xy({sliderRef:pe,activeIndex:Kt,setActive:j}),oe(Ct),be&&!My(Ct,ne)&&be(St,Ct,Kt)}ce.current=0;const Zt=ms(pe.current);Zt.addEventListener("mousemove",st,{passive:!0}),Zt.addEventListener("mouseup",Ke)},bt=$w(Ie?Re[0]:m,m,C),yt=$w(Re[Re.length-1],m,C)-bt,kt=(wt={})=>{const St=II(wt),Wt={onMouseDown:It(St||{})},Dt=tt({},St,Wt);return tt({},wt,{ref:We},Dt)},Jt=wt=>St=>{var Wt;(Wt=wt.onMouseOver)==null||Wt.call(wt,St);const Dt=Number(St.currentTarget.getAttribute("data-index"));P(Dt)},tn=wt=>St=>{var Wt;(Wt=wt.onMouseLeave)==null||Wt.call(wt,St),P(-1)};return{active:Q,axis:at,axisProps:p_e,dragging:O,focusedThumbIndex:me,getHiddenInputProps:(wt={})=>{var St;const Wt=II(wt),Dt={onChange:ct(Wt||{}),onFocus:Ue(Wt||{}),onBlur:je(Wt||{}),onKeyDown:At(Wt||{})},Zt=tt({},Wt,Dt);return tt({tabIndex:L,"aria-labelledby":t,"aria-orientation":B,"aria-valuemax":V(C),"aria-valuemin":V(m),name:v,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":(St=e.step)!=null?St:void 0,disabled:o},wt,Zt,{style:tt({},pRe,{direction:c?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:kt,getThumbProps:(wt={})=>{const St=II(wt),Wt={onMouseOver:Jt(St||{}),onMouseLeave:tn(St||{})};return tt({},wt,St,Wt)},marks:ye,open:re,range:Ie,rootRef:We,trackLeap:yt,trackOffset:bt,values:Re,getThumbStyle:wt=>({pointerEvents:Q!==-1&&Q!==wt?"none":void 0})}}const I_e=["onChange","maxRows","minRows","style","value"];function Jy(e){return parseInt(e,10)||0}const b_e={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function y_e(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflowing}const v_e=le.forwardRef(function(t,i){const{onChange:o,maxRows:s,minRows:c=1,style:u,value:C}=t,m=Dn(t,I_e),{current:v}=le.useRef(C!=null),x=le.useRef(null),G=ka(i,x),B=le.useRef(null),R=le.useCallback(()=>{const M=x.current,_=Zh(M).getComputedStyle(M);if(_.width==="0px")return{outerHeightStyle:0,overflowing:!1};const X=B.current;X.style.width=_.width,X.value=M.value||t.placeholder||"x",X.value.slice(-1)===`
`&&(X.value+=" ");const Q=_.boxSizing,j=Jy(_.paddingBottom)+Jy(_.paddingTop),re=Jy(_.borderBottomWidth)+Jy(_.borderTopWidth),P=X.scrollHeight;X.value="x";const O=X.scrollHeight;let de=P;c&&(de=Math.max(Number(c)*O,de)),s&&(de=Math.min(Number(s)*O,de)),de=Math.max(de,O);const ce=de+(Q==="border-box"?j+re:0),ne=Math.abs(de-P)<=1;return{outerHeightStyle:ce,overflowing:ne}},[s,c,t.placeholder]),V=le.useCallback(()=>{const M=R();if(y_e(M))return;const L=x.current;L.style.height=`${M.outerHeightStyle}px`,L.style.overflow=M.overflowing?"hidden":""},[R]);QA(()=>{const M=()=>{V()};let L;const _=dz(M),X=x.current,Q=Zh(X);Q.addEventListener("resize",_);let j;return typeof ResizeObserver<"u"&&(j=new ResizeObserver(M),j.observe(X)),()=>{_.clear(),cancelAnimationFrame(L),Q.removeEventListener("resize",_),j&&j.disconnect()}},[R,V]),QA(()=>{V()});const H=M=>{v||V(),o&&o(M)};return y.jsxs(le.Fragment,{children:[y.jsx("textarea",tt({value:C,onChange:H,ref:G,rows:c,style:u},m)),y.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:B,tabIndex:-1,style:tt({},b_e.shadow,u,{paddingTop:0,paddingBottom:0})})]})});function uC({props:e,states:t,muiFormControl:i}){return t.reduce((o,s)=>(o[s]=e[s],i&&typeof e[s]>"u"&&(o[s]=i[s]),o),{})}const U1=le.createContext(void 0);function Wh(){return le.useContext(U1)}function w_e(e){return y.jsx(NGe,tt({},e,{defaultTheme:Y1,themeId:Db}))}function BX(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function ek(e,t=!1){return e&&(BX(e.value)&&e.value!==""||t&&BX(e.defaultValue)&&e.defaultValue!=="")}function k_e(e){return e.startAdornment}function B_e(e){return jr("MuiInputBase",e)}const zp=Or("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),x_e=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],P1=(e,t)=>{const{ownerState:i}=e;return[t.root,i.formControl&&t.formControl,i.startAdornment&&t.adornedStart,i.endAdornment&&t.adornedEnd,i.error&&t.error,i.size==="small"&&t.sizeSmall,i.multiline&&t.multiline,i.color&&t[`color${Zi(i.color)}`],i.fullWidth&&t.fullWidth,i.hiddenLabel&&t.hiddenLabel]},K1=(e,t)=>{const{ownerState:i}=e;return[t.input,i.size==="small"&&t.inputSizeSmall,i.multiline&&t.inputMultiline,i.type==="search"&&t.inputTypeSearch,i.startAdornment&&t.inputAdornedStart,i.endAdornment&&t.inputAdornedEnd,i.hiddenLabel&&t.inputHiddenLabel]},S_e=e=>{const{classes:t,color:i,disabled:o,error:s,endAdornment:c,focused:u,formControl:C,fullWidth:m,hiddenLabel:v,multiline:x,readOnly:G,size:B,startAdornment:R,type:V}=e,H={root:["root",`color${Zi(i)}`,o&&"disabled",s&&"error",m&&"fullWidth",u&&"focused",C&&"formControl",B&&B!=="medium"&&`size${Zi(B)}`,x&&"multiline",R&&"adornedStart",c&&"adornedEnd",v&&"hiddenLabel",G&&"readOnly"],input:["input",o&&"disabled",V==="search"&&"inputTypeSearch",x&&"inputMultiline",B==="small"&&"inputSizeSmall",v&&"inputHiddenLabel",R&&"inputAdornedStart",c&&"inputAdornedEnd",G&&"readOnly"]};return po(H,B_e,t)},z1=Tn("div",{name:"MuiInputBase",slot:"Root",overridesResolver:P1})(({theme:e,ownerState:t})=>tt({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${zp.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&tt({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),Q1=Tn("input",{name:"MuiInputBase",slot:"Input",overridesResolver:K1})(({theme:e,ownerState:t})=>{const i=e.palette.mode==="light",o=tt({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),s={opacity:"0 !important"},c=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return tt({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${zp.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":c,"&:focus::-moz-placeholder":c,"&:focus:-ms-input-placeholder":c,"&:focus::-ms-input-placeholder":c},[`&.${zp.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),Z_e=y.jsx(w_e,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),G_e=le.forwardRef(function(t,i){var o;const s=xo({props:t,name:"MuiInputBase"}),{"aria-describedby":c,autoComplete:u,autoFocus:C,className:m,components:v={},componentsProps:x={},defaultValue:G,disabled:B,disableInjectingGlobalStyles:R,endAdornment:V,fullWidth:H=!1,id:M,inputComponent:L="input",inputProps:_={},inputRef:X,maxRows:Q,minRows:j,multiline:re=!1,name:P,onBlur:O,onChange:de,onClick:ce,onFocus:ne,onKeyDown:oe,onKeyUp:be,placeholder:Ie,readOnly:Re,renderSuffix:ye,rows:ve,slotProps:fe={},slots:Ge={},startAdornment:De,type:Pe="text",value:me}=s,_e=Dn(s,x_e),pe=_.value!=null?_.value:me,{current:Ee}=le.useRef(pe!=null),We=le.useRef(),Ue=le.useCallback(wt=>{},[]),je=ka(We,X,_.ref,Ue),[qe,At]=le.useState(!1),ct=Wh(),lt=uC({props:s,muiFormControl:ct,states:["color","disabled","error","hiddenLabel","size","required","filled"]});lt.focused=ct?ct.focused:qe,le.useEffect(()=>{!ct&&B&&qe&&(At(!1),O&&O())},[ct,B,qe,O]);const at=ct&&ct.onFilled,Ht=ct&&ct.onEmpty,st=le.useCallback(wt=>{ek(wt)?at&&at():Ht&&Ht()},[at,Ht]);QA(()=>{Ee&&st({value:pe})},[pe,st,Ee]);const Ke=wt=>{if(lt.disabled){wt.stopPropagation();return}ne&&ne(wt),_.onFocus&&_.onFocus(wt),ct&&ct.onFocus?ct.onFocus(wt):At(!0)},Vt=wt=>{O&&O(wt),_.onBlur&&_.onBlur(wt),ct&&ct.onBlur?ct.onBlur(wt):At(!1)},Yt=(wt,...St)=>{if(!Ee){const Wt=wt.target||We.current;if(Wt==null)throw new Error(Sh(1));st({value:Wt.value})}_.onChange&&_.onChange(wt,...St),de&&de(wt,...St)};le.useEffect(()=>{st(We.current)},[]);const It=wt=>{We.current&&wt.currentTarget===wt.target&&We.current.focus(),ce&&ce(wt)};let bt=L,yt=_;re&&bt==="input"&&(ve?yt=tt({type:void 0,minRows:ve,maxRows:ve},yt):yt=tt({type:void 0,maxRows:Q,minRows:j},yt),bt=v_e);const kt=wt=>{st(wt.animationName==="mui-auto-fill-cancel"?We.current:{value:"x"})};le.useEffect(()=>{ct&&ct.setAdornedStart(!!De)},[ct,De]);const Jt=tt({},s,{color:lt.color||"primary",disabled:lt.disabled,endAdornment:V,error:lt.error,focused:lt.focused,formControl:ct,fullWidth:H,hiddenLabel:lt.hiddenLabel,multiline:re,size:lt.size,startAdornment:De,type:Pe}),tn=S_e(Jt),An=Ge.root||v.Root||z1,dn=fe.root||x.root||{},Bn=Ge.input||v.Input||Q1;return yt=tt({},yt,(o=fe.input)!=null?o:x.input),y.jsxs(le.Fragment,{children:[!R&&Z_e,y.jsxs(An,tt({},dn,!XA(An)&&{ownerState:tt({},Jt,dn.ownerState)},{ref:i,onClick:It},_e,{className:li(tn.root,dn.className,m,Re&&"MuiInputBase-readOnly"),children:[De,y.jsx(U1.Provider,{value:null,children:y.jsx(Bn,tt({ownerState:Jt,"aria-invalid":lt.error,"aria-describedby":c,autoComplete:u,autoFocus:C,defaultValue:G,disabled:lt.disabled,id:M,onAnimationStart:kt,name:P,placeholder:Ie,readOnly:Re,required:lt.required,rows:ve,value:pe,onKeyDown:oe,onKeyUp:be,type:Pe},yt,!XA(Bn)&&{as:bt,ownerState:tt({},Jt,yt.ownerState)},{ref:je,className:li(tn.input,yt.className,Re&&"MuiInputBase-readOnly"),onBlur:Vt,onChange:Yt,onFocus:Ke}))}),V,ye?ye(tt({},lt,{startAdornment:De})):null]}))]})}),YN=G_e;function R_e(e){return jr("MuiInput",e)}const Gf=tt({},zp,Or("MuiInput",["root","underline","input"]));function N_e(e){return jr("MuiOutlinedInput",e)}const aA=tt({},zp,Or("MuiOutlinedInput",["root","notchedOutline","input"]));function __e(e){return jr("MuiFilledInput",e)}const Yu=tt({},zp,Or("MuiFilledInput",["root","underline","input"])),V_e=ZNe(y.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),E_e=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],F_e={entering:{opacity:1},entered:{opacity:1}},W_e=le.forwardRef(function(t,i){const o=kz(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:c,appear:u=!0,children:C,easing:m,in:v,onEnter:x,onEntered:G,onEntering:B,onExit:R,onExited:V,onExiting:H,style:M,timeout:L=s,TransitionComponent:_=Bg}=t,X=Dn(t,E_e),Q=le.useRef(null),j=ka(Q,C.ref,i),re=Ie=>Re=>{if(Ie){const ye=Q.current;Re===void 0?Ie(ye):Ie(ye,Re)}},P=re(B),O=re((Ie,Re)=>{Sz(Ie);const ye=qw({style:M,timeout:L,easing:m},{mode:"enter"});Ie.style.webkitTransition=o.transitions.create("opacity",ye),Ie.style.transition=o.transitions.create("opacity",ye),x&&x(Ie,Re)}),de=re(G),ce=re(H),ne=re(Ie=>{const Re=qw({style:M,timeout:L,easing:m},{mode:"exit"});Ie.style.webkitTransition=o.transitions.create("opacity",Re),Ie.style.transition=o.transitions.create("opacity",Re),R&&R(Ie)}),oe=re(V),be=Ie=>{c&&c(Q.current,Ie)};return y.jsx(_,tt({appear:u,in:v,nodeRef:Q,onEnter:O,onEntered:de,onEntering:P,onExit:ne,onExited:oe,onExiting:ce,addEndListener:be,timeout:L},X,{children:(Ie,Re)=>le.cloneElement(C,tt({style:tt({opacity:0,visibility:Ie==="exited"&&!v?"hidden":void 0},F_e[Ie],M,C.props.style),ref:j},Re))}))});function H_e(e){return jr("MuiBackdrop",e)}Or("MuiBackdrop",["root","invisible"]);const D_e=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],T_e=e=>{const{classes:t,invisible:i}=e;return po({root:["root",i&&"invisible"]},H_e,t)},L_e=Tn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.invisible&&t.invisible]}})(({ownerState:e})=>tt({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),X_e=le.forwardRef(function(t,i){var o,s,c;const u=xo({props:t,name:"MuiBackdrop"}),{children:C,className:m,component:v="div",components:x={},componentsProps:G={},invisible:B=!1,open:R,slotProps:V={},slots:H={},TransitionComponent:M=W_e,transitionDuration:L}=u,_=Dn(u,D_e),X=tt({},u,{component:v,invisible:B}),Q=T_e(X),j=(o=V.root)!=null?o:G.root;return y.jsx(M,tt({in:R,timeout:L},_,{children:y.jsx(L_e,tt({"aria-hidden":!0},j,{as:(s=(c=H.root)!=null?c:x.Root)!=null?s:v,className:li(Q.root,m,j==null?void 0:j.className),ownerState:tt({},X,j==null?void 0:j.ownerState),classes:Q,ref:i,children:C}))}))}),M_e=Or("MuiBox",["root"]),Y_e=wz(),Rf=HGe({themeId:Db,defaultTheme:Y_e,defaultClassName:M_e.root,generateClassName:oz.generate});function J_e(e){return jr("MuiModal",e)}Or("MuiModal",["root","hidden","backdrop"]);const U_e=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],P_e=e=>{const{open:t,exited:i,classes:o}=e;return po({root:["root",!t&&i&&"hidden"],backdrop:["backdrop"]},J_e,o)},K_e=Tn("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,!i.open&&i.exited&&t.hidden]}})(({theme:e,ownerState:t})=>tt({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),z_e=Tn(X_e,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Q_e=le.forwardRef(function(t,i){var o,s,c,u,C,m;const v=xo({name:"MuiModal",props:t}),{BackdropComponent:x=z_e,BackdropProps:G,className:B,closeAfterTransition:R=!1,children:V,container:H,component:M,components:L={},componentsProps:_={},disableAutoFocus:X=!1,disableEnforceFocus:Q=!1,disableEscapeKeyDown:j=!1,disablePortal:re=!1,disableRestoreFocus:P=!1,disableScrollLock:O=!1,hideBackdrop:de=!1,keepMounted:ce=!1,onBackdropClick:ne,open:oe,slotProps:be,slots:Ie}=v,Re=Dn(v,U_e),ye=tt({},v,{closeAfterTransition:R,disableAutoFocus:X,disableEnforceFocus:Q,disableEscapeKeyDown:j,disablePortal:re,disableRestoreFocus:P,disableScrollLock:O,hideBackdrop:de,keepMounted:ce}),{getRootProps:ve,getBackdropProps:fe,getTransitionProps:Ge,portalRef:De,isTopModal:Pe,exited:me,hasTransition:_e}=d_e(tt({},ye,{rootRef:i})),pe=tt({},ye,{exited:me}),Ee=P_e(pe),We={};if(V.props.tabIndex===void 0&&(We.tabIndex="-1"),_e){const{onEnter:at,onExited:Ht}=Ge();We.onEnter=at,We.onExited=Ht}const Ue=(o=(s=Ie==null?void 0:Ie.root)!=null?s:L.Root)!=null?o:K_e,je=(c=(u=Ie==null?void 0:Ie.backdrop)!=null?u:L.Backdrop)!=null?c:x,qe=(C=be==null?void 0:be.root)!=null?C:_.root,At=(m=be==null?void 0:be.backdrop)!=null?m:_.backdrop,ct=ua({elementType:Ue,externalSlotProps:qe,externalForwardedProps:Re,getSlotProps:ve,additionalProps:{ref:i,as:M},ownerState:pe,className:li(B,qe==null?void 0:qe.className,Ee==null?void 0:Ee.root,!pe.open&&pe.exited&&(Ee==null?void 0:Ee.hidden))}),lt=ua({elementType:je,externalSlotProps:At,additionalProps:G,getSlotProps:at=>fe(tt({},at,{onClick:Ht=>{ne&&ne(Ht),at!=null&&at.onClick&&at.onClick(Ht)}})),className:li(At==null?void 0:At.className,G==null?void 0:G.className,Ee==null?void 0:Ee.backdrop),ownerState:pe});return!ce&&!oe&&(!_e||me)?null:y.jsx(n_e,{ref:De,container:H,disablePortal:re,children:y.jsxs(Ue,tt({},ct,{children:[!de&&x?y.jsx(je,tt({},lt)):null,y.jsx(e_e,{disableEnforceFocus:Q,disableAutoFocus:X,disableRestoreFocus:P,isEnabled:Pe,open:oe,children:le.cloneElement(V,We)})]}))})}),j_e=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],O_e=e=>{const{classes:t,disableUnderline:i}=e,s=po({root:["root",!i&&"underline"],input:["input"]},__e,t);return tt({},t,s)},q_e=Tn(z1,{shouldForwardProp:e=>kg(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[...P1(e,t),!i.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var i;const o=e.palette.mode==="light",s=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",c=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",u=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",C=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return tt({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:c,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:u,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:c}},[`&.${Yu.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:c},[`&.${Yu.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:C}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(i=(e.vars||e).palette[t.color||"primary"])==null?void 0:i.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Yu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Yu.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Yu.disabled}, .${Yu.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Yu.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&tt({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),$_e=Tn(Q1,{name:"MuiFilledInput",slot:"Input",overridesResolver:K1})(({theme:e,ownerState:t})=>tt({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),JN=le.forwardRef(function(t,i){var o,s,c,u;const C=xo({props:t,name:"MuiFilledInput"}),{components:m={},componentsProps:v,fullWidth:x=!1,inputComponent:G="input",multiline:B=!1,slotProps:R,slots:V={},type:H="text"}=C,M=Dn(C,j_e),L=tt({},C,{fullWidth:x,inputComponent:G,multiline:B,type:H}),_=O_e(C),X={root:{ownerState:L},input:{ownerState:L}},Q=R??v?$a(X,R??v):X,j=(o=(s=V.root)!=null?s:m.Root)!=null?o:q_e,re=(c=(u=V.input)!=null?u:m.Input)!=null?c:$_e;return y.jsx(YN,tt({slots:{root:j,input:re},componentsProps:Q,fullWidth:x,inputComponent:G,multiline:B,ref:i,type:H},M,{classes:_}))});JN.muiName="Input";function eVe(e){return jr("MuiFormControl",e)}Or("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const tVe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],nVe=e=>{const{classes:t,margin:i,fullWidth:o}=e,s={root:["root",i!=="none"&&`margin${Zi(i)}`,o&&"fullWidth"]};return po(s,eVe,t)},iVe=Tn("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>tt({},t.root,t[`margin${Zi(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>tt({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),rVe=le.forwardRef(function(t,i){const o=xo({props:t,name:"MuiFormControl"}),{children:s,className:c,color:u="primary",component:C="div",disabled:m=!1,error:v=!1,focused:x,fullWidth:G=!1,hiddenLabel:B=!1,margin:R="none",required:V=!1,size:H="medium",variant:M="outlined"}=o,L=Dn(o,tVe),_=tt({},o,{color:u,component:C,disabled:m,error:v,fullWidth:G,hiddenLabel:B,margin:R,required:V,size:H,variant:M}),X=nVe(_),[Q,j]=le.useState(()=>{let be=!1;return s&&le.Children.forEach(s,Ie=>{if(!cS(Ie,["Input","Select"]))return;const Re=cS(Ie,["Select"])?Ie.props.input:Ie;Re&&k_e(Re.props)&&(be=!0)}),be}),[re,P]=le.useState(()=>{let be=!1;return s&&le.Children.forEach(s,Ie=>{cS(Ie,["Input","Select"])&&(ek(Ie.props,!0)||ek(Ie.props.inputProps,!0))&&(be=!0)}),be}),[O,de]=le.useState(!1);m&&O&&de(!1);const ce=x!==void 0&&!m?x:O;let ne;const oe=le.useMemo(()=>({adornedStart:Q,setAdornedStart:j,color:u,disabled:m,error:v,filled:re,focused:ce,fullWidth:G,hiddenLabel:B,size:H,onBlur:()=>{de(!1)},onEmpty:()=>{P(!1)},onFilled:()=>{P(!0)},onFocus:()=>{de(!0)},registerEffect:ne,required:V,variant:M}),[Q,u,m,v,re,ce,G,B,ne,V,H,M]);return y.jsx(U1.Provider,{value:oe,children:y.jsx(iVe,tt({as:C,ownerState:_,className:li(X.root,c),ref:i},L,{children:s}))})});function oVe(e){return jr("MuiFormHelperText",e)}const xX=Or("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var SX;const sVe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],aVe=e=>{const{classes:t,contained:i,size:o,disabled:s,error:c,filled:u,focused:C,required:m}=e,v={root:["root",s&&"disabled",c&&"error",o&&`size${Zi(o)}`,i&&"contained",C&&"focused",u&&"filled",m&&"required"]};return po(v,oVe,t)},lVe=Tn("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.size&&t[`size${Zi(i.size)}`],i.contained&&t.contained,i.filled&&t.filled]}})(({theme:e,ownerState:t})=>tt({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${xX.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${xX.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),cVe=le.forwardRef(function(t,i){const o=xo({props:t,name:"MuiFormHelperText"}),{children:s,className:c,component:u="p"}=o,C=Dn(o,sVe),m=Wh(),v=uC({props:o,muiFormControl:m,states:["variant","size","disabled","error","filled","focused","required"]}),x=tt({},o,{component:u,contained:v.variant==="filled"||v.variant==="outlined",variant:v.variant,size:v.size,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required}),G=aVe(x);return y.jsx(lVe,tt({as:u,ownerState:x,className:li(G.root,c),ref:i},C,{children:s===" "?SX||(SX=y.jsx("span",{className:"notranslate",children:""})):s}))});function gVe(e){return jr("MuiFormLabel",e)}const yI=Or("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),dVe=["children","className","color","component","disabled","error","filled","focused","required"],AVe=e=>{const{classes:t,color:i,focused:o,disabled:s,error:c,filled:u,required:C}=e,m={root:["root",`color${Zi(i)}`,s&&"disabled",c&&"error",u&&"filled",o&&"focused",C&&"required"],asterisk:["asterisk",c&&"error"]};return po(m,gVe,t)},uVe=Tn("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>tt({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>tt({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${yI.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${yI.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${yI.error}`]:{color:(e.vars||e).palette.error.main}})),hVe=Tn("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${yI.error}`]:{color:(e.vars||e).palette.error.main}})),mVe=le.forwardRef(function(t,i){const o=xo({props:t,name:"MuiFormLabel"}),{children:s,className:c,component:u="label"}=o,C=Dn(o,dVe),m=Wh(),v=uC({props:o,muiFormControl:m,states:["color","required","focused","disabled","error","filled"]}),x=tt({},o,{color:v.color||"primary",component:u,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required}),G=AVe(x);return y.jsxs(uVe,tt({as:u,ownerState:x,className:li(G.root,c),ref:i},C,{children:[s,v.required&&y.jsxs(hVe,{ownerState:x,"aria-hidden":!0,className:G.asterisk,children:["","*"]})]}))}),pVe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function LZ(e){return`scale(${e}, ${e**2})`}const CVe={entering:{opacity:1,transform:LZ(1)},entered:{opacity:1,transform:"none"}},hS=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Gz=le.forwardRef(function(t,i){const{addEndListener:o,appear:s=!0,children:c,easing:u,in:C,onEnter:m,onEntered:v,onEntering:x,onExit:G,onExited:B,onExiting:R,style:V,timeout:H="auto",TransitionComponent:M=Bg}=t,L=Dn(t,pVe),_=aRe(),X=le.useRef(),Q=kz(),j=le.useRef(null),re=ka(j,c.ref,i),P=Re=>ye=>{if(Re){const ve=j.current;ye===void 0?Re(ve):Re(ve,ye)}},O=P(x),de=P((Re,ye)=>{Sz(Re);const{duration:ve,delay:fe,easing:Ge}=qw({style:V,timeout:H,easing:u},{mode:"enter"});let De;H==="auto"?(De=Q.transitions.getAutoHeightDuration(Re.clientHeight),X.current=De):De=ve,Re.style.transition=[Q.transitions.create("opacity",{duration:De,delay:fe}),Q.transitions.create("transform",{duration:hS?De:De*.666,delay:fe,easing:Ge})].join(","),m&&m(Re,ye)}),ce=P(v),ne=P(R),oe=P(Re=>{const{duration:ye,delay:ve,easing:fe}=qw({style:V,timeout:H,easing:u},{mode:"exit"});let Ge;H==="auto"?(Ge=Q.transitions.getAutoHeightDuration(Re.clientHeight),X.current=Ge):Ge=ye,Re.style.transition=[Q.transitions.create("opacity",{duration:Ge,delay:ve}),Q.transitions.create("transform",{duration:hS?Ge:Ge*.666,delay:hS?ve:ve||Ge*.333,easing:fe})].join(","),Re.style.opacity=0,Re.style.transform=LZ(.75),G&&G(Re)}),be=P(B),Ie=Re=>{H==="auto"&&_.start(X.current||0,Re),o&&o(j.current,Re)};return y.jsx(M,tt({appear:s,in:C,nodeRef:j,onEnter:de,onEntered:ce,onEntering:O,onExit:oe,onExited:be,onExiting:ne,addEndListener:Ie,timeout:H==="auto"?null:H},L,{children:(Re,ye)=>le.cloneElement(c,tt({style:tt({opacity:0,transform:LZ(.75),visibility:Re==="exited"&&!C?"hidden":void 0},CVe[Re],V,c.props.style),ref:re},ye))}))});Gz.muiSupportAuto=!0;const fVe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],IVe=e=>{const{classes:t,disableUnderline:i}=e,s=po({root:["root",!i&&"underline"],input:["input"]},R_e,t);return tt({},t,s)},bVe=Tn(z1,{shouldForwardProp:e=>kg(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[...P1(e,t),!i.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let o=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(o=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),tt({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Gf.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Gf.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Gf.disabled}, .${Gf.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${o}`}},[`&.${Gf.disabled}:before`]:{borderBottomStyle:"dotted"}})}),yVe=Tn(Q1,{name:"MuiInput",slot:"Input",overridesResolver:K1})({}),UN=le.forwardRef(function(t,i){var o,s,c,u;const C=xo({props:t,name:"MuiInput"}),{disableUnderline:m,components:v={},componentsProps:x,fullWidth:G=!1,inputComponent:B="input",multiline:R=!1,slotProps:V,slots:H={},type:M="text"}=C,L=Dn(C,fVe),_=IVe(C),Q={root:{ownerState:{disableUnderline:m}}},j=V??x?$a(V??x,Q):Q,re=(o=(s=H.root)!=null?s:v.Root)!=null?o:bVe,P=(c=(u=H.input)!=null?u:v.Input)!=null?c:yVe;return y.jsx(YN,tt({slots:{root:re,input:P},slotProps:j,fullWidth:G,inputComponent:B,multiline:R,ref:i,type:M},L,{classes:_}))});UN.muiName="Input";function vVe(e){return jr("MuiInputAdornment",e)}const ZX=Or("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var GX;const wVe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],kVe=(e,t)=>{const{ownerState:i}=e;return[t.root,t[`position${Zi(i.position)}`],i.disablePointerEvents===!0&&t.disablePointerEvents,t[i.variant]]},BVe=e=>{const{classes:t,disablePointerEvents:i,hiddenLabel:o,position:s,size:c,variant:u}=e,C={root:["root",i&&"disablePointerEvents",s&&`position${Zi(s)}`,u,o&&"hiddenLabel",c&&`size${Zi(c)}`]};return po(C,vVe,t)},xVe=Tn("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:kVe})(({theme:e,ownerState:t})=>tt({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},t.variant==="filled"&&{[`&.${ZX.positionStart}&:not(.${ZX.hiddenLabel})`]:{marginTop:16}},t.position==="start"&&{marginRight:8},t.position==="end"&&{marginLeft:8},t.disablePointerEvents===!0&&{pointerEvents:"none"})),RX=le.forwardRef(function(t,i){const o=xo({props:t,name:"MuiInputAdornment"}),{children:s,className:c,component:u="div",disablePointerEvents:C=!1,disableTypography:m=!1,position:v,variant:x}=o,G=Dn(o,wVe),B=Wh()||{};let R=x;x&&B.variant,B&&!R&&(R=B.variant);const V=tt({},o,{hiddenLabel:B.hiddenLabel,size:B.size,disablePointerEvents:C,position:v,variant:R}),H=BVe(V);return y.jsx(U1.Provider,{value:null,children:y.jsx(xVe,tt({as:u,ownerState:V,className:li(H.root,c),ref:i},G,{children:typeof s=="string"&&!m?y.jsx(tp,{color:"text.secondary",children:s}):y.jsxs(le.Fragment,{children:[v==="start"?GX||(GX=y.jsx("span",{className:"notranslate",children:""})):null,s]})}))})});function SVe(e){return jr("MuiInputLabel",e)}Or("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const ZVe=["disableAnimation","margin","shrink","variant","className"],GVe=e=>{const{classes:t,formControl:i,size:o,shrink:s,disableAnimation:c,variant:u,required:C}=e,m={root:["root",i&&"formControl",!c&&"animated",s&&"shrink",o&&o!=="normal"&&`size${Zi(o)}`,u],asterisk:[C&&"asterisk"]},v=po(m,SVe,t);return tt({},t,v)},RVe=Tn(mVe,{shouldForwardProp:e=>kg(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[{[`& .${yI.asterisk}`]:t.asterisk},t.root,i.formControl&&t.formControl,i.size==="small"&&t.sizeSmall,i.shrink&&t.shrink,!i.disableAnimation&&t.animated,i.focused&&t.focused,t[i.variant]]}})(({theme:e,ownerState:t})=>tt({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&tt({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&tt({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&tt({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),NVe=le.forwardRef(function(t,i){const o=xo({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,shrink:c,className:u}=o,C=Dn(o,ZVe),m=Wh();let v=c;typeof v>"u"&&m&&(v=m.filled||m.focused||m.adornedStart);const x=uC({props:o,muiFormControl:m,states:["size","variant","required","focused"]}),G=tt({},o,{disableAnimation:s,formControl:m,shrink:v,size:x.size,variant:x.variant,required:x.required,focused:x.focused}),B=GVe(G);return y.jsx(RVe,tt({"data-shrink":v,ownerState:G,ref:i,className:li(B.root,u)},C,{classes:B}))}),_Ve=le.createContext({});function VVe(e){return jr("MuiList",e)}Or("MuiList",["root","padding","dense","subheader"]);const EVe=["children","className","component","dense","disablePadding","subheader"],FVe=e=>{const{classes:t,disablePadding:i,dense:o,subheader:s}=e;return po({root:["root",!i&&"padding",o&&"dense",s&&"subheader"]},VVe,t)},WVe=Tn("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,!i.disablePadding&&t.padding,i.dense&&t.dense,i.subheader&&t.subheader]}})(({ownerState:e})=>tt({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),HVe=le.forwardRef(function(t,i){const o=xo({props:t,name:"MuiList"}),{children:s,className:c,component:u="ul",dense:C=!1,disablePadding:m=!1,subheader:v}=o,x=Dn(o,EVe),G=le.useMemo(()=>({dense:C}),[C]),B=tt({},o,{component:u,dense:C,disablePadding:m}),R=FVe(B);return y.jsx(_Ve.Provider,{value:G,children:y.jsxs(WVe,tt({as:u,className:li(R.root,c),ref:i,ownerState:B},x,{children:[v,s]}))})}),DVe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function mS(e,t,i){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:i?null:e.firstChild}function NX(e,t,i){return e===t?i?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:i?null:e.lastChild}function Rz(e,t){if(t===void 0)return!0;let i=e.innerText;return i===void 0&&(i=e.textContent),i=i.trim().toLowerCase(),i.length===0?!1:t.repeating?i[0]===t.keys[0]:i.indexOf(t.keys.join(""))===0}function Nf(e,t,i,o,s,c){let u=!1,C=s(e,t,t?i:!1);for(;C;){if(C===e.firstChild){if(u)return!1;u=!0}const m=o?!1:C.disabled||C.getAttribute("aria-disabled")==="true";if(!C.hasAttribute("tabindex")||!Rz(C,c)||m)C=s(e,C,i);else return C.focus(),!0}return!1}const TVe=le.forwardRef(function(t,i){const{actions:o,autoFocus:s=!1,autoFocusItem:c=!1,children:u,className:C,disabledItemsFocusable:m=!1,disableListWrap:v=!1,onKeyDown:x,variant:G="selectedMenu"}=t,B=Dn(t,DVe),R=le.useRef(null),V=le.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});QA(()=>{s&&R.current.focus()},[s]),le.useImperativeHandle(o,()=>({adjustStyleForScrollbar:(X,{direction:Q})=>{const j=!R.current.style.width;if(X.clientHeight<R.current.clientHeight&&j){const re=`${uz(ms(X))}px`;R.current.style[Q==="rtl"?"paddingLeft":"paddingRight"]=re,R.current.style.width=`calc(100% + ${re})`}return R.current}}),[]);const H=X=>{const Q=R.current,j=X.key,re=ms(Q).activeElement;if(j==="ArrowDown")X.preventDefault(),Nf(Q,re,v,m,mS);else if(j==="ArrowUp")X.preventDefault(),Nf(Q,re,v,m,NX);else if(j==="Home")X.preventDefault(),Nf(Q,null,v,m,mS);else if(j==="End")X.preventDefault(),Nf(Q,null,v,m,NX);else if(j.length===1){const P=V.current,O=j.toLowerCase(),de=performance.now();P.keys.length>0&&(de-P.lastTime>500?(P.keys=[],P.repeating=!0,P.previousKeyMatched=!0):P.repeating&&O!==P.keys[0]&&(P.repeating=!1)),P.lastTime=de,P.keys.push(O);const ce=re&&!P.repeating&&Rz(re,P);P.previousKeyMatched&&(ce||Nf(Q,re,!1,m,mS,P))?X.preventDefault():P.previousKeyMatched=!1}x&&x(X)},M=ka(R,i);let L=-1;le.Children.forEach(u,(X,Q)=>{if(!le.isValidElement(X)){L===Q&&(L+=1,L>=u.length&&(L=-1));return}X.props.disabled||(G==="selectedMenu"&&X.props.selected||L===-1)&&(L=Q),L===Q&&(X.props.disabled||X.props.muiSkipListHighlight||X.type.muiSkipListHighlight)&&(L+=1,L>=u.length&&(L=-1))});const _=le.Children.map(u,(X,Q)=>{if(Q===L){const j={};return c&&(j.autoFocus=!0),X.props.tabIndex===void 0&&G==="selectedMenu"&&(j.tabIndex=0),le.cloneElement(X,j)}return X});return y.jsx(HVe,tt({role:"menu",ref:M,className:C,onKeyDown:H,tabIndex:s?0:-1},B,{children:_}))});function LVe(e){return jr("MuiPopover",e)}Or("MuiPopover",["root","paper"]);const XVe=["onEntering"],MVe=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],YVe=["slotProps"];function _X(e,t){let i=0;return typeof t=="number"?i=t:t==="center"?i=e.height/2:t==="bottom"&&(i=e.height),i}function VX(e,t){let i=0;return typeof t=="number"?i=t:t==="center"?i=e.width/2:t==="right"&&(i=e.width),i}function EX(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function pS(e){return typeof e=="function"?e():e}const JVe=e=>{const{classes:t}=e;return po({root:["root"],paper:["paper"]},LVe,t)},UVe=Tn(Q_e,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Nz=Tn(WNe,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),PVe=le.forwardRef(function(t,i){var o,s,c;const u=xo({props:t,name:"MuiPopover"}),{action:C,anchorEl:m,anchorOrigin:v={vertical:"top",horizontal:"left"},anchorPosition:x,anchorReference:G="anchorEl",children:B,className:R,container:V,elevation:H=8,marginThreshold:M=16,open:L,PaperProps:_={},slots:X,slotProps:Q,transformOrigin:j={vertical:"top",horizontal:"left"},TransitionComponent:re=Gz,transitionDuration:P="auto",TransitionProps:{onEntering:O}={},disableScrollLock:de=!1}=u,ce=Dn(u.TransitionProps,XVe),ne=Dn(u,MVe),oe=(o=Q==null?void 0:Q.paper)!=null?o:_,be=le.useRef(),Ie=ka(be,oe.ref),Re=tt({},u,{anchorOrigin:v,anchorReference:G,elevation:H,marginThreshold:M,externalPaperSlotProps:oe,transformOrigin:j,TransitionComponent:re,transitionDuration:P,TransitionProps:ce}),ye=JVe(Re),ve=le.useCallback(()=>{if(G==="anchorPosition")return x;const at=pS(m),st=(at&&at.nodeType===1?at:ms(be.current).body).getBoundingClientRect();return{top:st.top+_X(st,v.vertical),left:st.left+VX(st,v.horizontal)}},[m,v.horizontal,v.vertical,x,G]),fe=le.useCallback(at=>({vertical:_X(at,j.vertical),horizontal:VX(at,j.horizontal)}),[j.horizontal,j.vertical]),Ge=le.useCallback(at=>{const Ht={width:at.offsetWidth,height:at.offsetHeight},st=fe(Ht);if(G==="none")return{top:null,left:null,transformOrigin:EX(st)};const Ke=ve();let Vt=Ke.top-st.vertical,Yt=Ke.left-st.horizontal;const It=Vt+Ht.height,bt=Yt+Ht.width,yt=Zh(pS(m)),kt=yt.innerHeight-M,Jt=yt.innerWidth-M;if(M!==null&&Vt<M){const tn=Vt-M;Vt-=tn,st.vertical+=tn}else if(M!==null&&It>kt){const tn=It-kt;Vt-=tn,st.vertical+=tn}if(M!==null&&Yt<M){const tn=Yt-M;Yt-=tn,st.horizontal+=tn}else if(bt>Jt){const tn=bt-Jt;Yt-=tn,st.horizontal+=tn}return{top:`${Math.round(Vt)}px`,left:`${Math.round(Yt)}px`,transformOrigin:EX(st)}},[m,G,ve,fe,M]),[De,Pe]=le.useState(L),me=le.useCallback(()=>{const at=be.current;if(!at)return;const Ht=Ge(at);Ht.top!==null&&(at.style.top=Ht.top),Ht.left!==null&&(at.style.left=Ht.left),at.style.transformOrigin=Ht.transformOrigin,Pe(!0)},[Ge]);le.useEffect(()=>(de&&window.addEventListener("scroll",me),()=>window.removeEventListener("scroll",me)),[m,de,me]);const _e=(at,Ht)=>{O&&O(at,Ht),me()},pe=()=>{Pe(!1)};le.useEffect(()=>{L&&me()}),le.useImperativeHandle(C,()=>L?{updatePosition:()=>{me()}}:null,[L,me]),le.useEffect(()=>{if(!L)return;const at=dz(()=>{me()}),Ht=Zh(m);return Ht.addEventListener("resize",at),()=>{at.clear(),Ht.removeEventListener("resize",at)}},[m,L,me]);let Ee=P;P==="auto"&&!re.muiSupportAuto&&(Ee=void 0);const We=V||(m?ms(pS(m)).body:void 0),Ue=(s=X==null?void 0:X.root)!=null?s:UVe,je=(c=X==null?void 0:X.paper)!=null?c:Nz,qe=ua({elementType:je,externalSlotProps:tt({},oe,{style:De?oe.style:tt({},oe.style,{opacity:0})}),additionalProps:{elevation:H,ref:Ie},ownerState:Re,className:li(ye.paper,oe==null?void 0:oe.className)}),At=ua({elementType:Ue,externalSlotProps:(Q==null?void 0:Q.root)||{},externalForwardedProps:ne,additionalProps:{ref:i,slotProps:{backdrop:{invisible:!0}},container:We,open:L},ownerState:Re,className:li(ye.root,R)}),{slotProps:ct}=At,lt=Dn(At,YVe);return y.jsx(Ue,tt({},lt,!XA(Ue)&&{slotProps:ct,disableScrollLock:de},{children:y.jsx(re,tt({appear:!0,in:L,onEntering:_e,onExited:pe,timeout:Ee},ce,{children:y.jsx(je,tt({},qe,{children:B}))}))}))});function KVe(e){return jr("MuiMenu",e)}Or("MuiMenu",["root","paper","list"]);const zVe=["onEntering"],QVe=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],jVe={vertical:"top",horizontal:"right"},OVe={vertical:"top",horizontal:"left"},qVe=e=>{const{classes:t}=e;return po({root:["root"],paper:["paper"],list:["list"]},KVe,t)},$Ve=Tn(PVe,{shouldForwardProp:e=>kg(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),eEe=Tn(Nz,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),tEe=Tn(TVe,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),nEe=le.forwardRef(function(t,i){var o,s;const c=xo({props:t,name:"MuiMenu"}),{autoFocus:u=!0,children:C,className:m,disableAutoFocusItem:v=!1,MenuListProps:x={},onClose:G,open:B,PaperProps:R={},PopoverClasses:V,transitionDuration:H="auto",TransitionProps:{onEntering:M}={},variant:L="selectedMenu",slots:_={},slotProps:X={}}=c,Q=Dn(c.TransitionProps,zVe),j=Dn(c,QVe),re=hz(),P=tt({},c,{autoFocus:u,disableAutoFocusItem:v,MenuListProps:x,onEntering:M,PaperProps:R,transitionDuration:H,TransitionProps:Q,variant:L}),O=qVe(P),de=u&&!v&&B,ce=le.useRef(null),ne=(fe,Ge)=>{ce.current&&ce.current.adjustStyleForScrollbar(fe,{direction:re?"rtl":"ltr"}),M&&M(fe,Ge)},oe=fe=>{fe.key==="Tab"&&(fe.preventDefault(),G&&G(fe,"tabKeyDown"))};let be=-1;le.Children.map(C,(fe,Ge)=>{le.isValidElement(fe)&&(fe.props.disabled||(L==="selectedMenu"&&fe.props.selected||be===-1)&&(be=Ge))});const Ie=(o=_.paper)!=null?o:eEe,Re=(s=X.paper)!=null?s:R,ye=ua({elementType:_.root,externalSlotProps:X.root,ownerState:P,className:[O.root,m]}),ve=ua({elementType:Ie,externalSlotProps:Re,ownerState:P,className:O.paper});return y.jsx($Ve,tt({onClose:G,anchorOrigin:{vertical:"bottom",horizontal:re?"right":"left"},transformOrigin:re?jVe:OVe,slots:{paper:Ie,root:_.root},slotProps:{root:ye,paper:ve},open:B,ref:i,transitionDuration:H,TransitionProps:tt({onEntering:ne},Q),ownerState:P},j,{classes:V,children:y.jsx(tEe,tt({onKeyDown:oe,actions:ce,autoFocus:u&&(be===-1||v),autoFocusItem:de,variant:L},x,{className:li(O.list,x.className),children:C}))}))});function iEe(e){return jr("MuiNativeSelect",e)}const PN=Or("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),rEe=["className","disabled","error","IconComponent","inputRef","variant"],oEe=e=>{const{classes:t,variant:i,disabled:o,multiple:s,open:c,error:u}=e,C={select:["select",i,o&&"disabled",s&&"multiple",u&&"error"],icon:["icon",`icon${Zi(i)}`,c&&"iconOpen",o&&"disabled"]};return po(C,iEe,t)},_z=({ownerState:e,theme:t})=>tt({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":tt({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${PN.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),sEe=Tn("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:kg,overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.select,t[i.variant],i.error&&t.error,{[`&.${PN.multiple}`]:t.multiple}]}})(_z),Vz=({ownerState:e,theme:t})=>tt({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${PN.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),aEe=Tn("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.icon,i.variant&&t[`icon${Zi(i.variant)}`],i.open&&t.iconOpen]}})(Vz),lEe=le.forwardRef(function(t,i){const{className:o,disabled:s,error:c,IconComponent:u,inputRef:C,variant:m="standard"}=t,v=Dn(t,rEe),x=tt({},t,{disabled:s,variant:m,error:c}),G=oEe(x);return y.jsxs(le.Fragment,{children:[y.jsx(sEe,tt({ownerState:x,className:li(G.select,o),disabled:s,ref:C||i},v)),t.multiple?null:y.jsx(aEe,{as:u,ownerState:x,className:G.icon})]})});var FX;const cEe=["children","classes","className","label","notched"],gEe=Tn("fieldset",{shouldForwardProp:kg})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),dEe=Tn("legend",{shouldForwardProp:kg})(({ownerState:e,theme:t})=>tt({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&tt({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function AEe(e){const{className:t,label:i,notched:o}=e,s=Dn(e,cEe),c=i!=null&&i!=="",u=tt({},e,{notched:o,withLabel:c});return y.jsx(gEe,tt({"aria-hidden":!0,className:t,ownerState:u},s,{children:y.jsx(dEe,{ownerState:u,children:c?y.jsx("span",{children:i}):FX||(FX=y.jsx("span",{className:"notranslate",children:""}))})}))}const uEe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],hEe=e=>{const{classes:t}=e,o=po({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},N_e,t);return tt({},t,o)},mEe=Tn(z1,{shouldForwardProp:e=>kg(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:P1})(({theme:e,ownerState:t})=>{const i=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return tt({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${aA.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${aA.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:i}},[`&.${aA.focused} .${aA.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${aA.error} .${aA.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${aA.disabled} .${aA.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&tt({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),pEe=Tn(AEe,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),CEe=Tn(Q1,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:K1})(({theme:e,ownerState:t})=>tt({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),KN=le.forwardRef(function(t,i){var o,s,c,u,C;const m=xo({props:t,name:"MuiOutlinedInput"}),{components:v={},fullWidth:x=!1,inputComponent:G="input",label:B,multiline:R=!1,notched:V,slots:H={},type:M="text"}=m,L=Dn(m,uEe),_=hEe(m),X=Wh(),Q=uC({props:m,muiFormControl:X,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),j=tt({},m,{color:Q.color||"primary",disabled:Q.disabled,error:Q.error,focused:Q.focused,formControl:X,fullWidth:x,hiddenLabel:Q.hiddenLabel,multiline:R,size:Q.size,type:M}),re=(o=(s=H.root)!=null?s:v.Root)!=null?o:mEe,P=(c=(u=H.input)!=null?u:v.Input)!=null?c:CEe;return y.jsx(YN,tt({slots:{root:re,input:P},renderSuffix:O=>y.jsx(pEe,{ownerState:j,className:_.notchedOutline,label:B!=null&&B!==""&&Q.required?C||(C=y.jsxs(le.Fragment,{children:[B,"","*"]})):B,notched:typeof V<"u"?V:!!(O.startAdornment||O.filled||O.focused)}),fullWidth:x,inputComponent:G,multiline:R,ref:i,type:M},L,{classes:tt({},_,{notchedOutline:null})}))});KN.muiName="Input";function fEe(e){return jr("MuiSelect",e)}const _f=Or("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var WX;const IEe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],bEe=Tn("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[{[`&.${_f.select}`]:t.select},{[`&.${_f.select}`]:t[i.variant]},{[`&.${_f.error}`]:t.error},{[`&.${_f.multiple}`]:t.multiple}]}})(_z,{[`&.${_f.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),yEe=Tn("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.icon,i.variant&&t[`icon${Zi(i.variant)}`],i.open&&t.iconOpen]}})(Vz),vEe=Tn("input",{shouldForwardProp:e=>J1(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function HX(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function wEe(e){return e==null||typeof e=="string"&&!e.trim()}const kEe=e=>{const{classes:t,variant:i,disabled:o,multiple:s,open:c,error:u}=e,C={select:["select",i,o&&"disabled",s&&"multiple",u&&"error"],icon:["icon",`icon${Zi(i)}`,c&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return po(C,fEe,t)},BEe=le.forwardRef(function(t,i){var o;const{"aria-describedby":s,"aria-label":c,autoFocus:u,autoWidth:C,children:m,className:v,defaultOpen:x,defaultValue:G,disabled:B,displayEmpty:R,error:V=!1,IconComponent:H,inputRef:M,labelId:L,MenuProps:_={},multiple:X,name:Q,onBlur:j,onChange:re,onClose:P,onFocus:O,onOpen:de,open:ce,readOnly:ne,renderValue:oe,SelectDisplayProps:be={},tabIndex:Ie,value:Re,variant:ye="standard"}=t,ve=Dn(t,IEe),[fe,Ge]=_Z({controlled:Re,default:G,name:"Select"}),[De,Pe]=_Z({controlled:ce,default:x,name:"Select"}),me=le.useRef(null),_e=le.useRef(null),[pe,Ee]=le.useState(null),{current:We}=le.useRef(ce!=null),[Ue,je]=le.useState(),qe=ka(i,M),At=le.useCallback(Ct=>{_e.current=Ct,Ct&&Ee(Ct)},[]),ct=pe==null?void 0:pe.parentNode;le.useImperativeHandle(qe,()=>({focus:()=>{_e.current.focus()},node:me.current,value:fe}),[fe]),le.useEffect(()=>{x&&De&&pe&&!We&&(je(C?null:ct.clientWidth),_e.current.focus())},[pe,C]),le.useEffect(()=>{u&&_e.current.focus()},[u]),le.useEffect(()=>{if(!L)return;const Ct=ms(_e.current).getElementById(L);if(Ct){const Kt=()=>{getSelection().isCollapsed&&_e.current.focus()};return Ct.addEventListener("click",Kt),()=>{Ct.removeEventListener("click",Kt)}}},[L]);const lt=(Ct,Kt)=>{Ct?de&&de(Kt):P&&P(Kt),We||(je(C?null:ct.clientWidth),Pe(Ct))},at=Ct=>{Ct.button===0&&(Ct.preventDefault(),_e.current.focus(),lt(!0,Ct))},Ht=Ct=>{lt(!1,Ct)},st=le.Children.toArray(m),Ke=Ct=>{const Kt=st.find(en=>en.props.value===Ct.target.value);Kt!==void 0&&(Ge(Kt.props.value),re&&re(Ct,Kt))},Vt=Ct=>Kt=>{let en;if(Kt.currentTarget.hasAttribute("tabindex")){if(X){en=Array.isArray(fe)?fe.slice():[];const Qt=fe.indexOf(Ct.props.value);Qt===-1?en.push(Ct.props.value):en.splice(Qt,1)}else en=Ct.props.value;if(Ct.props.onClick&&Ct.props.onClick(Kt),fe!==en&&(Ge(en),re)){const Qt=Kt.nativeEvent||Kt,xn=new Qt.constructor(Qt.type,Qt);Object.defineProperty(xn,"target",{writable:!0,value:{value:en,name:Q}}),re(xn,Ct)}X||lt(!1,Kt)}},Yt=Ct=>{ne||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ct.key)!==-1&&(Ct.preventDefault(),lt(!0,Ct))},It=pe!==null&&De,bt=Ct=>{!It&&j&&(Object.defineProperty(Ct,"target",{writable:!0,value:{value:fe,name:Q}}),j(Ct))};delete ve["aria-invalid"];let yt,kt;const Jt=[];let tn=!1;(ek({value:fe})||R)&&(oe?yt=oe(fe):tn=!0);const An=st.map(Ct=>{if(!le.isValidElement(Ct))return null;let Kt;if(X){if(!Array.isArray(fe))throw new Error(Sh(2));Kt=fe.some(en=>HX(en,Ct.props.value)),Kt&&tn&&Jt.push(Ct.props.children)}else Kt=HX(fe,Ct.props.value),Kt&&tn&&(kt=Ct.props.children);return le.cloneElement(Ct,{"aria-selected":Kt?"true":"false",onClick:Vt(Ct),onKeyUp:en=>{en.key===" "&&en.preventDefault(),Ct.props.onKeyUp&&Ct.props.onKeyUp(en)},role:"option",selected:Kt,value:void 0,"data-value":Ct.props.value})});tn&&(X?Jt.length===0?yt=null:yt=Jt.reduce((Ct,Kt,en)=>(Ct.push(Kt),en<Jt.length-1&&Ct.push(", "),Ct),[]):yt=kt);let dn=Ue;!C&&We&&pe&&(dn=ct.clientWidth);let Bn;typeof Ie<"u"?Bn=Ie:Bn=B?null:0;const wt=be.id||(Q?`mui-component-select-${Q}`:void 0),St=tt({},t,{variant:ye,value:fe,open:It,error:V}),Wt=kEe(St),Dt=tt({},_.PaperProps,(o=_.slotProps)==null?void 0:o.paper),Zt=Az();return y.jsxs(le.Fragment,{children:[y.jsx(bEe,tt({ref:At,tabIndex:Bn,role:"combobox","aria-controls":Zt,"aria-disabled":B?"true":void 0,"aria-expanded":It?"true":"false","aria-haspopup":"listbox","aria-label":c,"aria-labelledby":[L,wt].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:Yt,onMouseDown:B||ne?null:at,onBlur:bt,onFocus:O},be,{ownerState:St,className:li(be.className,Wt.select,v),id:wt,children:wEe(yt)?WX||(WX=y.jsx("span",{className:"notranslate",children:""})):yt})),y.jsx(vEe,tt({"aria-invalid":V,value:Array.isArray(fe)?fe.join(","):fe,name:Q,ref:me,"aria-hidden":!0,onChange:Ke,tabIndex:-1,disabled:B,className:Wt.nativeInput,autoFocus:u,ownerState:St},ve)),y.jsx(yEe,{as:H,className:Wt.icon,ownerState:St}),y.jsx(nEe,tt({id:`menu-${Q||""}`,anchorEl:ct,open:It,onClose:Ht,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},_,{MenuListProps:tt({"aria-labelledby":L,role:"listbox","aria-multiselectable":X?"true":void 0,disableListWrap:!0,id:Zt},_.MenuListProps),slotProps:tt({},_.slotProps,{paper:tt({},Dt,{style:tt({minWidth:dn},Dt!=null?Dt.style:null)})}),children:An}))]})}),xEe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],SEe=["root"],ZEe=e=>{const{classes:t}=e;return t},zN={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>kg(e)&&e!=="variant",slot:"Root"},GEe=Tn(UN,zN)(""),REe=Tn(KN,zN)(""),NEe=Tn(JN,zN)(""),Ez=le.forwardRef(function(t,i){const o=xo({name:"MuiSelect",props:t}),{autoWidth:s=!1,children:c,classes:u={},className:C,defaultOpen:m=!1,displayEmpty:v=!1,IconComponent:x=V_e,id:G,input:B,inputProps:R,label:V,labelId:H,MenuProps:M,multiple:L=!1,native:_=!1,onClose:X,onOpen:Q,open:j,renderValue:re,SelectDisplayProps:P,variant:O="outlined"}=o,de=Dn(o,xEe),ce=_?lEe:BEe,ne=Wh(),oe=uC({props:o,muiFormControl:ne,states:["variant","error"]}),be=oe.variant||O,Ie=tt({},o,{variant:be,classes:u}),Re=ZEe(Ie),ye=Dn(Re,SEe),ve=B||{standard:y.jsx(GEe,{ownerState:Ie}),outlined:y.jsx(REe,{label:V,ownerState:Ie}),filled:y.jsx(NEe,{ownerState:Ie})}[be],fe=ka(i,ve.ref);return y.jsx(le.Fragment,{children:le.cloneElement(ve,tt({inputComponent:ce,inputProps:tt({children:c,error:oe.error,IconComponent:x,variant:be,type:void 0,multiple:L},_?{id:G}:{autoWidth:s,defaultOpen:m,displayEmpty:v,labelId:H,MenuProps:M,onClose:X,onOpen:Q,open:j,renderValue:re,SelectDisplayProps:tt({id:G},P)},R,{classes:R?$a(ye,R.classes):ye},B?B.props.inputProps:{})},(L&&_||v)&&be==="outlined"?{notched:!0}:{},{ref:fe,className:li(ve.props.className,C,Re.root)},!B&&{variant:be},de))})});Ez.muiName="Select";const _Ee=e=>!e||!XA(e);function VEe(e){return jr("MuiSlider",e)}const Vl=Or("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),EEe=e=>{const{open:t}=e;return{offset:li(t&&Vl.valueLabelOpen),circle:Vl.valueLabelCircle,label:Vl.valueLabelLabel}};function FEe(e){const{children:t,className:i,value:o}=e,s=EEe(e);return t?le.cloneElement(t,{className:li(t.props.className)},y.jsxs(le.Fragment,{children:[t.props.children,y.jsx("span",{className:li(s.offset,i),"aria-hidden":!0,children:y.jsx("span",{className:s.circle,children:y.jsx("span",{className:s.label,children:o})})})]})):null}const WEe=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],HEe=GNe();function DX(e){return e}const DEe=Tn("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,t[`color${Zi(i.color)}`],i.size!=="medium"&&t[`size${Zi(i.size)}`],i.marked&&t.marked,i.orientation==="vertical"&&t.vertical,i.track==="inverted"&&t.trackInverted,i.track===!1&&t.trackFalse]}})(({theme:e})=>{var t;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${Vl.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${Vl.dragging}`]:{[`& .${Vl.thumb}, & .${Vl.track}`]:{transition:"none"}},variants:[...Object.keys(((t=e.vars)!=null?t:e).palette).filter(i=>{var o;return((o=e.vars)!=null?o:e).palette[i].main}).map(i=>({props:{color:i},style:{color:(e.vars||e).palette[i].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),TEe=Tn("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),LEe=Tn("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>{var t;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys(((t=e.vars)!=null?t:e).palette).filter(i=>{var o;return((o=e.vars)!=null?o:e).palette[i].main}).map(i=>({props:{color:i,track:"inverted"},style:tt({},e.vars?{backgroundColor:e.vars.palette.Slider[`${i}Track`],borderColor:e.vars.palette.Slider[`${i}Track`]}:tt({backgroundColor:FZ(e.palette[i].main,.62),borderColor:FZ(e.palette[i].main,.62)},e.applyStyles("dark",{backgroundColor:EZ(e.palette[i].main,.5)}),e.applyStyles("dark",{borderColor:EZ(e.palette[i].main,.5)})))}))]}}),XEe=Tn("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.thumb,t[`thumbColor${Zi(i.color)}`],i.size!=="medium"&&t[`thumbSize${Zi(i.size)}`]]}})(({theme:e})=>{var t;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${Vl.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys(((t=e.vars)!=null?t:e).palette).filter(i=>{var o;return((o=e.vars)!=null?o:e).palette[i].main}).map(i=>({props:{color:i},style:{[`&:hover, &.${Vl.focusVisible}`]:tt({},e.vars?{boxShadow:`0px 0px 0px 8px rgba(${e.vars.palette[i].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${jw(e.palette[i].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${Vl.active}`]:tt({},e.vars?{boxShadow:`0px 0px 0px 14px rgba(${e.vars.palette[i].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${jw(e.palette[i].main,.16)}`})}}))]}}),MEe=Tn(FEe,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(({theme:e})=>tt({zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${Vl.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${Vl.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})),YEe=Tn("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>J1(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:i}=e;return[t.mark,i&&t.markActive]}})(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]})),JEe=Tn("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>J1(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(({theme:e})=>tt({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]})),UEe=e=>{const{disabled:t,dragging:i,marked:o,orientation:s,track:c,classes:u,color:C,size:m}=e,v={root:["root",t&&"disabled",i&&"dragging",o&&"marked",s==="vertical"&&"vertical",c==="inverted"&&"trackInverted",c===!1&&"trackFalse",C&&`color${Zi(C)}`,m&&`size${Zi(m)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",m&&`thumbSize${Zi(m)}`,C&&`thumbColor${Zi(C)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return po(v,VEe,u)},PEe=({children:e})=>e,KEe=le.forwardRef(function(t,i){var o,s,c,u,C,m,v,x,G,B,R,V,H,M,L,_,X,Q,j,re,P,O,de,ce;const ne=HEe({props:t,name:"MuiSlider"}),oe=hz(),{"aria-label":be,"aria-valuetext":Ie,"aria-labelledby":Re,component:ye="span",components:ve={},componentsProps:fe={},color:Ge="primary",classes:De,className:Pe,disableSwap:me=!1,disabled:_e=!1,getAriaLabel:pe,getAriaValueText:Ee,marks:We=!1,max:Ue=100,min:je=0,orientation:qe="horizontal",shiftStep:At=10,size:ct="medium",step:lt=1,scale:at=DX,slotProps:Ht,slots:st,track:Ke="normal",valueLabelDisplay:Vt="off",valueLabelFormat:Yt=DX}=ne,It=Dn(ne,WEe),bt=tt({},ne,{isRtl:oe,max:Ue,min:je,classes:De,disabled:_e,disableSwap:me,orientation:qe,marks:We,color:Ge,size:ct,step:lt,shiftStep:At,scale:at,track:Ke,valueLabelDisplay:Vt,valueLabelFormat:Yt}),{axisProps:yt,getRootProps:kt,getHiddenInputProps:Jt,getThumbProps:tn,open:An,active:dn,axis:Bn,focusedThumbIndex:wt,range:St,dragging:Wt,marks:Dt,values:Zt,trackOffset:Ct,trackLeap:Kt,getThumbStyle:en}=f_e(tt({},bt,{rootRef:i}));bt.marked=Dt.length>0&&Dt.some(ui=>ui.label),bt.dragging=Wt,bt.focusedThumbIndex=wt;const Qt=UEe(bt),xn=(o=(s=st==null?void 0:st.root)!=null?s:ve.Root)!=null?o:DEe,Gn=(c=(u=st==null?void 0:st.rail)!=null?u:ve.Rail)!=null?c:TEe,ci=(C=(m=st==null?void 0:st.track)!=null?m:ve.Track)!=null?C:LEe,Qn=(v=(x=st==null?void 0:st.thumb)!=null?x:ve.Thumb)!=null?v:XEe,rr=(G=(B=st==null?void 0:st.valueLabel)!=null?B:ve.ValueLabel)!=null?G:MEe,Lr=(R=(V=st==null?void 0:st.mark)!=null?V:ve.Mark)!=null?R:YEe,fi=(H=(M=st==null?void 0:st.markLabel)!=null?M:ve.MarkLabel)!=null?H:JEe,Sn=(L=(_=st==null?void 0:st.input)!=null?_:ve.Input)!=null?L:"input",Kn=(X=Ht==null?void 0:Ht.root)!=null?X:fe.root,qo=(Q=Ht==null?void 0:Ht.rail)!=null?Q:fe.rail,qn=(j=Ht==null?void 0:Ht.track)!=null?j:fe.track,To=(re=Ht==null?void 0:Ht.thumb)!=null?re:fe.thumb,Xr=(P=Ht==null?void 0:Ht.valueLabel)!=null?P:fe.valueLabel,yn=(O=Ht==null?void 0:Ht.mark)!=null?O:fe.mark,$o=(de=Ht==null?void 0:Ht.markLabel)!=null?de:fe.markLabel,Cs=(ce=Ht==null?void 0:Ht.input)!=null?ce:fe.input,fo=ua({elementType:xn,getSlotProps:kt,externalSlotProps:Kn,externalForwardedProps:It,additionalProps:tt({},_Ee(xn)&&{as:ye}),ownerState:tt({},bt,Kn==null?void 0:Kn.ownerState),className:[Qt.root,Pe]}),or=ua({elementType:Gn,externalSlotProps:qo,ownerState:bt,className:Qt.rail}),qi=ua({elementType:ci,externalSlotProps:qn,additionalProps:{style:tt({},yt[Bn].offset(Ct),yt[Bn].leap(Kt))},ownerState:tt({},bt,qn==null?void 0:qn.ownerState),className:Qt.track}),Gi=ua({elementType:Qn,getSlotProps:tn,externalSlotProps:To,ownerState:tt({},bt,To==null?void 0:To.ownerState),className:Qt.thumb}),Lo=ua({elementType:rr,externalSlotProps:Xr,ownerState:tt({},bt,Xr==null?void 0:Xr.ownerState),className:Qt.valueLabel}),es=ua({elementType:Lr,externalSlotProps:yn,ownerState:bt,className:Qt.mark}),So=ua({elementType:fi,externalSlotProps:$o,ownerState:bt,className:Qt.markLabel}),ts=ua({elementType:Sn,getSlotProps:Jt,externalSlotProps:Cs,ownerState:bt});return y.jsxs(xn,tt({},fo,{children:[y.jsx(Gn,tt({},or)),y.jsx(ci,tt({},qi)),Dt.filter(ui=>ui.value>=je&&ui.value<=Ue).map((ui,ti)=>{const Nr=$w(ui.value,je,Ue),$r=yt[Bn].offset(Nr);let _r;return Ke===!1?_r=Zt.indexOf(ui.value)!==-1:_r=Ke==="normal"&&(St?ui.value>=Zt[0]&&ui.value<=Zt[Zt.length-1]:ui.value<=Zt[0])||Ke==="inverted"&&(St?ui.value<=Zt[0]||ui.value>=Zt[Zt.length-1]:ui.value>=Zt[0]),y.jsxs(le.Fragment,{children:[y.jsx(Lr,tt({"data-index":ti},es,!XA(Lr)&&{markActive:_r},{style:tt({},$r,es.style),className:li(es.className,_r&&Qt.markActive)})),ui.label!=null?y.jsx(fi,tt({"aria-hidden":!0,"data-index":ti},So,!XA(fi)&&{markLabelActive:_r},{style:tt({},$r,So.style),className:li(Qt.markLabel,So.className,_r&&Qt.markLabelActive),children:ui.label})):null]},ti)}),Zt.map((ui,ti)=>{const Nr=$w(ui,je,Ue),$r=yt[Bn].offset(Nr),_r=Vt==="off"?PEe:rr;return y.jsx(_r,tt({},!XA(_r)&&{valueLabelFormat:Yt,valueLabelDisplay:Vt,value:typeof Yt=="function"?Yt(at(ui),ti):Yt,index:ti,open:An===ti||dn===ti||Vt==="on",disabled:_e},Lo,{children:y.jsx(Qn,tt({"data-index":ti},Gi,{className:li(Qt.thumb,Gi.className,dn===ti&&Qt.active,wt===ti&&Qt.focusVisible),style:tt({},$r,en(ti),Gi.style),children:y.jsx(Sn,tt({"data-index":ti,"aria-label":pe?pe(ti):be,"aria-valuenow":at(ui),"aria-labelledby":Re,"aria-valuetext":Ee?Ee(at(ui),ti):Ie,value:Zt[ti]},ts))}))}),ti)})]}))});function zEe(e){return jr("MuiTextField",e)}Or("MuiTextField",["root"]);const QEe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],jEe={standard:UN,filled:JN,outlined:KN},OEe=e=>{const{classes:t}=e;return po({root:["root"]},zEe,t)},qEe=Tn(rVe,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),$Ee=le.forwardRef(function(t,i){const o=xo({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:c=!1,children:u,className:C,color:m="primary",defaultValue:v,disabled:x=!1,error:G=!1,FormHelperTextProps:B,fullWidth:R=!1,helperText:V,id:H,InputLabelProps:M,inputProps:L,InputProps:_,inputRef:X,label:Q,maxRows:j,minRows:re,multiline:P=!1,name:O,onBlur:de,onChange:ce,onFocus:ne,placeholder:oe,required:be=!1,rows:Ie,select:Re=!1,SelectProps:ye,type:ve,value:fe,variant:Ge="outlined"}=o,De=Dn(o,QEe),Pe=tt({},o,{autoFocus:c,color:m,disabled:x,error:G,fullWidth:R,multiline:P,required:be,select:Re,variant:Ge}),me=OEe(Pe),_e={};Ge==="outlined"&&(M&&typeof M.shrink<"u"&&(_e.notched=M.shrink),_e.label=Q),Re&&((!ye||!ye.native)&&(_e.id=void 0),_e["aria-describedby"]=void 0);const pe=Az(H),Ee=V&&pe?`${pe}-helper-text`:void 0,We=Q&&pe?`${pe}-label`:void 0,Ue=jEe[Ge],je=y.jsx(Ue,tt({"aria-describedby":Ee,autoComplete:s,autoFocus:c,defaultValue:v,fullWidth:R,multiline:P,name:O,rows:Ie,maxRows:j,minRows:re,type:ve,value:fe,id:pe,inputRef:X,onBlur:de,onChange:ce,onFocus:ne,placeholder:oe,inputProps:L},_e,_));return y.jsxs(qEe,tt({className:li(me.root,C),disabled:x,error:G,fullWidth:R,ref:i,required:be,color:m,variant:Ge,ownerState:Pe},De,{children:[Q!=null&&Q!==""&&y.jsx(NVe,tt({htmlFor:pe,id:We},M,{children:Q})),Re?y.jsx(Ez,tt({"aria-describedby":Ee,id:pe,labelId:We,value:fe,input:je},ye,{children:u})):je,V&&y.jsx(cVe,tt({id:Ee},B,{children:V}))]}))}),TX=$Ge($Ee)({width:"130px","& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#d1d5db"},"&:hover fieldset":{borderColor:"#d1d5db"},"&.Mui-focused fieldset":{borderColor:"#9ca3af"}},"& .MuiInputBase-input":{paddingRight:"10px",fontSize:"14px","&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0},"&[type=number]":{"-moz-appearance":"textfield"}},"& .MuiInputLabel-root":{color:"#9ca3af"},"& .MuiInputLabel-root.Mui-focused":{color:"#9ca3af"}}),eFe=e=>{const[t,i]=le.useState([0,5e5]),[o,s]=le.useState(""),[c,u]=le.useState(""),[C,m]=le.useState(!1),[v,x]=le.useState(!1),[G,B]=le.useState(!1),[R,V]=le.useState(!1),H=Q=>Q.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."),M=(Q,j)=>{i(j),s(j[0]),u(j[1])},L=Q=>{const j=Q.target.value===""?"":Math.min(Number(Q.target.value.replace(/\./g,"")),5e5);s(j),i([j,t[1]])},_=Q=>{const j=Q.target.value===""?"":Math.min(Number(Q.target.value.replace(/\./g,"")),5e5);u(j),i([t[0],j])},X=[{value:0,label:"0"},{value:5e5,label:"500.000"}];return le.useEffect(()=>{e.priceRange(o,c)},[o,c]),y.jsxs(Rf,{sx:{width:300,padding:2},children:[y.jsx(KEe,{value:t,onChange:M,valueLabelDisplay:"auto",max:5e5,step:2e4,marks:X,valueLabelFormat:Q=>Q===0?"0":Q===5e5?"5 trm":Q,sx:{color:"#2B5A50"}}),y.jsxs(Rf,{sx:{display:"flex",justifyContent:"space-between",marginLeft:"-15px"},children:[y.jsx(Rf,{sx:{marginInline:"10px"},children:y.jsx(TX,{label:y.jsx(tp,{variant:"body1",style:{fontSize:"13px"},children:"MIN"}),type:"text",value:o?H(o):"",onChange:L,onFocus:()=>{m(!0),B(!0)},onBlur:()=>{m(!1),o===""&&B(!1)},InputProps:{inputProps:{min:0,max:5e5},endAdornment:C&&G&&y.jsx(RX,{position:"end",children:y.jsx(tp,{sx:{fontSize:"10px"},children:"VND"})})}})}),y.jsx(Rf,{sx:{marginInline:"5px",width:"10px",height:"20%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",lineHeight:"20%",margin:"auto"},children:y.jsx(tp,{variant:"body1",children:"-"})}),y.jsx(Rf,{sx:{marginInline:"10px"},children:y.jsx(TX,{label:y.jsx(tp,{variant:"body1",style:{fontSize:"13px"},children:"MAX"}),type:"text",value:c?H(c):"",onChange:_,onFocus:()=>{x(!0),V(!0)},onBlur:()=>{x(!1),c===""&&V(!1)},InputProps:{inputProps:{min:0,max:5e5},endAdornment:v&&R&&y.jsx(RX,{position:"end",children:y.jsx(tp,{sx:{fontSize:"10px"},children:"VND"})})}})})]})]})},tFe=({handleRatingChange:e,handlePriceChange:t})=>{const{t:i}=Jn();return y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border py-5 px-7 flex flex-col justify-between gap-10",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-2xl uppercase",children:i("rating")}),y.jsx(ru,{ratingWrapper:"flex gap-1 p-5",value:0,editable:!0,onChange:e})]}),y.jsxs("div",{children:[y.jsx("div",{className:"font-bold text-2xl uppercase",children:i("priceRange")}),y.jsx(eFe,{priceRange:t})]})]})},nFe=({centre:e})=>{const{t}=Jn(),i=Gd();return y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border py-5 px-7 flex gap-7",children:[y.jsx("img",{src:e.coreImg,alt:e.name,className:"w-2/5 h-56 object-cover object-center rounded-lg"}),y.jsxs("div",{className:"flex flex-col gap-3 flex-1 justify-between",children:[y.jsx("div",{className:"font-semibold text-xl",children:e.name}),y.jsx(ru,{ratingWrapper:"flex gap-1",value:e.currentRate,editable:!1}),y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[t("address"),": "]}),e.address,", ",t(e.district)]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[t("openTime"),": "]}),xt(e.openTime,"HH:mm:ss").format("HH:mm")," - ",xt(e.closeTime,"HH:mm:ss").format("HH:mm")]}),y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[t("numberOfCourts"),": "]}),e.numberOfCourts]})]}),y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[t("price"),": "]}),y.jsxs("span",{className:"font-semibold text-rose-600",children:[e==null?void 0:e.pricePerHour.toLocaleString("de-DE")," VND/h"]})]}),y.jsx("div",{className:"text-sm flex justify-center gap-20",children:y.jsx(Pn,{label:t("viewDetail"),fullWidth:!0,size:"mini",className:"border border-gray-800 font-semibold hover:text-white hover:bg-gray-800",onClick:()=>i(`/centreBooking/${e.id}`)})})]})]})},iFe=({centres:e})=>y.jsx("div",{className:"flex-1 flex flex-col gap-7",children:e.map(t=>y.jsx(nFe,{centre:t},t.id))}),Vd=({totalItems:e,itemsPerPage:t,currentPage:i,onPageChange:o})=>{const s=Math.ceil(e/t),c=()=>{const C=[];for(let m=1;m<=s;m++)C.push(m);return C.map(m=>y.jsx(Pn,{label:m.toString(),size:"mini",className:m===i?"text-sm w-7 font-semibold text-white bg-primary-green border border-primary-green":"text-sm w-7 font-semibold text-primary-green border border-primary-green bg-white hover:text-white hover:bg-primary-green",onClick:()=>u(m)},m))},u=C=>{const m=document.getElementById("top");if(m){const G=m.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:G,behavior:"smooth"})}o(C)};return y.jsxs("div",{className:"flex justify-center items-center gap-1.5 font-semibold my-1",children:[y.jsx("a",{className:"flex justify-center w-7 rounded-md hover:bg-slate-300 text-primary-green aria-disabled:opacity-70 aria-disabled:pointer-events-none hover:text-white ease-in-out duration-200 cursor-pointer",onClick:()=>u(1),"aria-disabled":i===1,children:""}),y.jsx("div",{className:"flex gap-1 justify-center items-center",children:c()}),y.jsx("a",{className:"flex justify-center w-7 rounded-md hover:bg-slate-300 text-primary-green aria-disabled:opacity-70 aria-disabled:pointer-events-none hover:text-white ease-in-out duration-200 cursor-pointer",onClick:()=>u(s),"aria-disabled":i===s,children:""})]})},rFe=({selectedDistrict:e})=>{const{t}=Jn(),[i,o]=le.useState(!0),[s,c]=le.useState([]),[u,C]=le.useState([]),[m,v]=le.useState(),[x,G]=le.useState(),[B,R]=le.useState(0),[V,H]=le.useState(!1),[M,L]=le.useState(1),_=5;le.useEffect(()=>{const de=new AbortController,{signal:ce}=de;return(async()=>{o(!0),await mn.get("/courtstar/centre/getAllCentreActive",{signal:ce}).then(oe=>{c(oe.data.data.reverse()),C(oe.data.data)}).catch(oe=>{console.log(oe.message)}).finally(()=>{o(!1)})})(),()=>{de.abort()}},[]),le.useEffect(()=>{let de=s;L(1),e&&typeof e=="string"&&(de=de.filter(ce=>ce.district.toLowerCase()===e.toLowerCase())),m&&(de=de.filter(ce=>ce.pricePerHour>=m)),x&&(de=de.filter(ce=>ce.pricePerHour<=x)),B!==0&&(de=de.filter(ce=>ce.currentRate>=B)),V&&de.sort((ce,ne)=>ce.currentRate-ne.currentRate),C(de)},[e,m,x,B,s,V]);const X=(de,ce)=>{G(ce),v(de)},Q=de=>{B===de?(R(0),H(!1)):(R(de),H(!0))},j=de=>{L(de)},re=M*_,P=re-_,O=u.slice(P,re);return y.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:y.jsx("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-100",children:y.jsxs("div",{id:"top",className:"max-w-screen-1440 1440:mx-auto mx-4 py-10 px-12 w-full flex flex-col gap-4 items-center justify-between",children:[y.jsx("div",{className:"font-bold text-3xl uppercase text-center w-full",id:"centre-list",children:t("listOfCentres")}),i?y.jsx("div",{className:"flex items-center justify-center h-[400px]",children:y.jsx(Ti,{color:"#2B5A50"})}):y.jsxs("div",{className:"flex gap-5 w-full",children:[y.jsx("div",{children:y.jsx(tFe,{handleRatingChange:Q,handlePriceChange:X})}),O.length>0?y.jsxs("div",{className:"w-full flex flex-col gap-5",children:[y.jsx(iFe,{centres:O}),u.length>_&&y.jsx(Vd,{totalItems:u.length,itemsPerPage:_,currentPage:M,onPageChange:j})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center text-3xl text-primary mx-auto",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"250",height:"250",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search-x",children:[y.jsx("path",{d:"m13.5 8.5-5 5"}),y.jsx("path",{d:"m8.5 8.5 5 5"}),y.jsx("circle",{cx:"11",cy:"11",r:"8"}),y.jsx("path",{d:"m21 21-4.3-4.3"})]}),"No centres found."]})]})]})})})},oFe="/assets/banner-DKqGZBLX.png",sFe=({item:e,isSelected:t,onSelect:i,className:o})=>y.jsx("div",{className:`w-full py-2 px-6 rounded-lg hover:bg-gray-100 transition-all ease-in-out duration-300 cursor-pointer ${o} ${t?"bg-gray-200":""}`,onClick:()=>i(e),role:"option","aria-selected":t,children:e.label}),ho=le.forwardRef((e,t)=>{const[i,o]=le.useState(!1),[s,c]=le.useState(null),u=le.useRef(null),C=()=>{o(!i)},m=x=>{u.current&&!u.current.contains(x.target)&&o(!1)},v=x=>{c(x.label),e.onSelect(x),o(!1)};return le.useEffect(()=>{e.placeholder||c(e.items[0].label||null)},[e.items]),le.useEffect(()=>(document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}),[]),le.useEffect(()=>{c(e.initialValue||null)},[e.initialValue]),le.useImperativeHandle(t,()=>({clearFormDropdown:()=>{c(null),e.onSelect(null)}})),y.jsxs("div",{className:`w-full text-gray-800 relative ${e.className}`,ref:u,children:[e.label&&y.jsx("div",{className:"font-semibold mb-2",children:e.label}),y.jsxs("button",{className:`border border-gray-300 focus:outline focus:outline-1 focus:outline-gray-400 py-3 px-6 rounded-lg w-full text-gray-500 flex justify-between items-center ${e.buttonClassName}`,onClick:C,"aria-haspopup":"listbox","aria-expanded":i,children:[y.jsx("div",{className:`text-sm font-normal truncate ${s||e.initialValue?"text-gray-800 font-semibold":"text-gray-400"}`,children:s||e.initialValue||e.placeholder}),y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#6b7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i?"rotate-180 lucide lucide-chevron-down":"lucide lucide-chevron-down",children:y.jsx("path",{d:"m6 9 6 6 6-6"})})]}),i&&y.jsx("div",{className:`absolute ${e.dir==="up"?"-top-[216px]":""} w-full max-h-52 overflow-y-auto flex flex-col border border-gray-200 bg-white z-10 shadow-md rounded-lg mt-0.5 gap-0.5`,role:"listbox",children:e.items.map((x,G)=>y.jsx(sFe,{item:x,isSelected:s===x.label,onSelect:v,className:e.itemClassName},G))})]})}),aFe=({onDistrictSelect:e})=>{const{t}=Jn(),i=[{key:"all",label:t("allCenTre")},{key:"thuDucCity",label:t("thuDucCity")},{key:"district1",label:t("district1")},{key:"district3",label:t("district3")},{key:"district4",label:t("district4")},{key:"district5",label:t("district5")},{key:"district6",label:t("district6")},{key:"district7",label:t("district7")},{key:"district8",label:t("district8")},{key:"district10",label:t("district10")},{key:"district11",label:t("district11")},{key:"district12",label:t("district12")},{key:"binhTanDistrict",label:t("binhTanDistrict")},{key:"binhThanhDistrict",label:t("binhThanhDistrict")},{key:"goVapDistrict",label:t("goVapDistrict")},{key:"phuNhuanDistrict",label:t("phuNhuanDistrict")},{key:"tanBinhDistrict",label:t("tanBinhDistrict")},{key:"tanPhuDistrict",label:t("tanPhuDistrict")},{key:"nhaBeProvince",label:t("nhaBeProvince")},{key:"canGioProvince",label:t("canGioProvince")},{key:"cuChiProvince",label:t("cuChiProvince")},{key:"hocMonProvince",label:t("hocMonProvince")},{key:"binhChanhProvince",label:t("binhChanhProvince")}],o=c=>{e(c.key),c.key==="all"&&e("")},s=()=>{const c=document.getElementById("centre-list");if(c){const m=c.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:m,behavior:"smooth"})}};return y.jsx("div",{className:"font-Inter text-base bg-gray-100 overflow-x-hidden",children:y.jsxs("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap 2xl:max-w-screen-1440 2xl:mx-auto max-h-[500px] relative",children:[y.jsx("img",{src:oFe,alt:"Banner",className:"object-center object-cover opacity-50"}),y.jsxs("div",{className:"absolute top-1/4 left-1/2 -translate-x-1/2 z-10 max-w-[450px] w-full flex flex-col gap-3.5 items-center justify-between bg-white rounded-3xl py-5 px-10 shadow-gray-800 shadow-lg",children:[y.jsx("div",{className:"text-4xl font-medium text-gray-800",children:t("findCourtNow")}),y.jsx("div",{className:"text-gray-500 text-sm text-center",children:t("searchForBadmintonCourtsInHoChiMinhCity")}),y.jsx(ho,{placeholder:t("selectTheDistrict"),items:i,onSelect:o}),y.jsx(Pn,{label:t("find"),fullWidth:!0,fullRounded:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",onClick:s})]})]})})},lFe=()=>{const[e,t]=le.useState(""),i=o=>{t(o)};return console.log(e),y.jsxs("div",{children:[y.jsx(aFe,{onDistrictSelect:i}),y.jsx(rFe,{selectedDistrict:e})]})};var j1={};Object.defineProperty(j1,"__esModule",{value:!0});j1.default=void 0;var cFe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},gFe=function(){function e(t,i){for(var o=0;o<i.length;o++){var s=i[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),CS,LX,dFe=j1.confirmAlert=yFe,Fz=le,pA=Wz(Fz),AFe=Lb(),Ys=Wz(AFe),XX=aw;function Wz(e){return e&&e.__esModule?e:{default:e}}function uFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MX(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function hFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var XZ=(LX=CS=function(e){hFe(t,e);function t(){var i,o,s,c;uFe(this,t);for(var u=arguments.length,C=Array(u),m=0;m<u;m++)C[m]=arguments[m];return c=(o=(s=MX(this,(i=t.__proto__||Object.getPrototypeOf(t)).call.apply(i,[this].concat(C))),s),s.handleClickButton=function(v){v.onClick&&v.onClick(),s.close()},s.handleClickOverlay=function(v){var x=s.props,G=x.closeOnClickOutside,B=x.onClickOutside,R=v.target===s.overlay;G&&R&&(B(),s.close()),v.stopPropagation()},s.close=function(){var v=s.props.afterClose;bFe(),fFe(s.props),pFe(v)},s.keyboard=function(v){var x=s.props,G=x.closeOnEscape,B=x.onKeypressEscape,R=x.onkeyPress,V=x.keyCodeForClose,H=v.keyCode,M=H===27;V.includes(H)&&s.close(),G&&M&&(B(v),s.close()),R&&R()},s.componentDidMount=function(){document.addEventListener("keydown",s.keyboard,!1)},s.componentWillUnmount=function(){document.removeEventListener("keydown",s.keyboard,!1),s.props.willUnmount()},s.renderCustomUI=function(){var v=s.props,x=v.title,G=v.message,B=v.buttons,R=v.customUI,V={title:x,message:G,buttons:B,onClose:s.close};return R(V)},o),MX(s,c)}return gFe(t,[{key:"render",value:function(){var o=this,s=this.props,c=s.title,u=s.message,C=s.buttons,m=s.childrenElement,v=s.customUI,x=s.overlayClassName;return pA.default.createElement("div",{className:"react-confirm-alert-overlay "+x,ref:function(B){return o.overlay=B},onClick:this.handleClickOverlay},pA.default.createElement("div",{className:"react-confirm-alert"},v?this.renderCustomUI():pA.default.createElement("div",{className:"react-confirm-alert-body"},c&&pA.default.createElement("h1",null,c),u,m(),pA.default.createElement("div",{className:"react-confirm-alert-button-group"},C.map(function(G,B){return pA.default.createElement("button",cFe({key:B,className:G.className},G,{onClick:function(V){return o.handleClickButton(G)}}),G.label)})))))}}]),t}(Fz.Component),CS.propTypes={title:Ys.default.string,message:Ys.default.string,buttons:Ys.default.array.isRequired,childrenElement:Ys.default.func,customUI:Ys.default.func,closeOnClickOutside:Ys.default.bool,closeOnEscape:Ys.default.bool,keyCodeForClose:Ys.default.arrayOf(Ys.default.number),willUnmount:Ys.default.func,afterClose:Ys.default.func,onClickOutside:Ys.default.func,onKeypressEscape:Ys.default.func,onkeyPress:Ys.default.func,overlayClassName:Ys.default.string},CS.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},LX);j1.default=XZ;var Qf=null,MZ="react-confirm-alert";function mFe(){var e=document.getElementById("react-confirm-alert-firm-svg");if(!e){var t="http://www.w3.org/2000/svg",i=document.createElementNS(t,"feGaussianBlur");i.setAttribute("stdDeviation","0.3");var o=document.createElementNS(t,"filter");o.setAttribute("id","gaussian-blur"),o.appendChild(i);var s=document.createElementNS(t,"svg");s.setAttribute("id","react-confirm-alert-firm-svg"),s.setAttribute("class","react-confirm-alert-svg"),s.appendChild(o),document.body.appendChild(s)}}function pFe(e){var t=document.getElementById("react-confirm-alert-firm-svg");t&&t.parentNode.removeChild(t),document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}function CFe(e){var t=document.getElementById(e.targetId||MZ);e.targetId&&!t&&console.error("React Confirm Alert:","Can not get element id (#"+e.targetId+")"),t?(Qf=(0,XX.createRoot)(t),Qf.render(pA.default.createElement(XZ,e))):(document.body.children[0].classList.add("react-confirm-alert-blur"),t=document.createElement("div"),t.id=MZ,document.body.appendChild(t),Qf=(0,XX.createRoot)(t),Qf.render(pA.default.createElement(XZ,e)))}function fFe(e){var t=document.getElementById(e.targetId||MZ);t&&Qf.unmount(t)}function IFe(){document.body.classList.add("react-confirm-alert-body-element")}function bFe(){document.body.classList.remove("react-confirm-alert-body-element")}function yFe(e){IFe(),mFe(),CFe(e)}const vFe=({options:e,onClose:t})=>{const{t:i}=Jn(),o={info:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"#699cec",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-info",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M12 16v-4"}),y.jsx("path",{d:"M12 8h.01"})]}),warning:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"#facc15",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-triangle-alert",children:[y.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}),y.jsx("path",{d:"M12 9v4"}),y.jsx("path",{d:"M12 17h.01"})]}),error:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"#f04242",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-x",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"m15 9-6 6"}),y.jsx("path",{d:"m9 9 6 6"})]}),success:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"60",height:"60",viewBox:"0 0 24 24",fill:"none",stroke:"#42f076",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-check",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"m9 12 2 2 4-4"})]})};return le.useEffect(()=>{document.body.style.overflow="hidden";const s=document.getElementById("alert-type");return s&&(s.classList.add("animate-shake"),setTimeout(()=>{s.classList.remove("animate-shake")},500)),()=>{document.body.style.overflow="auto"}},[]),y.jsxs("div",{className:"relative w-fit p-5 text-gray-800 rounded-xl shadow-2xl bg-white max-h-screen overflow-y-auto overflow-x-hidden",children:[y.jsx("button",{className:"absolute p-2 top-1.5 right-1.5 hover:bg-gray-200 rounded-full transition-all duration-300 ease-in-out",onClick:t,children:y.jsx("img",{src:Hw,alt:"x"})}),y.jsx("div",{id:"alert-type",className:"w-full flex justify-center items-center mb-2",children:o[e.type]}),y.jsx("h1",{className:"text-2xl text-center font-semibold mb-2",children:e.title}),y.jsx("p",{className:"text-gray-500 text-sm w-4/5 text-center mx-auto mb-2",children:e.message}),y.jsxs("div",{className:"flex justify-between items-center gap-2",children:[y.jsx(Pn,{fullWidth:!0,label:i("confirm"),onClick:()=>{e.onConfirmClick(),t()},size:"small",className:"text-white bg-primary-green hover:bg-teal-900"}),y.jsx(Pn,{fullWidth:!0,label:i("cancel"),onClick:t,size:"small",className:"border border-red-600 text-red-600 hover:bg-red-600 hover:text-white"})]})]})},Sc=e=>{dFe({customUI:({onClose:t})=>y.jsx(vFe,{options:e,onClose:t}),overlayClassName:"custom-overlay"})},wFe=({onChange:e,existSelection:t})=>{const{t:i}=Jn(),[o,s]=le.useState(!1),[c,u]=le.useState(!1),[C,m]=le.useState(2);le.useEffect(()=>{u(!!o)},[o]);const v=()=>{const G=()=>{e(C,!o),s(!o)};t?Sc({title:i("areYouSure")+"?",message:i("youWillNotAbleToRecoverTheEntireSelection")+"!",type:"warning",onConfirmClick:()=>G()}):G()},x=G=>{isNaN(G.target.value)||G.target.value>10||G.target.value<0||G.target.value==="0"||(G.target.value===""?m(""):m(parseInt(G.target.value)))};return y.jsxs("div",{className:"switch-button relative",children:[y.jsx("input",{type:"checkbox",checked:o,onChange:v,id:"switch",name:"switch-checkbox",value:"switch-button"}),y.jsxs("label",{htmlFor:"switch",className:"container",children:[y.jsxs("div",{className:"relative",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-calendar-days",children:[y.jsx("path",{d:"M8 2v4"}),y.jsx("path",{d:"M16 2v4"}),y.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}),y.jsx("path",{d:"M3 10h18"}),y.jsx("path",{d:"M8 14h.01"}),y.jsx("path",{d:"M12 14h.01"}),y.jsx("path",{d:"M16 14h.01"}),y.jsx("path",{d:"M8 18h.01"}),y.jsx("path",{d:"M12 18h.01"}),y.jsx("path",{d:"M16 18h.01"})]}),o&&C&&C!=0&&y.jsx("div",{className:"absolute -bottom-1 right-0 bg-red-600 text-white text-[9px] rounded-full h-3 w-3 flex justify-center items-center",children:C})]}),y.jsxs("div",{className:"action",children:[y.jsx("span",{className:"option-1",children:i("weeklyBooking")}),y.jsx("span",{className:"option-2",children:i("weeklyBooking")})]})]}),c&&y.jsx("div",{className:"absolute mt-1.5 bg-white shadow-lg border rounded-md w-full p-4",children:y.jsxs("div",{className:"max-w-xs mx-auto",children:[y.jsxs("div",{className:"relative flex items-center justify-center mb-4 font-semibold",children:[i("frequency")," (2 - 10):"]}),y.jsxs("div",{className:"relative flex items-center justify-center mb-4",children:[y.jsx(Pn,{icon:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-minus",children:y.jsx("path",{d:"M5 12h14"})}),fullRounded:!0,onClick:()=>m(C-1),disabled:C===2,className:"hover:bg-primary-green bg-white border-primary-green text-primary-green border-2 hover:text-white p-px disabled:opacity-70"}),y.jsx("input",{type:"text",id:"counter-input",className:"flex-shrink-0 border-0 bg-transparent text-base focus:outline-none focus:ring-0 max-w-[2.5rem] text-center !block font-semibold",placeholder:"",value:C,onChange:x,required:!0}),y.jsx(Pn,{icon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-plus",children:[y.jsx("path",{d:"M5 12h14"}),y.jsx("path",{d:"M12 5v14"})]}),fullRounded:!0,onClick:()=>m(C+1),disabled:C===10,className:"hover:bg-primary-green bg-white border-primary-green text-primary-green border-2 hover:text-white p-px disabled:opacity-70"})]}),y.jsxs("div",{className:"relative flex items-center justify-between gap-2",children:[y.jsx(Pn,{label:i("apply"),fullWidth:!0,className:"bg-primary-green hover:bg-teal-900 text-white p-1 text-sm",onClick:()=>{u(!1),(C==0||C==1)&&(s(!1),m(2)),e(C,o)}}),y.jsx(Pn,{label:i("cancel"),fullWidth:!0,className:"border-red-600 border text-red-600 hover:bg-red-600 hover:text-white p-1 text-sm",onClick:()=>{v(),m(2)}})]})]})})]})},kFe=({yearItems:e,handleSelectYear:t,weekItems:i,currentWeekIndex:o,handleSelectWeek:s,courtItems:c,handleSelectCourt:u,goPrevious:C,goNext:m,typeOfCalendar:v,formCalendar:x,handleButton:G,handleReset:B,handleWeeklyBooking:R,existSelection:V})=>{const{t:H}=Jn();return y.jsxs("div",{className:"header flex justify-between items-center py-2",children:[y.jsxs("div",{className:"flex gap-4",children:[y.jsx("div",{className:"w-28",children:y.jsx(ho,{items:e,initialValue:e[0].label,onSelect:t})}),y.jsx("div",{className:"w-52",children:y.jsx(ho,{items:i,initialValue:i[o].label,onSelect:s})}),y.jsx("div",{className:"w-32",children:y.jsx(ho,{items:c,onSelect:u,initialValue:c[0].label})}),y.jsxs("div",{className:"flex text-gray-500",children:[y.jsx("button",{className:"p-1 hover:text-gray-800 transition-all duration-200 ease-in-out disabled:text-gray-300",onClick:C,disabled:o===0,children:y.jsxs("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-arrow-left-circle",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),y.jsx("path",{fillRule:"evenodd",d:"M8.354 11.354a.5.5 0 0 0 0-.708L5.707 8l2.647-2.646a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708 0z"}),y.jsx("path",{fillRule:"evenodd",d:"M11.5 8a.5.5 0 0 0-.5-.5H6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 .5-.5z"})]})}),y.jsx("button",{className:"p-1 hover:text-gray-800 transition-all duration-200 ease-in-out disabled:text-gray-300",onClick:m,disabled:o===i.length-1,children:y.jsxs("svg",{width:"1.5em",height:"1.5em",viewBox:"0 0 16 16",className:"bi bi-arrow-right-circle",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),y.jsx("path",{fillRule:"evenodd",d:"M7.646 11.354a.5.5 0 0 1 0-.708L10.293 8 7.646 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0z"}),y.jsx("path",{fillRule:"evenodd",d:"M4.5 8a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z"})]})})]})]}),v==="booking"?y.jsx("div",{children:y.jsx(wFe,{onChange:R,existSelection:V})}):"",y.jsxs("div",{className:"flex gap-5",children:[y.jsx(Pn,{label:H("reset"),fullWidth:!0,className:"hover:bg-red-600 hover:text-white text-red-600 border-red-600 border font-semibold min-w-24 py-2.5",onClick:()=>B()}),y.jsx(Pn,{label:H(v==="booking"?"booking":"Disable"),fullWidth:!0,className:"bg-primary-green hover:bg-teal-900 text-white min-w-24 py-2.5",onClick:()=>G(x),disabled:!(x!=null&&x.length)})]})]})},BFe=({centre:e,selectedWeek:t,isDisable:i,handleClick:o,formCalendar:s,loading:c})=>{const{t:u}=Jn();return c?y.jsx("div",{className:"h-[200px] flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})}):y.jsxs("table",{className:"w-full border-t",children:[y.jsxs("thead",{children:[y.jsxs("tr",{children:[y.jsx("th",{className:"relative pt-2 border-x xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:y.jsx("div",{className:"absolute left-1/2 -translate-x-1/2",children:"Slot"})}),y.jsxs("th",{className:"border-x pt-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:[y.jsx("span",{className:"xl:block lg:block md:block sm:block hidden",children:u("Sunday")}),y.jsx("span",{className:"xl:hidden lg:hidden md:hidden sm:hidden block",children:"Sun"})]}),y.jsxs("th",{className:"border-x pt-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:[y.jsx("span",{className:"xl:block lg:block md:block sm:block hidden",children:u("Monday")}),y.jsx("span",{className:"xl:hidden lg:hidden md:hidden sm:hidden block",children:"Mon"})]}),y.jsxs("th",{className:"border-x pt-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:[y.jsx("span",{className:"xl:block lg:block md:block sm:block hidden",children:u("Tuesday")}),y.jsx("span",{className:"xl:hidden lg:hidden md:hidden sm:hidden block",children:"Tue"})]}),y.jsxs("th",{className:"border-x pt-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:[y.jsx("span",{className:"xl:block lg:block md:block sm:block hidden",children:u("Wednesday")}),y.jsx("span",{className:"xl:hidden lg:hidden md:hidden sm:hidden block",children:"Wed"})]}),y.jsxs("th",{className:"border-x pt-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:[y.jsx("span",{className:"xl:block lg:block md:block sm:block hidden",children:u("Thursday")}),y.jsx("span",{className:"xl:hidden lg:hidden md:hidden sm:hidden block",children:"Thu"})]}),y.jsxs("th",{className:"border-x pt-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:[y.jsx("span",{className:"xl:block lg:block md:block sm:block hidden",children:u("Friday")}),y.jsx("span",{className:"xl:hidden lg:hidden md:hidden sm:hidden block",children:"Fri"})]}),y.jsxs("th",{className:"border-x pt-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs",children:[y.jsx("span",{className:"xl:block lg:block md:block sm:block hidden",children:u("Saturday")}),y.jsx("span",{className:"xl:hidden lg:hidden md:hidden sm:hidden block",children:"Sat"})]})]}),y.jsxs("tr",{className:"text-center",children:[y.jsx("th",{className:"border-x pb-2 border-b xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 overflow-auto"}),t.map((C,m)=>y.jsx("th",{className:"border-x pb-2 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 overflow-auto",children:y.jsx("div",{className:"flex flex-col justify-center items-center xl:w-32 lg:w-30 md:w-30 sm:w-full w-10 mx-auto overflow-hidden",children:y.jsx("div",{className:"top h-5 w-full",children:y.jsx("span",{className:"text-gray-500",children:xt(C,"MM/DD").format("DD")})})})},m))]})]}),y.jsx("tbody",{children:e.slots.map((C,m)=>y.jsxs("tr",{className:"text-center",children:[y.jsxs("td",{className:"border-x border-b p-1 h-10 xl:w-32 lg:w-30 md:w-30 sm:w-20 w-10 overflow-auto text-gray-500",children:[C.slotNo,y.jsx("br",{}),y.jsx("span",{className:"text-xs",children:`${xt(C.startTime,"HH:mm:ss").format("H:mm")}
                - ${xt(C.endTime,"HH:mm:ss").format("H:mm")}`})]}),t.map((v,x)=>y.jsx("td",{onClick:()=>!i(v,C)&&o(C,v),className:i(v,C)?"border p-1 xl:w-40 lg:w-30 md:w-30 sm:w-20 w-10 overflow-auto bg-gray-300":`${s.some(G=>G.slotId===C.id&&G.date===xt(v,"MM/DD").format("YYYY-MM-DD"))?"bg-[#CDFAE7]":""} border p-1 xl:w-40 lg:w-30 md:w-30 sm:w-20 w-10 overflow-auto transition cursor-pointer duration-300 ease hover:bg-[#CDFAE7]`},x))]},m))})]})},Hz=e=>{const{t}=Jn(),[i,o]=le.useState(!1),s=e.typeOfCalendar,[c,u]=le.useState(!1),[C,m]=le.useState(0);le.useEffect(()=>{console.log(C)},[C]),le.useEffect(()=>{console.log(c),x([])},[c]);const[v,x]=le.useState([]),G=new AbortController,{signal:B}=G,[R,V]=le.useState({});le.useEffect(()=>{V(e.centre)},[e.centre]);const H=pe=>Object.keys(pe).length===0,M=(pe,Ee)=>pe<xt().format("MM/DD")||pe===xt().format("MM/DD")&&parseInt(xt(Ee.startTime,"HH:mm:ss").format("H"))<parseInt(xt().format("H"))+1||j.bookingDetails.some(We=>We.status&&We.slot.id===Ee.id&&xt(We.date,"YYYY-MM-DD").format("MM/DD")===pe),[L,_]=le.useState([]),[X,Q]=le.useState(),[j,re]=le.useState({}),P=pe=>{o(!0),x([]),Q(pe),O(pe.key)},O=async pe=>{o(!0),await mn.get(`/courtstar/court/booking-detail/${pe}`,{signal:B}).then(Ee=>{re(Ee.data.data)}).catch(Ee=>{console.log(Ee.message)}).finally(()=>{o(!1)})};le.useEffect(()=>{var pe;if(!H(R)){const Ee=(pe=R.courts)==null?void 0:pe.map(We=>({key:We.id,label:`${t("court")} ${We.courtNo}`}));_(Ee),Q(Ee[0]),O(Ee[0].key)}return()=>{G.abort()}},[R]);const de=[{key:1,label:`${xt().year()}`}],ce=pe=>{console.log(`Selected: ${pe.key} ${pe.label}`)},[ne,oe]=le.useState(0),Ie=(()=>{let pe=[],Ee=xt().startOf("week");for(let We=0;We<10;We++){let Ue=[],je=Ee.clone().add(We,"weeks").startOf("week");for(let qe=0;qe<7;qe++)Ue.push(je.clone().add(qe,"days").format("MM/DD"));pe.push(Ue)}return pe})(),Re=Ie.map((pe,Ee)=>({key:Ee,label:`${pe[0]} ${t("to")} ${pe[6]}`})),[ye,ve]=le.useState(Ie[0]),fe=pe=>{console.log(`Selected: ${pe.key} ${pe.label}`),ve(Ie[pe.key]),oe(pe.key)},Ge=()=>{fe(Re[ne+1])},De=()=>{fe(Re[ne-1])},Pe=(pe,Ee)=>{const We=xt(Ee,"MM/DD").format("YYYY-MM-DD");x(c?Ue=>{let je=Ue?[...Ue]:[];if(je.findIndex(At=>At.slotId===pe.id&&At.courtId===X.key&&At.date===We)>-1)je=je.filter(At=>At.slotId!==pe.id||xt(At.date).format("dd")!==xt(We).format("dd"));else for(let At=0;At<C;At++){const ct=xt(We).add(At,"weeks").format("YYYY-MM-DD");je.push({date:ct,slotId:pe.id,courtId:X.key})}return je.sort((At,ct)=>xt(At.date).diff(xt(ct.date))),je}:Ue=>{let je=Ue?[...Ue]:[];const qe=je.findIndex(At=>At.slotId===pe.id&&At.courtId===X.key&&At.date===We);return qe>-1?je.splice(qe,1):je.push({date:We,slotId:pe.id,courtId:X.key}),je.sort((At,ct)=>xt(At.date).diff(xt(ct.date))),je})};le.useEffect(()=>{console.log(v)},[v]);const me=async pe=>{if(e.typeOfCalendar==="manage"){o(!0);try{await e.handleButton(pe)}catch{}finally{O(X.key)}}else e.handleButton(pe)},_e=()=>{v&&v.length&&Sc({title:t("areYouSure")+"?",message:t("youWillNotAbleToRecoverTheEntireSelection")+"!",type:"warning",onConfirmClick:()=>x([])})};return y.jsx("div",{className:"",children:H(R)||H(j)?y.jsx("div",{className:"h-[200px] flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})}):y.jsx("div",{className:"container mx-auto",children:y.jsxs("div",{className:"wrapper bg-white rounded w-full ",children:[y.jsx(kFe,{yearItems:de,weekItems:Re,courtItems:L,currentWeekIndex:ne,typeOfCalendar:s,formCalendar:v,handleButton:me,handleReset:_e,handleWeeklyBooking:(pe,Ee)=>{u(Ee),m(pe)},existSelection:v!=null&&v.length!=0,handleSelectCourt:P,handleSelectWeek:fe,handleSelectYear:ce,goPrevious:De,goNext:Ge}),y.jsx(BFe,{centre:R,selectedWeek:ye,isDisable:M,handleClick:Pe,formCalendar:v,loading:i})]})})})},xFe=e=>{var B,R;const{t}=Jn(),[i,o]=le.useState(!1);new AbortController;const{state:s}=_d(),{account:c}=s,u=()=>{e.setIsOpen()},[C,m]=le.useState({fullName:"",email:"",phone:"",paymentType:"ZALOPAY",bookingDetails:[]}),v=V=>{const{name:H,value:M}=V.target;m(L=>({...L,[H]:M}))};le.useEffect(()=>{c&&m(V=>({...V,fullName:(c.firstName+" "+c.lastName).trim(),email:c.email,phone:c.phone,bookingDetails:[]}))},[c]),le.useEffect(()=>{m(V=>({...V,bookingDetails:e.formCalendar}))},[e.formCalendar]);const x=async()=>{o(!0),await mn.post("/courtstar/booking",C).then(V=>{window.location.href=V.data.data.order_url}).catch(V=>{console.log(V.message)}).finally(()=>{o(!1),u()})};le.useEffect(()=>{console.log(C)},[C]);const G=y.jsxs("div",{className:"font-medium w-[440px] items-center flex flex-col gap-3",children:[y.jsx(Nn,{id:"fullName",name:"fullName",label:`${t("fullName")}*`,placeholder:"Enter full name",value:C.fullName||"",onchange:v,disabled:c==null?void 0:c.firstName}),y.jsx(Nn,{id:"phone",name:"phone",label:`${t("phone")}*`,placeholder:"Enter phone number",value:C.phone||"",onchange:v,disabled:c==null?void 0:c.phone}),y.jsx(Nn,{id:"email",name:"email",label:"Email*",placeholder:"Enter your email",value:C.email||"",onchange:v,disabled:c==null?void 0:c.email}),y.jsxs("div",{className:"w-full flex flex-col gap-2",children:[y.jsxs("div",{className:"text-base font-semibold",children:[t("paymentMethod"),"*"]}),y.jsxs("div",{className:"flex justify-center items-center gap-10 text-lg font-semibold",children:[y.jsxs("div",{className:`flex w-32 h-[50px] gap-2 items-center border rounded-lg p-2 hover:bg-[#CDFAE7] hover:border-[#CDFAE7] cursor-pointer transition-all ease-in-out duration-300 ${C.paymentType==="ZALOPAY"?"bg-[#CDFAE7] border-[#CDFAE7]":""}`,onClick:()=>m(V=>({...V,paymentType:"ZALOPAY"})),children:[y.jsx("img",{src:"/images/zalopay-logo.png",alt:"zalo-pay",className:"w-8 h-8"}),y.jsx("div",{children:"ZaloPay"})]}),y.jsxs("div",{className:`flex w-32 h-[50px] gap-2 items-center border rounded-lg p-2 hover:bg-[#CDFAE7] hover:border-[#CDFAE7] cursor-pointer transition-all ease-in-out duration-300 ${C.paymentType==="VNPAY"?"bg-[#CDFAE7] border-[#CDFAE7]":""}`,onClick:()=>m(V=>({...V,paymentType:"VNPAY"})),children:[y.jsx("img",{src:"/images/vnpay-logo.png",alt:"vn-pay",className:"w-9"}),y.jsx("div",{children:"VNPay"})]})]})]}),y.jsxs("div",{className:"py-3 flex justify-center items-center gap-1 font-semibold",children:[t("price"),":",y.jsxs("span",{className:"text-rose-600",children:[" ",(((B=e==null?void 0:e.centre)==null?void 0:B.pricePerHour)*((R=C==null?void 0:C.bookingDetails)==null?void 0:R.length)).toLocaleString("de-DE")," VND"]})]}),y.jsx("div",{className:"flex items-center justify-center w-full",children:y.jsx(Pn,{label:t("confirm"),fullWidth:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",loading:i,onClick:x})})]});return y.jsx("div",{children:y.jsx(Ll,{html:G,isOpen:e.isOpen,setIsOpen:u,centreInfo:!0,title:t("booking")})})},SFe=({id:e,fullName:t,rate:i,content:o,createDate:s})=>y.jsxs("div",{className:"flex flex-col gap-1.5 py-4",children:[y.jsxs("div",{className:"font-semibold flex gap-3 items-center",children:[y.jsx("div",{children:t}),y.jsx("div",{className:"text-xs font-normal text-gray-500",children:xt(s).fromNow()})]}),y.jsx("div",{className:"",children:y.jsx(ru,{ratingWrapper:"flex",star:"w-5",value:i})}),y.jsx("div",{className:"text-sm",children:o})]},e),QN=({listItem:e,itemsPerPage:t})=>{const[i,o]=le.useState(1),[s,c]=le.useState(1),u=m=>{m>=1&&m<=Math.ceil(e.length/t)&&o(m)},C=e.slice((i-1)*t,i*t);return y.jsx("div",{className:"px-9 py-5",children:C.length?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex gap-6 justify-start items-center ml-4",children:[y.jsx("div",{className:"",children:y.jsx(Pn,{label:"Newest",size:"small",className:`${s===1?" bg-primary-green text-white ":" text-primary-green "} border border-primary-green hover:bg-primary-green hover:text-white`,onClick:()=>c(1)})}),y.jsx("div",{className:"",children:y.jsx(Pn,{label:"Oldest",size:"small",className:`${s===2?" bg-primary-green text-white ":" text-primary-green "}border border-primary-green hover:bg-primary-green  hover:text-white`,onClick:()=>c(2)})}),y.jsx(ru,{ratingWrapper:"flex",editable:!0,value:0})]}),y.jsx("div",{className:"p-4 divide-y-2",children:C.map(m=>y.jsx(SFe,{id:m.id,fullName:m.fullName,rate:m.rate,createDate:m.createDate,content:m.content},m.id))}),t<=e.length&&y.jsx(Vd,{totalItems:e.length,itemsPerPage:t,currentPage:i,onPageChange:u})]}):y.jsxs("div",{className:"flex flex-col h-80 gap-3 justify-center items-center text-3xl text-primary",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-message-circle-off",children:[y.jsx("path",{d:"M20.5 14.9A9 9 0 0 0 9.1 3.5"}),y.jsx("path",{d:"m2 2 20 20"}),y.jsx("path",{d:"M5.6 5.6C3 8.3 2.2 12.5 4 16l-2 6 6-2c3.4 1.8 7.6 1.1 10.3-1.7"})]}),"There is no feedback yet!"]})})};var Dz={},O1={},jN={},fS={},YX;function ZFe(){return YX||(YX=1,function(e){(function(t,i){i(e,le,Lb())})(gg,function(t,i,o){Object.defineProperty(t,"__esModule",{value:!0}),t.setHasSupportToCaptureOption=V;var s=u(i),c=u(o);function u(_){return _&&_.__esModule?_:{default:_}}var C=Object.assign||function(_){for(var X=1;X<arguments.length;X++){var Q=arguments[X];for(var j in Q)Object.prototype.hasOwnProperty.call(Q,j)&&(_[j]=Q[j])}return _};function m(_,X){var Q={};for(var j in _)X.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(_,j)&&(Q[j]=_[j]);return Q}function v(_,X){if(!(_ instanceof X))throw new TypeError("Cannot call a class as a function")}var x=function(){function _(X,Q){for(var j=0;j<Q.length;j++){var re=Q[j];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(X,re.key,re)}}return function(X,Q,j){return Q&&_(X.prototype,Q),j&&_(X,j),X}}();function G(_,X){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:_}function B(_,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);_.prototype=Object.create(X&&X.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(_,X):_.__proto__=X)}var R=!1;function V(_){R=_}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){V(!0)}}))}catch{}function H(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return R?_:_.capture}function M(_){if("touches"in _){var X=_.touches[0],Q=X.pageX,j=X.pageY;return{x:Q,y:j}}var re=_.screenX,P=_.screenY;return{x:re,y:P}}var L=function(_){B(X,_);function X(){var Q;v(this,X);for(var j=arguments.length,re=Array(j),P=0;P<j;P++)re[P]=arguments[P];var O=G(this,(Q=X.__proto__||Object.getPrototypeOf(X)).call.apply(Q,[this].concat(re)));return O._handleSwipeStart=O._handleSwipeStart.bind(O),O._handleSwipeMove=O._handleSwipeMove.bind(O),O._handleSwipeEnd=O._handleSwipeEnd.bind(O),O._onMouseDown=O._onMouseDown.bind(O),O._onMouseMove=O._onMouseMove.bind(O),O._onMouseUp=O._onMouseUp.bind(O),O._setSwiperRef=O._setSwiperRef.bind(O),O}return x(X,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,H({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,H({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(j){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(j))}},{key:"_onMouseMove",value:function(j){this.mouseDown&&this._handleSwipeMove(j)}},{key:"_onMouseUp",value:function(j){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(j)}},{key:"_handleSwipeStart",value:function(j){var re=M(j),P=re.x,O=re.y;this.moveStart={x:P,y:O},this.props.onSwipeStart(j)}},{key:"_handleSwipeMove",value:function(j){if(this.moveStart){var re=M(j),P=re.x,O=re.y,de=P-this.moveStart.x,ce=O-this.moveStart.y;this.moving=!0;var ne=this.props.onSwipeMove({x:de,y:ce},j);ne&&j.cancelable&&j.preventDefault(),this.movePosition={deltaX:de,deltaY:ce}}}},{key:"_handleSwipeEnd",value:function(j){this.props.onSwipeEnd(j);var re=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-re?this.props.onSwipeLeft(1,j):this.movePosition.deltaX>re&&this.props.onSwipeRight(1,j),this.movePosition.deltaY<-re?this.props.onSwipeUp(1,j):this.movePosition.deltaY>re&&this.props.onSwipeDown(1,j)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(j){this.swiper=j,this.props.innerRef(j)}},{key:"render",value:function(){var j=this.props;j.tagName;var re=j.className,P=j.style,O=j.children;j.allowMouseEvents,j.onSwipeUp,j.onSwipeDown,j.onSwipeLeft,j.onSwipeRight,j.onSwipeStart,j.onSwipeMove,j.onSwipeEnd,j.innerRef,j.tolerance;var de=m(j,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return s.default.createElement(this.props.tagName,C({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:re,style:P},de),O)}}]),X}(i.Component);L.displayName="ReactSwipe",L.propTypes={tagName:c.default.string,className:c.default.string,style:c.default.object,children:c.default.node,allowMouseEvents:c.default.bool,onSwipeUp:c.default.func,onSwipeDown:c.default.func,onSwipeLeft:c.default.func,onSwipeRight:c.default.func,onSwipeStart:c.default.func,onSwipeMove:c.default.func,onSwipeEnd:c.default.func,innerRef:c.default.func,tolerance:c.default.number.isRequired},L.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},t.default=L})}(fS)),fS}(function(e){(function(t,i){i(e,ZFe())})(gg,function(t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=s(i);function s(c){return c&&c.__esModule?c:{default:c}}t.default=o.default})})(jN);var Ub={},Tz={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function i(){for(var c="",u=0;u<arguments.length;u++){var C=arguments[u];C&&(c=s(c,o(C)))}return c}function o(c){if(typeof c=="string"||typeof c=="number")return c;if(typeof c!="object")return"";if(Array.isArray(c))return i.apply(null,c);if(c.toString!==Object.prototype.toString&&!c.toString.toString().includes("[native code]"))return c.toString();var u="";for(var C in c)t.call(c,C)&&c[C]&&(u=s(u,C));return u}function s(c,u){return u?c?c+" "+u:c+u:c}e.exports?(i.default=i,e.exports=i):window.classNames=i})()})(Tz);var GFe=Tz.exports;Object.defineProperty(Ub,"__esModule",{value:!0});Ub.default=void 0;var lA=RFe(GFe);function RFe(e){return e&&e.__esModule?e:{default:e}}function NFe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _Fe={ROOT:function(t){return(0,lA.default)(NFe({"carousel-root":!0},t||"",!!t))},CAROUSEL:function(t){return(0,lA.default)({carousel:!0,"carousel-slider":t})},WRAPPER:function(t,i){return(0,lA.default)({"thumbs-wrapper":!t,"slider-wrapper":t,"axis-horizontal":i==="horizontal","axis-vertical":i!=="horizontal"})},SLIDER:function(t,i){return(0,lA.default)({thumbs:!t,slider:t,animated:!i})},ITEM:function(t,i,o){return(0,lA.default)({thumb:!t,slide:t,selected:i,previous:o})},ARROW_PREV:function(t){return(0,lA.default)({"control-arrow control-prev":!0,"control-disabled":t})},ARROW_NEXT:function(t){return(0,lA.default)({"control-arrow control-next":!0,"control-disabled":t})},DOT:function(t){return(0,lA.default)({dot:!0,selected:t})}};Ub.default=_Fe;var Pb={},q1={};Object.defineProperty(q1,"__esModule",{value:!0});q1.outerWidth=void 0;var VFe=function(t){var i=t.offsetWidth,o=getComputedStyle(t);return i+=parseInt(o.marginLeft)+parseInt(o.marginRight),i};q1.outerWidth=VFe;var hC={};Object.defineProperty(hC,"__esModule",{value:!0});hC.default=void 0;var EFe=function(t,i,o){var s=t===0?t:t+i,c=o==="horizontal"?[s,0,0]:[0,s,0],u="translate3d",C="("+c.join(",")+")";return u+C};hC.default=EFe;var Kb={};Object.defineProperty(Kb,"__esModule",{value:!0});Kb.default=void 0;var FFe=function(){return window};Kb.default=FFe;Object.defineProperty(Pb,"__esModule",{value:!0});Pb.default=void 0;var gc=DFe(le),Ju=$1(Ub),WFe=q1,JX=$1(hC),HFe=$1(jN),Uy=$1(Kb);function $1(e){return e&&e.__esModule?e:{default:e}}function Lz(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return Lz=function(){return e},e}function DFe(e){if(e&&e.__esModule)return e;if(e===null||vI(e)!=="object"&&typeof e!="function")return{default:e};var t=Lz();if(t&&t.has(e))return t.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var c=o?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(i,s,c):i[s]=e[s]}return i.default=e,t&&t.set(e,i),i}function vI(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vI=function(i){return typeof i}:vI=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},vI(e)}function YZ(){return YZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},YZ.apply(this,arguments)}function TFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LFe(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function XFe(e,t,i){return t&&LFe(e.prototype,t),e}function MFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JZ(e,t)}function JZ(e,t){return JZ=Object.setPrototypeOf||function(o,s){return o.__proto__=s,o},JZ(e,t)}function YFe(e){var t=UFe();return function(){var o=tk(e),s;if(t){var c=tk(this).constructor;s=Reflect.construct(o,arguments,c)}else s=o.apply(this,arguments);return JFe(this,s)}}function JFe(e,t){return t&&(vI(t)==="object"||typeof t=="function")?t:Us(e)}function Us(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function tk(e){return tk=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},tk(e)}function Rs(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var PFe=function(t){return t.hasOwnProperty("key")},ON=function(e){MFe(i,e);var t=YFe(i);function i(o){var s;return TFe(this,i),s=t.call(this,o),Rs(Us(s),"itemsWrapperRef",void 0),Rs(Us(s),"itemsListRef",void 0),Rs(Us(s),"thumbsRef",void 0),Rs(Us(s),"setItemsWrapperRef",function(c){s.itemsWrapperRef=c}),Rs(Us(s),"setItemsListRef",function(c){s.itemsListRef=c}),Rs(Us(s),"setThumbsRef",function(c,u){s.thumbsRef||(s.thumbsRef=[]),s.thumbsRef[u]=c}),Rs(Us(s),"updateSizes",function(){if(!(!s.props.children||!s.itemsWrapperRef||!s.thumbsRef)){var c=gc.Children.count(s.props.children),u=s.itemsWrapperRef.clientWidth,C=s.props.thumbWidth?s.props.thumbWidth:(0,WFe.outerWidth)(s.thumbsRef[0]),m=Math.floor(u/C),v=m<c,x=v?c-m:0;s.setState(function(G,B){return{itemSize:C,visibleItems:m,firstItem:v?s.getFirstItem(B.selectedItem):0,lastPosition:x,showArrows:v}})}}),Rs(Us(s),"handleClickItem",function(c,u,C){if(!PFe(C)||C.key==="Enter"){var m=s.props.onSelectItem;typeof m=="function"&&m(c,u)}}),Rs(Us(s),"onSwipeStart",function(){s.setState({swiping:!0})}),Rs(Us(s),"onSwipeEnd",function(){s.setState({swiping:!1})}),Rs(Us(s),"onSwipeMove",function(c){var u=c.x;if(!s.state.itemSize||!s.itemsWrapperRef||!s.state.visibleItems)return!1;var C=0,m=gc.Children.count(s.props.children),v=-(s.state.firstItem*100)/s.state.visibleItems,x=Math.max(m-s.state.visibleItems,0),G=-x*100/s.state.visibleItems;v===C&&u>0&&(u=0),v===G&&u<0&&(u=0);var B=s.itemsWrapperRef.clientWidth,R=v+100/(B/u);return s.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(V){s.itemsListRef.style[V]=(0,JX.default)(R,"%",s.props.axis)}),!0}),Rs(Us(s),"slideRight",function(c){s.moveTo(s.state.firstItem-(typeof c=="number"?c:1))}),Rs(Us(s),"slideLeft",function(c){s.moveTo(s.state.firstItem+(typeof c=="number"?c:1))}),Rs(Us(s),"moveTo",function(c){c=c<0?0:c,c=c>=s.state.lastPosition?s.state.lastPosition:c,s.setState({firstItem:c})}),s.state={selectedItem:o.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},s}return XFe(i,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(s){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==s.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,Uy.default)().addEventListener("resize",this.updateSizes),(0,Uy.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,Uy.default)().removeEventListener("resize",this.updateSizes),(0,Uy.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(s){var c=s;return s>=this.state.lastPosition&&(c=this.state.lastPosition),s<this.state.firstItem+this.state.visibleItems&&(c=this.state.firstItem),s<this.state.firstItem&&(c=s),c}},{key:"renderItems",value:function(){var s=this;return this.props.children.map(function(c,u){var C=Ju.default.ITEM(!1,u===s.state.selectedItem),m={key:u,ref:function(x){return s.setThumbsRef(x,u)},className:C,onClick:s.handleClickItem.bind(s,u,s.props.children[u]),onKeyDown:s.handleClickItem.bind(s,u,s.props.children[u]),"aria-label":"".concat(s.props.labels.item," ").concat(u+1),style:{width:s.props.thumbWidth}};return gc.default.createElement("li",YZ({},m,{role:"button",tabIndex:0}),c)})}},{key:"render",value:function(){var s=this;if(!this.props.children)return null;var c=gc.Children.count(this.props.children)>1,u=this.state.showArrows&&this.state.firstItem>0,C=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,m={},v=-this.state.firstItem*(this.state.itemSize||0),x=(0,JX.default)(v,"px",this.props.axis),G=this.props.transitionTime+"ms";return m={WebkitTransform:x,MozTransform:x,MsTransform:x,OTransform:x,transform:x,msTransform:x,WebkitTransitionDuration:G,MozTransitionDuration:G,MsTransitionDuration:G,OTransitionDuration:G,transitionDuration:G,msTransitionDuration:G},gc.default.createElement("div",{className:Ju.default.CAROUSEL(!1)},gc.default.createElement("div",{className:Ju.default.WRAPPER(!1),ref:this.setItemsWrapperRef},gc.default.createElement("button",{type:"button",className:Ju.default.ARROW_PREV(!u),onClick:function(){return s.slideRight()},"aria-label":this.props.labels.leftArrow}),c?gc.default.createElement(HFe.default,{tagName:"ul",className:Ju.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:m,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):gc.default.createElement("ul",{className:Ju.default.SLIDER(!1,this.state.swiping),ref:function(R){return s.setItemsListRef(R)},style:m},this.renderItems()),gc.default.createElement("button",{type:"button",className:Ju.default.ARROW_NEXT(!C),onClick:function(){return s.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),i}(gc.Component);Pb.default=ON;Rs(ON,"displayName","Thumbs");Rs(ON,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var e2={};Object.defineProperty(e2,"__esModule",{value:!0});e2.default=void 0;var KFe=function(){return document};e2.default=KFe;var Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.setPosition=Ka.getPosition=Ka.isKeyboardEvent=Ka.defaultStatusFormatter=Ka.noop=void 0;var zFe=le,QFe=jFe(hC);function jFe(e){return e&&e.__esModule?e:{default:e}}var OFe=function(){};Ka.noop=OFe;var qFe=function(t,i){return"".concat(t," of ").concat(i)};Ka.defaultStatusFormatter=qFe;var $Fe=function(t){return t?t.hasOwnProperty("key"):!1};Ka.isKeyboardEvent=$Fe;var eWe=function(t,i){if(i.infiniteLoop&&++t,t===0)return 0;var o=zFe.Children.count(i.children);if(i.centerMode&&i.axis==="horizontal"){var s=-t*i.centerSlidePercentage,c=o-1;return t&&(t!==c||i.infiniteLoop)?s+=(100-i.centerSlidePercentage)/2:t===c&&(s+=100-i.centerSlidePercentage),s}return-t*100};Ka.getPosition=eWe;var tWe=function(t,i){var o={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(s){o[s]=(0,QFe.default)(t,"%",i)}),o};Ka.setPosition=tWe;var Ag={};Object.defineProperty(Ag,"__esModule",{value:!0});Ag.fadeAnimationHandler=Ag.slideStopSwipingHandler=Ag.slideSwipeAnimationHandler=Ag.slideAnimationHandler=void 0;var Xz=le,nWe=iWe(hC),ug=Ka;function iWe(e){return e&&e.__esModule?e:{default:e}}function UX(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),i.push.apply(i,o)}return i}function qu(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?UX(Object(i),!0).forEach(function(o){rWe(e,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):UX(Object(i)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(i,o))})}return e}function rWe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var oWe=function(t,i){var o={},s=i.selectedItem,c=s,u=Xz.Children.count(t.children)-1,C=t.infiniteLoop&&(s<0||s>u);if(C)return c<0?t.centerMode&&t.centerSlidePercentage&&t.axis==="horizontal"?o.itemListStyle=(0,ug.setPosition)(-(u+2)*t.centerSlidePercentage-(100-t.centerSlidePercentage)/2,t.axis):o.itemListStyle=(0,ug.setPosition)(-(u+2)*100,t.axis):c>u&&(o.itemListStyle=(0,ug.setPosition)(0,t.axis)),o;var m=(0,ug.getPosition)(s,t),v=(0,nWe.default)(m,"%",t.axis),x=t.transitionTime+"ms";return o.itemListStyle={WebkitTransform:v,msTransform:v,OTransform:v,transform:v},i.swiping||(o.itemListStyle=qu(qu({},o.itemListStyle),{},{WebkitTransitionDuration:x,MozTransitionDuration:x,OTransitionDuration:x,transitionDuration:x,msTransitionDuration:x})),o};Ag.slideAnimationHandler=oWe;var sWe=function(t,i,o,s){var c={},u=i.axis==="horizontal",C=Xz.Children.count(i.children),m=0,v=(0,ug.getPosition)(o.selectedItem,i),x=i.infiniteLoop?(0,ug.getPosition)(C-1,i)-100:(0,ug.getPosition)(C-1,i),G=u?t.x:t.y,B=G;v===m&&G>0&&(B=0),v===x&&G<0&&(B=0);var R=v+100/(o.itemSize/B),V=Math.abs(G)>i.swipeScrollTolerance;return i.infiniteLoop&&V&&(o.selectedItem===0&&R>-100?R-=C*100:o.selectedItem===C-1&&R<-C*100&&(R+=C*100)),(!i.preventMovementUntilSwipeScrollTolerance||V||o.swipeMovementStarted)&&(o.swipeMovementStarted||s({swipeMovementStarted:!0}),c.itemListStyle=(0,ug.setPosition)(R,i.axis)),V&&!o.cancelClick&&s({cancelClick:!0}),c};Ag.slideSwipeAnimationHandler=sWe;var aWe=function(t,i){var o=(0,ug.getPosition)(i.selectedItem,t),s=(0,ug.setPosition)(o,t.axis);return{itemListStyle:s}};Ag.slideStopSwipingHandler=aWe;var lWe=function(t,i){var o=t.transitionTime+"ms",s="ease-in-out",c={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:s,msTransitionTimingFunction:s,MozTransitionTimingFunction:s,WebkitTransitionTimingFunction:s,OTransitionTimingFunction:s};return i.swiping||(c=qu(qu({},c),{},{WebkitTransitionDuration:o,MozTransitionDuration:o,OTransitionDuration:o,transitionDuration:o,msTransitionDuration:o})),{slideStyle:c,selectedStyle:qu(qu({},c),{},{opacity:1,position:"relative"}),prevStyle:qu({},c)}};Ag.fadeAnimationHandler=lWe;Object.defineProperty(O1,"__esModule",{value:!0});O1.default=void 0;var zi=dWe(le),cWe=zb(jN),cd=zb(Ub),gWe=zb(Pb),Py=zb(e2),Ky=zb(Kb),jf=Ka,nk=Ag;function zb(e){return e&&e.__esModule?e:{default:e}}function Mz(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return Mz=function(){return e},e}function dWe(e){if(e&&e.__esModule)return e;if(e===null||wI(e)!=="object"&&typeof e!="function")return{default:e};var t=Mz();if(t&&t.has(e))return t.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var c=o?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(i,s,c):i[s]=e[s]}return i.default=e,t&&t.set(e,i),i}function wI(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wI=function(i){return typeof i}:wI=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},wI(e)}function UZ(){return UZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},UZ.apply(this,arguments)}function PX(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),i.push.apply(i,o)}return i}function dc(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?PX(Object(i),!0).forEach(function(o){ei(e,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):PX(Object(i)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(i,o))})}return e}function AWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uWe(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function hWe(e,t,i){return t&&uWe(e.prototype,t),e}function mWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PZ(e,t)}function PZ(e,t){return PZ=Object.setPrototypeOf||function(o,s){return o.__proto__=s,o},PZ(e,t)}function pWe(e){var t=fWe();return function(){var o=ik(e),s;if(t){var c=ik(this).constructor;s=Reflect.construct(o,arguments,c)}else s=o.apply(this,arguments);return CWe(this,s)}}function CWe(e,t){return t&&(wI(t)==="object"||typeof t=="function")?t:si(e)}function si(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fWe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ik(e){return ik=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},ik(e)}function ei(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var qN=function(e){mWe(i,e);var t=pWe(i);function i(o){var s;AWe(this,i),s=t.call(this,o),ei(si(s),"thumbsRef",void 0),ei(si(s),"carouselWrapperRef",void 0),ei(si(s),"listRef",void 0),ei(si(s),"itemsRef",void 0),ei(si(s),"timer",void 0),ei(si(s),"animationHandler",void 0),ei(si(s),"setThumbsRef",function(u){s.thumbsRef=u}),ei(si(s),"setCarouselWrapperRef",function(u){s.carouselWrapperRef=u}),ei(si(s),"setListRef",function(u){s.listRef=u}),ei(si(s),"setItemsRef",function(u,C){s.itemsRef||(s.itemsRef=[]),s.itemsRef[C]=u}),ei(si(s),"autoPlay",function(){zi.Children.count(s.props.children)<=1||(s.clearAutoPlay(),s.props.autoPlay&&(s.timer=setTimeout(function(){s.increment()},s.props.interval)))}),ei(si(s),"clearAutoPlay",function(){s.timer&&clearTimeout(s.timer)}),ei(si(s),"resetAutoPlay",function(){s.clearAutoPlay(),s.autoPlay()}),ei(si(s),"stopOnHover",function(){s.setState({isMouseEntered:!0},s.clearAutoPlay)}),ei(si(s),"startOnLeave",function(){s.setState({isMouseEntered:!1},s.autoPlay)}),ei(si(s),"isFocusWithinTheCarousel",function(){return s.carouselWrapperRef?!!((0,Py.default)().activeElement===s.carouselWrapperRef||s.carouselWrapperRef.contains((0,Py.default)().activeElement)):!1}),ei(si(s),"navigateWithKeyboard",function(u){if(s.isFocusWithinTheCarousel()){var C=s.props.axis,m=C==="horizontal",v={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},x=m?v.ArrowRight:v.ArrowDown,G=m?v.ArrowLeft:v.ArrowUp;x===u.keyCode?s.increment():G===u.keyCode&&s.decrement()}}),ei(si(s),"updateSizes",function(){if(!(!s.state.initialized||!s.itemsRef||s.itemsRef.length===0)){var u=s.props.axis==="horizontal",C=s.itemsRef[0];if(C){var m=u?C.clientWidth:C.clientHeight;s.setState({itemSize:m}),s.thumbsRef&&s.thumbsRef.updateSizes()}}}),ei(si(s),"setMountState",function(){s.setState({hasMount:!0}),s.updateSizes()}),ei(si(s),"handleClickItem",function(u,C){if(zi.Children.count(s.props.children)!==0){if(s.state.cancelClick){s.setState({cancelClick:!1});return}s.props.onClickItem(u,C),u!==s.state.selectedItem&&s.setState({selectedItem:u})}}),ei(si(s),"handleOnChange",function(u,C){zi.Children.count(s.props.children)<=1||s.props.onChange(u,C)}),ei(si(s),"handleClickThumb",function(u,C){s.props.onClickThumb(u,C),s.moveTo(u)}),ei(si(s),"onSwipeStart",function(u){s.setState({swiping:!0}),s.props.onSwipeStart(u)}),ei(si(s),"onSwipeEnd",function(u){s.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),s.props.onSwipeEnd(u),s.clearAutoPlay(),s.state.autoPlay&&s.autoPlay()}),ei(si(s),"onSwipeMove",function(u,C){s.props.onSwipeMove(C);var m=s.props.swipeAnimationHandler(u,s.props,s.state,s.setState.bind(si(s)));return s.setState(dc({},m)),!!Object.keys(m).length}),ei(si(s),"decrement",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;s.moveTo(s.state.selectedItem-(typeof u=="number"?u:1))}),ei(si(s),"increment",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;s.moveTo(s.state.selectedItem+(typeof u=="number"?u:1))}),ei(si(s),"moveTo",function(u){if(typeof u=="number"){var C=zi.Children.count(s.props.children)-1;u<0&&(u=s.props.infiniteLoop?C:0),u>C&&(u=s.props.infiniteLoop?0:C),s.selectItem({selectedItem:u}),s.state.autoPlay&&s.state.isMouseEntered===!1&&s.resetAutoPlay()}}),ei(si(s),"onClickNext",function(){s.increment(1)}),ei(si(s),"onClickPrev",function(){s.decrement(1)}),ei(si(s),"onSwipeForward",function(){s.increment(1),s.props.emulateTouch&&s.setState({cancelClick:!0})}),ei(si(s),"onSwipeBackwards",function(){s.decrement(1),s.props.emulateTouch&&s.setState({cancelClick:!0})}),ei(si(s),"changeItem",function(u){return function(C){(!(0,jf.isKeyboardEvent)(C)||C.key==="Enter")&&s.moveTo(u)}}),ei(si(s),"selectItem",function(u){s.setState(dc({previousItem:s.state.selectedItem},u),function(){s.setState(s.animationHandler(s.props,s.state))}),s.handleOnChange(u.selectedItem,zi.Children.toArray(s.props.children)[u.selectedItem])}),ei(si(s),"getInitialImage",function(){var u=s.props.selectedItem,C=s.itemsRef&&s.itemsRef[u],m=C&&C.getElementsByTagName("img")||[];return m[0]}),ei(si(s),"getVariableItemHeight",function(u){var C=s.itemsRef&&s.itemsRef[u];if(s.state.hasMount&&C&&C.children.length){var m=C.children[0].getElementsByTagName("img")||[];if(m.length>0){var v=m[0];if(!v.complete){var x=function R(){s.forceUpdate(),v.removeEventListener("load",R)};v.addEventListener("load",x)}}var G=m[0]||C.children[0],B=G.clientHeight;return B>0?B:null}return null});var c={initialized:!1,previousItem:o.selectedItem,selectedItem:o.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:o.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return s.animationHandler=typeof o.animationHandler=="function"&&o.animationHandler||o.animationHandler==="fade"&&nk.fadeAnimationHandler||nk.slideAnimationHandler,s.state=dc(dc({},c),s.animationHandler(o,c)),s}return hWe(i,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(s,c){!s.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!s.autoFocus&&this.props.autoFocus&&this.forceFocus(),c.swiping&&!this.state.swiping&&this.setState(dc({},this.props.stopSwipingHandler(this.props,this.state))),(s.selectedItem!==this.props.selectedItem||s.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),s.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var s=this;this.bindEvents(),this.state.autoPlay&&zi.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var c=s.getInitialImage();c&&!c.complete?c.addEventListener("load",s.setMountState):s.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var s=this.carouselWrapperRef;this.props.stopOnHover&&s&&(s.addEventListener("mouseenter",this.stopOnHover),s.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var s=this.carouselWrapperRef;this.props.stopOnHover&&s&&(s.removeEventListener("mouseenter",this.stopOnHover),s.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,Ky.default)().addEventListener("resize",this.updateSizes),(0,Ky.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,Py.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,Ky.default)().removeEventListener("resize",this.updateSizes),(0,Ky.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var s=this.getInitialImage();s&&s.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,Py.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var s;(s=this.carouselWrapperRef)===null||s===void 0||s.focus()}},{key:"renderItems",value:function(s){var c=this;return this.props.children?zi.Children.map(this.props.children,function(u,C){var m=C===c.state.selectedItem,v=C===c.state.previousItem,x=m&&c.state.selectedStyle||v&&c.state.prevStyle||c.state.slideStyle||{};c.props.centerMode&&c.props.axis==="horizontal"&&(x=dc(dc({},x),{},{minWidth:c.props.centerSlidePercentage+"%"})),c.state.swiping&&c.state.swipeMovementStarted&&(x=dc(dc({},x),{},{pointerEvents:"none"}));var G={ref:function(R){return c.setItemsRef(R,C)},key:"itemKey"+C+(s?"clone":""),className:cd.default.ITEM(!0,C===c.state.selectedItem,C===c.state.previousItem),onClick:c.handleClickItem.bind(c,C,u),style:x};return zi.default.createElement("li",G,c.props.renderItem(u,{isSelected:C===c.state.selectedItem,isPrevious:C===c.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var s=this,c=this.props,u=c.showIndicators,C=c.labels,m=c.renderIndicator,v=c.children;return u?zi.default.createElement("ul",{className:"control-dots"},zi.Children.map(v,function(x,G){return m&&m(s.changeItem(G),G===s.state.selectedItem,G,C.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?zi.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,zi.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||zi.Children.count(this.props.children)===0?null:zi.default.createElement(gWe.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var s=this;if(!this.props.children||zi.Children.count(this.props.children)===0)return null;var c=this.props.swipeable&&zi.Children.count(this.props.children)>1,u=this.props.axis==="horizontal",C=this.props.showArrows&&zi.Children.count(this.props.children)>1,m=C&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,v=C&&(this.state.selectedItem<zi.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,x=this.renderItems(!0),G=x.shift(),B=x.pop(),R={className:cd.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},V={};if(u){if(R.onSwipeLeft=this.onSwipeForward,R.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var H=this.getVariableItemHeight(this.state.selectedItem);V.height=H||"auto"}}else R.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,R.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,R.style=dc(dc({},R.style),{},{height:this.state.itemSize}),V.height=this.state.itemSize;return zi.default.createElement("div",{"aria-label":this.props.ariaLabel,className:cd.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},zi.default.createElement("div",{className:cd.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,m,this.props.labels.leftArrow),zi.default.createElement("div",{className:cd.default.WRAPPER(!0,this.props.axis),style:V},c?zi.default.createElement(cWe.default,UZ({tagName:"ul",innerRef:this.setListRef},R,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&B,this.renderItems(),this.props.infiniteLoop&&G):zi.default.createElement("ul",{className:cd.default.SLIDER(!0,this.state.swiping),ref:function(L){return s.setListRef(L)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&B,this.renderItems(),this.props.infiniteLoop&&G)),this.props.renderArrowNext(this.onClickNext,v,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),i}(zi.default.Component);O1.default=qN;ei(qN,"displayName","Carousel");ei(qN,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:jf.noop,onClickThumb:jf.noop,onChange:jf.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(t,i,o){return zi.default.createElement("button",{type:"button","aria-label":o,className:cd.default.ARROW_PREV(!i),onClick:t})},renderArrowNext:function(t,i,o){return zi.default.createElement("button",{type:"button","aria-label":o,className:cd.default.ARROW_NEXT(!i),onClick:t})},renderIndicator:function(t,i,o,s){return zi.default.createElement("li",{className:cd.default.DOT(i),onClick:t,onKeyDown:t,value:o,key:o,role:"button",tabIndex:0,"aria-label":"".concat(s," ").concat(o+1)})},renderItem:function(t){return t},renderThumbs:function(t){var i=zi.Children.map(t,function(o){var s=o;if(o.type!=="img"&&(s=zi.Children.toArray(o.props.children).find(function(c){return c.type==="img"})),!!s)return s});return i.filter(function(o){return o}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):i},statusFormatter:jf.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:nk.slideSwipeAnimationHandler,stopSwipingHandler:nk.slideStopSwipingHandler});var IWe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Carousel",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"CarouselProps",{enumerable:!0,get:function(){return i.CarouselProps}}),Object.defineProperty(e,"Thumbs",{enumerable:!0,get:function(){return o.default}});var t=s(O1),i=IWe,o=s(Pb);function s(c){return c&&c.__esModule?c:{default:c}}})(Dz);const t2=({images:e})=>y.jsx("div",{className:"carousel-container",children:(e==null?void 0:e.length)>0?y.jsx(Dz.Carousel,{autoPlay:!0,interval:3e3,infiniteLoop:!0,showStatus:!1,thumbWidth:100,transitionTime:1e3,children:e.map(t=>y.jsx("div",{className:"w-[750px] h-[400px]",children:y.jsx("img",{src:t.url,alt:`Image ${t.imageNo}`,className:"object-cover object-center w-full h-full rounded-lg"})},t.id))}):y.jsx("div",{className:"h-[400px] flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})})}),bWe=()=>{var X;const{t:e}=Jn(),{id:t}=Dk(),i=new AbortController,{signal:o}=i,[s,c]=le.useState(!0),[u,C]=le.useState({}),[m,v]=le.useState({}),[x,G]=le.useState([]),B=le.useCallback(async()=>{await mn.get(`/courtstar/centre/getCentre/${t}`,{signal:o}).then(Q=>{C(Q.data.data),mn.get(`/courtstar/feedback/${t}`).then(j=>{G(j.data.data),console.log(j.data.data)}).catch(j=>{console.log(j.message)}).finally(()=>{c(!1)})}).catch(Q=>{console.log(Q.message)}).finally(()=>{c(!1)})},[t]);le.useEffect(()=>(B(),()=>{i.abort()}),[B]);const[R,V]=le.useState(!1),H=()=>{V(!0)},M=()=>{V(!1)},L=Q=>{H(),v(Q)},_=()=>{const Q=document.getElementById("book");if(Q){const P=Q.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:P,behavior:"smooth"})}};return y.jsxs("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:[s?y.jsx("div",{className:"w-full h-[500px] flex justify-center items-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})}):y.jsx("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-100",children:y.jsxs("div",{className:"max-w-screen-1440 1440:mx-auto mx-4 py-8 px-12 w-full flex flex-col gap-3",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"",children:[y.jsx("div",{className:"text-3xl font-semibold",children:u.name}),y.jsx(y.Fragment,{children:u.currentRate>0?y.jsxs("div",{className:"flex gap-2 my-3",children:[y.jsx(ru,{ratingWrapper:"flex gap-1",value:u.currentRate,editable:!1}),y.jsxs("div",{className:"text-base",children:["(",x.length+" ",x.length==1?e("feedback"):e("feedbacks"),")"]})]}):""})]}),y.jsx(Pn,{label:e("bookNow"),size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",icon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-calendar-plus",children:[y.jsx("path",{d:"M8 2v4"}),y.jsx("path",{d:"M16 2v4"}),y.jsx("path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8"}),y.jsx("path",{d:"M3 10h18"}),y.jsx("path",{d:"M16 19h6"}),y.jsx("path",{d:"M19 16v6"})]}),onClick:_})]}),y.jsxs("div",{className:"w-full flex items-start gap-8",children:[u.images&&y.jsx(t2,{images:u.images}),y.jsx("div",{className:"flex-1 h-full flex flex-col justify-start gap-6",children:y.jsxs("div",{className:"rounded-lg shadow-gray-400 shadow-md",children:[y.jsx("div",{className:"text-white rounded-t-lg bg-primary-green flex items-center justify-center gap-1.5 py-2",children:y.jsx("div",{className:"text-3xl font-medium",children:e("address")})}),y.jsxs("div",{className:"bg-white rounded-b-lg p-5",children:[y.jsxs("div",{className:"font-medium mb-5",children:[u.address,", ",e(u.district)]}),y.jsx("iframe",{src:`https://maps.google.com/maps?q=${u.name}&t=&z=15&ie=UTF8&iwloc=&output=embed`,width:"100%",height:265,style:{border:0,borderRadius:10},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})]})]})})]}),y.jsxs("div",{className:"rounded-lg shadow-gray-400 shadow-md",children:[y.jsx("div",{className:"text-white rounded-t-lg bg-primary-green flex items-center justify-center gap-1.5 py-2",children:y.jsx("span",{className:"text-3xl font-medium",children:e("information")})}),y.jsxs("div",{className:"bg-white p-5 flex rounded-b-lg",children:[y.jsxs("div",{className:"flex flex-col gap-3 w-1/2",children:[y.jsxs("div",{className:"",children:[y.jsxs("span",{className:"font-semibold",children:[e("openTime"),": "]}),`${xt(u.openTime,"HH:mm:ss").format("H")}h
                    - ${xt(u.closeTime,"HH:mm:ss").format("H")}h`]}),y.jsxs("div",{className:"",children:[y.jsxs("span",{className:"font-semibold",children:[e("numberOfCourts"),": "]}),u.numberOfCourts]}),y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[e("price"),": "]}),y.jsxs("span",{className:"font-semibold text-rose-600",children:[(X=u==null?void 0:u.pricePerHour)==null?void 0:X.toLocaleString("de-DE")," VND/h"]})]})]}),y.jsxs("div",{className:"w-1/2",children:[y.jsxs("span",{className:"font-semibold",children:[e("description"),":"]}),y.jsx("div",{dangerouslySetInnerHTML:{__html:u.description}})]})]})]}),y.jsxs("div",{id:"book",className:"flex-1 rounded-lg shadow-gray-400 shadow-md",children:[y.jsx("div",{className:"text-white rounded-t-lg bg-primary-green flex items-center justify-center gap-1.5 py-2",children:y.jsx("span",{className:"text-3xl font-medium",children:e("calendar")})}),y.jsx("div",{className:"bg-white rounded-b-lg p-8 pt-0",children:y.jsx("div",{className:"",children:y.jsx(Hz,{handleButton:L,typeOfCalendar:"booking",centre:u})})})]}),y.jsxs("div",{id:"top",className:"flex-1 bg-white rounded-lg shadow-gray-400 shadow-md",children:[y.jsx("div",{className:"text-white rounded-t-lg bg-primary-green flex items-center justify-center gap-1.5 py-2",children:y.jsx("span",{className:"text-3xl font-medium",children:"Feedbacks"})}),y.jsx("div",{className:"",children:y.jsx(QN,{listItem:x,itemsPerPage:5})})]})]})}),y.jsx(xFe,{isOpen:R,setIsOpen:M,formCalendar:m,centre:u})]})},Yz="/assets/register-DkpB5N4S.jpg";function yWe(){const{t:e}=Jn(),t=Gd(),{dispatch:i}=_d(),[o,s]=le.useState(!1),[c,u]=le.useState(!1),C=B=>{s(B.target.checked)},[m,v]=le.useState({email:"",password:"",phone:"",firstName:"",lastName:"",address:""}),x=B=>{const{name:R,value:V}=B.target;v(H=>({...H,[R]:V}))},G=async()=>{u(!0),await mn.post("/courtstar/account/partner",m).then(B=>{sn.success("Register successfully!",{toastId:"register-success"}),mn.post("/courtstar/auth/token",m).then(R=>{const V=R.data;localStorage.setItem("token",V.data.token),localStorage.setItem("role",V.data.role),i({type:"LOGIN",payload:{token:V.data.token,role:V.data.role}}),t("/myCentre/balance")}).catch(R=>{}).finally(()=>{})}).catch(B=>{sn.error(B.message,{toastId:"register-error"})}).finally(()=>{u(!1)})};return y.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:y.jsxs("div",{className:"max-h-[800px] overflow-hidden flex items-center",children:[y.jsx("div",{className:"bg-gray-500 basis-1/2",children:y.jsx("img",{src:Yz,alt:"register",className:"object-contain"})}),y.jsx("div",{className:"basis-1/2",children:y.jsxs("div",{className:"max-w-lg mx-auto py-8 px-4 bg-white",children:[y.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:e("partnerRegister")}),y.jsxs("div",{children:[y.jsxs("div",{className:"mb-4 flex gap-5",children:[y.jsx(Nn,{id:"firstName",name:"firstName",placeholder:e("enterFirstName"),label:e("firstName"),value:m.firstName,onchange:x}),y.jsx(Nn,{id:"lastName",name:"lastName",placeholder:e("enterLastName"),label:e("lastName"),value:m.lastName,onchange:x})]}),y.jsx("div",{className:"mb-4",children:y.jsx(Nn,{id:"email",name:"email",placeholder:e("enterEmail"),label:"Email*",value:m.email,onchange:x})}),y.jsx("div",{className:"mb-4",children:y.jsx(Nn,{id:"phone",name:"phone",placeholder:e("enterPhone"),label:e("phone"),value:m.phone,onchange:x})}),y.jsx("div",{className:"mb-4",children:y.jsx(Nn,{id:"address",name:"address",placeholder:e("enterAddress"),label:e("address"),value:m.address,onchange:x})}),y.jsxs("div",{className:"mb-6",children:[y.jsx(Xp,{id:"password",name:"password",placeholder:e("enterPassword"),label:e("password"),value:m.password,onchange:x,evaluate:!0}),y.jsx("div",{className:"text-gray-500 text-xs py-1 px-0.5",children:e("conditionPassword")})]}),y.jsxs("div",{className:"flex items-center justify-center mb-5",children:[y.jsx("div",{className:"flex items-center h-5",children:y.jsx("input",{id:"terms",type:"checkbox",value:"ON",className:"",required:!0,onChange:C})}),y.jsxs("label",{className:"ms-2 text-sm font-medium",children:[e("agreeToOur")," ",y.jsx("a",{href:"#tou",className:"underline",children:e("termOfUse")})," ",e("and")," ",y.jsxs("a",{href:"#pp",className:"underline",children:[" ",e("privacyPolicy")]})]})]}),y.jsx("div",{className:"flex items-center justify-center",children:y.jsx("div",{className:"w-52",children:y.jsx(Pn,{label:e("signUp"),size:"large",fullRounded:!0,fullWidth:!0,className:"bg-primary-green hover:bg-teal-900 text-white",disabled:!o,onClick:G,loading:c})})}),y.jsxs("div",{className:"mt-10 text-sm text-center justify-center flex gap-1.5",children:[y.jsxs("span",{children:[e("alreadyHaveAnAccount"),"?"]}),y.jsx("a",{className:"font-semibold underline text-sm",href:"#login",children:e("logIn")})]})]})]})})]})})}function vWe(){const e=Gd(),{t}=Jn(),[i,o]=le.useState(!1),{dispatch:s}=_d(),[c,u]=le.useState(!1),C=V=>{u(V.target.checked)},[m,v]=le.useState({email:"",password:"",phone:"",firstName:"",lastName:""}),[x,G]=le.useState(!1),B=V=>{const{name:H,value:M}=V.target;v(L=>({...L,[H]:M}))},R=async()=>{if(Object.values(m).some(V=>V==="")){G(!0);return}o(!0),await mn.post("/courtstar/account",m).then(V=>{sn.success("Register successfully!",{toastId:"register-success"}),mn.post("/courtstar/auth/token",m).then(H=>{const M=H.data;localStorage.setItem("token",M.data.token),localStorage.setItem("role",M.data.role),s({type:"LOGIN",payload:{token:M.data.token,role:M.data.role}}),e("/")}).catch(H=>{}).finally(()=>{})}).catch(V=>{sn.error(V.message,{toastId:"register-error"})}).finally(()=>{o(!1)})};return y.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:y.jsxs("div",{className:"max-h-[800px] overflow-hidden flex items-center",children:[y.jsx("div",{className:"bg-gray-500 basis-1/2",children:y.jsx("img",{src:Yz,alt:"register",className:"object-contain"})}),y.jsx("div",{className:"basis-1/2",children:y.jsxs("div",{className:"max-w-lg mx-auto py-8 px-4 bg-white",children:[y.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:t("customerRegister")}),y.jsxs("div",{children:[y.jsxs("div",{className:"mb-4 flex gap-5",children:[y.jsx(Nn,{id:"firstName",name:"firstName",placeholder:t("enterFirstName"),label:t("firstName"),value:m.firstName,onchange:B,error:x&&!m.firstName,errorMsg:t("plsEnterFirstName")}),y.jsx(Nn,{id:"lastName",name:"lastName",placeholder:t("enterLastName"),label:t("lastName"),value:m.lastName,onchange:B,error:x&&!m.lastName,errorMsg:t("plsEnterLastName")})]}),y.jsx("div",{className:"mb-4",children:y.jsx(Nn,{id:"email",name:"email",placeholder:t("enterEmail"),label:"Email*",value:m.email,onchange:B,error:x&&!m.email,errorMsg:t("plsEnterEmail")})}),y.jsx("div",{className:"mb-4",children:y.jsx(Nn,{id:"phone",name:"phone",placeholder:t("enterPhone"),label:t("phone"),value:m.phone,onchange:B,error:x&&!m.phone,errorMsg:t("plsEnterPhone")})}),y.jsxs("div",{className:"mb-6",children:[y.jsx(Xp,{id:"password",name:"password",placeholder:t("enterPassword"),label:t("password"),value:m.password,onchange:B,evaluate:!0,error:x&&!m.password,errorMsg:t("plsEnterPassword")}),!(x&&!m.password)&&y.jsx("div",{className:"text-gray-500 text-xs py-1 px-0.5",children:t("conditionPassword")})]}),y.jsxs("div",{className:"flex items-center justify-center mb-5",children:[y.jsx("div",{className:"flex items-center h-5",children:y.jsx("input",{id:"terms",type:"checkbox",value:"ON",className:"",required:!0,onChange:C})}),y.jsxs("label",{className:"ms-2 text-sm font-medium",children:[t("agreeToOur")," ",y.jsx("a",{href:"#tou",className:"underline",children:t("termOfUse")})," ",t("and")," ",y.jsxs("a",{href:"#pp",className:"underline",children:[" ",t("privacyPolicy")]})]})]}),y.jsx("div",{className:"flex items-center justify-center",children:y.jsx("div",{className:"w-52",children:y.jsx(Pn,{label:t("signUp"),size:"large",fullRounded:!0,fullWidth:!0,className:"bg-primary-green hover:bg-teal-900 text-white shadow",disabled:!c,onClick:R,loading:i})})}),y.jsx("div",{className:"flex justify-center my-5 ",children:y.jsxs("a",{className:"text-sm border shadow rounded-full py-3 px-4 w-96 inline-flex items-center hover:bg-gray-200 transition-all duration-300 ease-in-out",href:"http://localhost:8080/courtstar/account/createEmail",target:"_blank",rel:"noreferrer",children:[y.jsx("img",{className:"mx-7",src:FU,alt:"google"}),t("signUpWithGoogleAccount")]})}),y.jsxs("div",{className:"mt-10 text-sm text-center justify-center flex gap-1.5",children:[y.jsxs("span",{children:[t("alreadyHaveAnAccount"),"?"]}),y.jsx("a",{className:"font-semibold underline text-sm",href:"#login",children:t("logIn")})]})]})]})})]})})}const Ja=({endNumber:e,duration:t,prefix:i="",postfix:o=""})=>{const[s,c]=le.useState(0);return le.useEffect(()=>{let u=0;const C=t,m=1e3/60,v=(e-u)/(C/m),x=setInterval(()=>{u+=v,u>=e&&(u=e,clearInterval(x)),c(Math.ceil(u))},m);return()=>clearInterval(x)},[e,t]),y.jsx("div",{children:y.jsxs("div",{children:[i,s.toLocaleString("de-DE"),o]})})},wWe=le.forwardRef((e,t)=>{const{t:i}=Jn(),[o,s]=le.useState(!0),[c,u]=le.useState([]),[C,m]=le.useState([]),[v,x]=le.useState(""),[G,B]=le.useState(""),[R,V]=le.useState(""),[H,M]=le.useState(""),[L,_]=le.useState("all"),[X,Q]=le.useState(1),j=[{key:1,label:i("allRequest")},{key:2,label:i("Pending")},{key:3,label:i("Accepted")},{key:4,label:i("Denied")}],re=[{key:"all",label:i("allRequest")},{key:"asc",label:i("Ascending")},{key:"dsc",label:i("Descending")}];le.useImperativeHandle(t,()=>({increment(){de()}}));const P=new AbortController,{signal:O}=P,de=async()=>{try{const ne=(await mn.get("/courtstar/transfer-money/manager/all",{signal:O})).data.data.sort((oe,be)=>be.id-oe.id);u(ne)}catch(ce){console.log(ce.message)}finally{s(!1)}};return le.useEffect(()=>(de(),()=>{P.abort()}),[]),le.useEffect(()=>{(()=>{let ne=c;v&&(ne=ne.filter(oe=>oe.nameBanking.toLowerCase().includes(v.toLowerCase()))),G&&(ne=ne.filter(oe=>oe.numberBanking.toLowerCase().includes(G.toLowerCase()))),R&&(ne=ne.filter(oe=>oe.cardHolderName.toLowerCase().includes(R.toLowerCase()))),H&&(ne=ne.filter(oe=>oe.amount.toString().includes(H))),L&&L!=="all"&&(ne=ne.slice().sort((oe,be)=>L==="asc"?xt(oe.dateCreateWithdrawalOrder).diff(be.dateCreateWithdrawalOrder):L==="dsc"?xt(be.dateCreateWithdrawalOrder).diff(oe.dateCreateWithdrawalOrder):0)),X&&X!==1&&(ne=ne.filter(oe=>X===2?!oe.dateAuthenticate:X===3?oe.status:X===4?!oe.status&&oe.dateAuthenticate:!0)),m(ne)})()},[v,G,R,H,L,X,c]),o?y.jsx("div",{className:"h-[300px] flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})}):y.jsxs("div",{className:"mt-4",children:[y.jsxs("div",{className:"bg-white shadow rounded-xl",children:[y.jsx("div",{className:"text-center font-semibold text-white py-1.5 text-2xl bg-primary-green rounded-t-xl",children:i("withdrawalHistory")}),(c==null?void 0:c.length)>0?y.jsxs("div",{className:"px-10 py-4 grid grid-cols-12 gap-2",children:[y.jsx("div",{className:"col-span-2",children:y.jsx(Nn,{placeholder:i("enterNameBank"),label:i("bankName"),value:v,onchange:ce=>x(ce.target.value)})}),y.jsx("div",{className:"col-span-2",children:y.jsx(Nn,{placeholder:i("enterAccountNumber"),label:i("accountNumber"),value:G,onchange:ce=>B(ce.target.value)})}),y.jsx("div",{className:"col-span-2",children:y.jsx(Nn,{placeholder:i("enterCardholderName"),label:i("cardholderName"),value:R,onchange:ce=>V(ce.target.value)})}),y.jsx("div",{className:"col-span-2",children:y.jsx(Nn,{placeholder:i("enterAmount"),label:i("amount"),value:H,onchange:ce=>M(ce.target.value)})}),y.jsx("div",{className:"col-span-2",children:y.jsx(ho,{placeholder:i("selectDateCreate"),label:i("dateCreate"),items:re,onSelect:ce=>_((ce==null?void 0:ce.key)??"all")})}),y.jsx("div",{className:"col-span-2",children:y.jsx(ho,{label:i("status"),items:j,onSelect:ce=>Q(ce.key),placeholder:i("selectStatus")})})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-3xl text-primary mx-auto",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"250",height:"250",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search-x",children:[y.jsx("path",{d:"m13.5 8.5-5 5"}),y.jsx("path",{d:"m8.5 8.5 5 5"}),y.jsx("circle",{cx:"11",cy:"11",r:"8"}),y.jsx("path",{d:"m21 21-4.3-4.3"})]}),"No request found."]})]}),y.jsx("div",{className:"mt-2 font-medium",children:C==null?void 0:C.map(ce=>y.jsxs("div",{className:"bg-white px-10 py-2 grid grid-cols-12 gap-2 mt-2 rounded-lg shadow",onClick:()=>{},children:[y.jsx("div",{className:"col-span-2 px-3 flex items-center truncate",children:ce==null?void 0:ce.nameBanking}),y.jsx("div",{className:"col-span-2 px-3 flex items-center truncate",children:ce==null?void 0:ce.numberBanking}),y.jsx("div",{className:"col-span-2 flex items-center justify-center",children:ce==null?void 0:ce.cardHolderName}),y.jsxs("div",{className:"col-span-2 flex items-center justify-center",children:[ce==null?void 0:ce.amount.toLocaleString("de-DE")," VND"]}),y.jsx("div",{className:"col-span-2 flex flex-col justify-center items-center font-semibold",children:xt(ce==null?void 0:ce.dateCreateWithdrawalOrder).format("yyyy-MM-DD")}),ce!=null&&ce.dateAuthenticate?y.jsx(y.Fragment,{children:ce!=null&&ce.status?y.jsx("div",{className:"col-span-2 text-xs mx-auto py-1 px-2 text-white bg-primary-green w-fit font-semibold rounded",children:i("Accepted")}):y.jsx("div",{className:"col-span-2 text-xs mx-auto py-1 px-2 text-white bg-rose-500 w-fit font-semibold rounded",children:i("Denied")})}):y.jsx("div",{className:"col-span-2 text-xs mx-auto py-1 px-2 text-white bg-yellow-400 w-fit font-semibold rounded",children:i("Pending")})]},ce.id))})]})}),Jz=({bankName:e,cardHolderName:t,number:i})=>y.jsx("div",{className:"credit-card flex justify-center items-center",children:y.jsx("div",{className:"flip-card",children:y.jsxs("div",{className:"flip-card-inner",children:[y.jsxs("div",{className:"flip-card-front",children:[y.jsx("p",{className:"heading_8264",children:"COURTSTAR"}),y.jsx("img",{src:"/favicon.svg",alt:"favicon",className:"logo w-8"}),y.jsxs("svg",{version:"1.1",className:"chip",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"30px",height:"30px",viewBox:"0 0 50 50",xmlSpace:"preserve",children:["  ",y.jsx("image",{id:"image0",width:"50",height:"50",x:"0",y:"0",href:`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAABGdBTUEAALGPC/xhBQAAACBjSFJN\r
                AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB6VBMVEUAAACNcTiVeUKVeUOY\r
                fEaafEeUeUSYfEWZfEaykleyklaXe0SWekSZZjOYfEWYe0WXfUWXe0WcgEicfkiXe0SVekSXekSW\r
                ekKYe0a9nF67m12ZfUWUeEaXfESVekOdgEmVeUWWekSniU+VeUKVeUOrjFKYfEWliE6WeESZe0GS\r
                e0WYfES7ml2Xe0WXeESUeEOWfEWcf0eWfESXe0SXfEWYekSVeUKXfEWxklawkVaZfEWWekOUekOW\r
                ekSYfESZe0eXekWYfEWZe0WZe0eVeUSWeETAnmDCoWLJpmbxy4P1zoXwyoLIpWbjvXjivnjgu3bf\r
                u3beunWvkFWxkle/nmDivXiWekTnwXvkwHrCoWOuj1SXe0TEo2TDo2PlwHratnKZfEbQrWvPrWua\r
                fUfbt3PJp2agg0v0zYX0zYSfgkvKp2frxX7mwHrlv3rsxn/yzIPgvHfduXWXe0XuyIDzzISsjVO1\r
                lVm0lFitjVPzzIPqxX7duna0lVncuHTLqGjvyIHeuXXxyYGZfUayk1iyk1e2lln1zYTEomO2llrb\r
                tnOafkjFpGSbfkfZtXLhvHfkv3nqxH3mwXujhU3KqWizlFilh06khk2fgkqsjlPHpWXJp2erjVOh\r
                g0yWe0SliE+XekShhEvAn2D///+gx8TWAAAARnRSTlMACVCTtsRl7Pv7+vxkBab7pZv5+ZlL/UnU\r
                /f3SJCVe+Fx39naA9/75XSMh0/3SSkia+pil/KRj7Pr662JPkrbP7OLQ0JFOijI1MwAAAAFiS0dE\r
                orDd34wAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnAg0IDx2lsiuJAAACLElEQVRIx2Ng\r
                GAXkAUYmZhZWPICFmYkRVQcbOwenmzse4MbFzc6DpIGXj8PD04sA8PbhF+CFaxEU8iWkAQT8hEVg\r
                OkTF/InR4eUVICYO1SIhCRMLDAoKDvFDVhUaEhwUFAjjSUlDdMiEhcOEItzdI6OiYxA6YqODIt3d\r
                I2DcuDBZsBY5eVTr4xMSYcyk5BRUOXkFsBZFJTQnp6alQxgZmVloUkrKYC0qqmji2WE5EEZuWB6a\r
                lKoKdi35YQUQRkFYPpFaCouKIYzi6EDitJSUlsGY5RWVRGjJLyxNy4ZxqtIqqvOxaVELQwZFZdkI\r
                JVU1RSiSalAt6rUwUBdWG1CP6pT6gNqwOrgCdQyHNYR5YQFhDXj8MiK1IAeyN6aORiyBjByVTc0F\r
                qBoKWpqwRCVSgilOaY2OaUPw29qjOzqLvTAchpos47u6EZyYnngUSRwpuTe6D+6qaFQdOPNLRzOM\r
                1dzhRZyW+CZouHk3dWLXglFcFIflQhj9YWjJGlZcaKAVSvjyPrRQ0oQVKDAQHlYFYUwIm4gqExGm\r
                BSkutaVQJeomwViTJqPK6OhCy2Q9sQBk8cY0DxjTJw0lAQWK6cOKfgNhpKK7ZMpUeF3jPa28BCET\r
                amiEqJKM+X1gxvWXpoUjVIVPnwErw71nmpgiqiQGBjNzbgs3j1nus+fMndc+Cwm0T52/oNR9lsdC\r
                S24ra7Tq1cbWjpXV3sHRCb1idXZ0sGdltXNxRateRwHRAACYHutzk/2I5QAAACV0RVh0ZGF0ZTpj\r
                cmVhdGUAMjAyMy0wMi0xM1QwODoxNToyOSswMDowMEUnN7UAAAAldEVYdGRhdGU6bW9kaWZ5ADIw\r
                MjMtMDItMTNUMDg6MTU6MjkrMDA6MDA0eo8JAAAAKHRFWHRkYXRlOnRpbWVzdGFtcAAyMDIzLTAy\r
                LTEzVDA4OjE1OjI5KzAwOjAwY2+u1gAAAABJRU5ErkJggg==`})]}),y.jsxs("svg",{version:"1.1",className:"contactless",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 50 50",xmlSpace:"preserve",children:["  ",y.jsx("image",{id:"image0",width:"50",height:"50",x:"0",y:"0",href:`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAQAAAC0NkA6AAAABGdBTUEAALGPC/xhBQAAACBjSFJN\r
                AAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZ\r
                cwAACxMAAAsTAQCanBgAAAAHdElNRQfnAg0IEzgIwaKTAAADDklEQVRYw+1XS0iUURQ+f5qPyjQf\r
                lGRFEEFK76koKGxRbWyVVLSOgsCgwjZBJJYuKogSIoOonUK4q3U0WVBWFPZYiIE6kuArG3VGzK/F\r
                fPeMM/MLt99/NuHdfPd888/57jn3nvsQWWj/VcMlvMMd5KRTogqx9iCdIjUUmcGR9ImUYowyP3xN\r
                GQJoRLVaZ2DaZf8kyjEJALhI28ELioyiwC+Rc3QZwRYyO/DH51hQgWm6DMIh10KmD4u9O16K49it\r
                VoPOAmcGAWWOepXIRScAoJZ2Frro8oN+EyTT6lWkkg6msZfMSR35QTJmjU0g15tIGSJ08ZZMJkJk\r
                HpNZgSkyXosS13TkJpZ62mPIJvOSzC1bp8vRhhCakEk7G9/o4gmZdbpsTcKu0m63FbnBP9Qrc15z\r
                bkbemfgNDtEOI8NO5L5O9VYyRYgmJayZ9nPaxZrSjW4+F6Uw9yQqIiIZwhp2huQTf6OIvCZyGM6g\r
                DJBZbyXifJXr7FZjGXsdxADxI7HUJFB6iWvsIhFpkoiIiGTJfjJfiCuJg2ZEspq9EHGVpYgzKqwJ\r
                qSAOEwuJQ/pxPvE3cYltJCLdxBLiSKKIE5HxJKcTRNeadxfhDiuYw44zVs1dxKwRk/uCxIiQkxKB\r
                sSctRVAge9g1E15EHE6yRUaJecRxcWlukdRIbGFOSZCMWQA/iWauIP3slREHXPyliqBcrrD71Amz\r
                Z+rD1Mt2Yr8TZc/UR4/YtFnbijnHi3UrN9vKQ9rPaJf867ZiaqDB+czeKYmd3pNa6fuI75MiC0uX\r
                XSR5aEMf7s7a6r/PudVXkjFb/SsrCRfROk0Fx6+H1i9kkTGn/E1vEmt1m089fh+RKdQ5O+xNJPUi\r
                cUIjO0Dm7HwvErEr0YxeibL1StSh37STafE4I7zcBdRq1DiOkdmlTJVnkQTBTS7X1FYyvfO4piaI\r
                nKbDCDaT2anLudYXCRFsQBgAcIF2/Okwgvz5+Z4tsw118dzruvIvjhTB+HOuWy8UvovEH6beitBK\r
                xDyxm9MmISKCWrzB7bSlaqGlsf0FC0gMjzTg6GgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjMtMDIt\r
                MTNUMDg6MTk6NTYrMDA6MDCjlq7LAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIzLTAyLTEzVDA4OjE5\r
                OjU2KzAwOjAw0ssWdwAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMy0wMi0xM1QwODoxOTo1Nisw\r
                MDowMIXeN6gAAAAASUVORK5CYII=`})]}),y.jsx("p",{className:"number",children:i==null?void 0:i.replace(/(\d{4})(?=\d)/g,"$1 ")}),y.jsx("p",{className:"absolute bottom-9 text-xs left-[15px] uppercase",children:t}),y.jsx("p",{className:"bank",children:e})]}),y.jsxs("div",{className:"flip-card-back",children:[y.jsx("div",{className:"strip"}),y.jsx("div",{className:"mstrip"}),y.jsx("div",{className:"sstrip",children:y.jsx("p",{className:"code",children:"***"})})]})]})})});function kWe(e){const{t}=Jn(),[i,o]=le.useState(),[s,c]=le.useState(!1),[u,C]=le.useState(!1),[m,v]=le.useState({nameBanking:"",numberBanking:"",amount:"",cardHolderName:""}),x=le.useRef();le.useEffect(()=>{e.balanceDetail&&o(e.balanceDetail)},[e.balanceDetail]);const G=V=>{const{name:H,value:M}=V.target;v(L=>({...L,[H]:M}))},B=async()=>{C(!0),await mn.post(`/courtstar/transfer-money/create-withdrawal/${i.id}`,m).then(V=>{V.data.data&&(sn.success("Create request withdrawal success!",{toastId:"create-request-withdrawal-success"}),c(!1),v({nameBanking:"",numberBanking:"",amount:"",cardHolderName:""}),x.current.increment())}).catch(V=>{console.log(V.message),sn.error("Create request withdrawal error!",{toastId:"create-request-withdrawal-error"})}).finally(()=>{C(!1)})},R=y.jsxs("div",{className:"flex flex-col gap-3 w-[440px]",children:[y.jsx("div",{className:"",children:y.jsx(Jz,{bankName:m.nameBanking,cardHolderName:m.cardHolderName,number:m.numberBanking})}),y.jsx(Nn,{id:"nameBanking",name:"nameBanking",label:"Bank's name",value:m.nameBanking,placeholder:"Enter your bank's name",onchange:G}),y.jsx(Nn,{id:"numberBanking",name:"numberBanking",label:"Bank account number",value:m.numberBanking,placeholder:"Enter your bank account number",onchange:G}),y.jsx(Nn,{id:"cardHolderName",name:"cardHolderName",label:"Holder name",value:m.cardHolderName.toUpperCase(),placeholder:"Enter your bank account holder name",onchange:G}),y.jsx(Nn,{type:"number",id:"amount",name:"amount",label:"Amount",value:m.amount,placeholder:"Enter amount of money",onchange:G}),y.jsx(Pn,{label:t("confirm"),fullWidth:!0,fullRounded:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",onClick:B,loading:u})]});return i?y.jsxs("div",{className:"w-full my-6 rounded-lg",children:[y.jsx(Ll,{isOpen:s,html:R,setIsOpen:()=>{c(!1),v({nameBanking:"",numberBanking:"",amount:"",cardHolderName:""})},centreInfo:!0,title:"Your Information"}),y.jsxs("div",{className:"w-full h-[20rem] rounded-lg relative flex justify-between shadow-lg",children:[y.jsx("div",{className:"absolute w-full h-full overflow-hidden rounded-lg",children:y.jsx("img",{src:"/images/bg-balance.svg",alt:"bg-balance",className:"object-cover object-center w-full h-full"})}),y.jsxs("div",{className:"z-10 px-20 w-full flex flex-col gap-10 justify-center",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-2xl font-semibold mb-2",children:t("myBalance")}),y.jsxs("div",{className:"text-5xl flex gap-2 font-bold",children:[y.jsx(Ja,{endNumber:i==null?void 0:i.currentBalance,duration:1e3}),y.jsx("span",{className:"text-base",children:"VND"})]})]}),y.jsx("div",{children:y.jsx(Pn,{label:t("withdraw"),size:"large",className:"bg-slate-200 hover:bg-primary-green hover:text-white font-semibold text-primary-green",icon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-hand-coins",children:[y.jsx("path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17"}),y.jsx("path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9"}),y.jsx("path",{d:"m2 16 6 6"}),y.jsx("circle",{cx:"16",cy:"9",r:"2.9"}),y.jsx("circle",{cx:"6",cy:"5",r:"3"})]}),onClick:()=>c(!0)})})]}),y.jsxs("div",{className:"flex gap-10",children:[y.jsxs("div",{className:"py-3 px-5 w-full shadow-md rounded-lg bg-white font-semibold",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("div",{children:t("todayIncome")}),(i==null?void 0:i.percent.income)>=0?y.jsx("div",{className:"text-xs text-teal-600",children:y.jsx(Ja,{endNumber:i==null?void 0:i.percent.income,duration:1e3,postfix:"%",prefix:"+"})}):y.jsx("div",{className:"text-xs text-red-600",children:y.jsx(Ja,{endNumber:i==null?void 0:i.percent.income,duration:1e3,postfix:"%"})})]}),y.jsxs("div",{className:"text-lg flex gap-0.5 font-bold",children:[y.jsx(Ja,{endNumber:i==null?void 0:i.todayIncome,duration:1e3}),y.jsx("span",{className:"text-[7px]",children:"VND"})]})]}),y.jsxs("div",{className:"py-3 px-5 w-full shadow-md rounded-lg bg-white font-semibold",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("div",{children:t("todayBookings")}),(i==null?void 0:i.percent.booking)>=0?y.jsx("div",{className:"text-xs text-teal-600",children:y.jsx(Ja,{endNumber:i==null?void 0:i.percent.booking,duration:1e3,postfix:"%",prefix:"+"})}):y.jsx("div",{className:"text-xs text-red-600",children:y.jsx(Ja,{endNumber:i==null?void 0:i.percent.booking,duration:1e3,postfix:"%"})})]}),y.jsx("div",{className:"text-lg flex gap-0.5 font-bold",children:y.jsx(Ja,{endNumber:i==null?void 0:i.todayBookings,duration:1e3})})]}),y.jsxs("div",{className:"py-3 px-5 w-full shadow-md rounded-lg bg-white font-semibold",children:[t("pending"),y.jsxs("div",{className:"text-lg flex gap-0.5 font-bold mt-2",children:[y.jsx(Ja,{endNumber:i==null?void 0:i.pending,duration:1e3}),y.jsx("span",{className:"text-[7px]",children:"VND"})]})]}),y.jsxs("div",{className:"py-3 px-5 w-full shadow-md rounded-lg bg-white font-semibold",children:[t("weekRevenue"),y.jsxs("div",{className:"text-lg flex gap-0.5 font-bold mt-2",children:[y.jsx(Ja,{endNumber:i==null?void 0:i.weekRevenue,duration:1e3}),y.jsx("span",{className:"text-[7px]",children:"VND"})]})]})]})]})]}),y.jsx("div",{children:y.jsx(wWe,{ref:x})})]}):y.jsx("div",{className:"h-[500px] flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})})}var KX={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz=function(e){const t=[];let i=0;for(let o=0;o<e.length;o++){let s=e.charCodeAt(o);s<128?t[i++]=s:s<2048?(t[i++]=s>>6|192,t[i++]=s&63|128):(s&64512)===55296&&o+1<e.length&&(e.charCodeAt(o+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++o)&1023),t[i++]=s>>18|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128,t[i++]=s&63|128):(t[i++]=s>>12|224,t[i++]=s>>6&63|128,t[i++]=s&63|128)}return t},BWe=function(e){const t=[];let i=0,o=0;for(;i<e.length;){const s=e[i++];if(s<128)t[o++]=String.fromCharCode(s);else if(s>191&&s<224){const c=e[i++];t[o++]=String.fromCharCode((s&31)<<6|c&63)}else if(s>239&&s<365){const c=e[i++],u=e[i++],C=e[i++],m=((s&7)<<18|(c&63)<<12|(u&63)<<6|C&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=e[i++],u=e[i++];t[o++]=String.fromCharCode((s&15)<<12|(c&63)<<6|u&63)}}return t.join("")},Pz={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let s=0;s<e.length;s+=3){const c=e[s],u=s+1<e.length,C=u?e[s+1]:0,m=s+2<e.length,v=m?e[s+2]:0,x=c>>2,G=(c&3)<<4|C>>4;let B=(C&15)<<2|v>>6,R=v&63;m||(R=64,u||(B=64)),o.push(i[x],i[G],i[B],i[R])}return o.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Uz(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):BWe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let s=0;s<e.length;){const c=i[e.charAt(s++)],C=s<e.length?i[e.charAt(s)]:0;++s;const v=s<e.length?i[e.charAt(s)]:64;++s;const G=s<e.length?i[e.charAt(s)]:64;if(++s,c==null||C==null||v==null||G==null)throw new xWe;const B=c<<2|C>>4;if(o.push(B),v!==64){const R=C<<4&240|v>>2;if(o.push(R),G!==64){const V=v<<6&192|G;o.push(V)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class xWe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SWe=function(e){const t=Uz(e);return Pz.encodeByteArray(t,!0)},rk=function(e){return SWe(e).replace(/\./g,"")},ZWe=function(e){try{return Pz.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GWe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RWe=()=>GWe().__FIREBASE_DEFAULTS__,NWe=()=>{if(typeof process>"u"||typeof KX>"u")return;const e=KX.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},_We=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ZWe(e[1]);return t&&JSON.parse(t)},Kz=()=>{try{return RWe()||NWe()||_We()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},VWe=e=>{var t,i;return(i=(t=Kz())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[e]},EWe=e=>{const t=VWe(e);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),o]:[t.substring(0,i),o]},zz=()=>{var e;return(e=Kz())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FWe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WWe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},o=t||"demo-project",s=e.iat||0,c=e.sub||e.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:s,exp:s+3600,auth_time:s,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},e);return[rk(JSON.stringify(i)),rk(JSON.stringify(u)),""].join(".")}function HWe(){try{return typeof indexedDB=="object"}catch{return!1}}function DWe(){return new Promise((e,t)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(o);s.onsuccess=()=>{s.result.close(),i||self.indexedDB.deleteDatabase(o),e(!0)},s.onupgradeneeded=()=>{i=!1},s.onerror=()=>{var c;t(((c=s.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TWe="FirebaseError";class mC extends Error{constructor(t,i,o){super(i),this.code=t,this.customData=o,this.name=TWe,Object.setPrototypeOf(this,mC.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qz.prototype.create)}}class Qz{constructor(t,i,o){this.service=t,this.serviceName=i,this.errors=o}create(t,...i){const o=i[0]||{},s=`${this.service}/${t}`,c=this.errors[t],u=c?LWe(c,o):"Error",C=`${this.serviceName}: ${u} (${s}).`;return new mC(s,C,o)}}function LWe(e,t){return e.replace(XWe,(i,o)=>{const s=t[o];return s!=null?String(s):`<${o}?>`})}const XWe=/\{\$([^}]+)}/g;function KZ(e,t){if(e===t)return!0;const i=Object.keys(e),o=Object.keys(t);for(const s of i){if(!o.includes(s))return!1;const c=e[s],u=t[s];if(zX(c)&&zX(u)){if(!KZ(c,u))return!1}else if(c!==u)return!1}for(const s of o)if(!i.includes(s))return!1;return!0}function zX(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(e){return e&&e._delegate?e._delegate:e}class pb{constructor(t,i,o){this.name=t,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MWe{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const o=new FWe;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:i});s&&o.resolve(s)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(s)return null;throw c}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(JWe(t))try{this.getOrInitializeService({instanceIdentifier:ju})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:s});o.resolve(c)}catch{}}}}clearInstance(t=ju){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ju){return this.instances.has(t)}getOptions(t=ju){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[c,u]of this.instancesDeferred.entries()){const C=this.normalizeInstanceIdentifier(c);o===C&&u.resolve(s)}return s}onInit(t,i){var o;const s=this.normalizeInstanceIdentifier(i),c=(o=this.onInitCallbacks.get(s))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(s,c);const u=this.instances.get(s);return u&&t(u,s),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const o=this.onInitCallbacks.get(i);if(o)for(const s of o)try{s(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:YWe(t),options:i}),this.instances.set(t,o),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=ju){return this.component?this.component.multipleInstances?t:ju:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YWe(e){return e===ju?void 0:e}function JWe(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UWe{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new MWe(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ir;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ir||(Ir={}));const PWe={debug:Ir.DEBUG,verbose:Ir.VERBOSE,info:Ir.INFO,warn:Ir.WARN,error:Ir.ERROR,silent:Ir.SILENT},KWe=Ir.INFO,zWe={[Ir.DEBUG]:"log",[Ir.VERBOSE]:"log",[Ir.INFO]:"info",[Ir.WARN]:"warn",[Ir.ERROR]:"error"},QWe=(e,t,...i)=>{if(t<e.logLevel)return;const o=new Date().toISOString(),s=zWe[t];if(s)console[s](`[${o}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let jWe=class{constructor(t){this.name=t,this._logLevel=KWe,this._logHandler=QWe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ir))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?PWe[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ir.DEBUG,...t),this._logHandler(this,Ir.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ir.VERBOSE,...t),this._logHandler(this,Ir.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ir.INFO,...t),this._logHandler(this,Ir.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ir.WARN,...t),this._logHandler(this,Ir.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ir.ERROR,...t),this._logHandler(this,Ir.ERROR,...t)}};const OWe=(e,t)=>t.some(i=>e instanceof i);let QX,jX;function qWe(){return QX||(QX=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $We(){return jX||(jX=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jz=new WeakMap,zZ=new WeakMap,Oz=new WeakMap,IS=new WeakMap,$N=new WeakMap;function e3e(e){const t=new Promise((i,o)=>{const s=()=>{e.removeEventListener("success",c),e.removeEventListener("error",u)},c=()=>{i(MA(e.result)),s()},u=()=>{o(e.error),s()};e.addEventListener("success",c),e.addEventListener("error",u)});return t.then(i=>{i instanceof IDBCursor&&jz.set(i,e)}).catch(()=>{}),$N.set(t,e),t}function t3e(e){if(zZ.has(e))return;const t=new Promise((i,o)=>{const s=()=>{e.removeEventListener("complete",c),e.removeEventListener("error",u),e.removeEventListener("abort",u)},c=()=>{i(),s()},u=()=>{o(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",c),e.addEventListener("error",u),e.addEventListener("abort",u)});zZ.set(e,t)}let QZ={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return zZ.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Oz.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return MA(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function n3e(e){QZ=e(QZ)}function i3e(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const o=e.call(bS(this),t,...i);return Oz.set(o,t.sort?t.sort():[t]),MA(o)}:$We().includes(e)?function(...t){return e.apply(bS(this),t),MA(jz.get(this))}:function(...t){return MA(e.apply(bS(this),t))}}function r3e(e){return typeof e=="function"?i3e(e):(e instanceof IDBTransaction&&t3e(e),OWe(e,qWe())?new Proxy(e,QZ):e)}function MA(e){if(e instanceof IDBRequest)return e3e(e);if(IS.has(e))return IS.get(e);const t=r3e(e);return t!==e&&(IS.set(e,t),$N.set(t,e)),t}const bS=e=>$N.get(e);function o3e(e,t,{blocked:i,upgrade:o,blocking:s,terminated:c}={}){const u=indexedDB.open(e,t),C=MA(u);return o&&u.addEventListener("upgradeneeded",m=>{o(MA(u.result),m.oldVersion,m.newVersion,MA(u.transaction),m)}),i&&u.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),C.then(m=>{c&&m.addEventListener("close",()=>c()),s&&m.addEventListener("versionchange",v=>s(v.oldVersion,v.newVersion,v))}).catch(()=>{}),C}const s3e=["get","getKey","getAll","getAllKeys","count"],a3e=["put","add","delete","clear"],yS=new Map;function OX(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(yS.get(t))return yS.get(t);const i=t.replace(/FromIndex$/,""),o=t!==i,s=a3e.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(s||s3e.includes(i)))return;const c=async function(u,...C){const m=this.transaction(u,s?"readwrite":"readonly");let v=m.store;return o&&(v=v.index(C.shift())),(await Promise.all([v[i](...C),s&&m.done]))[0]};return yS.set(t,c),c}n3e(e=>({...e,get:(t,i,o)=>OX(t,i)||e.get(t,i,o),has:(t,i)=>!!OX(t,i)||e.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3e{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(c3e(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function c3e(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const jZ="@firebase/app",qX="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new jWe("@firebase/app"),g3e="@firebase/app-compat",d3e="@firebase/analytics-compat",A3e="@firebase/analytics",u3e="@firebase/app-check-compat",h3e="@firebase/app-check",m3e="@firebase/auth",p3e="@firebase/auth-compat",C3e="@firebase/database",f3e="@firebase/database-compat",I3e="@firebase/functions",b3e="@firebase/functions-compat",y3e="@firebase/installations",v3e="@firebase/installations-compat",w3e="@firebase/messaging",k3e="@firebase/messaging-compat",B3e="@firebase/performance",x3e="@firebase/performance-compat",S3e="@firebase/remote-config",Z3e="@firebase/remote-config-compat",G3e="@firebase/storage",R3e="@firebase/storage-compat",N3e="@firebase/firestore",_3e="@firebase/vertexai-preview",V3e="@firebase/firestore-compat",E3e="firebase",F3e="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OZ="[DEFAULT]",W3e={[jZ]:"fire-core",[g3e]:"fire-core-compat",[A3e]:"fire-analytics",[d3e]:"fire-analytics-compat",[h3e]:"fire-app-check",[u3e]:"fire-app-check-compat",[m3e]:"fire-auth",[p3e]:"fire-auth-compat",[C3e]:"fire-rtdb",[f3e]:"fire-rtdb-compat",[I3e]:"fire-fn",[b3e]:"fire-fn-compat",[y3e]:"fire-iid",[v3e]:"fire-iid-compat",[w3e]:"fire-fcm",[k3e]:"fire-fcm-compat",[B3e]:"fire-perf",[x3e]:"fire-perf-compat",[S3e]:"fire-rc",[Z3e]:"fire-rc-compat",[G3e]:"fire-gcs",[R3e]:"fire-gcs-compat",[N3e]:"fire-fst",[V3e]:"fire-fst-compat",[_3e]:"fire-vertex","fire-js":"fire-js",[E3e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new Map,H3e=new Map,qZ=new Map;function $X(e,t){try{e.container.addComponent(t)}catch(i){Gh.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function sk(e){const t=e.name;if(qZ.has(t))return Gh.debug(`There were multiple attempts to register component ${t}.`),!1;qZ.set(t,e);for(const i of ok.values())$X(i,e);for(const i of H3e.values())$X(i,e);return!0}function D3e(e,t){const i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},YA=new Qz("app","Firebase",T3e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3e{constructor(t,i,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new pb("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw YA.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3e=F3e;function qz(e,t={}){let i=e;typeof t!="object"&&(t={name:t});const o=Object.assign({name:OZ,automaticDataCollectionEnabled:!1},t),s=o.name;if(typeof s!="string"||!s)throw YA.create("bad-app-name",{appName:String(s)});if(i||(i=zz()),!i)throw YA.create("no-options");const c=ok.get(s);if(c){if(KZ(i,c.options)&&KZ(o,c.config))return c;throw YA.create("duplicate-app",{appName:s})}const u=new UWe(s);for(const m of qZ.values())u.addComponent(m);const C=new L3e(i,o,u);return ok.set(s,C),C}function M3e(e=OZ){const t=ok.get(e);if(!t&&e===OZ&&zz())return qz();if(!t)throw YA.create("no-app",{appName:e});return t}function _p(e,t,i){var o;let s=(o=W3e[e])!==null&&o!==void 0?o:e;i&&(s+=`-${i}`);const c=s.match(/\s|\//),u=t.match(/\s|\//);if(c||u){const C=[`Unable to register library "${s}" with version "${t}":`];c&&C.push(`library name "${s}" contains illegal characters (whitespace or "/")`),c&&u&&C.push("and"),u&&C.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gh.warn(C.join(" "));return}sk(new pb(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3e="firebase-heartbeat-database",J3e=1,Cb="firebase-heartbeat-store";let vS=null;function $z(){return vS||(vS=o3e(Y3e,J3e,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Cb)}catch(i){console.warn(i)}}}}).catch(e=>{throw YA.create("idb-open",{originalErrorMessage:e.message})})),vS}async function U3e(e){try{const i=(await $z()).transaction(Cb),o=await i.objectStore(Cb).get(eQ(e));return await i.done,o}catch(t){if(t instanceof mC)Gh.warn(t.message);else{const i=YA.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Gh.warn(i.message)}}}async function eM(e,t){try{const o=(await $z()).transaction(Cb,"readwrite");await o.objectStore(Cb).put(t,eQ(e)),await o.done}catch(i){if(i instanceof mC)Gh.warn(i.message);else{const o=YA.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Gh.warn(o.message)}}}function eQ(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3e=1024,K3e=30*24*60*60*1e3;class z3e{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new j3e(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,i;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=tM();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c)))return this._heartbeatsCache.heartbeats.push({date:c,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const C=new Date(u.date).valueOf();return Date.now()-C<=K3e}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=tM(),{heartbeatsToSend:o,unsentEntries:s}=Q3e(this._heartbeatsCache.heartbeats),c=rk(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=i,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}}function tM(){return new Date().toISOString().substring(0,10)}function Q3e(e,t=P3e){const i=[];let o=e.slice();for(const s of e){const c=i.find(u=>u.agent===s.agent);if(c){if(c.dates.push(s.date),nM(i)>t){c.dates.pop();break}}else if(i.push({agent:s.agent,dates:[s.date]}),nM(i)>t){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class j3e{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HWe()?DWe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await U3e(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const s=await this.read();return eM(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const s=await this.read();return eM(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function nM(e){return rk(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3e(e){sk(new pb("platform-logger",t=>new l3e(t),"PRIVATE")),sk(new pb("heartbeat",t=>new z3e(t),"PRIVATE")),_p(jZ,qX,e),_p(jZ,qX,"esm2017"),_p("fire-js","")}O3e("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tQ="firebasestorage.googleapis.com",nQ="storageBucket",q3e=2*60*1e3,$3e=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends mC{constructor(t,i,o=0){super(wS(t),`Firebase Storage: ${i} (${wS(t)})`),this.status_=o,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return wS(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Qr;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Qr||(Qr={}));function wS(e){return"storage/"+e}function e_(){const e="An unknown error occurred, please check the error payload for server response.";return new qr(Qr.UNKNOWN,e)}function eHe(e){return new qr(Qr.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function tHe(e){return new qr(Qr.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function nHe(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qr(Qr.UNAUTHENTICATED,e)}function iHe(){return new qr(Qr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function rHe(e){return new qr(Qr.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function oHe(){return new qr(Qr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sHe(){return new qr(Qr.CANCELED,"User canceled the upload/download.")}function aHe(e){return new qr(Qr.INVALID_URL,"Invalid URL '"+e+"'.")}function lHe(e){return new qr(Qr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function cHe(){return new qr(Qr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nQ+"' property when initializing the app?")}function gHe(){return new qr(Qr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function dHe(){return new qr(Qr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function AHe(e){return new qr(Qr.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $Z(e){return new qr(Qr.INVALID_ARGUMENT,e)}function iQ(){return new qr(Qr.APP_DELETED,"The Firebase app was deleted.")}function uHe(e){return new qr(Qr.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kI(e,t){return new qr(Qr.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Vf(e){throw new qr(Qr.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let o;try{o=ja.makeFromUrl(t,i)}catch{return new ja(t,"")}if(o.path==="")return o;throw lHe(t)}static makeFromUrl(t,i){let o=null;const s="([A-Za-z0-9.\\-_]+)";function c(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const u="(/(.*))?$",C=new RegExp("^gs://"+s+u,"i"),m={bucket:1,path:3};function v(Q){Q.path_=decodeURIComponent(Q.path)}const x="v[A-Za-z0-9_]+",G=i.replace(/[.]/g,"\\."),B="(/([^?#]*).*)?$",R=new RegExp(`^https?://${G}/${x}/b/${s}/o${B}`,"i"),V={bucket:1,path:3},H=i===tQ?"(?:storage.googleapis.com|storage.cloud.google.com)":i,M="([^?#]*)",L=new RegExp(`^https?://${H}/${s}/${M}`,"i"),X=[{regex:C,indices:m,postModify:c},{regex:R,indices:V,postModify:v},{regex:L,indices:{bucket:1,path:2},postModify:v}];for(let Q=0;Q<X.length;Q++){const j=X[Q],re=j.regex.exec(t);if(re){const P=re[j.indices.bucket];let O=re[j.indices.path];O||(O=""),o=new ja(P,O),j.postModify(o);break}}if(o==null)throw aHe(t);return o}}class hHe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mHe(e,t,i){let o=1,s=null,c=null,u=!1,C=0;function m(){return C===2}let v=!1;function x(...M){v||(v=!0,t.apply(null,M))}function G(M){s=setTimeout(()=>{s=null,e(R,m())},M)}function B(){c&&clearTimeout(c)}function R(M,...L){if(v){B();return}if(M){B(),x.call(null,M,...L);return}if(m()||u){B(),x.call(null,M,...L);return}o<64&&(o*=2);let X;C===1?(C=2,X=0):X=(o+Math.random())*1e3,G(X)}let V=!1;function H(M){V||(V=!0,B(),!v&&(s!==null?(M||(C=2),clearTimeout(s),G(0)):M||(C=1)))}return G(0),c=setTimeout(()=>{u=!0,H(!0)},i),H}function pHe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CHe(e){return e!==void 0}function fHe(e){return typeof e=="object"&&!Array.isArray(e)}function t_(e){return typeof e=="string"||e instanceof String}function iM(e){return n_()&&e instanceof Blob}function n_(){return typeof Blob<"u"}function rM(e,t,i,o){if(o<t)throw $Z(`Invalid value for '${e}'. Expected ${t} or greater.`);if(o>i)throw $Z(`Invalid value for '${e}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(e,t,i){let o=t;return i==null&&(o=`https://${t}`),`${i}://${o}/v0${e}`}function rQ(e){const t=encodeURIComponent;let i="?";for(const o in e)if(e.hasOwnProperty(o)){const s=t(o)+"="+t(e[o]);i=i+s+"&"}return i=i.slice(0,-1),i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hh;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(hh||(hh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IHe(e,t){const i=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,c=t.indexOf(e)!==-1;return i||s||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bHe{constructor(t,i,o,s,c,u,C,m,v,x,G,B=!0){this.url_=t,this.method_=i,this.headers_=o,this.body_=s,this.successCodes_=c,this.additionalRetryCodes_=u,this.callback_=C,this.errorCallback_=m,this.timeout_=v,this.progressCallback_=x,this.connectionFactory_=G,this.retry=B,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,V)=>{this.resolve_=R,this.reject_=V,this.start_()})}start_(){const t=(o,s)=>{if(s){o(!1,new zy(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const u=C=>{const m=C.loaded,v=C.lengthComputable?C.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,v)};this.progressCallback_!==null&&c.addUploadProgressListener(u),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(u),this.pendingConnection_=null;const C=c.getErrorCode()===hh.NO_ERROR,m=c.getStatus();if(!C||IHe(m,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===hh.ABORT;o(!1,new zy(!1,null,x));return}const v=this.successCodes_.indexOf(m)!==-1;o(!0,new zy(v,c))})},i=(o,s)=>{const c=this.resolve_,u=this.reject_,C=s.connection;if(s.wasSuccessCode)try{const m=this.callback_(C,C.getResponse());CHe(m)?c(m):c()}catch(m){u(m)}else if(C!==null){const m=e_();m.serverResponse=C.getErrorText(),this.errorCallback_?u(this.errorCallback_(C,m)):u(m)}else if(s.canceled){const m=this.appDelete_?iQ():sHe();u(m)}else{const m=oHe();u(m)}};this.canceled_?i(!1,new zy(!1,null,!0)):this.backoffId_=mHe(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&pHe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zy{constructor(t,i,o){this.wasSuccessCode=t,this.connection=i,this.canceled=!!o}}function yHe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function vHe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function wHe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function kHe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function BHe(e,t,i,o,s,c,u=!0){const C=rQ(e.urlParams),m=e.url+C,v=Object.assign({},e.headers);return wHe(v,t),yHe(v,i),vHe(v,c),kHe(v,o),new bHe(m,e.method,v,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xHe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function SHe(...e){const t=xHe();if(t!==void 0){const i=new t;for(let o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}else{if(n_())return new Blob(e);throw new qr(Qr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ZHe(e,t,i){return e.webkitSlice?e.webkitSlice(t,i):e.mozSlice?e.mozSlice(t,i):e.slice?e.slice(t,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GHe(e){if(typeof atob>"u")throw AHe("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kS{constructor(t,i){this.data=t,this.contentType=i||null}}function RHe(e,t){switch(e){case hg.RAW:return new kS(oQ(t));case hg.BASE64:case hg.BASE64URL:return new kS(sQ(e,t));case hg.DATA_URL:return new kS(_He(t),VHe(t))}throw e_()}function oQ(e){const t=[];for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);if(o<=127)t.push(o);else if(o<=2047)t.push(192|o>>6,128|o&63);else if((o&64512)===55296)if(!(i<e.length-1&&(e.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{const c=o,u=e.charCodeAt(++i);o=65536|(c&1023)<<10|u&1023,t.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|o&63)}else(o&64512)===56320?t.push(239,191,189):t.push(224|o>>12,128|o>>6&63,128|o&63)}return new Uint8Array(t)}function NHe(e){let t;try{t=decodeURIComponent(e)}catch{throw kI(hg.DATA_URL,"Malformed data URL.")}return oQ(t)}function sQ(e,t){switch(e){case hg.BASE64:{const s=t.indexOf("-")!==-1,c=t.indexOf("_")!==-1;if(s||c)throw kI(e,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case hg.BASE64URL:{const s=t.indexOf("+")!==-1,c=t.indexOf("/")!==-1;if(s||c)throw kI(e,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=GHe(t)}catch(s){throw s.message.includes("polyfill")?s:kI(e,"Invalid character found")}const o=new Uint8Array(i.length);for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return o}class aQ{constructor(t){this.base64=!1,this.contentType=null;const i=t.match(/^data:([^,]+)?,/);if(i===null)throw kI(hg.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const o=i[1]||null;o!=null&&(this.base64=EHe(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-7):o),this.rest=t.substring(t.indexOf(",")+1)}}function _He(e){const t=new aQ(e);return t.base64?sQ(hg.BASE64,t.rest):NHe(t.rest)}function VHe(e){return new aQ(e).contentType}function EHe(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t,i){let o=0,s="";iM(t)?(this.data_=t,o=t.size,s=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),o=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),o=t.length),this.size_=o,this.type_=s}size(){return this.size_}type(){return this.type_}slice(t,i){if(iM(this.data_)){const o=this.data_,s=ZHe(o,t,i);return s===null?null:new bA(s)}else{const o=new Uint8Array(this.data_.buffer,t,i-t);return new bA(o,!0)}}static getBlob(...t){if(n_()){const i=t.map(o=>o instanceof bA?o.data_:o);return new bA(SHe.apply(null,i))}else{const i=t.map(u=>t_(u)?RHe(hg.RAW,u).data:u.data_);let o=0;i.forEach(u=>{o+=u.byteLength});const s=new Uint8Array(o);let c=0;return i.forEach(u=>{for(let C=0;C<u.length;C++)s[c++]=u[C]}),new bA(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lQ(e){let t;try{t=JSON.parse(e)}catch{return null}return fHe(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FHe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function WHe(e,t){const i=t.split("/").filter(o=>o.length>0).join("/");return e.length===0?i:e+"/"+i}function cQ(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HHe(e,t){return t}class Js{constructor(t,i,o,s){this.server=t,this.local=i||t,this.writable=!!o,this.xform=s||HHe}}let Qy=null;function DHe(e){return!t_(e)||e.length<2?e:cQ(e)}function gQ(){if(Qy)return Qy;const e=[];e.push(new Js("bucket")),e.push(new Js("generation")),e.push(new Js("metageneration")),e.push(new Js("name","fullPath",!0));function t(c,u){return DHe(u)}const i=new Js("name");i.xform=t,e.push(i);function o(c,u){return u!==void 0?Number(u):u}const s=new Js("size");return s.xform=o,e.push(s),e.push(new Js("timeCreated")),e.push(new Js("updated")),e.push(new Js("md5Hash",null,!0)),e.push(new Js("cacheControl",null,!0)),e.push(new Js("contentDisposition",null,!0)),e.push(new Js("contentEncoding",null,!0)),e.push(new Js("contentLanguage",null,!0)),e.push(new Js("contentType",null,!0)),e.push(new Js("metadata","customMetadata",!0)),Qy=e,Qy}function THe(e,t){function i(){const o=e.bucket,s=e.fullPath,c=new ja(o,s);return t._makeStorageReference(c)}Object.defineProperty(e,"ref",{get:i})}function LHe(e,t,i){const o={};o.type="file";const s=i.length;for(let c=0;c<s;c++){const u=i[c];o[u.local]=u.xform(o,t[u.server])}return THe(o,e),o}function dQ(e,t,i){const o=lQ(t);return o===null?null:LHe(e,o,i)}function XHe(e,t,i,o){const s=lQ(t);if(s===null||!t_(s.downloadTokens))return null;const c=s.downloadTokens;if(c.length===0)return null;const u=encodeURIComponent;return c.split(",").map(v=>{const x=e.bucket,G=e.fullPath,B="/b/"+u(x)+"/o/"+u(G),R=n2(B,i,o),V=rQ({alt:"media",token:v});return R+V})[0]}function MHe(e,t){const i={},o=t.length;for(let s=0;s<o;s++){const c=t[s];c.writable&&(i[c.server]=e[c.local])}return JSON.stringify(i)}class i_{constructor(t,i,o,s){this.url=t,this.method=i,this.handler=o,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AQ(e){if(!e)throw e_()}function YHe(e,t){function i(o,s){const c=dQ(e,s,t);return AQ(c!==null),c}return i}function JHe(e,t){function i(o,s){const c=dQ(e,s,t);return AQ(c!==null),XHe(c,s,e.host,e._protocol)}return i}function uQ(e){function t(i,o){let s;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?s=iHe():s=nHe():i.getStatus()===402?s=tHe(e.bucket):i.getStatus()===403?s=rHe(e.path):s=o,s.status=i.getStatus(),s.serverResponse=o.serverResponse,s}return t}function hQ(e){const t=uQ(e);function i(o,s){let c=t(o,s);return o.getStatus()===404&&(c=eHe(e.path)),c.serverResponse=s.serverResponse,c}return i}function UHe(e,t,i){const o=t.fullServerUrl(),s=n2(o,e.host,e._protocol),c="GET",u=e.maxOperationRetryTime,C=new i_(s,c,JHe(e,i),u);return C.errorHandler=hQ(t),C}function PHe(e,t){const i=t.fullServerUrl(),o=n2(i,e.host,e._protocol),s="DELETE",c=e.maxOperationRetryTime;function u(m,v){}const C=new i_(o,s,u,c);return C.successCodes=[200,204],C.errorHandler=hQ(t),C}function KHe(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function zHe(e,t,i){const o=Object.assign({},i);return o.fullPath=e.path,o.size=t.size(),o.contentType||(o.contentType=KHe(null,t)),o}function QHe(e,t,i,o,s){const c=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function C(){let X="";for(let Q=0;Q<2;Q++)X=X+Math.random().toString().slice(2);return X}const m=C();u["Content-Type"]="multipart/related; boundary="+m;const v=zHe(t,o,s),x=MHe(v,i),G="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+m+`\r
Content-Type: `+v.contentType+`\r
\r
`,B=`\r
--`+m+"--",R=bA.getBlob(G,o,B);if(R===null)throw gHe();const V={name:v.fullPath},H=n2(c,e.host,e._protocol),M="POST",L=e.maxUploadRetryTime,_=new i_(H,M,YHe(e,i),L);return _.urlParams=V,_.headers=u,_.body=R.uploadData(),_.errorHandler=uQ(t),_}class jHe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,o,s){if(this.sent_)throw Vf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,t,!0),s!==void 0)for(const c in s)s.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,s[c].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class OHe extends jHe{initXhr(){this.xhr_.responseType="text"}}function r_(){return new OHe}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,i){this._service=t,i instanceof ja?this._location=i:this._location=ja.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new Rh(t,i)}get root(){const t=new ja(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cQ(this._location.path)}get storage(){return this._service}get parent(){const t=FHe(this._location.path);if(t===null)return null;const i=new ja(this._location.bucket,t);return new Rh(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw uHe(t)}}function qHe(e,t,i){e._throwIfRoot("uploadBytes");const o=QHe(e.storage,e._location,gQ(),new bA(t,!0),i);return e.storage.makeRequestWithTokens(o,r_).then(s=>({metadata:s,ref:e}))}function $He(e){e._throwIfRoot("getDownloadURL");const t=UHe(e.storage,e._location,gQ());return e.storage.makeRequestWithTokens(t,r_).then(i=>{if(i===null)throw dHe();return i})}function eDe(e){e._throwIfRoot("deleteObject");const t=PHe(e.storage,e._location);return e.storage.makeRequestWithTokens(t,r_)}function tDe(e,t){const i=WHe(e._location.path,t),o=new ja(e._location.bucket,i);return new Rh(e.storage,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nDe(e){return/^[A-Za-z]+:\/\//.test(e)}function iDe(e,t){return new Rh(e,t)}function mQ(e,t){if(e instanceof o_){const i=e;if(i._bucket==null)throw cHe();const o=new Rh(i,i._bucket);return t!=null?mQ(o,t):o}else return t!==void 0?tDe(e,t):e}function rDe(e,t){if(t&&nDe(t)){if(e instanceof o_)return iDe(e,t);throw $Z("To use ref(service, url), the first argument must be a Storage instance.")}else return mQ(e,t)}function oM(e,t){const i=t==null?void 0:t[nQ];return i==null?null:ja.makeFromBucketSpec(i,e)}function oDe(e,t,i,o={}){e.host=`${t}:${i}`,e._protocol="http";const{mockUserToken:s}=o;s&&(e._overrideAuthToken=typeof s=="string"?s:WWe(s,e.app.options.projectId))}class o_{constructor(t,i,o,s,c){this.app=t,this._authProvider=i,this._appCheckProvider=o,this._url=s,this._firebaseVersion=c,this._bucket=null,this._host=tQ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=q3e,this._maxUploadRetryTime=$3e,this._requests=new Set,s!=null?this._bucket=ja.makeFromBucketSpec(s,this._host):this._bucket=oM(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ja.makeFromBucketSpec(this._url,t):this._bucket=oM(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){rM("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){rM("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Rh(this,t)}_makeRequest(t,i,o,s,c=!0){if(this._deleted)return new hHe(iQ());{const u=BHe(t,this._appId,o,s,i,this._firebaseVersion,c);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(t,i){const[o,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,o,s).getPromise()}}const sM="@firebase/storage",aM="0.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ="storage";function CQ(e,t,i){return e=Qb(e),qHe(e,t,i)}function fQ(e){return e=Qb(e),$He(e)}function eG(e){return e=Qb(e),eDe(e)}function IQ(e,t){return e=Qb(e),rDe(e,t)}function sDe(e=M3e(),t){e=Qb(e);const o=D3e(e,pQ).getImmediate({identifier:t}),s=EWe("storage");return s&&aDe(o,...s),o}function aDe(e,t,i,o={}){oDe(e,t,i,o)}function lDe(e,{instanceIdentifier:t}){const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new o_(i,o,s,t,X3e)}function cDe(){sk(new pb(pQ,lDe,"PUBLIC").setMultipleInstances(!0)),_p(sM,aM,""),_p(sM,aM,"esm2017")}cDe();let jy;const gDe=new Uint8Array(16);function dDe(){if(!jy&&(jy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jy(gDe)}const cs=[];for(let e=0;e<256;++e)cs.push((e+256).toString(16).slice(1));function ADe(e,t=0){return cs[e[t+0]]+cs[e[t+1]]+cs[e[t+2]]+cs[e[t+3]]+"-"+cs[e[t+4]]+cs[e[t+5]]+"-"+cs[e[t+6]]+cs[e[t+7]]+"-"+cs[e[t+8]]+cs[e[t+9]]+"-"+cs[e[t+10]]+cs[e[t+11]]+cs[e[t+12]]+cs[e[t+13]]+cs[e[t+14]]+cs[e[t+15]]}const uDe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),lM={randomUUID:uDe};function bQ(e,t,i){if(lM.randomUUID&&!t&&!e)return lM.randomUUID();e=e||{};const o=e.random||(e.rng||dDe)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,ADe(o)}var yQ={exports:{}};/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class s_{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=i=>{const o="error"in i?i.error:i.reason;o instanceof Error&&this._handleError(o,i)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,i){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(i)}off(t,i){this._listeners[t]=this._listeners[t].filter(o=>o!==i)}_fire(t,...i){const o=this._listeners[t]||[];for(const s of o)s.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,i){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:i instanceof ErrorEvent?i.filename:void 0,lineno:i instanceof ErrorEvent?i.lineno:void 0,colno:i instanceof ErrorEvent?i.colno:void 0,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const t=this.crashes[this.crashes.length-1].date,i=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(t-i)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function tG(e,t=new Set){const i=[e],o=new Set;let s=0;for(;i.length>s;){const c=i[s++];if(!(o.has(c)||!hDe(c)||t.has(c)))if(o.add(c),Symbol.iterator in c)try{for(const u of c)i.push(u)}catch{}else for(const u in c)u!=="defaultValue"&&i.push(c[u])}return o}function hDe(e){const t=Object.prototype.toString.call(e),i=typeof e;return!(i==="number"||i==="boolean"||i==="string"||i==="symbol"||i==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||e===void 0||e===null||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */function vQ(e,t,i=new Set){if(e===t&&mDe(e))return!0;const o=tG(e,i),s=tG(t,i);for(const c of o)if(s.has(c))return!0;return!1}function mDe(e){return typeof e=="object"&&e!==null}var wQ=typeof global=="object"&&global&&global.Object===Object&&global,pDe=typeof self=="object"&&self&&self.Object===Object&&self,Nc=wQ||pDe||Function("return this")(),Qp=Nc.Symbol,kQ=Object.prototype,CDe=kQ.hasOwnProperty,fDe=kQ.toString,Ef=Qp?Qp.toStringTag:void 0;function IDe(e){var t=CDe.call(e,Ef),i=e[Ef];try{e[Ef]=void 0;var o=!0}catch{}var s=fDe.call(e);return o&&(t?e[Ef]=i:delete e[Ef]),s}var bDe=Object.prototype,yDe=bDe.toString;function vDe(e){return yDe.call(e)}var wDe="[object Null]",kDe="[object Undefined]",cM=Qp?Qp.toStringTag:void 0;function Hh(e){return e==null?e===void 0?kDe:wDe:cM&&cM in Object(e)?IDe(e):vDe(e)}function ou(e){return e!=null&&typeof e=="object"}var BDe="[object Symbol]";function xDe(e){return typeof e=="symbol"||ou(e)&&Hh(e)==BDe}var a_=Array.isArray,SDe=/\s/;function ZDe(e){for(var t=e.length;t--&&SDe.test(e.charAt(t)););return t}var GDe=/^\s+/;function RDe(e){return e&&e.slice(0,ZDe(e)+1).replace(GDe,"")}function xd(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var gM=NaN,NDe=/^[-+]0x[0-9a-f]+$/i,_De=/^0b[01]+$/i,VDe=/^0o[0-7]+$/i,EDe=parseInt;function dM(e){if(typeof e=="number")return e;if(xDe(e))return gM;if(xd(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xd(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=RDe(e);var i=_De.test(e);return i||VDe.test(e)?EDe(e.slice(2),i?2:8):NDe.test(e)?gM:+e}var FDe="[object AsyncFunction]",WDe="[object Function]",HDe="[object GeneratorFunction]",DDe="[object Proxy]";function BQ(e){if(!xd(e))return!1;var t=Hh(e);return t==WDe||t==HDe||t==FDe||t==DDe}var BS=Nc["__core-js_shared__"],AM=function(){var e=/[^.]+$/.exec(BS&&BS.keys&&BS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function TDe(e){return!!AM&&AM in e}var LDe=Function.prototype,XDe=LDe.toString;function Dh(e){if(e!=null){try{return XDe.call(e)}catch{}try{return e+""}catch{}}return""}var MDe=/[\\^$.*+?()[\]{}|]/g,YDe=/^\[object .+?Constructor\]$/,JDe=Function.prototype,UDe=Object.prototype,PDe=JDe.toString,KDe=UDe.hasOwnProperty,zDe=RegExp("^"+PDe.call(KDe).replace(MDe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function QDe(e){if(!xd(e)||TDe(e))return!1;var t=BQ(e)?zDe:YDe;return t.test(Dh(e))}function jDe(e,t){return e==null?void 0:e[t]}function Th(e,t){var i=jDe(e,t);return QDe(i)?i:void 0}var nG=Th(Nc,"WeakMap"),uM=Object.create,ODe=function(){function e(){}return function(t){if(!xd(t))return{};if(uM)return uM(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function qDe(e,t){var i=-1,o=e.length;for(t||(t=Array(o));++i<o;)t[i]=e[i];return t}var hM=function(){try{var e=Th(Object,"defineProperty");return e({},"",{}),e}catch{}}();function $De(e,t){for(var i=-1,o=e==null?0:e.length;++i<o&&t(e[i],i,e)!==!1;);return e}var e4e=9007199254740991,t4e=/^(?:0|[1-9]\d*)$/;function n4e(e,t){var i=typeof e;return t=t??e4e,!!t&&(i=="number"||i!="symbol"&&t4e.test(e))&&e>-1&&e%1==0&&e<t}function xQ(e,t,i){t=="__proto__"&&hM?hM(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function SQ(e,t){return e===t||e!==e&&t!==t}var i4e=Object.prototype,r4e=i4e.hasOwnProperty;function ZQ(e,t,i){var o=e[t];(!(r4e.call(e,t)&&SQ(o,i))||i===void 0&&!(t in e))&&xQ(e,t,i)}function i2(e,t,i,o){var s=!i;i||(i={});for(var c=-1,u=t.length;++c<u;){var C=t[c],m=void 0;m===void 0&&(m=e[C]),s?xQ(i,C,m):ZQ(i,C,m)}return i}var o4e=9007199254740991;function GQ(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=o4e}function RQ(e){return e!=null&&GQ(e.length)&&!BQ(e)}var s4e=Object.prototype;function l_(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||s4e;return e===i}function a4e(e,t){for(var i=-1,o=Array(e);++i<e;)o[i]=t(i);return o}var l4e="[object Arguments]";function mM(e){return ou(e)&&Hh(e)==l4e}var NQ=Object.prototype,c4e=NQ.hasOwnProperty,g4e=NQ.propertyIsEnumerable,d4e=mM(function(){return arguments}())?mM:function(e){return ou(e)&&c4e.call(e,"callee")&&!g4e.call(e,"callee")};function A4e(){return!1}var _Q=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pM=_Q&&typeof module=="object"&&module&&!module.nodeType&&module,u4e=pM&&pM.exports===_Q,CM=u4e?Nc.Buffer:void 0,h4e=CM?CM.isBuffer:void 0,VQ=h4e||A4e,m4e="[object Arguments]",p4e="[object Array]",C4e="[object Boolean]",f4e="[object Date]",I4e="[object Error]",b4e="[object Function]",y4e="[object Map]",v4e="[object Number]",w4e="[object Object]",k4e="[object RegExp]",B4e="[object Set]",x4e="[object String]",S4e="[object WeakMap]",Z4e="[object ArrayBuffer]",G4e="[object DataView]",R4e="[object Float32Array]",N4e="[object Float64Array]",_4e="[object Int8Array]",V4e="[object Int16Array]",E4e="[object Int32Array]",F4e="[object Uint8Array]",W4e="[object Uint8ClampedArray]",H4e="[object Uint16Array]",D4e="[object Uint32Array]",fr={};fr[R4e]=fr[N4e]=fr[_4e]=fr[V4e]=fr[E4e]=fr[F4e]=fr[W4e]=fr[H4e]=fr[D4e]=!0;fr[m4e]=fr[p4e]=fr[Z4e]=fr[C4e]=fr[G4e]=fr[f4e]=fr[I4e]=fr[b4e]=fr[y4e]=fr[v4e]=fr[w4e]=fr[k4e]=fr[B4e]=fr[x4e]=fr[S4e]=!1;function T4e(e){return ou(e)&&GQ(e.length)&&!!fr[Hh(e)]}function c_(e){return function(t){return e(t)}}var EQ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,BI=EQ&&typeof module=="object"&&module&&!module.nodeType&&module,L4e=BI&&BI.exports===EQ,xS=L4e&&wQ.process,jp=function(){try{var e=BI&&BI.require&&BI.require("util").types;return e||xS&&xS.binding&&xS.binding("util")}catch{}}(),fM=jp&&jp.isTypedArray,X4e=fM?c_(fM):T4e,M4e=Object.prototype,Y4e=M4e.hasOwnProperty;function FQ(e,t){var i=a_(e),o=!i&&d4e(e),s=!i&&!o&&VQ(e),c=!i&&!o&&!s&&X4e(e),u=i||o||s||c,C=u?a4e(e.length,String):[],m=C.length;for(var v in e)(t||Y4e.call(e,v))&&!(u&&(v=="length"||s&&(v=="offset"||v=="parent")||c&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||n4e(v,m)))&&C.push(v);return C}function WQ(e,t){return function(i){return e(t(i))}}var J4e=WQ(Object.keys,Object),U4e=Object.prototype,P4e=U4e.hasOwnProperty;function K4e(e){if(!l_(e))return J4e(e);var t=[];for(var i in Object(e))P4e.call(e,i)&&i!="constructor"&&t.push(i);return t}function g_(e){return RQ(e)?FQ(e):K4e(e)}function z4e(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var Q4e=Object.prototype,j4e=Q4e.hasOwnProperty;function O4e(e){if(!xd(e))return z4e(e);var t=l_(e),i=[];for(var o in e)o=="constructor"&&(t||!j4e.call(e,o))||i.push(o);return i}function d_(e){return RQ(e)?FQ(e,!0):O4e(e)}var fb=Th(Object,"create");function q4e(){this.__data__=fb?fb(null):{},this.size=0}function $4e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var eTe="__lodash_hash_undefined__",tTe=Object.prototype,nTe=tTe.hasOwnProperty;function iTe(e){var t=this.__data__;if(fb){var i=t[e];return i===eTe?void 0:i}return nTe.call(t,e)?t[e]:void 0}var rTe=Object.prototype,oTe=rTe.hasOwnProperty;function sTe(e){var t=this.__data__;return fb?t[e]!==void 0:oTe.call(t,e)}var aTe="__lodash_hash_undefined__";function lTe(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=fb&&t===void 0?aTe:t,this}function Nh(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}Nh.prototype.clear=q4e;Nh.prototype.delete=$4e;Nh.prototype.get=iTe;Nh.prototype.has=sTe;Nh.prototype.set=lTe;function cTe(){this.__data__=[],this.size=0}function r2(e,t){for(var i=e.length;i--;)if(SQ(e[i][0],t))return i;return-1}var gTe=Array.prototype,dTe=gTe.splice;function ATe(e){var t=this.__data__,i=r2(t,e);if(i<0)return!1;var o=t.length-1;return i==o?t.pop():dTe.call(t,i,1),--this.size,!0}function uTe(e){var t=this.__data__,i=r2(t,e);return i<0?void 0:t[i][1]}function hTe(e){return r2(this.__data__,e)>-1}function mTe(e,t){var i=this.__data__,o=r2(i,e);return o<0?(++this.size,i.push([e,t])):i[o][1]=t,this}function Ed(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}Ed.prototype.clear=cTe;Ed.prototype.delete=ATe;Ed.prototype.get=uTe;Ed.prototype.has=hTe;Ed.prototype.set=mTe;var Ib=Th(Nc,"Map");function pTe(){this.size=0,this.__data__={hash:new Nh,map:new(Ib||Ed),string:new Nh}}function CTe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function o2(e,t){var i=e.__data__;return CTe(t)?i[typeof t=="string"?"string":"hash"]:i.map}function fTe(e){var t=o2(this,e).delete(e);return this.size-=t?1:0,t}function ITe(e){return o2(this,e).get(e)}function bTe(e){return o2(this,e).has(e)}function yTe(e,t){var i=o2(this,e),o=i.size;return i.set(e,t),this.size+=i.size==o?0:1,this}function pC(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}pC.prototype.clear=pTe;pC.prototype.delete=fTe;pC.prototype.get=ITe;pC.prototype.has=bTe;pC.prototype.set=yTe;function HQ(e,t){for(var i=-1,o=t.length,s=e.length;++i<o;)e[s+i]=t[i];return e}var A_=WQ(Object.getPrototypeOf,Object),vTe="[object Object]",wTe=Function.prototype,kTe=Object.prototype,DQ=wTe.toString,BTe=kTe.hasOwnProperty,xTe=DQ.call(Object);function STe(e){if(!ou(e)||Hh(e)!=vTe)return!1;var t=A_(e);if(t===null)return!0;var i=BTe.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&DQ.call(i)==xTe}function ZTe(){this.__data__=new Ed,this.size=0}function GTe(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function RTe(e){return this.__data__.get(e)}function NTe(e){return this.__data__.has(e)}var _Te=200;function VTe(e,t){var i=this.__data__;if(i instanceof Ed){var o=i.__data__;if(!Ib||o.length<_Te-1)return o.push([e,t]),this.size=++i.size,this;i=this.__data__=new pC(o)}return i.set(e,t),this.size=i.size,this}function CC(e){var t=this.__data__=new Ed(e);this.size=t.size}CC.prototype.clear=ZTe;CC.prototype.delete=GTe;CC.prototype.get=RTe;CC.prototype.has=NTe;CC.prototype.set=VTe;function ETe(e,t){return e&&i2(t,g_(t),e)}function FTe(e,t){return e&&i2(t,d_(t),e)}var TQ=typeof exports=="object"&&exports&&!exports.nodeType&&exports,IM=TQ&&typeof module=="object"&&module&&!module.nodeType&&module,WTe=IM&&IM.exports===TQ,bM=WTe?Nc.Buffer:void 0,yM=bM?bM.allocUnsafe:void 0;function HTe(e,t){if(t)return e.slice();var i=e.length,o=yM?yM(i):new e.constructor(i);return e.copy(o),o}function DTe(e,t){for(var i=-1,o=e==null?0:e.length,s=0,c=[];++i<o;){var u=e[i];t(u,i,e)&&(c[s++]=u)}return c}function LQ(){return[]}var TTe=Object.prototype,LTe=TTe.propertyIsEnumerable,vM=Object.getOwnPropertySymbols,u_=vM?function(e){return e==null?[]:(e=Object(e),DTe(vM(e),function(t){return LTe.call(e,t)}))}:LQ;function XTe(e,t){return i2(e,u_(e),t)}var MTe=Object.getOwnPropertySymbols,XQ=MTe?function(e){for(var t=[];e;)HQ(t,u_(e)),e=A_(e);return t}:LQ;function YTe(e,t){return i2(e,XQ(e),t)}function MQ(e,t,i){var o=t(e);return a_(e)?o:HQ(o,i(e))}function JTe(e){return MQ(e,g_,u_)}function UTe(e){return MQ(e,d_,XQ)}var iG=Th(Nc,"DataView"),rG=Th(Nc,"Promise"),oG=Th(Nc,"Set"),wM="[object Map]",PTe="[object Object]",kM="[object Promise]",BM="[object Set]",xM="[object WeakMap]",SM="[object DataView]",KTe=Dh(iG),zTe=Dh(Ib),QTe=Dh(rG),jTe=Dh(oG),OTe=Dh(nG),gd=Hh;(iG&&gd(new iG(new ArrayBuffer(1)))!=SM||Ib&&gd(new Ib)!=wM||rG&&gd(rG.resolve())!=kM||oG&&gd(new oG)!=BM||nG&&gd(new nG)!=xM)&&(gd=function(e){var t=Hh(e),i=t==PTe?e.constructor:void 0,o=i?Dh(i):"";if(o)switch(o){case KTe:return SM;case zTe:return wM;case QTe:return kM;case jTe:return BM;case OTe:return xM}return t});var qTe=Object.prototype,$Te=qTe.hasOwnProperty;function eLe(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&$Te.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var ZM=Nc.Uint8Array;function h_(e){var t=new e.constructor(e.byteLength);return new ZM(t).set(new ZM(e)),t}function tLe(e,t){var i=t?h_(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}var nLe=/\w*$/;function iLe(e){var t=new e.constructor(e.source,nLe.exec(e));return t.lastIndex=e.lastIndex,t}var GM=Qp?Qp.prototype:void 0,RM=GM?GM.valueOf:void 0;function rLe(e){return RM?Object(RM.call(e)):{}}function oLe(e,t){var i=t?h_(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var sLe="[object Boolean]",aLe="[object Date]",lLe="[object Map]",cLe="[object Number]",gLe="[object RegExp]",dLe="[object Set]",ALe="[object String]",uLe="[object Symbol]",hLe="[object ArrayBuffer]",mLe="[object DataView]",pLe="[object Float32Array]",CLe="[object Float64Array]",fLe="[object Int8Array]",ILe="[object Int16Array]",bLe="[object Int32Array]",yLe="[object Uint8Array]",vLe="[object Uint8ClampedArray]",wLe="[object Uint16Array]",kLe="[object Uint32Array]";function BLe(e,t,i){var o=e.constructor;switch(t){case hLe:return h_(e);case sLe:case aLe:return new o(+e);case mLe:return tLe(e,i);case pLe:case CLe:case fLe:case ILe:case bLe:case yLe:case vLe:case wLe:case kLe:return oLe(e,i);case lLe:return new o;case cLe:case ALe:return new o(e);case gLe:return iLe(e);case dLe:return new o;case uLe:return rLe(e)}}function xLe(e){return typeof e.constructor=="function"&&!l_(e)?ODe(A_(e)):{}}var SLe="[object Map]";function ZLe(e){return ou(e)&&gd(e)==SLe}var NM=jp&&jp.isMap,GLe=NM?c_(NM):ZLe,RLe="[object Set]";function NLe(e){return ou(e)&&gd(e)==RLe}var _M=jp&&jp.isSet,_Le=_M?c_(_M):NLe,VLe=1,ELe=2,FLe=4,YQ="[object Arguments]",WLe="[object Array]",HLe="[object Boolean]",DLe="[object Date]",TLe="[object Error]",JQ="[object Function]",LLe="[object GeneratorFunction]",XLe="[object Map]",MLe="[object Number]",UQ="[object Object]",YLe="[object RegExp]",JLe="[object Set]",ULe="[object String]",PLe="[object Symbol]",KLe="[object WeakMap]",zLe="[object ArrayBuffer]",QLe="[object DataView]",jLe="[object Float32Array]",OLe="[object Float64Array]",qLe="[object Int8Array]",$Le="[object Int16Array]",eXe="[object Int32Array]",tXe="[object Uint8Array]",nXe="[object Uint8ClampedArray]",iXe="[object Uint16Array]",rXe="[object Uint32Array]",dr={};dr[YQ]=dr[WLe]=dr[zLe]=dr[QLe]=dr[HLe]=dr[DLe]=dr[jLe]=dr[OLe]=dr[qLe]=dr[$Le]=dr[eXe]=dr[XLe]=dr[MLe]=dr[UQ]=dr[YLe]=dr[JLe]=dr[ULe]=dr[PLe]=dr[tXe]=dr[nXe]=dr[iXe]=dr[rXe]=!0;dr[TLe]=dr[JQ]=dr[KLe]=!1;function ew(e,t,i,o,s,c){var u,C=t&VLe,m=t&ELe,v=t&FLe;if(i&&(u=s?i(e,o,s,c):i(e)),u!==void 0)return u;if(!xd(e))return e;var x=a_(e);if(x){if(u=eLe(e),!C)return qDe(e,u)}else{var G=gd(e),B=G==JQ||G==LLe;if(VQ(e))return HTe(e,C);if(G==UQ||G==YQ||B&&!s){if(u=m||B?{}:xLe(e),!C)return m?YTe(e,FTe(u,e)):XTe(e,ETe(u,e))}else{if(!dr[G])return s?e:{};u=BLe(e,G,C)}}c||(c=new CC);var R=c.get(e);if(R)return R;c.set(e,u),_Le(e)?e.forEach(function(M){u.add(ew(M,t,i,M,e,c))}):GLe(e)&&e.forEach(function(M,L){u.set(L,ew(M,t,i,L,e,c))});var V=v?m?UTe:JTe:m?d_:g_,H=x?void 0:V(e);return $De(H||e,function(M,L){H&&(L=M,M=e[L]),ZQ(u,L,ew(M,t,i,L,e,c))}),u}var oXe=1,sXe=4;function aXe(e,t){return t=typeof t=="function"?t:void 0,ew(e,oXe|sXe,t)}var SS=function(){return Nc.Date.now()},lXe="Expected a function",cXe=Math.max,gXe=Math.min;function dXe(e,t,i){var o,s,c,u,C,m,v=0,x=!1,G=!1,B=!0;if(typeof e!="function")throw new TypeError(lXe);t=dM(t)||0,xd(i)&&(x=!!i.leading,G="maxWait"in i,c=G?cXe(dM(i.maxWait)||0,t):c,B="trailing"in i?!!i.trailing:B);function R(re){var P=o,O=s;return o=s=void 0,v=re,u=e.apply(O,P),u}function V(re){return v=re,C=setTimeout(L,t),x?R(re):u}function H(re){var P=re-m,O=re-v,de=t-P;return G?gXe(de,c-O):de}function M(re){var P=re-m,O=re-v;return m===void 0||P>=t||P<0||G&&O>=c}function L(){var re=SS();if(M(re))return _(re);C=setTimeout(L,H(re))}function _(re){return C=void 0,B&&o?R(re):(o=s=void 0,u)}function X(){C!==void 0&&clearTimeout(C),v=0,o=m=s=C=void 0}function Q(){return C===void 0?u:_(SS())}function j(){var re=SS(),P=M(re);if(o=arguments,s=this,m=re,P){if(C===void 0)return V(m);if(G)return clearTimeout(C),C=setTimeout(L,t),R(m)}return C===void 0&&(C=setTimeout(L,t)),u}return j.cancel=X,j.flush=Q,j}function VM(e){return ou(e)&&e.nodeType===1&&!STe(e)}var AXe="Expected a function";function uXe(e,t,i){var o=!0,s=!0;if(typeof e!="function")throw new TypeError(AXe);return xd(i)&&(o="leading"in i?!!i.leading:o,s="trailing"in i?!!i.trailing:s),dXe(e,t,{leading:o,maxWait:t,trailing:s})}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */class PQ extends s_{constructor(t,i={}){super(i),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=uXe(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),t&&(this._creator=(o,s)=>t.create(o,s)),this._destructor=o=>o.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{const t={},i=[],o=this._config.rootsAttributes||{},s={};for(const[u,C]of Object.entries(this._data.roots))C.isLoaded?(t[u]="",s[u]=o[u]||{}):i.push(u);const c={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:s,_watchdogInitialData:this._data};return delete c.initialData,c.extraPlugins.push(hXe),this._initUsingData?this.create(t,c,c.context):VM(this._elementOrData)?this.create(this._elementOrData,c,c.context):this.create(this._editables,c,c.context)}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,i=this._config,o){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData=typeof t=="string"||Object.keys(t).length>0&&typeof Object.values(t)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=o,this._creator(t,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t=this._editor,i=t.model.document.roots.filter(C=>C.isAttached()&&C.rootName!="$graveyard"),{plugins:o}=t,s=o.has("CommentsRepository")&&o.get("CommentsRepository"),c=o.has("TrackChanges")&&o.get("TrackChanges"),u={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(C=>{u.roots[C.rootName]={content:JSON.stringify(Array.from(C.getChildren())),attributes:JSON.stringify(Array.from(C.getAttributes())),isLoaded:C._isLoaded}});for(const C of t.model.markers)C._affectsData&&(u.markers[C.name]={rangeJSON:C.getRange().toJSON(),usingOperation:C._managedUsingOperations,affectsData:C._affectsData});return s&&(u.commentThreads=JSON.stringify(s.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),c&&(u.suggestions=JSON.stringify(c.getSuggestions({toJSON:!0,skipNotAttached:!0}))),u}_getEditables(){const t={};for(const i of this.editor.model.document.getRootNames()){const o=this.editor.ui.getEditableElement(i);o&&(t[i]=o)}return t}_isErrorComingFromThisItem(t){return vQ(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return aXe(t,(i,o)=>{if(VM(i)||o==="context")return i})}}class hXe{constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},i=>{this._restoreCollaborationData(),this._restoreEditorData(i)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,i){if("name"in i){const o=t.createElement(i.name,i.attributes);if(i.children)for(const s of i.children)o._appendChild(this._createNode(t,s));return o}else return t.createText(i.data,i.attributes)}_restoreEditorData(t){const i=this.editor;Object.entries(this._data.roots).forEach(([o,{content:s,attributes:c}])=>{const u=JSON.parse(s),C=JSON.parse(c),m=i.model.document.getRoot(o);for(const[v,x]of C)t.setAttribute(v,x,m);for(const v of u){const x=this._createNode(t,v);t.insert(x,m,"end")}}),Object.entries(this._data.markers).forEach(([o,s])=>{const{document:c}=i.model,{rangeJSON:{start:u,end:C},...m}=s,v=c.getRoot(u.root),x=t.createPositionFromPath(v,u.path,u.stickiness),G=t.createPositionFromPath(v,C.path,C.stickiness),B=t.createRange(x,G);t.addMarker(o,{range:B,...m})})}_restoreCollaborationData(){const t=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);t.forEach(o=>{const s=this.editor.config.get("collaboration.channelId"),c=this.editor.plugins.get("CommentsRepository");c.hasCommentThread(o.threadId)&&c.getCommentThread(o.threadId).remove(),c.addCommentThread({channelId:s,...o})}),i.forEach(o=>{const s=this.editor.plugins.get("TrackChangesEditing");if(s.hasSuggestion(o.id)){const c=s.getSuggestion(o.id);c.attributes=o.attributes}else s.addSuggestionData(o)})}}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const xI=Symbol("MainQueueId");class mXe extends s_{constructor(t,i={}){super(i),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new pXe,this._watchdogConfig=i,this._creator=o=>t.create(o),this._destructor=o=>o.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue(xI,()=>(this._contextConfig=t,this._create()))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){const i=EM(t);return Promise.all(i.map(o=>this._actionQueues.enqueue(o.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(o.id))throw new Error(`Item with the given id is already added: '${o.id}'.`);if(o.type==="editor")return s=new PQ(null,this._watchdogConfig),s.setCreator(o.creator),s._setExcludedProperties(this._contextProps),o.destructor&&s.setDestructor(o.destructor),this._watchdogs.set(o.id,s),s.on("error",(c,{error:u,causesRestart:C})=>{this._fire("itemError",{itemId:o.id,error:u}),C&&this._actionQueues.enqueue(o.id,()=>new Promise(m=>{const v=()=>{s.off("restart",v),this._fire("itemRestart",{itemId:o.id}),m()};s.on("restart",v)}))}),s.create(o.sourceElementOrData,o.config,this._context);throw new Error(`Not supported item type: '${o.type}'.`)})))}remove(t){const i=EM(t);return Promise.all(i.map(o=>this._actionQueues.enqueue(o,()=>{const s=this._getWatchdog(o);return this._watchdogs.delete(o),s.destroy()})))}destroy(){return this._actionQueues.enqueue(xI,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(xI,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(t=>{console.error("An error happened during destroying the context or items.",t)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(t=>(this._context=t,this._contextProps=tG(this._context),Promise.all(Array.from(this._watchdogs.values()).map(i=>(i._setExcludedProperties(this._contextProps),i.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(i=>i.destroy())).then(()=>this._destructor(t))})}_getWatchdog(t){const i=this._watchdogs.get(t);if(!i)throw new Error(`Item with the given id was not registered: ${t}.`);return i}_isErrorComingFromThisItem(t){for(const i of this._watchdogs.values())if(i._isErrorComingFromThisItem(t))return!1;return vQ(this._context,t.context)}}class pXe{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,i){const o=t===xI;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const c=(o?Promise.all(this._queues.values()):Promise.all([this._queues.get(xI),this._queues.get(t)])).then(i),u=c.catch(()=>{});return this._queues.set(t,u),c.finally(()=>{this._activeActions--,this._queues.get(t)===u&&this._activeActions===0&&this._onEmptyCallbacks.forEach(C=>C())})}}function EM(e){return Array.isArray(e)?e:[e]}/**
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */const CXe=Object.freeze(Object.defineProperty({__proto__:null,ContextWatchdog:mXe,EditorWatchdog:PQ,Watchdog:s_},Symbol.toStringTag,{value:"Module"})),fXe=Zc(CXe);/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(e,t){(function(i,o){e.exports=o(le,Lb(),fXe)})(self,(i,o,s)=>(()=>{var c={546:v=>{v.exports=s},949:v=>{v.exports=o},155:v=>{v.exports=i}},u={};function C(v){var x=u[v];if(x!==void 0)return x.exports;var G=u[v]={exports:{}};return c[v](G,G.exports,C),G.exports}C.n=v=>{var x=v&&v.__esModule?()=>v.default:()=>v;return C.d(x,{a:x}),x},C.d=(v,x)=>{for(var G in x)C.o(x,G)&&!C.o(v,G)&&Object.defineProperty(v,G,{enumerable:!0,get:x[G]})},C.o=(v,x)=>Object.prototype.hasOwnProperty.call(v,x),C.r=v=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})};var m={};return(()=>{C.r(m),C.d(m,{CKEditor:()=>X,CKEditorContext:()=>M,useMultiRootEditor:()=>be});var v=C(155),x=C.n(v),G=C(949),B=C.n(G);const R=new Array(256).fill("").map((Ie,Re)=>("0"+Re.toString(16)).slice(-2));var V=C(546);const H=x().createContext("contextWatchdog");class M extends x().Component{constructor(Re,ye){super(Re,ye),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(Re){return this._shouldComponentUpdate(Re)}async _shouldComponentUpdate(Re){return Re.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(Re.config)),Re.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(Re.config),!0):this.props.children!==Re.children}render(){return x().createElement(H.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(Re){this.contextWatchdog=new V.ContextWatchdog(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(ye,ve)=>{this.props.onError(ve.error,{phase:"runtime",willContextRestart:ve.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(Re).catch(ye=>{this.props.onError(ye,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}M.defaultProps={isLayoutReady:!0,onError:(Ie,Re)=>console.error(Ie,Re)},M.propTypes={id:B().string,isLayoutReady:B().bool,context:B().func,watchdogConfig:B().object,config:B().object,onReady:B().func,onError:B().func};class L{constructor(Re,ye){this._releaseLock=null,this._value=null,this._afterMountCallbacks=[],this._state={destroyedBeforeInitialization:!1,mountingInProgress:null},this.release=function(ve){let fe=null;return(...Ge)=>(fe||(fe={current:ve(...Ge)}),fe.current)}(()=>{const{_releaseLock:ve,_state:fe,_element:Ge,_lifecycle:De}=this;fe.mountingInProgress?fe.mountingInProgress.then(()=>De.unmount({element:Ge,mountResult:this.value})).catch(Pe=>{console.error("Semaphore unmounting error:",Pe)}).then(ve.resolve).then(()=>{this._value=null}):(fe.destroyedBeforeInitialization=!0,ve.resolve())}),this._element=Re,this._lifecycle=ye,this._lock()}get value(){return this._value}unsafeSetValue(Re){this._value=Re,this._afterMountCallbacks.forEach(ye=>ye(Re)),this._afterMountCallbacks=[]}runAfterMount(Re){const{_value:ye,_afterMountCallbacks:ve}=this;ye?Re(ye):ve.push(Re)}_lock(){const{_semaphores:Re}=L,{_state:ye,_element:ve,_lifecycle:fe}=this,Ge=Re.get(ve)||Promise.resolve(null),De=function(){const me={resolve:null,promise:null};return me.promise=new Promise(_e=>{me.resolve=_e}),me}();this._releaseLock=De;const Pe=Ge.then(()=>ye.destroyedBeforeInitialization?Promise.resolve(void 0):(ye.mountingInProgress=fe.mount().then(me=>(me&&this.unsafeSetValue(me),me)),ye.mountingInProgress)).then(async me=>{me&&fe.afterMount&&await fe.afterMount({element:ve,mountResult:me})}).then(()=>De.promise).catch(me=>{console.error("Semaphore mounting error:",me)}).then(()=>{Re.get(ve)===Pe&&Re.delete(ve)});Re.set(ve,Pe)}}L._semaphores=new Map;const _="Lock from React integration (@ckeditor/ckeditor5-react)";class X extends x().Component{constructor(Re){super(Re),this.domContainer=x().createRef(),this.editorSemaphore=null;const{CKEDITOR_VERSION:ye}=window;if(ye){const[ve]=ye.split(".").map(Number);ve<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get _semaphoreValue(){const{editorSemaphore:Re}=this;return Re?Re.value:null}get watchdog(){const{_semaphoreValue:Re}=this;return Re?Re.watchdog:null}get editor(){const{_semaphoreValue:Re}=this;return Re?Re.instance:null}shouldComponentUpdate(Re){const{props:ye,editorSemaphore:ve}=this;return Re.id!==ye.id||Re.disableWatchdog!==ye.disableWatchdog||(ve&&(ve.runAfterMount(({instance:fe})=>{this._shouldUpdateEditorData(ye,Re,fe)&&fe.data.set(Re.data)}),"disabled"in Re&&ve.runAfterMount(({instance:fe})=>{Re.disabled?fe.enableReadOnlyMode(_):fe.disableReadOnlyMode(_)})),!1)}componentDidMount(){this._initLifeCycleSemaphore()}componentDidUpdate(){this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new L(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:({mountResult:Re})=>{const{onReady:ye}=this.props;ye&&this.domContainer.current!==null&&ye(Re.instance)},unmount:async({element:Re,mountResult:ye})=>{const{onAfterDestroy:ve}=this.props;try{await this._destroyEditor(ye),Re.innerHTML=""}finally{ve&&ve(ye.instance)}}})}render(){return x().createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog)return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null};const Re=this.context instanceof V.ContextWatchdog?new Q(this.context):new X._EditorWatchdog(this.props.editor,this.props.watchdogConfig),ye={current:0};return Re.setCreator(async(ve,fe)=>{const{editorSemaphore:Ge}=this,{onAfterDestroy:De}=this.props;ye.current>0&&De&&Ge&&Ge.value&&Ge.value.instance&&De(Ge.value.instance);const Pe=await this._createEditor(ve,fe);return ye.current>0&&(Ge.unsafeSetValue({instance:Pe,watchdog:Re}),setTimeout(()=>{this.props.onReady&&this.props.onReady(Re.editor)})),ye.current++,Pe}),Re.on("error",(ve,{error:fe,causesRestart:Ge})=>{(this.props.onError||console.error)(fe,{phase:"runtime",willEditorRestart:Ge})}),await Re.create(this.domContainer.current,this._getConfig()).catch(ve=>{(this.props.onError||console.error)(ve,{phase:"initialization",willEditorRestart:!1})}),{watchdog:Re,instance:Re.editor}}_createEditor(Re,ye){return this.props.editor.create(Re,ye).then(ve=>{"disabled"in this.props&&this.props.disabled&&ve.enableReadOnlyMode(_);const fe=ve.model.document,Ge=ve.editing.view.document;return fe.on("change:data",De=>{this.props.onChange&&this.props.onChange(De,ve)}),Ge.on("focus",De=>{this.props.onFocus&&this.props.onFocus(De,ve)}),Ge.on("blur",De=>{this.props.onBlur&&this.props.onBlur(De,ve)}),ve})}async _destroyEditor(Re){const{watchdog:ye,instance:ve}=Re;return new Promise((fe,Ge)=>{setTimeout(async()=>{try{if(ye)return await ye.destroy(),fe();if(ve)return await ve.destroy(),fe();fe()}catch(De){console.error(De),Ge(De)}})})}_shouldUpdateEditorData(Re,ye,ve){return Re.data!==ye.data&&ve.data.get()!==ye.data}_getConfig(){const Re=this.props.config||{};return this.props.data&&Re.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...Re,initialData:Re.initialData||this.props.data||""}}}X.contextType=H,X.propTypes={editor:B().func.isRequired,data:B().string,config:B().object,disableWatchdog:B().bool,watchdogConfig:B().object,onChange:B().func,onReady:B().func,onFocus:B().func,onBlur:B().func,onError:B().func,disabled:B().bool,id:B().any},X._EditorWatchdog=V.EditorWatchdog;class Q{constructor(Re){this._contextWatchdog=Re,this._id=function(){const ye=4294967296*Math.random()>>>0,ve=4294967296*Math.random()>>>0,fe=4294967296*Math.random()>>>0,Ge=4294967296*Math.random()>>>0;return"e"+R[255&ye]+R[ye>>8&255]+R[ye>>16&255]+R[ye>>24&255]+R[255&ve]+R[ve>>8&255]+R[ve>>16&255]+R[ve>>24&255]+R[255&fe]+R[fe>>8&255]+R[fe>>16&255]+R[fe>>24&255]+R[255&Ge]+R[Ge>>8&255]+R[Ge>>16&255]+R[Ge>>24&255]}()}setCreator(Re){this._creator=Re}create(Re,ye){return this._contextWatchdog.add({sourceElementOrData:Re,config:ye,creator:this._creator,id:this._id,type:"editor"})}on(Re,ye){this._contextWatchdog.on("itemError",(ve,{itemId:fe,error:Ge})=>{fe===this._id&&ye(null,{error:Ge,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}function j(...Ie){return Re=>{Ie.forEach(ye=>{typeof ye=="function"?ye(Re):ye!=null&&(ye.current=Re)})}}function re(Ie,Re){for(const ye of Object.getOwnPropertyNames(Re))delete Re[ye];for(const[ye,ve]of Object.entries(Ie))ve!==Re&&ye!=="prototype"&&ye!=="__proto__"&&(Re[ye]=ve);return Re}const P=Ie=>{const Re=(0,v.useRef)();return Re.current=Ie,(0,v.useCallback)((...ye)=>Re.current(...ye),[])};function O(Ie,Re){return Re.length=0,Re.push(...Ie),Re}const de=(Ie,Re,ye)=>{((ve,fe)=>{const Ge=(0,v.useRef)(null);((De,Pe)=>{if(De===Pe)return!0;if(!De||!Pe)return!1;for(let me=0;me<De.length;++me)if(De[me]!==Pe[me])return!1;return!0})(Ge.current,fe)||(Ge.current=[...fe],ve())})(()=>{Ie&&Ie.runAfterMount(Re)},[Ie,...ye])},ce="Lock from React integration (@ckeditor/ckeditor5-react)",ne=(0,v.memo)((0,v.forwardRef)(({id:Ie,semaphore:Re,rootName:ye},ve)=>{const fe=(0,v.useRef)(null);return(0,v.useEffect)(()=>{let Ge,De;return Re.runAfterMount(({instance:Pe})=>{fe.current&&(De=Pe,Ge=Pe.ui.view.createEditable(ye,fe.current),Pe.ui.addEditable(Ge),Pe.editing.view.forceRender())}),()=>{Ge&&fe.current&&De&&De.state!=="destroyed"&&De.ui.removeEditable(Ge)}},[Re.revision]),x().createElement("div",{key:Re.revision,id:Ie,ref:j(ve,fe)})}));ne.displayName="EditorEditable";const oe=(0,v.forwardRef)(({editor:Ie},Re)=>{const ye=(0,v.useRef)(null);return(0,v.useEffect)(()=>{const ve=ye.current;if(!Ie||!ve)return;const fe=Ie.ui.view.toolbar.element;return ve&&ve.appendChild(fe),()=>{ve&&ve.removeChild(fe)}},[Ie&&Ie.id]),x().createElement("div",{ref:j(ye,Re)})});oe.displayName="EditorToolbarWrapper";const be=Ie=>{const Re=(0,v.useRef)(Ie.semaphoreElement||null),ye=(()=>{const Vt=(0,v.useRef)(null),[Yt,It]=(0,v.useState)(()=>Date.now()),bt=()=>{It(Date.now())},yt=(Jt=!0)=>{Vt.current&&(Vt.current.release(),Vt.current=null),Jt&&It(Date.now())},kt=Jt=>{Vt.current&&Vt.current.runAfterMount(Jt)};return{get current(){return Vt.current},revision:Yt,createAttributeRef:Jt=>({get current(){return Vt.current&&Vt.current.value?Vt.current.value[Jt]:null}}),unsafeSetValue:Jt=>{var tn;(tn=Vt.current)===null||tn===void 0||tn.unsafeSetValue(Jt),bt()},release:yt,replace:Jt=>{yt(!1),Vt.current=Jt(),bt(),kt(bt)},runAfterMount:kt}})(),ve={watchdog:ye.createAttributeRef("watchdog"),instance:ye.createAttributeRef("instance")},fe=(0,v.useContext)(H),[Ge,De]=(0,v.useState)(()=>Object.keys(Ie.data)),[Pe,me]=(0,v.useState)({...Ie.data}),[_e,pe]=(0,v.useState)({...Ie.rootsAttributes}),Ee=(0,v.useRef)(!0);(0,v.useEffect)(()=>{const Vt=Re.current;if(Vt&&Ie.isLayoutReady!==!1)return ye.replace(()=>new L(Vt,{mount:lt,afterMount:({mountResult:Yt})=>{const{onReady:It}=Ie;It&&Re.current!==null&&It(Yt.instance)},unmount:async({element:Yt,mountResult:It})=>{const{onAfterDestroy:bt}=Ie;try{await ct(It),Yt.innerHTML=""}finally{bt&&bt(It.instance)}}})),()=>{ye.release(!1)}},[Ie.id,Ie.isLayoutReady]);const We=()=>{const Vt=Ie.config||{};return Ie.data&&Vt.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...Vt,rootsAttributes:_e}},Ue=P((Vt,Yt)=>{const It=Vt.model.document;if(!Ie.disableTwoWayDataBinding){const bt={},yt={};It.differ.getChanges().forEach(kt=>{let Jt;if(Jt=kt.type=="insert"||kt.type=="remove"?kt.position.root:kt.range.root,!Jt.isAttached())return;const{rootName:tn}=Jt;bt[tn]=Vt.getData({rootName:tn})}),It.differ.getChangedRoots().forEach(kt=>{if(kt.state)return void(bt[kt.name]!==void 0&&delete bt[kt.name]);const Jt=kt.name;yt[Jt]=Vt.getRootAttributes(Jt)}),Object.keys(bt).length&&me(kt=>({...kt,...bt})),Object.keys(yt).length&&pe(kt=>({...kt,...yt}))}Ie.onChange&&Ie.onChange(Yt,Vt)}),je=P((Vt,Yt,It)=>{const bt=It.rootName;Ie.disableTwoWayDataBinding||(me(yt=>({...yt,[bt]:Vt.getData({rootName:bt})})),pe(yt=>({...yt,[bt]:Vt.getRootAttributes(bt)}))),De(yt=>{return kt=[...yt,It.rootName],Array.from(new Set(kt));var kt})}),qe=P((Vt,Yt,It)=>{const bt=It.rootName;Ie.disableTwoWayDataBinding||(me(yt=>{const{[bt]:kt,...Jt}=yt;return{...Jt}}),pe(yt=>{const{[bt]:kt,...Jt}=yt;return{...Jt}})),De(yt=>yt.filter(kt=>kt!==bt))}),At=P((Vt,Yt)=>(re({...Ie.rootsAttributes},_e),re({...Ie.data},Pe),O(Object.keys(Ie.data),Ge),Ie.editor.create(Vt,Yt).then(It=>{const bt=It.getFullData();re({...bt},Pe),re({...It.getRootsAttributes()},_e),O(Object.keys(bt),Ge),Ie.disabled&&It.enableReadOnlyMode(ce);const yt=It.model.document,kt=It.editing.view.document;return yt.on("change:data",Jt=>Ue(It,Jt)),It.on("addRoot",(Jt,tn)=>je(It,Jt,tn)),It.on("detachRoot",(Jt,tn)=>qe(It,Jt,tn)),kt.on("focus",Jt=>{Ie.onFocus&&Ie.onFocus(Jt,It)}),kt.on("blur",Jt=>{Ie.onBlur&&Ie.onBlur(Jt,It)}),It}))),ct=Vt=>{const{watchdog:Yt,instance:It}=Vt;return new Promise((bt,yt)=>{setTimeout(async()=>{try{if(Yt)return await Yt.destroy(),bt();if(It)return await It.destroy(),bt();bt()}catch(kt){console.error(kt),yt(kt)}})})},lt=async()=>{if(Ie.disableWatchdog)return{instance:await At(Ie.data,We()),watchdog:null};const Vt=fe instanceof V.ContextWatchdog?new Q(fe):new V.EditorWatchdog(Ie.editor,Ie.watchdogConfig),Yt={current:0};return Vt.setCreator(async(It,bt)=>{const{onAfterDestroy:yt}=Ie;Yt.current>0&&yt&&ve.instance.current&&yt(ve.instance.current);const kt=await At(It,bt);return Yt.current>0&&(ye.unsafeSetValue({instance:kt,watchdog:Vt}),setTimeout(()=>{Ie.onReady&&Ie.onReady(Vt.editor)})),Yt.current++,kt}),Vt.on("error",(It,{error:bt,causesRestart:yt})=>{(Ie.onError||console.error)(bt,{phase:"runtime",willEditorRestart:yt})}),await Vt.create(Pe,We()).catch(It=>{throw(Ie.onError||console.error)(It,{phase:"initialization",willEditorRestart:!1}),It}),{watchdog:Vt,instance:Vt.editor}},at=(0,v.useCallback)(Vt=>{ye.runAfterMount(()=>{Ee.current=!0,me(Vt)})},[me]),Ht=(0,v.useCallback)(Vt=>{ye.runAfterMount(()=>{Ee.current=!0,pe(Vt)})},[pe]),st=x().createElement(oe,{ref:Re,editor:ve.instance.current});de(ye.current,({instance:Vt})=>{Ie.disabled?Vt.enableReadOnlyMode(ce):Vt.disableReadOnlyMode(ce)},[Ie.disabled]),de(ye.current,({instance:Vt})=>{if(Ee.current){Ee.current=!1;const Yt=Object.keys(Pe),It=Object.keys(_e);if(!Yt.every(Wt=>It.includes(Wt)))throw console.error("`data` and `attributes` objects must have the same keys (roots)."),new Error("`data` and `attributes` objects must have the same keys (roots).");const bt=Vt.getFullData(),yt=Vt.getRootsAttributes(),{addedKeys:kt,removedKeys:Jt}=((Wt,Dt)=>{const Zt=Object.keys(Wt),Ct=Object.keys(Dt);return{addedKeys:Ct.filter(Kt=>!Zt.includes(Kt)),removedKeys:Zt.filter(Kt=>!Ct.includes(Kt))}})(bt,Pe||{}),tn=Yt.some(Wt=>bt[Wt]!==void 0&&JSON.stringify(bt[Wt])!==JSON.stringify(Pe[Wt])),An=It.filter(Wt=>JSON.stringify(yt[Wt])!==JSON.stringify(_e[Wt])),dn=Wt=>{Wt.forEach(Dt=>{Vt.addRoot(Dt,{data:Pe[Dt]||"",attributes:(_e==null?void 0:_e[Dt])||{},isUndoable:!0})})},Bn=Wt=>{Wt.forEach(Dt=>{Vt.detachRoot(Dt,!0)})},wt=()=>{Vt.data.set(Pe,{suppressErrorInCollaboration:!0})},St=(Wt,Dt)=>{Dt.forEach(Zt=>{Object.keys(_e[Zt]).forEach(Ct=>{Vt.registerRootAttribute(Ct)}),Wt.clearAttributes(Vt.model.document.getRoot(Zt)),Wt.setAttributes(_e[Zt],Vt.model.document.getRoot(Zt))})};setTimeout(()=>{Vt.model.change(Wt=>{dn(kt),Bn(Jt),tn&&wt(),An.length&&St(Wt,An)})})}},[Pe,_e]);const Ke=Ge.map(Vt=>x().createElement(ne,{key:Vt,id:Vt,rootName:Vt,semaphore:ye}));return{editor:ve.instance.current,editableElements:Ke,toolbarElement:st,data:Pe,setData:at,attributes:_e,setAttributes:Ht}}})(),m})())})(yQ);var KQ=yQ.exports,ak={exports:{}};ak.exports;(function(e,t){(function(i){const o=i.en=i.en||{};o.dictionary=Object.assign(o.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(i,o){e.exports=o()}(self,()=>(()=>{var i={9246:(u,C,m)=>{const v=m(6931),x={};for(const B of Object.keys(v))x[v[B]]=B;const G={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};u.exports=G;for(const B of Object.keys(G)){if(!("channels"in G[B]))throw new Error("missing channels property: "+B);if(!("labels"in G[B]))throw new Error("missing channel labels property: "+B);if(G[B].labels.length!==G[B].channels)throw new Error("channel and label counts mismatch: "+B);const{channels:R,labels:V}=G[B];delete G[B].channels,delete G[B].labels,Object.defineProperty(G[B],"channels",{value:R}),Object.defineProperty(G[B],"labels",{value:V})}G.rgb.hsl=function(B){const R=B[0]/255,V=B[1]/255,H=B[2]/255,M=Math.min(R,V,H),L=Math.max(R,V,H),_=L-M;let X,Q;L===M?X=0:R===L?X=(V-H)/_:V===L?X=2+(H-R)/_:H===L&&(X=4+(R-V)/_),X=Math.min(60*X,360),X<0&&(X+=360);const j=(M+L)/2;return Q=L===M?0:j<=.5?_/(L+M):_/(2-L-M),[X,100*Q,100*j]},G.rgb.hsv=function(B){let R,V,H,M,L;const _=B[0]/255,X=B[1]/255,Q=B[2]/255,j=Math.max(_,X,Q),re=j-Math.min(_,X,Q),P=function(O){return(j-O)/6/re+.5};return re===0?(M=0,L=0):(L=re/j,R=P(_),V=P(X),H=P(Q),_===j?M=H-V:X===j?M=.3333333333333333+R-H:Q===j&&(M=.6666666666666666+V-R),M<0?M+=1:M>1&&(M-=1)),[360*M,100*L,100*j]},G.rgb.hwb=function(B){const R=B[0],V=B[1];let H=B[2];const M=G.rgb.hsl(B)[0],L=1/255*Math.min(R,Math.min(V,H));return H=1-.00392156862745098*Math.max(R,Math.max(V,H)),[M,100*L,100*H]},G.rgb.cmyk=function(B){const R=B[0]/255,V=B[1]/255,H=B[2]/255,M=Math.min(1-R,1-V,1-H);return[100*((1-R-M)/(1-M)||0),100*((1-V-M)/(1-M)||0),100*((1-H-M)/(1-M)||0),100*M]},G.rgb.keyword=function(B){const R=x[B];if(R)return R;let V,H=1/0;for(const _ of Object.keys(v)){const X=v[_],Q=(L=X,((M=B)[0]-L[0])**2+(M[1]-L[1])**2+(M[2]-L[2])**2);Q<H&&(H=Q,V=_)}var M,L;return V},G.keyword.rgb=function(B){return v[B]},G.rgb.xyz=function(B){let R=B[0]/255,V=B[1]/255,H=B[2]/255;return R=R>.04045?((R+.055)/1.055)**2.4:R/12.92,V=V>.04045?((V+.055)/1.055)**2.4:V/12.92,H=H>.04045?((H+.055)/1.055)**2.4:H/12.92,[100*(.4124*R+.3576*V+.1805*H),100*(.2126*R+.7152*V+.0722*H),100*(.0193*R+.1192*V+.9505*H)]},G.rgb.lab=function(B){const R=G.rgb.xyz(B);let V=R[0],H=R[1],M=R[2];return V/=95.047,H/=100,M/=108.883,V=V>.008856?V**.3333333333333333:7.787*V+.13793103448275862,H=H>.008856?H**.3333333333333333:7.787*H+.13793103448275862,M=M>.008856?M**.3333333333333333:7.787*M+.13793103448275862,[116*H-16,500*(V-H),200*(H-M)]},G.hsl.rgb=function(B){const R=B[0]/360,V=B[1]/100,H=B[2]/100;let M,L,_;if(V===0)return _=255*H,[_,_,_];M=H<.5?H*(1+V):H+V-H*V;const X=2*H-M,Q=[0,0,0];for(let j=0;j<3;j++)L=R+.3333333333333333*-(j-1),L<0&&L++,L>1&&L--,_=6*L<1?X+6*(M-X)*L:2*L<1?M:3*L<2?X+(M-X)*(.6666666666666666-L)*6:X,Q[j]=255*_;return Q},G.hsl.hsv=function(B){const R=B[0];let V=B[1]/100,H=B[2]/100,M=V;const L=Math.max(H,.01);return H*=2,V*=H<=1?H:2-H,M*=L<=1?L:2-L,[R,100*(H===0?2*M/(L+M):2*V/(H+V)),100*((H+V)/2)]},G.hsv.rgb=function(B){const R=B[0]/60,V=B[1]/100;let H=B[2]/100;const M=Math.floor(R)%6,L=R-Math.floor(R),_=255*H*(1-V),X=255*H*(1-V*L),Q=255*H*(1-V*(1-L));switch(H*=255,M){case 0:return[H,Q,_];case 1:return[X,H,_];case 2:return[_,H,Q];case 3:return[_,X,H];case 4:return[Q,_,H];case 5:return[H,_,X]}},G.hsv.hsl=function(B){const R=B[0],V=B[1]/100,H=B[2]/100,M=Math.max(H,.01);let L,_;_=(2-V)*H;const X=(2-V)*M;return L=V*M,L/=X<=1?X:2-X,L=L||0,_/=2,[R,100*L,100*_]},G.hwb.rgb=function(B){const R=B[0]/360;let V=B[1]/100,H=B[2]/100;const M=V+H;let L;M>1&&(V/=M,H/=M);const _=Math.floor(6*R),X=1-H;L=6*R-_,1&_&&(L=1-L);const Q=V+L*(X-V);let j,re,P;switch(_){default:case 6:case 0:j=X,re=Q,P=V;break;case 1:j=Q,re=X,P=V;break;case 2:j=V,re=X,P=Q;break;case 3:j=V,re=Q,P=X;break;case 4:j=Q,re=V,P=X;break;case 5:j=X,re=V,P=Q}return[255*j,255*re,255*P]},G.cmyk.rgb=function(B){const R=B[0]/100,V=B[1]/100,H=B[2]/100,M=B[3]/100;return[255*(1-Math.min(1,R*(1-M)+M)),255*(1-Math.min(1,V*(1-M)+M)),255*(1-Math.min(1,H*(1-M)+M))]},G.xyz.rgb=function(B){const R=B[0]/100,V=B[1]/100,H=B[2]/100;let M,L,_;return M=3.2406*R+-1.5372*V+-.4986*H,L=-.9689*R+1.8758*V+.0415*H,_=.0557*R+-.204*V+1.057*H,M=M>.0031308?1.055*M**.4166666666666667-.055:12.92*M,L=L>.0031308?1.055*L**.4166666666666667-.055:12.92*L,_=_>.0031308?1.055*_**.4166666666666667-.055:12.92*_,M=Math.min(Math.max(0,M),1),L=Math.min(Math.max(0,L),1),_=Math.min(Math.max(0,_),1),[255*M,255*L,255*_]},G.xyz.lab=function(B){let R=B[0],V=B[1],H=B[2];return R/=95.047,V/=100,H/=108.883,R=R>.008856?R**.3333333333333333:7.787*R+.13793103448275862,V=V>.008856?V**.3333333333333333:7.787*V+.13793103448275862,H=H>.008856?H**.3333333333333333:7.787*H+.13793103448275862,[116*V-16,500*(R-V),200*(V-H)]},G.lab.xyz=function(B){let R,V,H;V=(B[0]+16)/116,R=B[1]/500+V,H=V-B[2]/200;const M=V**3,L=R**3,_=H**3;return V=M>.008856?M:(V-.13793103448275862)/7.787,R=L>.008856?L:(R-.13793103448275862)/7.787,H=_>.008856?_:(H-.13793103448275862)/7.787,R*=95.047,V*=100,H*=108.883,[R,V,H]},G.lab.lch=function(B){const R=B[0],V=B[1],H=B[2];let M;return M=360*Math.atan2(H,V)/2/Math.PI,M<0&&(M+=360),[R,Math.sqrt(V*V+H*H),M]},G.lch.lab=function(B){const R=B[0],V=B[1],H=B[2]/360*2*Math.PI;return[R,V*Math.cos(H),V*Math.sin(H)]},G.rgb.ansi16=function(B,R=null){const[V,H,M]=B;let L=R===null?G.rgb.hsv(B)[2]:R;if(L=Math.round(L/50),L===0)return 30;let _=30+(Math.round(M/255)<<2|Math.round(H/255)<<1|Math.round(V/255));return L===2&&(_+=60),_},G.hsv.ansi16=function(B){return G.rgb.ansi16(G.hsv.rgb(B),B[2])},G.rgb.ansi256=function(B){const R=B[0],V=B[1],H=B[2];return R===V&&V===H?R<8?16:R>248?231:Math.round((R-8)/247*24)+232:16+36*Math.round(R/255*5)+6*Math.round(V/255*5)+Math.round(H/255*5)},G.ansi16.rgb=function(B){let R=B%10;if(R===0||R===7)return B>50&&(R+=3.5),R=R/10.5*255,[R,R,R];const V=.5*(1+~~(B>50));return[(1&R)*V*255,(R>>1&1)*V*255,(R>>2&1)*V*255]},G.ansi256.rgb=function(B){if(B>=232){const V=10*(B-232)+8;return[V,V,V]}let R;return B-=16,[Math.floor(B/36)/5*255,Math.floor((R=B%36)/6)/5*255,R%6/5*255]},G.rgb.hex=function(B){const R=(((255&Math.round(B[0]))<<16)+((255&Math.round(B[1]))<<8)+(255&Math.round(B[2]))).toString(16).toUpperCase();return"000000".substring(R.length)+R},G.hex.rgb=function(B){const R=B.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!R)return[0,0,0];let V=R[0];R[0].length===3&&(V=V.split("").map(M=>M+M).join(""));const H=parseInt(V,16);return[H>>16&255,H>>8&255,255&H]},G.rgb.hcg=function(B){const R=B[0]/255,V=B[1]/255,H=B[2]/255,M=Math.max(Math.max(R,V),H),L=Math.min(Math.min(R,V),H),_=M-L;let X,Q;return X=_<1?L/(1-_):0,Q=_<=0?0:M===R?(V-H)/_%6:M===V?2+(H-R)/_:4+(R-V)/_,Q/=6,Q%=1,[360*Q,100*_,100*X]},G.hsl.hcg=function(B){const R=B[1]/100,V=B[2]/100,H=V<.5?2*R*V:2*R*(1-V);let M=0;return H<1&&(M=(V-.5*H)/(1-H)),[B[0],100*H,100*M]},G.hsv.hcg=function(B){const R=B[1]/100,V=B[2]/100,H=R*V;let M=0;return H<1&&(M=(V-H)/(1-H)),[B[0],100*H,100*M]},G.hcg.rgb=function(B){const R=B[0]/360,V=B[1]/100,H=B[2]/100;if(V===0)return[255*H,255*H,255*H];const M=[0,0,0],L=R%1*6,_=L%1,X=1-_;let Q=0;switch(Math.floor(L)){case 0:M[0]=1,M[1]=_,M[2]=0;break;case 1:M[0]=X,M[1]=1,M[2]=0;break;case 2:M[0]=0,M[1]=1,M[2]=_;break;case 3:M[0]=0,M[1]=X,M[2]=1;break;case 4:M[0]=_,M[1]=0,M[2]=1;break;default:M[0]=1,M[1]=0,M[2]=X}return Q=(1-V)*H,[255*(V*M[0]+Q),255*(V*M[1]+Q),255*(V*M[2]+Q)]},G.hcg.hsv=function(B){const R=B[1]/100,V=R+B[2]/100*(1-R);let H=0;return V>0&&(H=R/V),[B[0],100*H,100*V]},G.hcg.hsl=function(B){const R=B[1]/100,V=B[2]/100*(1-R)+.5*R;let H=0;return V>0&&V<.5?H=R/(2*V):V>=.5&&V<1&&(H=R/(2*(1-V))),[B[0],100*H,100*V]},G.hcg.hwb=function(B){const R=B[1]/100,V=R+B[2]/100*(1-R);return[B[0],100*(V-R),100*(1-V)]},G.hwb.hcg=function(B){const R=B[1]/100,V=1-B[2]/100,H=V-R;let M=0;return H<1&&(M=(V-H)/(1-H)),[B[0],100*H,100*M]},G.apple.rgb=function(B){return[B[0]/65535*255,B[1]/65535*255,B[2]/65535*255]},G.rgb.apple=function(B){return[B[0]/255*65535,B[1]/255*65535,B[2]/255*65535]},G.gray.rgb=function(B){return[B[0]/100*255,B[0]/100*255,B[0]/100*255]},G.gray.hsl=function(B){return[0,0,B[0]]},G.gray.hsv=G.gray.hsl,G.gray.hwb=function(B){return[0,100,B[0]]},G.gray.cmyk=function(B){return[0,0,0,B[0]]},G.gray.lab=function(B){return[B[0],0,0]},G.gray.hex=function(B){const R=255&Math.round(B[0]/100*255),V=((R<<16)+(R<<8)+R).toString(16).toUpperCase();return"000000".substring(V.length)+V},G.rgb.gray=function(B){return[(B[0]+B[1]+B[2])/3/255*100]}},9047:(u,C,m)=>{const v=m(9246),x=m(802),G={};Object.keys(v).forEach(B=>{G[B]={},Object.defineProperty(G[B],"channels",{value:v[B].channels}),Object.defineProperty(G[B],"labels",{value:v[B].labels});const R=x(B);Object.keys(R).forEach(V=>{const H=R[V];G[B][V]=function(M){const L=function(..._){const X=_[0];if(X==null)return X;X.length>1&&(_=X);const Q=M(_);if(typeof Q=="object")for(let j=Q.length,re=0;re<j;re++)Q[re]=Math.round(Q[re]);return Q};return"conversion"in M&&(L.conversion=M.conversion),L}(H),G[B][V].raw=function(M){const L=function(..._){const X=_[0];return X==null?X:(X.length>1&&(_=X),M(_))};return"conversion"in M&&(L.conversion=M.conversion),L}(H)})}),u.exports=G},802:(u,C,m)=>{const v=m(9246);function x(R){const V=function(){const M={},L=Object.keys(v);for(let _=L.length,X=0;X<_;X++)M[L[X]]={distance:-1,parent:null};return M}(),H=[R];for(V[R].distance=0;H.length;){const M=H.pop(),L=Object.keys(v[M]);for(let _=L.length,X=0;X<_;X++){const Q=L[X],j=V[Q];j.distance===-1&&(j.distance=V[M].distance+1,j.parent=M,H.unshift(Q))}}return V}function G(R,V){return function(H){return V(R(H))}}function B(R,V){const H=[V[R].parent,R];let M=v[V[R].parent][R],L=V[R].parent;for(;V[L].parent;)H.unshift(V[L].parent),M=G(v[V[L].parent][L],M),L=V[L].parent;return M.conversion=H,M}u.exports=function(R){const V=x(R),H={},M=Object.keys(V);for(let L=M.length,_=0;_<L;_++){const X=M[_];V[X].parent!==null&&(H[X]=B(X,V))}return H}},6931:u=>{u.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const R=B},8708:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const R=B},1866:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const R=B},7793:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const R=B},7388:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=B},4098:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const R=B},8264:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const R=B},6269:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const R=B},265:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const R=B},5247:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const R=B},4642:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=B},3350:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const R=B},7378:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const R=B},3469:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const R=B},6386:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const R=B},7693:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const R=B},1559:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const R=B},2267:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const R=B},4062:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=B},7719:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const R=B},8762:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const R=B},3817:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const R=B},4808:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const R=B},1232:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const R=B},6903:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const R=B},9968:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const R=B},7141:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const R=B},8991:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const R=B},70:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const R=B},7048:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const R=B},5651:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=B},5506:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=B},4043:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const R=B},2655:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const R=B},5032:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const R=B},2329:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const R=B},4143:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const R=B},8986:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const R=B},8795:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const R=B},8137:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const R=B},1623:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=B},5562:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const R=B},8423:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const R=B},1801:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const R=B},5727:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const R=B},9715:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const R=B},4391:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const R=B},25:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const R=B},7317:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const R=B},1905:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const R=B},6309:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const R=B},9819:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const R=B},9822:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const R=B},8149:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=B},3629:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=B},1792:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=B},1666:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const R=B},8527:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const R=B},1185:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const R=B},7913:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const R=B},9529:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const R=B},7621:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const R=B},253:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const R=B},7801:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const R=B},4962:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=B},5199:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=B},497:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const R=B},4:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const R=B},3344:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const R=B},9481:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const R=B},977:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const R=B},9108:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const R=B},3710:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const R=B},991:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const R=B},5380:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const R=B},8298:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const R=B},2722:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const R=B},8107:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const R=B},109:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const R=B},1671:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const R=B},2710:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const R=B},9677:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const R=B},9205:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const R=B},7676:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const R=B},695:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const R=B},4095:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const R=B},8508:(u,C,m)=>{m.d(C,{A:()=>R});var v=m(9372),x=m.n(v),G=m(935),B=m.n(G)()(x());B.push([u.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const R=B},935:u=>{u.exports=function(C){var m=[];return m.toString=function(){return this.map(function(v){var x=C(v);return v[2]?"@media ".concat(v[2]," {").concat(x,"}"):x}).join("")},m.i=function(v,x,G){typeof v=="string"&&(v=[[null,v,""]]);var B={};if(G)for(var R=0;R<this.length;R++){var V=this[R][0];V!=null&&(B[V]=!0)}for(var H=0;H<v.length;H++){var M=[].concat(v[H]);G&&B[M[0]]||(x&&(M[2]?M[2]="".concat(x," and ").concat(M[2]):M[2]=x),m.push(M))}},m}},9372:u=>{function C(v,x){return function(G){if(Array.isArray(G))return G}(v)||function(G,B){var R=G&&(typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"]);if(R!=null){var V,H,M=[],L=!0,_=!1;try{for(R=R.call(G);!(L=(V=R.next()).done)&&(M.push(V.value),!B||M.length!==B);L=!0);}catch(X){_=!0,H=X}finally{try{L||R.return==null||R.return()}finally{if(_)throw H}}return M}}(v,x)||function(G,B){if(G){if(typeof G=="string")return m(G,B);var R=Object.prototype.toString.call(G).slice(8,-1);if(R==="Object"&&G.constructor&&(R=G.constructor.name),R==="Map"||R==="Set")return Array.from(G);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return m(G,B)}}(v,x)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m(v,x){(x==null||x>v.length)&&(x=v.length);for(var G=0,B=new Array(x);G<x;G++)B[G]=v[G];return B}u.exports=function(v){var x=C(v,4),G=x[1],B=x[3];if(!B)return G;if(typeof btoa=="function"){var R=btoa(unescape(encodeURIComponent(JSON.stringify(B)))),V="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(R),H="/*# ".concat(V," */"),M=B.sources.map(function(L){return"/*# sourceURL=".concat(B.sourceRoot||"").concat(L," */")});return[G].concat(M).concat([H]).join(`
`)}return[G].join(`
`)}},2591:(u,C,m)=>{var v,x=function(){return v===void 0&&(v=!!(window&&document&&document.all&&!window.atob)),v},G=function(){var P={};return function(O){if(P[O]===void 0){var de=document.querySelector(O);if(window.HTMLIFrameElement&&de instanceof window.HTMLIFrameElement)try{de=de.contentDocument.head}catch{de=null}P[O]=de}return P[O]}}(),B=[];function R(P){for(var O=-1,de=0;de<B.length;de++)if(B[de].identifier===P){O=de;break}return O}function V(P,O){for(var de={},ce=[],ne=0;ne<P.length;ne++){var oe=P[ne],be=O.base?oe[0]+O.base:oe[0],Ie=de[be]||0,Re="".concat(be," ").concat(Ie);de[be]=Ie+1;var ye=R(Re),ve={css:oe[1],media:oe[2],sourceMap:oe[3]};ye!==-1?(B[ye].references++,B[ye].updater(ve)):B.push({identifier:Re,updater:re(ve,O),references:1}),ce.push(Re)}return ce}function H(P){var O=document.createElement("style"),de=P.attributes||{};if(de.nonce===void 0){var ce=m.nc;ce&&(de.nonce=ce)}if(Object.keys(de).forEach(function(oe){O.setAttribute(oe,de[oe])}),typeof P.insert=="function")P.insert(O);else{var ne=G(P.insert||"head");if(!ne)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ne.appendChild(O)}return O}var M,L=(M=[],function(P,O){return M[P]=O,M.filter(Boolean).join(`
`)});function _(P,O,de,ce){var ne=de?"":ce.media?"@media ".concat(ce.media," {").concat(ce.css,"}"):ce.css;if(P.styleSheet)P.styleSheet.cssText=L(O,ne);else{var oe=document.createTextNode(ne),be=P.childNodes;be[O]&&P.removeChild(be[O]),be.length?P.insertBefore(oe,be[O]):P.appendChild(oe)}}function X(P,O,de){var ce=de.css,ne=de.media,oe=de.sourceMap;if(ne?P.setAttribute("media",ne):P.removeAttribute("media"),oe&&typeof btoa<"u"&&(ce+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(oe))))," */")),P.styleSheet)P.styleSheet.cssText=ce;else{for(;P.firstChild;)P.removeChild(P.firstChild);P.appendChild(document.createTextNode(ce))}}var Q=null,j=0;function re(P,O){var de,ce,ne;if(O.singleton){var oe=j++;de=Q||(Q=H(O)),ce=_.bind(null,de,oe,!1),ne=_.bind(null,de,oe,!0)}else de=H(O),ce=X.bind(null,de,O),ne=function(){(function(be){if(be.parentNode===null)return!1;be.parentNode.removeChild(be)})(de)};return ce(P),function(be){if(be){if(be.css===P.css&&be.media===P.media&&be.sourceMap===P.sourceMap)return;ce(P=be)}else ne()}}u.exports=function(P,O){(O=O||{}).singleton||typeof O.singleton=="boolean"||(O.singleton=x());var de=V(P=P||[],O);return function(ce){if(ce=ce||[],Object.prototype.toString.call(ce)==="[object Array]"){for(var ne=0;ne<de.length;ne++){var oe=R(de[ne]);B[oe].references--}for(var be=V(ce,O),Ie=0;Ie<de.length;Ie++){var Re=R(de[Ie]);B[Re].references===0&&(B[Re].updater(),B.splice(Re,1))}de=be}}}}},o={};function s(u){var C=o[u];if(C!==void 0)return C.exports;var m=o[u]={id:u,exports:{}};return i[u](m,m.exports,s),m.exports}s.n=u=>{var C=u&&u.__esModule?()=>u.default:()=>u;return s.d(C,{a:C}),C},s.d=(u,C)=>{for(var m in C)s.o(C,m)&&!s.o(u,m)&&Object.defineProperty(u,m,{enumerable:!0,get:C[m]})},s.o=(u,C)=>Object.prototype.hasOwnProperty.call(u,C),s.nc=void 0;var c={};return(()=>{let u;s.d(c,{default:()=>mx});try{u={window,document}}catch{u={window:{},document:{}}}const C=u,m=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var v;const x={isMac:G(m),isWindows:(v=m,v.indexOf("windows")>-1),isGecko:function(l){return!!l.match(/gecko\/\d+/)}(m),isSafari:function(l){return l.indexOf(" applewebkit/")>-1&&l.indexOf("chrome")===-1}(m),isiOS:function(l){return!!l.match(/iphone|ipad/i)||G(l)&&navigator.maxTouchPoints>0}(m),isAndroid:function(l){return l.indexOf("android")>-1}(m),isBlink:function(l){return l.indexOf("chrome/")>-1&&l.indexOf("edge/")<0}(m),get isMediaForcedColors(){return!!C.window.matchMedia&&C.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!C.window.matchMedia&&C.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:function(){let l=!1;try{l="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return l}()}};function G(l){return l.indexOf("macintosh")>-1}function B(l,n,r,a){r=r||function(S,N){return S===N};const g=Array.isArray(l)?l:Array.prototype.slice.call(l),h=Array.isArray(n)?n:Array.prototype.slice.call(n),f=function(S,N,W){const J=R(S,N,W);if(J===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const ee=V(S,J),se=V(N,J),ue=R(ee,se,W),xe=S.length-ue,Le=N.length-ue;return{firstIndex:J,lastIndexOld:xe,lastIndexNew:Le}}(g,h,r);return a?function(S,N){const{firstIndex:W,lastIndexOld:J,lastIndexNew:ee}=S;if(W===-1)return Array(N).fill("equal");let se=[];return W>0&&(se=se.concat(Array(W).fill("equal"))),ee-W>0&&(se=se.concat(Array(ee-W).fill("insert"))),J-W>0&&(se=se.concat(Array(J-W).fill("delete"))),ee<N&&(se=se.concat(Array(N-ee).fill("equal"))),se}(f,h.length):function(S,N){const W=[],{firstIndex:J,lastIndexOld:ee,lastIndexNew:se}=N;return se-J>0&&W.push({index:J,type:"insert",values:S.slice(J,se)}),ee-J>0&&W.push({index:J+(se-J),type:"delete",howMany:ee-J}),W}(h,f)}function R(l,n,r){for(let a=0;a<Math.max(l.length,n.length);a++)if(l[a]===void 0||n[a]===void 0||!r(l[a],n[a]))return a;return-1}function V(l,n){return l.slice(n).reverse()}function H(l,n,r){r=r||function(xe,Le){return xe===Le};const a=l.length,g=n.length;if(a>200||g>200||a+g>300)return H.fastDiff(l,n,r,!0);let h,f;if(g<a){const xe=l;l=n,n=xe,h="delete",f="insert"}else h="insert",f="delete";const b=l.length,S=n.length,N=S-b,W={},J={};function ee(xe){const Le=(J[xe-1]!==void 0?J[xe-1]:-1)+1,Ye=J[xe+1]!==void 0?J[xe+1]:-1,$e=Le>Ye?-1:1;W[xe+$e]&&(W[xe]=W[xe+$e].slice(0)),W[xe]||(W[xe]=[]),W[xe].push(Le>Ye?h:f);let ht=Math.max(Le,Ye),Tt=ht-xe;for(;Tt<b&&ht<S&&r(l[Tt],n[ht]);)Tt++,ht++,W[xe].push("equal");return ht}let se,ue=0;do{for(se=-ue;se<N;se++)J[se]=ee(se);for(se=N+ue;se>N;se--)J[se]=ee(se);J[N]=ee(N),ue++}while(J[N]!==S);return W[N].slice(1)}H.fastDiff=B;const M=function(){return function l(){l.called=!0}};class L{constructor(n,r){this.source=n,this.name=r,this.path=[],this.stop=M(),this.off=M()}}const _=new Array(256).fill("").map((l,n)=>("0"+n.toString(16)).slice(-2));function X(){const l=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+_[255&l]+_[l>>8&255]+_[l>>16&255]+_[l>>24&255]+_[255&n]+_[n>>8&255]+_[n>>16&255]+_[n>>24&255]+_[255&r]+_[r>>8&255]+_[r>>16&255]+_[r>>24&255]+_[255&a]+_[a>>8&255]+_[a>>16&255]+_[a>>24&255]}const Q={get(l="normal"){return typeof l!="number"?this[l]||this.normal:l},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function j(l,n){const r=Q.get(n.priority);for(let a=0;a<l.length;a++)if(Q.get(l[a].priority)<r)return void l.splice(a,0,n);l.push(n)}const re="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class P extends Error{constructor(n,r,a){super(function(g,h){const f=new WeakSet,b=(W,J)=>{if(typeof J=="object"&&J!==null){if(f.has(J))return`[object ${J.constructor.name}]`;f.add(J)}return J},S=h?` ${JSON.stringify(h,b)}`:"",N=ce(g);return g+S+N}(n,a)),this.name="CKEditorError",this.context=r,this.data=a}is(n){return n==="CKEditorError"}static rethrowUnexpectedError(n,r){if(n.is&&n.is("CKEditorError"))throw n;const a=new P(n.message,r);throw a.stack=n.stack,a}}function O(l,n){console.warn(...ne(l,n))}function de(l,n){console.error(...ne(l,n))}function ce(l){return`
Read more: ${re}#error-${l}`}function ne(l,n){const r=ce(l);return n?[l,n,r]:[l,r]}const oe="41.4.2",be=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new P("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=oe;const Ie=Symbol("listeningTo"),Re=Symbol("emitterId"),ye=Symbol("delegations"),ve=fe(Object);function fe(l){return l?class extends l{on(n,r,a){this.listenTo(this,n,r,a)}once(n,r,a){let g=!1;this.listenTo(this,n,(h,...f)=>{g||(g=!0,h.off(),r.call(this,h,...f))},a)}off(n,r){this.stopListening(this,n,r)}listenTo(n,r,a,g={}){let h,f;this[Ie]||(this[Ie]={});const b=this[Ie];De(n)||Ge(n);const S=De(n);(h=b[S])||(h=b[S]={emitter:n,callbacks:{}}),(f=h.callbacks[r])||(f=h.callbacks[r]=[]),f.push(a),function(N,W,J,ee,se){W._addEventListener?W._addEventListener(J,ee,se):N._addEventListener.call(W,J,ee,se)}(this,n,r,a,g)}stopListening(n,r,a){const g=this[Ie];let h=n&&De(n);const f=g&&h?g[h]:void 0,b=f&&r?f.callbacks[r]:void 0;if(!(!g||n&&!f||r&&!b))if(a)Ee(this,n,r,a),b.indexOf(a)!==-1&&(b.length===1?delete f.callbacks[r]:Ee(this,n,r,a));else if(b){for(;a=b.pop();)Ee(this,n,r,a);delete f.callbacks[r]}else if(f){for(r in f.callbacks)this.stopListening(n,r);delete g[h]}else{for(h in g)this.stopListening(g[h].emitter);delete this[Ie]}}fire(n,...r){try{const a=n instanceof L?n:new L(this,n),g=a.name;let h=_e(this,g);if(a.path.push(this),h){const b=[a,...r];h=Array.from(h);for(let S=0;S<h.length&&(h[S].callback.apply(this,b),a.off.called&&(delete a.off.called,this._removeEventListener(g,h[S].callback)),!a.stop.called);S++);}const f=this[ye];if(f){const b=f.get(g),S=f.get("*");b&&pe(b,a,r),S&&pe(S,a,r)}return a.return}catch(a){P.rethrowUnexpectedError(a,this)}}delegate(...n){return{to:(r,a)=>{this[ye]||(this[ye]=new Map),n.forEach(g=>{const h=this[ye].get(g);h?h.set(r,a):this[ye].set(g,new Map([[r,a]]))})}}}stopDelegating(n,r){if(this[ye])if(n)if(r){const a=this[ye].get(n);a&&a.delete(r)}else this[ye].delete(n);else this[ye].clear()}_addEventListener(n,r,a){(function(f,b){const S=Pe(f);if(S[b])return;let N=b,W=null;const J=[];for(;N!==""&&!S[N];)S[N]={callbacks:[],childEvents:[]},J.push(S[N]),W&&S[N].childEvents.push(W),W=N,N=N.substr(0,N.lastIndexOf(":"));if(N!==""){for(const ee of J)ee.callbacks=S[N].callbacks.slice();S[N].childEvents.push(W)}})(this,n);const g=me(this,n),h={callback:r,priority:Q.get(a.priority)};for(const f of g)j(f,h)}_removeEventListener(n,r){const a=me(this,n);for(const g of a)for(let h=0;h<g.length;h++)g[h].callback==r&&(g.splice(h,1),h--)}}:ve}function Ge(l,n){l[Re]||(l[Re]=n||X())}function De(l){return l[Re]}function Pe(l){return l._events||Object.defineProperty(l,"_events",{value:{}}),l._events}function me(l,n){const r=Pe(l)[n];if(!r)return[];let a=[r.callbacks];for(let g=0;g<r.childEvents.length;g++){const h=me(l,r.childEvents[g]);a=a.concat(h)}return a}function _e(l,n){let r;return l._events&&(r=l._events[n])&&r.callbacks.length?r.callbacks:n.indexOf(":")>-1?_e(l,n.substr(0,n.lastIndexOf(":"))):null}function pe(l,n,r){for(let[a,g]of l){g?typeof g=="function"&&(g=g(n.name)):g=n.name;const h=new L(n.source,g);h.path=[...n.path],a.fire(h,...r)}}function Ee(l,n,r,a){n._removeEventListener?n._removeEventListener(r,a):l._removeEventListener.call(n,r,a)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{fe[l]=ve.prototype[l]});const We=function(l){var n=typeof l;return l!=null&&(n=="object"||n=="function")},Ue=Symbol("observableProperties"),je=Symbol("boundObservables"),qe=Symbol("boundProperties"),At=Symbol("decoratedMethods"),ct=Symbol("decoratedOriginal"),lt=at(fe());function at(l){return l?class extends l{set(n,r){if(We(n))return void Object.keys(n).forEach(g=>{this.set(g,n[g])},this);Ht(this);const a=this[Ue];if(n in this&&!a.has(n))throw new P("observable-set-cannot-override",this);Object.defineProperty(this,n,{enumerable:!0,configurable:!0,get:()=>a.get(n),set(g){const h=a.get(n);let f=this.fire(`set:${n}`,n,g,h);f===void 0&&(f=g),h===f&&a.has(n)||(a.set(n,f),this.fire(`change:${n}`,n,f,h))}}),this[n]=r}bind(...n){if(!n.length||!Vt(n))throw new P("observable-bind-wrong-properties",this);if(new Set(n).size!==n.length)throw new P("observable-bind-duplicate-properties",this);Ht(this);const r=this[qe];n.forEach(g=>{if(r.has(g))throw new P("observable-bind-rebind",this)});const a=new Map;return n.forEach(g=>{const h={property:g,to:[]};r.set(g,h),a.set(g,h)}),{to:st,toMany:Ke,_observable:this,_bindProperties:n,_to:[],_bindings:a}}unbind(...n){if(!this[Ue])return;const r=this[qe],a=this[je];if(n.length){if(!Vt(n))throw new P("observable-unbind-wrong-properties",this);n.forEach(g=>{const h=r.get(g);h&&(h.to.forEach(([f,b])=>{const S=a.get(f),N=S[b];N.delete(h),N.size||delete S[b],Object.keys(S).length||(a.delete(f),this.stopListening(f,"change"))}),r.delete(g))})}else a.forEach((g,h)=>{this.stopListening(h,"change")}),a.clear(),r.clear()}decorate(n){Ht(this);const r=this[n];if(!r)throw new P("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:n});this.on(n,(a,g)=>{a.return=r.apply(this,g)}),this[n]=function(...a){return this.fire(n,a)},this[n][ct]=r,this[At]||(this[At]=[]),this[At].push(n)}stopListening(n,r,a){if(!n&&this[At]){for(const g of this[At])this[g]=this[g][ct];delete this[At]}super.stopListening(n,r,a)}}:lt}function Ht(l){l[Ue]||(Object.defineProperty(l,Ue,{value:new Map}),Object.defineProperty(l,je,{value:new Map}),Object.defineProperty(l,qe,{value:new Map}))}function st(...l){const n=function(...h){if(!h.length)throw new P("observable-bind-to-parse-error",null);const f={to:[]};let b;return typeof h[h.length-1]=="function"&&(f.callback=h.pop()),h.forEach(S=>{if(typeof S=="string")b.properties.push(S);else{if(typeof S!="object")throw new P("observable-bind-to-parse-error",null);b={observable:S,properties:[]},f.to.push(b)}}),f}(...l),r=Array.from(this._bindings.keys()),a=r.length;if(!n.callback&&n.to.length>1)throw new P("observable-bind-to-no-callback",this);if(a>1&&n.callback)throw new P("observable-bind-to-extra-callback",this);var g;n.to.forEach(h=>{if(h.properties.length&&h.properties.length!==a)throw new P("observable-bind-to-properties-length",this);h.properties.length||(h.properties=this._bindProperties)}),this._to=n.to,n.callback&&(this._bindings.get(r[0]).callback=n.callback),g=this._observable,this._to.forEach(h=>{const f=g[je];let b;f.get(h.observable)||g.listenTo(h.observable,"change",(S,N)=>{b=f.get(h.observable)[N],b&&b.forEach(W=>{Yt(g,W.property)})})}),function(h){let f;h._bindings.forEach((b,S)=>{h._to.forEach(N=>{f=N.properties[b.callback?0:h._bindProperties.indexOf(S)],b.to.push([N.observable,f]),function(W,J,ee,se){const ue=W[je],xe=ue.get(ee),Le=xe||{};Le[se]||(Le[se]=new Set),Le[se].add(J),xe||ue.set(ee,Le)}(h._observable,b,N.observable,f)})})}(this),this._bindProperties.forEach(h=>{Yt(this._observable,h)})}function Ke(l,n,r){if(this._bindings.size>1)throw new P("observable-bind-to-many-not-one-binding",this);this.to(...function(a,g){const h=a.map(f=>[f,g]);return Array.prototype.concat.apply([],h)}(l,n),r)}function Vt(l){return l.every(n=>typeof n=="string")}function Yt(l,n){const r=l[qe].get(n);let a;r.callback?a=r.callback.apply(l,r.to.map(g=>g[0][g[1]])):(a=r.to[0],a=a[0][a[1]]),Object.prototype.hasOwnProperty.call(l,n)?l[n]=a:l.set(n,a)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{at[l]=lt.prototype[l]});class It{constructor(){this._replacedElements=[]}replace(n,r){this._replacedElements.push({element:n,newElement:r}),n.style.display="none",r&&n.parentNode.insertBefore(r,n.nextSibling)}restore(){this._replacedElements.forEach(({element:n,newElement:r})=>{n.style.display="",r&&r.remove()}),this._replacedElements=[]}}function bt(l){let n=0;for(const r of l)n++;return n}function yt(l,n){const r=Math.min(l.length,n.length);for(let a=0;a<r;a++)if(l[a]!=n[a])return a;return l.length==n.length?"same":l.length<n.length?"prefix":"extension"}function kt(l){return!(!l||!l[Symbol.iterator])}const Jt=typeof gg=="object"&&gg&&gg.Object===Object&&gg;var tn=typeof self=="object"&&self&&self.Object===Object&&self;const An=Jt||tn||Function("return this")(),dn=An.Symbol;var Bn=Object.prototype,wt=Bn.hasOwnProperty,St=Bn.toString,Wt=dn?dn.toStringTag:void 0;const Dt=function(l){var n=wt.call(l,Wt),r=l[Wt];try{l[Wt]=void 0;var a=!0}catch{}var g=St.call(l);return a&&(n?l[Wt]=r:delete l[Wt]),g};var Zt=Object.prototype.toString;const Ct=function(l){return Zt.call(l)};var Kt=dn?dn.toStringTag:void 0;const en=function(l){return l==null?l===void 0?"[object Undefined]":"[object Null]":Kt&&Kt in Object(l)?Dt(l):Ct(l)},Qt=Array.isArray,xn=function(l){return l!=null&&typeof l=="object"},Gn=function(l){return typeof l=="string"||!Qt(l)&&xn(l)&&en(l)=="[object String]"};function ci(l,n,r={},a=[]){const g=r&&r.xmlns,h=g?l.createElementNS(g,n):l.createElement(n);for(const f in r)h.setAttribute(f,r[f]);!Gn(a)&&kt(a)||(a=[a]);for(let f of a)Gn(f)&&(f=l.createTextNode(f)),h.appendChild(f);return h}const Qn=function(l,n){return function(r){return l(n(r))}},rr=Qn(Object.getPrototypeOf,Object);var Lr=Function.prototype,fi=Object.prototype,Sn=Lr.toString,Kn=fi.hasOwnProperty,qo=Sn.call(Object);const qn=function(l){if(!xn(l)||en(l)!="[object Object]")return!1;var n=rr(l);if(n===null)return!0;var r=Kn.call(n,"constructor")&&n.constructor;return typeof r=="function"&&r instanceof r&&Sn.call(r)==qo},To=function(){this.__data__=[],this.size=0},Xr=function(l,n){return l===n||l!=l&&n!=n},yn=function(l,n){for(var r=l.length;r--;)if(Xr(l[r][0],n))return r;return-1};var $o=Array.prototype.splice;const Cs=function(l){var n=this.__data__,r=yn(n,l);return!(r<0)&&(r==n.length-1?n.pop():$o.call(n,r,1),--this.size,!0)},fo=function(l){var n=this.__data__,r=yn(n,l);return r<0?void 0:n[r][1]},or=function(l){return yn(this.__data__,l)>-1},qi=function(l,n){var r=this.__data__,a=yn(r,l);return a<0?(++this.size,r.push([l,n])):r[a][1]=n,this};function Gi(l){var n=-1,r=l==null?0:l.length;for(this.clear();++n<r;){var a=l[n];this.set(a[0],a[1])}}Gi.prototype.clear=To,Gi.prototype.delete=Cs,Gi.prototype.get=fo,Gi.prototype.has=or,Gi.prototype.set=qi;const Lo=Gi,es=function(){this.__data__=new Lo,this.size=0},So=function(l){var n=this.__data__,r=n.delete(l);return this.size=n.size,r},ts=function(l){return this.__data__.get(l)},ui=function(l){return this.__data__.has(l)},ti=function(l){if(!We(l))return!1;var n=en(l);return n=="[object Function]"||n=="[object GeneratorFunction]"||n=="[object AsyncFunction]"||n=="[object Proxy]"},Nr=An["__core-js_shared__"];var $r=function(){var l=/[^.]+$/.exec(Nr&&Nr.keys&&Nr.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}();const _r=function(l){return!!$r&&$r in l};var Fc=Function.prototype.toString;const Be=function(l){if(l!=null){try{return Fc.call(l)}catch{}try{return l+""}catch{}}return""};var d=/^\[object .+?Constructor\]$/,A=Function.prototype,p=Object.prototype,I=A.toString,w=p.hasOwnProperty,k=RegExp("^"+I.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Z=function(l){return!(!We(l)||_r(l))&&(ti(l)?k:d).test(Be(l))},E=function(l,n){return l==null?void 0:l[n]},D=function(l,n){var r=E(l,n);return Z(r)?r:void 0},Y=D(An,"Map"),U=D(Object,"create"),z=function(){this.__data__=U?U(null):{},this.size=0},te=function(l){var n=this.has(l)&&delete this.__data__[l];return this.size-=n?1:0,n};var ae=Object.prototype.hasOwnProperty;const ge=function(l){var n=this.__data__;if(U){var r=n[l];return r==="__lodash_hash_undefined__"?void 0:r}return ae.call(n,l)?n[l]:void 0};var Ce=Object.prototype.hasOwnProperty;const we=function(l){var n=this.__data__;return U?n[l]!==void 0:Ce.call(n,l)},ke=function(l,n){var r=this.__data__;return this.size+=this.has(l)?0:1,r[l]=U&&n===void 0?"__lodash_hash_undefined__":n,this};function T(l){var n=-1,r=l==null?0:l.length;for(this.clear();++n<r;){var a=l[n];this.set(a[0],a[1])}}T.prototype.clear=z,T.prototype.delete=te,T.prototype.get=ge,T.prototype.has=we,T.prototype.set=ke;const q=T,Ae=function(){this.size=0,this.__data__={hash:new q,map:new(Y||Lo),string:new q}},Se=function(l){var n=typeof l;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?l!=="__proto__":l===null},Ze=function(l,n){var r=l.__data__;return Se(n)?r[typeof n=="string"?"string":"hash"]:r.map},Te=function(l){var n=Ze(this,l).delete(l);return this.size-=n?1:0,n},Qe=function(l){return Ze(this,l).get(l)},Oe=function(l){return Ze(this,l).has(l)},ut=function(l,n){var r=Ze(this,l),a=r.size;return r.set(l,n),this.size+=r.size==a?0:1,this};function Gt(l){var n=-1,r=l==null?0:l.length;for(this.clear();++n<r;){var a=l[n];this.set(a[0],a[1])}}Gt.prototype.clear=Ae,Gt.prototype.delete=Te,Gt.prototype.get=Qe,Gt.prototype.has=Oe,Gt.prototype.set=ut;const dt=Gt,Et=function(l,n){var r=this.__data__;if(r instanceof Lo){var a=r.__data__;if(!Y||a.length<199)return a.push([l,n]),this.size=++r.size,this;r=this.__data__=new dt(a)}return r.set(l,n),this.size=r.size,this};function Ot(l){var n=this.__data__=new Lo(l);this.size=n.size}Ot.prototype.clear=es,Ot.prototype.delete=So,Ot.prototype.get=ts,Ot.prototype.has=ui,Ot.prototype.set=Et;const an=Ot,hn=function(l,n){for(var r=-1,a=l==null?0:l.length;++r<a&&n(l[r],r,l)!==!1;);return l},In=function(){try{var l=D(Object,"defineProperty");return l({},"",{}),l}catch{}}(),bn=function(l,n,r){n=="__proto__"&&In?In(l,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):l[n]=r};var kn=Object.prototype.hasOwnProperty;const En=function(l,n,r){var a=l[n];kn.call(l,n)&&Xr(a,r)&&(r!==void 0||n in l)||bn(l,n,r)},Ri=function(l,n,r,a){var g=!r;r||(r={});for(var h=-1,f=n.length;++h<f;){var b=n[h],S=void 0;S===void 0&&(S=l[b]),g?bn(r,b,S):En(r,b,S)}return r},jn=function(l,n){for(var r=-1,a=Array(l);++r<l;)a[r]=n(r);return a},Ci=function(l){return xn(l)&&en(l)=="[object Arguments]"};var eo=Object.prototype,ln=eo.hasOwnProperty,gi=eo.propertyIsEnumerable;const ni=Ci(function(){return arguments}())?Ci:function(l){return xn(l)&&ln.call(l,"callee")&&!gi.call(l,"callee")},Yi=function(){return!1};var kr=t&&!t.nodeType&&t,Xo=kr&&!0&&e&&!e.nodeType&&e,Hs=Xo&&Xo.exports===kr?An.Buffer:void 0;const sr=(Hs?Hs.isBuffer:void 0)||Yi;var Ds=/^(?:0|[1-9]\d*)$/;const Wc=function(l,n){var r=typeof l;return!!(n=n??9007199254740991)&&(r=="number"||r!="symbol"&&Ds.test(l))&&l>-1&&l%1==0&&l<n},su=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991};var Ei={};Ei["[object Float32Array]"]=Ei["[object Float64Array]"]=Ei["[object Int8Array]"]=Ei["[object Int16Array]"]=Ei["[object Int32Array]"]=Ei["[object Uint8Array]"]=Ei["[object Uint8ClampedArray]"]=Ei["[object Uint16Array]"]=Ei["[object Uint32Array]"]=!0,Ei["[object Arguments]"]=Ei["[object Array]"]=Ei["[object ArrayBuffer]"]=Ei["[object Boolean]"]=Ei["[object DataView]"]=Ei["[object Date]"]=Ei["[object Error]"]=Ei["[object Function]"]=Ei["[object Map]"]=Ei["[object Number]"]=Ei["[object Object]"]=Ei["[object RegExp]"]=Ei["[object Set]"]=Ei["[object String]"]=Ei["[object WeakMap]"]=!1;const Gg=function(l){return xn(l)&&su(l.length)&&!!Ei[en(l)]},sl=function(l){return function(n){return l(n)}};var Xh=t&&!t.nodeType&&t,xa=Xh&&!0&&e&&!e.nodeType&&e,Rg=xa&&xa.exports===Xh&&Jt.process;const Sa=function(){try{var l=xa&&xa.require&&xa.require("util").types;return l||Rg&&Rg.binding&&Rg.binding("util")}catch{}}();var au=Sa&&Sa.isTypedArray;const Fd=au?sl(au):Gg;var Mh=Object.prototype.hasOwnProperty;const lu=function(l,n){var r=Qt(l),a=!r&&ni(l),g=!r&&!a&&sr(l),h=!r&&!a&&!g&&Fd(l),f=r||a||g||h,b=f?jn(l.length,String):[],S=b.length;for(var N in l)!n&&!Mh.call(l,N)||f&&(N=="length"||g&&(N=="offset"||N=="parent")||h&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||Wc(N,S))||b.push(N);return b};var Kl=Object.prototype;const al=function(l){var n=l&&l.constructor;return l===(typeof n=="function"&&n.prototype||Kl)},IC=Qn(Object.keys,Object);var Hc=Object.prototype.hasOwnProperty;const Za=function(l){if(!al(l))return IC(l);var n=[];for(var r in Object(l))Hc.call(l,r)&&r!="constructor"&&n.push(r);return n},Dc=function(l){return l!=null&&su(l.length)&&!ti(l)},Ga=function(l){return Dc(l)?lu(l):Za(l)},bC=function(l,n){return l&&Ri(n,Ga(n),l)},Wd=function(l){var n=[];if(l!=null)for(var r in Object(l))n.push(r);return n};var yC=Object.prototype.hasOwnProperty;const cu=function(l){if(!We(l))return Wd(l);var n=al(l),r=[];for(var a in l)(a!="constructor"||!n&&yC.call(l,a))&&r.push(a);return r},ll=function(l){return Dc(l)?lu(l,!0):cu(l)},Yh=function(l,n){return l&&Ri(n,ll(n),l)};var Ng=t&&!t.nodeType&&t,Hd=Ng&&!0&&e&&!e.nodeType&&e,Dd=Hd&&Hd.exports===Ng?An.Buffer:void 0,gu=Dd?Dd.allocUnsafe:void 0;const Jh=function(l,n){if(n)return l.slice();var r=l.length,a=gu?gu(r):new l.constructor(r);return l.copy(a),a},_g=function(l,n){var r=-1,a=l.length;for(n||(n=Array(a));++r<a;)n[r]=l[r];return n},Vg=function(l,n){for(var r=-1,a=l==null?0:l.length,g=0,h=[];++r<a;){var f=l[r];n(f,r,l)&&(h[g++]=f)}return h},Td=function(){return[]};var Tc=Object.prototype.propertyIsEnumerable,Ld=Object.getOwnPropertySymbols;const $=Ld?function(l){return l==null?[]:(l=Object(l),Vg(Ld(l),function(n){return Tc.call(l,n)}))}:Td,Ve=function(l,n){return Ri(l,$(l),n)},ze=function(l,n){for(var r=-1,a=n.length,g=l.length;++r<a;)l[g+r]=n[r];return l},et=Object.getOwnPropertySymbols?function(l){for(var n=[];l;)ze(n,$(l)),l=rr(l);return n}:Td,gt=function(l,n){return Ri(l,et(l),n)},Rt=function(l,n,r){var a=n(l);return Qt(l)?a:ze(a,r(l))},zt=function(l){return Rt(l,Ga,$)},cn=function(l){return Rt(l,ll,et)},vn=D(An,"DataView"),Wn=D(An,"Promise"),Ln=D(An,"Set"),ii=D(An,"WeakMap");var cr="[object Map]",hr="[object Promise]",Vr="[object Set]",Zo="[object WeakMap]",to="[object DataView]",Ra=Be(vn),Ts=Be(Y),zl=Be(Wn),Uh=Be(Ln),du=Be(ii),Na=en;(vn&&Na(new vn(new ArrayBuffer(1)))!=to||Y&&Na(new Y)!=cr||Wn&&Na(Wn.resolve())!=hr||Ln&&Na(new Ln)!=Vr||ii&&Na(new ii)!=Zo)&&(Na=function(l){var n=en(l),r=n=="[object Object]"?l.constructor:void 0,a=r?Be(r):"";if(a)switch(a){case Ra:return to;case Ts:return cr;case zl:return hr;case Uh:return Vr;case du:return Zo}return n});const cl=Na;var Au=Object.prototype.hasOwnProperty;const uu=function(l){var n=l.length,r=new l.constructor(n);return n&&typeof l[0]=="string"&&Au.call(l,"index")&&(r.index=l.index,r.input=l.input),r},Ql=An.Uint8Array,Mo=function(l){var n=new l.constructor(l.byteLength);return new Ql(n).set(new Ql(l)),n},Xd=function(l,n){var r=n?Mo(l.buffer):l.buffer;return new l.constructor(r,l.byteOffset,l.byteLength)};var Md=/\w*$/;const Yd=function(l){var n=new l.constructor(l.source,Md.exec(l));return n.lastIndex=l.lastIndex,n};var Jd=dn?dn.prototype:void 0,ns=Jd?Jd.valueOf:void 0;const vC=function(l){return ns?Object(ns.call(l)):{}},Ud=function(l,n){var r=n?Mo(l.buffer):l.buffer;return new l.constructor(r,l.byteOffset,l.length)},Ph=function(l,n,r){var a=l.constructor;switch(n){case"[object ArrayBuffer]":return Mo(l);case"[object Boolean]":case"[object Date]":return new a(+l);case"[object DataView]":return Xd(l,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ud(l,r);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(l);case"[object RegExp]":return Yd(l);case"[object Symbol]":return vC(l)}};var $s=Object.create;const hu=function(){function l(){}return function(n){if(!We(n))return{};if($s)return $s(n);l.prototype=n;var r=new l;return l.prototype=void 0,r}}(),Kh=function(l){return typeof l.constructor!="function"||al(l)?{}:hu(rr(l))},wC=function(l){return xn(l)&&cl(l)=="[object Map]"};var jl=Sa&&Sa.isMap;const ea=jl?sl(jl):wC,_a=function(l){return xn(l)&&cl(l)=="[object Set]"};var Ol=Sa&&Sa.isSet;const gl=Ol?sl(Ol):_a;var dl="[object Arguments]",Eg="[object Function]",ta="[object Object]",yi={};yi[dl]=yi["[object Array]"]=yi["[object ArrayBuffer]"]=yi["[object DataView]"]=yi["[object Boolean]"]=yi["[object Date]"]=yi["[object Float32Array]"]=yi["[object Float64Array]"]=yi["[object Int8Array]"]=yi["[object Int16Array]"]=yi["[object Int32Array]"]=yi["[object Map]"]=yi["[object Number]"]=yi[ta]=yi["[object RegExp]"]=yi["[object Set]"]=yi["[object String]"]=yi["[object Symbol]"]=yi["[object Uint8Array]"]=yi["[object Uint8ClampedArray]"]=yi["[object Uint16Array]"]=yi["[object Uint32Array]"]=!0,yi["[object Error]"]=yi[Eg]=yi["[object WeakMap]"]=!1;const Fg=function l(n,r,a,g,h,f){var b,S=1&r,N=2&r,W=4&r;if(a&&(b=h?a(n,g,h,f):a(n)),b!==void 0)return b;if(!We(n))return n;var J=Qt(n);if(J){if(b=uu(n),!S)return _g(n,b)}else{var ee=cl(n),se=ee==Eg||ee=="[object GeneratorFunction]";if(sr(n))return Jh(n,S);if(ee==ta||ee==dl||se&&!h){if(b=N||se?{}:Kh(n),!S)return N?gt(n,Yh(b,n)):Ve(n,bC(b,n))}else{if(!yi[ee])return h?n:{};b=Ph(n,ee,S)}}f||(f=new an);var ue=f.get(n);if(ue)return ue;f.set(n,b),gl(n)?n.forEach(function(Le){b.add(l(Le,r,a,Le,n,f))}):ea(n)&&n.forEach(function(Le,Ye){b.set(Ye,l(Le,r,a,Ye,n,f))});var xe=J?void 0:(W?N?cn:zt:N?ll:Ga)(n);return hn(xe||n,function(Le,Ye){xe&&(Le=n[Ye=Le]),En(b,Ye,l(Le,r,a,Ye,n,f))}),b},Al=function(l,n){return Fg(l,5,n=typeof n=="function"?n:void 0)},Go=function(l){return xn(l)&&l.nodeType===1&&!qn(l)};class ul{constructor(n,r){this._config={},r&&this.define(Lc(r)),n&&this._setObjectToTarget(this._config,n)}set(n,r){this._setToTarget(this._config,n,r)}define(n,r){this._setToTarget(this._config,n,r,!0)}get(n){return this._getFromSource(this._config,n)}*names(){for(const n of Object.keys(this._config))yield n}_setToTarget(n,r,a,g=!1){if(qn(r))return void this._setObjectToTarget(n,r,g);const h=r.split(".");r=h.pop();for(const f of h)qn(n[f])||(n[f]={}),n=n[f];if(qn(a))return qn(n[r])||(n[r]={}),n=n[r],void this._setObjectToTarget(n,a,g);g&&n[r]!==void 0||(n[r]=a)}_getFromSource(n,r){const a=r.split(".");r=a.pop();for(const g of a){if(!qn(n[g])){n=null;break}n=n[g]}return n?Lc(n[r]):void 0}_setObjectToTarget(n,r,a){Object.keys(r).forEach(g=>{this._setToTarget(n,g,r[g],a)})}}function Lc(l){return Al(l,Pd)}function Pd(l){return Go(l)||typeof l=="function"?l:void 0}function fs(l){if(l){if(l.defaultView)return l instanceof l.defaultView.Document;if(l.ownerDocument&&l.ownerDocument.defaultView)return l instanceof l.ownerDocument.defaultView.Node}return!1}function Va(l){const n=Object.prototype.toString.apply(l);return n=="[object Window]"||n=="[object global]"}const Kd=mr(fe());function mr(l){return l?class extends l{listenTo(n,r,a,g={}){if(fs(n)||Va(n)){const h={capture:!!g.useCapture,passive:!!g.usePassive},f=this._getProxyEmitter(n,h)||new ql(n,h);this.listenTo(f,r,a,g)}else super.listenTo(n,r,a,g)}stopListening(n,r,a){if(fs(n)||Va(n)){const g=this._getAllProxyEmitters(n);for(const h of g)this.stopListening(h,r,a)}else super.stopListening(n,r,a)}_getProxyEmitter(n,r){return function(a,g){const h=a[Ie];return h&&h[g]?h[g].emitter:null}(this,Ji(n,r))}_getAllProxyEmitters(n){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(r=>this._getProxyEmitter(n,r)).filter(r=>!!r)}}:Kd}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(l=>{mr[l]=Kd.prototype[l]});class ql extends fe(){constructor(n,r){super(),Ge(this,Ji(n,r)),this._domNode=n,this._options=r}attach(n){if(this._domListeners&&this._domListeners[n])return;const r=this._createDomListener(n);this._domNode.addEventListener(n,r,this._options),this._domListeners||(this._domListeners={}),this._domListeners[n]=r}detach(n){let r;!this._domListeners[n]||(r=this._events[n])&&r.callbacks.length||this._domListeners[n].removeListener()}_addEventListener(n,r,a){this.attach(n),fe().prototype._addEventListener.call(this,n,r,a)}_removeEventListener(n,r){fe().prototype._removeEventListener.call(this,n,r),this.detach(n)}_createDomListener(n){const r=a=>{this.fire(n,a)};return r.removeListener=()=>{this._domNode.removeEventListener(n,r,this._options),delete this._domListeners[n]},r}}function Ji(l,n){let r=function(a){return a["data-ck-expando"]||(a["data-ck-expando"]=X())}(l);for(const a of Object.keys(n).sort())n[a]&&(r+="-"+a);return r}function Ui(l){const n=l.ownerDocument.defaultView.getComputedStyle(l);return{top:parseInt(n.borderTopWidth,10),right:parseInt(n.borderRightWidth,10),bottom:parseInt(n.borderBottomWidth,10),left:parseInt(n.borderLeftWidth,10)}}function Un(l){return Object.prototype.toString.call(l)=="[object Text]"}function Br(l){return Object.prototype.toString.apply(l)=="[object Range]"}function hl(l){return l&&l.parentNode?l.offsetParent===C.document.body?null:l.offsetParent:null}const $l=["top","right","bottom","left","width","height"];class Xn{constructor(n){const r=Br(n);if(Object.defineProperty(this,"_source",{value:n._source||n,writable:!0,enumerable:!1}),zh(n)||r)if(r){const a=Xn.getDomRangeRects(n);Wg(this,Xn.getBoundingRect(a))}else Wg(this,n.getBoundingClientRect());else if(Va(n)){const{innerWidth:a,innerHeight:g}=n;Wg(this,{top:0,right:a,bottom:g,left:0,width:a,height:g})}else Wg(this,n)}clone(){return new Xn(this)}moveTo(n,r){return this.top=r,this.right=n+this.width,this.bottom=r+this.height,this.left=n,this}moveBy(n,r){return this.top+=r,this.right+=n,this.left+=n,this.bottom+=r,this}getIntersection(n){const r={top:Math.max(this.top,n.top),right:Math.min(this.right,n.right),bottom:Math.min(this.bottom,n.bottom),left:Math.max(this.left,n.left),width:0,height:0};if(r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<0||r.height<0)return null;{const a=new Xn(r);return a._source=this._source,a}}getIntersectionArea(n){const r=this.getIntersection(n);return r?r.getArea():0}getArea(){return this.width*this.height}getVisible(){const n=this._source;let r=this.clone();if(kC(n))return r;let a,g=n,h=n.parentNode||n.commonAncestorContainer;for(;h&&!kC(h);){const b=((f=h)instanceof HTMLElement?f.ownerDocument.defaultView.getComputedStyle(f).overflow:"visible")==="visible";g instanceof HTMLElement&&BC(g)==="absolute"&&(a=g);const S=BC(h);if(b||a&&(S==="relative"&&b||S!=="relative")){g=h,h=h.parentNode;continue}const N=new Xn(h),W=r.getIntersection(N);if(!W)return null;W.getArea()<r.getArea()&&(r=W),g=h,h=h.parentNode}var f;return r}isEqual(n){for(const r of $l)if(this[r]!==n[r])return!1;return!0}contains(n){const r=this.getIntersection(n);return!(!r||!r.isEqual(n))}toAbsoluteRect(){const{scrollX:n,scrollY:r}=C.window,a=this.clone().moveBy(n,r);if(zh(a._source)){const g=hl(a._source);g&&function(h,f){const b=new Xn(f),S=Ui(f);let N=0,W=0;N-=b.left,W-=b.top,N+=f.scrollLeft,W+=f.scrollTop,N-=S.left,W-=S.top,h.moveBy(N,W)}(a,g)}return a}excludeScrollbarsAndBorders(){const n=this._source;let r,a,g;if(Va(n))r=n.innerWidth-n.document.documentElement.clientWidth,a=n.innerHeight-n.document.documentElement.clientHeight,g=n.getComputedStyle(n.document.documentElement).direction;else{const h=Ui(n);r=n.offsetWidth-n.clientWidth-h.left-h.right,a=n.offsetHeight-n.clientHeight-h.top-h.bottom,g=n.ownerDocument.defaultView.getComputedStyle(n).direction,this.left+=h.left,this.top+=h.top,this.right-=h.right,this.bottom-=h.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=r,g==="ltr"?this.right-=r:this.left+=r,this.height-=a,this.bottom-=a,this}static getDomRangeRects(n){const r=[],a=Array.from(n.getClientRects());if(a.length)for(const g of a)r.push(new Xn(g));else{let g=n.startContainer;Un(g)&&(g=g.parentNode);const h=new Xn(g.getBoundingClientRect());h.right=h.left,h.width=0,r.push(h)}return r}static getBoundingRect(n){const r={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let a=0;for(const g of n)a++,r.left=Math.min(r.left,g.left),r.top=Math.min(r.top,g.top),r.right=Math.max(r.right,g.right),r.bottom=Math.max(r.bottom,g.bottom);return a==0?null:(r.width=r.right-r.left,r.height=r.bottom-r.top,new Xn(r))}}function Wg(l,n){for(const r of $l)l[r]=n[r]}function kC(l){return!!zh(l)&&l===l.ownerDocument.body}function zh(l){return l!==null&&typeof l=="object"&&l.nodeType===1&&typeof l.getBoundingClientRect=="function"}function BC(l){return l instanceof HTMLElement?l.ownerDocument.defaultView.getComputedStyle(l).position:"static"}const xr=class{constructor(l,n){xr._observerInstance||xr._createObserver(),this._element=l,this._callback=n,xr._addElementCallback(l,n),xr._observerInstance.observe(l)}get element(){return this._element}destroy(){xr._deleteElementCallback(this._element,this._callback)}static _addElementCallback(l,n){xr._elementCallbacks||(xr._elementCallbacks=new Map);let r=xr._elementCallbacks.get(l);r||(r=new Set,xr._elementCallbacks.set(l,r)),r.add(n)}static _deleteElementCallback(l,n){const r=xr._getElementCallbacks(l);r&&(r.delete(n),r.size||(xr._elementCallbacks.delete(l),xr._observerInstance.unobserve(l))),xr._elementCallbacks&&!xr._elementCallbacks.size&&(xr._observerInstance=null,xr._elementCallbacks=null)}static _getElementCallbacks(l){return xr._elementCallbacks?xr._elementCallbacks.get(l):null}static _createObserver(){xr._observerInstance=new C.window.ResizeObserver(l=>{for(const n of l){const r=xr._getElementCallbacks(n.target);if(r)for(const a of r)a(n)}})}};let zd=xr;function xC(l,n){l instanceof HTMLTextAreaElement&&(l.value=n),l.innerHTML=n}function Xc(l){return n=>n+l}function Mc(l){let n=0;for(;l.previousSibling;)l=l.previousSibling,n++;return n}function Is(l,n,r){l.insertBefore(r,l.childNodes[n]||null)}function Yo(l){return l&&l.nodeType===Node.COMMENT_NODE}function ml(l){return!!(l&&l.getClientRects&&l.getClientRects().length)}zd._observerInstance=null,zd._elementCallbacks=null;var mu=Math.pow;function pu({element:l,target:n,positions:r,limiter:a,fitInViewport:g,viewportOffsetConfig:h}){ti(n)&&(n=n()),ti(a)&&(a=a());const f=hl(l),b=function(ee){ee=Object.assign({top:0,bottom:0,left:0,right:0},ee);const se=new Xn(C.window);return se.top+=ee.top,se.height-=ee.top,se.bottom-=ee.bottom,se.height-=ee.bottom,se}(h),S=new Xn(l),N=Cu(n,b);let W;if(!N||!b.getIntersection(N))return null;const J={targetRect:N,elementRect:S,positionedElementAncestor:f,viewportRect:b};if(a||g){if(a){const ee=Cu(a,b);ee&&(J.limiterRect=ee)}W=function(ee,se){const{elementRect:ue}=se,xe=ue.getArea(),Le=ee.map(ht=>new fu(ht,se)).filter(ht=>!!ht.name);let Ye=0,$e=null;for(const ht of Le){const{limiterIntersectionArea:Tt,viewportIntersectionArea:rn}=ht;if(Tt===xe)return ht;const Vn=mu(rn,2)+mu(Tt,2);Vn>Ye&&(Ye=Vn,$e=ht)}return $e}(r,J)}else W=new fu(r[0],J);return W}function Cu(l,n){const r=new Xn(l).getVisible();return r?r.getIntersection(n):null}class fu{constructor(n,r){const a=n(r.targetRect,r.elementRect,r.viewportRect,r.limiterRect);if(!a)return;const{left:g,top:h,name:f,config:b}=a;this.name=f,this.config=b,this._positioningFunctionCoordinates={left:g,top:h},this._options=r}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const n=this._options.limiterRect;return n?n.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function Qh(l){const n=l.parentNode;n&&n.removeChild(l)}function qb({window:l,rect:n,alignToTop:r,forceScroll:a,viewportOffset:g}){const h=n.clone().moveBy(0,g.bottom),f=n.clone().moveBy(0,-g.top),b=new Xn(l).excludeScrollbarsAndBorders(),S=r&&a,N=[f,h].every(ue=>b.contains(ue));let{scrollX:W,scrollY:J}=l;const ee=W,se=J;S?J-=b.top-n.top+g.top:N||(Iu(f,b)?J-=b.top-n.top+g.top:jh(h,b)&&(J+=r?n.top-b.top-g.top:n.bottom-b.bottom+g.bottom)),N||(Oh(n,b)?W-=b.left-n.left+g.left:$b(n,b)&&(W+=n.right-b.right+g.right)),W==ee&&J===se||l.scrollTo(W,J)}function SC({parent:l,getRect:n,alignToTop:r,forceScroll:a,ancestorOffset:g=0,limiterElement:h}){const f=ZC(l),b=r&&a;let S,N,W;const J=h||f.document.body;for(;l!=J;)N=n(),S=new Xn(l).excludeScrollbarsAndBorders(),W=S.contains(N),b?l.scrollTop-=S.top-N.top+g:W||(Iu(N,S)?l.scrollTop-=S.top-N.top+g:jh(N,S)&&(l.scrollTop+=r?N.top-S.top-g:N.bottom-S.bottom+g)),W||(Oh(N,S)?l.scrollLeft-=S.left-N.left+g:$b(N,S)&&(l.scrollLeft+=N.right-S.right+g)),l=l.parentNode}function jh(l,n){return l.bottom>n.bottom}function Iu(l,n){return l.top<n.top}function Oh(l,n){return l.left<n.left}function $b(l,n){return l.right>n.right}function ZC(l){return Br(l)?l.startContainer.ownerDocument.defaultView:l.ownerDocument.defaultView}function e0(l){if(Br(l)){let n=l.commonAncestorContainer;return Un(n)&&(n=n.parentNode),n}return l.parentNode}function t0(l,n){const r=ZC(l),a=new Xn(l);if(r===n)return a;{let g=r;for(;g!=n;){const h=g.frameElement,f=new Xn(h).excludeScrollbarsAndBorders();a.moveBy(f.left,f.top),g=g.parent}}return a}const R2={ctrl:"",cmd:"",alt:"",shift:""},N2={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},n0={37:"",38:"",39:"",40:"",9:"",33:"Page Up",34:"Page Down"},di=function(){const l={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let n=65;n<=90;n++)l[String.fromCharCode(n).toLowerCase()]=n;for(let n=48;n<=57;n++)l[n-48]=n;for(let n=112;n<=123;n++)l["f"+(n-111)]=n;return Object.assign(l,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),l}(),GC=Object.fromEntries(Object.entries(di).map(([l,n])=>{let r;return r=n in n0?n0[n]:l.charAt(0).toUpperCase()+l.slice(1),[n,r]}));function Yc(l){let n;if(typeof l=="string"){if(n=di[l.toLowerCase()],!n)throw new P("keyboard-unknown-key",null,{key:l})}else n=l.keyCode+(l.altKey?di.alt:0)+(l.ctrlKey?di.ctrl:0)+(l.shiftKey?di.shift:0)+(l.metaKey?di.cmd:0);return n}function ec(l){return typeof l=="string"&&(l=function(n){return n.split("+").map(r=>r.trim())}(l)),l.map(n=>typeof n=="string"?function(r){if(r.endsWith("!"))return Yc(r.slice(0,-1));const a=Yc(r);return(x.isMac||x.isiOS)&&a==di.ctrl?di.cmd:a}(n):n).reduce((n,r)=>r+n,0)}function qh(l){let n=ec(l);return Object.entries(x.isMac||x.isiOS?R2:N2).reduce((r,[a,g])=>(n&di[a]&&(n&=~di[a],r+=g),r),"")+(n?GC[n]:"")}function RC(l,n){const r=n==="ltr";switch(l){case di.arrowleft:return r?"left":"right";case di.arrowright:return r?"right":"left";case di.arrowup:return"up";case di.arrowdown:return"down"}}function Li(l){return Array.isArray(l)?l:[l]}const NC=function(l,n,r){(r!==void 0&&!Xr(l[n],r)||r===void 0&&!(n in l))&&bn(l,n,r)},i0=function(l){return function(n,r,a){for(var g=-1,h=Object(n),f=a(n),b=f.length;b--;){var S=f[++g];if(r(h[S],S,h)===!1)break}return n}}(),_2=function(l){return xn(l)&&Dc(l)},r0=function(l,n){if((n!=="constructor"||typeof l[n]!="function")&&n!="__proto__")return l[n]},Jc=function(l){return Ri(l,ll(l))},Ea=function(l,n,r,a,g,h,f){var b=r0(l,r),S=r0(n,r),N=f.get(S);if(N)NC(l,r,N);else{var W=void 0,J=W===void 0;if(J){var ee=Qt(S),se=!ee&&sr(S),ue=!ee&&!se&&Fd(S);W=S,ee||se||ue?Qt(b)?W=b:_2(b)?W=_g(b):se?(J=!1,W=Jh(S,!0)):ue?(J=!1,W=Ud(S,!0)):W=[]:qn(S)||ni(S)?(W=b,ni(b)?W=Jc(b):We(b)&&!ti(b)||(W=Kh(S))):J=!1}J&&(f.set(S,W),g(W,S,a,h,f),f.delete(S)),NC(l,r,W)}},tc=function l(n,r,a,g,h){n!==r&&i0(r,function(f,b){if(h||(h=new an),We(f))Ea(n,r,b,a,l,g,h);else{var S=void 0;S===void 0&&(S=f),NC(n,b,S)}},ll)},Uc=function(l){return l},o0=function(l,n,r){switch(r.length){case 0:return l.call(n);case 1:return l.call(n,r[0]);case 2:return l.call(n,r[0],r[1]);case 3:return l.call(n,r[0],r[1],r[2])}return l.apply(n,r)};var nc=Math.max;const na=function(l,n,r){return n=nc(n===void 0?l.length-1:n,0),function(){for(var a=arguments,g=-1,h=nc(a.length-n,0),f=Array(h);++g<h;)f[g]=a[n+g];g=-1;for(var b=Array(n+1);++g<n;)b[g]=a[g];return b[n]=r(f),o0(l,this,b)}},V2=function(l){return function(){return l}},E2=In?function(l,n){return In(l,"toString",{configurable:!0,enumerable:!1,value:V2(n),writable:!0})}:Uc;var s0=Date.now;const a0=function(l){var n=0,r=0;return function(){var a=s0(),g=16-(a-r);if(r=a,g>0){if(++n>=800)return arguments[0]}else n=0;return l.apply(void 0,arguments)}}(E2),l0=function(l,n){return a0(na(l,n,Uc),l+"")},W2=function(l,n,r){if(!We(r))return!1;var a=typeof n;return!!(a=="number"?Dc(r)&&Wc(n,r.length):a=="string"&&n in r)&&Xr(r[n],l)},bu=function(l){return l0(function(n,r){var a=-1,g=r.length,h=g>1?r[g-1]:void 0,f=g>2?r[2]:void 0;for(h=l.length>3&&typeof h=="function"?(g--,h):void 0,f&&W2(r[0],r[1],f)&&(h=g<3?void 0:h,g=1),n=Object(n);++a<g;){var b=r[a];b&&l(n,b,a,h)}return n})},Qd=bu(function(l,n,r){tc(l,n,r)});function yu(l,n,r=1,a){if(typeof r!="number")throw new P("translation-service-quantity-not-a-number",null,{quantity:r});const g=a||C.window.CKEDITOR_TRANSLATIONS,h=function(W){return Object.keys(W).length}(g);h===1&&(l=Object.keys(g)[0]);const f=n.id||n.string;if(h===0||!function(W,J,ee){return!!ee[W]&&!!ee[W].dictionary[J]}(l,f,g))return r!==1?n.plural:n.string;const b=g[l].dictionary,S=g[l].getPluralForm||(W=>W===1?0:1),N=b[f];return typeof N=="string"?N:N[Number(S(r))]}C.window.CKEDITOR_TRANSLATIONS||(C.window.CKEDITOR_TRANSLATIONS={});const _C=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function VC(l){return _C.includes(l)?"rtl":"ltr"}class H2{constructor({uiLanguage:n="en",contentLanguage:r,translations:a}={}){this.uiLanguage=n,this.contentLanguage=r||this.uiLanguage,this.uiLanguageDirection=VC(this.uiLanguage),this.contentLanguageDirection=VC(this.contentLanguage),this.translations=function(g){return Array.isArray(g)?g.reduce((h,f)=>Qd(h,f)):g}(a),this.t=(g,h)=>this._t(g,h)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(n,r=[]){r=Li(r),typeof n=="string"&&(n={string:n});const a=n.plural?r[0]:1;return function(g,h){return g.replace(/%(\d+)/g,(f,b)=>b<h.length?h[b]:f)}(yu(this.uiLanguage,n,a,this.translations),r)}}class ia extends fe(){constructor(n={},r={}){super();const a=kt(n);if(a||(r=n),this._items=[],this._itemMap=new Map,this._idProperty=r.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],a)for(const g of n)this._items.push(g),this._itemMap.set(this._getItemIdBeforeAdding(g),g)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(n,r){return this.addMany([n],r)}addMany(n,r){if(r===void 0)r=this._items.length;else if(r>this._items.length||r<0)throw new P("collection-add-item-invalid-index",this);let a=0;for(const g of n){const h=this._getItemIdBeforeAdding(g),f=r+a;this._items.splice(f,0,g),this._itemMap.set(h,g),this.fire("add",g,f),a++}return this.fire("change",{added:n,removed:[],index:r}),this}get(n){let r;if(typeof n=="string")r=this._itemMap.get(n);else{if(typeof n!="number")throw new P("collection-get-invalid-arg",this);r=this._items[n]}return r||null}has(n){if(typeof n=="string")return this._itemMap.has(n);{const r=n[this._idProperty];return r&&this._itemMap.has(r)}}getIndex(n){let r;return r=typeof n=="string"?this._itemMap.get(n):n,r?this._items.indexOf(r):-1}remove(n){const[r,a]=this._remove(n);return this.fire("change",{added:[],removed:[r],index:a}),r}map(n,r){return this._items.map(n,r)}forEach(n,r){this._items.forEach(n,r)}find(n,r){return this._items.find(n,r)}filter(n,r){return this._items.filter(n,r)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const n=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:n,index:0})}bindTo(n){if(this._bindToCollection)throw new P("collection-bind-to-rebind",this);return this._bindToCollection=n,{as:r=>{this._setUpBindToBinding(a=>new r(a))},using:r=>{typeof r=="function"?this._setUpBindToBinding(r):this._setUpBindToBinding(a=>a[r])}}}_setUpBindToBinding(n){const r=this._bindToCollection,a=(g,h,f)=>{const b=r._bindToCollection==this,S=r._bindToInternalToExternalMap.get(h);if(b&&S)this._bindToExternalToInternalMap.set(h,S),this._bindToInternalToExternalMap.set(S,h);else{const N=n(h);if(!N)return void this._skippedIndexesFromExternal.push(f);let W=f;for(const J of this._skippedIndexesFromExternal)f>J&&W--;for(const J of r._skippedIndexesFromExternal)W>=J&&W++;this._bindToExternalToInternalMap.set(h,N),this._bindToInternalToExternalMap.set(N,h),this.add(N,W);for(let J=0;J<r._skippedIndexesFromExternal.length;J++)W<=r._skippedIndexesFromExternal[J]&&r._skippedIndexesFromExternal[J]++}};for(const g of r)a(0,g,r.getIndex(g));this.listenTo(r,"add",a),this.listenTo(r,"remove",(g,h,f)=>{const b=this._bindToExternalToInternalMap.get(h);b&&this.remove(b),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((S,N)=>(f<N&&S.push(N-1),f>N&&S.push(N),S),[])})}_getItemIdBeforeAdding(n){const r=this._idProperty;let a;if(r in n){if(a=n[r],typeof a!="string")throw new P("collection-add-invalid-id",this);if(this.get(a))throw new P("collection-add-item-already-exists",this)}else n[r]=a=X();return a}_remove(n){let r,a,g,h=!1;const f=this._idProperty;if(typeof n=="string"?(a=n,g=this._itemMap.get(a),h=!g,g&&(r=this._items.indexOf(g))):typeof n=="number"?(r=n,g=this._items[r],h=!g,g&&(a=g[f])):(g=n,a=g[f],r=this._items.indexOf(g),h=r==-1||!this._itemMap.get(a)),h)throw new P("collection-remove-404",this);this._items.splice(r,1),this._itemMap.delete(a);const b=this._bindToInternalToExternalMap.get(g);return this._bindToInternalToExternalMap.delete(g),this._bindToExternalToInternalMap.delete(b),this.fire("remove",g,r),[g,r]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Io(l){const n=l.next();return n.done?null:n.value}class bo extends mr(at()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(n){if(this._elements.has(n))throw new P("focustracker-add-element-already-exist",this);this.listenTo(n,"focus",()=>this._focus(n),{useCapture:!0}),this.listenTo(n,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(n)}remove(n){n===this.focusedElement&&this._blur(),this._elements.has(n)&&(this.stopListening(n),this._elements.delete(n))}destroy(){this.stopListening()}_focus(n){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=n,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class is{constructor(){this._listener=new(mr())}listenTo(n){this._listener.listenTo(n,"keydown",(r,a)=>{this._listener.fire("_keydown:"+Yc(a),a)})}set(n,r,a={}){const g=ec(n),h=a.priority;this._listener.listenTo(this._listener,"_keydown:"+g,(f,b)=>{r(b,()=>{b.preventDefault(),b.stopPropagation(),f.stop()}),f.return=!0},{priority:h})}press(n){return!!this._listener.fire("_keydown:"+Yc(n),n)}stopListening(n){this._listener.stopListening(n)}destroy(){this.stopListening()}}function pl(l){return kt(l)?new Map(l):function(n){const r=new Map;for(const a in n)r.set(a,n[a]);return r}(l)}function EC(l,n){let r;function a(...g){a.cancel(),r=setTimeout(()=>l(...g),n)}return a.cancel=()=>{clearTimeout(r)},a}function FC(l,n){return!!(r=l.charAt(n-1))&&r.length==1&&/[\ud800-\udbff]/.test(r)&&function(a){return!!a&&a.length==1&&/[\udc00-\udfff]/.test(a)}(l.charAt(n));var r}function $h(l,n){return!!(r=l.charAt(n))&&r.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(r);var r}const em=function(){const l=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],n=new RegExp("\\p{Regional_Indicator}{2}","u").source,r="(?:"+l.map(a=>a.source).join("|")+")";return new RegExp(`${n}|${r}(?:${r})*`,"ug")}();function c0(l,n){const r=String(l).matchAll(em);return Array.from(r).some(a=>a.index<n&&n<a.index+a[0].length)}class ra extends ia{constructor(n=[]){super(n,{idProperty:"viewUid"}),this.on("add",(r,a,g)=>{this._renderViewIntoCollectionParent(a,g)}),this.on("remove",(r,a)=>{a.element&&this._parentElement&&a.element.remove()}),this._parentElement=null}destroy(){this.map(n=>n.destroy())}setParent(n){this._parentElement=n;for(const r of this)this._renderViewIntoCollectionParent(r)}delegate(...n){if(!n.length||!n.every(r=>typeof r=="string"))throw new P("ui-viewcollection-delegate-wrong-events",this);return{to:r=>{for(const a of this)for(const g of n)a.delegate(g).to(r);this.on("add",(a,g)=>{for(const h of n)g.delegate(h).to(r)}),this.on("remove",(a,g)=>{for(const h of n)g.stopDelegating(h,r)})}}}_renderViewIntoCollectionParent(n,r){n.isRendered||n.render(),n.element&&this._parentElement&&this._parentElement.insertBefore(n.element,this._parentElement.children[r])}remove(n){return super.remove(n)}}class oa extends fe(){constructor(n){super(),Object.assign(this,Je(Me(n))),this._isRendered=!1,this._revertData=null}render(){const n=this._renderNode({intoFragment:!0});return this._isRendered=!0,n}apply(n){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:n,intoFragment:!1,isApplying:!0,revertData:this._revertData}),n}revert(n){if(!this._revertData)throw new P("ui-template-revert-not-applied",[this,n]);this._revertTemplateFromNode(n,this._revertData)}*getViews(){yield*function*n(r){if(r.children)for(const a of r.children)Bt(a)?yield a:it(a)&&(yield*n(a))}(this)}static bind(n,r){return{to:(a,g)=>new K({eventNameOrFunction:a,attribute:a,observable:n,emitter:r,callback:g}),if:(a,g,h)=>new ie({observable:n,emitter:r,attribute:a,valueIfTrue:g,callback:h})}}static extend(n,r){if(n._isRendered)throw new P("template-extend-render",[this,n]);ot(n,Je(Me(r)))}_renderNode(n){let r;if(r=n.node?this.tag&&this.text:this.tag?this.text:!this.text,r)throw new P("ui-template-wrong-syntax",this);return this.text?this._renderText(n):this._renderElement(n)}_renderElement(n){let r=n.node;return r||(r=n.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(n),this._renderElementChildren(n),this._setUpListeners(n),r}_renderText(n){let r=n.node;return r?n.revertData.text=r.textContent:r=n.node=document.createTextNode(""),he(this.text)?this._bindToObservable({schema:this.text,updater:Fe(r),data:n}):r.textContent=this.text.join(""),r}_renderAttributes(n){if(!this.attributes)return;const r=n.node,a=n.revertData;for(const g in this.attributes){const h=r.getAttribute(g),f=this.attributes[g];a&&(a.attributes[g]=h);const b=Xt(f)?f[0].ns:null;if(he(f)){const S=Xt(f)?f[0].value:f;a&&Ut(g)&&S.unshift(h),this._bindToObservable({schema:S,updater:He(r,g,b),data:n})}else if(g=="style"&&typeof f[0]!="string")this._renderStyleAttribute(f[0],n);else{a&&h&&Ut(g)&&f.unshift(h);const S=f.map(N=>N&&N.value||N).reduce((N,W)=>N.concat(W),[]).reduce(mt,"");Lt(S)||r.setAttributeNS(b,g,S)}}}_renderStyleAttribute(n,r){const a=r.node;for(const g in n){const h=n[g];he(h)?this._bindToObservable({schema:[h],updater:Xe(a,g),data:r}):a.style[g]=h}}_renderElementChildren(n){const r=n.node,a=n.intoFragment?document.createDocumentFragment():r,g=n.isApplying;let h=0;for(const f of this.children)if(rt(f)){if(!g){f.setParent(r);for(const b of f)a.appendChild(b.element)}}else if(Bt(f))g||(f.isRendered||f.render(),a.appendChild(f.element));else if(fs(f))a.appendChild(f);else if(g){const b={children:[],bindings:[],attributes:{}};n.revertData.children.push(b),f._renderNode({intoFragment:!1,node:a.childNodes[h++],isApplying:!0,revertData:b})}else a.appendChild(f.render());n.intoFragment&&r.appendChild(a)}_setUpListeners(n){if(this.eventListeners)for(const r in this.eventListeners){const a=this.eventListeners[r].map(g=>{const[h,f]=r.split("@");return g.activateDomEventListener(h,f,n)});n.revertData&&n.revertData.bindings.push(a)}}_bindToObservable({schema:n,updater:r,data:a}){const g=a.revertData;Ne(n,r,a);const h=n.filter(f=>!Lt(f)).filter(f=>f.observable).map(f=>f.activateAttributeListener(n,r,a));g&&g.bindings.push(h)}_revertTemplateFromNode(n,r){for(const g of r.bindings)for(const h of g)h();if(r.text)return void(n.textContent=r.text);const a=n;for(const g in r.attributes){const h=r.attributes[g];h===null?a.removeAttribute(g):a.setAttribute(g,h)}for(let g=0;g<r.children.length;++g)this._revertTemplateFromNode(a.childNodes[g],r.children[g])}}class F{constructor(n){this.attribute=n.attribute,this.observable=n.observable,this.emitter=n.emitter,this.callback=n.callback}getValue(n){const r=this.observable[this.attribute];return this.callback?this.callback(r,n):r}activateAttributeListener(n,r,a){const g=()=>Ne(n,r,a);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,g),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,g)}}}class K extends F{constructor(n){super(n),this.eventNameOrFunction=n.eventNameOrFunction}activateDomEventListener(n,r,a){const g=(h,f)=>{r&&!f.target.matches(r)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(f):this.observable.fire(this.eventNameOrFunction,f))};return this.emitter.listenTo(a.node,n,g),()=>{this.emitter.stopListening(a.node,n,g)}}}class ie extends F{constructor(n){super(n),this.valueIfTrue=n.valueIfTrue}getValue(n){return!Lt(super.getValue(n))&&(this.valueIfTrue||!0)}}function he(l){return!!l&&(l.value&&(l=l.value),Array.isArray(l)?l.some(he):l instanceof F)}function Ne(l,n,{node:r}){const a=function(h,f){return h.map(b=>b instanceof F?b.getValue(f):b)}(l,r);let g;g=l.length==1&&l[0]instanceof ie?a[0]:a.reduce(mt,""),Lt(g)?n.remove():n.set(g)}function Fe(l){return{set(n){l.textContent=n},remove(){l.textContent=""}}}function He(l,n,r){return{set(a){l.setAttributeNS(r,n,a)},remove(){l.removeAttributeNS(r,n)}}}function Xe(l,n){return{set(r){l.style[n]=r},remove(){l.style[n]=null}}}function Me(l){return Al(l,n=>{if(n&&(n instanceof F||it(n)||Bt(n)||rt(n)))return n})}function Je(l){if(typeof l=="string"?l=function(n){return{text:[n]}}(l):l.text&&function(n){n.text=Li(n.text)}(l),l.on&&(l.eventListeners=function(n){for(const r in n)nt(n,r);return n}(l.on),delete l.on),!l.text){l.attributes&&function(r){for(const a in r)r[a].value&&(r[a].value=Li(r[a].value)),nt(r,a)}(l.attributes);const n=[];if(l.children)if(rt(l.children))n.push(l.children);else for(const r of l.children)it(r)||Bt(r)||fs(r)?n.push(r):n.push(new oa(r));l.children=n}return l}function nt(l,n){l[n]=Li(l[n])}function mt(l,n){return Lt(n)?l:Lt(l)?n:`${l} ${n}`}function pt(l,n){for(const r in n)l[r]?l[r].push(...n[r]):l[r]=n[r]}function ot(l,n){if(n.attributes&&(l.attributes||(l.attributes={}),pt(l.attributes,n.attributes)),n.eventListeners&&(l.eventListeners||(l.eventListeners={}),pt(l.eventListeners,n.eventListeners)),n.text&&l.text.push(...n.text),n.children&&n.children.length){if(l.children.length!=n.children.length)throw new P("ui-template-extend-children-mismatch",l);let r=0;for(const a of n.children)ot(l.children[r++],a)}}function Lt(l){return!l&&l!==0}function Bt(l){return l instanceof Nt}function it(l){return l instanceof oa}function rt(l){return l instanceof ra}function Xt(l){return We(l[0])&&l[0].ns}function Ut(l){return l=="class"||l=="style"}var Mt=s(2591),ft=s.n(Mt),on=s(7676),Rn={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(on.A,Rn),on.A.locals;class Nt extends mr(at()){constructor(n){super(),this.element=null,this.isRendered=!1,this.locale=n,this.t=n&&n.t,this._viewCollections=new ia,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(r,a)=>{a.locale=n,a.t=n&&n.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=oa.bind(this,this)}createCollection(n){const r=new ra(n);return this._viewCollections.add(r),r}registerChild(n){kt(n)||(n=[n]);for(const r of n)this._unboundChildren.add(r)}deregisterChild(n){kt(n)||(n=[n]);for(const r of n)this._unboundChildren.remove(r)}setTemplate(n){this.template=new oa(n)}extendTemplate(n){oa.extend(this.template,n)}render(){if(this.isRendered)throw new P("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(n=>n.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function hi({emitter:l,activator:n,callback:r,contextElements:a}){l.listenTo(document,"mousedown",(g,h)=>{if(!n())return;const f=typeof h.composedPath=="function"?h.composedPath():[],b=typeof a=="function"?a():a;for(const S of b)if(S.contains(h.target)||f.includes(S))return;r()})}function vi(l){return class extends l{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...n){super(...n),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function ri({view:l}){l.listenTo(l.element,"submit",(n,r)=>{r.preventDefault(),l.fire("submit")},{useCapture:!0})}function oi({keystrokeHandler:l,focusTracker:n,gridItems:r,numberOfColumns:a,uiLanguageDirection:g}){const h=typeof a=="number"?()=>a:a;function f(N){return W=>{const J=r.find(ue=>ue.element===n.focusedElement),ee=r.getIndex(J),se=N(ee,r);r.get(se).focus(),W.stopPropagation(),W.preventDefault()}}function b(N,W){return N===W-1?0:N+1}function S(N,W){return N===0?W-1:N-1}l.set("arrowright",f((N,W)=>g==="rtl"?S(N,W.length):b(N,W.length))),l.set("arrowleft",f((N,W)=>g==="rtl"?b(N,W.length):S(N,W.length))),l.set("arrowup",f((N,W)=>{let J=N-h();return J<0&&(J=N+h()*Math.floor(W.length/h()),J>W.length-1&&(J-=h())),J})),l.set("arrowdown",f((N,W)=>{let J=N+h();return J>W.length-1&&(J=N%h()),J}))}class _t extends at(){constructor(n){super(),this._disableStack=new Set,this.editor=n,this.set("isEnabled",!0)}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",Fi,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",Fi),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Fi(l){l.return=!1,l.stop()}class nn extends at(){constructor(n){super(),this.editor=n,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(n,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",r=>{if(!this.affectsData)return;const a=n.model.document.selection,g=a.getFirstPosition().root.rootName!="$graveyard"&&n.model.canEditAt(a);(n.isReadOnly||this._isEnabledBasedOnSelection&&!g)&&(r.return=!1,r.stop())},{priority:"highest"}),this.on("execute",r=>{this.isEnabled||r.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(n){this._affectsData=n}refresh(){this.isEnabled=!0}forceDisabled(n){this._disableStack.add(n),this._disableStack.size==1&&(this.on("set:isEnabled",Er,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(n){this._disableStack.delete(n),this._disableStack.size==0&&(this.off("set:isEnabled",Er),this.refresh())}execute(...n){}destroy(){this.stopListening()}}function Er(l){l.return=!1,l.stop()}class rs extends nn{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...n){const r=this._getFirstEnabledCommand();return!!r&&r.execute(n)}registerChildCommand(n,r={}){j(this._childCommandsDefinitions,{command:n,priority:r.priority||"normal"}),n.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const n=this._childCommandsDefinitions.find(({command:r})=>r.isEnabled);return n&&n.command}}class Fr extends fe(){constructor(n,r=[],a=[]){super(),this._plugins=new Map,this._context=n,this._availablePlugins=new Map;for(const g of r)g.pluginName&&this._availablePlugins.set(g.pluginName,g);this._contextPlugins=new Map;for(const[g,h]of a)this._contextPlugins.set(g,h),this._contextPlugins.set(h,g),g.pluginName&&this._availablePlugins.set(g.pluginName,g)}*[Symbol.iterator](){for(const n of this._plugins)typeof n[0]=="function"&&(yield n)}get(n){const r=this._plugins.get(n);if(!r){let a=n;throw typeof n=="function"&&(a=n.pluginName||n.name),new P("plugincollection-plugin-not-loaded",this._context,{plugin:a})}return r}has(n){return this._plugins.has(n)}init(n,r=[],a=[]){const g=this,h=this._context;(function ue(xe,Le=new Set){xe.forEach(Ye=>{S(Ye)&&(Le.has(Ye)||(Le.add(Ye),Ye.pluginName&&!g._availablePlugins.has(Ye.pluginName)&&g._availablePlugins.set(Ye.pluginName,Ye),Ye.requires&&ue(Ye.requires,Le)))})})(n),ee(n);const f=[...function ue(xe,Le=new Set){return xe.map(Ye=>S(Ye)?Ye:g._availablePlugins.get(Ye)).reduce((Ye,$e)=>Le.has($e)?Ye:(Le.add($e),$e.requires&&(ee($e.requires,$e),ue($e.requires,Le).forEach(ht=>Ye.add(ht))),Ye.add($e)),new Set)}(n.filter(ue=>!W(ue,r)))];(function(ue,xe){for(const Le of xe){if(typeof Le!="function")throw new P("plugincollection-replace-plugin-invalid-type",null,{pluginItem:Le});const Ye=Le.pluginName;if(!Ye)throw new P("plugincollection-replace-plugin-missing-name",null,{pluginItem:Le});if(Le.requires&&Le.requires.length)throw new P("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Ye});const $e=g._availablePlugins.get(Ye);if(!$e)throw new P("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Ye});const ht=ue.indexOf($e);if(ht===-1){if(g._contextPlugins.has($e))return;throw new P("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Ye})}if($e.requires&&$e.requires.length)throw new P("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Ye});ue.splice(ht,1,Le),g._availablePlugins.set(Ye,Le)}})(f,a);const b=f.map(ue=>{let xe=g._contextPlugins.get(ue);return xe=xe||new ue(h),g._add(ue,xe),xe});return se(b,"init").then(()=>se(b,"afterInit")).then(()=>b);function S(ue){return typeof ue=="function"}function N(ue){return S(ue)&&!!ue.isContextPlugin}function W(ue,xe){return xe.some(Le=>Le===ue||J(ue)===Le||J(Le)===ue)}function J(ue){return S(ue)?ue.pluginName||ue.name:ue}function ee(ue,xe=null){ue.map(Le=>S(Le)?Le:g._availablePlugins.get(Le)||Le).forEach(Le=>{(function(Ye,$e){if(!S(Ye))throw $e?new P("plugincollection-soft-required",h,{missingPlugin:Ye,requiredBy:J($e)}):new P("plugincollection-plugin-not-found",h,{plugin:Ye})})(Le,xe),function(Ye,$e){if(N($e)&&!N(Ye))throw new P("plugincollection-context-required",h,{plugin:J(Ye),requiredBy:J($e)})}(Le,xe),function(Ye,$e){if($e&&W(Ye,r))throw new P("plugincollection-required",h,{plugin:J(Ye),requiredBy:J($e)})}(Le,xe)})}function se(ue,xe){return ue.reduce((Le,Ye)=>Ye[xe]?g._contextPlugins.has(Ye)?Le:Le.then(Ye[xe].bind(Ye)):Le,Promise.resolve())}}destroy(){const n=[];for(const[,r]of this)typeof r.destroy!="function"||this._contextPlugins.has(r)||n.push(r.destroy());return Promise.all(n)}_add(n,r){this._plugins.set(n,r);const a=n.pluginName;if(a){if(this._plugins.has(a))throw new P("plugincollection-plugin-name-conflict",null,{pluginName:a,plugin1:this._plugins.get(a).constructor,plugin2:n});this._plugins.set(a,r)}}}var os=Object.getOwnPropertySymbols,Wi=Object.prototype.hasOwnProperty,Ls=Object.prototype.propertyIsEnumerable;class bs{constructor(n){this._contextOwner=null;const r=n||{},{translations:a}=r,g=((b,S)=>{var N={};for(var W in b)Wi.call(b,W)&&S.indexOf(W)<0&&(N[W]=b[W]);if(b!=null&&os)for(var W of os(b))S.indexOf(W)<0&&Ls.call(b,W)&&(N[W]=b[W]);return N})(r,["translations"]);this.config=new ul(g,this.constructor.defaultConfig);const h=this.constructor.builtinPlugins;this.config.define("plugins",h),this.plugins=new Fr(this,h);const f=this.config.get("language")||{};this.locale=new H2({uiLanguage:typeof f=="string"?f:f.ui,contentLanguage:this.config.get("language.content"),translations:a}),this.t=this.locale.t,this.editors=new ia}initPlugins(){const n=this.config.get("plugins")||[],r=this.config.get("substitutePlugins")||[];for(const a of n.concat(r)){if(typeof a!="function")throw new P("context-initplugins-constructor-only",null,{Plugin:a});if(a.isContextPlugin!==!0)throw new P("context-initplugins-invalid-plugin",null,{Plugin:a})}return this.plugins.init(n,[],r)}destroy(){return Promise.all(Array.from(this.editors,n=>n.destroy())).then(()=>this.plugins.destroy())}_addEditor(n,r){if(this._contextOwner)throw new P("context-addeditor-private-context");this.editors.add(n),r&&(this._contextOwner=n)}_removeEditor(n){return this.editors.has(n)&&this.editors.remove(n),this._contextOwner===n?this.destroy():Promise.resolve()}_getEditorConfig(){const n={};for(const r of this.config.names())["plugins","removePlugins","extraPlugins"].includes(r)||(n[r]=this.config.get(r));return n}static create(n){return new Promise(r=>{const a=new this(n);r(a.initPlugins().then(()=>a))})}}class Wr extends at(){constructor(n){super(),this.context=n}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class Ro extends is{constructor(n){super(),this.editor=n}set(n,r,a={}){if(typeof r=="string"){const g=r;r=(h,f)=>{this.editor.execute(g),f()}}super.set(n,r,a)}}var Jo=s(4098),sa={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(Jo.A,sa),Jo.A.locals;const Xs=new WeakMap;let no=!1;function Cl({view:l,element:n,text:r,isDirectHost:a=!0,keepOnFocus:g=!1}){const h=l.document;function f(b){Xs.get(h).set(n,{text:b,isDirectHost:a,keepOnFocus:g,hostElement:a?n:null}),l.change(S=>gr(h,S))}Xs.has(h)||(Xs.set(h,new Map),h.registerPostFixer(b=>gr(h,b)),h.on("change:isComposing",()=>{l.change(b=>gr(h,b))},{priority:"high"})),n.is("editableElement")&&n.on("change:placeholder",(b,S,N)=>{f(N)}),n.placeholder?f(n.placeholder):r&&f(r),r&&function(){no||O("enableplaceholder-deprecated-text-option"),no=!0}()}function Hg(l,n){return!n.hasClass("ck-placeholder")&&(l.addClass("ck-placeholder",n),!0)}function jd(l,n){return!!n.hasClass("ck-placeholder")&&(l.removeClass("ck-placeholder",n),!0)}function Pc(l,n){if(!l.isAttached()||Array.from(l.getChildren()).some(g=>!g.is("uiElement")))return!1;const r=l.document,a=r.selection.anchor;return(!r.isComposing||!a||a.parent!==l)&&(!!n||!r.isFocused||!!a&&a.parent!==l)}function gr(l,n){const r=Xs.get(l),a=[];let g=!1;for(const[h,f]of r)f.isDirectHost&&(a.push(h),tm(n,h,f)&&(g=!0));for(const[h,f]of r){if(f.isDirectHost)continue;const b=g0(h);b&&(a.includes(b)||(f.hostElement=b,tm(n,h,f)&&(g=!0)))}return g}function tm(l,n,r){const{text:a,isDirectHost:g,hostElement:h}=r;let f=!1;return h.getAttribute("data-placeholder")!==a&&(l.setAttribute("data-placeholder",a,h),f=!0),(g||n.childCount==1)&&Pc(h,r.keepOnFocus)?Hg(l,h)&&(f=!0):jd(l,h)&&(f=!0),f}function g0(l){if(l.childCount){const n=l.getChild(0);if(n.is("element")&&!n.is("uiElement")&&!n.is("attributeElement"))return n}return null}class Kc{is(){throw new Error("is() method is abstract")}}const vu=function(l){return Fg(l,4)};class Fa extends fe(Kc){constructor(n){super(),this.document=n,this.parent=null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))==-1)throw new P("view-node-not-found-in-parent",this);return n}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.root.is("rootElement")}getPath(){const n=[];let r=this;for(;r.parent;)n.unshift(r.index),r=r.parent;return n}getAncestors(n={}){const r=[];let a=n.includeSelf?this:this.parent;for(;a;)r[n.parentFirst?"push":"unshift"](a),a=a.parent;return r}getCommonAncestor(n,r={}){const a=this.getAncestors(r),g=n.getAncestors(r);let h=0;for(;a[h]==g[h]&&a[h];)h++;return h===0?null:a[h-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const r=this.getPath(),a=n.getPath(),g=yt(r,a);switch(g){case"prefix":return!0;case"extension":return!1;default:return r[g]<a[g]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}_remove(){this.parent._removeChildren(this.index)}_fireChange(n,r){this.fire(`change:${n}`,r),this.parent&&this.parent._fireChange(n,r)}toJSON(){const n=vu(this);return delete n.parent,n}}Fa.prototype.is=function(l){return l==="node"||l==="view:node"};class wi extends Fa{constructor(n,r){super(n),this._textData=r}get data(){return this._textData}get _data(){return this.data}set _data(n){this._fireChange("text",this),this._textData=n}isSimilar(n){return n instanceof wi&&(this===n||this.data===n.data)}_clone(){return new wi(this.document,this.data)}}wi.prototype.is=function(l){return l==="$text"||l==="view:$text"||l==="text"||l==="view:text"||l==="node"||l==="view:node"};class Mr extends Kc{constructor(n,r,a){if(super(),this.textNode=n,r<0||r>n.data.length)throw new P("view-textproxy-wrong-offsetintext",this);if(a<0||r+a>n.data.length)throw new P("view-textproxy-wrong-length",this);this.data=n.data.substring(r,r+a),this.offsetInText=r}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(n={}){const r=[];let a=n.includeSelf?this.textNode:this.parent;for(;a!==null;)r[n.parentFirst?"push":"unshift"](a),a=a.parent;return r}}Mr.prototype.is=function(l){return l==="$textProxy"||l==="view:$textProxy"||l==="textProxy"||l==="view:textProxy"};class ss{constructor(...n){this._patterns=[],this.add(...n)}add(...n){for(let r of n)(typeof r=="string"||r instanceof RegExp)&&(r={name:r}),this._patterns.push(r)}match(...n){for(const r of n)for(const a of this._patterns){const g=Dg(r,a);if(g)return{element:r,pattern:a,match:g}}return null}matchAll(...n){const r=[];for(const a of n)for(const g of this._patterns){const h=Dg(a,g);h&&r.push({element:a,pattern:g,match:h})}return r.length>0?r:null}getElementName(){if(this._patterns.length!==1)return null;const n=this._patterns[0],r=n.name;return typeof n=="function"||!r||r instanceof RegExp?null:r}}function Dg(l,n){if(typeof n=="function")return n(l);const r={};return n.name&&(r.name=function(a,g){return a instanceof RegExp?!!g.match(a):a===g}(n.name,l.name),!r.name)||n.attributes&&(r.attributes=function(a,g){const h=new Set(g.getAttributeKeys());return qn(a)?(a.style!==void 0&&O("matcher-pattern-deprecated-attributes-style-key",a),a.class!==void 0&&O("matcher-pattern-deprecated-attributes-class-key",a)):(h.delete("style"),h.delete("class")),nm(a,h,f=>g.getAttribute(f))}(n.attributes,l),!r.attributes)||n.classes&&(r.classes=function(a,g){return nm(a,g.getClassNames(),()=>{})}(n.classes,l),!r.classes)||n.styles&&(r.styles=function(a,g){return nm(a,g.getStyleNames(!0),h=>g.getStyle(h))}(n.styles,l),!r.styles)?null:r}function nm(l,n,r){const a=function(f){return Array.isArray(f)?f.map(b=>qn(b)?(b.key!==void 0&&b.value!==void 0||O("matcher-pattern-missing-key-or-value",b),[b.key,b.value]):[b,!0]):qn(f)?Object.entries(f):[[f,!0]]}(l),g=Array.from(n),h=[];if(a.forEach(([f,b])=>{g.forEach(S=>{(function(N,W){return N===!0||N===W||N instanceof RegExp&&W.match(N)})(f,S)&&function(N,W,J){if(N===!0)return!0;const ee=J(W);return N===ee||N instanceof RegExp&&!!String(ee).match(N)}(b,S,r)&&h.push(S)})}),a.length&&!(h.length<a.length))return h}const Tg=function(l){return typeof l=="symbol"||xn(l)&&en(l)=="[object Symbol]"};var d0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,im=/^\w*$/;const wu=function(l,n){if(Qt(l))return!1;var r=typeof l;return!(r!="number"&&r!="symbol"&&r!="boolean"&&l!=null&&!Tg(l))||im.test(l)||!d0.test(l)||n!=null&&l in Object(n)};function Od(l,n){if(typeof l!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");var r=function(){var a=arguments,g=n?n.apply(this,a):a[0],h=r.cache;if(h.has(g))return h.get(g);var f=l.apply(this,a);return r.cache=h.set(g,f)||h,f};return r.cache=new(Od.Cache||dt),r}Od.Cache=dt;const ku=Od,D2=function(l){var n=ku(l,function(a){return r.size===500&&r.clear(),a}),r=n.cache;return n};var T2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WC=/\\(\\)?/g,zc=D2(function(l){var n=[];return l.charCodeAt(0)===46&&n.push(""),l.replace(T2,function(r,a,g,h){n.push(g?h.replace(WC,"$1"):a||r)}),n});const L2=zc,X2=function(l,n){for(var r=-1,a=l==null?0:l.length,g=Array(a);++r<a;)g[r]=n(l[r],r,l);return g};var A0=dn?dn.prototype:void 0,HC=A0?A0.toString:void 0;const rm=function l(n){if(typeof n=="string")return n;if(Qt(n))return X2(n,l)+"";if(Tg(n))return HC?HC.call(n):"";var r=n+"";return r=="0"&&1/n==-1/0?"-0":r},om=function(l){return l==null?"":rm(l)},Bu=function(l,n){return Qt(l)?l:wu(l,n)?[l]:L2(om(l))},sm=function(l){var n=l==null?0:l.length;return n?l[n-1]:void 0},Qc=function(l){if(typeof l=="string"||Tg(l))return l;var n=l+"";return n=="0"&&1/l==-1/0?"-0":n},Lg=function(l,n){for(var r=0,a=(n=Bu(n,l)).length;l!=null&&r<a;)l=l[Qc(n[r++])];return r&&r==a?l:void 0},DC=function(l,n,r){var a=-1,g=l.length;n<0&&(n=-n>g?0:g+n),(r=r>g?g:r)<0&&(r+=g),g=n>r?0:r-n>>>0,n>>>=0;for(var h=Array(g);++a<g;)h[a]=l[a+n];return h},M2=function(l,n){return n.length<2?l:Lg(l,DC(n,0,-1))},am=function(l,n){return n=Bu(n,l),(l=M2(l,n))==null||delete l[Qc(sm(n))]},u0=function(l,n){return l==null||am(l,n)},Xg=function(l,n,r){var a=l==null?void 0:Lg(l,n);return a===void 0?r:a},jc=function(l,n,r,a){if(!We(l))return l;for(var g=-1,h=(n=Bu(n,l)).length,f=h-1,b=l;b!=null&&++g<h;){var S=Qc(n[g]),N=r;if(S==="__proto__"||S==="constructor"||S==="prototype")return l;if(g!=f){var W=b[S];(N=void 0)==void 0&&(N=We(W)?W:Wc(n[g+1])?[]:{})}En(b,S,N),b=b[S]}return l},h0=function(l,n,r){return l==null?l:jc(l,n,r)};class lm{constructor(n){this._styles={},this._styleProcessor=n}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(n){this.clear();const r=function(a){let g=null,h=0,f=0,b=null;const S=new Map;if(a==="")return S;a.charAt(a.length-1)!=";"&&(a+=";");for(let N=0;N<a.length;N++){const W=a.charAt(N);if(g===null)switch(W){case":":b||(b=a.substr(h,N-h),f=N+1);break;case'"':case"'":g=W;break;case";":{const J=a.substr(f,N-f);b&&S.set(b.trim(),J.trim()),b=null,h=N+1;break}}else W===g&&(g=null)}return S}(n);for(const[a,g]of r)this._styleProcessor.toNormalizedForm(a,g,this._styles)}has(n){if(this.isEmpty)return!1;const r=this._styleProcessor.getReducedForm(n,this._styles).find(([a])=>a===n);return Array.isArray(r)}set(n,r){if(We(n))for(const[a,g]of Object.entries(n))this._styleProcessor.toNormalizedForm(a,g,this._styles);else this._styleProcessor.toNormalizedForm(n,r,this._styles)}remove(n){const r=cm(n);u0(this._styles,r),delete this._styles[n],this._cleanEmptyObjectsOnPath(r)}getNormalized(n){return this._styleProcessor.getNormalized(n,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(n=>n.join(":")).sort().join(";")+";"}getAsString(n){if(this.isEmpty)return;if(this._styles[n]&&!We(this._styles[n]))return this._styles[n];const r=this._styleProcessor.getReducedForm(n,this._styles).find(([a])=>a===n);return Array.isArray(r)?r[1]:void 0}getStyleNames(n=!1){return this.isEmpty?[]:n?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([r])=>r)}clear(){this._styles={}}getStylesEntries(){const n=[],r=Object.keys(this._styles);for(const a of r)n.push(...this._styleProcessor.getReducedForm(a,this._styles));return n}_cleanEmptyObjectsOnPath(n){const r=n.split(".");if(!(r.length>1))return;const a=r.splice(0,r.length-1).join("."),g=Xg(this._styles,a);g&&!Object.keys(g).length&&this.remove(a)}}class Y2{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(n,r,a){if(We(r))Oc(a,cm(n),r);else if(this._normalizers.has(n)){const g=this._normalizers.get(n),{path:h,value:f}=g(r);Oc(a,h,f)}else Oc(a,n,r)}getNormalized(n,r){if(!n)return Qd({},r);if(r[n]!==void 0)return r[n];if(this._extractors.has(n)){const a=this._extractors.get(n);if(typeof a=="string")return Xg(r,a);const g=a(n,r);if(g)return g}return Xg(r,cm(n))}getReducedForm(n,r){const a=this.getNormalized(n,r);return a===void 0?[]:this._reducers.has(n)?this._reducers.get(n)(a):[[n,a]]}getStyleNames(n){const r=Array.from(this._consumables.keys()).filter(g=>{const h=this.getNormalized(g,n);return h&&typeof h=="object"?Object.keys(h).length:h}),a=new Set([...r,...Object.keys(n)]);return Array.from(a)}getRelatedStyles(n){return this._consumables.get(n)||[]}setNormalizer(n,r){this._normalizers.set(n,r)}setExtractor(n,r){this._extractors.set(n,r)}setReducer(n,r){this._reducers.set(n,r)}setStyleRelation(n,r){this._mapStyleNames(n,r);for(const a of r)this._mapStyleNames(a,[n])}_mapStyleNames(n,r){this._consumables.has(n)||this._consumables.set(n,[]),this._consumables.get(n).push(...r)}}function cm(l){return l.replace("-",".")}function Oc(l,n,r){let a=r;We(r)&&(a=Qd({},Xg(l,n),r)),h0(l,n,a)}class Ms extends Fa{constructor(n,r,a,g){if(super(n),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=r,this._attrs=function(h){const f=pl(h);for(const[b,S]of f)S===null?f.delete(b):typeof S!="string"&&f.set(b,String(S));return f}(a),this._children=[],g&&this._insertChild(0,g),this._classes=new Set,this._attrs.has("class")){const h=this._attrs.get("class");TC(this._classes,h),this._attrs.delete("class")}this._styles=new lm(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(n){if(n=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(n=="style"){const r=this._styles.toString();return r==""?void 0:r}return this._attrs.get(n)}hasAttribute(n){return n=="class"?this._classes.size>0:n=="style"?!this._styles.isEmpty:this._attrs.has(n)}isSimilar(n){if(!(n instanceof Ms))return!1;if(this===n)return!0;if(this.name!=n.name||this._attrs.size!==n._attrs.size||this._classes.size!==n._classes.size||this._styles.size!==n._styles.size)return!1;for(const[r,a]of this._attrs)if(!n._attrs.has(r)||n._attrs.get(r)!==a)return!1;for(const r of this._classes)if(!n._classes.has(r))return!1;for(const r of this._styles.getStyleNames())if(!n._styles.has(r)||n._styles.getAsString(r)!==this._styles.getAsString(r))return!1;return!0}hasClass(...n){for(const r of n)if(!this._classes.has(r))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(n){return this._styles.getAsString(n)}getNormalizedStyle(n){return this._styles.getNormalized(n)}getStyleNames(n){return this._styles.getStyleNames(n)}hasStyle(...n){for(const r of n)if(!this._styles.has(r))return!1;return!0}findAncestor(...n){const r=new ss(...n);let a=this.parent;for(;a&&!a.is("documentFragment");){if(r.match(a))return a;a=a.parent}return null}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const n=Array.from(this._classes).sort().join(","),r=this._styles.toString(),a=Array.from(this._attrs).map(g=>`${g[0]}="${g[1]}"`).sort().join(" ");return this.name+(n==""?"":` class="${n}"`)+(r?` style="${r}"`:"")+(a==""?"":` ${a}`)}shouldRenderUnsafeAttribute(n){return this._unsafeAttributesToRender.includes(n)}_clone(n=!1){const r=[];if(n)for(const g of this.getChildren())r.push(g._clone(n));const a=new this.constructor(this.document,this.name,this._attrs,r);return a._classes=new Set(this._classes),a._styles.set(this._styles.getNormalized()),a._customProperties=new Map(this._customProperties),a.getFillerOffset=this.getFillerOffset,a._unsafeAttributesToRender=this._unsafeAttributesToRender,a}_appendChild(n){return this._insertChild(this.childCount,n)}_insertChild(n,r){this._fireChange("children",this);let a=0;const g=function(h,f){return typeof f=="string"?[new wi(h,f)]:(kt(f)||(f=[f]),Array.from(f).map(b=>typeof b=="string"?new wi(h,b):b instanceof Mr?new wi(h,b.data):b))}(this.document,r);for(const h of g)h.parent!==null&&h._remove(),h.parent=this,h.document=this.document,this._children.splice(n,0,h),n++,a++;return a}_removeChildren(n,r=1){this._fireChange("children",this);for(let a=n;a<n+r;a++)this._children[a].parent=null;return this._children.splice(n,r)}_setAttribute(n,r){const a=String(r);this._fireChange("attributes",this),n=="class"?TC(this._classes,a):n=="style"?this._styles.setTo(a):this._attrs.set(n,a)}_removeAttribute(n){return this._fireChange("attributes",this),n=="class"?this._classes.size>0&&(this._classes.clear(),!0):n=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(n)}_addClass(n){this._fireChange("attributes",this);for(const r of Li(n))this._classes.add(r)}_removeClass(n){this._fireChange("attributes",this);for(const r of Li(n))this._classes.delete(r)}_setStyle(n,r){this._fireChange("attributes",this),typeof n!="string"?this._styles.set(n):this._styles.set(n,r)}_removeStyle(n){this._fireChange("attributes",this);for(const r of Li(n))this._styles.remove(r)}_setCustomProperty(n,r){this._customProperties.set(n,r)}_removeCustomProperty(n){return this._customProperties.delete(n)}}function TC(l,n){const r=n.split(/\s+/);l.clear(),r.forEach(a=>l.add(a))}Ms.prototype.is=function(l,n){return n?n===this.name&&(l==="element"||l==="view:element"):l==="element"||l==="view:element"||l==="node"||l==="view:node"};class xu extends Ms{constructor(n,r,a,g){super(n,r,a,g),this.getFillerOffset=m0}}function m0(){const l=[...this.getChildren()],n=l[this.childCount-1];if(n&&n.is("element","br"))return this.childCount;for(const r of l)if(!r.is("uiElement"))return null;return this.childCount}xu.prototype.is=function(l,n){return n?n===this.name&&(l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class gm extends at(xu){constructor(n,r,a,g){super(n,r,a,g),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(n),this.bind("isFocused").to(n,"isFocused",h=>h&&n.selection.editableElement==this),this.listenTo(n.selection,"change",()=>{this.isFocused=n.isFocused&&n.selection.editableElement==this})}destroy(){this.stopListening()}}gm.prototype.is=function(l,n){return n?n===this.name&&(l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};const qd=Symbol("rootName");class dm extends gm{constructor(n,r){super(n,r),this.rootName="main"}get rootName(){return this.getCustomProperty(qd)}set rootName(n){this._setCustomProperty(qd,n)}set _name(n){this.name=n}}dm.prototype.is=function(l,n){return n?n===this.name&&(l==="rootElement"||l==="view:rootElement"||l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"):l==="rootElement"||l==="view:rootElement"||l==="editableElement"||l==="view:editableElement"||l==="containerElement"||l==="view:containerElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class fl{constructor(n={}){if(!n.boundaries&&!n.startPosition)throw new P("view-tree-walker-no-start-position",null);if(n.direction&&n.direction!="forward"&&n.direction!="backward")throw new P("view-tree-walker-unknown-direction",n.startPosition,{direction:n.direction});this.boundaries=n.boundaries||null,n.startPosition?this._position=jt._createAt(n.startPosition):this._position=jt._createAt(n.boundaries[n.direction=="backward"?"end":"start"]),this.direction=n.direction||"forward",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let r,a;do a=this.position,r=this.next();while(!r.done&&n(r.value));r.done||(this._position=a)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let n=this.position.clone();const r=this.position,a=n.parent;if(a.parent===null&&n.offset===a.childCount)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let g;if(a instanceof wi){if(n.isAtEnd)return this._position=jt._createAfter(a),this._next();g=a.data[n.offset]}else g=a.getChild(n.offset);if(g instanceof Ms){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(n))return{done:!0,value:void 0};n.offset++}else n=new jt(g,0);return this._position=n,this._formatReturnValue("elementStart",g,r,n,1)}if(g instanceof wi){if(this.singleCharacters)return n=new jt(g,0),this._position=n,this._next();let h,f=g.data.length;return g==this._boundaryEndParent?(f=this.boundaries.end.offset,h=new Mr(g,0,f),n=jt._createAfter(h)):(h=new Mr(g,0,g.data.length),n.offset++),this._position=n,this._formatReturnValue("text",h,r,n,f)}if(typeof g=="string"){let h;this.singleCharacters?h=1:h=(a===this._boundaryEndParent?this.boundaries.end.offset:a.data.length)-n.offset;const f=new Mr(a,n.offset,h);return n.offset+=h,this._position=n,this._formatReturnValue("text",f,r,n,h)}return n=jt._createAfter(a),this._position=n,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",a,r,n)}_previous(){let n=this.position.clone();const r=this.position,a=n.parent;if(a.parent===null&&n.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let g;if(a instanceof wi){if(n.isAtStart)return this._position=jt._createBefore(a),this._previous();g=a.data[n.offset-1]}else g=a.getChild(n.offset-1);if(g instanceof Ms)return this.shallow?(n.offset--,this._position=n,this._formatReturnValue("elementStart",g,r,n,1)):(n=new jt(g,g.childCount),this._position=n,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",g,r,n));if(g instanceof wi){if(this.singleCharacters)return n=new jt(g,g.data.length),this._position=n,this._previous();let h,f=g.data.length;if(g==this._boundaryStartParent){const b=this.boundaries.start.offset;h=new Mr(g,b,g.data.length-b),f=h.data.length,n=jt._createBefore(h)}else h=new Mr(g,0,g.data.length),n.offset--;return this._position=n,this._formatReturnValue("text",h,r,n,f)}if(typeof g=="string"){let h;if(this.singleCharacters)h=1;else{const b=a===this._boundaryStartParent?this.boundaries.start.offset:0;h=n.offset-b}n.offset-=h;const f=new Mr(a,n.offset,h);return this._position=n,this._formatReturnValue("text",f,r,n,h)}return n=jt._createBefore(a),this._position=n,this._formatReturnValue("elementStart",a,r,n,1)}_formatReturnValue(n,r,a,g,h){return r instanceof Mr&&(r.offsetInText+r.data.length==r.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?a=jt._createAfter(r.textNode):(g=jt._createAfter(r.textNode),this._position=g)),r.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?a=jt._createBefore(r.textNode):(g=jt._createBefore(r.textNode),this._position=g))),{done:!1,value:{type:n,item:r,previousPosition:a,nextPosition:g,length:h}}}}class jt extends Kc{constructor(n,r){super(),this.parent=n,this.offset=r}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const n=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===n}get root(){return this.parent.root}get editableElement(){let n=this.parent;for(;!(n instanceof gm);){if(!n.parent)return null;n=n.parent}return n}getShiftedBy(n){const r=jt._createAt(this),a=r.offset+n;return r.offset=a<0?0:a,r}getLastMatchingPosition(n,r={}){r.startPosition=this;const a=new fl(r);return a.skip(n),a.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(n){const r=this.getAncestors(),a=n.getAncestors();let g=0;for(;r[g]==a[g]&&r[g];)g++;return g===0?null:r[g-1]}isEqual(n){return this.parent==n.parent&&this.offset==n.offset}isBefore(n){return this.compareWith(n)=="before"}isAfter(n){return this.compareWith(n)=="after"}compareWith(n){if(this.root!==n.root)return"different";if(this.isEqual(n))return"same";const r=this.parent.is("node")?this.parent.getPath():[],a=n.parent.is("node")?n.parent.getPath():[];r.push(this.offset),a.push(n.offset);const g=yt(r,a);switch(g){case"prefix":return"before";case"extension":return"after";default:return r[g]<a[g]?"before":"after"}}getWalker(n={}){return n.startPosition=this,new fl(n)}clone(){return new jt(this.parent,this.offset)}static _createAt(n,r){if(n instanceof jt)return new this(n.parent,n.offset);{const a=n;if(r=="end")r=a.is("$text")?a.data.length:a.childCount;else{if(r=="before")return this._createBefore(a);if(r=="after")return this._createAfter(a);if(r!==0&&!r)throw new P("view-createpositionat-offset-required",a)}return new jt(a,r)}}static _createAfter(n){if(n.is("$textProxy"))return new jt(n.textNode,n.offsetInText+n.data.length);if(!n.parent)throw new P("view-position-after-root",n,{root:n});return new jt(n.parent,n.index+1)}static _createBefore(n){if(n.is("$textProxy"))return new jt(n.textNode,n.offsetInText);if(!n.parent)throw new P("view-position-before-root",n,{root:n});return new jt(n.parent,n.index)}}jt.prototype.is=function(l){return l==="position"||l==="view:position"};class wn extends Kc{constructor(n,r=null){super(),this.start=n.clone(),this.end=r?r.clone():n.clone()}*[Symbol.iterator](){yield*new fl({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let n=this.start.getLastMatchingPosition(Wa,{direction:"backward"}),r=this.end.getLastMatchingPosition(Wa);return n.parent.is("$text")&&n.isAtStart&&(n=jt._createBefore(n.parent)),r.parent.is("$text")&&r.isAtEnd&&(r=jt._createAfter(r.parent)),new wn(n,r)}getTrimmed(){let n=this.start.getLastMatchingPosition(Wa);if(n.isAfter(this.end)||n.isEqual(this.end))return new wn(n,n);let r=this.end.getLastMatchingPosition(Wa,{direction:"backward"});const a=n.nodeAfter,g=r.nodeBefore;return a&&a.is("$text")&&(n=new jt(a,0)),g&&g.is("$text")&&(r=new jt(g,g.data.length)),new wn(n,r)}isEqual(n){return this==n||this.start.isEqual(n.start)&&this.end.isEqual(n.end)}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,r=!1){n.isCollapsed&&(r=!1);const a=this.containsPosition(n.start)||r&&this.start.isEqual(n.start),g=this.containsPosition(n.end)||r&&this.end.isEqual(n.end);return a&&g}getDifference(n){const r=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&r.push(new wn(this.start,n.start)),this.containsPosition(n.end)&&r.push(new wn(n.end,this.end))):r.push(this.clone()),r}getIntersection(n){if(this.isIntersecting(n)){let r=this.start,a=this.end;return this.containsPosition(n.start)&&(r=n.start),this.containsPosition(n.end)&&(a=n.end),new wn(r,a)}return null}getWalker(n={}){return n.boundaries=this,new fl(n)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let n=this.start.nodeAfter,r=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(n=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(r=this.end.parent.previousSibling),n&&n.is("element")&&n===r?n:null}clone(){return new wn(this.start,this.end)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const r=new fl(n);for(const a of r)yield a.item}*getPositions(n={}){n.boundaries=this;const r=new fl(n);yield r.position;for(const a of r)yield a.nextPosition}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}static _createFromParentsAndOffsets(n,r,a,g){return new this(new jt(n,r),new jt(a,g))}static _createFromPositionAndShift(n,r){const a=n,g=n.getShiftedBy(r);return r>0?new this(a,g):new this(g,a)}static _createIn(n){return this._createFromParentsAndOffsets(n,0,n,n.childCount)}static _createOn(n){const r=n.is("$textProxy")?n.offsetSize:1;return this._createFromPositionAndShift(jt._createBefore(n),r)}}function Wa(l){return!(!l.item.is("attributeElement")&&!l.item.is("uiElement"))}wn.prototype.is=function(l){return l==="range"||l==="view:range"};class ys extends fe(Kc){constructor(...n){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",n.length&&this.setTo(...n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.end:n.start).clone()}get focus(){if(!this._ranges.length)return null;const n=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?n.start:n.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const n of this._ranges)yield n.clone()}getFirstRange(){let n=null;for(const r of this._ranges)n&&!r.start.isBefore(n.start)||(n=r);return n?n.clone():null}getLastRange(){let n=null;for(const r of this._ranges)n&&!r.end.isAfter(n.end)||(n=r);return n?n.clone():null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}isEqual(n){if(this.isFake!=n.isFake||this.isFake&&this.fakeSelectionLabel!=n.fakeSelectionLabel||this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const r of this._ranges){let a=!1;for(const g of n._ranges)if(r.isEqual(g)){a=!0;break}if(!a)return!1}return!0}isSimilar(n){if(this.isBackward!=n.isBackward)return!1;const r=bt(this.getRanges());if(r!=bt(n.getRanges()))return!1;if(r==0)return!0;for(let a of this.getRanges()){a=a.getTrimmed();let g=!1;for(let h of n.getRanges())if(h=h.getTrimmed(),a.start.isEqual(h.start)&&a.end.isEqual(h.end)){g=!0;break}if(!g)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...n){let[r,a,g]=n;if(typeof a=="object"&&(g=a,a=void 0),r===null)this._setRanges([]),this._setFakeOptions(g);else if(r instanceof ys||r instanceof Su)this._setRanges(r.getRanges(),r.isBackward),this._setFakeOptions({fake:r.isFake,label:r.fakeSelectionLabel});else if(r instanceof wn)this._setRanges([r],g&&g.backward),this._setFakeOptions(g);else if(r instanceof jt)this._setRanges([new wn(r)]),this._setFakeOptions(g);else if(r instanceof Fa){const h=!!g&&!!g.backward;let f;if(a===void 0)throw new P("view-selection-setto-required-second-parameter",this);f=a=="in"?wn._createIn(r):a=="on"?wn._createOn(r):new wn(jt._createAt(r,a)),this._setRanges([f],h),this._setFakeOptions(g)}else{if(!kt(r))throw new P("view-selection-setto-not-selectable",this);this._setRanges(r,g&&g.backward),this._setFakeOptions(g)}this.fire("change")}setFocus(n,r){if(this.anchor===null)throw new P("view-selection-setfocus-no-ranges",this);const a=jt._createAt(n,r);if(a.compareWith(this.focus)=="same")return;const g=this.anchor;this._ranges.pop(),a.compareWith(g)=="before"?this._addRange(new wn(a,g),!0):this._addRange(new wn(g,a)),this.fire("change")}_setRanges(n,r=!1){n=Array.from(n),this._ranges=[];for(const a of n)this._addRange(a);this._lastRangeBackward=!!r}_setFakeOptions(n={}){this._isFake=!!n.fake,this._fakeSelectionLabel=n.fake&&n.label||""}_addRange(n,r=!1){if(!(n instanceof wn))throw new P("view-selection-add-range-not-range",this);this._pushRange(n),this._lastRangeBackward=!!r}_pushRange(n){for(const r of this._ranges)if(n.isIntersecting(r))throw new P("view-selection-range-intersects",this,{addedRange:n,intersectingRange:r});this._ranges.push(new wn(n.start,n.end))}}ys.prototype.is=function(l){return l==="selection"||l==="view:selection"};class Su extends fe(Kc){constructor(...n){super(),this._selection=new ys,this._selection.delegate("change").to(this),n.length&&this._selection.setTo(...n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(n){return this._selection.isEqual(n)}isSimilar(n){return this._selection.isSimilar(n)}_setTo(...n){this._selection.setTo(...n)}_setFocus(n,r){this._selection.setFocus(n,r)}}Su.prototype.is=function(l){return l==="selection"||l=="documentSelection"||l=="view:selection"||l=="view:documentSelection"};class Mg extends L{constructor(n,r,a){super(n,r),this.startRange=a,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const LC=Symbol("bubbling contexts");function Zu(l){return class extends l{fire(n,...r){try{const a=n instanceof L?n:new L(this,n),g=J2(this);if(!g.size)return;if(Yg(a,"capturing",this),Am(g,"$capture",a,...r))return a.return;const h=a.startRange||this.selection.getFirstRange(),f=h?h.getContainedElement():null,b=!!f&&!!G_(g,f);let S=f||function(N){if(!N)return null;const W=N.start.parent,J=N.end.parent,ee=W.getPath(),se=J.getPath();return ee.length>se.length?W:J}(h);if(Yg(a,"atTarget",S),!b){if(Am(g,"$text",a,...r))return a.return;Yg(a,"bubbling",S)}for(;S;){if(S.is("rootElement")){if(Am(g,"$root",a,...r))return a.return}else if(S.is("element")&&Am(g,S.name,a,...r))return a.return;if(Am(g,S,a,...r))return a.return;S=S.parent,Yg(a,"bubbling",S)}return Yg(a,"bubbling",this),Am(g,"$document",a,...r),a.return}catch(a){P.rethrowUnexpectedError(a,this)}}_addEventListener(n,r,a){const g=Li(a.context||"$document"),h=J2(this);for(const f of g){let b=h.get(f);b||(b=new(fe()),h.set(f,b)),this.listenTo(b,n,r,a)}}_removeEventListener(n,r){const a=J2(this);for(const g of a.values())this.stopListening(g,n,r)}}}{const l=Zu(Object);["fire","_addEventListener","_removeEventListener"].forEach(n=>{Zu[n]=l.prototype[n]})}function Yg(l,n,r){l instanceof Mg&&(l._eventPhase=n,l._currentTarget=r)}function Am(l,n,r,...a){const g=typeof n=="string"?l.get(n):G_(l,n);return!!g&&(g.fire(r,...a),r.stop.called)}function G_(l,n){for(const[r,a]of l)if(typeof r=="function"&&r(n))return a;return null}function J2(l){return l[LC]||(l[LC]=new Map),l[LC]}class p0 extends Zu(at()){constructor(n){super(),this._postFixers=new Set,this.selection=new Su,this.roots=new ia({idProperty:"rootName"}),this.stylesProcessor=n,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(n="main"){return this.roots.get(n)}registerPostFixer(n){this._postFixers.add(n)}destroy(){this.roots.forEach(n=>n.destroy()),this.stopListening()}_callPostFixers(n){let r=!1;do for(const a of this._postFixers)if(r=a(n),r)break;while(r)}}class Gu extends Ms{constructor(n,r,a,g){super(n,r,a,g),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=kO}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new P("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(n){return this.id!==null||n.id!==null?this.id===n.id:super.isSimilar(n)&&this.priority==n.priority}_clone(n=!1){const r=super._clone(n);return r._priority=this._priority,r._id=this._id,r}}function kO(){if(U2(this))return null;let l=this.parent;for(;l&&l.is("attributeElement");){if(U2(l)>1)return null;l=l.parent}return!l||U2(l)>1?null:this.childCount}function U2(l){return Array.from(l.getChildren()).filter(n=>!n.is("uiElement")).length}Gu.DEFAULT_PRIORITY=10,Gu.prototype.is=function(l,n){return n?n===this.name&&(l==="attributeElement"||l==="view:attributeElement"||l==="element"||l==="view:element"):l==="attributeElement"||l==="view:attributeElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class P2 extends Ms{constructor(n,r,a,g){super(n,r,a,g),this.getFillerOffset=BO}_insertChild(n,r){if(r&&(r instanceof Fa||Array.from(r).length>0))throw new P("view-emptyelement-cannot-add",[this,r]);return 0}}function BO(){return null}P2.prototype.is=function(l,n){return n?n===this.name&&(l==="emptyElement"||l==="view:emptyElement"||l==="element"||l==="view:element"):l==="emptyElement"||l==="view:emptyElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class C0 extends Ms{constructor(n,r,a,g){super(n,r,a,g),this.getFillerOffset=SO}_insertChild(n,r){if(r&&(r instanceof Fa||Array.from(r).length>0))throw new P("view-uielement-cannot-add",[this,r]);return 0}render(n,r){return this.toDomElement(n)}toDomElement(n){const r=n.createElement(this.name);for(const a of this.getAttributeKeys())r.setAttribute(a,this.getAttribute(a));return r}}function xO(l){l.document.on("arrowKey",(n,r)=>function(a,g,h){if(g.keyCode==di.arrowright){const f=g.domTarget.ownerDocument.defaultView.getSelection(),b=f.rangeCount==1&&f.getRangeAt(0).collapsed;if(b||g.shiftKey){const S=f.focusNode,N=f.focusOffset,W=h.domPositionToView(S,N);if(W===null)return;let J=!1;const ee=W.getLastMatchingPosition(se=>(se.item.is("uiElement")&&(J=!0),!(!se.item.is("uiElement")&&!se.item.is("attributeElement"))));if(J){const se=h.viewPositionToDom(ee);b?f.collapse(se.parent,se.offset):f.extend(se.parent,se.offset)}}}}(0,r,l.domConverter),{priority:"low"})}function SO(){return null}C0.prototype.is=function(l,n){return n?n===this.name&&(l==="uiElement"||l==="view:uiElement"||l==="element"||l==="view:element"):l==="uiElement"||l==="view:uiElement"||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class K2 extends Ms{constructor(n,r,a,g){super(n,r,a,g),this.getFillerOffset=ZO}_insertChild(n,r){if(r&&(r instanceof Fa||Array.from(r).length>0))throw new P("view-rawelement-cannot-add",[this,r]);return 0}render(n,r){}}function ZO(){return null}K2.prototype.is=function(l,n){return n?n===this.name&&(l==="rawElement"||l==="view:rawElement"||l==="element"||l==="view:element"):l==="rawElement"||l==="view:rawElement"||l===this.name||l==="view:"+this.name||l==="element"||l==="view:element"||l==="node"||l==="view:node"};class Ru extends fe(Kc){constructor(n,r){super(),this._children=[],this._customProperties=new Map,this.document=n,r&&this._insertChild(0,r)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(n){return this._customProperties.get(n)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(n){return this._insertChild(this.childCount,n)}getChild(n){return this._children[n]}getChildIndex(n){return this._children.indexOf(n)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(n,r){this._fireChange("children",this);let a=0;const g=function(h,f){return typeof f=="string"?[new wi(h,f)]:(kt(f)||(f=[f]),Array.from(f).map(b=>typeof b=="string"?new wi(h,b):b instanceof Mr?new wi(h,b.data):b))}(this.document,r);for(const h of g)h.parent!==null&&h._remove(),h.parent=this,this._children.splice(n,0,h),n++,a++;return a}_removeChildren(n,r=1){this._fireChange("children",this);for(let a=n;a<n+r;a++)this._children[a].parent=null;return this._children.splice(n,r)}_fireChange(n,r){this.fire("change:"+n,r)}_setCustomProperty(n,r){this._customProperties.set(n,r)}_removeCustomProperty(n){return this._customProperties.delete(n)}}Ru.prototype.is=function(l){return l==="documentFragment"||l==="view:documentFragment"};class R_{constructor(n){this._cloneGroups=new Map,this._slotFactory=null,this.document=n}setSelection(...n){this.document.selection._setTo(...n)}setSelectionFocus(n,r){this.document.selection._setFocus(n,r)}createDocumentFragment(n){return new Ru(this.document,n)}createText(n){return new wi(this.document,n)}createAttributeElement(n,r,a={}){const g=new Gu(this.document,n,r);return typeof a.priority=="number"&&(g._priority=a.priority),a.id&&(g._id=a.id),a.renderUnsafeAttributes&&g._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),g}createContainerElement(n,r,a={},g={}){let h=null;qn(a)?g=a:h=a;const f=new xu(this.document,n,r,h);return g.renderUnsafeAttributes&&f._unsafeAttributesToRender.push(...g.renderUnsafeAttributes),f}createEditableElement(n,r,a={}){const g=new gm(this.document,n,r);return a.renderUnsafeAttributes&&g._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),g}createEmptyElement(n,r,a={}){const g=new P2(this.document,n,r);return a.renderUnsafeAttributes&&g._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),g}createUIElement(n,r,a){const g=new C0(this.document,n,r);return a&&(g.render=a),g}createRawElement(n,r,a,g={}){const h=new K2(this.document,n,r);return a&&(h.render=a),g.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...g.renderUnsafeAttributes),h}setAttribute(n,r,a){a._setAttribute(n,r)}removeAttribute(n,r){r._removeAttribute(n)}addClass(n,r){r._addClass(n)}removeClass(n,r){r._removeClass(n)}setStyle(n,r,a){qn(n)&&a===void 0?r._setStyle(n):a._setStyle(n,r)}removeStyle(n,r){r._removeStyle(n)}setCustomProperty(n,r,a){a._setCustomProperty(n,r)}removeCustomProperty(n,r){return r._removeCustomProperty(n)}breakAttributes(n){return n instanceof jt?this._breakAttributes(n):this._breakAttributesRange(n)}breakContainer(n){const r=n.parent;if(!r.is("containerElement"))throw new P("view-writer-break-non-container-element",this.document);if(!r.parent)throw new P("view-writer-break-root",this.document);if(n.isAtStart)return jt._createBefore(r);if(!n.isAtEnd){const a=r._clone(!1);this.insert(jt._createAfter(r),a);const g=new wn(n,jt._createAt(r,"end")),h=new jt(a,0);this.move(g,h)}return jt._createAfter(r)}mergeAttributes(n){const r=n.offset,a=n.parent;if(a.is("$text"))return n;if(a.is("attributeElement")&&a.childCount===0){const f=a.parent,b=a.index;return a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new jt(f,b))}const g=a.getChild(r-1),h=a.getChild(r);if(!g||!h)return n;if(g.is("$text")&&h.is("$text"))return __(g,h);if(g.is("attributeElement")&&h.is("attributeElement")&&g.isSimilar(h)){const f=g.childCount;return g._appendChild(h.getChildren()),h._remove(),this._removeFromClonedElementsGroup(h),this.mergeAttributes(new jt(g,f))}return n}mergeContainers(n){const r=n.nodeBefore,a=n.nodeAfter;if(!(r&&a&&r.is("containerElement")&&a.is("containerElement")))throw new P("view-writer-merge-containers-invalid-position",this.document);const g=r.getChild(r.childCount-1),h=g instanceof wi?jt._createAt(g,"end"):jt._createAt(r,"end");return this.move(wn._createIn(a),jt._createAt(r,"end")),this.remove(wn._createOn(a)),h}insert(n,r){V_(r=kt(r)?[...r]:[r],this.document);const a=r.reduce((f,b)=>{const S=f[f.length-1],N=!b.is("uiElement");return S&&S.breakAttributes==N?S.nodes.push(b):f.push({breakAttributes:N,nodes:[b]}),f},[]);let g=null,h=n;for(const{nodes:f,breakAttributes:b}of a){const S=this._insertNodes(h,f,b);g||(g=S.start),h=S.end}return g?new wn(g,h):new wn(n)}remove(n){const r=n instanceof wn?n:wn._createOn(n);if(XC(r,this.document),r.isCollapsed)return new Ru(this.document);const{start:a,end:g}=this._breakAttributesRange(r,!0),h=a.parent,f=g.offset-a.offset,b=h._removeChildren(a.offset,f);for(const N of b)this._removeFromClonedElementsGroup(N);const S=this.mergeAttributes(a);return r.start=S,r.end=S.clone(),new Ru(this.document,b)}clear(n,r){XC(n,this.document);const a=n.getWalker({direction:"backward",ignoreElementEnd:!0});for(const g of a){const h=g.item;let f;if(h.is("element")&&r.isSimilar(h))f=wn._createOn(h);else if(!g.nextPosition.isAfter(n.start)&&h.is("$textProxy")){const b=h.getAncestors().find(S=>S.is("element")&&r.isSimilar(S));b&&(f=wn._createIn(b))}f&&(f.end.isAfter(n.end)&&(f.end=n.end),f.start.isBefore(n.start)&&(f.start=n.start),this.remove(f))}}move(n,r){let a;if(r.isAfter(n.end)){const g=(r=this._breakAttributes(r,!0)).parent,h=g.childCount;n=this._breakAttributesRange(n,!0),a=this.remove(n),r.offset+=g.childCount-h}else a=this.remove(n);return this.insert(r,a)}wrap(n,r){if(!(r instanceof Gu))throw new P("view-writer-wrap-invalid-attribute",this.document);if(XC(n,this.document),n.isCollapsed){let g=n.start;g.parent.is("element")&&(a=g.parent,!Array.from(a.getChildren()).some(f=>!f.is("uiElement")))&&(g=g.getLastMatchingPosition(f=>f.item.is("uiElement"))),g=this._wrapPosition(g,r);const h=this.document.selection;return h.isCollapsed&&h.getFirstPosition().isEqual(n.start)&&this.setSelection(g),new wn(g)}return this._wrapRange(n,r);var a}unwrap(n,r){if(!(r instanceof Gu))throw new P("view-writer-unwrap-invalid-attribute",this.document);if(XC(n,this.document),n.isCollapsed)return n;const{start:a,end:g}=this._breakAttributesRange(n,!0),h=a.parent,f=this._unwrapChildren(h,a.offset,g.offset,r),b=this.mergeAttributes(f.start);b.isEqual(f.start)||f.end.offset--;const S=this.mergeAttributes(f.end);return new wn(b,S)}rename(n,r){const a=new xu(this.document,n,r.getAttributes());return this.insert(jt._createAfter(r),a),this.move(wn._createIn(r),jt._createAt(a,0)),this.remove(wn._createOn(r)),a}clearClonedElementsGroup(n){this._cloneGroups.delete(n)}createPositionAt(n,r){return jt._createAt(n,r)}createPositionAfter(n){return jt._createAfter(n)}createPositionBefore(n){return jt._createBefore(n)}createRange(n,r){return new wn(n,r)}createRangeOn(n){return wn._createOn(n)}createRangeIn(n){return wn._createIn(n)}createSelection(...n){return new ys(...n)}createSlot(n="children"){if(!this._slotFactory)throw new P("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,n)}_registerSlotFactory(n){this._slotFactory=n}_clearSlotFactory(){this._slotFactory=null}_insertNodes(n,r,a){let g,h;if(g=a?z2(n):n.parent.is("$text")?n.parent.parent:n.parent,!g)throw new P("view-writer-invalid-position-container",this.document);h=a?this._breakAttributes(n,!0):n.parent.is("$text")?Q2(n):n;const f=g._insertChild(h.offset,r);for(const W of r)this._addToClonedElementsGroup(W);const b=h.getShiftedBy(f),S=this.mergeAttributes(h);S.isEqual(h)||b.offset--;const N=this.mergeAttributes(b);return new wn(S,N)}_wrapChildren(n,r,a,g){let h=r;const f=[];for(;h<a;){const S=n.getChild(h),N=S.is("$text"),W=S.is("attributeElement");if(W&&this._wrapAttributeElement(g,S))f.push(new jt(n,h));else if(N||!W||GO(g,S)){const J=g._clone();S._remove(),J._appendChild(S),n._insertChild(h,J),this._addToClonedElementsGroup(J),f.push(new jt(n,h))}else this._wrapChildren(S,0,S.childCount,g);h++}let b=0;for(const S of f)S.offset-=b,S.offset!=r&&(this.mergeAttributes(S).isEqual(S)||(b++,a--));return wn._createFromParentsAndOffsets(n,r,n,a)}_unwrapChildren(n,r,a,g){let h=r;const f=[];for(;h<a;){const S=n.getChild(h);if(S.is("attributeElement"))if(S.isSimilar(g)){const N=S.getChildren(),W=S.childCount;S._remove(),n._insertChild(h,N),this._removeFromClonedElementsGroup(S),f.push(new jt(n,h),new jt(n,h+W)),h+=W,a+=W-1}else this._unwrapAttributeElement(g,S)?(f.push(new jt(n,h),new jt(n,h+1)),h++):(this._unwrapChildren(S,0,S.childCount,g),h++);else h++}let b=0;for(const S of f)S.offset-=b,!(S.offset==r||S.offset==a)&&(this.mergeAttributes(S).isEqual(S)||(b++,a--));return wn._createFromParentsAndOffsets(n,r,n,a)}_wrapRange(n,r){const{start:a,end:g}=this._breakAttributesRange(n,!0),h=a.parent,f=this._wrapChildren(h,a.offset,g.offset,r),b=this.mergeAttributes(f.start);b.isEqual(f.start)||f.end.offset--;const S=this.mergeAttributes(f.end);return new wn(b,S)}_wrapPosition(n,r){if(r.isSimilar(n.parent))return N_(n.clone());n.parent.is("$text")&&(n=Q2(n));const a=this.createAttributeElement("_wrapPosition-fake-element");a._priority=Number.POSITIVE_INFINITY,a.isSimilar=()=>!1,n.parent._insertChild(n.offset,a);const g=new wn(n,n.getShiftedBy(1));this.wrap(g,r);const h=new jt(a.parent,a.index);a._remove();const f=h.nodeBefore,b=h.nodeAfter;return f instanceof wi&&b instanceof wi?__(f,b):N_(h)}_wrapAttributeElement(n,r){if(!E_(n,r)||n.name!==r.name||n.priority!==r.priority)return!1;for(const a of n.getAttributeKeys())if(a!=="class"&&a!=="style"&&r.hasAttribute(a)&&r.getAttribute(a)!==n.getAttribute(a))return!1;for(const a of n.getStyleNames())if(r.hasStyle(a)&&r.getStyle(a)!==n.getStyle(a))return!1;for(const a of n.getAttributeKeys())a!=="class"&&a!=="style"&&(r.hasAttribute(a)||this.setAttribute(a,n.getAttribute(a),r));for(const a of n.getStyleNames())r.hasStyle(a)||this.setStyle(a,n.getStyle(a),r);for(const a of n.getClassNames())r.hasClass(a)||this.addClass(a,r);return!0}_unwrapAttributeElement(n,r){if(!E_(n,r)||n.name!==r.name||n.priority!==r.priority)return!1;for(const a of n.getAttributeKeys())if(a!=="class"&&a!=="style"&&(!r.hasAttribute(a)||r.getAttribute(a)!==n.getAttribute(a)))return!1;if(!r.hasClass(...n.getClassNames()))return!1;for(const a of n.getStyleNames())if(!r.hasStyle(a)||r.getStyle(a)!==n.getStyle(a))return!1;for(const a of n.getAttributeKeys())a!=="class"&&a!=="style"&&this.removeAttribute(a,r);return this.removeClass(Array.from(n.getClassNames()),r),this.removeStyle(Array.from(n.getStyleNames()),r),!0}_breakAttributesRange(n,r=!1){const a=n.start,g=n.end;if(XC(n,this.document),n.isCollapsed){const S=this._breakAttributes(n.start,r);return new wn(S,S)}const h=this._breakAttributes(g,r),f=h.parent.childCount,b=this._breakAttributes(a,r);return h.offset+=h.parent.childCount-f,new wn(b,h)}_breakAttributes(n,r=!1){const a=n.offset,g=n.parent;if(n.parent.is("emptyElement"))throw new P("view-writer-cannot-break-empty-element",this.document);if(n.parent.is("uiElement"))throw new P("view-writer-cannot-break-ui-element",this.document);if(n.parent.is("rawElement"))throw new P("view-writer-cannot-break-raw-element",this.document);if(!r&&g.is("$text")&&j2(g.parent)||j2(g))return n.clone();if(g.is("$text"))return this._breakAttributes(Q2(n),r);if(a==g.childCount){const h=new jt(g.parent,g.index+1);return this._breakAttributes(h,r)}if(a===0){const h=new jt(g.parent,g.index);return this._breakAttributes(h,r)}{const h=g.index+1,f=g._clone();g.parent._insertChild(h,f),this._addToClonedElementsGroup(f);const b=g.childCount-a,S=g._removeChildren(a,b);f._appendChild(S);const N=new jt(g.parent,h);return this._breakAttributes(N,r)}}_addToClonedElementsGroup(n){if(!n.root.is("rootElement"))return;if(n.is("element"))for(const g of n.getChildren())this._addToClonedElementsGroup(g);const r=n.id;if(!r)return;let a=this._cloneGroups.get(r);a||(a=new Set,this._cloneGroups.set(r,a)),a.add(n),n._clonesGroup=a}_removeFromClonedElementsGroup(n){if(n.is("element"))for(const g of n.getChildren())this._removeFromClonedElementsGroup(g);const r=n.id;if(!r)return;const a=this._cloneGroups.get(r);a&&a.delete(n)}}function z2(l){let n=l.parent;for(;!j2(n);){if(!n)return;n=n.parent}return n}function GO(l,n){return l.priority<n.priority||!(l.priority>n.priority)&&l.getIdentity()<n.getIdentity()}function N_(l){const n=l.nodeBefore;if(n&&n.is("$text"))return new jt(n,n.data.length);const r=l.nodeAfter;return r&&r.is("$text")?new jt(r,0):l}function Q2(l){if(l.offset==l.parent.data.length)return new jt(l.parent.parent,l.parent.index+1);if(l.offset===0)return new jt(l.parent.parent,l.parent.index);const n=l.parent.data.slice(l.offset);return l.parent._data=l.parent.data.slice(0,l.offset),l.parent.parent._insertChild(l.parent.index+1,new wi(l.root.document,n)),new jt(l.parent.parent,l.parent.index+1)}function __(l,n){const r=l.data.length;return l._data+=n.data,n._remove(),new jt(l,r)}const RO=[wi,Gu,xu,P2,K2,C0];function V_(l,n){for(const r of l){if(!RO.some(a=>r instanceof a))throw new P("view-writer-insert-invalid-node-type",n);r.is("$text")||V_(r.getChildren(),n)}}function j2(l){return l&&(l.is("containerElement")||l.is("documentFragment"))}function XC(l,n){const r=z2(l.start),a=z2(l.end);if(!r||!a||r!==a)throw new P("view-writer-invalid-range-container",n)}function E_(l,n){return l.id===null&&n.id===null}const F_=l=>l.createTextNode(""),W_=l=>{const n=l.createElement("span");return n.dataset.ckeFiller="true",n.innerText="",n},H_=l=>{const n=l.createElement("br");return n.dataset.ckeFiller="true",n},ic=7,MC="".repeat(ic);function Ha(l){return typeof l=="string"?l.substr(0,ic)===MC:Un(l)&&l.data.substr(0,ic)===MC}function um(l){return l.data.length==ic&&Ha(l)}function D_(l){const n=typeof l=="string"?l:l.data;return Ha(l)?n.slice(ic):n}function NO(l,n){if(n.keyCode==di.arrowleft){const r=n.domTarget.ownerDocument.defaultView.getSelection();if(r.rangeCount==1&&r.getRangeAt(0).collapsed){const a=r.getRangeAt(0).startContainer,g=r.getRangeAt(0).startOffset;Ha(a)&&g<=ic&&r.collapse(a,0)}}}var T_=s(8264),_O={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(T_.A,_O),T_.A.locals;class VO extends at(){constructor(n,r){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=n,this.selection=r,this.set("isFocused",!1),this.set("isSelecting",!1),x.isBlink&&!x.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(n,r){if(n==="text")this.domConverter.mapViewToDom(r.parent)&&this.markedTexts.add(r);else{if(!this.domConverter.mapViewToDom(r))return;if(n==="attributes")this.markedAttributes.add(r);else{if(n!=="children")throw new P("view-renderer-unknown-type",this);this.markedChildren.add(r)}}}render(){if(this.isComposing&&!x.isAndroid)return;let n=null;const r=!(x.isBlink&&!x.isAndroid)||!this.isSelecting;for(const a of this.markedChildren)this._updateChildrenMappings(a);r?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?n=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(n=this.selection.getFirstPosition(),this.markedChildren.add(n.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(n=this.domConverter.domPositionToView(this._inlineFiller),n&&n.parent.is("$text")&&(n=jt._createBefore(n.parent)));for(const a of this.markedAttributes)this._updateAttrs(a);for(const a of this.markedChildren)this._updateChildren(a,{inlineFillerPosition:n});for(const a of this.markedTexts)!this.markedChildren.has(a.parent)&&this.domConverter.mapViewToDom(a.parent)&&this._updateText(a,{inlineFillerPosition:n});if(r)if(n){const a=this.domConverter.viewPositionToDom(n),g=a.parent.ownerDocument;Ha(a.parent)?this._inlineFiller=a.parent:this._inlineFiller=L_(g,a.parent,a.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(n){const r=this.domConverter.mapViewToDom(n);if(!r)return;const a=Array.from(r.childNodes),g=Array.from(this.domConverter.viewChildrenToDom(n,{withChildren:!1})),h=this._diffNodeLists(a,g),f=this._findUpdateActions(h,a,g,EO);if(f.indexOf("update")!==-1){const b={equal:0,insert:0,delete:0};for(const S of f)if(S==="update"){const N=b.equal+b.insert,W=b.equal+b.delete,J=n.getChild(N);!J||J.is("uiElement")||J.is("rawElement")||this._updateElementMappings(J,a[W]),Qh(g[N]),b.equal++}else b[S]++}}_updateElementMappings(n,r){this.domConverter.unbindDomElement(r),this.domConverter.bindElements(r,n),this.markedChildren.add(n),this.markedAttributes.add(n)}_getInlineFillerPosition(){const n=this.selection.getFirstPosition();return n.parent.is("$text")?jt._createBefore(n.parent):n}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),r=this.domConverter.viewPositionToDom(n);return!!(r&&Un(r.parent)&&Ha(r.parent))}_removeInlineFiller(){const n=this._inlineFiller;if(!Ha(n))throw new P("view-renderer-filler-was-lost",this);um(n)?n.remove():n.data=n.data.substr(ic),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const n=this.selection.getFirstPosition(),r=n.parent,a=n.offset;if(!this.domConverter.mapViewToDom(r.root)||!r.is("element")||!function(f){if(f.getAttribute("contenteditable")=="false")return!1;const b=f.findAncestor(S=>S.hasAttribute("contenteditable"));return!b||b.getAttribute("contenteditable")=="true"}(r))return!1;const g=n.nodeBefore,h=n.nodeAfter;return!(g instanceof wi||h instanceof wi)&&!!(a!==r.getFillerOffset()||g&&g.is("element","br"))&&(!x.isAndroid||!g&&!h)}_updateText(n,r){const a=this.domConverter.findCorrespondingDomText(n);let g=this.domConverter.viewToDom(n).data;const h=r.inlineFillerPosition;h&&h.parent==n.parent&&h.offset==n.index&&(g=MC+g),X_(a,g)}_updateAttrs(n){const r=this.domConverter.mapViewToDom(n);if(!r)return;const a=Array.from(r.attributes).map(h=>h.name),g=n.getAttributeKeys();for(const h of g)this.domConverter.setDomElementAttribute(r,h,n.getAttribute(h),n);for(const h of a)n.hasAttribute(h)||this.domConverter.removeDomElementAttribute(r,h)}_updateChildren(n,r){const a=this.domConverter.mapViewToDom(n);if(!a)return;if(x.isAndroid){let J=null;for(const ee of Array.from(a.childNodes)){if(J&&Un(J)&&Un(ee)){a.normalize();break}J=ee}}const g=r.inlineFillerPosition,h=a.childNodes,f=Array.from(this.domConverter.viewChildrenToDom(n,{bind:!0}));g&&g.parent===n&&L_(a.ownerDocument,f,g.offset);const b=this._diffNodeLists(h,f),S=this._findUpdateActions(b,h,f,FO);let N=0;const W=new Set;for(const J of S)J==="delete"?(W.add(h[N]),Qh(h[N])):J!=="equal"&&J!=="update"||N++;N=0;for(const J of S)J==="insert"?(Is(a,N,f[N]),N++):J==="update"?(X_(h[N],f[N].data),N++):J==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(f[N])),N++);for(const J of W)J.parentNode||this.domConverter.unbindDomElement(J)}_diffNodeLists(n,r){return n=function(a,g){const h=Array.from(a);return h.length==0||!g||h[h.length-1]==g&&h.pop(),h}(n,this._fakeSelectionContainer),H(n,r,WO.bind(null,this.domConverter))}_findUpdateActions(n,r,a,g){if(n.indexOf("insert")===-1||n.indexOf("delete")===-1)return n;let h=[],f=[],b=[];const S={equal:0,insert:0,delete:0};for(const N of n)N==="insert"?b.push(a[S.equal+S.insert]):N==="delete"?f.push(r[S.equal+S.delete]):(h=h.concat(H(f,b,g).map(W=>W==="equal"?"update":W)),h.push("equal"),f=[],b=[]),S[N]++;return h.concat(H(f,b,g).map(N=>N==="equal"?"update":N))}_markDescendantTextToSync(n){if(n){if(n.is("$text"))this.markedTexts.add(n);else if(n.is("element"))for(const r of n.getChildren())this._markDescendantTextToSync(r)}}_updateSelection(){if(x.isBlink&&!x.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const n=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&n&&(this.selection.isFake?this._updateFakeSelection(n):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(n)):this.isComposing&&x.isAndroid||this._updateDomSelection(n))}_updateFakeSelection(n){const r=n.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(f){const b=f.createElement("div");return b.className="ck-fake-selection-container",Object.assign(b.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),b.textContent="",b}(r));const a=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(a,this.selection),!this._fakeSelectionNeedsUpdate(n))return;a.parentElement&&a.parentElement==n||n.appendChild(a),a.textContent=this.selection.fakeSelectionLabel||"";const g=r.getSelection(),h=r.createRange();g.removeAllRanges(),h.selectNodeContents(a),g.addRange(h)}_updateDomSelection(n){const r=n.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(r))return;const a=this.domConverter.viewPositionToDom(this.selection.anchor),g=this.domConverter.viewPositionToDom(this.selection.focus);r.setBaseAndExtent(a.parent,a.offset,g.parent,g.offset),x.isGecko&&function(h,f){let b=h.parent,S=h.offset;if(Un(b)&&um(b)&&(S=Mc(b)+1,b=b.parentNode),b.nodeType!=Node.ELEMENT_NODE||S!=b.childNodes.length-1)return;const N=b.childNodes[S];N&&N.tagName=="BR"&&f.addRange(f.getRangeAt(0))}(g,r)}_domSelectionNeedsUpdate(n){if(!this.domConverter.isDomSelectionCorrect(n))return!0;const r=n&&this.domConverter.domSelectionToView(n);return(!r||!this.selection.isEqual(r))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(r))}_fakeSelectionNeedsUpdate(n){const r=this._fakeSelectionContainer,a=n.ownerDocument.getSelection();return!r||r.parentElement!==n||a.anchorNode!==r&&!r.contains(a.anchorNode)||r.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const n of this.domDocuments){const r=n.getSelection();if(r.rangeCount){const a=n.activeElement,g=this.domConverter.mapDomToView(a);a&&g&&r.removeAllRanges()}}}_removeFakeSelection(){const n=this._fakeSelectionContainer;n&&n.remove()}_updateFocus(){if(this.isFocused){const n=this.selection.editableElement;n&&this.domConverter.focus(n)}}}function L_(l,n,r){const a=n instanceof Array?n:n.childNodes,g=a[r];if(Un(g))return g.data=MC+g.data,g;{const h=l.createTextNode(MC);return Array.isArray(n)?a.splice(r,0,h):Is(n,r,h),h}}function EO(l,n){return fs(l)&&fs(n)&&!Un(l)&&!Un(n)&&!Yo(l)&&!Yo(n)&&l.tagName.toLowerCase()===n.tagName.toLowerCase()}function FO(l,n){return fs(l)&&fs(n)&&Un(l)&&Un(n)}function WO(l,n,r){return n===r||(Un(n)&&Un(r)?n.data===r.data:!(!l.isBlockFiller(n)||!l.isBlockFiller(r)))}function X_(l,n){const r=l.data;if(r==n)return;const a=B(r,n);for(const g of a)g.type==="insert"?l.insertData(g.index,g.values.join("")):l.deleteData(g.index,g.howMany)}const HO=H_(C.document),DO=F_(C.document),TO=W_(C.document),f0="data-ck-unsafe-attribute-",M_="data-ck-unsafe-element";class I0{constructor(n,{blockFillerMode:r,renderingMode:a="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new ss,this._inlineObjectElementMatcher=new ss,this._elementsWithTemporaryCustomProperties=new Set,this.document=n,this.renderingMode=a,this.blockFillerMode=r||(a==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?C.document:C.document.implementation.createHTMLDocument("")}bindFakeSelection(n,r){this._fakeSelectionMapping.set(n,new ys(r))}fakeSelectionToView(n){return this._fakeSelectionMapping.get(n)}bindElements(n,r){this._domToViewMapping.set(n,r),this._viewToDomMapping.set(r,n)}unbindDomElement(n){const r=this._domToViewMapping.get(n);if(r){this._domToViewMapping.delete(n),this._viewToDomMapping.delete(r);for(const a of Array.from(n.children))this.unbindDomElement(a)}}bindDocumentFragments(n,r){this._domToViewMapping.set(n,r),this._viewToDomMapping.set(r,n)}shouldRenderAttribute(n,r,a){return this.renderingMode==="data"||!(n=n.toLowerCase()).startsWith("on")&&(n!=="srcdoc"||!r.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(a==="img"&&(n==="src"||n==="srcset")||a==="source"&&n==="srcset"||!r.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(n,r){if(this.renderingMode==="data")return void(n.innerHTML=r);const a=new DOMParser().parseFromString(r,"text/html"),g=a.createDocumentFragment(),h=a.body.childNodes;for(;h.length>0;)g.appendChild(h[0]);const f=a.createTreeWalker(g,NodeFilter.SHOW_ELEMENT),b=[];let S;for(;S=f.nextNode();)b.push(S);for(const N of b){for(const J of N.getAttributeNames())this.setDomElementAttribute(N,J,N.getAttribute(J));const W=N.tagName.toLowerCase();this._shouldRenameElement(W)&&(U_(W),N.replaceWith(this._createReplacementDomElement(W,N)))}for(;n.firstChild;)n.firstChild.remove();n.append(g)}viewToDom(n,r={}){if(n.is("$text")){const a=this._processDataFromViewText(n);return this._domDocument.createTextNode(a)}{const a=n;if(this.mapViewToDom(a)){if(!a.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(a);this._elementsWithTemporaryCustomProperties.add(a)}let g;if(a.is("documentFragment"))g=this._domDocument.createDocumentFragment(),r.bind&&this.bindDocumentFragments(g,a);else{if(a.is("uiElement"))return g=a.name==="$comment"?this._domDocument.createComment(a.getCustomProperty("$rawContent")):a.render(this._domDocument,this),r.bind&&this.bindElements(g,a),g;this._shouldRenameElement(a.name)?(U_(a.name),g=this._createReplacementDomElement(a.name)):g=a.hasAttribute("xmlns")?this._domDocument.createElementNS(a.getAttribute("xmlns"),a.name):this._domDocument.createElement(a.name),a.is("rawElement")&&a.render(g,this),r.bind&&this.bindElements(g,a);for(const h of a.getAttributeKeys())this.setDomElementAttribute(g,h,a.getAttribute(h),a)}if(r.withChildren!==!1)for(const h of this.viewChildrenToDom(a,r))g instanceof HTMLTemplateElement?g.content.appendChild(h):g.appendChild(h);return g}}setDomElementAttribute(n,r,a,g){const h=this.shouldRenderAttribute(r,a,n.tagName.toLowerCase())||g&&g.shouldRenderUnsafeAttribute(r);h||O("domconverter-unsafe-attribute-detected",{domElement:n,key:r,value:a}),function(f){try{C.document.createAttribute(f)}catch{return!1}return!0}(r)?(n.hasAttribute(r)&&!h?n.removeAttribute(r):n.hasAttribute(f0+r)&&h&&n.removeAttribute(f0+r),n.setAttribute(h?r:f0+r,a)):O("domconverter-invalid-attribute-detected",{domElement:n,key:r,value:a})}removeDomElementAttribute(n,r){r!=M_&&(n.removeAttribute(r),n.removeAttribute(f0+r))}*viewChildrenToDom(n,r={}){const a=n.getFillerOffset&&n.getFillerOffset();let g=0;for(const h of n.getChildren()){a===g&&(yield this._getBlockFiller());const f=h.is("element")&&!!h.getCustomProperty("dataPipeline:transparentRendering")&&!Io(h.getAttributes());f&&this.renderingMode=="data"?yield*this.viewChildrenToDom(h,r):(f&&O("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:h}),yield this.viewToDom(h,r)),g++}a===g&&(yield this._getBlockFiller())}viewRangeToDom(n){const r=this.viewPositionToDom(n.start),a=this.viewPositionToDom(n.end),g=this._domDocument.createRange();return g.setStart(r.parent,r.offset),g.setEnd(a.parent,a.offset),g}viewPositionToDom(n){const r=n.parent;if(r.is("$text")){const a=this.findCorrespondingDomText(r);if(!a)return null;let g=n.offset;return Ha(a)&&(g+=ic),{parent:a,offset:g}}{let a,g,h;if(n.offset===0){if(a=this.mapViewToDom(r),!a)return null;h=a.childNodes[0]}else{const f=n.nodeBefore;if(g=f.is("$text")?this.findCorrespondingDomText(f):this.mapViewToDom(f),!g)return null;a=g.parentNode,h=g.nextSibling}return Un(h)&&Ha(h)?{parent:h,offset:ic}:{parent:a,offset:g?Mc(g)+1:0}}}domToView(n,r={}){const a=[],g=this._domToView(n,r,a),h=g.next().value;return h?(g.next(),this._processDomInlineNodes(null,a,r),h.is("$text")&&h.data.length==0?null:h):null}*domChildrenToView(n,r={},a=[]){let g=[];g=n instanceof HTMLTemplateElement?[...n.content.childNodes]:[...n.childNodes];for(let h=0;h<g.length;h++){const f=g[h],b=this._domToView(f,r,a),S=b.next().value;S!==null&&(this._isBlockViewElement(S)&&this._processDomInlineNodes(n,a,r),yield S,b.next())}this._processDomInlineNodes(n,a,r)}domSelectionToView(n){if(function(g){if(!x.isGecko||!g.rangeCount)return!1;const h=g.getRangeAt(0).startContainer;try{Object.prototype.toString.call(h)}catch{return!0}return!1}(n))return new ys([]);if(n.rangeCount===1){let g=n.getRangeAt(0).startContainer;Un(g)&&(g=g.parentNode);const h=this.fakeSelectionToView(g);if(h)return h}const r=this.isDomSelectionBackward(n),a=[];for(let g=0;g<n.rangeCount;g++){const h=n.getRangeAt(g),f=this.domRangeToView(h);f&&a.push(f)}return new ys(a,{backward:r})}domRangeToView(n){const r=this.domPositionToView(n.startContainer,n.startOffset),a=this.domPositionToView(n.endContainer,n.endOffset);return r&&a?new wn(r,a):null}domPositionToView(n,r=0){if(this.isBlockFiller(n))return this.domPositionToView(n.parentNode,Mc(n));const a=this.mapDomToView(n);if(a&&(a.is("uiElement")||a.is("rawElement")))return jt._createBefore(a);if(Un(n)){if(um(n))return this.domPositionToView(n.parentNode,Mc(n));const g=this.findCorrespondingViewText(n);let h=r;return g?(Ha(n)&&(h-=ic,h=h<0?0:h),new jt(g,h)):null}if(r===0){const g=this.mapDomToView(n);if(g)return new jt(g,0)}else{const g=n.childNodes[r-1];if(Un(g)&&um(g)||g&&this.isBlockFiller(g))return this.domPositionToView(g.parentNode,Mc(g));const h=Un(g)?this.findCorrespondingViewText(g):this.mapDomToView(g);if(h&&h.parent)return new jt(h.parent,h.index+1)}return null}mapDomToView(n){return this.getHostViewElement(n)||this._domToViewMapping.get(n)}findCorrespondingViewText(n){if(um(n))return null;const r=this.getHostViewElement(n);if(r)return r;const a=n.previousSibling;if(a){if(!this.isElement(a))return null;const g=this.mapDomToView(a);if(g){const h=g.nextSibling;return h instanceof wi?h:null}}else{const g=this.mapDomToView(n.parentNode);if(g){const h=g.getChild(0);return h instanceof wi?h:null}}return null}mapViewToDom(n){return this._viewToDomMapping.get(n)}findCorrespondingDomText(n){const r=n.previousSibling;return r&&this.mapViewToDom(r)?this.mapViewToDom(r).nextSibling:!r&&n.parent&&this.mapViewToDom(n.parent)?this.mapViewToDom(n.parent).childNodes[0]:null}focus(n){const r=this.mapViewToDom(n);if(r&&r.ownerDocument.activeElement!==r){const{scrollX:a,scrollY:g}=C.window,h=[];Y_(r,f=>{const{scrollLeft:b,scrollTop:S}=f;h.push([b,S])}),r.focus(),Y_(r,f=>{const[b,S]=h.shift();f.scrollLeft=b,f.scrollTop=S}),C.window.scrollTo(a,g)}}_clearDomSelection(){const n=this.mapViewToDom(this.document.selection.editableElement);if(!n)return;const r=n.ownerDocument.defaultView.getSelection(),a=this.domSelectionToView(r);a&&a.rangeCount>0&&r.removeAllRanges()}isElement(n){return n&&n.nodeType==Node.ELEMENT_NODE}isDocumentFragment(n){return n&&n.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(n){return this.blockFillerMode=="br"?n.isEqualNode(HO):!(n.tagName!=="BR"||!J_(n,this.blockElements)||n.parentNode.childNodes.length!==1)||n.isEqualNode(TO)||function(r,a){return r.isEqualNode(DO)&&J_(r,a)&&r.parentNode.childNodes.length===1}(n,this.blockElements)}isDomSelectionBackward(n){if(n.isCollapsed)return!1;const r=this._domDocument.createRange();try{r.setStart(n.anchorNode,n.anchorOffset),r.setEnd(n.focusNode,n.focusOffset)}catch{return!1}const a=r.collapsed;return r.detach(),a}getHostViewElement(n){const r=function(a){const g=[];let h=a;for(;h&&h.nodeType!=Node.DOCUMENT_NODE;)g.unshift(h),h=h.parentNode;return g}(n);for(r.pop();r.length;){const a=r.pop(),g=this._domToViewMapping.get(a);if(g&&(g.is("uiElement")||g.is("rawElement")))return g}return null}isDomSelectionCorrect(n){return this._isDomSelectionPositionCorrect(n.anchorNode,n.anchorOffset)&&this._isDomSelectionPositionCorrect(n.focusNode,n.focusOffset)}registerRawContentMatcher(n){this._rawContentElementMatcher.add(n)}registerInlineObjectMatcher(n){this._inlineObjectElementMatcher.add(n)}_clearTemporaryCustomProperties(){for(const n of this._elementsWithTemporaryCustomProperties)n._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return F_(this._domDocument);case"markedNbsp":return W_(this._domDocument);case"br":return H_(this._domDocument)}}_isDomSelectionPositionCorrect(n,r){if(Un(n)&&Ha(n)&&r<ic||this.isElement(n)&&Ha(n.childNodes[r]))return!1;const a=this.mapDomToView(n);return!a||!a.is("uiElement")&&!a.is("rawElement")}*_domToView(n,r,a){if(this.isBlockFiller(n))return null;const g=this.getHostViewElement(n);if(g)return g;if(Yo(n)&&r.skipComments)return null;if(Un(n)){if(um(n))return null;{const h=n.data;if(h==="")return null;const f=new wi(this.document,h);return a.push(f),f}}{let h=this.mapDomToView(n);if(h)return this._isInlineObjectElement(h)&&a.push(h),h;if(this.isDocumentFragment(n))h=new Ru(this.document),r.bind&&this.bindDocumentFragments(n,h);else{h=this._createViewElement(n,r),r.bind&&this.bindElements(n,h);const b=n.attributes;if(b)for(let S=b.length,N=0;N<S;N++)h._setAttribute(b[N].name,b[N].value);if(this._isViewElementWithRawContent(h,r))return h._setCustomProperty("$rawContent",n.innerHTML),this._isBlockViewElement(h)||a.push(h),h;if(Yo(n))return h._setCustomProperty("$rawContent",n.data),h}yield h;const f=[];if(r.withChildren!==!1)for(const b of this.domChildrenToView(n,r,f))h._appendChild(b);if(this._isInlineObjectElement(h))a.push(h);else for(const b of f)a.push(b)}}_processDomInlineNodes(n,r,a){if(!r.length||n&&!this.isDocumentFragment(n)&&!this._isBlockDomElement(n))return;let g=!1;for(let h=0;h<r.length;h++){const f=r[h];if(!f.is("$text")){g=!1;continue}let b,S=!1;if(LO(f,this.preElements))b=D_(f.data);else{b=f.data.replace(/[ \n\t\r]{1,}/g," "),S=/[^\S\u00A0]/.test(b.charAt(b.length-1));const N=h>0?r[h-1]:null,W=h+1<r.length?r[h+1]:null,J=!N||N.is("element")&&N.name=="br"||g,ee=!W&&!Ha(f.data);a.withChildren!==!1&&(J&&(b=b.replace(/^ /,"")),ee&&(b=b.replace(/ $/,""))),b=D_(b),b=b.replace(/ \u00A0/g,"  ");const se=W&&W.is("element")&&W.name!="br",ue=W&&W.is("$text")&&W.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(b)||!W||se||ue)&&(b=b.replace(/\u00A0$/," ")),(J||N&&N.is("element")&&N.name!="br")&&(b=b.replace(/^\u00A0/," "))}b.length==0&&f.parent?(f._remove(),r.splice(h,1),h--):(f._data=b,g=S)}r.length=0}_processDataFromViewText(n){let r=n.data;if(n.getAncestors().some(a=>this.preElements.includes(a.name)))return r;if(r.charAt(0)==" "){const a=this._getTouchingInlineViewNode(n,!1);!(a&&a.is("$textProxy")&&this._nodeEndsWithSpace(a))&&a||(r=""+r.substr(1))}if(r.charAt(r.length-1)==" "){const a=this._getTouchingInlineViewNode(n,!0),g=a&&a.is("$textProxy")&&a.data.charAt(0)==" ";r.charAt(r.length-2)!=" "&&a&&!g||(r=r.substr(0,r.length-1)+"")}return r.replace(/ {2}/g," ")}_nodeEndsWithSpace(n){if(n.getAncestors().some(a=>this.preElements.includes(a.name)))return!1;const r=this._processDataFromViewText(n);return r.charAt(r.length-1)==" "}_getTouchingInlineViewNode(n,r){const a=new fl({startPosition:r?jt._createAfter(n):jt._createBefore(n),direction:r?"forward":"backward"});for(const g of a){if(g.item.is("element","br"))return null;if(this._isInlineObjectElement(g.item))return g.item;if(g.item.is("containerElement"))return null;if(g.item.is("$textProxy"))return g.item}return null}_isBlockDomElement(n){return this.isElement(n)&&this.blockElements.includes(n.tagName.toLowerCase())}_isBlockViewElement(n){return n.is("element")&&this.blockElements.includes(n.name)}_isInlineObjectElement(n){return!!n.is("element")&&(n.name=="br"||this.inlineObjectElements.includes(n.name)||!!this._inlineObjectElementMatcher.match(n))}_createViewElement(n,r){if(Yo(n))return new C0(this.document,"$comment");const a=r.keepOriginalCase?n.tagName:n.tagName.toLowerCase();return new Ms(this.document,a)}_isViewElementWithRawContent(n,r){return r.withChildren!==!1&&n.is("element")&&!!this._rawContentElementMatcher.match(n)}_shouldRenameElement(n){const r=n.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(r)}_createReplacementDomElement(n,r){const a=this._domDocument.createElement("span");if(a.setAttribute(M_,n),r){for(;r.firstChild;)a.appendChild(r.firstChild);for(const g of r.getAttributeNames())a.setAttribute(g,r.getAttribute(g))}return a}}function LO(l,n){return l.getAncestors().some(r=>r.is("element")&&n.includes(r.name))}function Y_(l,n){let r=l;for(;r;)n(r),r=r.parentElement}function J_(l,n){const r=l.parentNode;return!!r&&!!r.tagName&&n.includes(r.tagName.toLowerCase())}function U_(l){l==="script"&&O("domconverter-unsafe-script-element-detected"),l==="style"&&O("domconverter-unsafe-style-element-detected")}class qc extends mr(){constructor(n){super(),this._isEnabled=!1,this.view=n,this.document=n.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(n){return n&&n.nodeType===3&&(n=n.parentNode),!(!n||n.nodeType!==1)&&n.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const P_=bu(function(l,n){Ri(n,ll(n),l)});class hm{constructor(n,r,a){this.view=n,this.document=n.document,this.domEvent=r,this.domTarget=r.target,P_(this,a)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class $d extends qc{constructor(){super(...arguments),this.useCapture=!1}observe(n){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(r=>{this.listenTo(n,r,(a,g)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(g.target)&&this.onDomEvent(g)},{useCapture:this.useCapture})})}stopObserving(n){this.stopListening(n)}fire(n,r,a){this.isEnabled&&this.document.fire(n,new hm(this.view,r,a))}}class XO extends $d{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(n){const r={keyCode:n.keyCode,altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,metaKey:n.metaKey,get keystroke(){return Yc(this)}};this.fire(n.type,n,r)}}const O2=function(){return An.Date.now()};var MO=/\s/;const YO=function(l){for(var n=l.length;n--&&MO.test(l.charAt(n)););return n};var JO=/^\s+/;const UO=function(l){return l&&l.slice(0,YO(l)+1).replace(JO,"")};var PO=/^[-+]0x[0-9a-f]+$/i,KO=/^0b[01]+$/i,zO=/^0o[0-7]+$/i,QO=parseInt;const K_=function(l){if(typeof l=="number")return l;if(Tg(l))return NaN;if(We(l)){var n=typeof l.valueOf=="function"?l.valueOf():l;l=We(n)?n+"":n}if(typeof l!="string")return l===0?l:+l;l=UO(l);var r=KO.test(l);return r||zO.test(l)?QO(l.slice(2),r?2:8):PO.test(l)?NaN:+l};var jO=Math.max,OO=Math.min;const mm=function(l,n,r){var a,g,h,f,b,S,N=0,W=!1,J=!1,ee=!0;if(typeof l!="function")throw new TypeError("Expected a function");function se($e){var ht=a,Tt=g;return a=g=void 0,N=$e,f=l.apply(Tt,ht)}function ue($e){var ht=$e-S;return S===void 0||ht>=n||ht<0||J&&$e-N>=h}function xe(){var $e=O2();if(ue($e))return Le($e);b=setTimeout(xe,function(ht){var Tt=n-(ht-S);return J?OO(Tt,h-(ht-N)):Tt}($e))}function Le($e){return b=void 0,ee&&a?se($e):(a=g=void 0,f)}function Ye(){var $e=O2(),ht=ue($e);if(a=arguments,g=this,S=$e,ht){if(b===void 0)return function(Tt){return N=Tt,b=setTimeout(xe,n),W?se(Tt):f}(S);if(J)return clearTimeout(b),b=setTimeout(xe,n),se(S)}return b===void 0&&(b=setTimeout(xe,n)),f}return n=K_(n)||0,We(r)&&(W=!!r.leading,h=(J="maxWait"in r)?jO(K_(r.maxWait)||0,n):h,ee="trailing"in r?!!r.trailing:ee),Ye.cancel=function(){b!==void 0&&clearTimeout(b),N=0,a=S=g=b=void 0},Ye.flush=function(){return b===void 0?f:Le(O2())},Ye};class qO extends qc{constructor(n){super(n),this._fireSelectionChangeDoneDebounced=mm(r=>{this.document.fire("selectionChangeDone",r)},200)}observe(){const n=this.document;n.on("arrowKey",(r,a)=>{n.selection.isFake&&this.isEnabled&&a.preventDefault()},{context:"$capture"}),n.on("arrowKey",(r,a)=>{n.selection.isFake&&this.isEnabled&&this._handleSelectionMove(a.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(n){const r=this.document.selection,a=new ys(r.getRanges(),{backward:r.isBackward,fake:!1});n!=di.arrowleft&&n!=di.arrowup||a.setTo(a.getFirstPosition()),n!=di.arrowright&&n!=di.arrowdown||a.setTo(a.getLastPosition());const g={oldSelection:r,newSelection:a,domSelection:null};this.document.fire("selectionChange",g),this._fireSelectionChangeDoneDebounced(g)}}const $O=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this},e8=function(l){return this.__data__.has(l)};function b0(l){var n=-1,r=l==null?0:l.length;for(this.__data__=new dt;++n<r;)this.add(l[n])}b0.prototype.add=b0.prototype.push=$O,b0.prototype.has=e8;const t8=b0,n8=function(l,n){for(var r=-1,a=l==null?0:l.length;++r<a;)if(n(l[r],r,l))return!0;return!1},i8=function(l,n){return l.has(n)},z_=function(l,n,r,a,g,h){var f=1&r,b=l.length,S=n.length;if(b!=S&&!(f&&S>b))return!1;var N=h.get(l),W=h.get(n);if(N&&W)return N==n&&W==l;var J=-1,ee=!0,se=2&r?new t8:void 0;for(h.set(l,n),h.set(n,l);++J<b;){var ue=l[J],xe=n[J];if(a)var Le=f?a(xe,ue,J,n,l,h):a(ue,xe,J,l,n,h);if(Le!==void 0){if(Le)continue;ee=!1;break}if(se){if(!n8(n,function(Ye,$e){if(!i8(se,$e)&&(ue===Ye||g(ue,Ye,r,a,h)))return se.push($e)})){ee=!1;break}}else if(ue!==xe&&!g(ue,xe,r,a,h)){ee=!1;break}}return h.delete(l),h.delete(n),ee},r8=function(l){var n=-1,r=Array(l.size);return l.forEach(function(a,g){r[++n]=[g,a]}),r},o8=function(l){var n=-1,r=Array(l.size);return l.forEach(function(a){r[++n]=a}),r};var Q_=dn?dn.prototype:void 0,q2=Q_?Q_.valueOf:void 0;const s8=function(l,n,r,a,g,h,f){switch(r){case"[object DataView]":if(l.byteLength!=n.byteLength||l.byteOffset!=n.byteOffset)return!1;l=l.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(l.byteLength!=n.byteLength||!h(new Ql(l),new Ql(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Xr(+l,+n);case"[object Error]":return l.name==n.name&&l.message==n.message;case"[object RegExp]":case"[object String]":return l==n+"";case"[object Map]":var b=r8;case"[object Set]":var S=1&a;if(b||(b=o8),l.size!=n.size&&!S)return!1;var N=f.get(l);if(N)return N==n;a|=2,f.set(l,n);var W=z_(b(l),b(n),a,g,h,f);return f.delete(l),W;case"[object Symbol]":if(q2)return q2.call(l)==q2.call(n)}return!1};var a8=Object.prototype.hasOwnProperty;const l8=function(l,n,r,a,g,h){var f=1&r,b=zt(l),S=b.length;if(S!=zt(n).length&&!f)return!1;for(var N=S;N--;){var W=b[N];if(!(f?W in n:a8.call(n,W)))return!1}var J=h.get(l),ee=h.get(n);if(J&&ee)return J==n&&ee==l;var se=!0;h.set(l,n),h.set(n,l);for(var ue=f;++N<S;){var xe=l[W=b[N]],Le=n[W];if(a)var Ye=f?a(Le,xe,W,n,l,h):a(xe,Le,W,l,n,h);if(!(Ye===void 0?xe===Le||g(xe,Le,r,a,h):Ye)){se=!1;break}ue||(ue=W=="constructor")}if(se&&!ue){var $e=l.constructor,ht=n.constructor;$e==ht||!("constructor"in l)||!("constructor"in n)||typeof $e=="function"&&$e instanceof $e&&typeof ht=="function"&&ht instanceof ht||(se=!1)}return h.delete(l),h.delete(n),se};var j_="[object Arguments]",O_="[object Array]",y0="[object Object]",q_=Object.prototype.hasOwnProperty;const c8=function(l,n,r,a,g,h){var f=Qt(l),b=Qt(n),S=f?O_:cl(l),N=b?O_:cl(n),W=(S=S==j_?y0:S)==y0,J=(N=N==j_?y0:N)==y0,ee=S==N;if(ee&&sr(l)){if(!sr(n))return!1;f=!0,W=!1}if(ee&&!W)return h||(h=new an),f||Fd(l)?z_(l,n,r,a,g,h):s8(l,n,S,r,a,g,h);if(!(1&r)){var se=W&&q_.call(l,"__wrapped__"),ue=J&&q_.call(n,"__wrapped__");if(se||ue){var xe=se?l.value():l,Le=ue?n.value():n;return h||(h=new an),g(xe,Le,r,a,h)}}return!!ee&&(h||(h=new an),l8(l,n,r,a,g,h))},v0=function l(n,r,a,g,h){return n===r||(n==null||r==null||!xn(n)&&!xn(r)?n!=n&&r!=r:c8(n,r,a,g,l,h))},g8=function(l,n,r){var a=(r=typeof r=="function"?r:void 0)?r(l,n):void 0;return a===void 0?v0(l,n,void 0,r):!!a};class $_ extends qc{constructor(n){super(n),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=n.domConverter,this.renderer=n._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(n){this._domElements.add(n),this.isEnabled&&this._mutationObserver.observe(n,this._config)}stopObserving(n){if(this._domElements.delete(n),this.isEnabled){this._mutationObserver.disconnect();for(const r of this._domElements)this._mutationObserver.observe(r,this._config)}}enable(){super.enable();for(const n of this._domElements)this._mutationObserver.observe(n,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(n){if(n.length===0)return;const r=this.domConverter,a=new Set,g=new Set;for(const f of n){const b=r.mapDomToView(f.target);b&&(b.is("uiElement")||b.is("rawElement")||f.type!=="childList"||this._isBogusBrMutation(f)||g.add(b))}for(const f of n){const b=r.mapDomToView(f.target);if((!b||!b.is("uiElement")&&!b.is("rawElement"))&&f.type==="characterData"){const S=r.findCorrespondingViewText(f.target);S&&!g.has(S.parent)?a.add(S):!S&&Ha(f.target)&&g.add(r.mapDomToView(f.target.parentNode))}}let h=!1;for(const f of a)h=!0,this.renderer.markToSync("text",f);for(const f of g){const b=r.mapViewToDom(f),S=Array.from(f.getChildren()),N=Array.from(r.domChildrenToView(b,{withChildren:!1}));g8(S,N,d8)||(h=!0,this.renderer.markToSync("children",f))}h&&this.view.forceRender()}_isBogusBrMutation(n){let r=null;return n.nextSibling===null&&n.removedNodes.length===0&&n.addedNodes.length==1&&(r=this.domConverter.domToView(n.addedNodes[0],{withChildren:!1})),r&&r.is("element","br")}}function d8(l,n){if(!Array.isArray(l))return l===n||!(!l.is("$text")||!n.is("$text"))&&l.data===n.data}class w0 extends $d{constructor(n){super(n),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const r=this.document;r.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),n.change(()=>{})},50)}),r.on("blur",(a,g)=>{const h=r.selection.editableElement;h!==null&&h!==g.target||(r.isFocused=!1,this._isFocusChanging=!1,n.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(n){this.fire(n.type,n)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class A8 extends qc{constructor(n){super(n),this.mutationObserver=n.getObserver($_),this.focusObserver=n.getObserver(w0),this.selection=this.document.selection,this.domConverter=n.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=mm(r=>{this.document.fire("selectionChangeDone",r)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=mm(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(n){const r=n.ownerDocument,a=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,r),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(n,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(n,"keydown",a,{priority:"highest",useCapture:!0}),this.listenTo(n,"keyup",a,{priority:"highest",useCapture:!0}),this._documents.has(r)||(this.listenTo(r,"mouseup",a,{priority:"highest",useCapture:!0}),this.listenTo(r,"selectionchange",(g,h)=>{this.document.isComposing&&!x.isAndroid||(this._handleSelectionChange(h,r),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(r))}stopObserving(n){this.stopListening(n)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(n,r){if(!this.isEnabled)return;const a=r.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(a.anchorNode))return;this.mutationObserver.flush();const g=this.domConverter.domSelectionToView(a);if(g.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(g)||!this.domConverter.isDomSelectionCorrect(a))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(g))this.view.forceRender();else{const h={oldSelection:this.selection,newSelection:g,domSelection:a};this.document.fire("selectionChange",h),this._fireSelectionChangeDoneDebounced(h)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class u8 extends $d{constructor(n){super(n),this.domEventType=["compositionstart","compositionupdate","compositionend"];const r=this.document;r.on("compositionstart",()=>{r.isComposing=!0},{priority:"low"}),r.on("compositionend",()=>{r.isComposing=!1},{priority:"low"})}onDomEvent(n){this.fire(n.type,n,{data:n.data})}}class eV{constructor(n,r={}){this._files=r.cacheFiles?tV(n):null,this._native=n}get files(){return this._files||(this._files=tV(this._native)),this._files}get types(){return this._native.types}getData(n){return this._native.getData(n)}setData(n,r){this._native.setData(n,r)}set effectAllowed(n){this._native.effectAllowed=n}get effectAllowed(){return this._native.effectAllowed}set dropEffect(n){this._native.dropEffect=n}get dropEffect(){return this._native.dropEffect}setDragImage(n,r,a){this._native.setDragImage(n,r,a)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function tV(l){const n=Array.from(l.files||[]),r=Array.from(l.items||[]);return n.length?n:r.filter(a=>a.kind==="file").map(a=>a.getAsFile())}class h8 extends $d{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(n){const r=n.getTargetRanges(),a=this.view,g=a.document;let h=null,f=null,b=[];if(n.dataTransfer&&(h=new eV(n.dataTransfer)),n.data!==null?f=n.data:h&&(f=h.getData("text/plain")),g.selection.isFake)b=Array.from(g.selection.getRanges());else if(r.length)b=r.map(S=>{const N=a.domConverter.domPositionToView(S.startContainer,S.startOffset),W=a.domConverter.domPositionToView(S.endContainer,S.endOffset);return N?a.createRange(N,W):W?a.createRange(W):void 0}).filter(S=>!!S);else if(x.isAndroid){const S=n.target.ownerDocument.defaultView.getSelection();b=Array.from(a.domConverter.domSelectionToView(S).getRanges())}if(x.isAndroid&&n.inputType=="insertCompositionText"&&f&&f.endsWith(`
`))this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:[a.createRange(b[0].end)]});else if(n.inputType=="insertText"&&f&&f.includes(`
`)){const S=f.split(/\n{1,2}/g);let N=b;for(let W=0;W<S.length;W++){const J=S[W];J!=""&&(this.fire(n.type,n,{data:J,dataTransfer:h,targetRanges:N,inputType:n.inputType,isComposing:n.isComposing}),N=[g.selection.getFirstRange()]),W+1<S.length&&(this.fire(n.type,n,{inputType:"insertParagraph",targetRanges:N}),N=[g.selection.getFirstRange()])}}else this.fire(n.type,n,{data:f,dataTransfer:h,targetRanges:b,inputType:n.inputType,isComposing:n.isComposing})}}class m8 extends qc{constructor(n){super(n),this.document.on("keydown",(r,a)=>{if(this.isEnabled&&((g=a.keyCode)==di.arrowright||g==di.arrowleft||g==di.arrowup||g==di.arrowdown)){const h=new Mg(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(h,a),h.stop.called&&r.stop()}var g})}observe(){}stopObserving(){}}class p8 extends qc{constructor(n){super(n);const r=this.document;r.on("keydown",(a,g)=>{if(!this.isEnabled||g.keyCode!=di.tab||g.ctrlKey)return;const h=new Mg(r,"tab",r.selection.getFirstRange());r.fire(h,g),h.stop.called&&a.stop()})}observe(){}stopObserving(){}}const rc=function(l){return Fg(l,5)};class C8 extends at(){constructor(n){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new p0(n),this.domConverter=new I0(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new VO(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new R_(this.document),this.addObserver($_),this.addObserver(w0),this.addObserver(A8),this.addObserver(XO),this.addObserver(qO),this.addObserver(u8),this.addObserver(m8),this.addObserver(h8),this.addObserver(p8),this.document.on("arrowKey",NO,{priority:"low"}),xO(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),x.isiOS&&this.listenTo(this.document,"blur",(r,a)=>{this.domConverter.mapDomToView(a.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(n,r="main"){const a=this.document.getRoot(r);a._name=n.tagName.toLowerCase();const g={};for(const{name:f,value:b}of Array.from(n.attributes))g[f]=b,f==="class"?this._writer.addClass(b.split(" "),a):this._writer.setAttribute(f,b,a);this._initialDomRootAttributes.set(n,g);const h=()=>{this._writer.setAttribute("contenteditable",(!a.isReadOnly).toString(),a),a.isReadOnly?this._writer.addClass("ck-read-only",a):this._writer.removeClass("ck-read-only",a)};h(),this.domRoots.set(r,n),this.domConverter.bindElements(n,a),this._renderer.markToSync("children",a),this._renderer.markToSync("attributes",a),this._renderer.domDocuments.add(n.ownerDocument),a.on("change:children",(f,b)=>this._renderer.markToSync("children",b)),a.on("change:attributes",(f,b)=>this._renderer.markToSync("attributes",b)),a.on("change:text",(f,b)=>this._renderer.markToSync("text",b)),a.on("change:isReadOnly",()=>this.change(h)),a.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const f of this._observers.values())f.observe(n,r)}detachDomRoot(n){const r=this.domRoots.get(n);Array.from(r.attributes).forEach(({name:g})=>r.removeAttribute(g));const a=this._initialDomRootAttributes.get(r);for(const g in a)r.setAttribute(g,a[g]);this.domRoots.delete(n),this.domConverter.unbindDomElement(r);for(const g of this._observers.values())g.stopObserving(r)}getDomRoot(n="main"){return this.domRoots.get(n)}addObserver(n){let r=this._observers.get(n);if(r)return r;r=new n(this),this._observers.set(n,r);for(const[a,g]of this.domRoots)r.observe(g,a);return r.enable(),r}getObserver(n){return this._observers.get(n)}disableObservers(){for(const n of this._observers.values())n.disable()}enableObservers(){for(const n of this._observers.values())n.enable()}scrollToTheSelection({alignToTop:n,forceScroll:r,viewportOffset:a=20,ancestorOffset:g=20}={}){const h=this.document.selection.getFirstRange();if(!h)return;const f=rc({alignToTop:n,forceScroll:r,viewportOffset:a,ancestorOffset:g});typeof a=="number"&&(a={top:a,bottom:a,left:a,right:a});const b={target:this.domConverter.viewRangeToDom(h),viewportOffset:a,ancestorOffset:g,alignToTop:n,forceScroll:r};this.fire("scrollToTheSelection",b,f),function({target:S,viewportOffset:N=0,ancestorOffset:W=0,alignToTop:J,forceScroll:ee}){const se=ZC(S);let ue=se,xe=null;for(N=function(Le){return typeof Le=="number"?{top:Le,bottom:Le,left:Le,right:Le}:Le}(N);ue;){let Le;Le=e0(ue==se?S:xe),SC({parent:Le,getRect:()=>t0(S,ue),alignToTop:J,ancestorOffset:W,forceScroll:ee});const Ye=t0(S,ue);if(qb({window:ue,rect:Ye,viewportOffset:N,alignToTop:J,forceScroll:ee}),ue.parent!=ue){if(xe=ue.frameElement,ue=ue.parent,!xe)return}else ue=null}}(b)}focus(){if(!this.document.isFocused){const n=this.document.selection.editableElement;n&&(this.domConverter.focus(n),this.forceRender())}}change(n){if(this.isRenderingInProgress||this._postFixersInProgress)throw new P("cannot-change-view-tree",this);try{if(this._ongoingChange)return n(this._writer);this._ongoingChange=!0;const r=n(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),r}catch(r){P.rethrowUnexpectedError(r,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(w0).flush(),this.change(()=>{})}destroy(){for(const n of this._observers.values())n.destroy();this.document.destroy(),this.stopListening()}createPositionAt(n,r){return jt._createAt(n,r)}createPositionAfter(n){return jt._createAfter(n)}createPositionBefore(n){return jt._createBefore(n)}createRange(n,r){return new wn(n,r)}createRangeOn(n){return wn._createOn(n)}createRangeIn(n){return wn._createIn(n)}createSelection(...n){return new ys(...n)}_disableRendering(n){this._renderingDisabled=n,n==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class eA{is(){throw new Error("is() method is abstract")}}class Nu extends eA{constructor(n){super(),this.parent=null,this._attrs=pl(n)}get document(){return null}get index(){let n;if(!this.parent)return null;if((n=this.parent.getChildIndex(this))===null)throw new P("model-node-not-found-in-parent",this);return n}get startOffset(){let n;if(!this.parent)return null;if((n=this.parent.getChildStartOffset(this))===null)throw new P("model-node-not-found-in-parent",this);return n}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const n=this.index;return n!==null&&this.parent.getChild(n+1)||null}get previousSibling(){const n=this.index;return n!==null&&this.parent.getChild(n-1)||null}get root(){let n=this;for(;n.parent;)n=n.parent;return n}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const n=[];let r=this;for(;r.parent;)n.unshift(r.startOffset),r=r.parent;return n}getAncestors(n={}){const r=[];let a=n.includeSelf?this:this.parent;for(;a;)r[n.parentFirst?"push":"unshift"](a),a=a.parent;return r}getCommonAncestor(n,r={}){const a=this.getAncestors(r),g=n.getAncestors(r);let h=0;for(;a[h]==g[h]&&a[h];)h++;return h===0?null:a[h-1]}isBefore(n){if(this==n||this.root!==n.root)return!1;const r=this.getPath(),a=n.getPath(),g=yt(r,a);switch(g){case"prefix":return!0;case"extension":return!1;default:return r[g]<a[g]}}isAfter(n){return this!=n&&this.root===n.root&&!this.isBefore(n)}hasAttribute(n){return this._attrs.has(n)}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const n={};return this._attrs.size&&(n.attributes=Array.from(this._attrs).reduce((r,a)=>(r[a[0]]=a[1],r),{})),n}_clone(n){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(n,r){this._attrs.set(n,r)}_setAttributesTo(n){this._attrs=pl(n)}_removeAttribute(n){return this._attrs.delete(n)}_clearAttributes(){this._attrs.clear()}}Nu.prototype.is=function(l){return l==="node"||l==="model:node"};class YC{constructor(n){this._nodes=[],n&&this._insertNodes(0,n)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((n,r)=>n+r.offsetSize,0)}getNode(n){return this._nodes[n]||null}getNodeIndex(n){const r=this._nodes.indexOf(n);return r==-1?null:r}getNodeStartOffset(n){const r=this.getNodeIndex(n);return r===null?null:this._nodes.slice(0,r).reduce((a,g)=>a+g.offsetSize,0)}indexToOffset(n){if(n==this._nodes.length)return this.maxOffset;const r=this._nodes[n];if(!r)throw new P("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(r)}offsetToIndex(n){let r=0;for(const a of this._nodes){if(n>=r&&n<r+a.offsetSize)return this.getNodeIndex(a);r+=a.offsetSize}if(r!=n)throw new P("model-nodelist-offset-out-of-bounds",this,{offset:n,nodeList:this});return this.length}_insertNodes(n,r){for(const a of r)if(!(a instanceof Nu))throw new P("model-nodelist-insertnodes-not-node",this);this._nodes=function(a,g,h,f){if(Math.max(g.length,a.length)>1e4)return a.slice(0,h).concat(g).concat(a.slice(h+f,a.length));{const b=Array.from(a);return b.splice(h,f,...g),b}}(this._nodes,Array.from(r),n,0)}_removeNodes(n,r=1){return this._nodes.splice(n,r)}toJSON(){return this._nodes.map(n=>n.toJSON())}}class $i extends Nu{constructor(n,r){super(r),this._data=n||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const n=super.toJSON();return n.data=this.data,n}_clone(){return new $i(this.data,this.getAttributes())}static fromJSON(n){return new $i(n.data,n.attributes)}}$i.prototype.is=function(l){return l==="$text"||l==="model:$text"||l==="text"||l==="model:text"||l==="node"||l==="model:node"};class oc extends eA{constructor(n,r,a){if(super(),this.textNode=n,r<0||r>n.offsetSize)throw new P("model-textproxy-wrong-offsetintext",this);if(a<0||r+a>n.offsetSize)throw new P("model-textproxy-wrong-length",this);this.data=n.data.substring(r,r+a),this.offsetInText=r}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const n=this.textNode.getPath();return n.length>0&&(n[n.length-1]+=this.offsetInText),n}getAncestors(n={}){const r=[];let a=n.includeSelf?this:this.parent;for(;a;)r[n.parentFirst?"push":"unshift"](a),a=a.parent;return r}hasAttribute(n){return this.textNode.hasAttribute(n)}getAttribute(n){return this.textNode.getAttribute(n)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}oc.prototype.is=function(l){return l==="$textProxy"||l==="model:$textProxy"||l==="textProxy"||l==="model:textProxy"};class Pi extends Nu{constructor(n,r,a){super(r),this._children=new YC,this.name=n,a&&this._insertChild(0,a)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}offsetToIndex(n){return this._children.offsetToIndex(n)}getNodeByPath(n){let r=this;for(const a of n)r=r.getChild(r.offsetToIndex(a));return r}findAncestor(n,r={}){let a=r.includeSelf?this:this.parent;for(;a;){if(a.name===n)return a;a=a.parent}return null}toJSON(){const n=super.toJSON();if(n.name=this.name,this._children.length>0){n.children=[];for(const r of this._children)n.children.push(r.toJSON())}return n}_clone(n=!1){const r=n?Array.from(this._children).map(a=>a._clone(!0)):void 0;return new Pi(this.name,this.getAttributes(),r)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,r){const a=function(g){return typeof g=="string"?[new $i(g)]:(kt(g)||(g=[g]),Array.from(g).map(h=>typeof h=="string"?new $i(h):h instanceof oc?new $i(h.data,h.getAttributes()):h))}(r);for(const g of a)g.parent!==null&&g._remove(),g.parent=this;this._children._insertNodes(n,a)}_removeChildren(n,r=1){const a=this._children._removeNodes(n,r);for(const g of a)g.parent=null;return a}static fromJSON(n){let r;if(n.children){r=[];for(const a of n.children)a.name?r.push(Pi.fromJSON(a)):r.push($i.fromJSON(a))}return new Pi(n.name,n.attributes,r)}}Pi.prototype.is=function(l,n){return n?n===this.name&&(l==="element"||l==="model:element"):l==="element"||l==="model:element"||l==="node"||l==="model:node"};class Jg{constructor(n){if(!n||!n.boundaries&&!n.startPosition)throw new P("model-tree-walker-no-start-position",null);const r=n.direction||"forward";if(r!="forward"&&r!="backward")throw new P("model-tree-walker-unknown-direction",n,{direction:r});this.direction=r,this.boundaries=n.boundaries||null,n.startPosition?this._position=n.startPosition.clone():this._position=Pt._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!n.singleCharacters,this.shallow=!!n.shallow,this.ignoreElementEnd=!!n.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(n){let r,a,g,h;do g=this.position,h=this._visitedParent,{done:r,value:a}=this.next();while(!r&&n(a));r||(this._position=g,this._visitedParent=h)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const n=this.position,r=this.position.clone(),a=this._visitedParent;if(a.parent===null&&r.offset===a.maxOffset)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&r.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const g=JC(r,a),h=g||nV(r,a,g);if(h instanceof Pi){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(r))return{done:!0,value:void 0};r.offset++}else r.path.push(0),this._visitedParent=h;return this._position=r,_u("elementStart",h,n,r,1)}if(h instanceof $i){let f;if(this.singleCharacters)f=1;else{let N=h.endOffset;this._boundaryEndParent==a&&this.boundaries.end.offset<N&&(N=this.boundaries.end.offset),f=N-r.offset}const b=r.offset-h.startOffset,S=new oc(h,b,f);return r.offset+=f,this._position=r,_u("text",S,n,r,f)}return r.path.pop(),r.offset++,this._position=r,this._visitedParent=a.parent,this.ignoreElementEnd?this._next():_u("elementEnd",a,n,r)}_previous(){const n=this.position,r=this.position.clone(),a=this._visitedParent;if(a.parent===null&&r.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&r.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const g=r.parent,h=JC(r,g),f=h||iV(r,g,h);if(f instanceof Pi)return r.offset--,this.shallow?(this._position=r,_u("elementStart",f,n,r,1)):(r.path.push(f.maxOffset),this._position=r,this._visitedParent=f,this.ignoreElementEnd?this._previous():_u("elementEnd",f,n,r));if(f instanceof $i){let b;if(this.singleCharacters)b=1;else{let W=f.startOffset;this._boundaryStartParent==a&&this.boundaries.start.offset>W&&(W=this.boundaries.start.offset),b=r.offset-W}const S=r.offset-f.startOffset,N=new oc(f,S-b,b);return r.offset-=b,this._position=r,_u("text",N,n,r,b)}return r.path.pop(),this._position=r,this._visitedParent=a.parent,_u("elementStart",a,n,r,1)}}function _u(l,n,r,a,g){return{done:!1,value:{type:l,item:n,previousPosition:r,nextPosition:a,length:g}}}class Pt extends eA{constructor(n,r,a="toNone"){if(super(),!n.is("element")&&!n.is("documentFragment"))throw new P("model-position-root-invalid",n);if(!(r instanceof Array)||r.length===0)throw new P("model-position-path-incorrect-format",n,{path:r});n.is("rootElement")?r=r.slice():(r=[...n.getPath(),...r],n=n.root),this.root=n,this.path=r,this.stickiness=a}get offset(){return this.path[this.path.length-1]}set offset(n){this.path[this.path.length-1]=n}get parent(){let n=this.root;for(let r=0;r<this.path.length-1;r++)if(n=n.getChild(n.offsetToIndex(this.path[r])),!n)throw new P("model-position-path-incorrect",this,{position:this});if(n.is("$text"))throw new P("model-position-path-incorrect",this,{position:this});return n}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return JC(this,this.parent)}get nodeAfter(){const n=this.parent;return nV(this,n,JC(this,n))}get nodeBefore(){const n=this.parent;return iV(this,n,JC(this,n))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(n){if(this.root!=n.root)return"different";const r=yt(this.path,n.path);switch(r){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[r]<n.path[r]?"before":"after"}}getLastMatchingPosition(n,r={}){r.startPosition=this;const a=new Jg(r);return a.skip(n),a.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const n=this.parent;return n.is("documentFragment")?[n]:n.getAncestors({includeSelf:!0})}findAncestor(n){const r=this.parent;return r.is("element")?r.findAncestor(n,{includeSelf:!0}):null}getCommonPath(n){if(this.root!=n.root)return[];const r=yt(this.path,n.path),a=typeof r=="string"?Math.min(this.path.length,n.path.length):r;return this.path.slice(0,a)}getCommonAncestor(n){const r=this.getAncestors(),a=n.getAncestors();let g=0;for(;r[g]==a[g]&&r[g];)g++;return g===0?null:r[g-1]}getShiftedBy(n){const r=this.clone(),a=r.offset+n;return r.offset=a<0?0:a,r}isAfter(n){return this.compareWith(n)=="after"}isBefore(n){return this.compareWith(n)=="before"}isEqual(n){return this.compareWith(n)=="same"}isTouching(n){if(this.root!==n.root)return!1;const r=Math.min(this.path.length,n.path.length);for(let a=0;a<r;a++){const g=this.path[a]-n.path[a];if(g<-1||g>1)return!1;if(g===1)return rV(n,this,a);if(g===-1)return rV(this,n,a)}return this.path.length===n.path.length||(this.path.length>n.path.length?$2(this.path,r):$2(n.path,r))}hasSameParentAs(n){return this.root!==n.root?!1:yt(this.getParentPath(),n.getParentPath())=="same"}getTransformedByOperation(n){let r;switch(n.type){case"insert":r=this._getTransformedByInsertOperation(n);break;case"move":case"remove":case"reinsert":r=this._getTransformedByMoveOperation(n);break;case"split":r=this._getTransformedBySplitOperation(n);break;case"merge":r=this._getTransformedByMergeOperation(n);break;default:r=Pt._createAt(this)}return r}_getTransformedByInsertOperation(n){return this._getTransformedByInsertion(n.position,n.howMany)}_getTransformedByMoveOperation(n){return this._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany)}_getTransformedBySplitOperation(n){const r=n.movedRange;return r.containsPosition(this)||r.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(n.splitPosition,n.moveTargetPosition):n.graveyardPosition?this._getTransformedByMove(n.graveyardPosition,n.insertionPosition,1):this._getTransformedByInsertion(n.insertionPosition,1)}_getTransformedByMergeOperation(n){const r=n.movedRange;let a;return r.containsPosition(this)||r.start.isEqual(this)?(a=this._getCombined(n.sourcePosition,n.targetPosition),n.sourcePosition.isBefore(n.targetPosition)&&(a=a._getTransformedByDeletion(n.deletionPosition,1))):a=this.isEqual(n.deletionPosition)?Pt._createAt(n.deletionPosition):this._getTransformedByMove(n.deletionPosition,n.graveyardPosition,1),a}_getTransformedByDeletion(n,r){const a=Pt._createAt(this);if(this.root!=n.root)return a;if(yt(n.getParentPath(),this.getParentPath())=="same"){if(n.offset<this.offset){if(n.offset+r>this.offset)return null;a.offset-=r}}else if(yt(n.getParentPath(),this.getParentPath())=="prefix"){const g=n.path.length-1;if(n.offset<=this.path[g]){if(n.offset+r>this.path[g])return null;a.path[g]-=r}}return a}_getTransformedByInsertion(n,r){const a=Pt._createAt(this);if(this.root!=n.root)return a;if(yt(n.getParentPath(),this.getParentPath())=="same")(n.offset<this.offset||n.offset==this.offset&&this.stickiness!="toPrevious")&&(a.offset+=r);else if(yt(n.getParentPath(),this.getParentPath())=="prefix"){const g=n.path.length-1;n.offset<=this.path[g]&&(a.path[g]+=r)}return a}_getTransformedByMove(n,r,a){if(r=r._getTransformedByDeletion(n,a),n.isEqual(r))return Pt._createAt(this);const g=this._getTransformedByDeletion(n,a);return g===null||n.isEqual(this)&&this.stickiness=="toNext"||n.getShiftedBy(a).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(n,r):g._getTransformedByInsertion(r,a)}_getCombined(n,r){const a=n.path.length-1,g=Pt._createAt(r);return g.stickiness=this.stickiness,g.offset=g.offset+this.path[a]-n.offset,g.path=[...g.path,...this.path.slice(a+1)],g}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(n,r,a="toNone"){if(n instanceof Pt)return new Pt(n.root,n.path,n.stickiness);{const g=n;if(r=="end")r=g.maxOffset;else{if(r=="before")return this._createBefore(g,a);if(r=="after")return this._createAfter(g,a);if(r!==0&&!r)throw new P("model-createpositionat-offset-required",[this,n])}if(!g.is("element")&&!g.is("documentFragment"))throw new P("model-position-parent-incorrect",[this,n]);const h=g.getPath();return h.push(r),new this(g.root,h,a)}}static _createAfter(n,r){if(!n.parent)throw new P("model-position-after-root",[this,n],{root:n});return this._createAt(n.parent,n.endOffset,r)}static _createBefore(n,r){if(!n.parent)throw new P("model-position-before-root",n,{root:n});return this._createAt(n.parent,n.startOffset,r)}static fromJSON(n,r){if(n.root==="$graveyard"){const a=new Pt(r.graveyard,n.path);return a.stickiness=n.stickiness,a}if(!r.getRoot(n.root))throw new P("model-position-fromjson-no-root",r,{rootName:n.root});return new Pt(r.getRoot(n.root),n.path,n.stickiness)}}function JC(l,n){const r=n.getChild(n.offsetToIndex(l.offset));return r&&r.is("$text")&&r.startOffset<l.offset?r:null}function nV(l,n,r){return r!==null?null:n.getChild(n.offsetToIndex(l.offset))}function iV(l,n,r){return r!==null?null:n.getChild(n.offsetToIndex(l.offset)-1)}function rV(l,n,r){return r+1!==l.path.length&&!!$2(n.path,r+1)&&!!function(a,g){let h=a.parent,f=a.path.length-1,b=0;for(;f>=g;){if(a.path[f]+b!==h.maxOffset)return!1;b=1,f--,h=h.parent}return!0}(l,r+1)}function $2(l,n){for(;n<l.length;){if(l[n]!==0)return!1;n++}return!0}Pt.prototype.is=function(l){return l==="position"||l==="model:position"};class vt extends eA{constructor(n,r){super(),this.start=Pt._createAt(n),this.end=r?Pt._createAt(r):Pt._createAt(n),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Jg({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return yt(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(n){return n.isAfter(this.start)&&n.isBefore(this.end)}containsRange(n,r=!1){n.isCollapsed&&(r=!1);const a=this.containsPosition(n.start)||r&&this.start.isEqual(n.start),g=this.containsPosition(n.end)||r&&this.end.isEqual(n.end);return a&&g}containsItem(n){const r=Pt._createBefore(n);return this.containsPosition(r)||this.start.isEqual(r)}isEqual(n){return this.start.isEqual(n.start)&&this.end.isEqual(n.end)}isIntersecting(n){return this.start.isBefore(n.end)&&this.end.isAfter(n.start)}getDifference(n){const r=[];return this.isIntersecting(n)?(this.containsPosition(n.start)&&r.push(new vt(this.start,n.start)),this.containsPosition(n.end)&&r.push(new vt(n.end,this.end))):r.push(new vt(this.start,this.end)),r}getIntersection(n){if(this.isIntersecting(n)){let r=this.start,a=this.end;return this.containsPosition(n.start)&&(r=n.start),this.containsPosition(n.end)&&(a=n.end),new vt(r,a)}return null}getJoined(n,r=!1){let a=this.isIntersecting(n);if(a||(a=this.start.isBefore(n.start)?r?this.end.isTouching(n.start):this.end.isEqual(n.start):r?n.end.isTouching(this.start):n.end.isEqual(this.start)),!a)return null;let g=this.start,h=this.end;return n.start.isBefore(g)&&(g=n.start),n.end.isAfter(h)&&(h=n.end),new vt(g,h)}getMinimalFlatRanges(){const n=[],r=this.start.getCommonPath(this.end).length,a=Pt._createAt(this.start);let g=a.parent;for(;a.path.length>r+1;){const h=g.maxOffset-a.offset;h!==0&&n.push(new vt(a,a.getShiftedBy(h))),a.path=a.path.slice(0,-1),a.offset++,g=g.parent}for(;a.path.length<=this.end.path.length;){const h=this.end.path[a.path.length-1],f=h-a.offset;f!==0&&n.push(new vt(a,a.getShiftedBy(f))),a.offset=h,a.path.push(0)}return n}getWalker(n={}){return n.boundaries=this,new Jg(n)}*getItems(n={}){n.boundaries=this,n.ignoreElementEnd=!0;const r=new Jg(n);for(const a of r)yield a.item}*getPositions(n={}){n.boundaries=this;const r=new Jg(n);yield r.position;for(const a of r)yield a.nextPosition}getTransformedByOperation(n){switch(n.type){case"insert":return this._getTransformedByInsertOperation(n);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(n);case"split":return[this._getTransformedBySplitOperation(n)];case"merge":return[this._getTransformedByMergeOperation(n)]}return[new vt(this.start,this.end)]}getTransformedByOperations(n){const r=[new vt(this.start,this.end)];for(const a of n)for(let g=0;g<r.length;g++){const h=r[g].getTransformedByOperation(a);r.splice(g,1,...h),g+=h.length-1}for(let a=0;a<r.length;a++){const g=r[a];for(let h=a+1;h<r.length;h++){const f=r[h];(g.containsRange(f)||f.containsRange(g)||g.isEqual(f))&&r.splice(h,1)}}return r}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const n=this.start.nodeAfter,r=this.end.nodeBefore;return n&&n.is("element")&&n===r?n:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(n,r=!1){return this._getTransformedByInsertion(n.position,n.howMany,r)}_getTransformedByMoveOperation(n,r=!1){const a=n.sourcePosition,g=n.howMany,h=n.targetPosition;return this._getTransformedByMove(a,h,g,r)}_getTransformedBySplitOperation(n){const r=this.start._getTransformedBySplitOperation(n);let a=this.end._getTransformedBySplitOperation(n);return this.end.isEqual(n.insertionPosition)&&(a=this.end.getShiftedBy(1)),r.root!=a.root&&(a=this.end.getShiftedBy(-1)),new vt(r,a)}_getTransformedByMergeOperation(n){if(this.start.isEqual(n.targetPosition)&&this.end.isEqual(n.deletionPosition))return new vt(this.start);let r=this.start._getTransformedByMergeOperation(n),a=this.end._getTransformedByMergeOperation(n);return r.root!=a.root&&(a=this.end.getShiftedBy(-1)),r.isAfter(a)?(n.sourcePosition.isBefore(n.targetPosition)?(r=Pt._createAt(a),r.offset=0):(n.deletionPosition.isEqual(r)||(a=n.deletionPosition),r=n.targetPosition),new vt(r,a)):new vt(r,a)}_getTransformedByInsertion(n,r,a=!1){if(a&&this.containsPosition(n))return[new vt(this.start,n),new vt(n.getShiftedBy(r),this.end._getTransformedByInsertion(n,r))];{const g=new vt(this.start,this.end);return g.start=g.start._getTransformedByInsertion(n,r),g.end=g.end._getTransformedByInsertion(n,r),[g]}}_getTransformedByMove(n,r,a,g=!1){if(this.isCollapsed){const J=this.start._getTransformedByMove(n,r,a);return[new vt(J)]}const h=vt._createFromPositionAndShift(n,a),f=r._getTransformedByDeletion(n,a);if(this.containsPosition(r)&&!g&&(h.containsPosition(this.start)||h.containsPosition(this.end))){const J=this.start._getTransformedByMove(n,r,a),ee=this.end._getTransformedByMove(n,r,a);return[new vt(J,ee)]}let b;const S=this.getDifference(h);let N=null;const W=this.getIntersection(h);if(S.length==1?N=new vt(S[0].start._getTransformedByDeletion(n,a),S[0].end._getTransformedByDeletion(n,a)):S.length==2&&(N=new vt(this.start,this.end._getTransformedByDeletion(n,a))),b=N?N._getTransformedByInsertion(f,a,W!==null||g):[],W){const J=new vt(W.start._getCombined(h.start,f),W.end._getCombined(h.start,f));b.length==2?b.splice(1,0,J):b.push(J)}return b}_getTransformedByDeletion(n,r){let a=this.start._getTransformedByDeletion(n,r),g=this.end._getTransformedByDeletion(n,r);return a==null&&g==null?null:(a==null&&(a=n),g==null&&(g=n),new vt(a,g))}static _createFromPositionAndShift(n,r){const a=n,g=n.getShiftedBy(r);return r>0?new this(a,g):new this(g,a)}static _createIn(n){return new this(Pt._createAt(n,0),Pt._createAt(n,n.maxOffset))}static _createOn(n){return this._createFromPositionAndShift(Pt._createBefore(n),n.offsetSize)}static _createFromRanges(n){if(n.length===0)throw new P("range-create-from-ranges-empty-array",null);if(n.length==1)return n[0].clone();const r=n[0];n.sort((h,f)=>h.start.isAfter(f.start)?1:-1);const a=n.indexOf(r),g=new this(r.start,r.end);if(a>0)for(let h=a-1;n[h].end.isEqual(g.start);h++)g.start=Pt._createAt(n[h].start);for(let h=a+1;h<n.length&&n[h].start.isEqual(g.end);h++)g.end=Pt._createAt(n[h].end);return g}static fromJSON(n,r){return new this(Pt.fromJSON(n.start,r),Pt.fromJSON(n.end,r))}}vt.prototype.is=function(l){return l==="range"||l==="model:range"};class oV extends fe(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(n,r)=>{if(r.viewPosition)return;const a=this._modelToViewMapping.get(r.modelPosition.parent);if(!a)throw new P("mapping-model-position-view-parent-not-found",this,{modelPosition:r.modelPosition});r.viewPosition=this.findPositionIn(a,r.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(n,r)=>{if(r.modelPosition)return;const a=this.findMappedViewAncestor(r.viewPosition),g=this._viewToModelMapping.get(a),h=this._toModelOffset(r.viewPosition.parent,r.viewPosition.offset,a);r.modelPosition=Pt._createAt(g,h)},{priority:"low"})}bindElements(n,r){this._modelToViewMapping.set(n,r),this._viewToModelMapping.set(r,n)}unbindViewElement(n,r={}){const a=this.toModelElement(n);if(this._elementToMarkerNames.has(n))for(const g of this._elementToMarkerNames.get(n))this._unboundMarkerNames.add(g);r.defer?this._deferredBindingRemovals.set(n,n.root):(this._viewToModelMapping.delete(n),this._modelToViewMapping.get(a)==n&&this._modelToViewMapping.delete(a))}unbindModelElement(n){const r=this.toViewElement(n);this._modelToViewMapping.delete(n),this._viewToModelMapping.get(r)==n&&this._viewToModelMapping.delete(r)}bindElementToMarker(n,r){const a=this._markerNameToElements.get(r)||new Set;a.add(n);const g=this._elementToMarkerNames.get(n)||new Set;g.add(r),this._markerNameToElements.set(r,a),this._elementToMarkerNames.set(n,g)}unbindElementFromMarkerName(n,r){const a=this._markerNameToElements.get(r);a&&(a.delete(n),a.size==0&&this._markerNameToElements.delete(r));const g=this._elementToMarkerNames.get(n);g&&(g.delete(r),g.size==0&&this._elementToMarkerNames.delete(n))}flushUnboundMarkerNames(){const n=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),n}flushDeferredBindings(){for(const[n,r]of this._deferredBindingRemovals)n.root==r&&this.unbindViewElement(n);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(n){return this._viewToModelMapping.get(n)}toViewElement(n){return this._modelToViewMapping.get(n)}toModelRange(n){return new vt(this.toModelPosition(n.start),this.toModelPosition(n.end))}toViewRange(n){return new wn(this.toViewPosition(n.start),this.toViewPosition(n.end))}toModelPosition(n){const r={viewPosition:n,mapper:this};return this.fire("viewToModelPosition",r),r.modelPosition}toViewPosition(n,r={}){const a={modelPosition:n,mapper:this,isPhantom:r.isPhantom};return this.fire("modelToViewPosition",a),a.viewPosition}markerNameToElements(n){const r=this._markerNameToElements.get(n);if(!r)return null;const a=new Set;for(const g of r)if(g.is("attributeElement"))for(const h of g.getElementsWithSameId())a.add(h);else a.add(g);return a}registerViewToModelLength(n,r){this._viewToModelLengthCallbacks.set(n,r)}findMappedViewAncestor(n){let r=n.parent;for(;!this._viewToModelMapping.has(r);)r=r.parent;return r}_toModelOffset(n,r,a){if(a!=n)return this._toModelOffset(n.parent,n.index,a)+this._toModelOffset(n,r,n);if(n.is("$text"))return r;let g=0;for(let h=0;h<r;h++)g+=this.getModelLength(n.getChild(h));return g}getModelLength(n){if(this._viewToModelLengthCallbacks.get(n.name))return this._viewToModelLengthCallbacks.get(n.name)(n);if(this._viewToModelMapping.has(n))return 1;if(n.is("$text"))return n.data.length;if(n.is("uiElement"))return 0;{let r=0;for(const a of n.getChildren())r+=this.getModelLength(a);return r}}findPositionIn(n,r){let a,g=0,h=0,f=0;if(n.is("$text"))return new jt(n,r);for(;h<r;)a=n.getChild(f),g=this.getModelLength(a),h+=g,f++;return h==r?this._moveViewPositionToTextNode(new jt(n,f)):this.findPositionIn(a,r-(h-g))}_moveViewPositionToTextNode(n){const r=n.nodeBefore,a=n.nodeAfter;return r instanceof wi?new jt(r,r.data.length):a instanceof wi?new jt(a,0):n}}class f8{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(n,r){r=k0(r),n instanceof oc&&(n=this._getSymbolForTextProxy(n)),this._consumable.has(n)||this._consumable.set(n,new Map),this._consumable.get(n).set(r,!0)}consume(n,r){return r=k0(r),n instanceof oc&&(n=this._getSymbolForTextProxy(n)),!!this.test(n,r)&&(this._consumable.get(n).set(r,!1),!0)}test(n,r){r=k0(r),n instanceof oc&&(n=this._getSymbolForTextProxy(n));const a=this._consumable.get(n);if(a===void 0)return null;const g=a.get(r);return g===void 0?null:g}revert(n,r){r=k0(r),n instanceof oc&&(n=this._getSymbolForTextProxy(n));const a=this.test(n,r);return a===!1?(this._consumable.get(n).set(r,!0),!0):a!==!0&&null}verifyAllConsumed(n){const r=[];for(const[a,g]of this._consumable)for(const[h,f]of g){const b=h.split(":")[0];f&&n==b&&r.push({event:h,item:a.name||a.description})}if(r.length)throw new P("conversion-model-consumable-not-consumed",null,{items:r})}_getSymbolForTextProxy(n){let r=null;const a=this._textProxyRegistry.get(n.startOffset);if(a){const g=a.get(n.endOffset);g&&(r=g.get(n.parent))}return r||(r=this._addSymbolForTextProxy(n)),r}_addSymbolForTextProxy(n){const r=n.startOffset,a=n.endOffset,g=n.parent,h=Symbol("$textProxy:"+n.data);let f,b;return f=this._textProxyRegistry.get(r),f||(f=new Map,this._textProxyRegistry.set(r,f)),b=f.get(a),b||(b=new Map,f.set(a,b)),b.set(g,h),h}}function k0(l){const n=l.split(":");return n[0]=="insert"?n[0]:n[0]=="addMarker"||n[0]=="removeMarker"?l:n.length>1?n[0]+":"+n[1]:n[0]}var I8=Object.defineProperty,b8=Object.defineProperties,y8=Object.getOwnPropertyDescriptors,sV=Object.getOwnPropertySymbols,v8=Object.prototype.hasOwnProperty,w8=Object.prototype.propertyIsEnumerable,aV=(l,n,r)=>n in l?I8(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,eB=(l,n)=>{for(var r in n||(n={}))v8.call(n,r)&&aV(l,r,n[r]);if(sV)for(var r of sV(n))w8.call(n,r)&&aV(l,r,n[r]);return l},lV=(l,n)=>b8(l,y8(n));class cV extends fe(){constructor(n){super(),this._conversionApi=eB({dispatcher:this},n),this._firedEventsMap=new WeakMap}convertChanges(n,r,a){const g=this._createConversionApi(a,n.getRefreshedItems());for(const f of n.getMarkersToRemove())this._convertMarkerRemove(f.name,f.range,g);const h=this._reduceChanges(n.getChanges());for(const f of h)f.type==="insert"?this._convertInsert(vt._createFromPositionAndShift(f.position,f.length),g):f.type==="reinsert"?this._convertReinsert(vt._createFromPositionAndShift(f.position,f.length),g):f.type==="remove"?this._convertRemove(f.position,f.length,f.name,g):this._convertAttribute(f.range,f.attributeKey,f.attributeOldValue,f.attributeNewValue,g);g.mapper.flushDeferredBindings();for(const f of g.mapper.flushUnboundMarkerNames()){const b=r.get(f).getRange();this._convertMarkerRemove(f,b,g),this._convertMarkerAdd(f,b,g)}for(const f of n.getMarkersToAdd())this._convertMarkerAdd(f.name,f.range,g);g.consumable.verifyAllConsumed("insert")}convert(n,r,a,g={}){const h=this._createConversionApi(a,void 0,g);this._convertInsert(n,h);for(const[f,b]of r)this._convertMarkerAdd(f,b,h);h.consumable.verifyAllConsumed("insert")}convertSelection(n,r,a){const g=this._createConversionApi(a);this.fire("cleanSelection",{selection:n},g);const h=n.getFirstPosition().root;if(!g.mapper.toViewElement(h))return;const f=Array.from(r.getMarkersAtPosition(n.getFirstPosition()));if(this._addConsumablesForSelection(g.consumable,n,f),this.fire("selection",{selection:n},g),n.isCollapsed){for(const b of f)if(g.consumable.test(n,"addMarker:"+b.name)){const S=b.getRange();if(!k8(n.getFirstPosition(),b,g.mapper))continue;const N={item:n,markerName:b.name,markerRange:S};this.fire(`addMarker:${b.name}`,N,g)}for(const b of n.getAttributeKeys())if(g.consumable.test(n,"attribute:"+b)){const S={item:n,range:n.getFirstRange(),attributeKey:b,attributeOldValue:null,attributeNewValue:n.getAttribute(b)};this.fire(`attribute:${b}:$text`,S,g)}}}_convertInsert(n,r,a={}){a.doNotAddConsumables||this._addConsumablesForInsert(r.consumable,n);for(const g of Array.from(n.getWalker({shallow:!0})).map(gV))this._testAndFire("insert",g,r)}_convertRemove(n,r,a,g){this.fire(`remove:${a}`,{position:n,length:r},g)}_convertAttribute(n,r,a,g,h){this._addConsumablesForRange(h.consumable,n,`attribute:${r}`);for(const f of n){const b={item:f.item,range:vt._createFromPositionAndShift(f.previousPosition,f.length),attributeKey:r,attributeOldValue:a,attributeNewValue:g};this._testAndFire(`attribute:${r}`,b,h)}}_convertReinsert(n,r){const a=Array.from(n.getWalker({shallow:!0}));this._addConsumablesForInsert(r.consumable,a);for(const g of a.map(gV))this._testAndFire("insert",lV(eB({},g),{reconversion:!0}),r)}_convertMarkerAdd(n,r,a){if(r.root.rootName=="$graveyard")return;const g=`addMarker:${n}`;if(a.consumable.add(r,g),this.fire(g,{markerName:n,markerRange:r},a),a.consumable.consume(r,g)){this._addConsumablesForRange(a.consumable,r,g);for(const h of r.getItems()){if(!a.consumable.test(h,g))continue;const f={item:h,range:vt._createOn(h),markerName:n,markerRange:r};this.fire(g,f,a)}}}_convertMarkerRemove(n,r,a){r.root.rootName!="$graveyard"&&this.fire(`removeMarker:${n}`,{markerName:n,markerRange:r},a)}_reduceChanges(n){const r={changes:n};return this.fire("reduceChanges",r),r.changes}_addConsumablesForInsert(n,r){for(const a of r){const g=a.item;if(n.test(g,"insert")===null){n.add(g,"insert");for(const h of g.getAttributeKeys())n.add(g,"attribute:"+h)}}return n}_addConsumablesForRange(n,r,a){for(const g of r.getItems())n.add(g,a);return n}_addConsumablesForSelection(n,r,a){n.add(r,"selection");for(const g of a)n.add(r,"addMarker:"+g.name);for(const g of r.getAttributeKeys())n.add(r,"attribute:"+g);return n}_testAndFire(n,r,a){const g=function(S,N){const W=N.item.is("element")?N.item.name:"$text";return`${S}:${W}`}(n,r),h=r.item.is("$textProxy")?a.consumable._getSymbolForTextProxy(r.item):r.item,f=this._firedEventsMap.get(a),b=f.get(h);if(b){if(b.has(g))return;b.add(g)}else f.set(h,new Set([g]));this.fire(g,r,a)}_testAndFireAddAttributes(n,r){const a={item:n,range:vt._createOn(n)};for(const g of a.item.getAttributeKeys())a.attributeKey=g,a.attributeOldValue=null,a.attributeNewValue=a.item.getAttribute(g),this._testAndFire(`attribute:${g}`,a,r)}_createConversionApi(n,r=new Set,a={}){const g=lV(eB({},this._conversionApi),{consumable:new f8,writer:n,options:a,convertItem:h=>this._convertInsert(vt._createOn(h),g),convertChildren:h=>this._convertInsert(vt._createIn(h),g,{doNotAddConsumables:!0}),convertAttributes:h=>this._testAndFireAddAttributes(h,g),canReuseView:h=>!r.has(g.mapper.toModelElement(h))});return this._firedEventsMap.set(g,new Map),g}}function k8(l,n,r){const a=n.getRange(),g=Array.from(l.getAncestors());return g.shift(),g.reverse(),!g.some(h=>{if(a.containsItem(h))return!!r.toViewElement(h).getCustomProperty("addHighlight")})}function gV(l){return{item:l.item,range:vt._createFromPositionAndShift(l.previousPosition,l.length)}}class Da extends fe(eA){constructor(...n){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],n.length&&this.setTo(...n)}get anchor(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.end:n.start}return null}get focus(){if(this._ranges.length>0){const n=this._ranges[this._ranges.length-1];return this._lastRangeBackward?n.start:n.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(n){if(this.rangeCount!=n.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(n.anchor)||!this.focus.isEqual(n.focus))return!1;for(const r of this._ranges){let a=!1;for(const g of n._ranges)if(r.isEqual(g)){a=!0;break}if(!a)return!1}return!0}*getRanges(){for(const n of this._ranges)yield new vt(n.start,n.end)}getFirstRange(){let n=null;for(const r of this._ranges)n&&!r.start.isBefore(n.start)||(n=r);return n?new vt(n.start,n.end):null}getLastRange(){let n=null;for(const r of this._ranges)n&&!r.end.isAfter(n.end)||(n=r);return n?new vt(n.start,n.end):null}getFirstPosition(){const n=this.getFirstRange();return n?n.start.clone():null}getLastPosition(){const n=this.getLastRange();return n?n.end.clone():null}setTo(...n){let[r,a,g]=n;if(typeof a=="object"&&(g=a,a=void 0),r===null)this._setRanges([]);else if(r instanceof Da)this._setRanges(r.getRanges(),r.isBackward);else if(r&&typeof r.getRanges=="function")this._setRanges(r.getRanges(),r.isBackward);else if(r instanceof vt)this._setRanges([r],!!g&&!!g.backward);else if(r instanceof Pt)this._setRanges([new vt(r)]);else if(r instanceof Nu){const h=!!g&&!!g.backward;let f;if(a=="in")f=vt._createIn(r);else if(a=="on")f=vt._createOn(r);else{if(a===void 0)throw new P("model-selection-setto-required-second-parameter",[this,r]);f=new vt(Pt._createAt(r,a))}this._setRanges([f],h)}else{if(!kt(r))throw new P("model-selection-setto-not-selectable",[this,r]);this._setRanges(r,g&&!!g.backward)}}_setRanges(n,r=!1){const a=Array.from(n),g=a.some(h=>{if(!(h instanceof vt))throw new P("model-selection-set-ranges-not-range",[this,n]);return this._ranges.every(f=>!f.isEqual(h))});(a.length!==this._ranges.length||g)&&(this._replaceAllRanges(a),this._lastRangeBackward=!!r,this.fire("change:range",{directChange:!0}))}setFocus(n,r){if(this.anchor===null)throw new P("model-selection-setfocus-no-ranges",[this,n]);const a=Pt._createAt(n,r);if(a.compareWith(this.focus)=="same")return;const g=this.anchor;this._ranges.length&&this._popRange(),a.compareWith(g)=="before"?(this._pushRange(new vt(a,g)),this._lastRangeBackward=!0):(this._pushRange(new vt(g,a)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(n){return this._attrs.get(n)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(n){return this._attrs.has(n)}removeAttribute(n){this.hasAttribute(n)&&(this._attrs.delete(n),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}setAttribute(n,r){this.getAttribute(n)!==r&&(this._attrs.set(n,r),this.fire("change:attribute",{attributeKeys:[n],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const n=new WeakSet;for(const r of this.getRanges()){const a=AV(r.start,n);x8(a,r)&&(yield a);for(const h of r.getWalker()){const f=h.item;h.type=="elementEnd"&&B8(f,n,r)&&(yield f)}const g=AV(r.end,n);S8(g,r)&&(yield g)}}containsEntireContent(n=this.anchor.root){const r=Pt._createAt(n,0),a=Pt._createAt(n,"end");return r.isTouching(this.getFirstPosition())&&a.isTouching(this.getLastPosition())}_pushRange(n){this._checkRange(n),this._ranges.push(new vt(n.start,n.end))}_checkRange(n){for(let r=0;r<this._ranges.length;r++)if(n.isIntersecting(this._ranges[r]))throw new P("model-selection-range-intersects",[this,n],{addedRange:n,intersectingRange:this._ranges[r]})}_replaceAllRanges(n){this._removeAllRanges();for(const r of n)this._pushRange(r)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function dV(l,n){return!n.has(l)&&(n.add(l),l.root.document.model.schema.isBlock(l)&&!!l.parent)}function B8(l,n,r){return dV(l,n)&&tB(l,r)}function AV(l,n){const r=l.parent.root.document.model.schema,a=l.parent.getAncestors({parentFirst:!0,includeSelf:!0});let g=!1;const h=a.find(f=>!g&&(g=r.isLimit(f),!g&&dV(f,n)));return a.forEach(f=>n.add(f)),h}function tB(l,n){const r=function(a){const g=a.root.document.model.schema;let h=a.parent;for(;h;){if(g.isBlock(h))return h;h=h.parent}}(l);return r?!n.containsRange(vt._createOn(r),!0):!0}function x8(l,n){return!!l&&(!(!n.isCollapsed&&!l.isEmpty)||!n.start.isTouching(Pt._createAt(l,l.maxOffset))&&tB(l,n))}function S8(l,n){return!!l&&(!(!n.isCollapsed&&!l.isEmpty)||!n.end.isTouching(Pt._createAt(l,0))&&tB(l,n))}Da.prototype.is=function(l){return l==="selection"||l==="model:selection"};class Ta extends fe(vt){constructor(n,r){super(n,r),Z8.call(this)}detach(){this.stopListening()}toRange(){return new vt(this.start,this.end)}static fromRange(n){return new Ta(n.start,n.end)}}function Z8(){this.listenTo(this.root.document.model,"applyOperation",(l,n)=>{const r=n[0];r.isDocumentOperation&&G8.call(this,r)},{priority:"low"})}function G8(l){const n=this.getTransformedByOperation(l),r=vt._createFromRanges(n),a=!r.isEqual(this),g=function(f,b){switch(b.type){case"insert":return f.containsPosition(b.position);case"move":case"remove":case"reinsert":case"merge":return f.containsPosition(b.sourcePosition)||f.start.isEqual(b.sourcePosition)||f.containsPosition(b.targetPosition);case"split":return f.containsPosition(b.splitPosition)||f.containsPosition(b.insertionPosition)}return!1}(this,l);let h=null;if(a){r.root.rootName=="$graveyard"&&(h=l.type=="remove"?l.sourcePosition:l.deletionPosition);const f=this.toRange();this.start=r.start,this.end=r.end,this.fire("change:range",f,{deletionPosition:h})}else g&&this.fire("change:content",this.toRange(),{deletionPosition:h})}Ta.prototype.is=function(l){return l==="liveRange"||l==="model:liveRange"||l=="range"||l==="model:range"};const B0="selection:";class sc extends fe(eA){constructor(n){super(),this._selection=new R8(n),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(n){return this._selection.containsEntireContent(n)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(n){return this._selection.getAttribute(n)}hasAttribute(n){return this._selection.hasAttribute(n)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(n){this._selection.observeMarkers(n)}_setFocus(n,r){this._selection.setFocus(n,r)}_setTo(...n){this._selection.setTo(...n)}_setAttribute(n,r){this._selection.setAttribute(n,r)}_removeAttribute(n){this._selection.removeAttribute(n)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(n){this._selection.restoreGravity(n)}static _getStoreAttributeKey(n){return B0+n}static _isStoreAttributeKey(n){return n.startsWith(B0)}}sc.prototype.is=function(l){return l==="selection"||l=="model:selection"||l=="documentSelection"||l=="model:documentSelection"};class R8 extends Da{constructor(n){super(),this.markers=new ia({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=n.model,this._document=n,this.listenTo(this._model,"applyOperation",(r,a)=>{const g=a[0];g.isDocumentOperation&&g.type!="marker"&&g.type!="rename"&&g.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(r,a,g,h)=>{this._updateMarker(a,h)}),this.listenTo(this._document,"change",(r,a)=>{(function(g,h){const f=g.document.differ;for(const b of f.getChanges()){if(b.type!="insert")continue;const S=b.position.parent;b.length===S.maxOffset&&g.enqueueChange(h,N=>{const W=Array.from(S.getAttributeKeys()).filter(J=>J.startsWith(B0));for(const J of W)N.removeAttribute(J,S)})}})(this._model,a)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let n=0;n<this._ranges.length;n++)this._ranges[n].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...n){super.setTo(...n),this._updateAttributes(!0),this.updateMarkers()}setFocus(n,r){super.setFocus(n,r),this._updateAttributes(!0),this.updateMarkers()}setAttribute(n,r){if(this._setAttribute(n,r)){const a=[n];this.fire("change:attribute",{attributeKeys:a,directChange:!0})}}removeAttribute(n){if(this._removeAttribute(n)){const r=[n];this.fire("change:attribute",{attributeKeys:r,directChange:!0})}}overrideGravity(){const n=X();return this._overriddenGravityRegister.add(n),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),n}restoreGravity(n){if(!this._overriddenGravityRegister.has(n))throw new P("document-selection-gravity-wrong-restore",this,{uid:n});this._overriddenGravityRegister.delete(n),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(n){this._observedMarkers.add(n),this.updateMarkers()}_replaceAllRanges(n){this._validateSelectionRanges(n),super._replaceAllRanges(n)}_popRange(){this._ranges.pop().detach()}_pushRange(n){const r=this._prepareRange(n);r&&this._ranges.push(r)}_validateSelectionRanges(n){for(const r of n)if(!this._document._validateSelectionRange(r))throw new P("document-selection-wrong-position",this,{range:r})}_prepareRange(n){if(this._checkRange(n),n.root==this._document.graveyard)return;const r=Ta.fromRange(n);return r.on("change:range",(a,g,h)=>{if(this._hasChangedRange=!0,r.root==this._document.graveyard){this._selectionRestorePosition=h.deletionPosition;const f=this._ranges.indexOf(r);this._ranges.splice(f,1),r.detach()}}),r}updateMarkers(){if(!this._observedMarkers.size)return;const n=[];let r=!1;for(const g of this._model.markers){const h=g.name.split(":",1)[0];if(!this._observedMarkers.has(h))continue;const f=g.getRange();for(const b of this.getRanges())f.containsRange(b,!b.isCollapsed)&&n.push(g)}const a=Array.from(this.markers);for(const g of n)this.markers.has(g)||(this.markers.add(g),r=!0);for(const g of Array.from(this.markers))n.includes(g)||(this.markers.remove(g),r=!0);r&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateMarker(n,r){const a=n.name.split(":",1)[0];if(!this._observedMarkers.has(a))return;let g=!1;const h=Array.from(this.markers),f=this.markers.has(n);if(r){let b=!1;for(const S of this.getRanges())if(r.containsRange(S,!S.isCollapsed)){b=!0;break}b&&!f?(this.markers.add(n),g=!0):!b&&f&&(this.markers.remove(n),g=!0)}else f&&(this.markers.remove(n),g=!0);g&&this.fire("change:marker",{oldMarkers:h,directChange:!1})}_updateAttributes(n){const r=pl(this._getSurroundingAttributes()),a=pl(this.getAttributes());if(n)this._attributePriority=new Map,this._attrs=new Map;else for(const[h,f]of this._attributePriority)f=="low"&&(this._attrs.delete(h),this._attributePriority.delete(h));this._setAttributesTo(r);const g=[];for(const[h,f]of this.getAttributes())a.has(h)&&a.get(h)===f||g.push(h);for(const[h]of a)this.hasAttribute(h)||g.push(h);g.length>0&&this.fire("change:attribute",{attributeKeys:g,directChange:!1})}_setAttribute(n,r,a=!0){const g=a?"normal":"low";return g=="low"&&this._attributePriority.get(n)=="normal"?!1:super.getAttribute(n)!==r&&(this._attrs.set(n,r),this._attributePriority.set(n,g),!0)}_removeAttribute(n,r=!0){const a=r?"normal":"low";return(a!="low"||this._attributePriority.get(n)!="normal")&&(this._attributePriority.set(n,a),!!super.hasAttribute(n)&&(this._attrs.delete(n),!0))}_setAttributesTo(n){const r=new Set;for(const[a,g]of this.getAttributes())n.get(a)!==g&&this._removeAttribute(a,!1);for(const[a,g]of n)this._setAttribute(a,g,!1)&&r.add(a);return r}*getStoredAttributes(){const n=this.getFirstPosition().parent;if(this.isCollapsed&&n.isEmpty)for(const r of n.getAttributeKeys())r.startsWith(B0)&&(yield[r.substr(10),n.getAttribute(r)])}_getSurroundingAttributes(){const n=this.getFirstPosition(),r=this._model.schema;if(n.root.rootName=="$graveyard")return null;let a=null;if(this.isCollapsed){const g=n.textNode?n.textNode:n.nodeBefore,h=n.textNode?n.textNode:n.nodeAfter;if(this.isGravityOverridden||(a=UC(g,r)),a||(a=UC(h,r)),!this.isGravityOverridden&&!a){let f=g;for(;f&&!a;)f=f.previousSibling,a=UC(f,r)}if(!a){let f=h;for(;f&&!a;)f=f.nextSibling,a=UC(f,r)}a||(a=this.getStoredAttributes())}else{const g=this.getFirstRange();for(const h of g){if(h.item.is("element")&&r.isObject(h.item)){a=UC(h.item,r);break}if(h.type=="text"){a=h.item.getAttributes();break}}}return a}_fixGraveyardSelection(n){const r=this._model.schema.getNearestSelectionRange(n);r&&this._pushRange(r)}}function UC(l,n){if(!l)return null;if(l instanceof oc||l instanceof $i)return l.getAttributes();if(!n.isInline(l))return null;if(!n.isObject(l))return[];const r=[];for(const[a,g]of l.getAttributes())n.checkAttribute("$text",a)&&n.getAttributeProperties(a).copyFromObject!==!1&&r.push([a,g]);return r}class uV{constructor(n){this._dispatchers=n}add(n){for(const r of this._dispatchers)n(r);return this}}class N8 extends uV{elementToElement(n){return this.add(function(r){const a=pV(r.model),g=PC(r.view,"container");return a.attributes.length&&(a.children=!0),h=>{h.on(`insert:${a.name}`,V8(g,bV(a)),{priority:r.converterPriority||"normal"}),(a.children||a.attributes.length)&&h.on("reduceChanges",IV(a),{priority:"low"})}}(n))}elementToStructure(n){return this.add(function(r){const a=pV(r.model),g=PC(r.view,"container");return a.children=!0,h=>{if(h._conversionApi.schema.checkChild(a.name,"$text"))throw new P("conversion-element-to-structure-disallowed-text",h,{elementName:a.name});var f,b;h.on(`insert:${a.name}`,(f=g,b=bV(a),(S,N,W)=>{if(!b(N.item,W.consumable,{preflight:!0}))return;const J=new Map;W.writer._registerSlotFactory(function(ue,xe,Le){return(Ye,$e)=>{const ht=Ye.createContainerElement("$slot");let Tt=null;if($e==="children")Tt=Array.from(ue.getChildren());else{if(typeof $e!="function")throw new P("conversion-slot-mode-unknown",Le.dispatcher,{modeOrFilter:$e});Tt=Array.from(ue.getChildren()).filter(rn=>$e(rn))}return xe.set(ht,Tt),ht}}(N.item,J,W));const ee=f(N.item,W,N);if(W.writer._clearSlotFactory(),!ee)return;(function(ue,xe,Le){const Ye=Array.from(xe.values()).flat(),$e=new Set(Ye);if($e.size!=Ye.length)throw new P("conversion-slot-filter-overlap",Le.dispatcher,{element:ue});if($e.size!=ue.childCount)throw new P("conversion-slot-filter-incomplete",Le.dispatcher,{element:ue})})(N.item,J,W),b(N.item,W.consumable);const se=W.mapper.toViewPosition(N.range.start);W.mapper.bindElements(N.item,ee),W.writer.insert(se,ee),W.convertAttributes(N.item),function(ue,xe,Le,Ye){Le.mapper.on("modelToViewPosition",Tt,{priority:"highest"});let $e=null,ht=null;for([$e,ht]of xe)yV(ue,ht,Le,Ye),Le.writer.move(Le.writer.createRangeIn($e),Le.writer.createPositionBefore($e)),Le.writer.remove($e);function Tt(rn,Vn){const Mn=Vn.modelPosition.nodeAfter,ar=ht.indexOf(Mn);ar<0||(Vn.viewPosition=Vn.mapper.findPositionIn($e,ar))}Le.mapper.off("modelToViewPosition",Tt)}(ee,J,W,{reconversion:N.reconversion})}),{priority:r.converterPriority||"normal"}),h.on("reduceChanges",IV(a),{priority:"low"})}}(n))}attributeToElement(n){return this.add(function(r){r=rc(r);let a=r.model;typeof a=="string"&&(a={key:a});let g=`attribute:${a.key}`;if(a.name&&(g+=":"+a.name),a.values)for(const f of a.values)r.view[f]=PC(r.view[f],"attribute");else r.view=PC(r.view,"attribute");const h=CV(r);return f=>{f.on(g,_8(h),{priority:r.converterPriority||"normal"})}}(n))}attributeToAttribute(n){return this.add(function(r){r=rc(r);let a=r.model;typeof a=="string"&&(a={key:a});let g=`attribute:${a.key}`;if(a.name&&(g+=":"+a.name),a.values)for(const f of a.values)r.view[f]=fV(r.view[f]);else r.view=fV(r.view);const h=CV(r);return f=>{var b;f.on(g,(b=h,(S,N,W)=>{if(!W.consumable.test(N.item,S.name))return;const J=b(N.attributeOldValue,W,N),ee=b(N.attributeNewValue,W,N);if(!J&&!ee)return;W.consumable.consume(N.item,S.name);const se=W.mapper.toViewElement(N.item),ue=W.writer;if(!se)throw new P("conversion-attribute-to-attribute-on-text",W.dispatcher,N);if(N.attributeOldValue!==null&&J)if(J.key=="class"){const xe=typeof J.value=="string"?J.value.split(/\s+/):J.value;for(const Le of xe)ue.removeClass(Le,se)}else if(J.key=="style")if(typeof J.value=="string"){const xe=new lm(ue.document.stylesProcessor);xe.setTo(J.value);for(const[Le]of xe.getStylesEntries())ue.removeStyle(Le,se)}else{const xe=Object.keys(J.value);for(const Le of xe)ue.removeStyle(Le,se)}else ue.removeAttribute(J.key,se);if(N.attributeNewValue!==null&&ee)if(ee.key=="class"){const xe=typeof ee.value=="string"?ee.value.split(/\s+/):ee.value;for(const Le of xe)ue.addClass(Le,se)}else if(ee.key=="style")if(typeof ee.value=="string"){const xe=new lm(ue.document.stylesProcessor);xe.setTo(ee.value);for(const[Le,Ye]of xe.getStylesEntries())ue.setStyle(Le,Ye,se)}else{const xe=Object.keys(ee.value);for(const Le of xe)ue.setStyle(Le,ee.value[Le],se)}else ue.setAttribute(ee.key,ee.value,se)}),{priority:r.converterPriority||"normal"})}}(n))}markerToElement(n){return this.add(function(r){const a=PC(r.view,"ui");return g=>{g.on(`addMarker:${r.model}`,E8(a),{priority:r.converterPriority||"normal"}),g.on(`removeMarker:${r.model}`,(h,f,b)=>{const S=b.mapper.markerNameToElements(f.markerName);if(S){for(const N of S)b.mapper.unbindElementFromMarkerName(N,f.markerName),b.writer.clear(b.writer.createRangeOn(N),N);b.writer.clearClonedElementsGroup(f.markerName),h.stop()}},{priority:r.converterPriority||"normal"})}}(n))}markerToHighlight(n){return this.add(function(r){return a=>{var g;a.on(`addMarker:${r.model}`,(g=r.view,(h,f,b)=>{if(!f.item||!(f.item instanceof Da||f.item instanceof sc||f.item.is("$textProxy")))return;const S=nB(g,f,b);if(!S||!b.consumable.consume(f.item,h.name))return;const N=b.writer,W=hV(N,S),J=N.document.selection;if(f.item instanceof Da||f.item instanceof sc)N.wrap(J.getFirstRange(),W);else{const ee=b.mapper.toViewRange(f.range),se=N.wrap(ee,W);for(const ue of se.getItems())if(ue.is("attributeElement")&&ue.isSimilar(W)){b.mapper.bindElementToMarker(ue,f.markerName);break}}}),{priority:r.converterPriority||"normal"}),a.on(`addMarker:${r.model}`,function(h){return(f,b,S)=>{if(!b.item||!(b.item instanceof Pi))return;const N=nB(h,b,S);if(!N||!S.consumable.test(b.item,f.name))return;const W=S.mapper.toViewElement(b.item);if(W&&W.getCustomProperty("addHighlight")){S.consumable.consume(b.item,f.name);for(const J of vt._createIn(b.item))S.consumable.consume(J.item,f.name);W.getCustomProperty("addHighlight")(W,N,S.writer),S.mapper.bindElementToMarker(W,b.markerName)}}}(r.view),{priority:r.converterPriority||"normal"}),a.on(`removeMarker:${r.model}`,function(h){return(f,b,S)=>{if(b.markerRange.isCollapsed)return;const N=nB(h,b,S);if(!N)return;const W=hV(S.writer,N),J=S.mapper.markerNameToElements(b.markerName);if(J){for(const ee of J)S.mapper.unbindElementFromMarkerName(ee,b.markerName),ee.is("attributeElement")?S.writer.unwrap(S.writer.createRangeOn(ee),W):ee.getCustomProperty("removeHighlight")(ee,N.id,S.writer);S.writer.clearClonedElementsGroup(b.markerName),f.stop()}}}(r.view),{priority:r.converterPriority||"normal"})}}(n))}markerToData(n){return this.add(function(r){r=rc(r);const a=r.model;let g=r.view;return g||(g=h=>({group:a,name:h.substr(r.model.length+1)})),h=>{var f;h.on(`addMarker:${a}`,(f=g,(b,S,N)=>{const W=f(S.markerName,N);if(!W)return;const J=S.markerRange;N.consumable.consume(J,b.name)&&(mV(J,!1,N,S,W),mV(J,!0,N,S,W),b.stop())}),{priority:r.converterPriority||"normal"}),h.on(`removeMarker:${a}`,function(b){return(S,N,W)=>{const J=b(N.markerName,W);if(!J)return;const ee=W.mapper.markerNameToElements(N.markerName);if(ee){for(const ue of ee)W.mapper.unbindElementFromMarkerName(ue,N.markerName),ue.is("containerElement")?(se(`data-${J.group}-start-before`,ue),se(`data-${J.group}-start-after`,ue),se(`data-${J.group}-end-before`,ue),se(`data-${J.group}-end-after`,ue)):W.writer.clear(W.writer.createRangeOn(ue),ue);W.writer.clearClonedElementsGroup(N.markerName),S.stop()}function se(ue,xe){if(xe.hasAttribute(ue)){const Le=new Set(xe.getAttribute(ue).split(","));Le.delete(J.name),Le.size==0?W.writer.removeAttribute(ue,xe):W.writer.setAttribute(ue,Array.from(Le).join(","),xe)}}}}(g),{priority:r.converterPriority||"normal"})}}(n))}}function hV(l,n){const r=l.createAttributeElement("span",n.attributes);return n.classes&&r._addClass(n.classes),typeof n.priority=="number"&&(r._priority=n.priority),r._id=n.id,r}function _8(l){return(n,r,a)=>{if(!a.consumable.test(r.item,n.name))return;const g=l(r.attributeOldValue,a,r),h=l(r.attributeNewValue,a,r);if(!g&&!h)return;a.consumable.consume(r.item,n.name);const f=a.writer,b=f.document.selection;if(r.item instanceof Da||r.item instanceof sc)f.wrap(b.getFirstRange(),h);else{let S=a.mapper.toViewRange(r.range);r.attributeOldValue!==null&&g&&(S=f.unwrap(S,g)),r.attributeNewValue!==null&&h&&f.wrap(S,h)}}}function V8(l,n=W8){return(r,a,g)=>{if(!n(a.item,g.consumable,{preflight:!0}))return;const h=l(a.item,g,a);if(!h)return;n(a.item,g.consumable);const f=g.mapper.toViewPosition(a.range.start);g.mapper.bindElements(a.item,h),g.writer.insert(f,h),g.convertAttributes(a.item),yV(h,a.item.getChildren(),g,{reconversion:a.reconversion})}}function E8(l){return(n,r,a)=>{r.isOpening=!0;const g=l(r,a);r.isOpening=!1;const h=l(r,a);if(!g||!h)return;const f=r.markerRange;if(f.isCollapsed&&!a.consumable.consume(f,n.name))return;for(const N of f)if(!a.consumable.consume(N.item,n.name))return;const b=a.mapper,S=a.writer;S.insert(b.toViewPosition(f.start),g),a.mapper.bindElementToMarker(g,r.markerName),f.isCollapsed||(S.insert(b.toViewPosition(f.end),h),a.mapper.bindElementToMarker(h,r.markerName)),n.stop()}}function mV(l,n,r,a,g){const h=n?l.start:l.end,f=h.nodeAfter&&h.nodeAfter.is("element")?h.nodeAfter:null,b=h.nodeBefore&&h.nodeBefore.is("element")?h.nodeBefore:null;if(f||b){let S,N;n&&f||!n&&!b?(S=f,N=!0):(S=b,N=!1);const W=r.mapper.toViewElement(S);if(W)return void function(J,ee,se,ue,xe,Le){const Ye=`data-${Le.group}-${ee?"start":"end"}-${se?"before":"after"}`,$e=J.hasAttribute(Ye)?J.getAttribute(Ye).split(","):[];$e.unshift(Le.name),ue.writer.setAttribute(Ye,$e.join(","),J),ue.mapper.bindElementToMarker(J,xe.markerName)}(W,n,N,r,a,g)}(function(S,N,W,J,ee){const se=`${ee.group}-${N?"start":"end"}`,ue=ee.name?{name:ee.name}:null,xe=W.writer.createUIElement(se,ue);W.writer.insert(S,xe),W.mapper.bindElementToMarker(xe,J.markerName)})(r.mapper.toViewPosition(h),n,r,a,g)}function pV(l){return typeof l=="string"&&(l={name:l}),{name:l.name,attributes:l.attributes?Li(l.attributes):[],children:!!l.children}}function PC(l,n){return typeof l=="function"?l:(r,a)=>function(g,h,f){typeof g=="string"&&(g={name:g});let b;const S=h.writer,N=Object.assign({},g.attributes);if(f=="container")b=S.createContainerElement(g.name,N);else if(f=="attribute"){const W={priority:g.priority||Gu.DEFAULT_PRIORITY};b=S.createAttributeElement(g.name,N,W)}else b=S.createUIElement(g.name,N);if(g.styles){const W=Object.keys(g.styles);for(const J of W)S.setStyle(J,g.styles[J],b)}if(g.classes){const W=g.classes;if(typeof W=="string")S.addClass(W,b);else for(const J of W)S.addClass(J,b)}return b}(l,a,n)}function CV(l){return l.model.values?(n,r,a)=>{const g=l.view[n];return g?g(n,r,a):null}:l.view}function fV(l){return typeof l=="string"?n=>({key:l,value:n}):typeof l=="object"?l.value?()=>l:n=>({key:l.key,value:n}):l}function nB(l,n,r){const a=typeof l=="function"?l(n,r):l;return a?(a.priority||(a.priority=10),a.id||(a.id=n.markerName),a):null}function IV(l){const n=function(r){return(a,g)=>{if(!a.is("element",r.name))return!1;if(g.type=="attribute"){if(r.attributes.includes(g.attributeKey))return!0}else if(r.children)return!0;return!1}}(l);return(r,a)=>{const g=[];a.reconvertedElements||(a.reconvertedElements=new Set);for(const h of a.changes){const f=h.type=="attribute"?h.range.start.nodeAfter:h.position.parent;if(f&&n(f,h)){if(!a.reconvertedElements.has(f)){a.reconvertedElements.add(f);const b=Pt._createBefore(f);let S=g.length;for(let N=g.length-1;N>=0;N--){const W=g[N],J=(W.type=="attribute"?W.range.start:W.position).compareWith(b);if(J=="before"||W.type=="remove"&&J=="same")break;S=N}g.splice(S,0,{type:"remove",name:f.name,position:b,length:1},{type:"reinsert",name:f.name,position:b,length:1})}}else g.push(h)}a.changes=g}}function bV(l){return(n,r,a={})=>{const g=["insert"];for(const h of l.attributes)n.hasAttribute(h)&&g.push(`attribute:${h}`);return!!g.every(h=>r.test(n,h))&&(a.preflight||g.forEach(h=>r.consume(n,h)),!0)}}function yV(l,n,r,a){for(const g of n)F8(l.root,g,r,a)||r.convertItem(g)}function F8(l,n,r,a){const{writer:g,mapper:h}=r;if(!a.reconversion)return!1;const f=h.toViewElement(n);return!(!f||f.root==l)&&!!r.canReuseView(f)&&(g.move(g.createRangeOn(f),h.toViewPosition(Pt._createBefore(n))),!0)}function W8(l,n,{preflight:r}={}){return r?n.test(l,"insert"):n.consume(l,"insert")}function vV(l){const{schema:n,document:r}=l.model;for(const a of r.getRoots())if(a.isEmpty&&!n.checkChild(a,"$text")&&n.checkChild(a,"paragraph"))return l.insertElement("paragraph",a),!0;return!1}function wV(l,n,r){const a=r.createContext(l);return!!r.checkChild(a,"paragraph")&&!!r.checkChild(a.push("paragraph"),n)}function kV(l,n){const r=n.createElement("paragraph");return n.insert(r,l),n.createPositionAt(r,0)}var H8=Object.defineProperty,D8=Object.defineProperties,T8=Object.getOwnPropertyDescriptors,BV=Object.getOwnPropertySymbols,L8=Object.prototype.hasOwnProperty,X8=Object.prototype.propertyIsEnumerable,xV=(l,n,r)=>n in l?H8(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r;class M8 extends uV{elementToElement(n){return this.add(SV(n))}elementToAttribute(n){return this.add(function(r){r=rc(r),ZV(r);const a=GV(r,!1),g=iB(r.view),h=g?`element:${g}`:"element";return f=>{f.on(h,a,{priority:r.converterPriority||"low"})}}(n))}attributeToAttribute(n){return this.add(function(r){r=rc(r);let a=null;(typeof r.view=="string"||r.view.key)&&(a=function(h){typeof h.view=="string"&&(h.view={key:h.view});const f=h.view.key,b=h.view.value===void 0?/[\s\S]*/:h.view.value;let S;return f=="class"||f=="style"?S={[f=="class"?"classes":"styles"]:b}:S={attributes:{[f]:b}},h.view.name&&(S.name=h.view.name),h.view=S,f}(r)),ZV(r,a);const g=GV(r,!0);return h=>{h.on("element",g,{priority:r.converterPriority||"low"})}}(n))}elementToMarker(n){return this.add(function(r){const a=function(f){return(b,S)=>{const N=typeof f=="string"?f:f(b,S);return S.writer.createElement("$marker",{"data-name":N})}}(r.model);return SV((g=((f,b)=>{for(var S in b||(b={}))L8.call(b,S)&&xV(f,S,b[S]);if(BV)for(var S of BV(b))X8.call(b,S)&&xV(f,S,b[S]);return f})({},r),h={model:a},D8(g,T8(h))));var g,h}(n))}dataToMarker(n){return this.add(function(r){r=rc(r),r.model||(r.model=f=>f?r.view+":"+f:r.view);const a={view:r.view,model:r.model},g=rB(RV(a,"start")),h=rB(RV(a,"end"));return f=>{f.on(`element:${r.view}-start`,g,{priority:r.converterPriority||"normal"}),f.on(`element:${r.view}-end`,h,{priority:r.converterPriority||"normal"});const b=Q.low,S=Q.highest,N=Q.get(r.converterPriority)/S;f.on("element",function(W){return(J,ee,se)=>{const ue=`data-${W.view}`;function xe(Le,Ye){for(const $e of Ye){const ht=W.model($e,se),Tt=se.writer.createElement("$marker",{"data-name":ht});se.writer.insert(Tt,Le),ee.modelCursor.isEqual(Le)?ee.modelCursor=ee.modelCursor.getShiftedBy(1):ee.modelCursor=ee.modelCursor._getTransformedByInsertion(Le,1),ee.modelRange=ee.modelRange._getTransformedByInsertion(Le,1)[0]}}(se.consumable.test(ee.viewItem,{attributes:ue+"-end-after"})||se.consumable.test(ee.viewItem,{attributes:ue+"-start-after"})||se.consumable.test(ee.viewItem,{attributes:ue+"-end-before"})||se.consumable.test(ee.viewItem,{attributes:ue+"-start-before"}))&&(ee.modelRange||Object.assign(ee,se.convertChildren(ee.viewItem,ee.modelCursor)),se.consumable.consume(ee.viewItem,{attributes:ue+"-end-after"})&&xe(ee.modelRange.end,ee.viewItem.getAttribute(ue+"-end-after").split(",")),se.consumable.consume(ee.viewItem,{attributes:ue+"-start-after"})&&xe(ee.modelRange.end,ee.viewItem.getAttribute(ue+"-start-after").split(",")),se.consumable.consume(ee.viewItem,{attributes:ue+"-end-before"})&&xe(ee.modelRange.start,ee.viewItem.getAttribute(ue+"-end-before").split(",")),se.consumable.consume(ee.viewItem,{attributes:ue+"-start-before"})&&xe(ee.modelRange.start,ee.viewItem.getAttribute(ue+"-start-before").split(",")))}}(a),{priority:b+N})}}(n))}}function SV(l){const n=rB(l=rc(l)),r=iB(l.view),a=r?`element:${r}`:"element";return g=>{g.on(a,n,{priority:l.converterPriority||"normal"})}}function iB(l){return typeof l=="string"?l:typeof l=="object"&&typeof l.name=="string"?l.name:null}function rB(l){const n=new ss(l.view);return(r,a,g)=>{const h=n.match(a.viewItem);if(!h)return;const f=h.match;if(f.name=!0,!g.consumable.test(a.viewItem,f))return;const b=function(S,N,W){return S instanceof Function?S(N,W):W.writer.createElement(S)}(l.model,a.viewItem,g);b&&g.safeInsert(b,a.modelCursor)&&(g.consumable.consume(a.viewItem,f),g.convertChildren(a.viewItem,b),g.updateConversionResult(b,a))}}function ZV(l,n=null){const r=n===null||(h=>h.getAttribute(n)),a=typeof l.model!="object"?l.model:l.model.key,g=typeof l.model!="object"||l.model.value===void 0?r:l.model.value;l.model={key:a,value:g}}function GV(l,n){const r=new ss(l.view);return(a,g,h)=>{if(!g.modelRange&&n)return;const f=r.match(g.viewItem);if(!f||(function(W,J){const ee=typeof W=="function"?W(J):W;return typeof ee=="object"&&!iB(ee)?!1:!ee.classes&&!ee.attributes&&!ee.styles}(l.view,g.viewItem)?f.match.name=!0:delete f.match.name,!h.consumable.test(g.viewItem,f.match)))return;const b=l.model.key,S=typeof l.model.value=="function"?l.model.value(g.viewItem,h):l.model.value;if(S===null)return;g.modelRange||Object.assign(g,h.convertChildren(g.viewItem,g.modelCursor)),function(W,J,ee,se){let ue=!1;for(const xe of Array.from(W.getItems({shallow:ee})))se.schema.checkAttribute(xe,J.key)&&(ue=!0,xe.hasAttribute(J.key)||se.writer.setAttribute(J.key,J.value,xe));return ue}(g.modelRange,{key:b,value:S},n,h)&&(h.consumable.test(g.viewItem,{name:!0})&&(f.match.name=!0),h.consumable.consume(g.viewItem,f.match))}}function RV(l,n){return{view:`${l.view}-${n}`,model:(r,a)=>{const g=r.getAttribute("name"),h=l.model(g,a);return a.writer.createElement("$marker",{"data-name":h})}}}function Y8(l){l.document.registerPostFixer(n=>function(r,a){const g=a.document.selection,h=a.schema,f=[];let b=!1;for(const S of g.getRanges()){const N=NV(S,h);N&&!N.isEqual(S)?(f.push(N),b=!0):f.push(S)}return b&&r.setSelection(function(S){const N=[...S],W=new Set;let J=1;for(;J<N.length;){const ee=N[J],se=N.slice(0,J);for(const[ue,xe]of se.entries())if(!W.has(ue)){if(ee.isEqual(xe))W.add(ue);else if(ee.isIntersecting(xe)){W.add(ue),W.add(J);const Le=ee.getJoined(xe);N.push(Le)}}J++}return N.filter((ee,se)=>!W.has(se))}(f),{backward:g.isBackward}),!1}(n,l))}function NV(l,n){return l.isCollapsed?function(r,a){const g=r.start,h=a.getNearestSelectionRange(g);if(!h){const b=g.getAncestors().reverse().find(S=>a.isObject(S));return b?vt._createOn(b):null}if(!h.isCollapsed)return h;const f=h.start;return g.isEqual(f)?null:new vt(f)}(l,n):function(r,a){const{start:g,end:h}=r,f=a.checkChild(g,"$text"),b=a.checkChild(h,"$text"),S=a.getLimitElement(g),N=a.getLimitElement(h);if(S===N){if(f&&b)return null;if(function(ee,se,ue){const xe=ee.nodeAfter&&!ue.isLimit(ee.nodeAfter)||ue.checkChild(ee,"$text"),Le=se.nodeBefore&&!ue.isLimit(se.nodeBefore)||ue.checkChild(se,"$text");return xe||Le}(g,h,a)){const ee=g.nodeAfter&&a.isSelectable(g.nodeAfter)?null:a.getNearestSelectionRange(g,"forward"),se=h.nodeBefore&&a.isSelectable(h.nodeBefore)?null:a.getNearestSelectionRange(h,"backward"),ue=ee?ee.start:g,xe=se?se.end:h;return new vt(ue,xe)}}const W=S&&!S.is("rootElement"),J=N&&!N.is("rootElement");if(W||J){const ee=g.nodeAfter&&h.nodeBefore&&g.nodeAfter.parent===h.nodeBefore.parent,se=W&&(!ee||!VV(g.nodeAfter,a)),ue=J&&(!ee||!VV(h.nodeBefore,a));let xe=g,Le=h;return se&&(xe=Pt._createBefore(_V(S,a))),ue&&(Le=Pt._createAfter(_V(N,a))),new vt(xe,Le)}return null}(l,n)}function _V(l,n){let r=l,a=r;for(;n.isLimit(a)&&a.parent;)r=a,a=a.parent;return r}function VV(l,n){return l&&n.isSelectable(l)}class J8 extends at(){constructor(n,r){super(),this.model=n,this.view=new C8(r),this.mapper=new oV,this.downcastDispatcher=new cV({mapper:this.mapper,schema:n.schema});const a=this.model.document,g=a.selection,h=this.model.markers;var f,b,S;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(a,"change",()=>{this.view.change(N=>{this.downcastDispatcher.convertChanges(a.differ,h,N),this.downcastDispatcher.convertSelection(g,h,N)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(N,W){return(J,ee)=>{const se=ee.newSelection,ue=[];for(const Le of se.getRanges())ue.push(W.toModelRange(Le));const xe=N.createSelection(ue,{backward:se.isBackward});xe.isEqual(N.document.selection)||N.change(Le=>{Le.setSelection(xe)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(f=this.mapper,b=this.model.schema,S=this.view,(N,W)=>{if(!S.document.isComposing||x.isAndroid)for(let J=0;J<W.targetRanges.length;J++){const ee=W.targetRanges[J],se=f.toModelRange(ee),ue=NV(se,b);ue&&!ue.isEqual(se)&&(W.targetRanges[J]=f.toViewRange(ue))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(N,W,J)=>{if(!J.consumable.consume(W.item,N.name))return;const ee=J.writer,se=J.mapper.toViewPosition(W.range.start),ue=ee.createText(W.item.data);ee.insert(se,ue)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(N,W,J)=>{J.convertAttributes(W.item),W.reconversion||!W.item.is("element")||W.item.isEmpty||J.convertChildren(W.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(N,W,J)=>{const ee=J.mapper.toViewPosition(W.position),se=W.position.getShiftedBy(W.length),ue=J.mapper.toViewPosition(se,{isPhantom:!0}),xe=J.writer.createRange(ee,ue),Le=J.writer.remove(xe.getTrimmed());for(const Ye of J.writer.createRangeIn(Le).getItems())J.mapper.unbindViewElement(Ye,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(N,W,J)=>{const ee=J.writer,se=ee.document.selection;for(const ue of se.getRanges())ue.isCollapsed&&ue.end.parent.isAttached()&&J.writer.mergeAttributes(ue.start);ee.setSelection(null)}),this.downcastDispatcher.on("selection",(N,W,J)=>{const ee=W.selection;if(ee.isCollapsed||!J.consumable.consume(ee,"selection"))return;const se=[];for(const ue of ee.getRanges())se.push(J.mapper.toViewRange(ue));J.writer.setSelection(se,{backward:ee.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(N,W,J)=>{const ee=W.selection;if(!ee.isCollapsed||!J.consumable.consume(ee,"selection"))return;const se=J.writer,ue=ee.getFirstPosition(),xe=J.mapper.toViewPosition(ue),Le=se.breakAttributes(xe);se.setSelection(Le)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(N=>{if(N.rootName=="$graveyard")return null;const W=new dm(this.view.document,N.name);return W.rootName=N.rootName,this.mapper.bindElements(N,W),W})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(n){const r=typeof n=="string"?n:n.name,a=this.model.markers.get(r);if(!a)throw new P("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:r});this.model.change(()=>{this.model.markers._refresh(a)})}reconvertItem(n){this.model.change(()=>{this.model.document.differ._refreshItem(n)})}}class KC{constructor(){this._consumables=new Map}add(n,r){let a;n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):(this._consumables.has(n)?a=this._consumables.get(n):(a=new U8(n),this._consumables.set(n,a)),a.add(r))}test(n,r){const a=this._consumables.get(n);return a===void 0?null:n.is("$text")||n.is("documentFragment")?a:a.test(r)}consume(n,r){return!!this.test(n,r)&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!1):this._consumables.get(n).consume(r),!0)}revert(n,r){const a=this._consumables.get(n);a!==void 0&&(n.is("$text")||n.is("documentFragment")?this._consumables.set(n,!0):a.revert(r))}static consumablesFromElement(n){const r={element:n,name:!0,attributes:[],classes:[],styles:[]},a=n.getAttributeKeys();for(const f of a)f!="style"&&f!="class"&&r.attributes.push(f);const g=n.getClassNames();for(const f of g)r.classes.push(f);const h=n.getStyleNames();for(const f of h)r.styles.push(f);return r}static createFrom(n,r){if(r||(r=new KC),n.is("$text"))return r.add(n),r;n.is("element")&&r.add(n,KC.consumablesFromElement(n)),n.is("documentFragment")&&r.add(n);for(const a of n.getChildren())r=KC.createFrom(a,r);return r}}const x0=["attributes","classes","styles"];class U8{constructor(n){this.element=n,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(n){n.name&&(this._canConsumeName=!0);for(const r of x0)r in n&&this._add(r,n[r])}test(n){if(n.name&&!this._canConsumeName)return this._canConsumeName;for(const r of x0)if(r in n){const a=this._test(r,n[r]);if(a!==!0)return a}return!0}consume(n){n.name&&(this._canConsumeName=!1);for(const r of x0)r in n&&this._consume(r,n[r])}revert(n){n.name&&(this._canConsumeName=!0);for(const r of x0)r in n&&this._revert(r,n[r])}_add(n,r){const a=Li(r),g=this._consumables[n];for(const h of a){if(n==="attributes"&&(h==="class"||h==="style"))throw new P("viewconsumable-invalid-attribute",this);if(g.set(h,!0),n==="styles")for(const f of this.element.document.stylesProcessor.getRelatedStyles(h))g.set(f,!0)}}_test(n,r){const a=Li(r),g=this._consumables[n];for(const h of a)if(n!=="attributes"||h!=="class"&&h!=="style"){const f=g.get(h);if(f===void 0)return null;if(!f)return!1}else{const f=h=="class"?"classes":"styles",b=this._test(f,[...this._consumables[f].keys()]);if(b!==!0)return b}return!0}_consume(n,r){const a=Li(r),g=this._consumables[n];for(const h of a)if(n!=="attributes"||h!=="class"&&h!=="style"){if(g.set(h,!1),n=="styles")for(const f of this.element.document.stylesProcessor.getRelatedStyles(h))g.set(f,!1)}else{const f=h=="class"?"classes":"styles";this._consume(f,[...this._consumables[f].keys()])}}_revert(n,r){const a=Li(r),g=this._consumables[n];for(const h of a)if(n!=="attributes"||h!=="class"&&h!=="style")g.get(h)===!1&&g.set(h,!0);else{const f=h=="class"?"classes":"styles";this._revert(f,[...this._consumables[f].keys()])}}}class P8 extends at(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(n,r)=>{r[0]=new Vu(r[0])},{priority:"highest"}),this.on("checkChild",(n,r)=>{r[0]=new Vu(r[0]),r[1]=this.getDefinition(r[1])},{priority:"highest"})}register(n,r){if(this._sourceDefinitions[n])throw new P("schema-cannot-register-item-twice",this,{itemName:n});this._sourceDefinitions[n]=[Object.assign({},r)],this._clearCache()}extend(n,r){if(!this._sourceDefinitions[n])throw new P("schema-cannot-extend-missing-item",this,{itemName:n});this._sourceDefinitions[n].push(Object.assign({},r)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(n){let r;return r=typeof n=="string"?n:"is"in n&&(n.is("$text")||n.is("$textProxy"))?"$text":n.name,this.getDefinitions()[r]}isRegistered(n){return!!this.getDefinition(n)}isBlock(n){const r=this.getDefinition(n);return!(!r||!r.isBlock)}isLimit(n){const r=this.getDefinition(n);return!!r&&!(!r.isLimit&&!r.isObject)}isObject(n){const r=this.getDefinition(n);return!!r&&!!(r.isObject||r.isLimit&&r.isSelectable&&r.isContent)}isInline(n){const r=this.getDefinition(n);return!(!r||!r.isInline)}isSelectable(n){const r=this.getDefinition(n);return!!r&&!(!r.isSelectable&&!r.isObject)}isContent(n){const r=this.getDefinition(n);return!!r&&!(!r.isContent&&!r.isObject)}checkChild(n,r){return!!r&&this._checkContextMatch(r,n)}checkAttribute(n,r){const a=this.getDefinition(n.last);return!!a&&a.allowAttributes.includes(r)}checkMerge(n,r){if(n instanceof Pt){const a=n.nodeBefore,g=n.nodeAfter;if(!(a instanceof Pi))throw new P("schema-check-merge-no-element-before",this);if(!(g instanceof Pi))throw new P("schema-check-merge-no-element-after",this);return this.checkMerge(a,g)}for(const a of r.getChildren())if(!this.checkChild(n,a))return!1;return!0}addChildCheck(n){this.on("checkChild",(r,[a,g])=>{if(!g)return;const h=n(a,g);typeof h=="boolean"&&(r.stop(),r.return=h)},{priority:"high"})}addAttributeCheck(n){this.on("checkAttribute",(r,[a,g])=>{const h=n(a,g);typeof h=="boolean"&&(r.stop(),r.return=h)},{priority:"high"})}setAttributeProperties(n,r){this._attributeProperties[n]=Object.assign(this.getAttributeProperties(n),r)}getAttributeProperties(n){return this._attributeProperties[n]||{}}getLimitElement(n){let r;for(n instanceof Pt?r=n.parent:r=(n instanceof vt?[n]:Array.from(n.getRanges())).reduce((a,g)=>{const h=g.getCommonAncestor();return a?a.getCommonAncestor(h,{includeSelf:!0}):h},null);!this.isLimit(r)&&r.parent;)r=r.parent;return r}checkAttributeInSelection(n,r){if(n.isCollapsed){const a=[...n.getFirstPosition().getAncestors(),new $i("",n.getAttributes())];return this.checkAttribute(a,r)}{const a=n.getRanges();for(const g of a)for(const h of g)if(this.checkAttribute(h.item,r))return!0}return!1}*getValidRanges(n,r){n=function*(a){for(const g of a)yield*g.getMinimalFlatRanges()}(n);for(const a of n)yield*this._getValidRangesForRange(a,r)}getNearestSelectionRange(n,r="both"){if(n.root.rootName=="$graveyard")return null;if(this.checkChild(n,"$text"))return new vt(n);let a,g;const h=n.getAncestors().reverse().find(f=>this.isLimit(f))||n.root;r!="both"&&r!="backward"||(a=new Jg({boundaries:vt._createIn(h),startPosition:n,direction:"backward"})),r!="both"&&r!="forward"||(g=new Jg({boundaries:vt._createIn(h),startPosition:n}));for(const f of function*(b,S){let N=!1;for(;!N;){if(N=!0,b){const W=b.next();W.done||(N=!1,yield{walker:b,value:W.value})}if(S){const W=S.next();W.done||(N=!1,yield{walker:S,value:W.value})}}}(a,g)){const b=f.walker==a?"elementEnd":"elementStart",S=f.value;if(S.type==b&&this.isObject(S.item))return vt._createOn(S.item);if(this.checkChild(S.nextPosition,"$text"))return new vt(S.nextPosition)}return null}findAllowedParent(n,r){let a=n.parent;for(;a;){if(this.checkChild(a,r))return a;if(this.isLimit(a))return null;a=a.parent}return null}setAllowedAttributes(n,r,a){const g=a.model;for(const[h,f]of Object.entries(r))g.schema.checkAttribute(n,h)&&a.setAttribute(h,f,n)}removeDisallowedAttributes(n,r){for(const a of n)if(a.is("$text"))EV(this,a,r);else{const g=vt._createIn(a).getPositions();for(const h of g)EV(this,h.nodeBefore||h.parent,r)}}getAttributesWithProperty(n,r,a){const g={};for(const[h,f]of n.getAttributes()){const b=this.getAttributeProperties(h);b[r]!==void 0&&(a!==void 0&&a!==b[r]||(g[h]=f))}return g}createContext(n){return new Vu(n)}_clearCache(){this._compiledDefinitions=null}_compile(){const n={},r=this._sourceDefinitions,a=Object.keys(r);for(const g of a)n[g]=K8(r[g],g);for(const g of a)z8(n,g);for(const g of a)Q8(n,g);for(const g of a)j8(n,g);for(const g of a)O8(n,g),q8(n,g);for(const g of a)$8(n,g),e7(n,g),t7(n,g);this._compiledDefinitions=n}_checkContextMatch(n,r,a=r.length-1){const g=r.getItem(a);if(n.allowIn.includes(g.name)){if(a==0)return!0;{const h=this.getDefinition(g);return this._checkContextMatch(h,r,a-1)}}return!1}*_getValidRangesForRange(n,r){let a=n.start,g=n.start;for(const h of n.getItems({shallow:!0}))h.is("element")&&(yield*this._getValidRangesForRange(vt._createIn(h),r)),this.checkAttribute(h,r)||(a.isEqual(g)||(yield new vt(a,g)),a=Pt._createAfter(h)),g=Pt._createAfter(h);a.isEqual(g)||(yield new vt(a,g))}findOptimalInsertionRange(n,r){const a=n.getSelectedElement();if(a&&this.isObject(a)&&!this.isInline(a))return r=="before"||r=="after"?new vt(Pt._createAt(a,r)):vt._createOn(a);const g=Io(n.getSelectedBlocks());if(!g)return new vt(n.focus);if(g.isEmpty)return new vt(Pt._createAt(g,0));const h=Pt._createAfter(g);return n.focus.isTouching(h)?new vt(h):new vt(Pt._createBefore(g))}}class Vu{constructor(n){if(n instanceof Vu)return n;let r;r=typeof n=="string"?[n]:Array.isArray(n)?n:n.getAncestors({includeSelf:!0}),this._items=r.map(i7)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(n){const r=new Vu([n]);return r._items=[...this._items,...r._items],r}getItem(n){return this._items[n]}*getNames(){yield*this._items.map(n=>n.name)}endsWith(n){return Array.from(this.getNames()).join(" ").endsWith(n)}startsWith(n){return Array.from(this.getNames()).join(" ").startsWith(n)}}function K8(l,n){const r={name:n,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(a,g){for(const h of a){const f=Object.keys(h).filter(b=>b.startsWith("is"));for(const b of f)g[b]=!!h[b]}}(l,r),Eu(l,r,"allowIn"),Eu(l,r,"allowContentOf"),Eu(l,r,"allowWhere"),Eu(l,r,"allowAttributes"),Eu(l,r,"allowAttributesOf"),Eu(l,r,"allowChildren"),Eu(l,r,"inheritTypesFrom"),function(a,g){for(const h of a){const f=h.inheritAllFrom;f&&(g.allowContentOf.push(f),g.allowWhere.push(f),g.allowAttributesOf.push(f),g.inheritTypesFrom.push(f))}}(l,r),r}function z8(l,n){const r=l[n];for(const a of r.allowChildren){const g=l[a];g&&g.allowIn.push(n)}r.allowChildren.length=0}function Q8(l,n){for(const r of l[n].allowContentOf)l[r]&&n7(l,r).forEach(a=>{a.allowIn.push(n)});delete l[n].allowContentOf}function j8(l,n){for(const r of l[n].allowWhere){const a=l[r];if(a){const g=a.allowIn;l[n].allowIn.push(...g)}}delete l[n].allowWhere}function O8(l,n){for(const r of l[n].allowAttributesOf){const a=l[r];if(a){const g=a.allowAttributes;l[n].allowAttributes.push(...g)}}delete l[n].allowAttributesOf}function q8(l,n){const r=l[n];for(const a of r.inheritTypesFrom){const g=l[a];if(g){const h=Object.keys(g).filter(f=>f.startsWith("is"));for(const f of h)f in r||(r[f]=g[f])}}delete r.inheritTypesFrom}function $8(l,n){const r=l[n],a=r.allowIn.filter(g=>l[g]);r.allowIn=Array.from(new Set(a))}function e7(l,n){const r=l[n];for(const a of r.allowIn)l[a].allowChildren.push(n)}function t7(l,n){const r=l[n];r.allowAttributes=Array.from(new Set(r.allowAttributes))}function Eu(l,n,r){for(const a of l){const g=a[r];typeof g=="string"?n[r].push(g):Array.isArray(g)&&n[r].push(...g)}}function n7(l,n){const r=l[n];return(a=l,Object.keys(a).map(g=>a[g])).filter(g=>g.allowIn.includes(r.name));var a}function i7(l){return typeof l=="string"||l.is("documentFragment")?{name:typeof l=="string"?l:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:l.is("element")?l.name:"$text",*getAttributeKeys(){yield*l.getAttributeKeys()},getAttribute:n=>l.getAttribute(n)}}function EV(l,n,r){for(const a of n.getAttributeKeys())l.checkAttribute(n,a)||r.removeAttribute(a,n)}var r7=Object.defineProperty,o7=Object.defineProperties,s7=Object.getOwnPropertyDescriptors,FV=Object.getOwnPropertySymbols,a7=Object.prototype.hasOwnProperty,l7=Object.prototype.propertyIsEnumerable,WV=(l,n,r)=>n in l?r7(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r;class c7 extends fe(){constructor(n){var r;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(r=((a,g)=>{for(var h in g||(g={}))a7.call(g,h)&&WV(a,h,g[h]);if(FV)for(var h of FV(g))l7.call(g,h)&&WV(a,h,g[h]);return a})({},n),o7(r,s7({consumable:null,writer:null,store:null,convertItem:(a,g)=>this._convertItem(a,g),convertChildren:(a,g)=>this._convertChildren(a,g),safeInsert:(a,g)=>this._safeInsert(a,g),updateConversionResult:(a,g)=>this._updateConversionResult(a,g),splitToAllowedParent:(a,g)=>this._splitToAllowedParent(a,g),getSplitParts:a=>this._getSplitParts(a),keepEmptyElement:a=>this._keepEmptyElement(a)})))}convert(n,r,a=["$root"]){this.fire("viewCleanup",n),this._modelCursor=function(f,b){let S;for(const N of new Vu(f)){const W={};for(const ee of N.getAttributeKeys())W[ee]=N.getAttribute(ee);const J=b.createElement(N.name,W);S&&b.insert(J,S),S=Pt._createAt(J,0)}return S}(a,r),this.conversionApi.writer=r,this.conversionApi.consumable=KC.createFrom(n),this.conversionApi.store={};const{modelRange:g}=this._convertItem(n,this._modelCursor),h=r.createDocumentFragment();if(g){this._removeEmptyElements();for(const f of Array.from(this._modelCursor.parent.getChildren()))r.append(f,h);h.markers=function(f,b){const S=new Set,N=new Map,W=vt._createIn(f).getItems();for(const J of W)J.is("element","$marker")&&S.add(J);for(const J of S){const ee=J.getAttribute("data-name"),se=b.createPositionBefore(J);N.has(ee)?N.get(ee).end=se.clone():N.set(ee,new vt(se.clone())),b.remove(J)}return N}(h,r)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,h}_convertItem(n,r){const a={viewItem:n,modelCursor:r,modelRange:null};if(n.is("element")?this.fire(`element:${n.name}`,a,this.conversionApi):n.is("$text")?this.fire("text",a,this.conversionApi):this.fire("documentFragment",a,this.conversionApi),a.modelRange&&!(a.modelRange instanceof vt))throw new P("view-conversion-dispatcher-incorrect-result",this);return{modelRange:a.modelRange,modelCursor:a.modelCursor}}_convertChildren(n,r){let a=r.is("position")?r:Pt._createAt(r,0);const g=new vt(a);for(const h of Array.from(n.getChildren())){const f=this._convertItem(h,a);f.modelRange instanceof vt&&(g.end=f.modelRange.end,a=f.modelCursor)}return{modelRange:g,modelCursor:a}}_safeInsert(n,r){const a=this._splitToAllowedParent(n,r);return!!a&&(this.conversionApi.writer.insert(n,a.position),!0)}_updateConversionResult(n,r){const a=this._getSplitParts(n),g=this.conversionApi.writer;r.modelRange||(r.modelRange=g.createRange(g.createPositionBefore(n),g.createPositionAfter(a[a.length-1])));const h=this._cursorParents.get(n);r.modelCursor=h?g.createPositionAt(h,0):r.modelRange.end}_splitToAllowedParent(n,r){const{schema:a,writer:g}=this.conversionApi;let h=a.findAllowedParent(r,n);if(h){if(h===r.parent)return{position:r};this._modelCursor.parent.getAncestors().includes(h)&&(h=null)}if(!h)return wV(r,n,a)?{position:kV(r,g)}:null;const f=this.conversionApi.writer.split(r,h),b=[];for(const N of f.range.getWalker())if(N.type=="elementEnd")b.push(N.item);else{const W=b.pop(),J=N.item;this._registerSplitPair(W,J)}const S=f.range.end.parent;return this._cursorParents.set(n,S),{position:f.position,cursorParent:S}}_registerSplitPair(n,r){this._splitParts.has(n)||this._splitParts.set(n,[n]);const a=this._splitParts.get(n);this._splitParts.set(r,a),a.push(r)}_getSplitParts(n){let r;return r=this._splitParts.has(n)?this._splitParts.get(n):[n],r}_keepEmptyElement(n){this._emptyElementsToKeep.add(n)}_removeEmptyElements(){let n=!1;for(const r of this._splitParts.keys())r.isEmpty&&!this._emptyElementsToKeep.has(r)&&(this.conversionApi.writer.remove(r),this._splitParts.delete(r),n=!0);n&&this._removeEmptyElements()}}class g7{getHtml(n){const r=C.document.implementation.createHTMLDocument("").createElement("div");return r.appendChild(n),r.innerHTML}}class d7{constructor(n){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new I0(n,{renderingMode:"data"}),this.htmlWriter=new g7}toData(n){const r=this.domConverter.viewToDom(n);return this.htmlWriter.getHtml(r)}toView(n){const r=this._toDom(n);return this.domConverter.domToView(r,{skipComments:this.skipComments})}registerRawContentMatcher(n){this.domConverter.registerRawContentMatcher(n)}useFillerType(n){this.domConverter.blockFillerMode=n=="marked"?"markedNbsp":"nbsp"}_toDom(n){n.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(n=`<body>${n}</body>`);const r=this.domParser.parseFromString(n,"text/html"),a=r.createDocumentFragment(),g=r.body.childNodes;for(;g.length>0;)a.appendChild(g[0]);return a}}class A7 extends fe(){constructor(n,r){super(),this.model=n,this.mapper=new oV,this.downcastDispatcher=new cV({mapper:this.mapper,schema:n.schema}),this.downcastDispatcher.on("insert:$text",(a,g,h)=>{if(!h.consumable.consume(g.item,a.name))return;const f=h.writer,b=h.mapper.toViewPosition(g.range.start),S=f.createText(g.item.data);f.insert(b,S)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(a,g,h)=>{h.convertAttributes(g.item),g.reconversion||!g.item.is("element")||g.item.isEmpty||h.convertChildren(g.item)},{priority:"lowest"}),this.upcastDispatcher=new c7({schema:n.schema}),this.viewDocument=new p0(r),this.stylesProcessor=r,this.htmlProcessor=new d7(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new R_(this.viewDocument),this.upcastDispatcher.on("text",(a,g,{schema:h,consumable:f,writer:b})=>{let S=g.modelCursor;if(!f.test(g.viewItem))return;if(!h.checkChild(S,"$text")){if(!wV(S,"$text",h)||g.viewItem.data.trim().length==0)return;const W=S.nodeBefore;S=kV(S,b),W&&W.is("element","$marker")&&(b.move(b.createRangeOn(W),S),S=b.createPositionAfter(W))}f.consume(g.viewItem);const N=b.createText(g.viewItem.data);b.insert(N,S),g.modelRange=b.createRange(S,S.getShiftedBy(N.offsetSize)),g.modelCursor=g.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(a,g,h)=>{if(!g.modelRange&&h.consumable.consume(g.viewItem,{name:!0})){const{modelRange:f,modelCursor:b}=h.convertChildren(g.viewItem,g.modelCursor);g.modelRange=f,g.modelCursor=b}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(a,g,h)=>{if(!g.modelRange&&h.consumable.consume(g.viewItem,{name:!0})){const{modelRange:f,modelCursor:b}=h.convertChildren(g.viewItem,g.modelCursor);g.modelRange=f,g.modelCursor=b}},{priority:"lowest"}),at().prototype.decorate.call(this,"init"),at().prototype.decorate.call(this,"set"),at().prototype.decorate.call(this,"get"),at().prototype.decorate.call(this,"toView"),at().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},vV)},{priority:"lowest"})}get(n={}){const{rootName:r="main",trim:a="empty"}=n;if(!this._checkIfRootsExists([r]))throw new P("datacontroller-get-non-existent-root",this);const g=this.model.document.getRoot(r);return g.isAttached()||O("datacontroller-get-detached-root",this),a!=="empty"||this.model.hasContent(g,{ignoreWhitespaces:!0})?this.stringify(g,n):""}stringify(n,r={}){const a=this.toView(n,r);return this.processor.toData(a)}toView(n,r={}){const a=this.viewDocument,g=this._viewWriter;this.mapper.clearBindings();const h=vt._createIn(n),f=new Ru(a);this.mapper.bindElements(n,f);const b=n.is("documentFragment")?n.markers:function(S){const N=[],W=S.root.document;if(!W)return new Map;const J=vt._createIn(S);for(const ee of W.model.markers){const se=ee.getRange(),ue=se.isCollapsed,xe=se.start.isEqual(J.start)||se.end.isEqual(J.end);if(ue&&xe)N.push([ee.name,se]);else{const Le=J.getIntersection(se);Le&&N.push([ee.name,Le])}}return N.sort(([ee,se],[ue,xe])=>{if(se.end.compareWith(xe.start)!=="after")return 1;if(se.start.compareWith(xe.end)!=="before")return-1;switch(se.start.compareWith(xe.start)){case"before":return 1;case"after":return-1;default:switch(se.end.compareWith(xe.end)){case"before":return 1;case"after":return-1;default:return ue.localeCompare(ee)}}}),new Map(N)}(n);return this.downcastDispatcher.convert(h,b,g,r),f}init(n){if(this.model.document.version)throw new P("datacontroller-init-document-not-empty",this);let r={};if(typeof n=="string"?r.main=n:r=n,!this._checkIfRootsExists(Object.keys(r)))throw new P("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},a=>{for(const g of Object.keys(r)){const h=this.model.document.getRoot(g);a.insert(this.parse(r[g],h),h,0)}}),Promise.resolve()}set(n,r={}){let a={};if(typeof n=="string"?a.main=n:a=n,!this._checkIfRootsExists(Object.keys(a)))throw new P("datacontroller-set-non-existent-root",this);this.model.enqueueChange(r.batchType||{},g=>{g.setSelection(null),g.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const h of Object.keys(a)){const f=this.model.document.getRoot(h);g.remove(g.createRangeIn(f)),g.insert(this.parse(a[h],f),f,0)}})}parse(n,r="$root"){const a=this.processor.toView(n);return this.toModel(a,r)}toModel(n,r="$root"){return this.model.change(a=>this.upcastDispatcher.convert(n,a,r))}addStyleProcessorRules(n){n(this.stylesProcessor)}registerRawContentMatcher(n){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(n),this.htmlProcessor.registerRawContentMatcher(n)}destroy(){this.stopListening()}_checkIfRootsExists(n){for(const r of n)if(!this.model.document.getRoot(r))return!1;return!0}}class u7{constructor(n,r){this._helpers=new Map,this._downcast=Li(n),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Li(r),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(n,r){const a=this._downcast.includes(r);if(!this._upcast.includes(r)&&!a)throw new P("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:n,dispatchers:[r],isDowncast:a})}for(n){if(!this._helpers.has(n))throw new P("conversion-for-unknown-group",this);return this._helpers.get(n)}elementToElement(n){this.for("downcast").elementToElement(n);for(const{model:r,view:a}of oB(n))this.for("upcast").elementToElement({model:r,view:a,converterPriority:n.converterPriority})}attributeToElement(n){this.for("downcast").attributeToElement(n);for(const{model:r,view:a}of oB(n))this.for("upcast").elementToAttribute({view:a,model:r,converterPriority:n.converterPriority})}attributeToAttribute(n){this.for("downcast").attributeToAttribute(n);for(const{model:r,view:a}of oB(n))this.for("upcast").attributeToAttribute({view:a,model:r})}_createConversionHelpers({name:n,dispatchers:r,isDowncast:a}){if(this._helpers.has(n))throw new P("conversion-group-exists",this);const g=a?new N8(r):new M8(r);this._helpers.set(n,g)}}function*oB(l){if(l.model.values)for(const n of l.model.values){const r={key:l.model.key,value:n},a=l.view[n],g=l.upcastAlso?l.upcastAlso[n]:void 0;yield*HV(r,a,g)}else yield*HV(l.model,l.view,l.upcastAlso)}function*HV(l,n,r){if(yield{model:l,view:n},r)for(const a of Li(r))yield{model:l,view:a}}class La{constructor(n){this.baseVersion=n,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const n=Object.assign({},this);return n.__className=this.constructor.className,delete n.batch,delete n.isDocumentOperation,n}static get className(){return"Operation"}static fromJSON(n,r){return new this(n.baseVersion)}}function sB(l,n){const r=TV(n),a=r.reduce((f,b)=>f+b.offsetSize,0),g=l.parent;jC(l);const h=l.index;return g._insertChild(h,r),QC(g,h+r.length),QC(g,h),new vt(l,l.getShiftedBy(a))}function DV(l){if(!l.isFlat)throw new P("operation-utils-remove-range-not-flat",this);const n=l.start.parent;jC(l.start),jC(l.end);const r=n._removeChildren(l.start.index,l.end.index-l.start.index);return QC(n,l.start.index),r}function zC(l,n){if(!l.isFlat)throw new P("operation-utils-move-range-not-flat",this);const r=DV(l);return sB(n=n._getTransformedByDeletion(l.start,l.end.offset-l.start.offset),r)}function TV(l){const n=[];(function r(a){if(typeof a=="string")n.push(new $i(a));else if(a instanceof oc)n.push(new $i(a.data,a.getAttributes()));else if(a instanceof Nu)n.push(a);else if(kt(a))for(const g of a)r(g)})(l);for(let r=1;r<n.length;r++){const a=n[r],g=n[r-1];a instanceof $i&&g instanceof $i&&LV(a,g)&&(n.splice(r-1,2,new $i(g.data+a.data,g.getAttributes())),r--)}return n}function QC(l,n){const r=l.getChild(n-1),a=l.getChild(n);if(r&&a&&r.is("$text")&&a.is("$text")&&LV(r,a)){const g=new $i(r.data+a.data,r.getAttributes());l._removeChildren(n-1,2),l._insertChild(n-1,g)}}function jC(l){const n=l.textNode,r=l.parent;if(n){const a=l.offset-n.startOffset,g=n.index;r._removeChildren(g,1);const h=new $i(n.data.substr(0,a),n.getAttributes()),f=new $i(n.data.substr(a),n.getAttributes());r._insertChild(g,[h,f])}}function LV(l,n){const r=l.getAttributes(),a=n.getAttributes();for(const g of r){if(g[1]!==n.getAttribute(g[0]))return!1;a.next()}return a.next().done}class ki extends La{constructor(n,r,a,g){super(g),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toNext",this.howMany=r,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[vt._createFromPositionAndShift(this.sourcePosition,this.howMany),vt._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new ki(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const n=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new ki(this.getMovedRangeStart(),this.howMany,n,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,r=this.targetPosition.parent,a=this.sourcePosition.offset,g=this.targetPosition.offset;if(a+this.howMany>n.maxOffset)throw new P("move-operation-nodes-do-not-exist",this);if(n===r&&a<g&&g<a+this.howMany)throw new P("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&yt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const h=this.sourcePosition.path.length-1;if(this.targetPosition.path[h]>=a&&this.targetPosition.path[h]<a+this.howMany)throw new P("move-operation-node-into-itself",this)}}_execute(){zC(vt._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n.targetPosition=this.targetPosition.toJSON(),n}static get className(){return"MoveOperation"}static fromJSON(n,r){const a=Pt.fromJSON(n.sourcePosition,r),g=Pt.fromJSON(n.targetPosition,r);return new this(a,n.howMany,g,n.baseVersion)}}class Uo extends La{constructor(n,r,a){super(a),this.position=n.clone(),this.position.stickiness="toNone",this.nodes=new YC(TV(r)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const n=new YC([...this.nodes].map(a=>a._clone(!0))),r=new Uo(this.position,n,this.baseVersion);return r.shouldReceiveAttributes=this.shouldReceiveAttributes,r}getReversed(){const n=this.position.root.document.graveyard,r=new Pt(n,[0]);return new ki(this.position,this.nodes.maxOffset,r,this.baseVersion+1)}_validate(){const n=this.position.parent;if(!n||n.maxOffset<this.position.offset)throw new P("insert-operation-position-invalid",this)}_execute(){const n=this.nodes;this.nodes=new YC([...n].map(r=>r._clone(!0))),sB(this.position,n)}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n.nodes=this.nodes.toJSON(),n}static get className(){return"InsertOperation"}static fromJSON(n,r){const a=[];for(const h of n.nodes)h.name?a.push(Pi.fromJSON(h)):a.push($i.fromJSON(h));const g=new Uo(Pt.fromJSON(n.position,r),a,n.baseVersion);return g.shouldReceiveAttributes=n.shouldReceiveAttributes,g}}class er extends La{constructor(n,r,a,g,h){super(h),this.splitPosition=n.clone(),this.splitPosition.stickiness="toNext",this.howMany=r,this.insertionPosition=a,this.graveyardPosition=g?g.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const n=this.insertionPosition.path.slice();return n.push(0),new Pt(this.insertionPosition.root,n)}get movedRange(){const n=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new vt(this.splitPosition,n)}get affectedSelectable(){const n=[vt._createFromPositionAndShift(this.splitPosition,0),vt._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&n.push(vt._createFromPositionAndShift(this.graveyardPosition,0)),n}clone(){return new er(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.splitPosition.root.document.graveyard,r=new Pt(n,[0]);return new Yr(this.moveTargetPosition,this.howMany,this.splitPosition,r,this.baseVersion+1)}_validate(){const n=this.splitPosition.parent,r=this.splitPosition.offset;if(!n||n.maxOffset<r)throw new P("split-operation-position-invalid",this);if(!n.parent)throw new P("split-operation-split-in-root",this);if(this.howMany!=n.maxOffset-this.splitPosition.offset)throw new P("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new P("split-operation-graveyard-position-invalid",this)}_execute(){const n=this.splitPosition.parent;if(this.graveyardPosition)zC(vt._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const r=n._clone();sB(this.insertionPosition,r)}zC(new vt(Pt._createAt(n,this.splitPosition.offset),Pt._createAt(n,n.maxOffset)),this.moveTargetPosition)}toJSON(){const n=super.toJSON();return n.splitPosition=this.splitPosition.toJSON(),n.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(n.graveyardPosition=this.graveyardPosition.toJSON()),n}static get className(){return"SplitOperation"}static getInsertionPosition(n){const r=n.path.slice(0,-1);return r[r.length-1]++,new Pt(n.root,r,"toPrevious")}static fromJSON(n,r){const a=Pt.fromJSON(n.splitPosition,r),g=Pt.fromJSON(n.insertionPosition,r),h=n.graveyardPosition?Pt.fromJSON(n.graveyardPosition,r):null;return new this(a,n.howMany,g,h,n.baseVersion)}}class Yr extends La{constructor(n,r,a,g,h){super(h),this.sourcePosition=n.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=r,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=g.clone()}get type(){return"merge"}get deletionPosition(){return new Pt(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const n=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new vt(this.sourcePosition,n)}get affectedSelectable(){const n=this.sourcePosition.parent;return[vt._createOn(n),vt._createFromPositionAndShift(this.targetPosition,0),vt._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Yr(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const n=this.targetPosition._getTransformedByMergeOperation(this),r=this.sourcePosition.path.slice(0,-1),a=new Pt(this.sourcePosition.root,r)._getTransformedByMergeOperation(this);return new er(n,this.howMany,a,this.graveyardPosition,this.baseVersion+1)}_validate(){const n=this.sourcePosition.parent,r=this.targetPosition.parent;if(!n.parent)throw new P("merge-operation-source-position-invalid",this);if(!r.parent)throw new P("merge-operation-target-position-invalid",this);if(this.howMany!=n.maxOffset)throw new P("merge-operation-how-many-invalid",this)}_execute(){const n=this.sourcePosition.parent;zC(vt._createIn(n),this.targetPosition),zC(vt._createOn(n),this.graveyardPosition)}toJSON(){const n=super.toJSON();return n.sourcePosition=n.sourcePosition.toJSON(),n.targetPosition=n.targetPosition.toJSON(),n.graveyardPosition=n.graveyardPosition.toJSON(),n}static get className(){return"MergeOperation"}static fromJSON(n,r){const a=Pt.fromJSON(n.sourcePosition,r),g=Pt.fromJSON(n.targetPosition,r),h=Pt.fromJSON(n.graveyardPosition,r);return new this(a,n.howMany,g,h,n.baseVersion)}}class aa extends La{constructor(n,r,a,g,h,f){super(f),this.name=n,this.oldRange=r?r.clone():null,this.newRange=a?a.clone():null,this.affectsData=h,this._markers=g}get type(){return"marker"}get affectedSelectable(){const n=[];return this.oldRange&&n.push(this.oldRange.clone()),this.newRange&&(this.oldRange?n.push(...this.newRange.getDifference(this.oldRange)):n.push(this.newRange.clone())),n}clone(){return new aa(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new aa(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const n=super.toJSON();return this.oldRange&&(n.oldRange=this.oldRange.toJSON()),this.newRange&&(n.newRange=this.newRange.toJSON()),delete n._markers,n}static get className(){return"MarkerOperation"}static fromJSON(n,r){return new aa(n.name,n.oldRange?vt.fromJSON(n.oldRange,r):null,n.newRange?vt.fromJSON(n.newRange,r):null,r.model.markers,n.affectsData,n.baseVersion)}}const XV=function(l,n){return v0(l,n)};class io extends La{constructor(n,r,a,g,h){super(h),this.range=n.clone(),this.key=r,this.oldValue=a===void 0?null:a,this.newValue=g===void 0?null:g}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new io(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new io(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const n=super.toJSON();return n.range=this.range.toJSON(),n}_validate(){if(!this.range.isFlat)throw new P("attribute-operation-range-not-flat",this);for(const n of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!XV(n.getAttribute(this.key),this.oldValue))throw new P("attribute-operation-wrong-old-value",this,{item:n,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&n.hasAttribute(this.key))throw new P("attribute-operation-attribute-exists",this,{node:n,key:this.key})}}_execute(){XV(this.oldValue,this.newValue)||function(n,r,a){jC(n.start),jC(n.end);for(const g of n.getItems({shallow:!0})){const h=g.is("$textProxy")?g.textNode:g;a!==null?h._setAttribute(r,a):h._removeAttribute(r),QC(h.parent,h.index)}QC(n.end.parent,n.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(n,r){return new io(vt.fromJSON(n.range,r),n.key,n.oldValue,n.newValue,n.baseVersion)}}class No extends La{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new No(this.baseVersion)}getReversed(){return new No(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class la extends La{constructor(n,r,a,g){super(g),this.position=n,this.position.stickiness="toNext",this.oldName=r,this.newName=a}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new la(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new la(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const n=this.position.nodeAfter;if(!(n instanceof Pi))throw new P("rename-operation-wrong-position",this);if(n.name!==this.oldName)throw new P("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const n=super.toJSON();return n.position=this.position.toJSON(),n}static get className(){return"RenameOperation"}static fromJSON(n,r){return new la(Pt.fromJSON(n.position,r),n.oldName,n.newName,n.baseVersion)}}class Ug extends La{constructor(n,r,a,g,h){super(h),this.root=n,this.key=r,this.oldValue=a===void 0?null:a,this.newValue=g===void 0?null:g}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Ug(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Ug(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new P("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new P("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new P("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const n=super.toJSON();return n.root=this.root.toJSON(),n}static get className(){return"RootAttributeOperation"}static fromJSON(n,r){if(!r.getRoot(n.root))throw new P("rootattribute-operation-fromjson-no-root",this,{rootName:n.root});return new Ug(r.getRoot(n.root),n.key,n.oldValue,n.newValue,n.baseVersion)}}class $c extends La{constructor(n,r,a,g,h){super(h),this.rootName=n,this.elementName=r,this.isAdd=a,this._document=g,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new $c(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new $c(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const n=super.toJSON();return delete n._document,n}static get className(){return"RootOperation"}static fromJSON(n,r){return new $c(n.rootName,n.elementName,n.isAdd,r,n.baseVersion)}}const Il={};Il[io.className]=io,Il[Uo.className]=Uo,Il[aa.className]=aa,Il[ki.className]=ki,Il[No.className]=No,Il[La.className]=La,Il[la.className]=la,Il[Ug.className]=Ug,Il[$c.className]=$c,Il[er.className]=er,Il[Yr.className]=Yr;class h7{static fromJSON(n,r){return Il[n.__className].fromJSON(n,r)}}const aB=new Map;function Ii(l,n,r){let a=aB.get(l);a||(a=new Map,aB.set(l,a)),a.set(n,r)}function m7(l){return[l]}function MV(l,n,r={}){const a=function(g,h){const f=aB.get(g);return f&&f.has(h)?f.get(h):m7}(l.constructor,n.constructor);try{return a(l=l.clone(),n,r)}catch(g){throw g}}function p7(l,n,r){l=l.slice(),n=n.slice();const a=new C7(r.document,r.useRelations,r.forceWeakRemove);a.setOriginalOperations(l),a.setOriginalOperations(n);const g=a.originalOperations;if(l.length==0||n.length==0)return{operationsA:l,operationsB:n,originalOperations:g};const h=new WeakMap;for(const S of l)h.set(S,0);const f={nextBaseVersionA:l[l.length-1].baseVersion+1,nextBaseVersionB:n[n.length-1].baseVersion+1,originalOperationsACount:l.length,originalOperationsBCount:n.length};let b=0;for(;b<l.length;){const S=l[b],N=h.get(S);if(N==n.length){b++;continue}const W=n[N],J=MV(S,W,a.getContext(S,W,!0)),ee=MV(W,S,a.getContext(W,S,!1));a.updateRelation(S,W),a.setOriginalOperations(J,S),a.setOriginalOperations(ee,W);for(const se of J)h.set(se,N+ee.length);l.splice(b,1,...J),n.splice(N,1,...ee)}return YV(l,f.nextBaseVersionB),YV(n,f.nextBaseVersionA),{operationsA:l,operationsB:n,originalOperations:g}}class C7{constructor(n,r,a=!1){this.originalOperations=new Map,this._history=n.history,this._useRelations=r,this._forceWeakRemove=!!a,this._relations=new Map}setOriginalOperations(n,r=null){const a=r?this.originalOperations.get(r):null;for(const g of n)this.originalOperations.set(g,a||g)}updateRelation(n,r){if(n instanceof ki)r instanceof Yr?n.targetPosition.isEqual(r.sourcePosition)||r.movedRange.containsPosition(n.targetPosition)?this._setRelation(n,r,"insertAtSource"):n.targetPosition.isEqual(r.deletionPosition)?this._setRelation(n,r,"insertBetween"):n.targetPosition.isAfter(r.sourcePosition)&&this._setRelation(n,r,"moveTargetAfter"):r instanceof ki&&(n.targetPosition.isEqual(r.sourcePosition)||n.targetPosition.isBefore(r.sourcePosition)?this._setRelation(n,r,"insertBefore"):this._setRelation(n,r,"insertAfter"));else if(n instanceof er){if(r instanceof Yr)n.splitPosition.isBefore(r.sourcePosition)&&this._setRelation(n,r,"splitBefore");else if(r instanceof ki)if(n.splitPosition.isEqual(r.sourcePosition)||n.splitPosition.isBefore(r.sourcePosition))this._setRelation(n,r,"splitBefore");else{const a=vt._createFromPositionAndShift(r.sourcePosition,r.howMany);if(n.splitPosition.hasSameParentAs(r.sourcePosition)&&a.containsPosition(n.splitPosition)){const g=a.end.offset-n.splitPosition.offset,h=n.splitPosition.offset-a.start.offset;this._setRelation(n,r,{howMany:g,offset:h})}}}else if(n instanceof Yr)r instanceof Yr?(n.targetPosition.isEqual(r.sourcePosition)||this._setRelation(n,r,"mergeTargetNotMoved"),n.sourcePosition.isEqual(r.targetPosition)&&this._setRelation(n,r,"mergeSourceNotMoved"),n.sourcePosition.isEqual(r.sourcePosition)&&this._setRelation(n,r,"mergeSameElement")):r instanceof er?n.sourcePosition.isEqual(r.splitPosition)&&this._setRelation(n,r,"splitAtSource"):r instanceof ki&&r.howMany>0&&(n.sourcePosition.isEqual(r.sourcePosition.getShiftedBy(r.howMany))&&this._setRelation(n,r,"mergeSourceAffected"),n.targetPosition.isEqual(r.sourcePosition)&&this._setRelation(n,r,"mergeTargetWasBefore"));else if(n instanceof aa){const a=n.newRange;if(!a)return;if(r instanceof ki){const g=vt._createFromPositionAndShift(r.sourcePosition,r.howMany),h=g.containsPosition(a.start)||g.start.isEqual(a.start),f=g.containsPosition(a.end)||g.end.isEqual(a.end);!h&&!f||g.containsRange(a)||this._setRelation(n,r,{side:h?"left":"right",path:h?a.start.path.slice():a.end.path.slice()})}else if(r instanceof Yr){const g=a.start.isEqual(r.targetPosition),h=a.start.isEqual(r.deletionPosition),f=a.end.isEqual(r.deletionPosition),b=a.end.isEqual(r.sourcePosition);(g||h||f||b)&&this._setRelation(n,r,{wasInLeftElement:g,wasStartBeforeMergedElement:h,wasEndBeforeMergedElement:f,wasInRightElement:b})}}}getContext(n,r,a){return{aIsStrong:a,aWasUndone:this._wasUndone(n),bWasUndone:this._wasUndone(r),abRelation:this._useRelations?this._getRelation(n,r):null,baRelation:this._useRelations?this._getRelation(r,n):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(n){const r=this.originalOperations.get(n);return r.wasUndone||this._history.isUndoneOperation(r)}_getRelation(n,r){const a=this.originalOperations.get(r),g=this._history.getUndoneOperation(a);if(!g)return null;const h=this.originalOperations.get(n),f=this._relations.get(h);return f&&f.get(g)||null}_setRelation(n,r,a){const g=this.originalOperations.get(n),h=this.originalOperations.get(r);let f=this._relations.get(g);f||(f=new Map,this._relations.set(g,f)),f.set(h,a)}}function YV(l,n){for(const r of l)r.baseVersion=n++}function JV(l,n,r){const a=l.nodes.getNode(0).getAttribute(n);if(a==r)return null;const g=new vt(l.position,l.position.getShiftedBy(l.howMany));return new io(g,n,a,r,0)}function UV(l,n){return l.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany)===null}function pm(l,n){const r=[];for(let a=0;a<l.length;a++){const g=l[a],h=new ki(g.start,g.end.offset-g.start.offset,n,0);r.push(h);for(let f=a+1;f<l.length;f++)l[f]=l[f]._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)[0];n=n._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)}return r}Ii(io,io,(l,n,r)=>{if(l.key===n.key&&l.range.start.hasSameParentAs(n.range.start)){const a=l.range.getDifference(n.range).map(h=>new io(h,l.key,l.oldValue,l.newValue,0)),g=l.range.getIntersection(n.range);return g&&r.aIsStrong&&a.push(new io(g,n.key,n.newValue,l.newValue,0)),a.length==0?[new No(0)]:a}return[l]}),Ii(io,Uo,(l,n)=>{if(l.range.start.hasSameParentAs(n.position)&&l.range.containsPosition(n.position)){const r=l.range._getTransformedByInsertion(n.position,n.howMany,!n.shouldReceiveAttributes).map(a=>new io(a,l.key,l.oldValue,l.newValue,l.baseVersion));if(n.shouldReceiveAttributes){const a=JV(n,l.key,l.oldValue);a&&r.unshift(a)}return r}return l.range=l.range._getTransformedByInsertion(n.position,n.howMany,!1)[0],[l]}),Ii(io,Yr,(l,n)=>{const r=[];l.range.start.hasSameParentAs(n.deletionPosition)&&(l.range.containsPosition(n.deletionPosition)||l.range.start.isEqual(n.deletionPosition))&&r.push(vt._createFromPositionAndShift(n.graveyardPosition,1));const a=l.range._getTransformedByMergeOperation(n);return a.isCollapsed||r.push(a),r.map(g=>new io(g,l.key,l.oldValue,l.newValue,l.baseVersion))}),Ii(io,ki,(l,n)=>function(a,g){const h=vt._createFromPositionAndShift(g.sourcePosition,g.howMany);let f=null,b=[];h.containsRange(a,!0)?f=a:a.start.hasSameParentAs(h.start)?(b=a.getDifference(h),f=a.getIntersection(h)):b=[a];const S=[];for(let N of b){N=N._getTransformedByDeletion(g.sourcePosition,g.howMany);const W=g.getMovedRangeStart(),J=N.start.hasSameParentAs(W),ee=N._getTransformedByInsertion(W,g.howMany,J);S.push(...ee)}return f&&S.push(f._getTransformedByMove(g.sourcePosition,g.targetPosition,g.howMany,!1)[0]),S}(l.range,n).map(a=>new io(a,l.key,l.oldValue,l.newValue,l.baseVersion))),Ii(io,er,(l,n)=>{if(l.range.end.isEqual(n.insertionPosition))return n.graveyardPosition||l.range.end.offset++,[l];if(l.range.start.hasSameParentAs(n.splitPosition)&&l.range.containsPosition(n.splitPosition)){const r=l.clone();return r.range=new vt(n.moveTargetPosition.clone(),l.range.end._getCombined(n.splitPosition,n.moveTargetPosition)),l.range.end=n.splitPosition.clone(),l.range.end.stickiness="toPrevious",[l,r]}return l.range=l.range._getTransformedBySplitOperation(n),[l]}),Ii(Uo,io,(l,n)=>{const r=[l];if(l.shouldReceiveAttributes&&l.position.hasSameParentAs(n.range.start)&&n.range.containsPosition(l.position)){const a=JV(l,n.key,n.newValue);a&&r.push(a)}return r}),Ii(Uo,Uo,(l,n,r)=>(l.position.isEqual(n.position)&&r.aIsStrong||(l.position=l.position._getTransformedByInsertOperation(n)),[l])),Ii(Uo,ki,(l,n)=>(l.position=l.position._getTransformedByMoveOperation(n),[l])),Ii(Uo,er,(l,n)=>(l.position=l.position._getTransformedBySplitOperation(n),[l])),Ii(Uo,Yr,(l,n)=>(l.position=l.position._getTransformedByMergeOperation(n),[l])),Ii(aa,Uo,(l,n)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByInsertOperation(n)[0]),l.newRange&&(l.newRange=l.newRange._getTransformedByInsertOperation(n)[0]),[l])),Ii(aa,aa,(l,n,r)=>{if(l.name==n.name){if(!r.aIsStrong)return[new No(0)];l.oldRange=n.newRange?n.newRange.clone():null}return[l]}),Ii(aa,Yr,(l,n)=>(l.oldRange&&(l.oldRange=l.oldRange._getTransformedByMergeOperation(n)),l.newRange&&(l.newRange=l.newRange._getTransformedByMergeOperation(n)),[l])),Ii(aa,ki,(l,n,r)=>{if(l.oldRange&&(l.oldRange=vt._createFromRanges(l.oldRange._getTransformedByMoveOperation(n))),l.newRange){if(r.abRelation){const a=vt._createFromRanges(l.newRange._getTransformedByMoveOperation(n));if(r.abRelation.side=="left"&&n.targetPosition.isEqual(l.newRange.start))return l.newRange.end=a.end,l.newRange.start.path=r.abRelation.path,[l];if(r.abRelation.side=="right"&&n.targetPosition.isEqual(l.newRange.end))return l.newRange.start=a.start,l.newRange.end.path=r.abRelation.path,[l]}l.newRange=vt._createFromRanges(l.newRange._getTransformedByMoveOperation(n))}return[l]}),Ii(aa,er,(l,n,r)=>{if(l.oldRange&&(l.oldRange=l.oldRange._getTransformedBySplitOperation(n)),l.newRange){if(r.abRelation){const a=l.newRange._getTransformedBySplitOperation(n);return l.newRange.start.isEqual(n.splitPosition)&&r.abRelation.wasStartBeforeMergedElement?l.newRange.start=Pt._createAt(n.insertionPosition):l.newRange.start.isEqual(n.splitPosition)&&!r.abRelation.wasInLeftElement&&(l.newRange.start=Pt._createAt(n.moveTargetPosition)),l.newRange.end.isEqual(n.splitPosition)&&r.abRelation.wasInRightElement?l.newRange.end=Pt._createAt(n.moveTargetPosition):l.newRange.end.isEqual(n.splitPosition)&&r.abRelation.wasEndBeforeMergedElement?l.newRange.end=Pt._createAt(n.insertionPosition):l.newRange.end=a.end,[l]}l.newRange=l.newRange._getTransformedBySplitOperation(n)}return[l]}),Ii(Yr,Uo,(l,n)=>(l.sourcePosition.hasSameParentAs(n.position)&&(l.howMany+=n.howMany),l.sourcePosition=l.sourcePosition._getTransformedByInsertOperation(n),l.targetPosition=l.targetPosition._getTransformedByInsertOperation(n),[l])),Ii(Yr,Yr,(l,n,r)=>{if(l.sourcePosition.isEqual(n.sourcePosition)&&l.targetPosition.isEqual(n.targetPosition)){if(r.bWasUndone){const a=n.graveyardPosition.path.slice();return a.push(0),l.sourcePosition=new Pt(n.graveyardPosition.root,a),l.howMany=0,[l]}return[new No(0)]}if(l.sourcePosition.isEqual(n.sourcePosition)&&!l.targetPosition.isEqual(n.targetPosition)&&!r.bWasUndone&&r.abRelation!="splitAtSource"){const a=l.targetPosition.root.rootName=="$graveyard",g=n.targetPosition.root.rootName=="$graveyard";if(g&&!a||!(a&&!g)&&r.aIsStrong){const h=n.targetPosition._getTransformedByMergeOperation(n),f=l.targetPosition._getTransformedByMergeOperation(n);return[new ki(h,l.howMany,f,0)]}return[new No(0)]}return l.sourcePosition.hasSameParentAs(n.targetPosition)&&(l.howMany+=n.howMany),l.sourcePosition=l.sourcePosition._getTransformedByMergeOperation(n),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(n),l.graveyardPosition.isEqual(n.graveyardPosition)&&r.aIsStrong||(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(n)),[l]}),Ii(Yr,ki,(l,n,r)=>{const a=vt._createFromPositionAndShift(n.sourcePosition,n.howMany);return n.type=="remove"&&!r.bWasUndone&&!r.forceWeakRemove&&l.deletionPosition.hasSameParentAs(n.sourcePosition)&&a.containsPosition(l.sourcePosition)?[new No(0)]:(n.sourcePosition.getShiftedBy(n.howMany).isEqual(l.sourcePosition)?l.sourcePosition.stickiness="toNone":n.targetPosition.isEqual(l.sourcePosition)&&r.abRelation=="mergeSourceAffected"?l.sourcePosition.stickiness="toNext":n.sourcePosition.isEqual(l.targetPosition)?(l.targetPosition.stickiness="toNone",l.howMany-=n.howMany):n.targetPosition.isEqual(l.targetPosition)&&r.abRelation=="mergeTargetWasBefore"?(l.targetPosition.stickiness="toPrevious",l.howMany+=n.howMany):(l.sourcePosition.hasSameParentAs(n.targetPosition)&&(l.howMany+=n.howMany),l.sourcePosition.hasSameParentAs(n.sourcePosition)&&(l.howMany-=n.howMany)),l.sourcePosition=l.sourcePosition._getTransformedByMoveOperation(n),l.targetPosition=l.targetPosition._getTransformedByMoveOperation(n),l.sourcePosition.stickiness="toPrevious",l.targetPosition.stickiness="toNext",l.graveyardPosition.isEqual(n.targetPosition)||(l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(n)),[l])}),Ii(Yr,er,(l,n,r)=>{if(n.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByDeletion(n.graveyardPosition,1),l.deletionPosition.isEqual(n.graveyardPosition)&&(l.howMany=n.howMany)),l.targetPosition.isEqual(n.splitPosition)){const a=n.howMany!=0,g=n.graveyardPosition&&l.deletionPosition.isEqual(n.graveyardPosition);if(a||g||r.abRelation=="mergeTargetNotMoved")return l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(n),[l]}if(l.sourcePosition.isEqual(n.splitPosition)){if(r.abRelation=="mergeSourceNotMoved")return l.howMany=0,l.targetPosition=l.targetPosition._getTransformedBySplitOperation(n),[l];if(r.abRelation=="mergeSameElement"||l.sourcePosition.offset>0)return l.sourcePosition=n.moveTargetPosition.clone(),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(n),[l]}return l.sourcePosition.hasSameParentAs(n.splitPosition)&&(l.howMany=n.splitPosition.offset),l.sourcePosition=l.sourcePosition._getTransformedBySplitOperation(n),l.targetPosition=l.targetPosition._getTransformedBySplitOperation(n),[l]}),Ii(ki,Uo,(l,n)=>{const r=vt._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByInsertOperation(n,!1)[0];return l.sourcePosition=r.start,l.howMany=r.end.offset-r.start.offset,l.targetPosition.isEqual(n.position)||(l.targetPosition=l.targetPosition._getTransformedByInsertOperation(n)),[l]}),Ii(ki,ki,(l,n,r)=>{const a=vt._createFromPositionAndShift(l.sourcePosition,l.howMany),g=vt._createFromPositionAndShift(n.sourcePosition,n.howMany);let h,f=r.aIsStrong,b=!r.aIsStrong;if(r.abRelation=="insertBefore"||r.baRelation=="insertAfter"?b=!0:r.abRelation!="insertAfter"&&r.baRelation!="insertBefore"||(b=!1),h=l.targetPosition.isEqual(n.targetPosition)&&b?l.targetPosition._getTransformedByDeletion(n.sourcePosition,n.howMany):l.targetPosition._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),UV(l,n)&&UV(n,l))return[n.getReversed()];if(a.containsPosition(n.targetPosition)&&a.containsRange(g,!0))return a.start=a.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),a.end=a.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),pm([a],h);if(g.containsPosition(l.targetPosition)&&g.containsRange(a,!0))return a.start=a.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),a.end=a.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),pm([a],h);const S=yt(l.sourcePosition.getParentPath(),n.sourcePosition.getParentPath());if(S=="prefix"||S=="extension")return a.start=a.start._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),a.end=a.end._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany),pm([a],h);l.type!="remove"||n.type=="remove"||r.aWasUndone||r.forceWeakRemove?l.type=="remove"||n.type!="remove"||r.bWasUndone||r.forceWeakRemove||(f=!1):f=!0;const N=[],W=a.getDifference(g);for(const ee of W){ee.start=ee.start._getTransformedByDeletion(n.sourcePosition,n.howMany),ee.end=ee.end._getTransformedByDeletion(n.sourcePosition,n.howMany);const se=yt(ee.start.getParentPath(),n.getMovedRangeStart().getParentPath())=="same",ue=ee._getTransformedByInsertion(n.getMovedRangeStart(),n.howMany,se);N.push(...ue)}const J=a.getIntersection(g);return J!==null&&f&&(J.start=J.start._getCombined(n.sourcePosition,n.getMovedRangeStart()),J.end=J.end._getCombined(n.sourcePosition,n.getMovedRangeStart()),N.length===0?N.push(J):N.length==1?g.start.isBefore(a.start)||g.start.isEqual(a.start)?N.unshift(J):N.push(J):N.splice(1,0,J)),N.length===0?[new No(l.baseVersion)]:pm(N,h)}),Ii(ki,er,(l,n,r)=>{let a=l.targetPosition.clone();l.targetPosition.isEqual(n.insertionPosition)&&n.graveyardPosition&&r.abRelation!="moveTargetAfter"||(a=l.targetPosition._getTransformedBySplitOperation(n));const g=vt._createFromPositionAndShift(l.sourcePosition,l.howMany);if(g.end.isEqual(n.insertionPosition))return n.graveyardPosition||l.howMany++,l.targetPosition=a,[l];if(g.start.hasSameParentAs(n.splitPosition)&&g.containsPosition(n.splitPosition)){let f=new vt(n.splitPosition,g.end);return f=f._getTransformedBySplitOperation(n),pm([new vt(g.start,n.splitPosition),f],a)}l.targetPosition.isEqual(n.splitPosition)&&r.abRelation=="insertAtSource"&&(a=n.moveTargetPosition),l.targetPosition.isEqual(n.insertionPosition)&&r.abRelation=="insertBetween"&&(a=l.targetPosition);const h=[g._getTransformedBySplitOperation(n)];if(n.graveyardPosition){const f=g.start.isEqual(n.graveyardPosition)||g.containsPosition(n.graveyardPosition);l.howMany>1&&f&&!r.aWasUndone&&h.push(vt._createFromPositionAndShift(n.insertionPosition,1))}return pm(h,a)}),Ii(ki,Yr,(l,n,r)=>{const a=vt._createFromPositionAndShift(l.sourcePosition,l.howMany);if(n.deletionPosition.hasSameParentAs(l.sourcePosition)&&a.containsPosition(n.sourcePosition)){if(l.type!="remove"||r.forceWeakRemove){if(l.howMany==1)return r.bWasUndone?(l.sourcePosition=n.graveyardPosition.clone(),l.targetPosition=l.targetPosition._getTransformedByMergeOperation(n),[l]):[new No(0)]}else if(!r.aWasUndone){const h=[];let f=n.graveyardPosition.clone(),b=n.targetPosition._getTransformedByMergeOperation(n);l.howMany>1&&(h.push(new ki(l.sourcePosition,l.howMany-1,l.targetPosition,0)),f=f._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1),b=b._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany-1));const S=n.deletionPosition._getCombined(l.sourcePosition,l.targetPosition),N=new ki(f,1,S,0),W=N.getMovedRangeStart().path.slice();W.push(0);const J=new Pt(N.targetPosition.root,W);b=b._getTransformedByMove(f,S,1);const ee=new ki(b,n.howMany,J,0);return h.push(N),h.push(ee),h}}const g=vt._createFromPositionAndShift(l.sourcePosition,l.howMany)._getTransformedByMergeOperation(n);return l.sourcePosition=g.start,l.howMany=g.end.offset-g.start.offset,l.targetPosition=l.targetPosition._getTransformedByMergeOperation(n),[l]}),Ii(la,Uo,(l,n)=>(l.position=l.position._getTransformedByInsertOperation(n),[l])),Ii(la,Yr,(l,n)=>l.position.isEqual(n.deletionPosition)?(l.position=n.graveyardPosition.clone(),l.position.stickiness="toNext",[l]):(l.position=l.position._getTransformedByMergeOperation(n),[l])),Ii(la,ki,(l,n)=>(l.position=l.position._getTransformedByMoveOperation(n),[l])),Ii(la,la,(l,n,r)=>{if(l.position.isEqual(n.position)){if(!r.aIsStrong)return[new No(0)];l.oldName=n.newName}return[l]}),Ii(la,er,(l,n)=>{if(yt(l.position.path,n.splitPosition.getParentPath())=="same"&&!n.graveyardPosition){const r=new la(l.position.getShiftedBy(1),l.oldName,l.newName,0);return[l,r]}return l.position=l.position._getTransformedBySplitOperation(n),[l]}),Ii(Ug,Ug,(l,n,r)=>{if(l.root===n.root&&l.key===n.key){if(!r.aIsStrong||l.newValue===n.newValue)return[new No(0)];l.oldValue=n.newValue}return[l]}),Ii($c,$c,(l,n)=>l.rootName===n.rootName&&l.isAdd===n.isAdd?[new No(0)]:[l]),Ii(er,Uo,(l,n)=>(l.splitPosition.hasSameParentAs(n.position)&&l.splitPosition.offset<n.position.offset&&(l.howMany+=n.howMany),l.splitPosition=l.splitPosition._getTransformedByInsertOperation(n),l.insertionPosition=l.insertionPosition._getTransformedByInsertOperation(n),[l])),Ii(er,Yr,(l,n,r)=>{if(!l.graveyardPosition&&!r.bWasUndone&&l.splitPosition.hasSameParentAs(n.sourcePosition)){const a=n.graveyardPosition.path.slice();a.push(0);const g=new Pt(n.graveyardPosition.root,a),h=er.getInsertionPosition(new Pt(n.graveyardPosition.root,a)),f=new er(g,0,h,null,0);return l.splitPosition=l.splitPosition._getTransformedByMergeOperation(n),l.insertionPosition=er.getInsertionPosition(l.splitPosition),l.graveyardPosition=f.insertionPosition.clone(),l.graveyardPosition.stickiness="toNext",[f,l]}return l.splitPosition.hasSameParentAs(n.deletionPosition)&&!l.splitPosition.isAfter(n.deletionPosition)&&l.howMany--,l.splitPosition.hasSameParentAs(n.targetPosition)&&(l.howMany+=n.howMany),l.splitPosition=l.splitPosition._getTransformedByMergeOperation(n),l.insertionPosition=er.getInsertionPosition(l.splitPosition),l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedByMergeOperation(n)),[l]}),Ii(er,ki,(l,n,r)=>{const a=vt._createFromPositionAndShift(n.sourcePosition,n.howMany);if(l.graveyardPosition){const h=a.start.isEqual(l.graveyardPosition)||a.containsPosition(l.graveyardPosition);if(!r.bWasUndone&&h){const f=l.splitPosition._getTransformedByMoveOperation(n),b=l.graveyardPosition._getTransformedByMoveOperation(n),S=b.path.slice();S.push(0);const N=new Pt(b.root,S);return[new ki(f,l.howMany,N,0)]}l.graveyardPosition=l.graveyardPosition._getTransformedByMoveOperation(n)}const g=l.splitPosition.isEqual(n.targetPosition);if(g&&(r.baRelation=="insertAtSource"||r.abRelation=="splitBefore"))return l.howMany+=n.howMany,l.splitPosition=l.splitPosition._getTransformedByDeletion(n.sourcePosition,n.howMany),l.insertionPosition=er.getInsertionPosition(l.splitPosition),[l];if(g&&r.abRelation&&r.abRelation.howMany){const{howMany:h,offset:f}=r.abRelation;return l.howMany+=h,l.splitPosition=l.splitPosition.getShiftedBy(f),[l]}if(l.splitPosition.hasSameParentAs(n.sourcePosition)&&a.containsPosition(l.splitPosition)){const h=n.howMany-(l.splitPosition.offset-n.sourcePosition.offset);return l.howMany-=h,l.splitPosition.hasSameParentAs(n.targetPosition)&&l.splitPosition.offset<n.targetPosition.offset&&(l.howMany+=n.howMany),l.splitPosition=n.sourcePosition.clone(),l.insertionPosition=er.getInsertionPosition(l.splitPosition),[l]}return n.sourcePosition.isEqual(n.targetPosition)||(l.splitPosition.hasSameParentAs(n.sourcePosition)&&l.splitPosition.offset<=n.sourcePosition.offset&&(l.howMany-=n.howMany),l.splitPosition.hasSameParentAs(n.targetPosition)&&l.splitPosition.offset<n.targetPosition.offset&&(l.howMany+=n.howMany)),l.splitPosition.stickiness="toNone",l.splitPosition=l.splitPosition._getTransformedByMoveOperation(n),l.splitPosition.stickiness="toNext",l.graveyardPosition?l.insertionPosition=l.insertionPosition._getTransformedByMoveOperation(n):l.insertionPosition=er.getInsertionPosition(l.splitPosition),[l]}),Ii(er,er,(l,n,r)=>{if(l.splitPosition.isEqual(n.splitPosition)){if(!l.graveyardPosition&&!n.graveyardPosition)return[new No(0)];if(l.graveyardPosition&&n.graveyardPosition&&l.graveyardPosition.isEqual(n.graveyardPosition))return[new No(0)];if(r.abRelation=="splitBefore")return l.howMany=0,l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(n),[l]}if(l.graveyardPosition&&n.graveyardPosition&&l.graveyardPosition.isEqual(n.graveyardPosition)){const a=l.splitPosition.root.rootName=="$graveyard",g=n.splitPosition.root.rootName=="$graveyard";if(g&&!a||!(a&&!g)&&r.aIsStrong){const h=[];return n.howMany&&h.push(new ki(n.moveTargetPosition,n.howMany,n.splitPosition,0)),l.howMany&&h.push(new ki(l.splitPosition,l.howMany,l.moveTargetPosition,0)),h}return[new No(0)]}if(l.graveyardPosition&&(l.graveyardPosition=l.graveyardPosition._getTransformedBySplitOperation(n)),l.splitPosition.isEqual(n.insertionPosition)&&r.abRelation=="splitBefore")return l.howMany++,[l];if(n.splitPosition.isEqual(l.insertionPosition)&&r.baRelation=="splitBefore"){const a=n.insertionPosition.path.slice();a.push(0);const g=new Pt(n.insertionPosition.root,a);return[l,new ki(l.insertionPosition,1,g,0)]}return l.splitPosition.hasSameParentAs(n.splitPosition)&&l.splitPosition.offset<n.splitPosition.offset&&(l.howMany-=n.howMany),l.splitPosition=l.splitPosition._getTransformedBySplitOperation(n),l.insertionPosition=er.getInsertionPosition(l.splitPosition),[l]});class as extends fe(Pt){constructor(n,r,a="toNone"){if(super(n,r,a),!this.root.is("rootElement"))throw new P("model-liveposition-root-not-rootelement",n);f7.call(this)}detach(){this.stopListening()}toPosition(){return new Pt(this.root,this.path.slice(),this.stickiness)}static fromPosition(n,r){return new this(n.root,n.path.slice(),r||n.stickiness)}}function f7(){this.listenTo(this.root.document.model,"applyOperation",(l,n)=>{const r=n[0];r.isDocumentOperation&&I7.call(this,r)},{priority:"low"})}function I7(l){const n=this.getTransformedByOperation(l);if(!this.isEqual(n)){const r=this.toPosition();this.path=n.path,this.root=n.root,this.fire("change",r)}}as.prototype.is=function(l){return l==="livePosition"||l==="model:livePosition"||l=="position"||l==="model:position"};class Cm{constructor(n={}){typeof n=="string"&&(n=n==="transparent"?{isUndoable:!1}:{},O("batch-constructor-deprecated-string-type"));const{isUndoable:r=!0,isLocal:a=!0,isUndo:g=!1,isTyping:h=!1}=n;this.operations=[],this.isUndoable=r,this.isLocal=a,this.isUndo=g,this.isTyping=h}get type(){return O("batch-type-deprecated"),"default"}get baseVersion(){for(const n of this.operations)if(n.baseVersion!==null)return n.baseVersion;return null}addOperation(n){return n.batch=this,this.operations.push(n),n}}var b7=Object.defineProperty,y7=Object.defineProperties,v7=Object.getOwnPropertyDescriptors,PV=Object.getOwnPropertySymbols,w7=Object.prototype.hasOwnProperty,k7=Object.prototype.propertyIsEnumerable,KV=(l,n,r)=>n in l?b7(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,zV=(l,n)=>{for(var r in n||(n={}))w7.call(n,r)&&KV(l,r,n[r]);if(PV)for(var r of PV(n))k7.call(n,r)&&KV(l,r,n[r]);return l};class B7{constructor(n){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=n}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(n){const r=n;switch(r.type){case"insert":if(this._isInInsertedElement(r.position.parent))return;this._markInsert(r.position.parent,r.position.offset,r.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const a of r.range.getItems({shallow:!0}))this._isInInsertedElement(a.parent)||this._markAttribute(a);break;case"remove":case"move":case"reinsert":{if(r.sourcePosition.isEqual(r.targetPosition)||r.sourcePosition.getShiftedBy(r.howMany).isEqual(r.targetPosition))return;const a=this._isInInsertedElement(r.sourcePosition.parent),g=this._isInInsertedElement(r.targetPosition.parent);a||this._markRemove(r.sourcePosition.parent,r.sourcePosition.offset,r.howMany),g||this._markInsert(r.targetPosition.parent,r.getMovedRangeStart().offset,r.howMany);break}case"rename":{if(this._isInInsertedElement(r.position.parent))return;this._markRemove(r.position.parent,r.position.offset,1),this._markInsert(r.position.parent,r.position.offset,1);const a=vt._createFromPositionAndShift(r.position,1);for(const g of this._markerCollection.getMarkersIntersectingRange(a)){const h=g.getData();this.bufferMarkerChange(g.name,h,h)}break}case"split":{const a=r.splitPosition.parent;this._isInInsertedElement(a)||this._markRemove(a,r.splitPosition.offset,r.howMany),this._isInInsertedElement(r.insertionPosition.parent)||this._markInsert(r.insertionPosition.parent,r.insertionPosition.offset,1),r.graveyardPosition&&this._markRemove(r.graveyardPosition.parent,r.graveyardPosition.offset,1);break}case"merge":{const a=r.sourcePosition.parent;this._isInInsertedElement(a.parent)||this._markRemove(a.parent,a.startOffset,1);const g=r.graveyardPosition.parent;this._markInsert(g,r.graveyardPosition.offset,1);const h=r.targetPosition.parent;this._isInInsertedElement(h)||this._markInsert(h,r.targetPosition.offset,a.maxOffset);break}case"detachRoot":case"addRoot":{const a=r.affectedSelectable;if(!a._isLoaded||a.isAttached()==r.isAdd)return;this._bufferRootStateChange(r.rootName,r.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!r.root._isLoaded)return;const a=r.root.rootName;this._bufferRootAttributeChange(a,r.key,r.oldValue,r.newValue);break}}this._cachedChanges=null}bufferMarkerChange(n,r,a){r.range&&r.range.root.is("rootElement")&&!r.range.root._isLoaded&&(r.range=null),a.range&&a.range.root.is("rootElement")&&!a.range.root._isLoaded&&(a.range=null);let g=this._changedMarkers.get(n);g?g.newMarkerData=a:(g={newMarkerData:a,oldMarkerData:r},this._changedMarkers.set(n,g)),g.oldMarkerData.range==null&&a.range==null&&this._changedMarkers.delete(n)}getMarkersToRemove(){const n=[];for(const[r,a]of this._changedMarkers)a.oldMarkerData.range!=null&&n.push({name:r,range:a.oldMarkerData.range});return n}getMarkersToAdd(){const n=[];for(const[r,a]of this._changedMarkers)a.newMarkerData.range!=null&&n.push({name:r,range:a.newMarkerData.range});return n}getChangedMarkers(){return Array.from(this._changedMarkers).map(([n,r])=>({name:n,data:{oldRange:r.oldMarkerData.range,newRange:r.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:n,oldMarkerData:r}of this._changedMarkers.values()){if(n.affectsData!==r.affectsData)return!0;if(n.affectsData){const a=n.range&&!r.range,g=!n.range&&r.range,h=n.range&&r.range&&!n.range.isEqual(r.range);if(a||g||h)return!0}}return!1}getChanges(n={}){if(this._cachedChanges)return n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let r=[];for(const a of this._changesInElement.keys()){const g=this._changesInElement.get(a).sort((W,J)=>W.offset===J.offset?W.type!=J.type?W.type=="remove"?-1:1:0:W.offset<J.offset?-1:1),h=this._elementSnapshots.get(a),f=QV(a.getChildren()),b=x7(h.length,g);let S=0,N=0;for(const W of b)if(W==="i")r.push(this._getInsertDiff(a,S,f[S])),S++;else if(W==="r")r.push(this._getRemoveDiff(a,S,h[N])),N++;else if(W==="a"){const J=f[S].attributes,ee=h[N].attributes;let se;if(f[S].name=="$text")se=new vt(Pt._createAt(a,S),Pt._createAt(a,S+1));else{const ue=a.offsetToIndex(S);se=new vt(Pt._createAt(a,S),Pt._createAt(a.getChild(ue),0))}r.push(...this._getAttributesDiff(se,ee,J)),S++,N++}else S++,N++}r.sort((a,g)=>a.position.root!=g.position.root?a.position.root.rootName<g.position.root.rootName?-1:1:a.position.isEqual(g.position)?a.changeCount-g.changeCount:a.position.isBefore(g.position)?-1:1);for(let a=1,g=0;a<r.length;a++){const h=r[g],f=r[a],b=h.type=="remove"&&f.type=="remove"&&h.name=="$text"&&f.name=="$text"&&h.position.isEqual(f.position),S=h.type=="insert"&&f.type=="insert"&&h.name=="$text"&&f.name=="$text"&&h.position.parent==f.position.parent&&h.position.offset+h.length==f.position.offset,N=h.type=="attribute"&&f.type=="attribute"&&h.position.parent==f.position.parent&&h.range.isFlat&&f.range.isFlat&&h.position.offset+h.length==f.position.offset&&h.attributeKey==f.attributeKey&&h.attributeOldValue==f.attributeOldValue&&h.attributeNewValue==f.attributeNewValue;b||S||N?(h.length++,N&&(h.range.end=h.range.end.getShiftedBy(1)),r[a]=null):g=a}r=r.filter(a=>a);for(const a of r)delete a.changeCount,a.type=="attribute"&&(delete a.position,delete a.length);return this._changeCount=0,this._cachedChangesWithGraveyard=r,this._cachedChanges=r.filter(S7),n.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(n=>{const r=zV({},n);return r.state!==void 0&&delete r.attributes,r})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(n,r){if(!this._changedRoots.has(n))return void this._changedRoots.set(n,{name:n,state:r?"attached":"detached"});const a=this._changedRoots.get(n);a.state!==void 0?(delete a.state,a.attributes===void 0&&this._changedRoots.delete(n)):a.state=r?"attached":"detached"}_bufferRootAttributeChange(n,r,a,g){const h=this._changedRoots.get(n)||{name:n},f=h.attributes||{};if(f[r]){const b=f[r];g===b.oldValue?delete f[r]:b.newValue=g}else f[r]={oldValue:a,newValue:g};Object.entries(f).length===0?(delete h.attributes,h.state===void 0&&this._changedRoots.delete(n)):(h.attributes=f,this._changedRoots.set(n,h))}_refreshItem(n){if(this._isInInsertedElement(n.parent))return;this._markRemove(n.parent,n.startOffset,n.offsetSize),this._markInsert(n.parent,n.startOffset,n.offsetSize),this._refreshedItems.add(n);const r=vt._createOn(n);for(const a of this._markerCollection.getMarkersIntersectingRange(r)){const g=a.getData();this.bufferMarkerChange(a.name,g,g)}this._cachedChanges=null}_bufferRootLoad(n){if(n.isAttached()){this._bufferRootStateChange(n.rootName,!0),this._markInsert(n,0,n.maxOffset);for(const a of n.getAttributeKeys())this._bufferRootAttributeChange(n.rootName,a,null,n.getAttribute(a));for(const a of this._markerCollection)if(a.getRange().root==n){const g=a.getData();this.bufferMarkerChange(a.name,(r=zV({},g),y7(r,v7({range:null}))),g)}var r}}_markInsert(n,r,a){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const g={type:"insert",offset:r,howMany:a,count:this._changeCount++};this._markChange(n,g)}_markRemove(n,r,a){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const g={type:"remove",offset:r,howMany:a,count:this._changeCount++};this._markChange(n,g),this._removeAllNestedChanges(n,r,a)}_markAttribute(n){if(n.root.is("rootElement")&&!n.root._isLoaded)return;const r={type:"attribute",offset:n.startOffset,howMany:n.offsetSize,count:this._changeCount++};this._markChange(n.parent,r)}_markChange(n,r){this._makeSnapshot(n);const a=this._getChangesForElement(n);this._handleChange(r,a),a.push(r);for(let g=0;g<a.length;g++)a[g].howMany<1&&(a.splice(g,1),g--)}_getChangesForElement(n){let r;return this._changesInElement.has(n)?r=this._changesInElement.get(n):(r=[],this._changesInElement.set(n,r)),r}_makeSnapshot(n){this._elementSnapshots.has(n)||this._elementSnapshots.set(n,QV(n.getChildren()))}_handleChange(n,r){n.nodesToHandle=n.howMany;for(const a of r){const g=n.offset+n.howMany,h=a.offset+a.howMany;if(n.type=="insert"&&(a.type=="insert"&&(n.offset<=a.offset?a.offset+=n.howMany:n.offset<h&&(a.howMany+=n.nodesToHandle,n.nodesToHandle=0)),a.type=="remove"&&n.offset<a.offset&&(a.offset+=n.howMany),a.type=="attribute")){if(n.offset<=a.offset)a.offset+=n.howMany;else if(n.offset<h){const f=a.howMany;a.howMany=n.offset-a.offset,r.unshift({type:"attribute",offset:g,howMany:f-a.howMany,count:this._changeCount++})}}if(n.type=="remove"){if(a.type=="insert"){if(g<=a.offset)a.offset-=n.howMany;else if(g<=h)if(n.offset<a.offset){const f=g-a.offset;a.offset=n.offset,a.howMany-=f,n.nodesToHandle-=f}else a.howMany-=n.nodesToHandle,n.nodesToHandle=0;else if(n.offset<=a.offset)n.nodesToHandle-=a.howMany,a.howMany=0;else if(n.offset<h){const f=h-n.offset;a.howMany-=f,n.nodesToHandle-=f}}if(a.type=="remove"&&(g<=a.offset?a.offset-=n.howMany:n.offset<a.offset&&(n.nodesToHandle+=a.howMany,a.howMany=0)),a.type=="attribute"){if(g<=a.offset)a.offset-=n.howMany;else if(n.offset<a.offset){const f=g-a.offset;a.offset=n.offset,a.howMany-=f}else if(n.offset<h)if(g<=h){const f=a.howMany;a.howMany=n.offset-a.offset;const b=f-a.howMany-n.nodesToHandle;r.unshift({type:"attribute",offset:n.offset,howMany:b,count:this._changeCount++})}else a.howMany-=h-n.offset}}if(n.type=="attribute"){if(a.type=="insert")if(n.offset<a.offset&&g>a.offset){if(g>h){const f={type:"attribute",offset:h,howMany:g-h,count:this._changeCount++};this._handleChange(f,r),r.push(f)}n.nodesToHandle=a.offset-n.offset,n.howMany=n.nodesToHandle}else n.offset>=a.offset&&n.offset<h&&(g>h?(n.nodesToHandle=g-h,n.offset=h):n.nodesToHandle=0);if(a.type=="remove"&&n.offset<a.offset&&g>a.offset){const f={type:"attribute",offset:a.offset,howMany:g-a.offset,count:this._changeCount++};this._handleChange(f,r),r.push(f),n.nodesToHandle=a.offset-n.offset,n.howMany=n.nodesToHandle}a.type=="attribute"&&(n.offset>=a.offset&&g<=h?(n.nodesToHandle=0,n.howMany=0,n.offset=0):n.offset<=a.offset&&g>=h&&(a.howMany=0))}}n.howMany=n.nodesToHandle,delete n.nodesToHandle}_getInsertDiff(n,r,a){return{type:"insert",position:Pt._createAt(n,r),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++,_element:a.element}}_getRemoveDiff(n,r,a){return{type:"remove",position:Pt._createAt(n,r),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++,_element:a.element}}_getAttributesDiff(n,r,a){const g=[];a=new Map(a);for(const[h,f]of r){const b=a.has(h)?a.get(h):null;b!==f&&g.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:h,attributeOldValue:f,attributeNewValue:b,changeCount:this._changeCount++}),a.delete(h)}for(const[h,f]of a)g.push({type:"attribute",position:n.start,range:n.clone(),length:1,attributeKey:h,attributeOldValue:null,attributeNewValue:f,changeCount:this._changeCount++});return g}_isInInsertedElement(n){const r=n.parent;if(!r)return!1;const a=this._changesInElement.get(r),g=n.startOffset;if(a){for(const h of a)if(h.type=="insert"&&g>=h.offset&&g<h.offset+h.howMany)return!0}return this._isInInsertedElement(r)}_removeAllNestedChanges(n,r,a){const g=new vt(Pt._createAt(n,r),Pt._createAt(n,r+a));for(const h of g.getItems({shallow:!0}))h.is("element")&&(this._elementSnapshots.delete(h),this._changesInElement.delete(h),this._removeAllNestedChanges(h,0,h.maxOffset))}}function QV(l){const n=[];for(const r of l)if(r.is("$text"))for(let a=0;a<r.data.length;a++)n.push({name:"$text",attributes:new Map(r.getAttributes())});else n.push({name:r.name,attributes:new Map(r.getAttributes()),element:r});return n}function x7(l,n){const r=[];let a=0,g=0;for(const h of n){if(h.offset>a){for(let f=0;f<h.offset-a;f++)r.push("e");g+=h.offset-a}if(h.type=="insert"){for(let f=0;f<h.howMany;f++)r.push("i");a=h.offset+h.howMany}else if(h.type=="remove"){for(let f=0;f<h.howMany;f++)r.push("r");a=h.offset,g+=h.howMany}else r.push(..."a".repeat(h.howMany).split("")),a=h.offset+h.howMany,g+=h.howMany}if(g<l)for(let h=0;h<l-g-a;h++)r.push("e");return r}function S7(l){const n="position"in l&&l.position.root.rootName=="$graveyard",r="range"in l&&l.range.root.rootName=="$graveyard";return!n&&!r}class Z7{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(n){this._operations.length&&n>this._version+1&&this._gaps.set(this._version,n),this._version=n}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(n){if(n.baseVersion!==this.version)throw new P("model-document-history-addoperation-incorrect-version",this,{operation:n,historyVersion:this.version});this._operations.push(n),this._version++,this._baseVersionToOperationIndex.set(n.baseVersion,this._operations.length-1)}getOperations(n,r=this.version){if(!this._operations.length)return[];const a=this._operations[0];n===void 0&&(n=a.baseVersion);let g=r-1;for(const[b,S]of this._gaps)n>b&&n<S&&(n=S),g>b&&g<S&&(g=b-1);if(g<a.baseVersion||n>this.lastOperation.baseVersion)return[];let h=this._baseVersionToOperationIndex.get(n);h===void 0&&(h=0);let f=this._baseVersionToOperationIndex.get(g);return f===void 0&&(f=this._operations.length-1),this._operations.slice(h,f+1)}getOperation(n){const r=this._baseVersionToOperationIndex.get(n);if(r!==void 0)return this._operations[r]}setOperationAsUndone(n,r){this._undoPairs.set(r,n),this._undoneOperations.add(n)}isUndoingOperation(n){return this._undoPairs.has(n)}isUndoneOperation(n){return this._undoneOperations.has(n)}getUndoneOperation(n){return this._undoPairs.get(n)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class S0 extends Pi{constructor(n,r,a="main"){super(r),this._isAttached=!0,this._isLoaded=!0,this._document=n,this.rootName=a}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}S0.prototype.is=function(l,n){return n?n===this.name&&(l==="rootElement"||l==="model:rootElement"||l==="element"||l==="model:element"):l==="rootElement"||l==="model:rootElement"||l==="element"||l==="model:element"||l==="node"||l==="model:node"};var G7=Object.defineProperty,R7=Object.defineProperties,N7=Object.getOwnPropertyDescriptors,jV=Object.getOwnPropertySymbols,_7=Object.prototype.hasOwnProperty,V7=Object.prototype.propertyIsEnumerable,OV=(l,n,r)=>n in l?G7(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,qV=(l,n)=>{for(var r in n||(n={}))_7.call(n,r)&&OV(l,r,n[r]);if(jV)for(var r of jV(n))V7.call(n,r)&&OV(l,r,n[r]);return l},$V=(l,n)=>R7(l,N7(n));const eE="$graveyard";class E7 extends fe(){constructor(n){super(),this.model=n,this.history=new Z7,this.selection=new sc(this),this.roots=new ia({idProperty:"rootName"}),this.differ=new B7(n.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",eE),this.listenTo(n,"applyOperation",(r,a)=>{const g=a[0];g.isDocumentOperation&&this.differ.bufferOperation(g)},{priority:"high"}),this.listenTo(n,"applyOperation",(r,a)=>{const g=a[0];g.isDocumentOperation&&this.history.addOperation(g)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(n.markers,"update",(r,a,g,h,f)=>{const b=$V(qV({},a.getData()),{range:h});this.differ.bufferMarkerChange(a.name,f,b),g===null&&a.on("change",(S,N)=>{const W=a.getData();this.differ.bufferMarkerChange(a.name,$V(qV({},W),{range:N}),W)})}),this.registerPostFixer(r=>{let a=!1;for(const g of this.roots)g.isAttached()||g.isEmpty||(r.remove(r.createRangeIn(g)),a=!0);for(const g of this.model.markers)g.getRange().root.isAttached()||(r.removeMarker(g),a=!0);return a})}get version(){return this.history.version}set version(n){this.history.version=n}get graveyard(){return this.getRoot(eE)}createRoot(n="$root",r="main"){if(this.roots.get(r))throw new P("model-document-createroot-name-exists",this,{name:r});const a=new S0(this,n,r);return this.roots.add(a),a}destroy(){this.selection.destroy(),this.stopListening()}getRoot(n="main"){return this.roots.get(n)}getRootNames(n=!1){return this.getRoots(n).map(r=>r.rootName)}getRoots(n=!1){return this.roots.filter(r=>r!=this.graveyard&&(n||r.isAttached())&&r._isLoaded)}registerPostFixer(n){this._postFixers.add(n)}toJSON(){const n=vu(this);return n.selection="[engine.model.DocumentSelection]",n.model="[engine.model.Model]",n}_handleChangeBlock(n){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(n),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",n.batch):this.fire("change",n.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const n=this.getRoots();return n.length?n[0]:this.graveyard}_getDefaultRange(){const n=this._getDefaultRoot(),r=this.model,a=r.schema,g=r.createPositionFromPath(n,[0]);return a.getNearestSelectionRange(g)||r.createRange(g)}_validateSelectionRange(n){return tE(n.start)&&tE(n.end)}_callPostFixers(n){let r=!1;do for(const a of this._postFixers)if(this.selection.refresh(),r=a(n),r)break;while(r)}}function tE(l){const n=l.textNode;if(n){const r=n.data,a=l.offset-n.startOffset;return!FC(r,a)&&!$h(r,a)}return!0}var F7=Object.defineProperty,W7=Object.defineProperties,H7=Object.getOwnPropertyDescriptors,nE=Object.getOwnPropertySymbols,D7=Object.prototype.hasOwnProperty,T7=Object.prototype.propertyIsEnumerable,iE=(l,n,r)=>n in l?F7(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r;class L7 extends fe(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(n){const r=n instanceof fm?n.name:n;return this._markers.has(r)}get(n){return this._markers.get(n)||null}_set(n,r,a=!1,g=!1){const h=n instanceof fm?n.name:n;if(h.includes(","))throw new P("markercollection-incorrect-marker-name",this);const f=this._markers.get(h);if(f){const W=f.getData(),J=f.getRange();let ee=!1;return J.isEqual(r)||(f._attachLiveRange(Ta.fromRange(r)),ee=!0),a!=f.managedUsingOperations&&(f._managedUsingOperations=a,ee=!0),typeof g=="boolean"&&g!=f.affectsData&&(f._affectsData=g,ee=!0),ee&&this.fire(`update:${h}`,f,J,r,W),f}const b=Ta.fromRange(r),S=new fm(h,b,a,g);var N;return this._markers.set(h,S),this.fire(`update:${h}`,S,null,r,(N=((W,J)=>{for(var ee in J||(J={}))D7.call(J,ee)&&iE(W,ee,J[ee]);if(nE)for(var ee of nE(J))T7.call(J,ee)&&iE(W,ee,J[ee]);return W})({},S.getData()),W7(N,H7({range:null})))),S}_remove(n){const r=n instanceof fm?n.name:n,a=this._markers.get(r);return!!a&&(this._markers.delete(r),this.fire(`update:${r}`,a,a.getRange(),null,a.getData()),this._destroyMarker(a),!0)}_refresh(n){const r=n instanceof fm?n.name:n,a=this._markers.get(r);if(!a)throw new P("markercollection-refresh-marker-not-exists",this);const g=a.getRange();this.fire(`update:${r}`,a,g,g,a.getData())}*getMarkersAtPosition(n){for(const r of this)r.getRange().containsPosition(n)&&(yield r)}*getMarkersIntersectingRange(n){for(const r of this)r.getRange().getIntersection(n)!==null&&(yield r)}destroy(){for(const n of this._markers.values())this._destroyMarker(n);this._markers=null,this.stopListening()}*getMarkersGroup(n){for(const r of this._markers.values())r.name.startsWith(n+":")&&(yield r)}_destroyMarker(n){n.stopListening(),n._detachLiveRange()}}class fm extends fe(eA){constructor(n,r,a,g){super(),this.name=n,this._liveRange=this._attachLiveRange(r),this._managedUsingOperations=a,this._affectsData=g}get managedUsingOperations(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new P("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(n){return this._liveRange&&this._detachLiveRange(),n.delegate("change:range").to(this),n.delegate("change:content").to(this),this._liveRange=n,n}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}fm.prototype.is=function(l){return l==="marker"||l==="model:marker"};class X7 extends La{constructor(n,r){super(null),this.sourcePosition=n.clone(),this.howMany=r}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const n=super.toJSON();return n.sourcePosition=this.sourcePosition.toJSON(),n}_validate(){if(this.sourcePosition.root.document)throw new P("detach-operation-on-document-node",this)}_execute(){DV(vt._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Pg extends eA{constructor(n){super(),this.markers=new Map,this._children=new YC,n&&this._insertChild(0,n)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(n){return this._children.getNode(n)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(n){return this._children.getNodeIndex(n)}getChildStartOffset(n){return this._children.getNodeStartOffset(n)}getPath(){return[]}getNodeByPath(n){let r=this;for(const a of n)r=r.getChild(r.offsetToIndex(a));return r}offsetToIndex(n){return this._children.offsetToIndex(n)}toJSON(){const n=[];for(const r of this._children)n.push(r.toJSON());return n}static fromJSON(n){const r=[];for(const a of n)a.name?r.push(Pi.fromJSON(a)):r.push($i.fromJSON(a));return new Pg(r)}_appendChild(n){this._insertChild(this.childCount,n)}_insertChild(n,r){const a=function(g){return typeof g=="string"?[new $i(g)]:(kt(g)||(g=[g]),Array.from(g).map(h=>typeof h=="string"?new $i(h):h instanceof oc?new $i(h.data,h.getAttributes()):h))}(r);for(const g of a)g.parent!==null&&g._remove(),g.parent=this;this._children._insertNodes(n,a)}_removeChildren(n,r=1){const a=this._children._removeNodes(n,r);for(const g of a)g.parent=null;return a}}Pg.prototype.is=function(l){return l==="documentFragment"||l==="model:documentFragment"};class M7{constructor(n,r){this.model=n,this.batch=r}createText(n,r){return new $i(n,r)}createElement(n,r){return new Pi(n,r)}createDocumentFragment(){return new Pg}cloneElement(n,r=!0){return n._clone(r)}insert(n,r,a=0){if(this._assertWriterUsedCorrectly(),n instanceof $i&&n.data=="")return;const g=Pt._createAt(r,a);if(n.parent){if(sE(n.root,g.root))return void this.move(vt._createOn(n),g);if(n.root.document)throw new P("model-writer-insert-forbidden-move",this);this.remove(n)}const h=g.root.document?g.root.document.version:null,f=new Uo(g,n,h);if(n instanceof $i&&(f.shouldReceiveAttributes=!0),this.batch.addOperation(f),this.model.applyOperation(f),n instanceof Pg)for(const[b,S]of n.markers){const N=Pt._createAt(S.root,0),W={range:new vt(S.start._getCombined(N,g),S.end._getCombined(N,g)),usingOperation:!0,affectsData:!0};this.model.markers.has(b)?this.updateMarker(b,W):this.addMarker(b,W)}}insertText(n,r,a,g){r instanceof Pg||r instanceof Pi||r instanceof Pt?this.insert(this.createText(n),r,a):this.insert(this.createText(n,r),a,g)}insertElement(n,r,a,g){r instanceof Pg||r instanceof Pi||r instanceof Pt?this.insert(this.createElement(n),r,a):this.insert(this.createElement(n,r),a,g)}append(n,r){this.insert(n,r,"end")}appendText(n,r,a){r instanceof Pg||r instanceof Pi?this.insert(this.createText(n),r,"end"):this.insert(this.createText(n,r),a,"end")}appendElement(n,r,a){r instanceof Pg||r instanceof Pi?this.insert(this.createElement(n),r,"end"):this.insert(this.createElement(n,r),a,"end")}setAttribute(n,r,a){if(this._assertWriterUsedCorrectly(),a instanceof vt){const g=a.getMinimalFlatRanges();for(const h of g)rE(this,n,r,h)}else oE(this,n,r,a)}setAttributes(n,r){for(const[a,g]of pl(n))this.setAttribute(a,g,r)}removeAttribute(n,r){if(this._assertWriterUsedCorrectly(),r instanceof vt){const a=r.getMinimalFlatRanges();for(const g of a)rE(this,n,null,g)}else oE(this,n,null,r)}clearAttributes(n){this._assertWriterUsedCorrectly();const r=a=>{for(const g of a.getAttributeKeys())this.removeAttribute(g,a)};if(n instanceof vt)for(const a of n.getItems())r(a);else r(n)}move(n,r,a){if(this._assertWriterUsedCorrectly(),!(n instanceof vt))throw new P("writer-move-invalid-range",this);if(!n.isFlat)throw new P("writer-move-range-not-flat",this);const g=Pt._createAt(r,a);if(g.isEqual(n.start))return;if(this._addOperationForAffectedMarkers("move",n),!sE(n.root,g.root))throw new P("writer-move-different-document",this);const h=n.root.document?n.root.document.version:null,f=new ki(n.start,n.end.offset-n.start.offset,g,h);this.batch.addOperation(f),this.model.applyOperation(f)}remove(n){this._assertWriterUsedCorrectly();const r=(n instanceof vt?n:vt._createOn(n)).getMinimalFlatRanges().reverse();for(const a of r)this._addOperationForAffectedMarkers("move",a),Y7(a.start,a.end.offset-a.start.offset,this.batch,this.model)}merge(n){this._assertWriterUsedCorrectly();const r=n.nodeBefore,a=n.nodeAfter;if(this._addOperationForAffectedMarkers("merge",n),!(r instanceof Pi))throw new P("writer-merge-no-element-before",this);if(!(a instanceof Pi))throw new P("writer-merge-no-element-after",this);n.root.document?this._merge(n):this._mergeDetached(n)}createPositionFromPath(n,r,a){return this.model.createPositionFromPath(n,r,a)}createPositionAt(n,r){return this.model.createPositionAt(n,r)}createPositionAfter(n){return this.model.createPositionAfter(n)}createPositionBefore(n){return this.model.createPositionBefore(n)}createRange(n,r){return this.model.createRange(n,r)}createRangeIn(n){return this.model.createRangeIn(n)}createRangeOn(n){return this.model.createRangeOn(n)}createSelection(...n){return this.model.createSelection(...n)}_mergeDetached(n){const r=n.nodeBefore,a=n.nodeAfter;this.move(vt._createIn(a),Pt._createAt(r,"end")),this.remove(a)}_merge(n){const r=Pt._createAt(n.nodeBefore,"end"),a=Pt._createAt(n.nodeAfter,0),g=n.root.document.graveyard,h=new Pt(g,[0]),f=n.root.document.version,b=new Yr(a,n.nodeAfter.maxOffset,r,h,f);this.batch.addOperation(b),this.model.applyOperation(b)}rename(n,r){if(this._assertWriterUsedCorrectly(),!(n instanceof Pi))throw new P("writer-rename-not-element-instance",this);const a=n.root.document?n.root.document.version:null,g=new la(Pt._createBefore(n),n.name,r,a);this.batch.addOperation(g),this.model.applyOperation(g)}split(n,r){this._assertWriterUsedCorrectly();let a,g,h=n.parent;if(!h.parent)throw new P("writer-split-element-no-parent",this);if(r||(r=h.parent),!n.parent.getAncestors({includeSelf:!0}).includes(r))throw new P("writer-split-invalid-limit-element",this);do{const f=h.root.document?h.root.document.version:null,b=h.maxOffset-n.offset,S=er.getInsertionPosition(n),N=new er(n,b,S,null,f);this.batch.addOperation(N),this.model.applyOperation(N),a||g||(a=h,g=n.parent.nextSibling),h=(n=this.createPositionAfter(n.parent)).parent}while(h!==r);return{position:n,range:new vt(Pt._createAt(a,"end"),Pt._createAt(g,0))}}wrap(n,r){if(this._assertWriterUsedCorrectly(),!n.isFlat)throw new P("writer-wrap-range-not-flat",this);const a=r instanceof Pi?r:new Pi(r);if(a.childCount>0)throw new P("writer-wrap-element-not-empty",this);if(a.parent!==null)throw new P("writer-wrap-element-attached",this);this.insert(a,n.start);const g=new vt(n.start.getShiftedBy(1),n.end.getShiftedBy(1));this.move(g,Pt._createAt(a,0))}unwrap(n){if(this._assertWriterUsedCorrectly(),n.parent===null)throw new P("writer-unwrap-element-no-parent",this);this.move(vt._createIn(n),this.createPositionAfter(n)),this.remove(n)}addMarker(n,r){if(this._assertWriterUsedCorrectly(),!r||typeof r.usingOperation!="boolean")throw new P("writer-addmarker-no-usingoperation",this);const a=r.usingOperation,g=r.range,h=r.affectsData!==void 0&&r.affectsData;if(this.model.markers.has(n))throw new P("writer-addmarker-marker-exists",this);if(!g)throw new P("writer-addmarker-no-range",this);return a?(OC(this,n,null,g,h),this.model.markers.get(n)):this.model.markers._set(n,g,a,h)}updateMarker(n,r){this._assertWriterUsedCorrectly();const a=typeof n=="string"?n:n.name,g=this.model.markers.get(a);if(!g)throw new P("writer-updatemarker-marker-not-exists",this);if(!r)return O("writer-updatemarker-reconvert-using-editingcontroller",{markerName:a}),void this.model.markers._refresh(g);const h=typeof r.usingOperation=="boolean",f=typeof r.affectsData=="boolean",b=f?r.affectsData:g.affectsData;if(!h&&!r.range&&!f)throw new P("writer-updatemarker-wrong-options",this);const S=g.getRange(),N=r.range?r.range:S;h&&r.usingOperation!==g.managedUsingOperations?r.usingOperation?OC(this,a,null,N,b):(OC(this,a,S,null,b),this.model.markers._set(a,N,void 0,b)):g.managedUsingOperations?OC(this,a,S,N,b):this.model.markers._set(a,N,void 0,b)}removeMarker(n){this._assertWriterUsedCorrectly();const r=typeof n=="string"?n:n.name;if(!this.model.markers.has(r))throw new P("writer-removemarker-no-marker",this);const a=this.model.markers.get(r);if(!a.managedUsingOperations)return void this.model.markers._remove(r);OC(this,r,a.getRange(),null,a.affectsData)}addRoot(n,r="$root"){this._assertWriterUsedCorrectly();const a=this.model.document.getRoot(n);if(a&&a.isAttached())throw new P("writer-addroot-root-exists",this);const g=this.model.document,h=new $c(n,r,!0,g,g.version);return this.batch.addOperation(h),this.model.applyOperation(h),this.model.document.getRoot(n)}detachRoot(n){this._assertWriterUsedCorrectly();const r=typeof n=="string"?this.model.document.getRoot(n):n;if(!r||!r.isAttached())throw new P("writer-detachroot-no-root",this);for(const h of this.model.markers)h.getRange().root===r&&this.removeMarker(h);for(const h of r.getAttributeKeys())this.removeAttribute(h,r);this.remove(this.createRangeIn(r));const a=this.model.document,g=new $c(r.rootName,r.name,!1,a,a.version);this.batch.addOperation(g),this.model.applyOperation(g)}setSelection(...n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...n)}setSelectionFocus(n,r){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(n,r)}setSelectionAttribute(n,r){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._setSelectionAttribute(n,r);else for(const[a,g]of pl(n))this._setSelectionAttribute(a,g)}removeSelectionAttribute(n){if(this._assertWriterUsedCorrectly(),typeof n=="string")this._removeSelectionAttribute(n);else for(const r of n)this._removeSelectionAttribute(r)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(n){this.model.document.selection._restoreGravity(n)}_setSelectionAttribute(n,r){const a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){const g=sc._getStoreAttributeKey(n);this.setAttribute(g,r,a.anchor.parent)}a._setAttribute(n,r)}_removeSelectionAttribute(n){const r=this.model.document.selection;if(r.isCollapsed&&r.anchor.parent.isEmpty){const a=sc._getStoreAttributeKey(n);this.removeAttribute(a,r.anchor.parent)}r._removeAttribute(n)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new P("writer-incorrect-use",this)}_addOperationForAffectedMarkers(n,r){for(const a of this.model.markers){if(!a.managedUsingOperations)continue;const g=a.getRange();let h=!1;if(n==="move"){const f=r;h=f.containsPosition(g.start)||f.start.isEqual(g.start)||f.containsPosition(g.end)||f.end.isEqual(g.end)}else{const f=r,b=f.nodeBefore,S=f.nodeAfter,N=g.start.parent==b&&g.start.isAtEnd,W=g.end.parent==S&&g.end.offset==0,J=g.end.nodeAfter==S,ee=g.start.nodeAfter==S;h=N||W||J||ee}h&&this.updateMarker(a.name,{range:g})}}}function rE(l,n,r,a){const g=l.model,h=g.document;let f,b,S,N=a.start;for(const J of a.getWalker({shallow:!0}))S=J.item.getAttribute(n),f&&b!=S&&(b!=r&&W(),N=f),f=J.nextPosition,b=S;function W(){const J=new vt(N,f),ee=J.root.document?h.version:null,se=new io(J,n,b,r,ee);l.batch.addOperation(se),g.applyOperation(se)}f instanceof Pt&&f!=N&&b!=r&&W()}function oE(l,n,r,a){const g=l.model,h=g.document,f=a.getAttribute(n);let b,S;if(f!=r){if(a.root===a){const N=a.document?h.version:null;S=new Ug(a,n,f,r,N)}else{b=new vt(Pt._createBefore(a),l.createPositionAfter(a));const N=b.root.document?h.version:null;S=new io(b,n,f,r,N)}l.batch.addOperation(S),g.applyOperation(S)}}function OC(l,n,r,a,g){const h=l.model,f=h.document,b=new aa(n,r,a,h.markers,!!g,f.version);l.batch.addOperation(b),h.applyOperation(b)}function Y7(l,n,r,a){let g;if(l.root.document){const h=a.document,f=new Pt(h.graveyard,[0]);g=new ki(l,n,f,h.version)}else g=new X7(l,n);r.addOperation(g),a.applyOperation(g)}function sE(l,n){return l===n||l instanceof S0&&n instanceof S0}function J7(l,n,r={}){if(n.isCollapsed)return;const a=n.getFirstRange();if(a.root.rootName=="$graveyard")return;const g=l.schema;l.change(h=>{if(!r.doNotResetEntireContent&&function(N,W){const J=N.getLimitElement(W);if(!W.containsEntireContent(J))return!1;const ee=W.getFirstRange();return ee.start.parent==ee.end.parent?!1:N.checkChild(J,"paragraph")}(g,n))return void function(N,W){const J=N.model.schema.getLimitElement(W);N.remove(N.createRangeIn(J)),cE(N,N.createPositionAt(J,0),W)}(h,n);const f={};if(!r.doNotAutoparagraph){const N=n.getSelectedElement();N&&Object.assign(f,g.getAttributesWithProperty(N,"copyOnReplace",!0))}const[b,S]=function(N){const W=N.root.document.model,J=N.start;let ee=N.end;if(W.hasContent(N,{ignoreMarkers:!0})){const se=function(ue){const xe=ue.parent,Le=xe.root.document.model.schema,Ye=xe.getAncestors({parentFirst:!0,includeSelf:!0});for(const $e of Ye){if(Le.isLimit($e))return null;if(Le.isBlock($e))return $e}}(ee);if(se&&ee.isTouching(W.createPositionAt(se,0))){const ue=W.createSelection(N);W.modifySelection(ue,{direction:"backward"});const xe=ue.getLastPosition(),Le=W.createRange(xe,ee);W.hasContent(Le,{ignoreMarkers:!0})||(ee=xe)}}return[as.fromPosition(J,"toPrevious"),as.fromPosition(ee,"toNext")]}(a);b.isTouching(S)||h.remove(h.createRange(b,S)),r.leaveUnmerged||(function(N,W,J){const ee=N.model;if(!lB(N.model.schema,W,J))return;const[se,ue]=function(xe,Le){const Ye=xe.getAncestors(),$e=Le.getAncestors();let ht=0;for(;Ye[ht]&&Ye[ht]==$e[ht];)ht++;return[Ye[ht],$e[ht]]}(W,J);!se||!ue||(!ee.hasContent(se,{ignoreMarkers:!0})&&ee.hasContent(ue,{ignoreMarkers:!0})?lE(N,W,J,se.parent):aE(N,W,J,se.parent))}(h,b,S),g.removeDisallowedAttributes(b.parent.getChildren(),h)),gE(h,n,b),!r.doNotAutoparagraph&&function(N,W){const J=N.checkChild(W,"$text"),ee=N.checkChild(W,"paragraph");return!J&&ee}(g,b)&&cE(h,b,n,f),b.detach(),S.detach()})}function aE(l,n,r,a){const g=n.parent,h=r.parent;if(g!=a&&h!=a){for(n=l.createPositionAfter(g),(r=l.createPositionBefore(h)).isEqual(n)||l.insert(h,n),l.merge(n);r.parent.isEmpty;){const f=r.parent;r=l.createPositionBefore(f),l.remove(f)}lB(l.model.schema,n,r)&&aE(l,n,r,a)}}function lE(l,n,r,a){const g=n.parent,h=r.parent;if(g!=a&&h!=a){for(n=l.createPositionAfter(g),(r=l.createPositionBefore(h)).isEqual(n)||l.insert(g,r);n.parent.isEmpty;){const f=n.parent;n=l.createPositionBefore(f),l.remove(f)}r=l.createPositionBefore(h),function(f,b){const S=b.nodeBefore,N=b.nodeAfter;S.name!=N.name&&f.rename(S,N.name),f.clearAttributes(S),f.setAttributes(Object.fromEntries(N.getAttributes()),S),f.merge(b)}(l,r),lB(l.model.schema,n,r)&&lE(l,n,r,a)}}function lB(l,n,r){const a=n.parent,g=r.parent;return a!=g&&!l.isLimit(a)&&!l.isLimit(g)&&function(h,f,b){const S=new vt(h,f);for(const N of S.getWalker())if(b.isLimit(N.item))return!1;return!0}(n,r,l)}function cE(l,n,r,a={}){const g=l.createElement("paragraph");l.model.schema.setAllowedAttributes(g,a,l),l.insert(g,n),gE(l,r,l.createPositionAt(g,0))}function gE(l,n,r){n instanceof sc?l.setSelection(r):n.setTo(r)}function dE(l,n){const r=[];Array.from(l.getItems({direction:"backward"})).map(a=>n.createRangeOn(a)).filter(a=>(a.start.isAfter(l.start)||a.start.isEqual(l.start))&&(a.end.isBefore(l.end)||a.end.isEqual(l.end))).forEach(a=>{r.push(a.start.parent),n.remove(a)}),r.forEach(a=>{let g=a;for(;g.parent&&g.isEmpty;){const h=n.createRangeOn(g);g=g.parent,n.remove(h)}})}class U7{constructor(n,r,a){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=n,this.writer=r,this.position=a,this.canMergeWith=new Set([this.position.parent]),this.schema=n.schema,this._documentFragment=r.createDocumentFragment(),this._documentFragmentPosition=r.createPositionAt(this._documentFragment,0)}handleNodes(n){for(const r of Array.from(n))this._handleNode(r);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(n){const r=this.writer.createPositionAfter(this._lastNode),a=this.writer.createPositionAfter(n);if(a.isAfter(r)){if(this._lastNode=n,this.position.parent!=n||!this.position.isAtEnd)throw new P("insertcontent-invalid-insertion-position",this);this.position=a,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?vt._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new vt(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(n){if(this.schema.isObject(n))return void this._handleObject(n);let r=this._checkAndAutoParagraphToAllowedPosition(n);r||(r=this._checkAndSplitToAllowedPosition(n),r)?(this._appendToFragment(n),this._firstNode||(this._firstNode=n),this._lastNode=n):this._handleDisallowedNode(n)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const n=as.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=n.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=n.toPosition(),n.detach()}_handleObject(n){this._checkAndSplitToAllowedPosition(n)?this._appendToFragment(n):this._tryAutoparagraphing(n)}_handleDisallowedNode(n){n.is("element")?this.handleNodes(n.getChildren()):this._tryAutoparagraphing(n)}_appendToFragment(n){if(!this.schema.checkChild(this.position,n))throw new P("insertcontent-wrong-position",this,{node:n,position:this.position});this.writer.insert(n,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(n.offsetSize),this.schema.isObject(n)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=n:this._nodeToSelect=null,this._filterAttributesOf.push(n)}_setAffectedBoundaries(n){this._affectedStart||(this._affectedStart=as.fromPosition(n,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(n)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=as.fromPosition(n,"toNext"))}_mergeOnLeft(){const n=this._firstNode;if(!(n instanceof Pi)||!this._canMergeLeft(n))return;const r=as._createBefore(n);r.stickiness="toNext";const a=as.fromPosition(this.position,"toNext");this._affectedStart.isEqual(r)&&(this._affectedStart.detach(),this._affectedStart=as._createAt(r.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=r.nodeBefore,this._lastNode=r.nodeBefore),this.writer.merge(r),r.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=as._createAt(r.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),r.detach()}_mergeOnRight(){const n=this._lastNode;if(!(n instanceof Pi)||!this._canMergeRight(n))return;const r=as._createAfter(n);if(r.stickiness="toNext",!this.position.isEqual(r))throw new P("insertcontent-invalid-insertion-position",this);this.position=Pt._createAt(r.nodeBefore,"end");const a=as.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(r)&&(this._affectedEnd.detach(),this._affectedEnd=as._createAt(r.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=r.nodeBefore,this._lastNode=r.nodeBefore),this.writer.merge(r),r.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=as._createAt(r.nodeBefore,0,"toPrevious")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),r.detach()}_canMergeLeft(n){const r=n.previousSibling;return r instanceof Pi&&this.canMergeWith.has(r)&&this.model.schema.checkMerge(r,n)}_canMergeRight(n){const r=n.nextSibling;return r instanceof Pi&&this.canMergeWith.has(r)&&this.model.schema.checkMerge(n,r)}_tryAutoparagraphing(n){const r=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,r)&&this.schema.checkChild(r,n)&&(r._appendChild(n),this._handleNode(r))}_checkAndAutoParagraphToAllowedPosition(n){if(this.schema.checkChild(this.position.parent,n))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",n))return!1;this._insertPartialFragment();const r=this.writer.createElement("paragraph");return this.writer.insert(r,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=r,this.position=this.writer.createPositionAt(r,0),!0}_checkAndSplitToAllowedPosition(n){const r=this._getAllowedIn(this.position.parent,n);if(!r)return!1;for(r!=this.position.parent&&this._insertPartialFragment();r!=this.position.parent;)if(this.position.isAtStart){const a=this.position.parent;this.position=this.writer.createPositionBefore(a),a.isEmpty&&a.parent===r&&this.writer.remove(a)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const a=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=a,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(n,r){return this.schema.checkChild(n,r)?n:this.schema.isLimit(n)?null:this._getAllowedIn(n.parent,r)}}function P7(l,n,r,a={}){if(!l.schema.isObject(n))throw new P("insertobject-element-not-an-object",l,{object:n});const g=r||l.document.selection;let h=g;a.findOptimalPosition&&l.schema.isBlock(n)&&(h=l.createSelection(l.schema.findOptimalInsertionRange(g,a.findOptimalPosition)));const f=Io(g.getSelectedBlocks()),b={};return f&&Object.assign(b,l.schema.getAttributesWithProperty(f,"copyOnReplace",!0)),l.change(S=>{h.isCollapsed||l.deleteContent(h,{doNotAutoparagraph:!0});let N=n;const W=h.anchor.parent;!l.schema.checkChild(W,n)&&l.schema.checkChild(W,"paragraph")&&l.schema.checkChild("paragraph",n)&&(N=S.createElement("paragraph"),S.insert(n,N)),l.schema.setAllowedAttributes(N,b,S);const J=l.insertContent(N,h);return J.isCollapsed||a.setSelection&&function(ee,se,ue,xe){const Le=ee.model;if(ue=="on")return void ee.setSelection(se,"on");if(ue!="after")throw new P("insertobject-invalid-place-parameter-value",Le);let Ye=se.nextSibling;if(Le.schema.isInline(se))return void ee.setSelection(se,"after");!(Ye&&Le.schema.checkChild(Ye,"$text"))&&Le.schema.checkChild(se.parent,"paragraph")&&(Ye=ee.createElement("paragraph"),Le.schema.setAllowedAttributes(Ye,xe,ee),Le.insertContent(Ye,ee.createPositionAfter(se))),Ye&&ee.setSelection(Ye,0)}(S,n,a.setSelection,b),J})}const K7=' ,.?!:;"-()';function z7(l,n){const{isForward:r,walker:a,unit:g,schema:h,treatEmojiAsSingleUnit:f}=l,{type:b,item:S,nextPosition:N}=n;if(b=="text")return l.unit==="word"?function(W,J){let ee=W.position.textNode;for(ee||(ee=J?W.position.nodeAfter:W.position.nodeBefore);ee&&ee.is("$text");){const se=W.position.offset-ee.startOffset;if(O7(ee,se,J))ee=J?W.position.nodeAfter:W.position.nodeBefore;else{if(j7(ee.data,se,J))break;W.next()}}return W.position}(a,r):function(W,J,ee){const se=W.position.textNode;if(se){const ue=se.data;let xe=W.position.offset-se.startOffset;for(;FC(ue,xe)||J=="character"&&$h(ue,xe)||ee&&c0(ue,xe);)W.next(),xe=W.position.offset-se.startOffset}return W.position}(a,g,f);if(b==(r?"elementStart":"elementEnd")){if(h.isSelectable(S))return Pt._createAt(S,r?"after":"before");if(h.checkChild(N,"$text"))return N}else{if(h.isLimit(S))return void a.skip(()=>!0);if(h.checkChild(N,"$text"))return N}}function Q7(l,n){const r=l.root,a=Pt._createAt(r,n?"end":0);return n?new vt(l,a):new vt(a,l)}function j7(l,n,r){const a=n+(r?0:-1);return K7.includes(l.charAt(a))}function O7(l,n,r){return n===(r?l.offsetSize:0)}class q7 extends at(){constructor(){super(),this.markers=new L7,this.document=new E7(this),this.schema=new P8,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(n=>this.decorate(n)),this.on("applyOperation",(n,r)=>{r[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((n,r)=>{if(r.name==="$marker")return!0}),Y8(this),this.document.registerPostFixer(vV),this.on("insertContent",(n,[r,a])=>{n.return=function(g,h,f){return g.change(b=>{const S=f||g.document.selection;S.isCollapsed||g.deleteContent(S,{doNotAutoparagraph:!0});const N=new U7(g,b,S.anchor),W=[];let J;if(h.is("documentFragment")){if(h.markers.size){const ue=[];for(const[xe,Le]of h.markers){const{start:Ye,end:$e}=Le,ht=Ye.isEqual($e);ue.push({position:Ye,name:xe,isCollapsed:ht},{position:$e,name:xe,isCollapsed:ht})}ue.sort(({position:xe},{position:Le})=>xe.isBefore(Le)?1:-1);for(const{position:xe,name:Le,isCollapsed:Ye}of ue){let $e=null,ht=null;const Tt=xe.parent===h&&xe.isAtStart,rn=xe.parent===h&&xe.isAtEnd;Tt||rn?Ye&&(ht=Tt?"start":"end"):($e=b.createElement("$marker"),b.insert($e,xe)),W.push({name:Le,element:$e,collapsed:ht})}}J=h.getChildren()}else J=[h];N.handleNodes(J);let ee=N.getSelectionRange();if(h.is("documentFragment")&&W.length){const ue=ee?Ta.fromRange(ee):null,xe={};for(let Le=W.length-1;Le>=0;Le--){const{name:Ye,element:$e,collapsed:ht}=W[Le],Tt=!xe[Ye];if(Tt&&(xe[Ye]=[]),$e){const rn=b.createPositionAt($e,"before");xe[Ye].push(rn),b.remove($e)}else{const rn=N.getAffectedRange();if(!rn){ht&&xe[Ye].push(N.position);continue}ht?xe[Ye].push(rn[ht]):xe[Ye].push(Tt?rn.start:rn.end)}}for(const[Le,[Ye,$e]]of Object.entries(xe))Ye&&$e&&Ye.root===$e.root&&Ye.root.document&&!b.model.markers.has(Le)&&b.addMarker(Le,{usingOperation:!0,affectsData:!0,range:new vt(Ye,$e)});ue&&(ee=ue.toRange(),ue.detach())}ee&&(S instanceof sc?b.setSelection(ee):S.setTo(ee));const se=N.getAffectedRange()||g.createRange(S.anchor);return N.destroy(),se})}(this,r,a)}),this.on("insertObject",(n,[r,a,g])=>{n.return=P7(this,r,a,g)}),this.on("canEditAt",n=>{const r=!this.document.isReadOnly;n.return=r,r||n.stop()})}change(n){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Cm,callback:n}),this._runPendingChanges()[0]):n(this._currentWriter)}catch(r){P.rethrowUnexpectedError(r,this)}}enqueueChange(n,r){try{n?typeof n=="function"?(r=n,n=new Cm):n instanceof Cm||(n=new Cm(n)):n=new Cm,this._pendingChanges.push({batch:n,callback:r}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(a){P.rethrowUnexpectedError(a,this)}}applyOperation(n){n._execute()}insertContent(n,r,a,...g){const h=cB(r,a);return this.fire("insertContent",[n,h,a,...g])}insertObject(n,r,a,g,...h){const f=cB(r,a);return this.fire("insertObject",[n,f,g,g,...h])}deleteContent(n,r){J7(this,n,r)}modifySelection(n,r){(function(a,g,h={}){const f=a.schema,b=h.direction!="backward",S=h.unit?h.unit:"character",N=!!h.treatEmojiAsSingleUnit,W=g.focus,J=new Jg({boundaries:Q7(W,b),singleCharacters:!0,direction:b?"forward":"backward"}),ee={walker:J,schema:f,isForward:b,unit:S,treatEmojiAsSingleUnit:N};let se;for(;se=J.next();){if(se.done)return;const ue=z7(ee,se.value);if(ue)return void(g instanceof sc?a.change(xe=>{xe.setSelectionFocus(ue)}):g.setFocus(ue))}})(this,n,r)}getSelectedContent(n){return function(r,a){return r.change(g=>{const h=g.createDocumentFragment(),f=a.getFirstRange();if(!f||f.isCollapsed)return h;const b=f.start.root,S=f.start.getCommonPath(f.end),N=b.getNodeByPath(S);let W;W=f.start.parent==f.end.parent?f:g.createRange(g.createPositionAt(N,f.start.path[S.length]),g.createPositionAt(N,f.end.path[S.length]+1));const J=W.end.offset-W.start.offset;for(const ee of W.getItems({shallow:!0}))ee.is("$textProxy")?g.appendText(ee.data,ee.getAttributes(),h):g.append(g.cloneElement(ee,!0),h);if(W!=f){const ee=f._getTransformedByMove(W.start,g.createPositionAt(h,0),J)[0],se=g.createRange(g.createPositionAt(h,0),ee.start);dE(g.createRange(ee.end,g.createPositionAt(h,"end")),g),dE(se,g)}return h})}(this,n)}hasContent(n,r={}){const a=n instanceof vt?n:vt._createIn(n);if(a.isCollapsed)return!1;const{ignoreWhitespaces:g=!1,ignoreMarkers:h=!1}=r;if(!h){for(const f of this.markers.getMarkersIntersectingRange(a))if(f.affectsData)return!0}for(const f of a.getItems())if(this.schema.isContent(f)&&(!f.is("$textProxy")||!g||f.data.search(/\S/)!==-1))return!0;return!1}canEditAt(n){const r=cB(n);return this.fire("canEditAt",[r])}createPositionFromPath(n,r,a){return new Pt(n,r,a)}createPositionAt(n,r){return Pt._createAt(n,r)}createPositionAfter(n){return Pt._createAfter(n)}createPositionBefore(n){return Pt._createBefore(n)}createRange(n,r){return new vt(n,r)}createRangeIn(n){return vt._createIn(n)}createRangeOn(n){return vt._createOn(n)}createSelection(...n){return new Da(...n)}createBatch(n){return new Cm(n)}createOperationFromJSON(n){return h7.fromJSON(n,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const n=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const r=this._pendingChanges[0].batch;this._currentWriter=new M7(this,r);const a=this._pendingChanges[0].callback(this._currentWriter);n.push(a),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return n}}function cB(l,n){if(l)return l instanceof Da||l instanceof sc?l:l instanceof Nu?n||n===0?new Da(l,n):l.is("rootElement")?new Da(l,"in"):new Da(l,"on"):new Da(l)}class $7 extends $d{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(n){this.fire(n.type,n)}}class gB extends $d{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(n){this.fire(n.type,n)}}class Kg{constructor(n){this.document=n}createDocumentFragment(n){return new Ru(this.document,n)}createElement(n,r,a){return new Ms(this.document,n,r,a)}createText(n){return new wi(this.document,n)}clone(n,r=!1){return n._clone(r)}appendChild(n,r){return r._appendChild(n)}insertChild(n,r,a){return a._insertChild(n,r)}removeChildren(n,r,a){return a._removeChildren(n,r)}remove(n){const r=n.parent;return r?this.removeChildren(r.getChildIndex(n),1,r):[]}replace(n,r){const a=n.parent;if(a){const g=a.getChildIndex(n);return this.removeChildren(g,1,a),this.insertChild(g,r,a),!0}return!1}unwrapElement(n){const r=n.parent;if(r){const a=r.getChildIndex(n);this.remove(n),this.insertChild(a,n.getChildren(),r)}}rename(n,r){const a=new Ms(this.document,n,r.getAttributes(),r.getChildren());return this.replace(r,a)?a:null}setAttribute(n,r,a){a._setAttribute(n,r)}removeAttribute(n,r){r._removeAttribute(n)}addClass(n,r){r._addClass(n)}removeClass(n,r){r._removeClass(n)}setStyle(n,r,a){qn(n)&&a===void 0?r._setStyle(n):a._setStyle(n,r)}removeStyle(n,r){r._removeStyle(n)}setCustomProperty(n,r,a){a._setCustomProperty(n,r)}removeCustomProperty(n,r){return r._removeCustomProperty(n)}createPositionAt(n,r){return jt._createAt(n,r)}createPositionAfter(n){return jt._createAfter(n)}createPositionBefore(n){return jt._createBefore(n)}createRange(n,r){return new wn(n,r)}createRangeOn(n){return wn._createOn(n)}createRangeIn(n){return wn._createIn(n)}createSelection(...n){return new ys(...n)}}class e6{constructor(){this._commands=new Map}add(n,r){this._commands.set(n,r)}get(n){return this._commands.get(n)}execute(n,...r){const a=this.get(n);if(!a)throw new P("commandcollection-command-not-found",this,{commandName:n});return a.execute(...r)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const n of this.commands())n.destroy()}}var t6=Object.defineProperty,AE=Object.getOwnPropertySymbols,n6=Object.prototype.hasOwnProperty,i6=Object.prototype.propertyIsEnumerable,uE=(l,n,r)=>n in l?t6(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r;const dB="contentEditing",hE="common";class r6{constructor(n){this.keystrokeInfos=new Map,this._editor=n;const r=n.config.get("menuBar.isVisible"),a=n.locale.t;this.addKeystrokeInfoCategory({id:dB,label:a("Content editing keystrokes"),description:a("These keyboard shortcuts allow for quick access to content editing features.")});const g=[{label:a("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:a("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:a("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:a("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:a("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:a("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];r&&g.push({label:a("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:a("User interface and content navigation keystrokes"),description:a("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:g}]})}addKeystrokeInfoCategory({id:n,label:r,description:a,groups:g}){this.keystrokeInfos.set(n,{id:n,label:r,description:a,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:n,id:hE}),g&&g.forEach(h=>{this.addKeystrokeInfoGroup(((f,b)=>{for(var S in b||(b={}))n6.call(b,S)&&uE(f,S,b[S]);if(AE)for(var S of AE(b))i6.call(b,S)&&uE(f,S,b[S]);return f})({categoryId:n},h))})}addKeystrokeInfoGroup({categoryId:n=dB,id:r,label:a,keystrokes:g}){const h=this.keystrokeInfos.get(n);if(!h)throw new P("accessibility-unknown-keystroke-info-category",this._editor,{groupId:r,categoryId:n});h.groups.set(r,{id:r,label:a,keystrokes:g||[]})}addKeystrokeInfos({categoryId:n=dB,groupId:r=hE,keystrokes:a}){if(!this.keystrokeInfos.has(n))throw new P("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:n,keystrokes:a});const g=this.keystrokeInfos.get(n);if(!g.groups.has(r))throw new P("accessibility-unknown-keystroke-info-group",this._editor,{groupId:r,categoryId:n,keystrokes:a});g.groups.get(r).keystrokes.push(...a)}}var mE=Object.getOwnPropertySymbols,o6=Object.prototype.hasOwnProperty,s6=Object.prototype.propertyIsEnumerable,pE=(l,n)=>{var r={};for(var a in l)o6.call(l,a)&&n.indexOf(a)<0&&(r[a]=l[a]);if(l!=null&&mE)for(var a of mE(l))n.indexOf(a)<0&&s6.call(l,a)&&(r[a]=l[a]);return r};class a6 extends at(){constructor(n={}){super();const r=this.constructor,a=r.defaultConfig||{},{translations:g}=a,h=pE(a,["translations"]),f=n,{translations:b=g}=f,S=pE(f,["translations"]),N=n.language||h.language;this._context=n.context||new bs({language:N,translations:b}),this._context._addEditor(this,!n.context);const W=Array.from(r.builtinPlugins||[]);this.config=new ul(S,h),this.config.define("plugins",W),this.config.define(this._context._getEditorConfig()),this.plugins=new Fr(this,W,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new e6,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new q7,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const J=new Y2;this.data=new A7(this.model,J),this.editing=new J8(this.model,J),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new u7([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Ro(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new r6(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(n){throw new P("editor-isreadonly-has-no-setter")}enableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new P("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)||(this._readOnlyLocks.add(n),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(n){if(typeof n!="string"&&typeof n!="symbol")throw new P("editor-read-only-lock-id-invalid",null,{lockId:n});this._readOnlyLocks.has(n)&&(this._readOnlyLocks.delete(n),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(n){this.data.set(n)}getData(n){return this.data.get(n)}initPlugins(){const n=this.config,r=n.get("plugins"),a=n.get("removePlugins")||[],g=n.get("extraPlugins")||[],h=n.get("substitutePlugins")||[];return this.plugins.init(r.concat(g),a,h)}destroy(){let n=Promise.resolve();return this.state=="initializing"&&(n=new Promise(r=>this.once("ready",r))),n.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(n,...r){try{return this.commands.execute(n,...r)}catch(a){P.rethrowUnexpectedError(a,this)}}focus(){this.editing.view.focus()}static create(...n){throw new Error("This is an abstract method.")}}function AB(l){return class extends l{updateSourceElement(n){if(!this.sourceElement)throw new P("editor-missing-sourceelement",this);const r=this.config.get("updateSourceElementOnDestroy"),a=this.sourceElement instanceof HTMLTextAreaElement;if(!r&&!a)return void xC(this.sourceElement,"");const g=typeof n=="string"?n:this.data.get();xC(this.sourceElement,g)}}}AB.updateSourceElement=AB(Object).prototype.updateSourceElement;class CE extends Wr{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new ia({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(n){if(typeof n!="string")throw new P("pendingactions-add-invalid-message",this);const r=new(at());return r.set("message",n),this._actions.add(r),this.hasAny=!0,r}remove(n){this._actions.remove(n),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Hn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeCustom:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var fE=s(7801),l6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(fE.A,l6),fE.A.locals;class Z0 extends Nt{constructor(n){super(n),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${X()}`;const r=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:r.to("for")},children:[{text:r.to("text")}]})}}class c6 extends Nt{constructor(n,r){super(n);const a=n.t,g=new Z0;g.text=a("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":g.id,role:"document",tabindex:-1},children:[ci(document,"p",{},a("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(r.values())),g]})}focus(){this.element.focus()}_createCategories(n){return n.map(r=>{const a=[ci(document,"h3",{},r.label),...Array.from(r.groups.values()).map(g=>this._createGroup(g)).flat()];return r.description&&a.splice(1,0,ci(document,"p",{},r.description)),ci(document,"section",{},a)})}_createGroup(n){const r=n.keystrokes.sort((g,h)=>g.label.localeCompare(h.label)).map(g=>this._createGroupRow(g)).flat(),a=[ci(document,"dl",{},r)];return n.label&&a.unshift(ci(document,"h4",{},n.label)),a}_createGroupRow(n){const r=this.locale.t,a=ci(document,"dt"),g=ci(document,"dd"),h=function(b){return typeof b=="string"?[[b]]:typeof b[0]=="string"?[b]:b}(n.keystroke),f=[];for(const b of h)f.push(b.map(g6).join(""));return a.innerHTML=n.label,g.innerHTML=f.join(", ")+(n.mayRequireFn&&x.isMac?` ${r("(may require <kbd>Fn</kbd>)")}`:""),[a,g]}}function g6(l){return qh(l).split("+").map(n=>`<kbd>${n}</kbd>`).join("+")}const IE='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var bE=s(8527),d6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(bE.A,d6),bE.A.locals;class A6 extends _t{constructor(){super(...arguments),this.contentView=null}static get requires(){return[jg]}static get pluginName(){return"AccessibilityHelp"}init(){const n=this.editor,r=n.locale.t;n.ui.componentFactory.add("accessibilityHelp",()=>{const a=this._createButton(Bi);return a.set({tooltip:!0,withText:!1,label:r("Accessibility help")}),a}),n.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const a=this._createButton(Xa);return a.label=r("Accessibility"),a}),n.keystrokes.set("Alt+0",(a,g)=>{this._showDialog(),g()}),this._setupRootLabels()}_createButton(n){const r=new n(this.editor.locale);return r.set({keystroke:"Alt+0",icon:IE}),r.on("execute",()=>this._showDialog()),r}_setupRootLabels(){const n=this.editor,r=n.editing.view,a=n.t;function g(h,f){const b=`${f.getAttribute("aria-label")}. ${a("Press %0 for help.",[qh("Alt+0")])}`;h.setAttribute("aria-label",b,f)}n.ui.on("ready",()=>{r.change(h=>{for(const f of r.document.roots)g(h,f)}),n.on("addRoot",(h,f)=>{const b=n.editing.view.document.getRoot(f.rootName);r.change(S=>g(S,b))},{priority:"low"})})}_showDialog(){const n=this.editor,r=n.plugins.get("Dialog"),a=n.locale.t;this.contentView||(this.contentView=new c6(n.locale,n.accessibility.keystrokeInfos)),r.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:a("Accessibility help"),icon:IE,hasCloseButton:!0,content:this.contentView})}}class u6 extends ra{constructor(n,r=[]){super(r),this.locale=n}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new oa({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let n=document.querySelector(".ck-body-wrapper");n||(n=ci(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(n)),n.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const n=document.querySelector(".ck-body-wrapper");n&&n.childElementCount==0&&n.remove()}}var yE=s(7621),h6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(yE.A,h6),yE.A.locals;const vE=class extends Nt{constructor(){super();const l=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",l.if("isVisible","ck-hidden",n=>!n),"ck-reset_all-excluded",l.if("isColorInherited","ck-icon_inherit-color")],viewBox:l.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const l=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),n=l.getAttribute("viewBox");n&&(this.viewBox=n);for(const{name:r,value:a}of Array.from(l.attributes))vE.presentationalAttributeNames.includes(r)&&this.element.setAttribute(r,a);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;l.childNodes.length>0;)this.element.appendChild(l.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(l=>{l.style.fill=this.fillColor})}};let zg=vE;zg.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class m6 extends Nt{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const n=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("style"),id:n.to("id")},children:[{text:n.to("text")}]})}}var wE=s(9715),p6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(wE.A,p6),wE.A.locals;class Bi extends Nt{constructor(n,r=new m6){super(n),this._focusDelayed=null;const a=this.bindTemplate,g=X();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${g}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(r),this.iconView=new zg,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const h={tag:"button",attributes:{class:["ck","ck-button",a.to("class"),a.if("isEnabled","ck-disabled",f=>!f),a.if("isVisible","ck-hidden",f=>!f),a.to("isOn",f=>f?"ck-on":"ck-off"),a.if("withText","ck-button_with-text"),a.if("withKeystroke","ck-button_with-keystroke")],role:a.to("role"),type:a.to("type",f=>f||"button"),tabindex:a.to("tabindex"),"aria-checked":a.to("ariaChecked"),"aria-label":a.to("ariaLabel"),"aria-labelledby":a.to("ariaLabelledBy"),"aria-disabled":a.if("isEnabled",!0,f=>!f),"aria-pressed":a.to("isOn",f=>!!this.isToggleable&&String(!!f)),"data-cke-tooltip-text":a.to("_tooltipString"),"data-cke-tooltip-position":a.to("tooltipPosition")},children:this.children,on:{click:a.to(f=>{this.isEnabled?this.fire("execute"):f.preventDefault()})}};x.isSafari&&(this._focusDelayed||(this._focusDelayed=EC(()=>this.focus(),0)),h.on.mousedown=a.to(()=>{this._focusDelayed()}),h.on.mouseup=a.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(h)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(n){return n.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),n}_createKeystrokeView(){const n=new Nt;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",r=>qh(r))}]}),n}_getTooltipString(n,r,a){return n?typeof n=="string"?n:(a&&(a=qh(a)),n instanceof Function?n(r,a):`${r}${a?` (${a})`:""}`):""}}var kE=s(4391),C6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(kE.A,C6),kE.A.locals;class G0 extends Bi{constructor(n){super(n),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const n=new Nt;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),n}}class BE extends Bi{constructor(n){super(n),this.buttonView=this,this._fileInputView=new f6(n),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class f6 extends Nt{constructor(n){super(n),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:r.to("acceptedType"),multiple:r.to("allowMultipleFiles")},on:{change:r.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const R0='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var xE=s(25),I6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(xE.A,I6),xE.A.locals;class b6 extends Nt{constructor(n,r){super(n);const a=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),r&&this.children.addMany(r),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",a.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:a.if("isCollapsed","hidden"),"aria-labelledby":a.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const n=new Bi(this.locale),r=n.bindTemplate;return n.set({withText:!0,icon:R0}),n.extendTemplate({attributes:{"aria-expanded":r.to("isOn",a=>String(a))}}),n.bind("label").to(this),n.bind("isOn").to(this,"isCollapsed",a=>!a),n.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),n}}var SE=s(7317),y6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(SE.A,y6),SE.A.locals,s(6931),s(9047);var ZE=s(4962),v6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(ZE.A,v6),ZE.A.locals;class N0 extends Nt{constructor(n,r){super(n);const a=`ck-labeled-field-view-${X()}`,g=`ck-labeled-field-view-status-${X()}`;this.fieldView=r(this,a,g),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(a),this.statusView=this._createStatusView(g),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(f,b)=>f||b);const h=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",h.to("class"),h.if("isEnabled","ck-disabled",f=>!f),h.if("isEmpty","ck-labeled-field-view_empty"),h.if("isFocused","ck-labeled-field-view_focused"),h.if("placeholder","ck-labeled-field-view_placeholder"),h.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(n){const r=new Z0(this.locale);return r.for=n,r.bind("text").to(this,"label"),r}_createStatusView(n){const r=new Nt(this.locale),a=this.bindTemplate;return r.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",a.if("errorText","ck-labeled-field-view__status_error"),a.if("_statusText","ck-hidden",g=>!g)],id:n,role:a.if("errorText","alert")},children:[{text:a.to("_statusText")}]}),r}focus(n){this.fieldView.focus(n)}}class w6 extends Nt{constructor(n){super(n),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new bo,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const r=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",r.if("isFocused","ck-input_focused"),r.if("isEmpty","ck-input-text_empty"),r.if("hasError","ck-error")],id:r.to("id"),placeholder:r.to("placeholder"),tabindex:r.to("tabIndex"),readonly:r.to("isReadOnly"),"aria-invalid":r.if("hasError",!0),"aria-describedby":r.to("ariaDescribedById"),"aria-label":r.to("ariaLabel")},on:{input:r.to((...a)=>{this.fire("input",...a),this._updateIsEmpty()}),change:r.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(n,r,a)=>{this._setDomElementValue(a),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(n){this.element.value=n||n===0?n:""}}var GE=s(253),k6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(GE.A,k6),GE.A.locals;class B6 extends w6{constructor(n){super(n),this.set("inputMode","text");const r=this.bindTemplate;this.extendTemplate({attributes:{inputmode:r.to("inputMode")}})}}class x6 extends B6{constructor(n){super(n),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var RE=s(1671),S6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(RE.A,S6),RE.A.locals;class Z6 extends Nt{constructor(n){super(n);const r=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",r.to("position",a=>`ck-dropdown__panel_${a}`),r.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:r.to(a=>{a.target.tagName.toLocaleLowerCase()!=="input"&&a.preventDefault()})}})}focus(){if(this.children.length){const n=this.children.first;typeof n.focus=="function"?n.focus():O("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const n=this.children.last;typeof n.focusLast=="function"?n.focusLast():n.focus()}}}var NE=s(8149),G6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(NE.A,G6),NE.A.locals;const uB=class extends Nt{constructor(l,n,r){super(l);const a=this.bindTemplate;this.buttonView=n,this.panelView=r,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new is,this.focusTracker=new bo,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",a.to("class"),a.if("isEnabled","ck-disabled",g=>!g)],id:a.to("id"),"aria-describedby":a.to("ariaDescribedById")},children:[n,r]}),n.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":a.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(n,r,a)=>{if(a)if(this.panelPosition==="auto"){const g=uB._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=g?g.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const l=(n,r)=>{this.isOpen&&(this.isOpen=!1,r())};this.keystrokes.set("arrowdown",(n,r)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,r())}),this.keystrokes.set("arrowright",(n,r)=>{this.isOpen&&r()}),this.keystrokes.set("arrowleft",l),this.keystrokes.set("esc",l)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:l,north:n,southEast:r,southWest:a,northEast:g,northWest:h,southMiddleEast:f,southMiddleWest:b,northMiddleEast:S,northMiddleWest:N}=uB.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[r,a,f,b,l,g,h,S,N,n]:[a,r,b,f,l,h,g,N,S,n]}};let hB=uB;hB.defaultPanelPositions={south:(l,n)=>({top:l.bottom,left:l.left-(n.width-l.width)/2,name:"s"}),southEast:l=>({top:l.bottom,left:l.left,name:"se"}),southWest:(l,n)=>({top:l.bottom,left:l.left-n.width+l.width,name:"sw"}),southMiddleEast:(l,n)=>({top:l.bottom,left:l.left-(n.width-l.width)/4,name:"sme"}),southMiddleWest:(l,n)=>({top:l.bottom,left:l.left-3*(n.width-l.width)/4,name:"smw"}),north:(l,n)=>({top:l.top-n.height,left:l.left-(n.width-l.width)/2,name:"n"}),northEast:(l,n)=>({top:l.top-n.height,left:l.left,name:"ne"}),northWest:(l,n)=>({top:l.top-n.height,left:l.left-n.width+l.width,name:"nw"}),northMiddleEast:(l,n)=>({top:l.top-n.height,left:l.left-(n.width-l.width)/4,name:"nme"}),northMiddleWest:(l,n)=>({top:l.top-n.height,left:l.left-3*(n.width-l.width)/4,name:"nmw"})},hB._getOptimalPosition=pu;class R6 extends Bi{constructor(n){super(n),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",r=>String(r))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const n=new zg;return n.content=R0,n.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),n}}class bl extends fe(){constructor(n){if(super(),this.focusables=n.focusables,this.focusTracker=n.focusTracker,this.keystrokeHandler=n.keystrokeHandler,this.actions=n.actions,n.actions&&n.keystrokeHandler)for(const r in n.actions){let a=n.actions[r];typeof a=="string"&&(a=[a]);for(const g of a)n.keystrokeHandler.set(g,(h,f)=>{this[r](),f()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(mB)||null}get last(){return this.focusables.filter(mB).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let n=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((r,a)=>{const g=r.element===this.focusTracker.focusedElement;return g&&(n=a),g}),n)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const n=this.next;n&&this.focusables.getIndex(n)===this.current||n===this.first?this.fire("forwardCycle"):this._focus(n,1)}focusPrevious(){const n=this.previous;n&&this.focusables.getIndex(n)===this.current||n===this.last?this.fire("backwardCycle"):this._focus(n,-1)}_focus(n,r){n&&this.focusTracker.focusedElement!==n.element&&n.focus(r)}_getDomFocusableItem(n){const r=this.focusables.length;if(!r)return null;const a=this.current;if(a===null)return this[n===1?"first":"last"];let g=this.focusables.get(a),h=(a+r+n)%r;do{const f=this.focusables.get(h);if(mB(f)){g=f;break}h=(h+r+n)%r}while(h!==a);return g}}function mB(l){return qC(l)&&ml(l.element)}function qC(l){return!(!("focus"in l)||typeof l.focus!="function")}class _E extends Nt{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class N6 extends Nt{constructor(n){super(n),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var _6=Object.defineProperty,VE=Object.getOwnPropertySymbols,V6=Object.prototype.hasOwnProperty,E6=Object.prototype.propertyIsEnumerable,EE=(l,n,r)=>n in l?_6(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,FE=(l,n)=>{for(var r in n||(n={}))V6.call(n,r)&&EE(l,r,n[r]);if(VE)for(var r of VE(n))E6.call(n,r)&&EE(l,r,n[r]);return l};function WE(l){if(Array.isArray(l))return{items:l,removeItems:[]};const n={items:[],removeItems:[]};return l?FE(FE({},n),l):n}var HE=s(9677),F6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(HE.A,F6),HE.A.locals;const W6={alignLeft:Hn.alignLeft,bold:Hn.bold,importExport:Hn.importExport,paragraph:Hn.paragraph,plus:Hn.plus,text:Hn.text,threeVerticalDots:Hn.threeVerticalDots,pilcrow:Hn.pilcrow,dragIndicator:Hn.dragIndicator};class pB extends Nt{constructor(n,r){super(n);const a=this.bindTemplate,g=this.t;this.options=r||{},this.set("ariaLabel",g("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new bo,this.keystrokes=new is,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new H6(n),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const h=n.uiLanguageDirection==="rtl";this._focusCycler=new bl({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[h?"arrowright":"arrowleft","arrowup"],focusNext:[h?"arrowleft":"arrowright","arrowdown"]}});const f=["ck","ck-toolbar",a.to("class"),a.if("isCompact","ck-toolbar_compact")];var b;this.options.shouldGroupWhenFull&&this.options.isFloating&&f.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:f,role:"toolbar","aria-label":a.to("ariaLabel"),style:{maxWidth:a.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(b=this,b.bindTemplate.to(S=>{S.target===b.element&&S.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new T6(this):new D6(this)}render(){super.render(),this.focusTracker.add(this.element);for(const n of this.items)this.focusTracker.add(n.element);this.items.on("add",(n,r)=>{this.focusTracker.add(r.element)}),this.items.on("remove",(n,r)=>{this.focusTracker.remove(r.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(n,r,a){this.items.addMany(this._buildItemsFromConfig(n,r,a))}_buildItemsFromConfig(n,r,a){const g=WE(n),h=a||g.removeItems;return this._cleanItemsConfiguration(g.items,r,h).map(f=>We(f)?this._createNestedToolbarDropdown(f,r,h):f==="|"?new _E:f==="-"?new N6:r.create(f)).filter(f=>!!f)}_cleanItemsConfiguration(n,r,a){const g=n.filter((h,f,b)=>h==="|"||a.indexOf(h)===-1&&(h==="-"?!this.options.shouldGroupWhenFull||(O("toolbarview-line-break-ignored-when-grouping-items",b),!1):!(!We(h)&&!r.has(h))||(O("toolbarview-item-unavailable",{item:h}),!1)));return this._cleanSeparatorsAndLineBreaks(g)}_cleanSeparatorsAndLineBreaks(n){const r=f=>f!=="-"&&f!=="|",a=n.length,g=n.findIndex(r);if(g===-1)return[];const h=a-n.slice().reverse().findIndex(r);return n.slice(g,h).filter((f,b,S)=>r(f)?!0:!(b>0&&S[b-1]===f))}_createNestedToolbarDropdown(n,r,a){let{label:g,icon:h,items:f,tooltip:b=!0,withText:S=!1}=n;if(f=this._cleanItemsConfiguration(f,r,a),!f.length)return null;const N=Qg(this.locale);return g||O("toolbarview-nested-toolbar-dropdown-missing-label",n),N.class="ck-toolbar__nested-toolbar-dropdown",N.buttonView.set({label:g,tooltip:b,withText:!!S}),h!==!1?N.buttonView.icon=W6[h]||h||Hn.threeVerticalDots:N.buttonView.withText=!0,IB(N,()=>N.toolbarView._buildItemsFromConfig(f,r,a)),N}}class H6 extends Nt{constructor(n){super(n),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class D6{constructor(n){const r=n.bindTemplate;n.set("isVertical",!1),n.itemsView.children.bindTo(n.items).using(a=>a),n.focusables.bindTo(n.items).using(a=>qC(a)?a:null),n.extendTemplate({attributes:{class:[r.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class T6{constructor(n){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=n,this.viewChildren=n.children,this.viewFocusables=n.focusables,this.viewItemsView=n.itemsView,this.viewFocusTracker=n.focusTracker,this.viewLocale=n.locale,this.ungroupedItems=n.createCollection(),this.groupedItems=n.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),n.itemsView.children.bindTo(this.ungroupedItems).using(r=>r),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),n.children.on("change",this._updateFocusCyclableItems.bind(this)),n.items.on("change",(r,a)=>{const g=a.index,h=Array.from(a.added);for(const f of a.removed)g>=this.ungroupedItems.length?this.groupedItems.remove(f):this.ungroupedItems.remove(f);for(let f=g;f<g+h.length;f++){const b=h[f-g];f>this.ungroupedItems.length?this.groupedItems.add(b,f-this.ungroupedItems.length):this.ungroupedItems.add(b,f)}this._updateGrouping()}),n.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(n){this.viewElement=n.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(n)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!ml(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const n=this.groupedItems.length;let r;for(;this._areItemsOverflowing;)this._groupLastItem(),r=!0;if(!r&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==n&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const n=this.viewElement,r=this.viewLocale.uiLanguageDirection,a=new Xn(n.lastChild),g=new Xn(n);if(!this.cachedPadding){const h=C.window.getComputedStyle(n),f=r==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(h[f])}return r==="ltr"?a.right>g.right-this.cachedPadding:a.left<g.left+this.cachedPadding}_enableGroupingOnResize(){let n;this.resizeObserver=new zd(this.viewElement,r=>{n&&n===r.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),n=r.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(n){n.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new _E),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const n=this.viewLocale,r=n.t,a=Qg(n);return a.class="ck-toolbar__grouped-dropdown",a.panelPosition=n.uiLanguageDirection==="ltr"?"sw":"se",IB(a,this.groupedItems),a.buttonView.set({label:r("Show more items"),tooltip:!0,tooltipPosition:n.uiLanguageDirection==="rtl"?"se":"sw",icon:Hn.threeVerticalDots}),a}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(n=>{qC(n)&&this.viewFocusables.add(n)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Im extends Nt{constructor(n){super(n);const r=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",r.if("isVisible","ck-hidden",a=>!a)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class CB extends Nt{constructor(n){super(n),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class _0 extends Nt{constructor(n,r=new Z0){super(n);const a=this.bindTemplate,g=new fB(n);this.set({label:"",isVisible:!0}),this.labelView=r,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,g]),g.set({role:"group",ariaLabelledBy:r.id}),g.focusTracker.destroy(),g.keystrokes.destroy(),this.items=g.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",a.if("isVisible","ck-hidden",h=>!h)]},children:this.children})}focus(){if(this.items){const n=this.items.find(r=>!(r instanceof CB));n&&n.focus()}}}var DE=s(5199),L6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(DE.A,L6),DE.A.locals;class fB extends Nt{constructor(n){super(n),this._listItemGroupToChangeListeners=new WeakMap;const r=this.bindTemplate;this.focusables=new ra,this.items=this.createCollection(),this.focusTracker=new bo,this.keystrokes=new is,this._focusCycler=new bl({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:r.to("role"),"aria-label":r.to("ariaLabel"),"aria-labelledby":r.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const n of this.items)n instanceof _0?this._registerFocusableItemsGroup(n):n instanceof Im&&this._registerFocusableListItem(n);this.items.on("change",(n,r)=>{for(const a of r.removed)a instanceof _0?this._deregisterFocusableItemsGroup(a):a instanceof Im&&this._deregisterFocusableListItem(a);for(const a of Array.from(r.added).reverse())a instanceof _0?this._registerFocusableItemsGroup(a,r.index):this._registerFocusableListItem(a,r.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(n,r){this.focusTracker.add(n.element),this.focusables.add(n,r)}_deregisterFocusableListItem(n){this.focusTracker.remove(n.element),this.focusables.remove(n)}_getOnGroupItemsChangeCallback(n){return(r,a)=>{for(const g of a.removed)this._deregisterFocusableListItem(g);for(const g of Array.from(a.added).reverse())this._registerFocusableListItem(g,this.items.getIndex(n)+a.index)}}_registerFocusableItemsGroup(n,r){Array.from(n.items).forEach((g,h)=>{const f=r!==void 0?r+h:void 0;this._registerFocusableListItem(g,f)});const a=this._getOnGroupItemsChangeCallback(n);this._listItemGroupToChangeListeners.set(n,a),n.items.on("change",a)}_deregisterFocusableItemsGroup(n){for(const r of n.items)this._deregisterFocusableListItem(r);n.items.off("change",this._listItemGroupToChangeListeners.get(n)),this._listItemGroupToChangeListeners.delete(n)}}var TE=s(1792),X6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(TE.A,X6),TE.A.locals;class V0 extends Nt{constructor(n,r){super(n);const a=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(r),this.arrowView=this._createArrowView(),this.keystrokes=new is,this.focusTracker=new bo,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",a.to("class"),a.if("isVisible","ck-hidden",g=>!g),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(n,r)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),r())}),this.keystrokes.set("arrowleft",(n,r)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),r())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(n){const r=n||new Bi;return n||r.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),r.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),r.delegate("execute").to(this),r}_createArrowView(){const n=new Bi,r=n.bindTemplate;return n.icon=R0,n.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":r.to("isOn"),"aria-haspopup":!0,"aria-expanded":r.to("isOn",a=>String(a))}}),n.bind("isEnabled").to(this),n.bind("label").to(this),n.bind("tooltip").to(this),n.delegate("execute").to(this,"open"),n}}var LE=s(1666),M6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(LE.A,M6),LE.A.locals;var XE=s(3629),Y6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(XE.A,Y6),XE.A.locals;function Qg(l,n=R6){const r=typeof n=="function"?new n(l):n,a=new Z6(l),g=new hB(l,r,a);return r.bind("isEnabled").to(g),r instanceof V0?r.arrowView.bind("isOn").to(g,"isOpen"):r.bind("isOn").to(g,"isOpen"),function(h){(function(f){f.on("render",()=>{hi({emitter:f,activator:()=>f.isOpen,callback:()=>{f.isOpen=!1},contextElements:()=>[f.element,...f.focusTracker._elements]})})})(h),function(f){f.on("execute",b=>{b.source instanceof G0||(f.isOpen=!1)})}(h),function(f){f.focusTracker.on("change:isFocused",(b,S,N)=>{f.isOpen&&!N&&(f.isOpen=!1)})}(h),function(f){f.keystrokes.set("arrowdown",(b,S)=>{f.isOpen&&(f.panelView.focus(),S())}),f.keystrokes.set("arrowup",(b,S)=>{f.isOpen&&(f.panelView.focusLast(),S())})}(h),function(f){f.on("change:isOpen",(b,S,N)=>{if(N)return;const W=f.panelView.element;W&&W.contains(C.document.activeElement)&&f.buttonView.focus()})}(h),function(f){f.on("change:isOpen",(b,S,N)=>{N&&f.panelView.focus()},{priority:"low"})}(h)}(g),g}function IB(l,n,r={}){l.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),l.isOpen?ME(l,n,r):l.once("change:isOpen",()=>ME(l,n,r),{priority:"highest"}),r.enableActiveItemFocusOnDropdownOpen&&UE(l,()=>l.toolbarView.items.find(a=>a.isOn))}function ME(l,n,r){const a=l.locale,g=a.t,h=l.toolbarView=new pB(a),f=typeof n=="function"?n():n;h.ariaLabel=r.ariaLabel||g("Dropdown toolbar"),r.maxWidth&&(h.maxWidth=r.maxWidth),r.class&&(h.class=r.class),r.isCompact&&(h.isCompact=r.isCompact),r.isVertical&&(h.isVertical=!0),f instanceof ra?h.items.bindTo(f).using(b=>b):h.items.addMany(f),l.panelView.children.add(h),h.items.delegate("execute").to(l)}function YE(l,n,r={}){l.isOpen?JE(l,n,r):l.once("change:isOpen",()=>JE(l,n,r),{priority:"highest"}),UE(l,()=>l.listView.items.find(a=>a instanceof Im&&a.children.first.isOn))}function JE(l,n,r){const a=l.locale,g=l.listView=new fB(a),h=typeof n=="function"?n():n;g.ariaLabel=r.ariaLabel,g.role=r.role,PE(l,g.items,h,a),l.panelView.children.add(g),g.items.delegate("execute").to(l)}function UE(l,n){l.on("change:isOpen",()=>{if(!l.isOpen)return;const r=n();r&&(typeof r.focus=="function"?r.focus():O("ui-dropdown-focus-child-on-open-child-missing-focus",{view:r}))},{priority:Q.low-10})}function PE(l,n,r,a){n.bindTo(r).using(g=>{if(g.type==="separator")return new CB(a);if(g.type==="group"){const h=new _0(a);return h.set({label:g.label}),PE(l,h.items,g.items,a),h.items.delegate("execute").to(l),h}if(g.type==="button"||g.type==="switchbutton"){const h=new Im(a);let f;return g.type==="button"?(f=new Bi(a),f.bind("ariaChecked").to(f,"isOn")):f=new G0(a),f.bind(...Object.keys(g.model)).to(g.model),f.delegate("execute").to(h),h.children.add(f),h}return null})}const E0=(l,n,r)=>{const a=new x6(l.locale);return a.set({id:n,ariaDescribedById:r}),a.bind("isReadOnly").to(l,"isEnabled",g=>!g),a.bind("hasError").to(l,"errorText",g=>!!g),a.on("input",()=>{l.errorText=null}),l.bind("isEmpty","isFocused","placeholder").to(a),a};var KE=s(1905),J6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(KE.A,J6),KE.A.locals;var zE=s(6309),U6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(zE.A,U6),zE.A.locals;class P6{constructor(n){this._components=new Map,this.editor=n}*names(){for(const n of this._components.values())yield n.originalName}add(n,r){this._components.set(bB(n),{callback:r,originalName:n})}create(n){if(!this.has(n))throw new P("componentfactory-item-missing",this,{name:n});return this._components.get(bB(n)).callback(this.editor.locale)}has(n){return this._components.has(bB(n))}}function bB(l){return String(l).toLowerCase()}var QE=s(7913),K6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(QE.A,K6),QE.A.locals;class z6 extends Nt{constructor(n,r={}){super(n);const a=this.bindTemplate;this.set("label",r.label||""),this.set("class",r.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",a.to("class")]},children:this.children}),r.icon&&(this.iconView=new zg,this.iconView.content=r.icon,this.children.add(this.iconView));const g=new Nt(n);g.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:a.to("label")}]}),this.children.add(g)}}var jE=s(9822),Q6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(jE.A,Q6),jE.A.locals;class j6 extends Nt{constructor(n){super(n),this.children=this.createCollection(),this.keystrokes=new is,this._focusTracker=new bo,this._focusables=new ra,this.focusCycler=new bl({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(n){for(const r of n){const a=new Bi(this.locale);let g;for(g in a.on("execute",()=>r.onExecute()),r.onCreate&&r.onCreate(a),r)g!="onExecute"&&g!="onCreate"&&a.set(g,r[g]);this.children.add(a)}this._updateFocusCyclableItems()}focus(n){n===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(n=>{this._focusables.add(n),this._focusTracker.add(n.element)})}}class O6 extends Nt{constructor(n){super(n),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var OE=s(9819),q6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(OE.A,q6),OE.A.locals;const F0="screen-center",qE="editor-center",$6="editor-top-side",eq="editor-top-center",tq="editor-bottom-center",nq="editor-above-center",iq="editor-below-center",$E=Xc("px"),eF=class extends function(l){return class extends l{constructor(...n){super(...n),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(C.document,"mouseup",this._onDragEndBound),this.listenTo(C.document,"touchend",this._onDragEndBound),this.listenTo(C.document,"mousemove",this._onDragBound),this.listenTo(C.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(C.document,"mouseup",this._onDragEndBound),this.stopListening(C.document,"touchend",this._onDragEndBound),this.stopListening(C.document,"mousemove",this._onDragBound),this.stopListening(C.document,"touchmove",this._onDragBound)}_onDragStart(n,r){if(!this._isHandleElementPressed(r))return;this._attachDragListeners();let a=0,g=0;r instanceof MouseEvent?(a=r.clientX,g=r.clientY):(a=r.touches[0].clientX,g=r.touches[0].clientY),this._lastDraggingCoordinates={x:a,y:g},this.isDragging=!0}_onDrag(n,r){if(!this.isDragging)return void this._detachDragListeners();let a=0,g=0;r instanceof MouseEvent?(a=r.clientX,g=r.clientY):(a=r.touches[0].clientX,g=r.touches[0].clientY),r.preventDefault(),this.fire("drag",{deltaX:Math.round(a-this._lastDraggingCoordinates.x),deltaY:Math.round(g-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:a,y:g}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(n){return!!this.dragHandleElement&&(this.dragHandleElement===n.target||n.target instanceof HTMLElement&&this.dragHandleElement.contains(n.target))}}}(Nt){constructor(l,{getCurrentDomRoot:n,getViewportOffset:r}){super(l),this.wasMoved=!1;const a=this.bindTemplate,g=l.t;this.set("className",""),this.set("ariaLabel",g("Editor dialog")),this.set("isModal",!1),this.set("position",F0),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=n,this._getViewportOffset=r,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new is,this.focusTracker=new bo,this._focusables=new ra,this._focusCycler=new bl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",a.if("isModal","ck-dialog-overlay__transparent",h=>!h),a.if("_isVisible","ck-hidden",h=>!h)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",a.to("className")],role:"dialog","aria-label":a.to("ariaLabel"),style:{top:a.to("_top",h=>$E(h)),left:a.to("_left",h=>$E(h)),visibility:a.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(l,n)=>{this.fire("close",{source:"escKeyPress"}),n()}),this.on("drag",(l,{deltaX:n,deltaY:r})=>{this.wasMoved=!0,this.moveBy(n,r)}),this.listenTo(C.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(C.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(l,n,r)=>{r&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:l,title:n,hasCloseButton:r=!0,content:a,actionButtons:g}){n&&(this.headerView=new z6(this.locale,{icon:l}),r&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=n,this.ariaLabel=n,this.parts.add(this.headerView,0)),a&&(a instanceof Nt&&(a=[a]),this.contentView=new O6(this.locale),this.contentView.children.addMany(a),this.parts.add(this.contentView)),g&&(this.actionsView=new j6(this.locale),this.actionsView.setButtons(g),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(l,n){const r=this._getViewportRect(),a=this._getDialogRect();l+a.width>r.right&&(l=r.right-a.width),l<r.left&&(l=r.left),n<r.top&&(n=r.top),this._moveTo(l,n)}_moveTo(l,n){this._left=l,this._top=n}moveBy(l,n){this.moveTo(this._left+l,this._top+n)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const l=this._getViewportRect();let n,r=this.position;this._getCurrentDomRoot()?n=this._getVisibleDomRootRect(l):r=F0;const a=eF.defaultOffset,g=this._getDialogRect();switch(r){case $6:if(n){const h=this.locale.contentLanguageDirection==="ltr"?n.right-g.width-a:n.left+a;this.moveTo(h,n.top+a)}else this._moveOffScreen();break;case qE:n?this.moveTo(Math.round(n.left+n.width/2-g.width/2),Math.round(n.top+n.height/2-g.height/2)):this._moveOffScreen();break;case F0:this.moveTo(Math.round((l.width-g.width)/2),Math.round((l.height-g.height)/2));break;case eq:n?this.moveTo(Math.round(n.left+n.width/2-g.width/2),n.top+a):this._moveOffScreen();break;case tq:n?this.moveTo(Math.round(n.left+n.width/2-g.width/2),n.bottom-g.height-a):this._moveOffScreen();break;case nq:n?this.moveTo(Math.round(n.left+n.width/2-g.width/2),n.top-g.height-a):this._moveOffScreen();break;case iq:n?this.moveTo(Math.round(n.left+n.width/2-g.width/2),n.bottom+a):this._moveOffScreen()}}_getVisibleDomRootRect(l){let n=new Xn(this._getCurrentDomRoot()).getVisible();return n?(n=l.getIntersection(n),n||null):null}_getDialogRect(){return new Xn(this.element.firstElementChild)}_getViewportRect(){return function(l){l=Object.assign({top:0,bottom:0,left:0,right:0},l);const n=new Xn(C.window);return n.top+=l.top,n.height-=l.top,n.bottom-=l.bottom,n.height-=l.bottom,n.left+=l.left,n.right-=l.right,n.width-=l.left+l.right,n}(this._getViewportOffset())}_updateFocusCyclableItems(){const l=[];if(this.contentView)for(const n of this.contentView.children)qC(n)&&l.push(n);this.actionsView&&l.push(this.actionsView),this.closeButtonView&&l.push(this.closeButtonView),l.forEach(n=>{var r;this._focusables.add(n),this.focusTracker.add(n.element),qC(r=n)&&"focusCycler"in r&&r.focusCycler instanceof bl&&(this.listenTo(n.focusCycler,"forwardCycle",a=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&a.stop()}),this.listenTo(n.focusCycler,"backwardCycle",a=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&a.stop()}))})}_createCloseButton(){const l=new Bi(this.locale),n=this.locale.t;return l.set({label:n("Close"),tooltip:!0,icon:Hn.cancel}),l.on("execute",()=>this.fire("close",{source:"closeButton"})),l}};let W0=eF;W0.defaultOffset=15;class jg extends _t{constructor(n){super(n);const r=n.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),n.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:r("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(n,r)=>{this._show(r)}),this.on("show",(n,r)=>{r.onShow&&r.onShow(this)},{priority:"low"}),this.on("hide",()=>{jg._visibleDialogPlugin&&jg._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const n=this.editor;n.keystrokes.set("Ctrl+F6",(r,a)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?n.editing.view.focus():this.view.focus(),a())})}_initMultiRootIntegration(){const n=this.editor.model;n.document.on("change:data",()=>{if(!this.view)return;const r=n.document.differ.getChangedRoots();for(const a of r)a.state&&this.view.updatePosition()})}show(n){this.hide(),this.fire(`show:${n.id}`,n)}_show({id:n,icon:r,title:a,hasCloseButton:g=!0,content:h,actionButtons:f,className:b,isModal:S,position:N,onHide:W}){const J=this.editor;this.view=new W0(J.locale,{getCurrentDomRoot:()=>J.editing.view.getDomRoot(J.model.document.selection.anchor.root.rootName),getViewportOffset:()=>J.ui.viewportOffset});const ee=this.view;ee.on("close",()=>{this.hide()}),J.ui.view.body.add(ee),J.ui.focusTracker.add(ee.element),J.keystrokes.listenTo(ee.element),N||(N=S?F0:qE),ee.set({position:N,_isVisible:!0,className:b,isModal:S}),ee.setupParts({icon:r,title:a,hasCloseButton:g,content:h,actionButtons:f}),this.id=n,W&&(this._onHide=W),this.isOpen=!0,jg._visibleDialogPlugin=this}hide(){jg._visibleDialogPlugin&&jg._visibleDialogPlugin.fire(`hide:${jg._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const n=this.editor,r=this.view;r.contentView&&r.contentView.reset(),n.ui.view.body.remove(r),n.ui.focusTracker.remove(r.element),n.keystrokes.stopListening(r.element),r.destroy(),n.editing.view.focus(),this.id=null,this.isOpen=!1,jg._visibleDialogPlugin=null}}var tF=s(3710),rq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(tF.A,rq),tF.A.locals;var oq=Object.defineProperty,nF=Object.getOwnPropertySymbols,sq=Object.prototype.hasOwnProperty,aq=Object.prototype.propertyIsEnumerable,iF=(l,n,r)=>n in l?oq(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,xi=(l,n)=>{for(var r in n||(n={}))sq.call(n,r)&&iF(l,r,n[r]);if(nF)for(var r of nF(n))aq.call(n,r)&&iF(l,r,n[r]);return l};const rF=Xc("px"),oF=C.document.body,lq={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},yB=class extends Nt{constructor(l){super(l);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",n.to("position",r=>`ck-balloon-panel_${r}`),n.if("isVisible","ck-balloon-panel_visible"),n.if("withArrow","ck-balloon-panel_with-arrow"),n.to("class")],style:{top:n.to("top",rF),left:n.to("left",rF)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(l){this.show();const n=yB.defaultPositions,r=Object.assign({},{element:this.element,positions:[n.southArrowNorth,n.southArrowNorthMiddleWest,n.southArrowNorthMiddleEast,n.southArrowNorthWest,n.southArrowNorthEast,n.northArrowSouth,n.northArrowSouthMiddleWest,n.northArrowSouthMiddleEast,n.northArrowSouthWest,n.northArrowSouthEast,n.viewportStickyNorth],limiter:oF,fitInViewport:!0},l),a=yB._getOptimalPosition(r)||lq,g=parseInt(a.left),h=parseInt(a.top),f=a.name,b=a.config||{},{withArrow:S=!0}=b;this.top=h,this.left=g,this.position=f,this.withArrow=S}pin(l){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(l):this._stopPinning()},this._startPinning(l),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(l){this.attachTo(l);const n=vB(l.target),r=l.limiter?vB(l.limiter):oF;this.listenTo(C.document,"scroll",(a,g)=>{const h=g.target,f=n&&h.contains(n),b=r&&h.contains(r);!f&&!b&&n&&r||this.attachTo(l)},{useCapture:!0}),this.listenTo(C.window,"resize",()=>{this.attachTo(l)})}_stopPinning(){this.stopListening(C.document,"scroll"),this.stopListening(C.window,"resize")}};let ca=yB;function vB(l){return Go(l)?l:Br(l)?l.commonAncestorContainer:typeof l=="function"?vB(l()):null}function sF(l={}){const{sideOffset:n=ca.arrowSideOffset,heightOffset:r=ca.arrowHeightOffset,stickyVerticalOffset:a=ca.stickyVerticalOffset,config:g}=l;return{northWestArrowSouthWest:(b,S)=>xi({top:h(b,S),left:b.left-n,name:"arrow_sw"},g&&{config:g}),northWestArrowSouthMiddleWest:(b,S)=>xi({top:h(b,S),left:b.left-.25*S.width-n,name:"arrow_smw"},g&&{config:g}),northWestArrowSouth:(b,S)=>xi({top:h(b,S),left:b.left-S.width/2,name:"arrow_s"},g&&{config:g}),northWestArrowSouthMiddleEast:(b,S)=>xi({top:h(b,S),left:b.left-.75*S.width+n,name:"arrow_sme"},g&&{config:g}),northWestArrowSouthEast:(b,S)=>xi({top:h(b,S),left:b.left-S.width+n,name:"arrow_se"},g&&{config:g}),northArrowSouthWest:(b,S)=>xi({top:h(b,S),left:b.left+b.width/2-n,name:"arrow_sw"},g&&{config:g}),northArrowSouthMiddleWest:(b,S)=>xi({top:h(b,S),left:b.left+b.width/2-.25*S.width-n,name:"arrow_smw"},g&&{config:g}),northArrowSouth:(b,S)=>xi({top:h(b,S),left:b.left+b.width/2-S.width/2,name:"arrow_s"},g&&{config:g}),northArrowSouthMiddleEast:(b,S)=>xi({top:h(b,S),left:b.left+b.width/2-.75*S.width+n,name:"arrow_sme"},g&&{config:g}),northArrowSouthEast:(b,S)=>xi({top:h(b,S),left:b.left+b.width/2-S.width+n,name:"arrow_se"},g&&{config:g}),northEastArrowSouthWest:(b,S)=>xi({top:h(b,S),left:b.right-n,name:"arrow_sw"},g&&{config:g}),northEastArrowSouthMiddleWest:(b,S)=>xi({top:h(b,S),left:b.right-.25*S.width-n,name:"arrow_smw"},g&&{config:g}),northEastArrowSouth:(b,S)=>xi({top:h(b,S),left:b.right-S.width/2,name:"arrow_s"},g&&{config:g}),northEastArrowSouthMiddleEast:(b,S)=>xi({top:h(b,S),left:b.right-.75*S.width+n,name:"arrow_sme"},g&&{config:g}),northEastArrowSouthEast:(b,S)=>xi({top:h(b,S),left:b.right-S.width+n,name:"arrow_se"},g&&{config:g}),southWestArrowNorthWest:b=>xi({top:f(b),left:b.left-n,name:"arrow_nw"},g&&{config:g}),southWestArrowNorthMiddleWest:(b,S)=>xi({top:f(b),left:b.left-.25*S.width-n,name:"arrow_nmw"},g&&{config:g}),southWestArrowNorth:(b,S)=>xi({top:f(b),left:b.left-S.width/2,name:"arrow_n"},g&&{config:g}),southWestArrowNorthMiddleEast:(b,S)=>xi({top:f(b),left:b.left-.75*S.width+n,name:"arrow_nme"},g&&{config:g}),southWestArrowNorthEast:(b,S)=>xi({top:f(b),left:b.left-S.width+n,name:"arrow_ne"},g&&{config:g}),southArrowNorthWest:b=>xi({top:f(b),left:b.left+b.width/2-n,name:"arrow_nw"},g&&{config:g}),southArrowNorthMiddleWest:(b,S)=>xi({top:f(b),left:b.left+b.width/2-.25*S.width-n,name:"arrow_nmw"},g&&{config:g}),southArrowNorth:(b,S)=>xi({top:f(b),left:b.left+b.width/2-S.width/2,name:"arrow_n"},g&&{config:g}),southArrowNorthMiddleEast:(b,S)=>xi({top:f(b),left:b.left+b.width/2-.75*S.width+n,name:"arrow_nme"},g&&{config:g}),southArrowNorthEast:(b,S)=>xi({top:f(b),left:b.left+b.width/2-S.width+n,name:"arrow_ne"},g&&{config:g}),southEastArrowNorthWest:b=>xi({top:f(b),left:b.right-n,name:"arrow_nw"},g&&{config:g}),southEastArrowNorthMiddleWest:(b,S)=>xi({top:f(b),left:b.right-.25*S.width-n,name:"arrow_nmw"},g&&{config:g}),southEastArrowNorth:(b,S)=>xi({top:f(b),left:b.right-S.width/2,name:"arrow_n"},g&&{config:g}),southEastArrowNorthMiddleEast:(b,S)=>xi({top:f(b),left:b.right-.75*S.width+n,name:"arrow_nme"},g&&{config:g}),southEastArrowNorthEast:(b,S)=>xi({top:f(b),left:b.right-S.width+n,name:"arrow_ne"},g&&{config:g}),westArrowEast:(b,S)=>xi({top:b.top+b.height/2-S.height/2,left:b.left-S.width-r,name:"arrow_e"},g&&{config:g}),eastArrowWest:(b,S)=>xi({top:b.top+b.height/2-S.height/2,left:b.right+r,name:"arrow_w"},g&&{config:g}),viewportStickyNorth:(b,S,N,W)=>{const J=W||N;return b.getIntersection(J)?J.height-b.height>a?null:{top:J.top+a,left:b.left+b.width/2-S.width/2,name:"arrowless",config:xi({withArrow:!1},g)}:null}};function h(b,S){return b.top-S.height-r}function f(b){return b.bottom+r}}ca.arrowSideOffset=25,ca.arrowHeightOffset=10,ca.stickyVerticalOffset=20,ca._getOptimalPosition=pu,ca.defaultPositions=sF();var aF=s(9205),cq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(aF.A,cq),aF.A.locals;const lF="ck-tooltip",ga=class extends mr(){constructor(l){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,ga._editors.add(l),ga._instance)return ga._instance;ga._instance=this,this.tooltipTextView=new Nt(l.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new ca(l.locale),this.balloonPanelView.class=lF,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(n){const r=new MutationObserver(()=>{n()});return{attach(a){r.observe(a,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){r.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=mm(this._pinTooltip,600),this._unpinTooltipDebounced=mm(this._unpinTooltip,400),this.listenTo(C.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(C.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(C.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(C.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(C.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(C.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(l){const n=l.ui.view&&l.ui.view.body;ga._editors.delete(l),this.stopListening(l.ui),n&&n.has(this.balloonPanelView)&&n.remove(this.balloonPanelView),ga._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),ga._instance=null)}static getPositioningFunctions(l){const n=ga.defaultBalloonPositions;return{s:[n.southArrowNorth,n.southArrowNorthEast,n.southArrowNorthWest],n:[n.northArrowSouth],e:[n.eastArrowWest],w:[n.westArrowEast],sw:[n.southArrowNorthEast],se:[n.southArrowNorthWest]}[l]}_onKeyDown(l,n){n.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),n.stopPropagation())}_onEnterOrFocus(l,{target:n}){const r=wB(n);r?r!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(r,cF(r))):l.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(l,{target:n,relatedTarget:r}){if(l.name==="mouseleave"){if(!Go(n))return;const a=this.balloonPanelView.element,g=a&&(a===r||a.contains(r)),h=!g&&n===a;if(g)return void this._unpinTooltipDebounced.cancel();if(!h&&this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;const f=wB(n),b=wB(r);(h||f&&f!==b)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(l,{target:n}){this._currentElementWithTooltip&&(n.contains(this.balloonPanelView.element)&&n.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(l,{text:n,position:r,cssClass:a}){this._unpinTooltip();const g=Io(ga._editors.values()).ui.view.body;g.has(this.balloonPanelView)||g.add(this.balloonPanelView),this.tooltipTextView.text=n,this.balloonPanelView.pin({target:l,positions:ga.getPositioningFunctions(r)}),this._resizeObserver=new zd(l,()=>{ml(l)||this._unpinTooltip()}),this._mutationObserver.attach(l),this.balloonPanelView.class=[lF,a].filter(h=>h).join(" ");for(const h of ga._editors)this.listenTo(h.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=l,this._currentTooltipPosition=r}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const l of ga._editors)this.stopListening(l.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const l=cF(this._currentElementWithTooltip);ml(this._currentElementWithTooltip)&&l.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:ga.getPositioningFunctions(l.position)}):this._unpinTooltip()}};let H0=ga;function wB(l){return Go(l)?l.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function cF(l){return{text:l.dataset.ckeTooltipText,position:l.dataset.ckeTooltipPosition||"s",cssClass:l.dataset.ckeTooltipClass||""}}H0.defaultBalloonPositions=sF({heightOffset:5,sideOffset:13}),H0._editors=new Set,H0._instance=null;const D0=function(l,n,r){var a=!0,g=!0;if(typeof l!="function")throw new TypeError("Expected a function");return We(r)&&(a="leading"in r?!!r.leading:a,g="trailing"in r?!!r.trailing:g),mm(l,n,{leading:a,maxWait:n,trailing:g})};var gq=Object.defineProperty,gF=Object.getOwnPropertySymbols,dq=Object.prototype.hasOwnProperty,Aq=Object.prototype.propertyIsEnumerable,dF=(l,n,r)=>n in l?gq(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,uq=(l,n)=>{for(var r in n||(n={}))dq.call(n,r)&&dF(l,r,n[r]);if(gF)for(var r of gF(n))Aq.call(n,r)&&dF(l,r,n[r]);return l};const hq=50,mq=350,pq="Powered by";class Cq extends mr(){constructor(n){super(),this.editor=n,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=D0(this._showBalloon.bind(this),50,{leading:!0}),n.on("ready",this._handleEditorReady.bind(this))}destroy(){const n=this._balloonView;n&&(n.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const n=this.editor;(n.config.get("ui.poweredBy.forceVisible")||function(r){function a(se){return se.length>=40&&se.length<=255?"VALID":"INVALID"}if(!r)return"INVALID";let g="";try{g=atob(r)}catch{return"INVALID"}const h=g.split("-"),f=h[0],b=h[1];if(!b)return a(r);try{atob(b)}catch{try{if(atob(f),!atob(f).length)return a(r)}catch{return a(r)}}if(f.length<40||f.length>255)return"INVALID";let S="";try{atob(f),S=atob(b)}catch{return"INVALID"}if(S.length!==8)return"INVALID";const N=Number(S.substring(0,4)),W=Number(S.substring(4,6))-1,J=Number(S.substring(6,8)),ee=new Date(N,W,J);return ee<be||isNaN(Number(ee))?"INVALID":"VALID"}(n.config.get("licenseKey"))!=="VALID")&&n.ui.view&&(n.ui.focusTracker.on("change:isFocused",(r,a,g)=>{this._updateLastFocusedEditableElement(),g?this._showBalloon():this._hideBalloon()}),n.ui.focusTracker.on("change:focusedElement",(r,a,g)=>{this._updateLastFocusedEditableElement(),g&&this._showBalloon()}),n.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const n=this.editor,r=this._balloonView=new ca,a=uF(n),g=new fq(n.locale,a.label);r.content.add(g),r.set({class:"ck-powered-by-balloon"}),n.ui.view.body.add(r),n.ui.focusTracker.add(r.element),this._balloonView=r}_showBalloon(){if(!this._lastFocusedEditableElement)return;const n=function(r,a){const g=uF(r),h=g.side==="right"?function(f,b){return AF(f,b,(S,N)=>S.left+S.width-N.width-b.horizontalOffset)}(a,g):function(f,b){return AF(f,b,S=>S.left+b.horizontalOffset)}(a,g);return{target:a,positions:[h]}}(this.editor,this._lastFocusedEditableElement);n&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(n))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const n=this.editor,r=n.ui.focusTracker.isFocused,a=n.ui.focusTracker.focusedElement;if(!r||!a)return void(this._lastFocusedEditableElement=null);const g=Array.from(n.ui.getEditableElementsNames()).map(h=>n.ui.getEditableElement(h));g.includes(a)?this._lastFocusedEditableElement=a:this._lastFocusedEditableElement=g[0]}}class fq extends Nt{constructor(n,r){super(n);const a=new zg,g=this.bindTemplate;a.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),a.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...r?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[r]}]:[],a],on:{dragstart:g.to(h=>h.preventDefault())}}]})}}function AF(l,n,r){return(a,g)=>{const h=new Xn(l);if(h.width<mq||h.height<hq)return null;let f;f=n.position==="inside"?h.bottom-g.height:h.bottom-g.height/2,f-=n.verticalOffset;const b=r(h,g),S=a.clone().moveTo(b,f).getIntersection(g.clone().moveTo(b,f)).getVisible();return!S||S.getArea()<g.getArea()?null:{top:f,left:b,name:`position_${n.position}-side_${n.side}`,config:{withArrow:!1}}}}function uF(l){const n=l.config.get("ui.poweredBy"),r=n&&n.position||"border";return uq({position:r,label:pq,verticalOffset:r==="inside"?5:0,horizontalOffset:5,side:l.locale.contentLanguageDirection==="ltr"?"right":"left"},n)}var hF=s(1801),Iq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(hF.A,Iq),hF.A.locals;const mF={POLITE:"polite",ASSERTIVE:"assertive"};class bq{constructor(n){this.editor=n,n.once("ready",()=>{for(const r of Object.values(mF))this.announce("",r)})}announce(n,r=mF.POLITE){const a=this.editor;if(!a.ui.view)return;this.view||(this.view=new yq(a.locale),a.ui.view.body.add(this.view));const{politeness:g,isUnsafeHTML:h}=typeof r=="string"?{politeness:r}:r;let f=this.view.regionViews.find(b=>b.politeness===g);f||(f=new vq(a,g),this.view.regionViews.add(f)),f.announce({announcement:n,isUnsafeHTML:h})}}class yq extends Nt{constructor(n){super(n),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class vq extends Nt{constructor(n,r){super(n.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":r,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),n.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=r,this._domConverter=n.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:n,isUnsafeHTML:r}){if(!n.trim().length)return;const a=document.createElement("li");r?this._domConverter.setContentOf(a,n):a.innerText=n,this._listElement.appendChild(a)}get _listElement(){return this.element.querySelector("ul")}}var wq=Object.defineProperty,pF=Object.getOwnPropertySymbols,kq=Object.prototype.hasOwnProperty,Bq=Object.prototype.propertyIsEnumerable,CF=(l,n,r)=>n in l?wq(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r;class xq extends at(){constructor(n){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const r=n.editing.view;this.editor=n,this.componentFactory=new P6(n),this.focusTracker=new bo,this.tooltipManager=new H0(n),this.poweredBy=new Cq(n),this.ariaLiveAnnouncer=new bq(n),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(r.document,"layoutChanged",this.update.bind(this)),this.listenTo(r,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const n of this._editableElementsMap.values())n.ckeditorInstance=null,this.editor.keystrokes.stopListening(n);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(n,r){this._editableElementsMap.set(n,r),r.ckeditorInstance||(r.ckeditorInstance=this.editor),this.focusTracker.add(r);const a=()=>{this.editor.editing.view.getDomRoot(n)||this.editor.keystrokes.listenTo(r)};this.isReady?a():this.once("ready",a)}removeEditableElement(n){const r=this._editableElementsMap.get(n);r&&(this._editableElementsMap.delete(n),this.editor.keystrokes.stopListening(r),this.focusTracker.remove(r),r.ckeditorInstance=null)}getEditableElement(n="main"){return this._editableElementsMap.get(n)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(n,r={}){n.isRendered?(this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)):n.once("render",()=>{this.focusTracker.add(n.element),this.editor.keystrokes.listenTo(n.element)}),this._focusableToolbarDefinitions.push({toolbarView:n,options:r})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const n=this.editor,r=n.config.get("ui.viewportOffset");if(r)return r;const a=n.config.get("toolbar.viewportTopOffset");return a?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:a}):{top:0}}_initFocusTracking(){const n=this.editor,r=n.editing.view;let a,g;n.keystrokes.set("Alt+F10",(h,f)=>{const b=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(b)&&!Array.from(r.domRoots.values()).includes(b)&&(a=b);const S=this._getCurrentFocusedToolbarDefinition();S&&g||(g=this._getFocusableCandidateToolbarDefinitions());for(let N=0;N<g.length;N++){const W=g.shift();if(g.push(W),W!==S&&this._focusFocusableCandidateToolbar(W)){S&&S.options.afterBlur&&S.options.afterBlur();break}}f()}),n.keystrokes.set("Esc",(h,f)=>{const b=this._getCurrentFocusedToolbarDefinition();b&&(a?(a.focus(),a=null):n.editing.view.focus(),b.options.afterBlur&&b.options.afterBlur(),f())})}_getFocusableCandidateToolbarDefinitions(){const n=[];for(const r of this._focusableToolbarDefinitions){const{toolbarView:a,options:g}=r;(ml(a.element)||g.beforeFocus)&&n.push(r)}return n.sort((r,a)=>fF(r)-fF(a)),n}_getCurrentFocusedToolbarDefinition(){for(const n of this._focusableToolbarDefinitions)if(n.toolbarView.element&&n.toolbarView.element.contains(this.focusTracker.focusedElement))return n;return null}_focusFocusableCandidateToolbar(n){const{toolbarView:r,options:{beforeFocus:a}}=n;return a&&a(),!!ml(r.element)&&(r.focus(),!0)}_handleScrollToTheSelection(n,r){const a=((g,h)=>{for(var f in h||(h={}))kq.call(h,f)&&CF(g,f,h[f]);if(pF)for(var f of pF(h))Bq.call(h,f)&&CF(g,f,h[f]);return g})({top:0,bottom:0,left:0,right:0},this.viewportOffset);r.viewportOffset.top+=a.top,r.viewportOffset.bottom+=a.bottom,r.viewportOffset.left+=a.left,r.viewportOffset.right+=a.right}}function fF(l){const{toolbarView:n,options:r}=l;let a=10;return ml(n.element)&&a--,r.isContextual&&a--,a}var IF=s(1185),Sq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(IF.A,Sq),IF.A.locals;class Zq extends Nt{constructor(n){super(n),this.body=new u6(n)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class Gq extends Zq{constructor(n){super(n),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:n.uiLanguageDirection,lang:n.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const n=this.t,r=new Z0;return r.text=n("Rich Text Editor"),r.extendTemplate({attributes:{class:"ck-voice-label"}}),r}}class Rq extends Nt{constructor(n,r,a){super(n),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:n.contentLanguage,dir:n.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=a,this._hasExternalElement=!!this._editableElement,this._editingView=r}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const n=this._editingView;function r(a){n.change(g=>{const h=n.document.getRoot(a.name);g.addClass(a.isFocused?"ck-focused":"ck-blurred",h),g.removeClass(a.isFocused?"ck-blurred":"ck-focused",h)})}n.isRenderingInProgress?function a(g){n.once("change:isRenderingInProgress",(h,f,b)=>{b?a(g):r(g)})}(this):r(this)}}class Nq extends Rq{constructor(n,r,a,g={}){super(n,r,a);const h=n.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=g.label||(()=>h("Editor editing area: %0",this.name))}render(){super.render();const n=this._editingView;n.change(r=>{const a=n.document.getRoot(this.name);r.setAttribute("aria-label",this._generateLabel(this),a)})}}class kB extends Wr{static get pluginName(){return"Notification"}init(){this.on("show:warning",(n,r)=>{window.alert(r.message)},{priority:"lowest"})}showSuccess(n,r={}){this._showNotification({message:n,type:"success",namespace:r.namespace,title:r.title})}showInfo(n,r={}){this._showNotification({message:n,type:"info",namespace:r.namespace,title:r.title})}showWarning(n,r={}){this._showNotification({message:n,type:"warning",namespace:r.namespace,title:r.title})}_showNotification(n){const r=n.namespace?`show:${n.type}:${n.namespace}`:`show:${n.type}`;this.fire(r,{message:n.message,type:n.type,title:n.title||""})}}class bF extends at(){constructor(n,r){super(),r&&P_(this,r),n&&this.set(n)}}var yF=s(991),_q={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(yF.A,_q),yF.A.locals;var vF=s(5380),Vq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(vF.A,Vq),vF.A.locals;const T0=Xc("px");class L0 extends _t{constructor(n){super(n),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const r=this.editor.editing.view,a=r.document.selection.editableElement;return a?r.domConverter.mapViewToDom(a.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(n){return Array.from(this._viewToStack.keys()).includes(n)}add(n){if(this._view||this._createPanelView(),this.hasView(n.view))throw new P("contextualballoon-add-view-exist",[this,n]);const r=n.stackId||"main";if(!this._idToStack.has(r))return this._idToStack.set(r,new Map([[n.view,n]])),this._viewToStack.set(n.view,this._idToStack.get(r)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!n.singleViewMode||this.showStack(r));const a=this._idToStack.get(r);n.singleViewMode&&this.showStack(r),a.set(n.view,n),this._viewToStack.set(n.view,a),a===this._visibleStack&&this._showView(n)}remove(n){if(!this.hasView(n))throw new P("contextualballoon-remove-view-not-exist",[this,n]);const r=this._viewToStack.get(n);this._singleViewMode&&this.visibleView===n&&(this._singleViewMode=!1),this.visibleView===n&&(r.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(r.values())[r.size-2])),r.size===1?(this._idToStack.delete(this._getStackId(r)),this._numberOfStacks=this._idToStack.size):r.delete(n),this._viewToStack.delete(n)}updatePosition(n){n&&(this._visibleStack.get(this.visibleView).position=n),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(n){this.visibleStack=n;const r=this._idToStack.get(n);if(!r)throw new P("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==r&&this._showView(Array.from(r.values()).pop())}_createPanelView(){this._view=new ca(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(n){return Array.from(this._idToStack.entries()).find(r=>r[1]===n)[0]}_showNextStack(){const n=Array.from(this._idToStack.values());let r=n.indexOf(this._visibleStack)+1;n[r]||(r=0),this.showStack(this._getStackId(n[r]))}_showPrevStack(){const n=Array.from(this._idToStack.values());let r=n.indexOf(this._visibleStack)-1;n[r]||(r=n.length-1),this.showStack(this._getStackId(n[r]))}_createRotatorView(){const n=new Eq(this.editor.locale),r=this.editor.locale.t;return this.view.content.add(n),n.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(a,g)=>!g&&a>1),n.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),n.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(a,g)=>{if(g<2)return"";const h=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return r("%0 of %1",[h,g])}),n.buttonNextView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),n.buttonPrevView.on("execute",()=>{n.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),n}_createFakePanelsView(){const n=new Fq(this.editor.locale,this.view);return n.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(r,a)=>!a&&r>=2?Math.min(r-1,2):0),n.listenTo(this.view,"change:top",()=>n.updatePosition()),n.listenTo(this.view,"change:left",()=>n.updatePosition()),this.editor.ui.view.body.add(n),n}_showView({view:n,balloonClassName:r="",withArrow:a=!0,singleViewMode:g=!1}){this.view.class=r,this.view.withArrow=a,this._rotatorView.showView(n),this.visibleView=n,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),g&&(this._singleViewMode=!0)}_getBalloonPosition(){let n=Array.from(this._visibleStack.values()).pop().position;return n&&(n.limiter||(n=Object.assign({},n,{limiter:this.positionLimiter})),n=Object.assign({},n,{viewportOffsetConfig:this.editor.ui.viewportOffset})),n}}class Eq extends Nt{constructor(n){super(n);const r=n.t,a=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new bo,this.buttonPrevView=this._createButtonView(r("Previous"),Hn.previousArrow),this.buttonNextView=this._createButtonView(r("Next"),Hn.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",a.to("isNavigationVisible",g=>g?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:a.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(n){this.hideView(),this.content.add(n)}hideView(){this.content.clear()}_createButtonView(n,r){const a=new Bi(this.locale);return a.set({label:n,icon:r,tooltip:!0}),a}}class Fq extends Nt{constructor(n,r){super(n);const a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=r,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",a.to("numberOfPanels",g=>g?"":"ck-hidden")],style:{top:a.to("top",T0),left:a.to("left",T0),width:a.to("width",T0),height:a.to("height",T0)}},children:this.content}),this.on("change:numberOfPanels",(g,h,f,b)=>{f>b?this._addPanels(f-b):this._removePanels(b-f),this.updatePosition()})}_addPanels(n){for(;n--;){const r=new Nt;r.setTemplate({tag:"div"}),this.content.add(r),this.registerChild(r)}}_removePanels(n){for(;n--;){const r=this.content.last;this.content.remove(r),this.deregisterChild(r),r.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:n,left:r}=this._balloonPanelView,{width:a,height:g}=new Xn(this._balloonPanelView.element);Object.assign(this,{top:n,left:r,width:a,height:g})}}}var wF=s(8298),Wq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(wF.A,Wq),wF.A.locals;const bm=Xc("px");class Hq extends Nt{constructor(n){super(n);const r=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new oa({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:r.to("isSticky",a=>a?"block":"none"),height:r.to("isSticky",a=>a?bm(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new oa({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",r.if("isSticky","ck-sticky-panel__content_sticky"),r.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:r.to("isSticky",a=>a?bm(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:r.to("_stickyTopOffset",a=>a&&bm(a)),bottom:r.to("_stickyBottomOffset",a=>a&&bm(a)),marginLeft:r.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(C.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const n=new Xn(this.limiterElement);let r=n.getVisible();if(r){const a=new Xn(C.window);a.top+=this.viewportTopOffset,a.height-=this.viewportTopOffset,r=r.getIntersection(a)}if(r&&n.top<r.top){const a=r.top;if(a+this._contentPanelRect.height+this.limiterBottomOffset>r.bottom){const g=Math.max(n.bottom-r.bottom,0)+this.limiterBottomOffset;n.bottom-g>n.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(g):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<n.height?this._stickToTopOfAncestors(a):this._unstick()}else this._unstick()}_stickToTopOfAncestors(n){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=n,this._stickyBottomOffset=null,this._marginLeft=bm(-C.window.scrollX)}_stickToBottomOfLimiter(n){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=n,this._marginLeft=bm(-C.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Xn(this.contentPanelElement)}}class Dq extends N0{constructor(n,r){const a=n.t,g=Object.assign({},{showResetButton:!0,showIcon:!0,creator:E0},r);super(n,g.creator),this.label=r.label,this._viewConfig=g,this._viewConfig.showIcon&&(this.iconView=new zg,this.iconView.content=Hn.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Bi(n),this.resetButtonView.set({label:a("Clear"),icon:Hn.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",h=>!h),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class Tq extends Nt{constructor(){super();const n=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",n.if("isVisible","ck-hidden",r=>!r)],tabindex:-1},children:[{tag:"span",children:[{text:[n.to("primaryText")]}]},{tag:"span",children:[{text:[n.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class Lq extends Nt{constructor(n){super(n),this.children=this.createCollection(),this.focusTracker=new bo,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new bl({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const n of this.children)this.focusTracker.add(n.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var kF=/[\\^$.*+?()[\]{}|]/g,Xq=RegExp(kF.source);const BF=function(l){return(l=om(l))&&Xq.test(l)?l.replace(kF,"\\$&"):l};var xF=s(8107),Mq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(xF.A,Mq),xF.A.locals;var Yq=Object.defineProperty,SF=Object.getOwnPropertySymbols,Jq=Object.prototype.hasOwnProperty,Uq=Object.prototype.propertyIsEnumerable,ZF=(l,n,r)=>n in l?Yq(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r;class Pq extends Nt{constructor(n,r){super(n),this._config=r,this.filteredView=r.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new bo,this.keystrokes=new is,this.resultsView=new Lq(n),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),r.infoView&&r.infoView.instance?this.infoView=r.infoView.instance:(this.infoView=new Tq,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new bl({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(a,{resultsCount:g,totalItemsCount:h})=>{this.resultsCount=g,this.totalItemsCount=h}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",r.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const n=r=>r.stopPropagation();for(const r of this.focusableChildren)this.focusTracker.add(r.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(n){const r=n?new RegExp(BF(n),"ig"):null,a=this.filteredView.filter(r);this.fire("search",((g,h)=>{for(var f in h||(h={}))Jq.call(h,f)&&ZF(g,f,h[f]);if(SF)for(var f of SF(h))Uq.call(h,f)&&ZF(g,f,h[f]);return g})({query:n},a))}_createSearchTextQueryView(){const n=new Dq(this.locale,this._config.queryView);return this.listenTo(n.fieldView,"input",()=>{this.search(n.fieldView.element.value)}),n.on("reset",()=>this.reset()),n.bind("isEnabled").to(this),n}_enableDefaultInfoViewBehavior(){const n=this.locale.t,r=this.infoView;function a(g,{query:h,resultsCount:f,totalItemsCount:b}){return typeof g=="function"?g(h,f,b):g}this.on("search",(g,h)=>{if(h.resultsCount)r.set({isVisible:!1});else{const f=this._config.infoView&&this._config.infoView.text;let b,S;h.totalItemsCount?f&&f.notFound?(b=f.notFound.primary,S=f.notFound.secondary):(b=n("No results found"),S=""):f&&f.noSearchableItems?(b=f.noSearchableItems.primary,S=f.noSearchableItems.secondary):(b=n("No searchable items"),S=""),r.set({primaryText:a(b,h),secondaryText:a(S,h),isVisible:!0})}})}}var GF=s(5727),Kq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(GF.A,Kq),GF.A.locals;const BB=class extends Pq{constructor(l,n){super(l,n),this._config=n;const r=Xc("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const a=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[a.if("isVisible","ck-hidden",g=>!g),a.to("_position",g=>`ck-search__results_${g}`)],style:{width:a.to("_width",r)}}}),this.focusTracker.on("change:isFocused",(g,h,f)=>{this._updateResultsVisibility(),f?this.resultsView.element.scrollTop=0:n.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(g,h)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,h())}),this.listenTo(C.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(g,{value:h})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=h,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Xn(this.queryView.fieldView.element).width;const l=BB._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:BB.defaultResultsPositions});this.resultsView._position=l?l.name:"s"}_updateResultsVisibility(){const l=this._config.queryMinChars===void 0?0:this._config.queryMinChars,n=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&n>=l}};let RF=BB;RF.defaultResultsPositions=[l=>({top:l.bottom,left:l.left,name:"s"}),(l,n)=>({top:l.top-n.height,left:l.left,name:"n"})],RF._getOptimalPosition=pu;var NF=s(9529),zq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(NF.A,zq),NF.A.locals;var _F=s(109),Qq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(_F.A,Qq),_F.A.locals;var VF=s(2710),jq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(VF.A,jq),VF.A.locals;var EF=s(3344),Oq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(EF.A,Oq),EF.A.locals;class qq extends Bi{constructor(n){super(n);const r=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",a=>String(a)),"data-cke-tooltip-disabled":r.to("isOn")},on:{mouseenter:r.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const n=new zg;return n.content=R0,n.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),n}}var FF=s(9481),$q={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(FF.A,$q),FF.A.locals;class xB extends Im{constructor(n,r){super(n);const a=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:a.to("mouseenter")}}),this.delegate("mouseenter").to(r)}}var e$=Object.defineProperty,WF=Object.getOwnPropertySymbols,t$=Object.prototype.hasOwnProperty,n$=Object.prototype.propertyIsEnumerable,HF=(l,n,r)=>n in l?e$(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,DF=(l,n)=>{for(var r in n||(n={}))t$.call(n,r)&&HF(l,r,n[r]);if(WF)for(var r of WF(n))n$.call(n,r)&&HF(l,r,n[r]);return l};const $C={toggleMenusAndFocusItemsOnHover(l){l.on("menu:mouseenter",n=>{if(l.isOpen){for(const r of l.menus){const a=n.path[0],g=a instanceof xB&&a.children.first===r;r.isOpen=(n.path.includes(r)||g)&&r.isEnabled}n.source.focus()}})},focusCycleMenusOnArrows(l){const n=l.locale.uiLanguageDirection==="rtl";function r(a,g){const h=l.children.getIndex(a),f=a.isOpen,b=l.children.length,S=l.children.get((h+b+g)%b);a.isOpen=!1,f&&(S.isOpen=!0),S.buttonView.focus()}l.on("menu:arrowright",a=>{r(a.source,n?-1:1)}),l.on("menu:arrowleft",a=>{r(a.source,n?1:-1)})},closeMenusWhenTheBarCloses(l){l.on("change:isOpen",()=>{l.isOpen||l.menus.forEach(n=>{n.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(l){l.on("menu:change:isOpen",(n,r,a)=>{a&&l.menus.filter(g=>n.source.parentMenuView===g.parentMenuView&&n.source!==g&&g.isOpen).forEach(g=>{g.isOpen=!1})})},closeOnClickOutside(l){hi({emitter:l,activator:()=>l.isOpen,callback:()=>l.close(),contextElements:()=>l.children.map(n=>n.element)})}},Fu={openAndFocusPanelOnArrowDownKey(l){l.keystrokes.set("arrowdown",(n,r)=>{l.focusTracker.focusedElement===l.buttonView.element&&(l.isOpen||(l.isOpen=!0),l.panelView.focus(),r())})},openOnArrowRightKey(l){const n=l.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";l.keystrokes.set(n,(r,a)=>{l.focusTracker.focusedElement===l.buttonView.element&&l.isEnabled&&(l.isOpen||(l.isOpen=!0),l.panelView.focus(),a())})},openOnButtonClick(l){l.buttonView.on("execute",()=>{l.isOpen=!0,l.panelView.focus()})},toggleOnButtonClick(l){l.buttonView.on("execute",()=>{l.isOpen=!l.isOpen,l.isOpen&&l.panelView.focus()})},closeOnArrowLeftKey(l){const n=l.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";l.keystrokes.set(n,(r,a)=>{l.isOpen&&(l.isOpen=!1,l.focus(),a())})},closeOnEscKey(l){l.keystrokes.set("esc",(n,r)=>{l.isOpen&&(l.isOpen=!1,l.focus(),r())})},closeOnParentClose(l){l.parentMenuView.on("change:isOpen",(n,r,a)=>{a||n.source!==l.parentMenuView||(l.isOpen=!1)})}},i$={southEast:l=>({top:l.bottom,left:l.left,name:"se"}),southWest:(l,n)=>({top:l.bottom,left:l.left-n.width+l.width,name:"sw"}),northEast:(l,n)=>({top:l.top-n.height,left:l.left,name:"ne"}),northWest:(l,n)=>({top:l.top-n.height,left:l.left-n.width+l.width,name:"nw"}),eastSouth:l=>({top:l.top,left:l.right-5,name:"es"}),eastNorth:(l,n)=>({top:l.top-n.height,left:l.right-5,name:"en"}),westSouth:(l,n)=>({top:l.top,left:l.left-n.width+5,name:"ws"}),westNorth:(l,n)=>({top:l.top-n.height,left:l.left-n.width+5,name:"wn"})},r$=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function o$({normalizedConfig:l,locale:n,componentFactory:r}){const a=rc(l);return function(g,h){const f=h.removeItems,b=[];h.items=h.items.filter(({menuId:S})=>!f.includes(S)||(b.push(S),!1)),ym(h.items,S=>{S.groups=S.groups.filter(({groupId:N})=>!f.includes(N)||(b.push(N),!1));for(const N of S.groups)N.items=N.items.filter(W=>{const J=XF(W);return!f.includes(J)||(b.push(J),!1)})});for(const S of f)b.includes(S)||O("menu-bar-item-could-not-be-removed",{menuBarConfig:g,itemName:S})}(l,a),function(g,h){const f=h.addItems,b=[];for(const S of f){const N=l$(S.position),W=c$(S.position);if(s$(S))if(W){const J=h.items.findIndex(ee=>ee.menuId===W);J!=-1?N==="before"?(h.items.splice(J,0,S.menu),b.push(S)):N==="after"&&(h.items.splice(J+1,0,S.menu),b.push(S)):TF(h,S.menu,W,N)&&b.push(S)}else N==="start"?(h.items.unshift(S.menu),b.push(S)):N==="end"&&(h.items.push(S.menu),b.push(S));else a$(S)?ym(h.items,J=>{if(J.menuId===W)N==="start"?(J.groups.unshift(S.group),b.push(S)):N==="end"&&(J.groups.push(S.group),b.push(S));else{const ee=J.groups.findIndex(se=>se.groupId===W);ee!==-1&&(N==="before"?(J.groups.splice(ee,0,S.group),b.push(S)):N==="after"&&(J.groups.splice(ee+1,0,S.group),b.push(S)))}}):TF(h,S.item,W,N)&&b.push(S)}for(const S of f)b.includes(S)||O("menu-bar-item-could-not-be-added",{menuBarConfig:g,addedItemConfig:S})}(l,a),function(g,h,f){ym(h.items,b=>{for(const S of b.groups)S.items=S.items.filter(N=>{const W=typeof N=="string"&&!f.has(N);return W&&!h.isUsingDefaultConfig&&O("menu-bar-item-unavailable",{menuBarConfig:g,parentMenuConfig:rc(b),componentName:N}),!W})})}(l,a,r),LF(l,a),function(g,h){const f=h.t,b={File:f({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:f({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:f({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:f({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:f({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:f({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:f({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:f({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:f({string:"Font",id:"MENU_BAR_MENU_FONT"})};ym(g.items,S=>{S.label in b&&(S.label=b[S.label])})}(a,n),a}function TF(l,n,r,a){let g=!1;return ym(l.items,h=>{for(const{groupId:f,items:b}of h.groups){if(g)return;if(f===r)a==="start"?(b.unshift(n),g=!0):a==="end"&&(b.push(n),g=!0);else{const S=b.findIndex(N=>XF(N)===r);S!==-1&&(a==="before"?(b.splice(S,0,n),g=!0):a==="after"&&(b.splice(S+1,0,n),g=!0))}}}),g}function LF(l,n){const r=n.isUsingDefaultConfig;let a=!1;n.items=n.items.filter(g=>!!g.groups.length||(SB(l,g,r),!1)),n.items.length?(ym(n.items,g=>{g.groups=g.groups.filter(h=>!!h.items.length||(a=!0,!1));for(const h of g.groups)h.items=h.items.filter(f=>!(MF(f)&&!f.groups.length)||(SB(l,f,r),a=!0,!1))}),a&&LF(l,n)):SB(l,l,r)}function SB(l,n,r){r||O("menu-bar-menu-empty",{menuBarConfig:l,emptyMenuConfig:n})}function ym(l,n){if(Array.isArray(l))for(const a of l)r(a);function r(a){n(a);for(const g of a.groups)for(const h of g.items)MF(h)&&r(h)}}function s$(l){return typeof l=="object"&&"menu"in l}function a$(l){return typeof l=="object"&&"group"in l}function l$(l){return l.startsWith("start")?"start":l.startsWith("end")?"end":l.startsWith("after")?"after":"before"}function c$(l){const n=l.match(/^[^:]+:(.+)/);return n?n[1]:null}function XF(l){return typeof l=="string"?l:l.menuId}function MF(l){return typeof l=="object"&&"menuId"in l}function g$(l,n){const r=n.element;l.ui.focusTracker.add(r),l.keystrokes.listenTo(r);const a=function(g){let h;return h="items"in g&&g.items?DF({items:g.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},g):DF({items:rc(r$),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},g),h}(l.config.get("menuBar")||{});n.fillFromConfig(a,l.ui.componentFactory),l.keystrokes.set("Esc",(g,h)=>{r.contains(l.ui.focusTracker.focusedElement)&&(l.editing.view.focus(),h())}),l.keystrokes.set("Alt+F9",(g,h)=>{r.contains(l.ui.focusTracker.focusedElement)||(n.focus(),h())})}var YF=s(9108),d$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(YF.A,d$),YF.A.locals;class A$ extends Nt{constructor(n){super(n);const r=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",r.to("position",a=>`ck-menu-bar__menu__panel_position_${a}`),r.if("isVisible","ck-hidden",a=>!a)],tabindex:"-1"},children:this.children,on:{selectstart:r.to(a=>{a.target.tagName.toLocaleLowerCase()!=="input"&&a.preventDefault()})}})}focus(n=1){this.children.length&&(n===1?this.children.first.focus():this.children.last.focus())}}var JF=s(4),u$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(JF.A,u$),JF.A.locals;const UF=class extends Nt{constructor(l){super(l);const n=this.bindTemplate;this.buttonView=new qq(l),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new A$(l),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new is,this.focusTracker=new bo,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",n.to("class"),n.if("isEnabled","ck-disabled",r=>!r),n.if("parentMenuView","ck-menu-bar__menu_top-level",r=>!r)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),Fu.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(Fu.openOnButtonClick(this),Fu.openOnArrowRightKey(this),Fu.closeOnArrowLeftKey(this),Fu.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),Fu.openAndFocusPanelOnArrowDownKey(this),Fu.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(l,n)=>{this.fire("arrowright"),n()}),this.keystrokes.set("arrowleft",(l,n)=>{this.fire("arrowleft"),n()})}_repositionPanelOnOpen(){this.on("change:isOpen",(l,n,r)=>{if(!r)return;const a=UF._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=a?a.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:l,southWest:n,northEast:r,northWest:a,westSouth:g,eastSouth:h,westNorth:f,eastNorth:b}=i$;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[h,b,g,f]:[l,n,r,a]:this.parentMenuView?[g,f,h,b]:[n,l,a,r]}};let vm=UF;vm._getOptimalPosition=pu;class ZB extends fB{constructor(n){super(n),this.role="menu"}}var PF=s(977),h$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(PF.A,h$),PF.A.locals;class Xa extends Bi{constructor(n){super(n),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class KF extends BE{constructor(n){super(n),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var zF=s(497),m$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(zF.A,m$),zF.A.locals;const QF=["mouseenter","arrowleft","arrowright","change:isOpen"];class p$ extends Nt{constructor(n){super(n),this.menus=[];const r=n.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":r("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(n,r){const a=o$({normalizedConfig:n,locale:this.locale,componentFactory:r}).items.map(g=>this._createMenu({componentFactory:r,menuDefinition:g}));this.children.addMany(a)}render(){super.render(),$C.toggleMenusAndFocusItemsOnHover(this),$C.closeMenusWhenTheBarCloses(this),$C.closeMenuWhenAnotherOnTheSameLevelOpens(this),$C.focusCycleMenusOnArrows(this),$C.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const n of this.children)n.isOpen=!1}registerMenu(n,r=null){r?(n.delegate(...QF).to(r),n.parentMenuView=r):n.delegate(...QF).to(this,a=>"menu:"+a),n._attachBehaviors(),this.menus.push(n)}_createMenu({componentFactory:n,menuDefinition:r,parentMenuView:a}){const g=this.locale,h=new vm(g);return this.registerMenu(h,a),h.buttonView.set({label:r.label}),h.once("change:isOpen",()=>{const f=new ZB(g);f.ariaLabel=r.label,h.panelView.children.add(f),f.items.addMany(this._createMenuItems({menuDefinition:r,parentMenuView:h,componentFactory:n}))}),h}_createMenuItems({menuDefinition:n,parentMenuView:r,componentFactory:a}){const g=this.locale,h=[];for(const f of n.groups){for(const b of f.items){const S=new xB(g,r);if(We(b))S.children.add(this._createMenu({componentFactory:a,menuDefinition:b,parentMenuView:r}));else{const N=this._createMenuItemContentFromFactory({componentName:b,componentFactory:a,parentMenuView:r});if(!N)continue;S.children.add(N)}h.push(S)}f!==n.groups[n.groups.length-1]&&h.push(new CB(g))}return h}_createMenuItemContentFromFactory({componentName:n,parentMenuView:r,componentFactory:a}){const g=a.create(n);return g instanceof vm||g instanceof Xa||g instanceof KF?(this._registerMenuTree(g,r),g.on("execute",()=>{this.close()}),g):(O("menu-bar-component-unsupported",{componentName:n,componentView:g}),null)}_registerMenuTree(n,r){if(!(n instanceof vm))return void n.delegate("mouseenter").to(r);this.registerMenu(n,r);const a=n.panelView.children.filter(h=>h instanceof ZB)[0];if(!a)return void n.delegate("mouseenter").to(r);const g=a.items.filter(h=>h instanceof Im);for(const h of g)this._registerMenuTree(h.children.get(0),n)}_setupIsOpenUpdater(){let n;this.on("menu:change:isOpen",(r,a,g)=>{clearTimeout(n),g?this.isOpen=!0:n=setTimeout(()=>{this.isOpen=Array.from(this.children).some(h=>h.isOpen)},0)})}}class C$ extends xq{constructor(n,r){super(n),this.view=r,this._toolbarConfig=WE(n.config.get("toolbar")),this._elementReplacer=new It,this.listenTo(n.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(n){const r=this.editor,a=this.view,g=r.editing.view,h=a.editable,f=g.document.getRoot();h.name=f.rootName,a.render();const b=h.element;this.setEditableElement(h.name,b),a.editable.bind("isFocused").to(this.focusTracker),g.attachDomRoot(b),n&&this._elementReplacer.replace(n,this.element),this._initPlaceholder(),this._initToolbar(),a.menuBarView&&g$(r,a.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const n=this.view,r=this.editor.editing.view;this._elementReplacer.restore(),r.detachDomRoot(n.editable.name),n.destroy()}_initToolbar(){const n=this.view;n.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),n.stickyPanel.limiterElement=n.element,n.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:r})=>r||0),n.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(n.toolbar)}_initPlaceholder(){const n=this.editor,r=n.editing.view,a=r.document.getRoot(),g=n.sourceElement;let h;const f=n.config.get("placeholder");f&&(h=typeof f=="string"?f:f[this.view.editable.name]),!h&&g&&g.tagName.toLowerCase()==="textarea"&&(h=g.getAttribute("placeholder")),h&&(a.placeholder=h),Cl({view:r,element:a,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(n,r,a){const g=this.view.stickyPanel;if(g.isSticky){const h=new Xn(g.element).height;r.viewportOffset.top+=h}else{const h=()=>{this.editor.editing.view.scrollToTheSelection(a)};this.listenTo(g,"change:isSticky",h),setTimeout(()=>{this.stopListening(g,"change:isSticky",h)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const n=this.view.stickyPanel,r=this.editor.plugins.get("Dialog");r.on("show",()=>{const a=r.view;a.on("moveTo",(g,h)=>{if(!n.isSticky||a.wasMoved)return;const f=new Xn(n.contentPanelElement);h[1]<f.bottom+W0.defaultOffset&&(h[1]=f.bottom+W0.defaultOffset)},{priority:"high"})},{priority:"low"})}}var jF=s(7388),f$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(jF.A,f$),jF.A.locals;class I$ extends Gq{constructor(n,r,a={}){super(n),this.stickyPanel=new Hq(n),this.toolbar=new pB(n,{shouldGroupWhenFull:a.shouldToolbarGroupWhenFull}),a.useMenuBar&&(this.menuBarView=new p$(n)),this.editable=new Nq(n,r)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class OF{constructor(n){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof n.crashNumberLimit=="number"?n.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof n.minimumNonErrorTimePeriod=="number"?n.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=r=>{const a="error"in r?r.error:r.reason;a instanceof Error&&this._handleError(a,r)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(n,r){this._listeners[n]||(this._listeners[n]=[]),this._listeners[n].push(r)}off(n,r){this._listeners[n]=this._listeners[n].filter(a=>a!==r)}_fire(n,...r){const a=this._listeners[n]||[];for(const g of a)g.apply(this,[null,...r])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(n,r){if(this._shouldReactToError(n)){this.crashes.push({message:n.message,stack:n.stack,filename:r instanceof ErrorEvent?r.filename:void 0,lineno:r instanceof ErrorEvent?r.lineno:void 0,colno:r instanceof ErrorEvent?r.colno:void 0,date:this._now()});const a=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:n,causesRestart:a}),a?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(n){return n.is&&n.is("CKEditorError")&&n.context!==void 0&&n.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(n)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function GB(l,n=new Set){const r=[l],a=new Set;let g=0;for(;r.length>g;){const h=r[g++];if(!a.has(h)&&b$(h)&&!n.has(h))if(a.add(h),Symbol.iterator in h)try{for(const f of h)r.push(f)}catch{}else for(const f in h)f!=="defaultValue"&&r.push(h[f])}return a}function b$(l){const n=Object.prototype.toString.call(l),r=typeof l;return!(r==="number"||r==="boolean"||r==="string"||r==="symbol"||r==="function"||n==="[object Date]"||n==="[object RegExp]"||n==="[object Module]"||l==null||l._watchdogExcluded||l instanceof EventTarget||l instanceof Event)}function qF(l,n,r=new Set){if(l===n&&typeof(a=l)=="object"&&a!==null)return!0;var a;const g=GB(l,r),h=GB(n,r);for(const f of g)if(h.has(f))return!0;return!1}var y$=Object.defineProperty,v$=Object.defineProperties,w$=Object.getOwnPropertyDescriptors,X0=Object.getOwnPropertySymbols,$F=Object.prototype.hasOwnProperty,eW=Object.prototype.propertyIsEnumerable,tW=(l,n,r)=>n in l?y$(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,RB=(l,n)=>{for(var r in n||(n={}))$F.call(n,r)&&tW(l,r,n[r]);if(X0)for(var r of X0(n))eW.call(n,r)&&tW(l,r,n[r]);return l};class nW extends OF{constructor(n,r={}){super(r),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=D0(this._save.bind(this),typeof r.saveInterval=="number"?r.saveInterval:5e3),n&&(this._creator=(a,g)=>n.create(a,g)),this._destructor=a=>a.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(n=>{console.error("An error happened during the editor destroying.",n)}).then(()=>{const n={},r=[],a=this._config.rootsAttributes||{},g={};for(const[S,N]of Object.entries(this._data.roots))N.isLoaded?(n[S]="",g[S]=a[S]||{}):r.push(S);const h=(f=RB({},this._config),b={extraPlugins:this._config.extraPlugins||[],lazyRoots:r,rootsAttributes:g,_watchdogInitialData:this._data},v$(f,w$(b)));var f,b;return delete h.initialData,h.extraPlugins.push(k$),this._initUsingData?this.create(n,h,h.context):Go(this._elementOrData)?this.create(this._elementOrData,h,h.context):this.create(this._editables,h,h.context)}).then(()=>{this._fire("restart")})}create(n=this._elementOrData,r=this._config,a){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=n,this._initUsingData=typeof n=="string"||Object.keys(n).length>0&&typeof Object.values(n)[0]=="string",this._config=this._cloneEditorConfiguration(r)||{},this._config.context=a,this._creator(n,this._config))).then(g=>{this._editor=g,g.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=g.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const n=this._editor;return this._editor=null,n.model.document.off("change:data",this._throttledSave),this._destructor(n)})}_save(){const n=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=n}catch(r){console.error(r,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(n){this._excludedProps=n}_getData(){const n=this._editor,r=n.model.document.roots.filter(b=>b.isAttached()&&b.rootName!="$graveyard"),{plugins:a}=n,g=a.has("CommentsRepository")&&a.get("CommentsRepository"),h=a.has("TrackChanges")&&a.get("TrackChanges"),f={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};r.forEach(b=>{f.roots[b.rootName]={content:JSON.stringify(Array.from(b.getChildren())),attributes:JSON.stringify(Array.from(b.getAttributes())),isLoaded:b._isLoaded}});for(const b of n.model.markers)b._affectsData&&(f.markers[b.name]={rangeJSON:b.getRange().toJSON(),usingOperation:b._managedUsingOperations,affectsData:b._affectsData});return g&&(f.commentThreads=JSON.stringify(g.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),h&&(f.suggestions=JSON.stringify(h.getSuggestions({toJSON:!0,skipNotAttached:!0}))),f}_getEditables(){const n={};for(const r of this.editor.model.document.getRootNames()){const a=this.editor.ui.getEditableElement(r);a&&(n[r]=a)}return n}_isErrorComingFromThisItem(n){return qF(this._editor,n.context,this._excludedProps)}_cloneEditorConfiguration(n){return Al(n,(r,a)=>Go(r)||a==="context"?r:void 0)}}class k${constructor(n){this.editor=n,this._data=n.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",n=>{n.stop(),this.editor.model.enqueueChange({isUndoable:!1},r=>{this._restoreCollaborationData(),this._restoreEditorData(r)}),this.editor.data.fire("ready")},{priority:999})}_createNode(n,r){if("name"in r){const a=n.createElement(r.name,r.attributes);if(r.children)for(const g of r.children)a._appendChild(this._createNode(n,g));return a}return n.createText(r.data,r.attributes)}_restoreEditorData(n){const r=this.editor;Object.entries(this._data.roots).forEach(([a,{content:g,attributes:h}])=>{const f=JSON.parse(g),b=JSON.parse(h),S=r.model.document.getRoot(a);for(const[N,W]of b)n.setAttribute(N,W,S);for(const N of f){const W=this._createNode(n,N);n.insert(W,S,"end")}}),Object.entries(this._data.markers).forEach(([a,g])=>{const{document:h}=r.model,f=g,{rangeJSON:{start:b,end:S}}=f,N=((ue,xe)=>{var Le={};for(var Ye in ue)$F.call(ue,Ye)&&xe.indexOf(Ye)<0&&(Le[Ye]=ue[Ye]);if(ue!=null&&X0)for(var Ye of X0(ue))xe.indexOf(Ye)<0&&eW.call(ue,Ye)&&(Le[Ye]=ue[Ye]);return Le})(f,["rangeJSON"]),W=h.getRoot(b.root),J=n.createPositionFromPath(W,b.path,b.stickiness),ee=n.createPositionFromPath(W,S.path,S.stickiness),se=n.createRange(J,ee);n.addMarker(a,RB({range:se},N))})}_restoreCollaborationData(){const n=JSON.parse(this._data.commentThreads),r=JSON.parse(this._data.suggestions);n.forEach(a=>{const g=this.editor.config.get("collaboration.channelId"),h=this.editor.plugins.get("CommentsRepository");h.hasCommentThread(a.threadId)&&h.getCommentThread(a.threadId).remove(),h.addCommentThread(RB({channelId:g},a))}),r.forEach(a=>{const g=this.editor.plugins.get("TrackChangesEditing");g.hasSuggestion(a.id)?g.getSuggestion(a.id).attributes=a.attributes:g.addSuggestionData(a)})}}const ef=Symbol("MainQueueId");class B${constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(n){this._onEmptyCallbacks.push(n)}enqueue(n,r){const a=n===ef;this._activeActions++,this._queues.get(n)||this._queues.set(n,Promise.resolve());const g=(a?Promise.all(this._queues.values()):Promise.all([this._queues.get(ef),this._queues.get(n)])).then(r),h=g.catch(()=>{});return this._queues.set(n,h),g.finally(()=>{this._activeActions--,this._queues.get(n)===h&&this._activeActions===0&&this._onEmptyCallbacks.forEach(f=>f())})}}function iW(l){return Array.isArray(l)?l:[l]}class M0 extends AB(a6){constructor(n,r={}){if(!Y0(n)&&r.initialData!==void 0)throw new P("editor-create-initial-data",null);super(r),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(f){return Y0(f)?(b=f,b instanceof HTMLTextAreaElement?b.value:b.innerHTML):f;var b}(n)),Y0(n)&&(this.sourceElement=n),this.model.document.createRoot();const a=!this.config.get("toolbar.shouldNotGroupWhenFull"),g=this.config.get("menuBar"),h=new I$(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:a,useMenuBar:g.isVisible});this.ui=new C$(this,h),function(f){if(!ti(f.updateSourceElement))throw new P("attachtoform-missing-elementapi-interface",f);const b=f.sourceElement;if(function(S){return!!S&&S.tagName.toLowerCase()==="textarea"}(b)&&b.form){let S;const N=b.form,W=()=>f.updateSourceElement();ti(N.submit)&&(S=N.submit,N.submit=()=>{W(),S.apply(N)}),N.addEventListener("submit",W),f.on("destroy",()=>{N.removeEventListener("submit",W),S&&(N.submit=S)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(n,r={}){return new Promise(a=>{const g=new this(n,r);a(g.initPlugins().then(()=>g.ui.init(Y0(n)?n:null)).then(()=>g.data.init(g.config.get("initialData"))).then(()=>g.fire("ready")).then(()=>g))})}}function Y0(l){return Go(l)}M0.Context=bs,M0.EditorWatchdog=nW,M0.ContextWatchdog=class extends OF{constructor(l,n={}){super(n),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new B$,this._watchdogConfig=n,this._creator=r=>l.create(r),this._destructor=r=>r.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(l){this._creator=l}setDestructor(l){this._destructor=l}get context(){return this._context}create(l={}){return this._actionQueues.enqueue(ef,()=>(this._contextConfig=l,this._create()))}getItem(l){return this._getWatchdog(l)._item}getItemState(l){return this._getWatchdog(l).state}add(l){const n=iW(l);return Promise.all(n.map(r=>this._actionQueues.enqueue(r.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let a;if(this._watchdogs.has(r.id))throw new Error(`Item with the given id is already added: '${r.id}'.`);if(r.type==="editor")return a=new nW(null,this._watchdogConfig),a.setCreator(r.creator),a._setExcludedProperties(this._contextProps),r.destructor&&a.setDestructor(r.destructor),this._watchdogs.set(r.id,a),a.on("error",(g,{error:h,causesRestart:f})=>{this._fire("itemError",{itemId:r.id,error:h}),f&&this._actionQueues.enqueue(r.id,()=>new Promise(b=>{const S=()=>{a.off("restart",S),this._fire("itemRestart",{itemId:r.id}),b()};a.on("restart",S)}))}),a.create(r.sourceElementOrData,r.config,this._context);throw new Error(`Not supported item type: '${r.type}'.`)})))}remove(l){const n=iW(l);return Promise.all(n.map(r=>this._actionQueues.enqueue(r,()=>{const a=this._getWatchdog(r);return this._watchdogs.delete(r),a.destroy()})))}destroy(){return this._actionQueues.enqueue(ef,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(ef,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(l=>{console.error("An error happened during destroying the context or items.",l)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(l=>(this._context=l,this._contextProps=GB(this._context),Promise.all(Array.from(this._watchdogs.values()).map(n=>(n._setExcludedProperties(this._contextProps),n.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const l=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(n=>n.destroy())).then(()=>this._destructor(l))})}_getWatchdog(l){const n=this._watchdogs.get(l);if(!n)throw new Error(`Item with the given id was not registered: ${l}.`);return n}_isErrorComingFromThisItem(l){for(const n of this._watchdogs.values())if(n._isErrorComingFromThisItem(l))return!1;return qF(this._context,l.context)}};class tf extends $d{constructor(n){super(n),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const r=this.document;function a(g){return(h,f)=>{f.preventDefault();const b=f.dropRange?[f.dropRange]:null,S=new L(r,g);r.fire(S,{dataTransfer:f.dataTransfer,method:h.name,targetRanges:b,target:f.target,domEvent:f.domEvent}),S.stop.called&&f.stopPropagation()}}this.listenTo(r,"paste",a("clipboardInput"),{priority:"low"}),this.listenTo(r,"drop",a("clipboardInput"),{priority:"low"}),this.listenTo(r,"dragover",a("dragging"),{priority:"low"})}onDomEvent(n){const r="clipboardData"in n?n.clipboardData:n.dataTransfer,a=n.type=="drop"||n.type=="paste",g={dataTransfer:new eV(r,{cacheFiles:a})};n.type!="drop"&&n.type!="dragover"||(g.dropRange=function(h,f){const b=f.target.ownerDocument,S=f.clientX,N=f.clientY;let W;return b.caretRangeFromPoint&&b.caretRangeFromPoint(S,N)?W=b.caretRangeFromPoint(S,N):f.rangeParent&&(W=b.createRange(),W.setStart(f.rangeParent,f.rangeOffset),W.collapse(!0)),W?h.domConverter.domRangeToView(W):null}(this.view,n)),this.fire(n.type,n,g)}}const rW=["figcaption","li"],oW=["ol","ul"];function sW(l){if(l.is("$text")||l.is("$textProxy"))return l.data;if(l.is("element","img")&&l.hasAttribute("alt"))return l.getAttribute("alt");if(l.is("element","br"))return`
`;let n="",r=null;for(const a of l.getChildren())n+=x$(a,r)+sW(a),r=a;return n}function x$(l,n){return n?l.is("element","li")&&!l.isEmpty&&l.getChild(0).is("containerElement")||oW.includes(l.name)&&oW.includes(n.name)?`

`:l.is("containerElement")||n.is("containerElement")?rW.includes(l.name)||rW.includes(n.name)?`
`:`

`:"":""}const S$=function(l,n){return l&&i0(l,n,Ga)},Z$=function(l,n,r,a){var g=r.length,h=g;if(l==null)return!h;for(l=Object(l);g--;){var f=r[g];if(f[2]?f[1]!==l[f[0]]:!(f[0]in l))return!1}for(;++g<h;){var b=(f=r[g])[0],S=l[b],N=f[1];if(f[2]){if(S===void 0&&!(b in l))return!1}else{var W=new an,J;if(!(J===void 0?v0(N,S,3,a,W):J))return!1}}return!0},aW=function(l){return l==l&&!We(l)},G$=function(l){for(var n=Ga(l),r=n.length;r--;){var a=n[r],g=l[a];n[r]=[a,g,aW(g)]}return n},lW=function(l,n){return function(r){return r!=null&&r[l]===n&&(n!==void 0||l in Object(r))}},R$=function(l){var n=G$(l);return n.length==1&&n[0][2]?lW(n[0][0],n[0][1]):function(r){return r===l||Z$(r,l,n)}},N$=function(l,n){return l!=null&&n in Object(l)},_$=function(l,n,r){for(var a=-1,g=(n=Bu(n,l)).length,h=!1;++a<g;){var f=Qc(n[a]);if(!(h=l!=null&&r(l,f)))break;l=l[f]}return h||++a!=g?h:!!(g=l==null?0:l.length)&&su(g)&&Wc(f,g)&&(Qt(l)||ni(l))},V$=function(l,n){return l!=null&&_$(l,n,N$)},E$=function(l,n){return wu(l)&&aW(n)?lW(Qc(l),n):function(r){var a=Xg(r,l);return a===void 0&&a===n?V$(r,l):v0(n,a,3)}},F$=function(l){return function(n){return n==null?void 0:n[l]}},W$=function(l){return function(n){return Lg(n,l)}},H$=function(l){return wu(l)?F$(Qc(l)):W$(l)},D$=function(l){return typeof l=="function"?l:l==null?Uc:typeof l=="object"?Qt(l)?E$(l[0],l[1]):R$(l):H$(l)},T$=function(l,n){var r={};return n=D$(n),S$(l,function(a,g,h){bn(r,g,n(a,g,h))}),r};var L$=Object.defineProperty,X$=Object.defineProperties,M$=Object.getOwnPropertyDescriptors,cW=Object.getOwnPropertySymbols,Y$=Object.prototype.hasOwnProperty,J$=Object.prototype.propertyIsEnumerable,gW=(l,n,r)=>n in l?L$(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r;class nf extends _t{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(n,r){this._markersToCopy.set(n,r)}_copySelectedFragmentWithMarkers(n,r,a=g=>g.model.getSelectedContent(g.model.document.selection)){return this.editor.model.change(g=>{const h=g.model.document.selection;g.setSelection(r);const f=this._insertFakeMarkersIntoSelection(g,g.model.document.selection,n),b=a(g),S=this._removeFakeMarkersInsideElement(g,b);for(const[N,W]of Object.entries(f)){S[N]||(S[N]=g.createRangeIn(b));for(const J of W)g.remove(J)}b.markers.clear();for(const[N,W]of Object.entries(S))b.markers.set(N,W);return g.setSelection(h),b})}_pasteMarkersIntoTransformedElement(n,r){const a=this._getPasteMarkersFromRangeMap(n);return this.editor.model.change(g=>{const h=this._insertFakeMarkersElements(g,a),f=r(g),b=this._removeFakeMarkersInsideElement(g,f);for(const S of Object.values(h).flat())g.remove(S);for(const[S,N]of Object.entries(b))g.model.markers.has(S)||g.addMarker(S,{usingOperation:!0,affectsData:!0,range:N});return f})}_pasteFragmentWithMarkers(n){const r=this._getPasteMarkersFromRangeMap(n.markers);n.markers.clear();for(const a of r)n.markers.set(a.name,a.range);return this.editor.model.insertContent(n)}_forceMarkersCopy(n,r,a={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const g=this._markersToCopy.get(n);this._markersToCopy.set(n,a),r(),g?this._markersToCopy.set(n,g):this._markersToCopy.delete(n)}_isMarkerCopyable(n,r){const a=this._getMarkerClipboardConfig(n);if(!a)return!1;if(!r)return!0;const{allowedActions:g}=a;return g==="all"||g.includes(r)}_hasMarkerConfiguration(n){return!!this._getMarkerClipboardConfig(n)}_getMarkerClipboardConfig(n){const[r]=n.split(":");return this._markersToCopy.get(r)||null}_insertFakeMarkersIntoSelection(n,r,a){const g=this._getCopyableMarkersFromSelection(n,r,a);return this._insertFakeMarkersElements(n,g)}_getCopyableMarkersFromSelection(n,r,a){const g=Array.from(r.getRanges()),h=new Set(g.flatMap(f=>Array.from(n.model.markers.getMarkersIntersectingRange(f))));return Array.from(h).filter(f=>{if(!this._isMarkerCopyable(f.name,a))return!1;const{copyPartiallySelected:b}=this._getMarkerClipboardConfig(f.name);if(!b){const S=f.getRange();return g.some(N=>N.containsRange(S,!0))}return!0}).map(f=>({name:a==="dragstart"?this._getUniqueMarkerName(f.name):f.name,range:f.getRange()}))}_getPasteMarkersFromRangeMap(n,r=null){const{model:a}=this.editor;return(n instanceof Map?Array.from(n.entries()):Object.entries(n)).flatMap(([g,h])=>{if(!this._hasMarkerConfiguration(g))return[{name:g,range:h}];if(this._isMarkerCopyable(g,r)){const f=this._getMarkerClipboardConfig(g),b=a.markers.has(g)&&a.markers.get(g).getRange().root.rootName==="$graveyard";return(f.duplicateOnPaste||b)&&(g=this._getUniqueMarkerName(g)),[{name:g,range:h}]}return[]})}_insertFakeMarkersElements(n,r){const a={},g=r.flatMap(h=>{const{start:f,end:b}=h.range;return[{position:f,marker:h,type:"start"},{position:b,marker:h,type:"end"}]}).sort(({position:h},{position:f})=>h.isBefore(f)?1:-1);for(const{position:h,marker:f,type:b}of g){const S=n.createElement("$marker",{"data-name":f.name,"data-type":b});a[f.name]||(a[f.name]=[]),a[f.name].push(S),n.insert(S,h)}return a}_removeFakeMarkersInsideElement(n,r){const a=this._getAllFakeMarkersFromElement(n,r).reduce((g,h)=>{const f=h.markerElement&&n.createPositionBefore(h.markerElement);let b=g[h.name],S=!1;b&&b.start&&b.end&&(this._getMarkerClipboardConfig(h.name).duplicateOnPaste?g[this._getUniqueMarkerName(h.name)]=g[h.name]:S=!0,b=null);var N,W;return S||(g[h.name]=(N=((J,ee)=>{for(var se in ee||(ee={}))Y$.call(ee,se)&&gW(J,se,ee[se]);if(cW)for(var se of cW(ee))J$.call(ee,se)&&gW(J,se,ee[se]);return J})({},b),W={[h.type]:f},X$(N,M$(W)))),h.markerElement&&n.remove(h.markerElement),g},{});return T$(a,g=>new vt(g.start||n.createPositionFromPath(r,[0]),g.end||n.createPositionAt(r,"end")))}_getAllFakeMarkersFromElement(n,r){const a=Array.from(n.createRangeIn(r)).flatMap(({item:f})=>{if(!f.is("element","$marker"))return[];const b=f.getAttribute("data-name"),S=f.getAttribute("data-type");return[{markerElement:f,name:b,type:S}]}),g=[],h=[];for(const f of a)f.type==="end"&&(a.some(b=>b.name===f.name&&b.type==="start")||g.push({markerElement:null,name:f.name,type:"start"})),f.type==="start"&&(a.some(b=>b.name===f.name&&b.type==="end")||h.unshift({markerElement:null,name:f.name,type:"end"}));return[...g,...a,...h]}_getUniqueMarkerName(n){const r=n.split(":"),a=X().substring(1,6);return r.length===3?`${r.slice(0,2).join(":")}:${a}`:`${r.join(":")}:${a}`}}class yl extends _t{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[nf]}init(){this.editor.editing.view.addObserver(tf),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(n,r,a){const g=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:a==="cut"},()=>{const h=g._copySelectedFragmentWithMarkers(a,r);this.fire("outputTransformation",{dataTransfer:n,content:h,method:a})})}_setupPasteDrop(){const n=this.editor,r=n.model,a=n.editing.view,g=a.document,h=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(g,"clipboardInput",(f,b)=>{b.method!="paste"||n.model.canEditAt(n.model.document.selection)||f.stop()},{priority:"highest"}),this.listenTo(g,"clipboardInput",(f,b)=>{const S=b.dataTransfer;let N;if(b.content)N=b.content;else{let ee="";S.getData("text/html")?ee=function(se){return se.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(ue,xe)=>xe.length==1?" ":xe).replace(/<!--[\s\S]*?-->/g,"")}(S.getData("text/html")):S.getData("text/plain")&&(((W=(W=S.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||W.includes("<br>"))&&(W=`<p>${W}</p>`),ee=W),N=this.editor.data.htmlProcessor.toView(ee)}var W;const J=new L(this,"inputTransformation");this.fire(J,{content:N,dataTransfer:S,targetRanges:b.targetRanges,method:b.method}),J.stop.called&&f.stop(),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(f,b)=>{if(b.content.isEmpty)return;const S=this.editor.data.toModel(b.content,"$clipboardHolder");S.childCount!=0&&(f.stop(),r.change(()=>{this.fire("contentInsertion",{content:S,method:b.method,dataTransfer:b.dataTransfer,targetRanges:b.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(f,b)=>{b.resultRange=h._pasteFragmentWithMarkers(b.content)},{priority:"low"})}_setupCopyCut(){const n=this.editor,r=n.model.document,a=n.editing.view.document,g=(h,f)=>{const b=f.dataTransfer;f.preventDefault(),this._fireOutputTransformationEvent(b,r.selection,h.name)};this.listenTo(a,"copy",g,{priority:"low"}),this.listenTo(a,"cut",(h,f)=>{n.model.canEditAt(n.model.document.selection)?g(h,f):f.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(h,f)=>{const b=n.data.toView(f.content);a.fire("clipboardOutput",{dataTransfer:f.dataTransfer,content:b,method:f.method})},{priority:"low"}),this.listenTo(a,"clipboardOutput",(h,f)=>{f.content.isEmpty||(f.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(f.content)),f.dataTransfer.setData("text/plain",sW(f.content))),f.method=="cut"&&n.model.deleteContent(r.selection)},{priority:"low"})}}class dW{constructor(n,r=20){this._batch=null,this.model=n,this._size=0,this.limit=r,this._isLocked=!1,this._changeCallback=(a,g)=>{g.isLocal&&g.isUndoable&&g!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(n){this._size+=n,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(n=!1){this.isLocked&&!n||(this._batch=null,this._size=0)}}class U$ extends nn{constructor(n,r){super(n),this._buffer=new dW(n.model,r),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(n={}){const r=this.editor.model,a=r.document,g=n.text||"",h=g.length;let f=a.selection;if(n.selection?f=n.selection:n.range&&(f=r.createSelection(n.range)),!r.canEditAt(f))return;const b=n.resultRange;r.enqueueChange(this._buffer.batch,S=>{this._buffer.lock();const N=Array.from(a.selection.getAttributes());r.deleteContent(f),g&&r.insertContent(S.createText(g,N),f),b?S.setSelection(b):f.is("documentSelection")||S.setSelection(f),this._buffer.unlock(),this._buffer.input(h)})}}const AW=["insertText","insertReplacementText"];class P$ extends qc{constructor(n){super(n),this.focusObserver=n.getObserver(w0),x.isAndroid&&AW.push("insertCompositionText");const r=n.document;r.on("beforeinput",(a,g)=>{if(!this.isEnabled)return;const{data:h,targetRanges:f,inputType:b,domEvent:S}=g;if(!AW.includes(b))return;this.focusObserver.flush();const N=new L(r,"insertText");r.fire(N,new hm(n,S,{text:h,selection:n.createSelection(f)})),N.stop.called&&a.stop()}),r.on("compositionend",(a,{data:g,domEvent:h})=>{this.isEnabled&&!x.isAndroid&&g&&r.fire("insertText",new hm(n,h,{text:g,selection:r.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class uW extends _t{static get pluginName(){return"Input"}init(){const n=this.editor,r=n.model,a=n.editing.view,g=r.document.selection;a.addObserver(P$);const h=new U$(n,n.config.get("typing.undoStep")||20);n.commands.add("insertText",h),n.commands.add("input",h),this.listenTo(a.document,"insertText",(f,b)=>{a.document.isComposing||b.preventDefault();const{text:S,selection:N,resultRange:W}=b,J=Array.from(N.getRanges()).map(ue=>n.editing.mapper.toModelRange(ue));let ee=S;if(x.isAndroid){const ue=Array.from(J[0].getItems()).reduce((xe,Le)=>xe+(Le.is("$textProxy")?Le.data:""),"");ue&&(ue.length<=ee.length?ee.startsWith(ue)&&(ee=ee.substring(ue.length),J[0].start=J[0].start.getShiftedBy(ue.length)):ue.startsWith(ee)&&(J[0].start=J[0].start.getShiftedBy(ee.length),ee=""))}const se={text:ee,selection:r.createSelection(J)};W&&(se.resultRange=n.editing.mapper.toModelRange(W)),n.execute("insertText",se),a.scrollToTheSelection()}),x.isAndroid?this.listenTo(a.document,"keydown",(f,b)=>{!g.isCollapsed&&b.keyCode==229&&a.document.isComposing&&hW(r,h)}):this.listenTo(a.document,"compositionstart",()=>{g.isCollapsed||hW(r,h)})}}function hW(l,n){if(!n.isEnabled)return;const r=n.buffer;r.lock(),l.enqueueChange(r.batch,()=>{l.deleteContent(l.document.selection)}),r.unlock()}class mW extends nn{constructor(n,r){super(n),this.direction=r,this._buffer=new dW(n.model,n.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(n={}){const r=this.editor.model,a=r.document;r.enqueueChange(this._buffer.batch,g=>{this._buffer.lock();const h=g.createSelection(n.selection||a.selection);if(!r.canEditAt(h))return;const f=n.sequence||1,b=h.isCollapsed;if(h.isCollapsed&&r.modifySelection(h,{direction:this.direction,unit:n.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(f))return void this._replaceEntireContentWithParagraph(g);if(this._shouldReplaceFirstBlockWithParagraph(h,f))return void this.editor.execute("paragraph",{selection:h});if(h.isCollapsed)return;let S=0;h.getFirstRange().getMinimalFlatRanges().forEach(N=>{S+=bt(N.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),r.deleteContent(h,{doNotResetEntireContent:b,direction:this.direction}),this._buffer.input(S),g.setSelection(h),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(n){if(n>1)return!1;const r=this.editor.model,a=r.document.selection,g=r.schema.getLimitElement(a);if(!(a.isCollapsed&&a.containsEntireContent(g))||!r.schema.checkChild(g,"paragraph"))return!1;const h=g.getChild(0);return!h||!h.is("element","paragraph")}_replaceEntireContentWithParagraph(n){const r=this.editor.model,a=r.document.selection,g=r.schema.getLimitElement(a),h=n.createElement("paragraph");n.remove(n.createRangeIn(g)),n.insert(h,g),n.setSelection(h,0)}_shouldReplaceFirstBlockWithParagraph(n,r){const a=this.editor.model;if(r>1||this.direction!="backward"||!n.isCollapsed)return!1;const g=n.getFirstPosition(),h=a.schema.getLimitElement(g),f=h.getChild(0);return g.parent==f&&!!n.containsEntireContent(f)&&!!a.schema.checkChild(h,"paragraph")&&f.name!="paragraph"}}const pW="word",tA="selection",wm="backward",rf="forward",CW={deleteContent:{unit:tA,direction:wm},deleteContentBackward:{unit:"codePoint",direction:wm},deleteWordBackward:{unit:pW,direction:wm},deleteHardLineBackward:{unit:tA,direction:wm},deleteSoftLineBackward:{unit:tA,direction:wm},deleteContentForward:{unit:"character",direction:rf},deleteWordForward:{unit:pW,direction:rf},deleteHardLineForward:{unit:tA,direction:rf},deleteSoftLineForward:{unit:tA,direction:rf}};class K$ extends qc{constructor(n){super(n);const r=n.document;let a=0;r.on("keydown",()=>{a++}),r.on("keyup",()=>{a=0}),r.on("beforeinput",(g,h)=>{if(!this.isEnabled)return;const{targetRanges:f,domEvent:b,inputType:S}=h,N=CW[S];if(!N)return;const W={direction:N.direction,unit:N.unit,sequence:a};W.unit==tA&&(W.selectionToRemove=n.createSelection(f[0])),S==="deleteContentBackward"&&(x.isAndroid&&(W.sequence=1),function(ee){if(ee.length!=1||ee[0].isCollapsed)return!1;const se=ee[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let ue=0;for(const{nextPosition:xe,item:Le}of se){if(xe.parent.is("$text")){const Ye=xe.parent.data,$e=xe.offset;if(FC(Ye,$e)||$h(Ye,$e)||c0(Ye,$e))continue;ue++}else(Le.is("containerElement")||Le.is("emptyElement"))&&ue++;if(ue>1)return!0}return!1}(f)&&(W.unit=tA,W.selectionToRemove=n.createSelection(f)));const J=new Mg(r,"delete",f[0]);r.fire(J,new hm(n,b,W)),J.stop.called&&g.stop()}),x.isBlink&&function(g){const h=g.view,f=h.document;let b=null,S=!1;function N(J){return J==di.backspace||J==di.delete}function W(J){return J==di.backspace?wm:rf}f.on("keydown",(J,{keyCode:ee})=>{b=ee,S=!1}),f.on("keyup",(J,{keyCode:ee,domEvent:se})=>{const ue=f.selection,xe=g.isEnabled&&ee==b&&N(ee)&&!ue.isCollapsed&&!S;if(b=null,xe){const Le=ue.getFirstRange(),Ye=new Mg(f,"delete",Le),$e={unit:tA,direction:W(ee),selectionToRemove:ue};f.fire(Ye,new hm(h,se,$e))}}),f.on("beforeinput",(J,{inputType:ee})=>{const se=CW[ee];N(b)&&se&&se.direction==W(b)&&(S=!0)},{priority:"high"}),f.on("beforeinput",(J,{inputType:ee,data:se})=>{b==di.delete&&ee=="insertText"&&se==""&&J.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Og extends _t{static get pluginName(){return"Delete"}init(){const n=this.editor,r=n.editing.view,a=r.document,g=n.model.document;r.addObserver(K$),this._undoOnBackspace=!1;const h=new mW(n,"forward");n.commands.add("deleteForward",h),n.commands.add("forwardDelete",h),n.commands.add("delete",new mW(n,"backward")),this.listenTo(a,"delete",(f,b)=>{a.isComposing||b.preventDefault();const{direction:S,sequence:N,selectionToRemove:W,unit:J}=b,ee=S==="forward"?"deleteForward":"delete",se={sequence:N};if(J=="selection"){const ue=Array.from(W.getRanges()).map(xe=>n.editing.mapper.toModelRange(xe));se.selection=n.model.createSelection(ue)}else se.unit=J;n.execute(ee,se),r.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(a,"delete",(f,b)=>{this._undoOnBackspace&&b.direction=="backward"&&b.sequence==1&&b.unit=="codePoint"&&(this._undoOnBackspace=!1,n.execute("undo"),b.preventDefault(),f.stop())},{context:"$capture"}),this.listenTo(g,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class z$ extends _t{static get requires(){return[uW,Og]}static get pluginName(){return"Typing"}}function fW(l,n){let r=l.start;return{text:Array.from(l.getWalker({ignoreElementEnd:!1})).reduce((a,{item:g})=>g.is("$text")||g.is("$textProxy")?a+g.data:(r=n.createPositionAfter(g),""),""),range:n.createRange(r,l.end)}}class IW extends at(){constructor(n,r){super(),this.model=n,this.testCallback=r,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(n.document.selection),this.stopListening(n.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const n=this.model.document;this.listenTo(n.selection,"change:range",(r,{directChange:a})=>{a&&(n.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(n,"change:data",(r,a)=>{!a.isUndo&&a.isLocal&&this._evaluateTextBeforeSelection("data",{batch:a})})}_evaluateTextBeforeSelection(n,r={}){const a=this.model,g=a.document.selection,h=a.createRange(a.createPositionAt(g.focus.parent,0),g.focus),{text:f,range:b}=fW(h,a),S=this.testCallback(f);if(!S&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!S,S){const N=Object.assign(r,{text:f,range:b});typeof S=="object"&&Object.assign(N,S),this.fire(`matched:${n}`,N)}}}class bW extends _t{constructor(n){super(n),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const n=this.editor,r=n.model,a=n.editing.view,g=n.locale,h=r.document.selection;this.listenTo(a.document,"arrowKey",(f,b)=>{if(!h.isCollapsed||b.shiftKey||b.altKey||b.ctrlKey)return;const S=b.keyCode==di.arrowright,N=b.keyCode==di.arrowleft;if(!S&&!N)return;const W=g.contentLanguageDirection;let J=!1;J=W==="ltr"&&S||W==="rtl"&&N?this._handleForwardMovement(b):this._handleBackwardMovement(b),J===!0&&f.stop()},{context:"$text",priority:"highest"}),this.listenTo(h,"change:range",(f,b)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!b.directChange&&vl(h.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(n){this.attributes.add(n)}_handleForwardMovement(n){const r=this.attributes,a=this.editor.model,g=a.document.selection,h=g.getFirstPosition();return!this._isGravityOverridden&&(!h.isAtStart||!qg(g,r))&&!!vl(h,r)&&(sf(n),qg(g,r)&&vl(h,r,!0)?of(a,r):this._overrideGravity(),!0)}_handleBackwardMovement(n){const r=this.attributes,a=this.editor.model,g=a.document.selection,h=g.getFirstPosition();return this._isGravityOverridden?(sf(n),this._restoreGravity(),vl(h,r,!0)?of(a,r):J0(a,r,h),!0):h.isAtStart?!!qg(g,r)&&(sf(n),J0(a,r,h),!0):!qg(g,r)&&vl(h,r,!0)?(sf(n),J0(a,r,h),!0):!!yW(h,r)&&(h.isAtEnd&&!qg(g,r)&&vl(h,r)?(sf(n),J0(a,r,h),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const n=this.editor,r=n.model,a=r.document.selection,g=n.editing.view.document;n.editing.view.addObserver(gB);let h=!1;this.listenTo(g,"mousedown",()=>{h=!0}),this.listenTo(g,"selectionChange",()=>{const f=this.attributes;if(!h||(h=!1,!a.isCollapsed)||!qg(a,f))return;const b=a.getFirstPosition();vl(b,f)&&(b.isAtStart||vl(b,f,!0)?of(r,f):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const n=this.editor.model,r=n.document.selection,a=this.attributes;this.listenTo(n,"insertContent",()=>{const g=r.getFirstPosition();qg(r,a)&&vl(g,a)&&of(n,a)},{priority:"low"})}_handleDeleteContentAfterNode(){const n=this.editor,r=n.model,a=r.document.selection,g=n.editing.view;let h=!1,f=!1;this.listenTo(g.document,"delete",(b,S)=>{h=S.direction==="backward"},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{if(!h)return;const b=a.getFirstPosition();f=qg(a,this.attributes)&&!yW(b,this.attributes)},{priority:"high"}),this.listenTo(r,"deleteContent",()=>{h&&(h=!1,f||n.model.enqueueChange(()=>{const b=a.getFirstPosition();qg(a,this.attributes)&&vl(b,this.attributes)&&(b.isAtStart||vl(b,this.attributes,!0)?of(r,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(n=>n.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(n=>{n.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function qg(l,n){for(const r of n)if(l.hasAttribute(r))return!0;return!1}function J0(l,n,r){const a=r.nodeBefore;l.change(g=>{if(a){const h=[],f=l.schema.isObject(a)&&l.schema.isInline(a);for(const[b,S]of a.getAttributes())!l.schema.checkAttribute("$text",b)||f&&l.schema.getAttributeProperties(b).copyFromObject===!1||h.push([b,S]);g.setSelectionAttribute(h)}else g.removeSelectionAttribute(n)})}function of(l,n){l.change(r=>{r.removeSelectionAttribute(n)})}function sf(l){l.preventDefault()}function yW(l,n){return vl(l.getShiftedBy(-1),n)}function vl(l,n,r=!1){const{nodeBefore:a,nodeAfter:g}=l;for(const h of n){const f=a?a.getAttribute(h):void 0,b=g?g.getAttribute(h):void 0;if((!r||f!==void 0&&b!==void 0)&&b!==f)return!0}return!1}const vW={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:km('"'),to:[null,"",null,""]},quotesSecondary:{from:km("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:km("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:km('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:km('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:km("'"),to:[null,"",null,""]}},wW={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Q$=["symbols","mathematical","typography","quotes"];function j$(l){return typeof l=="string"?new RegExp(`(${BF(l)})$`):l}function O$(l){return typeof l=="string"?()=>[l]:l instanceof Array?()=>l:l}function q$(l){return(l.textNode?l.textNode:l.nodeAfter).getAttributes()}function km(l){return new RegExp(`(^|\\s)(${l})([^${l}]*)(${l})$`)}function U0(l,n,r,a){return a.createRange(kW(l,n,r,!0,a),kW(l,n,r,!1,a))}function kW(l,n,r,a,g){let h=l.textNode||(a?l.nodeBefore:l.nodeAfter),f=null;for(;h&&h.getAttribute(n)==r;)f=h,h=a?h.previousSibling:h.nextSibling;return f?g.createPositionAt(f,a?"before":"after"):l}function*BW(l,n){for(const r of n)r&&l.getAttributeProperties(r[0]).copyOnEnter&&(yield r)}class $$ extends nn{execute(){this.editor.model.change(n=>{this.enterBlock(n),this.fire("afterExecute",{writer:n})})}enterBlock(n){const r=this.editor.model,a=r.document.selection,g=r.schema,h=a.isCollapsed,f=a.getFirstRange(),b=f.start.parent,S=f.end.parent;if(g.isLimit(b)||g.isLimit(S))return h||b!=S||r.deleteContent(a),!1;if(h){const N=BW(n.model.schema,a.getAttributes());return xW(n,f.start),n.setSelectionAttribute(N),!0}{const N=!(f.start.isAtStart&&f.end.isAtEnd),W=b==S;if(r.deleteContent(a,{leaveUnmerged:N}),N){if(W)return xW(n,a.focus),!0;n.setSelection(S,0)}}return!1}}function xW(l,n){l.split(n),l.setSelection(n.parent.nextSibling,0)}const eee={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class SW extends qc{constructor(n){super(n);const r=this.document;let a=!1;r.on("keydown",(g,h)=>{a=h.shiftKey}),r.on("beforeinput",(g,h)=>{if(!this.isEnabled)return;let f=h.inputType;x.isSafari&&a&&f=="insertParagraph"&&(f="insertLineBreak");const b=h.domEvent,S=eee[f];if(!S)return;const N=new Mg(r,"enter",h.targetRanges[0]);r.fire(N,new hm(n,b,{isSoft:S.isSoft})),N.stop.called&&g.stop()})}observe(){}stopObserving(){}}class P0 extends _t{static get pluginName(){return"Enter"}init(){const n=this.editor,r=n.editing.view,a=r.document,g=this.editor.t;r.addObserver(SW),n.commands.add("enter",new $$(n)),this.listenTo(a,"enter",(h,f)=>{a.isComposing||f.preventDefault(),f.isSoft||(n.execute("enter"),r.scrollToTheSelection())},{priority:"low"}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:g("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class tee extends nn{execute(){const n=this.editor.model,r=n.document;n.change(a=>{(function(g,h,f){const b=f.isCollapsed,S=f.getFirstRange(),N=S.start.parent,W=S.end.parent,J=N==W;if(b){const ee=BW(g.schema,f.getAttributes());ZW(g,h,S.end),h.removeSelectionAttribute(f.getAttributeKeys()),h.setSelectionAttribute(ee)}else{const ee=!(S.start.isAtStart&&S.end.isAtEnd);g.deleteContent(f,{leaveUnmerged:ee}),J?ZW(g,h,f.focus):ee&&h.setSelection(W,0)}})(n,a,r.selection),this.fire("afterExecute",{writer:a})})}refresh(){const n=this.editor.model,r=n.document;this.isEnabled=function(a,g){if(g.rangeCount>1)return!1;const h=g.anchor;if(!h||!a.checkChild(h,"softBreak"))return!1;const f=g.getFirstRange(),b=f.start.parent,S=f.end.parent;return!((NB(b,a)||NB(S,a))&&b!==S)}(n.schema,r.selection)}}function ZW(l,n,r){const a=n.createElement("softBreak");l.insertContent(a,r),n.setSelection(a,"after")}function NB(l,n){return!l.is("rootElement")&&(n.isLimit(l)||NB(l.parent,n))}class nee extends _t{static get pluginName(){return"ShiftEnter"}init(){const n=this.editor,r=n.model.schema,a=n.conversion,g=n.editing.view,h=g.document,f=this.editor.t;r.register("softBreak",{allowWhere:"$text",isInline:!0}),a.for("upcast").elementToElement({model:"softBreak",view:"br"}),a.for("downcast").elementToElement({model:"softBreak",view:(b,{writer:S})=>S.createEmptyElement("br")}),g.addObserver(SW),n.commands.add("shiftEnter",new tee(n)),this.listenTo(h,"enter",(b,S)=>{h.isComposing||S.preventDefault(),S.isSoft&&(n.execute("shiftEnter"),g.scrollToTheSelection())},{priority:"low"}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:f("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class iee extends fe(){constructor(){super(...arguments),this._stack=[]}add(n,r){const a=this._stack,g=a[0];this._insertDescriptor(n);const h=a[0];g===h||_B(g,h)||this.fire("change:top",{oldDescriptor:g,newDescriptor:h,writer:r})}remove(n,r){const a=this._stack,g=a[0];this._removeDescriptor(n);const h=a[0];g===h||_B(g,h)||this.fire("change:top",{oldDescriptor:g,newDescriptor:h,writer:r})}_insertDescriptor(n){const r=this._stack,a=r.findIndex(h=>h.id===n.id);if(_B(n,r[a]))return;a>-1&&r.splice(a,1);let g=0;for(;r[g]&&ree(r[g],n);)g++;r.splice(g,0,n)}_removeDescriptor(n){const r=this._stack,a=r.findIndex(g=>g.id===n);a>-1&&r.splice(a,1)}}function _B(l,n){return l&&n&&l.priority==n.priority&&K0(l.classes)==K0(n.classes)}function ree(l,n){return l.priority>n.priority||!(l.priority<n.priority)&&K0(l.classes)>K0(n.classes)}function K0(l){return Array.isArray(l)?l.sort().join(","):l}const oee='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',see="ck-widget",GW="ck-widget_selected";function ro(l){return!!l.is("element")&&!!l.getCustomProperty("widget")}function VB(l,n,r={}){if(!l.is("containerElement"))throw new P("widget-to-widget-wrong-element-type",null,{element:l});return n.setAttribute("contenteditable","false",l),n.addClass(see,l),n.setCustomProperty("widget",!0,l),l.getFillerOffset=cee,n.setCustomProperty("widgetLabel",[],l),r.label&&function(a,g){a.getCustomProperty("widgetLabel").push(g)}(l,r.label),r.hasSelectionHandle&&function(a,g){const h=g.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(f){const b=this.toDomElement(f),S=new zg;return S.set("content",oee),S.render(),b.appendChild(S.element),b});g.insert(g.createPositionAt(a,0),h),g.addClass(["ck-widget_with-selection-handle"],a)}(l,n),RW(l,n),l}function aee(l,n,r){if(n.classes&&r.addClass(Li(n.classes),l),n.attributes)for(const a in n.attributes)r.setAttribute(a,n.attributes[a],l)}function lee(l,n,r){if(n.classes&&r.removeClass(Li(n.classes),l),n.attributes)for(const a in n.attributes)r.removeAttribute(a,l)}function RW(l,n,r=aee,a=lee){const g=new iee;g.on("change:top",(h,f)=>{f.oldDescriptor&&a(l,f.oldDescriptor,f.writer),f.newDescriptor&&r(l,f.newDescriptor,f.writer)}),n.setCustomProperty("addHighlight",(h,f,b)=>g.add(f,b),l),n.setCustomProperty("removeHighlight",(h,f,b)=>g.remove(f,b),l)}function NW(l,n,r={}){return n.addClass(["ck-editor__editable","ck-editor__nested-editable"],l),n.setAttribute("role","textbox",l),n.setAttribute("tabindex","-1",l),r.label&&n.setAttribute("aria-label",r.label,l),n.setAttribute("contenteditable",l.isReadOnly?"false":"true",l),l.on("change:isReadOnly",(a,g,h)=>{n.setAttribute("contenteditable",h?"false":"true",l)}),l.on("change:isFocused",(a,g,h)=>{h?n.addClass("ck-editor__nested-editable_focused",l):n.removeClass("ck-editor__nested-editable_focused",l)}),RW(l,n),l}function _W(l,n){const r=l.getSelectedElement();if(r){const a=nA(l);if(a)return n.createRange(n.createPositionAt(r,a))}return n.schema.findOptimalInsertionRange(l)}function cee(){return null}const $g="widget-type-around";function Wu(l,n,r){return!!l&&ro(l)&&!r.isInline(n)}function nA(l){return l.getAttribute($g)}var VW=s(8508),gee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(VW.A,gee),VW.A.locals;const EW=["before","after"],dee=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,FW="ck-widget__type-around_disabled";class Aee extends _t{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[P0,Og]}init(){const n=this.editor,r=n.editing.view;this.on("change:isEnabled",(a,g,h)=>{r.change(f=>{for(const b of r.document.roots)h?f.removeClass(FW,b):f.addClass(FW,b)}),h||n.model.change(f=>{f.removeSelectionAttribute($g)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(n,r){const a=this.editor,g=a.editing.view,h=a.model.schema.getAttributesWithProperty(n,"copyOnReplace",!0);a.execute("insertParagraph",{position:a.model.createPositionAt(n,r),attributes:h}),g.focus(),g.scrollToTheSelection()}_listenToIfEnabled(n,r,a,g){this.listenTo(n,r,(...h)=>{this.isEnabled&&a(...h)},g)}_insertParagraphAccordingToFakeCaretPosition(){const n=this.editor.model.document.selection,r=nA(n);if(!r)return!1;const a=n.getSelectedElement();return this._insertParagraph(a,r),!0}_enableTypeAroundUIInjection(){const n=this.editor,r=n.model.schema,a=n.locale.t,g={before:a("Insert paragraph before block"),after:a("Insert paragraph after block")};n.editing.downcastDispatcher.on("insert",(h,f,b)=>{const S=b.mapper.toViewElement(f.item);S&&Wu(S,f.item,r)&&(function(N,W,J){const ee=N.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(se){const ue=this.toDomElement(se);return function(xe,Le){for(const Ye of EW){const $e=new oa({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${Ye}`],title:Le[Ye],"aria-hidden":"true"},children:[xe.ownerDocument.importNode(dee,!0)]});xe.appendChild($e.render())}}(ue,W),function(xe){const Le=new oa({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});xe.appendChild(Le.render())}(ue),ue});N.insert(N.createPositionAt(J,"end"),ee)}(b.writer,g,S),S.getCustomProperty("widgetLabel").push(()=>this.isEnabled?a("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const n=this.editor,r=n.model,a=r.document.selection,g=r.schema,h=n.editing.view;function f(b){return`ck-widget_type-around_show-fake-caret_${b}`}this._listenToIfEnabled(h.document,"arrowKey",(b,S)=>{this._handleArrowKeyPress(b,S)},{context:[ro,"$text"],priority:"high"}),this._listenToIfEnabled(a,"change:range",(b,S)=>{S.directChange&&n.model.change(N=>{N.removeSelectionAttribute($g)})}),this._listenToIfEnabled(r.document,"change:data",()=>{const b=a.getSelectedElement();b&&Wu(n.editing.mapper.toViewElement(b),b,g)||n.model.change(S=>{S.removeSelectionAttribute($g)})}),this._listenToIfEnabled(n.editing.downcastDispatcher,"selection",(b,S,N)=>{const W=N.writer;if(this._currentFakeCaretModelElement){const ue=N.mapper.toViewElement(this._currentFakeCaretModelElement);ue&&(W.removeClass(EW.map(f),ue),this._currentFakeCaretModelElement=null)}const J=S.selection.getSelectedElement();if(!J)return;const ee=N.mapper.toViewElement(J);if(!Wu(ee,J,g))return;const se=nA(S.selection);se&&(W.addClass(f(se),ee),this._currentFakeCaretModelElement=J)}),this._listenToIfEnabled(n.ui.focusTracker,"change:isFocused",(b,S,N)=>{N||n.model.change(W=>{W.removeSelectionAttribute($g)})})}_handleArrowKeyPress(n,r){const a=this.editor,g=a.model,h=g.document.selection,f=g.schema,b=a.editing.view,S=function(J,ee){const se=RC(J,ee);return se==="down"||se==="right"}(r.keyCode,a.locale.contentLanguageDirection),N=b.document.selection.getSelectedElement();let W;Wu(N,a.editing.mapper.toModelElement(N),f)?W=this._handleArrowKeyPressOnSelectedWidget(S):h.isCollapsed?W=this._handleArrowKeyPressWhenSelectionNextToAWidget(S):r.shiftKey||(W=this._handleArrowKeyPressWhenNonCollapsedSelection(S)),W&&(r.preventDefault(),n.stop())}_handleArrowKeyPressOnSelectedWidget(n){const r=this.editor.model,a=nA(r.document.selection);return r.change(g=>a?a!==(n?"after":"before")?(g.removeSelectionAttribute($g),!0):!1:(g.setSelectionAttribute($g,n?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(n){const r=this.editor,a=r.model,g=a.schema,h=r.plugins.get("Widget"),f=h._getObjectElementNextToSelection(n);return!!Wu(r.editing.mapper.toViewElement(f),f,g)&&(a.change(b=>{h._setSelectionOverElement(f),b.setSelectionAttribute($g,n?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(n){const r=this.editor,a=r.model,g=a.schema,h=r.editing.mapper,f=a.document.selection,b=n?f.getLastPosition().nodeBefore:f.getFirstPosition().nodeAfter;return!!Wu(h.toViewElement(b),b,g)&&(a.change(S=>{S.setSelection(b,"on"),S.setSelectionAttribute($g,n?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const n=this.editor,r=n.editing.view;this._listenToIfEnabled(r.document,"mousedown",(a,g)=>{const h=g.domTarget.closest(".ck-widget__type-around__button");if(!h)return;const f=function(N){return N.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(h),b=function(N,W){const J=N.closest(".ck-widget");return W.mapDomToView(J)}(h,r.domConverter),S=n.editing.mapper.toModelElement(b);this._insertParagraph(S,f),g.preventDefault(),a.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const n=this.editor,r=n.model.document.selection,a=n.editing.view;this._listenToIfEnabled(a.document,"enter",(g,h)=>{if(g.eventPhase!="atTarget")return;const f=r.getSelectedElement(),b=n.editing.mapper.toViewElement(f),S=n.model.schema;let N;this._insertParagraphAccordingToFakeCaretPosition()?N=!0:Wu(b,f,S)&&(this._insertParagraph(f,h.isSoft?"before":"after"),N=!0),N&&(h.preventDefault(),g.stop())},{context:ro})}_enableInsertingParagraphsOnTypingKeystroke(){const n=this.editor.editing.view.document;this._listenToIfEnabled(n,"insertText",(r,a)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(a.selection=n.selection)},{priority:"high"}),x.isAndroid?this._listenToIfEnabled(n,"keydown",(r,a)=>{a.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(n,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const n=this.editor,r=n.editing.view,a=n.model,g=a.schema;this._listenToIfEnabled(r.document,"delete",(h,f)=>{if(h.eventPhase!="atTarget")return;const b=nA(a.document.selection);if(!b)return;const S=f.direction,N=a.document.selection.getSelectedElement(),W=S=="forward";if(b==="before"===W)n.execute("delete",{selection:a.createSelection(N,"on")});else{const J=g.getNearestSelectionRange(a.createPositionAt(N,b),S);if(J)if(J.isCollapsed){const ee=a.createSelection(J.start);if(a.modifySelection(ee,{direction:S}),ee.focus.isEqual(J.start)){const se=function(ue,xe){let Le=xe;for(const Ye of xe.getAncestors({parentFirst:!0})){if(Ye.childCount>1||ue.isLimit(Ye))break;Le=Ye}return Le}(g,J.start.parent);a.deleteContent(a.createSelection(se,"on"),{doNotAutoparagraph:!0})}else a.change(se=>{se.setSelection(J),n.execute(W?"deleteForward":"delete")})}else a.change(ee=>{ee.setSelection(J),n.execute(W?"deleteForward":"delete")})}f.preventDefault(),h.stop()},{context:ro})}_enableInsertContentIntegration(){const n=this.editor,r=this.editor.model,a=r.document.selection;this._listenToIfEnabled(n.model,"insertContent",(g,[h,f])=>{if(f&&!f.is("documentSelection"))return;const b=nA(a);return b?(g.stop(),r.change(S=>{const N=a.getSelectedElement(),W=r.createPositionAt(N,b),J=S.createSelection(W),ee=r.insertContent(h,J);return S.setSelection(J),ee})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const n=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"insertObject",(a,g)=>{const[,h,f={}]=g;if(h&&!h.is("documentSelection"))return;const b=nA(r);b&&(f.findOptimalPosition=b,g[3]=f)},{priority:"high"})}_enableDeleteContentIntegration(){const n=this.editor,r=this.editor.model.document.selection;this._listenToIfEnabled(n.model,"deleteContent",(a,[g])=>{g&&!g.is("documentSelection")||nA(r)&&a.stop()},{priority:"high"})}}function uee(l){const n=l.model;return(r,a)=>{const g=a.keyCode==di.arrowup,h=a.keyCode==di.arrowdown,f=a.shiftKey,b=n.document.selection;if(!g&&!h)return;const S=h;if(f&&function(W,J){return!W.isCollapsed&&W.isBackward==J}(b,S))return;const N=function(W,J,ee){const se=W.model;if(ee){const ue=J.isCollapsed?J.focus:J.getLastPosition(),xe=WW(se,ue,"forward");if(!xe)return null;const Le=se.createRange(ue,xe),Ye=HW(se.schema,Le,"backward");return Ye?se.createRange(ue,Ye):null}{const ue=J.isCollapsed?J.focus:J.getFirstPosition(),xe=WW(se,ue,"backward");if(!xe)return null;const Le=se.createRange(xe,ue),Ye=HW(se.schema,Le,"forward");return Ye?se.createRange(Ye,ue):null}}(l,b,S);if(N){if(N.isCollapsed&&(b.isCollapsed||f))return;(N.isCollapsed||function(W,J,ee){const se=W.model,ue=W.view.domConverter;if(ee){const ht=se.createSelection(J.start);se.modifySelection(ht),ht.focus.isAtEnd||J.start.isEqual(ht.focus)||(J=se.createRange(ht.focus,J.end))}const xe=W.mapper.toViewRange(J),Le=ue.viewRangeToDom(xe),Ye=Xn.getDomRangeRects(Le);let $e;for(const ht of Ye)if($e!==void 0){if(Math.round(ht.top)>=$e)return!1;$e=Math.max($e,Math.round(ht.bottom))}else $e=Math.round(ht.bottom);return!0}(l,N,S))&&(n.change(W=>{const J=S?N.end:N.start;if(f){const ee=n.createSelection(b.anchor);ee.setFocus(J),W.setSelection(ee)}else W.setSelection(J)}),r.stop(),a.preventDefault(),a.stopPropagation())}}}function WW(l,n,r){const a=l.schema,g=l.createRangeIn(n.root),h=r=="forward"?"elementStart":"elementEnd";for(const{previousPosition:f,item:b,type:S}of g.getWalker({startPosition:n,direction:r})){if(a.isLimit(b)&&!a.isInline(b))return f;if(S==h&&a.isBlock(b))return null}return null}function HW(l,n,r){const a=r=="backward"?n.end:n.start;if(l.checkChild(a,"$text"))return a;for(const{nextPosition:g}of n.getWalker({direction:r}))if(l.checkChild(g,"$text"))return g;return null}var DW=s(695),hee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(DW.A,hee),DW.A.locals;class af extends _t{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[Aee,Og]}init(){const n=this.editor,r=n.editing.view,a=r.document,g=n.t;this.editor.editing.downcastDispatcher.on("selection",(h,f,b)=>{const S=b.writer,N=f.selection;if(N.isCollapsed)return;const W=N.getSelectedElement();if(!W)return;const J=n.editing.mapper.toViewElement(W);var ee;ro(J)&&b.consumable.consume(N,"selection")&&S.setSelection(S.createRangeOn(J),{fake:!0,label:(ee=J,ee.getCustomProperty("widgetLabel").reduce((se,ue)=>typeof ue=="function"?se?se+". "+ue():ue():se?se+". "+ue:ue,""))})}),this.editor.editing.downcastDispatcher.on("selection",(h,f,b)=>{this._clearPreviouslySelectedWidgets(b.writer);const S=b.writer,N=S.document.selection;let W=null;for(const J of N.getRanges())for(const ee of J){const se=ee.item;ro(se)&&!mee(se,W)&&(S.addClass(GW,se),this._previouslySelected.add(se),W=se)}},{priority:"low"}),r.addObserver(gB),this.listenTo(a,"mousedown",(...h)=>this._onMousedown(...h)),this.listenTo(a,"arrowKey",(...h)=>{this._handleSelectionChangeOnArrowKeyPress(...h)},{context:[ro,"$text"]}),this.listenTo(a,"arrowKey",(...h)=>{this._preventDefaultOnArrowKeyPress(...h)},{context:"$root"}),this.listenTo(a,"arrowKey",uee(this.editor.editing),{context:"$text"}),this.listenTo(a,"delete",(h,f)=>{this._handleDelete(f.direction=="forward")&&(f.preventDefault(),h.stop())},{context:"$root"}),this.listenTo(a,"tab",(h,f)=>{h.eventPhase=="atTarget"&&(f.shiftKey||this._selectFirstNestedEditable()&&(f.preventDefault(),h.stop()))},{context:ro,priority:"low"}),this.listenTo(a,"tab",(h,f)=>{f.shiftKey&&this._selectAncestorWidget()&&(f.preventDefault(),h.stop())},{priority:"low"}),this.listenTo(a,"keydown",(h,f)=>{f.keystroke==di.esc&&this._selectAncestorWidget()&&(f.preventDefault(),h.stop())},{priority:"low"}),n.accessibility.addKeystrokeInfoGroup({id:"widget",label:g("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:g("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:g("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:g("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:g("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(n,r){const a=this.editor,g=a.editing.view,h=g.document;let f=r.target;if(r.domEvent.detail>=3)return void(this._selectBlockContent(f)&&r.preventDefault());if(function(S){let N=S;for(;N;){if(N.is("editableElement")&&!N.is("rootElement"))return!0;if(ro(N))return!1;N=N.parent}return!1}(f)||!ro(f)&&(f=f.findAncestor(ro),!f))return;x.isAndroid&&r.preventDefault(),h.isFocused||g.focus();const b=a.editing.mapper.toModelElement(f);this._setSelectionOverElement(b)}_selectBlockContent(n){const r=this.editor,a=r.model,g=r.editing.mapper,h=a.schema,f=g.findMappedViewAncestor(this.editor.editing.view.createPositionAt(n,0)),b=function(S,N){for(const W of S.getAncestors({includeSelf:!0,parentFirst:!0})){if(N.checkChild(W,"$text"))return W;if(N.isLimit(W)&&!N.isObject(W))break}return null}(g.toModelElement(f),a.schema);return!!b&&(a.change(S=>{const N=h.isLimit(b)?null:function(ee,se){const ue=new Jg({startPosition:ee});for(const{item:xe}of ue){if(se.isLimit(xe)||!xe.is("element"))return null;if(se.checkChild(xe,"$text"))return xe}return null}(S.createPositionAfter(b),h),W=S.createPositionAt(b,0),J=N?S.createPositionAt(N,0):S.createPositionAt(b,"end");S.setSelection(S.createRange(W,J))}),!0)}_handleSelectionChangeOnArrowKeyPress(n,r){const a=r.keyCode,g=this.editor.model,h=g.schema,f=g.document.selection,b=f.getSelectedElement(),S=RC(a,this.editor.locale.contentLanguageDirection),N=S=="down"||S=="right",W=S=="up"||S=="down";if(b&&h.isObject(b)){const ee=N?f.getLastPosition():f.getFirstPosition(),se=h.getNearestSelectionRange(ee,N?"forward":"backward");return void(se&&(g.change(ue=>{ue.setSelection(se)}),r.preventDefault(),n.stop()))}if(!f.isCollapsed&&!r.shiftKey){const ee=f.getFirstPosition(),se=f.getLastPosition(),ue=ee.nodeAfter,xe=se.nodeBefore;return void((ue&&h.isObject(ue)||xe&&h.isObject(xe))&&(g.change(Le=>{Le.setSelection(N?se:ee)}),r.preventDefault(),n.stop()))}if(!f.isCollapsed)return;const J=this._getObjectElementNextToSelection(N);if(J&&h.isObject(J)){if(h.isInline(J)&&W)return;this._setSelectionOverElement(J),r.preventDefault(),n.stop()}}_preventDefaultOnArrowKeyPress(n,r){const a=this.editor.model,g=a.schema,h=a.document.selection.getSelectedElement();h&&g.isObject(h)&&(r.preventDefault(),n.stop())}_handleDelete(n){const r=this.editor.model.document.selection;if(!this.editor.model.canEditAt(r)||!r.isCollapsed)return;const a=this._getObjectElementNextToSelection(n);return a?(this.editor.model.change(g=>{let h=r.anchor.parent;for(;h.isEmpty;){const f=h;h=f.parent,g.remove(f)}this._setSelectionOverElement(a)}),!0):void 0}_setSelectionOverElement(n){this.editor.model.change(r=>{r.setSelection(r.createRangeOn(n))})}_getObjectElementNextToSelection(n){const r=this.editor.model,a=r.schema,g=r.document.selection,h=r.createSelection(g);if(r.modifySelection(h,{direction:n?"forward":"backward"}),h.isEqual(g))return null;const f=n?h.focus.nodeBefore:h.focus.nodeAfter;return f&&a.isObject(f)?f:null}_clearPreviouslySelectedWidgets(n){for(const r of this._previouslySelected)n.removeClass(GW,r);this._previouslySelected.clear()}_selectFirstNestedEditable(){const n=this.editor,r=this.editor.editing.view.document;for(const a of r.selection.getFirstRange().getItems())if(a.is("editableElement")){const g=n.editing.mapper.toModelElement(a);if(!g)continue;const h=n.model.createPositionAt(g,0),f=n.model.schema.getNearestSelectionRange(h,"forward");return n.model.change(b=>{b.setSelection(f)}),!0}return!1}_selectAncestorWidget(){const n=this.editor,r=n.editing.mapper,a=n.editing.view.document.selection.getFirstPosition().parent,g=(a.is("$text")?a.parent:a).findAncestor(ro);if(!g)return!1;const h=r.toModelElement(g);return!!h&&(n.model.change(f=>{f.setSelection(h,"on")}),!0)}}function mee(l,n){return!!n&&Array.from(l.getAncestors()).includes(n)}class z0 extends _t{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[L0]}static get pluginName(){return"WidgetToolbarRepository"}init(){const n=this.editor;if(n.plugins.has("BalloonToolbar")){const r=n.plugins.get("BalloonToolbar");this.listenTo(r,"show",a=>{(function(g){const h=g.getSelectedElement();return!(!h||!ro(h))})(n.editing.view.document.selection)&&a.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(n.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const n of this._toolbarDefinitions.values())n.view.destroy()}register(n,{ariaLabel:r,items:a,getRelatedElement:g,balloonClassName:h="ck-toolbar-container"}){if(!a.length)return void O("widget-toolbar-no-items",{toolbarId:n});const f=this.editor,b=f.t,S=new pB(f.locale);if(S.ariaLabel=r||b("Widget toolbar"),this._toolbarDefinitions.has(n))throw new P("widget-toolbar-duplicated",this,{toolbarId:n});const N={view:S,getRelatedElement:g,balloonClassName:h,itemsConfig:a,initialized:!1};f.ui.addToolbar(S,{isContextual:!0,beforeFocus:()=>{const W=g(f.editing.view.document.selection);W&&this._showToolbar(N,W)},afterBlur:()=>{this._hideToolbar(N)}}),this._toolbarDefinitions.set(n,N)}_updateToolbarsVisibility(){let n=0,r=null,a=null;for(const g of this._toolbarDefinitions.values()){const h=g.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&h)if(this.editor.ui.focusTracker.isFocused){const f=h.getAncestors().length;f>n&&(n=f,r=h,a=g)}else this._isToolbarVisible(g)&&this._hideToolbar(g);else this._isToolbarInBalloon(g)&&this._hideToolbar(g)}a&&this._showToolbar(a,r)}_hideToolbar(n){this._balloon.remove(n.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(n,r){this._isToolbarVisible(n)?TW(this.editor,r):this._isToolbarInBalloon(n)||(n.initialized||(n.initialized=!0,n.view.fillFromConfig(n.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:n.view,position:LW(this.editor,r),balloonClassName:n.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const a of this._toolbarDefinitions.values())if(this._isToolbarVisible(a)){const g=a.getRelatedElement(this.editor.editing.view.document.selection);TW(this.editor,g)}}))}_isToolbarVisible(n){return this._balloon.visibleView===n.view}_isToolbarInBalloon(n){return this._balloon.hasView(n.view)}}function TW(l,n){const r=l.plugins.get("ContextualBalloon"),a=LW(l,n);r.updatePosition(a)}function LW(l,n){const r=l.editing.view,a=ca.defaultPositions;return{target:r.domConverter.mapViewToDom(n),positions:[a.northArrowSouth,a.northArrowSouthWest,a.northArrowSouthEast,a.southArrowNorth,a.southArrowNorthWest,a.southArrowNorthEast,a.viewportStickyNorth]}}var XW=s(4095),pee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(XW.A,pee),XW.A.locals;const EB=Xc("px");class Cee extends Nt{constructor(){super();const n=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",n.if("isVisible","ck-hidden",r=>!r)],style:{left:n.to("left",r=>EB(r)),top:n.to("top",r=>EB(r)),width:n.to("width",r=>EB(r))}}})}}class Q0 extends _t{constructor(){super(...arguments),this.removeDropMarkerDelayed=EC(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=D0(n=>this._updateDropMarker(n),40),this._reconvertMarkerThrottled=D0(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new Cee,this._domEmitter=new(mr()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:n}of this._scrollables.values())n.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(n,r,a,g,h,f){this.removeDropMarkerDelayed.cancel();const b=MW(this.editor,n,r,a,g,h,f);if(b)return f&&f.containsRange(b)?this.removeDropMarker():void this._updateDropMarkerThrottled(b)}getFinalDropRange(n,r,a,g,h,f){const b=MW(this.editor,n,r,a,g,h,f);return this.removeDropMarker(),b}removeDropMarker(){const n=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,n.markers.has("drop-target")&&n.change(r=>{r.removeMarker("drop-target")})}_setupDropMarker(){const n=this.editor;n.ui.view.body.add(this._dropTargetLineView),n.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),n.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(r,{writer:a})=>{if(n.model.schema.checkChild(r.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(a);r.markerRange.isCollapsed?this._updateDropTargetLine(r.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(n){const r=this.editor,a=r.model.markers;r.model.change(g=>{a.has("drop-target")?a.get("drop-target").getRange().isEqual(n)||g.updateMarker("drop-target",{range:n}):g.addMarker("drop-target",{range:n,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(n){return n.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(r){const a=this.toDomElement(r);return a.append("",r.createElement("span"),""),a})}_updateDropTargetLine(n){const r=this.editor.editing,a=n.start.nodeBefore,g=n.start.nodeAfter,h=n.start.parent,f=a?r.mapper.toViewElement(a):null,b=f?r.view.domConverter.mapViewToDom(f):null,S=g?r.mapper.toViewElement(g):null,N=S?r.view.domConverter.mapViewToDom(S):null,W=r.mapper.toViewElement(h);if(!W)return;const J=r.view.domConverter.mapViewToDom(W),ee=this._getScrollableRect(W),{scrollX:se,scrollY:ue}=C.window,xe=b?new Xn(b):null,Le=N?new Xn(N):null,Ye=new Xn(J).excludeScrollbarsAndBorders(),$e=xe?xe.bottom:Ye.top,ht=Le?Le.top:Ye.bottom,Tt=C.window.getComputedStyle(J),rn=$e<=ht?($e+ht)/2:ht;if(ee.top<rn&&rn<ee.bottom){const Vn=Ye.left+parseFloat(Tt.paddingLeft),Mn=Ye.right-parseFloat(Tt.paddingRight),ar=Math.max(Vn+se,ee.left),Vo=Math.min(Mn+se,ee.right);this._dropTargetLineView.set({isVisible:!0,left:ar,top:rn+ue,width:Vo-ar})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(n){const r=n.root.rootName;let a;if(this._scrollables.has(r))a=this._scrollables.get(r).domElement;else{a=function(h){let f=h;do{f=f.parentElement;const b=C.window.getComputedStyle(f).overflowY;if(b=="auto"||b=="scroll")break}while(f.tagName!="BODY");return f}(this.editor.editing.view.domConverter.mapViewToDom(n)),this._domEmitter.listenTo(a,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const g=new zd(a,this._reconvertMarkerThrottled);this._scrollables.set(r,{domElement:a,resizeObserver:g})}return new Xn(a).excludeScrollbarsAndBorders()}}function MW(l,n,r,a,g,h,f){const b=l.model,S=l.editing.mapper;let N=JW(l,n);for(;N;){if(!h){if(b.schema.checkChild(N,"$text")){if(r){const W=r[0].start,J=S.toModelPosition(W);if(!f||Array.from(f.getItems()).every(ee=>b.schema.checkChild(J,ee))){if(b.schema.checkChild(J,"$text"))return b.createRange(J);if(W)return j0(l,JW(l,W.parent),a,g)}}}else if(b.schema.isInline(N))return j0(l,N,a,g)}if(b.schema.isBlock(N))return j0(l,N,a,g);if(b.schema.checkChild(N,"$block")){const W=Array.from(N.getChildren()).filter(se=>se.is("element")&&!fee(l,se));let J=0,ee=W.length;if(ee==0)return b.createRange(b.createPositionAt(N,"end"));for(;J<ee-1;){const se=Math.floor((J+ee)/2);YW(l,W[se],a,g)=="before"?ee=se:J=se}return j0(l,W[J],a,g)}N=N.parent}return null}function fee(l,n){const r=l.editing.mapper,a=l.editing.view.domConverter,g=r.toViewElement(n);if(!g)return!0;const h=a.mapViewToDom(g);return C.window.getComputedStyle(h).float!="none"}function j0(l,n,r,a){const g=l.model;return g.createRange(g.createPositionAt(n,YW(l,n,r,a)))}function YW(l,n,r,a){const g=l.editing.mapper,h=l.editing.view.domConverter,f=g.toViewElement(n),b=h.mapViewToDom(f),S=new Xn(b);return l.model.schema.isInline(n)?r<(S.left+S.right)/2?"before":"after":a<(S.top+S.bottom)/2?"before":"after"}function JW(l,n){const r=l.editing.mapper,a=l.editing.view,g=r.toModelElement(n);if(g)return g;const h=a.createPositionBefore(n),f=r.findMappedViewAncestor(h);return r.toModelElement(f)}var Iee=Object.defineProperty,bee=Object.defineProperties,yee=Object.getOwnPropertyDescriptors,UW=Object.getOwnPropertySymbols,vee=Object.prototype.hasOwnProperty,wee=Object.prototype.propertyIsEnumerable,PW=(l,n,r)=>n in l?Iee(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r;class kee extends _t{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(mr())}static get pluginName(){return"DragDropBlockToolbar"}init(){const n=this.editor;if(this.listenTo(n,"change:isReadOnly",(r,a,g)=>{g?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),x.isAndroid&&this.forceDisabled("noAndroidSupport"),n.plugins.has("BlockToolbar")){const r=n.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(r,"dragstart",(a,g)=>this._handleBlockDragStart(g)),this._domEmitter.listenTo(C.document,"dragover",(a,g)=>this._handleBlockDragging(g)),this._domEmitter.listenTo(C.document,"drop",(a,g)=>this._handleBlockDragging(g)),this._domEmitter.listenTo(C.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&r.setAttribute("draggable","true"),this.on("change:isEnabled",(a,g,h)=>{r.setAttribute("draggable",h?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(n){if(!this.isEnabled)return;const r=this.editor.model,a=r.document.selection,g=this.editor.editing.view,h=Array.from(a.getSelectedBlocks()),f=r.createRange(r.createPositionBefore(h[0]),r.createPositionAfter(h[h.length-1]));r.change(b=>b.setSelection(f)),this._isBlockDragging=!0,g.focus(),g.getObserver(tf).onDomEvent(n)}_handleBlockDragging(n){if(!this.isEnabled||!this._isBlockDragging)return;const r=n.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),a=n.clientY,g=document.elementFromPoint(r,a),h=this.editor.editing.view;var f,b;g&&g.closest(".ck-editor__editable")&&h.getObserver(tf).onDomEvent((f=((S,N)=>{for(var W in N||(N={}))vee.call(N,W)&&PW(S,W,N[W]);if(UW)for(var W of UW(N))wee.call(N,W)&&PW(S,W,N[W]);return S})({},n),b={type:n.type,dataTransfer:n.dataTransfer,target:g,clientX:r,clientY:a,preventDefault:()=>n.preventDefault(),stopPropagation:()=>n.stopPropagation()},bee(f,yee(b))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var KW=s(7793),Bee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(KW.A,Bee),KW.A.locals;class xee extends _t{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=EC(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(mr())}static get pluginName(){return"DragDrop"}static get requires(){return[yl,af,Q0,kee]}init(){const n=this.editor,r=n.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,r.addObserver(tf),r.addObserver(gB),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(n,"change:isReadOnly",(a,g,h)=>{h?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(a,g,h)=>{h||this._finalizeDragging(!1)}),x.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const n=this.editor,r=n.model,a=n.editing.view,g=a.document,h=n.plugins.get(Q0);this.listenTo(g,"dragstart",(f,b)=>{if(b.target&&b.target.is("editableElement")||(this._prepareDraggedRange(b.target),!this._draggedRange))return void b.preventDefault();this._draggingUid=X(),b.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",b.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const S=r.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(b.dataTransfer,S,"dragstart");const{dataTransfer:N,domTarget:W,domEvent:J}=b,{clientX:ee}=J;this._updatePreview({dataTransfer:N,domTarget:W,clientX:ee}),b.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(g,"dragend",(f,b)=>{this._finalizeDragging(!b.dataTransfer.isCanceled&&b.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(C.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(g,"dragenter",()=>{this.isEnabled&&a.focus()}),this.listenTo(g,"dragleave",()=>{h.removeDropMarkerDelayed()}),this.listenTo(g,"dragging",(f,b)=>{if(!this.isEnabled)return void(b.dataTransfer.dropEffect="none");const{clientX:S,clientY:N}=b.domEvent;h.updateDropMarker(b.target,b.targetRanges,S,N,this._blockMode,this._draggedRange),this._draggedRange||(b.dataTransfer.dropEffect="copy"),x.isGecko||(b.dataTransfer.effectAllowed=="copy"?b.dataTransfer.dropEffect="copy":["all","copyMove"].includes(b.dataTransfer.effectAllowed)&&(b.dataTransfer.dropEffect="move")),f.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const n=this.editor,r=n.editing.view.document,a=n.plugins.get(Q0);this.listenTo(r,"clipboardInput",(g,h)=>{if(h.method!="drop")return;const{clientX:f,clientY:b}=h.domEvent,S=a.getFinalDropRange(h.target,h.targetRanges,f,b,this._blockMode,this._draggedRange);if(!S)return this._finalizeDragging(!1),void g.stop();if(this._draggedRange&&this._draggingUid!=h.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),zW(h.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(S,!0))return this._finalizeDragging(!1),void g.stop();h.targetRanges=[n.editing.mapper.toViewRange(S)]},{priority:"high"})}_setupContentInsertionIntegration(){const n=this.editor.plugins.get(yl);n.on("contentInsertion",(r,a)=>{if(!this.isEnabled||a.method!=="drop")return;const g=a.targetRanges.map(h=>this.editor.editing.mapper.toModelRange(h));this.editor.model.change(h=>h.setSelection(g))},{priority:"high"}),n.on("contentInsertion",(r,a)=>{if(!this.isEnabled||a.method!=="drop")return;const g=zW(a.dataTransfer)=="move",h=!a.resultRange||!a.resultRange.isCollapsed;this._finalizeDragging(h&&g)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const n=this.editor,r=n.editing.view,a=r.document;this.listenTo(a,"mousedown",(g,h)=>{if(x.isAndroid||!h)return;this._clearDraggableAttributesDelayed.cancel();let f=QW(h.target);if(x.isBlink&&!n.isReadOnly&&!f&&!a.selection.isCollapsed){const b=a.selection.getSelectedElement();b&&ro(b)||(f=a.selection.editableElement)}f&&(r.change(b=>{b.setAttribute("draggable","true",f)}),this._draggableElement=n.editing.mapper.toModelElement(f))}),this.listenTo(a,"mouseup",()=>{x.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const n=this.editor.editing;n.view.change(r=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&r.removeAttribute("draggable",n.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(n){const r=this.editor,a=r.model;r.plugins.get(Q0).removeDropMarker(),this._clearDraggableAttributes(),r.plugins.has("WidgetToolbarRepository")&&r.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(n&&this.isEnabled&&a.change(g=>{const h=a.createSelection(this._draggedRange);a.deleteContent(h,{doNotAutoparagraph:!0});const f=h.getFirstPosition().parent;f.isEmpty&&!a.schema.checkChild(f,"$text")&&a.schema.checkChild(f,"paragraph")&&g.insertElement("paragraph",f,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(n){const r=this.editor,a=r.model,g=a.document.selection,h=n?QW(n):null;if(h){const N=r.editing.mapper.toModelElement(h);this._draggedRange=Ta.fromRange(a.createRangeOn(N)),this._blockMode=a.schema.isBlock(N),r.plugins.has("WidgetToolbarRepository")&&r.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(g.isCollapsed&&!g.getFirstPosition().parent.isEmpty)return;const f=Array.from(g.getSelectedBlocks()),b=g.getFirstRange();if(f.length==0)return void(this._draggedRange=Ta.fromRange(b));const S=jW(a,f);if(f.length>1)this._draggedRange=Ta.fromRange(S),this._blockMode=!0;else if(f.length==1){const N=b.start.isTouching(S.start)&&b.end.isTouching(S.end);this._draggedRange=Ta.fromRange(N?S:b),this._blockMode=N}a.change(N=>N.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:n,domTarget:r,clientX:a}){const g=this.editor.editing.view,h=g.document.selection.editableElement,f=g.domConverter.mapViewToDom(h),b=C.window.getComputedStyle(f);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=ci(C.document,"div",{style:"position: fixed; left: -999999px;"}),C.document.body.appendChild(this._previewContainer));const S=new Xn(f);if(f.contains(r))return;const N=parseFloat(b.paddingLeft),W=ci(C.document,"div");W.className="ck ck-content",W.style.width=b.width,W.style.paddingLeft=`${S.left-a+N}px`,x.isiOS&&(W.style.backgroundColor="white"),W.innerHTML=n.getData("text/html"),n.setDragImage(W,0,0),this._previewContainer.appendChild(W)}}function zW(l){return x.isGecko?l.dropEffect:["all","copyMove"].includes(l.effectAllowed)?"move":"copy"}function QW(l){if(l.is("editableElement"))return null;if(l.hasClass("ck-widget__selection-handle"))return l.findAncestor(ro);if(ro(l))return l;const n=l.findAncestor(r=>ro(r)||r.is("editableElement"));return ro(n)?n:null}function jW(l,n){const r=n[0],a=n[n.length-1],g=r.getCommonAncestor(a),h=l.createPositionBefore(r),f=l.createPositionAfter(a);if(g&&g.is("element")&&!l.schema.isLimit(g)){const b=l.createRangeOn(g),S=h.isTouching(b.start),N=f.isTouching(b.end);if(S&&N)return jW(l,[g])}return l.createRange(h,f)}class See extends _t{static get pluginName(){return"PastePlainText"}static get requires(){return[yl]}init(){const n=this.editor,r=n.model,a=n.editing.view,g=a.document,h=r.document.selection;let f=!1;a.addObserver(tf),this.listenTo(g,"keydown",(b,S)=>{f=S.shiftKey}),n.plugins.get(yl).on("contentInsertion",(b,S)=>{(f||function(N,W){if(N.childCount>1)return!1;const J=N.getChild(0);return W.isObject(J)?!1:Array.from(J.getAttributeKeys()).length==0}(S.content,r.schema))&&r.change(N=>{const W=Array.from(h.getAttributes()).filter(([ee])=>r.schema.getAttributeProperties(ee).isFormatting);h.isCollapsed||r.deleteContent(h,{doNotAutoparagraph:!0}),W.push(...h.getAttributes());const J=N.createRangeIn(S.content);for(const ee of J.getItems())ee.is("$textProxy")&&N.setAttributes(W,ee)})})}}class OW extends _t{static get pluginName(){return"Clipboard"}static get requires(){return[nf,yl,xee,See]}init(){const n=this.editor,r=this.editor.t;n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Copy selected content"),keystroke:"CTRL+C"},{label:r("Paste content"),keystroke:"CTRL+V"},{label:r("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class Zee extends nn{constructor(n){super(n),this.affectsData=!1}execute(){const n=this.editor.model,r=n.document.selection;let a=n.schema.getLimitElement(r);if(r.containsEntireContent(a)||!qW(n.schema,a))do if(a=a.parent,!a)return;while(!qW(n.schema,a));n.change(g=>{g.setSelection(a,"in")})}}function qW(l,n){return l.isLimit(n)&&(l.checkChild(n,"$text")||l.checkChild(n,"paragraph"))}const Gee=ec("Ctrl+A");class Ree extends _t{static get pluginName(){return"SelectAllEditing"}init(){const n=this.editor,r=n.t,a=n.editing.view.document;n.commands.add("selectAll",new Zee(n)),this.listenTo(a,"keydown",(g,h)=>{Yc(h)===Gee&&(n.execute("selectAll"),h.preventDefault())}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Select all"),keystroke:"CTRL+A"}]})}}class Nee extends _t{static get pluginName(){return"SelectAllUI"}init(){const n=this.editor;n.ui.componentFactory.add("selectAll",()=>{const r=this._createButton(Bi);return r.set({tooltip:!0}),r}),n.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(Xa))}_createButton(n){const r=this.editor,a=r.locale,g=r.commands.get("selectAll"),h=new n(r.locale),f=a.t;return h.set({label:f("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),h.bind("isEnabled").to(g,"isEnabled"),this.listenTo(h,"execute",()=>{r.execute("selectAll"),r.editing.view.focus()}),h}}class _ee extends _t{static get requires(){return[Ree,Nee]}static get pluginName(){return"SelectAll"}}var Vee=Object.defineProperty,$W=Object.getOwnPropertySymbols,Eee=Object.prototype.hasOwnProperty,Fee=Object.prototype.propertyIsEnumerable,e3=(l,n,r)=>n in l?Vee(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r;class t3 extends nn{constructor(n){super(n),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(n.data,"set",(r,a)=>{a[1]=((h,f)=>{for(var b in f||(f={}))Eee.call(f,b)&&e3(h,b,f[b]);if($W)for(var b of $W(f))Fee.call(f,b)&&e3(h,b,f[b]);return h})({},a[1]);const g=a[1];g.batchType||(g.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(n.data,"set",(r,a)=>{a[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(n){const r=this.editor.model.document.selection,a={ranges:r.hasOwnRange?Array.from(r.getRanges()):[],isBackward:r.isBackward};this._stack.push({batch:n,selection:a}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(n,r,a){const g=this.editor.model,h=g.document,f=[],b=n.map(N=>N.getTransformedByOperations(a)),S=b.flat();for(const N of b){const W=N.filter(J=>J.root!=h.graveyard).filter(J=>!Hee(J,S));W.length&&(Wee(W),f.push(W[0]))}f.length&&g.change(N=>{N.setSelection(f,{backward:r})})}_undo(n,r){const a=this.editor.model,g=a.document;this._createdBatches.add(r);const h=n.operations.slice().filter(f=>f.isDocumentOperation);h.reverse();for(const f of h){const b=f.baseVersion+1,S=Array.from(g.history.getOperations(b)),N=p7([f.getReversed()],S,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let W of N){const J=W.affectedSelectable;J&&!a.canEditAt(J)&&(W=new No(W.baseVersion)),r.addOperation(W),a.applyOperation(W),g.history.setOperationAsUndone(f,W)}}}}function Wee(l){l.sort((n,r)=>n.start.isBefore(r.start)?-1:1);for(let n=1;n<l.length;n++){const r=l[n-1].getJoined(l[n],!0);r&&(n--,l.splice(n,2,r))}}function Hee(l,n){return n.some(r=>r!==l&&r.containsRange(l,!0))}class Dee extends t3{execute(n=null){const r=n?this._stack.findIndex(h=>h.batch==n):this._stack.length-1,a=this._stack.splice(r,1)[0],g=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(g,()=>{this._undo(a.batch,g);const h=this.editor.model.document.history.getOperations(a.batch.baseVersion);this._restoreSelection(a.selection.ranges,a.selection.isBackward,h)}),this.fire("revert",a.batch,g),this.refresh()}}class Tee extends t3{execute(){const n=this._stack.pop(),r=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(r,()=>{const a=n.batch.operations[n.batch.operations.length-1].baseVersion+1,g=this.editor.model.document.history.getOperations(a);this._restoreSelection(n.selection.ranges,n.selection.isBackward,g),this._undo(n.batch,r)}),this.refresh()}}class Lee extends _t{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const n=this.editor,r=n.t;this._undoCommand=new Dee(n),this._redoCommand=new Tee(n),n.commands.add("undo",this._undoCommand),n.commands.add("redo",this._redoCommand),this.listenTo(n.model,"applyOperation",(a,g)=>{const h=g[0];if(!h.isDocumentOperation)return;const f=h.batch,b=this._redoCommand.createdBatches.has(f),S=this._undoCommand.createdBatches.has(f);this._batchRegistry.has(f)||(this._batchRegistry.add(f),f.isUndoable&&(b?this._undoCommand.addBatch(f):S||(this._undoCommand.addBatch(f),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(a,g,h)=>{this._redoCommand.addBatch(h)}),n.keystrokes.set("CTRL+Z","undo"),n.keystrokes.set("CTRL+Y","redo"),n.keystrokes.set("CTRL+SHIFT+Z","redo"),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Undo"),keystroke:"CTRL+Z"},{label:r("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class Xee extends _t{static get pluginName(){return"UndoUI"}init(){const n=this.editor,r=n.locale,a=n.t,g=r.uiLanguageDirection=="ltr"?Hn.undo:Hn.redo,h=r.uiLanguageDirection=="ltr"?Hn.redo:Hn.undo;this._addButtonsToFactory("undo",a("Undo"),"CTRL+Z",g),this._addButtonsToFactory("redo",a("Redo"),"CTRL+Y",h)}_addButtonsToFactory(n,r,a,g){const h=this.editor;h.ui.componentFactory.add(n,()=>{const f=this._createButton(Bi,n,r,a,g);return f.set({tooltip:!0}),f}),h.ui.componentFactory.add("menuBar:"+n,()=>this._createButton(Xa,n,r,a,g))}_createButton(n,r,a,g,h){const f=this.editor,b=f.locale,S=f.commands.get(r),N=new n(b);return N.set({label:a,icon:h,keystroke:g}),N.bind("isEnabled").to(S,"isEnabled"),this.listenTo(N,"execute",()=>{f.execute(r),f.editing.view.focus()}),N}}class n3 extends _t{static get requires(){return[Lee,Xee]}static get pluginName(){return"Undo"}}class Mee extends at(){constructor(){super();const n=new window.FileReader;this._reader=n,this._data=void 0,this.set("loaded",0),n.onprogress=r=>{this.loaded=r.loaded}}get error(){return this._reader.error}get data(){return this._data}read(n){const r=this._reader;return this.total=n.size,new Promise((a,g)=>{r.onload=()=>{const h=r.result;this._data=h,a(h)},r.onerror=()=>{g("error")},r.onabort=()=>{g("aborted")},this._reader.readAsDataURL(n)})}abort(){this._reader.abort()}}class ac extends _t{constructor(){super(...arguments),this.loaders=new ia,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[CE]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(n,r)=>r?n/r*100:0)}getLoader(n){return this._loadersMap.get(n)||null}createLoader(n){if(!this.createUploadAdapter)return O("filerepository-no-upload-adapter"),null;const r=new i3(Promise.resolve(n),this.createUploadAdapter);return this.loaders.add(r),this._loadersMap.set(n,r),n instanceof Promise&&r.file.then(a=>{this._loadersMap.set(a,r)}).catch(()=>{}),r.on("change:uploaded",()=>{let a=0;for(const g of this.loaders)a+=g.uploaded;this.uploaded=a}),r.on("change:uploadTotal",()=>{let a=0;for(const g of this.loaders)g.uploadTotal&&(a+=g.uploadTotal);this.uploadTotal=a}),r}destroyLoader(n){const r=n instanceof i3?n:this.getLoader(n);r._destroy(),this.loaders.remove(r),this._loadersMap.forEach((a,g)=>{a===r&&this._loadersMap.delete(g)})}_updatePendingAction(){const n=this.editor.plugins.get(CE);if(this.loaders.length){if(!this._pendingAction){const r=this.editor.t,a=g=>`${r("Upload in progress")} ${parseInt(g)}%.`;this._pendingAction=n.add(a(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",a)}}else n.remove(this._pendingAction),this._pendingAction=null}}class i3 extends at(){constructor(n,r){super(),this.id=X(),this._filePromiseWrapper=this._createFilePromiseWrapper(n),this._adapter=r(this),this._reader=new Mee,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(a,g)=>g?a/g*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(n=>this._filePromiseWrapper?n:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new P("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(n=>this._reader.read(n)).then(n=>{if(this.status!=="reading")throw this.status;return this.status="idle",n}).catch(n=>{throw n==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:n)})}upload(){if(this.status!="idle")throw new P("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(n=>(this.uploadResponse=n,this.status="idle",n)).catch(n=>{throw this.status==="aborted"?"aborted":(this.status="error",n)})}abort(){const n=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?n=="reading"?this._reader.abort():n=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(n){const r={};return r.promise=new Promise((a,g)=>{r.rejecter=g,r.isFulfilled=!1,n.then(h=>{r.isFulfilled=!0,a(h)}).catch(h=>{r.isFulfilled=!0,g(h)})}),r}}const r3="ckCsrfToken",o3="abcdefghijklmnopqrstuvwxyz0123456789";function Yee(){let l=function(a){a=a.toLowerCase();const g=document.cookie.split(";");for(const h of g){const f=h.split("=");if(decodeURIComponent(f[0].trim().toLowerCase())===a)return decodeURIComponent(f[1])}return null}(r3);var n,r;return l&&l.length==40||(l=function(a){let g="";const h=new Uint8Array(a);window.crypto.getRandomValues(h);for(let f=0;f<h.length;f++){const b=o3.charAt(h[f]%o3.length);g+=Math.random()>.5?b.toUpperCase():b}return g}(40),n=r3,r=l,document.cookie=encodeURIComponent(n)+"="+encodeURIComponent(r)+";path=/"),l}class Jee{constructor(n,r,a){this.loader=n,this.url=r,this.t=a}upload(){return this.loader.file.then(n=>new Promise((r,a)=>{this._initRequest(),this._initListeners(r,a,n),this._sendRequest(n)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const n=this.xhr=new XMLHttpRequest;n.open("POST",this.url,!0),n.responseType="json"}_initListeners(n,r,a){const g=this.xhr,h=this.loader,f=(0,this.t)("Cannot upload file:")+` ${a.name}.`;g.addEventListener("error",()=>r(f)),g.addEventListener("abort",()=>r()),g.addEventListener("load",()=>{const b=g.response;if(!b||!b.uploaded)return r(b&&b.error&&b.error.message?b.error.message:f);n({default:b.url})}),g.upload&&g.upload.addEventListener("progress",b=>{b.lengthComputable&&(h.uploadTotal=b.total,h.uploaded=b.loaded)})}_sendRequest(n){const r=new FormData;r.append("upload",n),r.append("ckCsrfToken",Yee()),this.xhr.send(r)}}function iA(l,n,r,a){let g,h=null;typeof a=="function"?g=a:(h=l.commands.get(a),g=()=>{l.execute(a)}),l.model.document.on("change:data",(f,b)=>{if(h&&!h.isEnabled||!n.isEnabled)return;const S=Io(l.model.document.selection.getRanges());if(!S.isCollapsed||b.isUndo||!b.isLocal)return;const N=Array.from(l.model.document.differ.getChanges()),W=N[0];if(N.length!=1||W.type!=="insert"||W.name!="$text"||W.length!=1)return;const J=W.position.parent;if(J.is("element","codeBlock")||J.is("element","listItem")&&typeof a!="function"&&!["numberedList","bulletedList","todoList"].includes(a)||h&&h.value===!0)return;const ee=J.getChild(0),se=l.model.createRangeOn(ee);if(!se.containsRange(S)&&!S.end.isEqual(se.end))return;const ue=r.exec(ee.data.substr(0,S.end.offset));ue&&l.model.enqueueChange(xe=>{const Le=xe.createPositionAt(J,0),Ye=xe.createPositionAt(J,ue[0].length),$e=new Ta(Le,Ye);if(g({match:ue})!==!1){xe.remove($e);const ht=l.model.document.selection.getFirstRange(),Tt=xe.createRangeIn(J);!J.isEmpty||Tt.isEqual(ht)||Tt.containsRange(ht,!0)||xe.remove(J)}$e.detach(),l.model.enqueueChange(()=>{l.plugins.get("Delete").requestUndoOnBackspace()})})})}function Bm(l,n,r,a){let g,h;r instanceof RegExp?g=r:h=r,h=h||(f=>{let b;const S=[],N=[];for(;(b=g.exec(f))!==null&&!(b&&b.length<4);){let{index:W,1:J,2:ee,3:se}=b;const ue=J+ee+se;W+=b[0].length-ue.length;const xe=[W,W+J.length],Le=[W+J.length+ee.length,W+J.length+ee.length+se.length];S.push(xe),S.push(Le),N.push([W+J.length,W+J.length+ee.length])}return{remove:S,format:N}}),l.model.document.on("change:data",(f,b)=>{if(b.isUndo||!b.isLocal||!n.isEnabled)return;const S=l.model,N=S.document.selection;if(!N.isCollapsed)return;const W=Array.from(S.document.differ.getChanges()),J=W[0];if(W.length!=1||J.type!=="insert"||J.name!="$text"||J.length!=1)return;const ee=N.focus,se=ee.parent,{text:ue,range:xe}=function(ht,Tt){let rn=ht.start;return{text:Array.from(ht.getItems()).reduce((Mn,ar)=>!ar.is("$text")&&!ar.is("$textProxy")||ar.getAttribute("code")?(rn=Tt.createPositionAfter(ar),""):Mn+ar.data,""),range:Tt.createRange(rn,ht.end)}}(S.createRange(S.createPositionAt(se,0),ee),S),Le=h(ue),Ye=s3(xe.start,Le.format,S),$e=s3(xe.start,Le.remove,S);Ye.length&&$e.length&&S.enqueueChange(ht=>{if(a(ht,Ye)!==!1){for(const Tt of $e.reverse())ht.remove(Tt);S.enqueueChange(()=>{l.plugins.get("Delete").requestUndoOnBackspace()})}})})}function s3(l,n,r){return n.filter(a=>a[0]!==void 0&&a[1]!==void 0).map(a=>r.createRange(l.getShiftedBy(a[0]),l.getShiftedBy(a[1])))}function O0(l,n){return(r,a)=>{if(!l.commands.get(n).isEnabled)return!1;const g=l.model.schema.getValidRanges(a,n);for(const h of g)r.setAttribute(n,!0,h);r.removeSelectionAttribute(n)}}class a3 extends nn{constructor(n,r){super(n),this.attributeKey=r}refresh(){const n=this.editor.model,r=n.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=n.schema.checkAttributeInSelection(r.selection,this.attributeKey)}execute(n={}){const r=this.editor.model,a=r.document.selection,g=n.forceValue===void 0?!this.value:n.forceValue;r.change(h=>{if(a.isCollapsed)g?h.setSelectionAttribute(this.attributeKey,!0):h.removeSelectionAttribute(this.attributeKey);else{const f=r.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const b of f)g?h.setAttribute(this.attributeKey,g,b):h.removeAttribute(this.attributeKey,b)}})}_getValueFromFirstAllowedNode(){const n=this.editor.model,r=n.schema,a=n.document.selection;if(a.isCollapsed)return a.hasAttribute(this.attributeKey);for(const g of a.getRanges())for(const h of g.getItems())if(r.checkAttribute(h,this.attributeKey))return h.hasAttribute(this.attributeKey);return!1}}const xm="bold";class Uee extends _t{static get pluginName(){return"BoldEditing"}init(){const n=this.editor,r=this.editor.t;n.model.schema.extend("$text",{allowAttributes:xm}),n.model.schema.setAttributeProperties(xm,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:xm,view:"strong",upcastAlso:["b",a=>{const g=a.getStyle("font-weight");return g&&(g=="bold"||Number(g)>=600)?{name:!0,styles:["font-weight"]}:null}]}),n.commands.add(xm,new a3(n,xm)),n.keystrokes.set("CTRL+B",xm),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Bold text"),keystroke:"CTRL+B"}]})}}function l3({editor:l,commandName:n,plugin:r,icon:a,label:g,keystroke:h}){return f=>{const b=l.commands.get(n),S=new f(l.locale);return S.set({label:g,icon:a,keystroke:h,isToggleable:!0}),S.bind("isEnabled").to(b,"isEnabled"),r.listenTo(S,"execute",()=>{l.execute(n),l.editing.view.focus()}),S}}const q0="bold";class Pee extends _t{static get pluginName(){return"BoldUI"}init(){const n=this.editor,r=n.locale.t,a=n.commands.get(q0),g=l3({editor:n,commandName:q0,plugin:this,icon:Hn.bold,label:r("Bold"),keystroke:"CTRL+B"});n.ui.componentFactory.add(q0,()=>{const h=g(Bi);return h.set({tooltip:!0}),h.bind("isOn").to(a,"value"),h}),n.ui.componentFactory.add("menuBar:"+q0,()=>g(Xa))}}var c3=s(4199),Kee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(c3.A,Kee),c3.A.locals;const Sm="italic";class zee extends _t{static get pluginName(){return"ItalicEditing"}init(){const n=this.editor,r=this.editor.t;n.model.schema.extend("$text",{allowAttributes:Sm}),n.model.schema.setAttributeProperties(Sm,{isFormatting:!0,copyOnEnter:!0}),n.conversion.attributeToElement({model:Sm,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),n.commands.add(Sm,new a3(n,Sm)),n.keystrokes.set("CTRL+I",Sm),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Italic text"),keystroke:"CTRL+I"}]})}}const $0="italic";class Qee extends _t{static get pluginName(){return"ItalicUI"}init(){const n=this.editor,r=n.commands.get($0),a=n.locale.t,g=l3({editor:n,commandName:$0,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:a("Italic")});n.ui.componentFactory.add($0,()=>{const h=g(Bi);return h.set({tooltip:!0}),h.bind("isOn").to(r,"value"),h}),n.ui.componentFactory.add("menuBar:"+$0,()=>g(Xa))}}class jee extends nn{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const r=this.editor.model,a=r.schema,g=r.document.selection,h=Array.from(g.getSelectedBlocks()),f=n.forceValue===void 0?!this.value:n.forceValue;r.change(b=>{if(f){const S=h.filter(N=>ey(N)||d3(a,N));this._applyQuote(b,S)}else this._removeQuote(b,h.filter(ey))})}_getValue(){const n=Io(this.editor.model.document.selection.getSelectedBlocks());return!(!n||!ey(n))}_checkEnabled(){if(this.value)return!0;const n=this.editor.model.document.selection,r=this.editor.model.schema,a=Io(n.getSelectedBlocks());return!!a&&d3(r,a)}_removeQuote(n,r){g3(n,r).reverse().forEach(a=>{if(a.start.isAtStart&&a.end.isAtEnd)return void n.unwrap(a.start.parent);if(a.start.isAtStart){const h=n.createPositionBefore(a.start.parent);return void n.move(a,h)}a.end.isAtEnd||n.split(a.end);const g=n.createPositionAfter(a.end.parent);n.move(a,g)})}_applyQuote(n,r){const a=[];g3(n,r).reverse().forEach(g=>{let h=ey(g.start);h||(h=n.createElement("blockQuote"),n.wrap(g,h)),a.push(h)}),a.reverse().reduce((g,h)=>g.nextSibling==h?(n.merge(n.createPositionAfter(g)),g):h)}}function ey(l){return l.parent.name=="blockQuote"?l.parent:null}function g3(l,n){let r,a=0;const g=[];for(;a<n.length;){const h=n[a],f=n[a+1];r||(r=l.createPositionBefore(h)),f&&h.nextSibling==f||(g.push(l.createRange(r,l.createPositionAfter(h))),r=null),a++}return g}function d3(l,n){const r=l.checkChild(n.parent,"blockQuote"),a=l.checkChild(["$root","blockQuote"],n);return r&&a}class Oee extends _t{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[P0,Og]}init(){const n=this.editor,r=n.model.schema;n.commands.add("blockQuote",new jee(n)),r.register("blockQuote",{inheritAllFrom:"$container"}),n.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),n.model.document.registerPostFixer(f=>{const b=n.model.document.differ.getChanges();for(const S of b)if(S.type=="insert"){const N=S.position.nodeAfter;if(!N)continue;if(N.is("element","blockQuote")&&N.isEmpty)return f.remove(N),!0;if(N.is("element","blockQuote")&&!r.checkChild(S.position,N))return f.unwrap(N),!0;if(N.is("element")){const W=f.createRangeIn(N);for(const J of W.getItems())if(J.is("element","blockQuote")&&!r.checkChild(f.createPositionBefore(J),J))return f.unwrap(J),!0}}else if(S.type=="remove"){const N=S.position.parent;if(N.is("element","blockQuote")&&N.isEmpty)return f.remove(N),!0}return!1});const a=this.editor.editing.view.document,g=n.model.document.selection,h=n.commands.get("blockQuote");this.listenTo(a,"enter",(f,b)=>{!g.isCollapsed||!h.value||g.getLastPosition().parent.isEmpty&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),b.preventDefault(),f.stop())},{context:"blockquote"}),this.listenTo(a,"delete",(f,b)=>{if(b.direction!="backward"||!g.isCollapsed||!h.value)return;const S=g.getLastPosition().parent;S.isEmpty&&!S.previousSibling&&(n.execute("blockQuote"),n.editing.view.scrollToTheSelection(),b.preventDefault(),f.stop())},{context:"blockquote"})}}var A3=s(8708),qee={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(A3.A,qee),A3.A.locals;class $ee extends _t{static get pluginName(){return"BlockQuoteUI"}init(){const n=this.editor,r=n.commands.get("blockQuote");n.ui.componentFactory.add("blockQuote",()=>{const a=this._createButton(Bi);return a.set({tooltip:!0}),a.bind("isOn").to(r,"value"),a}),n.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(Xa))}_createButton(n){const r=this.editor,a=r.locale,g=r.commands.get("blockQuote"),h=new n(r.locale),f=a.t;return h.set({label:f("Block quote"),icon:Hn.quote,isToggleable:!0}),h.bind("isEnabled").to(g,"isEnabled"),this.listenTo(h,"execute",()=>{r.execute("blockQuote"),r.editing.view.focus()}),h}}class ete extends _t{static get pluginName(){return"CKBoxUI"}afterInit(){const n=this.editor;if(!n.commands.get("ckbox"))return;const r=n.t,a=n.ui.componentFactory;if(a.add("ckbox",()=>{const g=this._createButton(Bi);return g.tooltip=!0,g}),a.add("menuBar:ckbox",()=>this._createButton(Xa)),n.plugins.has("ImageInsertUI")){const g=n.plugins.get("ImageInsertUI");g.registerIntegration({name:"assetManager",observable:()=>n.commands.get("ckbox"),buttonViewCreator:()=>{const h=this.editor.ui.componentFactory.create("ckbox");return h.icon=Hn.imageAssetManager,h.bind("label").to(g,"isImageSelected",f=>r(f?"Replace image with file manager":"Insert image with file manager")),h},formViewCreator:()=>{const h=this.editor.ui.componentFactory.create("ckbox");return h.icon=Hn.imageAssetManager,h.withText=!0,h.bind("label").to(g,"isImageSelected",f=>r(f?"Replace with file manager":"Insert with file manager")),h.on("execute",()=>{g.dropdownView.isOpen=!1}),h}})}}_createButton(n){const r=this.editor,a=r.locale,g=new n(a),h=r.commands.get("ckbox"),f=a.t;return g.set({label:f("Open file manager"),icon:Hn.browseFiles}),g.bind("isOn","isEnabled").to(h,"value","isEnabled"),g.on("execute",()=>{r.execute("ckbox")}),g}}var tte=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],lf=l=>{let n=0;for(let r=0;r<l.length;r++){let a=l[r];n=83*n+tte.indexOf(a)}return n},FB=l=>{let n=l/255;return n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)},WB=l=>{let n=Math.max(0,Math.min(1,l));return n<=.0031308?Math.trunc(12.92*n*255+.5):Math.trunc(255*(1.055*Math.pow(n,.4166666666666667)-.055)+.5)},HB=(l,n)=>(r=>r<0?-1:1)(l)*Math.pow(Math.abs(l),n),u3=class extends Error{constructor(l){super(l),this.name="ValidationError",this.message=l}},nte=l=>{if(!l||l.length<6)throw new u3("The blurhash string must be at least 6 characters");let n=lf(l[0]),r=Math.floor(n/9)+1,a=n%9+1;if(l.length!==4+2*a*r)throw new u3(`blurhash length mismatch: length is ${l.length} but it should be ${4+2*a*r}`)},ite=l=>{let n=l>>8&255,r=255&l;return[FB(l>>16),FB(n),FB(r)]},rte=(l,n)=>{let r=Math.floor(l/361),a=Math.floor(l/19)%19,g=l%19;return[HB((r-9)/9,2)*n,HB((a-9)/9,2)*n,HB((g-9)/9,2)*n]},ote=(l,n,r,a)=>{nte(l),a|=1;let g=lf(l[0]),h=Math.floor(g/9)+1,f=g%9+1,b=(lf(l[1])+1)/166,S=new Array(f*h);for(let J=0;J<S.length;J++)if(J===0){let ee=lf(l.substring(2,6));S[J]=ite(ee)}else{let ee=lf(l.substring(4+2*J,6+2*J));S[J]=rte(ee,b*a)}let N=4*n,W=new Uint8ClampedArray(N*r);for(let J=0;J<r;J++)for(let ee=0;ee<n;ee++){let se=0,ue=0,xe=0;for(let ht=0;ht<h;ht++)for(let Tt=0;Tt<f;Tt++){let rn=Math.cos(Math.PI*ee*Tt/n)*Math.cos(Math.PI*J*ht/r),Vn=S[Tt+ht*f];se+=Vn[0]*rn,ue+=Vn[1]*rn,xe+=Vn[2]*rn}let Le=WB(se),Ye=WB(ue),$e=WB(xe);W[4*ee+0+J*N]=Le,W[4*ee+1+J*N]=Ye,W[4*ee+2+J*N]=$e,W[4*ee+3+J*N]=255}return W},ste=Object.defineProperty,h3=Object.getOwnPropertySymbols,ate=Object.prototype.hasOwnProperty,lte=Object.prototype.propertyIsEnumerable,m3=(l,n,r)=>n in l?ste(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r;function p3(l){const n=[];let r=0;for(const g in l){const h=parseInt(g,10);isNaN(h)||(h>r&&(r=h),n.push(`${l[g]} ${g}w`))}const a=[{srcset:n.join(","),sizes:`(max-width: ${r}px) 100vw, ${r}px`,type:"image/webp"}];return{imageFallbackUrl:l.default,imageSources:a}}const cf=32;function C3({url:l,method:n="GET",data:r,onUploadProgress:a,signal:g,authorization:h}){const f=new XMLHttpRequest;f.open(n,l.toString()),f.setRequestHeader("Authorization",h),f.setRequestHeader("CKBox-Version","CKEditor 5"),f.responseType="json";const b=()=>{f.abort()};return new Promise((S,N)=>{g.throwIfAborted(),g.addEventListener("abort",b),f.addEventListener("loadstart",()=>{g.addEventListener("abort",b)}),f.addEventListener("loadend",()=>{g.removeEventListener("abort",b)}),f.addEventListener("error",()=>{N()}),f.addEventListener("abort",()=>{N()}),f.addEventListener("load",()=>{const W=f.response;if(!W||W.statusCode>=400)return N(W&&W.message);S(W)}),a&&f.upload.addEventListener("progress",W=>{a(W)}),f.send(r)})}const cte={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function gte(l,n){return r=this,a=null,g=function*(){try{const h=yield fetch(l,((f,b)=>{for(var S in b||(b={}))ate.call(b,S)&&m3(f,S,b[S]);if(h3)for(var S of h3(b))lte.call(b,S)&&m3(f,S,b[S]);return f})({method:"HEAD",cache:"force-cache"},n));return h.ok&&h.headers.get("content-type")||""}catch{return""}},new Promise((h,f)=>{var b=W=>{try{N(g.next(W))}catch(J){f(J)}},S=W=>{try{N(g.throw(W))}catch(J){f(J)}},N=W=>W.done?h(W.value):Promise.resolve(W.value).then(b,S);N((g=g.apply(r,a)).next())});var r,a,g}var dte=Object.defineProperty,f3=Object.getOwnPropertySymbols,Ate=Object.prototype.hasOwnProperty,ute=Object.prototype.propertyIsEnumerable,I3=(l,n,r)=>n in l?dte(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,b3=(l,n)=>{for(var r in n||(n={}))Ate.call(n,r)&&I3(l,r,n[r]);if(f3)for(var r of f3(n))ute.call(n,r)&&I3(l,r,n[r]);return l};class hte extends nn{constructor(n){super(n),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const n=this.editor.commands.get("insertImage"),r=this.editor.commands.get("link");return!(!n.isEnabled&&!r.isEnabled)}_prepareOptions(){const n=this.editor.config.get("ckbox");return{theme:n.theme,language:n.language,tokenUrl:n.tokenUrl,serviceOrigin:n.serviceOrigin,forceDemoLabel:n.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:r=>this.fire("ckbox:choose",r)}}}_initListeners(){const n=this.editor,r=n.model,a=!n.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=ci(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,n.editing.view.focus())}),this.on("ckbox:choose",(g,h)=>{if(!this.isEnabled)return;const f=n.commands.get("insertImage"),b=n.commands.get("link"),S=function({assets:W,isImageAllowed:J,isLinkAllowed:ee}){return W.map(se=>function(ue){const xe=ue.data.metadata;return xe?xe.width&&xe.height:!1}(se)?{id:se.data.id,type:"image",attributes:mte(se)}:{id:se.data.id,type:"link",attributes:pte(se)}).filter(se=>se.type==="image"?J:ee)}({assets:h,isImageAllowed:f.isEnabled,isLinkAllowed:b.isEnabled}),N=S.length;N!==0&&(r.change(W=>{for(const J of S){const ee=J===S[N-1],se=N===1;this._insertAsset(J,ee,W,se),a&&(setTimeout(()=>this._chosenAssets.delete(J),1e3),this._chosenAssets.add(J))}}),n.editing.view.focus())}),this.listenTo(n,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(n,r,a,g){const h=this.editor.model.document.selection;a.removeSelectionAttribute("linkHref"),n.type==="image"?this._insertImage(n):this._insertLink(n,a,g),r||a.setSelection(h.getLastPosition())}_insertImage(n){const r=this.editor,{imageFallbackUrl:a,imageSources:g,imageTextAlternative:h,imageWidth:f,imageHeight:b,imagePlaceholder:S}=n.attributes;r.execute("insertImage",{source:b3({src:a,sources:g,alt:h,width:f,height:b},S?{placeholder:S}:null)})}_insertLink(n,r,a){const g=this.editor,h=g.model,f=h.document.selection,{linkName:b,linkHref:S}=n.attributes;if(f.isCollapsed){const N=pl(f.getAttributes()),W=r.createText(b,N);if(!a){const ee=f.getLastPosition(),se=ee.parent;se.name==="paragraph"&&se.isEmpty||g.execute("insertParagraph",{position:ee});const ue=h.insertContent(W);return r.setSelection(ue),void g.execute("link",S)}const J=h.insertContent(W);r.setSelection(J)}g.execute("link",S)}}function mte(l){const{imageFallbackUrl:n,imageSources:r}=p3(l.data.imageUrls),{description:a,width:g,height:h,blurHash:f}=l.data.metadata,b=function(S){if(S)try{const N=`${cf}px`,W=document.createElement("canvas");W.setAttribute("width",N),W.setAttribute("height",N);const J=W.getContext("2d");if(!J)return;const ee=J.createImageData(cf,cf),se=ote(S,cf,cf);return ee.data.set(se),J.putImageData(ee,0,0),W.toDataURL()}catch{return}}(f);return b3({imageFallbackUrl:n,imageSources:r,imageTextAlternative:a||"",imageWidth:g,imageHeight:h},b?{imagePlaceholder:b}:null)}function pte(l){return{linkName:l.data.name,linkHref:Cte(l)}}function Cte(l){const n=new URL(l.data.url);return n.searchParams.set("download","true"),n.toString()}var DB=(l,n,r)=>new Promise((a,g)=>{var h=S=>{try{b(r.next(S))}catch(N){g(N)}},f=S=>{try{b(r.throw(S))}catch(N){g(N)}},b=S=>S.done?a(S.value):Promise.resolve(S.value).then(h,f);b((r=r.apply(l,n)).next())});class y3 extends _t{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return DB(this,null,function*(){const n=this.editor,r=!!n.config.get("ckbox"),a=!!window.CKBox;if(!r&&!a)return;n.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:n.locale.uiLanguage,theme:"lark",tokenUrl:n.config.get("cloudServices.tokenUrl")});const g=n.plugins.get("CloudServices"),h=n.config.get("cloudServices.tokenUrl"),f=n.config.get("ckbox.tokenUrl");if(!f)throw new P("ckbox-plugin-missing-token-url",this);this._token=f==h?g.token:yield g.registerTokenUrl(f)})}getToken(){return this._token}getWorkspaceId(){const n=(0,this.editor.t)("Cannot access default workspace."),r=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),a=function(g,h){const[,f]=g.value.split("."),b=JSON.parse(atob(f)),S=b.auth&&b.auth.ckbox&&b.auth.ckbox.workspaces||[b.aud];return h?(b.auth&&b.auth.ckbox&&b.auth.ckbox.role)=="superadmin"||S.includes(h)?h:null:S[0]}(this._token,r);if(a==null)throw de("ckbox-access-default-workspace-error"),n;return a}getCategoryIdForFile(n,r){return DB(this,null,function*(){const a=(0,this.editor.t)("Cannot determine a category for the uploaded file."),g=this.editor.config.get("ckbox.defaultUploadCategories"),h=this._getAvailableCategories(r),f=typeof n=="string"?(b=yield gte(n,r),cte[b]):function(W){const J=W.name,ee=new RegExp("\\.(?<ext>[^.]+)$");return J.match(ee).groups.ext.toLowerCase()}(n);var b;const S=yield h;if(!S)throw a;if(g){const W=Object.keys(g).find(J=>g[J].find(ee=>ee.toLowerCase()==f));if(W){const J=S.find(ee=>ee.id===W||ee.name===W);if(!J)throw a;return J.id}}const N=S.find(W=>W.extensions.find(J=>J.toLowerCase()==f));if(!N)throw a;return N.id})}_getAvailableCategories(n){return DB(this,null,function*(){const r=this.editor,a=this._token,{signal:g}=n,h=r.config.get("ckbox.serviceOrigin"),f=this.getWorkspaceId();try{const S=[];let N,W=0;do{const J=yield b(W);S.push(...J.items),N=J.totalCount-(W+50),W+=50}while(N>0);return S}catch{return g.throwIfAborted(),void de("ckbox-fetch-category-http-error")}function b(S){const N=new URL("categories",h);return N.searchParams.set("limit","50"),N.searchParams.set("offset",S.toString()),N.searchParams.set("workspaceId",f),C3({url:N,signal:g,authorization:a.value})}})}}var TB=(l,n,r)=>new Promise((a,g)=>{var h=S=>{try{b(r.next(S))}catch(N){g(N)}},f=S=>{try{b(r.throw(S))}catch(N){g(N)}},b=S=>S.done?a(S.value):Promise.resolve(S.value).then(h,f);b((r=r.apply(l,n)).next())});class fte extends _t{static get requires(){return["ImageUploadEditing","ImageUploadProgress",ac,v3]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return TB(this,null,function*(){const n=this.editor,r=!!n.config.get("ckbox"),a=!!window.CKBox;if(!r&&!a)return;const g=n.plugins.get(ac),h=n.plugins.get(y3);g.createUploadAdapter=S=>new Ite(S,n,h);const f=!n.config.get("ckbox.ignoreDataId"),b=n.plugins.get("ImageUploadEditing");f&&b.on("uploadComplete",(S,{imageElement:N,data:W})=>{n.model.change(J=>{J.setAttribute("ckboxImageId",W.ckboxImageId,N)})})})}}class Ite{constructor(n,r,a){this.loader=n,this.token=a.getToken(),this.ckboxUtils=a,this.editor=r,this.controller=new AbortController,this.serviceOrigin=r.config.get("ckbox.serviceOrigin")}upload(){return TB(this,null,function*(){const n=this.ckboxUtils,r=this.editor.t,a=yield this.loader.file,g=yield n.getCategoryIdForFile(a,{signal:this.controller.signal}),h=new URL("assets",this.serviceOrigin),f=new FormData;return h.searchParams.set("workspaceId",n.getWorkspaceId()),f.append("categoryId",g),f.append("file",a),C3({method:"POST",url:h,data:f,onUploadProgress:b=>{b.lengthComputable&&(this.loader.uploadTotal=b.total,this.loader.uploaded=b.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(b=>TB(this,null,function*(){const S=p3(b.imageUrls);return{ckboxImageId:b.id,default:S.imageFallbackUrl,sources:S.imageSources}})).catch(()=>{const b=r("Cannot upload file:")+` ${a.name}.`;return Promise.reject(b)})})}abort(){this.controller.abort()}}class v3 extends _t{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",fte,y3]}init(){const n=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),k3()&&n.commands.add("ckbox",new hte(n)))}afterInit(){const n=this.editor;this._shouldBeInitialised()&&(n.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||k3()}_checkImagePlugins(){const n=this.editor;n.plugins.has("ImageBlockEditing")||n.plugins.has("ImageInlineEditing")||de("ckbox-plugin-image-feature-missing",n)}_initSchema(){const n=this.editor.model.schema;n.extend("$text",{allowAttributes:"ckboxLinkId"}),n.isRegistered("imageBlock")&&n.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),n.isRegistered("imageInline")&&n.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),n.addAttributeCheck((r,a)=>{if(!r.last.getAttribute("linkHref")&&a==="ckboxLinkId")return!1})}_initConversion(){const n=this.editor;n.conversion.for("downcast").add(a=>{a.on("attribute:ckboxLinkId:imageBlock",(g,h,f)=>{const{writer:b,mapper:S,consumable:N}=f;if(!N.consume(h.item,g.name))return;const W=[...S.toViewElement(h.item).getChildren()].find(J=>J.name==="a");W&&(h.item.hasAttribute("ckboxLinkId")?b.setAttribute("data-ckbox-resource-id",h.item.getAttribute("ckboxLinkId"),W):b.removeAttribute("data-ckbox-resource-id",W))},{priority:"low"}),a.on("attribute:ckboxLinkId",(g,h,f)=>{const{writer:b,mapper:S,consumable:N}=f;if(N.consume(h.item,g.name)){if(h.attributeOldValue){const W=w3(b,h.attributeOldValue);b.unwrap(S.toViewRange(h.range),W)}if(h.attributeNewValue){const W=w3(b,h.attributeNewValue);if(h.item.is("selection")){const J=b.document.selection;b.wrap(J.getFirstRange(),W)}else b.wrap(S.toViewRange(h.range),W)}}},{priority:"low"})}),n.conversion.for("upcast").add(a=>{a.on("element:a",(g,h,f)=>{const{writer:b,consumable:S}=f;if(!h.viewItem.getAttribute("href")||!S.consume(h.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const N=h.viewItem.getAttribute("data-ckbox-resource-id");if(N)if(h.modelRange)for(let W of h.modelRange.getItems())W.is("$textProxy")&&(W=W.textNode),yte(W)&&b.setAttribute("ckboxLinkId",N,W);else{const W=h.modelCursor.nodeBefore||h.modelCursor.parent;b.setAttribute("ckboxLinkId",N,W)}},{priority:"low"})}),n.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),n.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:a=>a.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const r=n.commands.get("replaceImageSource");r&&this.listenTo(r,"cleanupImage",(a,[g,h])=>{g.removeAttribute("ckboxImageId",h)})}_initFixers(){const n=this.editor,r=n.model,a=r.document.selection;r.document.registerPostFixer(function(g){return h=>{let f=!1;const b=g.model,S=g.commands.get("ckbox");if(!S)return f;for(const N of b.document.differ.getChanges()){if(N.type!=="insert"&&N.type!=="attribute")continue;const W=N.type==="insert"?new vt(N.position,N.position.getShiftedBy(N.length)):N.range,J=N.type==="attribute"&&N.attributeKey==="linkHref"&&N.attributeNewValue===null;for(const ee of W.getItems()){if(J&&ee.hasAttribute("ckboxLinkId")){h.removeAttribute("ckboxLinkId",ee),f=!0;continue}const se=bte(ee,S._chosenAssets);for(const ue of se){const xe=ue.type==="image"?"ckboxImageId":"ckboxLinkId";ue.id!==ee.getAttribute(xe)&&(h.setAttribute(xe,ue.id,ee),f=!0)}}}return f}}(n)),r.document.registerPostFixer(function(g){return h=>!(g.hasAttribute("linkHref")||!g.hasAttribute("ckboxLinkId"))&&(h.removeSelectionAttribute("ckboxLinkId"),!0)}(a))}}function bte(l,n){const r=l.is("element","imageInline")||l.is("element","imageBlock"),a=l.hasAttribute("linkHref");return[...n].filter(g=>g.type==="image"&&r?g.attributes.imageFallbackUrl===l.getAttribute("src"):g.type==="link"&&a?g.attributes.linkHref===l.getAttribute("linkHref"):void 0)}function w3(l,n){const r=l.createAttributeElement("a",{"data-ckbox-resource-id":n},{priority:5});return l.setCustomProperty("link",!0,r),r}function yte(l){return!!l.is("$text")||!(!l.is("element","imageInline")&&!l.is("element","imageBlock"))}function k3(){return!!window.CKBox}var B3=s(1866),vte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(B3.A,vte),B3.A.locals;class wte extends _t{static get pluginName(){return"CKFinderUI"}init(){const n=this.editor,r=n.ui.componentFactory,a=n.t;if(r.add("ckfinder",g=>{const h=this._createButton(Bi),f=g.t;return h.set({label:f("Insert image or file"),tooltip:!0}),h}),r.add("menuBar:ckfinder",g=>{const h=this._createButton(Xa),f=g.t;return h.label=f("Image or file"),h}),n.plugins.has("ImageInsertUI")){const g=n.plugins.get("ImageInsertUI");g.registerIntegration({name:"assetManager",observable:()=>n.commands.get("ckfinder"),buttonViewCreator:()=>{const h=this.editor.ui.componentFactory.create("ckfinder");return h.icon=Hn.imageAssetManager,h.bind("label").to(g,"isImageSelected",f=>a(f?"Replace image with file manager":"Insert image with file manager")),h},formViewCreator:()=>{const h=this.editor.ui.componentFactory.create("ckfinder");return h.icon=Hn.imageAssetManager,h.withText=!0,h.bind("label").to(g,"isImageSelected",f=>a(f?"Replace with file manager":"Insert with file manager")),h.on("execute",()=>{g.dropdownView.isOpen=!1}),h}})}}_createButton(n){const r=this.editor,a=new n(r.locale),g=r.commands.get("ckfinder");return a.icon=Hn.browseFiles,a.bind("isEnabled").to(g),a.on("execute",()=>{r.execute("ckfinder"),r.editing.view.focus()}),a}}class kte extends nn{constructor(n){super(n),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const n=this.editor.commands.get("insertImage"),r=this.editor.commands.get("link");this.isEnabled=n.isEnabled||r.isEnabled}execute(){const n=this.editor,r=this.editor.config.get("ckfinder.openerMethod")||"modal";if(r!="popup"&&r!="modal")throw new P("ckfinder-unknown-openermethod",n);const a=this.editor.config.get("ckfinder.options")||{};a.chooseFiles=!0;const g=a.onInit;a.language||(a.language=n.locale.uiLanguage),a.onInit=h=>{g&&g(h),h.on("files:choose",f=>{const b=f.data.files.toArray(),S=b.filter(J=>!J.isImage()),N=b.filter(J=>J.isImage());for(const J of S)n.execute("link",J.getUrl());const W=[];for(const J of N){const ee=J.getUrl();W.push(ee||h.request("file:getProxyUrl",{file:J}))}W.length&&x3(n,W)}),h.on("file:choose:resizedImage",f=>{const b=f.data.resizedUrl;if(b)x3(n,[b]);else{const S=n.plugins.get("Notification"),N=n.locale.t;S.showWarning(N("Could not obtain resized image URL."),{title:N("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[r](a)}}function x3(l,n){if(l.commands.get("insertImage").isEnabled)l.execute("insertImage",{source:n});else{const r=l.plugins.get("Notification"),a=l.locale.t;r.showWarning(a("Could not insert image at the current position."),{title:a("Inserting image failed"),namespace:"ckfinder"})}}class Bte extends _t{static get pluginName(){return"CKFinderEditing"}static get requires(){return[kB,"LinkEditing"]}init(){const n=this.editor;if(!n.plugins.has("ImageBlockEditing")&&!n.plugins.has("ImageInlineEditing"))throw new P("ckfinder-missing-image-plugin",n);n.commands.add("ckfinder",new kte(n))}}class xte extends _t{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",ac]}init(){const n=this.editor,r=n.plugins.get("CloudServices"),a=r.token,g=r.uploadUrl;if(!a)return;const h=n.plugins.get("CloudServicesCore");this._uploadGateway=h.createUploadGateway(a,g),n.plugins.get(ac).createUploadAdapter=f=>new Ste(this._uploadGateway,f)}}class Ste{constructor(n,r){this.uploadGateway=n,this.loader=r}upload(){return this.loader.file.then(n=>(this.fileUploader=this.uploadGateway.upload(n),this.fileUploader.on("progress",(r,a)=>{this.loader.uploadTotal=a.total,this.loader.uploaded=a.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class Zte extends nn{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}refresh(){const n=this.editor.model,r=Io(n.document.selection.getSelectedBlocks());this.value=!!r&&r.is("element","paragraph"),this.isEnabled=!!r&&S3(r,n.schema)}execute(n={}){const r=this.editor.model,a=r.document,g=n.selection||a.selection;r.canEditAt(g)&&r.change(h=>{const f=g.getSelectedBlocks();for(const b of f)!b.is("element","paragraph")&&S3(b,r.schema)&&h.rename(b,"paragraph")})}}function S3(l,n){return n.checkChild(l.parent,"paragraph")&&!n.isObject(l)}class Gte extends nn{constructor(n){super(n),this._isEnabledBasedOnSelection=!1}execute(n){const r=this.editor.model,a=n.attributes;let g=n.position;r.canEditAt(g)&&r.change(h=>{if(g=this._findPositionToInsertParagraph(g,h),!g)return;const f=h.createElement("paragraph");a&&r.schema.setAllowedAttributes(f,a,h),r.insertContent(f,g),h.setSelection(f,"in")})}_findPositionToInsertParagraph(n,r){const a=this.editor.model;if(a.schema.checkChild(n,"paragraph"))return n;const g=a.schema.findAllowedParent(n,"paragraph");if(!g)return null;const h=n.parent,f=a.schema.checkChild(h,"$text");return h.isEmpty||f&&n.isAtEnd?a.createPositionAfter(h):!h.isEmpty&&f&&n.isAtStart?a.createPositionBefore(h):r.split(n,g).position}}const Z3=class extends _t{static get pluginName(){return"Paragraph"}init(){const l=this.editor,n=l.model;l.commands.add("paragraph",new Zte(l)),l.commands.add("insertParagraph",new Gte(l)),n.schema.register("paragraph",{inheritAllFrom:"$block"}),l.conversion.elementToElement({model:"paragraph",view:"p"}),l.conversion.for("upcast").elementToElement({model:(r,{writer:a})=>Z3.paragraphLikeElements.has(r.name)?r.isEmpty?null:a.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let LB=Z3;LB.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class Rte extends nn{constructor(n,r){super(n),this.modelElements=r}refresh(){const n=Io(this.editor.model.document.selection.getSelectedBlocks());this.value=!!n&&this.modelElements.includes(n.name)&&n.name,this.isEnabled=!!n&&this.modelElements.some(r=>G3(n,r,this.editor.model.schema))}execute(n){const r=this.editor.model,a=r.document,g=n.value;r.change(h=>{const f=Array.from(a.selection.getSelectedBlocks()).filter(b=>G3(b,g,r.schema));for(const b of f)b.is("element",g)||h.rename(b,g)})}}function G3(l,n,r){return r.checkChild(l.parent,n)&&!r.isObject(l)}const R3="paragraph";class Nte extends _t{static get pluginName(){return"HeadingEditing"}constructor(n){super(n),n.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[LB]}init(){const n=this.editor,r=n.config.get("heading.options"),a=[];for(const g of r)g.model!=="paragraph"&&(n.model.schema.register(g.model,{inheritAllFrom:"$block"}),n.conversion.elementToElement(g),a.push(g.model));this._addDefaultH1Conversion(n),n.commands.add("heading",new Rte(n,a))}afterInit(){const n=this.editor,r=n.commands.get("enter"),a=n.config.get("heading.options");r&&this.listenTo(r,"afterExecute",(g,h)=>{const f=n.model.document.selection.getFirstPosition().parent;a.some(b=>f.is("element",b.model))&&!f.is("element",R3)&&f.childCount===0&&h.writer.rename(f,R3)})}_addDefaultH1Conversion(n){n.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Q.low+1})}}var N3=s(6269),_te={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(N3.A,_te),N3.A.locals;class Vte extends _t{static get pluginName(){return"HeadingUI"}init(){const n=this.editor,r=n.t,a=function(f){const b=f.t,S={Paragraph:b("Paragraph"),"Heading 1":b("Heading 1"),"Heading 2":b("Heading 2"),"Heading 3":b("Heading 3"),"Heading 4":b("Heading 4"),"Heading 5":b("Heading 5"),"Heading 6":b("Heading 6")};return f.config.get("heading.options").map(N=>{const W=S[N.title];return W&&W!=N.title&&(N.title=W),N})}(n),g=r("Choose heading"),h=r("Heading");n.ui.componentFactory.add("heading",f=>{const b={},S=new ia,N=n.commands.get("heading"),W=n.commands.get("paragraph"),J=[N];for(const se of a){const ue={type:"button",model:new bF({label:se.title,class:se.class,role:"menuitemradio",withText:!0})};se.model==="paragraph"?(ue.model.bind("isOn").to(W,"value"),ue.model.set("commandName","paragraph"),J.push(W)):(ue.model.bind("isOn").to(N,"value",xe=>xe===se.model),ue.model.set({commandName:"heading",commandValue:se.model})),S.add(ue),b[se.model]=se.title}const ee=Qg(f);return YE(ee,S,{ariaLabel:h,role:"menu"}),ee.buttonView.set({ariaLabel:h,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:h}),ee.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),ee.bind("isEnabled").toMany(J,"isEnabled",(...se)=>se.some(ue=>ue)),ee.buttonView.bind("label").to(N,"value",W,"value",(se,ue)=>{const xe=ue?"paragraph":se;return typeof xe=="boolean"?g:b[xe]?b[xe]:g}),ee.buttonView.bind("ariaLabel").to(N,"value",W,"value",(se,ue)=>{const xe=ue?"paragraph":se;return typeof xe=="boolean"?h:b[xe]?`${b[xe]}, ${h}`:h}),this.listenTo(ee,"execute",se=>{const{commandName:ue,commandValue:xe}=se.source;n.execute(ue,xe?{value:xe}:void 0),n.editing.view.focus()}),ee}),n.ui.componentFactory.add("menuBar:heading",f=>{const b=new vm(f),S=n.commands.get("heading"),N=n.commands.get("paragraph"),W=[S],J=new ZB(f);b.set({class:"ck-heading-dropdown"}),J.set({ariaLabel:r("Heading"),role:"menu"}),b.buttonView.set({label:r("Heading")}),b.panelView.children.add(J);for(const ee of a){const se=new xB(f,b),ue=new Xa(f);se.children.add(ue),J.items.add(se),ue.set({label:ee.title,role:"menuitemradio",class:ee.class}),ue.bind("ariaChecked").to(ue,"isOn"),ue.delegate("execute").to(b),ue.on("execute",()=>{const xe=ee.model==="paragraph"?"paragraph":"heading";n.execute(xe,{value:ee.model}),n.editing.view.focus()}),ee.model==="paragraph"?(ue.bind("isOn").to(N,"value"),W.push(N)):ue.bind("isOn").to(S,"value",xe=>xe===ee.model)}return b.bind("isEnabled").toMany(W,"isEnabled",(...ee)=>ee.some(se=>se)),b})}}function _3(l){return l.createContainerElement("figure",{class:"image"},[l.createEmptyElement("img"),l.createSlot("children")])}function V3(l,n){const r=l.plugins.get("ImageUtils"),a=l.plugins.has("ImageInlineEditing")&&l.plugins.has("ImageBlockEditing");return h=>r.isInlineImageView(h)?a&&(h.getStyle("display")=="block"||h.findAncestor(r.isBlockImageView)?"imageBlock":"imageInline")!==n?null:g(h):null;function g(h){const f={name:!0};return h.hasAttribute("src")&&(f.attributes=["src"]),f}}function XB(l,n){const r=Io(n.getSelectedBlocks());return!r||l.isObject(r)||r.isEmpty&&r.name!="listItem"?"imageBlock":"imageInline"}function ty(l){return l&&l.endsWith("px")?parseInt(l):null}function E3(l){const n=ty(l.getStyle("width")),r=ty(l.getStyle("height"));return!(!n||!r)}var Ete=Object.defineProperty,F3=Object.getOwnPropertySymbols,Fte=Object.prototype.hasOwnProperty,Wte=Object.prototype.propertyIsEnumerable,W3=(l,n,r)=>n in l?Ete(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,H3=(l,n)=>{for(var r in n||(n={}))Fte.call(n,r)&&W3(l,r,n[r]);if(F3)for(var r of F3(n))Wte.call(n,r)&&W3(l,r,n[r]);return l};const Hte=/^(image|image-inline)$/;class da extends _t{constructor(){super(...arguments),this._domEmitter=new(mr())}static get pluginName(){return"ImageUtils"}isImage(n){return this.isInlineImage(n)||this.isBlockImage(n)}isInlineImageView(n){return!!n&&n.is("element","img")}isBlockImageView(n){return!!n&&n.is("element","figure")&&n.hasClass("image")}insertImage(n={},r=null,a=null,g={}){const h=this.editor,f=h.model,b=f.document.selection,S=D3(h,r||b,a);n=H3(H3({},Object.fromEntries(b.getAttributes())),n);for(const N in n)f.schema.checkAttribute(S,N)||delete n[N];return f.change(N=>{const{setImageSizes:W=!0}=g,J=N.createElement(S,n);return f.insertObject(J,r,null,{setSelection:"on",findOptimalPosition:r||S=="imageInline"?void 0:"auto"}),J.parent?(W&&this.setImageNaturalSizeAttributes(J),J):null})}setImageNaturalSizeAttributes(n){const r=n.getAttribute("src");r&&(n.getAttribute("width")||n.getAttribute("height")||this.editor.model.change(a=>{const g=new C.window.Image;this._domEmitter.listenTo(g,"load",()=>{n.getAttribute("width")||n.getAttribute("height")||this.editor.model.enqueueChange(a.batch,h=>{h.setAttribute("width",g.naturalWidth,n),h.setAttribute("height",g.naturalHeight,n)}),this._domEmitter.stopListening(g,"load")}),g.src=r}))}getClosestSelectedImageWidget(n){const r=n.getFirstPosition();if(!r)return null;const a=n.getSelectedElement();if(a&&this.isImageWidget(a))return a;let g=r.parent;for(;g;){if(g.is("element")&&this.isImageWidget(g))return g;g=g.parent}return null}getClosestSelectedImageElement(n){const r=n.getSelectedElement();return this.isImage(r)?r:n.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(n){return n.findAncestor({classes:Hte})}isImageAllowed(){const n=this.editor.model.document.selection;return function(r,a){if(D3(r,a,null)=="imageBlock"){const h=function(f,b){const S=_W(f,b),N=S.start.parent;return N.isEmpty&&!N.is("element","$root")?N.parent:N}(a,r.model);if(r.model.schema.checkChild(h,"imageBlock"))return!0}else if(r.model.schema.checkChild(a.focus,"imageInline"))return!0;return!1}(this.editor,n)&&function(r){return[...r.focus.getAncestors()].every(a=>!a.is("element","imageBlock"))}(n)}toImageWidget(n,r,a){return r.setCustomProperty("image",!0,n),VB(n,r,{label:()=>{const g=this.findViewImgElement(n).getAttribute("alt");return g?`${g} ${a}`:a}})}isImageWidget(n){return!!n.getCustomProperty("image")&&ro(n)}isBlockImage(n){return!!n&&n.is("element","imageBlock")}isInlineImage(n){return!!n&&n.is("element","imageInline")}findViewImgElement(n){if(this.isInlineImageView(n))return n;const r=this.editor.editing.view;for(const{item:a}of r.createRangeIn(n))if(this.isInlineImageView(a))return a}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function D3(l,n,r){const a=l.model.schema,g=l.config.get("image.insert.type");return l.plugins.has("ImageBlockEditing")?l.plugins.has("ImageInlineEditing")?r||(g==="inline"?"imageInline":g!=="auto"?"imageBlock":n.is("selection")?XB(a,n):a.checkChild(n,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Dte extends nn{refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled&&n.hasAttribute("alt")?this.value=n.getAttribute("alt"):this.value=!1}execute(n){const r=this.editor,a=r.plugins.get("ImageUtils"),g=r.model,h=a.getClosestSelectedImageElement(g.document.selection);g.change(f=>{f.setAttribute("alt",n.newValue,h)})}}class Tte extends _t{static get requires(){return[da]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Dte(this.editor))}}var T3=s(4062),Lte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(T3.A,Lte),T3.A.locals;var L3=s(2722),Xte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(L3.A,Xte),L3.A.locals;class Mte extends Nt{constructor(n){super(n);const r=this.locale.t;this.focusTracker=new bo,this.keystrokes=new is,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(r("Save"),Hn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(r("Cancel"),Hn.cancel,"ck-button-cancel","cancel"),this._focusables=new ra,this._focusCycler=new bl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),ri({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(n,r,a,g){const h=new Bi(this.locale);return h.set({label:n,icon:r,tooltip:!0}),h.extendTemplate({attributes:{class:a}}),g&&h.delegate("execute").to(this,g),h}_createLabeledInputView(){const n=this.locale.t,r=new N0(this.locale,E0);return r.label=n("Text alternative"),r}}function X3(l){const n=l.editing.view,r=ca.defaultPositions,a=l.plugins.get("ImageUtils");return{target:n.domConverter.mapViewToDom(a.getClosestSelectedImageWidget(n.document.selection)),positions:[r.northArrowSouth,r.northArrowSouthWest,r.northArrowSouthEast,r.southArrowNorth,r.southArrowNorthWest,r.southArrowNorthEast,r.viewportStickyNorth]}}class Yte extends _t{static get requires(){return[L0]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const n=this.editor,r=n.t;n.ui.componentFactory.add("imageTextAlternative",a=>{const g=n.commands.get("imageTextAlternative"),h=new Bi(a);return h.set({label:r("Change image text alternative"),icon:Hn.textAlternative,tooltip:!0}),h.bind("isEnabled").to(g,"isEnabled"),h.bind("isOn").to(g,"value",f=>!!f),this.listenTo(h,"execute",()=>{this._showForm()}),h})}_createForm(){const n=this.editor,r=n.editing.view.document,a=n.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(vi(Mte))(n.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{n.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(g,h)=>{this._hideForm(!0),h()}),this.listenTo(n.ui,"update",()=>{a.getClosestSelectedImageWidget(r.selection)?this._isVisible&&function(g){const h=g.plugins.get("ContextualBalloon");if(g.plugins.get("ImageUtils").getClosestSelectedImageWidget(g.editing.view.document.selection)){const f=X3(g);h.updatePosition(f)}}(n):this._hideForm(!0)}),hi({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const n=this.editor,r=n.commands.get("imageTextAlternative"),a=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:X3(n)}),a.fieldView.value=a.fieldView.element.value=r.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(n=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),n&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class M3 extends _t{static get requires(){return[Tte,Yte]}static get pluginName(){return"ImageTextAlternative"}}function Y3(l,n){const r=(a,g,h)=>{if(!h.consumable.consume(g.item,a.name))return;const f=h.writer,b=h.mapper.toViewElement(g.item),S=l.findViewImgElement(b);g.attributeNewValue===null?(f.removeAttribute("srcset",S),f.removeAttribute("sizes",S)):g.attributeNewValue&&(f.setAttribute("srcset",g.attributeNewValue,S),f.setAttribute("sizes","100vw",S))};return a=>{a.on(`attribute:srcset:${n}`,r)}}function ny(l,n,r){const a=(g,h,f)=>{if(!f.consumable.consume(h.item,g.name))return;const b=f.writer,S=f.mapper.toViewElement(h.item),N=l.findViewImgElement(S);b.setAttribute(h.attributeKey,h.attributeNewValue||"",N)};return g=>{g.on(`attribute:${r}:${n}`,a)}}class J3 extends qc{observe(n){this.listenTo(n,"load",(r,a)=>{const g=a.target;this.checkShouldIgnoreEventFromTarget(g)||g.tagName=="IMG"&&this._fireEvents(a)},{useCapture:!0})}stopObserving(n){this.stopListening(n)}_fireEvents(n){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",n))}}var Jte=Object.defineProperty,U3=Object.getOwnPropertySymbols,Ute=Object.prototype.hasOwnProperty,Pte=Object.prototype.propertyIsEnumerable,P3=(l,n,r)=>n in l?Jte(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,iy=(l,n)=>{for(var r in n||(n={}))Ute.call(n,r)&&P3(l,r,n[r]);if(U3)for(var r of U3(n))Pte.call(n,r)&&P3(l,r,n[r]);return l};class Kte extends nn{constructor(n){super(n);const r=n.config.get("image.insert.type");n.plugins.has("ImageBlockEditing")||r==="block"&&O("image-block-plugin-required"),n.plugins.has("ImageInlineEditing")||r==="inline"&&O("image-inline-plugin-required")}refresh(){const n=this.editor.plugins.get("ImageUtils");this.isEnabled=n.isImageAllowed()}execute(n){const r=Li(n.source),a=this.editor.model.document.selection,g=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(a.getAttributes());r.forEach((f,b)=>{const S=a.getSelectedElement();if(typeof f=="string"&&(f={src:f}),b&&S&&g.isImage(S)){const N=this.editor.model.createPositionAfter(S);g.insertImage(iy(iy({},f),h),N)}else g.insertImage(iy(iy({},f),h))})}}class zte extends nn{constructor(n){super(n),this.decorate("cleanupImage")}refresh(){const n=this.editor.plugins.get("ImageUtils"),r=this.editor.model.document.selection.getSelectedElement();this.isEnabled=n.isImage(r),this.value=this.isEnabled?r.getAttribute("src"):null}execute(n){const r=this.editor.model.document.selection.getSelectedElement(),a=this.editor.plugins.get("ImageUtils");this.editor.model.change(g=>{g.setAttribute("src",n.source,r),this.cleanupImage(g,r),a.setImageNaturalSizeAttributes(r)})}cleanupImage(n,r){n.removeAttribute("srcset",r),n.removeAttribute("sizes",r),n.removeAttribute("sources",r),n.removeAttribute("width",r),n.removeAttribute("height",r),n.removeAttribute("alt",r)}}class MB extends _t{static get requires(){return[da]}static get pluginName(){return"ImageEditing"}init(){const n=this.editor,r=n.conversion;n.editing.view.addObserver(J3),r.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const a=new Kte(n),g=new zte(n);n.commands.add("insertImage",a),n.commands.add("replaceImageSource",g),n.commands.add("imageInsert",a)}}class K3 extends _t{static get requires(){return[da]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(n){const r=this.editor,a=r.plugins.get("ImageUtils"),g=n==="imageBlock"?"figure":"img";function h(f,b,S,N){f.on(`attribute:${b}:${n}`,(W,J,ee)=>{if(!ee.consumable.consume(J.item,W.name))return;const se=ee.writer,ue=ee.mapper.toViewElement(J.item),xe=a.findViewImgElement(ue);if(J.attributeNewValue!==null?se.setAttribute(S,J.attributeNewValue,xe):se.removeAttribute(S,xe),J.item.hasAttribute("sources"))return;const Le=J.item.hasAttribute("resizedWidth");if(n==="imageInline"&&!Le&&!N)return;const Ye=J.item.getAttribute("width"),$e=J.item.getAttribute("height");Ye&&$e&&se.setStyle("aspect-ratio",`${Ye}/${$e}`,xe)})}r.conversion.for("upcast").attributeToAttribute({view:{name:g,styles:{width:/.+/}},model:{key:"width",value:f=>E3(f)?ty(f.getStyle("width")):null}}).attributeToAttribute({view:{name:g,key:"width"},model:"width"}).attributeToAttribute({view:{name:g,styles:{height:/.+/}},model:{key:"height",value:f=>E3(f)?ty(f.getStyle("height")):null}}).attributeToAttribute({view:{name:g,key:"height"},model:"height"}),r.conversion.for("editingDowncast").add(f=>{h(f,"width","width",!0),h(f,"height","height",!0)}),r.conversion.for("dataDowncast").add(f=>{h(f,"width","width",!1),h(f,"height","height",!1)})}}class z3 extends nn{constructor(n,r){super(n),this._modelElementName=r}refresh(){const n=this.editor.plugins.get("ImageUtils"),r=n.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=n.isInlineImage(r):this.isEnabled=n.isBlockImage(r)}execute(n={}){const r=this.editor,a=this.editor.model,g=r.plugins.get("ImageUtils"),h=g.getClosestSelectedImageElement(a.document.selection),f=Object.fromEntries(h.getAttributes());return f.src||f.uploadId?a.change(b=>{const{setImageSizes:S=!0}=n,N=Array.from(a.markers).filter(ee=>ee.getRange().containsItem(h)),W=g.insertImage(f,a.createSelection(h,"on"),this._modelElementName,{setImageSizes:S});if(!W)return null;const J=b.createRangeOn(W);for(const ee of N){const se=ee.getRange(),ue=se.root.rootName!="$graveyard"?se.getJoined(J,!0):J;b.updateMarker(ee,{range:ue})}return{oldElement:h,newElement:W}}):null}}var Q3=s(7378),Qte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(Q3.A,Qte),Q3.A.locals;class j3 extends _t{static get requires(){return[da]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const n=this.editor.model.schema;n.isRegistered("imageBlock")&&n.extend("imageBlock",{allowAttributes:["placeholder"]}),n.isRegistered("imageInline")&&n.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const n=this.editor,r=n.conversion,a=n.plugins.get("ImageUtils");r.for("editingDowncast").add(g=>{g.on("attribute:placeholder",(h,f,b)=>{if(!b.consumable.test(f.item,h.name)||!f.item.is("element","imageBlock")&&!f.item.is("element","imageInline"))return;b.consumable.consume(f.item,h.name);const S=b.writer,N=b.mapper.toViewElement(f.item),W=a.findViewImgElement(N);f.attributeNewValue?(S.addClass("image_placeholder",W),S.setStyle("background-image",`url(${f.attributeNewValue})`,W),S.setCustomProperty("editingPipeline:doNotReuseOnce",!0,W)):(S.removeClass("image_placeholder",W),S.removeStyle("background-image",W))})})}_setupLoadListener(){const n=this.editor,r=n.model,a=n.editing,g=a.view,h=n.plugins.get("ImageUtils");g.addObserver(J3),this.listenTo(g.document,"imageLoaded",(f,b)=>{const S=g.domConverter.mapDomToView(b.target);if(!S)return;const N=h.getImageWidgetFromImageView(S);if(!N)return;const W=a.mapper.toModelElement(N);W&&W.hasAttribute("placeholder")&&r.enqueueChange({isUndoable:!1},J=>{J.removeAttribute("placeholder",W)})})}}class O3 extends _t{static get requires(){return[MB,K3,da,j3,yl]}static get pluginName(){return"ImageBlockEditing"}init(){const n=this.editor;n.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),n.plugins.has("ImageInlineEditing")&&(n.commands.add("imageTypeBlock",new z3(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,r=n.t,a=n.conversion,g=n.plugins.get("ImageUtils");a.for("dataDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:f})=>_3(f)}),a.for("editingDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:f})=>g.toImageWidget(_3(f),f,r("image widget"))}),a.for("downcast").add(ny(g,"imageBlock","src")).add(ny(g,"imageBlock","alt")).add(Y3(g,"imageBlock")),a.for("upcast").elementToElement({view:V3(n,"imageBlock"),model:(h,{writer:f})=>f.createElement("imageBlock",h.hasAttribute("src")?{src:h.getAttribute("src")}:void 0)}).add(function(h){const f=(b,S,N)=>{if(!N.consumable.test(S.viewItem,{name:!0,classes:"image"}))return;const W=h.findViewImgElement(S.viewItem);if(!W||!N.consumable.test(W,{name:!0}))return;N.consumable.consume(S.viewItem,{name:!0,classes:"image"});const J=Io(N.convertItem(W,S.modelCursor).modelRange.getItems());J?(N.convertChildren(S.viewItem,J),N.updateConversionResult(J,S)):N.consumable.revert(S.viewItem,{name:!0,classes:"image"})};return b=>{b.on("element:figure",f)}}(g))}_setupClipboardIntegration(){const n=this.editor,r=n.model,a=n.editing.view,g=n.plugins.get("ImageUtils"),h=n.plugins.get("ClipboardPipeline");this.listenTo(h,"inputTransformation",(f,b)=>{const S=Array.from(b.content.getChildren());let N;if(!S.every(g.isInlineImageView))return;N=b.targetRanges?n.editing.mapper.toModelRange(b.targetRanges[0]):r.document.selection.getFirstRange();const W=r.createSelection(N);if(XB(r.schema,W)==="imageBlock"){const J=new Kg(a.document),ee=S.map(se=>J.createElement("figure",{class:"image"},se));b.content=J.createDocumentFragment(ee)}}),this.listenTo(h,"contentInsertion",(f,b)=>{b.method==="paste"&&r.change(S=>{const N=S.createRangeIn(b.content);for(const W of N.getItems())W.is("element","imageBlock")&&g.setImageNaturalSizeAttributes(W)})})}}var q3=s(3350),jte={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(q3.A,jte),q3.A.locals;class Ote extends Nt{constructor(n,r=[]){super(n),this.focusTracker=new bo,this.keystrokes=new is,this._focusables=new ra,this.children=this.createCollection(),this._focusCycler=new bl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const a of r)this.children.add(a),this._focusables.add(a),a instanceof b6&&this._focusables.addMany(a.children);if(this._focusables.length>1)for(const a of this._focusables)qte(a)&&(a.focusCycler.on("forwardCycle",g=>{this._focusCycler.focusNext(),g.stop()}),a.focusCycler.on("backwardCycle",g=>{this._focusCycler.focusPrevious(),g.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),ri({view:this});for(const r of this._focusables)this.focusTracker.add(r.element);this.keystrokes.listenTo(this.element);const n=r=>r.stopPropagation();this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function qte(l){return"focusCycler"in l}class $3 extends _t{constructor(n){super(n),this._integrations=new Map,n.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[da]}init(){const n=this.editor,r=n.model.document.selection,a=n.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(n.model.document,"change",()=>{this.isImageSelected=a.isImage(r.getSelectedElement())});const g=h=>this._createToolbarComponent(h);n.ui.componentFactory.add("insertImage",g),n.ui.componentFactory.add("imageInsert",g)}registerIntegration({name:n,observable:r,buttonViewCreator:a,formViewCreator:g,requiresForm:h}){this._integrations.has(n)&&O("image-insert-integration-exists",{name:n}),this._integrations.set(n,{observable:r,buttonViewCreator:a,formViewCreator:g,requiresForm:!!h})}_createToolbarComponent(n){const r=this.editor,a=n.t,g=this._prepareIntegrations();if(!g.length)return null;let h;const f=g[0];if(g.length==1){if(!f.requiresForm)return f.buttonViewCreator(!0);h=f.buttonViewCreator(!0)}else{const N=f.buttonViewCreator(!1);h=new V0(n,N),h.tooltip=!0,h.bind("label").to(this,"isImageSelected",W=>a(W?"Replace image":"Insert image"))}const b=this.dropdownView=Qg(n,h),S=g.map(({observable:N})=>typeof N=="function"?N():N);return b.bind("isEnabled").toMany(S,"isEnabled",(...N)=>N.some(W=>W)),b.once("change:isOpen",()=>{const N=g.map(({formViewCreator:J})=>J(g.length==1)),W=new Ote(r.locale,N);b.panelView.children.add(W)}),b}_prepareIntegrations(){const n=this.editor.config.get("image.insert.integrations"),r=[];if(!n.length)return O("image-insert-integrations-not-specified"),r;for(const a of n)this._integrations.has(a)?r.push(this._integrations.get(a)):["upload","assetManager","url"].includes(a)||O("image-insert-unknown-integration",{item:a});return r.length||O("image-insert-integrations-not-registered"),r}}var eH=s(265),$te={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(eH.A,$te),eH.A.locals;class ene extends _t{static get requires(){return[O3,af,M3,$3]}static get pluginName(){return"ImageBlock"}}class tne extends _t{static get requires(){return[MB,K3,da,j3,yl]}static get pluginName(){return"ImageInlineEditing"}init(){const n=this.editor,r=n.model.schema;r.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),r.addChildCheck((a,g)=>{if(a.endsWith("caption")&&g.name==="imageInline")return!1}),this._setupConversion(),n.plugins.has("ImageBlockEditing")&&(n.commands.add("imageTypeInline",new z3(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const n=this.editor,r=n.t,a=n.conversion,g=n.plugins.get("ImageUtils");a.for("dataDowncast").elementToElement({model:"imageInline",view:(h,{writer:f})=>f.createEmptyElement("img")}),a.for("editingDowncast").elementToStructure({model:"imageInline",view:(h,{writer:f})=>g.toImageWidget(function(b){return b.createContainerElement("span",{class:"image-inline"},b.createEmptyElement("img"))}(f),f,r("image widget"))}),a.for("downcast").add(ny(g,"imageInline","src")).add(ny(g,"imageInline","alt")).add(Y3(g,"imageInline")),a.for("upcast").elementToElement({view:V3(n,"imageInline"),model:(h,{writer:f})=>f.createElement("imageInline",h.hasAttribute("src")?{src:h.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const n=this.editor,r=n.model,a=n.editing.view,g=n.plugins.get("ImageUtils"),h=n.plugins.get("ClipboardPipeline");this.listenTo(h,"inputTransformation",(f,b)=>{const S=Array.from(b.content.getChildren());let N;if(!S.every(g.isBlockImageView))return;N=b.targetRanges?n.editing.mapper.toModelRange(b.targetRanges[0]):r.document.selection.getFirstRange();const W=r.createSelection(N);if(XB(r.schema,W)==="imageInline"){const J=new Kg(a.document),ee=S.map(se=>se.childCount===1?(Array.from(se.getAttributes()).forEach(ue=>J.setAttribute(...ue,g.findViewImgElement(se))),se.getChild(0)):se);b.content=J.createDocumentFragment(ee)}}),this.listenTo(h,"contentInsertion",(f,b)=>{b.method==="paste"&&r.change(S=>{const N=S.createRangeIn(b.content);for(const W of N.getItems())W.is("element","imageInline")&&g.setImageNaturalSizeAttributes(W)})})}}class nne extends _t{static get requires(){return[tne,af,M3,$3]}static get pluginName(){return"ImageInline"}}class tH extends _t{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[da]}getCaptionFromImageModelElement(n){for(const r of n.getChildren())if(r&&r.is("element","caption"))return r;return null}getCaptionFromModelSelection(n){const r=this.editor.plugins.get("ImageUtils"),a=n.getFirstPosition().findAncestor("caption");return a&&r.isBlockImage(a.parent)?a:null}matchImageCaptionViewElement(n){const r=this.editor.plugins.get("ImageUtils");return n.name=="figcaption"&&r.isBlockImageView(n.parent)?{name:!0}:null}}class ine extends nn{refresh(){const n=this.editor,r=n.plugins.get("ImageCaptionUtils"),a=n.plugins.get("ImageUtils");if(!n.plugins.has(O3))return this.isEnabled=!1,void(this.value=!1);const g=n.model.document.selection,h=g.getSelectedElement();if(!h){const f=r.getCaptionFromModelSelection(g);return this.isEnabled=!!f,void(this.value=!!f)}this.isEnabled=a.isImage(h),this.isEnabled?this.value=!!r.getCaptionFromImageModelElement(h):this.value=!1}execute(n={}){const{focusCaptionOnShow:r}=n;this.editor.model.change(a=>{this.value?this._hideImageCaption(a):this._showImageCaption(a,r)})}_showImageCaption(n,r){const a=this.editor.model.document.selection,g=this.editor.plugins.get("ImageCaptionEditing"),h=this.editor.plugins.get("ImageUtils");let f=a.getSelectedElement();const b=g._getSavedCaption(f);h.isInlineImage(f)&&(this.editor.execute("imageTypeBlock"),f=a.getSelectedElement());const S=b||n.createElement("caption");n.append(S,f),r&&n.setSelection(S,"in")}_hideImageCaption(n){const r=this.editor,a=r.model.document.selection,g=r.plugins.get("ImageCaptionEditing"),h=r.plugins.get("ImageCaptionUtils");let f,b=a.getSelectedElement();b?f=h.getCaptionFromImageModelElement(b):(f=h.getCaptionFromModelSelection(a),b=f.parent),g._saveCaption(b,f),n.setSelection(b,"on"),n.remove(f)}}class rne extends _t{constructor(n){super(n),this._savedCaptionsMap=new WeakMap}static get requires(){return[da,tH]}static get pluginName(){return"ImageCaptionEditing"}init(){const n=this.editor,r=n.model.schema;r.isRegistered("caption")?r.extend("caption",{allowIn:"imageBlock"}):r.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),n.commands.add("toggleImageCaption",new ine(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const n=this.editor,r=n.editing.view,a=n.plugins.get("ImageUtils"),g=n.plugins.get("ImageCaptionUtils"),h=n.t;n.conversion.for("upcast").elementToElement({view:f=>g.matchImageCaptionViewElement(f),model:"caption"}),n.conversion.for("dataDowncast").elementToElement({model:"caption",view:(f,{writer:b})=>a.isBlockImage(f.parent)?b.createContainerElement("figcaption"):null}),n.conversion.for("editingDowncast").elementToElement({model:"caption",view:(f,{writer:b})=>{if(!a.isBlockImage(f.parent))return null;const S=b.createEditableElement("figcaption");b.setCustomProperty("imageCaption",!0,S),S.placeholder=h("Enter image caption"),Cl({view:r,element:S,keepOnFocus:!0});const N=f.parent.getAttribute("alt");return NW(S,b,{label:N?h("Caption for image: %0",[N]):h("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const n=this.editor,r=n.plugins.get("ImageUtils"),a=n.plugins.get("ImageCaptionUtils"),g=n.commands.get("imageTypeInline"),h=n.commands.get("imageTypeBlock"),f=b=>{if(!b.return)return;const{oldElement:S,newElement:N}=b.return;if(!S)return;if(r.isBlockImage(S)){const J=a.getCaptionFromImageModelElement(S);if(J)return void this._saveCaption(N,J)}const W=this._getSavedCaption(S);W&&this._saveCaption(N,W)};g&&this.listenTo(g,"execute",f,{priority:"low"}),h&&this.listenTo(h,"execute",f,{priority:"low"})}_getSavedCaption(n){const r=this._savedCaptionsMap.get(n);return r?Pi.fromJSON(r):null}_saveCaption(n,r){this._savedCaptionsMap.set(n,r.toJSON())}_registerCaptionReconversion(){const n=this.editor,r=n.model,a=n.plugins.get("ImageUtils"),g=n.plugins.get("ImageCaptionUtils");r.document.on("change:data",()=>{const h=r.document.differ.getChanges();for(const f of h){if(f.attributeKey!=="alt")continue;const b=f.range.start.nodeAfter;if(a.isBlockImage(b)){const S=g.getCaptionFromImageModelElement(b);if(!S)return;n.editing.reconvertItem(S)}}})}}class one extends _t{static get requires(){return[tH]}static get pluginName(){return"ImageCaptionUI"}init(){const n=this.editor,r=n.editing.view,a=n.plugins.get("ImageCaptionUtils"),g=n.t;n.ui.componentFactory.add("toggleImageCaption",h=>{const f=n.commands.get("toggleImageCaption"),b=new Bi(h);return b.set({icon:Hn.caption,tooltip:!0,isToggleable:!0}),b.bind("isOn","isEnabled").to(f,"value","isEnabled"),b.bind("label").to(f,"value",S=>g(S?"Toggle caption off":"Toggle caption on")),this.listenTo(b,"execute",()=>{n.execute("toggleImageCaption",{focusCaptionOnShow:!0});const S=a.getCaptionFromModelSelection(n.model.document.selection);if(S){const N=n.editing.mapper.toViewElement(S);r.scrollToTheSelection(),r.change(W=>{W.addClass("image__caption_highlighted",N)})}n.editing.view.focus()}),b})}}var nH=s(5247),sne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(nH.A,sne),nH.A.locals;function iH(l){const n=l.map(r=>r.replace("+","\\+"));return new RegExp(`^image\\/(${n.join("|")})$`)}function ane(l){return new Promise((n,r)=>{const a=l.getAttribute("src");fetch(a).then(g=>g.blob()).then(g=>{const h=rH(g,a),f=h.replace("image/",""),b=new File([g],`image.${f}`,{type:h});n(b)}).catch(g=>g&&g.name==="TypeError"?function(h){return function(f){return new Promise((b,S)=>{const N=C.document.createElement("img");N.addEventListener("load",()=>{const W=C.document.createElement("canvas");W.width=N.width,W.height=N.height,W.getContext("2d").drawImage(N,0,0),W.toBlob(J=>J?b(J):S())}),N.addEventListener("error",()=>S()),N.src=f})}(h).then(f=>{const b=rH(f,h),S=b.replace("image/","");return new File([f],`image.${S}`,{type:b})})}(a).then(n).catch(r):r(g))})}function rH(l,n){return l.type?l.type:n.match(/data:(image\/\w+);base64/)?n.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class lne extends _t{static get pluginName(){return"ImageUploadUI"}init(){const n=this.editor,r=n.t,a=()=>{const g=this._createButton(BE);return g.set({label:r("Upload image from computer"),tooltip:!0}),g};if(n.ui.componentFactory.add("uploadImage",a),n.ui.componentFactory.add("imageUpload",a),n.ui.componentFactory.add("menuBar:uploadImage",()=>{const g=this._createButton(KF);return g.label=r("Image from computer"),g}),n.plugins.has("ImageInsertUI")){const g=n.plugins.get("ImageInsertUI");g.registerIntegration({name:"upload",observable:()=>n.commands.get("uploadImage"),buttonViewCreator:()=>{const h=n.ui.componentFactory.create("uploadImage");return h.bind("label").to(g,"isImageSelected",f=>r(f?"Replace image from computer":"Upload image from computer")),h},formViewCreator:()=>{const h=n.ui.componentFactory.create("uploadImage");return h.withText=!0,h.bind("label").to(g,"isImageSelected",f=>r(f?"Replace from computer":"Upload from computer")),h.on("execute",()=>{g.dropdownView.isOpen=!1}),h}})}}_createButton(n){const r=this.editor,a=r.locale,g=r.commands.get("uploadImage"),h=r.config.get("image.upload.types"),f=iH(h),b=new n(r.locale),S=a.t;return b.set({acceptedType:h.map(N=>`image/${N}`).join(","),allowMultipleFiles:!0,label:S("Upload image from computer"),icon:Hn.imageUpload}),b.bind("isEnabled").to(g),b.on("done",(N,W)=>{const J=Array.from(W).filter(ee=>f.test(ee.type));J.length&&(r.execute("uploadImage",{file:J}),r.editing.view.focus())}),b}}var oH=s(2267),cne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(oH.A,cne),oH.A.locals;var sH=s(7693),gne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(sH.A,gne),sH.A.locals;var aH=s(1559),dne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(aH.A,dne),aH.A.locals;class Ane extends _t{constructor(n){super(n),this.uploadStatusChange=(r,a,g)=>{const h=this.editor,f=a.item,b=f.getAttribute("uploadId");if(!g.consumable.consume(a.item,r.name))return;const S=h.plugins.get("ImageUtils"),N=h.plugins.get(ac),W=b?a.attributeNewValue:null,J=this.placeholder,ee=h.editing.mapper.toViewElement(f),se=g.writer;if(W=="reading")return lH(ee,se),void cH(S,J,ee,se);if(W=="uploading"){const ue=N.loaders.get(b);return lH(ee,se),void(ue?(gH(ee,se),function(xe,Le,Ye,$e){const ht=function(Tt){const rn=Tt.createUIElement("div",{class:"ck-progress-bar"});return Tt.setCustomProperty("progressBar",!0,rn),rn}(Le);Le.insert(Le.createPositionAt(xe,"end"),ht),Ye.on("change:uploadedPercent",(Tt,rn,Vn)=>{$e.change(Mn=>{Mn.setStyle("width",Vn+"%",ht)})})}(ee,se,ue,h.editing.view),function(xe,Le,Ye,$e){if($e.data){const ht=xe.findViewImgElement(Le);Ye.setAttribute("src",$e.data,ht)}}(S,ee,se,ue)):cH(S,J,ee,se))}W=="complete"&&N.loaders.get(b)&&function(ue,xe,Le){const Ye=xe.createUIElement("div",{class:"ck-image-upload-complete-icon"});xe.insert(xe.createPositionAt(ue,"end"),Ye),setTimeout(()=>{Le.change($e=>$e.remove($e.createRangeOn(Ye)))},3e3)}(ee,se,h.editing.view),function(ue,xe){AH(ue,xe,"progressBar")}(ee,se),gH(ee,se),function(ue,xe){xe.removeClass("ck-appear",ue)}(ee,se)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const n=this.editor;n.plugins.has("ImageBlockEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),n.plugins.has("ImageInlineEditing")&&n.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function lH(l,n){l.hasClass("ck-appear")||n.addClass("ck-appear",l)}function cH(l,n,r,a){r.hasClass("ck-image-upload-placeholder")||a.addClass("ck-image-upload-placeholder",r);const g=l.findViewImgElement(r);g.getAttribute("src")!==n&&a.setAttribute("src",n,g),dH(r,"placeholder")||a.insert(a.createPositionAfter(g),function(h){const f=h.createUIElement("div",{class:"ck-upload-placeholder-loader"});return h.setCustomProperty("placeholder",!0,f),f}(a))}function gH(l,n){l.hasClass("ck-image-upload-placeholder")&&n.removeClass("ck-image-upload-placeholder",l),AH(l,n,"placeholder")}function dH(l,n){for(const r of l.getChildren())if(r.getCustomProperty(n))return r}function AH(l,n,r){const a=dH(l,r);a&&n.remove(n.createRangeOn(a))}var une=Object.defineProperty,hne=Object.defineProperties,mne=Object.getOwnPropertyDescriptors,uH=Object.getOwnPropertySymbols,pne=Object.prototype.hasOwnProperty,Cne=Object.prototype.propertyIsEnumerable,hH=(l,n,r)=>n in l?une(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r;class fne extends nn{refresh(){const n=this.editor,r=n.plugins.get("ImageUtils"),a=n.model.document.selection.getSelectedElement();this.isEnabled=r.isImageAllowed()||r.isImage(a)}execute(n){const r=Li(n.file),a=this.editor.model.document.selection,g=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(a.getAttributes());r.forEach((f,b)=>{const S=a.getSelectedElement();if(b&&S&&g.isImage(S)){const N=this.editor.model.createPositionAfter(S);this._uploadImage(f,h,N)}else this._uploadImage(f,h)})}_uploadImage(n,r,a){const g=this.editor,h=g.plugins.get(ac).createLoader(n),f=g.plugins.get("ImageUtils");var b,S;h&&f.insertImage((b=((N,W)=>{for(var J in W||(W={}))pne.call(W,J)&&hH(N,J,W[J]);if(uH)for(var J of uH(W))Cne.call(W,J)&&hH(N,J,W[J]);return N})({},r),S={uploadId:h.id},hne(b,mne(S))),a)}}class Ine extends _t{constructor(n){super(n),n.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[ac,kB,yl,da]}static get pluginName(){return"ImageUploadEditing"}init(){const n=this.editor,r=n.model.document,a=n.conversion,g=n.plugins.get(ac),h=n.plugins.get("ImageUtils"),f=n.plugins.get("ClipboardPipeline"),b=iH(n.config.get("image.upload.types")),S=new fne(n);n.commands.add("uploadImage",S),n.commands.add("imageUpload",S),a.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(n.editing.view.document,"clipboardInput",(N,W)=>{if(J=W.dataTransfer,Array.from(J.types).includes("text/html")&&J.getData("text/html")!=="")return;var J;const ee=Array.from(W.dataTransfer.files).filter(se=>!!se&&b.test(se.type));ee.length&&(N.stop(),n.model.change(se=>{W.targetRanges&&se.setSelection(W.targetRanges.map(ue=>n.editing.mapper.toModelRange(ue))),n.execute("uploadImage",{file:ee})}))}),this.listenTo(f,"inputTransformation",(N,W)=>{const J=Array.from(n.editing.view.createRangeIn(W.content)).map(se=>se.item).filter(se=>function(ue,xe){return!(!ue.isInlineImageView(xe)||!xe.getAttribute("src")||!xe.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!xe.getAttribute("src").match(/^blob:/g))}(h,se)&&!se.getAttribute("uploadProcessed")).map(se=>({promise:ane(se),imageElement:se}));if(!J.length)return;const ee=new Kg(n.editing.view.document);for(const se of J){ee.setAttribute("uploadProcessed",!0,se.imageElement);const ue=g.createLoader(se.promise);ue&&(ee.setAttribute("src","",se.imageElement),ee.setAttribute("uploadId",ue.id,se.imageElement))}}),n.editing.view.document.on("dragover",(N,W)=>{W.preventDefault()}),r.on("change",()=>{const N=r.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),W=new Set;for(const J of N)if(J.type=="insert"&&J.name!="$text"){const ee=J.position.nodeAfter,se=J.position.root.rootName=="$graveyard";for(const ue of bne(n,ee)){const xe=ue.getAttribute("uploadId");if(!xe)continue;const Le=g.loaders.get(xe);Le&&(se?W.has(xe)||Le.abort():(W.add(xe),this._uploadImageElements.set(xe,ue),Le.status=="idle"&&this._readAndUpload(Le)))}}}),this.on("uploadComplete",(N,{imageElement:W,data:J})=>{const ee=J.urls?J.urls:J;this.editor.model.change(se=>{se.setAttribute("src",ee.default,W),this._parseAndSetSrcsetAttributeOnImage(ee,W,se),h.setImageNaturalSizeAttributes(W)})},{priority:"low"})}afterInit(){const n=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&n.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&n.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(n){const r=this.editor,a=r.model,g=r.locale.t,h=r.plugins.get(ac),f=r.plugins.get(kB),b=r.plugins.get("ImageUtils"),S=this._uploadImageElements;return a.enqueueChange({isUndoable:!1},W=>{W.setAttribute("uploadStatus","reading",S.get(n.id))}),n.read().then(()=>{const W=n.upload(),J=S.get(n.id);if(x.isSafari){const ee=r.editing.mapper.toViewElement(J),se=b.findViewImgElement(ee);r.editing.view.once("render",()=>{if(!se.parent)return;const ue=r.editing.view.domConverter.mapViewToDom(se.parent);if(!ue)return;const xe=ue.style.display;ue.style.display="none",ue._ckHack=ue.offsetHeight,ue.style.display=xe})}return r.ui&&r.ui.ariaLiveAnnouncer.announce(g("Uploading image")),a.enqueueChange({isUndoable:!1},ee=>{ee.setAttribute("uploadStatus","uploading",J)}),W}).then(W=>{a.enqueueChange({isUndoable:!1},J=>{const ee=S.get(n.id);J.setAttribute("uploadStatus","complete",ee),r.ui&&r.ui.ariaLiveAnnouncer.announce(g("Image upload complete")),this.fire("uploadComplete",{data:W,imageElement:ee})}),N()}).catch(W=>{if(r.ui&&r.ui.ariaLiveAnnouncer.announce(g("Error during image upload")),n.status!=="error"&&n.status!=="aborted")throw W;n.status=="error"&&W&&f.showWarning(W,{title:g("Upload failed"),namespace:"upload"}),a.enqueueChange({isUndoable:!1},J=>{J.remove(S.get(n.id))}),N()});function N(){a.enqueueChange({isUndoable:!1},W=>{const J=S.get(n.id);W.removeAttribute("uploadId",J),W.removeAttribute("uploadStatus",J),S.delete(n.id)}),h.destroyLoader(n)}}_parseAndSetSrcsetAttributeOnImage(n,r,a){let g=0;const h=Object.keys(n).filter(f=>{const b=parseInt(f,10);if(!isNaN(b))return g=Math.max(g,b),!0}).map(f=>`${n[f]} ${f}w`).join(", ");if(h!=""){const f={srcset:h};r.hasAttribute("width")||r.hasAttribute("height")||(f.width=g),a.setAttributes(f,r)}}}function bne(l,n){const r=l.plugins.get("ImageUtils");return Array.from(l.model.createRangeOn(n)).filter(a=>r.isImage(a.item)).map(a=>a.item)}var mH=s(4642),yne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(mH.A,yne),mH.A.locals;var pH=s(3469),vne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(pH.A,vne),pH.A.locals;class wne extends nn{constructor(n,r){super(n),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(r.map(a=>{if(a.isDefault)for(const g of a.modelElements)this._defaultStyles[g]=a.name;return[a.name,a]}))}refresh(){const n=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!n,this.isEnabled?n.hasAttribute("imageStyle")?this.value=n.getAttribute("imageStyle"):this.value=this._defaultStyles[n.name]:this.value=!1}execute(n={}){const r=this.editor,a=r.model,g=r.plugins.get("ImageUtils");a.change(h=>{const f=n.value,{setImageSizes:b=!0}=n;let S=g.getClosestSelectedImageElement(a.document.selection);f&&this.shouldConvertImageType(f,S)&&(this.editor.execute(g.isBlockImage(S)?"imageTypeInline":"imageTypeBlock",{setImageSizes:b}),S=g.getClosestSelectedImageElement(a.document.selection)),!f||this._styles.get(f).isDefault?h.removeAttribute("imageStyle",S):h.setAttribute("imageStyle",f,S),b&&g.setImageNaturalSizeAttributes(S)})}shouldConvertImageType(n,r){return!this._styles.get(n).modelElements.includes(r.name)}}var kne=Object.defineProperty,CH=Object.getOwnPropertySymbols,Bne=Object.prototype.hasOwnProperty,xne=Object.prototype.propertyIsEnumerable,fH=(l,n,r)=>n in l?kne(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,IH=(l,n)=>{for(var r in n||(n={}))Bne.call(n,r)&&fH(l,r,n[r]);if(CH)for(var r of CH(n))xne.call(n,r)&&fH(l,r,n[r]);return l};const{objectFullWidth:Sne,objectInline:bH,objectLeft:yH,objectRight:YB,objectCenter:JB,objectBlockLeft:vH,objectBlockRight:wH}=Hn,ry={get inline(){return{name:"inline",title:"In line",icon:bH,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:yH,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:vH,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:JB,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:YB,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:wH,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:JB,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:YB,modelElements:["imageBlock"],className:"image-style-side"}}},kH={full:Sne,left:vH,right:wH,center:JB,inlineLeft:yH,inlineRight:YB,inline:bH},BH=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function xH(l){O("image-style-configuration-definition-invalid",l)}const UB={normalizeStyles:function(l){return(l.configuredStyles.options||[]).map(n=>function(r){return r=typeof r=="string"?ry[r]?IH({},ry[r]):{name:r}:function(a,g){const h=IH({},g);for(const f in a)Object.prototype.hasOwnProperty.call(g,f)||(h[f]=a[f]);return h}(ry[r.name],r),typeof r.icon=="string"&&(r.icon=kH[r.icon]||r.icon),r}(n)).filter(n=>function(r,{isBlockPluginLoaded:a,isInlinePluginLoaded:g}){const{modelElements:h,name:f}=r;if(!(h&&h.length&&f))return xH({style:r}),!1;{const b=[a?"imageBlock":null,g?"imageInline":null];if(!h.some(S=>b.includes(S)))return O("image-style-missing-dependency",{style:r,missingPlugins:h.map(S=>S==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(n,l))},getDefaultStylesConfiguration:function(l,n){return l&&n?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:l?{options:["block","side"]}:n?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(l){return l.has("ImageBlockEditing")&&l.has("ImageInlineEditing")?[...BH]:[]},warnInvalidStyle:xH,DEFAULT_OPTIONS:ry,DEFAULT_ICONS:kH,DEFAULT_DROPDOWN_DEFINITIONS:BH};function SH(l,n){for(const r of n)if(r.name===l)return r}class ZH extends _t{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[da]}init(){const{normalizeStyles:n,getDefaultStylesConfiguration:r}=UB,a=this.editor,g=a.plugins.has("ImageBlockEditing"),h=a.plugins.has("ImageInlineEditing");a.config.define("image.styles",r(g,h)),this.normalizedStyles=n({configuredStyles:a.config.get("image.styles"),isBlockPluginLoaded:g,isInlinePluginLoaded:h}),this._setupConversion(g,h),this._setupPostFixer(),a.commands.add("imageStyle",new wne(a,this.normalizedStyles))}_setupConversion(n,r){const a=this.editor,g=a.model.schema,h=(f=this.normalizedStyles,(S,N,W)=>{if(!W.consumable.consume(N.item,S.name))return;const J=SH(N.attributeNewValue,f),ee=SH(N.attributeOldValue,f),se=W.mapper.toViewElement(N.item),ue=W.writer;ee&&ue.removeClass(ee.className,se),J&&ue.addClass(J.className,se)});var f;const b=function(S){const N={imageInline:S.filter(W=>!W.isDefault&&W.modelElements.includes("imageInline")),imageBlock:S.filter(W=>!W.isDefault&&W.modelElements.includes("imageBlock"))};return(W,J,ee)=>{if(!J.modelRange)return;const se=J.viewItem,ue=Io(J.modelRange.getItems());if(ue&&ee.schema.checkAttribute(ue,"imageStyle"))for(const xe of N[ue.name])ee.consumable.consume(se,{classes:xe.className})&&ee.writer.setAttribute("imageStyle",xe.name,ue)}}(this.normalizedStyles);a.editing.downcastDispatcher.on("attribute:imageStyle",h),a.data.downcastDispatcher.on("attribute:imageStyle",h),n&&(g.extend("imageBlock",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:figure",b,{priority:"low"})),r&&(g.extend("imageInline",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:img",b,{priority:"low"}))}_setupPostFixer(){const n=this.editor,r=n.model.document,a=n.plugins.get(da),g=new Map(this.normalizedStyles.map(h=>[h.name,h]));r.registerPostFixer(h=>{let f=!1;for(const b of r.differ.getChanges())if(b.type=="insert"||b.type=="attribute"&&b.attributeKey=="imageStyle"){let S=b.type=="insert"?b.position.nodeAfter:b.range.start.nodeAfter;if(S&&S.is("element","paragraph")&&S.childCount>0&&(S=S.getChild(0)),!a.isImage(S))continue;const N=S.getAttribute("imageStyle");if(!N)continue;const W=g.get(N);W&&W.modelElements.includes(S.name)||(h.removeAttribute("imageStyle",S),f=!0)}return f})}}var GH=s(6386),Zne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(GH.A,Zne),GH.A.locals;class Gne extends _t{static get requires(){return[ZH]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const n=this.editor.t;return{"Wrap text":n("Wrap text"),"Break text":n("Break text"),"In line":n("In line"),"Full size image":n("Full size image"),"Side image":n("Side image"),"Left aligned image":n("Left aligned image"),"Centered image":n("Centered image"),"Right aligned image":n("Right aligned image")}}init(){const n=this.editor.plugins,r=this.editor.config.get("image.toolbar")||[],a=RH(n.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const h of a)this._createButton(h);const g=RH([...r.filter(We),...UB.getDefaultDropdownDefinitions(n)],this.localizedDefaultStylesTitles);for(const h of g)this._createDropdown(h,a)}_createDropdown(n,r){const a=this.editor.ui.componentFactory;a.add(n.name,g=>{let h;const{defaultItem:f,items:b,title:S}=n,N=b.filter(se=>r.find(({name:ue})=>NH(ue)===se)).map(se=>{const ue=a.create(se);return se===f&&(h=ue),ue});b.length!==N.length&&UB.warnInvalidStyle({dropdown:n});const W=Qg(g,V0),J=W.buttonView,ee=J.arrowView;return IB(W,N,{enableActiveItemFocusOnDropdownOpen:!0}),J.set({label:_H(S,h.label),class:null,tooltip:!0}),ee.unbind("label"),ee.set({label:S}),J.bind("icon").toMany(N,"isOn",(...se)=>{const ue=se.findIndex(Uc);return ue<0?h.icon:N[ue].icon}),J.bind("label").toMany(N,"isOn",(...se)=>{const ue=se.findIndex(Uc);return _H(S,ue<0?h.label:N[ue].label)}),J.bind("isOn").toMany(N,"isOn",(...se)=>se.some(Uc)),J.bind("class").toMany(N,"isOn",(...se)=>se.some(Uc)?"ck-splitbutton_flatten":void 0),J.on("execute",()=>{N.some(({isOn:se})=>se)?W.isOpen=!W.isOpen:h.fire("execute")}),W.bind("isEnabled").toMany(N,"isEnabled",(...se)=>se.some(Uc)),this.listenTo(W,"execute",()=>{this.editor.editing.view.focus()}),W})}_createButton(n){const r=n.name;this.editor.ui.componentFactory.add(NH(r),a=>{const g=this.editor.commands.get("imageStyle"),h=new Bi(a);return h.set({label:n.title,icon:n.icon,tooltip:!0,isToggleable:!0}),h.bind("isEnabled").to(g,"isEnabled"),h.bind("isOn").to(g,"value",f=>f===r),h.on("execute",this._executeCommand.bind(this,r)),h})}_executeCommand(n){this.editor.execute("imageStyle",{value:n}),this.editor.editing.view.focus()}}function RH(l,n){for(const r of l)n[r.title]&&(r.title=n[r.title]);return l}function NH(l){return`imageStyle:${l}`}function _H(l,n){return(l?l+": ":"")+n}class Rne extends _t{static get pluginName(){return"IndentEditing"}init(){const n=this.editor;n.commands.add("indent",new rs(n)),n.commands.add("outdent",new rs(n))}}class Nne extends _t{static get pluginName(){return"IndentUI"}init(){const n=this.editor,r=n.locale,a=n.t,g=r.uiLanguageDirection=="ltr"?Hn.indent:Hn.outdent,h=r.uiLanguageDirection=="ltr"?Hn.outdent:Hn.indent;this._defineButton("indent",a("Increase indent"),g),this._defineButton("outdent",a("Decrease indent"),h)}_defineButton(n,r,a){const g=this.editor;g.ui.componentFactory.add(n,()=>{const h=this._createButton(Bi,n,r,a);return h.set({tooltip:!0}),h}),g.ui.componentFactory.add("menuBar:"+n,()=>this._createButton(Xa,n,r,a))}_createButton(n,r,a,g){const h=this.editor,f=h.commands.get(r),b=new n(h.locale);return b.set({label:a,icon:g}),b.bind("isEnabled").to(f,"isEnabled"),this.listenTo(b,"execute",()=>{h.execute(r),h.editing.view.focus()}),b}}class _ne{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(n){Array.isArray(n)?n.forEach(r=>this._definitions.add(r)):this._definitions.add(n)}getDispatcher(){return n=>{n.on("attribute:linkHref",(r,a,g)=>{if(!g.consumable.test(a.item,"attribute:linkHref")||!a.item.is("selection")&&!g.schema.isInline(a.item))return;const h=g.writer,f=h.document.selection;for(const b of this._definitions){const S=h.createAttributeElement("a",b.attributes,{priority:5});b.classes&&h.addClass(b.classes,S);for(const N in b.styles)h.setStyle(N,b.styles[N],S);h.setCustomProperty("link",!0,S),b.callback(a.attributeNewValue)?a.item.is("selection")?h.wrap(f.getFirstRange(),S):h.wrap(g.mapper.toViewRange(a.range),S):h.unwrap(g.mapper.toViewRange(a.range),S)}},{priority:"high"})}}getDispatcherForLinkedImage(){return n=>{n.on("attribute:linkHref:imageBlock",(r,a,{writer:g,mapper:h})=>{const f=h.toViewElement(a.item),b=Array.from(f.getChildren()).find(S=>S.is("element","a"));for(const S of this._definitions){const N=pl(S.attributes);if(S.callback(a.attributeNewValue)){for(const[W,J]of N)W==="class"?g.addClass(J,b):g.setAttribute(W,J,b);S.classes&&g.addClass(S.classes,b);for(const W in S.styles)g.setStyle(W,S.styles[W],b)}else{for(const[W,J]of N)W==="class"?g.removeClass(J,b):g.removeAttribute(W,b);S.classes&&g.removeClass(S.classes,b);for(const W in S.styles)g.removeStyle(W,b)}}})}}}const Vne=function(l,n,r){var a=l.length;return r=r===void 0?a:r,!n&&r>=a?l:DC(l,n,r)};var Ene=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const VH=function(l){return Ene.test(l)},Fne=function(l){return l.split("")};var EH="\\ud800-\\udfff",Wne="["+EH+"]",PB="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",KB="\\ud83c[\\udffb-\\udfff]",FH="[^"+EH+"]",WH="(?:\\ud83c[\\udde6-\\uddff]){2}",HH="[\\ud800-\\udbff][\\udc00-\\udfff]",DH="(?:"+PB+"|"+KB+")?",TH="[\\ufe0e\\ufe0f]?",Hne=TH+DH+("(?:\\u200d(?:"+[FH,WH,HH].join("|")+")"+TH+DH+")*"),Dne="(?:"+[FH+PB+"?",PB,WH,HH,Wne].join("|")+")",Tne=RegExp(KB+"(?="+KB+")|"+Dne+Hne,"g");const Lne=function(l){return l.match(Tne)||[]},Xne=function(l){return VH(l)?Lne(l):Fne(l)},Mne=function(l){return function(n){n=om(n);var r=VH(n)?Xne(n):void 0,a=r?r[0]:n.charAt(0),g=r?Vne(r,1).join(""):n.slice(1);return a[l]()+g}}("toUpperCase"),Yne=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Jne=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,Une=/^((\w+:(\/{2,})?)|(\W))/i,Pne=["https?","ftps?","mailto"],oy="Ctrl+K";function LH(l,{writer:n}){const r=n.createAttributeElement("a",{href:l},{priority:5});return n.setCustomProperty("link",!0,r),r}function XH(l,n=Pne){const r=String(l),a=n.join("|");return function(g,h){return!!g.replace(Yne,"").match(h)}(r,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",a)}`,"i"))?r:"#"}function zB(l,n){return!!l&&n.checkAttribute(l.name,"linkHref")}function QB(l,n){const r=(a=l,Jne.test(a)?"mailto:":n);var a;const g=!!r&&!MH(l);return l&&g?r+l:l}function MH(l){return Une.test(l)}function YH(l){window.open(l,"_blank","noopener")}class Kne extends nn{constructor(){super(...arguments),this.manualDecorators=new ia,this.automaticDecorators=new _ne}restoreManualDecoratorStates(){for(const n of this.manualDecorators)n.value=this._getDecoratorStateFromModel(n.id)}refresh(){const n=this.editor.model,r=n.document.selection,a=r.getSelectedElement()||Io(r.getSelectedBlocks());zB(a,n.schema)?(this.value=a.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttribute(a,"linkHref")):(this.value=r.getAttribute("linkHref"),this.isEnabled=n.schema.checkAttributeInSelection(r,"linkHref"));for(const g of this.manualDecorators)g.value=this._getDecoratorStateFromModel(g.id)}execute(n,r={}){const a=this.editor.model,g=a.document.selection,h=[],f=[];for(const b in r)r[b]?h.push(b):f.push(b);a.change(b=>{if(g.isCollapsed){const S=g.getFirstPosition();if(g.hasAttribute("linkHref")){const N=JH(g);let W=U0(S,"linkHref",g.getAttribute("linkHref"),a);g.getAttribute("linkHref")===N&&(W=this._updateLinkContent(a,b,W,n)),b.setAttribute("linkHref",n,W),h.forEach(J=>{b.setAttribute(J,!0,W)}),f.forEach(J=>{b.removeAttribute(J,W)}),b.setSelection(b.createPositionAfter(W.end.nodeBefore))}else if(n!==""){const N=pl(g.getAttributes());N.set("linkHref",n),h.forEach(J=>{N.set(J,!0)});const{end:W}=a.insertContent(b.createText(n,N),S);b.setSelection(W)}["linkHref",...h,...f].forEach(N=>{b.removeSelectionAttribute(N)})}else{const S=a.schema.getValidRanges(g.getRanges(),"linkHref"),N=[];for(const J of g.getSelectedBlocks())a.schema.checkAttribute(J,"linkHref")&&N.push(b.createRangeOn(J));const W=N.slice();for(const J of S)this._isRangeToUpdate(J,N)&&W.push(J);for(const J of W){let ee=J;if(W.length===1){const se=JH(g);g.getAttribute("linkHref")===se&&(ee=this._updateLinkContent(a,b,J,n),b.setSelection(b.createSelection(ee)))}b.setAttribute("linkHref",n,ee),h.forEach(se=>{b.setAttribute(se,!0,ee)}),f.forEach(se=>{b.removeAttribute(se,ee)})}}})}_getDecoratorStateFromModel(n){const r=this.editor.model,a=r.document.selection,g=a.getSelectedElement();return zB(g,r.schema)?g.getAttribute(n):a.getAttribute(n)}_isRangeToUpdate(n,r){for(const a of r)if(a.containsRange(n))return!1;return!0}_updateLinkContent(n,r,a,g){const h=r.createText(g,{linkHref:g});return n.insertContent(h,a)}}function JH(l){if(l.isCollapsed){const n=l.getFirstPosition();return n.textNode&&n.textNode.data}{const n=Array.from(l.getFirstRange().getItems());if(n.length>1)return null;const r=n[0];return r.is("$text")||r.is("$textProxy")?r.data:null}}class zne extends nn{refresh(){const n=this.editor.model,r=n.document.selection,a=r.getSelectedElement();zB(a,n.schema)?this.isEnabled=n.schema.checkAttribute(a,"linkHref"):this.isEnabled=n.schema.checkAttributeInSelection(r,"linkHref")}execute(){const n=this.editor,r=this.editor.model,a=r.document.selection,g=n.commands.get("link");r.change(h=>{const f=a.isCollapsed?[U0(a.getFirstPosition(),"linkHref",a.getAttribute("linkHref"),r)]:r.schema.getValidRanges(a.getRanges(),"linkHref");for(const b of f)if(h.removeAttribute("linkHref",b),g)for(const S of g.manualDecorators)h.removeAttribute(S.id,b)})}}class Qne extends at(){constructor({id:n,label:r,attributes:a,classes:g,styles:h,defaultValue:f}){super(),this.id=n,this.set("value",void 0),this.defaultValue=f,this.label=r,this.attributes=a,this.classes=g,this.styles=h}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var UH=s(7719),jne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(UH.A,jne),UH.A.locals;var One=Object.defineProperty,PH=Object.getOwnPropertySymbols,qne=Object.prototype.hasOwnProperty,$ne=Object.prototype.propertyIsEnumerable,KH=(l,n,r)=>n in l?One(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,eie=(l,n)=>{for(var r in n||(n={}))qne.call(n,r)&&KH(l,r,n[r]);if(PH)for(var r of PH(n))$ne.call(n,r)&&KH(l,r,n[r]);return l};const zH="automatic",tie=/^(https?:)?\/\//;class QH extends _t{static get pluginName(){return"LinkEditing"}static get requires(){return[bW,uW,yl]}constructor(n){super(n),n.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const n=this.editor,r=this.editor.config.get("link.allowedProtocols");n.model.schema.extend("$text",{allowAttributes:"linkHref"}),n.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:LH}),n.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(g,h)=>LH(XH(g,r),h)}),n.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:g=>g.getAttribute("href")}}),n.commands.add("link",new Kne(n)),n.commands.add("unlink",new zne(n));const a=function(g,h){const f={"Open in a new tab":g("Open in a new tab"),Downloadable:g("Downloadable")};return h.forEach(b=>("label"in b&&f[b.label]&&(b.label=f[b.label]),b)),h}(n.t,function(g){const h=[];if(g)for(const[f,b]of Object.entries(g)){const S=Object.assign({},b,{id:`link${Mne(f)}`});h.push(S)}return h}(n.config.get("link.decorators")));this._enableAutomaticDecorators(a.filter(g=>g.mode===zH)),this._enableManualDecorators(a.filter(g=>g.mode==="manual")),n.plugins.get(bW).registerAttribute("linkHref"),function(g,h,f,b){const S=g.editing.view,N=new Set;S.document.registerPostFixer(W=>{const J=g.model.document.selection;let ee=!1;if(J.hasAttribute(h)){const se=U0(J.getFirstPosition(),h,J.getAttribute(h),g.model),ue=g.editing.mapper.toViewRange(se);for(const xe of ue.getItems())xe.is("element",f)&&!xe.hasClass(b)&&(W.addClass(b,xe),N.add(xe),ee=!0)}return ee}),g.conversion.for("editingDowncast").add(W=>{function J(){S.change(ee=>{for(const se of N.values())ee.removeClass(b,se),N.delete(se)})}W.on("insert",J,{priority:"highest"}),W.on("remove",J,{priority:"highest"}),W.on("attribute",J,{priority:"highest"}),W.on("selection",J,{priority:"highest"})})}(n,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(n){const r=this.editor,a=r.commands.get("link").automaticDecorators;r.config.get("link.addTargetToExternalLinks")&&a.add({id:"linkIsExternal",mode:zH,callback:g=>!!g&&tie.test(g),attributes:{target:"_blank",rel:"noopener noreferrer"}}),a.add(n),a.length&&r.conversion.for("downcast").add(a.getDispatcher())}_enableManualDecorators(n){if(!n.length)return;const r=this.editor,a=r.commands.get("link").manualDecorators;n.forEach(g=>{r.model.schema.extend("$text",{allowAttributes:g.id});const h=new Qne(g);a.add(h),r.conversion.for("downcast").attributeToElement({model:h.id,view:(f,{writer:b,schema:S},{item:N})=>{if((N.is("selection")||S.isInline(N))&&f){const W=b.createAttributeElement("a",h.attributes,{priority:5});h.classes&&b.addClass(h.classes,W);for(const J in h.styles)b.setStyle(J,h.styles[J],W);return b.setCustomProperty("link",!0,W),W}}}),r.conversion.for("upcast").elementToAttribute({view:eie({name:"a"},h._createPattern()),model:{key:h.id}})})}_enableLinkOpen(){const n=this.editor,r=n.editing.view.document;this.listenTo(r,"click",(a,g)=>{if(!(x.isMac?g.domEvent.metaKey:g.domEvent.ctrlKey))return;let h=g.domTarget;if(h.tagName.toLowerCase()!="a"&&(h=h.closest("a")),!h)return;const f=h.getAttribute("href");f&&(a.stop(),g.preventDefault(),YH(f))},{context:"$capture"}),this.listenTo(r,"keydown",(a,g)=>{const h=n.commands.get("link").value;h&&g.keyCode===di.enter&&g.altKey&&(a.stop(),YH(h))})}_enableSelectionAttributesFixer(){const n=this.editor.model,r=n.document.selection;this.listenTo(r,"change:attribute",(a,{attributeKeys:g})=>{g.includes("linkHref")&&!r.hasAttribute("linkHref")&&n.change(h=>{var f;(function(b,S){b.removeSelectionAttribute("linkHref");for(const N of S)b.removeSelectionAttribute(N)})(h,(f=n.schema,f.getDefinition("$text").allowAttributes.filter(b=>b.startsWith("link"))))})})}_enableClipboardIntegration(){const n=this.editor,r=n.model,a=this.editor.config.get("link.defaultProtocol");a&&this.listenTo(n.plugins.get("ClipboardPipeline"),"contentInsertion",(g,h)=>{r.change(f=>{const b=f.createRangeIn(h.content);for(const S of b.getItems())if(S.hasAttribute("linkHref")){const N=QB(S.getAttribute("linkHref"),a);f.setAttribute("linkHref",N,S)}})})}}var jH=s(3817),nie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(jH.A,nie),jH.A.locals;class iie extends Nt{constructor(n,r,a){super(n),this.focusTracker=new bo,this.keystrokes=new is,this._focusables=new ra;const g=n.t;this._validators=a,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(g("Save"),Hn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(g("Cancel"),Hn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(r),this.children=this._createFormChildren(r.manualDecorators),this._focusCycler=new bl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const h=["ck","ck-link-form","ck-responsive-form"];r.manualDecorators.length&&h.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:h,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((n,r)=>(n[r.name]=r.isOn,n),{})}render(){super.render(),ri({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const n of this._validators){const r=n(this);if(r)return this.urlInputView.errorText=r,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const n=this.locale.t,r=new N0(this.locale,E0);return r.label=n("Link URL"),r}_createButton(n,r,a,g){const h=new Bi(this.locale);return h.set({label:n,icon:r,tooltip:!0}),h.extendTemplate({attributes:{class:a}}),g&&h.delegate("execute").to(this,g),h}_createManualDecoratorSwitches(n){const r=this.createCollection();for(const a of n.manualDecorators){const g=new G0(this.locale);g.set({name:a.id,label:a.label,withText:!0}),g.bind("isOn").toMany([a,n],"value",(h,f)=>f===void 0&&h===void 0?!!a.defaultValue:!!h),g.on("execute",()=>{a.set("value",!g.isOn)}),r.add(g)}return r}_createFormChildren(n){const r=this.createCollection();if(r.add(this.urlInputView),n.length){const a=new Nt;a.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(g=>({tag:"li",children:[g],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),r.add(a)}return r.add(this.saveButtonView),r.add(this.cancelButtonView),r}get url(){const{element:n}=this.urlInputView.fieldView;return n?n.value.trim():null}}var OH=s(8762),rie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(OH.A,rie),OH.A.locals;class oie extends Nt{constructor(n,r={}){super(n),this.focusTracker=new bo,this.keystrokes=new is,this._focusables=new ra;const a=n.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(a("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(a("Edit link"),Hn.pencil,"edit"),this.set("href",void 0),this._linkConfig=r,this._focusCycler=new bl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(n=>{this._focusables.add(n),this.focusTracker.add(n.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(n,r,a){const g=new Bi(this.locale);return g.set({label:n,icon:r,tooltip:!0}),g.delegate("execute").to(this,a),g}_createPreviewButton(){const n=new Bi(this.locale),r=this.bindTemplate,a=this.t;return n.set({withText:!0,tooltip:a("Open link in new tab")}),n.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:r.to("href",g=>g&&XH(g,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),n.bind("label").to(this,"href",g=>g||a("This link has no URL")),n.bind("isEnabled").to(this,"href",g=>!!g),n.template.tag="a",n.template.eventListeners={},n}}const eg="link-ui";class sie extends _t{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[L0]}static get pluginName(){return"LinkUI"}init(){const n=this.editor,r=this.editor.t;n.editing.view.addObserver($7),this._balloon=n.plugins.get(L0),this._createToolbarLinkButton(),this._enableBalloonActivators(),n.conversion.for("editingDowncast").markerToHighlight({model:eg,view:{classes:["ck-fake-link-selection"]}}),n.conversion.for("editingDowncast").markerToElement({model:eg,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),n.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Create link"),keystroke:oy},{label:r("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const n=this.editor,r=new oie(n.locale,n.config.get("link")),a=n.commands.get("link"),g=n.commands.get("unlink");return r.bind("href").to(a,"value"),r.editButtonView.bind("isEnabled").to(a),r.unlinkButtonView.bind("isEnabled").to(g),this.listenTo(r,"edit",()=>{this._addFormView()}),this.listenTo(r,"unlink",()=>{n.execute("unlink"),this._hideUI()}),r.keystrokes.set("Esc",(h,f)=>{this._hideUI(),f()}),r.keystrokes.set(oy,(h,f)=>{this._addFormView(),f()}),r}_createFormView(){const n=this.editor,r=n.commands.get("link"),a=n.config.get("link.defaultProtocol"),g=new(vi(iie))(n.locale,r,function(h){const f=h.t,b=h.config.get("link.allowCreatingEmptyLinks");return[S=>{if(!b&&!S.url.length)return f("Link URL must not be empty.")}]}(n));return g.urlInputView.fieldView.bind("value").to(r,"value"),g.urlInputView.bind("isEnabled").to(r,"isEnabled"),g.saveButtonView.bind("isEnabled").to(r,"isEnabled"),this.listenTo(g,"submit",()=>{if(g.isValid()){const{value:h}=g.urlInputView.fieldView.element,f=QB(h,a);n.execute("link",f,g.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(g.urlInputView,"change:errorText",()=>{n.ui.update()}),this.listenTo(g,"cancel",()=>{this._closeFormView()}),g.keystrokes.set("Esc",(h,f)=>{this._closeFormView(),f()}),g}_createToolbarLinkButton(){const n=this.editor,r=n.commands.get("link");n.ui.componentFactory.add("link",()=>{const a=this._createButton(Bi);return a.set({tooltip:!0,isToggleable:!0}),a.bind("isOn").to(r,"value",g=>!!g),a}),n.ui.componentFactory.add("menuBar:link",()=>this._createButton(Xa))}_createButton(n){const r=this.editor,a=r.locale,g=r.commands.get("link"),h=new n(r.locale),f=a.t;return h.set({label:f("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:oy}),h.bind("isEnabled").to(g,"isEnabled"),this.listenTo(h,"execute",()=>this._showUI(!0)),h}_enableBalloonActivators(){const n=this.editor,r=n.editing.view.document;this.listenTo(r,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),n.keystrokes.set(oy,(a,g)=>{g(),n.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(n,r)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),r())},{priority:"high"}),this.editor.keystrokes.set("Esc",(n,r)=>{this._isUIVisible&&(this._hideUI(),r())}),hi({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const n=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=n.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const n=this.editor.commands.get("link");n.restoreManualDecoratorStates(),n.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(n=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),n&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),n&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const n=this.editor;this.stopListening(n.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),n.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const n=this.editor,r=n.editing.view.document;let a=this._getSelectedLinkElement(),g=f();const h=()=>{const b=this._getSelectedLinkElement(),S=f();a&&!b||!a&&S!==g?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),a=b,g=S};function f(){return r.selection.focus.getAncestors().reverse().find(b=>b.is("element"))}this.listenTo(n.ui,"update",h),this.listenTo(this._balloon,"change:visibleView",h)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const n=this._balloon.visibleView;return!!this.formView&&n==this.formView||this._areActionsVisible}_getBalloonPositionData(){const n=this.editor.editing.view,r=this.editor.model,a=n.document;let g;if(r.markers.has(eg)){const h=Array.from(this.editor.editing.mapper.markerNameToElements(eg)),f=n.createRange(n.createPositionBefore(h[0]),n.createPositionAfter(h[h.length-1]));g=n.domConverter.viewRangeToDom(f)}else g=()=>{const h=this._getSelectedLinkElement();return h?n.domConverter.mapViewToDom(h):n.domConverter.viewRangeToDom(a.selection.getFirstRange())};return{target:g}}_getSelectedLinkElement(){const n=this.editor.editing.view,r=n.document.selection,a=r.getSelectedElement();if(r.isCollapsed||a&&ro(a))return jB(r.getFirstPosition());{const g=r.getFirstRange().getTrimmed(),h=jB(g.start),f=jB(g.end);return h&&h==f&&n.createRangeIn(h).getTrimmed().isEqual(g)?h:null}}_showFakeVisualSelection(){const n=this.editor.model;n.change(r=>{const a=n.document.selection.getFirstRange();if(n.markers.has(eg))r.updateMarker(eg,{range:a});else if(a.start.isAtEnd){const g=a.start.getLastMatchingPosition(({item:h})=>!n.schema.isContent(h),{boundaries:a});r.addMarker(eg,{usingOperation:!1,affectsData:!1,range:r.createRange(g,a.end)})}else r.addMarker(eg,{usingOperation:!1,affectsData:!1,range:a})})}_hideFakeVisualSelection(){const n=this.editor.model;n.markers.has(eg)&&n.change(r=>{r.removeMarker(eg)})}}function jB(l){return l.getAncestors().find(n=>{return(r=n).is("attributeElement")&&!!r.getCustomProperty("link");var r})||null}const qH=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class aie extends _t{static get requires(){return[Og,QH]}static get pluginName(){return"AutoLink"}init(){const n=this.editor.model.document.selection;n.on("change:range",()=>{this.isEnabled=!n.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(n,r){return r.textNode&&r.textNode.hasAttribute("linkHref")?U0(r,"linkHref",r.textNode.getAttribute("linkHref"),n):null}_selectEntireLinks(n,r){const a=this.editor.model,g=a.document.selection,h=g.getFirstPosition(),f=g.getLastPosition();let b=r.getJoined(this._expandLinkRange(a,h)||r);b&&(b=b.getJoined(this._expandLinkRange(a,f)||r)),b&&(b.start.isBefore(h)||b.end.isAfter(f))&&n.setSelection(b)}_enablePasteLinking(){const n=this.editor,r=n.model,a=r.document.selection,g=n.plugins.get("ClipboardPipeline"),h=n.commands.get("link");g.on("inputTransformation",(f,b)=>{if(!this.isEnabled||!h.isEnabled||a.isCollapsed||b.method!=="paste"||a.rangeCount>1)return;const S=a.getFirstRange(),N=b.dataTransfer.getData("text/plain");if(!N)return;const W=N.match(qH);W&&W[2]===N&&(r.change(J=>{this._selectEntireLinks(J,S),h.execute(N)}),f.stop())},{priority:"high"})}_enableTypingHandling(){const n=this.editor,r=new IW(n.model,a=>{if(!function(h){return h.length>4&&h[h.length-1]===" "&&h[h.length-2]!==" "}(a))return;const g=$H(a.substr(0,a.length-1));return g?{url:g}:void 0});r.on("matched:data",(a,g)=>{const{batch:h,range:f,url:b}=g;if(!h.isTyping)return;const S=f.end.getShiftedBy(-1),N=S.getShiftedBy(-b.length),W=n.model.createRange(N,S);this._applyAutoLink(b,W)}),r.bind("isEnabled").to(this)}_enableEnterHandling(){const n=this.editor,r=n.model,a=n.commands.get("enter");a&&a.on("execute",()=>{const g=r.document.selection.getFirstPosition();if(!g.parent.previousSibling)return;const h=r.createRangeIn(g.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(h)})}_enableShiftEnterHandling(){const n=this.editor,r=n.model,a=n.commands.get("shiftEnter");a&&a.on("execute",()=>{const g=r.document.selection.getFirstPosition(),h=r.createRange(r.createPositionAt(g.parent,0),g.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(h)})}_checkAndApplyAutoLinkOnRange(n){const r=this.editor.model,{text:a,range:g}=fW(n,r),h=$H(a);if(h){const f=r.createRange(g.end.getShiftedBy(-h.length),g.end);this._applyAutoLink(h,f)}}_applyAutoLink(n,r){const a=this.editor.model,g=QB(n,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(h,f){return f.schema.checkAttributeInSelection(f.createSelection(h),"linkHref")}(r,a)&&MH(g)&&!function(h){const f=h.start.nodeAfter;return!!f&&f.hasAttribute("linkHref")}(r)&&this._persistAutoLink(g,r)}_persistAutoLink(n,r){const a=this.editor.model,g=this.editor.plugins.get("Delete");a.enqueueChange(h=>{h.setAttribute("linkHref",n,r),a.enqueueChange(()=>{g.requestUndoOnBackspace()})})}}function $H(l){const n=qH.exec(l);return n?n[2]:null}var eD=s(4808),lie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(eD.A,lie),eD.A.locals;class wl{constructor(n,r){this._startElement=n,this._referenceIndent=n.getAttribute("listIndent"),this._isForward=r.direction=="forward",this._includeSelf=!!r.includeSelf,this._sameAttributes=Li(r.sameAttributes||[]),this._sameIndent=!!r.sameIndent,this._lowerIndent=!!r.lowerIndent,this._higherIndent=!!r.higherIndent}static first(n,r){return Io(new this(n,r)[Symbol.iterator]())}*[Symbol.iterator](){const n=[];for(const{node:r}of gf(this._getStartNode(),this._isForward?"forward":"backward")){const a=r.getAttribute("listIndent");if(a<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=a}else if(a>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){n.push(r);continue}}else{if(!this._sameIndent){if(this._higherIndent){n.length&&(yield*n,n.length=0);break}continue}if(this._sameAttributes.some(g=>r.getAttribute(g)!==this._startElement.getAttribute(g)))break}n.length&&(yield*n,n.length=0),yield r}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*gf(l,n="forward"){const r=n=="forward",a=[];let g=null;for(;_o(l);){let h=null;if(g){const f=l.getAttribute("listIndent"),b=g.getAttribute("listIndent");f>b?a[b]=g:f<b?(h=a[f],a.length=f):h=g}yield{node:l,previous:g,previousNodeInList:h},g=l,l=r?l.nextSibling:l.previousSibling}}class cie{constructor(n){this._listHead=n}[Symbol.iterator](){return gf(this._listHead,"forward")}}var gie=Object.defineProperty,die=Object.defineProperties,Aie=Object.getOwnPropertyDescriptors,tD=Object.getOwnPropertySymbols,uie=Object.prototype.hasOwnProperty,hie=Object.prototype.propertyIsEnumerable,nD=(l,n,r)=>n in l?gie(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,df=(l,n)=>{for(var r in n||(n={}))uie.call(n,r)&&nD(l,r,n[r]);if(tD)for(var r of tD(n))hie.call(n,r)&&nD(l,r,n[r]);return l},OB=(l,n)=>die(l,Aie(n));class Zm{static next(){return X()}}function _o(l){return!!l&&l.is("element")&&l.hasAttribute("listItemId")}function qB(l,n={}){return[...rA(l,OB(df({},n),{direction:"backward"})),...rA(l,OB(df({},n),{direction:"forward"}))]}function rA(l,n={}){const r=n.direction=="forward",a=Array.from(new wl(l,OB(df({},n),{includeSelf:r,sameIndent:!0,sameAttributes:"listItemId"})));return r?a:a.reverse()}function iD(l,n){const r=new wl(l,df({sameIndent:!0,sameAttributes:"listType"},n)),a=new wl(l,df({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},n));return[...Array.from(r).reverse(),...a]}function Hu(l){return!wl.first(l,{sameIndent:!0,sameAttributes:"listItemId"})}function rD(l){return!wl.first(l,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function Af(l,n={}){l=Li(l);const r=n.withNested!==!1,a=new Set;for(const g of l)for(const h of qB(g,{higherIndent:r}))a.add(h);return Du(a)}function mie(l){l=Li(l);const n=new Set;for(const r of l)for(const a of iD(r))n.add(a);return Du(n)}function $B(l,n){const r=rA(l,{direction:"forward"}),a=Zm.next();for(const g of r)n.setAttribute("listItemId",a,g);return r}function ex(l,n,r){const a={};for(const[h,f]of n.getAttributes())h.startsWith("list")&&(a[h]=f);const g=rA(l,{direction:"forward"});for(const h of g)r.setAttributes(a,h);return g}function tx(l,n,{expand:r,indentBy:a=1}={}){l=Li(l);const g=r?Af(l):l;for(const h of g){const f=h.getAttribute("listIndent")+a;f<0?sy(h,n):n.setAttribute("listIndent",f,h)}return g}function sy(l,n){l=Li(l);for(const r of l)r.is("element","listItem")&&n.rename(r,"paragraph");for(const r of l)for(const a of r.getAttributeKeys())a.startsWith("list")&&n.removeAttribute(a,r);return l}function uf(l){if(!l.length)return!1;const n=l[0].getAttribute("listItemId");return!!n&&!l.some(r=>r.getAttribute("listItemId")!=n)}function Du(l){return Array.from(l).filter(n=>n.root.rootName!=="$graveyard").sort((n,r)=>n.index-r.index)}function hf(l){const n=l.document.selection.getSelectedElement();return n&&l.schema.isObject(n)&&l.schema.isBlock(n)?n:null}function nx(l,n){return n.checkChild(l.parent,"listItem")&&n.checkChild(l,"$text")&&!n.isObject(l)}function pie(l){return l=="numbered"||l=="customNumbered"}function Cie(l,n,r){return rA(n,{direction:"forward"}).pop().index>l.index?ex(l,n,r):[]}class oD extends nn{constructor(n,r){super(n),this._direction=r}refresh(){this.isEnabled=this._checkEnabled()}execute(){const n=this.editor.model,r=sD(n.document.selection);n.change(a=>{const g=[];uf(r)&&!Hu(r[0])?(this._direction=="forward"&&g.push(...tx(r,a)),g.push(...$B(r[0],a))):this._direction=="forward"?g.push(...tx(r,a,{expand:!0})):g.push(...function(h,f){const b=Af(h=Li(h)),S=new Set,N=Math.min(...b.map(J=>J.getAttribute("listIndent"))),W=new Map;for(const J of b)W.set(J,wl.first(J,{lowerIndent:!0}));for(const J of b){if(S.has(J))continue;S.add(J);const ee=J.getAttribute("listIndent")-1;if(ee<0)sy(J,f);else{if(J.getAttribute("listIndent")==N){const se=Cie(J,W.get(J),f);for(const ue of se)S.add(ue);if(se.length)continue}f.setAttribute("listIndent",ee,J)}}return Du(S)}(r,a));for(const h of g){if(!h.hasAttribute("listType"))continue;const f=wl.first(h,{sameIndent:!0});f&&a.setAttribute("listType",f.getAttribute("listType"),h)}this._fireAfterExecute(g)})}_fireAfterExecute(n){this.fire("afterExecute",Du(new Set(n)))}_checkEnabled(){let n=sD(this.editor.model.document.selection),r=n[0];if(!r)return!1;if(this._direction=="backward"||uf(n)&&!Hu(n[0]))return!0;n=Af(n),r=n[0];const a=wl.first(r,{sameIndent:!0});return!!a&&a.getAttribute("listType")==r.getAttribute("listType")}}function sD(l){const n=Array.from(l.getSelectedBlocks()),r=n.findIndex(a=>!_o(a));return r!=-1&&(n.length=r),n}var fie=Object.defineProperty,Iie=Object.defineProperties,bie=Object.getOwnPropertyDescriptors,aD=Object.getOwnPropertySymbols,yie=Object.prototype.hasOwnProperty,vie=Object.prototype.propertyIsEnumerable,lD=(l,n,r)=>n in l?fie(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,ix=(l,n)=>{for(var r in n||(n={}))yie.call(n,r)&&lD(l,r,n[r]);if(aD)for(var r of aD(n))vie.call(n,r)&&lD(l,r,n[r]);return l},rx=(l,n)=>Iie(l,bie(n));class ay extends nn{constructor(n,r,a={}){super(n),this.type=r,this._listWalkerOptions=a.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(n={}){const r=this.editor.model,a=r.document,g=hf(r),h=Array.from(a.selection.getSelectedBlocks()).filter(b=>r.schema.checkAttribute(b,"listType")||nx(b,r.schema)),f=n.forceValue!==void 0?!n.forceValue:this.value;r.change(b=>{if(f){const S=h[h.length-1],N=rA(S,{direction:"forward"}),W=[];N.length>1&&W.push(...$B(N[1],b)),W.push(...sy(h,b)),W.push(...function(J,ee){const se=[];let ue=Number.POSITIVE_INFINITY;for(const{node:xe}of gf(J.nextSibling,"forward")){const Le=xe.getAttribute("listIndent");if(Le==0)break;Le<ue&&(ue=Le);const Ye=Le-ue;ee.setAttribute("listIndent",Ye,xe),se.push(xe)}return se}(S,b)),this._fireAfterExecute(W)}else if((g||a.selection.isCollapsed)&&_o(h[0])){const S=iD(g||h[0],this._listWalkerOptions);for(const N of S)b.setAttributes(rx(ix({},n.additionalAttributes),{listType:this.type}),N);this._fireAfterExecute(S)}else{const S=[];for(const N of h)if(N.hasAttribute("listType"))for(const W of Af(N,{withNested:!1}))W.getAttribute("listType")!=this.type&&(b.setAttributes(rx(ix({},n.additionalAttributes),{listType:this.type}),W),S.push(W));else!N.is("element","listItem")&&nx(N,r.schema)&&b.rename(N,"listItem"),b.setAttributes(rx(ix({},n.additionalAttributes),{listIndent:0,listItemId:Zm.next(),listType:this.type}),N),S.push(N);this._fireAfterExecute(S)}})}_fireAfterExecute(n){this.fire("afterExecute",Du(new Set(n)))}_getValue(){const n=this.editor.model.document.selection,r=Array.from(n.getSelectedBlocks());if(!r.length)return!1;for(const a of r)if(a.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const n=this.editor.model,r=n.schema,a=n.document.selection,g=Array.from(a.getSelectedBlocks());if(!g.length)return!1;if(this.value)return!0;for(const h of g)if(r.checkAttribute(h,"listType")||nx(h,r))return!0;return!1}}class cD extends nn{constructor(n,r){super(n),this._direction=r}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:n=!1}={}){const r=this.editor.model,a=r.document.selection,g=[];r.change(h=>{const{firstElement:f,lastElement:b}=this._getMergeSubjectElements(a,n),S=f.getAttribute("listIndent")||0,N=b.getAttribute("listIndent"),W=b.getAttribute("listItemId");if(S!=N){const ee=(J=b,Array.from(new wl(J,{direction:"forward",higherIndent:!0})));g.push(...tx([b,...ee],h,{indentBy:S-N,expand:S<N}))}var J;if(n){let ee=a;a.isCollapsed&&(ee=h.createSelection(h.createRange(h.createPositionAt(f,"end"),h.createPositionAt(b,0)))),r.deleteContent(ee,{doNotResetEntireContent:a.isCollapsed});const se=ee.getLastPosition().parent,ue=se.nextSibling;g.push(se),ue&&ue!==b&&ue.getAttribute("listItemId")==W&&g.push(...ex(ue,se,h))}else g.push(...ex(b,f,h));this._fireAfterExecute(g)})}_fireAfterExecute(n){this.fire("afterExecute",Du(new Set(n)))}_checkEnabled(){const n=this.editor.model,r=n.document.selection,a=hf(n);if(r.isCollapsed||a){const g=a||r.getFirstPosition().parent;if(!_o(g))return!1;const h=this._direction=="backward"?g.previousSibling:g.nextSibling;if(!h||uf([g,h]))return!1}else{const g=r.getLastPosition(),h=r.getFirstPosition();if(g.parent===h.parent||!_o(g.parent))return!1}return!0}_getMergeSubjectElements(n,r){const a=hf(this.editor.model);let g,h;if(n.isCollapsed||a){const f=a||n.getFirstPosition().parent,b=Hu(f);this._direction=="backward"?(h=f,g=b&&!r?wl.first(f,{sameIndent:!0,lowerIndent:!0}):f.previousSibling):(g=f,h=f.nextSibling)}else g=n.getFirstPosition().parent,h=n.getLastPosition().parent;return{firstElement:g,lastElement:h}}}class gD extends nn{constructor(n,r){super(n),this._direction=r}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(n=>{const r=$B(this._getStartBlock(),n);this._fireAfterExecute(r)})}_fireAfterExecute(n){this.fire("afterExecute",Du(new Set(n)))}_checkEnabled(){const n=this.editor.model.document.selection,r=this._getStartBlock();return n.isCollapsed&&_o(r)&&!Hu(r)}_getStartBlock(){const n=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?n:n.nextSibling}}class wie extends _t{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(n){return mie(n)}isFirstBlockOfListItem(n){return Hu(n)}isListItemBlock(n){return _o(n)}expandListBlocksToCompleteItems(n,r={}){return Af(n,r)}isNumberedListType(n){return pie(n)}}function dD(l){return l.is("element","ol")||l.is("element","ul")}function ly(l){return l.is("element","li")}function kie(l,n,r,a=uD(r,n)){return l.createAttributeElement(AD(r),null,{priority:2*n/100-100,id:a})}function Bie(l,n,r){return l.createAttributeElement("li",null,{priority:(2*n+1)/100-100,id:r})}function AD(l){return l=="numbered"||l=="customNumbered"?"ol":"ul"}function uD(l,n){return`list-${l}-${n}`}function lc(l,n){const r=l.nodeBefore;if(_o(r)){let a=r;for(const{node:g}of gf(a,"backward"))if(a=g,n.has(a))return;n.set(r,a)}else{const a=l.nodeAfter;_o(a)&&n.set(a,a)}}function xie(){return(l,n,r)=>{const{writer:a,schema:g}=r;if(!n.modelRange)return;const h=Array.from(n.modelRange.getItems({shallow:!0})).filter(J=>g.checkAttribute(J,"listItemId"));if(!h.length)return;const f=Zm.next(),b=function(J){let ee=0,se=J.parent;for(;se;){if(ly(se))ee++;else{const ue=se.previousSibling;ue&&ly(ue)&&ee++}se=se.parent}return ee}(n.viewItem);let S=n.viewItem.parent&&n.viewItem.parent.is("element","ol")?"numbered":"bulleted";const N=h[0].getAttribute("listType");N&&(S=N);const W={listItemId:f,listIndent:b,listType:S};for(const J of h)J.hasAttribute("listItemId")||a.setAttributes(W,J);h.length>1&&h[1].getAttribute("listItemId")!=W.listItemId&&r.keepEmptyElement(h[0])}}function hD(){return(l,n,r)=>{if(!r.consumable.test(n.viewItem,{name:!0}))return;const a=new Kg(n.viewItem.document);for(const g of Array.from(n.viewItem.getChildren()))ly(g)||dD(g)||a.remove(g)}}function mD(l,n,r,{dataPipeline:a}={}){const g=function(h){return(f,b)=>{const S=[];for(const N of h)f.hasAttribute(N)&&S.push(`attribute:${N}`);return!!S.every(N=>b.test(f,N)!==!1)&&(S.forEach(N=>b.consume(f,N)),!0)}}(l);return(h,f,b)=>{const{writer:S,mapper:N,consumable:W}=b,J=f.item;if(!l.includes(f.attributeKey)||!g(J,W))return;const ee=function(ue,xe,Le){const Ye=Le.createRangeOn(ue);return xe.toViewRange(Ye).getTrimmed().end.nodeBefore}(J,N,r);CD(ee,S,N),function(ue,xe){let Le=ue.parent;for(;Le.is("attributeElement")&&["ul","ol","li"].includes(Le.name);){const Ye=Le.parent;xe.unwrap(xe.createRangeOn(ue),Le),Le=Ye}}(ee,S);const se=function(ue,xe,Le,Ye,{dataPipeline:$e}){let ht=Ye.createRangeOn(xe);if(!Hu(ue))return ht;for(const Tt of Le){if(Tt.scope!="itemMarker")continue;const rn=Tt.createElement(Ye,ue,{dataPipeline:$e});if(!rn||(Ye.setCustomProperty("listItemMarker",!0,rn),Tt.canInjectMarkerIntoElement&&Tt.canInjectMarkerIntoElement(ue)?Ye.insert(Ye.createPositionAt(xe,0),rn):(Ye.insert(ht.start,rn),ht=Ye.createRange(Ye.createPositionBefore(rn),Ye.createPositionAfter(xe))),!Tt.createWrapperElement||!Tt.canWrapElement))continue;const Vn=Tt.createWrapperElement(Ye,ue,{dataPipeline:$e});Ye.setCustomProperty("listItemWrapper",!0,Vn),Tt.canWrapElement(ue)?ht=Ye.wrap(ht,Vn):(ht=Ye.wrap(Ye.createRangeOn(rn),Vn),ht=Ye.createRange(ht.start,Ye.createPositionAfter(xe)))}return ht}(J,ee,n,S,{dataPipeline:a});(function(ue,xe,Le,Ye){if(!ue.hasAttribute("listIndent"))return;const $e=ue.getAttribute("listIndent");let ht=ue;for(let Tt=$e;Tt>=0;Tt--){const rn=Bie(Ye,Tt,ht.getAttribute("listItemId")),Vn=kie(Ye,Tt,ht.getAttribute("listType"));for(const Mn of Le)Mn.scope!="list"&&Mn.scope!="item"||!ht.hasAttribute(Mn.attributeName)||Mn.setAttributeOnDowncast(Ye,ht.getAttribute(Mn.attributeName),Mn.scope=="list"?Vn:rn);if(xe=Ye.wrap(xe,rn),xe=Ye.wrap(xe,Vn),Tt==0||(ht=wl.first(ht,{lowerIndent:!0}),!ht))break}})(J,se,n,S)}}function pD(l,{dataPipeline:n}={}){return(r,{writer:a})=>{if(!fD(r,l))return null;if(!n)return a.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const g=a.createContainerElement("p");return a.setCustomProperty("dataPipeline:transparentRendering",!0,g),g}}function CD(l,n,r){for(;l.parent.is("attributeElement")&&l.parent.getCustomProperty("listItemWrapper");)n.unwrap(n.createRangeOn(l),l.parent);const a=[];g(n.createPositionBefore(l).getWalker({direction:"backward"})),g(n.createRangeIn(l).getWalker());for(const h of a)n.remove(h);function g(h){for(const{item:f}of h){if(f.is("element")&&r.toModelElement(f))break;f.is("element")&&f.getCustomProperty("listItemMarker")&&a.push(f)}}}function fD(l,n,r=qB(l)){if(!_o(l))return!1;for(const a of l.getAttributeKeys())if(!a.startsWith("selection:")&&!n.includes(a))return!1;return r.length<2}var ID=s(1232),Sie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(ID.A,Sie),ID.A.locals;var bD=s(6903),Zie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(bD.A,Zie),bD.A.locals;const cy=["listType","listIndent","listItemId"];class Gie extends _t{constructor(n){super(n),this._downcastStrategies=[],n.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[P0,Og,wie,yl]}init(){const n=this.editor,r=n.model,a=n.config.get("list.multiBlock");if(n.plugins.has("LegacyListEditing"))throw new P("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});r.schema.register("$listItem",{allowAttributes:cy}),a?(r.schema.extend("$container",{allowAttributesOf:"$listItem"}),r.schema.extend("$block",{allowAttributesOf:"$listItem"}),r.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):r.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const g of cy)r.schema.setAttributeProperties(g,{copyOnReplace:!0});n.commands.add("numberedList",new ay(n,"numbered")),n.commands.add("bulletedList",new ay(n,"bulleted")),n.commands.add("customNumberedList",new ay(n,"customNumbered",{multiLevel:!0})),n.commands.add("customBulletedList",new ay(n,"customBulleted",{multiLevel:!0})),n.commands.add("indentList",new oD(n,"forward")),n.commands.add("outdentList",new oD(n,"backward")),n.commands.add("splitListItemBefore",new gD(n,"before")),n.commands.add("splitListItemAfter",new gD(n,"after")),a&&(n.commands.add("mergeListItemBackward",new cD(n,"backward")),n.commands.add("mergeListItemForward",new cD(n,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const n=this.editor.commands,r=n.get("indent"),a=n.get("outdent");r&&r.registerChildCommand(n.get("indentList"),{priority:"high"}),a&&a.registerChildCommand(n.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(n){this._downcastStrategies.push(n)}getListAttributeNames(){return[...cy,...this._downcastStrategies.map(n=>n.attributeName)]}_setupDeleteIntegration(){const n=this.editor,r=n.commands.get("mergeListItemBackward"),a=n.commands.get("mergeListItemForward");this.listenTo(n.editing.view.document,"delete",(g,h)=>{const f=n.model.document.selection;hf(n.model)||n.model.change(()=>{const b=f.getFirstPosition();if(f.isCollapsed&&h.direction=="backward"){if(!b.isAtStart)return;const S=b.parent;if(!_o(S))return;if(wl.first(S,{sameAttributes:"listType",sameIndent:!0})||S.getAttribute("listIndent")!==0){if(!r||!r.isEnabled)return;r.execute({shouldMergeOnBlocksContentLevel:yD(n.model,"backward")})}else rD(S)||n.execute("splitListItemAfter"),n.execute("outdentList");h.preventDefault(),g.stop()}else{if(f.isCollapsed&&!f.getLastPosition().isAtEnd||!a||!a.isEnabled)return;a.execute({shouldMergeOnBlocksContentLevel:yD(n.model,"forward")}),h.preventDefault(),g.stop()}})},{context:"li"})}_setupEnterIntegration(){const n=this.editor,r=n.model,a=n.commands,g=a.get("enter");this.listenTo(n.editing.view.document,"enter",(h,f)=>{const b=r.document,S=b.selection.getFirstPosition().parent;if(b.selection.isCollapsed&&_o(S)&&S.isEmpty&&!f.isSoft){const N=Hu(S),W=rD(S);N&&W?(n.execute("outdentList"),f.preventDefault(),h.stop()):N&&!W?(n.execute("splitListItemAfter"),f.preventDefault(),h.stop()):W&&(n.execute("splitListItemBefore"),f.preventDefault(),h.stop())}},{context:"li"}),this.listenTo(g,"afterExecute",()=>{const h=a.get("splitListItemBefore");h.refresh(),h.isEnabled&&qB(n.model.document.selection.getLastPosition().parent).length===2&&h.execute()})}_setupTabIntegration(){const n=this.editor;this.listenTo(n.editing.view.document,"tab",(r,a)=>{const g=a.shiftKey?"outdentList":"indentList";this.editor.commands.get(g).isEnabled&&(n.execute(g),a.stopPropagation(),a.preventDefault(),r.stop())},{context:"li"})}_setupConversion(){const n=this.editor,r=n.model,a=this.getListAttributeNames(),g=n.config.get("list.multiBlock"),h=g?"paragraph":"listItem";n.conversion.for("upcast").elementToElement({view:"li",model:(N,{writer:W})=>W.createElement(h,{listType:""})}).elementToElement({view:"p",model:(N,{writer:W})=>N.parent&&N.parent.is("element","li")?W.createElement(h,{listType:""}):null,converterPriority:"high"}).add(N=>{N.on("element:li",xie()),N.on("element:ul",hD(),{priority:"high"}),N.on("element:ol",hD(),{priority:"high"})}),g||n.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),n.conversion.for("editingDowncast").elementToElement({model:h,view:pD(a),converterPriority:"high"}).add(N=>{var W;N.on("attribute",mD(a,this._downcastStrategies,r)),N.on("remove",(W=r.schema,(J,ee,se)=>{const{writer:ue,mapper:xe}=se,Le=J.name.split(":")[1];if(!W.checkAttribute(Le,"listItemId"))return;const Ye=xe.toViewPosition(ee.position),$e=ee.position.getShiftedBy(ee.length),ht=xe.toViewPosition($e,{isPhantom:!0}),Tt=ue.createRange(Ye,ht).getTrimmed().end.nodeBefore;Tt&&CD(Tt,ue,xe)}))}),n.conversion.for("dataDowncast").elementToElement({model:h,view:pD(a,{dataPipeline:!0}),converterPriority:"high"}).add(N=>{N.on("attribute",mD(a,this._downcastStrategies,r,{dataPipeline:!0}))});const f=(b=this._downcastStrategies,S=n.editing.view,(N,W)=>{if(W.modelPosition.offset>0)return;const J=W.modelPosition.parent;if(!_o(J)||!b.some(Le=>Le.scope=="itemMarker"&&Le.canInjectMarkerIntoElement&&Le.canInjectMarkerIntoElement(J)))return;const ee=W.mapper.toViewElement(J),se=S.createRangeIn(ee),ue=se.getWalker();let xe=se.start;for(const{item:Le}of ue){if(Le.is("element")&&W.mapper.toModelElement(Le)||Le.is("$textProxy"))break;Le.is("element")&&Le.getCustomProperty("listItemMarker")&&(xe=S.createPositionAfter(Le),ue.skip(({previousPosition:Ye})=>!Ye.isEqual(xe)))}W.viewPosition=xe});var b,S;n.editing.mapper.on("modelToViewPosition",f),n.data.mapper.on("modelToViewPosition",f),this.listenTo(r.document,"change:data",function(N,W,J,ee){return()=>{const Le=N.document.differ.getChanges(),Ye=[],$e=new Map,ht=new Set;for(const Tt of Le)if(Tt.type=="insert"&&Tt.name!="$text")lc(Tt.position,$e),Tt.attributes.has("listItemId")?ht.add(Tt.position.nodeAfter):lc(Tt.position.getShiftedBy(Tt.length),$e);else if(Tt.type=="remove"&&Tt.attributes.has("listItemId"))lc(Tt.position,$e);else if(Tt.type=="attribute"){const rn=Tt.range.start.nodeAfter;J.includes(Tt.attributeKey)?(lc(Tt.range.start,$e),Tt.attributeNewValue===null?(lc(Tt.range.start.getShiftedBy(1),$e),ue(rn)&&Ye.push(rn)):ht.add(rn)):_o(rn)&&ue(rn)&&Ye.push(rn)}for(const Tt of $e.values())Ye.push(...se(Tt,ht));for(const Tt of new Set(Ye))W.reconvertItem(Tt)};function se(Le,Ye){const $e=[],ht=new Set,Tt=[];for(const{node:rn,previous:Vn}of gf(Le,"forward")){if(ht.has(rn))continue;const Mn=rn.getAttribute("listIndent");Vn&&Mn<Vn.getAttribute("listIndent")&&(Tt.length=Mn+1),Tt[Mn]=Object.fromEntries(Array.from(rn.getAttributes()).filter(([Vo])=>J.includes(Vo)));const ar=rA(rn,{direction:"forward"});for(const Vo of ar)ht.add(Vo),(ue(Vo,ar)||xe(Vo,Tt,Ye))&&$e.push(Vo)}return $e}function ue(Le,Ye){const $e=W.mapper.toViewElement(Le);if(!$e)return!1;if(ee.fire("checkElement",{modelElement:Le,viewElement:$e}))return!0;if(!Le.is("element","paragraph")&&!Le.is("element","listItem"))return!1;const ht=fD(Le,J,Ye);return!(!ht||!$e.is("element","p"))||!(ht||!$e.is("element","span"))}function xe(Le,Ye,$e){if($e.has(Le))return!1;const ht=W.mapper.toViewElement(Le);let Tt=Ye.length-1;for(let rn=ht.parent;!rn.is("editableElement");rn=rn.parent){const Vn=ly(rn),Mn=dD(rn);if(!Mn&&!Vn)continue;const ar="checkAttributes:"+(Vn?"item":"list");if(ee.fire(ar,{viewElement:rn,modelAttributes:Ye[Tt]}))break;if(Mn&&(Tt--,Tt<0))return!1}return!0}}(r,n.editing,a,this),{priority:"high"}),this.on("checkAttributes:item",(N,{viewElement:W,modelAttributes:J})=>{W.id!=J.listItemId&&(N.return=!0,N.stop())}),this.on("checkAttributes:list",(N,{viewElement:W,modelAttributes:J})=>{W.name==AD(J.listType)&&W.id==uD(J.listType,J.listIndent)||(N.return=!0,N.stop())})}_setupModelPostFixing(){const n=this.editor.model,r=this.getListAttributeNames();n.document.registerPostFixer(a=>function(g,h,f,b){const S=g.document.differ.getChanges(),N=new Map,W=b.editor.config.get("list.multiBlock");let J=!1;for(const se of S){if(se.type=="insert"&&se.name!="$text"){const ue=se.position.nodeAfter;if(!g.schema.checkAttribute(ue,"listItemId"))for(const xe of Array.from(ue.getAttributeKeys()))f.includes(xe)&&(h.removeAttribute(xe,ue),J=!0);lc(se.position,N),se.attributes.has("listItemId")||lc(se.position.getShiftedBy(se.length),N);for(const{item:xe,previousPosition:Le}of g.createRangeIn(ue))_o(xe)&&lc(Le,N)}else se.type=="remove"?lc(se.position,N):se.type=="attribute"&&f.includes(se.attributeKey)&&(lc(se.range.start,N),se.attributeNewValue===null&&lc(se.range.start.getShiftedBy(1),N));if(!W&&se.type=="attribute"&&cy.includes(se.attributeKey)){const ue=se.range.start.nodeAfter;se.attributeNewValue===null&&ue&&ue.is("element","listItem")?(h.rename(ue,"paragraph"),J=!0):se.attributeOldValue===null&&ue&&ue.is("element")&&ue.name!="listItem"&&(h.rename(ue,"listItem"),J=!0)}}const ee=new Set;for(const se of N.values())J=b.fire("postFixer",{listNodes:new cie(se),listHead:se,writer:h,seenIds:ee})||J;return J}(n,a,r,this)),this.on("postFixer",(a,{listNodes:g,writer:h})=>{a.return=function(f,b){let S=0,N=-1,W=null,J=!1;for(const{node:ee}of f){const se=ee.getAttribute("listIndent");if(se>S){let ue;W===null?(W=se-S,ue=S):(W>se&&(W=se),ue=se-W),ue>N+1&&(ue=N+1),b.setAttribute("listIndent",ue,ee),J=!0,N=ue}else W=null,S=se+1,N=se}return J}(g,h)||a.return},{priority:"high"}),this.on("postFixer",(a,{listNodes:g,writer:h,seenIds:f})=>{a.return=function(b,S,N){const W=new Set;let J=!1;for(const{node:ee}of b){if(W.has(ee))continue;let se=ee.getAttribute("listType"),ue=ee.getAttribute("listItemId");if(S.has(ue)&&(ue=Zm.next()),S.add(ue),ee.is("element","listItem"))ee.getAttribute("listItemId")!=ue&&(N.setAttribute("listItemId",ue,ee),J=!0);else for(const xe of rA(ee,{direction:"forward"}))W.add(xe),xe.getAttribute("listType")!=se&&(ue=Zm.next(),se=xe.getAttribute("listType")),xe.getAttribute("listItemId")!=ue&&(N.setAttribute("listItemId",ue,xe),J=!0)}return J}(g,f,h)||a.return},{priority:"high"})}_setupClipboardIntegration(){const n=this.editor.model,r=this.editor.plugins.get("ClipboardPipeline");this.listenTo(n,"insertContent",function(a){return(g,[h,f])=>{const b=h.is("documentFragment")?Array.from(h.getChildren()):[h];if(!b.length)return;const S=(f?a.createSelection(f):a.document.selection).getFirstPosition();let N;if(_o(S.parent))N=S.parent;else{if(!_o(S.nodeBefore))return;N=S.nodeBefore}a.change(W=>{const J=N.getAttribute("listType"),ee=N.getAttribute("listIndent"),se=b[0].getAttribute("listIndent")||0,ue=Math.max(ee-se,0);for(const xe of b){const Le=_o(xe);N.is("element","listItem")&&xe.is("element","paragraph")&&W.rename(xe,"listItem"),W.setAttributes({listIndent:(Le?xe.getAttribute("listIndent"):0)+ue,listItemId:Le?xe.getAttribute("listItemId"):Zm.next(),listType:J},xe)}})}}(n),{priority:"high"}),this.listenTo(r,"outputTransformation",(a,g)=>{n.change(h=>{const f=Array.from(g.content.getChildren()),b=f[f.length-1];if(f.length>1&&b.is("element")&&b.isEmpty&&f.slice(0,-1).every(_o)&&h.remove(b),g.method=="copy"||g.method=="cut"){const S=Array.from(g.content.getChildren());uf(S)&&sy(S,h)}})})}_setupAccessibilityIntegration(){const n=this.editor,r=n.t;n.accessibility.addKeystrokeInfoGroup({id:"list",label:r("Keystrokes that can be used in a list"),keystrokes:[{label:r("Increase list item indent"),keystroke:"Tab"},{label:r("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function yD(l,n){const r=l.document.selection;if(!r.isCollapsed)return!hf(l);if(n==="forward")return!0;const a=r.getFirstPosition().parent,g=a.previousSibling;return!l.schema.isObject(g)&&(!!g.isEmpty||uf([a,g]))}function vD(l,n,r,a){l.ui.componentFactory.add(n,()=>{const g=wD(Bi,l,n,r,a);return g.set({tooltip:!0,isToggleable:!0}),g}),l.ui.componentFactory.add(`menuBar:${n}`,()=>wD(Xa,l,n,r,a))}function wD(l,n,r,a,g){const h=n.commands.get(r),f=new l(n.locale);return f.set({label:a,icon:g}),f.bind("isOn","isEnabled").to(h,"value","isEnabled"),f.on("execute",()=>{n.execute(r),n.editing.view.focus()}),f}class Rie extends _t{static get pluginName(){return"ListUI"}init(){const n=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||vD(this.editor,"numberedList",n("Numbered List"),Hn.numberedList),this.editor.ui.componentFactory.has("bulletedList")||vD(this.editor,"bulletedList",n("Bulleted List"),Hn.bulletedList)}}class Nie extends _t{static get requires(){return[Gie,Rie]}static get pluginName(){return"List"}}const _ie=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:l,typeAttribute:n,listType:r}of _ie);var kD=s(9968),Vie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(kD.A,Vie),kD.A.locals;var BD=s(7141),Eie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(BD.A,Eie),BD.A.locals,ec("Ctrl+Enter");var xD=s(8991),Fie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(xD.A,Fie),xD.A.locals,ec("Ctrl+Enter");function SD(l,n){const r=(a,g,h)=>{if(!h.consumable.consume(g.item,a.name))return;const f=g.attributeNewValue,b=h.writer,S=h.mapper.toViewElement(g.item),N=[...S.getChildren()].find(J=>J.getCustomProperty("media-content"));b.remove(N);const W=l.getMediaViewElement(b,f,n);b.insert(b.createPositionAt(S,0),W)};return a=>{a.on("attribute:url:media",r)}}function ZD(l,n,r,a){return l.createContainerElement("figure",{class:"media"},[n.getMediaViewElement(l,r,a),l.createSlot()])}function GD(l){const n=l.getSelectedElement();return n&&n.is("element","media")?n:null}function RD(l,n,r,a){l.change(g=>{const h=g.createElement("media",{url:n});l.insertObject(h,r,null,{setSelection:"on",findOptimalPosition:a?"auto":void 0})})}class Wie extends nn{refresh(){const n=this.editor.model,r=n.document.selection,a=GD(r);this.value=a?a.getAttribute("url"):void 0,this.isEnabled=function(g){const h=g.getSelectedElement();return!!h&&h.name==="media"}(r)||function(g,h){let b=_W(g,h).start.parent;return b.isEmpty&&!h.schema.isLimit(b)&&(b=b.parent),h.schema.checkChild(b,"media")}(r,n)}execute(n){const r=this.editor.model,a=r.document.selection,g=GD(a);g?r.change(h=>{h.setAttribute("url",n,g)}):RD(r,n,a,!0)}}class Hie{constructor(n,r){const a=r.providers,g=r.extraProviders||[],h=new Set(r.removeProviders),f=a.concat(g).filter(b=>{const S=b.name;return S?!h.has(S):(O("media-embed-no-provider-name",{provider:b}),!1)});this.locale=n,this.providerDefinitions=f}hasMedia(n){return!!this._getMedia(n)}getMediaViewElement(n,r,a){return this._getMedia(r).getViewElement(n,a)}_getMedia(n){if(!n)return new ND(this.locale);n=n.trim();for(const r of this.providerDefinitions){const a=r.html,g=Li(r.url);for(const h of g){const f=this._getUrlMatches(n,h);if(f)return new ND(this.locale,n,f,a)}}return null}_getUrlMatches(n,r){let a=n.match(r);if(a)return a;let g=n.replace(/^https?:\/\//,"");return a=g.match(r),a||(g=g.replace(/^www\./,""),a=g.match(r),a||null)}}class ND{constructor(n,r,a,g){this.url=this._getValidUrl(r),this._locale=n,this._match=a,this._previewRenderer=g}getViewElement(n,r){const a={};let g;if(r.renderForEditingView||r.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(a["data-oembed-url"]=this.url),r.renderForEditingView&&(a.class="ck-media__wrapper");const h=this._getPreviewHtml(r);g=n.createRawElement("div",a,(f,b)=>{b.setContentOf(f,h)})}else this.url&&(a.url=this.url),g=n.createEmptyElement(r.elementName,a);return n.setCustomProperty("media-content",!0,g),g}_getPreviewHtml(n){return this._previewRenderer?this._previewRenderer(this._match):this.url&&n.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const n=new zg,r=this._locale.t;return n.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',n.viewBox="0 0 64 42",new oa({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[n]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":r("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(n){return n?n.match(/^https?/)?n:"https://"+n:null}}var _D=s(7048),Die={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(_D.A,Die),_D.A.locals;class gy extends _t{constructor(n){super(n),n.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:r=>{const a=r[1],g=r[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${a}${g?`?start=${g}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:r=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${r[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new Hie(n.locale,n.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const n=this.editor,r=n.model.schema,a=n.t,g=n.conversion,h=n.config.get("mediaEmbed.previewsInData"),f=n.config.get("mediaEmbed.elementName"),b=this.registry;n.commands.add("mediaEmbed",new Wie(n)),r.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),g.for("dataDowncast").elementToStructure({model:"media",view:(S,{writer:N})=>{const W=S.getAttribute("url");return ZD(N,b,W,{elementName:f,renderMediaPreview:!!W&&h})}}),g.for("dataDowncast").add(SD(b,{elementName:f,renderMediaPreview:h})),g.for("editingDowncast").elementToStructure({model:"media",view:(S,{writer:N})=>{const W=S.getAttribute("url");return function(J,ee,se){return ee.setCustomProperty("media",!0,J),VB(J,ee,{label:se})}(ZD(N,b,W,{elementName:f,renderForEditingView:!0}),N,a("media widget"))}}),g.for("editingDowncast").add(SD(b,{elementName:f,renderForEditingView:!0})),g.for("upcast").elementToElement({view:S=>["oembed",f].includes(S.name)&&S.getAttribute("url")?{name:!0}:null,model:(S,{writer:N})=>{const W=S.getAttribute("url");return b.hasMedia(W)?N.createElement("media",{url:W}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(S,{writer:N})=>{const W=S.getAttribute("data-oembed-url");return b.hasMedia(W)?N.createElement("media",{url:W}):null}}).add(S=>{S.on("element:figure",(N,W,J)=>{if(!J.consumable.consume(W.viewItem,{name:!0,classes:"media"}))return;const{modelRange:ee,modelCursor:se}=J.convertChildren(W.viewItem,W.modelCursor);W.modelRange=ee,W.modelCursor=se,Io(ee.getItems())||J.consumable.revert(W.viewItem,{name:!0,classes:"media"})})})}}const Tie=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class Lie extends _t{constructor(n){super(n),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[OW,Og,n3]}static get pluginName(){return"AutoMediaEmbed"}init(){const n=this.editor,r=n.model.document,a=n.plugins.get("ClipboardPipeline");this.listenTo(a,"inputTransformation",()=>{const g=r.selection.getFirstRange(),h=as.fromPosition(g.start);h.stickiness="toPrevious";const f=as.fromPosition(g.end);f.stickiness="toNext",r.once("change:data",()=>{this._embedMediaBetweenPositions(h,f),h.detach(),f.detach()},{priority:"high"})}),n.commands.get("undo").on("execute",()=>{this._timeoutId&&(C.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(n,r){const a=this.editor,g=a.plugins.get(gy).registry,h=new Ta(n,r),f=h.getWalker({ignoreElementEnd:!0});let b="";for(const S of f)S.item.is("$textProxy")&&(b+=S.item.data);if(b=b.trim(),!b.match(Tie)||!g.hasMedia(b))return void h.detach();a.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=as.fromPosition(n),this._timeoutId=C.window.setTimeout(()=>{a.model.change(S=>{this._timeoutId=null,S.remove(h),h.detach();let N=null;this._positionToInsert.root.rootName!=="$graveyard"&&(N=this._positionToInsert),RD(a.model,b,N,!1),this._positionToInsert.detach(),this._positionToInsert=null}),a.plugins.get(Og).requestUndoOnBackspace()},100)):h.detach()}}var VD=s(5651),Xie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(VD.A,Xie),VD.A.locals;class Mie extends Nt{constructor(n,r){super(r);const a=r.t;this.focusTracker=new bo,this.keystrokes=new is,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),Hn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),Hn.cancel,"ck-button-cancel","cancel"),this._focusables=new ra,this._focusCycler=new bl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=n,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),ri({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(r=>{this._focusables.add(r),this.focusTracker.add(r.element)}),this.keystrokes.listenTo(this.element);const n=r=>r.stopPropagation();this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(n){this.urlInputView.fieldView.element.value=n.trim()}isValid(){this.resetFormStatus();for(const n of this._validators){const r=n(this);if(r)return this.urlInputView.errorText=r,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const n=this.locale.t,r=new N0(this.locale,E0),a=r.fieldView;return this._urlInputViewInfoDefault=n("Paste the media URL in the input."),this._urlInputViewInfoTip=n("Tip: Paste the URL into the content to embed faster."),r.label=n("Media URL"),r.infoText=this._urlInputViewInfoDefault,a.on("input",()=>{r.infoText=a.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=a.element.value.trim()}),r}_createButton(n,r,a,g){const h=new Bi(this.locale);return h.set({label:n,icon:r,tooltip:!0}),h.extendTemplate({attributes:{class:a}}),g&&h.delegate("execute").to(this,g),h}}class Yie extends _t{static get requires(){return[gy]}static get pluginName(){return"MediaEmbedUI"}init(){const n=this.editor,r=n.commands.get("mediaEmbed");n.ui.componentFactory.add("mediaEmbed",a=>{const g=Qg(a);return this._setUpDropdown(g,r),g})}_setUpDropdown(n,r){const a=this.editor,g=a.t,h=n.buttonView,f=a.plugins.get(gy).registry;n.once("change:isOpen",()=>{const b=new(vi(Mie))(function(S,N){return[W=>{if(!W.url.length)return S("The URL must not be empty.")},W=>{if(!N.hasMedia(W.url))return S("This media URL is not supported.")}]}(a.t,f),a.locale);n.panelView.children.add(b),h.on("open",()=>{b.disableCssTransitions(),b.url=r.value||"",b.urlInputView.fieldView.select(),b.enableCssTransitions()},{priority:"low"}),n.on("submit",()=>{b.isValid()&&(a.execute("mediaEmbed",b.url),a.editing.view.focus())}),n.on("change:isOpen",()=>b.resetFormStatus()),n.on("cancel",()=>{a.editing.view.focus()}),b.delegate("submit","cancel").to(n),b.urlInputView.fieldView.bind("value").to(r,"value"),b.urlInputView.on("change:errorText",()=>{a.ui.update()}),b.urlInputView.bind("isEnabled").to(r,"isEnabled")}),n.bind("isEnabled").to(r),h.set({label:g("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var ED=s(70),Jie={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(ED.A,Jie),ED.A.locals;function FD(l){return l!==void 0&&l.endsWith("px")}function Gm(l){return l.toFixed(2).replace(/\.?0+$/,"")+"px"}var Uie=Object.defineProperty,Pie=Object.defineProperties,Kie=Object.getOwnPropertyDescriptors,WD=Object.getOwnPropertySymbols,zie=Object.prototype.hasOwnProperty,Qie=Object.prototype.propertyIsEnumerable,HD=(l,n,r)=>n in l?Uie(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,jie=(l,n)=>{for(var r in n||(n={}))zie.call(n,r)&&HD(l,r,n[r]);if(WD)for(var r of WD(n))Qie.call(n,r)&&HD(l,r,n[r]);return l};function Oie(l,n,r){if(!l.childCount)return;const a=new Kg(l.document),g=function(S,N){const W=N.createRangeIn(S),J=[],ee=new Set;for(const se of W.getItems()){if(!se.is("element")||!se.name.match(/^(p|h\d+|li|div)$/))continue;let ue=ore(se);if(ue===void 0||parseFloat(ue)!=0||Array.from(se.getClassNames()).find(xe=>xe.startsWith("MsoList"))||(ue=void 0),se.hasStyle("mso-list")||ue!==void 0&&ee.has(ue)){const xe=ire(se);J.push({element:se,id:xe.id,order:xe.order,indent:xe.indent,marginLeft:ue}),ue!==void 0&&ee.add(ue)}else ee.clear()}return J}(l,a);if(!g.length)return;const h={},f=[];for(const S of g)if(S.indent!==void 0){qie(S)||(f.length=0);const N=`${S.id}:${S.indent}`,W=Math.min(S.indent-1,f.length);if(W<f.length&&f[W].id!==S.id&&(f.length=W),W<f.length-1)f.length=W+1;else{const ee=ere(S,n);if(W>f.length-1||f[W].listElement.name!=ee.type){W==0&&ee.type=="ol"&&S.id!==void 0&&h[N]&&(ee.startIndex=h[N]);const se=nre(ee,a,r);if(FD(S.marginLeft)&&(W==0||FD(f[W-1].marginLeft))){let ue=S.marginLeft;W>0&&(ue=Gm(parseFloat(ue)-parseFloat(f[W-1].marginLeft))),a.setStyle("padding-left",ue,se)}if(f.length==0){const ue=S.element.parent,xe=ue.getChildIndex(S.element)+1;a.insertChild(xe,se,ue)}else{const ue=f[W-1].listItemElements;a.appendChild(se,ue[ue.length-1])}f[W]=(b=jie({},S),Pie(b,Kie({listElement:se,listItemElements:[]}))),W==0&&S.id!==void 0&&(h[N]=ee.startIndex||1)}}const J=S.element.name=="li"?S.element:a.createElement("li");a.appendChild(J,f[W].listElement),f[W].listItemElements.push(J),W==0&&S.id!==void 0&&h[N]++,S.element!=J&&a.appendChild(S.element,J),rre(S.element,a),a.removeStyle("text-indent",S.element),a.removeStyle("margin-left",S.element)}else{const N=f.find(W=>W.marginLeft==S.marginLeft);if(N){const W=N.listItemElements;a.appendChild(S.element,W[W.length-1]),a.removeStyle("margin-left",S.element)}else f.length=0}var b}function qie(l){const n=l.element.previousSibling;return $ie(n||l.element.parent)}function $ie(l){return l.is("element","ol")||l.is("element","ul")}function ere(l,n){const r=new RegExp(`@list l${l.id}:level${l.indent}\\s*({[^}]*)`,"gi"),a=/mso-level-number-format:([^;]{0,100});/gi,g=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,h=new RegExp(`@list\\s+l${l.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),f=new RegExp(`@list l${l.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),b=h.exec(n),S=f.exec(n),N=b&&!S,W=r.exec(n);let J="decimal",ee="ol",se=null;if(W&&W[1]){const ue=a.exec(W[1]);if(ue&&ue[1]&&(J=ue[1].trim(),ee=J!=="bullet"&&J!=="image"?"ol":"ul"),J==="bullet"){const xe=function(Le){if(Le.name=="li"&&Le.parent.name=="ul"&&Le.parent.hasAttribute("type"))return Le.parent.getAttribute("type");const Ye=function(ht){if(ht.getChild(0).is("$text"))return null;for(const Tt of ht.getChildren()){if(!Tt.is("element","span"))continue;const rn=Tt.getChild(0);if(rn)return rn.is("$text")?rn:rn.getChild(0)}return null}(Le);if(!Ye)return null;const $e=Ye._data;return $e==="o"?"circle":$e===""?"disc":$e===""?"square":null}(l.element);xe&&(J=xe)}else{const xe=g.exec(W[1]);xe&&xe[1]&&(se=parseInt(xe[1]))}N&&(ee="ol")}return{type:ee,startIndex:se,style:tre(J),isLegalStyleList:N}}function tre(l){if(l.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(l){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return l;default:return null}}function nre(l,n,r){const a=n.createElement(l.type);return l.style&&n.setStyle("list-style-type",l.style,a),l.startIndex&&l.startIndex>1&&n.setAttribute("start",l.startIndex,a),l.isLegalStyleList&&r&&n.addClass("legal-list",a),a}function ire(l){const n=l.getStyle("mso-list");if(n===void 0)return{};const r=n.match(/(^|\s{1,100})l(\d+)/i),a=n.match(/\s{0,100}lfo(\d+)/i),g=n.match(/\s{0,100}level(\d+)/i);return r&&a&&g?{id:r[2],order:a[1],indent:parseInt(g[1])}:{indent:1}}function rre(l,n){const r=new ss({name:"span",styles:{"mso-list":"Ignore"}}),a=n.createRangeIn(l);for(const g of a)g.type==="elementStart"&&r.match(g.item)&&n.remove(g.item)}function ore(l){const n=l.getStyle("margin-left");return n===void 0||n.endsWith("px")?n:function(r){const a=parseFloat(r);return r.endsWith("pt")?Gm(96*a/72):r.endsWith("pc")?Gm(12*a*96/72):r.endsWith("in")?Gm(96*a):r.endsWith("cm")?Gm(96*a/2.54):r.endsWith("mm")?Gm(a/10*96/2.54):r}(n)}function sre(l,n){if(!l.childCount)return;const r=new Kg(l.document),a=function(h,f){const b=f.createRangeIn(h),S=new ss({name:/v:(.+)/}),N=[];for(const W of b){if(W.type!="elementStart")continue;const J=W.item,ee=J.previousSibling,se=ee&&ee.is("element")?ee.name:null,ue=["Chart"],xe=S.match(J),Le=J.getAttribute("o:gfxdata"),Ye=se==="v:shapetype",$e=Le&&ue.some(ht=>J.getAttribute("id").includes(ht));xe&&Le&&!Ye&&!$e&&N.push(W.item.getAttribute("id"))}return N}(l,r);(function(h,f,b){const S=b.createRangeIn(f),N=new ss({name:"img"}),W=[];for(const J of S)if(J.item.is("element")&&N.match(J.item)){const ee=J.item,se=ee.getAttribute("v:shapes")?ee.getAttribute("v:shapes").split(" "):[];se.length&&se.every(ue=>h.indexOf(ue)>-1)?W.push(ee):ee.getAttribute("src")||W.push(ee)}for(const J of W)b.remove(J)})(a,l,r),function(h,f,b){const S=b.createRangeIn(f),N=[];for(const ee of S)if(ee.type=="elementStart"&&ee.item.is("element","v:shape")){const se=ee.item.getAttribute("id");if(h.includes(se))continue;W(ee.item.parent.getChildren(),se)||N.push(ee.item)}for(const ee of N){const se={src:J(ee)};ee.hasAttribute("alt")&&(se.alt=ee.getAttribute("alt"));const ue=b.createElement("img",se);b.insertChild(ee.index+1,ue,ee.parent)}function W(ee,se){for(const ue of ee)if(ue.is("element")&&(ue.name=="img"&&ue.getAttribute("v:shapes")==se||W(ue.getChildren(),se)))return!0;return!1}function J(ee){for(const se of ee.getChildren())if(se.is("element")&&se.getAttribute("src"))return se.getAttribute("src")}}(a,l,r),function(h,f){const b=f.createRangeIn(h),S=new ss({name:/v:(.+)/}),N=[];for(const W of b)W.type=="elementStart"&&S.match(W.item)&&N.push(W.item);for(const W of N)f.remove(W)}(l,r);const g=function(h,f){const b=f.createRangeIn(h),S=new ss({name:"img"}),N=[];for(const W of b)W.item.is("element")&&S.match(W.item)&&W.item.getAttribute("src").startsWith("file://")&&N.push(W.item);return N}(l,r);g.length&&function(h,f,b){if(h.length===f.length)for(let S=0;S<h.length;S++){const N=`data:${f[S].type};base64,${are(f[S].hex)}`;b.setAttribute("src",N,h[S])}}(g,function(h){if(!h)return[];const f=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,b=new RegExp("(?:("+f.source+"))([\\da-fA-F\\s]+)\\}","g"),S=h.match(b),N=[];if(S)for(const W of S){let J=!1;W.includes("\\pngblip")?J="image/png":W.includes("\\jpegblip")&&(J="image/jpeg"),J&&N.push({hex:W.replace(f,"").replace(/[^\da-fA-F]/g,""),type:J})}return N}(n),r)}function are(l){return btoa(l.match(/\w{2}/g).map(n=>String.fromCharCode(parseInt(n,16))).join(""))}const lre=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,cre=/xmlns:o="urn:schemas-microsoft-com/i;class gre{constructor(n,r=!1){this.document=n,this.hasMultiLevelListPlugin=r}isActive(n){return lre.test(n)||cre.test(n)}execute(n){const{body:r,stylesString:a}=n._parsedData;Oie(r,a,this.hasMultiLevelListPlugin),sre(r,n.dataTransfer.getData("text/rtf")),function(g){const h=[],f=new Kg(g.document);for(const{item:b}of f.createRangeIn(g))if(b.is("element")){for(const S of b.getClassNames())/\bmso/gi.exec(S)&&f.removeClass(S,b);for(const S of b.getStyleNames())/\bmso/gi.exec(S)&&f.removeStyle(S,b);(b.is("element","w:sdt")||b.is("element","w:sdtpr")&&b.isEmpty||b.is("element","o:p")&&b.isEmpty)&&h.push(b)}for(const b of h){const S=b.parent,N=S.getChildIndex(b);f.insertChild(N,b.getChildren(),S),f.remove(b)}}(r),n.content=r}}function DD(l,n,r,{blockElements:a,inlineObjectElements:g}){let h=r.createPositionAt(l,n=="forward"?"after":"before");return h=h.getLastMatchingPosition(({item:f})=>f.is("element")&&!a.includes(f.name)&&!g.includes(f.name),{direction:n}),n=="forward"?h.nodeAfter:h.nodeBefore}function TD(l,n){return!!l&&l.is("element")&&n.includes(l.name)}const dre=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class Are{constructor(n){this.document=n}isActive(n){return dre.test(n)}execute(n){const r=new Kg(this.document),{body:a}=n._parsedData;(function(g,h){for(const f of g.getChildren())if(f.is("element","b")&&f.getStyle("font-weight")==="normal"){const b=g.getChildIndex(f);h.remove(f),h.insertChild(b,f.getChildren(),g)}})(a,r),function(g,h){for(const f of h.createRangeIn(g)){const b=f.item;if(b.is("element","li")){const S=b.getChild(0);S&&S.is("element","p")&&h.unwrapElement(S)}}}(a,r),function(g,h){const f=new p0(h.document.stylesProcessor),b=new I0(f,{renderingMode:"data"}),S=b.blockElements,N=b.inlineObjectElements,W=[];for(const J of h.createRangeIn(g)){const ee=J.item;if(ee.is("element","br")){const se=DD(ee,"forward",h,{blockElements:S,inlineObjectElements:N}),ue=DD(ee,"backward",h,{blockElements:S,inlineObjectElements:N}),xe=TD(se,S);(TD(ue,S)||xe)&&W.push(ee)}}for(const J of W)J.hasClass("Apple-interchange-newline")?h.remove(J):h.replace(J,h.createElement("p"))}(a,r),n.content=a}}const ure=/<google-sheets-html-origin/i;class hre{constructor(n){this.document=n}isActive(n){return ure.test(n)}execute(n){const r=new Kg(this.document),{body:a}=n._parsedData;(function(g,h){for(const f of g.getChildren())if(f.is("element","google-sheets-html-origin")){const b=g.getChildIndex(f);h.remove(f),h.insertChild(b,f.getChildren(),g)}})(a,r),function(g,h){for(const f of g.getChildren())f.is("element","table")&&f.hasAttribute("xmlns")&&h.removeAttribute("xmlns",f)}(a,r),function(g,h){for(const f of g.getChildren())f.is("element","table")&&f.getStyle("width")==="0px"&&h.removeStyle("width",f)}(a,r),function(g,h){for(const f of Array.from(g.getChildren()))f.is("element","style")&&h.remove(f)}(a,r),n.content=a}}function LD(l){return l.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(n,r)=>r.length===1?" ":Array(r.length+1).join(" ").substr(0,r.length))}function mre(l,n){const r=new DOMParser,a=function(S){return LD(LD(S)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(S){const N="</body>",W="</html>",J=S.indexOf(N);if(J<0)return S;const ee=S.indexOf(W,J+N.length);return S.substring(0,J+N.length)+(ee>=0?S.substring(ee):"")}(l=(l=l.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),g=r.parseFromString(a,"text/html");(function(S){S.querySelectorAll("span[style*=spacerun]").forEach(N=>{const W=N,J=W.innerText.length||0;W.innerText=Array(J+1).join(" ").substr(0,J)})})(g);const h=g.body.innerHTML,f=function(S,N){const W=new p0(N),J=new I0(W,{renderingMode:"data"}),ee=S.createDocumentFragment(),se=S.body.childNodes;for(;se.length>0;)ee.appendChild(se[0]);return J.domToView(ee,{skipComments:!0})}(g,n),b=function(S){const N=[],W=[],J=Array.from(S.getElementsByTagName("style"));for(const ee of J)ee.sheet&&ee.sheet.cssRules&&ee.sheet.cssRules.length&&(N.push(ee.sheet),W.push(ee.innerHTML));return{styles:N,stylesString:W.join(" ")}}(g);return{body:f,bodyString:h,styles:b.styles,stylesString:b.stylesString}}function Jr(l,n,r,a,g=1){n!=null&&g!=null&&n>g?a.setAttribute(l,n,r):a.removeAttribute(l,r)}function Tu(l,n,r={}){const a=l.createElement("tableCell",r);return l.insertElement("paragraph",a),l.insert(a,n),a}function ox(l,n){const r=n.parent.parent,a=parseInt(r.getAttribute("headingColumns")||"0"),{column:g}=l.getCellLocation(n);return!!a&&g<a}function pre(){return l=>{l.on("element:table",(n,r,a)=>{const g=r.viewItem;if(!a.consumable.test(g,{name:!0}))return;const{rows:h,headingRows:f,headingColumns:b}=function(W){let J,ee=0;const se=[],ue=[];let xe;for(const Le of Array.from(W.getChildren())){if(Le.name!=="tbody"&&Le.name!=="thead"&&Le.name!=="tfoot")continue;Le.name!=="thead"||xe||(xe=Le);const Ye=Array.from(Le.getChildren()).filter($e=>$e.is("element","tr"));for(const $e of Ye)if(xe&&Le===xe||Le.name==="tbody"&&Array.from($e.getChildren()).length&&Array.from($e.getChildren()).every(ht=>ht.is("element","th")))ee++,se.push($e);else{ue.push($e);const ht=Cre($e);(!J||ht<J)&&(J=ht)}}return{headingRows:ee,headingColumns:J||0,rows:[...se,...ue]}}(g),S={};b&&(S.headingColumns=b),f&&(S.headingRows=f);const N=a.writer.createElement("table",S);if(a.safeInsert(N,r.modelCursor)){if(a.consumable.consume(g,{name:!0}),h.forEach(W=>a.convertItem(W,a.writer.createPositionAt(N,"end"))),a.convertChildren(g,a.writer.createPositionAt(N,"end")),N.isEmpty){const W=a.writer.createElement("tableRow");a.writer.insert(W,a.writer.createPositionAt(N,"end")),Tu(a.writer,a.writer.createPositionAt(W,"end"))}a.updateConversionResult(N,r)}})}}function XD(l){return n=>{n.on(`element:${l}`,(r,a,{writer:g})=>{if(!a.modelRange)return;const h=a.modelRange.start.nodeAfter,f=g.createPositionAt(h,0);if(a.viewItem.isEmpty)return void g.insertElement("paragraph",f);const b=Array.from(h.getChildren());if(b.every(S=>S.is("element","$marker"))){const S=g.createElement("paragraph");g.insert(S,g.createPositionAt(h,0));for(const N of b)g.move(g.createRangeOn(N),g.createPositionAt(S,"end"))}},{priority:"low"})}}function Cre(l){let n=0,r=0;const a=Array.from(l.getChildren()).filter(g=>g.name==="th"||g.name==="td");for(;r<a.length&&a[r].name==="th";){const g=a[r];n+=parseInt(g.getAttribute("colspan")||"1"),r++}return n}class Ki{constructor(n,r={}){this._jumpedToStartRow=!1,this._table=n,this._startRow=r.row!==void 0?r.row:r.startRow||0,this._endRow=r.row!==void 0?r.row:r.endRow,this._startColumn=r.column!==void 0?r.column:r.startColumn||0,this._endColumn=r.column!==void 0?r.column:r.endColumn,this._includeAllSlots=!!r.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const n=this._table.getChild(this._rowIndex);if(!n||this._isOverEndRow())return{done:!0,value:void 0};if(!n.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let r=null;const a=this._getSpanned();if(a)this._includeAllSlots&&!this._shouldSkipSlot()&&(r=this._formatOutValue(a.cell,a.row,a.column));else{const g=n.getChild(this._cellIndex);if(!g)return this._advanceToNextRow();const h=parseInt(g.getAttribute("colspan")||"1"),f=parseInt(g.getAttribute("rowspan")||"1");(h>1||f>1)&&this._recordSpans(g,f,h),this._shouldSkipSlot()||(r=this._formatOutValue(g)),this._nextCellAtColumn=this._column+h}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,r||this.next()}skipRow(n){this._skipRows.add(n)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(n,r=this._row,a=this._column){return{done:!1,value:new fre(this,n,r,a)}}_shouldSkipSlot(){const n=this._skipRows.has(this._row),r=this._row<this._startRow,a=this._column<this._startColumn,g=this._endColumn!==void 0&&this._column>this._endColumn;return n||r||a||g}_getSpanned(){const n=this._spannedCells.get(this._row);return n&&n.get(this._column)||null}_recordSpans(n,r,a){const g={cell:n,row:this._row,column:this._column};for(let h=this._row;h<this._row+r;h++)for(let f=this._column;f<this._column+a;f++)h==this._row&&f==this._column||this._markSpannedCell(h,f,g)}_markSpannedCell(n,r,a){this._spannedCells.has(n)||this._spannedCells.set(n,new Map),this._spannedCells.get(n).set(r,a)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const n=this._getRowLength(0);for(let r=this._startRow;!this._jumpedToStartRow;r--)n===this._getRowLength(r)&&(this._row=r,this._rowIndex=r,this._jumpedToStartRow=!0)}_getRowLength(n){return[...this._table.getChild(n).getChildren()].reduce((r,a)=>r+parseInt(a.getAttribute("colspan")||"1"),0)}}class fre{constructor(n,r,a,g){this.cell=r,this.row=n._row,this.column=n._column,this.cellAnchorRow=a,this.cellAnchorColumn=g,this._cellIndex=n._cellIndex,this._rowIndex=n._rowIndex,this._table=n._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function MD(l,n){return(r,{writer:a})=>{const g=r.getAttribute("headingRows")||0,h=a.createContainerElement("table",null,[]),f=a.createContainerElement("figure",{class:"table"},h);g>0&&a.insert(a.createPositionAt(h,"end"),a.createContainerElement("thead",null,a.createSlot(b=>b.is("element","tableRow")&&b.index<g))),g<l.getRows(r)&&a.insert(a.createPositionAt(h,"end"),a.createContainerElement("tbody",null,a.createSlot(b=>b.is("element","tableRow")&&b.index>=g)));for(const{positionOffset:b,filter:S}of n.additionalSlots)a.insert(a.createPositionAt(h,b),a.createSlot(S));return a.insert(a.createPositionAt(h,"after"),a.createSlot(b=>!b.is("element","tableRow")&&!n.additionalSlots.some(({filter:S})=>S(b)))),n.asWidget?function(b,S){return S.setCustomProperty("table",!0,b),VB(b,S,{hasSelectionHandle:!0})}(f,a):f}}function YD(l={}){return(n,{writer:r})=>{const a=n.parent,g=a.parent,h=g.getChildIndex(a),f=new Ki(g,{row:h}),b=g.getAttribute("headingRows")||0,S=g.getAttribute("headingColumns")||0;let N=null;for(const W of f)if(W.cell==n){const J=W.row<b||W.column<S?"th":"td";N=l.asWidget?NW(r.createEditableElement(J),r):r.createContainerElement(J);break}return N}}function JD(l={}){return(n,{writer:r})=>{if(!n.parent.is("element","tableCell")||!UD(n))return null;if(l.asWidget)return r.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const a=r.createContainerElement("p");return r.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}}function UD(l){return l.parent.childCount==1&&!!l.getAttributeKeys().next().done}class Ire extends nn{refresh(){const n=this.editor.model,r=n.document.selection,a=n.schema;this.isEnabled=function(g,h){const f=g.getFirstPosition().parent,b=f===f.root?f:f.parent;return h.checkChild(b,"table")}(r,a)}execute(n={}){const r=this.editor,a=r.model,g=r.plugins.get("TableUtils"),h=r.config.get("table.defaultHeadings.rows"),f=r.config.get("table.defaultHeadings.columns");n.headingRows===void 0&&h&&(n.headingRows=h),n.headingColumns===void 0&&f&&(n.headingColumns=f),a.change(b=>{const S=g.createTable(b,n);a.insertObject(S,null,null,{findOptimalPosition:"auto"}),b.setSelection(b.createPositionAt(S.getNodeByPath([0,0,0]),0))})}}class PD extends nn{constructor(n,r={}){super(n),this.order=r.order||"below"}refresh(){const n=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=r}execute(){const n=this.editor,r=n.model.document.selection,a=n.plugins.get("TableUtils"),g=this.order==="above",h=a.getSelectionAffectedTableCells(r),f=a.getRowIndexes(h),b=g?f.first:f.last,S=h[0].findAncestor("table");a.insertRows(S,{at:g?b:b+1,copyStructureFromAbove:!g})}}class KD extends nn{constructor(n,r={}){super(n),this.order=r.order||"right"}refresh(){const n=this.editor.model.document.selection,r=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(n).length;this.isEnabled=r}execute(){const n=this.editor,r=n.model.document.selection,a=n.plugins.get("TableUtils"),g=this.order==="left",h=a.getSelectionAffectedTableCells(r),f=a.getColumnIndexes(h),b=g?f.first:f.last,S=h[0].findAncestor("table");a.insertColumns(S,{columns:1,at:g?b:b+1})}}class zD extends nn{constructor(n,r={}){super(n),this.direction=r.direction||"horizontally"}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length===1}execute(){const n=this.editor.plugins.get("TableUtils"),r=n.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?n.splitCellHorizontally(r,2):n.splitCellVertically(r,2)}}function QD(l,n,r){const{startRow:a,startColumn:g,endRow:h,endColumn:f}=n,b=r.createElement("table"),S=h-a+1;for(let W=0;W<S;W++)r.insertElement("tableRow",b,"end");const N=[...new Ki(l,{startRow:a,endRow:h,startColumn:g,endColumn:f,includeAllSlots:!0})];for(const{row:W,column:J,cell:ee,isAnchor:se,cellAnchorRow:ue,cellAnchorColumn:xe}of N){const Le=W-a,Ye=b.getChild(Le);if(se){const $e=r.cloneElement(ee);r.append($e,Ye),e4($e,W,J,h,f,r)}else(ue<a||xe<g)&&Tu(r,r.createPositionAt(Ye,"end"))}return function(W,J,ee,se,ue){const xe=parseInt(J.getAttribute("headingRows")||"0");xe>0&&Jr("headingRows",xe-ee,W,ue,0);const Le=parseInt(J.getAttribute("headingColumns")||"0");Le>0&&Jr("headingColumns",Le-se,W,ue,0)}(b,l,a,g,r),b}function jD(l,n,r=0){const a=[],g=new Ki(l,{startRow:r,endRow:n-1});for(const h of g){const{row:f,cellHeight:b}=h;f<n&&n<=f+b-1&&a.push(h)}return a}function OD(l,n,r){const a=l.parent,g=a.parent,h=a.index,f=n-h,b={},S=parseInt(l.getAttribute("rowspan"))-f;S>1&&(b.rowspan=S);const N=parseInt(l.getAttribute("colspan")||"1");N>1&&(b.colspan=N);const W=h+f,J=[...new Ki(g,{startRow:h,endRow:W,includeAllSlots:!0})];let ee,se=null;for(const ue of J){const{row:xe,column:Le,cell:Ye}=ue;Ye===l&&ee===void 0&&(ee=Le),ee!==void 0&&ee===Le&&xe===W&&(se=Tu(r,ue.getPositionBefore(),b))}return Jr("rowspan",f,l,r),se}function qD(l,n){const r=[],a=new Ki(l);for(const g of a){const{column:h,cellWidth:f}=g;h<n&&n<=h+f-1&&r.push(g)}return r}function $D(l,n,r,a){const g=r-n,h={},f=parseInt(l.getAttribute("colspan"))-g;f>1&&(h.colspan=f);const b=parseInt(l.getAttribute("rowspan")||"1");b>1&&(h.rowspan=b);const S=Tu(a,a.createPositionAfter(l),h);return Jr("colspan",g,l,a),S}function e4(l,n,r,a,g,h){const f=parseInt(l.getAttribute("colspan")||"1"),b=parseInt(l.getAttribute("rowspan")||"1");r+f-1>g&&Jr("colspan",g-r+1,l,h,1),n+b-1>a&&Jr("rowspan",a-n+1,l,h,1)}function sx(l,n){const r=n.getColumns(l),a=new Array(r).fill(0);for(const{column:h}of new Ki(l))a[h]++;const g=a.reduce((h,f,b)=>f?h:[...h,b],[]);if(g.length>0){const h=g[g.length-1];return n.removeColumns(l,{at:h}),!0}return!1}function ax(l,n){const r=[],a=n.getRows(l);for(let g=0;g<a;g++)l.getChild(g).isEmpty&&r.push(g);if(r.length>0){const g=r[r.length-1];return n.removeRows(l,{at:g}),!0}return!1}function lx(l,n){sx(l,n)||ax(l,n)}function t4(l,n){const r=Array.from(new Ki(l,{startColumn:n.firstColumn,endColumn:n.lastColumn,row:n.lastRow}));if(r.every(({cellHeight:g})=>g===1))return n.lastRow;const a=r[0].cellHeight-1;return n.lastRow+a}function n4(l,n){const r=Array.from(new Ki(l,{startRow:n.firstRow,endRow:n.lastRow,column:n.lastColumn}));if(r.every(({cellWidth:g})=>g===1))return n.lastColumn;const a=r[0].cellWidth-1;return n.lastColumn+a}class dy extends nn{constructor(n,r){super(n),this.direction=r.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const n=this._getMergeableCell();this.value=n,this.isEnabled=!!n}execute(){const n=this.editor.model,r=n.document,a=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(r.selection)[0],g=this.value,h=this.direction;n.change(f=>{const b=h=="right"||h=="down",S=b?a:g,N=b?g:a,W=N.parent;(function(xe,Le,Ye){i4(xe)||(i4(Le)&&Ye.remove(Ye.createRangeIn(Le)),Ye.move(Ye.createRangeIn(xe),Ye.createPositionAt(Le,"end"))),Ye.remove(xe)})(N,S,f);const J=this.isHorizontal?"colspan":"rowspan",ee=parseInt(a.getAttribute(J)||"1"),se=parseInt(g.getAttribute(J)||"1");f.setAttribute(J,ee+se,S),f.setSelection(f.createRangeIn(S));const ue=this.editor.plugins.get("TableUtils");lx(W.findAncestor("table"),ue)})}_getMergeableCell(){const n=this.editor.model.document,r=this.editor.plugins.get("TableUtils"),a=r.getTableCellsContainingSelection(n.selection)[0];if(!a)return;const g=this.isHorizontal?function(b,S,N){const W=b.parent,J=W.parent,ee=S=="right"?b.nextSibling:b.previousSibling,se=(J.getAttribute("headingColumns")||0)>0;if(!ee)return;const ue=S=="right"?b:ee,xe=S=="right"?ee:b,{column:Le}=N.getCellLocation(ue),{column:Ye}=N.getCellLocation(xe),$e=parseInt(ue.getAttribute("colspan")||"1"),ht=ox(N,ue),Tt=ox(N,xe);if(!(se&&ht!=Tt))return Le+$e===Ye?ee:void 0}(a,this.direction,r):function(b,S,N){const W=b.parent,J=W.parent,ee=J.getChildIndex(W);if(S=="down"&&ee===N.getRows(J)-1||S=="up"&&ee===0)return null;const se=parseInt(b.getAttribute("rowspan")||"1"),ue=J.getAttribute("headingRows")||0,xe=S=="down"&&ee+se===ue,Le=S=="up"&&ee===ue;if(ue&&(xe||Le))return null;const Ye=parseInt(b.getAttribute("rowspan")||"1"),$e=S=="down"?ee+Ye:ee,ht=[...new Ki(J,{endRow:$e})],Tt=ht.find(Mn=>Mn.cell===b),rn=Tt.column,Vn=ht.find(({row:Mn,cellHeight:ar,column:Vo})=>Vo===rn&&(S=="down"?Mn===$e:$e===Mn+ar));return Vn&&Vn.cell?Vn.cell:null}(a,this.direction,r);if(!g)return;const h=this.isHorizontal?"rowspan":"colspan",f=parseInt(a.getAttribute(h)||"1");return parseInt(g.getAttribute(h)||"1")===f?g:void 0}}function i4(l){const n=l.getChild(0);return l.childCount==1&&n.is("element","paragraph")&&n.isEmpty}class bre extends nn{refresh(){const n=this.editor.plugins.get("TableUtils"),r=n.getSelectionAffectedTableCells(this.editor.model.document.selection),a=r[0];if(a){const g=a.findAncestor("table"),h=n.getRows(g)-1,f=n.getRowIndexes(r),b=f.first===0&&f.last===h;this.isEnabled=!b}else this.isEnabled=!1}execute(){const n=this.editor.model,r=this.editor.plugins.get("TableUtils"),a=r.getSelectionAffectedTableCells(n.document.selection),g=r.getRowIndexes(a),h=a[0],f=h.findAncestor("table"),b=r.getCellLocation(h).column;n.change(S=>{const N=g.last-g.first+1;r.removeRows(f,{at:g.first,rows:N});const W=function(J,ee,se,ue){const xe=J.getChild(Math.min(ee,ue-1));let Le=xe.getChild(0),Ye=0;for(const $e of xe.getChildren()){if(Ye>se)return Le;Le=$e,Ye+=parseInt($e.getAttribute("colspan")||"1")}return Le}(f,g.first,b,r.getRows(f));S.setSelection(S.createPositionAt(W,0))})}}class yre extends nn{refresh(){const n=this.editor.plugins.get("TableUtils"),r=n.getSelectionAffectedTableCells(this.editor.model.document.selection),a=r[0];if(a){const g=a.findAncestor("table"),h=n.getColumns(g),{first:f,last:b}=n.getColumnIndexes(r);this.isEnabled=b-f<h-1}else this.isEnabled=!1}execute(){const n=this.editor.plugins.get("TableUtils"),[r,a]=function(S,N){const W=N.getSelectionAffectedTableCells(S),J=W[0],ee=W.pop(),se=[J,ee];return J.isBefore(ee)?se:se.reverse()}(this.editor.model.document.selection,n),g=r.parent.parent,h=[...new Ki(g)],f={first:h.find(S=>S.cell===r).column,last:h.find(S=>S.cell===a).column},b=function(S,N,W,J){return parseInt(W.getAttribute("colspan")||"1")>1?W:N.previousSibling||W.nextSibling?W.nextSibling||N.previousSibling:J.first?S.reverse().find(({column:se})=>se<J.first).cell:S.reverse().find(({column:se})=>se>J.last).cell}(h,r,a,f);this.editor.model.change(S=>{const N=f.last-f.first+1;n.removeColumns(g,{at:f.first,columns:N}),S.setSelection(S.createPositionAt(b,0))})}}class vre extends nn{refresh(){const n=this.editor.plugins.get("TableUtils"),r=this.editor.model,a=n.getSelectionAffectedTableCells(r.document.selection),g=a.length>0;this.isEnabled=g,this.value=g&&a.every(h=>this._isInHeading(h,h.parent.parent))}execute(n={}){if(n.forceValue===this.value)return;const r=this.editor.plugins.get("TableUtils"),a=this.editor.model,g=r.getSelectionAffectedTableCells(a.document.selection),h=g[0].findAncestor("table"),{first:f,last:b}=r.getRowIndexes(g),S=this.value?f:b+1,N=h.getAttribute("headingRows")||0;a.change(W=>{if(S){const J=jD(h,S,S>N?N:0);for(const{cell:ee}of J)OD(ee,S,W)}Jr("headingRows",S,h,W,0)})}_isInHeading(n,r){const a=parseInt(r.getAttribute("headingRows")||"0");return!!a&&n.parent.index<a}}class wre extends nn{refresh(){const n=this.editor.model,r=this.editor.plugins.get("TableUtils"),a=r.getSelectionAffectedTableCells(n.document.selection),g=a.length>0;this.isEnabled=g,this.value=g&&a.every(h=>ox(r,h))}execute(n={}){if(n.forceValue===this.value)return;const r=this.editor.plugins.get("TableUtils"),a=this.editor.model,g=r.getSelectionAffectedTableCells(a.document.selection),h=g[0].findAncestor("table"),{first:f,last:b}=r.getColumnIndexes(g),S=this.value?f:b+1;a.change(N=>{if(S){const W=qD(h,S);for(const{cell:J,column:ee}of W)$D(J,ee,S,N)}Jr("headingColumns",S,h,N,0)})}}function kre(l){if(l.is("element","tableColumnGroup"))return l;const n=l.getChildren();return Array.from(n).find(r=>r.is("element","tableColumnGroup"))}function Bre(l){const n=kre(l);return n?Array.from(n.getChildren()):[]}class ls extends _t{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(n){const r=n.parent,a=r.parent,g=a.getChildIndex(r),h=new Ki(a,{row:g});for(const{cell:f,row:b,column:S}of h)if(f===n)return{row:b,column:S}}createTable(n,r){const a=n.createElement("table"),g=r.rows||2,h=r.columns||2;return cx(n,a,0,g,h),r.headingRows&&Jr("headingRows",Math.min(r.headingRows,g),a,n,0),r.headingColumns&&Jr("headingColumns",Math.min(r.headingColumns,h),a,n,0),a}insertRows(n,r={}){const a=this.editor.model,g=r.at||0,h=r.rows||1,f=r.copyStructureFromAbove!==void 0,b=r.copyStructureFromAbove?g-1:g,S=this.getRows(n),N=this.getColumns(n);if(g>S)throw new P("tableutils-insertrows-insert-out-of-range",this,{options:r});a.change(W=>{const J=n.getAttribute("headingRows")||0;if(J>g&&Jr("headingRows",J+h,n,W,0),!f&&(g===0||g===S))return void cx(W,n,g,h,N);const ee=f?Math.max(g,b):g,se=new Ki(n,{endRow:ee}),ue=new Array(N).fill(1);for(const{row:xe,column:Le,cellHeight:Ye,cellWidth:$e,cell:ht}of se){const Tt=xe+Ye-1,rn=xe<=b&&b<=Tt;xe<g&&g<=Tt?(W.setAttribute("rowspan",Ye+h,ht),ue[Le]=-$e):f&&rn&&(ue[Le]=$e)}for(let xe=0;xe<h;xe++){const Le=W.createElement("tableRow");W.insert(Le,n,g);for(let Ye=0;Ye<ue.length;Ye++){const $e=ue[Ye],ht=W.createPositionAt(Le,"end");$e>0&&Tu(W,ht,$e>1?{colspan:$e}:void 0),Ye+=Math.abs($e)-1}}})}insertColumns(n,r={}){const a=this.editor.model,g=r.at||0,h=r.columns||1;a.change(f=>{const b=n.getAttribute("headingColumns");g<b&&f.setAttribute("headingColumns",b+h,n);const S=this.getColumns(n);if(g===0||S===g){for(const W of n.getChildren())W.is("element","tableRow")&&Rm(h,f,f.createPositionAt(W,g?"end":0));return}const N=new Ki(n,{column:g,includeAllSlots:!0});for(const W of N){const{row:J,cell:ee,cellAnchorColumn:se,cellAnchorRow:ue,cellWidth:xe,cellHeight:Le}=W;if(se<g){f.setAttribute("colspan",xe+h,ee);const Ye=ue+Le-1;for(let $e=J;$e<=Ye;$e++)N.skipRow($e)}else Rm(h,f,W.getPositionBefore())}})}removeRows(n,r){const a=this.editor.model,g=r.rows||1,h=this.getRows(n),f=r.at,b=f+g-1;if(b>h-1)throw new P("tableutils-removerows-row-index-out-of-range",this,{table:n,options:r});a.change(S=>{const N={first:f,last:b},{cellsToMove:W,cellsToTrim:J}=function(ee,{first:se,last:ue}){const xe=new Map,Le=[];for(const{row:Ye,column:$e,cellHeight:ht,cell:Tt}of new Ki(ee,{endRow:ue})){const rn=Ye+ht-1;if(Ye>=se&&Ye<=ue&&rn>ue){const Vn=ht-(ue-Ye+1);xe.set($e,{cell:Tt,rowspan:Vn})}if(Ye<se&&rn>=se){let Vn;Vn=rn>=ue?ue-se+1:rn-se+1,Le.push({cell:Tt,rowspan:ht-Vn})}}return{cellsToMove:xe,cellsToTrim:Le}}(n,N);W.size&&function(ee,se,ue,xe){const Le=new Ki(ee,{includeAllSlots:!0,row:se}),Ye=[...Le],$e=ee.getChild(se);let ht;for(const{column:Tt,cell:rn,isAnchor:Vn}of Ye)if(ue.has(Tt)){const{cell:Mn,rowspan:ar}=ue.get(Tt),Vo=ht?xe.createPositionAfter(ht):xe.createPositionAt($e,0);xe.move(xe.createRangeOn(Mn),Vo),Jr("rowspan",ar,Mn,xe),ht=Mn}else Vn&&(ht=rn)}(n,b+1,W,S);for(let ee=b;ee>=f;ee--)S.remove(n.getChild(ee));for(const{rowspan:ee,cell:se}of J)Jr("rowspan",ee,se,S);(function(ee,{first:se,last:ue},xe){const Le=ee.getAttribute("headingRows")||0;se<Le&&Jr("headingRows",ue<Le?Le-(ue-se+1):se,ee,xe,0)})(n,N,S),sx(n,this)||ax(n,this)})}removeColumns(n,r){const a=this.editor.model,g=r.at,h=r.columns||1,f=r.at+h-1;a.change(b=>{(function(N,W,J){const ee=N.getAttribute("headingColumns")||0;if(ee&&W.first<ee){const se=Math.min(ee-1,W.last)-W.first+1;J.setAttribute("headingColumns",ee-se,N)}})(n,{first:g,last:f},b);const S=Bre(n);for(let N=f;N>=g;N--){for(const{cell:W,column:J,cellWidth:ee}of[...new Ki(n)])J<=N&&ee>1&&J+ee>N?Jr("colspan",ee-1,W,b):J===N&&b.remove(W);if(S[N]){const W=N===0?S[1]:S[N-1],J=parseFloat(S[N].getAttribute("columnWidth")),ee=parseFloat(W.getAttribute("columnWidth"));b.remove(S[N]),b.setAttribute("columnWidth",J+ee+"%",W)}}ax(n,this)||sx(n,this)})}splitCellVertically(n,r=2){const a=this.editor.model,g=n.parent.parent,h=parseInt(n.getAttribute("rowspan")||"1"),f=parseInt(n.getAttribute("colspan")||"1");a.change(b=>{if(f>1){const{newCellsSpan:S,updatedSpan:N}=r4(f,r);Jr("colspan",N,n,b);const W={};S>1&&(W.colspan=S),h>1&&(W.rowspan=h),Rm(f>r?r-1:f-1,b,b.createPositionAfter(n),W)}if(f<r){const S=r-f,N=[...new Ki(g)],{column:W}=N.find(({cell:ue})=>ue===n),J=N.filter(({cell:ue,cellWidth:xe,column:Le})=>ue!==n&&Le===W||Le<W&&Le+xe>W);for(const{cell:ue,cellWidth:xe}of J)b.setAttribute("colspan",xe+S,ue);const ee={};h>1&&(ee.rowspan=h),Rm(S,b,b.createPositionAfter(n),ee);const se=g.getAttribute("headingColumns")||0;se>W&&Jr("headingColumns",se+S,g,b)}})}splitCellHorizontally(n,r=2){const a=this.editor.model,g=n.parent,h=g.parent,f=h.getChildIndex(g),b=parseInt(n.getAttribute("rowspan")||"1"),S=parseInt(n.getAttribute("colspan")||"1");a.change(N=>{if(b>1){const W=[...new Ki(h,{startRow:f,endRow:f+b-1,includeAllSlots:!0})],{newCellsSpan:J,updatedSpan:ee}=r4(b,r);Jr("rowspan",ee,n,N);const{column:se}=W.find(({cell:xe})=>xe===n),ue={};J>1&&(ue.rowspan=J),S>1&&(ue.colspan=S);for(const xe of W){const{column:Le,row:Ye}=xe;Ye>=f+ee&&Le===se&&(Ye+f+ee)%J==0&&Rm(1,N,xe.getPositionBefore(),ue)}}if(b<r){const W=r-b,J=[...new Ki(h,{startRow:0,endRow:f})];for(const{cell:ue,cellHeight:xe,row:Le}of J)if(ue!==n&&Le+xe>f){const Ye=xe+W;N.setAttribute("rowspan",Ye,ue)}const ee={};S>1&&(ee.colspan=S),cx(N,h,f+1,W,1,ee);const se=h.getAttribute("headingRows")||0;se>f&&Jr("headingRows",se+W,h,N)}})}getColumns(n){return[...n.getChild(0).getChildren()].filter(r=>r.is("element","tableCell")).reduce((r,a)=>r+parseInt(a.getAttribute("colspan")||"1"),0)}getRows(n){return Array.from(n.getChildren()).reduce((r,a)=>a.is("element","tableRow")?r+1:r,0)}createTableWalker(n,r={}){return new Ki(n,r)}getSelectedTableCells(n){const r=[];for(const a of this.sortRanges(n.getRanges())){const g=a.getContainedElement();g&&g.is("element","tableCell")&&r.push(g)}return r}getTableCellsContainingSelection(n){const r=[];for(const a of n.getRanges()){const g=a.start.findAncestor("tableCell");g&&r.push(g)}return r}getSelectionAffectedTableCells(n){const r=this.getSelectedTableCells(n);return r.length?r:this.getTableCellsContainingSelection(n)}getRowIndexes(n){const r=n.map(a=>a.parent.index);return this._getFirstLastIndexesObject(r)}getColumnIndexes(n){const r=n[0].findAncestor("table"),a=[...new Ki(r)].filter(g=>n.includes(g.cell)).map(g=>g.column);return this._getFirstLastIndexesObject(a)}isSelectionRectangular(n){if(n.length<2||!this._areCellInTheSameTableSection(n))return!1;const r=new Set,a=new Set;let g=0;for(const f of n){const{row:b,column:S}=this.getCellLocation(f),N=parseInt(f.getAttribute("rowspan"))||1,W=parseInt(f.getAttribute("colspan"))||1;r.add(b),a.add(S),N>1&&r.add(b+N-1),W>1&&a.add(S+W-1),g+=N*W}return function(f,b){const S=Array.from(f.values()),N=Array.from(b.values()),W=Math.max(...S),J=Math.min(...S),ee=Math.max(...N),se=Math.min(...N);return(W-J+1)*(ee-se+1)}(r,a)==g}sortRanges(n){return Array.from(n).sort(xre)}_getFirstLastIndexesObject(n){const r=n.sort((a,g)=>a-g);return{first:r[0],last:r[r.length-1]}}_areCellInTheSameTableSection(n){const r=n[0].findAncestor("table"),a=this.getRowIndexes(n),g=parseInt(r.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(a,g))return!1;const h=this.getColumnIndexes(n),f=parseInt(r.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(h,f)}_areIndexesInSameSection({first:n,last:r},a){return n<a==r<a}}function cx(l,n,r,a,g,h={}){for(let f=0;f<a;f++){const b=l.createElement("tableRow");l.insert(b,n,r),Rm(g,l,l.createPositionAt(b,"end"),h)}}function Rm(l,n,r,a={}){for(let g=0;g<l;g++)Tu(n,r,a)}function r4(l,n){if(l<n)return{newCellsSpan:1,updatedSpan:1};const r=Math.floor(l/n);return{newCellsSpan:r,updatedSpan:l-r*n+r}}function xre(l,n){const r=l.start,a=n.start;return r.isBefore(a)?-1:1}class Sre extends nn{refresh(){const n=this.editor.plugins.get(ls),r=n.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=n.isSelectionRectangular(r)}execute(){const n=this.editor.model,r=this.editor.plugins.get(ls);n.change(a=>{const g=r.getSelectedTableCells(n.document.selection),h=g.shift(),{mergeWidth:f,mergeHeight:b}=function(S,N,W){let J=0,ee=0;for(const Ye of N){const{row:$e,column:ht}=W.getCellLocation(Ye);J=s4(Ye,ht,J,"colspan"),ee=s4(Ye,$e,ee,"rowspan")}const{row:se,column:ue}=W.getCellLocation(S),xe=J-ue,Le=ee-se;return{mergeWidth:xe,mergeHeight:Le}}(h,g,r);Jr("colspan",f,h,a),Jr("rowspan",b,h,a);for(const S of g)Zre(S,h,a);lx(h.findAncestor("table"),r),a.setSelection(h,"in")})}}function Zre(l,n,r){o4(l)||(o4(n)&&r.remove(r.createRangeIn(n)),r.move(r.createRangeIn(l),r.createPositionAt(n,"end"))),r.remove(l)}function o4(l){const n=l.getChild(0);return l.childCount==1&&n.is("element","paragraph")&&n.isEmpty}function s4(l,n,r,a){const g=parseInt(l.getAttribute(a)||"1");return Math.max(r,n+g)}class Gre extends nn{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.model,r=this.editor.plugins.get("TableUtils"),a=r.getSelectionAffectedTableCells(n.document.selection),g=r.getRowIndexes(a),h=a[0].findAncestor("table"),f=[];for(let b=g.first;b<=g.last;b++)for(const S of h.getChild(b).getChildren())f.push(n.createRangeOn(S));n.change(b=>{b.setSelection(f)})}}class Rre extends nn{constructor(n){super(n),this.affectsData=!1}refresh(){const n=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=n.length>0}execute(){const n=this.editor.plugins.get("TableUtils"),r=this.editor.model,a=n.getSelectionAffectedTableCells(r.document.selection),g=a[0],h=a.pop(),f=g.findAncestor("table"),b=n.getCellLocation(g),S=n.getCellLocation(h),N=Math.min(b.column,S.column),W=Math.max(b.column,S.column),J=[];for(const ee of new Ki(f,{startColumn:N,endColumn:W}))J.push(r.createRangeOn(ee.cell));r.change(ee=>{ee.setSelection(J)})}}function Nre(l){l.document.registerPostFixer(n=>function(r,a){const g=a.document.differ.getChanges();let h=!1;const f=new Set;for(const b of g){let S=null;b.type=="insert"&&b.name=="table"&&(S=b.position.nodeAfter),b.type!="insert"&&b.type!="remove"||b.name!="tableRow"&&b.name!="tableCell"||(S=b.position.findAncestor("table")),Ere(b)&&(S=b.range.start.findAncestor("table")),S&&!f.has(S)&&(h=_re(S,r)||h,h=Vre(S,r)||h,f.add(S))}return h}(n,l))}function _re(l,n){let r=!1;const a=function(g){const h=parseInt(g.getAttribute("headingRows")||"0"),f=Array.from(g.getChildren()).reduce((S,N)=>N.is("element","tableRow")?S+1:S,0),b=[];for(const{row:S,cell:N,cellHeight:W}of new Ki(g)){if(W<2)continue;const J=S<h?h:f;if(S+W>J){const ee=J-S;b.push({cell:N,rowspan:ee})}}return b}(l);if(a.length){r=!0;for(const g of a)Jr("rowspan",g.rowspan,g.cell,n,1)}return r}function Vre(l,n){let r=!1;const a=function(b){const S=new Array(b.childCount).fill(0);for(const{rowIndex:N}of new Ki(b,{includeAllSlots:!0}))S[N]++;return S}(l),g=[];for(const[b,S]of a.entries())!S&&l.getChild(b).is("element","tableRow")&&g.push(b);if(g.length){r=!0;for(const b of g.reverse())n.remove(l.getChild(b)),a.splice(b,1)}const h=a.filter((b,S)=>l.getChild(S).is("element","tableRow")),f=h[0];if(!h.every(b=>b===f)){const b=h.reduce((S,N)=>N>S?N:S,0);for(const[S,N]of h.entries()){const W=b-N;if(W){for(let J=0;J<W;J++)Tu(n,n.createPositionAt(l.getChild(S),"end"));r=!0}}}return r}function Ere(l){if(l.type!=="attribute")return!1;const n=l.attributeKey;return n==="headingRows"||n==="colspan"||n==="rowspan"}function Fre(l){l.document.registerPostFixer(n=>function(r,a){const g=a.document.differ.getChanges();let h=!1;for(const f of g)f.type=="insert"&&f.name=="table"&&(h=Wre(f.position.nodeAfter,r)||h),f.type=="insert"&&f.name=="tableRow"&&(h=a4(f.position.nodeAfter,r)||h),f.type=="insert"&&f.name=="tableCell"&&(h=gx(f.position.nodeAfter,r)||h),f.type!="remove"&&f.type!="insert"||!Hre(f)||(h=gx(f.position.parent,r)||h);return h}(n,l))}function Wre(l,n){let r=!1;for(const a of l.getChildren())a.is("element","tableRow")&&(r=a4(a,n)||r);return r}function a4(l,n){let r=!1;for(const a of l.getChildren())r=gx(a,n)||r;return r}function gx(l,n){if(l.childCount==0)return n.insertElement("paragraph",l),!0;const r=Array.from(l.getChildren()).filter(a=>a.is("$text"));for(const a of r)n.wrap(n.createRangeOn(a),"paragraph");return!!r.length}function Hre(l){return!!l.position.parent.is("element","tableCell")&&(l.type=="insert"&&l.name=="$text"||l.type=="remove")}function Dre(l,n){if(!l.is("element","paragraph"))return!1;const r=n.toViewElement(l);return!!r&&UD(l)!==r.is("element","span")}var l4=s(8137),Tre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(l4.A,Tre),l4.A.locals;class Lre extends _t{constructor(n){super(n),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[ls]}init(){const n=this.editor,r=n.model,a=r.schema,g=n.conversion,h=n.plugins.get(ls);a.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),a.register("tableRow",{allowIn:"table",isLimit:!0}),a.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),g.for("upcast").add(f=>{f.on("element:figure",(b,S,N)=>{if(!N.consumable.test(S.viewItem,{name:!0,classes:"table"}))return;const W=function(ee){for(const se of ee.getChildren())if(se.is("element","table"))return se}(S.viewItem);if(!W||!N.consumable.test(W,{name:!0}))return;N.consumable.consume(S.viewItem,{name:!0,classes:"table"});const J=Io(N.convertItem(W,S.modelCursor).modelRange.getItems());J?(N.convertChildren(S.viewItem,N.writer.createPositionAt(J,"end")),N.updateConversionResult(J,S)):N.consumable.revert(S.viewItem,{name:!0,classes:"table"})})}),g.for("upcast").add(pre()),g.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:MD(h,{asWidget:!0,additionalSlots:this._additionalSlots})}),g.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:MD(h,{additionalSlots:this._additionalSlots})}),g.for("upcast").elementToElement({model:"tableRow",view:"tr"}),g.for("upcast").add(f=>{f.on("element:tr",(b,S)=>{S.viewItem.isEmpty&&S.modelCursor.index==0&&b.stop()},{priority:"high"})}),g.for("downcast").elementToElement({model:"tableRow",view:(f,{writer:b})=>f.isEmpty?b.createEmptyElement("tr"):b.createContainerElement("tr")}),g.for("upcast").elementToElement({model:"tableCell",view:"td"}),g.for("upcast").elementToElement({model:"tableCell",view:"th"}),g.for("upcast").add(XD("td")),g.for("upcast").add(XD("th")),g.for("editingDowncast").elementToElement({model:"tableCell",view:YD({asWidget:!0})}),g.for("dataDowncast").elementToElement({model:"tableCell",view:YD()}),g.for("editingDowncast").elementToElement({model:"paragraph",view:JD({asWidget:!0}),converterPriority:"high"}),g.for("dataDowncast").elementToElement({model:"paragraph",view:JD(),converterPriority:"high"}),g.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),g.for("upcast").attributeToAttribute({model:{key:"colspan",value:c4("colspan")},view:"colspan"}),g.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),g.for("upcast").attributeToAttribute({model:{key:"rowspan",value:c4("rowspan")},view:"rowspan"}),n.config.define("table.defaultHeadings.rows",0),n.config.define("table.defaultHeadings.columns",0),n.commands.add("insertTable",new Ire(n)),n.commands.add("insertTableRowAbove",new PD(n,{order:"above"})),n.commands.add("insertTableRowBelow",new PD(n,{order:"below"})),n.commands.add("insertTableColumnLeft",new KD(n,{order:"left"})),n.commands.add("insertTableColumnRight",new KD(n,{order:"right"})),n.commands.add("removeTableRow",new bre(n)),n.commands.add("removeTableColumn",new yre(n)),n.commands.add("splitTableCellVertically",new zD(n,{direction:"vertically"})),n.commands.add("splitTableCellHorizontally",new zD(n,{direction:"horizontally"})),n.commands.add("mergeTableCells",new Sre(n)),n.commands.add("mergeTableCellRight",new dy(n,{direction:"right"})),n.commands.add("mergeTableCellLeft",new dy(n,{direction:"left"})),n.commands.add("mergeTableCellDown",new dy(n,{direction:"down"})),n.commands.add("mergeTableCellUp",new dy(n,{direction:"up"})),n.commands.add("setTableColumnHeader",new wre(n)),n.commands.add("setTableRowHeader",new vre(n)),n.commands.add("selectTableRow",new Gre(n)),n.commands.add("selectTableColumn",new Rre(n)),Nre(r),Fre(r),this.listenTo(r.document,"change:data",()=>{(function(f,b){const S=f.document.differ;for(const N of S.getChanges()){let W,J=!1;if(N.type=="attribute"){const xe=N.range.start.nodeAfter;if(!xe||!xe.is("element","table")||N.attributeKey!="headingRows"&&N.attributeKey!="headingColumns")continue;W=xe,J=N.attributeKey=="headingRows"}else N.name!="tableRow"&&N.name!="tableCell"||(W=N.position.findAncestor("table"),J=N.name=="tableRow");if(!W)continue;const ee=W.getAttribute("headingRows")||0,se=W.getAttribute("headingColumns")||0,ue=new Ki(W);for(const xe of ue){const Le=xe.row<ee||xe.column<se?"th":"td",Ye=b.mapper.toViewElement(xe.cell);Ye&&Ye.is("element")&&Ye.name!=Le&&b.reconvertItem(J?xe.cell.parent:xe.cell)}}})(r,n.editing),function(f,b){const S=f.document.differ,N=new Set;for(const W of S.getChanges()){const J=W.type=="attribute"?W.range.start.parent:W.position.parent;J.is("element","tableCell")&&N.add(J)}for(const W of N.values()){const J=Array.from(W.getChildren()).filter(ee=>Dre(ee,b.mapper));for(const ee of J)b.reconvertItem(ee)}}(r,n.editing)})}registerAdditionalSlot(n){this._additionalSlots.push(n)}}function c4(l){return n=>{const r=parseInt(n.getAttribute(l));return Number.isNaN(r)||r<=0?null:r}}var g4=s(5032),Xre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(g4.A,Xre),g4.A.locals;class d4 extends Nt{constructor(n){super(n);const r=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new is,this.focusTracker=new bo,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(a,g)=>`${g}  ${a}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":r.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:r.to("label")}]}],on:{mousedown:r.to(a=>{a.preventDefault()}),click:r.to(()=>{this.fire("execute")})}}),this.on("boxover",(a,g)=>{const{row:h,column:f}=g.target.dataset;this.items.get(10*(parseInt(h,10)-1)+(parseInt(f,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(a,g,h)=>{if(!h)return;const{row:f,column:b}=h.dataset;this.set({rows:parseInt(f),columns:parseInt(b)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),oi({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const n of this.items)this.focusTracker.add(n.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const n=this.rows,r=this.columns;this.items.map((a,g)=>{const h=Math.floor(g/10)<n&&g%10<r;a.set("isOn",h)})}_createGridButton(n,r,a,g){const h=new Bi(n);return h.set({label:g,class:"ck-insert-table-dropdown-grid-box"}),h.extendTemplate({attributes:{"data-row":r,"data-column":a}}),h}_createGridCollection(){const n=[];for(let r=0;r<100;r++){const a=Math.floor(r/10),g=r%10,h=`${a+1}  ${g+1}`;n.push(this._createGridButton(this.locale,a+1,g+1,h))}return this.createCollection(n)}}class Mre extends _t{static get pluginName(){return"TableUI"}init(){const n=this.editor,r=this.editor.t,a=n.locale.contentLanguageDirection==="ltr";n.ui.componentFactory.add("insertTable",g=>{const h=n.commands.get("insertTable"),f=Qg(g);let b;return f.bind("isEnabled").to(h),f.buttonView.set({icon:Hn.table,label:r("Insert table"),tooltip:!0}),f.on("change:isOpen",()=>{b||(b=new d4(g),f.panelView.children.add(b),b.delegate("execute").to(f),f.on("execute",()=>{n.execute("insertTable",{rows:b.rows,columns:b.columns}),n.editing.view.focus()}))}),f}),n.ui.componentFactory.add("menuBar:insertTable",g=>{const h=n.commands.get("insertTable"),f=new vm(g),b=new d4(g);return b.delegate("execute").to(f),f.on("change:isOpen",(S,N,W)=>{W||b.reset()}),b.on("execute",()=>{n.execute("insertTable",{rows:b.rows,columns:b.columns}),n.editing.view.focus()}),f.buttonView.set({label:r("Table"),icon:Hn.table}),f.panelView.children.add(b),f.bind("isEnabled").to(h),f}),n.ui.componentFactory.add("tableColumn",g=>{const h=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:r("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:a?"insertTableColumnLeft":"insertTableColumnRight",label:r("Insert column left")}},{type:"button",model:{commandName:a?"insertTableColumnRight":"insertTableColumnLeft",label:r("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:r("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:r("Select column")}}];return this._prepareDropdown(r("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',h,g)}),n.ui.componentFactory.add("tableRow",g=>{const h=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:r("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:r("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:r("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:r("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:r("Select row")}}];return this._prepareDropdown(r("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',h,g)}),n.ui.componentFactory.add("mergeTableCells",g=>{const h=[{type:"button",model:{commandName:"mergeTableCellUp",label:r("Merge cell up")}},{type:"button",model:{commandName:a?"mergeTableCellRight":"mergeTableCellLeft",label:r("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:r("Merge cell down")}},{type:"button",model:{commandName:a?"mergeTableCellLeft":"mergeTableCellRight",label:r("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:r("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:r("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(r("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',h,g)})}_prepareDropdown(n,r,a,g){const h=this.editor,f=Qg(g),b=this._fillDropdownWithListOptions(f,a);return f.buttonView.set({label:n,icon:r,tooltip:!0}),f.bind("isEnabled").toMany(b,"isEnabled",(...S)=>S.some(N=>N)),this.listenTo(f,"execute",S=>{h.execute(S.source.commandName),S.source instanceof G0||h.editing.view.focus()}),f}_prepareMergeSplitButtonDropdown(n,r,a,g){const h=this.editor,f=Qg(g,V0),b="mergeTableCells",S=h.commands.get(b),N=this._fillDropdownWithListOptions(f,a);return f.buttonView.set({label:n,icon:r,tooltip:!0,isEnabled:!0}),f.bind("isEnabled").toMany([S,...N],"isEnabled",(...W)=>W.some(J=>J)),this.listenTo(f.buttonView,"execute",()=>{h.execute(b),h.editing.view.focus()}),this.listenTo(f,"execute",W=>{h.execute(W.source.commandName),h.editing.view.focus()}),f}_fillDropdownWithListOptions(n,r){const a=this.editor,g=[],h=new ia;for(const f of r)Yre(f,a,g,h);return YE(n,h),g}}function Yre(l,n,r,a){if(l.type==="button"||l.type==="switchbutton"){const g=l.model=new bF(l.model),{commandName:h,bindIsOn:f}=l.model,b=n.commands.get(h);r.push(b),g.set({commandName:h}),g.bind("isEnabled").to(b),f&&g.bind("isOn").to(b,"value"),g.set({withText:!0})}a.add(l)}var A4=s(8423),Jre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(A4.A,Jre),A4.A.locals;class Lu extends _t{static get pluginName(){return"TableSelection"}static get requires(){return[ls,ls]}init(){const n=this.editor,r=n.model,a=n.editing.view;this.listenTo(r,"deleteContent",(g,h)=>this._handleDeleteContent(g,h),{priority:"high"}),this.listenTo(a.document,"insertText",(g,h)=>this._handleInsertTextEvent(g,h),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const n=this.editor.plugins.get(ls),r=this.editor.model.document.selection,a=n.getSelectedTableCells(r);return a.length==0?null:a}getSelectionAsFragment(){const n=this.editor.plugins.get(ls),r=this.getSelectedTableCells();return r?this.editor.model.change(a=>{const g=a.createDocumentFragment(),{first:h,last:f}=n.getColumnIndexes(r),{first:b,last:S}=n.getRowIndexes(r),N=r[0].findAncestor("table");let W=S,J=f;if(n.isSelectionRectangular(r)){const se={firstColumn:h,lastColumn:f,firstRow:b,lastRow:S};W=t4(N,se),J=n4(N,se)}const ee=QD(N,{startRow:b,startColumn:h,endRow:W,endColumn:J},a);return a.insert(ee,g,0),g}):null}setCellSelection(n,r){const a=this._getCellsToSelect(n,r);this.editor.model.change(g=>{g.setSelection(a.cells.map(h=>g.createRangeOn(h)),{backward:a.backward})})}getFocusCell(){const n=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return n&&n.is("element","tableCell")?n:null}getAnchorCell(){const n=Io(this.editor.model.document.selection.getRanges()).getContainedElement();return n&&n.is("element","tableCell")?n:null}_defineSelectionConverter(){const n=this.editor,r=new Set;n.conversion.for("editingDowncast").add(a=>a.on("selection",(g,h,f)=>{const b=f.writer;(function(W){for(const J of r)W.removeClass("ck-editor__editable_selected",J);r.clear()})(b);const S=this.getSelectedTableCells();if(!S)return;for(const W of S){const J=f.mapper.toViewElement(W);b.addClass("ck-editor__editable_selected",J),r.add(J)}const N=f.mapper.toViewElement(S[S.length-1]);b.setSelection(N,0)},{priority:"lowest"}))}_enablePluginDisabling(){const n=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const r=this.getSelectedTableCells();if(!r)return;n.model.change(a=>{const g=a.createPositionAt(r[0],0),h=n.model.schema.getNearestSelectionRange(g);a.setSelection(h)})}})}_handleDeleteContent(n,r){const a=this.editor.plugins.get(ls),g=r[0],h=r[1],f=this.editor.model,b=!h||h.direction=="backward",S=a.getSelectedTableCells(g);S.length&&(n.stop(),f.change(N=>{const W=S[b?S.length-1:0];f.change(ee=>{for(const se of S)f.deleteContent(ee.createSelection(se,"in"))});const J=f.schema.getNearestSelectionRange(N.createPositionAt(W,0));g.is("documentSelection")?N.setSelection(J):g.setTo(J)}))}_handleInsertTextEvent(n,r){const a=this.editor,g=this.getSelectedTableCells();if(!g)return;const h=a.editing.view,f=a.editing.mapper,b=g.map(S=>h.createRangeOn(f.toViewElement(S)));r.selection=h.createSelection(b)}_getCellsToSelect(n,r){const a=this.editor.plugins.get("TableUtils"),g=a.getCellLocation(n),h=a.getCellLocation(r),f=Math.min(g.row,h.row),b=Math.max(g.row,h.row),S=Math.min(g.column,h.column),N=Math.max(g.column,h.column),W=new Array(b-f+1).fill(null).map(()=>[]),J={startRow:f,endRow:b,startColumn:S,endColumn:N};for(const{row:ue,cell:xe}of new Ki(n.findAncestor("table"),J))W[ue-f].push(xe);const ee=h.row<g.row,se=h.column<g.column;return ee&&W.reverse(),se&&W.forEach(ue=>ue.reverse()),{cells:W.flat(),backward:ee||se}}}class Ure extends _t{static get pluginName(){return"TableClipboard"}static get requires(){return[nf,yl,Lu,ls]}init(){const n=this.editor,r=n.editing.view.document;this.listenTo(r,"copy",(a,g)=>this._onCopyCut(a,g)),this.listenTo(r,"cut",(a,g)=>this._onCopyCut(a,g)),this.listenTo(n.model,"insertContent",(a,[g,h])=>this._onInsertContent(a,g,h),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(n,r){const a=this.editor.editing.view,g=this.editor.plugins.get(Lu),h=this.editor.plugins.get(nf);g.getSelectedTableCells()&&(n.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(r.preventDefault(),n.stop(),this.editor.model.enqueueChange({isUndoable:n.name==="cut"},()=>{const f=h._copySelectedFragmentWithMarkers(n.name,this.editor.model.document.selection,()=>g.getSelectionAsFragment());a.document.fire("clipboardOutput",{dataTransfer:r.dataTransfer,content:this.editor.data.toView(f),method:n.name})}))}_onInsertContent(n,r,a){if(a&&!a.is("documentSelection"))return;const g=this.editor.model,h=this.editor.plugins.get(ls),f=this.editor.plugins.get(nf),b=this.getTableIfOnlyTableInContent(r,g);if(!b)return;const S=h.getSelectionAffectedTableCells(g.document.selection);S.length?(n.stop(),r.is("documentFragment")?f._pasteMarkersIntoTransformedElement(r.markers,N=>this._replaceSelectedCells(b,S,N)):this.editor.model.change(N=>{this._replaceSelectedCells(b,S,N)})):lx(b,h)}_replaceSelectedCells(n,r,a){const g=this.editor.plugins.get(ls),h={width:g.getColumns(n),height:g.getRows(n)},f=function(J,ee,se,ue){const xe=J[0].findAncestor("table"),Le=ue.getColumnIndexes(J),Ye=ue.getRowIndexes(J),$e={firstColumn:Le.first,lastColumn:Le.last,firstRow:Ye.first,lastRow:Ye.last},ht=J.length===1;return ht&&($e.lastRow+=ee.height-1,$e.lastColumn+=ee.width-1,function(Tt,rn,Vn,Mn){const ar=Mn.getColumns(Tt),Vo=Mn.getRows(Tt);Vn>ar&&Mn.insertColumns(Tt,{at:ar,columns:Vn-ar}),rn>Vo&&Mn.insertRows(Tt,{at:Vo,rows:rn-Vo})}(xe,$e.lastRow+1,$e.lastColumn+1,ue)),ht||!ue.isSelectionRectangular(J)?function(Tt,rn,Vn){const{firstRow:Mn,lastRow:ar,firstColumn:Vo,lastColumn:R4}=rn,N4={first:Mn,last:ar},_4={first:Vo,last:R4};Ax(Tt,Vo,N4,Vn),Ax(Tt,R4+1,N4,Vn),dx(Tt,Mn,_4,Vn),dx(Tt,ar+1,_4,Vn,Mn)}(xe,$e,se):($e.lastRow=t4(xe,$e),$e.lastColumn=n4(xe,$e)),$e}(r,h,a,g),b=f.lastRow-f.firstRow+1,S=f.lastColumn-f.firstColumn+1;n=QD(n,{startRow:0,startColumn:0,endRow:Math.min(b,h.height)-1,endColumn:Math.min(S,h.width)-1},a);const N=r[0].findAncestor("table"),W=this._replaceSelectedCellsWithPasted(n,h,N,f,a);if(this.editor.plugins.get("TableSelection").isEnabled){const J=g.sortRanges(W.map(ee=>a.createRangeOn(ee)));a.setSelection(J)}else a.setSelection(W[0],0);return N}_replaceSelectedCellsWithPasted(n,r,a,g,h){const{width:f,height:b}=r,S=function(Le,Ye,$e){const ht=new Array($e).fill(null).map(()=>new Array(Ye).fill(null));for(const{column:Tt,row:rn,cell:Vn}of new Ki(Le))ht[rn][Tt]=Vn;return ht}(n,f,b),N=[...new Ki(a,{startRow:g.firstRow,endRow:g.lastRow,startColumn:g.firstColumn,endColumn:g.lastColumn,includeAllSlots:!0})],W=[];let J;for(const Le of N){const{row:Ye,column:$e}=Le;$e===g.firstColumn&&(J=Le.getPositionBefore());const ht=Ye-g.firstRow,Tt=$e-g.firstColumn,rn=S[ht%b][Tt%f],Vn=rn?h.cloneElement(rn):null,Mn=this._replaceTableSlotCell(Le,Vn,J,h);Mn&&(e4(Mn,Ye,$e,g.lastRow,g.lastColumn,h),W.push(Mn),J=h.createPositionAfter(Mn))}const ee=parseInt(a.getAttribute("headingRows")||"0"),se=parseInt(a.getAttribute("headingColumns")||"0"),ue=g.firstRow<ee&&ee<=g.lastRow,xe=g.firstColumn<se&&se<=g.lastColumn;if(ue){const Le=dx(a,ee,{first:g.firstColumn,last:g.lastColumn},h,g.firstRow);W.push(...Le)}if(xe){const Le=Ax(a,se,{first:g.firstRow,last:g.lastRow},h);W.push(...Le)}return W}_replaceTableSlotCell(n,r,a,g){const{cell:h,isAnchor:f}=n;return f&&g.remove(h),r?(g.insert(r,a),r):null}getTableIfOnlyTableInContent(n,r){if(!n.is("documentFragment")&&!n.is("element"))return null;if(n.is("element","table"))return n;if(n.childCount==1&&n.getChild(0).is("element","table"))return n.getChild(0);const a=r.createRangeIn(n);for(const g of a.getItems())if(g.is("element","table")){const h=r.createRange(a.start,r.createPositionBefore(g));if(r.hasContent(h,{ignoreWhitespaces:!0}))return null;const f=r.createRange(r.createPositionAfter(g),a.end);return r.hasContent(f,{ignoreWhitespaces:!0})?null:g}return null}}function dx(l,n,r,a,g=0){if(!(n<1))return jD(l,n,g).filter(({column:h,cellWidth:f})=>u4(h,f,r)).map(({cell:h})=>OD(h,n,a))}function Ax(l,n,r,a){if(!(n<1))return qD(l,n).filter(({row:g,cellHeight:h})=>u4(g,h,r)).map(({cell:g,column:h})=>$D(g,h,n,a))}function u4(l,n,r){const a=l+n-1,{first:g,last:h}=r;return l>=g&&l<=h||l<g&&a>=g}class Pre extends _t{static get pluginName(){return"TableKeyboard"}static get requires(){return[Lu,ls]}init(){const n=this.editor,r=n.editing.view.document,a=n.t;this.listenTo(r,"arrowKey",(...g)=>this._onArrowKey(...g),{context:"table"}),this.listenTo(r,"tab",(...g)=>this._handleTabOnSelectedTable(...g),{context:"figure"}),this.listenTo(r,"tab",(...g)=>this._handleTab(...g),{context:["th","td"]}),n.accessibility.addKeystrokeInfoGroup({id:"table",label:a("Keystrokes that can be used in a table cell"),keystrokes:[{label:a("Move the selection to the next cell"),keystroke:"Tab"},{label:a("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:a("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:a("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(n,r){const a=this.editor,g=a.model.document.selection.getSelectedElement();g&&g.is("element","table")&&(r.preventDefault(),r.stopPropagation(),n.stop(),a.model.change(h=>{h.setSelection(h.createRangeIn(g.getChild(0).getChild(0)))}))}_handleTab(n,r){const a=this.editor,g=this.editor.plugins.get(ls),h=this.editor.plugins.get("TableSelection"),f=a.model.document.selection,b=!r.shiftKey;let S=g.getTableCellsContainingSelection(f)[0];if(S||(S=h.getFocusCell()),!S)return;r.preventDefault(),r.stopPropagation(),n.stop();const N=S.parent,W=N.parent,J=W.getChildIndex(N),ee=N.getChildIndex(S),se=ee===0;if(!b&&se&&J===0)return void a.model.change(Ye=>{Ye.setSelection(Ye.createRangeOn(W))});const ue=ee===N.childCount-1,xe=J===g.getRows(W)-1;if(b&&xe&&ue&&(a.execute("insertTableRowBelow"),J===g.getRows(W)-1))return void a.model.change(Ye=>{Ye.setSelection(Ye.createRangeOn(W))});let Le;if(b&&ue)Le=W.getChild(J+1).getChild(0);else if(!b&&se){const Ye=W.getChild(J-1);Le=Ye.getChild(Ye.childCount-1)}else Le=N.getChild(ee+(b?1:-1));a.model.change(Ye=>{Ye.setSelection(Ye.createRangeIn(Le))})}_onArrowKey(n,r){const a=this.editor,g=RC(r.keyCode,a.locale.contentLanguageDirection);this._handleArrowKeys(g,r.shiftKey)&&(r.preventDefault(),r.stopPropagation(),n.stop())}_handleArrowKeys(n,r){const a=this.editor.plugins.get(ls),g=this.editor.plugins.get("TableSelection"),h=this.editor.model,f=h.document.selection,b=["right","down"].includes(n),S=a.getSelectedTableCells(f);if(S.length){let W;return W=r?g.getFocusCell():b?S[S.length-1]:S[0],this._navigateFromCellInDirection(W,n,r),!0}const N=f.focus.findAncestor("tableCell");if(!N)return!1;if(!f.isCollapsed)if(r){if(f.isBackward==b&&!f.containsEntireContent(N))return!1}else{const W=f.getSelectedElement();if(!W||!h.schema.isObject(W))return!1}return!!this._isSelectionAtCellEdge(f,N,b)&&(this._navigateFromCellInDirection(N,n,r),!0)}_isSelectionAtCellEdge(n,r,a){const g=this.editor.model,h=this.editor.model.schema,f=a?n.getLastPosition():n.getFirstPosition();if(!h.getLimitElement(f).is("element","tableCell"))return g.createPositionAt(r,a?"end":0).isTouching(f);const b=g.createSelection(f);return g.modifySelection(b,{direction:a?"forward":"backward"}),f.isEqual(b.focus)}_navigateFromCellInDirection(n,r,a=!1){const g=this.editor.model,h=n.findAncestor("table"),f=[...new Ki(h,{includeAllSlots:!0})],{row:b,column:S}=f[f.length-1],N=f.find(({cell:xe})=>xe==n);let{row:W,column:J}=N;switch(r){case"left":J--;break;case"up":W--;break;case"right":J+=N.cellWidth;break;case"down":W+=N.cellHeight}if(W<0||W>b||J<0&&W<=0||J>S&&W>=b)return void g.change(xe=>{xe.setSelection(xe.createRangeOn(h))});J<0?(J=a?0:S,W--):J>S&&(J=a?S:0,W++);const ee=f.find(xe=>xe.row==W&&xe.column==J).cell,se=["right","down"].includes(r),ue=this.editor.plugins.get("TableSelection");if(a&&ue.isEnabled){const xe=ue.getAnchorCell()||n;ue.setCellSelection(xe,ee)}else{const xe=g.createPositionAt(ee,se?0:"end");g.change(Le=>{Le.setSelection(xe)})}}}class Kre extends $d{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(n){this.fire(n.type,n)}}class zre extends _t{static get pluginName(){return"TableMouse"}static get requires(){return[Lu,ls]}init(){this.editor.editing.view.addObserver(Kre),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const n=this.editor,r=n.plugins.get(ls);let a=!1;const g=n.plugins.get(Lu);this.listenTo(n.editing.view.document,"mousedown",(h,f)=>{const b=n.model.document.selection;if(!this.isEnabled||!g.isEnabled||!f.domEvent.shiftKey)return;const S=g.getAnchorCell()||r.getTableCellsContainingSelection(b)[0];if(!S)return;const N=this._getModelTableCellFromDomEvent(f);N&&h4(S,N)&&(a=!0,g.setCellSelection(S,N),f.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{a=!1}),this.listenTo(n.editing.view.document,"selectionChange",h=>{a&&h.stop()},{priority:"highest"})}_enableMouseDragSelection(){const n=this.editor;let r,a,g=!1,h=!1;const f=n.plugins.get(Lu);this.listenTo(n.editing.view.document,"mousedown",(b,S)=>{this.isEnabled&&f.isEnabled&&(S.domEvent.shiftKey||S.domEvent.ctrlKey||S.domEvent.altKey||(r=this._getModelTableCellFromDomEvent(S)))}),this.listenTo(n.editing.view.document,"mousemove",(b,S)=>{if(!S.domEvent.buttons||!r)return;const N=this._getModelTableCellFromDomEvent(S);N&&h4(r,N)&&(a=N,g||a==r||(g=!0)),g&&(h=!0,f.setCellSelection(r,a),S.preventDefault())}),this.listenTo(n.editing.view.document,"mouseup",()=>{g=!1,h=!1,r=null,a=null}),this.listenTo(n.editing.view.document,"selectionChange",b=>{h&&b.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(n){const r=n.target,a=this.editor.editing.view.createPositionAt(r,0);return this.editor.editing.mapper.toModelPosition(a).parent.findAncestor("tableCell",{includeSelf:!0})}}function h4(l,n){return l.parent.parent==n.parent.parent}var m4=s(2329),Qre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(m4.A,Qre),m4.A.locals;function jre(l){const n=l.getSelectedElement();return n&&p4(n)?n:null}function Ore(l){const n=l.getFirstPosition();if(!n)return null;let r=n.parent;for(;r;){if(r.is("element")&&p4(r))return r;r=r.parent}return null}function p4(l){return!!l.getCustomProperty("table")&&ro(l)}var C4=s(5506),qre={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(C4.A,qre),C4.A.locals;var f4=s(2655),$re={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(f4.A,$re),f4.A.locals;var I4=s(4043),eoe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(I4.A,eoe),I4.A.locals;var b4=s(1623),toe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(b4.A,toe),b4.A.locals;var y4=s(8986),noe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(y4.A,noe),y4.A.locals;const Xu=ca.defaultPositions;Xu.northArrowSouth,Xu.northArrowSouthWest,Xu.northArrowSouthEast,Xu.southArrowNorth,Xu.southArrowNorthWest,Xu.southArrowNorthEast,Xu.viewportStickyNorth;var v4=s(5562),ioe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(v4.A,ioe),v4.A.locals;var w4=s(4143),roe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(w4.A,roe),w4.A.locals;var k4=s(8795),ooe={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};ft()(k4.A,ooe),k4.A.locals;var soe=Object.defineProperty,B4=Object.getOwnPropertySymbols,aoe=Object.prototype.hasOwnProperty,loe=Object.prototype.propertyIsEnumerable,x4=(l,n,r)=>n in l?soe(l,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[n]=r,S4=(l,n)=>{for(var r in n||(n={}))aoe.call(n,r)&&x4(l,r,n[r]);if(B4)for(var r of B4(n))loe.call(n,r)&&x4(l,r,n[r]);return l};const coe={autoRefresh:!0},Z4=36e5;class ux extends at(){constructor(n,r={}){if(super(),!n)throw new P("token-missing-token-url",this);r.initValue&&this._validateTokenValue(r.initValue),this.set("value",r.initValue),this._refresh=typeof n=="function"?n:()=>{return a=n,new Promise((g,h)=>{const f=new XMLHttpRequest;f.open("GET",a),f.addEventListener("load",()=>{const b=f.status,S=f.response;return b<200||b>299?h(new P("token-cannot-download-new-token",null)):g(S)}),f.addEventListener("error",()=>h(new Error("Network Error"))),f.addEventListener("abort",()=>h(new Error("Abort"))),f.send()});var a},this._options=S4(S4({},coe),r)}init(){return new Promise((n,r)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),n(this)):this.refreshToken().then(n).catch(r)})}refreshToken(){return this._refresh().then(n=>(this._validateTokenValue(n),this.set("value",n),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(n){const r=typeof n=="string",a=!/^".*"$/.test(n),g=r&&n.split(".").length===3;if(!a||!g)throw new P("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const n=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},n)}_getTokenRefreshTimeoutTime(){try{const[,n]=this.value.split("."),{exp:r}=JSON.parse(atob(n));return r?Math.floor((1e3*r-Date.now())/2):Z4}catch{return Z4}}static create(n,r={}){return new ux(n,r).init()}}const hx=/^data:(\S*?);base64,/;class goe extends fe(){constructor(n,r,a){if(super(),!n)throw new P("fileuploader-missing-file",null);if(!r)throw new P("fileuploader-missing-token",null);if(!a)throw new P("fileuploader-missing-api-address",null);this.file=function(g){if(typeof g!="string")return!1;const h=g.match(hx);return!(!h||!h.length)}(n)?function(g,h=512){try{const f=g.match(hx)[1],b=atob(g.replace(hx,"")),S=[];for(let N=0;N<b.length;N+=h){const W=b.slice(N,N+h),J=new Array(W.length);for(let ee=0;ee<W.length;ee++)J[ee]=W.charCodeAt(ee);S.push(new Uint8Array(J))}return new Blob(S,{type:f})}catch{throw new P("fileuploader-decoding-image-data-error",null)}}(n):n,this._token=r,this._apiAddress=a}onProgress(n){return this.on("progress",(r,a)=>n(a)),this}onError(n){return this.once("error",(r,a)=>n(a)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const n=new XMLHttpRequest;n.open("POST",this._apiAddress),n.setRequestHeader("Authorization",this._token.value),n.responseType="json",this.xhr=n}_attachXHRListeners(){const n=this.xhr,r=a=>()=>this.fire("error",a);n.addEventListener("error",r("Network Error")),n.addEventListener("abort",r("Abort")),n.upload&&n.upload.addEventListener("progress",a=>{a.lengthComputable&&this.fire("progress",{total:a.total,uploaded:a.loaded})}),n.addEventListener("load",()=>{const a=n.status,g=n.response;if(a<200||a>299)return this.fire("error",g.message||g.error)})}_sendRequest(){const n=new FormData,r=this.xhr;return n.append("file",this.file),new Promise((a,g)=>{r.addEventListener("load",()=>{const h=r.status,f=r.response;return h<200||h>299?f.message?g(new P("fileuploader-uploading-data-failed",this,{message:f.message})):g(f.error):a(f)}),r.addEventListener("error",()=>g(new Error("Network Error"))),r.addEventListener("abort",()=>g(new Error("Abort"))),r.send(n)})}}class doe{constructor(n,r){if(!n)throw new P("uploadgateway-missing-token",null);if(!r)throw new P("uploadgateway-missing-api-address",null);this._token=n,this._apiAddress=r}upload(n){return new goe(n,this._token,this._apiAddress)}}class Aoe extends Wr{static get pluginName(){return"CloudServicesCore"}createToken(n,r){return new ux(n,r)}createUploadGateway(n,r){return new doe(n,r)}}var G4=(l,n,r)=>new Promise((a,g)=>{var h=S=>{try{b(r.next(S))}catch(N){g(N)}},f=S=>{try{b(r.throw(S))}catch(N){g(N)}},b=S=>S.done?a(S.value):Promise.resolve(S.value).then(h,f);b((r=r.apply(l,n)).next())});class mx extends M0{}mx.builtinPlugins=[class extends _t{static get requires(){return[A6,OW,P0,_ee,nee,z$,n3]}static get pluginName(){return"Essentials"}},class extends _t{static get requires(){return[ac]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const l=this.editor.config.get("ckfinder.uploadUrl");l&&(this.editor.plugins.get(ac).createUploadAdapter=n=>new Jee(n,l,this.editor.t))}},class extends _t{static get requires(){return[Og]}static get pluginName(){return"Autoformat"}afterInit(){const l=this.editor,n=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),l.accessibility.addKeystrokeInfos({keystrokes:[{label:n("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const l=this.editor.commands;l.get("bulletedList")&&iA(this.editor,this,/^[*-]\s$/,"bulletedList"),l.get("numberedList")&&iA(this.editor,this,/^1[.|)]\s$/,"numberedList"),l.get("todoList")&&iA(this.editor,this,/^\[\s?\]\s$/,"todoList"),l.get("checkTodoList")&&iA(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const l=this.editor.commands;if(l.get("bold")){const n=O0(this.editor,"bold");Bm(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,n),Bm(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,n)}if(l.get("italic")){const n=O0(this.editor,"italic");Bm(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,n),Bm(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,n)}if(l.get("code")){const n=O0(this.editor,"code");Bm(this.editor,this,/(`)([^`]+)(`)$/g,n)}if(l.get("strikethrough")){const n=O0(this.editor,"strikethrough");Bm(this.editor,this,/(~~)([^~]+)(~~)$/g,n)}}_addHeadingAutoformats(){const l=this.editor.commands.get("heading");l&&l.modelElements.filter(n=>n.match(/^heading[1-6]$/)).forEach(n=>{const r=n[7],a=new RegExp(`^(#{${r}})\\s$`);iA(this.editor,this,a,()=>{if(!l.isEnabled||l.value===n)return!1;this.editor.execute("heading",{value:n})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&iA(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const l=this.editor,n=l.model.document.selection;l.commands.get("codeBlock")&&iA(l,this,/^```$/,()=>{if(n.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&iA(this.editor,this,/^---$/,"horizontalLine")}},class extends _t{static get requires(){return[Uee,Pee]}static get pluginName(){return"Bold"}},class extends _t{static get requires(){return[zee,Qee]}static get pluginName(){return"Italic"}},class extends _t{static get requires(){return[Oee,$ee]}static get pluginName(){return"BlockQuote"}},class extends _t{static get pluginName(){return"CKBox"}static get requires(){return[v3,ete]}},class extends _t{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",Bte,wte]}},class extends Wr{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[Aoe]}init(){return G4(this,null,function*(){const l=this.context.config.get("cloudServices")||{};for(const[r,a]of Object.entries(l))this[r]=a;if(!this.tokenUrl)return void(this.token=null);const n=this.context.plugins.get("CloudServicesCore");this.token=yield n.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(l){return G4(this,null,function*(){if(this._tokens.has(l))return this.getTokenFor(l);const n=this.context.plugins.get("CloudServicesCore"),r=yield n.createToken(l).init();return this._tokens.set(l,r),r})}getTokenFor(l){const n=this._tokens.get(l);if(!n)throw new P("cloudservices-token-not-registered",this);return n}destroy(){super.destroy();for(const l of this._tokens.values())l.destroy()}},class extends _t{static get pluginName(){return"EasyImage"}static get requires(){return[xte,"ImageUpload"]}init(){const l=this.editor;l.plugins.has("ImageBlockEditing")||l.plugins.has("ImageInlineEditing")||O("easy-image-image-feature-missing",l)}},class extends _t{static get requires(){return[Nte,Vte]}static get pluginName(){return"Heading"}},class extends _t{static get requires(){return[ene,nne]}static get pluginName(){return"Image"}},class extends _t{static get requires(){return[rne,one]}static get pluginName(){return"ImageCaption"}},class extends _t{static get requires(){return[ZH,Gne]}static get pluginName(){return"ImageStyle"}},class extends _t{static get requires(){return[z0,da]}static get pluginName(){return"ImageToolbar"}afterInit(){const l=this.editor,n=l.t,r=l.plugins.get(z0),a=l.plugins.get("ImageUtils");var g;r.register("image",{ariaLabel:n("Image toolbar"),items:(g=l.config.get("image.toolbar")||[],g.map(h=>We(h)?h.name:h)),getRelatedElement:h=>a.getClosestSelectedImageWidget(h)})}},class extends _t{static get pluginName(){return"ImageUpload"}static get requires(){return[Ine,lne,Ane]}},class extends _t{static get pluginName(){return"Indent"}static get requires(){return[Rne,Nne]}},class extends _t{static get requires(){return[QH,sie,aie]}static get pluginName(){return"Link"}},Nie,class extends _t{static get requires(){return[gy,Yie,Lie,af]}static get pluginName(){return"MediaEmbed"}},LB,class extends _t{static get pluginName(){return"PasteFromOffice"}static get requires(){return[yl]}init(){const l=this.editor,n=l.plugins.get("ClipboardPipeline"),r=l.editing.view.document,a=[],g=this.editor.plugins.has("MultiLevelList");a.push(new gre(r,g)),a.push(new Are(r)),a.push(new hre(r)),n.on("inputTransformation",(h,f)=>{if(f._isTransformedWithPasteFromOffice||l.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const b=f.dataTransfer.getData("text/html"),S=a.find(N=>N.isActive(b));S&&(f._parsedData||(f._parsedData=mre(b,r.stylesProcessor)),S.execute(f),f._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends _t{static get requires(){return[MB,da]}static get pluginName(){return"PictureEditing"}afterInit(){const l=this.editor;l.plugins.has("ImageBlockEditing")&&l.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),l.plugins.has("ImageInlineEditing")&&l.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const l=this.editor,n=l.conversion,r=l.plugins.get("ImageUtils");n.for("upcast").add(function(a){const g=["srcset","media","type","sizes"],h=(f,b,S)=>{const N=b.viewItem;if(!S.consumable.test(N,{name:!0}))return;const W=new Map;for(const se of N.getChildren())if(se.is("element","source")){const ue={};for(const xe of g)se.hasAttribute(xe)&&S.consumable.test(se,{attributes:xe})&&(ue[xe]=se.getAttribute(xe));Object.keys(ue).length&&W.set(se,ue)}const J=a.findViewImgElement(N);if(!J)return;let ee=b.modelCursor.parent;if(!ee.is("element","imageBlock")){const se=S.convertItem(J,b.modelCursor);b.modelRange=se.modelRange,b.modelCursor=se.modelCursor,ee=Io(se.modelRange.getItems())}S.consumable.consume(N,{name:!0});for(const[se,ue]of W)S.consumable.consume(se,{attributes:Object.keys(ue)});W.size&&S.writer.setAttribute("sources",Array.from(W.values()),ee),S.convertChildren(N,ee)};return f=>{f.on("element:picture",h)}}(r)),n.for("downcast").add(function(a){const g=(h,f,b)=>{if(!b.consumable.consume(f.item,h.name))return;const S=b.writer,N=b.mapper.toViewElement(f.item),W=a.findViewImgElement(N),J=f.attributeNewValue;if(J&&J.length){const ee=S.createContainerElement("picture",null,J.map(xe=>S.createEmptyElement("source",xe))),se=[];let ue=W.parent;for(;ue&&ue.is("attributeElement");){const xe=ue.parent;S.unwrap(S.createRangeOn(W),ue),se.unshift(ue),ue=xe}S.insert(S.createPositionBefore(W),ee),S.move(S.createRangeOn(W),S.createPositionAt(ee,"end"));for(const xe of se)S.wrap(S.createRangeOn(ee),xe)}else if(W.parent.is("element","picture")){const ee=W.parent;S.move(S.createRangeOn(W),S.createPositionBefore(ee)),S.remove(ee)}};return h=>{h.on("attribute:sources:imageBlock",g),h.on("attribute:sources:imageInline",g)}}(r))}_setupImageUploadEditingIntegration(){const l=this.editor;if(!l.plugins.has("ImageUploadEditing"))return;const n=l.plugins.get("ImageUploadEditing");this.listenTo(n,"uploadComplete",(r,{imageElement:a,data:g})=>{const h=g.sources;h&&l.model.change(f=>{f.setAttributes({sources:h},a)})})}},class extends _t{static get requires(){return[Lre,Mre,Lu,zre,Pre,Ure,af]}static get pluginName(){return"Table"}},class extends _t{static get requires(){return[z0]}static get pluginName(){return"TableToolbar"}afterInit(){const l=this.editor,n=l.t,r=l.plugins.get(z0),a=l.config.get("table.contentToolbar"),g=l.config.get("table.tableToolbar");a&&r.register("tableContent",{ariaLabel:n("Table toolbar"),items:a,getRelatedElement:Ore}),g&&r.register("table",{ariaLabel:n("Table toolbar"),items:g,getRelatedElement:jre})}},class extends _t{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(l){super(l),l.config.define("typing",{transformations:{include:Q$}})}init(){const l=this.editor.model.document.selection;l.on("change:range",()=>{this.isEnabled=!l.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const l=this.editor,n=l.model,r=l.plugins.get("Delete"),a=function(h){const f=h.extra||[],b=h.remove||[],S=N=>!b.includes(N);return function(N){const W=new Set;for(const J of N)if(typeof J=="string"&&wW[J])for(const ee of wW[J])W.add(ee);else W.add(J);return Array.from(W)}(h.include.concat(f).filter(S)).filter(S).map(N=>typeof N=="string"&&vW[N]?vW[N]:N).filter(N=>typeof N=="object").map(N=>({from:j$(N.from),to:O$(N.to)}))}(l.config.get("typing.transformations")),g=new IW(l.model,h=>{for(const f of a)if(f.from.test(h))return{normalizedTransformation:f}});g.on("matched:data",(h,f)=>{if(!f.batch.isTyping)return;const{from:b,to:S}=f.normalizedTransformation,N=b.exec(f.text),W=S(N.slice(1)),J=f.range;let ee=N.index;n.enqueueChange(se=>{for(let ue=1;ue<N.length;ue++){const xe=N[ue],Le=W[ue-1];if(Le==null){ee+=xe.length;continue}const Ye=J.start.getShiftedBy(ee),$e=n.createRange(Ye,Ye.getShiftedBy(xe.length)),ht=q$(Ye);n.insertContent(se.createText(Le,ht),$e),ee+=Le.length}n.enqueueChange(()=>{r.requestUndoOnBackspace()})})}),g.bind("isEnabled").to(this)}}],mx.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),c=c.default})())})(ak,ak.exports);var IXe=ak.exports;const zQ=Ik(IXe);var bXe="firebase",yXe="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_p(bXe,yXe,"app");const vXe={apiKey:"AIzaSyDoOrQTTRRdNYN1QRmEXFAi7EFTDcn88Fk",authDomain:"courtstar-project.firebaseapp.com",projectId:"courtstar-project",storageBucket:"courtstar-project.appspot.com",messagingSenderId:"602134067285",appId:"1:602134067285:web:135a7dbc1f81dd66963cdc"},wXe=qz(vXe),QQ=sDe(wXe),s2=e=>{const{t}=Jn(),[i,o]=le.useState(!1),[s,c]=le.useState(!1),u=()=>{e.setIsOpen(),e.clearForm()},C=async()=>{o(!0);try{await e.submit()}catch{console.log("some bug")}finally{o(!1)}},m=async()=>{c(!0);try{await e.submitDeny()}catch{console.log("some bug")}finally{c(!1)}};return e.clearForm&&le.useEffect(()=>{e.isOpen&&e.clearForm()},[e.isOpen]),le.useEffect(()=>{e.isOpen?document.body.style.overflow="hidden":document.body.style.overflow="unset"},[e.isOpen]),y.jsx("div",{className:e.isOpen===!1?"hidden":"",children:y.jsxs("div",{className:"text-gray-800",children:[y.jsx("div",{className:"fixed z-40 top-0 left-0 h-screen w-screen bg-gray-900 opacity-40"}),y.jsx("div",{className:"fixed z-50 top-0 left-0 h-screen w-screen flex justify-center items-center",children:y.jsxs("div",{className:"relative animate-fade-in-down w-fit pt-3.5 px-5 rounded-xl shadow-2xl bg-white h-[95vh] flex flex-col justify-between",children:[y.jsx("h2",{className:"text-3xl px-5 font-bold mb-3.5 text-center",children:e.title}),y.jsx("div",{className:"flex-1  bg-white mx-auto h-auto overflow-y-auto overflow-x-hidden px-2 mb-3",children:e.html}),y.jsxs("div",{className:"bg-gray-200 rounded-b-xl pb-5 px-5 pt-3 -mx-5 font-semibold flex gap-6",children:[y.jsx(Pn,{label:t("upload"),fullWidth:!0,size:"medium",className:"font-semibold bg-primary-green hover:bg-teal-900 text-white",icon:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 22 22",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-check",children:y.jsx("path",{d:"M20 6 9 17l-5-5"})}),loading:i,onClick:C}),e.centreInfo?y.jsx(Pn,{label:t("deny"),fullWidth:!0,size:"medium",className:"font-semibold text-red-600 border-2 border-red-600 hover:bg-red-600 bg-white hover:text-white",icon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[y.jsx("path",{d:"M18 6 6 18"}),y.jsx("path",{d:"m6 6 12 12"})]}),loading:s,onClick:m}):y.jsx(Pn,{label:t("discard"),fullWidth:!0,size:"medium",className:"font-semibold text-red-600 border-2 border-red-600 hover:bg-red-600 bg-white hover:text-white ",icon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),y.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),y.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),y.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]}),onClick:u})]}),y.jsx("button",{className:"absolute p-2 top-3 right-3 hover:bg-gray-200 rounded-full transition-all duration-300 ease-in-out",onClick:u,children:y.jsx("img",{src:Hw,alt:"x"})})]})})]})})};function kXe(e){const{t}=Jn(),[i,o]=le.useState(""),[s,c]=le.useState(e.imgList),[u,C]=le.useState(e.centreDetail),m=le.useRef(),v=le.useRef(),x=le.useRef(),G=[{key:"thuDucCity",label:t("thuDucCity")},{key:"district1",label:t("district1")},{key:"district3",label:t("district3")},{key:"district4",label:t("district4")},{key:"district5",label:t("district5")},{key:"district6",label:t("district6")},{key:"district7",label:t("district7")},{key:"district8",label:t("district8")},{key:"district10",label:t("district10")},{key:"district11",label:t("district11")},{key:"district12",label:t("district12")},{key:"binhTanDistrict",label:t("binhTanDistrict")},{key:"binhThanhDistrict",label:t("binhThanhDistrict")},{key:"goVapDistrict",label:t("goVapDistrict")},{key:"phuNhuanDistrict",label:t("phuNhuanDistrict")},{key:"tanBinhDistrict",label:t("tanBinhDistrict")},{key:"tanPhuDistrict",label:t("tanPhuDistrict")},{key:"nhaBeProvince",label:t("nhaBeProvince")},{key:"canGioProvince",label:t("canGioProvince")},{key:"cuChiProvince",label:t("cuChiProvince")},{key:"hocMonProvince",label:t("hocMonProvince")},{key:"binhChanhProvince",label:t("binhChanhProvince")}],B=ce=>{ce&&(o(ce.key),L(ne=>({...ne,district:ce.key})))},R=()=>{e.setIsOpen()},V=H();function H(){let ce=[];for(let ne=0;ne<24;ne++){let oe=ne<10?`0${ne}:00`:`${ne}:00`;ce.push({key:ne,label:oe})}return ce}const[M,L]=le.useState({name:u.name,address:u.address,district:u.district,link:u.link,openTime:u.openTime,closeTime:u.closeTime,pricePerHour:u.pricePerHour,numberOfCourts:u.numberOfCourts,description:u.description,approveDate:xt().format("yyyy-MM-DD"),images:[]}),_=ce=>{const{name:ne,value:oe}=ce.target;L(be=>({...be,[ne]:oe}))},X=ce=>{ce&&L(ne=>({...ne,openTime:ce.label}))},Q=ce=>{ce&&L(ne=>({...ne,closeTime:ce.label}))},j=ce=>{if(ce!==null){const ne=IQ(QQ,`files/${bQ()}`);CQ(ne,ce).then(oe=>{fQ(oe.ref).then(be=>{c(Ie=>[...Ie,{url:be,ref:oe.ref}])})})}},re=(ce,ne)=>{ce?eG(ce).then(()=>{c(oe=>oe.filter(be=>be.url!==ne)),L(oe=>({...oe,images:oe.images.filter(be=>be!==ne)}))}).catch(oe=>{console.error("Error deleting image: ",oe)}):(c(oe=>oe.filter(be=>be.url!==ne)),L(oe=>({...oe,images:oe.images.filter(be=>be!==ne)})))};le.useEffect(()=>{L(ce=>({...ce,images:s.map(ne=>ne.url)}))},[s]);const P=ce=>{if(s.length<6){const ne=ce.target.files[0];j(ne)}else sn.error("Only upload a maximum of 6 photos",{toastId:"Upload-photo-error"})},O=async()=>{await mn.put(`/courtstar/centre/update/${u.id}`,M).then(ce=>{sn.success("Edit Successfully!",{toastId:"edit-centre-success"}),c([]),window.location.reload()}).catch(ce=>{console.log(ce.message),sn.error(ce.message,{toastId:"edit-centre-error"})}).finally()},de=y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between gap-4",children:[y.jsxs("div",{className:"w-[44rem]",children:[y.jsx("div",{children:s.length>0?y.jsx("img",{src:s[0].url,alt:"Centre",className:"h-64 w-fit mx-auto rounded-xl"}):y.jsx("img",{src:"https://i0.wp.com/y20india.in/wp-content/plugins/ultimate-post/assets/img/ultp-fallback-img.png?w=840&ssl=1",alt:"dummy-img",className:"h-64 w-fit mx-auto rounded-xl"})}),y.jsx("div",{className:"flex gap-2 mt-3 pt-1.5 border rounded-md bg-white overflow-hidden mx-auto relative",children:y.jsxs("div",{id:"image-scroll-container",className:"flex gap-2 overflow-x-auto pb-1.5 px-2",children:[y.jsx("div",{className:"flex justify-center items-center border rounded-lg cursor-pointer h-16 min-w-24 px-7",onClick:()=>document.getElementById("image-upload-input-edit").click(),children:y.jsx("span",{className:"text-4xl font-bold",children:"+"})}),y.jsx("input",{id:"image-upload-input-edit",type:"file",onChange:P,className:"hidden"}),s.map((ce,ne)=>y.jsxs("div",{className:"image-container relative",children:[y.jsx("img",{src:ce.url,alt:`Court ${ne+1}`,className:"min-w-24 max-w-24 h-16 rounded-lg object-cover object-center "}),y.jsxs("svg",{onClick:()=>re(ce.ref,ce.url),xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",s:!0,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-x absolute right-1 top-1 bg-white rounded-full cursor-pointer hover:scale-110 ease-in-out duration-200",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"m15 9-6 6"}),y.jsx("path",{d:"m9 9 6 6"})]})]},ne))]})})]}),y.jsxs("div",{className:"flex-1 w-[36rem] flex flex-col gap-3",children:[y.jsx(Nn,{id:"name",name:"name",placeholder:t("enterCentreName"),label:t("centreName"),value:M.name,onchange:_}),y.jsxs("div",{className:"grid grid-cols-6 gap-x-3",children:[y.jsx("div",{className:"col-span-4",children:y.jsx(Nn,{id:"address",name:"address",placeholder:t("enterCentreAddress"),label:t("centreAddress"),value:M.address,onchange:_})}),y.jsx("div",{className:"col-span-2 content-end",children:y.jsx(ho,{ref:m,items:G,placeholder:t("selectTheDistrict"),onSelect:B,initialValue:t(M.district)})})]}),y.jsx(Nn,{id:"pricePerHour",name:"pricePerHour",type:"number",placeholder:t("enterPricePerHour"),label:t("pricePerHour"),value:M.pricePerHour,onchange:_}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx(ho,{ref:v,placeholder:t("selectOpenTime"),items:V,onSelect:X,initialValue:xt(M.openTime,"HH:mm:ss").format("HH:mm"),dir:"up",label:t("openTimes")+":"}),y.jsx(ho,{ref:x,placeholder:t("selectCloseTime"),items:V,onSelect:Q,initialValue:xt(M.closeTime,"HH:mm:ss").format("HH:mm"),dir:"up",label:t("closeTime")+":"})]})]})]}),y.jsxs("div",{className:"mt-3",children:[y.jsx("div",{className:"w-full flex flex-col gap-2 text-gray-800 font-semibold mb-2",children:"Description:"}),y.jsx(KQ.CKEditor,{editor:zQ,data:M==null?void 0:M.description,onChange:(ce,ne)=>{const oe=ne.getData();L(be=>({...be,description:oe}))}})]})]});return y.jsx("div",{children:y.jsx(s2,{html:de,isOpen:e.isOpen,submit:O,setIsOpen:R,title:t("centreInformation"),editForm:!0})})}function BXe(e){var ve,fe;const{t}=Jn(),{state:i,dispatch:o}=_d(),{role:s}=i,c=Gd(),[u,C]=le.useState(!1),[m,v]=le.useState(!1),[x,G]=le.useState(!1),[B,R]=le.useState(),V=e.imgList,H=e.apiFeedbacks,M=new AbortController,{signal:L}=M,[_,X]=le.useState();le.useState();const[Q,j]=le.useState([]);le.useEffect(()=>{e.centreDetail&&R(e.centreDetail)},[e.centreDetail]),le.useEffect(()=>{B&&e.dataCenterOnSubmit(B)},[B]),le.useEffect(()=>{const Ge=async()=>{await mn.get(`/courtstar/court/${B.id}`,{signal:L}).then(De=>{j(De.data.data.map(Pe=>({...Pe,loading:!1})))}).catch(De=>{console.log(De.message)}).finally(()=>{})};B!=null&&B.id&&Ge()},[_,B]);const re=async()=>{await mn.get(`/courtstar/centre/getCentre/${B.id}`,{signal:L}).then(Ge=>{R(Ge.data.data)}).catch(Ge=>{console.log(Ge.message)}).finally()},P=async(Ge,De)=>{j(Pe=>{const me=[...Pe];return me[De]={...me[De],loading:!0},me}),await mn.post(`/courtstar/court/${B.id}/${Ge}`).then(Pe=>{X(Pe.data.data),re()}).catch(Pe=>{console.log(Pe.message)}).finally()},O=async Ge=>{v(!0),await mn.post(`/courtstar/centre/disable/${Ge}`).then(De=>{De.data.data&&(R(Pe=>({...Pe,status:!1})),sn.success("Disable successfully",{toastId:"disable-success"}))}).catch(De=>{sn.error(De.message,{toastId:"disable-unsuccess"})}).finally(()=>{v(!1)})},de=async Ge=>{v(!0),await mn.post(`/courtstar/centre/active/${Ge}`).then(De=>{De.data.data&&(R(Pe=>({...Pe,status:!0})),sn.success("Active successfully",{toastId:"active-success"}))}).catch(De=>{sn.error(De.message,{toastId:"active-unsuccess"})}).finally(()=>{v(!1)})},ce=async Ge=>{C(!0),await mn.post(`/courtstar/centre/delete/${Ge}`).then(De=>{De.data.data&&(sn.success("Delete successfully",{toastId:"delete-success"}),c("/myCentre/balance"),window.location.reload())}).catch(De=>{sn.error(De.message,{toastId:"delete-unsuccess"})}).finally(()=>{C(!1)})},[ne,oe]=le.useState(!1),be=()=>{oe(!0)},Ie=()=>{oe(!1)},Re=async Ge=>{await mn.post("/courtstar/slot/disable",{bookingDetails:Ge}).then(De=>{console.log(De.data.data)}).catch(De=>{console.log(De.message)}).finally(()=>{})},ye=async Ge=>{G(!0),await mn.post(`/courtstar/court/${Ge}`).then(De=>{R(Pe=>({...Pe,courts:De.data.data}))}).catch(De=>{console.log(De.message)}).finally(()=>{G(!1)})};return B&&y.jsxs("div",{className:"flex flex-1 flex-col gap-2 py-2",children:[y.jsx(kXe,{isOpen:ne,setIsOpen:Ie,centreDetail:B,imgList:V}),y.jsxs("div",{className:"flex items-center justify-between py-3",children:[y.jsx("div",{className:"text-2xl font-semibold ",children:B.name}),y.jsx("div",{className:"font-semibold",children:B.approveDate?y.jsx(y.Fragment,{children:B.status?y.jsx("div",{className:"bg-primary-green text-white px-3 py-1 rounded-xl",children:t("opening")}):y.jsx("div",{className:"bg-red-500 text-white px-3 py-1 rounded-xl",children:t("closed")})}):y.jsx(y.Fragment,{children:y.jsx("div",{className:"bg-red-500 text-white px-3 py-1 rounded-xl",children:"Pending"})})})]}),y.jsxs("div",{className:"flex justify-between gap-4",children:[y.jsx("div",{className:"",children:y.jsx(t2,{images:B.images})}),y.jsxs("div",{className:"flex-1 flex flex-col gap-3",children:[y.jsxs("div",{className:"flex gap-3 font-semibold",children:[B.status?y.jsx(Pn,{label:t("close"),fullWidth:!0,size:"medium",className:"bg-black text-white",icon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-lock-keyhole",children:[y.jsx("circle",{cx:"12",cy:"16",r:"1"}),y.jsx("rect",{x:"3",y:"10",width:"18",height:"12",rx:"2"}),y.jsx("path",{d:"M7 10V7a5 5 0 0 1 10 0v3"})]}),onClick:()=>O(B.id),loading:m,disabled:!B.approveDate}):y.jsx(Pn,{label:t("activate"),fullWidth:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",icon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#fff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-lock-keyhole-open",children:[y.jsx("circle",{cx:"12",cy:"16",r:"1"}),y.jsx("rect",{width:"18",height:"12",x:"3",y:"10",rx:"2"}),y.jsx("path",{d:"M7 10V7a5 5 0 0 1 9.33-2.5"})]}),onClick:()=>de(B.id),loading:m,disabled:!B.approveDate}),s!=="STAFF"&&y.jsx(Pn,{label:t("delete"),fullWidth:!0,size:"medium",className:"bg-red-600 hover:bg-red-800 text-white",icon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),y.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),y.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),y.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]}),onClick:()=>{Sc({title:t("areYouSure")+"?",message:t("youWillNotAbleToRecoverThisAction")+"!",type:"warning",onConfirmClick:()=>ce(B.id)})},loading:u,disabled:!B.approveDate})]}),y.jsx("div",{className:"w-full h-0.5 bg-slate-600 rounded-full"}),y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow flex flex-col gap-3",children:y.jsxs("div",{className:"flex flex-col gap-1.5",children:[y.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[t("information"),s!=="STAFF"&&y.jsx(y.Fragment,{children:B.approveDate&&y.jsx("button",{className:`flex justify-center items-center text-primary-green  rounded-md\r
                    px-2 hover:bg-primary-green hover:text-white ease-in-out duration-300 cursor-pointer`,onClick:be,disabled:!B.approveDate,children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-pencil",children:[y.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),y.jsx("path",{d:"m15 5 4 4"})]})})})]}),y.jsxs("div",{className:"px-2",children:[y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[t("address"),": "]}),B.address,", ",t(B.district)]}),y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[t("openTime"),": "]}),xt(B.openTime,"HH:mm:ss").format("HH:mm")," - ",xt(B.closeTime,"HH:mm:ss").format("HH:mm")]}),y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[t("price"),": "]}),y.jsxs("span",{className:"font-semibold text-rose-600",children:[(ve=B==null?void 0:B.pricePerHour)==null?void 0:ve.toLocaleString("de-DE")," VND/h"]})]}),y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[t("description"),": "]}),y.jsx("div",{dangerouslySetInnerHTML:{__html:B==null?void 0:B.description}})]})]})]})}),y.jsxs("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow flex flex-col gap-3",children:[y.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[t("numberOfCourts"),": "]}),(fe=B==null?void 0:B.courts)==null?void 0:fe.length]}),x?y.jsx(Ti,{width:"18",height:"18",color:"#2B5A50"}):y.jsx(y.Fragment,{children:B.approveDate&&y.jsx("button",{className:`flex justify-center items-center text-primary-green  rounded-md\r
                        px-2 hover:bg-primary-green hover:text-white ease-in-out duration-300 cursor-pointer`,onClick:()=>{Sc({title:t("areYouSure")+"?",message:t("youWillNotAbleToRecoverThisAction")+"!",type:"warning",onConfirmClick:()=>ye(B.id)})},children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-plus",children:[y.jsx("path",{d:"M5 12h14"}),y.jsx("path",{d:"M12 5v14"})]})})})]}),y.jsx("div",{className:"mx-auto",children:y.jsx("div",{className:"grid grid-cols-2 gap-x-3",children:Q.map((Ge,De)=>y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsxs("div",{className:"",children:[Ge.courtNo,"."]}),y.jsxs("div",{className:"flex justify-between gap-1 w-full items-center text-sm",children:[y.jsxs("div",{className:"flex gap-1 ",children:[y.jsxs("div",{className:"font-semibold",children:[t("status"),":"]}),y.jsx("div",{className:Ge.status?"font-semibold text-primary-green":"font-semibold text-red-500",children:Ge.status?t("active"):t("close")})]}),Ge.status?y.jsx(Pn,{className:"p-1 hover:bg-slate-100",icon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-lock-keyhole",children:[y.jsx("circle",{cx:"12",cy:"16",r:"1"}),y.jsx("rect",{x:"3",y:"10",width:"18",height:"12",rx:"2"}),y.jsx("path",{d:"M7 10V7a5 5 0 0 1 10 0v3"})]}),onClick:()=>P(Ge.courtNo,De),loading:Ge.loading,loadingColor:"#2B5A50",loadingWidth:"20",loadingHeight:"20",disabled:!B.approveDate}):y.jsx(Pn,{className:"p-1 hover:bg-teal-50 ",icon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#2B5A50",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-lock-keyhole-open",children:[y.jsx("circle",{cx:"12",cy:"16",r:"1"}),y.jsx("rect",{width:"18",height:"12",x:"3",y:"10",rx:"2"}),y.jsx("path",{d:"M7 10V7a5 5 0 0 1 9.33-2.5"})]}),onClick:()=>P(Ge.courtNo,De),loading:Ge.loading,loadingColor:"#2B5A50",loadingWidth:"20",loadingHeight:"20"})]})]},Ge.id))})})]})]})]})]}),y.jsxs("div",{id:"manage",className:"flex-1 rounded-lg shadow-gray-400 shadow-md",children:[y.jsx("div",{className:"text-white rounded-t-lg bg-primary-green flex items-center justify-center gap-1.5 py-2",children:y.jsxs("span",{className:"text-3xl font-medium",children:[" ",t("manage")," "]})}),y.jsx("div",{className:"bg-white rounded-b-lg p-8 pt-0",children:y.jsx("div",{className:"",children:y.jsx(Hz,{handleButton:Re,typeOfCalendar:"manage",centre:B})})})]}),y.jsxs("div",{id:"top",className:"flex-1 bg-white rounded-lg shadow-gray-400 shadow-md mt-3",children:[y.jsx("div",{className:"text-white rounded-t-lg bg-primary-green flex items-center justify-center gap-1.5 py-2",children:y.jsx("span",{className:"text-3xl font-medium",children:t("feedbacks")})}),y.jsx("div",{className:"",children:y.jsx(QN,{listItem:H,itemsPerPage:10})})]})]})}function xXe({isOpen:e,setIsOpen:t,id:i,loadStaffInfo:o}){const{t:s}=Jn(),[c,u]=le.useState({centreId:i,firstName:"",lastName:"",email:"",phone:"",password:""}),C=B=>{const{name:R,value:V}=B.target;u(H=>({...H,[R]:V}))},m=async()=>{try{const B=await mn.post("/courtstar/account/staff",c);sn.success(s("addStaffSuccess"),{toastId:"add-staff-success"}),v(),o()}catch(B){sn.error(s("addStaffError",{error:B.message}),{toastId:"add-staff-error"})}},v=()=>{t(),x()},x=()=>{u({centreId:i,firstName:"",lastName:"",email:"",phone:"",password:""})};le.useEffect(()=>{e&&x()},[e]);const G=y.jsxs("div",{children:[y.jsxs("div",{className:"mb-4 flex gap-5",children:[y.jsx(Nn,{id:"firstName",name:"firstName",placeholder:s("enterFirstName"),label:s("firstName"),value:c.firstName,onchange:C}),y.jsx(Nn,{id:"lastName",name:"lastName",placeholder:s("enterLastName"),label:s("lastName"),value:c.lastName,onchange:C})]}),y.jsx("div",{className:"mb-4",children:y.jsx(Nn,{id:"email",name:"email",placeholder:s("enterStaffEmail"),label:"Email",value:c.email,onchange:C})}),y.jsx("div",{className:"mb-4",children:y.jsx(Nn,{id:"phone",name:"phone",placeholder:s("enterStaffPhone"),label:s("phone"),value:c.phone,onchange:C})}),y.jsx("div",{className:"mb-4",children:y.jsx(Xp,{id:"password",name:"password",placeholder:s("enterStaffPassword"),label:s("password"),value:c.password,onchange:C,evaluate:!0})})]});return y.jsx(s2,{html:G,isOpen:e,setIsOpen:v,title:s("staffInformation"),submit:m,clearForm:x})}function SXe(e){const{t}=Jn(),[i,o]=le.useState([]),[s,c]=le.useState(null),u=le.useRef();le.useEffect(()=>{mn.get("/courtstar/centre/getAllCentresOfManager").then(G=>{const B=G.data.data.map(R=>({key:R.id,label:R.name}));o(B)}).catch(G=>{console.log(G.message),sn.error(G.message,{toastId:"fetch-centres-error"})})},[]);const C=G=>{G&&c(G.key)},m=()=>{e.setIsOpen()},v=async()=>{console.log("Selected Centre:",s),mn.put(`/courtstar/staff/move/centre/${e.staffId}/${s}`).then(G=>{sn.success("Staff moved successfully!",{toastId:"move-staff-success"}),window.location.reload()}).catch(G=>{console.log(G.message),sn.error(G.message,{toastId:"move-staff-error"})})},x=y.jsxs("div",{className:"flex flex-col gap-4 p-3 w-80 overflow-y-auto",children:[y.jsx(ho,{ref:u,items:i,placeholder:t("selectCentre"),onSelect:C,label:"Centre:",className:""}),y.jsx(Pn,{onClick:v,label:t("Submit"),fullWidth:!0,fullRounded:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white"})]});return y.jsx("div",{children:y.jsx(Ll,{html:x,isOpen:e.isOpen,setIsOpen:m,title:t("moveStaff"),centreInfo:!0})})}function ZXe(){const e=new AbortController,{signal:t}=e,{t:i}=Jn(),{id:o}=Dk(),[s,c]=le.useState(1),u=10,[C,m]=le.useState(!0),[v,x]=le.useState(!1),G=()=>{x(!0)},B=()=>{x(!1)},[R,V]=le.useState(!1),[H,M]=le.useState(),L=ne=>{M(ne),V(!0)},_=()=>{V(!1)},X=async ne=>{try{await mn.post(`/courtstar/account/${ne}`),re()}catch(oe){console.log(oe.message)}finally{sn.success(i("deleteStaffSuccess"),{toastId:"delete-staff-success"})}},[Q,j]=le.useState([]),re=async()=>{try{const ne=await mn.get(`/courtstar/staff/centre/${o}`,{signal:t});j(ne.data.data)}catch(ne){console.log(ne.message)}finally{m(!1)}};le.useEffect(()=>(re(),()=>{e.abort()}),[o]);const P=s*u,O=P-u,de=Q.slice(O,P),ce=ne=>{c(ne)};return y.jsxs("div",{className:"w-[70rem] my-12",children:[y.jsx(xXe,{id:o,isOpen:v,setIsOpen:B,loadStaffInfo:re}),y.jsx(SXe,{isOpen:R,setIsOpen:_,staffId:H,loadStaffInfo:re}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("div",{className:"text-3xl font-bold",children:i("staffInformation")}),y.jsx("div",{children:y.jsx(Pn,{label:i("addStaff"),fullWidth:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",icon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-plus",children:[y.jsx("path",{d:"M5 12h14"}),y.jsx("path",{d:"M12 5v14"})]}),onClick:G})})]}),C?y.jsx("div",{className:"flex justify-center items-center h-96",children:y.jsx(Ti,{type:"page",height:"80",width:"80",color:"#2B5A50"})}):Q.length?y.jsxs("div",{className:"mt-4",children:[y.jsxs("div",{className:"flex bg-white rounded-xl shadow-lg text-lg font-semibold rounded-t-lg",children:[y.jsx("div",{className:"w-1/3 px-8 py-2 ",children:i("fullName")}),y.jsx("div",{className:"w-1/3 px-8 py-2 ",children:"Email"}),y.jsx("div",{className:"w-1/6 px-8 py-2 ",children:i("phone")}),y.jsx("div",{className:""})]}),y.jsx("div",{className:"mt-2",children:de.map(ne=>y.jsxs("div",{className:"flex bg-white shadow font-medium py-1.5 rounded-xl mt-1",children:[y.jsxs("div",{className:"w-1/3 px-8 truncate py-2",children:[ne.account.firstName," ",ne.account.lastName]}),y.jsx("div",{className:"w-1/3 px-8 py-2 ",children:ne.account.email}),y.jsx("div",{className:"w-1/6 px-8 py-2",children:ne.account.phone}),y.jsxs("div",{className:"flex flex-1 items-center justify-center gap-8",children:[y.jsx("div",{className:"p-1.5 rounded-full hover:bg-emerald-900 hover:text-white cursor-pointer ease-in-out duration-300",onClick:()=>L(ne.id),children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-pencil",children:[y.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),y.jsx("path",{d:"m15 5 4 4"})]})}),y.jsx("div",{className:"p-1.5 rounded-full hover:bg-red-600 hover:text-white cursor-pointer ease-in-out duration-300",onClick:()=>X(ne.account.id),children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),y.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),y.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),y.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})})]})]},ne.id))})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-3xl text-primary",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"300",height:"300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users-round",children:[y.jsx("path",{d:"M18 21a8 8 0 0 0-16 0"}),y.jsx("circle",{cx:"10",cy:"8",r:"5"}),y.jsx("path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3"})]}),"There are no staffs yet!"]}),Q.length>u&&y.jsx(Vd,{totalItems:Q.length,itemsPerPage:u,currentPage:s,onPageChange:ce})]})}function GXe(e,t,i){return(t=IRe(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function RXe(e){if(Array.isArray(e))return e}function NXe(e,t){var i=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i!=null){var o,s,c,u,C=[],m=!0,v=!1;try{if(c=(i=i.call(e)).next,t!==0)for(;!(m=(o=c.call(i)).done)&&(C.push(o.value),C.length!==t);m=!0);}catch(x){v=!0,s=x}finally{try{if(!m&&i.return!=null&&(u=i.return(),Object(u)!==u))return}finally{if(v)throw s}}return C}}function FM(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,o=Array(t);i<t;i++)o[i]=e[i];return o}function _Xe(e,t){if(e){if(typeof e=="string")return FM(e,t);var i={}.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?FM(e,t):void 0}}function VXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EXe(e,t){return RXe(e)||NXe(e,t)||_Xe(e,t)||VXe()}function FXe(e,t){if(e==null)return{};var i,o,s=Dn(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)i=c[o],t.indexOf(i)>=0||{}.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}var jQ={exports:{}},ir={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=typeof Symbol=="function"&&Symbol.for,m_=Oo?Symbol.for("react.element"):60103,p_=Oo?Symbol.for("react.portal"):60106,a2=Oo?Symbol.for("react.fragment"):60107,l2=Oo?Symbol.for("react.strict_mode"):60108,c2=Oo?Symbol.for("react.profiler"):60114,g2=Oo?Symbol.for("react.provider"):60109,d2=Oo?Symbol.for("react.context"):60110,C_=Oo?Symbol.for("react.async_mode"):60111,A2=Oo?Symbol.for("react.concurrent_mode"):60111,u2=Oo?Symbol.for("react.forward_ref"):60112,h2=Oo?Symbol.for("react.suspense"):60113,WXe=Oo?Symbol.for("react.suspense_list"):60120,m2=Oo?Symbol.for("react.memo"):60115,p2=Oo?Symbol.for("react.lazy"):60116,HXe=Oo?Symbol.for("react.block"):60121,DXe=Oo?Symbol.for("react.fundamental"):60117,TXe=Oo?Symbol.for("react.responder"):60118,LXe=Oo?Symbol.for("react.scope"):60119;function ol(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case m_:switch(e=e.type,e){case C_:case A2:case a2:case c2:case l2:case h2:return e;default:switch(e=e&&e.$$typeof,e){case d2:case u2:case p2:case m2:case g2:return e;default:return t}}case p_:return t}}}function OQ(e){return ol(e)===A2}ir.AsyncMode=C_;ir.ConcurrentMode=A2;ir.ContextConsumer=d2;ir.ContextProvider=g2;ir.Element=m_;ir.ForwardRef=u2;ir.Fragment=a2;ir.Lazy=p2;ir.Memo=m2;ir.Portal=p_;ir.Profiler=c2;ir.StrictMode=l2;ir.Suspense=h2;ir.isAsyncMode=function(e){return OQ(e)||ol(e)===C_};ir.isConcurrentMode=OQ;ir.isContextConsumer=function(e){return ol(e)===d2};ir.isContextProvider=function(e){return ol(e)===g2};ir.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===m_};ir.isForwardRef=function(e){return ol(e)===u2};ir.isFragment=function(e){return ol(e)===a2};ir.isLazy=function(e){return ol(e)===p2};ir.isMemo=function(e){return ol(e)===m2};ir.isPortal=function(e){return ol(e)===p_};ir.isProfiler=function(e){return ol(e)===c2};ir.isStrictMode=function(e){return ol(e)===l2};ir.isSuspense=function(e){return ol(e)===h2};ir.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===a2||e===A2||e===c2||e===l2||e===h2||e===WXe||typeof e=="object"&&e!==null&&(e.$$typeof===p2||e.$$typeof===m2||e.$$typeof===g2||e.$$typeof===d2||e.$$typeof===u2||e.$$typeof===DXe||e.$$typeof===TXe||e.$$typeof===LXe||e.$$typeof===HXe)};ir.typeOf=ol;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var WM=Object.getOwnPropertySymbols,XXe=Object.prototype.hasOwnProperty,MXe=Object.prototype.propertyIsEnumerable;function YXe(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function JXe(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;var o=Object.getOwnPropertyNames(t).map(function(c){return t[c]});if(o.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(c){s[c]=c}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}JXe();var UXe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",PXe=UXe;Function.call.bind(Object.prototype.hasOwnProperty);var KXe=PXe;function qQ(){}function $Q(){}$Q.resetWarningCache=qQ;var zXe=function(){function e(o,s,c,u,C,m){if(m!==KXe){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}e.isRequired=e;function t(){return e}var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$Q,resetWarningCache:qQ};return i.PropTypes=i,i};jQ.exports=zXe();var Ym=jQ.exports;function QXe(e,t){var i=atob(e);return i}function jXe(e,t,i){var o=QXe(e),s=o.indexOf(`
`,10)+1,c=o.substring(s)+"",u=new Blob([c],{type:"application/javascript"});return URL.createObjectURL(u)}function OXe(e,t,i){var o;return function(c){return o=o||jXe(e),new Worker(o,c)}}var qXe=OXe("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9OwoKCWZ1bmN0aW9uIGdldEF1Z21lbnRlZE5hbWVzcGFjZShuKSB7CgkJaWYgKG4uX19lc01vZHVsZSkgcmV0dXJuIG47CgkJdmFyIGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdfX2VzTW9kdWxlJywge3ZhbHVlOiB0cnVlfSk7CgkJT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbiAoaykgewoJCQl2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobiwgayk7CgkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBrLCBkLmdldCA/IGQgOiB7CgkJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQkJZ2V0OiBmdW5jdGlvbiAoKSB7CgkJCQkJcmV0dXJuIG5ba107CgkJCQl9CgkJCX0pOwoJCX0pOwoJCXJldHVybiBhOwoJfQoKCXZhciBCaW5hcnlCaXRtYXAkMSA9IHt9OwoKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBFeGNlcHRpb24kMSA9IHt9OwoKCWZ1bmN0aW9uIGZpeFByb3RvKHRhcmdldCwgcHJvdG90eXBlKSB7CgkgIHZhciBzZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZjsKCSAgc2V0UHJvdG90eXBlT2YgPyBzZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvdHlwZSkgOiB0YXJnZXQuX19wcm90b19fID0gcHJvdG90eXBlOwoJfQoJZnVuY3Rpb24gZml4U3RhY2sodGFyZ2V0LCBmbikgewoJICBpZiAoZm4gPT09IHZvaWQgMCkgewoJICAgIGZuID0gdGFyZ2V0LmNvbnN0cnVjdG9yOwoJICB9CgoJICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTsKCSAgY2FwdHVyZVN0YWNrVHJhY2UgJiYgY2FwdHVyZVN0YWNrVHJhY2UodGFyZ2V0LCBmbik7Cgl9CgoJdmFyIF9fZXh0ZW5kcyRrID0gZnVuY3Rpb24gKCkgewoJICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7CgkgICAgICBfX3Byb3RvX186IFtdCgkgICAgfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICBkLl9fcHJvdG9fXyA9IGI7CgkgICAgfSB8fCBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0KCSAgICB9OwoKCSAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgfTsKCgkgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgoJICAgIGZ1bmN0aW9uIF9fKCkgewoJICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7CgkgICAgfQoKCSAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgIH07Cgl9KCk7CgoJdmFyIEN1c3RvbUVycm9yID0gZnVuY3Rpb24gKF9zdXBlcikgewoJICBfX2V4dGVuZHMkayhDdXN0b21FcnJvciwgX3N1cGVyKTsKCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKG1lc3NhZ2UpIHsKCSAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7CgoJICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7CgoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ25hbWUnLCB7CgkgICAgICB2YWx1ZTogX25ld1RhcmdldC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmaXhQcm90byhfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpOwoJICAgIGZpeFN0YWNrKF90aGlzKTsKCSAgICByZXR1cm4gX3RoaXM7CgkgIH0KCgkgIHJldHVybiBDdXN0b21FcnJvcjsKCX0oRXJyb3IpOwoKCXZhciBfX3NwcmVhZEFycmF5cyA9IGZ1bmN0aW9uICgpIHsKCSAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzOwoKCSAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7IHMgKz0gYXJndW1lbnRzJDFbaV0ubGVuZ3RoOyB9CgoJICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspIHsgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspIHsgcltrXSA9IGFbal07IH0gfQoKCSAgcmV0dXJuIHI7Cgl9OwoJZnVuY3Rpb24gY3VzdG9tRXJyb3JGYWN0b3J5KGZuLCBwYXJlbnQpIHsKCSAgaWYgKHBhcmVudCA9PT0gdm9pZCAwKSB7CgkgICAgcGFyZW50ID0gRXJyb3I7CgkgIH0KCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKCkgewoJICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50czsKCgkgICAgdmFyIGFyZ3MgPSBbXTsKCgkgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldOwoJICAgIH0KCgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEN1c3RvbUVycm9yKSkgeyByZXR1cm4gbmV3IChDdXN0b21FcnJvci5iaW5kLmFwcGx5KEN1c3RvbUVycm9yLCBfX3NwcmVhZEFycmF5cyhbdm9pZCAwXSwgYXJncykpKSgpOyB9CgkgICAgcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3MpOwoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHsKCSAgICAgIHZhbHVlOiBmbi5uYW1lIHx8IHBhcmVudC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmbi5hcHBseSh0aGlzLCBhcmdzKTsKCSAgICBmaXhTdGFjayh0aGlzLCBDdXN0b21FcnJvcik7CgkgIH0KCgkgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDdXN0b21FcnJvciwgewoJICAgIHByb3RvdHlwZTogewoJICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSwgewoJICAgICAgICBjb25zdHJ1Y3RvcjogewoJICAgICAgICAgIHZhbHVlOiBDdXN0b21FcnJvciwKCSAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKCSAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICAgICAgfQoJICAgICAgfSkKCSAgICB9CgkgIH0pOwoJfQoKCXZhciBjdXN0b21FcnJvciA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHsKCQlfX3Byb3RvX186IG51bGwsCgkJQ3VzdG9tRXJyb3I6IEN1c3RvbUVycm9yLAoJCWN1c3RvbUVycm9yRmFjdG9yeTogY3VzdG9tRXJyb3JGYWN0b3J5Cgl9KTsKCgl2YXIgcmVxdWlyZSQkMCA9IC8qQF9fUFVSRV9fKi9nZXRBdWdtZW50ZWROYW1lc3BhY2UoY3VzdG9tRXJyb3IpOwoKCXZhciBfX2V4dGVuZHMkaiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIHRzX2N1c3RvbV9lcnJvcl8xID0gcmVxdWlyZSQkMDsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRqKEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICAvKioKCSAgICAgKiBBbGxvd3MgRXhjZXB0aW9uIHRvIGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5CgkgICAgICogd2l0aCBzb21lIG1lc3NhZ2UgYW5kIHByb3RvdHlwZSBkZWZpbml0aW9uLgoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlKSB7CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBFeGNlcHRpb24ucHJvdG90eXBlLmdldEtpbmQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBleCA9IHRoaXMuY29uc3RydWN0b3I7CgkgICAgICAgIHJldHVybiBleC5raW5kOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSXQncyB0eXBlZCBhcyBzdHJpbmcgc28gaXQgY2FuIGJlIGV4dGVuZGVkIGFuZCBvdmVycmlkZW4uCgkgICAgICovCgkgICAgRXhjZXB0aW9uLmtpbmQgPSAnRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRXhjZXB0aW9uOwoJfSh0c19jdXN0b21fZXJyb3JfMS5DdXN0b21FcnJvcikpOwoJRXhjZXB0aW9uJDEuZGVmYXVsdCA9IEV4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSQ5ID0gRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaShJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCkgewoJICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CgkgICAgfQoJICAgIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjsKCX0oRXhjZXB0aW9uXzEkOS5kZWZhdWx0KSk7CglJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMS5kZWZhdWx0ID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJ5Qml0bWFwJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgQmluYXJ5Qml0bWFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEJpbmFyeUJpdG1hcChiaW5hcml6ZXIpIHsKCSAgICAgICAgdGhpcy5iaW5hcml6ZXIgPSBiaW5hcml6ZXI7CgkgICAgICAgIGlmIChiaW5hcml6ZXIgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhLmRlZmF1bHQoJ0JpbmFyaXplciBtdXN0IGJlIG5vbi1udWxsLicpOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gVGhlIHdpZHRoIG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcC4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29udmVydHMgb25lIHJvdyBvZiBsdW1pbmFuY2UgZGF0YSB0byAxIGJpdCBkYXRhLiBNYXkgYWN0dWFsbHkgZG8gdGhlIGNvbnZlcnNpb24sIG9yIHJldHVybgoJICAgICAqIGNhY2hlZCBkYXRhLiBDYWxsZXJzIHNob3VsZCBhc3N1bWUgdGhpcyBtZXRob2QgaXMgZXhwZW5zaXZlIGFuZCBjYWxsIGl0IGFzIHNlbGRvbSBhcyBwb3NzaWJsZS4KCSAgICAgKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMUQgYmFyY29kZXMgYW5kIG1heSBjaG9vc2UgdG8gYXBwbHkgc2hhcnBlbmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gZmV0Y2gsIHdoaWNoIG11c3QgYmUgaW4gWzAsIGJpdG1hcCBoZWlnaHQpCgkgICAgICogQHBhcmFtIHJvdyBBbiBvcHRpb25hbCBwcmVhbGxvY2F0ZWQgYXJyYXkuIElmIG51bGwgb3IgdG9vIHNtYWxsLCBpdCB3aWxsIGJlIGlnbm9yZWQuCgkgICAgICogICAgICAgICAgICBJZiB1c2VkLCB0aGUgQmluYXJpemVyIHdpbGwgY2FsbCBCaXRBcnJheS5jbGVhcigpLiBBbHdheXMgdXNlIHRoZSByZXR1cm5lZCBvYmplY3QuCgkgICAgICogQHJldHVybiBUaGUgYXJyYXkgb2YgYml0cyBmb3IgdGhpcyByb3cgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgcm93IGNhbid0IGJlIGJpbmFyaXplZAoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUuZ2V0QmxhY2tSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEJsYWNrUm93KHksIHJvdyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBhIDJEIGFycmF5IG9mIGx1bWluYW5jZSBkYXRhIHRvIDEgYml0LiBBcyBhYm92ZSwgYXNzdW1lIHRoaXMgbWV0aG9kIGlzIGV4cGVuc2l2ZQoJICAgICAqIGFuZCBkbyBub3QgY2FsbCBpdCByZXBlYXRlZGx5LiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMkQgYmFyY29kZXMgYW5kIG1heSBvcgoJICAgICAqIG1heSBub3QgYXBwbHkgc2hhcnBlbmluZy4gVGhlcmVmb3JlLCBhIHJvdyBmcm9tIHRoaXMgbWF0cml4IG1heSBub3QgYmUgaWRlbnRpY2FsIHRvIG9uZQoJICAgICAqIGZldGNoZWQgdXNpbmcgZ2V0QmxhY2tSb3coKSwgc28gZG9uJ3QgbWl4IGFuZCBtYXRjaCBiZXR3ZWVuIHRoZW0uCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIFRoZSAyRCBhcnJheSBvZiBiaXRzIGZvciB0aGUgaW1hZ2UgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgaW1hZ2UgY2FuJ3QgYmUgYmluYXJpemVkIHRvIG1ha2UgYSBtYXRyaXgKCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEJsYWNrTWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBUaGUgbWF0cml4IGlzIGNyZWF0ZWQgb24gZGVtYW5kIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHJlcXVlc3RlZCwgdGhlbiBjYWNoZWQuIFRoZXJlIGFyZSB0d28KCSAgICAgICAgLy8gcmVhc29ucyBmb3IgdGhpczoKCSAgICAgICAgLy8gMS4gVGhpcyB3b3JrIHdpbGwgbmV2ZXIgYmUgZG9uZSBpZiB0aGUgY2FsbGVyIG9ubHkgaW5zdGFsbHMgMUQgUmVhZGVyIG9iamVjdHMsIG9yIGlmIGEKCSAgICAgICAgLy8gICAgMUQgUmVhZGVyIGZpbmRzIGEgYmFyY29kZSBiZWZvcmUgdGhlIDJEIFJlYWRlcnMgcnVuLgoJICAgICAgICAvLyAyLiBUaGlzIHdvcmsgd2lsbCBvbmx5IGJlIGRvbmUgb25jZSBldmVuIGlmIHRoZSBjYWxsZXIgaW5zdGFsbHMgbXVsdGlwbGUgMkQgUmVhZGVycy4KCSAgICAgICAgaWYgKHRoaXMubWF0cml4ID09PSBudWxsIHx8IHRoaXMubWF0cml4ID09PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gdGhpcy5iaW5hcml6ZXIuZ2V0QmxhY2tNYXRyaXgoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5tYXRyaXg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhpcyBiaXRtYXAgY2FuIGJlIGNyb3BwZWQuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5pc0Nyb3BTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggY3JvcHBlZCBpbWFnZSBkYXRhLiBJbXBsZW1lbnRhdGlvbnMgbWF5IGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlCgkgICAgICogb3JpZ2luYWwgZGF0YSByYXRoZXIgdGhhbiBhIGNvcHkuIE9ubHkgY2FsbGFibGUgaWYgaXNDcm9wU3VwcG9ydGVkKCkgaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBsZWZ0IFRoZSBsZWZ0IGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0V2lkdGgoKSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB0b3AgY29vcmRpbmF0ZSwgd2hpY2ggbXVzdCBiZSBpbiBbMCxnZXRIZWlnaHQoKSkKCSAgICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSB0byBjcm9wLgoJICAgICAqIEByZXR1cm4gQSBjcm9wcGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBuZXdTb3VyY2UgPSB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5jcm9wKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIGJpdG1hcCBzdXBwb3J0cyBjb3VudGVyLWNsb2Nrd2lzZSByb3RhdGlvbi4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmlzUm90YXRlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkuaXNSb3RhdGVTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpOwoJICAgICAgICByZXR1cm4gbmV3IEJpbmFyeUJpdG1hcCh0aGlzLmJpbmFyaXplci5jcmVhdGVCaW5hcml6ZXIobmV3U291cmNlKSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHJvdGF0ZWQgaW1hZ2UgZGF0YSBieSA0NSBkZWdyZWVzIGNvdW50ZXJjbG9ja3dpc2UuCgkgICAgICogT25seSBjYWxsYWJsZSBpZiB7QGxpbmsgI2lzUm90YXRlU3VwcG9ydGVkKCl9IGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIEEgcm90YXRlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmxhY2tNYXRyaXgoKS50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlIC8qOiBOb3RGb3VuZEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICByZXR1cm4gJyc7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaW5hcnlCaXRtYXA7Cgl9KCkpOwoJdmFyIF9kZWZhdWx0JDMgPSBCaW5hcnlCaXRtYXAkMS5kZWZhdWx0ID0gQmluYXJ5Qml0bWFwOwoKCXZhciBIeWJyaWRCaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBCaW5hcml6ZXIkMSA9IHt9OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJpemVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogVGhpcyBjbGFzcyBoaWVyYXJjaHkgcHJvdmlkZXMgYSBzZXQgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGx1bWluYW5jZSBkYXRhIHRvIDEgYml0IGRhdGEuCgkgKiBJdCBhbGxvd3MgdGhlIGFsZ29yaXRobSB0byB2YXJ5IHBvbHltb3JwaGljYWxseSwgZm9yIGV4YW1wbGUgYWxsb3dpbmcgYSB2ZXJ5IGV4cGVuc2l2ZQoJICogdGhyZXNob2xkaW5nIHRlY2huaXF1ZSBmb3Igc2VydmVycyBhbmQgYSBmYXN0IG9uZSBmb3IgbW9iaWxlLiBJdCBhbHNvIHBlcm1pdHMgdGhlIGltcGxlbWVudGF0aW9uCgkgKiB0byB2YXJ5LCBlLmcuIGEgSk5JIHZlcnNpb24gZm9yIEFuZHJvaWQgYW5kIGEgSmF2YSBmYWxsYmFjayB2ZXJzaW9uIGZvciBvdGhlciBwbGF0Zm9ybXMuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpbmFyaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBCaW5hcml6ZXIoc291cmNlKSB7CgkgICAgICAgIHRoaXMuc291cmNlID0gc291cmNlOwoJICAgIH0KCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEx1bWluYW5jZVNvdXJjZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlOwoJICAgIH07CgkgICAgQmluYXJpemVyLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgcmV0dXJuIEJpbmFyaXplcjsKCX0oKSk7CglCaW5hcml6ZXIkMS5kZWZhdWx0ID0gQmluYXJpemVyOwoKCXZhciBCaXRBcnJheSQxID0ge307CgoJdmFyIEFycmF5cyQxID0ge307CgoJdmFyIFN5c3RlbSQxID0ge307CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5c3RlbSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIFN5c3RlbSgpIHsKCSAgICB9CgkgICAgLy8gcHVibGljIHN0YXRpYyB2b2lkIGFycmF5Y29weShPYmplY3Qgc3JjLCBpbnQgc3JjUG9zLCBPYmplY3QgZGVzdCwgaW50IGRlc3RQb3MsIGludCBsZW5ndGgpCgkgICAgLyoqCgkgICAgICogTWFrZXMgYSBjb3B5IG9mIGEgYXJyYXkuCgkgICAgICovCgkgICAgU3lzdGVtLmFycmF5Y29weSA9IGZ1bmN0aW9uIChzcmMsIHNyY1BvcywgZGVzdCwgZGVzdFBvcywgbGVuZ3RoKSB7CgkgICAgICAgIC8vIFRPRE86IGJldHRlciB1c2Ugc3BsaXQgb3Igc2V0PwoJICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHsKCSAgICAgICAgICAgIGRlc3RbZGVzdFBvcysrXSA9IHNyY1tzcmNQb3MrK107CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuCgkgICAgICovCgkgICAgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTsKCSAgICB9OwoJICAgIHJldHVybiBTeXN0ZW07Cgl9KCkpOwoJU3lzdGVtJDEuZGVmYXVsdCA9IFN5c3RlbTsKCgl2YXIgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyRoID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDggPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaChJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbi5raW5kID0gJ0luZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ4LmRlZmF1bHQpKTsKCUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uXzEgPSBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZyhBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKGluZGV4LCBtZXNzYWdlKSB7CgkgICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5pbmRleCA9IGluZGV4OwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24ua2luZCA9ICdBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb247Cgl9KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KSk7CglBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoKCXZhciBfX3ZhbHVlcyQ3ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5cyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtXzEkNSA9IFN5c3RlbSQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDkgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMSA9IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxOwoJdmFyIEFycmF5cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBcnJheXMoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgYXJyYXkKCSAgICAgKiBvZiBpbnRzLgoJICAgICAqCgkgICAgICogQHBhcmFtIGEgdGhlIGFycmF5IHRvIGJlIGZpbGxlZAoJICAgICAqIEBwYXJhbSB2YWwgdGhlIHZhbHVlIHRvIGJlIHN0b3JlZCBpbiBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5CgkgICAgICovCgkgICAgQXJyYXlzLmZpbGwgPSBmdW5jdGlvbiAoYSwgdmFsKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKQoJICAgICAgICAgICAgYVtpXSA9IHZhbDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQKCSAgICAgKiByYW5nZSBvZiB0aGUgc3BlY2lmaWVkIGFycmF5IG9mIGludHMuICBUaGUgcmFuZ2UgdG8gYmUgZmlsbGVkCgkgICAgICogZXh0ZW5kcyBmcm9tIGluZGV4IHtAY29kZSBmcm9tSW5kZXh9LCBpbmNsdXNpdmUsIHRvIGluZGV4CgkgICAgICoge0Bjb2RlIHRvSW5kZXh9LCBleGNsdXNpdmUuICAoSWYge0Bjb2RlIGZyb21JbmRleD09dG9JbmRleH0sIHRoZQoJICAgICAqIHJhbmdlIHRvIGJlIGZpbGxlZCBpcyBlbXB0eS4pCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgdG8gYmUgZmlsbGVkCgkgICAgICogQHBhcmFtIGZyb21JbmRleCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGVsZW1lbnQgKGluY2x1c2l2ZSkgdG8gYmUKCSAgICAgKiAgICAgICAgZmlsbGVkIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZQoJICAgICAqIEBwYXJhbSB0b0luZGV4IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBlbGVtZW50IChleGNsdXNpdmUpIHRvIGJlCgkgICAgICogICAgICAgIGZpbGxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWUKCSAgICAgKiBAcGFyYW0gdmFsIHRoZSB2YWx1ZSB0byBiZSBzdG9yZWQgaW4gYWxsIGVsZW1lbnRzIG9mIHRoZSBhcnJheQoJICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPiB0b0luZGV4fQoJICAgICAqIEB0aHJvd3MgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPCAwfSBvcgoJICAgICAqICAgICAgICAge0Bjb2RlIHRvSW5kZXggPiBhLmxlbmd0aH0KCSAgICAgKi8KCSAgICBBcnJheXMuZmlsbFdpdGhpbiA9IGZ1bmN0aW9uIChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZhbCkgewoJICAgICAgICBBcnJheXMucmFuZ2VDaGVjayhhLmxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKykKCSAgICAgICAgICAgIGFbaV0gPSB2YWw7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDaGVja3MgdGhhdCB7QGNvZGUgZnJvbUluZGV4fSBhbmQge0Bjb2RlIHRvSW5kZXh9IGFyZSBpbgoJICAgICAqIHRoZSByYW5nZSBhbmQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGV5IGFyZW4ndC4KCSAgICAgKi8KCSAgICBBcnJheXMucmFuZ2VDaGVjayA9IGZ1bmN0aW9uIChhcnJheUxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KSB7CgkgICAgICAgIGlmIChmcm9tSW5kZXggPiB0b0luZGV4KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOS5kZWZhdWx0KCdmcm9tSW5kZXgoJyArIGZyb21JbmRleCArICcpID4gdG9JbmRleCgnICsgdG9JbmRleCArICcpJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGZyb21JbmRleCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KGZyb21JbmRleCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvSW5kZXggPiBhcnJheUxlbmd0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbl8xLmRlZmF1bHQodG9JbmRleCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEFycmF5cy5hc0xpc3QgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBhcmdzID0gW107CgkgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7CgkgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGFyZ3M7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlID0gZnVuY3Rpb24gKHJvd3MsIGNvbHMsIHZhbHVlKSB7CgkgICAgICAgIHZhciBhcnIgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0pOwoJICAgICAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlSW50MzJBcnJheSA9IGZ1bmN0aW9uIChyb3dzLCBjb2xzLCB2YWx1ZSkgewoJICAgICAgICB2YXIgYXJyID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9KTsKCSAgICAgICAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIEludDMyQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuZXF1YWxzID0gZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHsKCSAgICAgICAgaWYgKCFmaXJzdCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIGlmICghc2Vjb25kKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKCFmaXJzdC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoIXNlY29uZC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZmlyc3QubGVuZ3RoICE9PSBzZWNvbmQubGVuZ3RoKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gZmlyc3QubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgaWYgKGZpcnN0W2ldICE9PSBzZWNvbmRbaV0pIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICBBcnJheXMuaGFzaENvZGUgPSBmdW5jdGlvbiAoYSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgaWYgKGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSAxOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgYV8xID0gX192YWx1ZXMkNyhhKSwgYV8xXzEgPSBhXzEubmV4dCgpOyAhYV8xXzEuZG9uZTsgYV8xXzEgPSBhXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAzMSAqIHJlc3VsdCArIGVsZW1lbnQ7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChhXzFfMSAmJiAhYV8xXzEuZG9uZSAmJiAoX2EgPSBhXzEucmV0dXJuKSkgX2EuY2FsbChhXzEpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBBcnJheXMuZmlsbFVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYSwgdmFsdWUpIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IGEubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIGFbaV0gPSB2YWx1ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZiA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbmV3TGVuZ3RoKSB7CgkgICAgICAgIHJldHVybiBvcmlnaW5hbC5zbGljZSgwLCBuZXdMZW5ndGgpOwoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZlVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAob3JpZ2luYWwsIG5ld0xlbmd0aCkgewoJICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoIDw9IG5ld0xlbmd0aCkgewoJICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgICAgIG5ld0FycmF5LnNldChvcmlnaW5hbCk7CgkgICAgICAgICAgICByZXR1cm4gbmV3QXJyYXk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG9yaWdpbmFsLnNsaWNlKDAsIG5ld0xlbmd0aCk7CgkgICAgfTsKCSAgICBBcnJheXMuY29weU9mUmFuZ2UgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGZyb20sIHRvKSB7CgkgICAgICAgIHZhciBuZXdMZW5ndGggPSB0byAtIGZyb207CgkgICAgICAgIHZhciBjb3B5ID0gbmV3IEludDMyQXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgU3lzdGVtXzEkNS5kZWZhdWx0LmFycmF5Y29weShvcmlnaW5hbCwgZnJvbSwgY29weSwgMCwgbmV3TGVuZ3RoKTsKCSAgICAgICAgcmV0dXJuIGNvcHk7CgkgICAgfTsKCSAgICAvKgoJICAgICogUmV0dXJucyB0aGUgaW5kZXggb2Ygb2YgdGhlIGVsZW1lbnQgaW4gYSBzb3J0ZWQgYXJyYXkgb3IgKC1uLTEpIHdoZXJlIG4gaXMgdGhlIGluc2VydGlvbiBwb2ludAoJICAgICogZm9yIHRoZSBuZXcgZWxlbWVudC4KCSAgICAqIFBhcmFtZXRlcnM6CgkgICAgKiAgICAgYXIgLSBBIHNvcnRlZCBhcnJheQoJICAgICogICAgIGVsIC0gQW4gZWxlbWVudCB0byBzZWFyY2ggZm9yCgkgICAgKiAgICAgY29tcGFyYXRvciAtIEEgY29tcGFyYXRvciBmdW5jdGlvbi4gVGhlIGZ1bmN0aW9uIHRha2VzIHR3byBhcmd1bWVudHM6IChhLCBiKSBhbmQgcmV0dXJuczoKCSAgICAqICAgICAgICBhIG5lZ2F0aXZlIG51bWJlciAgaWYgYSBpcyBsZXNzIHRoYW4gYjsKCSAgICAqICAgICAgICAwIGlmIGEgaXMgZXF1YWwgdG8gYjsKCSAgICAqICAgICAgICBhIHBvc2l0aXZlIG51bWJlciBvZiBhIGlzIGdyZWF0ZXIgdGhhbiBiLgoJICAgICogVGhlIGFycmF5IG1heSBjb250YWluIGR1cGxpY2F0ZSBlbGVtZW50cy4gSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgZXF1YWwgZWxlbWVudHMgaW4gdGhlIGFycmF5LAoJICAgICogdGhlIHJldHVybmVkIHZhbHVlIGNhbiBiZSB0aGUgaW5kZXggb2YgYW55IG9uZSBvZiB0aGUgZXF1YWwgZWxlbWVudHMuCgkgICAgKgoJICAgICogaHR0cDovL2pzZmlkZGxlLm5ldC9hcnl6aG92L3BrZnN0NTUwLwoJICAgICovCgkgICAgQXJyYXlzLmJpbmFyeVNlYXJjaCA9IGZ1bmN0aW9uIChhciwgZWwsIGNvbXBhcmF0b3IpIHsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY29tcGFyYXRvcikgewoJICAgICAgICAgICAgY29tcGFyYXRvciA9IEFycmF5cy5udW1iZXJDb21wYXJhdG9yOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtID0gMDsKCSAgICAgICAgdmFyIG4gPSBhci5sZW5ndGggLSAxOwoJICAgICAgICB3aGlsZSAobSA8PSBuKSB7CgkgICAgICAgICAgICB2YXIgayA9IChuICsgbSkgPj4gMTsKCSAgICAgICAgICAgIHZhciBjbXAgPSBjb21wYXJhdG9yKGVsLCBhcltrXSk7CgkgICAgICAgICAgICBpZiAoY21wID4gMCkgewoJICAgICAgICAgICAgICAgIG0gPSBrICsgMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA8IDApIHsKCSAgICAgICAgICAgICAgICBuID0gayAtIDE7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gLW0gLSAxOwoJICAgIH07CgkgICAgQXJyYXlzLm51bWJlckNvbXBhcmF0b3IgPSBmdW5jdGlvbiAoYSwgYikgewoJICAgICAgICByZXR1cm4gYSAtIGI7CgkgICAgfTsKCSAgICByZXR1cm4gQXJyYXlzOwoJfSgpKTsKCUFycmF5cyQxLmRlZmF1bHQgPSBBcnJheXM7CgoJdmFyIEludGVnZXIkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlZ2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogUG9ueWZpbGwgZm9yIEphdmEncyBJbnRlZ2VyIGNsYXNzLgoJICovCgl2YXIgSW50ZWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBJbnRlZ2VyKCkgewoJICAgIH0KCSAgICBJbnRlZ2VyLm51bWJlck9mVHJhaWxpbmdaZXJvcyA9IGZ1bmN0aW9uIChpKSB7CgkgICAgICAgIHZhciB5OwoJICAgICAgICBpZiAoaSA9PT0gMCkKCSAgICAgICAgICAgIHJldHVybiAzMjsKCSAgICAgICAgdmFyIG4gPSAzMTsKCSAgICAgICAgeSA9IGkgPDwgMTY7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDE2OwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgeSA9IGkgPDwgODsKCSAgICAgICAgaWYgKHkgIT09IDApIHsKCSAgICAgICAgICAgIG4gLT0gODsKCSAgICAgICAgICAgIGkgPSB5OwoJICAgICAgICB9CgkgICAgICAgIHkgPSBpIDw8IDQ7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDQ7CgkgICAgICAgICAgICBpID0geTsKCSAgICAgICAgfQoJICAgICAgICB5ID0gaSA8PCAyOwoJICAgICAgICBpZiAoeSAhPT0gMCkgewoJICAgICAgICAgICAgbiAtPSAyOwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG4gLSAoKGkgPDwgMSkgPj4+IDMxKTsKCSAgICB9OwoJICAgIEludGVnZXIubnVtYmVyT2ZMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiAoaSkgewoJICAgICAgICAvLyBIRCwgRmlndXJlIDUtNgoJICAgICAgICBpZiAoaSA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDMyOwoJICAgICAgICB9CgkgICAgICAgIHZhciBuID0gMTsKCSAgICAgICAgaWYgKGkgPj4+IDE2ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDE2OwoJICAgICAgICAgICAgaSA8PD0gMTY7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGkgPj4+IDI0ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDg7CgkgICAgICAgICAgICBpIDw8PSA4OwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID4+PiAyOCA9PT0gMCkgewoJICAgICAgICAgICAgbiArPSA0OwoJICAgICAgICAgICAgaSA8PD0gNDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaSA+Pj4gMzAgPT09IDApIHsKCSAgICAgICAgICAgIG4gKz0gMjsKCSAgICAgICAgICAgIGkgPDw9IDI7CgkgICAgICAgIH0KCSAgICAgICAgbiAtPSBpID4+PiAzMTsKCSAgICAgICAgcmV0dXJuIG47CgkgICAgfTsKCSAgICBJbnRlZ2VyLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgcmV0dXJuIGkudG9TdHJpbmcoMTYpOwoJICAgIH07CgkgICAgSW50ZWdlci50b0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uIChpbnROdW1iZXIpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZyhwYXJzZUludChTdHJpbmcoaW50TnVtYmVyKSwgMikpOwoJICAgIH07CgkgICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4gVGhpcyBmdW5jdGlvbiBpcyBzb21ldGltZXMgcmVmZXJyZWQgdG8gYXMgdGhlIHBvcHVsYXRpb24gY291bnQuCgkgICAgLy8gUmV0dXJuczoKCSAgICAvLyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4KCSAgICBJbnRlZ2VyLmJpdENvdW50ID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgLy8gSEQsIEZpZ3VyZSA1LTIKCSAgICAgICAgaSA9IGkgLSAoKGkgPj4+IDEpICYgMHg1NTU1NTU1NSk7CgkgICAgICAgIGkgPSAoaSAmIDB4MzMzMzMzMzMpICsgKChpID4+PiAyKSAmIDB4MzMzMzMzMzMpOwoJICAgICAgICBpID0gKGkgKyAoaSA+Pj4gNCkpICYgMHgwZjBmMGYwZjsKCSAgICAgICAgaSA9IGkgKyAoaSA+Pj4gOCk7CgkgICAgICAgIGkgPSBpICsgKGkgPj4+IDE2KTsKCSAgICAgICAgcmV0dXJuIGkgJiAweDNmOwoJICAgIH07CgkgICAgSW50ZWdlci50cnVuY0RpdmlzaW9uID0gZnVuY3Rpb24gKGRpdmlkZW5kLCBkaXZpc29yKSB7CgkgICAgICAgIHJldHVybiBNYXRoLnRydW5jKGRpdmlkZW5kIC8gZGl2aXNvcik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBBIHN0cmluZyB0byBhbiBpbnRlZ2VyLgoJICAgICAqIEBwYXJhbSBzIEEgc3RyaW5nIHRvIGNvbnZlcnQgaW50byBhIG51bWJlci4KCSAgICAgKiBAcGFyYW0gcmFkaXggQSB2YWx1ZSBiZXR3ZWVuIDIgYW5kIDM2IHRoYXQgc3BlY2lmaWVzIHRoZSBiYXNlIG9mIHRoZSBudW1iZXIgaW4gbnVtU3RyaW5nLiBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBzdXBwbGllZCwgc3RyaW5ncyB3aXRoIGEgcHJlZml4IG9mICcweCcgYXJlIGNvbnNpZGVyZWQgaGV4YWRlY2ltYWwuIEFsbCBvdGhlciBzdHJpbmdzIGFyZSBjb25zaWRlcmVkIGRlY2ltYWwuCgkgICAgICovCgkgICAgSW50ZWdlci5wYXJzZUludCA9IGZ1bmN0aW9uIChudW0sIHJhZGl4KSB7CgkgICAgICAgIGlmIChyYWRpeCA9PT0gdm9pZCAwKSB7IHJhZGl4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIHJldHVybiBwYXJzZUludChudW0sIHJhZGl4KTsKCSAgICB9OwoJICAgIEludGVnZXIuTUlOX1ZBTFVFXzMyX0JJVFMgPSAtMjE0NzQ4MzY0ODsKCSAgICBJbnRlZ2VyLk1BWF9WQUxVRSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgIHJldHVybiBJbnRlZ2VyOwoJfSgpKTsKCUludGVnZXIkMS5kZWZhdWx0ID0gSW50ZWdlcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdEFycmF5JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDggPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheXNfMSQxID0gQXJyYXlzJDE7Cgl2YXIgSW50ZWdlcl8xJDIgPSBJbnRlZ2VyJDE7Cgl2YXIgU3lzdGVtXzEkNCA9IFN5c3RlbSQxOwoJLyoqCgkgKiA8cD5BIHNpbXBsZSwgZmFzdCBhcnJheSBvZiBiaXRzLCByZXByZXNlbnRlZCBjb21wYWN0bHkgYnkgYW4gYXJyYXkgb2YgaW50cyBpbnRlcm5hbGx5LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgQml0QXJyYXkgLyppbXBsZW1lbnRzIENsb25lYWJsZSovID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsKCSAgICAvLyAgIHRoaXMuc2l6ZSA9IDAKCSAgICAvLyAgIHRoaXMuYml0cyA9IG5ldyBJbnQzMkFycmF5KDEpCgkgICAgLy8gfQoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcihzaXplPzogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh1bmRlZmluZWQgPT09IHNpemUpIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gMAoJICAgIC8vICAgfSBlbHNlIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gc2l6ZQoJICAgIC8vICAgfQoJICAgIC8vICAgdGhpcy5iaXRzID0gdGhpcy5tYWtlQXJyYXkoc2l6ZSkKCSAgICAvLyB9CgkgICAgLy8gRm9yIHRlc3Rpbmcgb25seQoJICAgIGZ1bmN0aW9uIEJpdEFycmF5KHNpemUgLyppbnQqLywgYml0cykgewoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBzaXplKSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSAwOwoJICAgICAgICAgICAgdGhpcy5iaXRzID0gbmV3IEludDMyQXJyYXkoMSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSBzaXplOwoJICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gQml0QXJyYXkubWFrZUFycmF5KHNpemUpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH0KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTsKCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXRTaXplSW5CeXRlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuc2l6ZSArIDcpIC8gOCk7CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZW5zdXJlQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmIChzaXplID4gdGhpcy5iaXRzLmxlbmd0aCAqIDMyKSB7CgkgICAgICAgICAgICB2YXIgbmV3Qml0cyA9IEJpdEFycmF5Lm1ha2VBcnJheShzaXplKTsKCSAgICAgICAgICAgIFN5c3RlbV8xJDQuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5iaXRzLCAwLCBuZXdCaXRzLCAwLCB0aGlzLmJpdHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBpIGJpdCB0byBnZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGJpdCBpIGlzIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiAodGhpcy5iaXRzW01hdGguZmxvb3IoaSAvIDMyKV0gJiAoMSA8PCAoaSAmIDB4MUYpKSkgIT09IDA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHRoaXMuYml0c1tNYXRoLmZsb29yKGkgLyAzMildIHw9IDEgPDwgKGkgJiAweDFGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEZsaXBzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5mbGlwID0gZnVuY3Rpb24gKGkgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSBePSAxIDw8IChpICYgMHgxRik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBmaXJzdCBiaXQgdG8gY2hlY2sKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIGZpcnN0IGJpdCB0aGF0IGlzIHNldCwgc3RhcnRpbmcgZnJvbSB0aGUgZ2l2ZW4gaW5kZXgsIG9yIHNpemUgaWYgbm9uZSBhcmUgc2V0CgkgICAgICogIGF0IG9yIGJleW9uZCB0aGlzIGdpdmVuIGluZGV4CgkgICAgICogQHNlZSAjZ2V0TmV4dFVuc2V0KGludCkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0TmV4dFNldCA9IGZ1bmN0aW9uIChmcm9tIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7CgkgICAgICAgIGlmIChmcm9tID49IHNpemUpIHsKCSAgICAgICAgICAgIHJldHVybiBzaXplOwoJICAgICAgICB9CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IE1hdGguZmxvb3IoZnJvbSAvIDMyKTsKCSAgICAgICAgdmFyIGN1cnJlbnRCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgLy8gbWFzayBvZmYgbGVzc2VyIGJpdHMgZmlyc3QKCSAgICAgICAgY3VycmVudEJpdHMgJj0gfigoMSA8PCAoZnJvbSAmIDB4MUYpKSAtIDEpOwoJICAgICAgICB2YXIgbGVuZ3RoID0gYml0cy5sZW5ndGg7CgkgICAgICAgIHdoaWxlIChjdXJyZW50Qml0cyA9PT0gMCkgewoJICAgICAgICAgICAgaWYgKCsrYml0c09mZnNldCA9PT0gbGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjdXJyZW50Qml0cyA9IGJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBpbmRleCB0byBzdGFydCBsb29raW5nIGZvciB1bnNldCBiaXQKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgdW5zZXQgYml0LCBvciB7QGNvZGUgc2l6ZX0gaWYgbm9uZSBhcmUgdW5zZXQgdW50aWwgdGhlIGVuZAoJICAgICAqIEBzZWUgI2dldE5leHRTZXQoaW50KQoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXROZXh0VW5zZXQgPSBmdW5jdGlvbiAoZnJvbSAvKmludCovKSB7CgkgICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplOwoJICAgICAgICBpZiAoZnJvbSA+PSBzaXplKSB7CgkgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIGJpdHNPZmZzZXQgPSBNYXRoLmZsb29yKGZyb20gLyAzMik7CgkgICAgICAgIHZhciBjdXJyZW50Qml0cyA9IH5iaXRzW2JpdHNPZmZzZXRdOwoJICAgICAgICAvLyBtYXNrIG9mZiBsZXNzZXIgYml0cyBmaXJzdAoJICAgICAgICBjdXJyZW50Qml0cyAmPSB+KCgxIDw8IChmcm9tICYgMHgxRikpIC0gMSk7CgkgICAgICAgIHZhciBsZW5ndGggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgd2hpbGUgKGN1cnJlbnRCaXRzID09PSAwKSB7CgkgICAgICAgICAgICBpZiAoKytiaXRzT2Zmc2V0ID09PSBsZW5ndGgpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGN1cnJlbnRCaXRzID0gfmJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgYmxvY2sgb2YgMzIgYml0cywgc3RhcnRpbmcgYXQgYml0IGkuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gaSBmaXJzdCBiaXQgdG8gc2V0CgkgICAgICogQHBhcmFtIG5ld0JpdHMgdGhlIG5ldyB2YWx1ZSBvZiB0aGUgbmV4dCAzMiBiaXRzLiBOb3RlIGFnYWluIHRoYXQgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdAoJICAgICAqIGNvcnJlc3BvbmRzIHRvIGJpdCBpLCB0aGUgbmV4dC1sZWFzdC1zaWduaWZpY2FudCB0byBpKzEsIGFuZCBzbyBvbi4KCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0QnVsayA9IGZ1bmN0aW9uIChpIC8qaW50Ki8sIG5ld0JpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgcmFuZ2Ugb2YgYml0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydCBzdGFydCBvZiByYW5nZSwgaW5jbHVzaXZlLgoJICAgICAqIEBwYXJhbSBlbmQgZW5kIG9mIHJhbmdlLCBleGNsdXNpdmUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0UmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQgLyppbnQqLywgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIGVuZC0tOyAvLyB3aWxsIGJlIGVhc2llciB0byB0cmVhdCB0aGlzIGFzIHRoZSBsYXN0IGFjdHVhbGx5IHNldCBiaXQgLS0gaW5jbHVzaXZlCgkgICAgICAgIHZhciBmaXJzdEludCA9IE1hdGguZmxvb3Ioc3RhcnQgLyAzMik7CgkgICAgICAgIHZhciBsYXN0SW50ID0gTWF0aC5mbG9vcihlbmQgLyAzMik7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RJbnQ7IGkgPD0gbGFzdEludDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgZmlyc3RCaXQgPSBpID4gZmlyc3RJbnQgPyAwIDogc3RhcnQgJiAweDFGOwoJICAgICAgICAgICAgdmFyIGxhc3RCaXQgPSBpIDwgbGFzdEludCA/IDMxIDogZW5kICYgMHgxRjsKCSAgICAgICAgICAgIC8vIE9uZXMgZnJvbSBmaXJzdEJpdCB0byBsYXN0Qml0LCBpbmNsdXNpdmUKCSAgICAgICAgICAgIHZhciBtYXNrID0gKDIgPDwgbGFzdEJpdCkgLSAoMSA8PCBmaXJzdEJpdCk7CgkgICAgICAgICAgICBiaXRzW2ldIHw9IG1hc2s7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbWF4ID0gdGhpcy5iaXRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGJpdHNbaV0gPSAwOwoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBFZmZpY2llbnQgbWV0aG9kIHRvIGNoZWNrIGlmIGEgcmFuZ2Ugb2YgYml0cyBpcyBzZXQsIG9yIG5vdCBzZXQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnQgc3RhcnQgb2YgcmFuZ2UsIGluY2x1c2l2ZS4KCSAgICAgKiBAcGFyYW0gZW5kIGVuZCBvZiByYW5nZSwgZXhjbHVzaXZlCgkgICAgICogQHBhcmFtIHZhbHVlIGlmIHRydWUsIGNoZWNrcyB0aGF0IGJpdHMgaW4gcmFuZ2UgYXJlIHNldCwgb3RoZXJ3aXNlIGNoZWNrcyB0aGF0IHRoZXkgYXJlIG5vdCBzZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGFsbCBiaXRzIGFyZSBzZXQgb3Igbm90IHNldCBpbiByYW5nZSwgYWNjb3JkaW5nIHRvIHZhbHVlIGFyZ3VtZW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgZW5kIGlzIGxlc3MgdGhhbiBzdGFydCBvciB0aGUgcmFuZ2UgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgYXJyYXkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuaXNSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCAvKmludCovLCBlbmQgLyppbnQqLywgdmFsdWUpIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGVtcHR5IHJhbmdlIG1hdGNoZXMKCSAgICAgICAgfQoJICAgICAgICBlbmQtLTsgLy8gd2lsbCBiZSBlYXNpZXIgdG8gdHJlYXQgdGhpcyBhcyB0aGUgbGFzdCBhY3R1YWxseSBzZXQgYml0IC0tIGluY2x1c2l2ZQoJICAgICAgICB2YXIgZmlyc3RJbnQgPSBNYXRoLmZsb29yKHN0YXJ0IC8gMzIpOwoJICAgICAgICB2YXIgbGFzdEludCA9IE1hdGguZmxvb3IoZW5kIC8gMzIpOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW50OyBpIDw9IGxhc3RJbnQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGZpcnN0Qml0ID0gaSA+IGZpcnN0SW50ID8gMCA6IHN0YXJ0ICYgMHgxRjsKCSAgICAgICAgICAgIHZhciBsYXN0Qml0ID0gaSA8IGxhc3RJbnQgPyAzMSA6IGVuZCAmIDB4MUY7CgkgICAgICAgICAgICAvLyBPbmVzIGZyb20gZmlyc3RCaXQgdG8gbGFzdEJpdCwgaW5jbHVzaXZlCgkgICAgICAgICAgICB2YXIgbWFzayA9ICgyIDw8IGxhc3RCaXQpIC0gKDEgPDwgZmlyc3RCaXQpICYgMHhGRkZGRkZGRjsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiAmIDB4RkZGRkZGRkYgYWRkZWQgdG8gZGlzY2FyZCBhbnl0aGluZyBhZnRlciAzMiBiaXRzLCBhcyBFUyBoYXMgNTMgYml0cwoJICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIHdlJ3JlIGxvb2tpbmcgZm9yIDFzIGFuZCB0aGUgbWFza2VkIGJpdHNbaV0gaXNuJ3QgYWxsIDFzIChpczogdGhhdCwKCSAgICAgICAgICAgIC8vIGVxdWFscyB0aGUgbWFzaywgb3Igd2UncmUgbG9va2luZyBmb3IgMHMgYW5kIHRoZSBtYXNrZWQgcG9ydGlvbiBpcyBub3QgYWxsIDBzCgkgICAgICAgICAgICBpZiAoKGJpdHNbaV0gJiBtYXNrKSAhPT0gKHZhbHVlID8gbWFzayA6IDApKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0cnVlOwoJICAgIH07CgkgICAgQml0QXJyYXkucHJvdG90eXBlLmFwcGVuZEJpdCA9IGZ1bmN0aW9uIChiaXQpIHsKCSAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh0aGlzLnNpemUgKyAxKTsKCSAgICAgICAgaWYgKGJpdCkgewoJICAgICAgICAgICAgdGhpcy5iaXRzW01hdGguZmxvb3IodGhpcy5zaXplIC8gMzIpXSB8PSAxIDw8ICh0aGlzLnNpemUgJiAweDFGKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLnNpemUrKzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFwcGVuZHMgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdHMsIGZyb20gdmFsdWUsIGluIG9yZGVyIGZyb20gbW9zdC1zaWduaWZpY2FudCB0bwoJICAgICAqIGxlYXN0LXNpZ25pZmljYW50LiBGb3IgZXhhbXBsZSwgYXBwZW5kaW5nIDYgYml0cyBmcm9tIDB4MDAwMDAxRSB3aWxsIGFwcGVuZCB0aGUgYml0cwoJICAgICAqIDAsIDEsIDEsIDEsIDEsIDAgaW4gdGhhdCBvcmRlci4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB2YWx1ZSB7QGNvZGUgaW50fSBjb250YWluaW5nIGJpdHMgdG8gYXBwZW5kCgkgICAgICogQHBhcmFtIG51bUJpdHMgYml0cyBmcm9tIHZhbHVlIHRvIGFwcGVuZAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5hcHBlbmRCaXRzID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICBpZiAobnVtQml0cyA8IDAgfHwgbnVtQml0cyA+IDMyKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOC5kZWZhdWx0KCdOdW0gYml0cyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMzInKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmVuc3VyZUNhcGFjaXR5KHRoaXMuc2l6ZSArIG51bUJpdHMpOwoJICAgICAgICAvLyBjb25zdCBhcHBlbmRCaXQgPSB0aGlzLmFwcGVuZEJpdDsKCSAgICAgICAgZm9yICh2YXIgbnVtQml0c0xlZnQgPSBudW1CaXRzOyBudW1CaXRzTGVmdCA+IDA7IG51bUJpdHNMZWZ0LS0pIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KCgodmFsdWUgPj4gKG51bUJpdHNMZWZ0IC0gMSkpICYgMHgwMSkgPT09IDEpOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuYXBwZW5kQml0QXJyYXkgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdmFyIG90aGVyU2l6ZSA9IG90aGVyLnNpemU7CgkgICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkodGhpcy5zaXplICsgb3RoZXJTaXplKTsKCSAgICAgICAgLy8gY29uc3QgYXBwZW5kQml0ID0gdGhpcy5hcHBlbmRCaXQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3RoZXJTaXplOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KG90aGVyLmdldChpKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gb3RoZXIuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDguZGVmYXVsdCgnU2l6ZXMgZG9uXCd0IG1hdGNoJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGJpdHMubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgLy8gVGhlIGxhc3QgaW50IGNvdWxkIGJlIGluY29tcGxldGUgKGkuZS4gbm90IGhhdmUgMzIgYml0cyBpbgoJICAgICAgICAgICAgLy8gaXQpIGJ1dCB0aGVyZSBpcyBubyBwcm9ibGVtIHNpbmNlIDAgWE9SIDAgPT0gMC4KCSAgICAgICAgICAgIGJpdHNbaV0gXj0gb3RoZXIuYml0c1tpXTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0T2Zmc2V0IGZpcnN0IGJpdCB0byBzdGFydCB3cml0aW5nCgkgICAgICogQHBhcmFtIGFycmF5IGFycmF5IHRvIHdyaXRlIGludG8uIEJ5dGVzIGFyZSB3cml0dGVuIG1vc3Qtc2lnbmlmaWNhbnQgYnl0ZSBmaXJzdC4gVGhpcyBpcyB0aGUgb3Bwb3NpdGUKCSAgICAgKiAgb2YgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uLCB3aGljaCBpcyBleHBvc2VkIGJ5IHtAbGluayAjZ2V0Qml0QXJyYXkoKX0KCSAgICAgKiBAcGFyYW0gb2Zmc2V0IHBvc2l0aW9uIGluIGFycmF5IHRvIHN0YXJ0IHdyaXRpbmcKCSAgICAgKiBAcGFyYW0gbnVtQnl0ZXMgaG93IG1hbnkgYnl0ZXMgdG8gd3JpdGUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uIChiaXRPZmZzZXQgLyppbnQqLywgYXJyYXksIG9mZnNldCAvKmludCovLCBudW1CeXRlcyAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQnl0ZXM7IGkrKykgewoJICAgICAgICAgICAgdmFyIHRoZUJ5dGUgPSAwOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA4OyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoYml0T2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICB0aGVCeXRlIHw9IDEgPDwgKDcgLSBqKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBpXSA9IC8qKGJ5dGUpKi8gdGhlQnl0ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB1bmRlcmx5aW5nIGFycmF5IG9mIGludHMuIFRoZSBmaXJzdCBlbGVtZW50IGhvbGRzIHRoZSBmaXJzdCAzMiBiaXRzLCBhbmQgdGhlIGxlYXN0CgkgICAgICogICAgICAgICBzaWduaWZpY2FudCBiaXQgaXMgYml0IDAuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmdldEJpdEFycmF5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV2ZXJzZXMgYWxsIGJpdHMgaW4gdGhlIGFycmF5LgoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3Qml0cyA9IG5ldyBJbnQzMkFycmF5KHRoaXMuYml0cy5sZW5ndGgpOwoJICAgICAgICAvLyByZXZlcnNlIGFsbCBpbnQncyBmaXJzdAoJICAgICAgICB2YXIgbGVuID0gTWF0aC5mbG9vcigodGhpcy5zaXplIC0gMSkgLyAzMik7CgkgICAgICAgIHZhciBvbGRCaXRzTGVuID0gbGVuICsgMTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQml0c0xlbjsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeCA9IGJpdHNbaV07CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDEpICYgMHg1NTU1NTU1NSkgfCAoKHggJiAweDU1NTU1NTU1KSA8PCAxKTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMikgJiAweDMzMzMzMzMzKSB8ICgoeCAmIDB4MzMzMzMzMzMpIDw8IDIpOwoJICAgICAgICAgICAgeCA9ICgoeCA+PiA0KSAmIDB4MGYwZjBmMGYpIHwgKCh4ICYgMHgwZjBmMGYwZikgPDwgNCk7CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDgpICYgMHgwMGZmMDBmZikgfCAoKHggJiAweDAwZmYwMGZmKSA8PCA4KTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMTYpICYgMHgwMDAwZmZmZikgfCAoKHggJiAweDAwMDBmZmZmKSA8PCAxNik7CgkgICAgICAgICAgICBuZXdCaXRzW2xlbiAtIGldID0gLyooaW50KSovIHg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm93IGNvcnJlY3QgdGhlIGludCdzIGlmIHRoZSBiaXQgc2l6ZSBpc24ndCBhIG11bHRpcGxlIG9mIDMyCgkgICAgICAgIGlmICh0aGlzLnNpemUgIT09IG9sZEJpdHNMZW4gKiAzMikgewoJICAgICAgICAgICAgdmFyIGxlZnRPZmZzZXQgPSBvbGRCaXRzTGVuICogMzIgLSB0aGlzLnNpemU7CgkgICAgICAgICAgICB2YXIgY3VycmVudEludCA9IG5ld0JpdHNbMF0gPj4+IGxlZnRPZmZzZXQ7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG9sZEJpdHNMZW47IGkrKykgewoJICAgICAgICAgICAgICAgIHZhciBuZXh0SW50ID0gbmV3Qml0c1tpXTsKCSAgICAgICAgICAgICAgICBjdXJyZW50SW50IHw9IG5leHRJbnQgPDwgKDMyIC0gbGVmdE9mZnNldCk7CgkgICAgICAgICAgICAgICAgbmV3Qml0c1tpIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICAgICAgICAgIGN1cnJlbnRJbnQgPSBuZXh0SW50ID4+PiBsZWZ0T2Zmc2V0OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgbmV3Qml0c1tvbGRCaXRzTGVuIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICBCaXRBcnJheS5tYWtlQXJyYXkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheShNYXRoLmZsb29yKChzaXplICsgMzEpIC8gMzIpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdEFycmF5KSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnNpemUgPT09IG90aGVyLnNpemUgJiYgQXJyYXlzXzEkMS5kZWZhdWx0LmVxdWFscyh0aGlzLmJpdHMsIG90aGVyLmJpdHMpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogdGhpcy5zaXplICsgQXJyYXlzXzEkMS5kZWZhdWx0Lmhhc2hDb2RlKHRoaXMuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcmVzdWx0ID0gJyc7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBzaXplID0gdGhpcy5zaXplOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICBpZiAoKGkgJiAweDA3KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnICc7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5nZXQoaSkgPyAnWCcgOiAnLic7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0QXJyYXkodGhpcy5zaXplLCB0aGlzLmJpdHMuc2xpY2UoKSk7CgkgICAgfTsKCSAgICByZXR1cm4gQml0QXJyYXk7Cgl9KCkpOwoJQml0QXJyYXkkMS5kZWZhdWx0ID0gQml0QXJyYXk7CgoJdmFyIEJpdE1hdHJpeCQxID0ge307CgoJdmFyIFN0cmluZ0J1aWxkZXIkMSA9IHt9OwoKCXZhciBTdHJpbmdVdGlscyQxID0ge307CgoJdmFyIERlY29kZUhpbnRUeXBlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY29kZUhpbnRUeXBlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIHR5cGUgb2YgaGludCB0aGF0IGEgY2FsbGVyIG1heSBwYXNzIHRvIGEgYmFyY29kZSByZWFkZXIgdG8gaGVscCBpdAoJICogbW9yZSBxdWlja2x5IG9yIGFjY3VyYXRlbHkgZGVjb2RlIGl0LiBJdCBpcyB1cCB0byBpbXBsZW1lbnRhdGlvbnMgdG8gZGVjaWRlIHdoYXQsCgkgKiBpZiBhbnl0aGluZywgdG8gZG8gd2l0aCB0aGUgaW5mb3JtYXRpb24gdGhhdCBpcyBzdXBwbGllZC4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBzZWUgUmVhZGVyI2RlY29kZShCaW5hcnlCaXRtYXAsamF2YS51dGlsLk1hcCkKCSAqLwoJdmFyIERlY29kZUhpbnRUeXBlOwoJKGZ1bmN0aW9uIChEZWNvZGVIaW50VHlwZSkgewoJICAgIC8qKgoJICAgICAqIFVuc3BlY2lmaWVkLCBhcHBsaWNhdGlvbi1zcGVjaWZpYyBoaW50LiBNYXBzIHRvIGFuIHVuc3BlY2lmaWVkIHtAbGluayBPYmplY3R9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJPVEhFUiJdID0gMF0gPSAiT1RIRVIiOyAvKihPYmplY3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJbWFnZSBpcyBhIHB1cmUgbW9ub2Nocm9tZSBpbWFnZSBvZiBhIGJhcmNvZGUuIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bzsKCSAgICAgKiB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlBVUkVfQkFSQ09ERSJdID0gMV0gPSAiUFVSRV9CQVJDT0RFIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEltYWdlIGlzIGtub3duIHRvIGJlIG9mIG9uZSBvZiBhIGZldyBwb3NzaWJsZSBmb3JtYXRzLgoJICAgICAqIE1hcHMgdG8gYSB7QGxpbmsgTGlzdH0gb2Yge0BsaW5rIEJhcmNvZGVGb3JtYXR9cy4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiUE9TU0lCTEVfRk9STUFUUyJdID0gMl0gPSAiUE9TU0lCTEVfRk9STUFUUyI7IC8qKExpc3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVuZCBtb3JlIHRpbWUgdG8gdHJ5IHRvIGZpbmQgYSBiYXJjb2RlOyBvcHRpbWl6ZSBmb3IgYWNjdXJhY3ksIG5vdCBzcGVlZC4KCSAgICAgKiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87IHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiVFJZX0hBUkRFUiJdID0gM10gPSAiVFJZX0hBUkRFUiI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVjaWZpZXMgd2hhdCBjaGFyYWN0ZXIgZW5jb2RpbmcgdG8gdXNlIHdoZW4gZGVjb2RpbmcsIHdoZXJlIGFwcGxpY2FibGUgKHR5cGUgU3RyaW5nKQoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJDSEFSQUNURVJfU0VUIl0gPSA0XSA9ICJDSEFSQUNURVJfU0VUIjsgLyooU3RyaW5nLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQWxsb3dlZCBsZW5ndGhzIG9mIGVuY29kZWQgZGF0YSAtLSByZWplY3QgYW55dGhpbmcgZWxzZS4gTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfTEVOR1RIUyJdID0gNV0gPSAiQUxMT1dFRF9MRU5HVEhTIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEFzc3VtZSBDb2RlIDM5IGNvZGVzIGVtcGxveSBhIGNoZWNrIGRpZ2l0LiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87CgkgICAgICogdXNlIHtAbGluayBCb29sZWFuI1RSVUV9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJBU1NVTUVfQ09ERV8zOV9DSEVDS19ESUdJVCJdID0gNl0gPSAiQVNTVU1FX0NPREVfMzlfQ0hFQ0tfRElHSVQiOyAvKihWb2lkLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQXNzdW1lIHRoZSBiYXJjb2RlIGlzIGJlaW5nIHByb2Nlc3NlZCBhcyBhIEdTMSBiYXJjb2RlLCBhbmQgbW9kaWZ5IGJlaGF2aW9yIGFzIG5lZWRlZC4KCSAgICAgKiBGb3IgZXhhbXBsZSB0aGlzIGFmZmVjdHMgRk5DMSBoYW5kbGluZyBmb3IgQ29kZSAxMjggKGFrYSBHUzEtMTI4KS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOwoJICAgICAqIHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiQVNTVU1FX0dTMSJdID0gN10gPSAiQVNTVU1FX0dTMSI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJZiB0cnVlLCByZXR1cm4gdGhlIHN0YXJ0IGFuZCBlbmQgZGlnaXRzIGluIGEgQ29kYWJhciBiYXJjb2RlIGluc3RlYWQgb2Ygc3RyaXBwaW5nIHRoZW0uIFRoZXkKCSAgICAgKiBhcmUgYWxwaGEsIHdoZXJlYXMgdGhlIHJlc3QgYXJlIG51bWVyaWMuIEJ5IGRlZmF1bHQsIHRoZXkgYXJlIHN0cmlwcGVkLCBidXQgdGhpcyBjYXVzZXMgdGhlbQoJICAgICAqIHRvIG5vdCBiZS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOyB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlJFVFVSTl9DT0RBQkFSX1NUQVJUX0VORCJdID0gOF0gPSAiUkVUVVJOX0NPREFCQVJfU1RBUlRfRU5EIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIFRoZSBjYWxsZXIgbmVlZHMgdG8gYmUgbm90aWZpZWQgdmlhIGNhbGxiYWNrIHdoZW4gYSBwb3NzaWJsZSB7QGxpbmsgUmVzdWx0UG9pbnR9CgkgICAgICogaXMgZm91bmQuIE1hcHMgdG8gYSB7QGxpbmsgUmVzdWx0UG9pbnRDYWxsYmFja30uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIk5FRURfUkVTVUxUX1BPSU5UX0NBTExCQUNLIl0gPSA5XSA9ICJORUVEX1JFU1VMVF9QT0lOVF9DQUxMQkFDSyI7IC8qKFJlc3VsdFBvaW50Q2FsbGJhY2suY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBBbGxvd2VkIGV4dGVuc2lvbiBsZW5ndGhzIGZvciBFQU4gb3IgVVBDIGJhcmNvZGVzLiBPdGhlciBmb3JtYXRzIHdpbGwgaWdub3JlIHRoaXMuCgkgICAgICogTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0gb2YgdGhlIGFsbG93ZWQgZXh0ZW5zaW9uIGxlbmd0aHMsIGZvciBleGFtcGxlIFsyXSwgWzVdLCBvciBbMiwgNV0uCgkgICAgICogSWYgaXQgaXMgb3B0aW9uYWwgdG8gaGF2ZSBhbiBleHRlbnNpb24sIGRvIG5vdCBzZXQgdGhpcyBoaW50LiBJZiB0aGlzIGlzIHNldCwKCSAgICAgKiBhbmQgYSBVUEMgb3IgRUFOIGJhcmNvZGUgaXMgZm91bmQgYnV0IGFuIGV4dGVuc2lvbiBpcyBub3QsIHRoZW4gbm8gcmVzdWx0IHdpbGwgYmUgcmV0dXJuZWQKCSAgICAgKiBhdCBhbGwuCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfRUFOX0VYVEVOU0lPTlMiXSA9IDEwXSA9ICJBTExPV0VEX0VBTl9FWFRFTlNJT05TIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8vIEVuZCBvZiBlbnVtZXJhdGlvbiB2YWx1ZXMuCgkgICAgLyoqCgkgICAgICogRGF0YSB0eXBlIHRoZSBoaW50IGlzIGV4cGVjdGluZy4KCSAgICAgKiBBbW9uZyB0aGUgcG9zc2libGUgdmFsdWVzIHRoZSB7QGxpbmsgVm9pZH0gc3RhbmRzIG91dCBhcyBiZWluZyB1c2VkIGZvcgoJICAgICAqIGhpbnRzIHRoYXQgZG8gbm90IGV4cGVjdCBhIHZhbHVlIHRvIGJlIHN1cHBsaWVkIChmbGFnIGhpbnRzKS4gU3VjaCBoaW50cwoJICAgICAqIHdpbGwgcG9zc2libHkgaGF2ZSB0aGVpciB2YWx1ZSBpZ25vcmVkLCBvciByZXBsYWNlZCBieSBhCgkgICAgICoge0BsaW5rIEJvb2xlYW4jVFJVRX0uIEhpbnQgc3VwcGxpZXJzIHNob3VsZCBwcm9iYWJseSB1c2UKCSAgICAgKiB7QGxpbmsgQm9vbGVhbiNUUlVFfSBhcyBkaXJlY3RlZCBieSB0aGUgYWN0dWFsIGhpbnQgZG9jdW1lbnRhdGlvbi4KCSAgICAgKi8KCSAgICAvLyBwcml2YXRlIHZhbHVlVHlwZTogQ2xhc3M8Pz4KCSAgICAvLyBEZWNvZGVIaW50VHlwZSh2YWx1ZVR5cGU6IENsYXNzPD8+KSB7CgkgICAgLy8gICB0aGlzLnZhbHVlVHlwZSA9IHZhbHVlVHlwZQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgZ2V0VmFsdWVUeXBlKCk6IENsYXNzPD8+IHsKCSAgICAvLyAgIHJldHVybiB2YWx1ZVR5cGUKCSAgICAvLyB9Cgl9KShEZWNvZGVIaW50VHlwZSB8fCAoRGVjb2RlSGludFR5cGUgPSB7fSkpOwoJRGVjb2RlSGludFR5cGUkMS5kZWZhdWx0ID0gRGVjb2RlSGludFR5cGU7CgoJdmFyIENoYXJhY3RlclNldEVDSSA9IHt9OwoKCXZhciBGb3JtYXRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGb3JtYXRFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDcgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRm9ybWF0RXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRmKEZvcm1hdEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBGb3JtYXRFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEV4Y2VwdGlvbigpOwoJICAgIH07CgkgICAgRm9ybWF0RXhjZXB0aW9uLmtpbmQgPSAnRm9ybWF0RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRm9ybWF0RXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ3LmRlZmF1bHQpKTsKCUZvcm1hdEV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBGb3JtYXRFeGNlcHRpb247CgoJKGZ1bmN0aW9uIChleHBvcnRzKSB7CgkvKgoJICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCWV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHZvaWQgMDsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xID0gRm9ybWF0RXhjZXB0aW9uJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsqLwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJdmFyIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnM7CgkoZnVuY3Rpb24gKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMpIHsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwNDM3Il0gPSAwXSA9ICJDcDQzNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEiXSA9IDFdID0gIklTTzg4NTlfMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzIiXSA9IDJdID0gIklTTzg4NTlfMiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzMiXSA9IDNdID0gIklTTzg4NTlfMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzQiXSA9IDRdID0gIklTTzg4NTlfNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzUiXSA9IDVdID0gIklTTzg4NTlfNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzYiXSA9IDZdID0gIklTTzg4NTlfNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzciXSA9IDddID0gIklTTzg4NTlfNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzgiXSA9IDhdID0gIklTTzg4NTlfOCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzkiXSA9IDldID0gIklTTzg4NTlfOSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEwIl0gPSAxMF0gPSAiSVNPODg1OV8xMCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzExIl0gPSAxMV0gPSAiSVNPODg1OV8xMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEzIl0gPSAxMl0gPSAiSVNPODg1OV8xMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE0Il0gPSAxM10gPSAiSVNPODg1OV8xNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE1Il0gPSAxNF0gPSAiSVNPODg1OV8xNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE2Il0gPSAxNV0gPSAiSVNPODg1OV8xNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJTSklTIl0gPSAxNl0gPSAiU0pJUyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTAiXSA9IDE3XSA9ICJDcDEyNTAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQ3AxMjUxIl0gPSAxOF0gPSAiQ3AxMjUxIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwMTI1MiJdID0gMTldID0gIkNwMTI1MiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTYiXSA9IDIwXSA9ICJDcDEyNTYiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siVW5pY29kZUJpZ1VubWFya2VkIl0gPSAyMV0gPSAiVW5pY29kZUJpZ1VubWFya2VkIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIlVURjgiXSA9IDIyXSA9ICJVVEY4IjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkFTQ0lJIl0gPSAyM10gPSAiQVNDSUkiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQmlnNSJdID0gMjRdID0gIkJpZzUiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siR0IxODAzMCJdID0gMjVdID0gIkdCMTgwMzAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siRVVDX0tSIl0gPSAyNl0gPSAiRVVDX0tSIjsKCX0pKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgPSBleHBvcnRzLkNoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgfHwgKGV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHt9KSk7CgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIENoYXJhY3RlciBTZXQgRUNJLCBhY2NvcmRpbmcgdG8gIkV4dGVuZGVkIENoYW5uZWwgSW50ZXJwcmV0YXRpb25zIiA1LjMuMS4xCgkgKiBvZiBJU08gMTgwMDQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIENoYXJhY3RlclNldEVDSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBDaGFyYWN0ZXJTZXRFQ0kodmFsdWVJZGVudGlmaWVyLCB2YWx1ZXNQYXJhbSwgbmFtZSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG90aGVyRW5jb2RpbmdOYW1lcyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgb3RoZXJFbmNvZGluZ05hbWVzW19pIC0gM10gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmFsdWVJZGVudGlmaWVyID0gdmFsdWVJZGVudGlmaWVyOwoJICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwoJICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1BhcmFtID09PSAnbnVtYmVyJykgewoJICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBJbnQzMkFycmF5LmZyb20oW3ZhbHVlc1BhcmFtXSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlc1BhcmFtOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzOwoJICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVfSURFTlRJRklFUl9UT19FQ0kuc2V0KHZhbHVlSWRlbnRpZmllciwgdGhpcyk7CgkgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQobmFtZSwgdGhpcyk7CgkgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlczsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gdmFsdWVzLmxlbmd0aDsgaSAhPT0gbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZXNbaV07CgkgICAgICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVTX1RPX0VDSS5zZXQodiwgdGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIG90aGVyRW5jb2RpbmdOYW1lc18xID0gX192YWx1ZXMob3RoZXJFbmNvZGluZ05hbWVzKSwgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKTsgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZTsgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBvdGhlck5hbWUgPSBvdGhlckVuY29kaW5nTmFtZXNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQob3RoZXJOYW1lLCB0aGlzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKG90aGVyRW5jb2RpbmdOYW1lc18xXzEgJiYgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZSAmJiAoX2EgPSBvdGhlckVuY29kaW5nTmFtZXNfMS5yZXR1cm4pKSBfYS5jYWxsKG90aGVyRW5jb2RpbmdOYW1lc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgIH0KCSAgICAvLyBDaGFyYWN0ZXJTZXRFQ0kodmFsdWU6IG51bWJlciAvKmludCovKSB7CgkgICAgLy8gICB0aGlzKG5ldyBJbnQzMkFycmF5IHt2YWx1ZX0pCgkgICAgLy8gfQoJICAgIC8vIENoYXJhY3RlclNldEVDSSh2YWx1ZTogbnVtYmVyIC8qaW50Ki8sIFN0cmluZy4uLiBvdGhlckVuY29kaW5nTmFtZXMpIHsKCSAgICAvLyAgIHRoaXMudmFsdWVzID0gbmV3IEludDMyQXJyYXkge3ZhbHVlfQoJICAgIC8vICAgdGhpcy5vdGhlckVuY29kaW5nTmFtZXMgPSBvdGhlckVuY29kaW5nTmFtZXMKCSAgICAvLyB9CgkgICAgLy8gQ2hhcmFjdGVyU2V0RUNJKHZhbHVlczogSW50MzJBcnJheSwgU3RyaW5nLi4uIG90aGVyRW5jb2RpbmdOYW1lcykgewoJICAgIC8vICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXMKCSAgICAvLyAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzCgkgICAgLy8gfQoJICAgIENoYXJhY3RlclNldEVDSS5wcm90b3R5cGUuZ2V0VmFsdWVJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUlkZW50aWZpZXI7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm5hbWU7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmFsdWUgY2hhcmFjdGVyIHNldCBFQ0kgdmFsdWUKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBDaGFyYWN0ZXJTZXRFQ0l9IHJlcHJlc2VudGluZyBFQ0kgb2YgZ2l2ZW4gdmFsdWUsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwgYnV0CgkgICAgICogICB1bnN1cHBvcnRlZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIEVDSSB2YWx1ZSBpcyBpbnZhbGlkCgkgICAgICovCgkgICAgQ2hhcmFjdGVyU2V0RUNJLmdldENoYXJhY3RlclNldEVDSUJ5VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IDkwMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGNoYXJhY3RlclNldCA9IENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJLmdldCh2YWx1ZSk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNoYXJhY3RlclNldCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGNoYXJhY3RlclNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBuYW1lIGNoYXJhY3RlciBzZXQgRUNJIGVuY29kaW5nIG5hbWUKCSAgICAgKiBAcmV0dXJuIENoYXJhY3RlclNldEVDSSByZXByZXNlbnRpbmcgRUNJIGZvciBjaGFyYWN0ZXIgZW5jb2RpbmcsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwKCSAgICAgKiAgIGJ1dCB1bnN1cHBvcnRlZAoJICAgICAqLwoJICAgIENoYXJhY3RlclNldEVDSS5nZXRDaGFyYWN0ZXJTZXRFQ0lCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gQ2hhcmFjdGVyU2V0RUNJLk5BTUVfVE9fRUNJLmdldChuYW1lKTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgnaW5jb3JlY3QgdmFsdWUnKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY2hhcmFjdGVyU2V0OwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgQ2hhcmFjdGVyU2V0RUNJKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLmdldE5hbWUoKSA9PT0gb3RoZXIuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlZBTFVFX0lERU5USUZJRVJfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSSA9IG5ldyBNYXAoKTsKCSAgICAvLyBFbnVtIG5hbWUgaXMgYSBKYXZhIGVuY29kaW5nIHZhbGlkIGZvciBqYXZhLmxhbmcgYW5kIGphdmEuaW8KCSAgICAvLyBUWVBFU0NSSVBUUE9SVDogY2hhbmdlZCB0aGUgbWFpbiBsYWJlbCBmb3IgSVNPIGFzIHRoZSBUZXh0RW5jb2RlciBkaWQgbm90IHJlY29nbml6ZWQgdGhlbSBpbiB0aGUgZm9ybSBmcm9tIGphdmEKCSAgICAvLyAoZWcgSVNPODg1OV8xIG11c3QgYmUgSVNPODg1OTEgb3IgSVNPODg1OS0xIG9yIElTTy04ODU5LTEpCgkgICAgLy8gbGF0ZXIgb246IHdlbGwsIGV4Y2VwdCAxNiB3aWNoIGRvZXMgbm90IHdvcmsgd2l0aCBJU084ODU5MTYgc28gdXNlZCBJU08tODg1OS0xIGZvcm0gZm9yIGRlZmF1bHQKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3A0MzcgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3A0MzcsIEludDMyQXJyYXkuZnJvbShbMCwgMl0pLCAnQ3A0MzcnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMSwgSW50MzJBcnJheS5mcm9tKFsxLCAzXSksICdJU08tODg1OS0xJywgJ0lTTzg4NTkxJywgJ0lTTzg4NTlfMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzIgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8yLCA0LCAnSVNPLTg4NTktMicsICdJU084ODU5MicsICdJU084ODU5XzInKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8zID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMywgNSwgJ0lTTy04ODU5LTMnLCAnSVNPODg1OTMnLCAnSVNPODg1OV8zJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzQsIDYsICdJU08tODg1OS00JywgJ0lTTzg4NTk0JywgJ0lTTzg4NTlfNCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV81LCA3LCAnSVNPLTg4NTktNScsICdJU084ODU5NScsICdJU084ODU5XzUnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV82ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfNiwgOCwgJ0lTTy04ODU5LTYnLCAnSVNPODg1OTYnLCAnSVNPODg1OV82Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzcsIDksICdJU08tODg1OS03JywgJ0lTTzg4NTk3JywgJ0lTTzg4NTlfNycpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV84LCAxMCwgJ0lTTy04ODU5LTgnLCAnSVNPODg1OTgnLCAnSVNPODg1OV84Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfOSA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzksIDExLCAnSVNPLTg4NTktOScsICdJU084ODU5OScsICdJU084ODU5XzknKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xMCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzEwLCAxMiwgJ0lTTy04ODU5LTEwJywgJ0lTTzg4NTkxMCcsICdJU084ODU5XzEwJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xMSwgMTMsICdJU08tODg1OS0xMScsICdJU084ODU5MTEnLCAnSVNPODg1OV8xMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzEzID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTMsIDE1LCAnSVNPLTg4NTktMTMnLCAnSVNPODg1OTEzJywgJ0lTTzg4NTlfMTMnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzE0LCAxNiwgJ0lTTy04ODU5LTE0JywgJ0lTTzg4NTkxNCcsICdJU084ODU5XzE0Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xNSwgMTcsICdJU08tODg1OS0xNScsICdJU084ODU5MTUnLCAnSVNPODg1OV8xNScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzE2ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTYsIDE4LCAnSVNPLTg4NTktMTYnLCAnSVNPODg1OTE2JywgJ0lTTzg4NTlfMTYnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuU0pJUyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5TSklTLCAyMCwgJ1NKSVMnLCAnU2hpZnRfSklTJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1MCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTAsIDIxLCAnQ3AxMjUwJywgJ3dpbmRvd3MtMTI1MCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5DcDEyNTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3AxMjUxLCAyMiwgJ0NwMTI1MScsICd3aW5kb3dzLTEyNTEnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3AxMjUyID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkNwMTI1MiwgMjMsICdDcDEyNTInLCAnd2luZG93cy0xMjUyJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1NiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTYsIDI0LCAnQ3AxMjU2JywgJ3dpbmRvd3MtMTI1NicpOwoJICAgIENoYXJhY3RlclNldEVDSS5Vbmljb2RlQmlnVW5tYXJrZWQgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVW5pY29kZUJpZ1VubWFya2VkLCAyNSwgJ1VuaWNvZGVCaWdVbm1hcmtlZCcsICdVVEYtMTZCRScsICdVbmljb2RlQmlnJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlVURjggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVVRGOCwgMjYsICdVVEY4JywgJ1VURi04Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkFTQ0lJID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkFTQ0lJLCBJbnQzMkFycmF5LmZyb20oWzI3LCAxNzBdKSwgJ0FTQ0lJJywgJ1VTLUFTQ0lJJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkJpZzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQmlnNSwgMjgsICdCaWc1Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkdCMTgwMzAgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuR0IxODAzMCwgMjksICdHQjE4MDMwJywgJ0dCMjMxMicsICdFVUNfQ04nLCAnR0JLJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkVVQ19LUiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5FVUNfS1IsIDMwLCAnRVVDX0tSJywgJ0VVQy1LUicpOwoJICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0k7Cgl9KCkpOwoJZXhwb3J0cy5kZWZhdWx0ID0gQ2hhcmFjdGVyU2V0RUNJOwoKCX0oQ2hhcmFjdGVyU2V0RUNJKSk7CgoJdmFyIFN0cmluZ0VuY29kaW5nJDEgPSB7fTsKCgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNiA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5raW5kID0gJ1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCkpOwoJVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMS5kZWZhdWx0ID0gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ0VuY29kaW5nJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEgPSBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxOwoJdmFyIENoYXJhY3RlclNldEVDSV8xJDIgPSBDaGFyYWN0ZXJTZXRFQ0k7CgkvKioKCSAqIFJlc3BvbnNpYmxlIGZvciBlbi9kZWNvZGluZyBzdHJpbmdzLgoJICovCgl2YXIgU3RyaW5nRW5jb2RpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nRW5jb2RpbmcoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIERlY29kZXMgc29tZSBVaW50OEFycmF5IHRvIGEgc3RyaW5nIGZvcm1hdC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5kZWNvZGUgPSBmdW5jdGlvbiAoYnl0ZXMsIGVuY29kaW5nKSB7CgkgICAgICAgIHZhciBlbmNvZGluZ05hbWUgPSB0aGlzLmVuY29kaW5nTmFtZShlbmNvZGluZyk7CgkgICAgICAgIGlmICh0aGlzLmN1c3RvbURlY29kZXIpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbURlY29kZXIoYnl0ZXMsIGVuY29kaW5nTmFtZSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSW5jcmVhc2VzIGJyb3dzZXIgc3VwcG9ydC4KCSAgICAgICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5zaG91bGREZWNvZGVPbkZhbGxiYWNrKGVuY29kaW5nTmFtZSkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUZhbGxiYWNrKGJ5dGVzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmdOYW1lKS5kZWNvZGUoYnl0ZXMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ2hlY2tzIGlmIHRoZSBkZWNvZGluZyBtZXRob2Qgc2hvdWxkIHVzZSB0aGUgZmFsbGJhY2sgZm9yIGRlY29kaW5nCgkgICAgICogb25jZSBOb2RlIFRleHREZWNvZGVyIGRvZXNuJ3Qgc3VwcG9ydCBhbGwgZW5jb2RpbmcgZm9ybWF0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBlbmNvZGluZ05hbWUKCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5zaG91bGREZWNvZGVPbkZhbGxiYWNrID0gZnVuY3Rpb24gKGVuY29kaW5nTmFtZSkgewoJICAgICAgICByZXR1cm4gIVN0cmluZ0VuY29kaW5nLmlzQnJvd3NlcigpICYmIGVuY29kaW5nTmFtZSA9PT0gJ0lTTy04ODU5LTEnOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRW5jb2RlcyBzb21lIHN0cmluZyBpbnRvIGEgVWludDhBcnJheS4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGUgPSBmdW5jdGlvbiAocywgZW5jb2RpbmcpIHsKCSAgICAgICAgdmFyIGVuY29kaW5nTmFtZSA9IHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKTsKCSAgICAgICAgaWYgKHRoaXMuY3VzdG9tRW5jb2RlcikgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRW5jb2RlcihzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEluY3JlYXNlcyBicm93c2VyIHN1cHBvcnQuCgkgICAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICd1bmRlZmluZWQnKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVGYWxsYmFjayhzKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBUZXh0RW5jb2RlciBvbmx5IGVuY29kZXMgdG8gVVRGOCBieSBkZWZhdWx0IGFzIHNwZWNpZmllZCBieSBlbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcKCSAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzQnJvd3NlciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHdpbmRvdykgPT09ICdbb2JqZWN0IFdpbmRvd10nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHN0cmluZyB2YWx1ZSBmcm9tIHNvbWUgZW5jb2RpbmcgY2hhcmFjdGVyIHNldC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGluZ05hbWUgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycKCSAgICAgICAgICAgID8gZW5jb2RpbmcKCSAgICAgICAgICAgIDogZW5jb2RpbmcuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBjaGFyYWN0ZXIgc2V0IGZyb20gc29tZSBlbmNvZGluZyBjaGFyYWN0ZXIgc2V0LgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmVuY29kaW5nQ2hhcmFjdGVyU2V0ID0gZnVuY3Rpb24gKGVuY29kaW5nKSB7CgkgICAgICAgIGlmIChlbmNvZGluZyBpbnN0YW5jZW9mIENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdCkgewoJICAgICAgICAgICAgcmV0dXJuIGVuY29kaW5nOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlOYW1lKGVuY29kaW5nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJ1bnMgYSBmYWxsYmFjayBmb3IgdGhlIG5hdGl2ZSBkZWNvZGluZyBmdW5jaW9uLgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmRlY29kZUZhbGxiYWNrID0gZnVuY3Rpb24gKGJ5dGVzLCBlbmNvZGluZykgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gdGhpcy5lbmNvZGluZ0NoYXJhY3RlclNldChlbmNvZGluZyk7CgkgICAgICAgIGlmIChTdHJpbmdFbmNvZGluZy5pc0RlY29kZUZhbGxiYWNrU3VwcG9ydGVkKGNoYXJhY3RlclNldCkpIHsKCSAgICAgICAgICAgIHZhciBzID0gJyc7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBieXRlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGggPSBieXRlc1tpXS50b1N0cmluZygxNik7CgkgICAgICAgICAgICAgICAgaWYgKGgubGVuZ3RoIDwgMikgewoJICAgICAgICAgICAgICAgICAgICBoID0gJzAnICsgaDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcyArPSAnJScgKyBoOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuVW5pY29kZUJpZ1VubWFya2VkKSkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQxNkFycmF5KGJ5dGVzLmJ1ZmZlcikpOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgiRW5jb2RpbmcgIiArIHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKSArICIgbm90IHN1cHBvcnRlZCBieSBmYWxsYmFjay4iKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzRGVjb2RlRmFsbGJhY2tTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgIHJldHVybiBjaGFyYWN0ZXJTZXQuZXF1YWxzKENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdC5VVEY4KSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuSVNPODg1OV8xKSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuQVNDSUkpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUnVucyBhIGZhbGxiYWNrIGZvciB0aGUgbmF0aXZlIGVuY29kaW5nIGZ1bmNpb24uCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzE5Mjg0NS80MzY3NjgzCgkgICAgICovCgkgICAgU3RyaW5nRW5jb2RpbmcuZW5jb2RlRmFsbGJhY2sgPSBmdW5jdGlvbiAocykgewoJICAgICAgICB2YXIgZW5jb2RlZFVSSXN0cmluZyA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSk7CgkgICAgICAgIHZhciBjaGFyTGlzdCA9IGVuY29kZWRVUklzdHJpbmcuc3BsaXQoJycpOwoJICAgICAgICB2YXIgdWludEFycmF5ID0gW107CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhckxpc3QubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHVpbnRBcnJheS5wdXNoKGNoYXJMaXN0W2ldLmNoYXJDb2RlQXQoMCkpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh1aW50QXJyYXkpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0VuY29kaW5nOwoJfSgpKTsKCVN0cmluZ0VuY29kaW5nJDEuZGVmYXVsdCA9IFN0cmluZ0VuY29kaW5nOwoKCS8qCgkgKiBDb3B5cmlnaHQgKEMpIDIwMTAgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ1V0aWxzJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQzID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSQxID0gQ2hhcmFjdGVyU2V0RUNJOwoJdmFyIFN0cmluZ0VuY29kaW5nXzEkMSA9IFN0cmluZ0VuY29kaW5nJDE7CgkvKioKCSAqIENvbW1vbiBzdHJpbmctcmVsYXRlZCBmdW5jdGlvbnMuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgQWxleCBEdXByZQoJICovCgl2YXIgU3RyaW5nVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nVXRpbHMoKSB7CgkgICAgfQoJICAgIC8vIFNISUZUX0pJUy5lcXVhbHNJZ25vcmVDYXNlKFBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcpIHx8CgkgICAgLy8gRVVDX0pQLmVxdWFsc0lnbm9yZUNhc2UoUExBVEZPUk1fREVGQVVMVF9FTkNPRElORyk7CgkgICAgU3RyaW5nVXRpbHMuY2FzdEFzTm9uVXRmOENoYXIgPSBmdW5jdGlvbiAoY29kZSwgZW5jb2RpbmcpIHsKCSAgICAgICAgaWYgKGVuY29kaW5nID09PSB2b2lkIDApIHsgZW5jb2RpbmcgPSBudWxsOyB9CgkgICAgICAgIC8vIElTTyA4ODU5LTEgaXMgdGhlIEphdmEgZGVmYXVsdCBhcyBVVEYtOCBpcyBKYXZhU2NyaXB0cwoJICAgICAgICAvLyB5b3UgY2FuIHNlZSB0aGlzIG1ldGhvZCBhcyBhIEphdmEgdmVyc2lvbiBvZiBTdHJpbmcuZnJvbUNoYXJDb2RlCgkgICAgICAgIHZhciBlID0gZW5jb2RpbmcgPyBlbmNvZGluZy5nZXROYW1lKCkgOiB0aGlzLklTTzg4NTkxOwoJICAgICAgICAvLyB1c2UgcGFzc2VkIGZvcm1hdCAoZnJvbUNoYXJDb2RlIHdpbGwgcmV0dXJuIFVURjggZW5jb2RpbmcpCgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoW2NvZGVdKSwgZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYnl0ZXMgYnl0ZXMgZW5jb2RpbmcgYSBzdHJpbmcsIHdob3NlIGVuY29kaW5nIHNob3VsZCBiZSBndWVzc2VkCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kZSBoaW50cyBpZiBhcHBsaWNhYmxlCgkgICAgICogQHJldHVybiBuYW1lIG9mIGd1ZXNzZWQgZW5jb2Rpbmc7IGF0IHRoZSBtb21lbnQgd2lsbCBvbmx5IGd1ZXNzIG9uZSBvZjoKCSAgICAgKiAge0BsaW5rICNTSElGVF9KSVN9LCB7QGxpbmsgI1VURjh9LCB7QGxpbmsgI0lTTzg4NTkxfSwgb3IgdGhlIHBsYXRmb3JtCgkgICAgICogIGRlZmF1bHQgZW5jb2RpbmcgaWYgbm9uZSBvZiB0aGVzZSBjYW4gcG9zc2libHkgYmUgY29ycmVjdAoJICAgICAqLwoJICAgIFN0cmluZ1V0aWxzLmd1ZXNzRW5jb2RpbmcgPSBmdW5jdGlvbiAoYnl0ZXMsIGhpbnRzKSB7CgkgICAgICAgIGlmIChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpKSB7CgkgICAgICAgICAgICByZXR1cm4gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpLnRvU3RyaW5nKCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRm9yIG5vdywgbWVyZWx5IHRyaWVzIHRvIGRpc3Rpbmd1aXNoIElTTy04ODU5LTEsIFVURi04IGFuZCBTaGlmdF9KSVMsCgkgICAgICAgIC8vIHdoaWNoIHNob3VsZCBiZSBieSBmYXIgdGhlIG1vc3QgY29tbW9uIGVuY29kaW5ncy4KCSAgICAgICAgdmFyIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDsKCSAgICAgICAgdmFyIGNhbkJlSVNPODg1OTEgPSB0cnVlOwoJICAgICAgICB2YXIgY2FuQmVTaGlmdEpJUyA9IHRydWU7CgkgICAgICAgIHZhciBjYW5CZVVURjggPSB0cnVlOwoJICAgICAgICB2YXIgdXRmOEJ5dGVzTGVmdCA9IDA7CgkgICAgICAgIC8vIGludCB1dGY4TG93Q2hhcnMgPSAwCgkgICAgICAgIHZhciB1dGYyQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGYzQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGY0Qnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciBzamlzQnl0ZXNMZWZ0ID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNMb3dDaGFycyA9IDAKCSAgICAgICAgdmFyIHNqaXNLYXRha2FuYUNoYXJzID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNEb3VibGVCeXRlc0NoYXJzID0gMAoJICAgICAgICB2YXIgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgIHZhciBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgdmFyIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSAwOwoJICAgICAgICB2YXIgc2ppc01heERvdWJsZUJ5dGVzV29yZExlbmd0aCA9IDA7CgkgICAgICAgIC8vIGludCBpc29Mb3dDaGFycyA9IDAKCSAgICAgICAgLy8gaW50IGlzb0hpZ2hDaGFycyA9IDAKCSAgICAgICAgdmFyIGlzb0hpZ2hPdGhlciA9IDA7CgkgICAgICAgIHZhciB1dGY4Ym9tID0gYnl0ZXMubGVuZ3RoID4gMyAmJgoJICAgICAgICAgICAgYnl0ZXNbMF0gPT09IC8qKGJ5dGUpICovIDB4RUYgJiYKCSAgICAgICAgICAgIGJ5dGVzWzFdID09PSAvKihieXRlKSAqLyAweEJCICYmCgkgICAgICAgICAgICBieXRlc1syXSA9PT0gLyooYnl0ZSkgKi8gMHhCRjsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggJiYgKGNhbkJlSVNPODg1OTEgfHwgY2FuQmVTaGlmdEpJUyB8fCBjYW5CZVVURjgpOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB2YWx1ZSA9IGJ5dGVzW2ldICYgMHhGRjsKCSAgICAgICAgICAgIC8vIFVURi04IHN0dWZmCgkgICAgICAgICAgICBpZiAoY2FuQmVVVEY4KSB7CgkgICAgICAgICAgICAgICAgaWYgKHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDgwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVVVEY4ID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZhbHVlICYgMHg4MCkgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4NDApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhCeXRlc0xlZnQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDIwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjJCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4MTApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjNCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDA4KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmNEJ5dGVzQ2hhcnMrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlVVRGOCA9IGZhbHNlOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfSAvLyBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyB1dGY4TG93Q2hhcnMrKwoJICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIElTTy04ODU5LTEgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMHg3RiAmJiB2YWx1ZSA8IDB4QTApIHsKCSAgICAgICAgICAgICAgICAgICAgY2FuQmVJU084ODU5MSA9IGZhbHNlOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IDB4OUYpIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMHhDMCB8fCB2YWx1ZSA9PT0gMHhENyB8fCB2YWx1ZSA9PT0gMHhGNykgewoJICAgICAgICAgICAgICAgICAgICAgICAgaXNvSGlnaE90aGVyKys7CgkgICAgICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIGlzb0hpZ2hDaGFycysrCgkgICAgICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgICAgICB9IC8vIGVsc2UgewoJICAgICAgICAgICAgICAgIC8vIGlzb0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAvLyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBTaGlmdF9KSVMgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTKSB7CgkgICAgICAgICAgICAgICAgaWYgKHNqaXNCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDB4NDAgfHwgdmFsdWUgPT09IDB4N0YgfHwgdmFsdWUgPiAweEZDKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVNoaWZ0SklTID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IDB4ODAgfHwgdmFsdWUgPT09IDB4QTAgfHwgdmFsdWUgPiAweEVGKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhbkJlU2hpZnRKSVMgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPiAweEEwICYmIHZhbHVlIDwgMHhFMCkgewoJICAgICAgICAgICAgICAgICAgICBzamlzS2F0YWthbmFDaGFycysrOwoJICAgICAgICAgICAgICAgICAgICBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCsrOwoJICAgICAgICAgICAgICAgICAgICBpZiAoc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA+IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID4gMHg3RikgewoJICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgIC8vIHNqaXNEb3VibGVCeXRlc0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGgrKzsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPiBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gc2ppc0N1ckRvdWJsZUJ5dGVzV29yZExlbmd0aDsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gc2ppc0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPSAwOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmIHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVTaGlmdEpJUyAmJiBzamlzQnl0ZXNMZWZ0ID4gMCkgewoJICAgICAgICAgICAgY2FuQmVTaGlmdEpJUyA9IGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhc3kgLS0gaWYgdGhlcmUgaXMgQk9NIG9yIGF0IGxlYXN0IDEgdmFsaWQgbm90LXNpbmdsZSBieXRlIGNoYXJhY3RlciAoYW5kIG5vIGV2aWRlbmNlIGl0IGNhbid0IGJlIFVURi04KSwgZG9uZQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmICh1dGY4Ym9tIHx8IHV0ZjJCeXRlc0NoYXJzICsgdXRmM0J5dGVzQ2hhcnMgKyB1dGY0Qnl0ZXNDaGFycyA+IDApKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuVVRGODsKCSAgICAgICAgfQoJICAgICAgICAvLyBFYXN5IC0tIGlmIGFzc3VtaW5nIFNoaWZ0X0pJUyBvciBhdCBsZWFzdCAzIHZhbGlkIGNvbnNlY3V0aXZlIG5vdC1hc2NpaSBjaGFyYWN0ZXJzIChhbmQgbm8gZXZpZGVuY2UgaXQgY2FuJ3QgYmUpLCBkb25lCgkgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTICYmIChTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTIHx8IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPj0gMyB8fCBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID49IDMpKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuU0hJRlRfSklTOwoJICAgICAgICB9CgkgICAgICAgIC8vIERpc3Rpbmd1aXNoaW5nIFNoaWZ0X0pJUyBhbmQgSVNPLTg4NTktMSBjYW4gYmUgYSBsaXR0bGUgdG91Z2ggZm9yIHNob3J0IHdvcmRzLiBUaGUgY3J1ZGUgaGV1cmlzdGljIGlzOgoJICAgICAgICAvLyAtIElmIHdlIHNhdwoJICAgICAgICAvLyAgIC0gb25seSB0d28gY29uc2VjdXRpdmUga2F0YWthbmEgY2hhcnMgaW4gdGhlIHdob2xlIHRleHQsIG9yCgkgICAgICAgIC8vICAgLSBhdCBsZWFzdCAxMCUgb2YgYnl0ZXMgdGhhdCBjb3VsZCBiZSAidXBwZXIiIG5vdC1hbHBoYW51bWVyaWMgTGF0aW4xLAoJICAgICAgICAvLyAtIHRoZW4gd2UgY29uY2x1ZGUgU2hpZnRfSklTLCBlbHNlIElTTy04ODU5LTEKCSAgICAgICAgaWYgKGNhbkJlSVNPODg1OTEgJiYgY2FuQmVTaGlmdEpJUykgewoJICAgICAgICAgICAgcmV0dXJuIChzamlzTWF4S2F0YWthbmFXb3JkTGVuZ3RoID09PSAyICYmIHNqaXNLYXRha2FuYUNoYXJzID09PSAyKSB8fCBpc29IaWdoT3RoZXIgKiAxMCA+PSBsZW5ndGgKCSAgICAgICAgICAgICAgICA/IFN0cmluZ1V0aWxzLlNISUZUX0pJUyA6IFN0cmluZ1V0aWxzLklTTzg4NTkxOwoJICAgICAgICB9CgkgICAgICAgIC8vIE90aGVyd2lzZSwgdHJ5IGluIG9yZGVyIElTTy04ODU5LTEsIFNoaWZ0IEpJUywgVVRGLTggYW5kIGZhbGwgYmFjayB0byBkZWZhdWx0IHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuSVNPODg1OTE7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlU2hpZnRKSVMpIHsKCSAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5TSElGVF9KSVM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlVVRGOCkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLlVURjg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSB0YWtlIGEgd2lsZCBndWVzcyB3aXRoIHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5QTEFURk9STV9ERUZBVUxUX0VOQ09ESU5HOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQzOTcxMS80MzY3NjgzCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYXBwZW5kIFRoZSBuZXcgc3RyaW5nIHRvIGFwcGVuZC4KCSAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWV0cyB2YWx1ZXMgdG8gYmUgZm9ybWF0ZWQuCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZm9ybWF0ID0gZnVuY3Rpb24gKGFwcGVuZCkgewoJICAgICAgICB2YXIgYXJncyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaSA9IC0xOwoJICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayhleHAsIHAwLCBwMSwgcDIsIHAzLCBwNCkgewoJICAgICAgICAgICAgaWYgKGV4cCA9PT0gJyUlJykKCSAgICAgICAgICAgICAgICByZXR1cm4gJyUnOwoJICAgICAgICAgICAgaWYgKGFyZ3NbKytpXSA9PT0gdW5kZWZpbmVkKQoJICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CgkgICAgICAgICAgICBleHAgPSBwMiA/IHBhcnNlSW50KHAyLnN1YnN0cigxKSkgOiB1bmRlZmluZWQ7CgkgICAgICAgICAgICB2YXIgYmFzZSA9IHAzID8gcGFyc2VJbnQocDMuc3Vic3RyKDEpKSA6IHVuZGVmaW5lZDsKCSAgICAgICAgICAgIHZhciB2YWw7CgkgICAgICAgICAgICBzd2l0Y2ggKHA0KSB7CgkgICAgICAgICAgICAgICAgY2FzZSAncyc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IGFyZ3NbaV07CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2MnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBhcmdzW2ldWzBdOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdmJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChhcmdzW2ldKS50b0ZpeGVkKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ3AnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvUHJlY2lzaW9uKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2UnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvRXhwb25lbnRpYWwoZXhwKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgY2FzZSAneCc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlSW50KGFyZ3NbaV0pLnRvU3RyaW5nKGJhc2UgPyBiYXNlIDogMTYpOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdkJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChwYXJzZUludChhcmdzW2ldLCBiYXNlID8gYmFzZSA6IDEwKS50b1ByZWNpc2lvbihleHApKS50b0ZpeGVkKDApOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsKSA6ICgrdmFsKS50b1N0cmluZyhiYXNlKTsKCSAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocDEpOyAvKiBwYWRkaW5nIHNpemUgKi8KCSAgICAgICAgICAgIHZhciBjaCA9IHAxICYmIChwMVswXSArICcnKSA9PT0gJzAnID8gJzAnIDogJyAnOyAvKiBpc251bGw/ICovCgkgICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCA8IHNpemUpCgkgICAgICAgICAgICAgICAgdmFsID0gcDAgIT09IHVuZGVmaW5lZCA/IHZhbCArIGNoIDogY2ggKyB2YWw7IC8qIGlzbWludXM/ICovCgkgICAgICAgICAgICByZXR1cm4gdmFsOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZWdleCA9IC8lKC0pPygwP1swLTldKyk/KFsuXVswLTldKyk/KFsjXVswLTldKyk/KFtzY2ZwZXhkJV0pL2c7CgkgICAgICAgIHJldHVybiBhcHBlbmQucmVwbGFjZShyZWdleCwgY2FsbGJhY2spOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRCeXRlcyA9IGZ1bmN0aW9uIChzdHIsIGVuY29kaW5nKSB7CgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5lbmNvZGUoc3RyLCBlbmNvZGluZyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIHRoZSBjaGFyY29kZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IG9yIGF0IGluZGV4IHplcm8uCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUgPSBmdW5jdGlvbiAoc3RyLCBpbmRleCkgewoJICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IDA7IH0KCSAgICAgICAgcmV0dXJuIHN0ci5jaGFyQ29kZUF0KGluZGV4KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgY2hhciBmb3IgZ2l2ZW4gY2hhcmNvZGUKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRDaGFyQXQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpOwoJICAgIH07CgkgICAgU3RyaW5nVXRpbHMuU0hJRlRfSklTID0gQ2hhcmFjdGVyU2V0RUNJXzEkMS5kZWZhdWx0LlNKSVMuZ2V0TmFtZSgpOyAvLyAiU0pJUyIKCSAgICBTdHJpbmdVdGlscy5HQjIzMTIgPSAnR0IyMzEyJzsKCSAgICBTdHJpbmdVdGlscy5JU084ODU5MSA9IENoYXJhY3RlclNldEVDSV8xJDEuZGVmYXVsdC5JU084ODU5XzEuZ2V0TmFtZSgpOyAvLyAiSVNPODg1OV8xIgoJICAgIFN0cmluZ1V0aWxzLkVVQ19KUCA9ICdFVUNfSlAnOwoJICAgIFN0cmluZ1V0aWxzLlVURjggPSBDaGFyYWN0ZXJTZXRFQ0lfMSQxLmRlZmF1bHQuVVRGOC5nZXROYW1lKCk7IC8vICJVVEY4IgoJICAgIFN0cmluZ1V0aWxzLlBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcgPSBTdHJpbmdVdGlscy5VVEY4OyAvLyAiVVRGOCIvL0NoYXJzZXQuZGVmYXVsdENoYXJzZXQoKS5uYW1lKCkKCSAgICBTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTID0gZmFsc2U7CgkgICAgcmV0dXJuIFN0cmluZ1V0aWxzOwoJfSgpKTsKCVN0cmluZ1V0aWxzJDEuZGVmYXVsdCA9IFN0cmluZ1V0aWxzOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmdCdWlsZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBTdHJpbmdVdGlsc18xJDEgPSBTdHJpbmdVdGlscyQxOwoJdmFyIFN0cmluZ0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcih2YWx1ZSkgewoJICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9ICcnOyB9CgkgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKCSAgICB9CgkgICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZW5hYmxlRGVjb2RpbmcgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nOwoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHsKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gcy50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHRoaXMuZW5jb2RpbmcpIHsKCSAgICAgICAgICAgIC8vIHVzZSBwYXNzZWQgZm9ybWF0IChmcm9tQ2hhckNvZGUgd2lsbCByZXR1cm4gVVRGOCBlbmNvZGluZykKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nVXRpbHNfMSQxLmRlZmF1bHQuY2FzdEFzTm9uVXRmOENoYXIocywgdGhpcy5lbmNvZGluZyk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBjb3JyZWN0bHkgY29udmVydHMgZnJvbSBVVEYtOCwgYnV0IG5vdCBvdGhlciBlbmNvZGluZ3MKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZENoYXJzID0gZnVuY3Rpb24gKHN0ciwgb2Zmc2V0LCBsZW4pIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IG9mZnNldDsgb2Zmc2V0IDwgb2Zmc2V0ICsgbGVuOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kKHN0cltpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aDsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmNoYXJBdChuKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRlbGV0ZUNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIHRoaXMudmFsdWUuc3Vic3RyaW5nKG4gKyAxKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnNldENoYXJBdCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgMSk7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zdWJzdHJpbmcgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAbm90ZSBoZWxwZXIgbWV0aG9kIGZvciBSU1MgRXhwYW5kZWQKCSAgICAgKi8KCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zZXRMZW5ndGhUb1plcm8gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSAnJzsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgYy5sZW5ndGgpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0J1aWxkZXI7Cgl9KCkpOwoJU3RyaW5nQnVpbGRlciQxLmRlZmF1bHQgPSBTdHJpbmdCdWlsZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0TWF0cml4JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIEJpdEFycmF5XzEkMSA9IEJpdEFycmF5JDE7Cgl2YXIgU3lzdGVtXzEkMyA9IFN5c3RlbSQxOwoJdmFyIEFycmF5c18xID0gQXJyYXlzJDE7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDIgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNyA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgMkQgbWF0cml4IG9mIGJpdHMuIEluIGZ1bmN0aW9uIGFyZ3VtZW50cyBiZWxvdywgYW5kIHRocm91Z2hvdXQgdGhlIGNvbW1vbgoJICogbW9kdWxlLCB4IGlzIHRoZSBjb2x1bW4gcG9zaXRpb24sIGFuZCB5IGlzIHRoZSByb3cgcG9zaXRpb24uIFRoZSBvcmRlcmluZyBpcyBhbHdheXMgeCwgeS4KCSAqIFRoZSBvcmlnaW4gaXMgYXQgdGhlIHRvcC1sZWZ0LjwvcD4KCSAqCgkgKiA8cD5JbnRlcm5hbGx5IHRoZSBiaXRzIGFyZSByZXByZXNlbnRlZCBpbiBhIDEtRCBhcnJheSBvZiAzMi1iaXQgaW50cy4gSG93ZXZlciwgZWFjaCByb3cgYmVnaW5zCgkgKiB3aXRoIGEgbmV3IGludC4gVGhpcyBpcyBkb25lIGludGVudGlvbmFsbHkgc28gdGhhdCB3ZSBjYW4gY29weSBvdXQgYSByb3cgaW50byBhIEJpdEFycmF5IHZlcnkKCSAqIGVmZmljaWVudGx5LjwvcD4KCSAqCgkgKiA8cD5UaGUgb3JkZXJpbmcgb2YgYml0cyBpcyByb3ctbWFqb3IuIFdpdGhpbiBlYWNoIGludCwgdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgYXJlIHVzZWQgZmlyc3QsCgkgKiBtZWFuaW5nIHRoZXkgcmVwcmVzZW50IGxvd2VyIHggdmFsdWVzLiBUaGlzIGlzIGNvbXBhdGlibGUgd2l0aCBCaXRBcnJheSdzIGltcGxlbWVudGF0aW9uLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpdE1hdHJpeCAvKmltcGxlbWVudHMgQ2xvbmVhYmxlKi8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSBzcXVhcmUge0BsaW5rIEJpdE1hdHJpeH0uCgkgICAgICoKCSAgICAgKiBAcGFyYW0gZGltZW5zaW9uIGhlaWdodCBhbmQgd2lkdGgKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoZGltZW5zaW9uOiBudW1iZXIgLyppbnQqLykgewoJICAgIC8vICAgdGhpcyhkaW1lbnNpb24sIGRpbWVuc2lvbikKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSB7QGxpbmsgQml0TWF0cml4fS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB3aWR0aCBiaXQgbWF0cml4IHdpZHRoCgkgICAgICogQHBhcmFtIGhlaWdodCBiaXQgbWF0cml4IGhlaWdodAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyIC8qaW50Ki8sIGhlaWdodDogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh3aWR0aCA8IDEgfHwgaGVpZ2h0IDwgMSkgewoJICAgIC8vICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJCb3RoIGRpbWVuc2lvbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpCgkgICAgLy8gICB9CgkgICAgLy8gICB0aGlzLndpZHRoID0gd2lkdGgKCSAgICAvLyAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0CgkgICAgLy8gICB0aGlzLnJvd1NpemUgPSAod2lkdGggKyAzMSkgLyAzMgoJICAgIC8vICAgYml0cyA9IG5ldyBpbnRbcm93U2l6ZSAqIGhlaWdodF07CgkgICAgLy8gfQoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeCh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgcm93U2l6ZSAvKmludCovLCBiaXRzKSB7CgkgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsKCSAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CgkgICAgICAgIHRoaXMucm93U2l6ZSA9IHJvd1NpemU7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGhlaWdodCB8fCBudWxsID09PSBoZWlnaHQpIHsKCSAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgICAgICBpZiAod2lkdGggPCAxIHx8IGhlaWdodCA8IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0JvdGggZGltZW5zaW9ucyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gcm93U2l6ZSB8fCBudWxsID09PSByb3dTaXplKSB7CgkgICAgICAgICAgICByb3dTaXplID0gTWF0aC5mbG9vcigod2lkdGggKyAzMSkgLyAzMik7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yb3dTaXplID0gcm93U2l6ZTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICB0aGlzLmJpdHMgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJvd1NpemUgKiB0aGlzLmhlaWdodCk7CgkgICAgICAgIH0KCSAgICB9CgkgICAgLyoqCgkgICAgICogSW50ZXJwcmV0cyBhIDJEIGFycmF5IG9mIGJvb2xlYW5zIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0sIHdoZXJlICJ0cnVlIiBtZWFucyBhbiAib24iIGJpdC4KCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBpbWFnZSBiaXRzIG9mIHRoZSBpbWFnZSwgYXMgYSByb3ctbWFqb3IgMkQgYXJyYXkuIEVsZW1lbnRzIGFyZSBhcnJheXMgcmVwcmVzZW50aW5nIHJvd3MKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCaXRNYXRyaXh9IHJlcHJlc2VudGF0aW9uIG9mIGltYWdlCgkgICAgICovCgkgICAgQml0TWF0cml4LnBhcnNlRnJvbUJvb2xlYW5BcnJheSA9IGZ1bmN0aW9uIChpbWFnZSkgewoJICAgICAgICB2YXIgaGVpZ2h0ID0gaW1hZ2UubGVuZ3RoOwoJICAgICAgICB2YXIgd2lkdGggPSBpbWFnZVswXS5sZW5ndGg7CgkgICAgICAgIHZhciBiaXRzID0gbmV3IEJpdE1hdHJpeCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGltYWdlSSA9IGltYWdlW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7CgkgICAgICAgICAgICAgICAgaWYgKGltYWdlSVtqXSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldChqLCBpKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBzdHJpbmdSZXByZXNlbnRhdGlvbgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcKCSAgICAgKiBAcGFyYW0gdW5zZXRTdHJpbmcKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24gKHN0cmluZ1JlcHJlc2VudGF0aW9uLCBzZXRTdHJpbmcsIHVuc2V0U3RyaW5nKSB7CgkgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnc3RyaW5nUmVwcmVzZW50YXRpb24gY2Fubm90IGJlIG51bGwnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBBcnJheShzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpOwoJICAgICAgICB2YXIgYml0c1BvcyA9IDA7CgkgICAgICAgIHZhciByb3dTdGFydFBvcyA9IDA7CgkgICAgICAgIHZhciByb3dMZW5ndGggPSAtMTsKCSAgICAgICAgdmFyIG5Sb3dzID0gMDsKCSAgICAgICAgdmFyIHBvcyA9IDA7CgkgICAgICAgIHdoaWxlIChwb3MgPCBzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpIHsKCSAgICAgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbi5jaGFyQXQocG9zKSA9PT0gJ1xuJyB8fAoJICAgICAgICAgICAgICAgIHN0cmluZ1JlcHJlc2VudGF0aW9uLmNoYXJBdChwb3MpID09PSAnXHInKSB7CgkgICAgICAgICAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgICAgICAgICBpZiAocm93TGVuZ3RoID09PSAtMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcm93TGVuZ3RoID0gYml0c1BvcyAtIHJvd1N0YXJ0UG9zOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJpdHNQb3MgLSByb3dTdGFydFBvcyAhPT0gcm93TGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdyb3cgbGVuZ3RocyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICByb3dTdGFydFBvcyA9IGJpdHNQb3M7CgkgICAgICAgICAgICAgICAgICAgIG5Sb3dzKys7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHBvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoc3RyaW5nUmVwcmVzZW50YXRpb24uc3Vic3RyaW5nKHBvcywgcG9zICsgc2V0U3RyaW5nLmxlbmd0aCkgPT09IHNldFN0cmluZykgewoJICAgICAgICAgICAgICAgIHBvcyArPSBzZXRTdHJpbmcubGVuZ3RoOwoJICAgICAgICAgICAgICAgIGJpdHNbYml0c1Bvc10gPSB0cnVlOwoJICAgICAgICAgICAgICAgIGJpdHNQb3MrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHN0cmluZ1JlcHJlc2VudGF0aW9uLnN1YnN0cmluZyhwb3MsIHBvcyArIHVuc2V0U3RyaW5nLmxlbmd0aCkgPT09IHVuc2V0U3RyaW5nKSB7CgkgICAgICAgICAgICAgICAgcG9zICs9IHVuc2V0U3RyaW5nLmxlbmd0aDsKCSAgICAgICAgICAgICAgICBiaXRzW2JpdHNQb3NdID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgYml0c1BvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnaWxsZWdhbCBjaGFyYWN0ZXIgZW5jb3VudGVyZWQ6ICcgKyBzdHJpbmdSZXByZXNlbnRhdGlvbi5zdWJzdHJpbmcocG9zKSk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm8gRU9MIGF0IGVuZD8KCSAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgaWYgKHJvd0xlbmd0aCA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICByb3dMZW5ndGggPSBiaXRzUG9zIC0gcm93U3RhcnRQb3M7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmIChiaXRzUG9zIC0gcm93U3RhcnRQb3MgIT09IHJvd0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ3JvdyBsZW5ndGhzIGRvIG5vdCBtYXRjaCcpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgblJvd3MrKzsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEJpdE1hdHJpeChyb3dMZW5ndGgsIG5Sb3dzKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaXRzUG9zOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChiaXRzW2ldKSB7CgkgICAgICAgICAgICAgICAgbWF0cml4LnNldChNYXRoLmZsb29yKGkgJSByb3dMZW5ndGgpLCBNYXRoLmZsb29yKGkgLyByb3dMZW5ndGgpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbWF0cml4OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+R2V0cyB0aGUgcmVxdWVzdGVkIGJpdCwgd2hlcmUgdHJ1ZSBtZWFucyBibGFjay48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0geCBUaGUgaG9yaXpvbnRhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggY29sdW1uKQoJICAgICAqIEBwYXJhbSB5IFRoZSB2ZXJ0aWNhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggcm93KQoJICAgICAqIEByZXR1cm4gdmFsdWUgb2YgZ2l2ZW4gYml0IGluIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7CgkgICAgICAgIHZhciBvZmZzZXQgPSB5ICogdGhpcy5yb3dTaXplICsgTWF0aC5mbG9vcih4IC8gMzIpOwoJICAgICAgICByZXR1cm4gKCh0aGlzLmJpdHNbb2Zmc2V0XSA+Pj4gKHggJiAweDFmKSkgJiAxKSAhPT0gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgdGhlIGdpdmVuIGJpdCB0byB0cnVlLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB4IFRoZSBob3Jpem9udGFsIGNvbXBvbmVudCAoaS5lLiB3aGljaCBjb2x1bW4pCgkgICAgICogQHBhcmFtIHkgVGhlIHZlcnRpY2FsIGNvbXBvbmVudCAoaS5lLiB3aGljaCByb3cpCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIHw9ICgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRjsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdICY9IH4oKDEgPDwgKHggJiAweDFmKSkgJiAweEZGRkZGRkZGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkZsaXBzIHRoZSBnaXZlbiBiaXQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHggVGhlIGhvcml6b250YWwgY29tcG9uZW50IChpLmUuIHdoaWNoIGNvbHVtbikKCSAgICAgKiBAcGFyYW0geSBUaGUgdmVydGljYWwgY29tcG9uZW50IChpLmUuIHdoaWNoIHJvdykKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmZsaXAgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIF49ICgoMSA8PCAoeCAmIDB4MWYpKSAmIDB4RkZGRkZGRkYpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRXhjbHVzaXZlLW9yIChYT1IpOiBGbGlwIHRoZSBiaXQgaW4gdGhpcyB7QGNvZGUgQml0TWF0cml4fSBpZiB0aGUgY29ycmVzcG9uZGluZwoJICAgICAqIG1hc2sgYml0IGlzIHNldC4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBtYXNrIFhPUiBtYXNrCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAobWFzaykgewoJICAgICAgICBpZiAodGhpcy53aWR0aCAhPT0gbWFzay5nZXRXaWR0aCgpIHx8IHRoaXMuaGVpZ2h0ICE9PSBtYXNrLmdldEhlaWdodCgpCgkgICAgICAgICAgICB8fCB0aGlzLnJvd1NpemUgIT09IG1hc2suZ2V0Um93U2l6ZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdpbnB1dCBtYXRyaXggZGltZW5zaW9ucyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcm93QXJyYXkgPSBuZXcgQml0QXJyYXlfMSQxLmRlZmF1bHQoTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMzIpICsgMSk7CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIHZhciBvZmZzZXQgPSB5ICogcm93U2l6ZTsKCSAgICAgICAgICAgIHZhciByb3cgPSBtYXNrLmdldFJvdyh5LCByb3dBcnJheSkuZ2V0Qml0QXJyYXkoKTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcm93U2l6ZTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgYml0c1tvZmZzZXQgKyB4XSBePSByb3dbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBtYXggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkrKykgewoJICAgICAgICAgICAgYml0c1tpXSA9IDA7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgYSBzcXVhcmUgcmVnaW9uIG9mIHRoZSBiaXQgbWF0cml4IHRvIHRydWUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGxlZnQgVGhlIGhvcml6b250YWwgcG9zaXRpb24gdG8gYmVnaW4gYXQgKGluY2x1c2l2ZSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB0byBiZWdpbiBhdCAoaW5jbHVzaXZlKQoJICAgICAqIEBwYXJhbSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlZ2lvbgoJICAgICAqIEBwYXJhbSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVnaW9uCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXRSZWdpb24gPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHRvcCA8IDAgfHwgbGVmdCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0xlZnQgYW5kIHRvcCBtdXN0IGJlIG5vbm5lZ2F0aXZlJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGhlaWdodCA8IDEgfHwgd2lkdGggPCAxKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdIZWlnaHQgYW5kIHdpZHRoIG11c3QgYmUgYXQgbGVhc3QgMScpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByaWdodCA9IGxlZnQgKyB3aWR0aDsKCSAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDsKCSAgICAgICAgaWYgKGJvdHRvbSA+IHRoaXMuaGVpZ2h0IHx8IHJpZ2h0ID4gdGhpcy53aWR0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnVGhlIHJlZ2lvbiBtdXN0IGZpdCBpbnNpZGUgdGhlIG1hdHJpeCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IHRvcDsgeSA8IGJvdHRvbTsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHJvd1NpemU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gbGVmdDsgeCA8IHJpZ2h0OyB4KyspIHsKCSAgICAgICAgICAgICAgICBiaXRzW29mZnNldCArIE1hdGguZmxvb3IoeCAvIDMyKV0gfD0gKCgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRik7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEEgZmFzdCBtZXRob2QgdG8gcmV0cmlldmUgb25lIHJvdyBvZiBkYXRhIGZyb20gdGhlIG1hdHJpeCBhcyBhIEJpdEFycmF5LgoJICAgICAqCgkgICAgICogQHBhcmFtIHkgVGhlIHJvdyB0byByZXRyaWV2ZQoJICAgICAqIEBwYXJhbSByb3cgQW4gb3B0aW9uYWwgY2FsbGVyLWFsbG9jYXRlZCBCaXRBcnJheSwgd2lsbCBiZSBhbGxvY2F0ZWQgaWYgbnVsbCBvciB0b28gc21hbGwKCSAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQml0QXJyYXkgLSB0aGlzIHJlZmVyZW5jZSBzaG91bGQgYWx3YXlzIGJlIHVzZWQgZXZlbiB3aGVuIHBhc3NpbmcKCSAgICAgKiAgICAgICAgIHlvdXIgb3duIHJvdwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Um93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIGlmIChyb3cgPT09IG51bGwgfHwgcm93ID09PSB1bmRlZmluZWQgfHwgcm93LmdldFNpemUoKSA8IHRoaXMud2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh0aGlzLndpZHRoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHJvdy5jbGVhcigpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiByb3dTaXplOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvd1NpemU7IHgrKykgewoJICAgICAgICAgICAgcm93LnNldEJ1bGsoeCAqIDMyLCBiaXRzW29mZnNldCArIHhdKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIHkgcm93IHRvIHNldAoJICAgICAqIEBwYXJhbSByb3cge0BsaW5rIEJpdEFycmF5fSB0byBjb3B5IGZyb20KCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLnNldFJvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykgewoJICAgICAgICBTeXN0ZW1fMSQzLmRlZmF1bHQuYXJyYXljb3B5KHJvdy5nZXRCaXRBcnJheSgpLCAwLCB0aGlzLmJpdHMsIHkgKiB0aGlzLnJvd1NpemUsIHRoaXMucm93U2l6ZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBNb2RpZmllcyB0aGlzIHtAY29kZSBCaXRNYXRyaXh9IHRvIHJlcHJlc2VudCB0aGUgc2FtZSBidXQgcm90YXRlZCAxODAgZGVncmVlcwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUucm90YXRlMTgwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgdG9wUm93ID0gbmV3IEJpdEFycmF5XzEkMS5kZWZhdWx0KHdpZHRoKTsKCSAgICAgICAgdmFyIGJvdHRvbVJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh3aWR0aCk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IE1hdGguZmxvb3IoKGhlaWdodCArIDEpIC8gMik7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB0b3BSb3cgPSB0aGlzLmdldFJvdyhpLCB0b3BSb3cpOwoJICAgICAgICAgICAgYm90dG9tUm93ID0gdGhpcy5nZXRSb3coaGVpZ2h0IC0gMSAtIGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0b3BSb3cucmV2ZXJzZSgpOwoJICAgICAgICAgICAgYm90dG9tUm93LnJldmVyc2UoKTsKCSAgICAgICAgICAgIHRoaXMuc2V0Um93KGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0aGlzLnNldFJvdyhoZWlnaHQgLSAxIC0gaSwgdG9wUm93KTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIHRoZSBlbmNsb3NpbmcgcmVjdGFuZ2xlIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBsZWZ0LHRvcCx3aWR0aCxoZWlnaHR9IGVuY2xvc2luZyByZWN0YW5nbGUgb2YgYWxsIDEgYml0cywgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldEVuY2xvc2luZ1JlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaGVpZ2h0OwoJICAgICAgICB2YXIgcm93U2l6ZSA9IHRoaXMucm93U2l6ZTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBsZWZ0ID0gd2lkdGg7CgkgICAgICAgIHZhciB0b3AgPSBoZWlnaHQ7CgkgICAgICAgIHZhciByaWdodCA9IC0xOwoJICAgICAgICB2YXIgYm90dG9tID0gLTE7CgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHgzMiA9IDA7IHgzMiA8IHJvd1NpemU7IHgzMisrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHRoZUJpdHMgPSBiaXRzW3kgKiByb3dTaXplICsgeDMyXTsKCSAgICAgICAgICAgICAgICBpZiAodGhlQml0cyAhPT0gMCkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA8IHRvcCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA+IGJvdHRvbSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeDMyICogMzIgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHgzMiAqIDMyICsgYml0OwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGlmICh4MzIgKiAzMiArIDMxID4gcmlnaHQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXQgPSAzMTsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgodGhlQml0cyA+Pj4gYml0KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPiByaWdodCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0geDMyICogMzIgKyBiaXQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJpZ2h0IDwgbGVmdCB8fCBib3R0b20gPCB0b3ApIHsKCSAgICAgICAgICAgIHJldHVybiBudWxsOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2xlZnQsIHRvcCwgcmlnaHQgLSBsZWZ0ICsgMSwgYm90dG9tIC0gdG9wICsgMV0pOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIGEgY29ybmVyIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSB4LHl9IGNvb3JkaW5hdGUgb2YgdG9wLWxlZnQtbW9zdCAxIGJpdCwgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldFRvcExlZnRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IDA7CgkgICAgICAgIHdoaWxlIChiaXRzT2Zmc2V0IDwgYml0cy5sZW5ndGggJiYgYml0c1tiaXRzT2Zmc2V0XSA9PT0gMCkgewoJICAgICAgICAgICAgYml0c09mZnNldCsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChiaXRzT2Zmc2V0ID09PSBiaXRzLmxlbmd0aCkgewoJICAgICAgICAgICAgcmV0dXJuIG51bGw7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHkgPSBiaXRzT2Zmc2V0IC8gcm93U2l6ZTsKCSAgICAgICAgdmFyIHggPSAoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDA7CgkgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgYml0Kys7CgkgICAgICAgIH0KCSAgICAgICAgeCArPSBiaXQ7CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW3gsIHldKTsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Qm90dG9tUmlnaHRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IGJpdHMubGVuZ3RoIC0gMTsKCSAgICAgICAgd2hpbGUgKGJpdHNPZmZzZXQgPj0gMCAmJiBiaXRzW2JpdHNPZmZzZXRdID09PSAwKSB7CgkgICAgICAgICAgICBiaXRzT2Zmc2V0LS07CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJpdHNPZmZzZXQgPCAwKSB7CgkgICAgICAgICAgICByZXR1cm4gbnVsbDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoYml0c09mZnNldCAvIHJvd1NpemUpOwoJICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDMxOwoJICAgICAgICB3aGlsZSAoKHRoZUJpdHMgPj4+IGJpdCkgPT09IDApIHsKCSAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICB9CgkgICAgICAgIHggKz0gYml0OwoJICAgICAgICByZXR1cm4gSW50MzJBcnJheS5mcm9tKFt4LCB5XSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMud2lkdGg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSByb3cgc2l6ZSBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRSb3dTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yb3dTaXplOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdE1hdHJpeCkpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy53aWR0aCA9PT0gb3RoZXIud2lkdGggJiYgdGhpcy5oZWlnaHQgPT09IG90aGVyLmhlaWdodCAmJiB0aGlzLnJvd1NpemUgPT09IG90aGVyLnJvd1NpemUgJiYKCSAgICAgICAgICAgIEFycmF5c18xLmRlZmF1bHQuZXF1YWxzKHRoaXMuYml0cywgb3RoZXIuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGhhc2ggPSB0aGlzLndpZHRoOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy53aWR0aDsKCSAgICAgICAgaGFzaCA9IDMxICogaGFzaCArIHRoaXMuaGVpZ2h0OwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy5yb3dTaXplOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgQXJyYXlzXzEuZGVmYXVsdC5oYXNoQ29kZSh0aGlzLmJpdHMpOwoJICAgICAgICByZXR1cm4gaGFzaDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIHVzaW5nICJYIiBmb3Igc2V0IGFuZCAiICIgZm9yIHVuc2V0IGJpdHMKCSAgICAgKi8KCSAgICAvKkBPdmVycmlkZSovCgkgICAgLy8gcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdG9TdHJpbmcoIjogIlgsICIgICIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgdG9TdHJpbmcoc2V0U3RyaW5nOiBzdHJpbmcgPSAiWCAiLCB1bnNldFN0cmluZzogc3RyaW5nID0gIiAgIik6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5idWlsZFRvU3RyaW5nKHNldFN0cmluZywgdW5zZXRTdHJpbmcsICJcbiIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEBwYXJhbSBsaW5lU2VwYXJhdG9yIG5ld2xpbmUgY2hhcmFjdGVyIGluIHN0cmluZyByZXByZXNlbnRhdGlvbgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MgYW5kIGxpbmUgc2VwYXJhdG9yCgkgICAgICogQGRlcHJlY2F0ZWQgY2FsbCB7QGxpbmsgI3RvU3RyaW5nKFN0cmluZyxTdHJpbmcpfSBvbmx5LCB3aGljaCB1c2VzIFxuIGxpbmUgc2VwYXJhdG9yIGFsd2F5cwoJICAgICAqLwoJICAgIC8vIEBEZXByZWNhdGVkCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChzZXRTdHJpbmcsIHVuc2V0U3RyaW5nLCBsaW5lU2VwYXJhdG9yKSB7CgkgICAgICAgIGlmIChzZXRTdHJpbmcgPT09IHZvaWQgMCkgeyBzZXRTdHJpbmcgPSAnWCAnOyB9CgkgICAgICAgIGlmICh1bnNldFN0cmluZyA9PT0gdm9pZCAwKSB7IHVuc2V0U3RyaW5nID0gJyAgJzsgfQoJICAgICAgICBpZiAobGluZVNlcGFyYXRvciA9PT0gdm9pZCAwKSB7IGxpbmVTZXBhcmF0b3IgPSAnXG4nOyB9CgkgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkVG9TdHJpbmcoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcik7CgkgICAgfTsKCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmJ1aWxkVG9TdHJpbmcgPSBmdW5jdGlvbiAoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcikgewoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgLy8gcmVzdWx0LmFwcGVuZChsaW5lU2VwYXJhdG9yKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IHRoaXMud2lkdGg7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0aGlzLmdldCh4LCB5KSA/IHNldFN0cmluZyA6IHVuc2V0U3RyaW5nKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQobGluZVNlcGFyYXRvcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0TWF0cml4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJvd1NpemUsIHRoaXMuYml0cy5zbGljZSgpKTsKCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXg7Cgl9KCkpOwoJQml0TWF0cml4JDEuZGVmYXVsdCA9IEJpdE1hdHJpeDsKCgl2YXIgTm90Rm91bmRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb3RGb3VuZEV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBOb3RGb3VuZEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZChOb3RGb3VuZEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBOb3RGb3VuZEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5nZXROb3RGb3VuZEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5raW5kID0gJ05vdEZvdW5kRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gTm90Rm91bmRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCkpOwoJTm90Rm91bmRFeGNlcHRpb24kMS5kZWZhdWx0ID0gTm90Rm91bmRFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovCgl2YXIgQmluYXJpemVyXzEgPSBCaW5hcml6ZXIkMTsKCXZhciBCaXRBcnJheV8xID0gQml0QXJyYXkkMTsKCXZhciBCaXRNYXRyaXhfMSQ1ID0gQml0TWF0cml4JDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQ2ID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qKgoJICogVGhpcyBCaW5hcml6ZXIgaW1wbGVtZW50YXRpb24gdXNlcyB0aGUgb2xkIFpYaW5nIGdsb2JhbCBoaXN0b2dyYW0gYXBwcm9hY2guIEl0IGlzIHN1aXRhYmxlCgkgKiBmb3IgbG93LWVuZCBtb2JpbGUgZGV2aWNlcyB3aGljaCBkb24ndCBoYXZlIGVub3VnaCBDUFUgb3IgbWVtb3J5IHRvIHVzZSBhIGxvY2FsIHRocmVzaG9sZGluZwoJICogYWxnb3JpdGhtLiBIb3dldmVyLCBiZWNhdXNlIGl0IHBpY2tzIGEgZ2xvYmFsIGJsYWNrIHBvaW50LCBpdCBjYW5ub3QgaGFuZGxlIGRpZmZpY3VsdCBzaGFkb3dzCgkgKiBhbmQgZ3JhZGllbnRzLgoJICoKCSAqIEZhc3RlciBtb2JpbGUgZGV2aWNlcyBhbmQgYWxsIGRlc2t0b3AgYXBwbGljYXRpb25zIHNob3VsZCBwcm9iYWJseSB1c2UgSHlicmlkQmluYXJpemVyIGluc3RlYWQuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGMoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5sdW1pbmFuY2VzID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkVNUFRZOwoJICAgICAgICBfdGhpcy5idWNrZXRzID0gbmV3IEludDMyQXJyYXkoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CVUNLRVRTKTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvLyBBcHBsaWVzIHNpbXBsZSBzaGFycGVuaW5nIHRvIHRoZSByb3cgZGF0YSB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIG9mIHRoZSAxRCBSZWFkZXJzLgoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmdldEJsYWNrUm93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdyA9PT0gbnVsbCB8fCByb3cuZ2V0U2l6ZSgpIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xLmRlZmF1bHQod2lkdGgpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcm93LmNsZWFyKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5pbml0QXJyYXlzKHdpZHRoKTsKCSAgICAgICAgdmFyIGxvY2FsTHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRSb3coeSwgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgdmFyIGxvY2FsQnVja2V0cyA9IHRoaXMuYnVja2V0czsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICBsb2NhbEJ1Y2tldHNbKGxvY2FsTHVtaW5hbmNlc1t4XSAmIDB4ZmYpID4+IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfU0hJRlRdKys7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJsYWNrUG9pbnQgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuZXN0aW1hdGVCbGFja1BvaW50KGxvY2FsQnVja2V0cyk7CgkgICAgICAgIGlmICh3aWR0aCA8IDMpIHsKCSAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdmVyeSBzbWFsbCBpbWFnZXMKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgICAgIGlmICgobG9jYWxMdW1pbmFuY2VzW3hdICYgMHhmZikgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIHJvdy5zZXQoeCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGxlZnQgPSBsb2NhbEx1bWluYW5jZXNbMF0gJiAweGZmOwoJICAgICAgICAgICAgdmFyIGNlbnRlciA9IGxvY2FsTHVtaW5hbmNlc1sxXSAmIDB4ZmY7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMTsgeCA8IHdpZHRoIC0gMTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gbG9jYWxMdW1pbmFuY2VzW3ggKyAxXSAmIDB4ZmY7CgkgICAgICAgICAgICAgICAgLy8gQSBzaW1wbGUgLTEgNCAtMSBib3ggZmlsdGVyIHdpdGggYSB3ZWlnaHQgb2YgMi4KCSAgICAgICAgICAgICAgICBpZiAoKChjZW50ZXIgKiA0KSAtIGxlZnQgLSByaWdodCkgLyAyIDwgYmxhY2tQb2ludCkgewoJICAgICAgICAgICAgICAgICAgICByb3cuc2V0KHgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBsZWZ0ID0gY2VudGVyOwoJICAgICAgICAgICAgICAgIGNlbnRlciA9IHJpZ2h0OwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByb3c7CgkgICAgfTsKCSAgICAvLyBEb2VzIG5vdCBzaGFycGVuIHRoZSBkYXRhLCBhcyB0aGlzIGNhbGwgaXMgaW50ZW5kZWQgdG8gb25seSBiZSB1c2VkIGJ5IDJEIFJlYWRlcnMuCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBCaXRNYXRyaXhfMSQ1LmRlZmF1bHQod2lkdGgsIGhlaWdodCk7CgkgICAgICAgIC8vIFF1aWNrbHkgY2FsY3VsYXRlcyB0aGUgaGlzdG9ncmFtIGJ5IHNhbXBsaW5nIGZvdXIgcm93cyBmcm9tIHRoZSBpbWFnZS4gVGhpcyBwcm92ZWQgdG8gYmUKCSAgICAgICAgLy8gbW9yZSByb2J1c3Qgb24gdGhlIGJsYWNrYm94IHRlc3RzIHRoYW4gc2FtcGxpbmcgYSBkaWFnb25hbCBhcyB3ZSB1c2VkIHRvIGRvLgoJICAgICAgICB0aGlzLmluaXRBcnJheXMod2lkdGgpOwoJICAgICAgICB2YXIgbG9jYWxCdWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB5ID0gMTsgeSA8IDU7IHkrKykgewoJICAgICAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IoKGhlaWdodCAqIHkpIC8gNSk7CgkgICAgICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzXzEgPSBzb3VyY2UuZ2V0Um93KHJvdywgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgICAgIHZhciByaWdodCA9IE1hdGguZmxvb3IoKHdpZHRoICogNCkgLyA1KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSBNYXRoLmZsb29yKHdpZHRoIC8gNSk7IHggPCByaWdodDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzXzFbeF0gJiAweGZmOwoJICAgICAgICAgICAgICAgIGxvY2FsQnVja2V0c1twaXhlbCA+PiBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUXSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBibGFja1BvaW50ID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludChsb2NhbEJ1Y2tldHMpOwoJICAgICAgICAvLyBXZSBkZWxheSByZWFkaW5nIHRoZSBlbnRpcmUgaW1hZ2UgbHVtaW5hbmNlIHVudGlsIHRoZSBibGFjayBwb2ludCBlc3RpbWF0aW9uIHN1Y2NlZWRzLgoJICAgICAgICAvLyBBbHRob3VnaCB3ZSBlbmQgdXAgcmVhZGluZyBmb3VyIHJvd3MgdHdpY2UsIGl0IGlzIGNvbnNpc3RlbnQgd2l0aCBvdXIgbW90dG8gb2YKCSAgICAgICAgLy8gImZhaWwgcXVpY2tseSIgd2hpY2ggaXMgbmVjZXNzYXJ5IGZvciBjb250aW51b3VzIHNjYW5uaW5nLgoJICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzID0gc291cmNlLmdldE1hdHJpeCgpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzW29mZnNldCArIHhdICYgMHhmZjsKCSAgICAgICAgICAgICAgICBpZiAocGl4ZWwgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoeCwgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBtYXRyaXg7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLnByb3RvdHlwZS5jcmVhdGVCaW5hcml6ZXIgPSBmdW5jdGlvbiAoc291cmNlKSB7CgkgICAgICAgIHJldHVybiBuZXcgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyKHNvdXJjZSk7CgkgICAgfTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmluaXRBcnJheXMgPSBmdW5jdGlvbiAobHVtaW5hbmNlU2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmICh0aGlzLmx1bWluYW5jZXMubGVuZ3RoIDwgbHVtaW5hbmNlU2l6ZSkgewoJICAgICAgICAgICAgdGhpcy5sdW1pbmFuY2VzID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGx1bWluYW5jZVNpemUpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBidWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQlVDS0VUUzsgeCsrKSB7CgkgICAgICAgICAgICBidWNrZXRzW3hdID0gMDsKCSAgICAgICAgfQoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludCA9IGZ1bmN0aW9uIChidWNrZXRzKSB7CgkgICAgICAgIC8vIEZpbmQgdGhlIHRhbGxlc3QgcGVhayBpbiB0aGUgaGlzdG9ncmFtLgoJICAgICAgICB2YXIgbnVtQnVja2V0cyA9IGJ1Y2tldHMubGVuZ3RoOwoJICAgICAgICB2YXIgbWF4QnVja2V0Q291bnQgPSAwOwoJICAgICAgICB2YXIgZmlyc3RQZWFrID0gMDsKCSAgICAgICAgdmFyIGZpcnN0UGVha1NpemUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgaWYgKGJ1Y2tldHNbeF0gPiBmaXJzdFBlYWtTaXplKSB7CgkgICAgICAgICAgICAgICAgZmlyc3RQZWFrID0geDsKCSAgICAgICAgICAgICAgICBmaXJzdFBlYWtTaXplID0gYnVja2V0c1t4XTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChidWNrZXRzW3hdID4gbWF4QnVja2V0Q291bnQpIHsKCSAgICAgICAgICAgICAgICBtYXhCdWNrZXRDb3VudCA9IGJ1Y2tldHNbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCB0aGUgc2Vjb25kLXRhbGxlc3QgcGVhayB3aGljaCBpcyBzb21ld2hhdCBmYXIgZnJvbSB0aGUgdGFsbGVzdCBwZWFrLgoJICAgICAgICB2YXIgc2Vjb25kUGVhayA9IDA7CgkgICAgICAgIHZhciBzZWNvbmRQZWFrU2NvcmUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgdmFyIGRpc3RhbmNlVG9CaWdnZXN0ID0geCAtIGZpcnN0UGVhazsKCSAgICAgICAgICAgIC8vIEVuY291cmFnZSBtb3JlIGRpc3RhbnQgc2Vjb25kIHBlYWtzIGJ5IG11bHRpcGx5aW5nIGJ5IHNxdWFyZSBvZiBkaXN0YW5jZS4KCSAgICAgICAgICAgIHZhciBzY29yZSA9IGJ1Y2tldHNbeF0gKiBkaXN0YW5jZVRvQmlnZ2VzdCAqIGRpc3RhbmNlVG9CaWdnZXN0OwoJICAgICAgICAgICAgaWYgKHNjb3JlID4gc2Vjb25kUGVha1Njb3JlKSB7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVhayA9IHg7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVha1Njb3JlID0gc2NvcmU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTWFrZSBzdXJlIGZpcnN0UGVhayBjb3JyZXNwb25kcyB0byB0aGUgYmxhY2sgcGVhay4KCSAgICAgICAgaWYgKGZpcnN0UGVhayA+IHNlY29uZFBlYWspIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZmlyc3RQZWFrOwoJICAgICAgICAgICAgZmlyc3RQZWFrID0gc2Vjb25kUGVhazsKCSAgICAgICAgICAgIHNlY29uZFBlYWsgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHRoZXJlIGlzIHRvbyBsaXR0bGUgY29udHJhc3QgaW4gdGhlIGltYWdlIHRvIHBpY2sgYSBtZWFuaW5nZnVsIGJsYWNrIHBvaW50LCB0aHJvdyByYXRoZXIKCSAgICAgICAgLy8gdGhhbiB3YXN0ZSB0aW1lIHRyeWluZyB0byBkZWNvZGUgdGhlIGltYWdlLCBhbmQgcmlzayBmYWxzZSBwb3NpdGl2ZXMuCgkgICAgICAgIGlmIChzZWNvbmRQZWFrIC0gZmlyc3RQZWFrIDw9IG51bUJ1Y2tldHMgLyAxNikgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCBhIHZhbGxleSBiZXR3ZWVuIHRoZW0gdGhhdCBpcyBsb3cgYW5kIGNsb3NlciB0byB0aGUgd2hpdGUgcGVhay4KCSAgICAgICAgdmFyIGJlc3RWYWxsZXkgPSBzZWNvbmRQZWFrIC0gMTsKCSAgICAgICAgdmFyIGJlc3RWYWxsZXlTY29yZSA9IC0xOwoJICAgICAgICBmb3IgKHZhciB4ID0gc2Vjb25kUGVhayAtIDE7IHggPiBmaXJzdFBlYWs7IHgtLSkgewoJICAgICAgICAgICAgdmFyIGZyb21GaXJzdCA9IHggLSBmaXJzdFBlYWs7CgkgICAgICAgICAgICB2YXIgc2NvcmUgPSBmcm9tRmlyc3QgKiBmcm9tRmlyc3QgKiAoc2Vjb25kUGVhayAtIHgpICogKG1heEJ1Y2tldENvdW50IC0gYnVja2V0c1t4XSk7CgkgICAgICAgICAgICBpZiAoc2NvcmUgPiBiZXN0VmFsbGV5U2NvcmUpIHsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5ID0geDsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5U2NvcmUgPSBzY29yZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gYmVzdFZhbGxleSA8PCBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUOwoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CSVRTID0gNTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUID0gOCAtIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX0JVQ0tFVFMgPSAxIDw8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuRU1QVFkgPSBVaW50OENsYW1wZWRBcnJheS5mcm9tKFswXSk7CgkgICAgcmV0dXJuIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCX0oQmluYXJpemVyXzEuZGVmYXVsdCkpOwoJR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyJDEuZGVmYXVsdCA9IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyRiID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEh5YnJpZEJpbmFyaXplciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyXzEgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMTsKCXZhciBCaXRNYXRyaXhfMSQ0ID0gQml0TWF0cml4JDE7CgkvKioKCSAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyBhIGxvY2FsIHRocmVzaG9sZGluZyBhbGdvcml0aG0sIHdoaWNoIHdoaWxlIHNsb3dlciB0aGFuIHRoZQoJICogR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBpcyBmYWlybHkgZWZmaWNpZW50IGZvciB3aGF0IGl0IGRvZXMuIEl0IGlzIGRlc2lnbmVkIGZvcgoJICogaGlnaCBmcmVxdWVuY3kgaW1hZ2VzIG9mIGJhcmNvZGVzIHdpdGggYmxhY2sgZGF0YSBvbiB3aGl0ZSBiYWNrZ3JvdW5kcy4gRm9yIHRoaXMgYXBwbGljYXRpb24sCgkgKiBpdCBkb2VzIGEgbXVjaCBiZXR0ZXIgam9iIHRoYW4gYSBnbG9iYWwgYmxhY2twb2ludCB3aXRoIHNldmVyZSBzaGFkb3dzIGFuZCBncmFkaWVudHMuCgkgKiBIb3dldmVyIGl0IHRlbmRzIHRvIHByb2R1Y2UgYXJ0aWZhY3RzIG9uIGxvd2VyIGZyZXF1ZW5jeSBpbWFnZXMgYW5kIGlzIHRoZXJlZm9yZSBub3QKCSAqIGEgZ29vZCBnZW5lcmFsIHB1cnBvc2UgYmluYXJpemVyIGZvciB1c2VzIG91dHNpZGUgWlhpbmcuCgkgKgoJICogVGhpcyBjbGFzcyBleHRlbmRzIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplciwgdXNpbmcgdGhlIG9sZGVyIGhpc3RvZ3JhbSBhcHByb2FjaCBmb3IgMUQgcmVhZGVycywKCSAqIGFuZCB0aGUgbmV3ZXIgbG9jYWwgYXBwcm9hY2ggZm9yIDJEIHJlYWRlcnMuIDFEIGRlY29kaW5nIHVzaW5nIGEgcGVyLXJvdyBoaXN0b2dyYW0gaXMgYWxyZWFkeQoJICogaW5oZXJlbnRseSBsb2NhbCwgYW5kIG9ubHkgZmFpbHMgZm9yIGhvcml6b250YWwgZ3JhZGllbnRzLiBXZSBjYW4gcmV2aXNpdCB0aGF0IHByb2JsZW0gbGF0ZXIsCgkgKiBidXQgZm9yIG5vdyBpdCB3YXMgbm90IGEgd2luIHRvIHVzZSBsb2NhbCBibG9ja3MgZm9yIDFELgoJICoKCSAqIFRoaXMgQmluYXJpemVyIGlzIHRoZSBkZWZhdWx0IGZvciB0aGUgdW5pdCB0ZXN0cyBhbmQgdGhlIHJlY29tbWVuZGVkIGNsYXNzIGZvciBsaWJyYXJ5IHVzZXJzLgoJICoKCSAqIEBhdXRob3IgZHN3aXRraW5AZ29vZ2xlLmNvbSAoRGFuaWVsIFN3aXRraW4pCgkgKi8KCXZhciBIeWJyaWRCaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGIoSHlicmlkQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEh5YnJpZEJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tYXRyaXggPSBudWxsOwoJICAgICAgICByZXR1cm4gX3RoaXM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIENhbGN1bGF0ZXMgdGhlIGZpbmFsIEJpdE1hdHJpeCBvbmNlIGZvciBhbGwgcmVxdWVzdHMuIFRoaXMgY291bGQgYmUgY2FsbGVkIG9uY2UgZnJvbSB0aGUKCSAgICAgKiBjb25zdHJ1Y3RvciBpbnN0ZWFkLCBidXQgdGhlcmUgYXJlIHNvbWUgYWR2YW50YWdlcyB0byBkb2luZyBpdCBsYXppbHksIHN1Y2ggYXMgbWFraW5nCgkgICAgICogcHJvZmlsaW5nIGVhc2llciwgYW5kIG5vdCBkb2luZyBoZWF2eSBsaWZ0aW5nIHdoZW4gY2FsbGVycyBkb24ndCBleHBlY3QgaXQuCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLm1hdHJpeCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKHdpZHRoID49IEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiAmJiBoZWlnaHQgPj0gSHlicmlkQmluYXJpemVyLk1JTklNVU1fRElNRU5TSU9OKSB7CgkgICAgICAgICAgICB2YXIgbHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRNYXRyaXgoKTsKCSAgICAgICAgICAgIHZhciBzdWJXaWR0aCA9IHdpZHRoID4+IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKCh3aWR0aCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViV2lkdGgrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciBzdWJIZWlnaHQgPSBoZWlnaHQgPj4gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICBpZiAoKGhlaWdodCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViSGVpZ2h0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgYmxhY2tQb2ludHMgPSBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMobHVtaW5hbmNlcywgc3ViV2lkdGgsIHN1YkhlaWdodCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgICAgICB2YXIgbmV3TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDQuZGVmYXVsdCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgICAgIEh5YnJpZEJpbmFyaXplci5jYWxjdWxhdGVUaHJlc2hvbGRGb3JCbG9jayhsdW1pbmFuY2VzLCBzdWJXaWR0aCwgc3ViSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0LCBibGFja1BvaW50cywgbmV3TWF0cml4KTsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gbmV3TWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGlzIHRvbyBzbWFsbCwgZmFsbCBiYWNrIHRvIHRoZSBnbG9iYWwgaGlzdG9ncmFtIGFwcHJvYWNoLgoJICAgICAgICAgICAgdGhpcy5tYXRyaXggPSBfc3VwZXIucHJvdG90eXBlLmdldEJsYWNrTWF0cml4LmNhbGwodGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuY3JlYXRlQmluYXJpemVyID0gZnVuY3Rpb24gKHNvdXJjZSkgewoJICAgICAgICByZXR1cm4gbmV3IEh5YnJpZEJpbmFyaXplcihzb3VyY2UpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRm9yIGVhY2ggYmxvY2sgaW4gdGhlIGltYWdlLCBjYWxjdWxhdGUgdGhlIGF2ZXJhZ2UgYmxhY2sgcG9pbnQgdXNpbmcgYSA1eDUgZ3JpZAoJICAgICAqIG9mIHRoZSBibG9ja3MgYXJvdW5kIGl0LiBBbHNvIGhhbmRsZXMgdGhlIGNvcm5lciBjYXNlcyAoZnJhY3Rpb25hbCBibG9ja3MgYXJlIGNvbXB1dGVkIGJhc2VkCgkgICAgICogb24gdGhlIGxhc3QgcGl4ZWxzIGluIHRoZSByb3cvY29sdW1uIHdoaWNoIGFyZSBhbHNvIHVzZWQgaW4gdGhlIHByZXZpb3VzIGJsb2NrKS4KCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlVGhyZXNob2xkRm9yQmxvY2sgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBibGFja1BvaW50cywgbWF0cml4KSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdWJIZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgdG9wXzEgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHksIDIsIHN1YkhlaWdodCAtIDMpOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdWJXaWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHhvZmZzZXQgPSB4IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgICAgIGlmICh4b2Zmc2V0ID4gbWF4WE9mZnNldCkgewoJICAgICAgICAgICAgICAgICAgICB4b2Zmc2V0ID0gbWF4WE9mZnNldDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHgsIDIsIHN1YldpZHRoIC0gMyk7CgkgICAgICAgICAgICAgICAgdmFyIHN1bSA9IDA7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IC0yOyB6IDw9IDI7IHorKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgYmxhY2tSb3cgPSBibGFja1BvaW50c1t0b3BfMSArIHpdOwoJICAgICAgICAgICAgICAgICAgICBzdW0gKz0gYmxhY2tSb3dbbGVmdCAtIDJdICsgYmxhY2tSb3dbbGVmdCAtIDFdICsgYmxhY2tSb3dbbGVmdF0gKyBibGFja1Jvd1tsZWZ0ICsgMV0gKyBibGFja1Jvd1tsZWZ0ICsgMl07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlID0gc3VtIC8gMjU7CgkgICAgICAgICAgICAgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrKGx1bWluYW5jZXMsIHhvZmZzZXQsIHlvZmZzZXQsIGF2ZXJhZ2UsIHdpZHRoLCBtYXRyaXgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FwID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG1pbiAvKmludCovLCBtYXggLyppbnQqLykgewoJICAgICAgICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbGllcyBhIHNpbmdsZSB0aHJlc2hvbGQgdG8gYSBibG9jayBvZiBwaXhlbHMuCgkgICAgICovCgkgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrID0gZnVuY3Rpb24gKGx1bWluYW5jZXMsIHhvZmZzZXQgLyppbnQqLywgeW9mZnNldCAvKmludCovLCB0aHJlc2hvbGQgLyppbnQqLywgc3RyaWRlIC8qaW50Ki8sIG1hdHJpeCkgewoJICAgICAgICBmb3IgKHZhciB5ID0gMCwgb2Zmc2V0ID0geW9mZnNldCAqIHN0cmlkZSArIHhvZmZzZXQ7IHkgPCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsgeSsrLCBvZmZzZXQgKz0gc3RyaWRlKSB7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB4KyspIHsKCSAgICAgICAgICAgICAgICAvLyBDb21wYXJpc29uIG5lZWRzIHRvIGJlIDw9IHNvIHRoYXQgYmxhY2sgPT0gMCBwaXhlbHMgYXJlIGJsYWNrIGV2ZW4gaWYgdGhlIHRocmVzaG9sZCBpcyAwLgoJICAgICAgICAgICAgICAgIGlmICgobHVtaW5hbmNlc1tvZmZzZXQgKyB4XSAmIDB4RkYpIDw9IHRocmVzaG9sZCkgewoJICAgICAgICAgICAgICAgICAgICBtYXRyaXguc2V0KHhvZmZzZXQgKyB4LCB5b2Zmc2V0ICsgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDYWxjdWxhdGVzIGEgc2luZ2xlIGJsYWNrIHBvaW50IGZvciBlYWNoIGJsb2NrIG9mIHBpeGVscyBhbmQgc2F2ZXMgaXQgYXdheS4KCSAgICAgKiBTZWUgdGhlIGZvbGxvd2luZyB0aHJlYWQgZm9yIGEgZGlzY3Vzc2lvbiBvZiB0aGlzIGFsZ29yaXRobToKCSAgICAgKiAgaHR0cDovL2dyb3Vwcy5nb29nbGUuY29tL2dyb3VwL3p4aW5nL2Jyb3dzZV90aHJlYWQvdGhyZWFkL2QwNmVmYTJjMzVhN2RkYzAKCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOndoaXRlc3BhY2UKCSAgICAgICAgdmFyIGJsYWNrUG9pbnRzID0gbmV3IEFycmF5KHN1YkhlaWdodCk7IC8vIHN1YldpZHRoCgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc3ViSGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGJsYWNrUG9pbnRzW3ldID0gbmV3IEludDMyQXJyYXkoc3ViV2lkdGgpOwoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN1YldpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgeG9mZnNldCA9IHggPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICAgICAgaWYgKHhvZmZzZXQgPiBtYXhYT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgICAgIHhvZmZzZXQgPSBtYXhYT2Zmc2V0OwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB2YXIgc3VtID0gMDsKCSAgICAgICAgICAgICAgICB2YXIgbWluID0gMHhGRjsKCSAgICAgICAgICAgICAgICB2YXIgbWF4ID0gMDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciB5eSA9IDAsIG9mZnNldCA9IHlvZmZzZXQgKiB3aWR0aCArIHhvZmZzZXQ7IHl5IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHl5KyssIG9mZnNldCArPSB3aWR0aCkgewoJICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaXhlbCA9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBwaXhlbDsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0aWxsIGxvb2tpbmcgZm9yIGdvb2QgY29udHJhc3QKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaXhlbCA8IG1pbikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IHBpeGVsOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpeGVsID4gbWF4KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gcGl4ZWw7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBtaW4vbWF4IHRlc3RzIG9uY2UgZHluYW1pYyByYW5nZSBpcyBtZXQKCSAgICAgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA+IEh5YnJpZEJpbmFyaXplci5NSU5fRFlOQU1JQ19SQU5HRSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoZSByZXN0IG9mIHRoZSByb3dzIHF1aWNrbHkKCSAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeXkrKywgb2Zmc2V0ICs9IHdpZHRoOyB5eSA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB5eSsrLCBvZmZzZXQgKz0gd2lkdGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgZXN0aW1hdGUgaXMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHZhbHVlcyBpbiB0aGUgYmxvY2suCgkgICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2UgPSBzdW0gPj4gKEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSICogMik7CgkgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA8PSBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gSWYgdmFyaWF0aW9uIHdpdGhpbiB0aGUgYmxvY2sgaXMgbG93LCBhc3N1bWUgdGhpcyBpcyBhIGJsb2NrIHdpdGggb25seSBsaWdodCBvciBvbmx5CgkgICAgICAgICAgICAgICAgICAgIC8vIGRhcmsgcGl4ZWxzLiBJbiB0aGF0IGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gdXNlIHRoZSBhdmVyYWdlLCBhcyBpdCB3b3VsZCBkaXZpZGUgdGhpcwoJICAgICAgICAgICAgICAgICAgICAvLyBsb3cgY29udHJhc3QgYXJlYSBpbnRvIGJsYWNrIGFuZCB3aGl0ZSBwaXhlbHMsIGVzc2VudGlhbGx5IGNyZWF0aW5nIGRhdGEgb3V0IG9mIG5vaXNlLgoJICAgICAgICAgICAgICAgICAgICAvLwoJICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBhc3N1bXB0aW9uIGlzIHRoYXQgdGhlIGJsb2NrIGlzIGxpZ2h0L2JhY2tncm91bmQuIFNpbmNlIG5vIGVzdGltYXRlIGZvcgoJICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbGV2ZWwgb2YgZGFyayBwaXhlbHMgZXhpc3RzIGxvY2FsbHksIHVzZSBoYWxmIHRoZSBtaW4gZm9yIHRoZSBibG9jay4KCSAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IG1pbiAvIDI7CgkgICAgICAgICAgICAgICAgICAgIGlmICh5ID4gMCAmJiB4ID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ycmVjdCB0aGUgIndoaXRlIGJhY2tncm91bmQiIGFzc3VtcHRpb24gZm9yIGJsb2NrcyB0aGF0IGhhdmUgbmVpZ2hib3JzIGJ5IGNvbXBhcmluZwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBpeGVscyBpbiB0aGlzIGJsb2NrIHRvIHRoZSBwcmV2aW91c2x5IGNhbGN1bGF0ZWQgYmxhY2sgcG9pbnRzLiBUaGlzIGlzIGJhc2VkIG9uCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IGRhcmsgYmFyY29kZSBzeW1ib2xvZ3kgaXMgYWx3YXlzIHN1cnJvdW5kZWQgYnkgc29tZSBhbW91bnQgb2YgbGlnaHQKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmQgZm9yIHdoaWNoIHJlYXNvbmFibGUgYmxhY2sgcG9pbnQgZXN0aW1hdGVzIHdlcmUgbWFkZS4gVGhlIGJwIGVzdGltYXRlZCBhdAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGJvdW5kYXJpZXMgaXMgdXNlZCBmb3IgdGhlIGludGVyaW9yLgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIChtaW4gPCBicCkgaXMgYXJiaXRyYXJ5IGJ1dCB3b3JrcyBiZXR0ZXIgdGhhbiBvdGhlciBoZXVyaXN0aWNzIHRoYXQgd2VyZSB0cmllZC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50ID0gKGJsYWNrUG9pbnRzW3kgLSAxXVt4XSArICgyICogYmxhY2tQb2ludHNbeV1beCAtIDFdKSArIGJsYWNrUG9pbnRzW3kgLSAxXVt4IC0gMV0pIC8gNDsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW4gPCBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IGF2ZXJhZ2VOZWlnaGJvckJsYWNrUG9pbnQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYmxhY2tQb2ludHNbeV1beF0gPSBhdmVyYWdlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBibGFja1BvaW50czsKCSAgICB9OwoJICAgIC8vIFRoaXMgY2xhc3MgdXNlcyA1eDUgYmxvY2tzIHRvIGNvbXB1dGUgbG9jYWwgbHVtaW5hbmNlLCB3aGVyZSBlYWNoIGJsb2NrIGlzIDh4OCBwaXhlbHMuCgkgICAgLy8gU28gdGhpcyBpcyB0aGUgc21hbGxlc3QgZGltZW5zaW9uIGluIGVhY2ggYXhpcyB3ZSBjYW4gYWNjZXB0LgoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSID0gMzsKCSAgICBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSA9IDEgPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7IC8vIC4uLjAxMDAuLi4wMAoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0sgPSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSAtIDE7IC8vIC4uLjAwMTEuLi4xMQoJICAgIEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiA9IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFICogNTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UgPSAyNDsKCSAgICByZXR1cm4gSHlicmlkQmluYXJpemVyOwoJfShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXJfMS5kZWZhdWx0KSk7Cgl2YXIgX2RlZmF1bHQkMiA9IEh5YnJpZEJpbmFyaXplciQxLmRlZmF1bHQgPSBIeWJyaWRCaW5hcml6ZXI7CgoJdmFyIFJHQkx1bWluYW5jZVNvdXJjZSQxID0ge307CgoJdmFyIEludmVydGVkTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgl2YXIgTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMSA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJDE7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nIHsqLwoJLyoqCgkgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNsYXNzIGhpZXJhcmNoeSBpcyB0byBhYnN0cmFjdCBkaWZmZXJlbnQgYml0bWFwIGltcGxlbWVudGF0aW9ucyBhY3Jvc3MKCSAqIHBsYXRmb3JtcyBpbnRvIGEgc3RhbmRhcmQgaW50ZXJmYWNlIGZvciByZXF1ZXN0aW5nIGdyZXlzY2FsZSBsdW1pbmFuY2UgdmFsdWVzLiBUaGUgaW50ZXJmYWNlCgkgKiBvbmx5IHByb3ZpZGVzIGltbXV0YWJsZSBtZXRob2RzOyB0aGVyZWZvcmUgY3JvcCBhbmQgcm90YXRpb24gY3JlYXRlIGNvcGllcy4gVGhpcyBpcyB0byBlbnN1cmUKCSAqIHRoYXQgb25lIFJlYWRlciBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsIGx1bWluYW5jZSBzb3VyY2UgYW5kIGxlYXZlIGl0IGluIGFuIHVua25vd24gc3RhdGUKCSAqIGZvciBvdGhlciBSZWFkZXJzIGluIHRoZSBjaGFpbi4KCSAqCgkgKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKQoJICovCgl2YXIgTHVtaW5hbmNlU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEx1bWluYW5jZVNvdXJjZSh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgYml0bWFwLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLndpZHRoOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBUaGUgaGVpZ2h0IG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmhlaWdodDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNyb3BwaW5nLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIGNyb3BwZWQgaW1hZ2UgZGF0YS4gSW1wbGVtZW50YXRpb25zIG1heSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZQoJICAgICAqIG9yaWdpbmFsIGRhdGEgcmF0aGVyIHRoYW4gYSBjb3B5LiBPbmx5IGNhbGxhYmxlIGlmIGlzQ3JvcFN1cHBvcnRlZCgpIGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gbGVmdCBUaGUgbGVmdCBjb29yZGluYXRlLCB3aGljaCBtdXN0IGJlIGluIFswLGdldFdpZHRoKCkpCgkgICAgICogQHBhcmFtIHRvcCBUaGUgdG9wIGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0SGVpZ2h0KCkpCgkgICAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIHRvIGNyb3AuCgkgICAgICogQHBhcmFtIGhlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcmV0dXJuIEEgY3JvcHBlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBjcm9wcGluZy4nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNvdW50ZXItY2xvY2t3aXNlIHJvdGF0aW9uLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCByb3RhdGlvbiBieSA5MCBkZWdyZWVzLicpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCByb3RhdGVkIGltYWdlIGRhdGEgYnkgNDUgZGVncmVlcyBjb3VudGVyY2xvY2t3aXNlLgoJICAgICAqIE9ubHkgY2FsbGFibGUgaWYge0BsaW5rICNpc1JvdGF0ZVN1cHBvcnRlZCgpfSBpcyB0cnVlLgoJICAgICAqCgkgICAgICogQHJldHVybiBBIHJvdGF0ZWQgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC4KCSAgICAgKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2U0NSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnVGhpcyBsdW1pbmFuY2Ugc291cmNlIGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24gYnkgNDUgZGVncmVlcy4nKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcm93ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgpOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQxLmRlZmF1bHQoKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgc291cmNlUm93ID0gdGhpcy5nZXRSb3coeSwgcm93KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGx1bWluYW5jZSA9IHNvdXJjZVJvd1t4XSAmIDB4RkY7CgkgICAgICAgICAgICAgICAgdmFyIGMgPSB2b2lkIDA7CgkgICAgICAgICAgICAgICAgaWYgKGx1bWluYW5jZSA8IDB4NDApIHsKCSAgICAgICAgICAgICAgICAgICAgYyA9ICcjJzsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAobHVtaW5hbmNlIDwgMHg4MCkgewoJICAgICAgICAgICAgICAgICAgICBjID0gJysnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmIChsdW1pbmFuY2UgPCAweEMwKSB7CgkgICAgICAgICAgICAgICAgICAgIGMgPSAnLic7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICBjID0gJyAnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGMpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnXG4nKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0LnRvU3RyaW5nKCk7CgkgICAgfTsKCSAgICByZXR1cm4gTHVtaW5hbmNlU291cmNlOwoJfSgpKTsKCUx1bWluYW5jZVNvdXJjZSQxLmRlZmF1bHQgPSBMdW1pbmFuY2VTb3VyY2U7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEkMSA9IEx1bWluYW5jZVNvdXJjZSQxOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogQSB3cmFwcGVyIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHdoaWNoIGludmVydHMgdGhlIGx1bWluYW5jZXMgaXQgcmV0dXJucyAtLSBibGFjayBiZWNvbWVzCgkgKiB3aGl0ZSBhbmQgdmljZSB2ZXJzYSwgYW5kIGVhY2ggdmFsdWUgYmVjb21lcyAoMjU1LXZhbHVlKS4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGEoSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UsIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UoZGVsZWdhdGUpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVsZWdhdGUuZ2V0V2lkdGgoKSwgZGVsZWdhdGUuZ2V0SGVpZ2h0KCkpIHx8IHRoaXM7CgkgICAgICAgIF90aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgdmFyIHNvdXJjZVJvdyA9IHRoaXMuZGVsZWdhdGUuZ2V0Um93KHksIHJvdyk7CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7CgkgICAgICAgICAgICBzb3VyY2VSb3dbaV0gPSAvKihieXRlKSovICgyNTUgLSAoc291cmNlUm93W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBzb3VyY2VSb3c7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldE1hdHJpeCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuZGVsZWdhdGUuZ2V0TWF0cml4KCk7CgkgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldFdpZHRoKCkgKiB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgaW52ZXJ0ZWRNYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkobGVuZ3RoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewoJICAgICAgICAgICAgaW52ZXJ0ZWRNYXRyaXhbaV0gPSAvKihieXRlKSovICgyNTUgLSAobWF0cml4W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBpbnZlcnRlZE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUuY3JvcChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmlzUm90YXRlU3VwcG9ydGVkKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG9yaWdpbmFsIGRlbGVnYXRlIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHNpbmNlIGludmVydCB1bmRvZXMgaXRzZWxmCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCkpOwoJICAgIH07CgkgICAgcmV0dXJuIEludmVydGVkTHVtaW5hbmNlU291cmNlOwoJfShMdW1pbmFuY2VTb3VyY2VfMSQxLmRlZmF1bHQpKTsKCUludmVydGVkTHVtaW5hbmNlU291cmNlJDEuZGVmYXVsdCA9IEludmVydGVkTHVtaW5hbmNlU291cmNlOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUkdCTHVtaW5hbmNlU291cmNlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkgLy8gcmVxdWlyZWQgYmVjYXVzZSBvZiBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYmV0d2VlbiBMdW1pbmFuY2VTb3VyY2UgYW5kIEludmVydGVkTHVtaW5hbmNlU291cmNlCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMSA9IEludmVydGVkTHVtaW5hbmNlU291cmNlJDE7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEgPSBMdW1pbmFuY2VTb3VyY2UkMTsKCXZhciBTeXN0ZW1fMSQyID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNiA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gaGVscCBkZWNvZGUgaW1hZ2VzIGZyb20gZmlsZXMgd2hpY2ggYXJyaXZlIGFzIFJHQiBkYXRhIGZyb20KCSAqIGFuIEFSR0IgcGl4ZWwgYXJyYXkuIEl0IGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24uCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgQmV0YW1pbm9zCgkgKi8KCXZhciBSR0JMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDkoUkdCTHVtaW5hbmNlU291cmNlLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIFJHQkx1bWluYW5jZVNvdXJjZShsdW1pbmFuY2VzLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgZGF0YVdpZHRoIC8qaW50Ki8sIGRhdGFIZWlnaHQgLyppbnQqLywgbGVmdCAvKmludCovLCB0b3AgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5kYXRhV2lkdGggPSBkYXRhV2lkdGg7CgkgICAgICAgIF90aGlzLmRhdGFIZWlnaHQgPSBkYXRhSGVpZ2h0OwoJICAgICAgICBfdGhpcy5sZWZ0ID0gbGVmdDsKCSAgICAgICAgX3RoaXMudG9wID0gdG9wOwoJICAgICAgICBpZiAobHVtaW5hbmNlcy5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkgeyAvLyBJbnQzMkFycmF5CgkgICAgICAgICAgICB2YXIgc2l6ZSA9IHdpZHRoICogaGVpZ2h0OwoJICAgICAgICAgICAgdmFyIGx1bWluYW5jZXNVaW50OEFycmF5ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHNpemUpOwoJICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgc2l6ZTsgb2Zmc2V0KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgcGl4ZWwgPSBsdW1pbmFuY2VzW29mZnNldF07CgkgICAgICAgICAgICAgICAgdmFyIHIgPSAocGl4ZWwgPj4gMTYpICYgMHhmZjsgLy8gcmVkCgkgICAgICAgICAgICAgICAgdmFyIGcyID0gKHBpeGVsID4+IDcpICYgMHgxZmU7IC8vIDIgKiBncmVlbgoJICAgICAgICAgICAgICAgIHZhciBiID0gcGl4ZWwgJiAweGZmOyAvLyBibHVlCgkgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGdyZWVuLWZhdm91cmluZyBhdmVyYWdlIGNoZWFwbHkKCSAgICAgICAgICAgICAgICBsdW1pbmFuY2VzVWludDhBcnJheVtvZmZzZXRdID0gLyooYnl0ZSkgKi8gKChyICsgZzIgKyBiKSAvIDQpICYgMHhGRjsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzVWludDhBcnJheTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGRhdGFXaWR0aCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YVdpZHRoID0gd2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gZGF0YUhlaWdodCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YUhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBsZWZ0KSB7CgkgICAgICAgICAgICBfdGhpcy5sZWZ0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSB0b3ApIHsKCSAgICAgICAgICAgIF90aGlzLnRvcCA9IDA7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKF90aGlzLmxlZnQgKyB3aWR0aCA+IF90aGlzLmRhdGFXaWR0aCB8fCBfdGhpcy50b3AgKyBoZWlnaHQgPiBfdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNi5kZWZhdWx0KCdDcm9wIHJlY3RhbmdsZSBkb2VzIG5vdCBmaXQgd2l0aGluIGltYWdlIGRhdGEuJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgaWYgKHkgPCAwIHx8IHkgPj0gdGhpcy5nZXRIZWlnaHQoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCgnUmVxdWVzdGVkIHJvdyBpcyBvdXRzaWRlIHRoZSBpbWFnZTogJyArIHkpOwoJICAgICAgICB9CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gbnVsbCB8fCByb3cgPT09IHVuZGVmaW5lZCB8fCByb3cubGVuZ3RoIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG9mZnNldCA9ICh5ICsgdGhpcy50b3ApICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIFN5c3RlbV8xJDIuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5sdW1pbmFuY2VzLCBvZmZzZXQsIHJvdywgMCwgd2lkdGgpOwoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJHQkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0TWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBJZiB0aGUgY2FsbGVyIGFza3MgZm9yIHRoZSBlbnRpcmUgdW5kZXJseWluZyBpbWFnZSwgc2F2ZSB0aGUgY29weSBhbmQgZ2l2ZSB0aGVtIHRoZQoJICAgICAgICAvLyBvcmlnaW5hbCBkYXRhLiBUaGUgZG9jcyBzcGVjaWZpY2FsbHkgd2FybiB0aGF0IHJlc3VsdC5sZW5ndGggbXVzdCBiZSBpZ25vcmVkLgoJICAgICAgICBpZiAod2lkdGggPT09IHRoaXMuZGF0YVdpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5sdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhcmVhID0gd2lkdGggKiBoZWlnaHQ7CgkgICAgICAgIHZhciBtYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJlYSk7CgkgICAgICAgIHZhciBpbnB1dE9mZnNldCA9IHRoaXMudG9wICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIC8vIElmIHRoZSB3aWR0aCBtYXRjaGVzIHRoZSBmdWxsIHdpZHRoIG9mIHRoZSB1bmRlcmx5aW5nIGRhdGEsIHBlcmZvcm0gYSBzaW5nbGUgY29weS4KCSAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLmRhdGFXaWR0aCkgewoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIDAsIGFyZWEpOwoJICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICAgICAgfQoJICAgICAgICAvLyBPdGhlcndpc2UgY29weSBvbmUgY3JvcHBlZCByb3cgYXQgYSB0aW1lLgoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb3V0cHV0T2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIG91dHB1dE9mZnNldCwgd2lkdGgpOwoJICAgICAgICAgICAgaW5wdXRPZmZzZXQgKz0gdGhpcy5kYXRhV2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSR0JMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzQ3JvcFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgUkdCTHVtaW5hbmNlU291cmNlKHRoaXMubHVtaW5hbmNlcywgd2lkdGgsIGhlaWdodCwgdGhpcy5kYXRhV2lkdGgsIHRoaXMuZGF0YUhlaWdodCwgdGhpcy5sZWZ0ICsgbGVmdCwgdGhpcy50b3AgKyB0b3ApOwoJICAgIH07CgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMS5kZWZhdWx0KHRoaXMpOwoJICAgIH07CgkgICAgcmV0dXJuIFJHQkx1bWluYW5jZVNvdXJjZTsKCX0oTHVtaW5hbmNlU291cmNlXzEuZGVmYXVsdCkpOwoJdmFyIF9kZWZhdWx0JDEgPSBSR0JMdW1pbmFuY2VTb3VyY2UkMS5kZWZhdWx0ID0gUkdCTHVtaW5hbmNlU291cmNlOwoKCXZhciBRUkNvZGVSZWFkZXIkMSA9IHt9OwoKCXZhciBCYXJjb2RlRm9ybWF0JDEgPSB7fTsKCgkvKgoJICogRGlyZWN0IHBvcnQgdG8gVHlwZVNjcmlwdCBvZiBaWGluZyBieSBBZHJpYW4gVG/ImWPEgwoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFyY29kZUZvcm1hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogRW51bWVyYXRlcyBiYXJjb2RlIGZvcm1hdHMga25vd24gdG8gdGhpcyBwYWNrYWdlLiBQbGVhc2Uga2VlcCBhbHBoYWJldGl6ZWQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJhcmNvZGVGb3JtYXQ7CgkoZnVuY3Rpb24gKEJhcmNvZGVGb3JtYXQpIHsKCSAgICAvKiogQXp0ZWMgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJBWlRFQyJdID0gMF0gPSAiQVpURUMiOwoJICAgIC8qKiBDT0RBQkFSIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREFCQVIiXSA9IDFdID0gIkNPREFCQVIiOwoJICAgIC8qKiBDb2RlIDM5IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfMzkiXSA9IDJdID0gIkNPREVfMzkiOwoJICAgIC8qKiBDb2RlIDkzIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfOTMiXSA9IDNdID0gIkNPREVfOTMiOwoJICAgIC8qKiBDb2RlIDEyOCAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJDT0RFXzEyOCJdID0gNF0gPSAiQ09ERV8xMjgiOwoJICAgIC8qKiBEYXRhIE1hdHJpeCAyRCBiYXJjb2RlIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkRBVEFfTUFUUklYIl0gPSA1XSA9ICJEQVRBX01BVFJJWCI7CgkgICAgLyoqIEVBTi04IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkVBTl84Il0gPSA2XSA9ICJFQU5fOCI7CgkgICAgLyoqIEVBTi0xMyAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJFQU5fMTMiXSA9IDddID0gIkVBTl8xMyI7CgkgICAgLyoqIElURiAoSW50ZXJsZWF2ZWQgVHdvIG9mIEZpdmUpIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIklURiJdID0gOF0gPSAiSVRGIjsKCSAgICAvKiogTWF4aUNvZGUgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJNQVhJQ09ERSJdID0gOV0gPSAiTUFYSUNPREUiOwoJICAgIC8qKiBQREY0MTcgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUERGXzQxNyJdID0gMTBdID0gIlBERl80MTciOwoJICAgIC8qKiBRUiBDb2RlIDJEIGJhcmNvZGUgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUVJfQ09ERSJdID0gMTFdID0gIlFSX0NPREUiOwoJICAgIC8qKiBSU1MgMTQgKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlJTU18xNCJdID0gMTJdID0gIlJTU18xNCI7CgkgICAgLyoqIFJTUyBFWFBBTkRFRCAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUlNTX0VYUEFOREVEIl0gPSAxM10gPSAiUlNTX0VYUEFOREVEIjsKCSAgICAvKiogVVBDLUEgMUQgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiVVBDX0EiXSA9IDE0XSA9ICJVUENfQSI7CgkgICAgLyoqIFVQQy1FIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FIl0gPSAxNV0gPSAiVVBDX0UiOwoJICAgIC8qKiBVUEMvRUFOIGV4dGVuc2lvbiBmb3JtYXQuIE5vdCBhIHN0YW5kLWFsb25lIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSAxNl0gPSAiVVBDX0VBTl9FWFRFTlNJT04iOwoJfSkoQmFyY29kZUZvcm1hdCB8fCAoQmFyY29kZUZvcm1hdCA9IHt9KSk7CglCYXJjb2RlRm9ybWF0JDEuZGVmYXVsdCA9IEJhcmNvZGVGb3JtYXQ7CgoJdmFyIFJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIFN5c3RlbV8xJDEgPSBTeXN0ZW0kMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBiYXJjb2RlIHdpdGhpbiBhbiBpbWFnZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSB0ZXh0OiBzdHJpbmcsCgkgICAgLy8gICAgICAgICAgICAgICBVaW50OEFycmF5IHJhd0J5dGVzLAoJICAgIC8vICAgICAgICAgICAgICAgUmVzdWx0UG9jb25zdCByZXN1bHRQb2ludHM6IEludDMyQXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0IGZvcm1hdCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmVzdWx0UG9pbnRzLCBmb3JtYXQsIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IodGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgVWludDhBcnJheSByYXdCeXRlcywKCSAgICAvLyAgICAgICAgICAgICAgIFJlc3VsdFBvY29uc3QgcmVzdWx0UG9pbnRzOiBJbnQzMkFycmF5LAoJICAgIC8vICAgICAgICAgICAgICAgQmFyY29kZUZvcm1hdCBmb3JtYXQsCgkgICAgLy8gICAgICAgICAgICAgICBsb25nIHRpbWVzdGFtcCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoLAoJICAgIC8vICAgICAgICByZXN1bHRQb2ludHMsIGZvcm1hdCwgdGltZXN0YW1wKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBSZXN1bHQodGV4dCwgcmF3Qnl0ZXMsIG51bUJpdHMsIHJlc3VsdFBvaW50cywgZm9ybWF0LCB0aW1lc3RhbXApIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPT09IHZvaWQgMCkgeyBudW1CaXRzID0gcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoOyB9CgkgICAgICAgIGlmICh0aW1lc3RhbXAgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsgfQoJICAgICAgICB0aGlzLnRleHQgPSB0ZXh0OwoJICAgICAgICB0aGlzLnJhd0J5dGVzID0gcmF3Qnl0ZXM7CgkgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gcmVzdWx0UG9pbnRzOwoJICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDsKCSAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7CgkgICAgICAgIHRoaXMudGV4dCA9IHRleHQ7CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbnVtQml0cyB8fCBudWxsID09PSBudW1CaXRzKSB7CgkgICAgICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IG51bGwgfHwgcmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludHMgPSByZXN1bHRQb2ludHM7CgkgICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0OwoJICAgICAgICB0aGlzLnJlc3VsdE1ldGFkYXRhID0gbnVsbDsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGltZXN0YW1wIHx8IG51bGwgPT09IHRpbWVzdGFtcCkgewoJICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IHRleHQgZW5jb2RlZCBieSB0aGUgYmFyY29kZQoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGV4dDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IGJ5dGVzIGVuY29kZWQgYnkgdGhlIGJhcmNvZGUsIGlmIGFwcGxpY2FibGUsIG90aGVyd2lzZSB7QGNvZGUgbnVsbH0KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0TnVtQml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMubnVtQml0czsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcG9pbnRzIHJlbGF0ZWQgdG8gdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGVzZSBhcmUgdHlwaWNhbGx5IHBvaW50cwoJICAgICAqICAgICAgICAgaWRlbnRpZnlpbmcgZmluZGVyIHBhdHRlcm5zIG9yIHRoZSBjb3JuZXJzIG9mIHRoZSBiYXJjb2RlLiBUaGUgZXhhY3QgbWVhbmluZyBpcwoJICAgICAqICAgICAgICAgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkLgoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0UmVzdWx0UG9pbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCYXJjb2RlRm9ybWF0fSByZXByZXNlbnRpbmcgdGhlIGZvcm1hdCBvZiB0aGUgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkCgkgICAgICovCgkgICAgUmVzdWx0LnByb3RvdHlwZS5nZXRCYXJjb2RlRm9ybWF0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBNYXB9IG1hcHBpbmcge0BsaW5rIFJlc3VsdE1ldGFkYXRhVHlwZX0ga2V5cyB0byB2YWx1ZXMuIE1heSBiZQoJICAgICAqICAge0Bjb2RlIG51bGx9LiBUaGlzIGNvbnRhaW5zIG9wdGlvbmFsIG1ldGFkYXRhIGFib3V0IHdoYXQgd2FzIGRldGVjdGVkIGFib3V0IHRoZSBiYXJjb2RlLAoJICAgICAqICAgbGlrZSBvcmllbnRhdGlvbi4KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJlc3VsdE1ldGFkYXRhID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRNZXRhZGF0YTsKCSAgICB9OwoJICAgIFJlc3VsdC5wcm90b3R5cGUucHV0TWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUpIHsKCSAgICAgICAgaWYgKHRoaXMucmVzdWx0TWV0YWRhdGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0TWV0YWRhdGEgPSBuZXcgTWFwKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YS5zZXQodHlwZSwgdmFsdWUpOwoJICAgIH07CgkgICAgUmVzdWx0LnByb3RvdHlwZS5wdXRBbGxNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSkgewoJICAgICAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHsKCSAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdE1ldGFkYXRhID09PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG1ldGFkYXRhOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG5ldyBNYXAobWV0YWRhdGEpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmFkZFJlc3VsdFBvaW50cyA9IGZ1bmN0aW9uIChuZXdQb2ludHMpIHsKCSAgICAgICAgdmFyIG9sZFBvaW50cyA9IHRoaXMucmVzdWx0UG9pbnRzOwoJICAgICAgICBpZiAob2xkUG9pbnRzID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aGlzLnJlc3VsdFBvaW50cyA9IG5ld1BvaW50czsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChuZXdQb2ludHMgIT09IG51bGwgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDApIHsKCSAgICAgICAgICAgIHZhciBhbGxQb2ludHMgPSBuZXcgQXJyYXkob2xkUG9pbnRzLmxlbmd0aCArIG5ld1BvaW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgU3lzdGVtXzEkMS5kZWZhdWx0LmFycmF5Y29weShvbGRQb2ludHMsIDAsIGFsbFBvaW50cywgMCwgb2xkUG9pbnRzLmxlbmd0aCk7CgkgICAgICAgICAgICBTeXN0ZW1fMSQxLmRlZmF1bHQuYXJyYXljb3B5KG5ld1BvaW50cywgMCwgYWxsUG9pbnRzLCBvbGRQb2ludHMubGVuZ3RoLCBuZXdQb2ludHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gYWxsUG9pbnRzOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRleHQ7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0OwoJfSgpKTsKCVJlc3VsdCQxLmRlZmF1bHQgPSBSZXN1bHQ7CgoJdmFyIFJlc3VsdE1ldGFkYXRhVHlwZSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHRNZXRhZGF0YVR5cGUkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogUmVwcmVzZW50cyBzb21lIHR5cGUgb2YgbWV0YWRhdGEgYWJvdXQgdGhlIHJlc3VsdCBvZiB0aGUgZGVjb2RpbmcgdGhhdCB0aGUgZGVjb2RlcgoJICogd2lzaGVzIHRvIGNvbW11bmljYXRlIGJhY2sgdG8gdGhlIGNhbGxlci4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlOwoJKGZ1bmN0aW9uIChSZXN1bHRNZXRhZGF0YVR5cGUpIHsKCSAgICAvKioKCSAgICAgKiBVbnNwZWNpZmllZCwgYXBwbGljYXRpb24tc3BlY2lmaWMgbWV0YWRhdGEuIE1hcHMgdG8gYW4gdW5zcGVjaWZpZWQge0BsaW5rIE9iamVjdH0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiT1RIRVIiXSA9IDBdID0gIk9USEVSIjsKCSAgICAvKioKCSAgICAgKiBEZW5vdGVzIHRoZSBsaWtlbHkgYXBwcm94aW1hdGUgb3JpZW50YXRpb24gb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGlzIHZhbHVlCgkgICAgICogaXMgZ2l2ZW4gYXMgZGVncmVlcyByb3RhdGVkIGNsb2Nrd2lzZSBmcm9tIHRoZSBub3JtYWwsIHVwcmlnaHQgb3JpZW50YXRpb24uCgkgICAgICogRm9yIGV4YW1wbGUgYSAxRCBiYXJjb2RlIHdoaWNoIHdhcyBmb3VuZCBieSByZWFkaW5nIHRvcC10by1ib3R0b20gd291bGQgYmUKCSAgICAgKiBzYWlkIHRvIGhhdmUgb3JpZW50YXRpb24gIjkwIi4gVGhpcyBrZXkgbWFwcyB0byBhbiB7QGxpbmsgSW50ZWdlcn0gd2hvc2UKCSAgICAgKiB2YWx1ZSBpcyBpbiB0aGUgcmFuZ2UgWzAsMzYwKS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJPUklFTlRBVElPTiJdID0gMV0gPSAiT1JJRU5UQVRJT04iOwoJICAgIC8qKgoJICAgICAqIDxwPjJEIGJhcmNvZGUgZm9ybWF0cyB0eXBpY2FsbHkgZW5jb2RlIHRleHQsIGJ1dCBhbGxvdyBmb3IgYSBzb3J0IG9mICdieXRlIG1vZGUnCgkgICAgICogd2hpY2ggaXMgc29tZXRpbWVzIHVzZWQgdG8gZW5jb2RlIGJpbmFyeSBkYXRhLiBXaGlsZSB7QGxpbmsgUmVzdWx0fSBtYWtlcyBhdmFpbGFibGUKCSAgICAgKiB0aGUgY29tcGxldGUgcmF3IGJ5dGVzIGluIHRoZSBiYXJjb2RlIGZvciB0aGVzZSBmb3JtYXRzLCBpdCBkb2VzIG5vdCBvZmZlciB0aGUgYnl0ZXMKCSAgICAgKiBmcm9tIHRoZSBieXRlIHNlZ21lbnRzIGFsb25lLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWFwcyB0byBhIHtAbGluayBqYXZhLnV0aWwuTGlzdH0gb2YgYnl0ZSBhcnJheXMgY29ycmVzcG9uZGluZyB0byB0aGUKCSAgICAgKiByYXcgYnl0ZXMgaW4gdGhlIGJ5dGUgc2VnbWVudHMgaW4gdGhlIGJhcmNvZGUsIGluIG9yZGVyLjwvcD4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJCWVRFX1NFR01FTlRTIl0gPSAyXSA9ICJCWVRFX1NFR01FTlRTIjsKCSAgICAvKioKCSAgICAgKiBFcnJvciBjb3JyZWN0aW9uIGxldmVsIHVzZWQsIGlmIGFwcGxpY2FibGUuIFRoZSB2YWx1ZSB0eXBlIGRlcGVuZHMgb24gdGhlCgkgICAgICogZm9ybWF0LCBidXQgaXMgdHlwaWNhbGx5IGEgU3RyaW5nLgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiXSA9IDNdID0gIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHBlcmlvZGljYWxzLCBpbmRpY2F0ZXMgdGhlIGlzc3VlIG51bWJlciBhcyBhbiB7QGxpbmsgSW50ZWdlcn0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiSVNTVUVfTlVNQkVSIl0gPSA0XSA9ICJJU1NVRV9OVU1CRVIiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHByb2R1Y3RzLCBpbmRpY2F0ZXMgdGhlIHN1Z2dlc3RlZCByZXRhaWwgcHJpY2UgaW4gdGhlIGJhcmNvZGUgYXMgYQoJICAgICAqIGZvcm1hdHRlZCB7QGxpbmsgU3RyaW5nfS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJTVUdHRVNURURfUFJJQ0UiXSA9IDVdID0gIlNVR0dFU1RFRF9QUklDRSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBwb3NzaWJsZSBjb3VudHJ5IG9mIG1hbnVmYWN0dXJlIGFzIGEge0BsaW5rIFN0cmluZ30gZGVub3RpbmcgdGhlCgkgICAgICogSVNPIGNvdW50cnkgY29kZS4gU29tZSBtYXAgdG8gbXVsdGlwbGUgcG9zc2libGUgY291bnRyaWVzLCBsaWtlICJVUy9DQSIuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUE9TU0lCTEVfQ09VTlRSWSJdID0gNl0gPSAiUE9TU0lCTEVfQ09VTlRSWSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBleHRlbnNpb24gdGV4dAoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSA3XSA9ICJVUENfRUFOX0VYVEVOU0lPTiI7CgkgICAgLyoqCgkgICAgICogUERGNDE3LXNwZWNpZmljIG1ldGFkYXRhCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUERGNDE3X0VYVFJBX01FVEFEQVRBIl0gPSA4XSA9ICJQREY0MTdfRVhUUkFfTUVUQURBVEEiOwoJICAgIC8qKgoJICAgICAqIElmIHRoZSBjb2RlIGZvcm1hdCBzdXBwb3J0cyBzdHJ1Y3R1cmVkIGFwcGVuZCBhbmQgdGhlIGN1cnJlbnQgc2Nhbm5lZCBjb2RlIGlzIHBhcnQgb2Ygb25lIHRoZW4gdGhlCgkgICAgICogc2VxdWVuY2UgbnVtYmVyIGlzIGdpdmVuIHdpdGggaXQuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UiXSA9IDldID0gIlNUUlVDVFVSRURfQVBQRU5EX1NFUVVFTkNFIjsKCSAgICAvKioKCSAgICAgKiBJZiB0aGUgY29kZSBmb3JtYXQgc3VwcG9ydHMgc3RydWN0dXJlZCBhcHBlbmQgYW5kIHRoZSBjdXJyZW50IHNjYW5uZWQgY29kZSBpcyBwYXJ0IG9mIG9uZSB0aGVuIHRoZQoJICAgICAqIHBhcml0eSBpcyBnaXZlbiB3aXRoIGl0LgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSJdID0gMTBdID0gIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSI7Cgl9KShSZXN1bHRNZXRhZGF0YVR5cGUgfHwgKFJlc3VsdE1ldGFkYXRhVHlwZSA9IHt9KSk7CglSZXN1bHRNZXRhZGF0YVR5cGUkMS5kZWZhdWx0ID0gUmVzdWx0TWV0YWRhdGFUeXBlOwoKCXZhciBEZWNvZGVyJDEgPSB7fTsKCgl2YXIgQ2hlY2tzdW1FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkOCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGVja3N1bUV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNCA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBDaGVja3N1bUV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkOChDaGVja3N1bUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBDaGVja3N1bUV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5nZXRDaGVja3N1bUluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IENoZWNrc3VtRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5raW5kID0gJ0NoZWNrc3VtRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQ2hlY2tzdW1FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCkpOwoJQ2hlY2tzdW1FeGNlcHRpb24kMS5kZWZhdWx0ID0gQ2hlY2tzdW1FeGNlcHRpb247CgoJdmFyIEdlbmVyaWNHRiQxID0ge307CgoJdmFyIEdlbmVyaWNHRlBvbHkkMSA9IHt9OwoKCXZhciBBYnN0cmFjdEdlbmVyaWNHRiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEdlbmVyaWNHRiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGNvbnRhaW5zIHV0aWxpdHkgbWV0aG9kcyBmb3IgcGVyZm9ybWluZyBtYXRoZW1hdGljYWwgb3BlcmF0aW9ucyBvdmVyCgkgKiB0aGUgR2Fsb2lzIEZpZWxkcy4gT3BlcmF0aW9ucyB1c2UgYSBnaXZlbiBwcmltaXRpdmUgcG9seW5vbWlhbCBpbiBjYWxjdWxhdGlvbnMuPC9wPgoJICoKCSAqIDxwPlRocm91Z2hvdXQgdGhpcyBwYWNrYWdlLCBlbGVtZW50cyBvZiB0aGUgR0YgYXJlIHJlcHJlc2VudGVkIGFzIGFuIHtAY29kZSBpbnR9CgkgKiBmb3IgY29udmVuaWVuY2UgYW5kIHNwZWVkIChidXQgYXQgdGhlIGNvc3Qgb2YgbWVtb3J5KS4KCSAqIDwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBEYXZpZCBPbGl2aWVyCgkgKi8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBYnN0cmFjdEdlbmVyaWNHRigpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiAyIHRvIHRoZSBwb3dlciBvZiBhIGluIEdGKHNpemUpCgkgICAgICovCgkgICAgQWJzdHJhY3RHZW5lcmljR0YucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChhKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBiYXNlIDIgbG9nIG9mIGEgaW4gR0Yoc2l6ZSkKCSAgICAgKi8KCSAgICBBYnN0cmFjdEdlbmVyaWNHRi5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGEgLyppbnQqLykgewoJICAgICAgICBpZiAoYSA9PT0gMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0aGlzLmxvZ1RhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSW1wbGVtZW50cyBib3RoIGFkZGl0aW9uIGFuZCBzdWJ0cmFjdGlvbiAtLSB0aGV5IGFyZSB0aGUgc2FtZSBpbiBHRihzaXplKS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gc3VtL2RpZmZlcmVuY2Ugb2YgYSBhbmQgYgoJICAgICAqLwoJICAgIEFic3RyYWN0R2VuZXJpY0dGLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIGEgXiBiOwoJICAgIH07CgkgICAgcmV0dXJuIEFic3RyYWN0R2VuZXJpY0dGOwoJfSgpKTsKCUFic3RyYWN0R2VuZXJpY0dGJDEuZGVmYXVsdCA9IEFic3RyYWN0R2VuZXJpY0dGOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGUG9seSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5yZWVkc29sb21vbiB7Ki8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRl8xJDEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIFN5c3RlbV8xID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNCA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgcG9seW5vbWlhbCB3aG9zZSBjb2VmZmljaWVudHMgYXJlIGVsZW1lbnRzIG9mIGEgR0YuCgkgKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgaW1tdXRhYmxlLjwvcD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdlbmVyaWNHRlBvbHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGZpZWxkIHRoZSB7QGxpbmsgR2VuZXJpY0dGfSBpbnN0YW5jZSByZXByZXNlbnRpbmcgdGhlIGZpZWxkIHRvIHVzZQoJICAgICAqIHRvIHBlcmZvcm0gY29tcHV0YXRpb25zCgkgICAgICogQHBhcmFtIGNvZWZmaWNpZW50cyBjb2VmZmljaWVudHMgYXMgaW50cyByZXByZXNlbnRpbmcgZWxlbWVudHMgb2YgR0Yoc2l6ZSksIGFycmFuZ2VkCgkgICAgICogZnJvbSBtb3N0IHNpZ25pZmljYW50IChoaWdoZXN0LXBvd2VyIHRlcm0pIGNvZWZmaWNpZW50IHRvIGxlYXN0IHNpZ25pZmljYW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYXJndW1lbnQgaXMgbnVsbCBvciBlbXB0eSwKCSAgICAgKiBvciBpZiBsZWFkaW5nIGNvZWZmaWNpZW50IGlzIDAgYW5kIHRoaXMgaXMgbm90IGEKCSAgICAgKiBjb25zdGFudCBwb2x5bm9taWFsICh0aGF0IGlzLCBpdCBpcyBub3QgdGhlIG1vbm9taWFsICIwIikKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBHZW5lcmljR0ZQb2x5KGZpZWxkLCBjb2VmZmljaWVudHMpIHsKCSAgICAgICAgaWYgKGNvZWZmaWNpZW50cy5sZW5ndGggPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHNMZW5ndGggPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICBpZiAoY29lZmZpY2llbnRzTGVuZ3RoID4gMSAmJiBjb2VmZmljaWVudHNbMF0gPT09IDApIHsKCSAgICAgICAgICAgIC8vIExlYWRpbmcgdGVybSBtdXN0IGJlIG5vbi16ZXJvIGZvciBhbnl0aGluZyBleGNlcHQgdGhlIGNvbnN0YW50IHBvbHlub21pYWwgIjAiCgkgICAgICAgICAgICB2YXIgZmlyc3ROb25aZXJvID0gMTsKCSAgICAgICAgICAgIHdoaWxlIChmaXJzdE5vblplcm8gPCBjb2VmZmljaWVudHNMZW5ndGggJiYgY29lZmZpY2llbnRzW2ZpcnN0Tm9uWmVyb10gPT09IDApIHsKCSAgICAgICAgICAgICAgICBmaXJzdE5vblplcm8rKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChmaXJzdE5vblplcm8gPT09IGNvZWZmaWNpZW50c0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRoaXMuY29lZmZpY2llbnRzID0gSW50MzJBcnJheS5mcm9tKFswXSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICB0aGlzLmNvZWZmaWNpZW50cyA9IG5ldyBJbnQzMkFycmF5KGNvZWZmaWNpZW50c0xlbmd0aCAtIGZpcnN0Tm9uWmVybyk7CgkgICAgICAgICAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkoY29lZmZpY2llbnRzLCBmaXJzdE5vblplcm8sIHRoaXMuY29lZmZpY2llbnRzLCAwLCB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHM7CgkgICAgICAgIH0KCSAgICB9CgkgICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZ2V0Q29lZmZpY2llbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGRlZ3JlZSBvZiB0aGlzIHBvbHlub21pYWwKCSAgICAgKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5nZXREZWdyZWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGlzIHBvbHlub21pYWwgaXMgdGhlIG1vbm9taWFsICIwIgoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzWzBdID09PSAwOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBjb2VmZmljaWVudCBvZiB4XmRlZ3JlZSB0ZXJtIGluIHRoaXMgcG9seW5vbWlhbAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmdldENvZWZmaWNpZW50ID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50c1t0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxIC0gZGVncmVlXTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gZXZhbHVhdGlvbiBvZiB0aGlzIHBvbHlub21pYWwgYXQgYSBnaXZlbiBwb2ludAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmV2YWx1YXRlQXQgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgeF4wIGNvZWZmaWNpZW50CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgY29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciByZXN1bHQ7CgkgICAgICAgIGlmIChhID09PSAxKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHRoZSBzdW0gb2YgdGhlIGNvZWZmaWNpZW50cwoJICAgICAgICAgICAgcmVzdWx0ID0gMDsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7IGkgIT09IGxlbmd0aF8xOyBpKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBjb2VmZmljaWVudHNbaV07CgkgICAgICAgICAgICAgICAgcmVzdWx0ID0gQWJzdHJhY3RHZW5lcmljR0ZfMSQxLmRlZmF1bHQuYWRkT3JTdWJ0cmFjdChyZXN1bHQsIGNvZWZmaWNpZW50KTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgICAgIH0KCSAgICAgICAgcmVzdWx0ID0gY29lZmZpY2llbnRzWzBdOwoJICAgICAgICB2YXIgc2l6ZSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICByZXN1bHQgPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KGZpZWxkLm11bHRpcGx5KGEsIHJlc3VsdCksIGNvZWZmaWNpZW50c1tpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRoaXMuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiBvdGhlcjsKCSAgICAgICAgfQoJICAgICAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzbWFsbGVyQ29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBsYXJnZXJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIGlmIChzbWFsbGVyQ29lZmZpY2llbnRzLmxlbmd0aCA+IGxhcmdlckNvZWZmaWNpZW50cy5sZW5ndGgpIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gc21hbGxlckNvZWZmaWNpZW50czsKCSAgICAgICAgICAgIHNtYWxsZXJDb2VmZmljaWVudHMgPSBsYXJnZXJDb2VmZmljaWVudHM7CgkgICAgICAgICAgICBsYXJnZXJDb2VmZmljaWVudHMgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzdW1EaWZmID0gbmV3IEludDMyQXJyYXkobGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCk7CgkgICAgICAgIHZhciBsZW5ndGhEaWZmID0gbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCAtIHNtYWxsZXJDb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICAvLyBDb3B5IGhpZ2gtb3JkZXIgdGVybXMgb25seSBmb3VuZCBpbiBoaWdoZXItZGVncmVlIHBvbHlub21pYWwncyBjb2VmZmljaWVudHMKCSAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkobGFyZ2VyQ29lZmZpY2llbnRzLCAwLCBzdW1EaWZmLCAwLCBsZW5ndGhEaWZmKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aERpZmY7IGkgPCBsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHN1bURpZmZbaV0gPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KHNtYWxsZXJDb2VmZmljaWVudHNbaSAtIGxlbmd0aERpZmZdLCBsYXJnZXJDb2VmZmljaWVudHNbaV0pOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLmZpZWxkLCBzdW1EaWZmKTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gKG90aGVyKSB7CgkgICAgICAgIGlmICghdGhpcy5maWVsZC5lcXVhbHMob3RoZXIuZmllbGQpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdHZW5lcmljR0ZQb2x5cyBkbyBub3QgaGF2ZSBzYW1lIEdlbmVyaWNHRiBmaWVsZCcpOwoJICAgICAgICB9CgkgICAgICAgIGlmICh0aGlzLmlzWmVybygpIHx8IG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGFDb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIGFMZW5ndGggPSBhQ29lZmZpY2llbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBiTGVuZ3RoID0gYkNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoYUxlbmd0aCArIGJMZW5ndGggLSAxKTsKCSAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhTGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBhQ29lZmYgPSBhQ29lZmZpY2llbnRzW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiTGVuZ3RoOyBqKyspIHsKCSAgICAgICAgICAgICAgICBwcm9kdWN0W2kgKyBqXSA9IEFic3RyYWN0R2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocHJvZHVjdFtpICsgal0sIGZpZWxkLm11bHRpcGx5KGFDb2VmZiwgYkNvZWZmaWNpZW50c1tqXSkpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5tdWx0aXBseVNjYWxhciA9IGZ1bmN0aW9uIChzY2FsYXIgLyppbnQqLykgewoJICAgICAgICBpZiAoc2NhbGFyID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHNjYWxhciA9PT0gMSkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIHByb2R1Y3RbaV0gPSBmaWVsZC5tdWx0aXBseShjb2VmZmljaWVudHNbaV0sIHNjYWxhcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmljR0ZQb2x5KGZpZWxkLCBwcm9kdWN0KTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5QnlNb25vbWlhbCA9IGZ1bmN0aW9uIChkZWdyZWUgLyppbnQqLywgY29lZmZpY2llbnQgLyppbnQqLykgewoJICAgICAgICBpZiAoZGVncmVlIDwgMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChjb2VmZmljaWVudCA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQuZ2V0WmVybygpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIHNpemUgPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBJbnQzMkFycmF5KHNpemUgKyBkZWdyZWUpOwoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykgewoJICAgICAgICAgICAgcHJvZHVjdFtpXSA9IGZpZWxkLm11bHRpcGx5KGNvZWZmaWNpZW50c1tpXSwgY29lZmZpY2llbnQpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdEaXZpZGUgYnkgMCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBxdW90aWVudCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHJlbWFpbmRlciA9IHRoaXM7CgkgICAgICAgIHZhciBkZW5vbWluYXRvckxlYWRpbmdUZXJtID0gb3RoZXIuZ2V0Q29lZmZpY2llbnQob3RoZXIuZ2V0RGVncmVlKCkpOwoJICAgICAgICB2YXIgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0gPSBmaWVsZC5pbnZlcnNlKGRlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICB3aGlsZSAocmVtYWluZGVyLmdldERlZ3JlZSgpID49IG90aGVyLmdldERlZ3JlZSgpICYmICFyZW1haW5kZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHZhciBkZWdyZWVEaWZmZXJlbmNlID0gcmVtYWluZGVyLmdldERlZ3JlZSgpIC0gb3RoZXIuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICB2YXIgc2NhbGUgPSBmaWVsZC5tdWx0aXBseShyZW1haW5kZXIuZ2V0Q29lZmZpY2llbnQocmVtYWluZGVyLmdldERlZ3JlZSgpKSwgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICAgICAgdmFyIHRlcm0gPSBvdGhlci5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZmVyZW5jZSwgc2NhbGUpOwoJICAgICAgICAgICAgdmFyIGl0ZXJhdGlvblF1b3RpZW50ID0gZmllbGQuYnVpbGRNb25vbWlhbChkZWdyZWVEaWZmZXJlbmNlLCBzY2FsZSk7CgkgICAgICAgICAgICBxdW90aWVudCA9IHF1b3RpZW50LmFkZE9yU3VidHJhY3QoaXRlcmF0aW9uUXVvdGllbnQpOwoJICAgICAgICAgICAgcmVtYWluZGVyID0gcmVtYWluZGVyLmFkZE9yU3VidHJhY3QodGVybSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFtxdW90aWVudCwgcmVtYWluZGVyXTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJlc3VsdCA9ICcnOwoJICAgICAgICBmb3IgKHZhciBkZWdyZWUgPSB0aGlzLmdldERlZ3JlZSgpOyBkZWdyZWUgPj0gMDsgZGVncmVlLS0pIHsKCSAgICAgICAgICAgIHZhciBjb2VmZmljaWVudCA9IHRoaXMuZ2V0Q29lZmZpY2llbnQoZGVncmVlKTsKCSAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCA8IDApIHsKCSAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgLSAnOwoJICAgICAgICAgICAgICAgICAgICBjb2VmZmljaWVudCA9IC1jb2VmZmljaWVudDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgKyAnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgPT09IDAgfHwgY29lZmZpY2llbnQgIT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGFscGhhUG93ZXIgPSB0aGlzLmZpZWxkLmxvZyhjb2VmZmljaWVudCk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYVBvd2VyID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJzEnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFscGhhUG93ZXIgPT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnYSc7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ2FeJzsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhbHBoYVBvd2VyOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKGRlZ3JlZSA9PT0gMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICd4JzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAneF4nOwoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGRlZ3JlZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIEdlbmVyaWNHRlBvbHk7Cgl9KCkpOwoJR2VuZXJpY0dGUG9seSQxLmRlZmF1bHQgPSBHZW5lcmljR0ZQb2x5OwoKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkMyA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcml0aG1ldGljRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ3KEFyaXRobWV0aWNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJpdGhtZXRpY0V4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcml0aG1ldGljRXhjZXB0aW9uLmtpbmQgPSAnQXJpdGhtZXRpY0V4Y2VwdGlvbic7CgkgICAgcmV0dXJuIEFyaXRobWV0aWNFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCkpOwoJQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLmRlZmF1bHQgPSBBcml0aG1ldGljRXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uLnJlZWRzb2xvbW9uIHsqLwoJdmFyIEdlbmVyaWNHRlBvbHlfMSQxID0gR2VuZXJpY0dGUG9seSQxOwoJdmFyIEFic3RyYWN0R2VuZXJpY0dGXzEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIEludGVnZXJfMSQxID0gSW50ZWdlciQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDMgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uXzEgPSBBcml0aG1ldGljRXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgY29udGFpbnMgdXRpbGl0eSBtZXRob2RzIGZvciBwZXJmb3JtaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRpb25zIG92ZXIKCSAqIHRoZSBHYWxvaXMgRmllbGRzLiBPcGVyYXRpb25zIHVzZSBhIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsIGluIGNhbGN1bGF0aW9ucy48L3A+CgkgKgoJICogPHA+VGhyb3VnaG91dCB0aGlzIHBhY2thZ2UsIGVsZW1lbnRzIG9mIHRoZSBHRiBhcmUgcmVwcmVzZW50ZWQgYXMgYW4ge0Bjb2RlIGludH0KCSAqIGZvciBjb252ZW5pZW5jZSBhbmQgc3BlZWQgKGJ1dCBhdCB0aGUgY29zdCBvZiBtZW1vcnkpLgoJICogPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKiBAYXV0aG9yIERhdmlkIE9saXZpZXIKCSAqLwoJdmFyIEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkNihHZW5lcmljR0YsIF9zdXBlcik7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlIGEgcmVwcmVzZW50YXRpb24gb2YgR0Yoc2l6ZSkgdXNpbmcgdGhlIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsLgoJICAgICAqCgkgICAgICogQHBhcmFtIHByaW1pdGl2ZSBpcnJlZHVjaWJsZSBwb2x5bm9taWFsIHdob3NlIGNvZWZmaWNpZW50cyBhcmUgcmVwcmVzZW50ZWQgYnkKCSAgICAgKiAgdGhlIGJpdHMgb2YgYW4gaW50LCB3aGVyZSB0aGUgbGVhc3Qtc2lnbmlmaWNhbnQgYml0IHJlcHJlc2VudHMgdGhlIGNvbnN0YW50CgkgICAgICogIGNvZWZmaWNpZW50CgkgICAgICogQHBhcmFtIHNpemUgdGhlIHNpemUgb2YgdGhlIGZpZWxkCgkgICAgICogQHBhcmFtIGIgdGhlIGZhY3RvciBiIGluIHRoZSBnZW5lcmF0b3IgcG9seW5vbWlhbCBjYW4gYmUgMC0gb3IgMS1iYXNlZAoJICAgICAqICAoZyh4KSA9ICh4K2FeYikoeCthXihiKzEpKS4uLih4K2FeKGIrMnQtMSkpKS4KCSAgICAgKiAgSW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgMSwgYnV0IGZvciBRUiBjb2RlIGl0IGlzIDAuCgkgICAgICovCgkgICAgZnVuY3Rpb24gR2VuZXJpY0dGKHByaW1pdGl2ZSAvKmludCovLCBzaXplIC8qaW50Ki8sIGdlbmVyYXRvckJhc2UgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5wcmltaXRpdmUgPSBwcmltaXRpdmU7CgkgICAgICAgIF90aGlzLnNpemUgPSBzaXplOwoJICAgICAgICBfdGhpcy5nZW5lcmF0b3JCYXNlID0gZ2VuZXJhdG9yQmFzZTsKCSAgICAgICAgdmFyIGV4cFRhYmxlID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciB4ID0gMTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIGV4cFRhYmxlW2ldID0geDsKCSAgICAgICAgICAgIHggKj0gMjsgLy8gd2UncmUgYXNzdW1pbmcgdGhlIGdlbmVyYXRvciBhbHBoYSBpcyAyCgkgICAgICAgICAgICBpZiAoeCA+PSBzaXplKSB7CgkgICAgICAgICAgICAgICAgeCBePSBwcmltaXRpdmU7CgkgICAgICAgICAgICAgICAgeCAmPSBzaXplIC0gMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBfdGhpcy5leHBUYWJsZSA9IGV4cFRhYmxlOwoJICAgICAgICB2YXIgbG9nVGFibGUgPSBuZXcgSW50MzJBcnJheShzaXplKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplIC0gMTsgaSsrKSB7CgkgICAgICAgICAgICBsb2dUYWJsZVtleHBUYWJsZVtpXV0gPSBpOwoJICAgICAgICB9CgkgICAgICAgIF90aGlzLmxvZ1RhYmxlID0gbG9nVGFibGU7CgkgICAgICAgIC8vIGxvZ1RhYmxlWzBdID09IDAgYnV0IHRoaXMgc2hvdWxkIG5ldmVyIGJlIHVzZWQKCSAgICAgICAgX3RoaXMuemVybyA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzBdKSk7CgkgICAgICAgIF90aGlzLm9uZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzFdKSk7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRaZXJvID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRPbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm9uZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdGhlIG1vbm9taWFsIHJlcHJlc2VudGluZyBjb2VmZmljaWVudCAqIHheZGVncmVlCgkgICAgICovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5idWlsZE1vbm9taWFsID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovLCBjb2VmZmljaWVudCAvKmludCovKSB7CgkgICAgICAgIGlmIChkZWdyZWUgPCAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkMy5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShkZWdyZWUgKyAxKTsKCSAgICAgICAgY29lZmZpY2llbnRzWzBdID0gY29lZmZpY2llbnQ7CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seV8xJDEuZGVmYXVsdCh0aGlzLCBjb2VmZmljaWVudHMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlIG9mIGEKCSAgICAgKi8KCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmludmVyc2UgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5leHBUYWJsZVt0aGlzLnNpemUgLSB0aGlzLmxvZ1RhYmxlW2FdIC0gMV07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHByb2R1Y3Qgb2YgYSBhbmQgYiBpbiBHRihzaXplKQoJICAgICAqLwoJICAgIEdlbmVyaWNHRi5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGEgPT09IDAgfHwgYiA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDA7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZXhwVGFibGVbKHRoaXMubG9nVGFibGVbYV0gKyB0aGlzLmxvZ1RhYmxlW2JdKSAlICh0aGlzLnNpemUgLSAxKV07CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnNpemU7CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldEdlbmVyYXRvckJhc2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRvckJhc2U7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICgnR0YoMHgnICsgSW50ZWdlcl8xJDEuZGVmYXVsdC50b0hleFN0cmluZyh0aGlzLnByaW1pdGl2ZSkgKyAnLCcgKyB0aGlzLnNpemUgKyAnKScpOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICByZXR1cm4gbyA9PT0gdGhpczsKCSAgICB9OwoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEyID0gbmV3IEdlbmVyaWNHRigweDEwNjksIDQwOTYsIDEpOyAvLyB4XjEyICsgeF42ICsgeF41ICsgeF4zICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEwID0gbmV3IEdlbmVyaWNHRigweDQwOSwgMTAyNCwgMSk7IC8vIHheMTAgKyB4XjMgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfNiA9IG5ldyBHZW5lcmljR0YoMHg0MywgNjQsIDEpOyAvLyB4XjYgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19QQVJBTSA9IG5ldyBHZW5lcmljR0YoMHgxMywgMTYsIDEpOyAvLyB4XjQgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5RUl9DT0RFX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTFkLCAyNTYsIDApOyAvLyB4XjggKyB4XjQgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkRBVEFfTUFUUklYX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTJkLCAyNTYsIDEpOyAvLyB4XjggKyB4XjUgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfOCA9IEdlbmVyaWNHRi5EQVRBX01BVFJJWF9GSUVMRF8yNTY7CgkgICAgR2VuZXJpY0dGLk1BWElDT0RFX0ZJRUxEXzY0ID0gR2VuZXJpY0dGLkFaVEVDX0RBVEFfNjsKCSAgICByZXR1cm4gR2VuZXJpY0dGOwoJfShBYnN0cmFjdEdlbmVyaWNHRl8xLmRlZmF1bHQpKTsKCUdlbmVyaWNHRiQxLmRlZmF1bHQgPSBHZW5lcmljR0Y7CgoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciQxID0ge307CgoJdmFyIFJlZWRTb2xvbW9uRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDUgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVlZFNvbG9tb25FeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDIgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgUmVlZFNvbG9tb25FeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDUoUmVlZFNvbG9tb25FeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gUmVlZFNvbG9tb25FeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgUmVlZFNvbG9tb25FeGNlcHRpb24ua2luZCA9ICdSZWVkU29sb21vbkV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQyLmRlZmF1bHQpKTsKCVJlZWRTb2xvbW9uRXhjZXB0aW9uJDEuZGVmYXVsdCA9IFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkNCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDEgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSWxsZWdhbFN0YXRlRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ0KElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSWxsZWdhbFN0YXRlRXhjZXB0aW9uLmtpbmQgPSAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gSWxsZWdhbFN0YXRlRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQxLmRlZmF1bHQpKTsKCUlsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWVkU29sb21vbkRlY29kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24ucmVlZHNvbG9tb24geyovCgl2YXIgR2VuZXJpY0dGXzEkMSA9IEdlbmVyaWNHRiQxOwoJdmFyIEdlbmVyaWNHRlBvbHlfMSA9IEdlbmVyaWNHRlBvbHkkMTsKCXZhciBSZWVkU29sb21vbkV4Y2VwdGlvbl8xID0gUmVlZFNvbG9tb25FeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMSA9IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5JbXBsZW1lbnRzIFJlZWQtU29sb21vbiBkZWNvZGluZywgYXMgdGhlIG5hbWUgaW1wbGllcy48L3A+CgkgKgoJICogPHA+VGhlIGFsZ29yaXRobSB3aWxsIG5vdCBiZSBleHBsYWluZWQgaGVyZSwgYnV0IHRoZSBmb2xsb3dpbmcgcmVmZXJlbmNlcyB3ZXJlIGhlbHBmdWwKCSAqIGluIGNyZWF0aW5nIHRoaXMgaW1wbGVtZW50YXRpb246PC9wPgoJICoKCSAqIDx1bD4KCSAqIDxsaT5CcnVjZSBNYWdncy4KCSAqIDxhIGhyZWY9Imh0dHA6Ly93d3cuY3MuY211LmVkdS9hZnMvY3MuY211LmVkdS9wcm9qZWN0L3BzY2ljby1ndXliL3JlYWx3b3JsZC93d3cvcnNfZGVjb2RlLnBzIj4KCSAqICJEZWNvZGluZyBSZWVkLVNvbG9tb24gQ29kZXMiPC9hPiAoc2VlIGRpc2N1c3Npb24gb2YgRm9ybmV5J3MgRm9ybXVsYSk8L2xpPgoJICogPGxpPkouSS4gSGFsbC4gPGEgaHJlZj0id3d3Lm10aC5tc3UuZWR1L35qaGFsbC9jbGFzc2VzL2NvZGVub3Rlcy9HUlMucGRmIj4KCSAqICJDaGFwdGVyIDUuIEdlbmVyYWxpemVkIFJlZWQtU29sb21vbiBDb2RlcyI8L2E+CgkgKiAoc2VlIGRpc2N1c3Npb24gb2YgRXVjbGlkZWFuIGFsZ29yaXRobSk8L2xpPgoJICogPC91bD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgV2lsbGlhbSBSdWNrbGlkZ2UKCSAqIEBhdXRob3Igc2FuZm9yZHNxdWlyZXMKCSAqLwoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBSZWVkU29sb21vbkRlY29kZXIoZmllbGQpIHsKCSAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkOwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5EZWNvZGVzIGdpdmVuIHNldCBvZiByZWNlaXZlZCBjb2Rld29yZHMsIHdoaWNoIGluY2x1ZGUgYm90aCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uCgkgICAgICogY29kZXdvcmRzLiBSZWFsbHksIHRoaXMgbWVhbnMgaXQgdXNlcyBSZWVkLVNvbG9tb24gdG8gZGV0ZWN0IGFuZCBjb3JyZWN0IGVycm9ycywgaW4tcGxhY2UsCgkgICAgICogaW4gdGhlIGlucHV0LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByZWNlaXZlZCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcwoJICAgICAqIEBwYXJhbSB0d29TIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBhdmFpbGFibGUKCSAgICAgKiBAdGhyb3dzIFJlZWRTb2xvbW9uRXhjZXB0aW9uIGlmIGRlY29kaW5nIGZhaWxzIGZvciBhbnkgcmVhc29uCgkgICAgICovCgkgICAgUmVlZFNvbG9tb25EZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAocmVjZWl2ZWQsIHR3b1MgLyppbnQqLykgewoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgcG9seSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgcmVjZWl2ZWQpOwoJICAgICAgICB2YXIgc3luZHJvbWVDb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheSh0d29TKTsKCSAgICAgICAgdmFyIG5vRXJyb3IgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR3b1M7IGkrKykgewoJICAgICAgICAgICAgdmFyIGV2YWxSZXN1bHQgPSBwb2x5LmV2YWx1YXRlQXQoZmllbGQuZXhwKGkgKyBmaWVsZC5nZXRHZW5lcmF0b3JCYXNlKCkpKTsKCSAgICAgICAgICAgIHN5bmRyb21lQ29lZmZpY2llbnRzW3N5bmRyb21lQ29lZmZpY2llbnRzLmxlbmd0aCAtIDEgLSBpXSA9IGV2YWxSZXN1bHQ7CgkgICAgICAgICAgICBpZiAoZXZhbFJlc3VsdCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIG5vRXJyb3IgPSBmYWxzZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAobm9FcnJvcikgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzeW5kcm9tZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgc3luZHJvbWVDb2VmZmljaWVudHMpOwoJICAgICAgICB2YXIgc2lnbWFPbWVnYSA9IHRoaXMucnVuRXVjbGlkZWFuQWxnb3JpdGhtKGZpZWxkLmJ1aWxkTW9ub21pYWwodHdvUywgMSksIHN5bmRyb21lLCB0d29TKTsKCSAgICAgICAgdmFyIHNpZ21hID0gc2lnbWFPbWVnYVswXTsKCSAgICAgICAgdmFyIG9tZWdhID0gc2lnbWFPbWVnYVsxXTsKCSAgICAgICAgdmFyIGVycm9yTG9jYXRpb25zID0gdGhpcy5maW5kRXJyb3JMb2NhdGlvbnMoc2lnbWEpOwoJICAgICAgICB2YXIgZXJyb3JNYWduaXR1ZGVzID0gdGhpcy5maW5kRXJyb3JNYWduaXR1ZGVzKG9tZWdhLCBlcnJvckxvY2F0aW9ucyk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3JMb2NhdGlvbnMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHJlY2VpdmVkLmxlbmd0aCAtIDEgLSBmaWVsZC5sb2coZXJyb3JMb2NhdGlvbnNbaV0pOwoJICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ0JhZCBlcnJvciBsb2NhdGlvbicpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVjZWl2ZWRbcG9zaXRpb25dID0gR2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocmVjZWl2ZWRbcG9zaXRpb25dLCBlcnJvck1hZ25pdHVkZXNbaV0pOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZWVkU29sb21vbkRlY29kZXIucHJvdG90eXBlLnJ1bkV1Y2xpZGVhbkFsZ29yaXRobSA9IGZ1bmN0aW9uIChhLCBiLCBSIC8qaW50Ki8pIHsKCSAgICAgICAgLy8gQXNzdW1lIGEncyBkZWdyZWUgaXMgPj0gYidzCgkgICAgICAgIGlmIChhLmdldERlZ3JlZSgpIDwgYi5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgdmFyIHRlbXAgPSBhOwoJICAgICAgICAgICAgYSA9IGI7CgkgICAgICAgICAgICBiID0gdGVtcDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgckxhc3QgPSBhOwoJICAgICAgICB2YXIgciA9IGI7CgkgICAgICAgIHZhciB0TGFzdCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHQgPSBmaWVsZC5nZXRPbmUoKTsKCSAgICAgICAgLy8gUnVuIEV1Y2xpZGVhbiBhbGdvcml0aG0gdW50aWwgcidzIGRlZ3JlZSBpcyBsZXNzIHRoYW4gUi8yCgkgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IChSIC8gMiB8IDApKSB7CgkgICAgICAgICAgICB2YXIgckxhc3RMYXN0ID0gckxhc3Q7CgkgICAgICAgICAgICB2YXIgdExhc3RMYXN0ID0gdExhc3Q7CgkgICAgICAgICAgICByTGFzdCA9IHI7CgkgICAgICAgICAgICB0TGFzdCA9IHQ7CgkgICAgICAgICAgICAvLyBEaXZpZGUgckxhc3RMYXN0IGJ5IHJMYXN0LCB3aXRoIHF1b3RpZW50IGluIHEgYW5kIHJlbWFpbmRlciBpbiByCgkgICAgICAgICAgICBpZiAockxhc3QuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgICAgICAvLyBPb3BzLCBFdWNsaWRlYW4gYWxnb3JpdGhtIGFscmVhZHkgdGVybWluYXRlZD8KCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVlZFNvbG9tb25FeGNlcHRpb25fMS5kZWZhdWx0KCdyX3tpLTF9IHdhcyB6ZXJvJyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByID0gckxhc3RMYXN0OwoJICAgICAgICAgICAgdmFyIHEgPSBmaWVsZC5nZXRaZXJvKCk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3JMZWFkaW5nVGVybSA9IHJMYXN0LmdldENvZWZmaWNpZW50KHJMYXN0LmdldERlZ3JlZSgpKTsKCSAgICAgICAgICAgIHZhciBkbHRJbnZlcnNlID0gZmllbGQuaW52ZXJzZShkZW5vbWluYXRvckxlYWRpbmdUZXJtKTsKCSAgICAgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IHJMYXN0LmdldERlZ3JlZSgpICYmICFyLmlzWmVybygpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlZ3JlZURpZmYgPSByLmdldERlZ3JlZSgpIC0gckxhc3QuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gZmllbGQubXVsdGlwbHkoci5nZXRDb2VmZmljaWVudChyLmdldERlZ3JlZSgpKSwgZGx0SW52ZXJzZSk7CgkgICAgICAgICAgICAgICAgcSA9IHEuYWRkT3JTdWJ0cmFjdChmaWVsZC5idWlsZE1vbm9taWFsKGRlZ3JlZURpZmYsIHNjYWxlKSk7CgkgICAgICAgICAgICAgICAgciA9IHIuYWRkT3JTdWJ0cmFjdChyTGFzdC5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZiwgc2NhbGUpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHQgPSBxLm11bHRpcGx5KHRMYXN0KS5hZGRPclN1YnRyYWN0KHRMYXN0TGFzdCk7CgkgICAgICAgICAgICBpZiAoci5nZXREZWdyZWUoKSA+PSByTGFzdC5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMS5kZWZhdWx0KCdEaXZpc2lvbiBhbGdvcml0aG0gZmFpbGVkIHRvIHJlZHVjZSBwb2x5bm9taWFsPycpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBzaWdtYVRpbGRlQXRaZXJvID0gdC5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgaWYgKHNpZ21hVGlsZGVBdFplcm8gPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ3NpZ21hVGlsZGUoMCkgd2FzIHplcm8nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaW52ZXJzZSA9IGZpZWxkLmludmVyc2Uoc2lnbWFUaWxkZUF0WmVybyk7CgkgICAgICAgIHZhciBzaWdtYSA9IHQubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHZhciBvbWVnYSA9IHIubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHJldHVybiBbc2lnbWEsIG9tZWdhXTsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTG9jYXRpb25zID0gZnVuY3Rpb24gKGVycm9yTG9jYXRvcikgewoJICAgICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGFwcGxpY2F0aW9uIG9mIENoaWVuJ3Mgc2VhcmNoCgkgICAgICAgIHZhciBudW1FcnJvcnMgPSBlcnJvckxvY2F0b3IuZ2V0RGVncmVlKCk7CgkgICAgICAgIGlmIChudW1FcnJvcnMgPT09IDEpIHsgLy8gc2hvcnRjdXQKCSAgICAgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2Vycm9yTG9jYXRvci5nZXRDb2VmZmljaWVudCgxKV0pOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgSW50MzJBcnJheShudW1FcnJvcnMpOwoJICAgICAgICB2YXIgZSA9IDA7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmllbGQuZ2V0U2l6ZSgpICYmIGUgPCBudW1FcnJvcnM7IGkrKykgewoJICAgICAgICAgICAgaWYgKGVycm9yTG9jYXRvci5ldmFsdWF0ZUF0KGkpID09PSAwKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0W2VdID0gZmllbGQuaW52ZXJzZShpKTsKCSAgICAgICAgICAgICAgICBlKys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGUgIT09IG51bUVycm9ycykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IFJlZWRTb2xvbW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnRXJyb3IgbG9jYXRvciBkZWdyZWUgZG9lcyBub3QgbWF0Y2ggbnVtYmVyIG9mIHJvb3RzJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTWFnbml0dWRlcyA9IGZ1bmN0aW9uIChlcnJvckV2YWx1YXRvciwgZXJyb3JMb2NhdGlvbnMpIHsKCSAgICAgICAgLy8gVGhpcyBpcyBkaXJlY3RseSBhcHBseWluZyBGb3JuZXkncyBGb3JtdWxhCgkgICAgICAgIHZhciBzID0gZXJyb3JMb2NhdGlvbnMubGVuZ3RoOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEludDMyQXJyYXkocyk7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgczsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeGlJbnZlcnNlID0gZmllbGQuaW52ZXJzZShlcnJvckxvY2F0aW9uc1tpXSk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSAxOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaikgewoJICAgICAgICAgICAgICAgICAgICAvLyBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLAoJICAgICAgICAgICAgICAgICAgICAvLyAgICBHZW5lcmljR0YuYWRkT3JTdWJ0cmFjdCgxLCBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKSkpCgkgICAgICAgICAgICAgICAgICAgIC8vIEFib3ZlIHNob3VsZCB3b3JrIGJ1dCBmYWlscyBvbiBzb21lIEFwcGxlIGFuZCBMaW51eCBKREtzIGR1ZSB0byBhIEhvdHNwb3QgYnVnLgoJICAgICAgICAgICAgICAgICAgICAvLyBCZWxvdyBpcyBhIGZ1bm55LWxvb2tpbmcgd29ya2Fyb3VuZCBmcm9tIFN0ZXZlbiBQYXJrZXMKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1QbHVzMSA9ICh0ZXJtICYgMHgxKSA9PT0gMCA/IHRlcm0gfCAxIDogdGVybSAmIH4xOwoJICAgICAgICAgICAgICAgICAgICBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLCB0ZXJtUGx1czEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KGVycm9yRXZhbHVhdG9yLmV2YWx1YXRlQXQoeGlJbnZlcnNlKSwgZmllbGQuaW52ZXJzZShkZW5vbWluYXRvcikpOwoJICAgICAgICAgICAgaWYgKGZpZWxkLmdldEdlbmVyYXRvckJhc2UoKSAhPT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KHJlc3VsdFtpXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRGVjb2RlcjsKCX0oKSk7CglSZWVkU29sb21vbkRlY29kZXIkMS5kZWZhdWx0ID0gUmVlZFNvbG9tb25EZWNvZGVyOwoKCXZhciBCaXRNYXRyaXhQYXJzZXIkMSA9IHt9OwoKCXZhciBWZXJzaW9uJDEgPSB7fTsKCgl2YXIgRm9ybWF0SW5mb3JtYXRpb24kMSA9IHt9OwoKCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IHt9OwoKCXZhciBBcmd1bWVudEV4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyQzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkMyhBcmd1bWVudEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBcmd1bWVudEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0FyZ3VtZW50RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQXJndW1lbnRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xLmRlZmF1bHQpKTsKCUFyZ3VtZW50RXhjZXB0aW9uJDEuZGVmYXVsdCA9IEFyZ3VtZW50RXhjZXB0aW9uOwoKCShmdW5jdGlvbiAoZXhwb3J0cykgewoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CglleHBvcnRzLkVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gdm9pZCAwOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbl8xID0gQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJdmFyIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzOwoJKGZ1bmN0aW9uIChFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcykgewoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJMIl0gPSAwXSA9ICJMIjsKCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1tFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1siTSJdID0gMV0gPSAiTSI7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbIlEiXSA9IDJdID0gIlEiOwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJIIl0gPSAzXSA9ICJIIjsKCX0pKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyB8fCAoZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyA9IHt9KSk7CgkvKioKCSAqIDxwPlNlZSBJU08gMTgwMDQ6MjAwNiwgNi41LjEuIFRoaXMgZW51bSBlbmNhcHN1bGF0ZXMgdGhlIGZvdXIgZXJyb3IgY29ycmVjdGlvbiBsZXZlbHMKCSAqIGRlZmluZWQgYnkgdGhlIFFSIGNvZGUgc3RhbmRhcmQuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFcnJvckNvcnJlY3Rpb25MZXZlbCh2YWx1ZSwgc3RyaW5nVmFsdWUsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2V0KGJpdHMsIHRoaXMpOwoJICAgICAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5nZXRCaXRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIHN3aXRjaCAocykgewoJICAgICAgICAgICAgY2FzZSAnTCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5MOwoJICAgICAgICAgICAgY2FzZSAnTSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5NOwoJICAgICAgICAgICAgY2FzZSAnUSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5ROwoJICAgICAgICAgICAgY2FzZSAnSCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5IOwoJICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uXzEuZGVmYXVsdChzICsgJ25vdCBhdmFpbGFibGUnKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG90aGVyID0gbzsKCSAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IG90aGVyLnZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgaW50IGNvbnRhaW5pbmcgdGhlIHR3byBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSdzIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWwKCSAgICAgKiBAcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsIHJlcHJlc2VudGluZyB0aGUgZW5jb2RlZCBlcnJvciBjb3JyZWN0aW9uIGxldmVsCgkgICAgICovCgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZm9yQml0cyA9IGZ1bmN0aW9uIChiaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGJpdHMgPCAwIHx8IGJpdHMgPj0gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuZ2V0KGJpdHMpOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX1ZBTFVFID0gbmV3IE1hcCgpOwoJICAgIC8qKiBMID0gfjclIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5MID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkwsICdMJywgMHgwMSk7CgkgICAgLyoqIE0gPSB+MTUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5NID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLk0sICdNJywgMHgwMCk7CgkgICAgLyoqIFEgPSB+MjUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5RID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLlEsICdRJywgMHgwMyk7CgkgICAgLyoqIEggPSB+MzAlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5IID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkgsICdIJywgMHgwMik7CgkgICAgcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IEVycm9yQ29ycmVjdGlvbkxldmVsOwoKCX0oRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRm9ybWF0SW5mb3JtYXRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbF8xID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWw7Cgl2YXIgSW50ZWdlcl8xID0gSW50ZWdlciQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBRUiBDb2RlJ3MgZm9ybWF0IGluZm9ybWF0aW9uLCBpbmNsdWRpbmcgdGhlIGRhdGEgbWFzayB1c2VkIGFuZAoJICogZXJyb3IgY29ycmVjdGlvbiBsZXZlbC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBzZWUgRGF0YU1hc2sKCSAqIEBzZWUgRXJyb3JDb3JyZWN0aW9uTGV2ZWwKCSAqLwoJdmFyIEZvcm1hdEluZm9ybWF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZvcm1hdEluZm9ybWF0aW9uKGZvcm1hdEluZm8gLyppbnQqLykgewoJICAgICAgICAvLyBCaXRzIDMsNAoJICAgICAgICB0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWxfMS5kZWZhdWx0LmZvckJpdHMoKGZvcm1hdEluZm8gPj4gMykgJiAweDAzKTsKCSAgICAgICAgLy8gQm90dG9tIDMgYml0cwoJICAgICAgICB0aGlzLmRhdGFNYXNrID0gLyooYnl0ZSkgKi8gKGZvcm1hdEluZm8gJiAweDA3KTsKCSAgICB9CgkgICAgRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyA9IGZ1bmN0aW9uIChhIC8qaW50Ki8sIGIgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gSW50ZWdlcl8xLmRlZmF1bHQuYml0Q291bnQoYSBeIGIpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIG1hc2tlZEZvcm1hdEluZm8xIGZvcm1hdCBpbmZvIGluZGljYXRvciwgd2l0aCBtYXNrIHN0aWxsIGFwcGxpZWQKCSAgICAgKiBAcGFyYW0gbWFza2VkRm9ybWF0SW5mbzIgc2Vjb25kIGNvcHkgb2Ygc2FtZSBpbmZvOyBib3RoIGFyZSBjaGVja2VkIGF0IHRoZSBzYW1lIHRpbWUKCSAgICAgKiAgdG8gZXN0YWJsaXNoIGJlc3QgbWF0Y2gKCSAgICAgKiBAcmV0dXJuIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmb3JtYXQgaXQgc3BlY2lmaWVzLCBvciB7QGNvZGUgbnVsbH0KCSAgICAgKiAgaWYgZG9lc24ndCBzZWVtIHRvIG1hdGNoIGFueSBrbm93biBwYXR0ZXJuCgkgICAgICovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24uZGVjb2RlRm9ybWF0SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAobWFza2VkRm9ybWF0SW5mbzEgLyppbnQqLywgbWFza2VkRm9ybWF0SW5mbzIgLyppbnQqLykgewoJICAgICAgICB2YXIgZm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uLmRvRGVjb2RlRm9ybWF0SW5mb3JtYXRpb24obWFza2VkRm9ybWF0SW5mbzEsIG1hc2tlZEZvcm1hdEluZm8yKTsKCSAgICAgICAgaWYgKGZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiBmb3JtYXRJbmZvOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNob3VsZCByZXR1cm4gbnVsbCwgYnV0LCBzb21lIFFSIGNvZGVzIGFwcGFyZW50bHkKCSAgICAgICAgLy8gZG8gbm90IG1hc2sgdGhpcyBpbmZvLiBUcnkgYWdhaW4gYnkgYWN0dWFsbHkgbWFza2luZyB0aGUgcGF0dGVybgoJICAgICAgICAvLyBmaXJzdAoJICAgICAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb24uZG9EZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihtYXNrZWRGb3JtYXRJbmZvMSBeIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX01BU0tfUVIsIG1hc2tlZEZvcm1hdEluZm8yIF4gRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUik7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5kb0RlY29kZUZvcm1hdEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKG1hc2tlZEZvcm1hdEluZm8xIC8qaW50Ki8sIG1hc2tlZEZvcm1hdEluZm8yIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGVfMSwgX2E7CgkgICAgICAgIC8vIEZpbmQgdGhlIGludCBpbiBGT1JNQVRfSU5GT19ERUNPREVfTE9PS1VQIHdpdGggZmV3ZXN0IGJpdHMgZGlmZmVyaW5nCgkgICAgICAgIHZhciBiZXN0RGlmZmVyZW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgICAgICB2YXIgYmVzdEZvcm1hdEluZm8gPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyQ2KEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVApLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlY29kZUluZm8gPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SW5mbyA9IGRlY29kZUluZm9bMF07CgkgICAgICAgICAgICAgICAgaWYgKHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8xIHx8IHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8yKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGFuIGV4YWN0IG1hdGNoCgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRm9ybWF0SW5mb3JtYXRpb24oZGVjb2RlSW5mb1sxXSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBiaXRzRGlmZmVyZW5jZSA9IEZvcm1hdEluZm9ybWF0aW9uLm51bUJpdHNEaWZmZXJpbmcobWFza2VkRm9ybWF0SW5mbzEsIHRhcmdldEluZm8pOwoJICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgIGJlc3RGb3JtYXRJbmZvID0gZGVjb2RlSW5mb1sxXTsKCSAgICAgICAgICAgICAgICAgICAgYmVzdERpZmZlcmVuY2UgPSBiaXRzRGlmZmVyZW5jZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKG1hc2tlZEZvcm1hdEluZm8xICE9PSBtYXNrZWRGb3JtYXRJbmZvMikgewoJICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIHRyeSB0aGUgb3RoZXIgb3B0aW9uCgkgICAgICAgICAgICAgICAgICAgIGJpdHNEaWZmZXJlbmNlID0gRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyhtYXNrZWRGb3JtYXRJbmZvMiwgdGFyZ2V0SW5mbyk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Rm9ybWF0SW5mbyA9IGRlY29kZUluZm9bMV07CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSGFtbWluZyBkaXN0YW5jZSBvZiB0aGUgMzIgbWFza2VkIGNvZGVzIGlzIDcsIGJ5IGNvbnN0cnVjdGlvbiwgc28gPD0gMyBiaXRzCgkgICAgICAgIC8vIGRpZmZlcmluZyBtZWFucyB3ZSBmb3VuZCBhIG1hdGNoCgkgICAgICAgIGlmIChiZXN0RGlmZmVyZW5jZSA8PSAzKSB7CgkgICAgICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEluZm9ybWF0aW9uKGJlc3RGb3JtYXRJbmZvKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbnVsbDsKCSAgICB9OwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5nZXRFcnJvckNvcnJlY3Rpb25MZXZlbCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb3JyZWN0aW9uTGV2ZWw7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5wcm90b3R5cGUuZ2V0RGF0YU1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFNYXNrOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsLmdldEJpdHMoKSA8PCAzKSB8IHRoaXMuZGF0YU1hc2s7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBGb3JtYXRJbmZvcm1hdGlvbikpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvckNvcnJlY3Rpb25MZXZlbCA9PT0gb3RoZXIuZXJyb3JDb3JyZWN0aW9uTGV2ZWwgJiYKCSAgICAgICAgICAgIHRoaXMuZGF0YU1hc2sgPT09IG90aGVyLmRhdGFNYXNrOwoJICAgIH07CgkgICAgRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUiA9IDB4NTQxMjsKCSAgICAvKioKCSAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYsIEFubmV4IEMsIFRhYmxlIEMuMQoJICAgICAqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVAgPSBbCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1NDEyLCAweDAwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1MTI1LCAweDAxXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1RTdDLCAweDAyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1QjRCLCAweDAzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0NUY5LCAweDA0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0MENFLCAweDA1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0Rjk3LCAweDA2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0QUEwLCAweDA3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3N0M0LCAweDA4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3MkYzLCAweDA5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3REFBLCAweDBBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3ODlELCAweDBCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2NjJGLCAweDBDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2MzE4LCAweDBEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2QzQxLCAweDBFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2OTc2LCAweDBGXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxNjg5LCAweDEwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxM0JFLCAweDExXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxQ0U3LCAweDEyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxOUQwLCAweDEzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwNzYyLCAweDE0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwMjU1LCAweDE1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwRDBDLCAweDE2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwODNCLCAweDE3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzNTVGLCAweDE4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzMDY4LCAweDE5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzRjMxLCAweDFBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzQTA2LCAweDFCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyNEI0LCAweDFDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyMTgzLCAweDFEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyRURBLCAweDFFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyQkVELCAweDFGXSksCgkgICAgXTsKCSAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb247Cgl9KCkpOwoJRm9ybWF0SW5mb3JtYXRpb24kMS5kZWZhdWx0ID0gRm9ybWF0SW5mb3JtYXRpb247CgoJdmFyIEVDQmxvY2tzJDEgPSB7fTsKCgl2YXIgX192YWx1ZXMkNSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0Jsb2NrcyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHNldCBvZiBlcnJvci1jb3JyZWN0aW9uIGJsb2NrcyBpbiBvbmUgc3ltYm9sIHZlcnNpb24uIE1vc3QgdmVyc2lvbnMgd2lsbAoJICogdXNlIGJsb2NrcyBvZiBkaWZmZXJpbmcgc2l6ZXMgd2l0aGluIG9uZSB2ZXJzaW9uLCBzbywgdGhpcyBlbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yCgkgKiBlYWNoIHNldCBvZiBibG9ja3MuIEl0IGFsc28gaG9sZHMgdGhlIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBwZXIgYmxvY2sgc2luY2UgaXQKCSAqIHdpbGwgYmUgdGhlIHNhbWUgYWNyb3NzIGFsbCBibG9ja3Mgd2l0aGluIG9uZSB2ZXJzaW9uLjwvcD4KCSAqLwoJdmFyIEVDQmxvY2tzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEVDQmxvY2tzKGVjQ29kZXdvcmRzUGVyQmxvY2sgLyppbnQqLykgewoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayA9IGVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgICAgIHRoaXMuZWNCbG9ja3MgPSBlY0Jsb2NrczsKCSAgICB9CgkgICAgRUNCbG9ja3MucHJvdG90eXBlLmdldEVDQ29kZXdvcmRzUGVyQmxvY2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0TnVtQmxvY2tzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIHRvdGFsID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tzID0gdGhpcy5lY0Jsb2NrczsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIGVjQmxvY2tzXzEgPSBfX3ZhbHVlcyQ1KGVjQmxvY2tzKSwgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCk7ICFlY0Jsb2Nrc18xXzEuZG9uZTsgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tzXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbCArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2Nrc18xXzEgJiYgIWVjQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGVjQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2Nrc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdG90YWw7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0VG90YWxFQ0NvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayAqIHRoaXMuZ2V0TnVtQmxvY2tzKCk7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0RUNCbG9ja3MgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQmxvY2tzOwoJICAgIH07CgkgICAgcmV0dXJuIEVDQmxvY2tzOwoJfSgpKTsKCUVDQmxvY2tzJDEuZGVmYXVsdCA9IEVDQmxvY2tzOwoKCXZhciBFQ0IkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIG9uZSBlcnJvci1jb3JyZWN0aW9uIGJsb2NrIGluIG9uZSBzeW1ib2wgdmVyc2lvbi4KCSAqIFRoaXMgaW5jbHVkZXMgdGhlIG51bWJlciBvZiBkYXRhIGNvZGV3b3JkcywgYW5kIHRoZSBudW1iZXIgb2YgdGltZXMgYSBibG9jayB3aXRoIHRoZXNlCgkgKiBwYXJhbWV0ZXJzIGlzIHVzZWQgY29uc2VjdXRpdmVseSBpbiB0aGUgUVIgY29kZSB2ZXJzaW9uJ3MgZm9ybWF0LjwvcD4KCSAqLwoJdmFyIEVDQiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFQ0IoY291bnQgLyppbnQqLywgZGF0YUNvZGV3b3JkcyAvKmludCovKSB7CgkgICAgICAgIHRoaXMuY291bnQgPSBjb3VudDsKCSAgICAgICAgdGhpcy5kYXRhQ29kZXdvcmRzID0gZGF0YUNvZGV3b3JkczsKCSAgICB9CgkgICAgRUNCLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7CgkgICAgfTsKCSAgICBFQ0IucHJvdG90eXBlLmdldERhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICByZXR1cm4gRUNCOwoJfSgpKTsKCUVDQiQxLmRlZmF1bHQgPSBFQ0I7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX3ZhbHVlcyQ0ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlcnNpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBCaXRNYXRyaXhfMSQzID0gQml0TWF0cml4JDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSQxID0gRm9ybWF0SW5mb3JtYXRpb24kMTsKCXZhciBFQ0Jsb2Nrc18xID0gRUNCbG9ja3MkMTsKCXZhciBFQ0JfMSA9IEVDQiQxOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDIgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQyID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIFNlZSBJU08gMTgwMDQ6MjAwNiBBbm5leCBECgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFZlcnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gVmVyc2lvbih2ZXJzaW9uTnVtYmVyIC8qaW50Ki8sIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmVyc2lvbk51bWJlciA9IHZlcnNpb25OdW1iZXI7CgkgICAgICAgIHRoaXMuYWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczsKCSAgICAgICAgdGhpcy5lY0Jsb2NrcyA9IGVjQmxvY2tzOwoJICAgICAgICB2YXIgdG90YWwgPSAwOwoJICAgICAgICB2YXIgZWNDb2Rld29yZHMgPSBlY0Jsb2Nrc1swXS5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIHZhciBlY2JBcnJheSA9IGVjQmxvY2tzWzBdLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY2JBcnJheV8xID0gX192YWx1ZXMkNChlY2JBcnJheSksIGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpOyAhZWNiQXJyYXlfMV8xLmRvbmU7IGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVjQmxvY2sgPSBlY2JBcnJheV8xXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdG90YWwgKz0gZWNCbG9jay5nZXRDb3VudCgpICogKGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpICsgZWNDb2Rld29yZHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoZWNiQXJyYXlfMV8xICYmICFlY2JBcnJheV8xXzEuZG9uZSAmJiAoX2EgPSBlY2JBcnJheV8xLnJldHVybikpIF9hLmNhbGwoZWNiQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy50b3RhbENvZGV3b3JkcyA9IHRvdGFsOwoJICAgIH0KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5nZXRWZXJzaW9uTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0VG90YWxDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRvdGFsQ29kZXdvcmRzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDE3ICsgNCAqIHRoaXMudmVyc2lvbk51bWJlcjsKCSAgICB9OwoJICAgIFZlcnNpb24ucHJvdG90eXBlLmdldEVDQmxvY2tzRm9yTGV2ZWwgPSBmdW5jdGlvbiAoZWNMZXZlbCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0Jsb2Nrc1tlY0xldmVsLmdldFZhbHVlKCldOwoJICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogb3JpZ2luYWwgd2FzIHVzaW5nIG9yZGluYWwsIGFuZCB1c2luZyB0aGUgb3JkZXIgb2YgbGV2ZWxzIGFzIGRlZmluZWQgaW4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwgZW51bSAoTE1RSCkKCSAgICAgICAgLy8gSSB3aWxsIHVzZSB0aGUgZGlyZWN0IHZhbHVlIGZyb20gRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMgZW51bSB3aGljaCBpbiB0eXBlc2NyaXB0IGdvZXMgdG8gYSBudW1iZXIKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkRlZHVjZXMgdmVyc2lvbiBpbmZvcm1hdGlvbiBwdXJlbHkgZnJvbSBRUiBDb2RlIGRpbWVuc2lvbnMuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gaW4gbW9kdWxlcwoJICAgICAqIEByZXR1cm4gVmVyc2lvbiBmb3IgYSBRUiBDb2RlIG9mIHRoYXQgZGltZW5zaW9uCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCAxIG1vZCA0CgkgICAgICovCgkgICAgVmVyc2lvbi5nZXRQcm92aXNpb25hbFZlcnNpb25Gb3JEaW1lbnNpb24gPSBmdW5jdGlvbiAoZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiAlIDQgIT09IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVyc2lvbkZvck51bWJlcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlciA9IGZ1bmN0aW9uICh2ZXJzaW9uTnVtYmVyIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPCAxIHx8IHZlcnNpb25OdW1iZXIgPiA0MCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDIuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBWZXJzaW9uLlZFUlNJT05TW3ZlcnNpb25OdW1iZXIgLSAxXTsKCSAgICB9OwoJICAgIFZlcnNpb24uZGVjb2RlVmVyc2lvbkluZm9ybWF0aW9uID0gZnVuY3Rpb24gKHZlcnNpb25CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGJlc3REaWZmZXJlbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHZhciBiZXN0VmVyc2lvbiA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVmVyc2lvbi5WRVJTSU9OX0RFQ09ERV9JTkZPLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgdGFyZ2V0VmVyc2lvbiA9IFZlcnNpb24uVkVSU0lPTl9ERUNPREVfSU5GT1tpXTsKCSAgICAgICAgICAgIC8vIERvIHRoZSB2ZXJzaW9uIGluZm8gYml0cyBtYXRjaCBleGFjdGx5PyBkb25lLgoJICAgICAgICAgICAgaWYgKHRhcmdldFZlcnNpb24gPT09IHZlcnNpb25CaXRzKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlcihpICsgNyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBPdGhlcndpc2Ugc2VlIGlmIHRoaXMgaXMgdGhlIGNsb3Nlc3QgdG8gYSByZWFsIHZlcnNpb24gaW5mbyBiaXQgc3RyaW5nCgkgICAgICAgICAgICAvLyB3ZSBoYXZlIHNlZW4gc28gZmFyCgkgICAgICAgICAgICB2YXIgYml0c0RpZmZlcmVuY2UgPSBGb3JtYXRJbmZvcm1hdGlvbl8xJDEuZGVmYXVsdC5udW1CaXRzRGlmZmVyaW5nKHZlcnNpb25CaXRzLCB0YXJnZXRWZXJzaW9uKTsKCSAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgYmVzdFZlcnNpb24gPSBpICsgNzsKCSAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFdlIGNhbiB0b2xlcmF0ZSB1cCB0byAzIGJpdHMgb2YgZXJyb3Igc2luY2Ugbm8gdHdvIHZlcnNpb24gaW5mbyBjb2Rld29yZHMgd2lsbAoJICAgICAgICAvLyBkaWZmZXIgaW4gbGVzcyB0aGFuIDggYml0cy4KCSAgICAgICAgaWYgKGJlc3REaWZmZXJlbmNlIDw9IDMpIHsKCSAgICAgICAgICAgIHJldHVybiBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIoYmVzdFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIGEgY2xvc2UgZW5vdWdoIG1hdGNoLCBmYWlsCgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIElTTyAxODAwNDoyMDA2IEFubmV4IEUKCSAgICAgKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5idWlsZEZ1bmN0aW9uUGF0dGVybiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpOwoJICAgICAgICB2YXIgYml0TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDMuZGVmYXVsdChkaW1lbnNpb24pOwoJICAgICAgICAvLyBUb3AgbGVmdCBmaW5kZXIgcGF0dGVybiArIHNlcGFyYXRvciArIGZvcm1hdAoJICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKDAsIDAsIDksIDkpOwoJICAgICAgICAvLyBUb3AgcmlnaHQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbihkaW1lbnNpb24gLSA4LCAwLCA4LCA5KTsKCSAgICAgICAgLy8gQm90dG9tIGxlZnQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSA4LCA5LCA4KTsKCSAgICAgICAgLy8gQWxpZ25tZW50IHBhdHRlcm5zCgkgICAgICAgIHZhciBtYXggPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHgrKykgewoJICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzW3hdIC0gMjsKCSAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbWF4OyB5KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoKHggPT09IDAgJiYgKHkgPT09IDAgfHwgeSA9PT0gbWF4IC0gMSkpIHx8ICh4ID09PSBtYXggLSAxICYmIHkgPT09IDApKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE5vIGFsaWdubWVudCBwYXR0ZXJucyBuZWFyIHRoZSB0aHJlZSBmaW5kZXIgcGF0dGVybnMKCSAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24odGhpcy5hbGlnbm1lbnRQYXR0ZXJuQ2VudGVyc1t5XSAtIDIsIGksIDUsIDUpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFZlcnRpY2FsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oNiwgOSwgMSwgZGltZW5zaW9uIC0gMTcpOwoJICAgICAgICAvLyBIb3Jpem9udGFsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oOSwgNiwgZGltZW5zaW9uIC0gMTcsIDEpOwoJICAgICAgICBpZiAodGhpcy52ZXJzaW9uTnVtYmVyID4gNikgewoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCB0b3AgcmlnaHQKCSAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oZGltZW5zaW9uIC0gMTEsIDAsIDMsIDYpOwoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCBib3R0b20gbGVmdAoJICAgICAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSAxMSwgNiwgMyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICcnICsgdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgQW5uZXggRC4KCSAgICAgICAqIEVsZW1lbnQgaSByZXByZXNlbnRzIHRoZSByYXcgdmVyc2lvbiBiaXRzIHRoYXQgc3BlY2lmeSB2ZXJzaW9uIGkgKyA3CgkgICAgICAgKi8KCSAgICBWZXJzaW9uLlZFUlNJT05fREVDT0RFX0lORk8gPSBJbnQzMkFycmF5LmZyb20oWwoJICAgICAgICAweDA3Qzk0LCAweDA4NUJDLCAweDA5QTk5LCAweDBBNEQzLCAweDBCQkY2LAoJICAgICAgICAweDBDNzYyLCAweDBEODQ3LCAweDBFNjBELCAweDBGOTI4LCAweDEwQjc4LAoJICAgICAgICAweDExNDVELCAweDEyQTE3LCAweDEzNTMyLCAweDE0OUE2LCAweDE1NjgzLAoJICAgICAgICAweDE2OEM5LCAweDE3N0VDLCAweDE4RUM0LCAweDE5MUUxLCAweDFBRkFCLAoJICAgICAgICAweDFCMDhFLCAweDFDQzFBLCAweDFEMzNGLCAweDFFRDc1LCAweDFGMjUwLAoJICAgICAgICAweDIwOUQ1LCAweDIxNkYwLCAweDIyOEJBLCAweDIzNzlGLCAweDI0QjBCLAoJICAgICAgICAweDI1NDJFLCAweDI2QTY0LCAweDI3NTQxLCAweDI4QzY5CgkgICAgXSk7CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgNi41LjEgVGFibGUgOQoJICAgICAgICovCgkgICAgVmVyc2lvbi5WRVJTSU9OUyA9IFsKCSAgICAgICAgbmV3IFZlcnNpb24oMSwgbmV3IEludDMyQXJyYXkoMCksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOSkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMiwgSW50MzJBcnJheS5mcm9tKFs2LCAxOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDEwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMywgSW50MzJBcnJheS5mcm9tKFs2LCAyMl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE1LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1NSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA4MCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA5KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCA0MykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTIpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDYsIEludDMyQXJyYXkuZnJvbShbNiwgMzRdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDcsIEludDMyQXJyYXkuZnJvbShbNiwgMjIsIDM4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDc4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDMxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNCkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNCwgNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMzgpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzOSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxOCksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE5KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDksIEludDMyQXJyYXkuZnJvbShbNiwgMjYsIDQ2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAzNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDM3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTAsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDUwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDY4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxOSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDIwKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDExLCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA4MSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDUxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTIsIEludDMyQXJyYXkuZnJvbShbNiwgMzIsIDU4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDkyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMzYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDEzLCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2Ml0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMzcpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDEyLCAxMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDYsIDY2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA0MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDQxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDE3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNSwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDgsIDcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDg3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgODgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgNDEpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNiwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDk4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0NikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTkpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyMCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTcsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxMDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE4LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NiwgODJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIwKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDQzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxOSwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE5LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1OCwgODZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTE0KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDQ0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDQ1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDE3LCAyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDE0KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMCwgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjIsIDkwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDEwNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0MSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIxLCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1MCwgNzIsIDk0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDIpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIyLCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzQsIDk4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDExMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMywgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIxKSwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI0LCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1NCwgODAsIDEwNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTcpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMwLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE3KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyNSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMTA2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTA3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMjYsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzMsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI3LCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2MiwgOTAsIDExOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0LCA5OCwgMTIyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDIsIDEyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTYpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjEsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgzNywgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTIsIDc4LCAxMDQsIDEzMF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCA0NyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjMsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjUsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTYsIDgyLCAxMDgsIDEzNF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxMywgMTE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQyLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDI4LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzIsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYwLCA4NiwgMTEyLCAxMzhdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzUsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDM1LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzMsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzQsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgMTE4LCAxNDZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNDQsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2LCAxNTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDEyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMiwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgNDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzYsIEludDMyQXJyYXkuZnJvbShbNiwgMjQsIDUwLCA3NiwgMTAyLCAxMjgsIDE1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMjEpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDY0LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzcsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDU0LCA4MCwgMTA2LCAxMzIsIDE1OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIzKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDI5LCA0NiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCA0NykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0OSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjQsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNDYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzOCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTAsIDEzNiwgMTYyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE4LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzIsIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ4LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM5LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1NCwgODIsIDExMCwgMTM4LCAxNjZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjAsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCg0MCwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNjcsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig0MCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAxMTQsIDE0MiwgMTcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxMTgpLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyMCwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCg2MSwgMTYpKSkKCSAgICBdOwoJICAgIHJldHVybiBWZXJzaW9uOwoJfSgpKTsKCVZlcnNpb24kMS5kZWZhdWx0ID0gVmVyc2lvbjsKCgl2YXIgRGF0YU1hc2sgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5EYXRhTWFza1ZhbHVlcyA9IHZvaWQgMDsKCXZhciBEYXRhTWFza1ZhbHVlczsKCShmdW5jdGlvbiAoRGF0YU1hc2tWYWx1ZXMpIHsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAwMCJdID0gMF0gPSAiREFUQV9NQVNLXzAwMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18wMDEiXSA9IDFdID0gIkRBVEFfTUFTS18wMDEiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMDEwIl0gPSAyXSA9ICJEQVRBX01BU0tfMDEwIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAxMSJdID0gM10gPSAiREFUQV9NQVNLXzAxMSI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMDAiXSA9IDRdID0gIkRBVEFfTUFTS18xMDAiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMTAxIl0gPSA1XSA9ICJEQVRBX01BU0tfMTAxIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzExMCJdID0gNl0gPSAiREFUQV9NQVNLXzExMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMTEiXSA9IDddID0gIkRBVEFfTUFTS18xMTEiOwoJfSkoRGF0YU1hc2tWYWx1ZXMgPSBleHBvcnRzLkRhdGFNYXNrVmFsdWVzIHx8IChleHBvcnRzLkRhdGFNYXNrVmFsdWVzID0ge30pKTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGRhdGEgbWFza3MgZm9yIHRoZSBkYXRhIGJpdHMgaW4gYSBRUiBjb2RlLCBwZXIgSVNPIDE4MDA0OjIwMDYgNi44LiBJbXBsZW1lbnRhdGlvbnMKCSAqIG9mIHRoaXMgY2xhc3MgY2FuIHVuLW1hc2sgYSByYXcgQml0TWF0cml4LiBGb3Igc2ltcGxpY2l0eSwgdGhleSB3aWxsIHVubWFzayB0aGUgZW50aXJlIEJpdE1hdHJpeCwKCSAqIGluY2x1ZGluZyBhcmVhcyB1c2VkIGZvciBmaW5kZXIgcGF0dGVybnMsIHRpbWluZyBwYXR0ZXJucywgZXRjLiBUaGVzZSBhcmVhcyBzaG91bGQgYmUgdW51c2VkCgkgKiBhZnRlciB0aGUgcG9pbnQgdGhleSBhcmUgdW5tYXNrZWQgYW55d2F5LjwvcD4KCSAqCgkgKiA8cD5Ob3RlIHRoYXQgdGhlIGRpYWdyYW0gaW4gc2VjdGlvbiA2LjguMSBpcyBtaXNsZWFkaW5nIHNpbmNlIGl0IGluZGljYXRlcyB0aGF0IGkgaXMgY29sdW1uIHBvc2l0aW9uCgkgKiBhbmQgaiBpcyByb3cgcG9zaXRpb24uIEluIGZhY3QsIGFzIHRoZSB0ZXh0IHNheXMsIGkgaXMgcm93IHBvc2l0aW9uIGFuZCBqIGlzIGNvbHVtbiBwb3NpdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFNYXNrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIFNlZSBJU08gMTgwMDQ6MjAwNiA2LjguMQoJICAgIGZ1bmN0aW9uIERhdGFNYXNrKHZhbHVlLCBpc01hc2tlZCkgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuaXNNYXNrZWQgPSBpc01hc2tlZDsKCSAgICB9CgkgICAgLy8gRW5kIG9mIGVudW0gY29uc3RhbnRzLgoJICAgIC8qKgoJICAgICAqIDxwPkltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCByZXZlcnNlIHRoZSBkYXRhIG1hc2tpbmcgcHJvY2VzcyBhcHBsaWVkIHRvIGEgUVIgQ29kZSBhbmQKCSAgICAgKiBtYWtlIGl0cyBiaXRzIHJlYWR5IHRvIHJlYWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGJpdHMgcmVwcmVzZW50YXRpb24gb2YgUVIgQ29kZSBiaXRzCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gb2YgUVIgQ29kZSwgcmVwcmVzZW50ZWQgYnkgYml0cywgYmVpbmcgdW5tYXNrZWQKCSAgICAgKi8KCSAgICBEYXRhTWFzay5wcm90b3R5cGUudW5tYXNrQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGRpbWVuc2lvbiAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGltZW5zaW9uOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01hc2tlZChpLCBqKSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLmZsaXAoaiwgaSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBEYXRhTWFzay52YWx1ZXMgPSBuZXcgTWFwKFsKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDAwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeCArIHkpIG1vZCAyID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDAwLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMCwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoKGkgKyBqKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeCBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMDEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgJiAweDAxKSA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMDEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoIHkgbW9kIDMgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuIGogJSAzID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKHggKyB5KSBtb2QgMyA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAxMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgKyBqKSAlIDMgPT09IDA7IH0pXSwKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDEwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeC8yICsgeS8zKSBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMCwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMDAsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKChNYXRoLmZsb29yKGkgLyAyKSArIE1hdGguZmxvb3IoaiAvIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeHkgbW9kIDIgKyB4eSBtb2QgMyA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2ID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTAxLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMSwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoaSAqIGopICUgNiA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMTEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoICh4eSBtb2QgMiArIHh5IG1vZCAzKSBtb2QgMiA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2IDwgMwoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSAqIGopICUgNikgPCAzOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKCh4K3kpbW9kIDIgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKiBlcXVpdmFsZW50bHksIHN1Y2ggdGhhdCAoeCArIHkgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTEsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTExLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSArIGogKyAoKGkgKiBqKSAlIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgXSk7CgkgICAgcmV0dXJuIERhdGFNYXNrOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IERhdGFNYXNrOwoKCX0oRGF0YU1hc2spKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdE1hdHJpeFBhcnNlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgVmVyc2lvbl8xJDEgPSBWZXJzaW9uJDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSA9IEZvcm1hdEluZm9ybWF0aW9uJDE7Cgl2YXIgRGF0YU1hc2tfMSA9IERhdGFNYXNrOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCS8qKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJpdE1hdHJpeFBhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYml0TWF0cml4IHtAbGluayBCaXRNYXRyaXh9IHRvIHBhcnNlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCA+PSAyMSBhbmQgMSBtb2QgNAoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeFBhcnNlcihiaXRNYXRyaXgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IGJpdE1hdHJpeC5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiA8IDIxIHx8IChkaW1lbnNpb24gJiAweDAzKSAhPT0gMSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0TWF0cml4ID0gYml0TWF0cml4OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5SZWFkcyBmb3JtYXQgaW5mb3JtYXRpb24gZnJvbSBvbmUgb2YgaXRzIHR3byBsb2NhdGlvbnMgd2l0aGluIHRoZSBRUiBDb2RlLjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEZvcm1hdEluZm9ybWF0aW9ufSBlbmNhcHN1bGF0aW5nIHRoZSBRUiBDb2RlJ3MgZm9ybWF0IGluZm8KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIGZvcm1hdCBpbmZvcm1hdGlvbiBsb2NhdGlvbnMgY2Fubm90IGJlIHBhcnNlZCBhcwoJICAgICAqIHRoZSB2YWxpZCBlbmNvZGluZyBvZiBmb3JtYXQgaW5mb3JtYXRpb24KCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRGb3JtYXRJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgaWYgKHRoaXMucGFyc2VkRm9ybWF0SW5mbyAhPT0gbnVsbCAmJiB0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VkRm9ybWF0SW5mbzsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRvcC1sZWZ0IGZvcm1hdCBpbmZvIGJpdHMKCSAgICAgICAgdmFyIGZvcm1hdEluZm9CaXRzMSA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoaSwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyAuLiBhbmQgc2tpcCBhIGJpdCBpbiB0aGUgdGltaW5nIHBhdHRlcm4gLi4uCgkgICAgICAgIGZvcm1hdEluZm9CaXRzMSA9IHRoaXMuY29weUJpdCg3LCA4LCBmb3JtYXRJbmZvQml0czEpOwoJICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgZm9ybWF0SW5mb0JpdHMxID0gdGhpcy5jb3B5Qml0KDgsIDcsIGZvcm1hdEluZm9CaXRzMSk7CgkgICAgICAgIC8vIC4uIGFuZCBza2lwIGEgYml0IGluIHRoZSB0aW1pbmcgcGF0dGVybiAuLi4KCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgaiwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRoZSB0b3AtcmlnaHQvYm90dG9tLWxlZnQgcGF0dGVybiB0b28KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgZm9ybWF0SW5mb0JpdHMyID0gMDsKCSAgICAgICAgdmFyIGpNaW4gPSBkaW1lbnNpb24gLSA3OwoJICAgICAgICBmb3IgKHZhciBqID0gZGltZW5zaW9uIC0gMTsgaiA+PSBqTWluOyBqLS0pIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdCg4LCBqLCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIGZvciAodmFyIGkgPSBkaW1lbnNpb24gLSA4OyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdChpLCA4LCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uXzEuZGVmYXVsdC5kZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihmb3JtYXRJbmZvQml0czEsIGZvcm1hdEluZm9CaXRzMik7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZEZvcm1hdEluZm87CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+UmVhZHMgdmVyc2lvbiBpbmZvcm1hdGlvbiBmcm9tIG9uZSBvZiBpdHMgdHdvIGxvY2F0aW9ucyB3aXRoaW4gdGhlIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgVmVyc2lvbn0gZW5jYXBzdWxhdGluZyB0aGUgUVIgQ29kZSdzIHZlcnNpb24KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIHZlcnNpb24gaW5mb3JtYXRpb24gbG9jYXRpb25zIGNhbm5vdCBiZSBwYXJzZWQgYXMKCSAgICAgKiB0aGUgdmFsaWQgZW5jb2Rpbmcgb2YgdmVyc2lvbiBpbmZvcm1hdGlvbgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUucmVhZFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZFZlcnNpb24gIT09IG51bGwgJiYgdGhpcy5wYXJzZWRWZXJzaW9uICE9PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgcHJvdmlzaW9uYWxWZXJzaW9uID0gTWF0aC5mbG9vcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24gPD0gNikgewoJICAgICAgICAgICAgcmV0dXJuIFZlcnNpb25fMSQxLmRlZmF1bHQuZ2V0VmVyc2lvbkZvck51bWJlcihwcm92aXNpb25hbFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJlYWQgdG9wLXJpZ2h0IHZlcnNpb24gaW5mbzogMyB3aWRlIGJ5IDYgdGFsbAoJICAgICAgICB2YXIgdmVyc2lvbkJpdHMgPSAwOwoJICAgICAgICB2YXIgaWpNaW4gPSBkaW1lbnNpb24gLSAxMTsKCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gZGltZW5zaW9uIC0gOTsgaSA+PSBpak1pbjsgaS0tKSB7CgkgICAgICAgICAgICAgICAgdmVyc2lvbkJpdHMgPSB0aGlzLmNvcHlCaXQoaSwgaiwgdmVyc2lvbkJpdHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBmYWlsZWQuIFRyeSBib3R0b20gbGVmdDogNiB3aWRlIGJ5IDMgdGFsbAoJICAgICAgICB2ZXJzaW9uQml0cyA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSA1OyBpID49IDA7IGktLSkgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDk7IGogPj0gaWpNaW47IGotLSkgewoJICAgICAgICAgICAgICAgIHZlcnNpb25CaXRzID0gdGhpcy5jb3B5Qml0KGksIGosIHZlcnNpb25CaXRzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5jb3B5Qml0ID0gZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovLCB2ZXJzaW9uQml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBiaXQgPSB0aGlzLmlzTWlycm9yID8gdGhpcy5iaXRNYXRyaXguZ2V0KGosIGkpIDogdGhpcy5iaXRNYXRyaXguZ2V0KGksIGopOwoJICAgICAgICByZXR1cm4gYml0ID8gKHZlcnNpb25CaXRzIDw8IDEpIHwgMHgxIDogdmVyc2lvbkJpdHMgPDwgMTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlJlYWRzIHRoZSBiaXRzIGluIHRoZSB7QGxpbmsgQml0TWF0cml4fSByZXByZXNlbnRpbmcgdGhlIGZpbmRlciBwYXR0ZXJuIGluIHRoZQoJICAgICAqIGNvcnJlY3Qgb3JkZXIgaW4gb3JkZXIgdG8gcmVjb25zdHJ1Y3QgdGhlIGNvZGV3b3JkcyBieXRlcyBjb250YWluZWQgd2l0aGluIHRoZQoJICAgICAqIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBleGFjdCBudW1iZXIgb2YgYnl0ZXMgZXhwZWN0ZWQgaXMgbm90IHJlYWQKCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBmb3JtYXRJbmZvID0gdGhpcy5yZWFkRm9ybWF0SW5mb3JtYXRpb24oKTsKCSAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLnJlYWRWZXJzaW9uKCk7CgkgICAgICAgIC8vIEdldCB0aGUgZGF0YSBtYXNrIGZvciB0aGUgZm9ybWF0IHVzZWQgaW4gdGhpcyBRUiBDb2RlLiBUaGlzIHdpbGwgZXhjbHVkZQoJICAgICAgICAvLyBzb21lIGJpdHMgZnJvbSByZWFkaW5nIGFzIHdlIHdpbmQgdGhyb3VnaCB0aGUgYml0IG1hdHJpeC4KCSAgICAgICAgdmFyIGRhdGFNYXNrID0gRGF0YU1hc2tfMS5kZWZhdWx0LnZhbHVlcy5nZXQoZm9ybWF0SW5mby5nZXREYXRhTWFzaygpKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICBkYXRhTWFzay51bm1hc2tCaXRNYXRyaXgodGhpcy5iaXRNYXRyaXgsIGRpbWVuc2lvbik7CgkgICAgICAgIHZhciBmdW5jdGlvblBhdHRlcm4gPSB2ZXJzaW9uLmJ1aWxkRnVuY3Rpb25QYXR0ZXJuKCk7CgkgICAgICAgIHZhciByZWFkaW5nVXAgPSB0cnVlOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkodmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKTsKCSAgICAgICAgdmFyIHJlc3VsdE9mZnNldCA9IDA7CgkgICAgICAgIHZhciBjdXJyZW50Qnl0ZSA9IDA7CgkgICAgICAgIHZhciBiaXRzUmVhZCA9IDA7CgkgICAgICAgIC8vIFJlYWQgY29sdW1ucyBpbiBwYWlycywgZnJvbSByaWdodCB0byBsZWZ0CgkgICAgICAgIGZvciAodmFyIGogPSBkaW1lbnNpb24gLSAxOyBqID4gMDsgaiAtPSAyKSB7CgkgICAgICAgICAgICBpZiAoaiA9PT0gNikgewoJICAgICAgICAgICAgICAgIC8vIFNraXAgd2hvbGUgY29sdW1uIHdpdGggdmVydGljYWwgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgICAgICAgICAgICAvLyBzYXZlcyB0aW1lIGFuZCBtYWtlcyB0aGUgb3RoZXIgY29kZSBwcm9jZWVkIG1vcmUgY2xlYW5seQoJICAgICAgICAgICAgICAgIGotLTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIFJlYWQgYWx0ZXJuYXRpbmdseSBmcm9tIGJvdHRvbSB0byB0b3AgdGhlbiB0b3AgdG8gYm90dG9tCgkgICAgICAgICAgICBmb3IgKHZhciBjb3VudCA9IDA7IGNvdW50IDwgZGltZW5zaW9uOyBjb3VudCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGkgPSByZWFkaW5nVXAgPyBkaW1lbnNpb24gLSAxIC0gY291bnQgOiBjb3VudDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCAyOyBjb2wrKykgewoJICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgYml0cyBjb3ZlcmVkIGJ5IHRoZSBmdW5jdGlvbiBwYXR0ZXJuCgkgICAgICAgICAgICAgICAgICAgIGlmICghZnVuY3Rpb25QYXR0ZXJuLmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBhIGJpdAoJICAgICAgICAgICAgICAgICAgICAgICAgYml0c1JlYWQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0TWF0cml4LmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSBtYWRlIGEgd2hvbGUgYnl0ZSwgc2F2ZSBpdCBvZmYKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzUmVhZCA9PT0gOCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRPZmZzZXQrK10gPSAvKihieXRlKSAqLyBjdXJyZW50Qnl0ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXRzUmVhZCA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJ5dGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVhZGluZ1VwID0gIXJlYWRpbmdVcDsgLy8gcmVhZGluZ1VwIF49IHRydWU7IC8vIHJlYWRpbmdVcCA9ICFyZWFkaW5nVXA7IC8vIHN3aXRjaCBkaXJlY3Rpb25zCgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJlc3VsdE9mZnNldCAhPT0gdmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldmVydCB0aGUgbWFzayByZW1vdmFsIGRvbmUgd2hpbGUgcmVhZGluZyB0aGUgY29kZSB3b3Jkcy4gVGhlIGJpdCBtYXRyaXggc2hvdWxkIHJldmVydCB0byBpdHMgb3JpZ2luYWwgc3RhdGUuCgkgICAgICovCgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5yZW1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybjsgLy8gV2UgaGF2ZSBubyBmb3JtYXQgaW5mb3JtYXRpb24sIGFuZCBoYXZlIG5vIGRhdGEgbWFzawoJICAgICAgICB9CgkgICAgICAgIHZhciBkYXRhTWFzayA9IERhdGFNYXNrXzEuZGVmYXVsdC52YWx1ZXNbdGhpcy5wYXJzZWRGb3JtYXRJbmZvLmdldERhdGFNYXNrKCldOwoJICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5iaXRNYXRyaXguZ2V0SGVpZ2h0KCk7CgkgICAgICAgIGRhdGFNYXNrLnVubWFza0JpdE1hdHJpeCh0aGlzLmJpdE1hdHJpeCwgZGltZW5zaW9uKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFByZXBhcmUgdGhlIHBhcnNlciBmb3IgYSBtaXJyb3JlZCBvcGVyYXRpb24uCgkgICAgICogVGhpcyBmbGFnIGhhcyBlZmZlY3Qgb25seSBvbiB0aGUge0BsaW5rICNyZWFkRm9ybWF0SW5mb3JtYXRpb24oKX0gYW5kIHRoZQoJICAgICAqIHtAbGluayAjcmVhZFZlcnNpb24oKX0uIEJlZm9yZSBwcm9jZWVkaW5nIHdpdGgge0BsaW5rICNyZWFkQ29kZXdvcmRzKCl9IHRoZQoJICAgICAqIHtAbGluayAjbWlycm9yKCl9IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkLgoJICAgICAqCgkgICAgICogQHBhcmFtIG1pcnJvciBXaGV0aGVyIHRvIHJlYWQgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm9ybWF0aW9uIG1pcnJvcmVkLgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUuc2V0TWlycm9yID0gZnVuY3Rpb24gKGlzTWlycm9yKSB7CgkgICAgICAgIHRoaXMucGFyc2VkVmVyc2lvbiA9IG51bGw7CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IG51bGw7CgkgICAgICAgIHRoaXMuaXNNaXJyb3IgPSBpc01pcnJvcjsKCSAgICB9OwoJICAgIC8qKiBNaXJyb3IgdGhlIGJpdCBtYXRyaXggaW4gb3JkZXIgdG8gYXR0ZW1wdCBhIHNlY29uZCByZWFkaW5nLiAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUubWlycm9yID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgYml0TWF0cml4ID0gdGhpcy5iaXRNYXRyaXg7CgkgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IGJpdE1hdHJpeC5nZXRXaWR0aCgpOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgeSA9IHggKyAxLCBoZWlnaHQgPSBiaXRNYXRyaXguZ2V0SGVpZ2h0KCk7IHkgPCBoZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgICAgIGlmIChiaXRNYXRyaXguZ2V0KHgsIHkpICE9PSBiaXRNYXRyaXguZ2V0KHksIHgpKSB7CgkgICAgICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5mbGlwKHksIHgpOwoJICAgICAgICAgICAgICAgICAgICBiaXRNYXRyaXguZmxpcCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXhQYXJzZXI7Cgl9KCkpOwoJQml0TWF0cml4UGFyc2VyJDEuZGVmYXVsdCA9IEJpdE1hdHJpeFBhcnNlcjsKCgl2YXIgRGF0YUJsb2NrJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0YUJsb2NrJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQxID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIGJsb2NrIG9mIGRhdGEgd2l0aGluIGEgUVIgQ29kZS4gUVIgQ29kZXMgbWF5IHNwbGl0IHRoZWlyIGRhdGEgaW50bwoJICogbXVsdGlwbGUgYmxvY2tzLCBlYWNoIG9mIHdoaWNoIGlzIGEgdW5pdCBvZiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3Jkcy4gRWFjaAoJICogaXMgcmVwcmVzZW50ZWQgYnkgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFCbG9jayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEYXRhQmxvY2sobnVtRGF0YUNvZGV3b3JkcyAvKmludCovLCBjb2Rld29yZHMpIHsKCSAgICAgICAgdGhpcy5udW1EYXRhQ29kZXdvcmRzID0gbnVtRGF0YUNvZGV3b3JkczsKCSAgICAgICAgdGhpcy5jb2Rld29yZHMgPSBjb2Rld29yZHM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIDxwPldoZW4gUVIgQ29kZXMgdXNlIG11bHRpcGxlIGRhdGEgYmxvY2tzLCB0aGV5IGFyZSBhY3R1YWxseSBpbnRlcmxlYXZlZC4KCSAgICAgKiBUaGF0IGlzLCB0aGUgZmlyc3QgYnl0ZSBvZiBkYXRhIGJsb2NrIDEgdG8gbiBpcyB3cml0dGVuLCB0aGVuIHRoZSBzZWNvbmQgYnl0ZXMsIGFuZCBzbyBvbi4gVGhpcwoJICAgICAqIG1ldGhvZCB3aWxsIHNlcGFyYXRlIHRoZSBkYXRhIGludG8gb3JpZ2luYWwgYmxvY2tzLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByYXdDb2Rld29yZHMgYnl0ZXMgYXMgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBRUiBDb2RlCgkgICAgICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBvZiB0aGUgUVIgQ29kZQoJICAgICAqIEBwYXJhbSBlY0xldmVsIGVycm9yLWNvcnJlY3Rpb24gbGV2ZWwgb2YgdGhlIFFSIENvZGUKCSAgICAgKiBAcmV0dXJuIERhdGFCbG9ja3MgY29udGFpbmluZyBvcmlnaW5hbCBieXRlcywgImRlLWludGVybGVhdmVkIiBmcm9tIHJlcHJlc2VudGF0aW9uIGluIHRoZQoJICAgICAqICAgICAgICAgUVIgQ29kZQoJICAgICAqLwoJICAgIERhdGFCbG9jay5nZXREYXRhQmxvY2tzID0gZnVuY3Rpb24gKHJhd0NvZGV3b3JkcywgdmVyc2lvbiwgZWNMZXZlbCkgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgaWYgKHJhd0NvZGV3b3Jkcy5sZW5ndGggIT09IHZlcnNpb24uZ2V0VG90YWxDb2Rld29yZHMoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIG51bWJlciBhbmQgc2l6ZSBvZiBkYXRhIGJsb2NrcyB1c2VkIGJ5IHRoaXMgdmVyc2lvbiBhbmQKCSAgICAgICAgLy8gZXJyb3IgY29ycmVjdGlvbiBsZXZlbAoJICAgICAgICB2YXIgZWNCbG9ja3MgPSB2ZXJzaW9uLmdldEVDQmxvY2tzRm9yTGV2ZWwoZWNMZXZlbCk7CgkgICAgICAgIC8vIEZpcnN0IGNvdW50IHRoZSB0b3RhbCBudW1iZXIgb2YgZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIHRvdGFsQmxvY2tzID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tBcnJheSA9IGVjQmxvY2tzLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY0Jsb2NrQXJyYXlfMSA9IF9fdmFsdWVzJDMoZWNCbG9ja0FycmF5KSwgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKTsgIWVjQmxvY2tBcnJheV8xXzEuZG9uZTsgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBlY0Jsb2NrID0gZWNCbG9ja0FycmF5XzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbEJsb2NrcyArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2NrQXJyYXlfMV8xICYmICFlY0Jsb2NrQXJyYXlfMV8xLmRvbmUgJiYgKF9hID0gZWNCbG9ja0FycmF5XzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2NrQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGVzdGFibGlzaCBEYXRhQmxvY2tzIG9mIHRoZSBhcHByb3ByaWF0ZSBzaXplIGFuZCBudW1iZXIgb2YgZGF0YSBjb2Rld29yZHMKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0b3RhbEJsb2Nrcyk7CgkgICAgICAgIHZhciBudW1SZXN1bHRCbG9ja3MgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZWNCbG9ja0FycmF5XzIgPSBfX3ZhbHVlcyQzKGVjQmxvY2tBcnJheSksIGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCk7ICFlY0Jsb2NrQXJyYXlfMl8xLmRvbmU7IGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tBcnJheV8yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlY0Jsb2NrLmdldENvdW50KCk7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRGF0YUNvZGV3b3JkcyA9IGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQmxvY2tDb2Rld29yZHMgPSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCkgKyBudW1EYXRhQ29kZXdvcmRzOwoJICAgICAgICAgICAgICAgICAgICByZXN1bHRbbnVtUmVzdWx0QmxvY2tzKytdID0gbmV3IERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzLCBuZXcgVWludDhBcnJheShudW1CbG9ja0NvZGV3b3JkcykpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGVjQmxvY2tBcnJheV8yXzEgJiYgIWVjQmxvY2tBcnJheV8yXzEuZG9uZSAmJiAoX2IgPSBlY0Jsb2NrQXJyYXlfMi5yZXR1cm4pKSBfYi5jYWxsKGVjQmxvY2tBcnJheV8yKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICAvLyBBbGwgYmxvY2tzIGhhdmUgdGhlIHNhbWUgYW1vdW50IG9mIGRhdGEsIGV4Y2VwdCB0aGF0IHRoZSBsYXN0IG4KCSAgICAgICAgLy8gKHdoZXJlIG4gbWF5IGJlIDApIGhhdmUgMSBtb3JlIGJ5dGUuIEZpZ3VyZSBvdXQgd2hlcmUgdGhlc2Ugc3RhcnQuCgkgICAgICAgIHZhciBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGxvbmdlckJsb2Nrc1N0YXJ0QXQgPSByZXN1bHQubGVuZ3RoIC0gMTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IGNoZWNrIGxlbmd0aCBpcyBjb3JyZWN0IGhlcmUKCSAgICAgICAgd2hpbGUgKGxvbmdlckJsb2Nrc1N0YXJ0QXQgPj0gMCkgewoJICAgICAgICAgICAgdmFyIG51bUNvZGV3b3JkcyA9IHJlc3VsdFtsb25nZXJCbG9ja3NTdGFydEF0XS5jb2Rld29yZHMubGVuZ3RoOwoJICAgICAgICAgICAgaWYgKG51bUNvZGV3b3JkcyA9PT0gc2hvcnRlckJsb2Nrc1RvdGFsQ29kZXdvcmRzKSB7CgkgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsb25nZXJCbG9ja3NTdGFydEF0LS07CgkgICAgICAgIH0KCSAgICAgICAgbG9uZ2VyQmxvY2tzU3RhcnRBdCsrOwoJICAgICAgICB2YXIgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHMgPSBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgLSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIC8vIFRoZSBsYXN0IGVsZW1lbnRzIG9mIHJlc3VsdCBtYXkgYmUgMSBlbGVtZW50IGxvbmdlcgoJICAgICAgICAvLyBmaXJzdCBmaWxsIG91dCBhcyBtYW55IGVsZW1lbnRzIGFzIGFsbCBvZiB0aGVtIGhhdmUKCSAgICAgICAgdmFyIHJhd0NvZGV3b3Jkc09mZnNldCA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1SZXN1bHRCbG9ja3M7IGorKykgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaV0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIEZpbGwgb3V0IHRoZSBsYXN0IGRhdGEgYmxvY2sgaW4gdGhlIGxvbmdlciBvbmVzCgkgICAgICAgIGZvciAodmFyIGogPSBsb25nZXJCbG9ja3NTdGFydEF0OyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHNdID0gcmF3Q29kZXdvcmRzW3Jhd0NvZGV3b3Jkc09mZnNldCsrXTsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cgYWRkIGluIGVycm9yIGNvcnJlY3Rpb24gYmxvY2tzCgkgICAgICAgIHZhciBtYXggPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IHNob3J0ZXJCbG9ja3NOdW1EYXRhQ29kZXdvcmRzOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgaU9mZnNldCA9IGogPCBsb25nZXJCbG9ja3NTdGFydEF0ID8gaSA6IGkgKyAxOwoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaU9mZnNldF0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldE51bURhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bURhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldENvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29kZXdvcmRzOwoJICAgIH07CgkgICAgcmV0dXJuIERhdGFCbG9jazsKCX0oKSk7CglEYXRhQmxvY2skMS5kZWZhdWx0ID0gRGF0YUJsb2NrOwoKCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEgPSB7fTsKCgl2YXIgQml0U291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdFNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbiB7Ki8KCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIHByb3ZpZGVzIGFuIGVhc3kgYWJzdHJhY3Rpb24gdG8gcmVhZCBiaXRzIGF0IGEgdGltZSBmcm9tIGEgc2VxdWVuY2Ugb2YgYnl0ZXMsIHdoZXJlIHRoZQoJICogbnVtYmVyIG9mIGJpdHMgcmVhZCBpcyBub3Qgb2Z0ZW4gYSBtdWx0aXBsZSBvZiA4LjwvcD4KCSAqCgkgKiA8cD5UaGlzIGNsYXNzIGlzIHRocmVhZC1zYWZlIGJ1dCBub3QgcmVlbnRyYW50IC0tIHVubGVzcyB0aGUgY2FsbGVyIG1vZGlmaWVzIHRoZSBieXRlcyBhcnJheQoJICogaXQgcGFzc2VkIGluLCBpbiB3aGljaCBjYXNlIGFsbCBiZXRzIGFyZSBvZmYuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBCaXRTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJ5dGVzIGJ5dGVzIGZyb20gd2hpY2ggdGhpcyB3aWxsIHJlYWQgYml0cy4gQml0cyB3aWxsIGJlIHJlYWQgZnJvbSB0aGUgZmlyc3QgYnl0ZSBmaXJzdC4KCSAgICAgKiBCaXRzIGFyZSByZWFkIHdpdGhpbiBhIGJ5dGUgZnJvbSBtb3N0LXNpZ25pZmljYW50IHRvIGxlYXN0LXNpZ25pZmljYW50IGJpdC4KCSAgICAgKi8KCSAgICBmdW5jdGlvbiBCaXRTb3VyY2UoYnl0ZXMpIHsKCSAgICAgICAgdGhpcy5ieXRlcyA9IGJ5dGVzOwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSAwOwoJICAgICAgICB0aGlzLmJpdE9mZnNldCA9IDA7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaW5kZXggb2YgbmV4dCBiaXQgaW4gY3VycmVudCBieXRlIHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qml0T2Zmc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRPZmZzZXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgYnl0ZSBpbiBpbnB1dCBieXRlIGFycmF5IHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qnl0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZU9mZnNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBudW1CaXRzIG51bWJlciBvZiBiaXRzIHRvIHJlYWQKCSAgICAgKiBAcmV0dXJuIGludCByZXByZXNlbnRpbmcgdGhlIGJpdHMgcmVhZC4gVGhlIGJpdHMgd2lsbCBhcHBlYXIgYXMgdGhlIGxlYXN0LXNpZ25pZmljYW50CgkgICAgICogICAgICAgICBiaXRzIG9mIHRoZSBpbnQKCSAgICAgKiBAdGhyb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBpZiBudW1CaXRzIGlzbid0IGluIFsxLDMyXSBvciBtb3JlIHRoYW4gaXMgYXZhaWxhYmxlCgkgICAgICovCgkgICAgQml0U291cmNlLnByb3RvdHlwZS5yZWFkQml0cyA9IGZ1bmN0aW9uIChudW1CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPCAxIHx8IG51bUJpdHMgPiAzMiB8fCBudW1CaXRzID4gdGhpcy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoJycgKyBudW1CaXRzKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVzdWx0ID0gMDsKCSAgICAgICAgdmFyIGJpdE9mZnNldCA9IHRoaXMuYml0T2Zmc2V0OwoJICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZU9mZnNldDsKCSAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5ieXRlczsKCSAgICAgICAgLy8gRmlyc3QsIHJlYWQgcmVtYWluZGVyIGZyb20gY3VycmVudCBieXRlCgkgICAgICAgIGlmIChiaXRPZmZzZXQgPiAwKSB7CgkgICAgICAgICAgICB2YXIgYml0c0xlZnQgPSA4IC0gYml0T2Zmc2V0OwoJICAgICAgICAgICAgdmFyIHRvUmVhZCA9IG51bUJpdHMgPCBiaXRzTGVmdCA/IG51bUJpdHMgOiBiaXRzTGVmdDsKCSAgICAgICAgICAgIHZhciBiaXRzVG9Ob3RSZWFkID0gYml0c0xlZnQgLSB0b1JlYWQ7CgkgICAgICAgICAgICB2YXIgbWFzayA9ICgweEZGID4+ICg4IC0gdG9SZWFkKSkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgIHJlc3VsdCA9IChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQ7CgkgICAgICAgICAgICBudW1CaXRzIC09IHRvUmVhZDsKCSAgICAgICAgICAgIGJpdE9mZnNldCArPSB0b1JlYWQ7CgkgICAgICAgICAgICBpZiAoYml0T2Zmc2V0ID09PSA4KSB7CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0ID0gMDsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTmV4dCByZWFkIHdob2xlIGJ5dGVzCgkgICAgICAgIGlmIChudW1CaXRzID4gMCkgewoJICAgICAgICAgICAgd2hpbGUgKG51bUJpdHMgPj0gOCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCA9IChyZXN1bHQgPDwgOCkgfCAoYnl0ZXNbYnl0ZU9mZnNldF0gJiAweEZGKTsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICAgICAgbnVtQml0cyAtPSA4OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gRmluYWxseSByZWFkIGEgcGFydGlhbCBieXRlCgkgICAgICAgICAgICBpZiAobnVtQml0cyA+IDApIHsKCSAgICAgICAgICAgICAgICB2YXIgYml0c1RvTm90UmVhZCA9IDggLSBudW1CaXRzOwoJICAgICAgICAgICAgICAgIHZhciBtYXNrID0gKDB4RkYgPj4gYml0c1RvTm90UmVhZCkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IG51bUJpdHMpIHwgKChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQpOwoJICAgICAgICAgICAgICAgIGJpdE9mZnNldCArPSBudW1CaXRzOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0T2Zmc2V0ID0gYml0T2Zmc2V0OwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSBieXRlT2Zmc2V0OwoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB0aGF0IGNhbiBiZSByZWFkIHN1Y2Nlc3NmdWxseQoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuYXZhaWxhYmxlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gOCAqICh0aGlzLmJ5dGVzLmxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldCkgLSB0aGlzLmJpdE9mZnNldDsKCSAgICB9OwoJICAgIHJldHVybiBCaXRTb3VyY2U7Cgl9KCkpOwoJQml0U291cmNlJDEuZGVmYXVsdCA9IEJpdFNvdXJjZTsKCgl2YXIgRGVjb2RlclJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVyUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBtYXRyaXggb2YgYml0cy4gVGhpcyB0eXBpY2FsbHkKCSAqIGFwcGxpZXMgdG8gMkQgYmFyY29kZSBmb3JtYXRzLiBGb3Igbm93IGl0IGNvbnRhaW5zIHRoZSByYXcgYnl0ZXMgb2J0YWluZWQsCgkgKiBhcyB3ZWxsIGFzIGEgU3RyaW5nIGludGVycHJldGF0aW9uIG9mIHRob3NlIGJ5dGVzLCBpZiBhcHBsaWNhYmxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlclJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocmF3Qnl0ZXM6IFVpbnQ4QXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIExpc3Q8VWludDhBcnJheT4gYnl0ZVNlZ21lbnRzLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBlY0xldmVsKSB7CgkgICAgLy8gICB0aGlzKHJhd0J5dGVzLCB0ZXh0LCBieXRlU2VnbWVudHMsIGVjTGV2ZWwsIC0xLCAtMSkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRGVjb2RlclJlc3VsdChyYXdCeXRlcywgdGV4dCwgYnl0ZVNlZ21lbnRzLCBlY0xldmVsLCBzdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIsIHN0cnVjdHVyZWRBcHBlbmRQYXJpdHkpIHsKCSAgICAgICAgaWYgKHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9PT0gdm9pZCAwKSB7IHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9IC0xOyB9CgkgICAgICAgIGlmIChzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID09PSB2b2lkIDApIHsgc3RydWN0dXJlZEFwcGVuZFBhcml0eSA9IC0xOyB9CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDsKCSAgICAgICAgdGhpcy5ieXRlU2VnbWVudHMgPSBieXRlU2VnbWVudHM7CgkgICAgICAgIHRoaXMuZWNMZXZlbCA9IGVjTGV2ZWw7CgkgICAgICAgIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyOwoJICAgICAgICB0aGlzLnN0cnVjdHVyZWRBcHBlbmRQYXJpdHkgPSBzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCB8fCByYXdCeXRlcyA9PT0gbnVsbCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiByYXcgYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQsIG9yIHtAY29kZSBudWxsfSBpZiBub3QgYXBwbGljYWJsZQoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldE51bUJpdHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bUJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gbnVtQml0cyBvdmVycmlkZXMgdGhlIG51bWJlciBvZiBiaXRzIHRoYXQgYXJlIHZhbGlkIGluIHtAbGluayAjZ2V0UmF3Qnl0ZXMoKX0KCSAgICAgKiBAc2luY2UgMy4zLjAKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXROdW1CaXRzID0gZnVuY3Rpb24gKG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLm51bUJpdHMgPSBudW1CaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSByZXN1bHQKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50ZXh0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBsaXN0IG9mIGJ5dGUgc2VnbWVudHMgaW4gdGhlIHJlc3VsdCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0Qnl0ZVNlZ21lbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5ieXRlU2VnbWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG5hbWUgb2YgZXJyb3IgY29ycmVjdGlvbiBsZXZlbCB1c2VkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFQ0xldmVsID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0xldmVsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJyb3JzIGNvcnJlY3RlZCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0RXJyb3JzQ29ycmVjdGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNDb3JyZWN0ZWQ7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcnJvcnNDb3JyZWN0ZWQgPSBmdW5jdGlvbiAoZXJyb3JzQ29ycmVjdGVkIC8qSW50ZWdlciovKSB7CgkgICAgICAgIHRoaXMuZXJyb3JzQ29ycmVjdGVkID0gZXJyb3JzQ29ycmVjdGVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJhc3VyZXMgY29ycmVjdGVkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFcmFzdXJlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJhc3VyZXM7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcmFzdXJlcyA9IGZ1bmN0aW9uIChlcmFzdXJlcyAvKkludGVnZXIqLykgewoJICAgICAgICB0aGlzLmVyYXN1cmVzID0gZXJhc3VyZXM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGFyYml0cmFyeSBhZGRpdGlvbmFsIG1ldGFkYXRhCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0T3RoZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuc2V0T3RoZXIgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdGhpcy5vdGhlciA9IG90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuaGFzU3RydWN0dXJlZEFwcGVuZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlZEFwcGVuZFBhcml0eSA+PSAwICYmIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID49IDA7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXI7CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlclJlc3VsdDsKCX0oKSk7CglEZWNvZGVyUmVzdWx0JDEuZGVmYXVsdCA9IERlY29kZXJSZXN1bHQ7CgoJdmFyIE1vZGUgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5Nb2RlVmFsdWVzID0gdm9pZCAwOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgTW9kZVZhbHVlczsKCShmdW5jdGlvbiAoTW9kZVZhbHVlcykgewoJICAgIE1vZGVWYWx1ZXNbTW9kZVZhbHVlc1siVEVSTUlOQVRPUiJdID0gMF0gPSAiVEVSTUlOQVRPUiI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJOVU1FUklDIl0gPSAxXSA9ICJOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkFMUEhBTlVNRVJJQyJdID0gMl0gPSAiQUxQSEFOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIlNUUlVDVFVSRURfQVBQRU5EIl0gPSAzXSA9ICJTVFJVQ1RVUkVEX0FQUEVORCI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJCWVRFIl0gPSA0XSA9ICJCWVRFIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkVDSSJdID0gNV0gPSAiRUNJIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIktBTkpJIl0gPSA2XSA9ICJLQU5KSSI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJGTkMxX0ZJUlNUX1BPU0lUSU9OIl0gPSA3XSA9ICJGTkMxX0ZJUlNUX1BPU0lUSU9OIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkZOQzFfU0VDT05EX1BPU0lUSU9OIl0gPSA4XSA9ICJGTkMxX1NFQ09ORF9QT1NJVElPTiI7CgkgICAgLyoqIFNlZSBHQlQgMTgyODQtMjAwMDsgIkhhbnppIiBpcyBhIHRyYW5zbGl0ZXJhdGlvbiBvZiB0aGlzIG1vZGUgbmFtZS4gKi8KCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkhBTlpJIl0gPSA5XSA9ICJIQU5aSSI7Cgl9KShNb2RlVmFsdWVzID0gZXhwb3J0cy5Nb2RlVmFsdWVzIHx8IChleHBvcnRzLk1vZGVWYWx1ZXMgPSB7fSkpOwoJLyoqCgkgKiA8cD5TZWUgSVNPIDE4MDA0OjIwMDYsIDYuNC4xLCBUYWJsZXMgMiBhbmQgMy4gVGhpcyBlbnVtIGVuY2Fwc3VsYXRlcyB0aGUgdmFyaW91cyBtb2RlcyBpbiB3aGljaAoJICogZGF0YSBjYW4gYmUgZW5jb2RlZCB0byBiaXRzIGluIHRoZSBRUiBjb2RlIHN0YW5kYXJkLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgTW9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBNb2RlKHZhbHVlLCBzdHJpbmdWYWx1ZSwgY2hhcmFjdGVyQ291bnRCaXRzRm9yVmVyc2lvbnMsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9ucyA9IGNoYXJhY3RlckNvdW50Qml0c0ZvclZlcnNpb25zOwoJICAgICAgICB0aGlzLmJpdHMgPSBiaXRzOwoJICAgICAgICBNb2RlLkZPUl9CSVRTLnNldChiaXRzLCB0aGlzKTsKCSAgICAgICAgTW9kZS5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgZm91ciBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSBkYXRhIG1vZGUKCSAgICAgKiBAcmV0dXJuIE1vZGUgZW5jb2RlZCBieSB0aGVzZSBiaXRzCgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYml0cyBkbyBub3QgY29ycmVzcG9uZCB0byBhIGtub3duIG1vZGUKCSAgICAgKi8KCSAgICBNb2RlLmZvckJpdHMgPSBmdW5jdGlvbiAoYml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBtb2RlID0gTW9kZS5GT1JfQklUUy5nZXQoYml0cyk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IG1vZGUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1vZGU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmVyc2lvbiB2ZXJzaW9uIGluIHF1ZXN0aW9uCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB1c2VkLCBpbiB0aGlzIFFSIENvZGUgc3ltYm9sIHtAbGluayBWZXJzaW9ufSwgdG8gZW5jb2RlIHRoZQoJICAgICAqICAgICAgICAgY291bnQgb2YgY2hhcmFjdGVycyB0aGF0IHdpbGwgZm9sbG93IGVuY29kZWQgaW4gdGhpcyBNb2RlCgkgICAgICovCgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyQ291bnRCaXRzID0gZnVuY3Rpb24gKHZlcnNpb24pIHsKCSAgICAgICAgdmFyIHZlcnNpb25OdW1iZXIgPSB2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKTsKCSAgICAgICAgdmFyIG9mZnNldDsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPD0gOSkgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmICh2ZXJzaW9uTnVtYmVyIDw9IDI2KSB7CgkgICAgICAgICAgICBvZmZzZXQgPSAxOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9uc1tvZmZzZXRdOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBNb2RlKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBvdGhlci52YWx1ZTsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIE1vZGUuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5GT1JfVkFMVUUgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5URVJNSU5BVE9SID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5URVJNSU5BVE9SLCAnVEVSTUlOQVRPUicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDAwKTsgLy8gTm90IHJlYWxseSBhIG1vZGUuLi4KCSAgICBNb2RlLk5VTUVSSUMgPSBuZXcgTW9kZShNb2RlVmFsdWVzLk5VTUVSSUMsICdOVU1FUklDJywgSW50MzJBcnJheS5mcm9tKFsxMCwgMTIsIDE0XSksIDB4MDEpOwoJICAgIE1vZGUuQUxQSEFOVU1FUklDID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5BTFBIQU5VTUVSSUMsICdBTFBIQU5VTUVSSUMnLCBJbnQzMkFycmF5LmZyb20oWzksIDExLCAxM10pLCAweDAyKTsKCSAgICBNb2RlLlNUUlVDVFVSRURfQVBQRU5EID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5TVFJVQ1RVUkVEX0FQUEVORCwgJ1NUUlVDVFVSRURfQVBQRU5EJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDMpOyAvLyBOb3Qgc3VwcG9ydGVkCgkgICAgTW9kZS5CWVRFID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5CWVRFLCAnQllURScsIEludDMyQXJyYXkuZnJvbShbOCwgMTYsIDE2XSksIDB4MDQpOwoJICAgIE1vZGUuRUNJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5FQ0ksICdFQ0knLCBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDBdKSwgMHgwNyk7IC8vIGNoYXJhY3RlciBjb3VudHMgZG9uJ3QgYXBwbHkKCSAgICBNb2RlLktBTkpJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5LQU5KSSwgJ0tBTkpJJywgSW50MzJBcnJheS5mcm9tKFs4LCAxMCwgMTJdKSwgMHgwOCk7CgkgICAgTW9kZS5GTkMxX0ZJUlNUX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX0ZJUlNUX1BPU0lUSU9OLCAnRk5DMV9GSVJTVF9QT1NJVElPTicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDA1KTsKCSAgICBNb2RlLkZOQzFfU0VDT05EX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX1NFQ09ORF9QT1NJVElPTiwgJ0ZOQzFfU0VDT05EX1BPU0lUSU9OJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDkpOwoJICAgIC8qKiBTZWUgR0JUIDE4Mjg0LTIwMDA7ICJIYW56aSIgaXMgYSB0cmFuc2xpdGVyYXRpb24gb2YgdGhpcyBtb2RlIG5hbWUuICovCgkgICAgTW9kZS5IQU5aSSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuSEFOWkksICdIQU5aSScsIEludDMyQXJyYXkuZnJvbShbOCwgMTAsIDEyXSksIDB4MEQpOwoJICAgIHJldHVybiBNb2RlOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IE1vZGU7CgoJfShNb2RlKSk7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmRlY29kZXIgeyovCgl2YXIgQml0U291cmNlXzEgPSBCaXRTb3VyY2UkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSA9IENoYXJhY3RlclNldEVDSTsKCXZhciBEZWNvZGVyUmVzdWx0XzEgPSBEZWNvZGVyUmVzdWx0JDE7Cgl2YXIgU3RyaW5nVXRpbHNfMSA9IFN0cmluZ1V0aWxzJDE7Cgl2YXIgRm9ybWF0RXhjZXB0aW9uXzEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBTdHJpbmdCdWlsZGVyXzEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgU3RyaW5nRW5jb2RpbmdfMSA9IFN0cmluZ0VuY29kaW5nJDE7Cgl2YXIgTW9kZV8xID0gTW9kZTsKCS8qaW1wb3J0IGphdmEuaW8uVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbjsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlFSIENvZGVzIGNhbiBlbmNvZGUgdGV4dCBhcyBiaXRzIGluIG9uZSBvZiBzZXZlcmFsIG1vZGVzLCBhbmQgY2FuIHVzZSBtdWx0aXBsZSBtb2RlcwoJICogaW4gb25lIFFSIENvZGUuIFRoaXMgY2xhc3MgZGVjb2RlcyB0aGUgYml0cyBiYWNrIGludG8gdGV4dC48L3A+CgkgKgoJICogPHA+U2VlIElTTyAxODAwNDoyMDA2LCA2LjQuMyAtIDYuNC43PC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERlY29kZWRCaXRTdHJlYW1QYXJzZXIoKSB7CgkgICAgfQoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cykgewoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRTb3VyY2VfMS5kZWZhdWx0KGJ5dGVzKTsKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBTdHJpbmdCdWlsZGVyXzEuZGVmYXVsdCgpOwoJICAgICAgICB2YXIgYnl0ZVNlZ21lbnRzID0gbmV3IEFycmF5KCk7IC8vIDEKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IEkgZG8gbm90IHVzZSBjb25zdHJ1Y3RvciB3aXRoIHNpemUgMSBhcyBpbiBvcmlnaW5hbCBKYXZhIG1lYW5zIGNhcGFjaXR5IGFuZCB0aGUgYXJyYXkgbGVuZ3RoIGlzIGNoZWNrZWQgYmVsb3cKCSAgICAgICAgdmFyIHN5bWJvbFNlcXVlbmNlID0gLTE7CgkgICAgICAgIHZhciBwYXJpdHlEYXRhID0gLTE7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICB2YXIgY3VycmVudENoYXJhY3RlclNldEVDSSA9IG51bGw7CgkgICAgICAgICAgICB2YXIgZmMxSW5FZmZlY3QgPSBmYWxzZTsKCSAgICAgICAgICAgIHZhciBtb2RlID0gdm9pZCAwOwoJICAgICAgICAgICAgZG8gewoJICAgICAgICAgICAgICAgIC8vIFdoaWxlIHN0aWxsIGFub3RoZXIgc2VnbWVudCB0byByZWFkLi4uCgkgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA0KSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE9LLCBhc3N1bWUgd2UncmUgZG9uZS4gUmVhbGx5LCBhIFRFUk1JTkFUT1IgbW9kZSBzaG91bGQgaGF2ZSBiZWVuIHJlY29yZGVkIGhlcmUKCSAgICAgICAgICAgICAgICAgICAgbW9kZSA9IE1vZGVfMS5kZWZhdWx0LlRFUk1JTkFUT1I7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZUJpdHMgPSBiaXRzLnJlYWRCaXRzKDQpOwoJICAgICAgICAgICAgICAgICAgICBtb2RlID0gTW9kZV8xLmRlZmF1bHQuZm9yQml0cyhtb2RlQml0cyk7IC8vIG1vZGUgaXMgZW5jb2RlZCBieSA0IGJpdHMKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUjoKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkZOQzFfRklSU1RfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuRk5DMV9TRUNPTkRfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkbyBsaXR0bGUgd2l0aCBGTkMxIGV4Y2VwdCBhbHRlciB0aGUgcGFyc2VkIHJlc3VsdCBhIGJpdCBhY2NvcmRpbmcgdG8gdGhlIHNwZWMKCSAgICAgICAgICAgICAgICAgICAgICAgIGZjMUluRWZmZWN0ID0gdHJ1ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LlNUUlVDVFVSRURfQVBQRU5EOgoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCAxNikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIgYW5kIHBhcml0eSBpcyBhZGRlZCBsYXRlciB0byB0aGUgcmVzdWx0IG1ldGFkYXRhCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIG5leHQgOCBiaXRzIChzeW1ib2wgc2VxdWVuY2UgIykgYW5kIDggYml0cyAoZGF0YTogcGFyaXR5KSwgdGhlbiBjb250aW51ZQoJICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sU2VxdWVuY2UgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgcGFyaXR5RGF0YSA9IGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5FQ0k6CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBkb2Vzbid0IGFwcGx5IHRvIEVDSQoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5wYXJzZUVDSVZhbHVlKGJpdHMpOwoJICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENoYXJhY3RlclNldEVDSSA9IENoYXJhY3RlclNldEVDSV8xLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlWYWx1ZSh2YWx1ZSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5IQU5aSToKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IGhhbmRsZSBIYW56aSBtb2RlIHdoaWNoIGRvZXMgbm90IHN0YXJ0IHdpdGggY2hhcmFjdGVyIGNvdW50CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGluZXNlIG1vZGUgY29udGFpbnMgYSBzdWIgc2V0IGluZGljYXRvciByaWdodCBhZnRlciBtb2RlIGluZGljYXRvcgoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNldCA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRIYW56aSA9IGJpdHMucmVhZEJpdHMobW9kZS5nZXRDaGFyYWN0ZXJDb3VudEJpdHModmVyc2lvbikpOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNldCA9PT0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVIYW56aVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudEhhbnppKTsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gIk5vcm1hbCIgUVIgY29kZSBtb2RlczoKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvdyBtYW55IGNoYXJhY3RlcnMgd2lsbCBmb2xsb3csIGVuY29kZWQgaW4gdGhpcyBtb2RlPwoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gYml0cy5yZWFkQml0cyhtb2RlLmdldENoYXJhY3RlckNvdW50Qml0cyh2ZXJzaW9uKSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0Lk5VTUVSSUM6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlTnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuQUxQSEFOVU1FUklDOgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgZmMxSW5FZmZlY3QpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkJZVEU6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgY3VycmVudENoYXJhY3RlclNldEVDSSwgYnl0ZVNlZ21lbnRzLCBoaW50cyk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuS0FOSkk6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlS2FuamlTZWdtZW50KGJpdHMsIHJlc3VsdCwgY291bnQpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSB3aGlsZSAobW9kZSAhPT0gTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUik7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlhZSAvKjogSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIGZyb20gcmVhZEJpdHMoKSBjYWxscwoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbmV3IERlY29kZXJSZXN1bHRfMS5kZWZhdWx0KGJ5dGVzLCByZXN1bHQudG9TdHJpbmcoKSwgYnl0ZVNlZ21lbnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBieXRlU2VnbWVudHMsIGVjTGV2ZWwgPT09IG51bGwgPyBudWxsIDogZWNMZXZlbC50b1N0cmluZygpLCBzeW1ib2xTZXF1ZW5jZSwgcGFyaXR5RGF0YSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZWUgc3BlY2lmaWNhdGlvbiBHQlQgMTgyODQtMjAwMAoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlSGFuemlTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgY291bnQgLyppbnQqLykgewoJICAgICAgICAvLyBEb24ndCBjcmFzaCB0cnlpbmcgdG8gcmVhZCBtb3JlIGJpdHMgdGhhbiB3ZSBoYXZlIGF2YWlsYWJsZS4KCSAgICAgICAgaWYgKGNvdW50ICogMTMgPiBiaXRzLmF2YWlsYWJsZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhY2ggY2hhcmFjdGVyIHdpbGwgcmVxdWlyZSAyIGJ5dGVzLiBSZWFkIHRoZSBjaGFyYWN0ZXJzIGFzIDItYnl0ZSBwYWlycwoJICAgICAgICAvLyBhbmQgZGVjb2RlIGFzIEdCMjMxMiBhZnRlcndhcmRzCgkgICAgICAgIHZhciBidWZmZXIgPSBuZXcgVWludDhBcnJheSgyICogY291bnQpOwoJICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKCSAgICAgICAgd2hpbGUgKGNvdW50ID4gMCkgewoJICAgICAgICAgICAgLy8gRWFjaCAxMyBiaXRzIGVuY29kZXMgYSAyLWJ5dGUgY2hhcmFjdGVyCgkgICAgICAgICAgICB2YXIgdHdvQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDEzKTsKCSAgICAgICAgICAgIHZhciBhc3NlbWJsZWRUd29CeXRlcyA9ICgoKHR3b0J5dGVzIC8gMHgwNjApIDw8IDgpICYgMHhGRkZGRkZGRikgfCAodHdvQnl0ZXMgJSAweDA2MCk7CgkgICAgICAgICAgICBpZiAoYXNzZW1ibGVkVHdvQnl0ZXMgPCAweDAwM0JGKSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QTFBMSB0byAweEFBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBMUExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QjBBMSB0byAweEZBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBNkExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYnVmZmVyW29mZnNldF0gPSAvKihieXRlKSAqLyAoKGFzc2VtYmxlZFR3b0J5dGVzID4+IDgpICYgMHhGRik7CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMV0gPSAvKihieXRlKSAqLyAoYXNzZW1ibGVkVHdvQnl0ZXMgJiAweEZGKTsKCSAgICAgICAgICAgIG9mZnNldCArPSAyOwoJICAgICAgICAgICAgY291bnQtLTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKGJ1ZmZlciwgU3RyaW5nVXRpbHNfMS5kZWZhdWx0LkdCMjMxMikpOwoJICAgICAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IFRPRE86IGltcGxlbWVudCBHQjIzMTIgZGVjb2RlLiBTdHJpbmdWaWV3IGZyb20gTUROIGNvdWxkIGJlIGEgc3RhcnRpbmcgcG9pbnQKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVLYW5qaVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoY291bnQgKiAxMyA+IGJpdHMuYXZhaWxhYmxlKCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRWFjaCBjaGFyYWN0ZXIgd2lsbCByZXF1aXJlIDIgYnl0ZXMuIFJlYWQgdGhlIGNoYXJhY3RlcnMgYXMgMi1ieXRlIHBhaXJzCgkgICAgICAgIC8vIGFuZCBkZWNvZGUgYXMgU2hpZnRfSklTIGFmdGVyd2FyZHMKCSAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDIgKiBjb3VudCk7CgkgICAgICAgIHZhciBvZmZzZXQgPSAwOwoJICAgICAgICB3aGlsZSAoY291bnQgPiAwKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEzIGJpdHMgZW5jb2RlcyBhIDItYnl0ZSBjaGFyYWN0ZXIKCSAgICAgICAgICAgIHZhciB0d29CeXRlcyA9IGJpdHMucmVhZEJpdHMoMTMpOwoJICAgICAgICAgICAgdmFyIGFzc2VtYmxlZFR3b0J5dGVzID0gKCgodHdvQnl0ZXMgLyAweDBDMCkgPDwgOCkgJiAweEZGRkZGRkZGKSB8ICh0d29CeXRlcyAlIDB4MEMwKTsKCSAgICAgICAgICAgIGlmIChhc3NlbWJsZWRUd29CeXRlcyA8IDB4MDFGMDApIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHg4MTQwIHRvIDB4OUZGQyByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MDgxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHhFMDQwIHRvIDB4RUJCRiByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MEMxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0XSA9IC8qKGJ5dGUpICovIChhc3NlbWJsZWRUd29CeXRlcyA+PiA4KTsKCSAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9IC8qKGJ5dGUpICovIGFzc2VtYmxlZFR3b0J5dGVzOwoJICAgICAgICAgICAgb2Zmc2V0ICs9IDI7CgkgICAgICAgICAgICBjb3VudC0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNoaWZ0X0pJUyBtYXkgbm90IGJlIHN1cHBvcnRlZCBpbiBzb21lIGVudmlyb25tZW50czoKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nRW5jb2RpbmdfMS5kZWZhdWx0LmRlY29kZShidWZmZXIsIFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5TSElGVF9KSVMpKTsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBUT0RPOiBpbXBsZW1lbnQgU0hJRlRfSklTIGRlY29kZS4gU3RyaW5nVmlldyBmcm9tIE1ETiBjb3VsZCBiZSBhIHN0YXJ0aW5nIHBvaW50CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IFVuc3VwcG9ydGVkRW5jb2RpbmdFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoaWdub3JlZCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLCBieXRlU2VnbWVudHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoOCAqIGNvdW50ID4gYml0cy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVhZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoY291bnQpOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKCSAgICAgICAgICAgIHJlYWRCeXRlc1tpXSA9IC8qKGJ5dGUpICovIGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVuY29kaW5nOwoJICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgLy8gVGhlIHNwZWMgaXNuJ3QgY2xlYXIgb24gdGhpcyBtb2RlOyBzZWUKCSAgICAgICAgICAgIC8vIHNlY3Rpb24gNi40LjU6IHQgZG9lcyBub3Qgc2F5IHdoaWNoIGVuY29kaW5nIHRvIGFzc3VtaW5nCgkgICAgICAgICAgICAvLyB1cG9uIGRlY29kaW5nLiBJIGhhdmUgc2VlbiBJU08tODg1OS0xIHVzZWQgYXMgd2VsbCBhcwoJICAgICAgICAgICAgLy8gU2hpZnRfSklTIC0tIHdpdGhvdXQgYW55dGhpbmcgbGlrZSBhbiBFQ0kgZGVzaWduYXRvciB0bwoJICAgICAgICAgICAgLy8gZ2l2ZSBhIGhpbnQuCgkgICAgICAgICAgICBlbmNvZGluZyA9IFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5ndWVzc0VuY29kaW5nKHJlYWRCeXRlcywgaGludHMpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgZW5jb2RpbmcgPSBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLmdldE5hbWUoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKHJlYWRCeXRlcywgZW5jb2RpbmcpKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgICAgICBieXRlU2VnbWVudHMucHVzaChyZWFkQnl0ZXMpOwoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPj0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5BTFBIQU5VTUVSSUNfQ0hBUlMubGVuZ3RoKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkFMUEhBTlVNRVJJQ19DSEFSU1t2YWx1ZV07CgkgICAgfTsKCSAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBmYzFJbkVmZmVjdCkgewoJICAgICAgICAvLyBSZWFkIHR3byBjaGFyYWN0ZXJzIGF0IGEgdGltZQoJICAgICAgICB2YXIgc3RhcnQgPSByZXN1bHQubGVuZ3RoKCk7CgkgICAgICAgIHdoaWxlIChjb3VudCA+IDEpIHsKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTEpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIG5leHRUd29DaGFyc0JpdHMgPSBiaXRzLnJlYWRCaXRzKDExKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcihuZXh0VHdvQ2hhcnNCaXRzIC8gNDUpKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKG5leHRUd29DaGFyc0JpdHMgJSA0NSkpOwoJICAgICAgICAgICAgY291bnQgLT0gMjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY291bnQgPT09IDEpIHsKCSAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogb25lIGNoYXJhY3RlciBsZWZ0CgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDYpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcihiaXRzLnJlYWRCaXRzKDYpKSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gU2VlIHNlY3Rpb24gNi40LjguMSwgNi40LjguMgoJICAgICAgICBpZiAoZmMxSW5FZmZlY3QpIHsKCSAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gbWFzc2FnZSB0aGUgcmVzdWx0IGEgYml0IGlmIGluIGFuIEZOQzEgbW9kZToKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IHJlc3VsdC5sZW5ndGgoKTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jaGFyQXQoaSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHJlc3VsdC5sZW5ndGgoKSAtIDEgJiYgcmVzdWx0LmNoYXJBdChpICsgMSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gJSUgaXMgcmVuZGVyZWQgYXMgJQoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlbGV0ZUNoYXJBdChpICsgMSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBhbHBoYSBtb2RlLCAlIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gRk5DMSBzZXBhcmF0b3IgMHgxRAoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldENoYXJBdChpLCBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MUQpKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVOdW1lcmljU2VnbWVudCA9IGZ1bmN0aW9uIChiaXRzLCByZXN1bHQsIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgLy8gUmVhZCB0aHJlZSBkaWdpdHMgYXQgYSB0aW1lCgkgICAgICAgIHdoaWxlIChjb3VudCA+PSAzKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEwIGJpdHMgZW5jb2RlcyB0aHJlZSBkaWdpdHMKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTApIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIHRocmVlRGlnaXRzQml0cyA9IGJpdHMucmVhZEJpdHMoMTApOwoJICAgICAgICAgICAgaWYgKHRocmVlRGlnaXRzQml0cyA+PSAxMDAwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcih0aHJlZURpZ2l0c0JpdHMgLyAxMDApKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodGhyZWVEaWdpdHNCaXRzIC8gMTApICUgMTApKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIodGhyZWVEaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgICAgIGNvdW50IC09IDM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvdW50ID09PSAyKSB7CgkgICAgICAgICAgICAvLyBUd28gZGlnaXRzIGxlZnQgb3ZlciB0byByZWFkLCBlbmNvZGVkIGluIDcgYml0cwoJICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA3KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciB0d29EaWdpdHNCaXRzID0gYml0cy5yZWFkQml0cyg3KTsKCSAgICAgICAgICAgIGlmICh0d29EaWdpdHNCaXRzID49IDEwMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodHdvRGlnaXRzQml0cyAvIDEwKSkpOwoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcih0d29EaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChjb3VudCA9PT0gMSkgewoJICAgICAgICAgICAgLy8gT25lIGRpZ2l0IGxlZnQgb3ZlciB0byByZWFkCgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIGRpZ2l0Qml0cyA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICBpZiAoZGlnaXRCaXRzID49IDEwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoZGlnaXRCaXRzKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIucGFyc2VFQ0lWYWx1ZSA9IGZ1bmN0aW9uIChiaXRzKSB7CgkgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4ODApID09PSAwKSB7CgkgICAgICAgICAgICAvLyBqdXN0IG9uZSBieXRlCgkgICAgICAgICAgICByZXR1cm4gZmlyc3RCeXRlICYgMHg3RjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4QzApID09PSAweDgwKSB7CgkgICAgICAgICAgICAvLyB0d28gYnl0ZXMKCSAgICAgICAgICAgIHZhciBzZWNvbmRCeXRlID0gYml0cy5yZWFkQml0cyg4KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDNGKSA8PCA4KSAmIDB4RkZGRkZGRkYpIHwgc2Vjb25kQnl0ZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4RTApID09PSAweEMwKSB7CgkgICAgICAgICAgICAvLyB0aHJlZSBieXRlcwoJICAgICAgICAgICAgdmFyIHNlY29uZFRoaXJkQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDE2KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDFGKSA8PCAxNikgJiAweEZGRkZGRkZGKSB8IHNlY29uZFRoaXJkQnl0ZXM7CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFNlZSBJU08gMTgwMDQ6MjAwNiwgNi40LjQgVGFibGUgNQoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQUxQSEFOVU1FUklDX0NIQVJTID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiAkJSorLS4vOic7CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUID0gMTsKCSAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcjsKCX0oKSk7CglEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEuZGVmYXVsdCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXI7CgoJdmFyIFFSQ29kZURlY29kZXJNZXRhRGF0YSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShRUkNvZGVEZWNvZGVyTWV0YURhdGEkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiBNZXRhLWRhdGEgY29udGFpbmVyIGZvciBRUiBDb2RlIGRlY29kaW5nLiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBtYXkgYmUgdXNlZCB0byBjb252ZXkgaW5mb3JtYXRpb24gYmFjayB0byB0aGUKCSAqIGRlY29kaW5nIGNhbGxlci4gQ2FsbGVycyBhcmUgZXhwZWN0ZWQgdG8gcHJvY2VzcyB0aGlzLgoJICoKCSAqIEBzZWUgY29tLmdvb2dsZS56eGluZy5jb21tb24uRGVjb2RlclJlc3VsdCNnZXRPdGhlcigpCgkgKi8KCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUVJDb2RlRGVjb2Rlck1ldGFEYXRhKG1pcnJvcmVkKSB7CgkgICAgICAgIHRoaXMubWlycm9yZWQgPSBtaXJyb3JlZDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmIHRoZSBRUiBDb2RlIHdhcyBtaXJyb3JlZC4KCSAgICAgKi8KCSAgICBRUkNvZGVEZWNvZGVyTWV0YURhdGEucHJvdG90eXBlLmlzTWlycm9yZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm1pcnJvcmVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbHkgdGhlIHJlc3VsdCBwb2ludHMnIG9yZGVyIGNvcnJlY3Rpb24gZHVlIHRvIG1pcnJvcmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBwb2ludHMgQXJyYXkgb2YgcG9pbnRzIHRvIGFwcGx5IG1pcnJvciBjb3JyZWN0aW9uIHRvLgoJICAgICAqLwoJICAgIFFSQ29kZURlY29kZXJNZXRhRGF0YS5wcm90b3R5cGUuYXBwbHlNaXJyb3JlZENvcnJlY3Rpb24gPSBmdW5jdGlvbiAocG9pbnRzKSB7CgkgICAgICAgIGlmICghdGhpcy5taXJyb3JlZCB8fCBwb2ludHMgPT09IG51bGwgfHwgcG9pbnRzLmxlbmd0aCA8IDMpIHsKCSAgICAgICAgICAgIHJldHVybjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IHBvaW50c1swXTsKCSAgICAgICAgcG9pbnRzWzBdID0gcG9pbnRzWzJdOwoJICAgICAgICBwb2ludHNbMl0gPSBib3R0b21MZWZ0OwoJICAgICAgICAvLyBObyBuZWVkIHRvICdmaXgnIHRvcC1sZWZ0IGFuZCBhbGlnbm1lbnQgcGF0dGVybi4KCSAgICB9OwoJICAgIHJldHVybiBRUkNvZGVEZWNvZGVyTWV0YURhdGE7Cgl9KCkpOwoJUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDEuZGVmYXVsdCA9IFFSQ29kZURlY29kZXJNZXRhRGF0YTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjb2RlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZWNvZGVyIHsqLwoJdmFyIENoZWNrc3VtRXhjZXB0aW9uXzEgPSBDaGVja3N1bUV4Y2VwdGlvbiQxOwoJdmFyIEJpdE1hdHJpeF8xJDIgPSBCaXRNYXRyaXgkMTsKCXZhciBHZW5lcmljR0ZfMSA9IEdlbmVyaWNHRiQxOwoJdmFyIFJlZWRTb2xvbW9uRGVjb2Rlcl8xID0gUmVlZFNvbG9tb25EZWNvZGVyJDE7Cgl2YXIgQml0TWF0cml4UGFyc2VyXzEgPSBCaXRNYXRyaXhQYXJzZXIkMTsKCXZhciBEYXRhQmxvY2tfMSA9IERhdGFCbG9jayQxOwoJdmFyIERlY29kZWRCaXRTdHJlYW1QYXJzZXJfMSA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxID0gUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoZSBtYWluIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgUVIgQ29kZSBkZWNvZGluZyAtLSBhcyBvcHBvc2VkIHRvIGxvY2F0aW5nIGFuZCBleHRyYWN0aW5nCgkgKiB0aGUgUVIgQ29kZSBmcm9tIGFuIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEZWNvZGVyKCkgewoJICAgICAgICB0aGlzLnJzRGVjb2RlciA9IG5ldyBSZWVkU29sb21vbkRlY29kZXJfMS5kZWZhdWx0KEdlbmVyaWNHRl8xLmRlZmF1bHQuUVJfQ09ERV9GSUVMRF8yNTYpOwoJICAgIH0KCSAgICAvLyBwdWJsaWMgZGVjb2RlKGltYWdlOiBib29sZWFuW11bXSk6IERlY29kZXJSZXN1bHQgLyp0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkNvbnZlbmllbmNlIG1ldGhvZCB0aGF0IGNhbiBkZWNvZGUgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEgMkQgYXJyYXkgb2YgYm9vbGVhbnMuCgkgICAgICogInRydWUiIGlzIHRha2VuIHRvIG1lYW4gYSBibGFjayBtb2R1bGUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGJvb2xlYW5zIHJlcHJlc2VudGluZyB3aGl0ZS9ibGFjayBRUiBDb2RlIG1vZHVsZXMKCSAgICAgKiBAcGFyYW0gaGludHMgZGVjb2RpbmcgaGludHMgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBpbmZsdWVuY2UgZGVjb2RpbmcKCSAgICAgKiBAcmV0dXJuIHRleHQgYW5kIGJ5dGVzIGVuY29kZWQgd2l0aGluIHRoZSBRUiBDb2RlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIFFSIENvZGUgY2Fubm90IGJlIGRlY29kZWQKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeChCaXRNYXRyaXhfMSQyLmRlZmF1bHQucGFyc2VGcm9tQm9vbGVhbkFycmF5KGltYWdlKSwgaGludHMpOwoJICAgIH07CgkgICAgLy8gcHVibGljIGRlY29kZUJpdE1hdHJpeChiaXRzOiBCaXRNYXRyaXgpOiBEZWNvZGVyUmVzdWx0IC8qdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uLCBGb3JtYXRFeGNlcHRpb24qLyB7CgkgICAgLy8gICByZXR1cm4gZGVjb2RlKGJpdHMsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkRlY29kZXMgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0uIEEgMSBvciAidHJ1ZSIgaXMgdGFrZW4gdG8gbWVhbiBhIGJsYWNrIG1vZHVsZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0cyBib29sZWFucyByZXByZXNlbnRpbmcgd2hpdGUvYmxhY2sgUVIgQ29kZSBtb2R1bGVzCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kaW5nIGhpbnRzIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gaW5mbHVlbmNlIGRlY29kaW5nCgkgICAgICogQHJldHVybiB0ZXh0IGFuZCBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBRUiBDb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIENvbnN0cnVjdCBhIHBhcnNlciBhbmQgcmVhZCB2ZXJzaW9uLCBlcnJvci1jb3JyZWN0aW9uIGxldmVsCgkgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgQml0TWF0cml4UGFyc2VyXzEuZGVmYXVsdChiaXRzKTsKCSAgICAgICAgdmFyIGV4ID0gbnVsbDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKjogRm9ybWF0RXhjZXB0aW9uLCBDaGVja3N1bUV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICBleCA9IGU7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIC8vIFJldmVydCB0aGUgYml0IG1hdHJpeAoJICAgICAgICAgICAgcGFyc2VyLnJlbWFzaygpOwoJICAgICAgICAgICAgLy8gV2lsbCBiZSBhdHRlbXB0aW5nIGEgbWlycm9yZWQgcmVhZGluZyBvZiB0aGUgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm8uCgkgICAgICAgICAgICBwYXJzZXIuc2V0TWlycm9yKHRydWUpOwoJICAgICAgICAgICAgLy8gUHJlZW1wdGl2ZWx5IHJlYWQgdGhlIHZlcnNpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgICAgIC8vIFByZWVtcHRpdmVseSByZWFkIHRoZSBmb3JtYXQgaW5mb3JtYXRpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCk7CgkgICAgICAgICAgICAvKgoJICAgICAgICAgICAgICogU2luY2Ugd2UncmUgaGVyZSwgdGhpcyBtZWFucyB3ZSBoYXZlIHN1Y2Nlc3NmdWxseSBkZXRlY3RlZCBzb21lIGtpbmQKCSAgICAgICAgICAgICAqIG9mIHZlcnNpb24gYW5kIGZvcm1hdCBpbmZvcm1hdGlvbiB3aGVuIG1pcnJvcmVkLiBUaGlzIGlzIGEgZ29vZCBzaWduLAoJICAgICAgICAgICAgICogdGhhdCB0aGUgUVIgY29kZSBtYXkgYmUgbWlycm9yZWQsIGFuZCB3ZSBzaG91bGQgdHJ5IG9uY2UgbW9yZSB3aXRoIGEKCSAgICAgICAgICAgICAqIG1pcnJvcmVkIGNvbnRlbnQuCgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIFByZXBhcmUgZm9yIGEgbWlycm9yZWQgcmVhZGluZy4KCSAgICAgICAgICAgIHBhcnNlci5taXJyb3IoKTsKCSAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgICAgIC8vIFN1Y2Nlc3MhIE5vdGlmeSB0aGUgY2FsbGVyIHRoYXQgdGhlIGNvZGUgd2FzIG1pcnJvcmVkLgoJICAgICAgICAgICAgcmVzdWx0LnNldE90aGVyKG5ldyBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxLmRlZmF1bHQodHJ1ZSkpOwoJICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKkZvcm1hdEV4Y2VwdGlvbiB8IENoZWNrc3VtRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIFRocm93IHRoZSBleGNlcHRpb24gZnJvbSB0aGUgb3JpZ2luYWwgcmVhZGluZwoJICAgICAgICAgICAgaWYgKGV4ICE9PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgZXg7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0aHJvdyBlOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCaXRNYXRyaXhQYXJzZXIgPSBmdW5jdGlvbiAocGFyc2VyLCBoaW50cykgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgdmFyIHZlcnNpb24gPSBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCkuZ2V0RXJyb3JDb3JyZWN0aW9uTGV2ZWwoKTsKCSAgICAgICAgLy8gUmVhZCBjb2Rld29yZHMKCSAgICAgICAgdmFyIGNvZGV3b3JkcyA9IHBhcnNlci5yZWFkQ29kZXdvcmRzKCk7CgkgICAgICAgIC8vIFNlcGFyYXRlIGludG8gZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIGRhdGFCbG9ja3MgPSBEYXRhQmxvY2tfMS5kZWZhdWx0LmdldERhdGFCbG9ja3MoY29kZXdvcmRzLCB2ZXJzaW9uLCBlY0xldmVsKTsKCSAgICAgICAgLy8gQ291bnQgdG90YWwgbnVtYmVyIG9mIGRhdGEgYnl0ZXMKCSAgICAgICAgdmFyIHRvdGFsQnl0ZXMgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZGF0YUJsb2Nrc18xID0gX192YWx1ZXMkMihkYXRhQmxvY2tzKSwgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpOyAhZGF0YUJsb2Nrc18xXzEuZG9uZTsgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRhdGFCbG9jayA9IGRhdGFCbG9ja3NfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIHRvdGFsQnl0ZXMgKz0gZGF0YUJsb2NrLmdldE51bURhdGFDb2Rld29yZHMoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMV8xICYmICFkYXRhQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGRhdGFCbG9ja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGRhdGFCbG9ja3NfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxCeXRlcyk7CgkgICAgICAgIHZhciByZXN1bHRPZmZzZXQgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgLy8gRXJyb3ItY29ycmVjdCBhbmQgY29weSBkYXRhIGJsb2NrcyB0b2dldGhlciBpbnRvIGEgc3RyZWFtIG9mIGJ5dGVzCgkgICAgICAgICAgICBmb3IgKHZhciBkYXRhQmxvY2tzXzIgPSBfX3ZhbHVlcyQyKGRhdGFCbG9ja3MpLCBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCk7ICFkYXRhQmxvY2tzXzJfMS5kb25lOyBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZGF0YUJsb2NrID0gZGF0YUJsb2Nrc18yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkQnl0ZXMgPSBkYXRhQmxvY2suZ2V0Q29kZXdvcmRzKCk7CgkgICAgICAgICAgICAgICAgdmFyIG51bURhdGFDb2Rld29yZHMgPSBkYXRhQmxvY2suZ2V0TnVtRGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdEVycm9ycyhjb2Rld29yZEJ5dGVzLCBudW1EYXRhQ29kZXdvcmRzKTsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICByZXN1bHRCeXRlc1tyZXN1bHRPZmZzZXQrK10gPSBjb2Rld29yZEJ5dGVzW2ldOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMl8xICYmICFkYXRhQmxvY2tzXzJfMS5kb25lICYmIChfYiA9IGRhdGFCbG9ja3NfMi5yZXR1cm4pKSBfYi5jYWxsKGRhdGFCbG9ja3NfMik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRGVjb2RlIHRoZSBjb250ZW50cyBvZiB0aGF0IHN0cmVhbSBvZiBieXRlcwoJICAgICAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcl8xLmRlZmF1bHQuZGVjb2RlKHJlc3VsdEJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5HaXZlbiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyByZWNlaXZlZCwgcG9zc2libHkgY29ycnVwdGVkIGJ5IGVycm9ycywgYXR0ZW1wdHMgdG8KCSAgICAgKiBjb3JyZWN0IHRoZSBlcnJvcnMgaW4tcGxhY2UgdXNpbmcgUmVlZC1Tb2xvbW9uIGVycm9yIGNvcnJlY3Rpb24uPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGNvZGV3b3JkQnl0ZXMgZGF0YSBhbmQgZXJyb3IgY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgKiBAcGFyYW0gbnVtRGF0YUNvZGV3b3JkcyBudW1iZXIgb2YgY29kZXdvcmRzIHRoYXQgYXJlIGRhdGEgYnl0ZXMKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5jb3JyZWN0RXJyb3JzID0gZnVuY3Rpb24gKGNvZGV3b3JkQnl0ZXMsIG51bURhdGFDb2Rld29yZHMgLyppbnQqLykgewoJICAgICAgICAvLyBjb25zdCBudW1Db2Rld29yZHMgPSBjb2Rld29yZEJ5dGVzLmxlbmd0aDsKCSAgICAgICAgLy8gRmlyc3QgcmVhZCBpbnRvIGFuIGFycmF5IG9mIGludHMKCSAgICAgICAgdmFyIGNvZGV3b3Jkc0ludHMgPSBuZXcgSW50MzJBcnJheShjb2Rld29yZEJ5dGVzKTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG5vdCByZWFseSBuZWNlc3NhcnkgdG8gdHJhbnNmb3JtIHRvIGludHM/IGNvdWxkIHJlZGVzaWduIGV2ZXJ5dGhpbmcgdG8gd29yayB3aXRoIHVuc2lnbmVkIGJ5dGVzPwoJICAgICAgICAvLyBjb25zdCBjb2Rld29yZHNJbnRzID0gbmV3IEludDMyQXJyYXkobnVtQ29kZXdvcmRzKQoJICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNvZGV3b3JkczsgaSsrKSB7CgkgICAgICAgIC8vICAgY29kZXdvcmRzSW50c1tpXSA9IGNvZGV3b3JkQnl0ZXNbaV0gJiAweEZGCgkgICAgICAgIC8vIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHRoaXMucnNEZWNvZGVyLmRlY29kZShjb2Rld29yZHNJbnRzLCBjb2Rld29yZEJ5dGVzLmxlbmd0aCAtIG51bURhdGFDb2Rld29yZHMpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBSZWVkU29sb21vbkV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQ2hlY2tzdW1FeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29weSBiYWNrIGludG8gYXJyYXkgb2YgYnl0ZXMgLS0gb25seSBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZSBieXRlcyB0aGF0IHdlcmUgZGF0YQoJICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IGVycm9ycyBpbiB0aGUgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQ29kZXdvcmRzOyBpKyspIHsKCSAgICAgICAgICAgIGNvZGV3b3JkQnl0ZXNbaV0gPSAvKihieXRlKSAqLyBjb2Rld29yZHNJbnRzW2ldOwoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlcjsKCX0oKSk7CglEZWNvZGVyJDEuZGVmYXVsdCA9IERlY29kZXI7CgoJdmFyIERldGVjdG9yJDEgPSB7fTsKCgl2YXIgTWF0aFV0aWxzJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMTIgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGhVdGlscyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5kZXRlY3RvciB7Ki8KCS8qKgoJICogR2VuZXJhbCBtYXRoLXJlbGF0ZWQgYW5kIG51bWVyaWMgdXRpbGl0eSBmdW5jdGlvbnMuCgkgKi8KCXZhciBNYXRoVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gTWF0aFV0aWxzKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBFbmRzIHVwIGJlaW5nIGEgYml0IGZhc3RlciB0aGFuIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0uIFRoaXMgbWVyZWx5IHJvdW5kcyBpdHMKCSAgICAgKiBhcmd1bWVudCB0byB0aGUgbmVhcmVzdCBpbnQsIHdoZXJlIHguNSByb3VuZHMgdXAgdG8geCsxLiBTZW1hbnRpY3Mgb2YgdGhpcyBzaG9ydGN1dAoJICAgICAqIGRpZmZlciBzbGlnaHRseSBmcm9tIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0gaW4gdGhhdCBoYWxmIHJvdW5kcyBkb3duIGZvciBuZWdhdGl2ZQoJICAgICAqIHZhbHVlcy4gLTIuNSByb3VuZHMgdG8gLTMsIG5vdCAtMi4gRm9yIHB1cnBvc2VzIGhlcmUgaXQgbWFrZXMgbm8gZGlmZmVyZW5jZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBkIHJlYWwgdmFsdWUgdG8gcm91bmQKCSAgICAgKiBAcmV0dXJuIG5lYXJlc3Qge0Bjb2RlIGludH0KCSAgICAgKi8KCSAgICBNYXRoVXRpbHMucm91bmQgPSBmdW5jdGlvbiAoZCAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE5hTiA9PT0gZCkKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICBpZiAoZCA8PSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikKCSAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjsKCSAgICAgICAgaWYgKGQgPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpCgkgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHJldHVybiAvKihpbnQpICovIChkICsgKGQgPCAwLjAgPyAtMC41IDogMC41KSkgfCAwOwoJICAgIH07CgkgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG1heWJlIHJlbW92ZSByb3VuZCBtZXRob2QgYW5kIGNhbGwgZGlyZWN0bHkgTWF0aC5yb3VuZCwgaXQgbG9va3MgbGlrZSBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIGpzCgkgICAgLyoqCgkgICAgICogQHBhcmFtIGFYIHBvaW50IEEgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGFZIHBvaW50IEEgeSBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJYIHBvaW50IEIgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJZIHBvaW50IEIgeSBjb29yZGluYXRlCgkgICAgICogQHJldHVybiBFdWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgQSBhbmQgQgoJICAgICAqLwoJICAgIE1hdGhVdGlscy5kaXN0YW5jZSA9IGZ1bmN0aW9uIChhWCAvKmZsb2F0fGludCovLCBhWSAvKmZsb2F0fGludCovLCBiWCAvKmZsb2F0fGludCovLCBiWSAvKmZsb2F0fGludCovKSB7CgkgICAgICAgIHZhciB4RGlmZiA9IGFYIC0gYlg7CgkgICAgICAgIHZhciB5RGlmZiA9IGFZIC0gYlk7CgkgICAgICAgIHJldHVybiAvKihmbG9hdCkgKi8gTWF0aC5zcXJ0KHhEaWZmICogeERpZmYgKyB5RGlmZiAqIHlEaWZmKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBhWCBwb2ludCBBIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBhWSBwb2ludCBBIHkgY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWCBwb2ludCBCIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWSBwb2ludCBCIHkgY29vcmRpbmF0ZQoJICAgICAqIEByZXR1cm4gRXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIEEgYW5kIEIKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgc3RhdGljIGRpc3RhbmNlKGFYOiBudW1iZXIgLyppbnQqLywgYVk6IG51bWJlciAvKmludCovLCBiWDogbnVtYmVyIC8qaW50Ki8sIGJZOiBudW1iZXIgLyppbnQqLyk6IGZsb2F0IHsKCSAgICAvLyAgIGNvbnN0IHhEaWZmID0gYVggLSBiWAoJICAgIC8vICAgY29uc3QgeURpZmYgPSBhWSAtIGJZCgkgICAgLy8gICByZXR1cm4gKGZsb2F0KSBNYXRoLnNxcnQoeERpZmYgKiB4RGlmZiArIHlEaWZmICogeURpZmYpOwoJICAgIC8vIH0KCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYXJyYXkgdmFsdWVzIHRvIHN1bQoJICAgICAqIEByZXR1cm4gc3VtIG9mIHZhbHVlcyBpbiBhcnJheQoJICAgICAqLwoJICAgIE1hdGhVdGlscy5zdW0gPSBmdW5jdGlvbiAoYXJyYXkpIHsKCSAgICAgICAgdmFyIGNvdW50ID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gYXJyYXkubGVuZ3RoOyBpICE9PSBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgYSA9IGFycmF5W2ldOwoJICAgICAgICAgICAgY291bnQgKz0gYTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY291bnQ7CgkgICAgfTsKCSAgICByZXR1cm4gTWF0aFV0aWxzOwoJfSgpKTsKCU1hdGhVdGlscyQxLmRlZmF1bHQgPSBNYXRoVXRpbHM7CgoJdmFyIERldGVjdG9yUmVzdWx0JDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERldGVjdG9yUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGV0ZWN0aW5nIGEgYmFyY29kZSBpbiBhbiBpbWFnZS4gVGhpcyBpbmNsdWRlcyB0aGUgcmF3CgkgKiBtYXRyaXggb2YgYmxhY2svd2hpdGUgcGl4ZWxzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGJhcmNvZGUsIGFuZCBwb3NzaWJseSBwb2ludHMgb2YgaW50ZXJlc3QKCSAqIGluIHRoZSBpbWFnZSwgbGlrZSB0aGUgbG9jYXRpb24gb2YgZmluZGVyIHBhdHRlcm5zIG9yIGNvcm5lcnMgb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGV0ZWN0b3JSZXN1bHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gRGV0ZWN0b3JSZXN1bHQoYml0cywgcG9pbnRzKSB7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzOwoJICAgIH0KCSAgICBEZXRlY3RvclJlc3VsdC5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIERldGVjdG9yUmVzdWx0LnByb3RvdHlwZS5nZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnBvaW50czsKCSAgICB9OwoJICAgIHJldHVybiBEZXRlY3RvclJlc3VsdDsKCX0oKSk7CglEZXRlY3RvclJlc3VsdCQxLmRlZmF1bHQgPSBEZXRlY3RvclJlc3VsdDsKCgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSQxID0ge307CgoJdmFyIERlZmF1bHRHcmlkU2FtcGxlciQxID0ge307CgoJdmFyIEdyaWRTYW1wbGVyJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDUgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBJbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBjbGFzcyBjYW4sIGdpdmVuIGxvY2F0aW9ucyBvZiBmaW5kZXIgcGF0dGVybnMgZm9yIGEgUVIgY29kZSBpbiBhbgoJICogaW1hZ2UsIHNhbXBsZSB0aGUgcmlnaHQgcG9pbnRzIGluIHRoZSBpbWFnZSB0byByZWNvbnN0cnVjdCB0aGUgUVIgY29kZSwgYWNjb3VudGluZyBmb3IKCSAqIHBlcnNwZWN0aXZlIGRpc3RvcnRpb24uIEl0IGlzIGFic3RyYWN0ZWQgc2luY2UgaXQgaXMgcmVsYXRpdmVseSBleHBlbnNpdmUgYW5kIHNob3VsZCBiZSBhbGxvd2VkCgkgKiB0byB0YWtlIGFkdmFudGFnZSBvZiBwbGF0Zm9ybS1zcGVjaWZpYyBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb25zLCBsaWtlIFN1bidzIEphdmEgQWR2YW5jZWQKCSAqIEltYWdpbmcgbGlicmFyeSwgYnV0IHdoaWNoIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIG90aGVyIGVudmlyb25tZW50cyBzdWNoIGFzIEoyTUUsIGFuZCB2aWNlCgkgKiB2ZXJzYS4KCSAqCgkgKiBUaGUgaW1wbGVtZW50YXRpb24gdXNlZCBjYW4gYmUgY29udHJvbGxlZCBieSBjYWxsaW5nIHtAbGluayAjc2V0R3JpZFNhbXBsZXIoR3JpZFNhbXBsZXIpfQoJICogd2l0aCBhbiBpbnN0YW5jZSBvZiBhIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgdGhpcyBpbnRlcmZhY2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdyaWRTYW1wbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEdyaWRTYW1wbGVyKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5DaGVja3MgYSBzZXQgb2YgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIHRyYW5zZm9ybWVkIHRvIHNhbXBsZSBwb2ludHMgb24gYW4gaW1hZ2UgYWdhaW5zdAoJICAgICAqIHRoZSBpbWFnZSdzIGRpbWVuc2lvbnMgdG8gc2VlIGlmIHRoZSBwb2ludCBhcmUgZXZlbiB3aXRoaW4gdGhlIGltYWdlLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHdpbGwgYWN0dWFsbHkgIm51ZGdlIiB0aGUgZW5kcG9pbnRzIGJhY2sgb250byB0aGUgaW1hZ2UgaWYgdGhleSBhcmUgZm91bmQgdG8gYmUKCSAgICAgKiBiYXJlbHkgKGxlc3MgdGhhbiAxIHBpeGVsKSBvZmYgdGhlIGltYWdlLiBUaGlzIGFjY291bnRzIGZvciBpbXBlcmZlY3QgZGV0ZWN0aW9uIG9mIGZpbmRlcgoJICAgICAqIHBhdHRlcm5zIGluIGFuIGltYWdlIHdoZXJlIHRoZSBRUiBDb2RlIHJ1bnMgYWxsIHRoZSB3YXkgdG8gdGhlIGltYWdlIGJvcmRlci48L3A+CgkgICAgICoKCSAgICAgKiA8cD5Gb3IgZWZmaWNpZW5jeSwgdGhlIG1ldGhvZCB3aWxsIGNoZWNrIHBvaW50cyBmcm9tIGVpdGhlciBlbmQgb2YgdGhlIGxpbmUgdW50aWwgb25lIGlzIGZvdW5kCgkgICAgICogdG8gYmUgd2l0aGluIHRoZSBpbWFnZS4gQmVjYXVzZSB0aGUgc2V0IG9mIHBvaW50cyBhcmUgYXNzdW1lZCB0byBiZSBsaW5lYXIsIHRoaXMgaXMgdmFsaWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGltYWdlIGludG8gd2hpY2ggdGhlIHBvaW50cyBzaG91bGQgbWFwCgkgICAgICogQHBhcmFtIHBvaW50cyBhY3R1YWwgcG9pbnRzIGluIHgxLHkxLC4uLix4bix5biBmb3JtCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhbiBlbmRwb2ludCBpcyBsaWVzIG91dHNpZGUgdGhlIGltYWdlIGJvdW5kYXJpZXMKCSAgICAgKi8KCSAgICBHcmlkU2FtcGxlci5jaGVja0FuZE51ZGdlUG9pbnRzID0gZnVuY3Rpb24gKGltYWdlLCBwb2ludHMpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gc3RhcnQgdW50aWwgd2Ugc2VlIHNvbWUgdGhhdCBhcmUgT0s6CgkgICAgICAgIHZhciBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBwb2ludHMubGVuZ3RoICYmIG51ZGdlZDsgb2Zmc2V0ICs9IDIpIHsKCSAgICAgICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0XSk7CgkgICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IocG9pbnRzW29mZnNldCArIDFdKTsKCSAgICAgICAgICAgIGlmICh4IDwgLTEgfHwgeCA+IHdpZHRoIHx8IHkgPCAtMSB8fCB5ID4gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBudWRnZWQgPSBmYWxzZTsKCSAgICAgICAgICAgIGlmICh4ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gMC4wOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmICh4ID09PSB3aWR0aCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gd2lkdGggLSAxOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAoeSA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICBwb2ludHNbb2Zmc2V0ICsgMV0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IGhlaWdodCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gZW5kOgoJICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSBwb2ludHMubGVuZ3RoIC0gMjsgb2Zmc2V0ID49IDAgJiYgbnVkZ2VkOyBvZmZzZXQgLT0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKHBvaW50c1tvZmZzZXRdKTsKCSAgICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0ICsgMV0pOwoJICAgICAgICAgICAgaWYgKHggPCAtMSB8fCB4ID4gd2lkdGggfHwgeSA8IC0xIHx8IHkgPiBoZWlnaHQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ1LmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIG51ZGdlZCA9IGZhbHNlOwoJICAgICAgICAgICAgaWYgKHggPT09IC0xKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHggPT09IHdpZHRoKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSB3aWR0aCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmICh5ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IDAuMDsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoeSA9PT0gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldCArIDFdID0gaGVpZ2h0IC0gMTsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXI7Cgl9KCkpOwoJR3JpZFNhbXBsZXIkMS5kZWZhdWx0ID0gR3JpZFNhbXBsZXI7CgoJdmFyIFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGltcGxlbWVudHMgYSBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm0gaW4gdHdvIGRpbWVuc2lvbnMuIEdpdmVuIGZvdXIgc291cmNlIGFuZCBmb3VyCgkgKiBkZXN0aW5hdGlvbiBwb2ludHMsIGl0IHdpbGwgY29tcHV0ZSB0aGUgdHJhbnNmb3JtYXRpb24gaW1wbGllZCBiZXR3ZWVuIHRoZW0uIFRoZSBjb2RlIGlzIGJhc2VkCgkgKiBkaXJlY3RseSB1cG9uIHNlY3Rpb24gMy40LjIgb2YgR2VvcmdlIFdvbGJlcmcncyAiRGlnaXRhbCBJbWFnZSBXYXJwaW5nIjsgc2VlIHBhZ2VzIDU0LTU2LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUGVyc3BlY3RpdmVUcmFuc2Zvcm0oYTExIC8qZmxvYXQqLywgYTIxIC8qZmxvYXQqLywgYTMxIC8qZmxvYXQqLywgYTEyIC8qZmxvYXQqLywgYTIyIC8qZmxvYXQqLywgYTMyIC8qZmxvYXQqLywgYTEzIC8qZmxvYXQqLywgYTIzIC8qZmxvYXQqLywgYTMzIC8qZmxvYXQqLykgewoJICAgICAgICB0aGlzLmExMSA9IGExMTsKCSAgICAgICAgdGhpcy5hMjEgPSBhMjE7CgkgICAgICAgIHRoaXMuYTMxID0gYTMxOwoJICAgICAgICB0aGlzLmExMiA9IGExMjsKCSAgICAgICAgdGhpcy5hMjIgPSBhMjI7CgkgICAgICAgIHRoaXMuYTMyID0gYTMyOwoJICAgICAgICB0aGlzLmExMyA9IGExMzsKCSAgICAgICAgdGhpcy5hMjMgPSBhMjM7CgkgICAgICAgIHRoaXMuYTMzID0gYTMzOwoJICAgIH0KCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsID0gZnVuY3Rpb24gKHgwIC8qZmxvYXQqLywgeTAgLypmbG9hdCovLCB4MSAvKmZsb2F0Ki8sIHkxIC8qZmxvYXQqLywgeDIgLypmbG9hdCovLCB5MiAvKmZsb2F0Ki8sIHgzIC8qZmxvYXQqLywgeTMgLypmbG9hdCovLCB4MHAgLypmbG9hdCovLCB5MHAgLypmbG9hdCovLCB4MXAgLypmbG9hdCovLCB5MXAgLypmbG9hdCovLCB4MnAgLypmbG9hdCovLCB5MnAgLypmbG9hdCovLCB4M3AgLypmbG9hdCovLCB5M3AgLypmbG9hdCovKSB7CgkgICAgICAgIHZhciBxVG9TID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0ucXVhZHJpbGF0ZXJhbFRvU3F1YXJlKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Myk7CgkgICAgICAgIHZhciBzVG9RID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwcCwgeTBwLCB4MXAsIHkxcCwgeDJwLCB5MnAsIHgzcCwgeTNwKTsKCSAgICAgICAgcmV0dXJuIHNUb1EudGltZXMocVRvUyk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cykgewoJICAgICAgICB2YXIgbWF4ID0gcG9pbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkgKz0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbaV07CgkgICAgICAgICAgICB2YXIgeSA9IHBvaW50c1tpICsgMV07CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSBhMTMgKiB4ICsgYTIzICogeSArIGEzMzsKCSAgICAgICAgICAgIHBvaW50c1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHBvaW50c1tpICsgMV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludHNXaXRoVmFsdWVzID0gZnVuY3Rpb24gKHhWYWx1ZXMsIHlWYWx1ZXMpIHsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgdmFyIG4gPSB4VmFsdWVzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB4ID0geFZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciB5ID0geVZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciBkZW5vbWluYXRvciA9IGExMyAqIHggKyBhMjMgKiB5ICsgYTMzOwoJICAgICAgICAgICAgeFZhbHVlc1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHlWYWx1ZXNbaV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnNxdWFyZVRvUXVhZHJpbGF0ZXJhbCA9IGZ1bmN0aW9uICh4MCAvKmZsb2F0Ki8sIHkwIC8qZmxvYXQqLywgeDEgLypmbG9hdCovLCB5MSAvKmZsb2F0Ki8sIHgyIC8qZmxvYXQqLywgeTIgLypmbG9hdCovLCB4MyAvKmZsb2F0Ki8sIHkzIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgZHgzID0geDAgLSB4MSArIHgyIC0geDM7CgkgICAgICAgIHZhciBkeTMgPSB5MCAtIHkxICsgeTIgLSB5MzsKCSAgICAgICAgaWYgKGR4MyA9PT0gMC4wICYmIGR5MyA9PT0gMC4wKSB7CgkgICAgICAgICAgICAvLyBBZmZpbmUKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCwgeDIgLSB4MSwgeDAsIHkxIC0geTAsIHkyIC0geTEsIHkwLCAwLjAsIDAuMCwgMS4wKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHZhciBkeDEgPSB4MSAtIHgyOwoJICAgICAgICAgICAgdmFyIGR4MiA9IHgzIC0geDI7CgkgICAgICAgICAgICB2YXIgZHkxID0geTEgLSB5MjsKCSAgICAgICAgICAgIHZhciBkeTIgPSB5MyAtIHkyOwoJICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gZHgxICogZHkyIC0gZHgyICogZHkxOwoJICAgICAgICAgICAgdmFyIGExMyA9IChkeDMgKiBkeTIgLSBkeDIgKiBkeTMpIC8gZGVub21pbmF0b3I7CgkgICAgICAgICAgICB2YXIgYTIzID0gKGR4MSAqIGR5MyAtIGR4MyAqIGR5MSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCArIGExMyAqIHgxLCB4MyAtIHgwICsgYTIzICogeDMsIHgwLCB5MSAtIHkwICsgYTEzICogeTEsIHkzIC0geTAgKyBhMjMgKiB5MywgeTAsIGExMywgYTIzLCAxLjApOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9TcXVhcmUgPSBmdW5jdGlvbiAoeDAgLypmbG9hdCovLCB5MCAvKmZsb2F0Ki8sIHgxIC8qZmxvYXQqLywgeTEgLypmbG9hdCovLCB4MiAvKmZsb2F0Ki8sIHkyIC8qZmxvYXQqLywgeDMgLypmbG9hdCovLCB5MyAvKmZsb2F0Ki8pIHsKCSAgICAgICAgLy8gSGVyZSwgdGhlIGFkam9pbnQgc2VydmVzIGFzIHRoZSBpbnZlcnNlOgoJICAgICAgICByZXR1cm4gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MykuYnVpbGRBZGpvaW50KCk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUuYnVpbGRBZGpvaW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBBZGpvaW50IGlzIHRoZSB0cmFuc3Bvc2Ugb2YgdGhlIGNvZmFjdG9yIG1hdHJpeDoKCSAgICAgICAgcmV0dXJuIG5ldyBQZXJzcGVjdGl2ZVRyYW5zZm9ybSh0aGlzLmEyMiAqIHRoaXMuYTMzIC0gdGhpcy5hMjMgKiB0aGlzLmEzMiwgdGhpcy5hMjMgKiB0aGlzLmEzMSAtIHRoaXMuYTIxICogdGhpcy5hMzMsIHRoaXMuYTIxICogdGhpcy5hMzIgLSB0aGlzLmEyMiAqIHRoaXMuYTMxLCB0aGlzLmExMyAqIHRoaXMuYTMyIC0gdGhpcy5hMTIgKiB0aGlzLmEzMywgdGhpcy5hMTEgKiB0aGlzLmEzMyAtIHRoaXMuYTEzICogdGhpcy5hMzEsIHRoaXMuYTEyICogdGhpcy5hMzEgLSB0aGlzLmExMSAqIHRoaXMuYTMyLCB0aGlzLmExMiAqIHRoaXMuYTIzIC0gdGhpcy5hMTMgKiB0aGlzLmEyMiwgdGhpcy5hMTMgKiB0aGlzLmEyMSAtIHRoaXMuYTExICogdGhpcy5hMjMsIHRoaXMuYTExICogdGhpcy5hMjIgLSB0aGlzLmExMiAqIHRoaXMuYTIxKTsKCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50aW1lcyA9IGZ1bmN0aW9uIChvdGhlcikgewoJICAgICAgICByZXR1cm4gbmV3IFBlcnNwZWN0aXZlVHJhbnNmb3JtKHRoaXMuYTExICogb3RoZXIuYTExICsgdGhpcy5hMjEgKiBvdGhlci5hMTIgKyB0aGlzLmEzMSAqIG90aGVyLmExMywgdGhpcy5hMTEgKiBvdGhlci5hMjEgKyB0aGlzLmEyMSAqIG90aGVyLmEyMiArIHRoaXMuYTMxICogb3RoZXIuYTIzLCB0aGlzLmExMSAqIG90aGVyLmEzMSArIHRoaXMuYTIxICogb3RoZXIuYTMyICsgdGhpcy5hMzEgKiBvdGhlci5hMzMsIHRoaXMuYTEyICogb3RoZXIuYTExICsgdGhpcy5hMjIgKiBvdGhlci5hMTIgKyB0aGlzLmEzMiAqIG90aGVyLmExMywgdGhpcy5hMTIgKiBvdGhlci5hMjEgKyB0aGlzLmEyMiAqIG90aGVyLmEyMiArIHRoaXMuYTMyICogb3RoZXIuYTIzLCB0aGlzLmExMiAqIG90aGVyLmEzMSArIHRoaXMuYTIyICogb3RoZXIuYTMyICsgdGhpcy5hMzIgKiBvdGhlci5hMzMsIHRoaXMuYTEzICogb3RoZXIuYTExICsgdGhpcy5hMjMgKiBvdGhlci5hMTIgKyB0aGlzLmEzMyAqIG90aGVyLmExMywgdGhpcy5hMTMgKiBvdGhlci5hMjEgKyB0aGlzLmEyMyAqIG90aGVyLmEyMiArIHRoaXMuYTMzICogb3RoZXIuYTIzLCB0aGlzLmExMyAqIG90aGVyLmEzMSArIHRoaXMuYTIzICogb3RoZXIuYTMyICsgdGhpcy5hMzMgKiBvdGhlci5hMzMpOwoJICAgIH07CgkgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoJfSgpKTsKCVBlcnNwZWN0aXZlVHJhbnNmb3JtJDEuZGVmYXVsdCA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmYXVsdEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEdyaWRTYW1wbGVyXzEgPSBHcmlkU2FtcGxlciQxOwoJdmFyIEJpdE1hdHJpeF8xJDEgPSBCaXRNYXRyaXgkMTsKCXZhciBQZXJzcGVjdGl2ZVRyYW5zZm9ybV8xJDEgPSBQZXJzcGVjdGl2ZVRyYW5zZm9ybSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEkNCA9IE5vdEZvdW5kRXhjZXB0aW9uJDE7CgkvKioKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWZhdWx0R3JpZFNhbXBsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDIoRGVmYXVsdEdyaWRTYW1wbGVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIERlZmF1bHRHcmlkU2FtcGxlcigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgRGVmYXVsdEdyaWRTYW1wbGVyLnByb3RvdHlwZS5zYW1wbGVHcmlkID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgcDFUb1ggLypmbG9hdCovLCBwMVRvWSAvKmZsb2F0Ki8sIHAyVG9YIC8qZmxvYXQqLywgcDJUb1kgLypmbG9hdCovLCBwM1RvWCAvKmZsb2F0Ki8sIHAzVG9ZIC8qZmxvYXQqLywgcDRUb1ggLypmbG9hdCovLCBwNFRvWSAvKmZsb2F0Ki8sIHAxRnJvbVggLypmbG9hdCovLCBwMUZyb21ZIC8qZmxvYXQqLywgcDJGcm9tWCAvKmZsb2F0Ki8sIHAyRnJvbVkgLypmbG9hdCovLCBwM0Zyb21YIC8qZmxvYXQqLywgcDNGcm9tWSAvKmZsb2F0Ki8sIHA0RnJvbVggLypmbG9hdCovLCBwNEZyb21ZIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSQxLmRlZmF1bHQucXVhZHJpbGF0ZXJhbFRvUXVhZHJpbGF0ZXJhbChwMVRvWCwgcDFUb1ksIHAyVG9YLCBwMlRvWSwgcDNUb1gsIHAzVG9ZLCBwNFRvWCwgcDRUb1ksIHAxRnJvbVgsIHAxRnJvbVksIHAyRnJvbVgsIHAyRnJvbVksIHAzRnJvbVgsIHAzRnJvbVksIHA0RnJvbVgsIHA0RnJvbVkpOwoJICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGVHcmlkV2l0aFRyYW5zZm9ybShpbWFnZSwgZGltZW5zaW9uWCwgZGltZW5zaW9uWSwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBEZWZhdWx0R3JpZFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgdHJhbnNmb3JtKSB7CgkgICAgICAgIGlmIChkaW1lbnNpb25YIDw9IDAgfHwgZGltZW5zaW9uWSA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMSQxLmRlZmF1bHQoZGltZW5zaW9uWCwgZGltZW5zaW9uWSk7CgkgICAgICAgIHZhciBwb2ludHMgPSBuZXcgRmxvYXQzMkFycmF5KDIgKiBkaW1lbnNpb25YKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBkaW1lbnNpb25ZOyB5KyspIHsKCSAgICAgICAgICAgIHZhciBtYXggPSBwb2ludHMubGVuZ3RoOwoJICAgICAgICAgICAgdmFyIGlWYWx1ZSA9IHkgKyAwLjU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1heDsgeCArPSAyKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW3hdID0gKHggLyAyKSArIDAuNTsKCSAgICAgICAgICAgICAgICBwb2ludHNbeCArIDFdID0gaVZhbHVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50cyhwb2ludHMpOwoJICAgICAgICAgICAgLy8gUXVpY2sgY2hlY2sgdG8gc2VlIGlmIHBvaW50cyB0cmFuc2Zvcm1lZCB0byBzb21ldGhpbmcgaW5zaWRlIHRoZSBpbWFnZQoJICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0byBjaGVjayB0aGUgZW5kcG9pbnRzCgkgICAgICAgICAgICBHcmlkU2FtcGxlcl8xLmRlZmF1bHQuY2hlY2tBbmROdWRnZVBvaW50cyhpbWFnZSwgcG9pbnRzKTsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHggKz0gMikgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KE1hdGguZmxvb3IocG9pbnRzW3hdKSwgTWF0aC5mbG9vcihwb2ludHNbeCArIDFdKSkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrKC1pc2gpIHBpeGVsCgkgICAgICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4IC8gMiwgeSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoYWlvb2JlIC8qOiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgICAgIC8vIFRoaXMgZmVlbHMgd3JvbmcsIGJ1dCwgc29tZXRpbWVzIGlmIHRoZSBmaW5kZXIgcGF0dGVybnMgYXJlIG1pc2lkZW50aWZpZWQsIHRoZSByZXN1bHRpbmcKCSAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gZ2V0cyAidHdpc3RlZCIgc3VjaCB0aGF0IGl0IG1hcHMgYSBzdHJhaWdodCBsaW5lIG9mIHBvaW50cyB0byBhIHNldCBvZiBwb2ludHMKCSAgICAgICAgICAgICAgICAvLyB3aG9zZSBlbmRwb2ludHMgYXJlIGluIGJvdW5kcywgYnV0IG90aGVycyBhcmUgbm90LiBUaGVyZSBpcyBwcm9iYWJseSBzb21lIG1hdGhlbWF0aWNhbAoJICAgICAgICAgICAgICAgIC8vIHdheSB0byBkZXRlY3QgdGhpcyBhYm91dCB0aGUgdHJhbnNmb3JtYXRpb24gdGhhdCBJIGRvbid0IGtub3cgeWV0LgoJICAgICAgICAgICAgICAgIC8vIFRoaXMgcmVzdWx0cyBpbiBhbiB1Z2x5IHJ1bnRpbWUgZXhjZXB0aW9uIGRlc3BpdGUgb3VyIGNsZXZlciBjaGVja3MgYWJvdmUgLS0gY2FuJ3QgaGF2ZQoJICAgICAgICAgICAgICAgIC8vIHRoYXQuIFdlIGNvdWxkIGNoZWNrIGVhY2ggcG9pbnQncyBjb29yZGluYXRlcyBidXQgdGhhdCBmZWVscyBkdXBsaWNhdGl2ZS4gV2Ugc2V0dGxlIGZvcgoJICAgICAgICAgICAgICAgIC8vIGNhdGNoaW5nIGFuZCB3cmFwcGluZyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uCgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNC5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICByZXR1cm4gRGVmYXVsdEdyaWRTYW1wbGVyOwoJfShHcmlkU2FtcGxlcl8xLmRlZmF1bHQpKTsKCURlZmF1bHRHcmlkU2FtcGxlciQxLmRlZmF1bHQgPSBEZWZhdWx0R3JpZFNhbXBsZXI7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVySW5zdGFuY2UkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIERlZmF1bHRHcmlkU2FtcGxlcl8xID0gRGVmYXVsdEdyaWRTYW1wbGVyJDE7Cgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBHcmlkU2FtcGxlckluc3RhbmNlKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBTZXRzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBHcmlkU2FtcGxlciB1c2VkIGJ5IHRoZSBsaWJyYXJ5LiBPbmUgZ2xvYmFsCgkgICAgICogaW5zdGFuY2UgaXMgc3RvcmVkLCB3aGljaCBtYXkgc291bmQgcHJvYmxlbWF0aWMuIEJ1dCwgdGhlIGltcGxlbWVudGF0aW9uIHByb3ZpZGVkCgkgICAgICogb3VnaHQgdG8gYmUgYXBwcm9wcmlhdGUgZm9yIHRoZSBlbnRpcmUgcGxhdGZvcm0sIGFuZCBhbGwgdXNlcyBvZiB0aGlzIGxpYnJhcnkKCSAgICAgKiBpbiB0aGUgd2hvbGUgbGlmZXRpbWUgb2YgdGhlIEpWTS4gRm9yIGluc3RhbmNlLCBhbiBBbmRyb2lkIGFjdGl2aXR5IGNhbiBzd2FwIGluCgkgICAgICogYW4gaW1wbGVtZW50YXRpb24gdGhhdCB0YWtlcyBhZHZhbnRhZ2Ugb2YgbmF0aXZlIHBsYXRmb3JtIGxpYnJhcmllcy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBuZXdHcmlkU2FtcGxlciBUaGUgcGxhdGZvcm0tc3BlY2lmaWMgb2JqZWN0IHRvIGluc3RhbGwuCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5zZXRHcmlkU2FtcGxlciA9IGZ1bmN0aW9uIChuZXdHcmlkU2FtcGxlcikgewoJICAgICAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3R3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIEdyaWRTYW1wbGVyCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIEdyaWRTYW1wbGVySW5zdGFuY2UuZ3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3IERlZmF1bHRHcmlkU2FtcGxlcl8xLmRlZmF1bHQoKTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXJJbnN0YW5jZTsKCX0oKSk7CglHcmlkU2FtcGxlckluc3RhbmNlJDEuZGVmYXVsdCA9IEdyaWRTYW1wbGVySW5zdGFuY2U7CgoJdmFyIFJlc3VsdFBvaW50JDEgPSB7fTsKCgl2YXIgRmxvYXQkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIFBvbnlmaWxsIGZvciBKYXZhJ3MgRmxvYXQgY2xhc3MuCgkgKi8KCXZhciBGbG9hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBGbG9hdCgpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogU2luY1RTIGhhcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gaW50IGFuZCBmbG9hdCwgdGhlcmUncyBhbGwgbnVtYmVycywKCSAgICAgKiB0aGlzIGlzIHVzZWQgb25seSB0byBwb2x5ZmlsbCBKYXZhIGNvZGUuCgkgICAgICovCgkgICAgRmxvYXQuZmxvYXRUb0ludEJpdHMgPSBmdW5jdGlvbiAoZikgewoJICAgICAgICByZXR1cm4gZjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFRoZSBmbG9hdCBtYXggdmFsdWUgaW4gSlMgaXMgdGhlIG51bWJlciBtYXggdmFsdWUuCgkgICAgICovCgkgICAgRmxvYXQuTUFYX1ZBTFVFID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgcmV0dXJuIEZsb2F0OwoJfSgpKTsKCUZsb2F0JDEuZGVmYXVsdCA9IEZsb2F0OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0UG9pbnQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCXZhciBNYXRoVXRpbHNfMSQxID0gTWF0aFV0aWxzJDE7Cgl2YXIgRmxvYXRfMSA9IEZsb2F0JDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHBvaW50IG9mIGludGVyZXN0IGluIGFuIGltYWdlIGNvbnRhaW5pbmcgYSBiYXJjb2RlLiBUeXBpY2FsbHksIHRoaXMKCSAqIHdvdWxkIGJlIHRoZSBsb2NhdGlvbiBvZiBhIGZpbmRlciBwYXR0ZXJuIG9yIHRoZSBjb3JuZXIgb2YgdGhlIGJhcmNvZGUsIGZvciBleGFtcGxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0UG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUmVzdWx0UG9pbnQoeCwgeSkgewoJICAgICAgICB0aGlzLnggPSB4OwoJICAgICAgICB0aGlzLnkgPSB5OwoJICAgIH0KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMueDsKCSAgICB9OwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy55OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVzdWx0UG9pbnQpIHsKCSAgICAgICAgICAgIHZhciBvdGhlclBvaW50ID0gb3RoZXI7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlclBvaW50LnggJiYgdGhpcy55ID09PSBvdGhlclBvaW50Lnk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogRmxvYXRfMS5kZWZhdWx0LmZsb2F0VG9JbnRCaXRzKHRoaXMueCkgKyBGbG9hdF8xLmRlZmF1bHQuZmxvYXRUb0ludEJpdHModGhpcy55KTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiAnKCcgKyB0aGlzLnggKyAnLCcgKyB0aGlzLnkgKyAnKSc7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBPcmRlcnMgYW4gYXJyYXkgb2YgdGhyZWUgUmVzdWx0UG9pbnRzIGluIGFuIG9yZGVyIFtBLEIsQ10gc3VjaCB0aGF0IEFCIGlzIGxlc3MgdGhhbiBBQwoJICAgICAqIGFuZCBCQyBpcyBsZXNzIHRoYW4gQUMsIGFuZCB0aGUgYW5nbGUgYmV0d2VlbiBCQyBhbmQgQkEgaXMgbGVzcyB0aGFuIDE4MCBkZWdyZWVzLgoJICAgICAqCgkgICAgICogQHBhcmFtIHBhdHRlcm5zIGFycmF5IG9mIHRocmVlIHtAY29kZSBSZXN1bHRQb2ludH0gdG8gb3JkZXIKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5vcmRlckJlc3RQYXR0ZXJucyA9IGZ1bmN0aW9uIChwYXR0ZXJucykgewoJICAgICAgICAvLyBGaW5kIGRpc3RhbmNlcyBiZXR3ZWVuIHBhdHRlcm4gY2VudGVycwoJICAgICAgICB2YXIgemVyb09uZURpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShwYXR0ZXJuc1swXSwgcGF0dGVybnNbMV0pOwoJICAgICAgICB2YXIgb25lVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzFdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciB6ZXJvVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzBdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciBwb2ludEE7CgkgICAgICAgIHZhciBwb2ludEI7CgkgICAgICAgIHZhciBwb2ludEM7CgkgICAgICAgIC8vIEFzc3VtZSBvbmUgY2xvc2VzdCB0byBvdGhlciB0d28gaXMgQjsgQSBhbmQgQyB3aWxsIGp1c3QgYmUgZ3Vlc3NlcyBhdCBmaXJzdAoJICAgICAgICBpZiAob25lVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlICYmIG9uZVR3b0Rpc3RhbmNlID49IHplcm9Ud29EaXN0YW5jZSkgewoJICAgICAgICAgICAgcG9pbnRCID0gcGF0dGVybnNbMF07CgkgICAgICAgICAgICBwb2ludEEgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QyA9IHBhdHRlcm5zWzJdOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHplcm9Ud29EaXN0YW5jZSA+PSBvbmVUd29EaXN0YW5jZSAmJiB6ZXJvVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlKSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMl07CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1syXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMV07CgkgICAgICAgIH0KCSAgICAgICAgLy8gVXNlIGNyb3NzIHByb2R1Y3QgdG8gZmlndXJlIG91dCB3aGV0aGVyIEEgYW5kIEMgYXJlIGNvcnJlY3Qgb3IgZmxpcHBlZC4KCSAgICAgICAgLy8gVGhpcyBhc2tzIHdoZXRoZXIgQkMgeCBCQSBoYXMgYSBwb3NpdGl2ZSB6IGNvbXBvbmVudCwgd2hpY2ggaXMgdGhlIGFycmFuZ2VtZW50CgkgICAgICAgIC8vIHdlIHdhbnQgZm9yIEEsIEIsIEMuIElmIGl0J3MgbmVnYXRpdmUsIHRoZW4gd2UndmUgZ290IGl0IGZsaXBwZWQgYXJvdW5kIGFuZAoJICAgICAgICAvLyBzaG91bGQgc3dhcCBBIGFuZCBDLgoJICAgICAgICBpZiAodGhpcy5jcm9zc1Byb2R1Y3RaKHBvaW50QSwgcG9pbnRCLCBwb2ludEMpIDwgMC4wKSB7CgkgICAgICAgICAgICB2YXIgdGVtcCA9IHBvaW50QTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBvaW50QzsKCSAgICAgICAgICAgIHBvaW50QyA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgcGF0dGVybnNbMF0gPSBwb2ludEE7CgkgICAgICAgIHBhdHRlcm5zWzFdID0gcG9pbnRCOwoJICAgICAgICBwYXR0ZXJuc1syXSA9IHBvaW50QzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBwYXR0ZXJuMSBmaXJzdCBwYXR0ZXJuCgkgICAgICogQHBhcmFtIHBhdHRlcm4yIHNlY29uZCBwYXR0ZXJuCgkgICAgICogQHJldHVybiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5kaXN0YW5jZSA9IGZ1bmN0aW9uIChwYXR0ZXJuMSwgcGF0dGVybjIpIHsKCSAgICAgICAgcmV0dXJuIE1hdGhVdGlsc18xJDEuZGVmYXVsdC5kaXN0YW5jZShwYXR0ZXJuMS54LCBwYXR0ZXJuMS55LCBwYXR0ZXJuMi54LCBwYXR0ZXJuMi55KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHogY29tcG9uZW50IG9mIHRoZSBjcm9zcyBwcm9kdWN0IGJldHdlZW4gdmVjdG9ycyBCQyBhbmQgQkEuCgkgICAgICovCgkgICAgUmVzdWx0UG9pbnQuY3Jvc3NQcm9kdWN0WiA9IGZ1bmN0aW9uIChwb2ludEEsIHBvaW50QiwgcG9pbnRDKSB7CgkgICAgICAgIHZhciBiWCA9IHBvaW50Qi54OwoJICAgICAgICB2YXIgYlkgPSBwb2ludEIueTsKCSAgICAgICAgcmV0dXJuICgocG9pbnRDLnggLSBiWCkgKiAocG9pbnRBLnkgLSBiWSkpIC0gKChwb2ludEMueSAtIGJZKSAqIChwb2ludEEueCAtIGJYKSk7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0UG9pbnQ7Cgl9KCkpOwoJUmVzdWx0UG9pbnQkMS5kZWZhdWx0ID0gUmVzdWx0UG9pbnQ7CgoJdmFyIEFsaWdubWVudFBhdHRlcm5GaW5kZXIkMSA9IHt9OwoKCXZhciBBbGlnbm1lbnRQYXR0ZXJuJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyQxID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFsaWdubWVudFBhdHRlcm4kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgUmVzdWx0UG9pbnRfMSQzID0gUmVzdWx0UG9pbnQkMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGFuIGFsaWdubWVudCBwYXR0ZXJuLCB3aGljaCBhcmUgdGhlIHNtYWxsZXIgc3F1YXJlIHBhdHRlcm5zIGZvdW5kIGluCgkgKiBhbGwgYnV0IHRoZSBzaW1wbGVzdCBRUiBDb2Rlcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEFsaWdubWVudFBhdHRlcm4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDEoQWxpZ25tZW50UGF0dGVybiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZXJtaW5lcyBpZiB0aGlzIGFsaWdubWVudCBwYXR0ZXJuICJhYm91dCBlcXVhbHMiIGFuIGFsaWdubWVudCBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhbiBhdmVyYWdlIG9mIHRoZSB0d28uCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybi5wcm90b3R5cGUuY29tYmluZUVzdGltYXRlID0gZnVuY3Rpb24gKGkgLypmbG9hdCovLCBqIC8qZmxvYXQqLywgbmV3TW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIGNvbWJpbmVkWCA9ICh0aGlzLmdldFgoKSArIGopIC8gMi4wOwoJICAgICAgICB2YXIgY29tYmluZWRZID0gKHRoaXMuZ2V0WSgpICsgaSkgLyAyLjA7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplICsgbmV3TW9kdWxlU2l6ZSkgLyAyLjA7CgkgICAgICAgIHJldHVybiBuZXcgQWxpZ25tZW50UGF0dGVybihjb21iaW5lZFgsIGNvbWJpbmVkWSwgY29tYmluZWRNb2R1bGVTaXplKTsKCSAgICB9OwoJICAgIHJldHVybiBBbGlnbm1lbnRQYXR0ZXJuOwoJfShSZXN1bHRQb2ludF8xJDMuZGVmYXVsdCkpOwoJQWxpZ25tZW50UGF0dGVybiQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX192YWx1ZXMkMSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuXzEgPSBBbGlnbm1lbnRQYXR0ZXJuJDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQzID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBhbGlnbm1lbnQgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBBbGlnbm1lbnQgcGF0dGVybnMgbG9vayBsaWtlIGZpbmRlcgoJICogcGF0dGVybnMgYnV0IGFyZSBzbWFsbGVyIGFuZCBhcHBlYXIgYXQgcmVndWxhciBpbnRlcnZhbHMgdGhyb3VnaG91dCB0aGUgaW1hZ2UuPC9wPgoJICoKCSAqIDxwPkF0IHRoZSBtb21lbnQgdGhpcyBvbmx5IGxvb2tzIGZvciB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAqCgkgKiA8cD5UaGlzIGlzIG1vc3RseSBhIHNpbXBsaWZpZWQgY29weSBvZiB7QGxpbmsgRmluZGVyUGF0dGVybkZpbmRlcn0uIEl0IGlzIGNvcGllZCwKCSAqIHBhc3RlZCBhbmQgc3RyaXBwZWQgZG93biBoZXJlIGZvciBtYXhpbXVtIHBlcmZvcm1hbmNlIGJ1dCBkb2VzIHVuZm9ydHVuYXRlbHkgZHVwbGljYXRlCgkgKiBzb21lIGNvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8qKgoJICAgICAqIDxwPkNyZWF0ZXMgYSBmaW5kZXIgdGhhdCB3aWxsIGxvb2sgaW4gYSBwb3J0aW9uIG9mIHRoZSB3aG9sZSBpbWFnZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gaW1hZ2UgaW1hZ2UgdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIHN0YXJ0WCBsZWZ0IGNvbHVtbiBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSBzdGFydFkgdG9wIHJvdyBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSB3aWR0aCB3aWR0aCBvZiByZWdpb24gdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIGhlaWdodCBoZWlnaHQgb2YgcmVnaW9uIHRvIHNlYXJjaAoJICAgICAqIEBwYXJhbSBtb2R1bGVTaXplIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBzbyBmYXIKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyKGltYWdlLCBzdGFydFggLyppbnQqLywgc3RhcnRZIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBtb2R1bGVTaXplIC8qZmxvYXQqLywgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMuc3RhcnRYID0gc3RhcnRYOwoJICAgICAgICB0aGlzLnN0YXJ0WSA9IHN0YXJ0WTsKCSAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoOwoJICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgdGhpcy5tb2R1bGVTaXplID0gbW9kdWxlU2l6ZTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICAgICAgdGhpcy5wb3NzaWJsZUNlbnRlcnMgPSBbXTsgLy8gbmV3IEFycmF5PGFueT4oNSkpCgkgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBhcnJheSBpbml0aWFsaXphdGlvbiB3aXRob3V0IHNpemUgYXMgdGhlIGxlbmd0aCBpcyBjaGVja2VkIGJlbG93CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSgzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+VGhpcyBtZXRob2QgYXR0ZW1wdHMgdG8gZmluZCB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuIGluIHRoZSBpbWFnZS4gSXQgaXMgYSBiaXQgbWVzc3kgc2luY2UKCSAgICAgKiBpdCdzIHByZXR0eSBwZXJmb3JtYW5jZS1jcml0aWNhbCBhbmQgc28gaXMgd3JpdHRlbiB0byBiZSBmYXN0IGZvcmVtb3N0LjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBub3QgZm91bmQKCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgc3RhcnRYID0gdGhpcy5zdGFydFg7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodDsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIG1heEogPSBzdGFydFggKyB3aWR0aDsKCSAgICAgICAgdmFyIG1pZGRsZUkgPSB0aGlzLnN0YXJ0WSArIChoZWlnaHQgLyAyKTsKCSAgICAgICAgLy8gV2UgYXJlIGxvb2tpbmcgZm9yIGJsYWNrL3doaXRlL2JsYWNrIG1vZHVsZXMgaW4gMToxOjEgcmF0aW8KCSAgICAgICAgLy8gdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIHNlZW4gc28gZmFyCgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoMyk7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIGZvciAodmFyIGlHZW4gPSAwOyBpR2VuIDwgaGVpZ2h0OyBpR2VuKyspIHsKCSAgICAgICAgICAgIC8vIFNlYXJjaCBmcm9tIG1pZGRsZSBvdXR3YXJkcwoJICAgICAgICAgICAgdmFyIGkgPSBtaWRkbGVJICsgKChpR2VuICYgMHgwMSkgPT09IDAgPyBNYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSA6IC1NYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSk7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICB2YXIgaiA9IHN0YXJ0WDsKCSAgICAgICAgICAgIC8vIEJ1cm4gb2ZmIGxlYWRpbmcgd2hpdGUgcGl4ZWxzIGJlZm9yZSBhbnl0aGluZyBlbHNlOyBpZiB3ZSBzdGFydCBpbiB0aGUgbWlkZGxlIG9mCgkgICAgICAgICAgICAvLyBhIHdoaXRlIHJ1biwgaXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIGNvdW50IGl0cyBsZW5ndGgsIHNpbmNlIHdlIGRvbid0IGtub3cgaWYgdGhlCgkgICAgICAgICAgICAvLyB3aGl0ZSBydW4gY29udGludWVkIHRvIHRoZSBsZWZ0IG9mIHRoZSBzdGFydCBwb2ludAoJICAgICAgICAgICAgd2hpbGUgKGogPCBtYXhKICYmICFpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gMDsKCSAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4SikgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gQ291bnRpbmcgd2hpdGUgcGl4ZWxzCgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAyKSB7IC8vIEEgd2lubmVyPwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpKSB7IC8vIFllcwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBqKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gc3RhdGVDb3VudFsyXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gMTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsrK2N1cnJlbnRTdGF0ZV0rKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAodGhpcy5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSkgewoJICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIG1heEopOwoJICAgICAgICAgICAgICAgIGlmIChjb25maXJtZWQgIT09IG51bGwpIHsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBub3RoaW5nIHdlIHNhdyB3YXMgb2JzZXJ2ZWQgYW5kIGNvbmZpcm1lZCB0d2ljZS4gSWYgd2UgaGFkCgkgICAgICAgIC8vIGFueSBndWVzcyBhdCBhbGwsIHJldHVybiBpdC4KCSAgICAgICAgaWYgKHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aCAhPT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zc2libGVDZW50ZXJzWzBdOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogR2l2ZW4gYSBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCBzZWVuIGFuZCBhbiBlbmQgcG9zaXRpb24sCgkgICAgICogZmlndXJlcyB0aGUgbG9jYXRpb24gb2YgdGhlIGNlbnRlciBvZiB0aGlzIGJsYWNrL3doaXRlL2JsYWNrIHJ1bi4KCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCwgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIChlbmQgLSBzdGF0ZUNvdW50WzJdKSAtIHN0YXRlQ291bnRbMV0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8xIHJhdGlvcwoJICAgICAqICAgICAgICAgdXNlZCBieSBhbGlnbm1lbnQgcGF0dGVybnMgdG8gYmUgY29uc2lkZXJlZCBhIG1hdGNoCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMubW9kdWxlU2l6ZTsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFtpXSkgPj0gbWF4VmFyaWFuY2UpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5BZnRlciBhIGhvcml6b250YWwgc2NhbiBmaW5kcyBhIHBvdGVudGlhbCBhbGlnbm1lbnQgcGF0dGVybiwgdGhpcyBtZXRob2QKCSAgICAgKiAiY3Jvc3MtY2hlY2tzIiBieSBzY2FubmluZyBkb3duIHZlcnRpY2FsbHkgdGhyb3VnaCB0aGUgY2VudGVyIG9mIHRoZSBwb3NzaWJsZQoJICAgICAqIGFsaWdubWVudCBwYXR0ZXJuIHRvIHNlZSBpZiB0aGUgc2FtZSBwcm9wb3J0aW9uIGlzIGRldGVjdGVkLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydEkgcm93IHdoZXJlIGFuIGFsaWdubWVudCBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYW4gYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBhbGlnbm1lbnQgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAvLyBTdGFydCBjb3VudGluZyB1cCBmcm9tIGNlbnRlcgoJICAgICAgICB2YXIgaSA9IHN0YXJ0STsKCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMF0gPD0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMF0rKzsKCSAgICAgICAgICAgIGktLTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFswXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIC8vIE5vdyBhbHNvIGNvdW50IGRvd24gZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IHN0YXJ0SSArIDE7CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbMV0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA8IG1heEkgJiYgIWltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzJdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzJdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMl0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSAyICogb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkgPyBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaSkgOiBOYU47CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5UaGlzIGlzIGNhbGxlZCB3aGVuIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4uIEl0IHdpbGwKCSAgICAgKiBjcm9zcyBjaGVjayB3aXRoIGEgdmVydGljYWwgc2NhbiwgYW5kIGlmIHN1Y2Nlc3NmdWwsIHdpbGwgc2VlIGlmIHRoaXMgcGF0dGVybiBoYWQgYmVlbgoJICAgICAqIGZvdW5kIG9uIGEgcHJldmlvdXMgaG9yaXpvbnRhbCBzY2FuLiBJZiBzbywgd2UgY29uc2lkZXIgaXQgY29uZmlybWVkIGFuZCBjb25jbHVkZSB3ZSBoYXZlCgkgICAgICogZm91bmQgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGF0ZUNvdW50IHJlYWRpbmcgc3RhdGUgbW9kdWxlIGNvdW50cyBmcm9tIGhvcml6b250YWwgc2NhbgoJICAgICAqIEBwYXJhbSBpIHJvdyB3aGVyZSBhbGlnbm1lbnQgcGF0dGVybiBtYXkgYmUgZm91bmQKCSAgICAgKiBAcGFyYW0gaiBlbmQgb2YgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4gaW4gcm93CgkgICAgICogQHJldHVybiB7QGxpbmsgQWxpZ25tZW50UGF0dGVybn0gaWYgd2UgaGF2ZSBmb3VuZCB0aGUgc2FtZSBwYXR0ZXJuIHR3aWNlLCBvciBudWxsIGlmIG5vdAoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmhhbmRsZVBvc3NpYmxlQ2VudGVyID0gZnVuY3Rpb24gKHN0YXRlQ291bnQsIGkgLyppbnQqLywgaiAvKmludCovKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICB2YXIgY2VudGVySiA9IEFsaWdubWVudFBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKTsKCSAgICAgICAgdmFyIGNlbnRlckkgPSB0aGlzLmNyb3NzQ2hlY2tWZXJ0aWNhbChpLCAvKihpbnQpICovIGNlbnRlckosIDIgKiBzdGF0ZUNvdW50WzFdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IChzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0pIC8gMy4wOwoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzJDEodGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYWJvdXQgdGhlIHNhbWUgY2VudGVyIGFuZCBtb2R1bGUgc2l6ZToKCSAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5hYm91dEVxdWFscyhlc3RpbWF0ZWRNb2R1bGVTaXplLCBjZW50ZXJJLCBjZW50ZXJKKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbnRlci5jb21iaW5lRXN0aW1hdGUoY2VudGVySSwgY2VudGVySiwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBIYWRuJ3QgZm91bmQgdGhpcyBiZWZvcmU7IHNhdmUgaXQKCSAgICAgICAgICAgIHZhciBwb2ludCA9IG5ldyBBbGlnbm1lbnRQYXR0ZXJuXzEuZGVmYXVsdChjZW50ZXJKLCBjZW50ZXJJLCBlc3RpbWF0ZWRNb2R1bGVTaXplKTsKCSAgICAgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzLnB1c2gocG9pbnQpOwoJICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjay5mb3VuZFBvc3NpYmxlUmVzdWx0UG9pbnQocG9pbnQpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgcmV0dXJuIEFsaWdubWVudFBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJQWxpZ25tZW50UGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyOwoKCXZhciBGaW5kZXJQYXR0ZXJuRmluZGVyJDEgPSB7fTsKCgl2YXIgRmluZGVyUGF0dGVybiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRmluZGVyUGF0dGVybiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZXRlY3RvciB7Ki8KCXZhciBSZXN1bHRQb2ludF8xJDIgPSBSZXN1bHRQb2ludCQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBmaW5kZXIgcGF0dGVybiwgd2hpY2ggYXJlIHRoZSB0aHJlZSBzcXVhcmUgcGF0dGVybnMgZm91bmQgaW4KCSAqIHRoZSBjb3JuZXJzIG9mIFFSIENvZGVzLiBJdCBhbHNvIGVuY2Fwc3VsYXRlcyBhIGNvdW50IG9mIHNpbWlsYXIgZmluZGVyIHBhdHRlcm5zLAoJICogYXMgYSBjb252ZW5pZW5jZSB0byB0aGUgZmluZGVyJ3MgYm9va2tlZXBpbmcuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBGaW5kZXJQYXR0ZXJuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyhGaW5kZXJQYXR0ZXJuLCBfc3VwZXIpOwoJICAgIC8vIEZpbmRlclBhdHRlcm4ocG9zWDogbnVtYmVyLypmbG9hdCovLCBwb3NZOiBudW1iZXIvKmZsb2F0Ki8sIGVzdGltYXRlZE1vZHVsZVNpemU6IG51bWJlci8qZmxvYXQqLykgewoJICAgIC8vICAgdGhpcyhwb3NYLCBwb3NZLCBlc3RpbWF0ZWRNb2R1bGVTaXplLCAxKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBGaW5kZXJQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8sIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIF90aGlzLmNvdW50ID0gY291bnQ7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNvdW50KSB7CgkgICAgICAgICAgICBfdGhpcy5jb3VudCA9IDE7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybi5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvdW50OwoJICAgIH07CgkgICAgLyoKCSAgICB2b2lkIGluY3JlbWVudENvdW50KCkgewoJICAgICAgdGhpcy5jb3VudCsrCgkgICAgfQoJICAgICAqLwoJICAgIC8qKgoJICAgICAqIDxwPkRldGVybWluZXMgaWYgdGhpcyBmaW5kZXIgcGF0dGVybiAiYWJvdXQgZXF1YWxzIiBhIGZpbmRlciBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhIHdlaWdodGVkIGF2ZXJhZ2UKCSAgICAgKiBiYXNlZCBvbiBjb3VudC4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5jb21iaW5lRXN0aW1hdGUgPSBmdW5jdGlvbiAoaSAvKmZsb2F0Ki8sIGogLypmbG9hdCovLCBuZXdNb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgY29tYmluZWRDb3VudCA9IHRoaXMuY291bnQgKyAxOwoJICAgICAgICB2YXIgY29tYmluZWRYID0gKHRoaXMuY291bnQgKiB0aGlzLmdldFgoKSArIGopIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgdmFyIGNvbWJpbmVkWSA9ICh0aGlzLmNvdW50ICogdGhpcy5nZXRZKCkgKyBpKSAvIGNvbWJpbmVkQ291bnQ7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5jb3VudCAqIHRoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSArIG5ld01vZHVsZVNpemUpIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgcmV0dXJuIG5ldyBGaW5kZXJQYXR0ZXJuKGNvbWJpbmVkWCwgY29tYmluZWRZLCBjb21iaW5lZE1vZHVsZVNpemUsIGNvbWJpbmVkQ291bnQpOwoJICAgIH07CgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm47Cgl9KFJlc3VsdFBvaW50XzEkMi5kZWZhdWx0KSk7CglGaW5kZXJQYXR0ZXJuJDEuZGVmYXVsdCA9IEZpbmRlclBhdHRlcm47CgoJdmFyIEZpbmRlclBhdHRlcm5JbmZvJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5JbmZvJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGluZm9ybWF0aW9uIGFib3V0IGZpbmRlciBwYXR0ZXJucyBpbiBhbiBpbWFnZSwgaW5jbHVkaW5nIHRoZSBsb2NhdGlvbiBvZgoJICogdGhlIHRocmVlIGZpbmRlciBwYXR0ZXJucywgYW5kIHRoZWlyIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5JbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZpbmRlclBhdHRlcm5JbmZvKHBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHRoaXMuYm90dG9tTGVmdCA9IHBhdHRlcm5DZW50ZXJzWzBdOwoJICAgICAgICB0aGlzLnRvcExlZnQgPSBwYXR0ZXJuQ2VudGVyc1sxXTsKCSAgICAgICAgdGhpcy50b3BSaWdodCA9IHBhdHRlcm5DZW50ZXJzWzJdOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuSW5mby5wcm90b3R5cGUuZ2V0Qm90dG9tTGVmdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tTGVmdDsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5JbmZvLnByb3RvdHlwZS5nZXRUb3BMZWZ0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BMZWZ0OwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkluZm8ucHJvdG90eXBlLmdldFRvcFJpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BSaWdodDsKCSAgICB9OwoJICAgIHJldHVybiBGaW5kZXJQYXR0ZXJuSW5mbzsKCX0oKSk7CglGaW5kZXJQYXR0ZXJuSW5mbyQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuSW5mbzsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5GaW5kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQyID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBSZXN1bHRQb2ludF8xJDEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIEZpbmRlclBhdHRlcm5fMSA9IEZpbmRlclBhdHRlcm4kMTsKCXZhciBGaW5kZXJQYXR0ZXJuSW5mb18xID0gRmluZGVyUGF0dGVybkluZm8kMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDIgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyppbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbXBhcmF0b3I7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBmaW5kZXIgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBGaW5kZXIgcGF0dGVybnMgYXJlIHRoZSBzcXVhcmUKCSAqIG1hcmtlcnMgYXQgdGhyZWUgY29ybmVycyBvZiBhIFFSIENvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5GaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogPHA+Q3JlYXRlcyBhIGZpbmRlciB0aGF0IHdpbGwgc2VhcmNoIHRoZSBpbWFnZSBmb3IgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBpbWFnZSBpbWFnZSB0byBzZWFyY2gKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoaW1hZ2U6IEJpdE1hdHJpeCkgewoJICAgIC8vICAgdGhpcyhpbWFnZSwgbnVsbCkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRmluZGVyUGF0dGVybkZpbmRlcihpbWFnZSwgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayA9IHJlc3VsdFBvaW50Q2FsbGJhY2s7CgkgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzID0gW107CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSg1KTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICB9CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmltYWdlOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0UG9zc2libGVDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGhpbnRzKSB7CgkgICAgICAgIHZhciB0cnlIYXJkZXIgPSAoaGludHMgIT09IG51bGwgJiYgaGludHMgIT09IHVuZGVmaW5lZCkgJiYgdW5kZWZpbmVkICE9PSBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQyLmRlZmF1bHQuVFJZX0hBUkRFUik7CgkgICAgICAgIHZhciBwdXJlQmFyY29kZSA9IChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkKSAmJiB1bmRlZmluZWQgIT09IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZV8xJDIuZGVmYXVsdC5QVVJFX0JBUkNPREUpOwoJICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlOwoJICAgICAgICB2YXIgbWF4SSA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgbWF4SiA9IGltYWdlLmdldFdpZHRoKCk7CgkgICAgICAgIC8vIFdlIGFyZSBsb29raW5nIGZvciBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIGluCgkgICAgICAgIC8vIDE6MTozOjE6MSByYXRpbzsgdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBzdWNoIG1vZHVsZXMgc2VlbiBzbyBmYXIKCSAgICAgICAgLy8gTGV0J3MgYXNzdW1lIHRoYXQgdGhlIG1heGltdW0gdmVyc2lvbiBRUiBDb2RlIHdlIHN1cHBvcnQgdGFrZXMgdXAgMS80IHRoZSBoZWlnaHQgb2YgdGhlCgkgICAgICAgIC8vIGltYWdlLCBhbmQgdGhlbiBhY2NvdW50IGZvciB0aGUgY2VudGVyIGJlaW5nIDMgbW9kdWxlcyBpbiBzaXplLiBUaGlzIGdpdmVzIHRoZSBzbWFsbGVzdAoJICAgICAgICAvLyBudW1iZXIgb2YgcGl4ZWxzIHRoZSBjZW50ZXIgY291bGQgYmUsIHNvIHNraXAgdGhpcyBvZnRlbi4gV2hlbiB0cnlpbmcgaGFyZGVyLCBsb29rIGZvciBhbGwKCSAgICAgICAgLy8gUVIgdmVyc2lvbnMgcmVnYXJkbGVzcyBvZiBob3cgZGVuc2UgdGhleSBhcmUuCgkgICAgICAgIHZhciBpU2tpcCA9IE1hdGguZmxvb3IoKDMgKiBtYXhJKSAvICg0ICogRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUykpOwoJICAgICAgICBpZiAoaVNraXAgPCBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQIHx8IHRyeUhhcmRlcikgewoJICAgICAgICAgICAgaVNraXAgPSBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkb25lID0gZmFsc2U7CgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoNSk7CgkgICAgICAgIGZvciAodmFyIGkgPSBpU2tpcCAtIDE7IGkgPCBtYXhJICYmICFkb25lOyBpICs9IGlTa2lwKSB7CgkgICAgICAgICAgICAvLyBHZXQgYSByb3cgb2YgYmxhY2svd2hpdGUgdmFsdWVzCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0gPSAwOwoJICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IDA7CgkgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1heEo7IGorKykgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMSkgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMCkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09IDQpIHsgLy8gQSB3aW5uZXI/CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsgLy8gWWVzCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIGosIHB1cmVCYXJjb2RlKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgZXhhbWluaW5nIGV2ZXJ5IG90aGVyIGxpbmUuIENoZWNraW5nIGVhY2ggbGluZSB0dXJuZWQgb3V0IHRvIGJlIHRvbwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwZW5zaXZlIGFuZCBkaWRuJ3QgaW1wcm92ZSBwZXJmb3JtYW5jZS4KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlTa2lwID0gMjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQgPT09IHRydWUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93U2tpcCA9IHRoaXMuZmluZFJvd1NraXAoKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93U2tpcCA+IHN0YXRlQ291bnRbMl0pIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCByb3dzIGJldHdlZW4gcm93IG9mIGxvd2VyIGNvbmZpcm1lZCBjZW50ZXIKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRvcCBvZiBwcmVzdW1lZCB0aGlyZCBjb25maXJtZWQgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBiYWNrIHVwIGEgYml0IHRvIGdldCBhIGZ1bGwgY2hhbmNlIG9mIGRldGVjdGluZwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCwgZW50aXJlIHdpZHRoIG9mIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGJ5IHJvd1NraXAsIGJ1dCBiYWNrIG9mZiBieSBzdGF0ZUNvdW50WzJdIChzaXplIG9mIGxhc3QgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHBhdHRlcm4gd2Ugc2F3KSB0byBiZSBjb25zZXJ2YXRpdmUsIGFuZCBhbHNvIGJhY2sgb2ZmIGJ5IGlTa2lwIHdoaWNoCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIGFib3V0IHRvIGJlIHJlLWFkZGVkCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gcm93U2tpcCAtIHN0YXRlQ291bnRbMl0gLSBpU2tpcDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IG1heEogLSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IHN0YXRlQ291bnRbM107CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gc3RhdGVDb3VudFs0XTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAzOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgc3RhdGUgdG8gc3RhcnQgbG9va2luZyBhZ2FpbgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBObywgc2hpZnQgY291bnRzIGJhY2sgYnkgdHdvCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gc3RhdGVDb3VudFszXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IHN0YXRlQ291bnRbNF07CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gMzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WysrY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBtYXhKLCBwdXJlQmFyY29kZSk7CgkgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICBpU2tpcCA9IHN0YXRlQ291bnRbMF07CgkgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGEgdGhpcmQgb25lCgkgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBhdHRlcm5JbmZvID0gdGhpcy5zZWxlY3RCZXN0UGF0dGVybnMoKTsKCSAgICAgICAgUmVzdWx0UG9pbnRfMSQxLmRlZmF1bHQub3JkZXJCZXN0UGF0dGVybnMocGF0dGVybkluZm8pOwoJICAgICAgICByZXR1cm4gbmV3IEZpbmRlclBhdHRlcm5JbmZvXzEuZGVmYXVsdChwYXR0ZXJuSW5mbyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBHaXZlbiBhIGNvdW50IG9mIGJsYWNrL3doaXRlL2JsYWNrL3doaXRlL2JsYWNrIHBpeGVscyBqdXN0IHNlZW4gYW5kIGFuIGVuZCBwb3NpdGlvbiwKCSAgICAgKiBmaWd1cmVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoaXMgcnVuLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZCA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBlbmQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gKGVuZCAtIHN0YXRlQ291bnRbNF0gLSBzdGF0ZUNvdW50WzNdKSAtIHN0YXRlQ291bnRbMl0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8zLzEvMSByYXRpb3MKCSAgICAgKiAgICAgICAgIHVzZWQgYnkgZmluZGVyIHBhdHRlcm5zIHRvIGJlIGNvbnNpZGVyZWQgYSBtYXRjaAoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHsKCSAgICAgICAgICAgIHZhciBjb3VudCA9IHN0YXRlQ291bnRbaV07CgkgICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gY291bnQ7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvdGFsTW9kdWxlU2l6ZSA8IDcpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIDcuMDsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgLy8gQWxsb3cgbGVzcyB0aGFuIDUwJSB2YXJpYW5jZSBmcm9tIDEtMS0zLTEtMSBwcm9wb3J0aW9ucwoJICAgICAgICByZXR1cm4gTWF0aC5hYnMobW9kdWxlU2l6ZSAtIHN0YXRlQ291bnRbMF0pIDwgbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzFdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicygzLjAgKiBtb2R1bGVTaXplIC0gc3RhdGVDb3VudFsyXSkgPCAzICogbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzNdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFs0XSkgPCBtYXhWYXJpYW5jZTsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgY3Jvc3NDaGVja1N0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFswXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzFdID0gMDsKCSAgICAgICAgY3Jvc3NDaGVja1N0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFszXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgcmV0dXJuIGNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQWZ0ZXIgYSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jcm9zcy1jcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gZGlhZ29uYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnRJIHJvdyB3aGVyZSBhIGZpbmRlciBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYSBmaW5kZXIgcGF0dGVybgoJICAgICAqIEBwYXJhbSBtYXhDb3VudCBtYXhpbXVtIHJlYXNvbmFibGUgbnVtYmVyIG9mIG1vZHVsZXMgdGhhdCBzaG91bGQgYmUKCSAgICAgKiAgb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcGFyYW0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgVGhlIG9yaWdpbmFsIHN0YXRlIGNvdW50IHRvdGFsLgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBwcm9wb3J0aW9ucyBhcmUgd2l0aGluZyBleHBlY3RlZCBsaW1pdHMKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrRGlhZ29uYWwgPSBmdW5jdGlvbiAoc3RhcnRJIC8qaW50Ki8sIGNlbnRlckogLyppbnQqLywgbWF4Q291bnQgLyppbnQqLywgb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgLyppbnQqLykgewoJICAgICAgICB2YXIgc3RhdGVDb3VudCA9IHRoaXMuZ2V0Q3Jvc3NDaGVja1N0YXRlQ291bnQoKTsKCSAgICAgICAgLy8gU3RhcnQgY291bnRpbmcgdXAsIGxlZnQgZnJvbSBjZW50ZXIgZmluZGluZyBibGFjayBjZW50ZXIgbWFzcwoJICAgICAgICB2YXIgaSA9IDA7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHdoaWxlIChzdGFydEkgPj0gaSAmJiBjZW50ZXJKID49IGkgJiYgaW1hZ2UuZ2V0KGNlbnRlckogLSBpLCBzdGFydEkgLSBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgPCBpIHx8IGNlbnRlckogPCBpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyB3aGl0ZSBzcGFjZQoJICAgICAgICB3aGlsZSAoc3RhcnRJID49IGkgJiYgY2VudGVySiA+PSBpICYmICFpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgYWxyZWFkeSB0b28gbWFueSBtb2R1bGVzIGluIHRoaXMgc3RhdGUgb3IgcmFuIG9mZiB0aGUgZWRnZToKCSAgICAgICAgaWYgKHN0YXJ0SSA8IGkgfHwgY2VudGVySiA8IGkgfHwgc3RhdGVDb3VudFsxXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyBibGFjayBib3JkZXIKCSAgICAgICAgd2hpbGUgKHN0YXJ0SSA+PSBpICYmIGNlbnRlckogPj0gaSAmJiBpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMF0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtYXhJID0gaW1hZ2UuZ2V0SGVpZ2h0KCk7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biwgcmlnaHQgZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IDE7CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgaW1hZ2UuZ2V0KGNlbnRlckogKyBpLCBzdGFydEkgKyBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJhbiBvZmYgdGhlIGVkZ2U/CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgIWltYWdlLmdldChjZW50ZXJKICsgaSwgc3RhcnRJICsgaSkgJiYKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKHN0YXJ0SSArIGkgPCBtYXhJICYmIGNlbnRlckogKyBpIDwgbWF4SiAmJiBpbWFnZS5nZXQoY2VudGVySiArIGksIHN0YXJ0SSArIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZmluZGVyLXBhdHRlcm4tbGlrZSBzZWN0aW9uLCBidXQgaXRzIHNpemUgaXMgbW9yZSB0aGFuIDEwMCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgcmV0dXJuIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA8IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAmJgoJICAgICAgICAgICAgRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkFmdGVyIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gdmVydGljYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXJ0SSByb3cgd2hlcmUgYSBmaW5kZXIgcGF0dGVybiB3YXMgZGV0ZWN0ZWQKCSAgICAgKiBAcGFyYW0gY2VudGVySiBjZW50ZXIgb2YgdGhlIHNlY3Rpb24gdGhhdCBhcHBlYXJzIHRvIGNyb3NzIGEgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIC8vIFN0YXJ0IGNvdW50aW5nIHVwIGZyb20gY2VudGVyCgkgICAgICAgIHZhciBpID0gc3RhcnRJOwoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmICFpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biBmcm9tIGNlbnRlcgoJICAgICAgICBpID0gc3RhcnRJICsgMTsKCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJKSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbM10gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIGZpbmRlci1wYXR0ZXJuLWxpa2Ugc2VjdGlvbiwgYnV0IGl0cyBzaXplIGlzIG1vcmUgdGhhbiA0MCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF07CgkgICAgICAgIGlmICg1ICogTWF0aC5hYnMoc3RhdGVDb3VudFRvdGFsIC0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpID49IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBpKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkxpa2Uge0BsaW5rICNjcm9zc0NoZWNrVmVydGljYWwoaW50LCBpbnQsIGludCwgaW50KX0sIGFuZCBpbiBmYWN0IGlzIGJhc2ljYWxseSBpZGVudGljYWwsCgkgICAgICogZXhjZXB0IGl0IHJlYWRzIGhvcml6b250YWxseSBpbnN0ZWFkIG9mIHZlcnRpY2FsbHkuIFRoaXMgaXMgdXNlZCB0byBjcm9zcy1jcm9zcwoJICAgICAqIGNoZWNrIGEgdmVydGljYWwgY3Jvc3MgY2hlY2sgYW5kIGxvY2F0ZSB0aGUgcmVhbCBjZW50ZXIgb2YgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChzdGFydEogLyppbnQqLywgY2VudGVySSAvKmludCovLCBtYXhDb3VudCAvKmludCovLCBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAvKmludCovKSB7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIHZhciBqID0gc3RhcnRKOwoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmIGltYWdlLmdldChqLCBjZW50ZXJJKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmICFpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGogPj0gMCAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgaiA9IHN0YXJ0SiArIDE7CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMl0rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA8IG1heEogJiYgIWltYWdlLmdldChqLCBjZW50ZXJJKSAmJiBzdGF0ZUNvdW50WzNdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFs0XSA8IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdKys7CgkgICAgICAgICAgICBqKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbNF0gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBmaW5kZXItcGF0dGVybi1saWtlIHNlY3Rpb24sIGJ1dCBpdHMgc2l6ZSBpcyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCB0aGFuCgkgICAgICAgIC8vIHRoZSBvcmlnaW5hbCwgYXNzdW1lIGl0J3MgYSBmYWxzZSBwb3NpdGl2ZQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdICsgc3RhdGVDb3VudFszXSArCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgaXMgY2FsbGVkIHdoZW4gYSBob3Jpem9udGFsIHNjYW4gZmluZHMgYSBwb3NzaWJsZSBhbGlnbm1lbnQgcGF0dGVybi4gSXQgd2lsbAoJICAgICAqIGNyb3NzIGNoZWNrIHdpdGggYSB2ZXJ0aWNhbCBzY2FuLCBhbmQgaWYgc3VjY2Vzc2Z1bCwgd2lsbCwgYWgsIGNyb3NzLWNyb3NzLWNoZWNrCgkgICAgICogd2l0aCBhbm90aGVyIGhvcml6b250YWwgc2Nhbi4gVGhpcyBpcyBuZWVkZWQgcHJpbWFyaWx5IHRvIGxvY2F0ZSB0aGUgcmVhbCBob3Jpem9udGFsCgkgICAgICogY2VudGVyIG9mIHRoZSBwYXR0ZXJuIGluIGNhc2VzIG9mIGV4dHJlbWUgc2tldy4KCSAgICAgKiBBbmQgdGhlbiB3ZSBjcm9zcy1jcm9zcy1jcm9zcyBjaGVjayB3aXRoIGFub3RoZXIgZGlhZ29uYWwgc2Nhbi48L3A+CgkgICAgICoKCSAgICAgKiA8cD5JZiB0aGF0IHN1Y2NlZWRzIHRoZSBmaW5kZXIgcGF0dGVybiBsb2NhdGlvbiBpcyBhZGRlZCB0byBhIGxpc3QgdGhhdCB0cmFja3MKCSAgICAgKiB0aGUgbnVtYmVyIG9mIHRpbWVzIGVhY2ggbG9jYXRpb24gaGFzIGJlZW4gbmVhcmx5LW1hdGNoZWQgYXMgYSBmaW5kZXIgcGF0dGVybi4KCSAgICAgKiBFYWNoIGFkZGl0aW9uYWwgZmluZCBpcyBtb3JlIGV2aWRlbmNlIHRoYXQgdGhlIGxvY2F0aW9uIGlzIGluIGZhY3QgYSBmaW5kZXIKCSAgICAgKiBwYXR0ZXJuIGNlbnRlcgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXRlQ291bnQgcmVhZGluZyBzdGF0ZSBtb2R1bGUgY291bnRzIGZyb20gaG9yaXpvbnRhbCBzY2FuCgkgICAgICogQHBhcmFtIGkgcm93IHdoZXJlIGZpbmRlciBwYXR0ZXJuIG1heSBiZSBmb3VuZAoJICAgICAqIEBwYXJhbSBqIGVuZCBvZiBwb3NzaWJsZSBmaW5kZXIgcGF0dGVybiBpbiByb3cKCSAgICAgKiBAcGFyYW0gcHVyZUJhcmNvZGUgdHJ1ZSBpZiBpbiAicHVyZSBiYXJjb2RlIiBtb2RlCgkgICAgICogQHJldHVybiB0cnVlIGlmIGEgZmluZGVyIHBhdHRlcm4gY2FuZGlkYXRlIHdhcyBmb3VuZCB0aGlzIHRpbWUKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYW5kbGVQb3NzaWJsZUNlbnRlciA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBpIC8qaW50Ki8sIGogLyppbnQqLywgcHVyZUJhcmNvZGUpIHsKCSAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXSArIHN0YXRlQ291bnRbM10gKwoJICAgICAgICAgICAgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgdmFyIGNlbnRlckogPSBGaW5kZXJQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaik7CgkgICAgICAgIHZhciBjZW50ZXJJID0gdGhpcy5jcm9zc0NoZWNrVmVydGljYWwoaSwgLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCBzdGF0ZUNvdW50WzJdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICAvLyBSZS1jcm9zcyBjaGVjawoJICAgICAgICAgICAgY2VudGVySiA9IHRoaXMuY3Jvc3NDaGVja0hvcml6b250YWwoLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCAvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIHN0YXRlQ291bnRbMl0sIHN0YXRlQ291bnRUb3RhbCk7CgkgICAgICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckopICYmCgkgICAgICAgICAgICAgICAgKCFwdXJlQmFyY29kZSB8fCB0aGlzLmNyb3NzQ2hlY2tEaWFnb25hbCgvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIC8qKGludCkgKi8gTWF0aC5mbG9vcihjZW50ZXJKKSwgc3RhdGVDb3VudFsyXSwgc3RhdGVDb3VudFRvdGFsKSkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IHN0YXRlQ291bnRUb3RhbCAvIDcuMDsKCSAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXJzID0gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGhfMSA9IHBvc3NpYmxlQ2VudGVycy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoXzE7IGluZGV4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHBvc3NpYmxlQ2VudGVyc1tpbmRleF07CgkgICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIGFib3V0IHRoZSBzYW1lIGNlbnRlciBhbmQgbW9kdWxlIHNpemU6CgkgICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXIuYWJvdXRFcXVhbHMoZXN0aW1hdGVkTW9kdWxlU2l6ZSwgY2VudGVySSwgY2VudGVySikpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVyc1tpbmRleF0gPSBjZW50ZXIuY29tYmluZUVzdGltYXRlKGNlbnRlckksIGNlbnRlckosIGVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBuZXcgRmluZGVyUGF0dGVybl8xLmRlZmF1bHQoY2VudGVySiwgY2VudGVySSwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5wdXNoKHBvaW50KTsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrLmZvdW5kUG9zc2libGVSZXN1bHRQb2ludChwb2ludCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2Ygcm93cyB3ZSBjb3VsZCBzYWZlbHkgc2tpcCBkdXJpbmcgc2Nhbm5pbmcsIGJhc2VkIG9uIHRoZSBmaXJzdAoJICAgICAqICAgICAgICAgdHdvIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBsb2NhdGVkLiBJbiBzb21lIGNhc2VzIHRoZWlyIHBvc2l0aW9uIHdpbGwKCSAgICAgKiAgICAgICAgIGFsbG93IHVzIHRvIGluZmVyIHRoYXQgdGhlIHRoaXJkIHBhdHRlcm4gbXVzdCBsaWUgYmVsb3cgYSBjZXJ0YWluIHBvaW50IGZhcnRoZXIKCSAgICAgKiAgICAgICAgIGRvd24gaW4gdGhlIGltYWdlLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmZpbmRSb3dTa2lwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKG1heCA8PSAxKSB7CgkgICAgICAgICAgICByZXR1cm4gMDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBudWxsOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gX2MudmFsdWU7CgkgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RDb25maXJtZWRDZW50ZXIgPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBjZW50ZXI7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHR3byBjb25maXJtZWQgY2VudGVycwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93IGZhciBkb3duIGNhbiB3ZSBza2lwIGJlZm9yZSByZXN1bWluZyBsb29raW5nIGZvciB0aGUgbmV4dAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF0dGVybj8gSW4gdGhlIHdvcnN0IGNhc2UsIG9ubHkgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gdGhlIHggLyB5IGNvb3JkaW5hdGVzIG9mIHRoZSB0d28gY2VudGVycy4KCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlcmUgeW91IGZpbmQgdG9wIGxlZnQgbGFzdC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzU2tpcHBlZCA9IHRydWU7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLyooaW50KSAqLyBNYXRoLmZsb29yKChNYXRoLmFicyhmaXJzdENvbmZpcm1lZENlbnRlci5nZXRYKCkgLSBjZW50ZXIuZ2V0WCgpKSAtCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoZmlyc3RDb25maXJtZWRDZW50ZXIuZ2V0WSgpIC0gY2VudGVyLmdldFkoKSkpIC8gMik7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZmYgd2UgaGF2ZSBmb3VuZCBhdCBsZWFzdCAzIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZAoJICAgICAqICAgICAgICAgYXQgbGVhc3Qge0BsaW5rICNDRU5URVJfUVVPUlVNfSB0aW1lcyBlYWNoLCBhbmQsIHRoZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgb2YgdGhlCgkgICAgICogICAgICAgICBjYW5kaWRhdGVzIGlzICJwcmV0dHkgc2ltaWxhciIKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8yLCBfYSwgZV8zLCBfYjsKCSAgICAgICAgdmFyIGNvbmZpcm1lZENvdW50ID0gMDsKCSAgICAgICAgdmFyIHRvdGFsTW9kdWxlU2l6ZSA9IDAuMDsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZC52YWx1ZTsKCSAgICAgICAgICAgICAgICBpZiAocGF0dGVybi5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBjb25maXJtZWRDb3VudCsrOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcGF0dGVybi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvbmZpcm1lZENvdW50IDwgMykgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIE9LLCB3ZSBoYXZlIGF0IGxlYXN0IDMgY29uZmlybWVkIGNlbnRlcnMsIGJ1dCwgaXQncyBwb3NzaWJsZSB0aGF0IG9uZSBpcyBhICJmYWxzZSBwb3NpdGl2ZSIKCSAgICAgICAgLy8gYW5kIHRoYXQgd2UgbmVlZCB0byBrZWVwIGxvb2tpbmcuIFdlIGRldGVjdCB0aGlzIGJ5IGFza2luZyBpZiB0aGUgZXN0aW1hdGVkIG1vZHVsZSBzaXplcwoJICAgICAgICAvLyB2YXJ5IHRvbyBtdWNoLiBXZSBhcmJpdHJhcmlseSBzYXkgdGhhdCB3aGVuIHRoZSB0b3RhbCBkZXZpYXRpb24gZnJvbSBhdmVyYWdlIGV4Y2VlZHMKCSAgICAgICAgLy8gNSUgb2YgdGhlIHRvdGFsIG1vZHVsZSBzaXplIGVzdGltYXRlcywgaXQncyB0b28gbXVjaC4KCSAgICAgICAgdmFyIGF2ZXJhZ2UgPSB0b3RhbE1vZHVsZVNpemUgLyBtYXg7CgkgICAgICAgIHZhciB0b3RhbERldmlhdGlvbiA9IDAuMDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9lID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZi52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbERldmlhdGlvbiArPSBNYXRoLmFicyhwYXR0ZXJuLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRvdGFsRGV2aWF0aW9uIDw9IDAuMDUgKiB0b3RhbE1vZHVsZVNpemU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSAzIGJlc3Qge0BsaW5rIEZpbmRlclBhdHRlcm59cyBmcm9tIG91ciBsaXN0IG9mIGNhbmRpZGF0ZXMuIFRoZSAiYmVzdCIgYXJlCgkgICAgICogICAgICAgICB0aG9zZSB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZCBhdCBsZWFzdCB7QGxpbmsgI0NFTlRFUl9RVU9SVU19IHRpbWVzLCBhbmQgd2hvc2UgbW9kdWxlCgkgICAgICogICAgICAgICBzaXplIGRpZmZlcnMgZnJvbSB0aGUgYXZlcmFnZSBhbW9uZyB0aG9zZSBwYXR0ZXJucyB0aGUgbGVhc3QKCSAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIDMgc3VjaCBmaW5kZXIgcGF0dGVybnMgZG8gbm90IGV4aXN0CgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuc2VsZWN0QmVzdFBhdHRlcm5zID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV80LCBfYSwgZV81LCBfYjsKCSAgICAgICAgdmFyIHN0YXJ0U2l6ZSA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKHN0YXJ0U2l6ZSA8IDMpIHsKCSAgICAgICAgICAgIC8vIENvdWxkbid0IGZpbmQgZW5vdWdoIGZpbmRlciBwYXR0ZXJucwoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBvc3NpYmxlQ2VudGVycyA9IHRoaXMucG9zc2libGVDZW50ZXJzOwoJICAgICAgICB2YXIgYXZlcmFnZTsKCSAgICAgICAgLy8gRmlsdGVyIG91dGxpZXIgcG9zc2liaWxpdGllcyB3aG9zZSBtb2R1bGUgc2l6ZSBpcyB0b28gZGlmZmVyZW50CgkgICAgICAgIGlmIChzdGFydFNpemUgPiAzKSB7CgkgICAgICAgICAgICAvLyBCdXQgd2UgY2FuIG9ubHkgYWZmb3JkIHRvIGRvIHNvIGlmIHdlIGhhdmUgYXQgbGVhc3QgNCBwb3NzaWJpbGl0aWVzIHRvIGNob29zZSBmcm9tCgkgICAgICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMC4wOwoJICAgICAgICAgICAgdmFyIHNxdWFyZSA9IDAuMDsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IF9kLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGNlbnRlci5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgICAgIHRvdGFsTW9kdWxlU2l6ZSArPSBzaXplOwoJICAgICAgICAgICAgICAgICAgICBzcXVhcmUgKz0gc2l6ZSAqIHNpemU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH0KCSAgICAgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYXZlcmFnZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIHN0YXJ0U2l6ZTsKCSAgICAgICAgICAgIHZhciBzdGREZXYgPSBNYXRoLnNxcnQoc3F1YXJlIC8gc3RhcnRTaXplIC0gYXZlcmFnZSAqIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzLnNvcnQoCgkgICAgICAgICAgICAvKioKCSAgICAgICAgICAgICAqIDxwPk9yZGVycyBieSBmdXJ0aGVzdCBmcm9tIGF2ZXJhZ2U8L3A+CgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIEZ1cnRoZXN0RnJvbUF2ZXJhZ2VDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICB2YXIgZEEgPSBNYXRoLmFicyhjZW50ZXIyLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgICAgIHZhciBkQiA9IE1hdGguYWJzKGNlbnRlcjEuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSk7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAtMSA6IGRBID4gZEIgPyAxIDogMDsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgICAgdmFyIGxpbWl0ID0gTWF0aC5tYXgoMC4yICogYXZlcmFnZSwgc3RkRGV2KTsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zc2libGVDZW50ZXJzLmxlbmd0aCAmJiBwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMzsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBwb3NzaWJsZUNlbnRlcnNbaV07CgkgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhdHRlcm4uZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSkgPiBsaW1pdCkgewoJICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKGksIDEpOwoJICAgICAgICAgICAgICAgICAgICBpLS07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGlmIChwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMykgewoJICAgICAgICAgICAgLy8gVGhyb3cgYXdheSBhbGwgYnV0IHRob3NlIGZpcnN0IHNpemUgY2FuZGlkYXRlIHBvaW50cyB3ZSBmb3VuZC4KCSAgICAgICAgICAgIHZhciB0b3RhbE1vZHVsZVNpemUgPSAwLjA7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGZvciAodmFyIHBvc3NpYmxlQ2VudGVyc18xID0gX192YWx1ZXMocG9zc2libGVDZW50ZXJzKSwgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKTsgIXBvc3NpYmxlQ2VudGVyc18xXzEuZG9uZTsgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXIgPSBwb3NzaWJsZUNlbnRlcnNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcG9zc2libGVDZW50ZXIuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9CgkgICAgICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVDZW50ZXJzXzFfMSAmJiAhcG9zc2libGVDZW50ZXJzXzFfMS5kb25lICYmIChfYiA9IHBvc3NpYmxlQ2VudGVyc18xLnJldHVybikpIF9iLmNhbGwocG9zc2libGVDZW50ZXJzXzEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhdmVyYWdlID0gdG90YWxNb2R1bGVTaXplIC8gcG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5zb3J0KAoJICAgICAgICAgICAgLyoqCgkgICAgICAgICAgICAgKiA8cD5PcmRlcnMgYnkge0BsaW5rIEZpbmRlclBhdHRlcm4jZ2V0Q291bnQoKX0sIGRlc2NlbmRpbmcuPC9wPgoJICAgICAgICAgICAgICovCgkgICAgICAgICAgICAvLyBDZW50ZXJDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICBpZiAoY2VudGVyMi5nZXRDb3VudCgpID09PSBjZW50ZXIxLmdldENvdW50KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRBID0gTWF0aC5hYnMoY2VudGVyMi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRCID0gTWF0aC5hYnMoY2VudGVyMS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAxIDogZEEgPiBkQiA/IC0xIDogMDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZW50ZXIyLmdldENvdW50KCkgLSBjZW50ZXIxLmdldENvdW50KCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKDMpOyAvLyB0aGlzIGlzIG5vdCByZWFseSBuZWNlc3NhcnkgYXMgd2Ugb25seSByZXR1cm4gZmlyc3QgMyBhbnl3YXkKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gWwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzBdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzFdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzJdCgkgICAgICAgIF07CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLkNFTlRFUl9RVU9SVU0gPSAyOwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuTUlOX1NLSVAgPSAzOyAvLyAxIHBpeGVsL21vZHVsZSB0aW1lcyAzIG1vZHVsZXMvY2VudGVyCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUyA9IDU3OyAvLyBzdXBwb3J0IHVwIHRvIHZlcnNpb24gMTAgZm9yIG1vYmlsZSBjbGllbnRzCgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJRmluZGVyUGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuRmluZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV0ZWN0b3IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIE1hdGhVdGlsc18xID0gTWF0aFV0aWxzJDE7Cgl2YXIgRGV0ZWN0b3JSZXN1bHRfMSA9IERldGVjdG9yUmVzdWx0JDE7CgkvLyBpbXBvcnQgR3JpZFNhbXBsZXIgZnJvbSAnLi4vLi4vY29tbW9uL0dyaWRTYW1wbGVyJzsKCXZhciBHcmlkU2FtcGxlckluc3RhbmNlXzEgPSBHcmlkU2FtcGxlckluc3RhbmNlJDE7Cgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtJDE7Cgl2YXIgRGVjb2RlSGludFR5cGVfMSQxID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdFBvaW50XzEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIFZlcnNpb25fMSA9IFZlcnNpb24kMTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyXzEgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDE7Cgl2YXIgRmluZGVyUGF0dGVybkZpbmRlcl8xID0gRmluZGVyUGF0dGVybkZpbmRlciQxOwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgbG9naWMgdGhhdCBjYW4gZGV0ZWN0IGEgUVIgQ29kZSBpbiBhbiBpbWFnZSwgZXZlbiBpZiB0aGUgUVIgQ29kZQoJICogaXMgcm90YXRlZCBvciBza2V3ZWQsIG9yIHBhcnRpYWxseSBvYnNjdXJlZC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERldGVjdG9yKGltYWdlKSB7CgkgICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTsKCSAgICB9CgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5pbWFnZTsKCSAgICB9OwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXRSZXN1bHRQb2ludENhbGxiYWNrID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBkZXRlY3QoKTogRGV0ZWN0b3JSZXN1bHQgLyp0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZXRlY3QobnVsbCkKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGhpbnRzIG9wdGlvbmFsIGhpbnRzIHRvIGRldGVjdG9yCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAoaGludHMpIHsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gKGhpbnRzID09PSBudWxsIHx8IGhpbnRzID09PSB1bmRlZmluZWQpID8gbnVsbCA6CgkgICAgICAgICAgICAvKihSZXN1bHRQb2ludENhbGxiYWNrKSAqLyBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQxLmRlZmF1bHQuTkVFRF9SRVNVTFRfUE9JTlRfQ0FMTEJBQ0spOwoJICAgICAgICB2YXIgZmluZGVyID0gbmV3IEZpbmRlclBhdHRlcm5GaW5kZXJfMS5kZWZhdWx0KHRoaXMuaW1hZ2UsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHZhciBpbmZvID0gZmluZGVyLmZpbmQoaGludHMpOwoJICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzRmluZGVyUGF0dGVybkluZm8oaW5mbyk7CgkgICAgfTsKCSAgICBEZXRlY3Rvci5wcm90b3R5cGUucHJvY2Vzc0ZpbmRlclBhdHRlcm5JbmZvID0gZnVuY3Rpb24gKGluZm8pIHsKCSAgICAgICAgdmFyIHRvcExlZnQgPSBpbmZvLmdldFRvcExlZnQoKTsKCSAgICAgICAgdmFyIHRvcFJpZ2h0ID0gaW5mby5nZXRUb3BSaWdodCgpOwoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IGluZm8uZ2V0Qm90dG9tTGVmdCgpOwoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMuY2FsY3VsYXRlTW9kdWxlU2l6ZSh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCk7CgkgICAgICAgIGlmIChtb2R1bGVTaXplIDwgMS4wKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ05vIHBhdHRlcm4gZm91bmQgaW4gcHJvY2Nlc3MgZmluZGVyLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkaW1lbnNpb24gPSBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHByb3Zpc2lvbmFsVmVyc2lvbiA9IFZlcnNpb25fMS5kZWZhdWx0LmdldFByb3Zpc2lvbmFsVmVyc2lvbkZvckRpbWVuc2lvbihkaW1lbnNpb24pOwoJICAgICAgICB2YXIgbW9kdWxlc0JldHdlZW5GUENlbnRlcnMgPSBwcm92aXNpb25hbFZlcnNpb24uZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpIC0gNzsKCSAgICAgICAgdmFyIGFsaWdubWVudFBhdHRlcm4gPSBudWxsOwoJICAgICAgICAvLyBBbnl0aGluZyBhYm92ZSB2ZXJzaW9uIDEgaGFzIGFuIGFsaWdubWVudCBwYXR0ZXJuCgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24uZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMoKS5sZW5ndGggPiAwKSB7CgkgICAgICAgICAgICAvLyBHdWVzcyB3aGVyZSBhICJib3R0b20gcmlnaHQiIGZpbmRlciBwYXR0ZXJuIHdvdWxkIGhhdmUgYmVlbgoJICAgICAgICAgICAgdmFyIGJvdHRvbVJpZ2h0WCA9IHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpICsgYm90dG9tTGVmdC5nZXRYKCk7CgkgICAgICAgICAgICB2YXIgYm90dG9tUmlnaHRZID0gdG9wUmlnaHQuZ2V0WSgpIC0gdG9wTGVmdC5nZXRZKCkgKyBib3R0b21MZWZ0LmdldFkoKTsKCSAgICAgICAgICAgIC8vIEVzdGltYXRlIHRoYXQgYWxpZ25tZW50IHBhdHRlcm4gaXMgY2xvc2VyIGJ5IDMgbW9kdWxlcwoJICAgICAgICAgICAgLy8gZnJvbSAiYm90dG9tIHJpZ2h0IiB0byBrbm93biB0b3AgbGVmdCBsb2NhdGlvbgoJICAgICAgICAgICAgdmFyIGNvcnJlY3Rpb25Ub1RvcExlZnQgPSAxLjAgLSAzLjAgLyBtb2R1bGVzQmV0d2VlbkZQQ2VudGVyczsKCSAgICAgICAgICAgIHZhciBlc3RBbGlnbm1lbnRYID0gLyooaW50KSAqLyBNYXRoLmZsb29yKHRvcExlZnQuZ2V0WCgpICsgY29ycmVjdGlvblRvVG9wTGVmdCAqIChib3R0b21SaWdodFggLSB0b3BMZWZ0LmdldFgoKSkpOwoJICAgICAgICAgICAgdmFyIGVzdEFsaWdubWVudFkgPSAvKihpbnQpICovIE1hdGguZmxvb3IodG9wTGVmdC5nZXRZKCkgKyBjb3JyZWN0aW9uVG9Ub3BMZWZ0ICogKGJvdHRvbVJpZ2h0WSAtIHRvcExlZnQuZ2V0WSgpKSk7CgkgICAgICAgICAgICAvLyBLaW5kIG9mIGFyYml0cmFyeSAtLSBleHBhbmQgc2VhcmNoIHJhZGl1cyBiZWZvcmUgZ2l2aW5nIHVwCgkgICAgICAgICAgICBmb3IgKHZhciBpID0gNDsgaSA8PSAxNjsgaSA8PD0gMSkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGFsaWdubWVudFBhdHRlcm4gPSB0aGlzLmZpbmRBbGlnbm1lbnRJblJlZ2lvbihtb2R1bGVTaXplLCBlc3RBbGlnbm1lbnRYLCBlc3RBbGlnbm1lbnRZLCBpKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGNhdGNoIChyZSAvKk5vdEZvdW5kRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCEocmUgaW5zdGFuY2VvZiBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHJlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIC8vIHRyeSBuZXh0IHJvdW5kCgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYWxpZ25tZW50IHBhdHRlcm4uLi4gd2VsbCB0cnkgYW55d2F5IHdpdGhvdXQgaXQKCSAgICAgICAgfQoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gRGV0ZWN0b3IuY3JlYXRlVHJhbnNmb3JtKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBhbGlnbm1lbnRQYXR0ZXJuLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgYml0cyA9IERldGVjdG9yLnNhbXBsZUdyaWQodGhpcy5pbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgcG9pbnRzOwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgcG9pbnRzID0gW2JvdHRvbUxlZnQsIHRvcExlZnQsIHRvcFJpZ2h0XTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHBvaW50cyA9IFtib3R0b21MZWZ0LCB0b3BMZWZ0LCB0b3BSaWdodCwgYWxpZ25tZW50UGF0dGVybl07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBEZXRlY3RvclJlc3VsdF8xLmRlZmF1bHQoYml0cywgcG9pbnRzKTsKCSAgICB9OwoJICAgIERldGVjdG9yLmNyZWF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgYWxpZ25tZW50UGF0dGVybiwgZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGRpbU1pbnVzVGhyZWUgPSBkaW1lbnNpb24gLSAzLjU7CgkgICAgICAgIHZhciBib3R0b21SaWdodFg7IC8qZmxvYXQqLwoJICAgICAgICB2YXIgYm90dG9tUmlnaHRZOyAvKmZsb2F0Ki8KCSAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0WDsgLypmbG9hdCovCgkgICAgICAgIHZhciBzb3VyY2VCb3R0b21SaWdodFk7IC8qZmxvYXQqLwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiAhPT0gbnVsbCkgewoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gYWxpZ25tZW50UGF0dGVybi5nZXRYKCk7CgkgICAgICAgICAgICBib3R0b21SaWdodFkgPSBhbGlnbm1lbnRQYXR0ZXJuLmdldFkoKTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WCA9IGRpbU1pbnVzVGhyZWUgLSAzLjA7CgkgICAgICAgICAgICBzb3VyY2VCb3R0b21SaWdodFkgPSBzb3VyY2VCb3R0b21SaWdodFg7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBEb24ndCBoYXZlIGFuIGFsaWdubWVudCBwYXR0ZXJuLCBqdXN0IG1ha2UgdXAgdGhlIGJvdHRvbS1yaWdodCBwb2ludAoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gKHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpKSArIGJvdHRvbUxlZnQuZ2V0WCgpOwoJICAgICAgICAgICAgYm90dG9tUmlnaHRZID0gKHRvcFJpZ2h0LmdldFkoKSAtIHRvcExlZnQuZ2V0WSgpKSArIGJvdHRvbUxlZnQuZ2V0WSgpOwoJICAgICAgICAgICAgc291cmNlQm90dG9tUmlnaHRYID0gZGltTWludXNUaHJlZTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WSA9IGRpbU1pbnVzVGhyZWU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtXzEuZGVmYXVsdC5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsKDMuNSwgMy41LCBkaW1NaW51c1RocmVlLCAzLjUsIHNvdXJjZUJvdHRvbVJpZ2h0WCwgc291cmNlQm90dG9tUmlnaHRZLCAzLjUsIGRpbU1pbnVzVGhyZWUsIHRvcExlZnQuZ2V0WCgpLCB0b3BMZWZ0LmdldFkoKSwgdG9wUmlnaHQuZ2V0WCgpLCB0b3BSaWdodC5nZXRZKCksIGJvdHRvbVJpZ2h0WCwgYm90dG9tUmlnaHRZLCBib3R0b21MZWZ0LmdldFgoKSwgYm90dG9tTGVmdC5nZXRZKCkpOwoJICAgIH07CgkgICAgRGV0ZWN0b3Iuc2FtcGxlR3JpZCA9IGZ1bmN0aW9uIChpbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24gLyppbnQqLykgewoJICAgICAgICB2YXIgc2FtcGxlciA9IEdyaWRTYW1wbGVySW5zdGFuY2VfMS5kZWZhdWx0LmdldEluc3RhbmNlKCk7CgkgICAgICAgIHJldHVybiBzYW1wbGVyLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtKGltYWdlLCBkaW1lbnNpb24sIGRpbWVuc2lvbiwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkNvbXB1dGVzIHRoZSBkaW1lbnNpb24gKG51bWJlciBvZiBtb2R1bGVzIG9uIGEgc2l6ZSkgb2YgdGhlIFFSIENvZGUgYmFzZWQgb24gdGhlIHBvc2l0aW9uCgkgICAgICogb2YgdGhlIGZpbmRlciBwYXR0ZXJucyBhbmQgZXN0aW1hdGVkIG1vZHVsZSBzaXplLjwvcD4KCSAgICAgKi8KCSAgICBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uID0gZnVuY3Rpb24gKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdGx0ckNlbnRlcnNEaW1lbnNpb24gPSBNYXRoVXRpbHNfMS5kZWZhdWx0LnJvdW5kKFJlc3VsdFBvaW50XzEuZGVmYXVsdC5kaXN0YW5jZSh0b3BMZWZ0LCB0b3BSaWdodCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHRsYmxDZW50ZXJzRGltZW5zaW9uID0gTWF0aFV0aWxzXzEuZGVmYXVsdC5yb3VuZChSZXN1bHRQb2ludF8xLmRlZmF1bHQuZGlzdGFuY2UodG9wTGVmdCwgYm90dG9tTGVmdCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IE1hdGguZmxvb3IoKHRsdHJDZW50ZXJzRGltZW5zaW9uICsgdGxibENlbnRlcnNEaW1lbnNpb24pIC8gMikgKyA3OwoJICAgICAgICBzd2l0Y2ggKGRpbWVuc2lvbiAmIDB4MDMpIHsgLy8gbW9kIDQKCSAgICAgICAgICAgIGNhc2UgMDoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24rKzsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIC8vIDE/IGRvIG5vdGhpbmcKCSAgICAgICAgICAgIGNhc2UgMjoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24tLTsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIGNhc2UgMzoKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ0RpbWVuc2lvbnMgY291bGQgYmUgbm90IGZvdW5kLicpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBkaW1lbnNpb247CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5Db21wdXRlcyBhbiBhdmVyYWdlIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBiYXNlZCBvbiBlc3RpbWF0ZWQgZGVyaXZlZCBmcm9tIHRoZSBwb3NpdGlvbnMKCSAgICAgKiBvZiB0aGUgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB0b3BMZWZ0IGRldGVjdGVkIHRvcC1sZWZ0IGZpbmRlciBwYXR0ZXJuIGNlbnRlcgoJICAgICAqIEBwYXJhbSB0b3BSaWdodCBkZXRlY3RlZCB0b3AtcmlnaHQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHBhcmFtIGJvdHRvbUxlZnQgZGV0ZWN0ZWQgYm90dG9tLWxlZnQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHJldHVybiBlc3RpbWF0ZWQgbW9kdWxlIHNpemUKCSAgICAgKi8KCSAgICBEZXRlY3Rvci5wcm90b3R5cGUuY2FsY3VsYXRlTW9kdWxlU2l6ZSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCkgewoJICAgICAgICAvLyBUYWtlIHRoZSBhdmVyYWdlCgkgICAgICAgIHJldHVybiAodGhpcy5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5KHRvcExlZnQsIHRvcFJpZ2h0KSArCgkgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU1vZHVsZVNpemVPbmVXYXkodG9wTGVmdCwgYm90dG9tTGVmdCkpIC8gMi4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RXN0aW1hdGVzIG1vZHVsZSBzaXplIGJhc2VkIG9uIHR3byBmaW5kZXIgcGF0dGVybnMgLS0gaXQgdXNlcwoJICAgICAqIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuQm90aFdheXMoaW50LCBpbnQsIGludCwgaW50KX0gdG8gZmlndXJlIHRoZQoJICAgICAqIHdpZHRoIG9mIGVhY2gsIG1lYXN1cmluZyBhbG9uZyB0aGUgYXhpcyBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5ID0gZnVuY3Rpb24gKHBhdHRlcm4sIG90aGVyUGF0dGVybikgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZUVzdDEgPSB0aGlzLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzKC8qKGludCkgKi8gTWF0aC5mbG9vcihwYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRZKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRZKCkpKTsKCSAgICAgICAgdmFyIG1vZHVsZVNpemVFc3QyID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW5Cb3RoV2F5cygvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFkoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKHBhdHRlcm4uZ2V0WSgpKSk7CgkgICAgICAgIGlmIChpc05hTihtb2R1bGVTaXplRXN0MSkpIHsKCSAgICAgICAgICAgIHJldHVybiBtb2R1bGVTaXplRXN0MiAvIDcuMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaXNOYU4obW9kdWxlU2l6ZUVzdDIpKSB7CgkgICAgICAgICAgICByZXR1cm4gbW9kdWxlU2l6ZUVzdDEgLyA3LjA7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQXZlcmFnZSB0aGVtLCBhbmQgZGl2aWRlIGJ5IDcgc2luY2Ugd2UndmUgY291bnRlZCB0aGUgd2lkdGggb2YgMyBibGFjayBtb2R1bGVzLAoJICAgICAgICAvLyBhbmQgMSB3aGl0ZSBhbmQgMSBibGFjayBtb2R1bGUgb24gZWl0aGVyIHNpZGUuIEVyZ28sIGRpdmlkZSBzdW0gYnkgMTQuCgkgICAgICAgIHJldHVybiAobW9kdWxlU2l6ZUVzdDEgKyBtb2R1bGVTaXplRXN0MikgLyAxNC4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuKGludCwgaW50LCBpbnQsIGludCl9OyBjb21wdXRlcyB0aGUgdG90YWwgd2lkdGggb2YKCSAgICAgKiBhIGZpbmRlciBwYXR0ZXJuIGJ5IGxvb2tpbmcgZm9yIGEgYmxhY2std2hpdGUtYmxhY2sgcnVuIGZyb20gdGhlIGNlbnRlciBpbiB0aGUgZGlyZWN0aW9uCgkgICAgICogb2YgYW5vdGhlciBwb2ludCAoYW5vdGhlciBmaW5kZXIgcGF0dGVybiBjZW50ZXIpLCBhbmQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiB0b28uCgkgICAgICovCgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzID0gZnVuY3Rpb24gKGZyb21YIC8qaW50Ki8sIGZyb21ZIC8qaW50Ki8sIHRvWCAvKmludCovLCB0b1kgLyppbnQqLykgewoJICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSk7CgkgICAgICAgIC8vIE5vdyBjb3VudCBvdGhlciB3YXkgLS0gZG9uJ3QgcnVuIG9mZiBpbWFnZSB0aG91Z2ggb2YgY291cnNlCgkgICAgICAgIHZhciBzY2FsZSA9IDEuMDsKCSAgICAgICAgdmFyIG90aGVyVG9YID0gZnJvbVggLSAodG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAob3RoZXJUb1ggPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21YIC8gLyooZmxvYXQpICovIChmcm9tWCAtIG90aGVyVG9YKTsKCSAgICAgICAgICAgIG90aGVyVG9YID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWCA+PSB0aGlzLmltYWdlLmdldFdpZHRoKCkpIHsKCSAgICAgICAgICAgIHNjYWxlID0gKHRoaXMuaW1hZ2UuZ2V0V2lkdGgoKSAtIDEgLSBmcm9tWCkgLyAvKihmbG9hdCkgKi8gKG90aGVyVG9YIC0gZnJvbVgpOwoJICAgICAgICAgICAgb3RoZXJUb1ggPSB0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlclRvWSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihmcm9tWSAtICh0b1kgLSBmcm9tWSkgKiBzY2FsZSk7CgkgICAgICAgIHNjYWxlID0gMS4wOwoJICAgICAgICBpZiAob3RoZXJUb1kgPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21ZIC8gLyooZmxvYXQpICovIChmcm9tWSAtIG90aGVyVG9ZKTsKCSAgICAgICAgICAgIG90aGVyVG9ZID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWSA+PSB0aGlzLmltYWdlLmdldEhlaWdodCgpKSB7CgkgICAgICAgICAgICBzY2FsZSA9ICh0aGlzLmltYWdlLmdldEhlaWdodCgpIC0gMSAtIGZyb21ZKSAvIC8qKGZsb2F0KSAqLyAob3RoZXJUb1kgLSBmcm9tWSk7CgkgICAgICAgICAgICBvdGhlclRvWSA9IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIG90aGVyVG9YID0gLyooaW50KSAqLyBNYXRoLmZsb29yKGZyb21YICsgKG90aGVyVG9YIC0gZnJvbVgpICogc2NhbGUpOwoJICAgICAgICByZXN1bHQgKz0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCBvdGhlclRvWCwgb3RoZXJUb1kpOwoJICAgICAgICAvLyBNaWRkbGUgcGl4ZWwgaXMgZG91YmxlLWNvdW50ZWQgdGhpcyB3YXk7IHN1YnRyYWN0IDEKCSAgICAgICAgcmV0dXJuIHJlc3VsdCAtIDEuMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHRyYWNlcyBhIGxpbmUgZnJvbSBhIHBvaW50IGluIHRoZSBpbWFnZSwgaW4gdGhlIGRpcmVjdGlvbiB0b3dhcmRzIGFub3RoZXIgcG9pbnQuCgkgICAgICogSXQgYmVnaW5zIGluIGEgYmxhY2sgcmVnaW9uLCBhbmQga2VlcHMgZ29pbmcgdW50aWwgaXQgZmluZHMgd2hpdGUsIHRoZW4gYmxhY2ssIHRoZW4gd2hpdGUgYWdhaW4uCgkgICAgICogSXQgcmVwb3J0cyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc3RhcnQgdG8gdGhpcyBwb2ludC48L3A+CgkgICAgICoKCSAgICAgKiA8cD5UaGlzIGlzIHVzZWQgd2hlbiBmaWd1cmluZyBvdXQgaG93IHdpZGUgYSBmaW5kZXIgcGF0dGVybiBpcywgd2hlbiB0aGUgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBtYXkgYmUgc2tld2VkIG9yIHJvdGF0ZWQuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4gPSBmdW5jdGlvbiAoZnJvbVggLyppbnQqLywgZnJvbVkgLyppbnQqLywgdG9YIC8qaW50Ki8sIHRvWSAvKmludCovKSB7CgkgICAgICAgIC8vIE1pbGQgdmFyaWFudCBvZiBCcmVzZW5oYW0ncyBhbGdvcml0aG0KCSAgICAgICAgLy8gc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnJlc2VuaGFtJ3NfbGluZV9hbGdvcml0aG0KCSAgICAgICAgdmFyIHN0ZWVwID0gTWF0aC5hYnModG9ZIC0gZnJvbVkpID4gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAoc3RlZXApIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZnJvbVg7CgkgICAgICAgICAgICBmcm9tWCA9IGZyb21ZOwoJICAgICAgICAgICAgZnJvbVkgPSB0ZW1wOwoJICAgICAgICAgICAgdGVtcCA9IHRvWDsKCSAgICAgICAgICAgIHRvWCA9IHRvWTsKCSAgICAgICAgICAgIHRvWSA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyh0b1kgLSBmcm9tWSk7CgkgICAgICAgIHZhciBlcnJvciA9IC1keCAvIDI7CgkgICAgICAgIHZhciB4c3RlcCA9IGZyb21YIDwgdG9YID8gMSA6IC0xOwoJICAgICAgICB2YXIgeXN0ZXAgPSBmcm9tWSA8IHRvWSA/IDEgOiAtMTsKCSAgICAgICAgLy8gSW4gYmxhY2sgcGl4ZWxzLCBsb29raW5nIGZvciB3aGl0ZSwgZmlyc3Qgb3Igc2Vjb25kIHRpbWUuCgkgICAgICAgIHZhciBzdGF0ZSA9IDA7CgkgICAgICAgIC8vIExvb3AgdXAgdW50aWwgeCA9PSB0b1gsIGJ1dCBub3QgYmV5b25kCgkgICAgICAgIHZhciB4TGltaXQgPSB0b1ggKyB4c3RlcDsKCSAgICAgICAgZm9yICh2YXIgeCA9IGZyb21YLCB5ID0gZnJvbVk7IHggIT09IHhMaW1pdDsgeCArPSB4c3RlcCkgewoJICAgICAgICAgICAgdmFyIHJlYWxYID0gc3RlZXAgPyB5IDogeDsKCSAgICAgICAgICAgIHZhciByZWFsWSA9IHN0ZWVwID8geCA6IHk7CgkgICAgICAgICAgICAvLyBEb2VzIGN1cnJlbnQgcGl4ZWwgbWVhbiB3ZSBoYXZlIG1vdmVkIHdoaXRlIHRvIGJsYWNrIG9yIHZpY2UgdmVyc2E/CgkgICAgICAgICAgICAvLyBTY2FubmluZyBibGFjayBpbiBzdGF0ZSAwLDIgYW5kIHdoaXRlIGluIHN0YXRlIDEsIHNvIGlmIHdlIGZpbmQgdGhlIHdyb25nCgkgICAgICAgICAgICAvLyBjb2xvciwgYWR2YW5jZSB0byBuZXh0IHN0YXRlIG9yIGVuZCBpZiB3ZSBhcmUgaW4gc3RhdGUgMiBhbHJlYWR5CgkgICAgICAgICAgICBpZiAoKHN0YXRlID09PSAxKSA9PT0gdGhpcy5pbWFnZS5nZXQocmVhbFgsIHJlYWxZKSkgewoJICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMikgewoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aFV0aWxzXzEuZGVmYXVsdC5kaXN0YW5jZSh4LCB5LCBmcm9tWCwgZnJvbVkpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBzdGF0ZSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZXJyb3IgKz0gZHk7CgkgICAgICAgICAgICBpZiAoZXJyb3IgPiAwKSB7CgkgICAgICAgICAgICAgICAgaWYgKHkgPT09IHRvWSkgewoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgeSArPSB5c3RlcDsKCSAgICAgICAgICAgICAgICBlcnJvciAtPSBkeDsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBGb3VuZCBibGFjay13aGl0ZS1ibGFjazsgZ2l2ZSB0aGUgYmVuZWZpdCBvZiB0aGUgZG91YnQgdGhhdCB0aGUgbmV4dCBwaXhlbCBvdXRzaWRlIHRoZSBpbWFnZQoJICAgICAgICAvLyBpcyAid2hpdGUiIHNvIHRoaXMgbGFzdCBwb2ludCBhdCAodG9YK3hTdGVwLHRvWSkgaXMgdGhlIHJpZ2h0IGVuZGluZy4gVGhpcyBpcyByZWFsbHkgYQoJICAgICAgICAvLyBzbWFsbCBhcHByb3hpbWF0aW9uOyAodG9YK3hTdGVwLHRvWSt5U3RlcCkgbWlnaHQgYmUgcmVhbGx5IGNvcnJlY3QuIElnbm9yZSB0aGlzLgoJICAgICAgICBpZiAoc3RhdGUgPT09IDIpIHsKCSAgICAgICAgICAgIHJldHVybiBNYXRoVXRpbHNfMS5kZWZhdWx0LmRpc3RhbmNlKHRvWCArIHhzdGVwLCB0b1ksIGZyb21YLCBmcm9tWSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gZWxzZSB3ZSBkaWRuJ3QgZmluZCBldmVuIGJsYWNrLXdoaXRlLWJsYWNrOyBubyBlc3RpbWF0ZSBpcyByZWFsbHkgcG9zc2libGUKCSAgICAgICAgcmV0dXJuIE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkF0dGVtcHRzIHRvIGxvY2F0ZSBhbiBhbGlnbm1lbnQgcGF0dGVybiBpbiBhIGxpbWl0ZWQgcmVnaW9uIG9mIHRoZSBpbWFnZSwgd2hpY2ggaXMKCSAgICAgKiBndWVzc2VkIHRvIGNvbnRhaW4gaXQuIFRoaXMgbWV0aG9kIHVzZXMge0BsaW5rIEFsaWdubWVudFBhdHRlcm59LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBvdmVyYWxsRXN0TW9kdWxlU2l6ZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgc28gZmFyCgkgICAgICogQHBhcmFtIGVzdEFsaWdubWVudFggeCBjb29yZGluYXRlIG9mIGNlbnRlciBvZiBhcmVhIHByb2JhYmx5IGNvbnRhaW5pbmcgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gZXN0QWxpZ25tZW50WSB5IGNvb3JkaW5hdGUgb2YgYWJvdmUKCSAgICAgKiBAcGFyYW0gYWxsb3dhbmNlRmFjdG9yIG51bWJlciBvZiBwaXhlbHMgaW4gYWxsIGRpcmVjdGlvbnMgdG8gc2VhcmNoIGZyb20gdGhlIGNlbnRlcgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kLCBvciBudWxsIG90aGVyd2lzZQoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgYW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnMgZHVyaW5nIGRldGVjdGlvbgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5maW5kQWxpZ25tZW50SW5SZWdpb24gPSBmdW5jdGlvbiAob3ZlcmFsbEVzdE1vZHVsZVNpemUgLypmbG9hdCovLCBlc3RBbGlnbm1lbnRYIC8qaW50Ki8sIGVzdEFsaWdubWVudFkgLyppbnQqLywgYWxsb3dhbmNlRmFjdG9yIC8qZmxvYXQqLykgewoJICAgICAgICAvLyBMb29rIGZvciBhbiBhbGlnbm1lbnQgcGF0dGVybiAoMyBtb2R1bGVzIGluIHNpemUpIGFyb3VuZCB3aGVyZSBpdAoJICAgICAgICAvLyBzaG91bGQgYmUKCSAgICAgICAgdmFyIGFsbG93YW5jZSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihhbGxvd2FuY2VGYWN0b3IgKiBvdmVyYWxsRXN0TW9kdWxlU2l6ZSk7CgkgICAgICAgIHZhciBhbGlnbm1lbnRBcmVhTGVmdFggPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRYIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFSaWdodFggPSBNYXRoLm1pbih0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxLCBlc3RBbGlnbm1lbnRYICsgYWxsb3dhbmNlKTsKCSAgICAgICAgaWYgKGFsaWdubWVudEFyZWFSaWdodFggLSBhbGlnbm1lbnRBcmVhTGVmdFggPCBvdmVyYWxsRXN0TW9kdWxlU2l6ZSAqIDMpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgnQWxpZ25tZW50IHRvcCBleGNlZWRzIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS4nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYWxpZ25tZW50QXJlYVRvcFkgPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRZIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFCb3R0b21ZID0gTWF0aC5taW4odGhpcy5pbWFnZS5nZXRIZWlnaHQoKSAtIDEsIGVzdEFsaWdubWVudFkgKyBhbGxvd2FuY2UpOwoJICAgICAgICBpZiAoYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSA8IG92ZXJhbGxFc3RNb2R1bGVTaXplICogMykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMS5kZWZhdWx0KCdBbGlnbm1lbnQgYm90dG9tIGV4Y2VlZHMgZXN0aW1hdGVkIG1vZHVsZSBzaXplLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhbGlnbm1lbnRGaW5kZXIgPSBuZXcgQWxpZ25tZW50UGF0dGVybkZpbmRlcl8xLmRlZmF1bHQodGhpcy5pbWFnZSwgYWxpZ25tZW50QXJlYUxlZnRYLCBhbGlnbm1lbnRBcmVhVG9wWSwgYWxpZ25tZW50QXJlYVJpZ2h0WCAtIGFsaWdubWVudEFyZWFMZWZ0WCwgYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSwgb3ZlcmFsbEVzdE1vZHVsZVNpemUsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHJldHVybiBhbGlnbm1lbnRGaW5kZXIuZmluZCgpOwoJICAgIH07CgkgICAgcmV0dXJuIERldGVjdG9yOwoJfSgpKTsKCURldGVjdG9yJDEuZGVmYXVsdCA9IERldGVjdG9yOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUVJDb2RlUmVhZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlIHsqLwoJdmFyIEJhcmNvZGVGb3JtYXRfMSA9IEJhcmNvZGVGb3JtYXQkMTsKCXZhciBCaXRNYXRyaXhfMSA9IEJpdE1hdHJpeCQxOwoJdmFyIERlY29kZUhpbnRUeXBlXzEgPSBEZWNvZGVIaW50VHlwZSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdF8xID0gUmVzdWx0JDE7Cgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlXzEgPSBSZXN1bHRNZXRhZGF0YVR5cGUkMTsKCS8vIGltcG9ydCBEZXRlY3RvclJlc3VsdCBmcm9tICcuLi9jb21tb24vRGV0ZWN0b3JSZXN1bHQnOwoJdmFyIERlY29kZXJfMSA9IERlY29kZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSA9IFFSQ29kZURlY29kZXJNZXRhRGF0YSQxOwoJdmFyIERldGVjdG9yXzEgPSBEZXRlY3RvciQxOwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5NYXA7Ki8KCS8qKgoJICogVGhpcyBpbXBsZW1lbnRhdGlvbiBjYW4gZGV0ZWN0IGFuZCBkZWNvZGUgUVIgQ29kZXMgaW4gYW4gaW1hZ2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFFSQ29kZVJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBRUkNvZGVSZWFkZXIoKSB7CgkgICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBEZWNvZGVyXzEuZGVmYXVsdCgpOwoJICAgIH0KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmdldERlY29kZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBMb2NhdGVzIGFuZCBkZWNvZGVzIGEgUVIgY29kZSBpbiBhbiBpbWFnZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gYSByZXByZXNlbnRpbmc6IHN0cmluZyB0aGUgY29udGVudCBlbmNvZGVkIGJ5IHRoZSBRUiBjb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhIFFSIGNvZGUgY2Fubm90IGJlIGZvdW5kCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYSBRUiBjb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIC8vIHB1YmxpYyBkZWNvZGUoaW1hZ2U6IEJpbmFyeUJpdG1hcCk6IFJlc3VsdCAvKnRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiwgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiAqLyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5kZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHsKCSAgICAgICAgdmFyIGRlY29kZXJSZXN1bHQ7CgkgICAgICAgIHZhciBwb2ludHM7CgkgICAgICAgIGlmIChoaW50cyAhPT0gdW5kZWZpbmVkICYmIGhpbnRzICE9PSBudWxsICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEuZGVmYXVsdC5QVVJFX0JBUkNPREUpKSB7CgkgICAgICAgICAgICB2YXIgYml0cyA9IFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMoaW1hZ2UuZ2V0QmxhY2tNYXRyaXgoKSk7CgkgICAgICAgICAgICBkZWNvZGVyUmVzdWx0ID0gdGhpcy5kZWNvZGVyLmRlY29kZUJpdE1hdHJpeChiaXRzLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGRldGVjdG9yUmVzdWx0ID0gbmV3IERldGVjdG9yXzEuZGVmYXVsdChpbWFnZS5nZXRCbGFja01hdHJpeCgpKS5kZXRlY3QoaGludHMpOwoJICAgICAgICAgICAgZGVjb2RlclJlc3VsdCA9IHRoaXMuZGVjb2Rlci5kZWNvZGVCaXRNYXRyaXgoZGV0ZWN0b3JSZXN1bHQuZ2V0Qml0cygpLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBkZXRlY3RvclJlc3VsdC5nZXRQb2ludHMoKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB0aGUgY29kZSB3YXMgbWlycm9yZWQ6IHN3YXAgdGhlIGJvdHRvbS1sZWZ0IGFuZCB0aGUgdG9wLXJpZ2h0IHBvaW50cy4KCSAgICAgICAgaWYgKGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKSBpbnN0YW5jZW9mIFFSQ29kZURlY29kZXJNZXRhRGF0YV8xLmRlZmF1bHQpIHsKCSAgICAgICAgICAgIGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKS5hcHBseU1pcnJvcmVkQ29ycmVjdGlvbihwb2ludHMpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgUmVzdWx0XzEuZGVmYXVsdChkZWNvZGVyUmVzdWx0LmdldFRleHQoKSwgZGVjb2RlclJlc3VsdC5nZXRSYXdCeXRlcygpLCB1bmRlZmluZWQsIHBvaW50cywgQmFyY29kZUZvcm1hdF8xLmRlZmF1bHQuUVJfQ09ERSwgdW5kZWZpbmVkKTsKCSAgICAgICAgdmFyIGJ5dGVTZWdtZW50cyA9IGRlY29kZXJSZXN1bHQuZ2V0Qnl0ZVNlZ21lbnRzKCk7CgkgICAgICAgIGlmIChieXRlU2VnbWVudHMgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkJZVEVfU0VHTUVOVFMsIGJ5dGVTZWdtZW50cyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBkZWNvZGVyUmVzdWx0LmdldEVDTGV2ZWwoKTsKCSAgICAgICAgaWYgKGVjTGV2ZWwgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwsIGVjTGV2ZWwpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChkZWNvZGVyUmVzdWx0Lmhhc1N0cnVjdHVyZWRBcHBlbmQoKSkgewoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UsIGRlY29kZXJSZXN1bHQuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyKCkpOwoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfUEFSSVRZLCBkZWNvZGVyUmVzdWx0LmdldFN0cnVjdHVyZWRBcHBlbmRQYXJpdHkoKSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBkbyBub3RoaW5nCgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBUaGlzIG1ldGhvZCBkZXRlY3RzIGEgY29kZSBpbiBhICJwdXJlIiBpbWFnZSAtLSB0aGF0IGlzLCBwdXJlIG1vbm9jaHJvbWUgaW1hZ2UKCSAgICAgKiB3aGljaCBjb250YWlucyBvbmx5IGFuIHVucm90YXRlZCwgdW5za2V3ZWQsIGltYWdlIG9mIGEgY29kZSwgd2l0aCBzb21lIHdoaXRlIGJvcmRlcgoJICAgICAqIGFyb3VuZCBpdC4gVGhpcyBpcyBhIHNwZWNpYWxpemVkIG1ldGhvZCB0aGF0IHdvcmtzIGV4Y2VwdGlvbmFsbHkgZmFzdCBpbiB0aGlzIHNwZWNpYWwKCSAgICAgKiBjYXNlLgoJICAgICAqCgkgICAgICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLmRhdGFtYXRyaXguRGF0YU1hdHJpeFJlYWRlciNleHRyYWN0UHVyZUJpdHMoQml0TWF0cml4KQoJICAgICAqLwoJICAgIFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMgPSBmdW5jdGlvbiAoaW1hZ2UpIHsKCSAgICAgICAgdmFyIGxlZnRUb3BCbGFjayA9IGltYWdlLmdldFRvcExlZnRPbkJpdCgpOwoJICAgICAgICB2YXIgcmlnaHRCb3R0b21CbGFjayA9IGltYWdlLmdldEJvdHRvbVJpZ2h0T25CaXQoKTsKCSAgICAgICAgaWYgKGxlZnRUb3BCbGFjayA9PT0gbnVsbCB8fCByaWdodEJvdHRvbUJsYWNrID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1vZHVsZVNpemUgPSB0aGlzLm1vZHVsZVNpemUobGVmdFRvcEJsYWNrLCBpbWFnZSk7CgkgICAgICAgIHZhciB0b3AgPSBsZWZ0VG9wQmxhY2tbMV07CgkgICAgICAgIHZhciBib3R0b20gPSByaWdodEJvdHRvbUJsYWNrWzFdOwoJICAgICAgICB2YXIgbGVmdCA9IGxlZnRUb3BCbGFja1swXTsKCSAgICAgICAgdmFyIHJpZ2h0ID0gcmlnaHRCb3R0b21CbGFja1swXTsKCSAgICAgICAgLy8gU2FuaXR5IGNoZWNrIQoJICAgICAgICBpZiAobGVmdCA+PSByaWdodCB8fCB0b3AgPj0gYm90dG9tKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJvdHRvbSAtIHRvcCAhPT0gcmlnaHQgLSBsZWZ0KSB7CgkgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UsIHdoZXJlIGJvdHRvbS1yaWdodCBtb2R1bGUgd2Fzbid0IGJsYWNrIHNvIHdlIGZvdW5kIHNvbWV0aGluZyBlbHNlIGluIHRoZSBsYXN0IHJvdwoJICAgICAgICAgICAgLy8gQXNzdW1lIGl0J3MgYSBzcXVhcmUsIHNvIHVzZSBoZWlnaHQgYXMgdGhlIHdpZHRoCgkgICAgICAgICAgICByaWdodCA9IGxlZnQgKyAoYm90dG9tIC0gdG9wKTsKCSAgICAgICAgICAgIGlmIChyaWdodCA+PSBpbWFnZS5nZXRXaWR0aCgpKSB7CgkgICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhhdCB3b3VsZCBub3QgbWFrZSBzZW5zZSAtLSBvZmYgaW1hZ2UKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1hdHJpeFdpZHRoID0gTWF0aC5yb3VuZCgocmlnaHQgLSBsZWZ0ICsgMSkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIG1hdHJpeEhlaWdodCA9IE1hdGgucm91bmQoKGJvdHRvbSAtIHRvcCArIDEpIC8gbW9kdWxlU2l6ZSk7CgkgICAgICAgIGlmIChtYXRyaXhXaWR0aCA8PSAwIHx8IG1hdHJpeEhlaWdodCA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG1hdHJpeEhlaWdodCAhPT0gbWF0cml4V2lkdGgpIHsKCSAgICAgICAgICAgIC8vIE9ubHkgcG9zc2libHkgZGVjb2RlIHNxdWFyZSByZWdpb25zCgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gUHVzaCBpbiB0aGUgImJvcmRlciIgYnkgaGFsZiB0aGUgbW9kdWxlIHdpZHRoIHNvIHRoYXQgd2Ugc3RhcnQKCSAgICAgICAgLy8gc2FtcGxpbmcgaW4gdGhlIG1pZGRsZSBvZiB0aGUgbW9kdWxlLiBKdXN0IGluIGNhc2UgdGhlIGltYWdlIGlzIGEKCSAgICAgICAgLy8gbGl0dGxlIG9mZiwgdGhpcyB3aWxsIGhlbHAgcmVjb3Zlci4KCSAgICAgICAgdmFyIG51ZGdlID0gLyooaW50KSAqLyBNYXRoLmZsb29yKG1vZHVsZVNpemUgLyAyLjApOwoJICAgICAgICB0b3AgKz0gbnVkZ2U7CgkgICAgICAgIGxlZnQgKz0gbnVkZ2U7CgkgICAgICAgIC8vIEJ1dCBjYXJlZnVsIHRoYXQgdGhpcyBkb2VzIG5vdCBzYW1wbGUgb2ZmIHRoZSBlZGdlCgkgICAgICAgIC8vICJyaWdodCIgaXMgdGhlIGZhcnRoZXN0LXJpZ2h0IHZhbGlkIHBpeGVsIGxvY2F0aW9uIC0tIHJpZ2h0KzEgaXMgbm90IG5lY2Vzc2FyaWx5CgkgICAgICAgIC8vIFRoaXMgaXMgcG9zaXRpdmUgYnkgaG93IG11Y2ggdGhlIGlubmVyIHggbG9vcCBiZWxvdyB3b3VsZCBiZSB0b28gbGFyZ2UKCSAgICAgICAgdmFyIG51ZGdlZFRvb0ZhclJpZ2h0ID0gbGVmdCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4V2lkdGggLSAxKSAqIG1vZHVsZVNpemUpIC0gcmlnaHQ7CgkgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IDApIHsKCSAgICAgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsZWZ0IC09IG51ZGdlZFRvb0ZhclJpZ2h0OwoJICAgICAgICB9CgkgICAgICAgIC8vIFNlZSBsb2dpYyBhYm92ZQoJICAgICAgICB2YXIgbnVkZ2VkVG9vRmFyRG93biA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4SGVpZ2h0IC0gMSkgKiBtb2R1bGVTaXplKSAtIGJvdHRvbTsKCSAgICAgICAgaWYgKG51ZGdlZFRvb0ZhckRvd24gPiAwKSB7CgkgICAgICAgICAgICBpZiAobnVkZ2VkVG9vRmFyRG93biA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3AgLT0gbnVkZ2VkVG9vRmFyRG93bjsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cganVzdCByZWFkIG9mZiB0aGUgYml0cwoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMS5kZWZhdWx0KG1hdHJpeFdpZHRoLCBtYXRyaXhIZWlnaHQpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG1hdHJpeEhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgaU9mZnNldCA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcih5ICogbW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1hdHJpeFdpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KGxlZnQgKyAvKihpbnQpICovIE1hdGguZmxvb3IoeCAqIG1vZHVsZVNpemUpLCBpT2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIubW9kdWxlU2l6ZSA9IGZ1bmN0aW9uIChsZWZ0VG9wQmxhY2ssIGltYWdlKSB7CgkgICAgICAgIHZhciBoZWlnaHQgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHggPSBsZWZ0VG9wQmxhY2tbMF07CgkgICAgICAgIHZhciB5ID0gbGVmdFRvcEJsYWNrWzFdOwoJICAgICAgICB2YXIgaW5CbGFjayA9IHRydWU7CgkgICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IDA7CgkgICAgICAgIHdoaWxlICh4IDwgd2lkdGggJiYgeSA8IGhlaWdodCkgewoJICAgICAgICAgICAgaWYgKGluQmxhY2sgIT09IGltYWdlLmdldCh4LCB5KSkgewoJICAgICAgICAgICAgICAgIGlmICgrK3RyYW5zaXRpb25zID09PSA1KSB7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBpbkJsYWNrID0gIWluQmxhY2s7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB4Kys7CgkgICAgICAgICAgICB5Kys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHggPT09IHdpZHRoIHx8IHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiAoeCAtIGxlZnRUb3BCbGFja1swXSkgLyA3LjA7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTID0gbmV3IEFycmF5KCk7CgkgICAgcmV0dXJuIFFSQ29kZVJlYWRlcjsKCX0oKSk7Cgl2YXIgX2RlZmF1bHQgPSBRUkNvZGVSZWFkZXIkMS5kZWZhdWx0ID0gUVJDb2RlUmVhZGVyOwoKCXZhciB0b0dyYXlzY2FsZUJ1ZmZlciA9IGZ1bmN0aW9uIHRvR3JheXNjYWxlQnVmZmVyKGltYWdlQnVmZmVyLCB3aWR0aCwgaGVpZ2h0KSB7CgkgIHZhciBncmF5c2NhbGVCdWZmZXIgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkod2lkdGggKiBoZWlnaHQpOwoKCSAgZm9yICh2YXIgaSA9IDAsIGogPSAwLCBsZW5ndGhfMSA9IGltYWdlQnVmZmVyLmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpICs9IDQsIGorKykgewoJICAgIHZhciBncmF5ID0gdm9pZCAwOwoJICAgIHZhciBhbHBoYSA9IGltYWdlQnVmZmVyW2kgKyAzXTsgLy8gVGhlIGNvbG9yIG9mIGZ1bGx5LXRyYW5zcGFyZW50IHBpeGVscyBpcyBpcnJlbGV2YW50LiBUaGV5IGFyZSBvZnRlbiwgdGVjaG5pY2FsbHksIGZ1bGx5LXRyYW5zcGFyZW50CgkgICAgLy8gYmxhY2sgKDAgYWxwaGEsIGFuZCB0aGVuIDAgUkdCKS4gVGhleSBhcmUgb2Z0ZW4gdXNlZCwgb2YgY291cnNlIGFzIHRoZSAid2hpdGUiIGFyZWEgaW4gYQoJICAgIC8vIGJhcmNvZGUgaW1hZ2UuIEZvcmNlIGFueSBzdWNoIHBpeGVsIHRvIGJlIHdoaXRlOgoKCSAgICBpZiAoYWxwaGEgPT09IDApIHsKCSAgICAgIGdyYXkgPSAweEZGOwoJICAgIH0gZWxzZSB7CgkgICAgICB2YXIgcGl4ZWxSID0gaW1hZ2VCdWZmZXJbaV07CgkgICAgICB2YXIgcGl4ZWxHID0gaW1hZ2VCdWZmZXJbaSArIDFdOwoJICAgICAgdmFyIHBpeGVsQiA9IGltYWdlQnVmZmVyW2kgKyAyXTsgLy8gLjI5OVIgKyAwLjU4N0cgKyAwLjExNEIgKFlVVi9ZSVEgZm9yIFBBTCBhbmQgTlRTQyksCgkgICAgICAvLyAoMzA2KlIpID4+IDEwIGlzIGFwcHJveGltYXRlbHkgZXF1YWwgdG8gUiowLjI5OSwgYW5kIHNvIG9uLgoJICAgICAgLy8gMHgyMDAgPj4gMTAgaXMgMC41LCBpdCBpbXBsZW1lbnRzIHJvdW5kaW5nLgoKCSAgICAgIGdyYXkgPSAzMDYgKiBwaXhlbFIgKyA2MDEgKiBwaXhlbEcgKyAxMTcgKiBwaXhlbEIgKyAweDIwMCA+PiAxMDsKCSAgICB9CgoJICAgIGdyYXlzY2FsZUJ1ZmZlcltqXSA9IGdyYXk7CgkgIH0KCgkgIHJldHVybiBncmF5c2NhbGVCdWZmZXI7Cgl9OwoKCXZhciByZWFkZXIgPSBuZXcgX2RlZmF1bHQoKTsKCXNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7CgkgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCgkgIHRyeSB7CgkgICAgdmFyIGx1bWluYW5jZXMgPSB0b0dyYXlzY2FsZUJ1ZmZlcihlLmRhdGEuZGF0YSwgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgbHVtaW5hbmNlU291cmNlID0gbmV3IF9kZWZhdWx0JDEobHVtaW5hbmNlcywgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgaHlicmlkQmluYXJpemVyID0gbmV3IF9kZWZhdWx0JDIobHVtaW5hbmNlU291cmNlKTsKCSAgICB2YXIgYmluYXJ5Qml0bWFwID0gbmV3IF9kZWZhdWx0JDMoaHlicmlkQmluYXJpemVyKTsKCSAgICB2YXIgZGVjb2RlZCA9IHJlYWRlci5kZWNvZGUoYmluYXJ5Qml0bWFwKTsKCSAgICBwb3N0TWVzc2FnZShkZWNvZGVkKTsKCSAgfSBjYXRjaCAoZXJyKSB7CgkgICAgcG9zdE1lc3NhZ2UobnVsbCk7CgkgIH0KCX0pOwoKfSkoKTsKCg=="),$Xe=["constraints","onError","onLoad","onScan","resolution","qrArea"];function HM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),i.push.apply(i,o)}return i}function DM(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(i),!0).forEach(function(o){GXe(e,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):HM(Object(i)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(i,o))})}return e}var eMe=function(){return new qXe},TM=function(t){t&&(t.getVideoTracks&&t.getAudioTracks?(t.getVideoTracks().forEach(function(i){t.removeTrack(i),i.stop()}),t.getAudioTracks().forEach(function(i){t.removeTrack(i),i.stop()})):t.stop())},f_=function(t){var i=t.constraints,o=t.onError,s=t.onLoad,c=t.onScan,u=t.resolution,C=t.qrArea,m=FXe(t,$Xe),v=le.useRef(null),x=le.useRef(null),G=le.useRef(document.createElement("canvas")),B=le.useRef(null),R=le.useRef(),V=le.useState(null),H=EXe(V,2),M=H[0],L=H[1],_=le.useRef(!1),X=le.useRef();le.useEffect(function(){X.current=eMe();var P=X.current;return P.onmessage=function(O){c&&c(O.data?DM(DM({},O.data),{},{canvas:G.current}):null),_.current=!1},function(){P.terminate()}},[c]);var Q=JSON.stringify(C),j=le.useCallback(function(){var P=JSON.parse(Q),O=X.current,de=x.current&&x.current.readyState===x.current.HAVE_ENOUGH_DATA;if(!_.current&&de){_.current=!0;var ce=x.current.videoWidth,ne=x.current.videoHeight,oe=ce>ne?ce:ne,be=Math.floor(u/oe*100)/100;ne=Math.floor(be*ne),ce=Math.floor(be*ce),G.current.width=ce,G.current.height=ne,B.current=G.current.getContext("2d"),B.current.drawImage(x.current,0,0,ce,ne);var Ie;P&&P.length===2&&P[0]>0&&P[1]>0?Ie=B.current.getImageData(Math.floor((ce-P[0])/2),Math.floor((ne-P[1])/2),P[0],P[1]):Ie=B.current.getImageData(0,0,ce,ne),O.postMessage(Ie)}R.current=requestAnimationFrame(j)},[u,Q]),re=JSON.stringify(i);return le.useEffect(function(){var P=JSON.parse(re),O=!0;return navigator.mediaDevices.getUserMedia(P).then(function(de){if(!O)TM(de);else{v.current=de;try{x.current&&(x.current.srcObject=de,x.current.setAttribute("playsinline",!0))}catch{L(window.URL.createObjectURL(de))}s&&s(),R.current=requestAnimationFrame(j)}}).catch(function(de){return O?o(de):null}),function(){cancelAnimationFrame(R.current),O=!1,TM(v.current),M&&window.URL.revokeObjectURL(M)}},[j,re,o,s,M]),le.createElement("video",tt({autoPlay:!0,playsInline:!0,src:M,ref:x},m))};f_.propTypes={constraints:Ym.object,onError:Ym.func.isRequired,onLoad:Ym.func,onScan:Ym.func.isRequired,resolution:Ym.number,qrArea:Ym.array};f_.defaultProps={constraints:{audio:!1,video:!0},resolution:640,qrArea:[]};const tMe=e=>{var Ht,st,Ke,Vt,Yt,It,bt,yt,kt,Jt,tn,An,dn,Bn,wt,St,Wt,Dt;const[t,i]=le.useState([]),{t:o}=Jn(),{id:s}=Dk(),[c,u]=le.useState(),[C,m]=le.useState(!1),[v,x]=le.useState(1),G=5,[B,R]=le.useState({}),[V,H]=le.useState([]),[M,L]=le.useState(""),[_,X]=le.useState(""),[Q,j]=le.useState(""),[re,P]=le.useState(""),[O,de]=le.useState(""),[ce,ne]=le.useState(!1);le.useEffect(()=>{u(e.apiCheckin)},[e.apiCheckin]);const oe=Zt=>{R(Zt),m(!0)};le.useEffect(()=>{const Zt=new AbortController,{signal:Ct}=Zt;return(async()=>{try{const en=await mn.get(`/courtstar/booking/${s}`,{signal:Ct});u(en.data.data)}catch(en){console.log(en.message)}})(),()=>{Zt.abort()}},[s]);const be=async Zt=>{ne(!0),ve(!0);let Ct={};await mn.post(`/courtstar/check-in/${Zt}`).then(Kt=>{Kt.data.data&&(Re(),sn.success("Check-in successfully",{toastId:"checkin-success"}),mn.get(`/courtstar/booking/${s}`).then(en=>{u(en.data.data),Ct=en.data.data.filter(Qt=>Qt.id===Zt)[0],ve(!1),fe&&(De(),oe(Ct))}).catch(en=>{console.log(en.message)}))}).catch(Kt=>{console.log(Kt.message)}).finally(()=>{ne(!1)})},Ie=async Zt=>{ne(!0),await mn.post(`/courtstar/check-in/undo/${Zt}`).then(Ct=>{Ct.data.data&&(Re(),sn.success("Undo check-in successfully",{toastId:"undo-checkin-success"}),(async()=>{try{const en=await mn.get(`/courtstar/booking/${s}`);u(en.data.data)}catch(en){console.log(en.message)}})())}).catch(Ct=>{console.log(Ct.message)}).finally(()=>{ne(!1)})},Re=()=>{m(!1)},[ye,ve]=le.useState(!0),[fe,Ge]=le.useState(!1),De=()=>{Ge(!1)},[Pe,me]=le.useState(""),_e=Zt=>{Zt&&me(Zt)},pe=Zt=>{console.error(Zt)},Ee={height:240,width:320};le.useEffect(()=>{const Zt=xt(),Ct=[{label:o("allDate")}];for(let Kt=0;Kt<10;Kt++){const en=xt(Zt).add(Kt,"days").format("DD/MM");Ct.push({label:en})}i(Ct)},[]);const We=Zt=>{console.log(`Selected: ${Zt.label}`),j(Zt.label)},je=(Zt=>{const Ct=e.apiCheckin.map(Qt=>Qt.slot.slotNo),Kt=[...new Set(Ct)].sort((Qt,xn)=>Qt-xn);return[{label:o("allSlot")},...Kt.map(Qt=>({label:Qt.toString()}))]})(),qe=Zt=>{console.log(`Selected: ${Zt.label}`),de(Zt.label)};le.useEffect(()=>{if(Pe){let Zt=parseInt(Pe.text);console.log(Zt),c.filter(Ct=>Ct.id===Zt)[0]?be(Zt):sn.warning("Nhm sn ri bn i!",{toastId:"checkin-fail"})}},[Pe]),le.useEffect(()=>{(()=>{let Ct=c?[...c]:[];M&&(Ct=Ct.filter(Kt=>{var Qt,xn,Gn,ci,Qn,rr;return`${((xn=(Qt=Kt==null?void 0:Kt.bookingSchedule)==null?void 0:Qt.account)==null?void 0:xn.firstName)||""} ${((ci=(Gn=Kt==null?void 0:Kt.bookingSchedule)==null?void 0:Gn.account)==null?void 0:ci.lastName)||""} ${((rr=(Qn=Kt==null?void 0:Kt.bookingSchedule)==null?void 0:Qn.guest)==null?void 0:rr.fullName)||""}`.toLowerCase().includes(M.toLowerCase())})),_&&(Ct=Ct.filter(Kt=>{var Qt,xn,Gn,ci;return(((xn=(Qt=Kt==null?void 0:Kt.bookingSchedule)==null?void 0:Qt.account)==null?void 0:xn.email)||((ci=(Gn=Kt==null?void 0:Kt.bookingSchedule)==null?void 0:Gn.guest)==null?void 0:ci.email)||"").toLowerCase().includes(_.toLowerCase())})),re&&(Ct=Ct.filter(Kt=>{var Qt,xn,Gn,ci;return(((xn=(Qt=Kt==null?void 0:Kt.bookingSchedule)==null?void 0:Qt.account)==null?void 0:xn.phone)||((ci=(Gn=Kt==null?void 0:Kt.bookingSchedule)==null?void 0:Gn.guest)==null?void 0:ci.phone)||"").toLowerCase().includes(re.toLowerCase())})),Q&&Q!=="All Date"&&(Ct=Ct.filter(Kt=>xt(Kt.date,"yyyy-MM-DD").format("DD/MM")===Q)),O&&O!=="All Slot"&&(Ct=Ct.filter(Kt=>Kt.slot.slotNo===parseInt(O))),Ct.sort((Kt,en)=>Kt.checkedIn-en.checkedIn),H(Ct)})()},[M,_,re,Q,O,c]);const At=v*G,ct=At-G,lt=V.slice(ct,At),at=Zt=>{x(Zt)};return y.jsxs("div",{className:"w-[70rem] my-12",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"text-3xl font-bold",children:[o("checkIn")," (",c==null?void 0:c.length,")"]}),y.jsx("div",{children:c!=null&&c.length?y.jsx(Pn,{label:o("checkIn"),fullWidth:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",icon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-qr-code",children:[y.jsx("rect",{width:"5",height:"5",x:"3",y:"3",rx:"1"}),y.jsx("rect",{width:"5",height:"5",x:"16",y:"3",rx:"1"}),y.jsx("rect",{width:"5",height:"5",x:"3",y:"16",rx:"1"}),y.jsx("path",{d:"M21 16h-3a2 2 0 0 0-2 2v3"}),y.jsx("path",{d:"M21 21v.01"}),y.jsx("path",{d:"M12 7v3a2 2 0 0 1-2 2H7"}),y.jsx("path",{d:"M3 12h.01"}),y.jsx("path",{d:"M12 3h.01"}),y.jsx("path",{d:"M12 16v.01"}),y.jsx("path",{d:"M16 12h1"}),y.jsx("path",{d:"M21 12v.01"}),y.jsx("path",{d:"M12 21v-1"})]}),onClick:()=>{ve(!0),Ge(!0),setTimeout(()=>{ve(!1)},500)}}):y.jsx(y.Fragment,{})})]}),c!=null&&c.length?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"my-4",children:[y.jsxs("div",{className:"px-10 py-4 grid grid-cols-12 gap-2 bg-white shadow rounded-xl ",children:[y.jsx("div",{className:"col-span-3",children:y.jsx(Nn,{placeholder:o("enterUserName"),label:o("fullName"),value:M,onchange:Zt=>L(Zt.target.value)})}),y.jsx("div",{className:"col-span-3",children:y.jsx(Nn,{value:_,onchange:Zt=>X(Zt.target.value),placeholder:o("enterUserEmail"),label:"Email"})}),y.jsx("div",{className:"col-span-2",children:y.jsx(ho,{label:o("Date"),items:t,onSelect:We,placeholder:o("selectDate")})}),y.jsx("div",{className:"col-span-2",children:y.jsx(Nn,{onchange:Zt=>P(Zt.target.value),value:re,placeholder:o("enterUserPhone"),label:o("phone")})}),y.jsx("div",{className:"col-span-2 pr-3",children:y.jsx(ho,{label:o("slot"),items:je,placeholder:o("selectSlot"),onSelect:qe,itemClassName:"!px-4 !text-sm",buttonClassName:"!px-3"})})]}),y.jsx("div",{className:"mt-2 font-medium",children:lt==null?void 0:lt.map(Zt=>{var Ct,Kt,en,Qt,xn,Gn,ci,Qn,rr,Lr,fi,Sn,Kn,qo,qn;return y.jsxs("div",{className:Zt!=null&&Zt.checkedIn?"bg-slate-200 px-10 py-1 grid grid-cols-12 gap-2 hover:px-8 cursor-pointer mt-2 rounded-lg ease-in-out duration-300":"bg-white px-10 py-1 grid grid-cols-12 gap-2 hover:bg-teal-50 hover:px-8 cursor-pointer mt-2 rounded-lg shadow ease-in-out duration-300",onClick:()=>oe(Zt),children:[y.jsxs("div",{className:"col-span-3 px-3 flex items-center truncate",children:[(Kt=(Ct=Zt==null?void 0:Zt.bookingSchedule)==null?void 0:Ct.account)==null?void 0:Kt.firstName," ",(Qt=(en=Zt==null?void 0:Zt.bookingSchedule)==null?void 0:en.account)==null?void 0:Qt.lastName,(Gn=(xn=Zt==null?void 0:Zt.bookingSchedule)==null?void 0:xn.guest)==null?void 0:Gn.fullName]}),y.jsxs("div",{className:"col-span-3 px-3 flex items-center truncate",children:[(Qn=(ci=Zt==null?void 0:Zt.bookingSchedule)==null?void 0:ci.account)==null?void 0:Qn.email,(Lr=(rr=Zt==null?void 0:Zt.bookingSchedule)==null?void 0:rr.guest)==null?void 0:Lr.email]}),y.jsx("div",{className:"col-span-2 flex items-center justify-center",children:xt(Zt==null?void 0:Zt.date,"yyyy-MM-DD").format("DD/MM")}),y.jsxs("div",{className:"col-span-2 flex items-center justify-center",children:[(Sn=(fi=Zt==null?void 0:Zt.bookingSchedule)==null?void 0:fi.account)==null?void 0:Sn.phone,(qo=(Kn=Zt==null?void 0:Zt.bookingSchedule)==null?void 0:Kn.guest)==null?void 0:qo.phone]}),y.jsxs("div",{className:"col-span-2 flex flex-col justify-center items-center font-semibold",children:[(qn=Zt.slot)==null?void 0:qn.slotNo,y.jsxs("div",{className:"font-normal text-slate-500 text-sm",children:["(",xt(Zt.slot.startTime,"HH:mm:ss").format("H"),"h - ",xt(Zt.slot.endTime,"HH:mm:ss").format("H"),"h)"]})]})]},Zt.id)})})]}),y.jsx(Ll,{isOpen:C,setIsOpen:Re,centreInfo:!0,title:o("bookingDetail"),html:y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsxs("div",{className:"",children:[y.jsxs("span",{className:"font-semibold",children:[o("fullName"),": "]}),(st=(Ht=B==null?void 0:B.bookingSchedule)==null?void 0:Ht.account)==null?void 0:st.firstName," ",(Vt=(Ke=B==null?void 0:B.bookingSchedule)==null?void 0:Ke.account)==null?void 0:Vt.lastName,(It=(Yt=B==null?void 0:B.bookingSchedule)==null?void 0:Yt.guest)==null?void 0:It.fullName]}),y.jsxs("div",{className:"",children:[y.jsx("span",{className:"font-semibold",children:"Email: "}),(yt=(bt=B==null?void 0:B.bookingSchedule)==null?void 0:bt.account)==null?void 0:yt.email,(Jt=(kt=B==null?void 0:B.bookingSchedule)==null?void 0:kt.guest)==null?void 0:Jt.email]}),y.jsxs("div",{className:"",children:[y.jsxs("span",{className:"font-semibold",children:[o("phone"),": "]}),(An=(tn=B==null?void 0:B.bookingSchedule)==null?void 0:tn.account)==null?void 0:An.phone,(Bn=(dn=B==null?void 0:B.bookingSchedule)==null?void 0:dn.guest)==null?void 0:Bn.phone]}),y.jsxs("div",{className:"",children:[y.jsxs("span",{className:"font-semibold",children:[o("Date"),": "]}),B==null?void 0:B.date]}),y.jsxs("div",{className:"flex justify-between",children:[y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[o("courtNumber"),": "]}),(wt=B==null?void 0:B.court)==null?void 0:wt.courtNo]}),y.jsxs("div",{className:"",children:[y.jsx("span",{className:"font-semibold",children:"Slot: "}),(St=B==null?void 0:B.slot)==null?void 0:St.slotNo,y.jsxs("span",{className:"font-normal text-slate-500 text-sm",children:["(",xt((Wt=B==null?void 0:B.slot)==null?void 0:Wt.startTime,"HH:mm:ss").format("H"),"h - ",xt((Dt=B==null?void 0:B.slot)==null?void 0:Dt.endTime,"HH:mm:ss").format("H"),"h)"]})]})]}),y.jsx(Pn,{className:`block text-center py-1 w-full border ${B.checkedIn?"bg-gray-800 hover:bg-gray-400":"bg-primary-green hover:bg-teal-900"} text-white rounded-md font-semibold transition-all ease-in-out duration-300`,onClick:B!=null&&B.checkedIn?()=>{Ie(B.id)}:()=>{be(B.id)},label:B!=null&&B.checkedIn?"Undo":o("checkIn"),loading:ce,loadingColor:"#fff"})]})}),y.jsx(Ll,{isOpen:fe,setIsOpen:De,html:y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"QR Scanner"}),y.jsx("div",{className:"bg-white rounded-lg",children:fe&&!ye?y.jsx(f_,{delay:300,style:Ee,onError:pe,onScan:_e,className:"w-full h-[500px]"}):y.jsx("div",{className:"w-[320px] h-[240px] flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})})})]})})]}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-3xl text-primary",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"150",height:"150",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-ticket-x",children:[y.jsx("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),y.jsx("path",{d:"m9.5 14.5 5-5"}),y.jsx("path",{d:"m9.5 9.5 5 5"})]}),"There are no booking yet!"]}),V.length>G&&y.jsx(Vd,{totalItems:V.length,itemsPerPage:G,currentPage:v,onPageChange:at})]})},nMe=e=>{const{id:t}=Dk(),[i,o]=le.useState(!0),[s,c]=le.useState({}),[u,C]=le.useState([]),[m,v]=le.useState([]),[x,G]=le.useState([]),B=e.handleAddCentrePopup,[R,V]=le.useState([]);le.useEffect(()=>{const M=new AbortController,{signal:L}=M;return o(!0),t>=0&&((async()=>(C([]),c({}),await mn.get(`/courtstar/centre/getCentre/${t}`,{signal:L}).then(Q=>{c(Q.data.data),C(Q.data.data.images),v(Q.data.data.centreStaffs),mn.get(`/courtstar/feedback/${t}`).then(j=>{V(j.data.data)}).catch(j=>{console.log(j.message)}).finally(()=>{o(!1)})}).catch(Q=>{console.log(Q.message)}).finally(()=>{setTimeout(()=>{o(!1)},1e3)})))(),(async()=>(o(!0),await mn.get(`/courtstar/booking/${t}`,{signal:L}).then(Q=>{G(Q.data.data)}).catch(Q=>{console.log(Q.message)}).finally(()=>{setTimeout(()=>{o(!1)},1e3)})))()),()=>{M.abort()}},[t]);const H=M=>{M&&c(M)};return console.log(x),y.jsx("div",{className:"flex-1 flex justify-center max-w-screen-1440 px-14 mx-auto",children:t==="balance"?y.jsx(y.Fragment,{children:y.jsx(kWe,{balanceDetail:e.balanceDetail,handleAddCentrePopup:B})}):y.jsx(y.Fragment,{children:i?y.jsx("div",{className:"h-[500px] flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})}):y.jsxs(y.Fragment,{children:[e.tab===0&&y.jsx(BXe,{centreDetail:s,imgList:u,apiFeedbacks:R,dataCenterOnSubmit:H}),e.tab===1&&y.jsx("div",{className:"",children:y.jsx(ZXe,{staffList:m})}),e.tab===2&&y.jsx("div",{className:"",children:y.jsx(tMe,{apiCheckin:x,centreDetail:s})})]})})})};function iMe(e){const{t}=Jn(),[i,o]=le.useState(""),[s,c]=le.useState([]),u=le.useRef(),C=le.useRef(),m=le.useRef();le.useState();const v=[{key:"thuDucCity",label:t("thuDucCity")},{key:"district1",label:t("district1")},{key:"district3",label:t("district3")},{key:"district4",label:t("district4")},{key:"district5",label:t("district5")},{key:"district6",label:t("district6")},{key:"district7",label:t("district7")},{key:"district8",label:t("district8")},{key:"district10",label:t("district10")},{key:"district11",label:t("district11")},{key:"district12",label:t("district12")},{key:"binhTanDistrict",label:t("binhTanDistrict")},{key:"binhThanhDistrict",label:t("binhThanhDistrict")},{key:"goVapDistrict",label:t("goVapDistrict")},{key:"phuNhuanDistrict",label:t("phuNhuanDistrict")},{key:"tanBinhDistrict",label:t("tanBinhDistrict")},{key:"tanPhuDistrict",label:t("tanPhuDistrict")},{key:"nhaBeProvince",label:t("nhaBeProvince")},{key:"canGioProvince",label:t("canGioProvince")},{key:"cuChiProvince",label:t("cuChiProvince")},{key:"hocMonProvince",label:t("hocMonProvince")},{key:"binhChanhProvince",label:t("binhChanhProvince")}],x=ce=>{ce&&(o(ce.key),H(ne=>({...ne,district:ce.key})))},G=ce=>{e.setIsOpen(),e.dataIdCentre(ce)},B=R();function R(){let ce=[];for(let ne=0;ne<24;ne++){let oe=ne<10?`0${ne}:00`:`${ne}:00`;ce.push({key:ne,label:oe})}return ce}const[V,H]=le.useState({name:"",address:"",district:"",openTime:"",closeTime:"",pricePerHour:"",numberOfCourts:"",description:"",approveDate:xt().format("yyyy-MM-DD"),images:[]}),M=ce=>{const{name:ne,value:oe}=ce.target;H(be=>({...be,[ne]:oe}))},L=ce=>{ce&&H(ne=>({...ne,openTime:ce.label}))},_=ce=>{ce&&H(ne=>({...ne,closeTime:ce.label}))},X=ce=>{if(ce!==null){const ne=IQ(QQ,`files/${bQ()}`);CQ(ne,ce).then(oe=>{fQ(oe.ref).then(be=>{c(Ie=>[...Ie,{url:be,ref:oe.ref}])})})}},Q=(ce,ne)=>{eG(ce).then(()=>{c(oe=>oe.filter(be=>be.url!==ne)),H(oe=>({...oe,images:oe.images.filter(be=>be!==ne)}))}).catch(oe=>{console.error("Error deleting image: ",oe)})};le.useEffect(()=>{H(ce=>({...ce,images:s.map(ne=>ne.url)}))},[s]);const j=ce=>{if(s.length<6){const ne=ce.target.files[0];X(ne)}else sn.error("Only upload a maximum of 6 photos",{toastId:"Upload-photo-error"})},re=async()=>{if(V.images.length===0)return sn.error("You must upload at least 1 image",{toastId:"upload-img-error"});await mn.post("/courtstar/centre/create",V).then(ce=>{console.log(ce.data),sn.success("Create Successfully!",{toastId:"add-centre-success"}),c([]),G(ce.data.data.id)}).catch(ce=>{console.log(ce.message),sn.error(ce.message,{toastId:"add-centre-error"})}).finally()},P=()=>{const ce=s.map(ne=>eG(ne.ref));Promise.all(ce).then(()=>{c([]),H({name:"",address:"",district:"",openTime:"",closeTime:"",pricePerHour:"",numberOfCourts:"",description:"",approveDate:xt().format("yyyy-MM-DD"),images:[]}),O()}).catch(ne=>{console.error("Error deleting images: ",ne)})},O=()=>{u.current&&u.current.clearFormDropdown(),C.current&&C.current.clearFormDropdown(),m.current&&m.current.clearFormDropdown()},de=y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between gap-4",children:[y.jsxs("div",{className:"w-[44rem]",children:[y.jsx("div",{children:s.length>0?y.jsx("img",{src:s[0].url,alt:"Centre",className:"h-64 w-fit mx-auto rounded-xl"}):y.jsx("img",{src:"https://i0.wp.com/y20india.in/wp-content/plugins/ultimate-post/assets/img/ultp-fallback-img.png?w=840&ssl=1",alt:"dummy-img",className:"h-64 w-fit mx-auto rounded-xl"})}),y.jsx("div",{className:"flex gap-2 mt-3 pt-1.5 border rounded-md bg-white overflow-hidden mx-auto relative",children:y.jsxs("div",{id:"image-scroll-container",className:"flex gap-2 overflow-x-auto pb-1.5 px-2",children:[y.jsx("div",{className:"flex justify-center items-center border rounded-lg cursor-pointer h-16 min-w-24 px-7",onClick:()=>document.getElementById("image-upload-input").click(),children:y.jsx("span",{className:"text-4xl font-bold",children:"+"})}),y.jsx("input",{id:"image-upload-input",type:"file",onChange:j,className:"hidden"}),s.map((ce,ne)=>y.jsxs("div",{className:"image-container relative",children:[y.jsx("img",{src:ce.url,alt:`Court ${ne+1}`,className:"min-w-24 max-w-24 h-16 rounded-lg object-cover object-center "}),y.jsxs("svg",{onClick:()=>Q(ce.ref,ce.url),xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",s:!0,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-x absolute right-1 top-1 bg-white rounded-full cursor-pointer hover:scale-110 ease-in-out duration-200",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"m15 9-6 6"}),y.jsx("path",{d:"m9 9 6 6"})]})]},ne))]})})]}),y.jsxs("div",{className:"flex-1 w-[36rem] flex flex-col gap-3",children:[y.jsx(Nn,{id:"name",name:"name",placeholder:t("enterCentreName"),label:t("centreName"),value:V.name,onchange:M}),y.jsxs("div",{className:"grid grid-cols-7 gap-x-3",children:[y.jsx("div",{className:"col-span-4",children:y.jsx(Nn,{id:"address",name:"address",placeholder:t("enterCentreAddress"),label:t("centreAddress"),value:V.address,onchange:M})}),y.jsx("div",{className:"col-span-3 content-end",children:y.jsx(ho,{ref:u,items:v,placeholder:t("selectTheDistrict"),onSelect:x})})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx(Nn,{id:"pricePerHour",name:"pricePerHour",type:"number",placeholder:t("enterPricePerHour"),label:t("pricePerHour"),value:V.pricePerHour,onchange:M}),y.jsx(Nn,{id:"numberOfCourts",name:"numberOfCourts",placeholder:t("enterNumberOfCourts"),label:t("numberOfCourts"),value:V.numberOfCourts,onchange:M})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx(ho,{ref:C,placeholder:t("selectOpenTime"),items:B,onSelect:L,dir:"up",label:t("openTimes")}),y.jsx(ho,{ref:m,placeholder:t("selectCloseTime"),items:B,onSelect:_,dir:"up",label:t("closeTime")})]})]})]}),y.jsxs("div",{className:"mt-3",children:[y.jsxs("div",{className:"w-full flex flex-col gap-2 text-gray-800 font-semibold mb-2",children:[t("Description"),":"]}),y.jsx(KQ.CKEditor,{editor:zQ,data:V==null?void 0:V.description,onChange:(ce,ne)=>{const oe=ne.getData();H(be=>({...be,description:oe}))}})]})]});return y.jsx("div",{children:y.jsx(s2,{html:de,isOpen:e.isOpen,submit:re,setIsOpen:G,title:t("centreInformation"),clearForm:P})})}const rMe=e=>{const{t}=Jn(),{state:i,dispatch:o}=_d(),{role:s}=i,c=Gd(),[u,C]=le.useState(s==="STAFF"?e.centreList.id:"balance"),[m,v]=le.useState();s&&s!=="STAFF"?le.useEffect(()=>{const R=window.location.href.split("/myCentre/")[1];C(R==="balance"?R:parseInt(R)),G(0)},[]):le.useEffect(()=>{c(`/myCentre/${e.centreList.id}`),C(parseInt(e.centreList.id)),G(0)},[]),le.useEffect(()=>{e.dataIsCentreId&&(C(e.dataIsCentreId),x(e.dataIsCentreId))},[e.dataIsCentreId]);const x=B=>{c(`/myCentre/${B}`),C(B),G(0)},G=B=>{v(B),e.onDataTabSubmit(B)};return y.jsxs("div",{className:"bg-white w-1/6 flex flex-col gap-3 px-5 py-3 min-h-screen",children:[s!=="STAFF"&&y.jsx("div",{className:"",children:y.jsxs("div",{onClick:()=>x("balance"),className:u==="balance"?"flex gap-2 items-center py-1 font-bold text-lg px-3 rounded-md bg-primary-green text-white cursor-pointer scale-105 ease-in-out duration-300":"flex gap-2 items-center py-1 font-bold text-lg cursor-pointer hover:px-3 rounded-md hover:bg-primary-green hover:text-white hover:scale-105 ease-in-out duration-300",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-circle-dollar-sign",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"}),y.jsx("path",{d:"M12 18V6"})]}),t("myBalance")]})}),y.jsxs("div",{className:"",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{className:"flex gap-2 font-bold text-lg",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-layout-dashboard",children:[y.jsx("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),y.jsx("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),y.jsx("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),y.jsx("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]}),t("myCentre")]}),s!=="STAFF"&&y.jsx("button",{className:`flex gap-2 p-1 w-fit rounded-md text-primary-green hover:bg-primary-green hover:text-white\r
            ease-in-out duration-300 cursor-pointer`,onClick:e.handleAddCentrePopup,children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-plus",children:[y.jsx("path",{d:"M5 12h14"}),y.jsx("path",{d:"M12 5v14"})]})})]}),y.jsx("div",{className:"flex flex-col gap-1 mt-1",children:s!=="STAFF"?y.jsx(y.Fragment,{children:e.centreList.map(B=>y.jsxs("div",{className:"",children:[y.jsx("div",{className:u===B.id?"bg-primary-green text-lg text-white pl-3 pr-1 py-1 rounded-md ease-in-out duration-300 font-semibold cursor-pointer":"py-1 rounded-md hover:bg-primary-green text-lg hover:text-white truncate hover:truncate hover:px-1.5 ease-in-out duration-300 font-semibold cursor-pointer",onClick:()=>x(B.id),children:B.name}),u===B.id&&y.jsxs("div",{className:"flex flex-col gap-1 pl-5 mt-1 font-medium animate-fade-in-down transition-all ease-in-out duration-300",children:[y.jsxs("div",{onClick:()=>G(1),className:m===1?"flex gap-2 items-center cursor-pointer rounded-md pl-3 py-1 bg-gray-800 text-white":"flex gap-2 items-center cursor-pointer rounded-md hover:pl-3 py-1 hover:bg-gray-800 hover:text-white ease-in-out duration-300",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user",children:[y.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t("manageStaff")]}),y.jsxs("div",{onClick:()=>G(2),className:m===2?"flex gap-2 items-center cursor-pointer py-1 rounded-md px-3 bg-gray-800 text-white":"flex gap-2 items-center cursor-pointer py-1 rounded-md hover:px-3 hover:bg-gray-800 hover:text-white ease-in-out duration-300",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-ticket-check",children:[y.jsx("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),y.jsx("path",{d:"m9 12 2 2 4-4"})]}),t("checkIn")]})]})]},B.id))}):y.jsxs("div",{className:"",children:[y.jsx("div",{className:u===e.centreList.id?"bg-primary-green text-white pl-3 pr-1 py-1.5 rounded-md ease-in-out duration-300 font-semibold cursor-pointer":"py-1.5 rounded-md hover:bg-primary-green hover:text-white truncate hover:pl-1.5 ease-in-out duration-300 font-semibold cursor-pointer",onClick:()=>x(e.centreList.id),children:e.centreList.name}),u===e.centreList.id&&y.jsxs("div",{className:"flex flex-col gap-1 pl-5 mt-1 animate-fade-in-down transition-all ease-in-out duration-300",children:[s!=="STAFF"&&y.jsx("div",{onClick:()=>G(1),className:m===1?"cursor-pointer rounded-md pl-3 bg-gray-800 text-white":"cursor-pointer rounded-md hover:pl-3 hover:bg-gray-800 hover:text-white ease-in-out duration-300",children:t("centreStaff")}),y.jsxs("div",{onClick:()=>G(2),className:m===2?"flex gap-2 items-center cursor-pointer py-1 rounded-md px-3 bg-gray-800 text-white":"flex gap-2 items-center cursor-pointer py-1 rounded-md hover:px-3 hover:bg-gray-800 hover:text-white ease-in-out duration-300",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-ticket-check",children:[y.jsx("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),y.jsx("path",{d:"m9 12 2 2 4-4"})]}),"Check in"]})]})]})})]})]})},oMe=()=>{const{state:e,dispatch:t}=_d(),{role:i}=e,[o,s]=le.useState([]),[c,u]=le.useState(!0),[C,m]=le.useState(),[v,x]=le.useState(),[G,B]=le.useState();le.useEffect(()=>{const X=new AbortController,{signal:Q}=X,j=async()=>{await mn.get("/courtstar/centre/getAllCentresOfManager",{signal:Q}).then(O=>{s(O.data.data)}).catch(O=>{console.log(O.message)}).finally(()=>{u(!1)})},re=async()=>{await mn.get("/courtstar/centre/getCentreOfStaff",{signal:Q}).then(O=>{s(O.data.data)}).catch(O=>{console.log(O.message)}).finally(()=>{u(!1)})},P=async()=>{u(!0),await mn.get("/courtstar/manager/info",{signal:Q}).then(O=>{x(O.data.data)}).catch(O=>{console.log(O.message)}).finally(()=>{u(!1)})};return i==="MANAGER"?(j(),P()):re(),()=>{X.abort()}},[G]);const R=X=>{m(X)},V=X=>{B(X)},[H,M]=le.useState(!1),L=()=>{M(!0)},_=()=>{M(!1)};return y.jsxs("div",{className:"",children:[y.jsx(iMe,{isOpen:H,setIsOpen:_,dataIdCentre:V}),c?y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})}):y.jsxs("div",{className:"bg-gray-100 text-gray-800 flex",children:[y.jsx(rMe,{centreList:o,onDataTabSubmit:R,handleAddCentrePopup:L,dataIsCentreId:G}),y.jsx(nMe,{balanceDetail:v,tab:C,handleAddCentrePopup:L})]})]})},sMe=e=>{const{t}=Jn(),[i,o]=le.useState(1),[s,c]=le.useState();le.useEffect(()=>{e.onDataTabSubmit(i),i===3&&(c(1),e.onDataTabItemSubmit(1))},[i]);const u=m=>{o(m)},C=m=>{c(m),e.onDataTabItemSubmit(m)};return y.jsxs("div",{className:"bg-white w-1/6 flex flex-col gap-2 px-3 py-3 min-h-screen",children:[y.jsxs("div",{className:i===1?"flex gap-2 font-semibold text-lg items-center py-1 bg-primary-green px-2 text-white cursor-pointer rounded-md ease-in-out duration-200":"flex gap-2 font-semibold text-lg items-center py-1 hover:bg-primary-green hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>u(1),children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-square-activity",children:[y.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),y.jsx("path",{d:"M17 12h-2l-2 5-2-10-2 5H7"})]}),y.jsx("div",{children:t("dashboard")})]}),y.jsxs("div",{className:i===2?"flex gap-2 font-semibold text-lg items-center py-1 bg-primary-green px-2 text-white cursor-pointer rounded-md ease-in-out duration-200":"flex gap-2 font-semibold text-lg items-center py-1 hover:bg-primary-green hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>u(2),children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-layout-dashboard",children:[y.jsx("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),y.jsx("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),y.jsx("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),y.jsx("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]}),t("allCenTre")]}),y.jsxs("div",{className:"",children:[y.jsxs("div",{className:i===3?"flex gap-2 font-semibold text-lg items-center py-1 bg-primary-green px-2 text-white rounded-md":"flex gap-2 font-semibold text-lg items-center py-1 hover:bg-primary-green hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>u(3),children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-square-user",children:[y.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),y.jsx("circle",{cx:"12",cy:"10",r:"3"}),y.jsx("path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2"})]}),t("allUser")]}),i===3&&y.jsxs("div",{className:"ml-4 mt-1 flex flex-col gap-0.5 animate-fade-in-down transition-all ease-in-out duration-200",children:[y.jsxs("div",{className:s===1?"flex gap-2 font-medium items-center py-1 bg-black px-2 text-white cursor-pointer rounded-md ease-in-out duration-200":"flex gap-2 font-medium items-center py-1 hover:bg-black hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>C(1),children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user",children:[y.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t("centreManager")]}),y.jsxs("div",{className:s===2?"flex gap-2 font-medium items-center py-1 bg-black px-2 text-white cursor-pointer rounded-md ease-in-out duration-200":"flex gap-2 font-medium items-center py-1 hover:bg-black hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>C(2),children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user",children:[y.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t("manageStaff")]}),y.jsxs("div",{className:s===3?"flex gap-2 font-medium items-center py-1 bg-black px-2 text-white cursor-pointer rounded-md ease-in-out duration-200":"flex gap-2 font-medium items-center py-1 hover:bg-black hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>C(3),children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-user",children:[y.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),y.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),t("customer")]})]})]}),y.jsxs("div",{className:i===4?"flex gap-2 font-semibold text-lg items-center py-1 bg-primary-green px-2 text-white cursor-pointer rounded-md ease-in-out duration-200":"flex gap-2 font-semibold text-lg items-center py-1 hover:bg-primary-green hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>u(4),children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-hand-coins",children:[y.jsx("path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17"}),y.jsx("path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9"}),y.jsx("path",{d:"m2 16 6 6"}),y.jsx("circle",{cx:"16",cy:"9",r:"2.9"}),y.jsx("circle",{cx:"6",cy:"5",r:"3"})]}),t("withdrawalRequest")]}),y.jsxs("div",{className:i===5?"flex gap-2 font-semibold text-lg items-center py-1 bg-primary-green px-2 text-white cursor-pointer rounded-md ease-in-out duration-200":"flex gap-2 font-semibold text-lg items-center py-1 hover:bg-primary-green hover:px-2 hover:text-white cursor-pointer rounded-md ease-in-out duration-200",onClick:()=>u(5),children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-clipboard-list",children:[y.jsx("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),y.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),y.jsx("path",{d:"M12 11h4"}),y.jsx("path",{d:"M12 16h4"}),y.jsx("path",{d:"M8 11h.01"}),y.jsx("path",{d:"M8 16h.01"})]}),t("postCentreRequest")]})]})};var ej={},sG={exports:{}};/*!
 * ApexCharts v3.49.1
 * (c) 2018-2024 ApexCharts
 * Released under the MIT License.
 */(function(e,t){function i(Be,d){var A=Object.keys(Be);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(Be);d&&(p=p.filter(function(I){return Object.getOwnPropertyDescriptor(Be,I).enumerable})),A.push.apply(A,p)}return A}function o(Be){for(var d=1;d<arguments.length;d++){var A=arguments[d]!=null?arguments[d]:{};d%2?i(Object(A),!0).forEach(function(p){m(Be,p,A[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Be,Object.getOwnPropertyDescriptors(A)):i(Object(A)).forEach(function(p){Object.defineProperty(Be,p,Object.getOwnPropertyDescriptor(A,p))})}return Be}function s(Be){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},s(Be)}function c(Be,d){if(!(Be instanceof d))throw new TypeError("Cannot call a class as a function")}function u(Be,d){for(var A=0;A<d.length;A++){var p=d[A];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(Be,p.key,p)}}function C(Be,d,A){return d&&u(Be.prototype,d),A&&u(Be,A),Be}function m(Be,d,A){return d in Be?Object.defineProperty(Be,d,{value:A,enumerable:!0,configurable:!0,writable:!0}):Be[d]=A,Be}function v(Be,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");Be.prototype=Object.create(d&&d.prototype,{constructor:{value:Be,writable:!0,configurable:!0}}),d&&G(Be,d)}function x(Be){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},x(Be)}function G(Be,d){return G=Object.setPrototypeOf||function(A,p){return A.__proto__=p,A},G(Be,d)}function B(Be){if(Be===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Be}function R(Be){var d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var A,p=x(Be);if(d){var I=x(this).constructor;A=Reflect.construct(p,arguments,I)}else A=p.apply(this,arguments);return function(w,k){if(k&&(typeof k=="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(w)}(this,A)}}function V(Be,d){return function(A){if(Array.isArray(A))return A}(Be)||function(A,p){var I=A==null?null:typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(I!=null){var w,k,Z=[],E=!0,D=!1;try{for(I=I.call(A);!(E=(w=I.next()).done)&&(Z.push(w.value),!p||Z.length!==p);E=!0);}catch(Y){D=!0,k=Y}finally{try{E||I.return==null||I.return()}finally{if(D)throw k}}return Z}}(Be,d)||M(Be,d)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function H(Be){return function(d){if(Array.isArray(d))return L(d)}(Be)||function(d){if(typeof Symbol<"u"&&d[Symbol.iterator]!=null||d["@@iterator"]!=null)return Array.from(d)}(Be)||M(Be)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function M(Be,d){if(Be){if(typeof Be=="string")return L(Be,d);var A=Object.prototype.toString.call(Be).slice(8,-1);return A==="Object"&&Be.constructor&&(A=Be.constructor.name),A==="Map"||A==="Set"?Array.from(Be):A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A)?L(Be,d):void 0}}function L(Be,d){(d==null||d>Be.length)&&(d=Be.length);for(var A=0,p=new Array(d);A<d;A++)p[A]=Be[A];return p}var _=function(){function Be(){c(this,Be)}return C(Be,[{key:"shadeRGBColor",value:function(d,A){var p=A.split(","),I=d<0?0:255,w=d<0?-1*d:d,k=parseInt(p[0].slice(4),10),Z=parseInt(p[1],10),E=parseInt(p[2],10);return"rgb("+(Math.round((I-k)*w)+k)+","+(Math.round((I-Z)*w)+Z)+","+(Math.round((I-E)*w)+E)+")"}},{key:"shadeHexColor",value:function(d,A){var p=parseInt(A.slice(1),16),I=d<0?0:255,w=d<0?-1*d:d,k=p>>16,Z=p>>8&255,E=255&p;return"#"+(16777216+65536*(Math.round((I-k)*w)+k)+256*(Math.round((I-Z)*w)+Z)+(Math.round((I-E)*w)+E)).toString(16).slice(1)}},{key:"shadeColor",value:function(d,A){return Be.isColorHex(A)?this.shadeHexColor(d,A):this.shadeRGBColor(d,A)}}],[{key:"bind",value:function(d,A){return function(){return d.apply(A,arguments)}}},{key:"isObject",value:function(d){return d&&s(d)==="object"&&!Array.isArray(d)&&d!=null}},{key:"is",value:function(d,A){return Object.prototype.toString.call(A)==="[object "+d+"]"}},{key:"listToArray",value:function(d){var A,p=[];for(A=0;A<d.length;A++)p[A]=d[A];return p}},{key:"extend",value:function(d,A){var p=this;typeof Object.assign!="function"&&(Object.assign=function(w){if(w==null)throw new TypeError("Cannot convert undefined or null to object");for(var k=Object(w),Z=1;Z<arguments.length;Z++){var E=arguments[Z];if(E!=null)for(var D in E)E.hasOwnProperty(D)&&(k[D]=E[D])}return k});var I=Object.assign({},d);return this.isObject(d)&&this.isObject(A)&&Object.keys(A).forEach(function(w){p.isObject(A[w])&&w in d?I[w]=p.extend(d[w],A[w]):Object.assign(I,m({},w,A[w]))}),I}},{key:"extendArray",value:function(d,A){var p=[];return d.map(function(I){p.push(Be.extend(A,I))}),d=p}},{key:"monthMod",value:function(d){return d%12}},{key:"clone",value:function(d){if(Be.is("Array",d)){for(var A=[],p=0;p<d.length;p++)A[p]=this.clone(d[p]);return A}if(Be.is("Null",d))return null;if(Be.is("Date",d))return d;if(s(d)==="object"){var I={};for(var w in d)d.hasOwnProperty(w)&&(I[w]=this.clone(d[w]));return I}return d}},{key:"log10",value:function(d){return Math.log(d)/Math.LN10}},{key:"roundToBase10",value:function(d){return Math.pow(10,Math.floor(Math.log10(d)))}},{key:"roundToBase",value:function(d,A){return Math.pow(A,Math.floor(Math.log(d)/Math.log(A)))}},{key:"parseNumber",value:function(d){return d===null?d:parseFloat(d)}},{key:"stripNumber",value:function(d){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(d)?d:parseFloat(d.toPrecision(A))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(d){var A=String(d).split(/[eE]/);if(A.length===1)return A[0];var p="",I=d<0?"-":"",w=A[0].replace(".",""),k=Number(A[1])+1;if(k<0){for(p=I+"0.";k++;)p+="0";return p+w.replace(/^-/,"")}for(k-=w.length;k--;)p+="0";return w+p}},{key:"getDimensions",value:function(d){var A=getComputedStyle(d,null),p=d.clientHeight,I=d.clientWidth;return p-=parseFloat(A.paddingTop)+parseFloat(A.paddingBottom),[I-=parseFloat(A.paddingLeft)+parseFloat(A.paddingRight),p]}},{key:"getBoundingClientRect",value:function(d){var A=d.getBoundingClientRect();return{top:A.top,right:A.right,bottom:A.bottom,left:A.left,width:d.clientWidth,height:d.clientHeight,x:A.left,y:A.top}}},{key:"getLargestStringFromArr",value:function(d){return d.reduce(function(A,p){return Array.isArray(p)&&(p=p.reduce(function(I,w){return I.length>w.length?I:w})),A.length>p.length?A:p},0)}},{key:"hexToRgba",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;d.substring(0,1)!=="#"&&(d="#999999");var p=d.replace("#","");p=p.match(new RegExp("(.{"+p.length/3+"})","g"));for(var I=0;I<p.length;I++)p[I]=parseInt(p[I].length===1?p[I]+p[I]:p[I],16);return A!==void 0&&p.push(A),"rgba("+p.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(d){return parseFloat(d.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(d){return(d=d.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&d.length===4?"#"+("0"+parseInt(d[1],10).toString(16)).slice(-2)+("0"+parseInt(d[2],10).toString(16)).slice(-2)+("0"+parseInt(d[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(d){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(d)}},{key:"getPolygonPos",value:function(d,A){for(var p=[],I=2*Math.PI/A,w=0;w<A;w++){var k={};k.x=d*Math.sin(w*I),k.y=-d*Math.cos(w*I),p.push(k)}return p}},{key:"polarToCartesian",value:function(d,A,p,I){var w=(I-90)*Math.PI/180;return{x:d+p*Math.cos(w),y:A+p*Math.sin(w)}}},{key:"escapeString",value:function(d){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",p=d.toString().slice();return p=p.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,A)}},{key:"negToZero",value:function(d){return d<0?0:d}},{key:"moveIndexInArray",value:function(d,A,p){if(p>=d.length)for(var I=p-d.length+1;I--;)d.push(void 0);return d.splice(p,0,d.splice(A,1)[0]),d}},{key:"extractNumber",value:function(d){return parseFloat(d.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(d,A){for(;(d=d.parentElement)&&!d.classList.contains(A););return d}},{key:"setELstyles",value:function(d,A){for(var p in A)A.hasOwnProperty(p)&&(d.style.key=A[p])}},{key:"isNumber",value:function(d){return!isNaN(d)&&parseFloat(Number(d))===d&&!isNaN(parseInt(d,10))}},{key:"isFloat",value:function(d){return Number(d)===d&&d%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var d=window.navigator.userAgent,A=d.indexOf("MSIE ");if(A>0)return parseInt(d.substring(A+5,d.indexOf(".",A)),10);if(d.indexOf("Trident/")>0){var p=d.indexOf("rv:");return parseInt(d.substring(p+3,d.indexOf(".",p)),10)}var I=d.indexOf("Edge/");return I>0&&parseInt(d.substring(I+5,d.indexOf(".",I)),10)}},{key:"getGCD",value:function(d,A){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,I=Math.pow(10,p-Math.floor(Math.log10(Math.max(d,A))));for(d=Math.round(Math.abs(d)*I),A=Math.round(Math.abs(A)*I);A;){var w=A;A=d%A,d=w}return d/I}},{key:"getPrimeFactors",value:function(d){for(var A=[],p=2;d>=2;)d%p==0?(A.push(p),d/=p):p++;return A}},{key:"mod",value:function(d,A){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,I=Math.pow(10,p-Math.floor(Math.log10(Math.max(d,A))));return(d=Math.round(Math.abs(d)*I))%(A=Math.round(Math.abs(A)*I))/I}}]),Be}(),X=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w,this.setEasingFunctions()}return C(Be,[{key:"setEasingFunctions",value:function(){var d;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":d="-";break;case"easein":d="<";break;case"easeout":d=">";break;case"easeinout":default:d="<>";break;case"swing":d=function(A){var p=1.70158;return(A-=1)*A*((p+1)*A+p)+1};break;case"bounce":d=function(A){return A<1/2.75?7.5625*A*A:A<2/2.75?7.5625*(A-=1.5/2.75)*A+.75:A<2.5/2.75?7.5625*(A-=2.25/2.75)*A+.9375:7.5625*(A-=2.625/2.75)*A+.984375};break;case"elastic":d=function(A){return A===!!A?A:Math.pow(2,-10*A)*Math.sin((A-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=d}}},{key:"animateLine",value:function(d,A,p,I){d.attr(A).animate(I).attr(p)}},{key:"animateMarker",value:function(d,A,p,I,w,k){A||(A=0),d.attr({r:A,width:A,height:A}).animate(I,w).attr({r:p,width:p.width,height:p.height}).afterAll(function(){k()})}},{key:"animateCircle",value:function(d,A,p,I,w){d.attr({r:A.r,cx:A.cx,cy:A.cy}).animate(I,w).attr({r:p.r,cx:p.cx,cy:p.cy})}},{key:"animateRect",value:function(d,A,p,I,w){d.attr(A).animate(I).attr(p).afterAll(function(){return w()})}},{key:"animatePathsGradually",value:function(d){var A=d.el,p=d.realIndex,I=d.j,w=d.fill,k=d.pathFrom,Z=d.pathTo,E=d.speed,D=d.delay,Y=this.w,U=0;Y.config.chart.animations.animateGradually.enabled&&(U=Y.config.chart.animations.animateGradually.delay),Y.config.chart.animations.dynamicAnimation.enabled&&Y.globals.dataChanged&&Y.config.chart.type!=="bar"&&(U=0),this.morphSVG(A,p,I,Y.config.chart.type!=="line"||Y.globals.comboCharts?w:"stroke",k,Z,E,D*U)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(d){var A=d.el;A.classList.remove("apexcharts-element-hidden"),A.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(d){var A=this.w;A.globals.animationEnded||(A.globals.animationEnded=!0,this.showDelayedElements(),typeof A.config.chart.events.animationEnd=="function"&&A.config.chart.events.animationEnd(this.ctx,{el:d,w:A}))}},{key:"morphSVG",value:function(d,A,p,I,w,k,Z,E){var D=this,Y=this.w;w||(w=d.attr("pathFrom")),k||(k=d.attr("pathTo"));var U=function(z){return Y.config.chart.type==="radar"&&(Z=1),"M 0 ".concat(Y.globals.gridHeight)};(!w||w.indexOf("undefined")>-1||w.indexOf("NaN")>-1)&&(w=U()),(!k||k.indexOf("undefined")>-1||k.indexOf("NaN")>-1)&&(k=U()),Y.globals.shouldAnimate||(Z=1),d.plot(w).animate(1,Y.globals.easing,E).plot(w).animate(Z,Y.globals.easing,E).plot(k).afterAll(function(){_.isNumber(p)?p===Y.globals.series[Y.globals.maxValsInArrayIndex].length-2&&Y.globals.shouldAnimate&&D.animationCompleted(d):I!=="none"&&Y.globals.shouldAnimate&&(!Y.globals.comboCharts&&A===Y.globals.series.length-1||Y.globals.comboCharts)&&D.animationCompleted(d),D.showDelayedElements()})}}]),Be}(),Q=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"getDefaultFilter",value:function(d,A){var p=this.w;d.unfilter(!0),new window.SVG.Filter().size("120%","180%","-5%","-40%"),p.config.states.normal.filter!=="none"?this.applyFilter(d,A,p.config.states.normal.filter.type,p.config.states.normal.filter.value):p.config.chart.dropShadow.enabled&&this.dropShadow(d,p.config.chart.dropShadow,A)}},{key:"addNormalFilter",value:function(d,A){var p=this.w;p.config.chart.dropShadow.enabled&&!d.node.classList.contains("apexcharts-marker")&&this.dropShadow(d,p.config.chart.dropShadow,A)}},{key:"addLightenFilter",value:function(d,A,p){var I=this,w=this.w,k=p.intensity;d.unfilter(!0),new window.SVG.Filter,d.filter(function(Z){var E=w.config.chart.dropShadow;(E.enabled?I.addShadow(Z,A,E):Z).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:k}})}),d.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(d.filterer.node)}},{key:"addDarkenFilter",value:function(d,A,p){var I=this,w=this.w,k=p.intensity;d.unfilter(!0),new window.SVG.Filter,d.filter(function(Z){var E=w.config.chart.dropShadow;(E.enabled?I.addShadow(Z,A,E):Z).componentTransfer({rgb:{type:"linear",slope:k}})}),d.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(d.filterer.node)}},{key:"applyFilter",value:function(d,A,p){var I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.5;switch(p){case"none":this.addNormalFilter(d,A);break;case"lighten":this.addLightenFilter(d,A,{intensity:I});break;case"darken":this.addDarkenFilter(d,A,{intensity:I})}}},{key:"addShadow",value:function(d,A,p){var I,w=this.w,k=p.blur,Z=p.top,E=p.left,D=p.color,Y=p.opacity;if(((I=w.config.chart.dropShadow.enabledOnSeries)===null||I===void 0?void 0:I.length)>0&&w.config.chart.dropShadow.enabledOnSeries.indexOf(A)===-1)return d;var U=d.flood(Array.isArray(D)?D[A]:D,Y).composite(d.sourceAlpha,"in").offset(E,Z).gaussianBlur(k).merge(d.source);return d.blend(d.source,U)}},{key:"dropShadow",value:function(d,A){var p,I,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,k=A.top,Z=A.left,E=A.blur,D=A.color,Y=A.opacity,U=A.noUserSpaceOnUse,z=this.w;return d.unfilter(!0),_.isIE()&&z.config.chart.type==="radialBar"||((p=z.config.chart.dropShadow.enabledOnSeries)===null||p===void 0?void 0:p.length)>0&&((I=z.config.chart.dropShadow.enabledOnSeries)===null||I===void 0?void 0:I.indexOf(w))===-1||(D=Array.isArray(D)?D[w]:D,d.filter(function(te){var ae=null;ae=_.isSafari()||_.isFirefox()||_.isIE()?te.flood(D,Y).composite(te.sourceAlpha,"in").offset(Z,k).gaussianBlur(E):te.flood(D,Y).composite(te.sourceAlpha,"in").offset(Z,k).gaussianBlur(E).merge(te.source),te.blend(te.source,ae)}),U||d.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(d.filterer.node)),d}},{key:"setSelectionFilter",value:function(d,A,p){var I=this.w;if(I.globals.selectedDataPoints[A]!==void 0&&I.globals.selectedDataPoints[A].indexOf(p)>-1){d.node.setAttribute("selected",!0);var w=I.config.states.active.filter;w!=="none"&&this.applyFilter(d,A,w.type,w.value)}}},{key:"_scaleFilterSize",value:function(d){(function(A){for(var p in A)A.hasOwnProperty(p)&&d.setAttribute(p,A[p])})({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),Be}(),j=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"roundPathCorners",value:function(d,A){function p(Te,Qe,Oe){var ut=Qe.x-Te.x,Gt=Qe.y-Te.y,dt=Math.sqrt(ut*ut+Gt*Gt);return I(Te,Qe,Math.min(1,Oe/dt))}function I(Te,Qe,Oe){return{x:Te.x+(Qe.x-Te.x)*Oe,y:Te.y+(Qe.y-Te.y)*Oe}}function w(Te,Qe){Te.length>2&&(Te[Te.length-2]=Qe.x,Te[Te.length-1]=Qe.y)}function k(Te){return{x:parseFloat(Te[Te.length-2]),y:parseFloat(Te[Te.length-1])}}d.indexOf("NaN")>-1&&(d="");var Z=d.split(/[,\s]/).reduce(function(Te,Qe){var Oe=Qe.match("([a-zA-Z])(.+)");return Oe?(Te.push(Oe[1]),Te.push(Oe[2])):Te.push(Qe),Te},[]).reduce(function(Te,Qe){return parseFloat(Qe)==Qe&&Te.length?Te[Te.length-1].push(Qe):Te.push([Qe]),Te},[]),E=[];if(Z.length>1){var D=k(Z[0]),Y=null;Z[Z.length-1][0]=="Z"&&Z[0].length>2&&(Y=["L",D.x,D.y],Z[Z.length-1]=Y),E.push(Z[0]);for(var U=1;U<Z.length;U++){var z=E[E.length-1],te=Z[U],ae=te==Y?Z[1]:Z[U+1];if(ae&&z&&z.length>2&&te[0]=="L"&&ae.length>2&&ae[0]=="L"){var ge,Ce,we=k(z),ke=k(te),T=k(ae);ge=p(ke,we,A),Ce=p(ke,T,A),w(te,ge),te.origPoint=ke,E.push(te);var q=I(ge,ke,.5),Ae=I(ke,Ce,.5),Se=["C",q.x,q.y,Ae.x,Ae.y,Ce.x,Ce.y];Se.origPoint=ke,E.push(Se)}else E.push(te)}if(Y){var Ze=k(E[E.length-1]);E.push(["Z"]),w(E[0],Ze)}}else E=Z;return E.reduce(function(Te,Qe){return Te+Qe.join(" ")+" "},"")}},{key:"drawLine",value:function(d,A,p,I){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,Z=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,E=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:d,y1:A,x2:p,y2:I,stroke:w,"stroke-dasharray":k,"stroke-width":Z,"stroke-linecap":E})}},{key:"drawRect",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",Z=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,E=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,D=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,Y=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,U=this.w.globals.dom.Paper.rect();return U.attr({x:d,y:A,width:p>0?p:0,height:I>0?I:0,rx:w,ry:w,opacity:Z,"stroke-width":E!==null?E:0,stroke:D!==null?D:"none","stroke-dasharray":Y}),U.node.setAttribute("fill",k),U}},{key:"drawPolygon",value:function(d){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(d).attr({fill:I,stroke:A,"stroke-width":p})}},{key:"drawCircle",value:function(d){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;d<0&&(d=0);var p=this.w.globals.dom.Paper.circle(2*d);return A!==null&&p.attr(A),p}},{key:"drawPath",value:function(d){var A=d.d,p=A===void 0?"":A,I=d.stroke,w=I===void 0?"#a8a8a8":I,k=d.strokeWidth,Z=k===void 0?1:k,E=d.fill,D=d.fillOpacity,Y=D===void 0?1:D,U=d.strokeOpacity,z=U===void 0?1:U,te=d.classes,ae=d.strokeLinecap,ge=ae===void 0?null:ae,Ce=d.strokeDashArray,we=Ce===void 0?0:Ce,ke=this.w;return ge===null&&(ge=ke.config.stroke.lineCap),(p.indexOf("undefined")>-1||p.indexOf("NaN")>-1)&&(p="M 0 ".concat(ke.globals.gridHeight)),ke.globals.dom.Paper.path(p).attr({fill:E,"fill-opacity":Y,stroke:w,"stroke-opacity":z,"stroke-linecap":ge,"stroke-width":Z,"stroke-dasharray":we,class:te})}},{key:"group",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,A=this.w.globals.dom.Paper.group();return d!==null&&A.attr(d),A}},{key:"move",value:function(d,A){var p=["M",d,A].join(" ");return p}},{key:"line",value:function(d,A){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,I=null;return p===null?I=[" L",d,A].join(" "):p==="H"?I=[" H",d].join(" "):p==="V"&&(I=[" V",A].join(" ")),I}},{key:"curve",value:function(d,A,p,I,w,k){var Z=["C",d,A,p,I,w,k].join(" ");return Z}},{key:"quadraticCurve",value:function(d,A,p,I){return["Q",d,A,p,I].join(" ")}},{key:"arc",value:function(d,A,p,I,w,k,Z){var E="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(E="a");var D=[E,d,A,p,I,w,k,Z].join(" ");return D}},{key:"renderPaths",value:function(d){var A,p=d.j,I=d.realIndex,w=d.pathFrom,k=d.pathTo,Z=d.stroke,E=d.strokeWidth,D=d.strokeLinecap,Y=d.fill,U=d.animationDelay,z=d.initialSpeed,te=d.dataChangeSpeed,ae=d.className,ge=d.shouldClipToGrid,Ce=ge===void 0||ge,we=d.bindEventsOnPaths,ke=we===void 0||we,T=d.drawShadow,q=T===void 0||T,Ae=this.w,Se=new Q(this.ctx),Ze=new X(this.ctx),Te=this.w.config.chart.animations.enabled,Qe=Te&&this.w.config.chart.animations.dynamicAnimation.enabled,Oe=!!(Te&&!Ae.globals.resized||Qe&&Ae.globals.dataChanged&&Ae.globals.shouldAnimate);Oe?A=w:(A=k,Ae.globals.animationEnded=!0);var ut=Ae.config.stroke.dashArray,Gt=0;Gt=Array.isArray(ut)?ut[I]:Ae.config.stroke.dashArray;var dt=this.drawPath({d:A,stroke:Z,strokeWidth:E,fill:Y,fillOpacity:1,classes:ae,strokeLinecap:D,strokeDashArray:Gt});if(dt.attr("index",I),Ce&&dt.attr({"clip-path":"url(#gridRectMask".concat(Ae.globals.cuid,")")}),Ae.config.states.normal.filter.type!=="none")Se.getDefaultFilter(dt,I);else if(Ae.config.chart.dropShadow.enabled&&q){var Et=Ae.config.chart.dropShadow;Se.dropShadow(dt,Et,I)}ke&&(dt.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,dt)),dt.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,dt)),dt.node.addEventListener("mousedown",this.pathMouseDown.bind(this,dt))),dt.attr({pathTo:k,pathFrom:w});var Ot={el:dt,j:p,realIndex:I,pathFrom:w,pathTo:k,fill:Y,strokeWidth:E,delay:U};return!Te||Ae.globals.resized||Ae.globals.dataChanged?!Ae.globals.resized&&Ae.globals.dataChanged||Ze.showDelayedElements():Ze.animatePathsGradually(o(o({},Ot),{},{speed:z})),Ae.globals.dataChanged&&Qe&&Oe&&Ze.animatePathsGradually(o(o({},Ot),{},{speed:te})),dt}},{key:"drawPattern",value:function(d,A,p){var I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(A,p,function(k){d==="horizontalLines"?k.line(0,0,p,0).stroke({color:I,width:w+1}):d==="verticalLines"?k.line(0,0,0,A).stroke({color:I,width:w+1}):d==="slantedLines"?k.line(0,0,A,p).stroke({color:I,width:w}):d==="squares"?k.rect(A,p).fill("none").stroke({color:I,width:w}):d==="circles"&&k.circle(A).fill("none").stroke({color:I,width:w})})}},{key:"drawGradient",value:function(d,A,p,I,w){var k,Z=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,E=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,D=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,Y=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,U=this.w;A.length<9&&A.indexOf("#")===0&&(A=_.hexToRgba(A,I)),p.length<9&&p.indexOf("#")===0&&(p=_.hexToRgba(p,w));var z=0,te=1,ae=1,ge=null;E!==null&&(z=E[0]!==void 0?E[0]/100:0,te=E[1]!==void 0?E[1]/100:1,ae=E[2]!==void 0?E[2]/100:1,ge=E[3]!==void 0?E[3]/100:null);var Ce=!(U.config.chart.type!=="donut"&&U.config.chart.type!=="pie"&&U.config.chart.type!=="polarArea"&&U.config.chart.type!=="bubble");if(k=D===null||D.length===0?U.globals.dom.Paper.gradient(Ce?"radial":"linear",function(T){T.at(z,A,I),T.at(te,p,w),T.at(ae,p,w),ge!==null&&T.at(ge,A,I)}):U.globals.dom.Paper.gradient(Ce?"radial":"linear",function(T){(Array.isArray(D[Y])?D[Y]:D).forEach(function(q){T.at(q.offset/100,q.color,q.opacity)})}),Ce){var we=U.globals.gridWidth/2,ke=U.globals.gridHeight/2;U.config.chart.type!=="bubble"?k.attr({gradientUnits:"userSpaceOnUse",cx:we,cy:ke,r:Z}):k.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else d==="vertical"?k.from(0,0).to(0,1):d==="diagonal"?k.from(0,0).to(1,1):d==="horizontal"?k.from(0,1).to(1,1):d==="diagonal2"&&k.from(1,0).to(0,1);return k}},{key:"getTextBasedOnMaxWidth",value:function(d){var A=d.text,p=d.maxWidth,I=d.fontSize,w=d.fontFamily,k=this.getTextRects(A,I,w),Z=k.width/A.length,E=Math.floor(p/Z);return p<k.width?A.slice(0,E-3)+"...":A}},{key:"drawText",value:function(d){var A=this,p=d.x,I=d.y,w=d.text,k=d.textAnchor,Z=d.fontSize,E=d.fontFamily,D=d.fontWeight,Y=d.foreColor,U=d.opacity,z=d.maxWidth,te=d.cssClass,ae=te===void 0?"":te,ge=d.isPlainText,Ce=ge===void 0||ge,we=d.dominantBaseline,ke=we===void 0?"auto":we,T=this.w;w===void 0&&(w="");var q=w;k||(k="start"),Y&&Y.length||(Y=T.config.chart.foreColor),E=E||T.config.chart.fontFamily,D=D||"regular";var Ae,Se={maxWidth:z,fontSize:Z=Z||"11px",fontFamily:E};return Array.isArray(w)?Ae=T.globals.dom.Paper.text(function(Ze){for(var Te=0;Te<w.length;Te++)q=w[Te],z&&(q=A.getTextBasedOnMaxWidth(o({text:w[Te]},Se))),Te===0?Ze.tspan(q):Ze.tspan(q).newLine()}):(z&&(q=this.getTextBasedOnMaxWidth(o({text:w},Se))),Ae=Ce?T.globals.dom.Paper.plain(w):T.globals.dom.Paper.text(function(Ze){return Ze.tspan(q)})),Ae.attr({x:p,y:I,"text-anchor":k,"dominant-baseline":ke,"font-size":Z,"font-family":E,"font-weight":D,fill:Y,class:"apexcharts-text "+ae}),Ae.node.style.fontFamily=E,Ae.node.style.opacity=U,Ae}},{key:"createGroupWithAttributes",value:function(d,A,p,I){var w=this.group();return p.forEach(function(k){return w.add(k)}),w.attr({class:I.class?I.class:"",cy:A,cx:d}),w}},{key:"drawPlus",value:function(d,A,p,I){var w=p/2,k=this.drawLine(d,A-w,d,A+w,I.pointStrokeColor,I.pointStrokeDashArray,I.pointStrokeWidth,I.pointStrokeLineCap),Z=this.drawLine(d-w,A,d+w,A,I.pointStrokeColor,I.pointStrokeDashArray,I.pointStrokeWidth,I.pointStrokeLineCap);return this.createGroupWithAttributes(d,A,[k,Z],I)}},{key:"drawX",value:function(d,A,p,I){var w=p/2,k=this.drawLine(d-w,A-w,d+w,A+w,I.pointStrokeColor,I.pointStrokeDashArray,I.pointStrokeWidth,I.pointStrokeLineCap),Z=this.drawLine(d-w,A+w,d+w,A-w,I.pointStrokeColor,I.pointStrokeDashArray,I.pointStrokeWidth,I.pointStrokeLineCap);return this.createGroupWithAttributes(d,A,[k,Z],I)}},{key:"drawMarker",value:function(d,A,p){d=d||0;var I=p.pSize||0,w=null;if((p==null?void 0:p.shape)==="X"||(p==null?void 0:p.shape)==="x")w=this.drawX(d,A,I,p);else if((p==null?void 0:p.shape)==="plus"||(p==null?void 0:p.shape)==="+")w=this.drawPlus(d,A,I,p);else if(p.shape==="square"||p.shape==="rect"){var k=p.pRadius===void 0?I/2:p.pRadius;A!==null&&I||(I=0,k=0);var Z=1.2*I+k,E=this.drawRect(Z,Z,Z,Z,k);E.attr({x:d-Z/2,y:A-Z/2,cx:d,cy:A,class:p.class?p.class:"",fill:p.pointFillColor,"fill-opacity":p.pointFillOpacity?p.pointFillOpacity:1,stroke:p.pointStrokeColor,"stroke-width":p.pointStrokeWidth?p.pointStrokeWidth:0,"stroke-opacity":p.pointStrokeOpacity?p.pointStrokeOpacity:1}),w=E}else p.shape!=="circle"&&p.shape||(_.isNumber(A)||(I=0,A=0),w=this.drawCircle(I,{cx:d,cy:A,class:p.class?p.class:"",stroke:p.pointStrokeColor,fill:p.pointFillColor,"fill-opacity":p.pointFillOpacity?p.pointFillOpacity:1,"stroke-width":p.pointStrokeWidth?p.pointStrokeWidth:0,"stroke-opacity":p.pointStrokeOpacity?p.pointStrokeOpacity:1}));return w}},{key:"pathMouseEnter",value:function(d,A){var p=this.w,I=new Q(this.ctx),w=parseInt(d.node.getAttribute("index"),10),k=parseInt(d.node.getAttribute("j"),10);if(typeof p.config.chart.events.dataPointMouseEnter=="function"&&p.config.chart.events.dataPointMouseEnter(A,this.ctx,{seriesIndex:w,dataPointIndex:k,w:p}),this.ctx.events.fireEvent("dataPointMouseEnter",[A,this.ctx,{seriesIndex:w,dataPointIndex:k,w:p}]),(p.config.states.active.filter.type==="none"||d.node.getAttribute("selected")!=="true")&&p.config.states.hover.filter.type!=="none"&&!p.globals.isTouchDevice){var Z=p.config.states.hover.filter;I.applyFilter(d,w,Z.type,Z.value)}}},{key:"pathMouseLeave",value:function(d,A){var p=this.w,I=new Q(this.ctx),w=parseInt(d.node.getAttribute("index"),10),k=parseInt(d.node.getAttribute("j"),10);typeof p.config.chart.events.dataPointMouseLeave=="function"&&p.config.chart.events.dataPointMouseLeave(A,this.ctx,{seriesIndex:w,dataPointIndex:k,w:p}),this.ctx.events.fireEvent("dataPointMouseLeave",[A,this.ctx,{seriesIndex:w,dataPointIndex:k,w:p}]),p.config.states.active.filter.type!=="none"&&d.node.getAttribute("selected")==="true"||p.config.states.hover.filter.type!=="none"&&I.getDefaultFilter(d,w)}},{key:"pathMouseDown",value:function(d,A){var p=this.w,I=new Q(this.ctx),w=parseInt(d.node.getAttribute("index"),10),k=parseInt(d.node.getAttribute("j"),10),Z="false";if(d.node.getAttribute("selected")==="true"){if(d.node.setAttribute("selected","false"),p.globals.selectedDataPoints[w].indexOf(k)>-1){var E=p.globals.selectedDataPoints[w].indexOf(k);p.globals.selectedDataPoints[w].splice(E,1)}}else{if(!p.config.states.active.allowMultipleDataPointsSelection&&p.globals.selectedDataPoints.length>0){p.globals.selectedDataPoints=[];var D=p.globals.dom.Paper.select(".apexcharts-series path").members,Y=p.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,U=function(ae){Array.prototype.forEach.call(ae,function(ge){ge.node.setAttribute("selected","false"),I.getDefaultFilter(ge,w)})};U(D),U(Y)}d.node.setAttribute("selected","true"),Z="true",p.globals.selectedDataPoints[w]===void 0&&(p.globals.selectedDataPoints[w]=[]),p.globals.selectedDataPoints[w].push(k)}if(Z==="true"){var z=p.config.states.active.filter;if(z!=="none")I.applyFilter(d,w,z.type,z.value);else if(p.config.states.hover.filter!=="none"&&!p.globals.isTouchDevice){var te=p.config.states.hover.filter;I.applyFilter(d,w,te.type,te.value)}}else p.config.states.active.filter.type!=="none"&&(p.config.states.hover.filter.type==="none"||p.globals.isTouchDevice?I.getDefaultFilter(d,w):(te=p.config.states.hover.filter,I.applyFilter(d,w,te.type,te.value)));typeof p.config.chart.events.dataPointSelection=="function"&&p.config.chart.events.dataPointSelection(A,this.ctx,{selectedDataPoints:p.globals.selectedDataPoints,seriesIndex:w,dataPointIndex:k,w:p}),A&&this.ctx.events.fireEvent("dataPointSelection",[A,this.ctx,{selectedDataPoints:p.globals.selectedDataPoints,seriesIndex:w,dataPointIndex:k,w:p}])}},{key:"rotateAroundCenter",value:function(d){var A={};return d&&typeof d.getBBox=="function"&&(A=d.getBBox()),{x:A.x+A.width/2,y:A.y+A.height/2}}},{key:"getTextRects",value:function(d,A,p,I){var w=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],k=this.w,Z=this.drawText({x:-200,y:-200,text:d,textAnchor:"start",fontSize:A,fontFamily:p,foreColor:"#fff",opacity:0});I&&Z.attr("transform",I),k.globals.dom.Paper.add(Z);var E=Z.bbox();return w||(E=Z.node.getBoundingClientRect()),Z.remove(),{width:E.width,height:E.height}}},{key:"placeTextWithEllipsis",value:function(d,A,p){if(typeof d.getComputedTextLength=="function"&&(d.textContent=A,A.length>0&&d.getComputedTextLength()>=p/1.1)){for(var I=A.length-3;I>0;I-=3)if(d.getSubStringLength(0,I)<=p/1.1)return void(d.textContent=A.substring(0,I)+"...");d.textContent="."}}}],[{key:"setAttrs",value:function(d,A){for(var p in A)A.hasOwnProperty(p)&&d.setAttribute(p,A[p])}}]),Be}(),re=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"getStackedSeriesTotals",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],A=this.w,p=[];if(A.globals.series.length===0)return p;for(var I=0;I<A.globals.series[A.globals.maxValsInArrayIndex].length;I++){for(var w=0,k=0;k<A.globals.series.length;k++)A.globals.series[k][I]!==void 0&&d.indexOf(k)===-1&&(w+=A.globals.series[k][I]);p.push(w)}return p}},{key:"getSeriesTotalByIndex",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return d===null?this.w.config.series.reduce(function(A,p){return A+p},0):this.w.globals.series[d].reduce(function(A,p){return A+p},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var d=this,A=this.w,p=[];return A.globals.seriesGroups.forEach(function(I){var w=[];A.config.series.forEach(function(Z,E){I.indexOf(A.globals.seriesNames[E])>-1&&w.push(E)});var k=A.globals.series.map(function(Z,E){return w.indexOf(E)===-1?E:-1}).filter(function(Z){return Z!==-1});p.push(d.getStackedSeriesTotals(k))}),p}},{key:"setSeriesYAxisMappings",value:function(){var d=this.w.globals,A=this.w.config,p=[],I=[],w=[],k=d.series.length>A.yaxis.length||A.yaxis.some(function(U){return Array.isArray(U.seriesName)});A.series.forEach(function(U,z){w.push(z),I.push(null)}),A.yaxis.forEach(function(U,z){p[z]=[]});var Z=[];A.yaxis.forEach(function(U,z){var te=!1;if(U.seriesName){var ae=[];Array.isArray(U.seriesName)?ae=U.seriesName:ae.push(U.seriesName),ae.forEach(function(ge){A.series.forEach(function(Ce,we){if(Ce.name===ge){var ke=we;z===we||k?!k||w.indexOf(we)>-1?p[z].push([z,we]):console.warn("Series '"+Ce.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(p[we].push([we,z]),ke=z),te=!0,(ke=w.indexOf(ke))!==-1&&w.splice(ke,1)}})})}te||Z.push(z)}),p=p.map(function(U,z){var te=[];return U.forEach(function(ae){I[ae[1]]=ae[0],te.push(ae[1])}),te});for(var E=A.yaxis.length-1,D=0;D<Z.length&&(E=Z[D],p[E]=[],w);D++){var Y=w[0];w.shift(),p[E].push(Y),I[Y]=E}w.forEach(function(U){p[E].push(U),I[U]=E}),d.seriesYAxisMap=p.map(function(U){return U}),d.seriesYAxisReverseMap=I.map(function(U){return U}),d.seriesYAxisMap.forEach(function(U,z){U.forEach(function(te){A.series[te]&&A.series[te].group===void 0&&(A.series[te].group="apexcharts-axis-".concat(z.toString()))})})}},{key:"isSeriesNull",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(d===null?this.w.config.series.filter(function(A){return A!==null}):this.w.config.series[d].data.filter(function(A){return A!==null})).length===0}},{key:"seriesHaveSameValues",value:function(d){return this.w.globals.series[d].every(function(A,p,I){return A===I[0]})}},{key:"getCategoryLabels",value:function(d){var A=this.w,p=d.slice();return A.config.xaxis.convertedCatToNumeric&&(p=d.map(function(I,w){return A.config.xaxis.labels.formatter(I-A.globals.minX+1)})),p}},{key:"getLargestSeries",value:function(){var d=this.w;d.globals.maxValsInArrayIndex=d.globals.series.map(function(A){return A.length}).indexOf(Math.max.apply(Math,d.globals.series.map(function(A){return A.length})))}},{key:"getLargestMarkerSize",value:function(){var d=this.w,A=0;return d.globals.markers.size.forEach(function(p){A=Math.max(A,p)}),d.config.markers.discrete&&d.config.markers.discrete.length&&d.config.markers.discrete.forEach(function(p){A=Math.max(A,p.size)}),A>0&&(A+=d.config.markers.hover.sizeOffset+1),d.globals.markers.largestSize=A,A}},{key:"getSeriesTotals",value:function(){var d=this.w;d.globals.seriesTotals=d.globals.series.map(function(A,p){var I=0;if(Array.isArray(A))for(var w=0;w<A.length;w++)I+=A[w];else I+=A;return I})}},{key:"getSeriesTotalsXRange",value:function(d,A){var p=this.w;return p.globals.series.map(function(I,w){for(var k=0,Z=0;Z<I.length;Z++)p.globals.seriesX[w][Z]>d&&p.globals.seriesX[w][Z]<A&&(k+=I[Z]);return k})}},{key:"getPercentSeries",value:function(){var d=this.w;d.globals.seriesPercent=d.globals.series.map(function(A,p){var I=[];if(Array.isArray(A))for(var w=0;w<A.length;w++){var k=d.globals.stackedSeriesTotals[w],Z=0;k&&(Z=100*A[w]/k),I.push(Z)}else{var E=100*A/d.globals.seriesTotals.reduce(function(D,Y){return D+Y},0);I.push(E)}return I})}},{key:"getCalculatedRatios",value:function(){var d,A,p,I=this,w=this.w,k=w.globals,Z=[],E=0,D=[],Y=.1,U=0;if(k.yRange=[],k.isMultipleYAxis)for(var z=0;z<k.minYArr.length;z++)k.yRange.push(Math.abs(k.minYArr[z]-k.maxYArr[z])),D.push(0);else k.yRange.push(Math.abs(k.minY-k.maxY));k.xRange=Math.abs(k.maxX-k.minX),k.zRange=Math.abs(k.maxZ-k.minZ);for(var te=0;te<k.yRange.length;te++)Z.push(k.yRange[te]/k.gridHeight);if(A=k.xRange/k.gridWidth,d=k.yRange/k.gridWidth,p=k.xRange/k.gridHeight,(E=k.zRange/k.gridHeight*16)||(E=1),k.minY!==Number.MIN_VALUE&&Math.abs(k.minY)!==0&&(k.hasNegs=!0),w.globals.seriesYAxisReverseMap.length>0){var ae=function(Ce,we){var ke=w.config.yaxis[w.globals.seriesYAxisReverseMap[we]],T=Ce<0?-1:1;return Ce=Math.abs(Ce),ke.logarithmic&&(Ce=I.getBaseLog(ke.logBase,Ce)),-T*Ce/Z[we]};if(k.isMultipleYAxis){D=[];for(var ge=0;ge<Z.length;ge++)D.push(ae(k.minYArr[ge],ge))}else(D=[]).push(ae(k.minY,0)),k.minY!==Number.MIN_VALUE&&Math.abs(k.minY)!==0&&(Y=-k.minY/d,U=k.minX/A)}else(D=[]).push(0),Y=0,U=0;return{yRatio:Z,invertedYRatio:d,zRatio:E,xRatio:A,invertedXRatio:p,baseLineInvertedY:Y,baseLineY:D,baseLineX:U}}},{key:"getLogSeries",value:function(d){var A=this,p=this.w;return p.globals.seriesLog=d.map(function(I,w){var k=p.globals.seriesYAxisReverseMap[w];return p.config.yaxis[k]&&p.config.yaxis[k].logarithmic?I.map(function(Z){return Z===null?null:A.getLogVal(p.config.yaxis[k].logBase,Z,w)}):I}),p.globals.invalidLogScale?d:p.globals.seriesLog}},{key:"getBaseLog",value:function(d,A){return Math.log(A)/Math.log(d)}},{key:"getLogVal",value:function(d,A,p){if(A<=0)return 0;var I=this.w,w=I.globals.minYArr[p]===0?-1:this.getBaseLog(d,I.globals.minYArr[p]),k=(I.globals.maxYArr[p]===0?0:this.getBaseLog(d,I.globals.maxYArr[p]))-w;return A<1?A/k:(this.getBaseLog(d,A)-w)/k}},{key:"getLogYRatios",value:function(d){var A=this,p=this.w,I=this.w.globals;return I.yLogRatio=d.slice(),I.logYRange=I.yRange.map(function(w,k){var Z=p.globals.seriesYAxisReverseMap[k];if(p.config.yaxis[Z]&&A.w.config.yaxis[Z].logarithmic){var E,D=-Number.MAX_VALUE,Y=Number.MIN_VALUE;return I.seriesLog.forEach(function(U,z){U.forEach(function(te){p.config.yaxis[z]&&p.config.yaxis[z].logarithmic&&(D=Math.max(te,D),Y=Math.min(te,Y))})}),E=Math.pow(I.yRange[k],Math.abs(Y-D)/I.yRange[k]),I.yLogRatio[k]=E/I.gridHeight,E}}),I.invalidLogScale?d.slice():I.yLogRatio}},{key:"drawSeriesByGroup",value:function(d,A,p,I){var w=this.w,k=[];return d.series.length>0&&A.forEach(function(Z){var E=[],D=[];d.i.forEach(function(Y,U){w.config.series[Y].group===Z&&(E.push(d.series[U]),D.push(Y))}),E.length>0&&k.push(I.draw(E,p,D))}),k}}],[{key:"checkComboSeries",value:function(d,A){var p=!1,I=0,w=0;return A===void 0&&(A="line"),d.length&&d[0].type!==void 0&&d.forEach(function(k){k.type!=="bar"&&k.type!=="column"&&k.type!=="candlestick"&&k.type!=="boxPlot"||I++,k.type!==void 0&&k.type!==A&&w++}),w>0&&(p=!0),{comboBarCount:I,comboCharts:p}}},{key:"extendArrayProps",value:function(d,A,p){var I,w,k,Z,E,D;return(I=A)!==null&&I!==void 0&&I.yaxis&&(A=d.extendYAxis(A,p)),(w=A)!==null&&w!==void 0&&w.annotations&&(A.annotations.yaxis&&(A=d.extendYAxisAnnotations(A)),(k=A)!==null&&k!==void 0&&(Z=k.annotations)!==null&&Z!==void 0&&Z.xaxis&&(A=d.extendXAxisAnnotations(A)),(E=A)!==null&&E!==void 0&&(D=E.annotations)!==null&&D!==void 0&&D.points&&(A=d.extendPointAnnotations(A))),A}}]),Be}(),P=function(){function Be(d){c(this,Be),this.w=d.w,this.annoCtx=d}return C(Be,[{key:"setOrientations",value:function(d){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,p=this.w;if(d.label.orientation==="vertical"){var I=A!==null?A:0,w=p.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(I,"']"));if(w!==null){var k=w.getBoundingClientRect();w.setAttribute("x",parseFloat(w.getAttribute("x"))-k.height+4),d.label.position==="top"?w.setAttribute("y",parseFloat(w.getAttribute("y"))+k.width):w.setAttribute("y",parseFloat(w.getAttribute("y"))-k.width);var Z=this.annoCtx.graphics.rotateAroundCenter(w),E=Z.x,D=Z.y;w.setAttribute("transform","rotate(-90 ".concat(E," ").concat(D,")"))}}}},{key:"addBackgroundToAnno",value:function(d,A){var p=this.w;if(!d||A.label.text===void 0||A.label.text!==void 0&&!String(A.label.text).trim())return null;var I=p.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),w=d.getBoundingClientRect(),k=A.label.style.padding.left,Z=A.label.style.padding.right,E=A.label.style.padding.top,D=A.label.style.padding.bottom;A.label.orientation==="vertical"&&(E=A.label.style.padding.left,D=A.label.style.padding.right,k=A.label.style.padding.top,Z=A.label.style.padding.bottom);var Y=w.left-I.left-k,U=w.top-I.top-E,z=this.annoCtx.graphics.drawRect(Y-p.globals.barPadForNumericAxis,U,w.width+k+Z,w.height+E+D,A.label.borderRadius,A.label.style.background,1,A.label.borderWidth,A.label.borderColor,0);return A.id&&z.node.classList.add(A.id),z}},{key:"annotationsBackground",value:function(){var d=this,A=this.w,p=function(I,w,k){var Z=A.globals.dom.baseEl.querySelector(".apexcharts-".concat(k,"-annotations .apexcharts-").concat(k,"-annotation-label[rel='").concat(w,"']"));if(Z){var E=Z.parentNode,D=d.addBackgroundToAnno(Z,I);D&&(E.insertBefore(D.node,Z),I.label.mouseEnter&&D.node.addEventListener("mouseenter",I.label.mouseEnter.bind(d,I)),I.label.mouseLeave&&D.node.addEventListener("mouseleave",I.label.mouseLeave.bind(d,I)),I.label.click&&D.node.addEventListener("click",I.label.click.bind(d,I)))}};A.config.annotations.xaxis.map(function(I,w){p(I,w,"xaxis")}),A.config.annotations.yaxis.map(function(I,w){p(I,w,"yaxis")}),A.config.annotations.points.map(function(I,w){p(I,w,"point")})}},{key:"getY1Y2",value:function(d,A){var p,I=d==="y1"?A.y:A.y2,w=!1,k=this.w;if(this.annoCtx.invertAxis){var Z=k.globals.labels;k.config.xaxis.convertedCatToNumeric&&(Z=k.globals.categoryLabels);var E=Z.indexOf(I),D=k.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(E+1)+")");p=D?parseFloat(D.getAttribute("y")):(k.globals.gridHeight/Z.length-1)*(E+1)-k.globals.barHeight,A.seriesIndex!==void 0&&k.globals.barHeight&&(p=p-k.globals.barHeight/2*(k.globals.series.length-1)+k.globals.barHeight*A.seriesIndex)}else{var Y,U=k.globals.seriesYAxisMap[A.yAxisIndex][0];k.config.yaxis[A.yAxisIndex].logarithmic?Y=(I=new re(this.annoCtx.ctx).getLogVal(k.config.yaxis[A.yAxisIndex].logBase,I,U))/k.globals.yLogRatio[U]:Y=(I-k.globals.minYArr[U])/(k.globals.yRange[U]/k.globals.gridHeight),Y>k.globals.gridHeight?(Y=k.globals.gridHeight,w=!0):Y<0&&(Y=0,w=!0),p=k.globals.gridHeight-Y,!A.marker||A.y!==void 0&&A.y!==null||(p=0),k.config.yaxis[A.yAxisIndex]&&k.config.yaxis[A.yAxisIndex].reversed&&(p=Y)}return typeof I=="string"&&I.indexOf("px")>-1&&(p=parseFloat(I)),{yP:p,clipped:w}}},{key:"getX1X2",value:function(d,A){var p,I=d==="x1"?A.x:A.x2,w=this.w,k=this.annoCtx.invertAxis?w.globals.minY:w.globals.minX,Z=this.annoCtx.invertAxis?w.globals.maxY:w.globals.maxX,E=this.annoCtx.invertAxis?w.globals.yRange[0]:w.globals.xRange,D=!1;return p=this.annoCtx.inversedReversedAxis?(Z-I)/(E/w.globals.gridWidth):(I-k)/(E/w.globals.gridWidth),w.config.xaxis.type!=="category"&&!w.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||w.globals.dataFormatXNumeric||w.config.chart.sparkline.enabled||(p=this.getStringX(I)),typeof I=="string"&&I.indexOf("px")>-1&&(p=parseFloat(I)),I==null&&A.marker&&(p=w.globals.gridWidth),A.seriesIndex!==void 0&&w.globals.barWidth&&!this.annoCtx.invertAxis&&(p=p-w.globals.barWidth/2*(w.globals.series.length-1)+w.globals.barWidth*A.seriesIndex),p>w.globals.gridWidth?(p=w.globals.gridWidth,D=!0):p<0&&(p=0,D=!0),{x:p,clipped:D}}},{key:"getStringX",value:function(d){var A=this.w,p=d;A.config.xaxis.convertedCatToNumeric&&A.globals.categoryLabels.length&&(d=A.globals.categoryLabels.indexOf(d)+1);var I=A.globals.labels.indexOf(d),w=A.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(I+1)+")");return w&&(p=parseFloat(w.getAttribute("x"))),p}}]),Be}(),O=function(){function Be(d){c(this,Be),this.w=d.w,this.annoCtx=d,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new P(this.annoCtx)}return C(Be,[{key:"addXaxisAnnotation",value:function(d,A,p){var I,w=this.w,k=this.helpers.getX1X2("x1",d),Z=k.x,E=k.clipped,D=!0,Y=d.label.text,U=d.strokeDashArray;if(_.isNumber(Z)){if(d.x2===null||d.x2===void 0){if(!E){var z=this.annoCtx.graphics.drawLine(Z+d.offsetX,0+d.offsetY,Z+d.offsetX,w.globals.gridHeight+d.offsetY,d.borderColor,U,d.borderWidth);A.appendChild(z.node),d.id&&z.node.classList.add(d.id)}}else{var te=this.helpers.getX1X2("x2",d);if(I=te.x,D=te.clipped,!E||!D){if(I<Z){var ae=Z;Z=I,I=ae}var ge=this.annoCtx.graphics.drawRect(Z+d.offsetX,0+d.offsetY,I-Z,w.globals.gridHeight+d.offsetY,0,d.fillColor,d.opacity,1,d.borderColor,U);ge.node.classList.add("apexcharts-annotation-rect"),ge.attr("clip-path","url(#gridRectMask".concat(w.globals.cuid,")")),A.appendChild(ge.node),d.id&&ge.node.classList.add(d.id)}}if(!E||!D){var Ce=this.annoCtx.graphics.getTextRects(Y,parseFloat(d.label.style.fontSize)),we=d.label.position==="top"?4:d.label.position==="center"?w.globals.gridHeight/2+(d.label.orientation==="vertical"?Ce.width/2:0):w.globals.gridHeight,ke=this.annoCtx.graphics.drawText({x:Z+d.label.offsetX,y:we+d.label.offsetY-(d.label.orientation==="vertical"?d.label.position==="top"?Ce.width/2-12:-Ce.width/2:0),text:Y,textAnchor:d.label.textAnchor,fontSize:d.label.style.fontSize,fontFamily:d.label.style.fontFamily,fontWeight:d.label.style.fontWeight,foreColor:d.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(d.label.style.cssClass," ").concat(d.id?d.id:"")});ke.attr({rel:p}),A.appendChild(ke.node),this.annoCtx.helpers.setOrientations(d,p)}}}},{key:"drawXAxisAnnotations",value:function(){var d=this,A=this.w,p=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return A.config.annotations.xaxis.map(function(I,w){d.addXaxisAnnotation(I,p.node,w)}),p}}]),Be}(),de=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return C(Be,[{key:"isValidDate",value:function(d){return typeof d!="number"&&!isNaN(this.parseDate(d))}},{key:"getTimeStamp",value:function(d){return Date.parse(d)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(d).toISOString().substr(0,25)).getTime():new Date(d).getTime():d}},{key:"getDate",value:function(d){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(d).toUTCString()):new Date(d)}},{key:"parseDate",value:function(d){var A=Date.parse(d);if(!isNaN(A))return this.getTimeStamp(d);var p=Date.parse(d.replace(/-/g,"/").replace(/[a-z]+/gi," "));return p=this.getTimeStamp(p)}},{key:"parseDateWithTimezone",value:function(d){return Date.parse(d.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(d,A){var p=this.w.globals.locale,I=this.w.config.xaxis.labels.datetimeUTC,w=["\0"].concat(H(p.months)),k=[""].concat(H(p.shortMonths)),Z=[""].concat(H(p.days)),E=[""].concat(H(p.shortDays));function D(Te,Qe){var Oe=Te+"";for(Qe=Qe||2;Oe.length<Qe;)Oe="0"+Oe;return Oe}var Y=I?d.getUTCFullYear():d.getFullYear();A=(A=(A=A.replace(/(^|[^\\])yyyy+/g,"$1"+Y)).replace(/(^|[^\\])yy/g,"$1"+Y.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+Y);var U=(I?d.getUTCMonth():d.getMonth())+1;A=(A=(A=(A=A.replace(/(^|[^\\])MMMM+/g,"$1"+w[0])).replace(/(^|[^\\])MMM/g,"$1"+k[0])).replace(/(^|[^\\])MM/g,"$1"+D(U))).replace(/(^|[^\\])M/g,"$1"+U);var z=I?d.getUTCDate():d.getDate();A=(A=(A=(A=A.replace(/(^|[^\\])dddd+/g,"$1"+Z[0])).replace(/(^|[^\\])ddd/g,"$1"+E[0])).replace(/(^|[^\\])dd/g,"$1"+D(z))).replace(/(^|[^\\])d/g,"$1"+z);var te=I?d.getUTCHours():d.getHours(),ae=te>12?te-12:te===0?12:te;A=(A=(A=(A=A.replace(/(^|[^\\])HH+/g,"$1"+D(te))).replace(/(^|[^\\])H/g,"$1"+te)).replace(/(^|[^\\])hh+/g,"$1"+D(ae))).replace(/(^|[^\\])h/g,"$1"+ae);var ge=I?d.getUTCMinutes():d.getMinutes();A=(A=A.replace(/(^|[^\\])mm+/g,"$1"+D(ge))).replace(/(^|[^\\])m/g,"$1"+ge);var Ce=I?d.getUTCSeconds():d.getSeconds();A=(A=A.replace(/(^|[^\\])ss+/g,"$1"+D(Ce))).replace(/(^|[^\\])s/g,"$1"+Ce);var we=I?d.getUTCMilliseconds():d.getMilliseconds();A=A.replace(/(^|[^\\])fff+/g,"$1"+D(we,3)),we=Math.round(we/10),A=A.replace(/(^|[^\\])ff/g,"$1"+D(we)),we=Math.round(we/10);var ke=te<12?"AM":"PM";A=(A=(A=A.replace(/(^|[^\\])f/g,"$1"+we)).replace(/(^|[^\\])TT+/g,"$1"+ke)).replace(/(^|[^\\])T/g,"$1"+ke.charAt(0));var T=ke.toLowerCase();A=(A=A.replace(/(^|[^\\])tt+/g,"$1"+T)).replace(/(^|[^\\])t/g,"$1"+T.charAt(0));var q=-d.getTimezoneOffset(),Ae=I||!q?"Z":q>0?"+":"-";if(!I){var Se=(q=Math.abs(q))%60;Ae+=D(Math.floor(q/60))+":"+D(Se)}A=A.replace(/(^|[^\\])K/g,"$1"+Ae);var Ze=(I?d.getUTCDay():d.getDay())+1;return A=(A=(A=(A=(A=A.replace(new RegExp(Z[0],"g"),Z[Ze])).replace(new RegExp(E[0],"g"),E[Ze])).replace(new RegExp(w[0],"g"),w[U])).replace(new RegExp(k[0],"g"),k[U])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(d,A,p){var I=this.w;I.config.xaxis.min!==void 0&&(d=I.config.xaxis.min),I.config.xaxis.max!==void 0&&(A=I.config.xaxis.max);var w=this.getDate(d),k=this.getDate(A),Z=this.formatDate(w,"yyyy MM dd HH mm ss fff").split(" "),E=this.formatDate(k,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(Z[6],10),maxMillisecond:parseInt(E[6],10),minSecond:parseInt(Z[5],10),maxSecond:parseInt(E[5],10),minMinute:parseInt(Z[4],10),maxMinute:parseInt(E[4],10),minHour:parseInt(Z[3],10),maxHour:parseInt(E[3],10),minDate:parseInt(Z[2],10),maxDate:parseInt(E[2],10),minMonth:parseInt(Z[1],10)-1,maxMonth:parseInt(E[1],10)-1,minYear:parseInt(Z[0],10),maxYear:parseInt(E[0],10)}}},{key:"isLeapYear",value:function(d){return d%4==0&&d%100!=0||d%400==0}},{key:"calculcateLastDaysOfMonth",value:function(d,A,p){return this.determineDaysOfMonths(d,A)-p}},{key:"determineDaysOfYear",value:function(d){var A=365;return this.isLeapYear(d)&&(A=366),A}},{key:"determineRemainingDaysOfYear",value:function(d,A,p){var I=this.daysCntOfYear[A]+p;return A>1&&this.isLeapYear()&&I++,I}},{key:"determineDaysOfMonths",value:function(d,A){var p=30;switch(d=_.monthMod(d),!0){case this.months30.indexOf(d)>-1:d===2&&(p=this.isLeapYear(A)?29:28);break;case this.months31.indexOf(d)>-1:default:p=31}return p}}]),Be}(),ce=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w,this.tooltipKeyFormat="dd MMM"}return C(Be,[{key:"xLabelFormat",value:function(d,A,p,I){var w=this.w;if(w.config.xaxis.type==="datetime"&&w.config.xaxis.labels.formatter===void 0&&w.config.tooltip.x.formatter===void 0){var k=new de(this.ctx);return k.formatDate(k.getDate(A),w.config.tooltip.x.format)}return d(A,p,I)}},{key:"defaultGeneralFormatter",value:function(d){return Array.isArray(d)?d.map(function(A){return A}):d}},{key:"defaultYFormatter",value:function(d,A,p){var I=this.w;if(_.isNumber(d))if(I.globals.yValueDecimal!==0)d=d.toFixed(A.decimalsInFloat!==void 0?A.decimalsInFloat:I.globals.yValueDecimal);else{var w=d.toFixed(0);d=d==w?w:d.toFixed(1)}return d}},{key:"setLabelFormatters",value:function(){var d=this,A=this.w;return A.globals.xaxisTooltipFormatter=function(p){return d.defaultGeneralFormatter(p)},A.globals.ttKeyFormatter=function(p){return d.defaultGeneralFormatter(p)},A.globals.ttZFormatter=function(p){return p},A.globals.legendFormatter=function(p){return d.defaultGeneralFormatter(p)},A.config.xaxis.labels.formatter!==void 0?A.globals.xLabelFormatter=A.config.xaxis.labels.formatter:A.globals.xLabelFormatter=function(p){if(_.isNumber(p)){if(!A.config.xaxis.convertedCatToNumeric&&A.config.xaxis.type==="numeric"){if(_.isNumber(A.config.xaxis.decimalsInFloat))return p.toFixed(A.config.xaxis.decimalsInFloat);var I=A.globals.maxX-A.globals.minX;return I>0&&I<100?p.toFixed(1):p.toFixed(0)}return A.globals.isBarHorizontal&&A.globals.maxY-A.globals.minYArr<4?p.toFixed(1):p.toFixed(0)}return p},typeof A.config.tooltip.x.formatter=="function"?A.globals.ttKeyFormatter=A.config.tooltip.x.formatter:A.globals.ttKeyFormatter=A.globals.xLabelFormatter,typeof A.config.xaxis.tooltip.formatter=="function"&&(A.globals.xaxisTooltipFormatter=A.config.xaxis.tooltip.formatter),(Array.isArray(A.config.tooltip.y)||A.config.tooltip.y.formatter!==void 0)&&(A.globals.ttVal=A.config.tooltip.y),A.config.tooltip.z.formatter!==void 0&&(A.globals.ttZFormatter=A.config.tooltip.z.formatter),A.config.legend.formatter!==void 0&&(A.globals.legendFormatter=A.config.legend.formatter),A.config.yaxis.forEach(function(p,I){p.labels.formatter!==void 0?A.globals.yLabelFormatters[I]=p.labels.formatter:A.globals.yLabelFormatters[I]=function(w){return A.globals.xyCharts?Array.isArray(w)?w.map(function(k){return d.defaultYFormatter(k,p,I)}):d.defaultYFormatter(w,p,I):w}}),A.globals}},{key:"heatmapLabelFormatters",value:function(){var d=this.w;if(d.config.chart.type==="heatmap"){d.globals.yAxisScale[0].result=d.globals.seriesNames.slice();var A=d.globals.seriesNames.reduce(function(p,I){return p.length>I.length?p:I},0);d.globals.yAxisScale[0].niceMax=A,d.globals.yAxisScale[0].niceMin=A}}}]),Be}(),ne=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"getLabel",value:function(d,A,p,I){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",Z=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],E=this.w,D=d[I]===void 0?"":d[I],Y=D,U=E.globals.xLabelFormatter,z=E.config.xaxis.labels.formatter,te=!1,ae=new ce(this.ctx),ge=D;Z&&(Y=ae.xLabelFormat(U,D,ge,{i:I,dateFormatter:new de(this.ctx).formatDate,w:E}),z!==void 0&&(Y=z(D,d[I],{i:I,dateFormatter:new de(this.ctx).formatDate,w:E})));var Ce,we;A.length>0?(Ce=A[I].unit,we=null,A.forEach(function(Ae){Ae.unit==="month"?we="year":Ae.unit==="day"?we="month":Ae.unit==="hour"?we="day":Ae.unit==="minute"&&(we="hour")}),te=we===Ce,p=A[I].position,Y=A[I].value):E.config.xaxis.type==="datetime"&&z===void 0&&(Y=""),Y===void 0&&(Y=""),Y=Array.isArray(Y)?Y:Y.toString();var ke=new j(this.ctx),T={};T=E.globals.rotateXLabels&&Z?ke.getTextRects(Y,parseInt(k,10),null,"rotate(".concat(E.config.xaxis.labels.rotate," 0 0)"),!1):ke.getTextRects(Y,parseInt(k,10));var q=!E.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(Y)&&(String(Y)==="NaN"||w.indexOf(Y)>=0&&q)&&(Y=""),{x:p,text:Y,textRect:T,isBold:te}}},{key:"checkLabelBasedOnTickamount",value:function(d,A,p){var I=this.w,w=I.config.xaxis.tickAmount;return w==="dataPoints"&&(w=Math.round(I.globals.gridWidth/120)),w>p||d%Math.round(p/(w+1))==0||(A.text=""),A}},{key:"checkForOverflowingLabels",value:function(d,A,p,I,w){var k=this.w;if(d===0&&k.globals.skipFirstTimelinelabel&&(A.text=""),d===p-1&&k.globals.skipLastTimelinelabel&&(A.text=""),k.config.xaxis.labels.hideOverlappingLabels&&I.length>0){var Z=w[w.length-1];A.x<Z.textRect.width/(k.globals.rotateXLabels?Math.abs(k.config.xaxis.labels.rotate)/12:1.01)+Z.x&&(A.text="")}return A}},{key:"checkForReversedLabels",value:function(d,A){var p=this.w;return p.config.yaxis[d]&&p.config.yaxis[d].reversed&&A.reverse(),A}},{key:"yAxisAllSeriesCollapsed",value:function(d){var A=this.w.globals;return!A.seriesYAxisMap[d].some(function(p){return A.collapsedSeriesIndices.indexOf(p)===-1})}},{key:"translateYAxisIndex",value:function(d){var A=this.w,p=A.globals,I=A.config.yaxis;return p.series.length>I.length||I.some(function(w){return Array.isArray(w.seriesName)})?d:p.seriesYAxisReverseMap[d]}},{key:"isYAxisHidden",value:function(d){var A=this.w,p=A.config.yaxis[d];if(!p.show||this.yAxisAllSeriesCollapsed(d))return!0;if(!p.showForNullSeries){var I=A.globals.seriesYAxisMap[d],w=new re(this.ctx);return I.every(function(k){return w.isSeriesNull(k)})}return!1}},{key:"getYAxisForeColor",value:function(d,A){var p=this.w;return Array.isArray(d)&&p.globals.yAxisScale[A]&&this.ctx.theme.pushExtraColors(d,p.globals.yAxisScale[A].result.length,!1),d}},{key:"drawYAxisTicks",value:function(d,A,p,I,w,k,Z){var E=this.w,D=new j(this.ctx),Y=E.globals.translateY+E.config.yaxis[w].labels.offsetY;if(E.globals.isBarHorizontal?Y=0:E.config.chart.type==="heatmap"&&(Y+=k/2),I.show&&A>0){E.config.yaxis[w].opposite===!0&&(d+=I.width);for(var U=A;U>=0;U--){var z=D.drawLine(d+p.offsetX-I.width+I.offsetX,Y+I.offsetY,d+p.offsetX+I.offsetX,Y+I.offsetY,I.color);Z.add(z),Y+=k}}}}]),Be}(),oe=function(){function Be(d){c(this,Be),this.w=d.w,this.annoCtx=d,this.helpers=new P(this.annoCtx),this.axesUtils=new ne(this.annoCtx)}return C(Be,[{key:"addYaxisAnnotation",value:function(d,A,p){var I,w=this.w,k=d.strokeDashArray,Z=this.helpers.getY1Y2("y1",d),E=Z.yP,D=Z.clipped,Y=!0,U=!1,z=d.label.text;if(d.y2===null||d.y2===void 0){if(!D){U=!0;var te=this.annoCtx.graphics.drawLine(0+d.offsetX,E+d.offsetY,this._getYAxisAnnotationWidth(d),E+d.offsetY,d.borderColor,k,d.borderWidth);A.appendChild(te.node),d.id&&te.node.classList.add(d.id)}}else{if(I=(Z=this.helpers.getY1Y2("y2",d)).yP,Y=Z.clipped,I>E){var ae=E;E=I,I=ae}if(!D||!Y){U=!0;var ge=this.annoCtx.graphics.drawRect(0+d.offsetX,I+d.offsetY,this._getYAxisAnnotationWidth(d),E-I,0,d.fillColor,d.opacity,1,d.borderColor,k);ge.node.classList.add("apexcharts-annotation-rect"),ge.attr("clip-path","url(#gridRectMask".concat(w.globals.cuid,")")),A.appendChild(ge.node),d.id&&ge.node.classList.add(d.id)}}if(U){var Ce=d.label.position==="right"?w.globals.gridWidth:d.label.position==="center"?w.globals.gridWidth/2:0,we=this.annoCtx.graphics.drawText({x:Ce+d.label.offsetX,y:(I??E)+d.label.offsetY-3,text:z,textAnchor:d.label.textAnchor,fontSize:d.label.style.fontSize,fontFamily:d.label.style.fontFamily,fontWeight:d.label.style.fontWeight,foreColor:d.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(d.label.style.cssClass," ").concat(d.id?d.id:"")});we.attr({rel:p}),A.appendChild(we.node)}}},{key:"_getYAxisAnnotationWidth",value:function(d){var A=this.w;return A.globals.gridWidth,(d.width.indexOf("%")>-1?A.globals.gridWidth*parseInt(d.width,10)/100:parseInt(d.width,10))+d.offsetX}},{key:"drawYAxisAnnotations",value:function(){var d=this,A=this.w,p=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return A.config.annotations.yaxis.forEach(function(I,w){I.yAxisIndex=d.axesUtils.translateYAxisIndex(I.yAxisIndex),d.axesUtils.isYAxisHidden(I.yAxisIndex)&&d.axesUtils.yAxisAllSeriesCollapsed(I.yAxisIndex)||d.addYaxisAnnotation(I,p.node,w)}),p}}]),Be}(),be=function(){function Be(d){c(this,Be),this.w=d.w,this.annoCtx=d,this.helpers=new P(this.annoCtx)}return C(Be,[{key:"addPointAnnotation",value:function(d,A,p){if(!(this.w.globals.collapsedSeriesIndices.indexOf(d.seriesIndex)>-1)){var I=this.helpers.getX1X2("x1",d),w=I.x,k=I.clipped,Z=(I=this.helpers.getY1Y2("y1",d)).yP,E=I.clipped;if(_.isNumber(w)&&!E&&!k){var D={pSize:d.marker.size,pointStrokeWidth:d.marker.strokeWidth,pointFillColor:d.marker.fillColor,pointStrokeColor:d.marker.strokeColor,shape:d.marker.shape,pRadius:d.marker.radius,class:"apexcharts-point-annotation-marker ".concat(d.marker.cssClass," ").concat(d.id?d.id:"")},Y=this.annoCtx.graphics.drawMarker(w+d.marker.offsetX,Z+d.marker.offsetY,D);A.appendChild(Y.node);var U=d.label.text?d.label.text:"",z=this.annoCtx.graphics.drawText({x:w+d.label.offsetX,y:Z+d.label.offsetY-d.marker.size-parseFloat(d.label.style.fontSize)/1.6,text:U,textAnchor:d.label.textAnchor,fontSize:d.label.style.fontSize,fontFamily:d.label.style.fontFamily,fontWeight:d.label.style.fontWeight,foreColor:d.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(d.label.style.cssClass," ").concat(d.id?d.id:"")});if(z.attr({rel:p}),A.appendChild(z.node),d.customSVG.SVG){var te=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+d.customSVG.cssClass});te.attr({transform:"translate(".concat(w+d.customSVG.offsetX,", ").concat(Z+d.customSVG.offsetY,")")}),te.node.innerHTML=d.customSVG.SVG,A.appendChild(te.node)}if(d.image.path){var ae=d.image.width?d.image.width:20,ge=d.image.height?d.image.height:20;Y=this.annoCtx.addImage({x:w+d.image.offsetX-ae/2,y:Z+d.image.offsetY-ge/2,width:ae,height:ge,path:d.image.path,appendTo:".apexcharts-point-annotations"})}d.mouseEnter&&Y.node.addEventListener("mouseenter",d.mouseEnter.bind(this,d)),d.mouseLeave&&Y.node.addEventListener("mouseleave",d.mouseLeave.bind(this,d)),d.click&&Y.node.addEventListener("click",d.click.bind(this,d))}}}},{key:"drawPointAnnotations",value:function(){var d=this,A=this.w,p=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return A.config.annotations.points.map(function(I,w){d.addPointAnnotation(I,p.node,w)}),p}}]),Be}(),Ie={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Re=function(){function Be(){c(this,Be),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return C(Be,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[Ie],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(d){return new Date(d).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(d){return d}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(d){return d+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(d){return d.globals.seriesTotals.reduce(function(A,p){return A+p},0)/d.globals.series.length+"%"}}},barLabels:{enabled:!1,margin:5,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(d){return d},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(d){return d}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(d){return d}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(d){return d.globals.seriesTotals.reduce(function(A,p){return A+p},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(d){return d!==null?d:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(d){return d?d+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),Be}(),ye=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w,this.graphics=new j(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new P(this),this.xAxisAnnotations=new O(this),this.yAxisAnnotations=new oe(this),this.pointsAnnotations=new be(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return C(Be,[{key:"drawAxesAnnotations",value:function(){var d=this.w;if(d.globals.axisCharts){for(var A=this.yAxisAnnotations.drawYAxisAnnotations(),p=this.xAxisAnnotations.drawXAxisAnnotations(),I=this.pointsAnnotations.drawPointAnnotations(),w=d.config.chart.animations.enabled,k=[A,p,I],Z=[p.node,A.node,I.node],E=0;E<3;E++)d.globals.dom.elGraphical.add(k[E]),!w||d.globals.resized||d.globals.dataChanged||d.config.chart.type!=="scatter"&&d.config.chart.type!=="bubble"&&d.globals.dataPoints>1&&Z[E].classList.add("apexcharts-element-hidden"),d.globals.delayedElements.push({el:Z[E],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var d=this;this.w.config.annotations.images.map(function(A,p){d.addImage(A,p)})}},{key:"drawTextAnnos",value:function(){var d=this;this.w.config.annotations.texts.map(function(A,p){d.addText(A,p)})}},{key:"addXaxisAnnotation",value:function(d,A,p){this.xAxisAnnotations.addXaxisAnnotation(d,A,p)}},{key:"addYaxisAnnotation",value:function(d,A,p){this.yAxisAnnotations.addYaxisAnnotation(d,A,p)}},{key:"addPointAnnotation",value:function(d,A,p){this.pointsAnnotations.addPointAnnotation(d,A,p)}},{key:"addText",value:function(d,A){var p=d.x,I=d.y,w=d.text,k=d.textAnchor,Z=d.foreColor,E=d.fontSize,D=d.fontFamily,Y=d.fontWeight,U=d.cssClass,z=d.backgroundColor,te=d.borderWidth,ae=d.strokeDashArray,ge=d.borderRadius,Ce=d.borderColor,we=d.appendTo,ke=we===void 0?".apexcharts-svg":we,T=d.paddingLeft,q=T===void 0?4:T,Ae=d.paddingRight,Se=Ae===void 0?4:Ae,Ze=d.paddingBottom,Te=Ze===void 0?2:Ze,Qe=d.paddingTop,Oe=Qe===void 0?2:Qe,ut=this.w,Gt=this.graphics.drawText({x:p,y:I,text:w,textAnchor:k||"start",fontSize:E||"12px",fontWeight:Y||"regular",fontFamily:D||ut.config.chart.fontFamily,foreColor:Z||ut.config.chart.foreColor,cssClass:U}),dt=ut.globals.dom.baseEl.querySelector(ke);dt&&dt.appendChild(Gt.node);var Et=Gt.bbox();if(w){var Ot=this.graphics.drawRect(Et.x-q,Et.y-Oe,Et.width+q+Se,Et.height+Te+Oe,ge,z||"transparent",1,te,Ce,ae);dt.insertBefore(Ot.node,Gt.node)}}},{key:"addImage",value:function(d,A){var p=this.w,I=d.path,w=d.x,k=w===void 0?0:w,Z=d.y,E=Z===void 0?0:Z,D=d.width,Y=D===void 0?20:D,U=d.height,z=U===void 0?20:U,te=d.appendTo,ae=te===void 0?".apexcharts-svg":te,ge=p.globals.dom.Paper.image(I);ge.size(Y,z).move(k,E);var Ce=p.globals.dom.baseEl.querySelector(ae);return Ce&&Ce.appendChild(ge.node),ge}},{key:"addXaxisAnnotationExternal",value:function(d,A,p){return this.addAnnotationExternal({params:d,pushToMemory:A,context:p,type:"xaxis",contextMethod:p.addXaxisAnnotation}),p}},{key:"addYaxisAnnotationExternal",value:function(d,A,p){return this.addAnnotationExternal({params:d,pushToMemory:A,context:p,type:"yaxis",contextMethod:p.addYaxisAnnotation}),p}},{key:"addPointAnnotationExternal",value:function(d,A,p){return this.invertAxis===void 0&&(this.invertAxis=p.w.globals.isBarHorizontal),this.addAnnotationExternal({params:d,pushToMemory:A,context:p,type:"point",contextMethod:p.addPointAnnotation}),p}},{key:"addAnnotationExternal",value:function(d){var A=d.params,p=d.pushToMemory,I=d.context,w=d.type,k=d.contextMethod,Z=I,E=Z.w,D=E.globals.dom.baseEl.querySelector(".apexcharts-".concat(w,"-annotations")),Y=D.childNodes.length+1,U=new Re,z=Object.assign({},w==="xaxis"?U.xAxisAnnotation:w==="yaxis"?U.yAxisAnnotation:U.pointAnnotation),te=_.extend(z,A);switch(w){case"xaxis":this.addXaxisAnnotation(te,D,Y);break;case"yaxis":this.addYaxisAnnotation(te,D,Y);break;case"point":this.addPointAnnotation(te,D,Y)}var ae=E.globals.dom.baseEl.querySelector(".apexcharts-".concat(w,"-annotations .apexcharts-").concat(w,"-annotation-label[rel='").concat(Y,"']")),ge=this.helpers.addBackgroundToAnno(ae,te);return ge&&D.insertBefore(ge.node,ae),p&&E.globals.memory.methodsToExec.push({context:Z,id:te.id?te.id:_.randomId(),method:k,label:"addAnnotation",params:A}),I}},{key:"clearAnnotations",value:function(d){var A=d.w,p=A.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");A.globals.memory.methodsToExec.map(function(I,w){I.label!=="addText"&&I.label!=="addAnnotation"||A.globals.memory.methodsToExec.splice(w,1)}),p=_.listToArray(p),Array.prototype.forEach.call(p,function(I){for(;I.firstChild;)I.removeChild(I.firstChild)})}},{key:"removeAnnotation",value:function(d,A){var p=d.w,I=p.globals.dom.baseEl.querySelectorAll(".".concat(A));I&&(p.globals.memory.methodsToExec.map(function(w,k){w.id===A&&p.globals.memory.methodsToExec.splice(k,1)}),Array.prototype.forEach.call(I,function(w){w.parentElement.removeChild(w)}))}}]),Be}(),ve=function(Be){var d,A=Be.isTimeline,p=Be.ctx,I=Be.seriesIndex,w=Be.dataPointIndex,k=Be.y1,Z=Be.y2,E=Be.w,D=E.globals.seriesRangeStart[I][w],Y=E.globals.seriesRangeEnd[I][w],U=E.globals.labels[w],z=E.config.series[I].name?E.config.series[I].name:"",te=E.globals.ttKeyFormatter,ae=E.config.tooltip.y.title.formatter,ge={w:E,seriesIndex:I,dataPointIndex:w,start:D,end:Y};typeof ae=="function"&&(z=ae(z,ge)),(d=E.config.series[I].data[w])!==null&&d!==void 0&&d.x&&(U=E.config.series[I].data[w].x),A||E.config.xaxis.type==="datetime"&&(U=new ce(p).xLabelFormat(E.globals.ttKeyFormatter,U,U,{i:void 0,dateFormatter:new de(p).formatDate,w:E})),typeof te=="function"&&(U=te(U,ge)),Number.isFinite(k)&&Number.isFinite(Z)&&(D=k,Y=Z);var Ce="",we="",ke=E.globals.colors[I];if(E.config.tooltip.x.formatter===void 0)if(E.config.xaxis.type==="datetime"){var T=new de(p);Ce=T.formatDate(T.getDate(D),E.config.tooltip.x.format),we=T.formatDate(T.getDate(Y),E.config.tooltip.x.format)}else Ce=D,we=Y;else Ce=E.config.tooltip.x.formatter(D),we=E.config.tooltip.x.formatter(Y);return{start:D,end:Y,startVal:Ce,endVal:we,ylabel:U,color:ke,seriesName:z}},fe=function(Be){var d=Be.color,A=Be.seriesName,p=Be.ylabel,I=Be.start,w=Be.end,k=Be.seriesIndex,Z=Be.dataPointIndex,E=Be.ctx.tooltip.tooltipLabels.getFormatters(k);I=E.yLbFormatter(I),w=E.yLbFormatter(w);var D=E.yLbFormatter(Be.w.globals.series[k][Z]),Y=`<span class="value start-value">
  `.concat(I,`
  </span> <span class="separator">-</span> <span class="value end-value">
  `).concat(w,`
  </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+d+'">'+(A||"")+'</span></div><div> <span class="category">'+p+": </span> "+(Be.w.globals.comboCharts?Be.w.config.series[k].type==="rangeArea"||Be.w.config.series[k].type==="rangeBar"?Y:"<span>".concat(D,"</span>"):Y)+" </div></div>"},Ge=function(){function Be(d){c(this,Be),this.opts=d}return C(Be,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(d){return this.hideYAxis(),_.extend(d,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(d,A){var p=A.w.config.series[A.seriesIndex].name;return d!==null?p+": "+d:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),o(o({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var d=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(A){var p=A.seriesIndex,I=A.dataPointIndex,w=A.w;return d._getBoxTooltip(w,p,I,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var d=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(A){var p=A.seriesIndex,I=A.dataPointIndex,w=A.w;return d._getBoxTooltip(w,p,I,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(d,A){A.ctx;var p=A.seriesIndex,I=A.dataPointIndex,w=A.w,k=function(){var Z=w.globals.seriesRangeStart[p][I];return w.globals.seriesRangeEnd[p][I]-Z};return w.globals.comboCharts?w.config.series[p].type==="rangeBar"||w.config.series[p].type==="rangeArea"?k():d:k()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(d){return d.w.config.plotOptions&&d.w.config.plotOptions.bar&&d.w.config.plotOptions.bar.horizontal?function(A){var p=ve(o(o({},A),{},{isTimeline:!0})),I=p.color,w=p.seriesName,k=p.ylabel,Z=p.startVal,E=p.endVal;return fe(o(o({},A),{},{color:I,seriesName:w,ylabel:k,start:Z,end:E}))}(d):function(A){var p=ve(A),I=p.color,w=p.seriesName,k=p.ylabel,Z=p.start,E=p.end;return fe(o(o({},A),{},{color:I,seriesName:w,ylabel:k,start:Z,end:E}))}(d)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(d){var A,p;return(A=d.plotOptions.bar)!==null&&A!==void 0&&A.barHeight||(d.plotOptions.bar.barHeight=2),(p=d.plotOptions.bar)!==null&&p!==void 0&&p.columnWidth||(d.plotOptions.bar.columnWidth=2),d}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(d){return function(A){var p=ve(A),I=p.color,w=p.seriesName,k=p.ylabel,Z=p.start,E=p.end;return fe(o(o({},A),{},{color:I,seriesName:w,ylabel:k,start:Z,end:E}))}(d)}}}}},{key:"brush",value:function(d){return _.extend(d,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(d){d.dataLabels=d.dataLabels||{},d.dataLabels.formatter=d.dataLabels.formatter||void 0;var A=d.dataLabels.formatter;return d.yaxis.forEach(function(p,I){d.yaxis[I].min=0,d.yaxis[I].max=100}),d.chart.type==="bar"&&(d.dataLabels.formatter=A||function(p){return typeof p=="number"&&p?p.toFixed(0)+"%":p}),d}},{key:"stackedBars",value:function(){var d=this.bar();return o(o({},d),{},{plotOptions:o(o({},d.plotOptions),{},{bar:o(o({},d.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(d){return d.xaxis.convertedCatToNumeric=!0,d}},{key:"convertCatToNumericXaxis",value:function(d,A,p){d.xaxis.type="numeric",d.xaxis.labels=d.xaxis.labels||{},d.xaxis.labels.formatter=d.xaxis.labels.formatter||function(k){return _.isNumber(k)?Math.floor(k):k};var I=d.xaxis.labels.formatter,w=d.xaxis.categories&&d.xaxis.categories.length?d.xaxis.categories:d.labels;return p&&p.length&&(w=p.map(function(k){return Array.isArray(k)?k:String(k)})),w&&w.length&&(d.xaxis.labels.formatter=function(k){return _.isNumber(k)?I(w[Math.floor(k)-1]):I(k)}),d.xaxis.categories=[],d.labels=[],d.xaxis.tickAmount=d.xaxis.tickAmount||"dataPoints",d}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(d){return d.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(d){return d.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(d){return d.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(d){return d},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(d,A,p,I,w){var k=d.globals.seriesCandleO[A][p],Z=d.globals.seriesCandleH[A][p],E=d.globals.seriesCandleM[A][p],D=d.globals.seriesCandleL[A][p],Y=d.globals.seriesCandleC[A][p];return d.config.series[A].type&&d.config.series[A].type!==w?`<div class="apexcharts-custom-tooltip">
          `.concat(d.config.series[A].name?d.config.series[A].name:"series-"+(A+1),": <strong>").concat(d.globals.series[A][p],`</strong>
        </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(d.config.chart.type,'">')+"<div>".concat(I[0],': <span class="value">')+k+"</span></div>"+"<div>".concat(I[1],': <span class="value">')+Z+"</span></div>"+(E?"<div>".concat(I[2],': <span class="value">')+E+"</span></div>":"")+"<div>".concat(I[3],': <span class="value">')+D+"</span></div>"+"<div>".concat(I[4],': <span class="value">')+Y+"</span></div></div>"}}]),Be}(),De=function(){function Be(d){c(this,Be),this.opts=d}return C(Be,[{key:"init",value:function(d){var A=d.responsiveOverride,p=this.opts,I=new Re,w=new Ge(p);this.chartType=p.chart.type,p=this.extendYAxis(p),p=this.extendAnnotations(p);var k=I.init(),Z={};if(p&&s(p)==="object"){var E,D,Y,U,z,te,ae,ge,Ce,we,ke={};ke=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(p.chart.type)!==-1?w[p.chart.type]():w.line(),(E=p.plotOptions)!==null&&E!==void 0&&(D=E.bar)!==null&&D!==void 0&&D.isFunnel&&(ke=w.funnel()),p.chart.stacked&&p.chart.type==="bar"&&(ke=w.stackedBars()),(Y=p.chart.brush)!==null&&Y!==void 0&&Y.enabled&&(ke=w.brush(ke)),(U=p.plotOptions)!==null&&U!==void 0&&(z=U.line)!==null&&z!==void 0&&z.isSlopeChart&&(ke=w.slope()),p.chart.stacked&&p.chart.stackType==="100%"&&(p=w.stacked100(p)),(te=p.plotOptions)!==null&&te!==void 0&&(ae=te.bar)!==null&&ae!==void 0&&ae.isDumbbell&&(p=w.dumbbell(p)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(p),p.xaxis=p.xaxis||window.Apex.xaxis||{},A||(p.xaxis.convertedCatToNumeric=!1),((ge=(p=this.checkForCatToNumericXAxis(this.chartType,ke,p)).chart.sparkline)!==null&&ge!==void 0&&ge.enabled||(Ce=window.Apex.chart)!==null&&Ce!==void 0&&(we=Ce.sparkline)!==null&&we!==void 0&&we.enabled)&&(ke=w.sparkline(ke)),Z=_.extend(k,ke)}var T=_.extend(Z,window.Apex);return k=_.extend(T,p),k=this.handleUserInputErrors(k)}},{key:"checkForCatToNumericXAxis",value:function(d,A,p){var I,w,k=new Ge(p),Z=(d==="bar"||d==="boxPlot")&&((I=p.plotOptions)===null||I===void 0||(w=I.bar)===null||w===void 0?void 0:w.horizontal),E=d==="pie"||d==="polarArea"||d==="donut"||d==="radar"||d==="radialBar"||d==="heatmap",D=p.xaxis.type!=="datetime"&&p.xaxis.type!=="numeric",Y=p.xaxis.tickPlacement?p.xaxis.tickPlacement:A.xaxis&&A.xaxis.tickPlacement;return Z||E||!D||Y==="between"||(p=k.convertCatToNumeric(p)),p}},{key:"extendYAxis",value:function(d,A){var p=new Re;(d.yaxis===void 0||!d.yaxis||Array.isArray(d.yaxis)&&d.yaxis.length===0)&&(d.yaxis={}),d.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(d.yaxis=_.extend(d.yaxis,window.Apex.yaxis)),d.yaxis.constructor!==Array?d.yaxis=[_.extend(p.yAxis,d.yaxis)]:d.yaxis=_.extendArray(d.yaxis,p.yAxis);var I=!1;d.yaxis.forEach(function(k){k.logarithmic&&(I=!0)});var w=d.series;return A&&!w&&(w=A.config.series),I&&w.length!==d.yaxis.length&&w.length&&(d.yaxis=w.map(function(k,Z){if(k.name||(w[Z].name="series-".concat(Z+1)),d.yaxis[Z])return d.yaxis[Z].seriesName=w[Z].name,d.yaxis[Z];var E=_.extend(p.yAxis,d.yaxis[0]);return E.show=!1,E})),I&&w.length>1&&w.length!==d.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),d}},{key:"extendAnnotations",value:function(d){return d.annotations===void 0&&(d.annotations={},d.annotations.yaxis=[],d.annotations.xaxis=[],d.annotations.points=[]),d=this.extendYAxisAnnotations(d),d=this.extendXAxisAnnotations(d),d=this.extendPointAnnotations(d)}},{key:"extendYAxisAnnotations",value:function(d){var A=new Re;return d.annotations.yaxis=_.extendArray(d.annotations.yaxis!==void 0?d.annotations.yaxis:[],A.yAxisAnnotation),d}},{key:"extendXAxisAnnotations",value:function(d){var A=new Re;return d.annotations.xaxis=_.extendArray(d.annotations.xaxis!==void 0?d.annotations.xaxis:[],A.xAxisAnnotation),d}},{key:"extendPointAnnotations",value:function(d){var A=new Re;return d.annotations.points=_.extendArray(d.annotations.points!==void 0?d.annotations.points:[],A.pointAnnotation),d}},{key:"checkForDarkTheme",value:function(d){d.theme&&d.theme.mode==="dark"&&(d.tooltip||(d.tooltip={}),d.tooltip.theme!=="light"&&(d.tooltip.theme="dark"),d.chart.foreColor||(d.chart.foreColor="#f6f7f8"),d.chart.background||(d.chart.background="#424242"),d.theme.palette||(d.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(d){var A=d;if(A.tooltip.shared&&A.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(A.chart.type==="bar"&&A.plotOptions.bar.horizontal){if(A.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");A.yaxis[0].reversed&&(A.yaxis[0].opposite=!0),A.xaxis.tooltip.enabled=!1,A.yaxis[0].tooltip.enabled=!1,A.chart.zoom.enabled=!1}return A.chart.type!=="bar"&&A.chart.type!=="rangeBar"||A.tooltip.shared&&A.xaxis.crosshairs.width==="barWidth"&&A.series.length>1&&(A.xaxis.crosshairs.width="tickWidth"),A.chart.type!=="candlestick"&&A.chart.type!=="boxPlot"||A.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(A.chart.type," chart is not supported.")),A.yaxis[0].reversed=!1),A}}]),Be}(),Pe=function(){function Be(){c(this,Be)}return C(Be,[{key:"initGlobalVars",value:function(d){d.series=[],d.seriesCandleO=[],d.seriesCandleH=[],d.seriesCandleM=[],d.seriesCandleL=[],d.seriesCandleC=[],d.seriesRangeStart=[],d.seriesRangeEnd=[],d.seriesRange=[],d.seriesPercent=[],d.seriesGoals=[],d.seriesX=[],d.seriesZ=[],d.seriesNames=[],d.seriesTotals=[],d.seriesLog=[],d.seriesColors=[],d.stackedSeriesTotals=[],d.seriesXvalues=[],d.seriesYvalues=[],d.labels=[],d.hasXaxisGroups=!1,d.groups=[],d.barGroups=[],d.lineGroups=[],d.areaGroups=[],d.hasSeriesGroups=!1,d.seriesGroups=[],d.categoryLabels=[],d.timescaleLabels=[],d.noLabelsProvided=!1,d.resizeTimer=null,d.selectionResizeTimer=null,d.delayedElements=[],d.pointsArray=[],d.dataLabelsRects=[],d.isXNumeric=!1,d.skipLastTimelinelabel=!1,d.skipFirstTimelinelabel=!1,d.isDataXYZ=!1,d.isMultiLineX=!1,d.isMultipleYAxis=!1,d.maxY=-Number.MAX_VALUE,d.minY=Number.MIN_VALUE,d.minYArr=[],d.maxYArr=[],d.maxX=-Number.MAX_VALUE,d.minX=Number.MAX_VALUE,d.initialMaxX=-Number.MAX_VALUE,d.initialMinX=Number.MAX_VALUE,d.maxDate=0,d.minDate=Number.MAX_VALUE,d.minZ=Number.MAX_VALUE,d.maxZ=-Number.MAX_VALUE,d.minXDiff=Number.MAX_VALUE,d.yAxisScale=[],d.xAxisScale=null,d.xAxisTicksPositions=[],d.yLabelsCoords=[],d.yTitleCoords=[],d.barPadForNumericAxis=0,d.padHorizontal=0,d.xRange=0,d.yRange=[],d.zRange=0,d.dataPoints=0,d.xTickAmount=0,d.multiAxisTickAmount=0}},{key:"globalVars",value:function(d){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:d.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:d.chart.toolbar.autoSelected==="zoom"&&d.chart.toolbar.tools.zoom&&d.chart.zoom.enabled,panEnabled:d.chart.toolbar.autoSelected==="pan"&&d.chart.toolbar.tools.pan,selectionEnabled:d.chart.toolbar.autoSelected==="selection"&&d.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:d.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(d){var A=this.globalVars(d);return this.initGlobalVars(A),A.initialConfig=_.extend({},d),A.initialSeries=_.clone(d.series),A.lastXAxis=_.clone(A.initialConfig.xaxis),A.lastYAxis=_.clone(A.initialConfig.yaxis),A}}]),Be}(),me=function(){function Be(d){c(this,Be),this.opts=d}return C(Be,[{key:"init",value:function(){var d=new De(this.opts).init({responsiveOverride:!1});return{config:d,globals:new Pe().init(d)}}}]),Be}(),_e=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w,this.opts=null,this.seriesIndex=0}return C(Be,[{key:"clippedImgArea",value:function(d){var A=this.w,p=A.config,I=parseInt(A.globals.gridWidth,10),w=parseInt(A.globals.gridHeight,10),k=I>w?I:w,Z=d.image,E=0,D=0;d.width===void 0&&d.height===void 0?p.fill.image.width!==void 0&&p.fill.image.height!==void 0?(E=p.fill.image.width+1,D=p.fill.image.height):(E=k+1,D=k):(E=d.width,D=d.height);var Y=document.createElementNS(A.globals.SVGNS,"pattern");j.setAttrs(Y,{id:d.patternID,patternUnits:d.patternUnits?d.patternUnits:"userSpaceOnUse",width:E+"px",height:D+"px"});var U=document.createElementNS(A.globals.SVGNS,"image");Y.appendChild(U),U.setAttributeNS(window.SVG.xlink,"href",Z),j.setAttrs(U,{x:0,y:0,preserveAspectRatio:"none",width:E+"px",height:D+"px"}),U.style.opacity=d.opacity,A.globals.dom.elDefs.node.appendChild(Y)}},{key:"getSeriesIndex",value:function(d){var A=this.w,p=A.config.chart.type;return(p==="bar"||p==="rangeBar")&&A.config.plotOptions.bar.distributed||p==="heatmap"||p==="treemap"?this.seriesIndex=d.seriesNumber:this.seriesIndex=d.seriesNumber%A.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(d){var A=this.w;this.opts=d;var p,I,w,k=this.w.config;this.seriesIndex=this.getSeriesIndex(d);var Z=this.getFillColors()[this.seriesIndex];A.globals.seriesColors[this.seriesIndex]!==void 0&&(Z=A.globals.seriesColors[this.seriesIndex]),typeof Z=="function"&&(Z=Z({seriesIndex:this.seriesIndex,dataPointIndex:d.dataPointIndex,value:d.value,w:A}));var E=d.fillType?d.fillType:this.getFillType(this.seriesIndex),D=Array.isArray(k.fill.opacity)?k.fill.opacity[this.seriesIndex]:k.fill.opacity;d.color&&(Z=d.color),Z||(Z="#fff",console.warn("undefined color - ApexCharts"));var Y=Z;if(Z.indexOf("rgb")===-1?Z.length<9&&(Y=_.hexToRgba(Z,D)):Z.indexOf("rgba")>-1&&(D=_.getOpacityFromRGBA(Z)),d.opacity&&(D=d.opacity),E==="pattern"&&(I=this.handlePatternFill({fillConfig:d.fillConfig,patternFill:I,fillColor:Z,fillOpacity:D,defaultColor:Y})),E==="gradient"&&(w=this.handleGradientFill({fillConfig:d.fillConfig,fillColor:Z,fillOpacity:D,i:this.seriesIndex})),E==="image"){var U=k.fill.image.src,z=d.patternID?d.patternID:"";this.clippedImgArea({opacity:D,image:Array.isArray(U)?d.seriesNumber<U.length?U[d.seriesNumber]:U[0]:U,width:d.width?d.width:void 0,height:d.height?d.height:void 0,patternUnits:d.patternUnits,patternID:"pattern".concat(A.globals.cuid).concat(d.seriesNumber+1).concat(z)}),p="url(#pattern".concat(A.globals.cuid).concat(d.seriesNumber+1).concat(z,")")}else p=E==="gradient"?w:E==="pattern"?I:Y;return d.solid&&(p=Y),p}},{key:"getFillType",value:function(d){var A=this.w;return Array.isArray(A.config.fill.type)?A.config.fill.type[d]:A.config.fill.type}},{key:"getFillColors",value:function(){var d=this.w,A=d.config,p=this.opts,I=[];return d.globals.comboCharts?d.config.series[this.seriesIndex].type==="line"?Array.isArray(d.globals.stroke.colors)?I=d.globals.stroke.colors:I.push(d.globals.stroke.colors):Array.isArray(d.globals.fill.colors)?I=d.globals.fill.colors:I.push(d.globals.fill.colors):A.chart.type==="line"?Array.isArray(d.globals.stroke.colors)?I=d.globals.stroke.colors:I.push(d.globals.stroke.colors):Array.isArray(d.globals.fill.colors)?I=d.globals.fill.colors:I.push(d.globals.fill.colors),p.fillColors!==void 0&&(I=[],Array.isArray(p.fillColors)?I=p.fillColors.slice():I.push(p.fillColors)),I}},{key:"handlePatternFill",value:function(d){var A=d.fillConfig,p=d.patternFill,I=d.fillColor,w=d.fillOpacity,k=d.defaultColor,Z=this.w.config.fill;A&&(Z=A);var E=this.opts,D=new j(this.ctx),Y=Array.isArray(Z.pattern.strokeWidth)?Z.pattern.strokeWidth[this.seriesIndex]:Z.pattern.strokeWidth,U=I;return Array.isArray(Z.pattern.style)?p=Z.pattern.style[E.seriesNumber]!==void 0?D.drawPattern(Z.pattern.style[E.seriesNumber],Z.pattern.width,Z.pattern.height,U,Y,w):k:p=D.drawPattern(Z.pattern.style,Z.pattern.width,Z.pattern.height,U,Y,w),p}},{key:"handleGradientFill",value:function(d){var A=d.fillColor,p=d.fillOpacity,I=d.fillConfig,w=d.i,k=this.w.config.fill;I&&(k=o(o({},k),I));var Z,E=this.opts,D=new j(this.ctx),Y=new _,U=k.gradient.type,z=A,te=k.gradient.opacityFrom===void 0?p:Array.isArray(k.gradient.opacityFrom)?k.gradient.opacityFrom[w]:k.gradient.opacityFrom;z.indexOf("rgba")>-1&&(te=_.getOpacityFromRGBA(z));var ae=k.gradient.opacityTo===void 0?p:Array.isArray(k.gradient.opacityTo)?k.gradient.opacityTo[w]:k.gradient.opacityTo;if(k.gradient.gradientToColors===void 0||k.gradient.gradientToColors.length===0)Z=k.gradient.shade==="dark"?Y.shadeColor(-1*parseFloat(k.gradient.shadeIntensity),A.indexOf("rgb")>-1?_.rgb2hex(A):A):Y.shadeColor(parseFloat(k.gradient.shadeIntensity),A.indexOf("rgb")>-1?_.rgb2hex(A):A);else if(k.gradient.gradientToColors[E.seriesNumber]){var ge=k.gradient.gradientToColors[E.seriesNumber];Z=ge,ge.indexOf("rgba")>-1&&(ae=_.getOpacityFromRGBA(ge))}else Z=A;if(k.gradient.gradientFrom&&(z=k.gradient.gradientFrom),k.gradient.gradientTo&&(Z=k.gradient.gradientTo),k.gradient.inverseColors){var Ce=z;z=Z,Z=Ce}return z.indexOf("rgb")>-1&&(z=_.rgb2hex(z)),Z.indexOf("rgb")>-1&&(Z=_.rgb2hex(Z)),D.drawGradient(U,z,Z,te,ae,E.size,k.gradient.stops,k.gradient.colorStops,w)}}]),Be}(),pe=function(){function Be(d,A){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"setGlobalMarkerSize",value:function(){var d=this.w;if(d.globals.markers.size=Array.isArray(d.config.markers.size)?d.config.markers.size:[d.config.markers.size],d.globals.markers.size.length>0){if(d.globals.markers.size.length<d.globals.series.length+1)for(var A=0;A<=d.globals.series.length;A++)d.globals.markers.size[A]===void 0&&d.globals.markers.size.push(d.globals.markers.size[0])}else d.globals.markers.size=d.config.series.map(function(p){return d.config.markers.size})}},{key:"plotChartMarkers",value:function(d,A,p,I){var w,k=arguments.length>4&&arguments[4]!==void 0&&arguments[4],Z=this.w,E=A,D=d,Y=null,U=new j(this.ctx),z=Z.config.markers.discrete&&Z.config.markers.discrete.length;if((Z.globals.markers.size[A]>0||k||z)&&(Y=U.group({class:k||z?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(Z.globals.cuid,")")),Array.isArray(D.x))for(var te=0;te<D.x.length;te++){var ae=p;p===1&&te===0&&(ae=0),p===1&&te===1&&(ae=1);var ge="apexcharts-marker";if(Z.config.chart.type!=="line"&&Z.config.chart.type!=="area"||Z.globals.comboCharts||Z.config.tooltip.intersect||(ge+=" no-pointer-events"),(Array.isArray(Z.config.markers.size)?Z.globals.markers.size[A]>0:Z.config.markers.size>0)||k||z){_.isNumber(D.y[te])?ge+=" w".concat(_.randomId()):ge="apexcharts-nullpoint";var Ce=this.getMarkerConfig({cssClass:ge,seriesIndex:A,dataPointIndex:ae});Z.config.series[E].data[ae]&&(Z.config.series[E].data[ae].fillColor&&(Ce.pointFillColor=Z.config.series[E].data[ae].fillColor),Z.config.series[E].data[ae].strokeColor&&(Ce.pointStrokeColor=Z.config.series[E].data[ae].strokeColor)),I&&(Ce.pSize=I),(D.x[te]<-Z.globals.markers.largestSize||D.x[te]>Z.globals.gridWidth+Z.globals.markers.largestSize||D.y[te]<-Z.globals.markers.largestSize||D.y[te]>Z.globals.gridHeight+Z.globals.markers.largestSize)&&(Ce.pSize=0),(w=U.drawMarker(D.x[te],D.y[te],Ce)).attr("rel",ae),w.attr("j",ae),w.attr("index",A),w.node.setAttribute("default-marker-size",Ce.pSize),new Q(this.ctx).setSelectionFilter(w,A,ae),this.addEvents(w),Y&&Y.add(w)}else Z.globals.pointsArray[A]===void 0&&(Z.globals.pointsArray[A]=[]),Z.globals.pointsArray[A].push([D.x[te],D.y[te]])}return Y}},{key:"getMarkerConfig",value:function(d){var A=d.cssClass,p=d.seriesIndex,I=d.dataPointIndex,w=I===void 0?null:I,k=d.finishRadius,Z=k===void 0?null:k,E=this.w,D=this.getMarkerStyle(p),Y=E.globals.markers.size[p],U=E.config.markers;return w!==null&&U.discrete.length&&U.discrete.map(function(z){z.seriesIndex===p&&z.dataPointIndex===w&&(D.pointStrokeColor=z.strokeColor,D.pointFillColor=z.fillColor,Y=z.size,D.pointShape=z.shape)}),{pSize:Z===null?Y:Z,pRadius:U.radius,width:Array.isArray(U.width)?U.width[p]:U.width,height:Array.isArray(U.height)?U.height[p]:U.height,pointStrokeWidth:Array.isArray(U.strokeWidth)?U.strokeWidth[p]:U.strokeWidth,pointStrokeColor:D.pointStrokeColor,pointFillColor:D.pointFillColor,shape:D.pointShape||(Array.isArray(U.shape)?U.shape[p]:U.shape),class:A,pointStrokeOpacity:Array.isArray(U.strokeOpacity)?U.strokeOpacity[p]:U.strokeOpacity,pointStrokeDashArray:Array.isArray(U.strokeDashArray)?U.strokeDashArray[p]:U.strokeDashArray,pointFillOpacity:Array.isArray(U.fillOpacity)?U.fillOpacity[p]:U.fillOpacity,seriesIndex:p}}},{key:"addEvents",value:function(d){var A=this.w,p=new j(this.ctx);d.node.addEventListener("mouseenter",p.pathMouseEnter.bind(this.ctx,d)),d.node.addEventListener("mouseleave",p.pathMouseLeave.bind(this.ctx,d)),d.node.addEventListener("mousedown",p.pathMouseDown.bind(this.ctx,d)),d.node.addEventListener("click",A.config.markers.onClick),d.node.addEventListener("dblclick",A.config.markers.onDblClick),d.node.addEventListener("touchstart",p.pathMouseDown.bind(this.ctx,d),{passive:!0})}},{key:"getMarkerStyle",value:function(d){var A=this.w,p=A.globals.markers.colors,I=A.config.markers.strokeColor||A.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(I)?I[d]:I,pointFillColor:Array.isArray(p)?p[d]:p}}}]),Be}(),Ee=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return C(Be,[{key:"draw",value:function(d,A,p){var I=this.w,w=new j(this.ctx),k=p.realIndex,Z=p.pointsPos,E=p.zRatio,D=p.elParent,Y=w.group({class:"apexcharts-series-markers apexcharts-series-".concat(I.config.chart.type)});if(Y.attr("clip-path","url(#gridRectMarkerMask".concat(I.globals.cuid,")")),Array.isArray(Z.x))for(var U=0;U<Z.x.length;U++){var z=A+1,te=!0;A===0&&U===0&&(z=0),A===0&&U===1&&(z=1);var ae=0,ge=I.globals.markers.size[k];if(E!==1/0){var Ce=I.config.plotOptions.bubble;ge=I.globals.seriesZ[k][z],Ce.zScaling&&(ge/=E),Ce.minBubbleRadius&&ge<Ce.minBubbleRadius&&(ge=Ce.minBubbleRadius),Ce.maxBubbleRadius&&ge>Ce.maxBubbleRadius&&(ge=Ce.maxBubbleRadius)}I.config.chart.animations.enabled||(ae=ge);var we=Z.x[U],ke=Z.y[U];if(ae=ae||0,ke!==null&&I.globals.series[k][z]!==void 0||(te=!1),te){var T=this.drawPoint(we,ke,ae,ge,k,z,A);Y.add(T)}D.add(Y)}}},{key:"drawPoint",value:function(d,A,p,I,w,k,Z){var E=this.w,D=w,Y=new X(this.ctx),U=new Q(this.ctx),z=new _e(this.ctx),te=new pe(this.ctx),ae=new j(this.ctx),ge=te.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:D,dataPointIndex:k,finishRadius:E.config.chart.type==="bubble"||E.globals.comboCharts&&E.config.series[w]&&E.config.series[w].type==="bubble"?I:null});I=ge.pSize;var Ce,we=z.fillPath({seriesNumber:w,dataPointIndex:k,color:ge.pointFillColor,patternUnits:"objectBoundingBox",value:E.globals.series[w][Z]});if(ge.shape==="circle"?Ce=ae.drawCircle(p):ge.shape!=="square"&&ge.shape!=="rect"||(Ce=ae.drawRect(0,0,ge.width-ge.pointStrokeWidth/2,ge.height-ge.pointStrokeWidth/2,ge.pRadius)),E.config.series[D].data[k]&&E.config.series[D].data[k].fillColor&&(we=E.config.series[D].data[k].fillColor),Ce.attr({x:d-ge.width/2-ge.pointStrokeWidth/2,y:A-ge.height/2-ge.pointStrokeWidth/2,cx:d,cy:A,fill:we,"fill-opacity":ge.pointFillOpacity,stroke:ge.pointStrokeColor,r:I,"stroke-width":ge.pointStrokeWidth,"stroke-dasharray":ge.pointStrokeDashArray,"stroke-opacity":ge.pointStrokeOpacity}),E.config.chart.dropShadow.enabled){var ke=E.config.chart.dropShadow;U.dropShadow(Ce,ke,w)}if(!this.initialAnim||E.globals.dataChanged||E.globals.resized)E.globals.animationEnded=!0;else{var T=E.config.chart.animations.speed;Y.animateMarker(Ce,0,ge.shape==="circle"?I:{width:ge.width,height:ge.height},T,E.globals.easing,function(){window.setTimeout(function(){Y.animationCompleted(Ce)},100)})}if(E.globals.dataChanged&&ge.shape==="circle")if(this.dynamicAnim){var q,Ae,Se,Ze,Te=E.config.chart.animations.dynamicAnimation.speed;(Ze=E.globals.previousPaths[w]&&E.globals.previousPaths[w][Z])!=null&&(q=Ze.x,Ae=Ze.y,Se=Ze.r!==void 0?Ze.r:I);for(var Qe=0;Qe<E.globals.collapsedSeries.length;Qe++)E.globals.collapsedSeries[Qe].index===w&&(Te=1,I=0);d===0&&A===0&&(I=0),Y.animateCircle(Ce,{cx:q,cy:Ae,r:Se},{cx:d,cy:A,r:I},Te,E.globals.easing)}else Ce.attr({r:I});return Ce.attr({rel:k,j:k,index:w,"default-marker-size":I}),U.setSelectionFilter(Ce,w,k),te.addEvents(Ce),Ce.node.classList.add("apexcharts-marker"),Ce}},{key:"centerTextInBubble",value:function(d){var A=this.w;return{y:d+=parseInt(A.config.dataLabels.style.fontSize,10)/4}}}]),Be}(),We=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"dataLabelsCorrection",value:function(d,A,p,I,w,k,Z){var E=this.w,D=!1,Y=new j(this.ctx).getTextRects(p,Z),U=Y.width,z=Y.height;A<0&&(A=0),A>E.globals.gridHeight+z&&(A=E.globals.gridHeight+z/2),E.globals.dataLabelsRects[I]===void 0&&(E.globals.dataLabelsRects[I]=[]),E.globals.dataLabelsRects[I].push({x:d,y:A,width:U,height:z});var te=E.globals.dataLabelsRects[I].length-2,ae=E.globals.lastDrawnDataLabelsIndexes[I]!==void 0?E.globals.lastDrawnDataLabelsIndexes[I][E.globals.lastDrawnDataLabelsIndexes[I].length-1]:0;if(E.globals.dataLabelsRects[I][te]!==void 0){var ge=E.globals.dataLabelsRects[I][ae];(d>ge.x+ge.width||A>ge.y+ge.height||A+z<ge.y||d+U<ge.x)&&(D=!0)}return(w===0||k)&&(D=!0),{x:d,y:A,textRects:Y,drawnextLabel:D}}},{key:"drawDataLabel",value:function(d){var A=this,p=d.type,I=d.pos,w=d.i,k=d.j,Z=d.isRangeStart,E=d.strokeWidth,D=E===void 0?2:E,Y=this.w,U=new j(this.ctx),z=Y.config.dataLabels,te=0,ae=0,ge=k,Ce=null;if(Y.globals.collapsedSeriesIndices.indexOf(w)!==-1||!z.enabled||!Array.isArray(I.x))return Ce;Ce=U.group({class:"apexcharts-data-labels"});for(var we=0;we<I.x.length;we++)if(te=I.x[we]+z.offsetX,ae=I.y[we]+z.offsetY+D,!isNaN(te)){k===1&&we===0&&(ge=0),k===1&&we===1&&(ge=1);var ke=Y.globals.series[w][ge];p==="rangeArea"&&(ke=Z?Y.globals.seriesRangeStart[w][ge]:Y.globals.seriesRangeEnd[w][ge]);var T="",q=function(Se){return Y.config.dataLabels.formatter(Se,{ctx:A.ctx,seriesIndex:w,dataPointIndex:ge,w:Y})};Y.config.chart.type==="bubble"?(T=q(ke=Y.globals.seriesZ[w][ge]),ae=I.y[we],ae=new Ee(this.ctx).centerTextInBubble(ae,w,ge).y):ke!==void 0&&(T=q(ke));var Ae=Y.config.dataLabels.textAnchor;Y.globals.isSlopeChart&&(Ae=ge===0?"end":ge===Y.config.series[w].data.length-1?"start":"middle"),this.plotDataLabelsText({x:te,y:ae,text:T,i:w,j:ge,parent:Ce,offsetCorrection:!0,dataLabelsConfig:Y.config.dataLabels,textAnchor:Ae})}return Ce}},{key:"plotDataLabelsText",value:function(d){var A=this.w,p=new j(this.ctx),I=d.x,w=d.y,k=d.i,Z=d.j,E=d.text,D=d.textAnchor,Y=d.fontSize,U=d.parent,z=d.dataLabelsConfig,te=d.color,ae=d.alwaysDrawDataLabel,ge=d.offsetCorrection;if(!(Array.isArray(A.config.dataLabels.enabledOnSeries)&&A.config.dataLabels.enabledOnSeries.indexOf(k)<0)){var Ce={x:I,y:w,drawnextLabel:!0,textRects:null};ge&&(Ce=this.dataLabelsCorrection(I,w,E,k,Z,ae,parseInt(z.style.fontSize,10))),A.globals.zoomed||(I=Ce.x,w=Ce.y),Ce.textRects&&(I<-20-Ce.textRects.width||I>A.globals.gridWidth+Ce.textRects.width+30)&&(E="");var we=A.globals.dataLabels.style.colors[k];((A.config.chart.type==="bar"||A.config.chart.type==="rangeBar")&&A.config.plotOptions.bar.distributed||A.config.dataLabels.distributed)&&(we=A.globals.dataLabels.style.colors[Z]),typeof we=="function"&&(we=we({series:A.globals.series,seriesIndex:k,dataPointIndex:Z,w:A})),te&&(we=te);var ke=z.offsetX,T=z.offsetY;if(A.config.chart.type!=="bar"&&A.config.chart.type!=="rangeBar"||(ke=0,T=0),A.globals.isSlopeChart&&(Z!==0&&(ke=-2*z.offsetX+5),Z!==0&&Z!==A.config.series[k].data.length-1&&(ke=0)),Ce.drawnextLabel){var q=p.drawText({width:100,height:parseInt(z.style.fontSize,10),x:I+ke,y:w+T,foreColor:we,textAnchor:D||z.textAnchor,text:E,fontSize:Y||z.style.fontSize,fontFamily:z.style.fontFamily,fontWeight:z.style.fontWeight||"normal"});if(q.attr({class:"apexcharts-datalabel",cx:I,cy:w}),z.dropShadow.enabled){var Ae=z.dropShadow;new Q(this.ctx).dropShadow(q,Ae)}U.add(q),A.globals.lastDrawnDataLabelsIndexes[k]===void 0&&(A.globals.lastDrawnDataLabelsIndexes[k]=[]),A.globals.lastDrawnDataLabelsIndexes[k].push(Z)}}}},{key:"addBackgroundToDataLabel",value:function(d,A){var p=this.w,I=p.config.dataLabels.background,w=I.padding,k=I.padding/2,Z=A.width,E=A.height,D=new j(this.ctx).drawRect(A.x-w,A.y-k/2,Z+2*w,E+k,I.borderRadius,p.config.chart.background==="transparent"?"#fff":p.config.chart.background,I.opacity,I.borderWidth,I.borderColor);return I.dropShadow.enabled&&new Q(this.ctx).dropShadow(D,I.dropShadow),D}},{key:"dataLabelsBackground",value:function(){var d=this.w;if(d.config.chart.type!=="bubble")for(var A=d.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),p=0;p<A.length;p++){var I=A[p],w=I.getBBox(),k=null;if(w.width&&w.height&&(k=this.addBackgroundToDataLabel(I,w)),k){I.parentNode.insertBefore(k.node,I);var Z=I.getAttribute("fill");d.config.chart.animations.enabled&&!d.globals.resized&&!d.globals.dataChanged?k.animate().attr({fill:Z}):k.attr({fill:Z}),I.setAttribute("fill",d.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var d=this.w,A=d.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),p=d.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),I=0;I<A.length;I++)p&&p.insertBefore(A[I],p.nextSibling)}}]),Be}(),Ue=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w,this.legendInactiveClass="legend-mouseover-inactive"}return C(Be,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(d){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(_.escapeString(d),"']"))}},{key:"isSeriesHidden",value:function(d){var A=this.getSeriesByName(d),p=parseInt(A.getAttribute("data:realIndex"),10);return{isHidden:A.classList.contains("apexcharts-series-collapsed"),realIndex:p}}},{key:"addCollapsedClassToSeries",value:function(d,A){var p=this.w;function I(w){for(var k=0;k<w.length;k++)w[k].index===A&&d.node.classList.add("apexcharts-series-collapsed")}I(p.globals.collapsedSeries),I(p.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(d){var A=this.isSeriesHidden(d);return this.ctx.legend.legendHelpers.toggleDataSeries(A.realIndex,A.isHidden),A.isHidden}},{key:"showSeries",value:function(d){var A=this.isSeriesHidden(d);A.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(A.realIndex,!0)}},{key:"hideSeries",value:function(d){var A=this.isSeriesHidden(d);A.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(A.realIndex,!1)}},{key:"resetSeries",value:function(){var d=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],A=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],I=this.w,w=_.clone(I.globals.initialSeries);I.globals.previousPaths=[],p?(I.globals.collapsedSeries=[],I.globals.ancillaryCollapsedSeries=[],I.globals.collapsedSeriesIndices=[],I.globals.ancillaryCollapsedSeriesIndices=[]):w=this.emptyCollapsedSeries(w),I.config.series=w,d&&(A&&(I.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(w,I.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(d){for(var A=this.w,p=0;p<d.length;p++)A.globals.collapsedSeriesIndices.indexOf(p)>-1&&(d[p].data=[]);return d}},{key:"toggleSeriesOnHover",value:function(d,A){var p=this.w;A||(A=d.target);var I=p.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(d.type==="mousemove"){var w=parseInt(A.getAttribute("rel"),10)-1,k=null,Z=null,E=null;if(p.globals.axisCharts||p.config.chart.type==="radialBar")if(p.globals.axisCharts){k=p.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(w,"']")),Z=p.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(w,"']"));var D=p.globals.seriesYAxisReverseMap[w];E=p.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(D,"']"))}else k=p.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(w+1,"']"));else k=p.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(w+1,"'] path"));for(var Y=0;Y<I.length;Y++)I[Y].classList.add(this.legendInactiveClass);k!==null&&(p.globals.axisCharts||k.parentNode.classList.remove(this.legendInactiveClass),k.classList.remove(this.legendInactiveClass),Z!==null&&Z.classList.remove(this.legendInactiveClass),E!==null&&E.classList.remove(this.legendInactiveClass))}else if(d.type==="mouseout")for(var U=0;U<I.length;U++)I[U].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(d,A){var p=this,I=this.w,w=I.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),k=function(E){for(var D=0;D<w.length;D++)w[D].classList[E](p.legendInactiveClass)};if(d.type==="mousemove"){var Z=parseInt(A.getAttribute("rel"),10)-1;k("add"),function(E){for(var D=0;D<w.length;D++){var Y=parseInt(w[D].getAttribute("val"),10);Y>=E.from&&Y<=E.to&&w[D].classList.remove(p.legendInactiveClass)}}(I.config.plotOptions.heatmap.colorScale.ranges[Z])}else d.type==="mouseout"&&k("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],p=this.w,I=0;if(p.config.series.length>1){for(var w=p.config.series.map(function(Z,E){return Z.data&&Z.data.length>0&&p.globals.collapsedSeriesIndices.indexOf(E)===-1&&(!p.globals.comboCharts||A.length===0||A.length&&A.indexOf(p.config.series[E].type)>-1)?E:-1}),k=d==="asc"?0:w.length-1;d==="asc"?k<w.length:k>=0;d==="asc"?k++:k--)if(w[k]!==-1){I=w[k];break}}return I}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(d,A){return d.type==="bar"||d.type==="column"?A:-1}).filter(function(d){return d!==-1}):this.w.config.series.map(function(d,A){return A})}},{key:"getPreviousPaths",value:function(){var d=this.w;function A(k,Z,E){for(var D=k[Z].childNodes,Y={type:E,paths:[],realIndex:k[Z].getAttribute("data:realIndex")},U=0;U<D.length;U++)if(D[U].hasAttribute("pathTo")){var z=D[U].getAttribute("pathTo");Y.paths.push({d:z})}d.globals.previousPaths.push(Y)}d.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(k){for(var Z,E=(Z=k,d.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(Z,"-series .apexcharts-series"))),D=0;D<E.length;D++)A(E,D,k)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var p=d.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(d.config.chart.type," .apexcharts-series"));if(p.length>0)for(var I=function(k){for(var Z=d.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(d.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(k,"'] rect")),E=[],D=function(U){var z=function(ae){return Z[U].getAttribute(ae)},te={x:parseFloat(z("x")),y:parseFloat(z("y")),width:parseFloat(z("width")),height:parseFloat(z("height"))};E.push({rect:te,color:Z[U].getAttribute("color")})},Y=0;Y<Z.length;Y++)D(Y);d.globals.previousPaths.push(E)},w=0;w<p.length;w++)I(w);d.globals.axisCharts||(d.globals.previousPaths=d.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(d){var A=this.w,p=A.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(d,"-series .apexcharts-series"));if(p.length>0)for(var I=0;I<p.length;I++){for(var w=A.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(d,"-series .apexcharts-series[data\\:realIndex='").concat(I,"'] circle")),k=[],Z=0;Z<w.length;Z++)k.push({x:w[Z].getAttribute("cx"),y:w[Z].getAttribute("cy"),r:w[Z].getAttribute("r")});A.globals.previousPaths.push(k)}}},{key:"clearPreviousPaths",value:function(){var d=this.w;d.globals.previousPaths=[],d.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var d=this.w,A=d.config.noData,p=new j(this.ctx),I=d.globals.svgWidth/2,w=d.globals.svgHeight/2,k="middle";if(d.globals.noData=!0,d.globals.animationEnded=!0,A.align==="left"?(I=10,k="start"):A.align==="right"&&(I=d.globals.svgWidth-10,k="end"),A.verticalAlign==="top"?w=50:A.verticalAlign==="bottom"&&(w=d.globals.svgHeight-50),I+=A.offsetX,w=w+parseInt(A.style.fontSize,10)+2+A.offsetY,A.text!==void 0&&A.text!==""){var Z=p.drawText({x:I,y:w,text:A.text,textAnchor:k,fontSize:A.style.fontSize,fontFamily:A.style.fontFamily,foreColor:A.style.color,opacity:1,class:"apexcharts-text-nodata"});d.globals.dom.Paper.add(Z)}}},{key:"setNullSeriesToZeroValues",value:function(d){for(var A=this.w,p=0;p<d.length;p++)if(d[p].length===0)for(var I=0;I<d[A.globals.maxValsInArrayIndex].length;I++)d[p].push(0);return d}},{key:"hasAllSeriesEqualX",value:function(){for(var d=!0,A=this.w,p=this.filteredSeriesX(),I=0;I<p.length-1;I++)if(p[I][0]!==p[I+1][0]){d=!1;break}return A.globals.allSeriesHasEqualX=d,d}},{key:"filteredSeriesX",value:function(){var d=this.w.globals.seriesX.map(function(A){return A.length>0?A:[]});return d}}]),Be}(),je=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new re(this.ctx)}return C(Be,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var d=this.w.config.series.slice(),A=new Ue(this.ctx);if(this.activeSeriesIndex=A.getActiveConfigSeriesIndex(),d[this.activeSeriesIndex].data!==void 0&&d[this.activeSeriesIndex].data.length>0&&d[this.activeSeriesIndex].data[0]!==null&&d[this.activeSeriesIndex].data[0].x!==void 0&&d[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var d=this.w.config.series.slice(),A=new Ue(this.ctx);if(this.activeSeriesIndex=A.getActiveConfigSeriesIndex(),d[this.activeSeriesIndex].data!==void 0&&d[this.activeSeriesIndex].data.length>0&&d[this.activeSeriesIndex].data[0]!==void 0&&d[this.activeSeriesIndex].data[0]!==null&&d[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(d,A){for(var p=this.w.config,I=this.w.globals,w=p.chart.type==="boxPlot"||p.series[A].type==="boxPlot",k=0;k<d[A].data.length;k++)if(d[A].data[k][1]!==void 0&&(Array.isArray(d[A].data[k][1])&&d[A].data[k][1].length===4&&!w?this.twoDSeries.push(_.parseNumber(d[A].data[k][1][3])):d[A].data[k].length>=5?this.twoDSeries.push(_.parseNumber(d[A].data[k][4])):this.twoDSeries.push(_.parseNumber(d[A].data[k][1])),I.dataFormatXNumeric=!0),p.xaxis.type==="datetime"){var Z=new Date(d[A].data[k][0]);Z=new Date(Z).getTime(),this.twoDSeriesX.push(Z)}else this.twoDSeriesX.push(d[A].data[k][0]);for(var E=0;E<d[A].data.length;E++)d[A].data[E][2]!==void 0&&(this.threeDSeries.push(d[A].data[E][2]),I.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(d,A){var p=this.w.config,I=this.w.globals,w=new de(this.ctx),k=A;I.collapsedSeriesIndices.indexOf(A)>-1&&(k=this.activeSeriesIndex);for(var Z=0;Z<d[A].data.length;Z++)d[A].data[Z].y!==void 0&&(Array.isArray(d[A].data[Z].y)?this.twoDSeries.push(_.parseNumber(d[A].data[Z].y[d[A].data[Z].y.length-1])):this.twoDSeries.push(_.parseNumber(d[A].data[Z].y))),d[A].data[Z].goals!==void 0&&Array.isArray(d[A].data[Z].goals)?(this.seriesGoals[A]===void 0&&(this.seriesGoals[A]=[]),this.seriesGoals[A].push(d[A].data[Z].goals)):(this.seriesGoals[A]===void 0&&(this.seriesGoals[A]=[]),this.seriesGoals[A].push(null));for(var E=0;E<d[k].data.length;E++){var D=typeof d[k].data[E].x=="string",Y=Array.isArray(d[k].data[E].x),U=!Y&&!!w.isValidDate(d[k].data[E].x);if(D||U)if(D||p.xaxis.convertedCatToNumeric){var z=I.isBarHorizontal&&I.isRangeData;p.xaxis.type!=="datetime"||z?(this.fallbackToCategory=!0,this.twoDSeriesX.push(d[k].data[E].x),isNaN(d[k].data[E].x)||this.w.config.xaxis.type==="category"||typeof d[k].data[E].x=="string"||(I.isXNumeric=!0)):this.twoDSeriesX.push(w.parseDate(d[k].data[E].x))}else p.xaxis.type==="datetime"?this.twoDSeriesX.push(w.parseDate(d[k].data[E].x.toString())):(I.dataFormatXNumeric=!0,I.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(d[k].data[E].x)));else Y?(this.fallbackToCategory=!0,this.twoDSeriesX.push(d[k].data[E].x)):(I.isXNumeric=!0,I.dataFormatXNumeric=!0,this.twoDSeriesX.push(d[k].data[E].x))}if(d[A].data[0]&&d[A].data[0].z!==void 0){for(var te=0;te<d[A].data.length;te++)this.threeDSeries.push(d[A].data[te].z);I.isDataXYZ=!0}}},{key:"handleRangeData",value:function(d,A){var p=this.w.globals,I={};return this.isFormat2DArray()?I=this.handleRangeDataFormat("array",d,A):this.isFormatXY()&&(I=this.handleRangeDataFormat("xy",d,A)),p.seriesRangeStart.push(I.start===void 0?[]:I.start),p.seriesRangeEnd.push(I.end===void 0?[]:I.end),p.seriesRange.push(I.rangeUniques),p.seriesRange.forEach(function(w,k){w&&w.forEach(function(Z,E){Z.y.forEach(function(D,Y){for(var U=0;U<Z.y.length;U++)if(Y!==U){var z=D.y1,te=D.y2,ae=Z.y[U].y1;z<=Z.y[U].y2&&ae<=te&&(Z.overlaps.indexOf(D.rangeName)<0&&Z.overlaps.push(D.rangeName),Z.overlaps.indexOf(Z.y[U].rangeName)<0&&Z.overlaps.push(Z.y[U].rangeName))}})})}),I}},{key:"handleCandleStickBoxData",value:function(d,A){var p=this.w.globals,I={};return this.isFormat2DArray()?I=this.handleCandleStickBoxDataFormat("array",d,A):this.isFormatXY()&&(I=this.handleCandleStickBoxDataFormat("xy",d,A)),p.seriesCandleO[A]=I.o,p.seriesCandleH[A]=I.h,p.seriesCandleM[A]=I.m,p.seriesCandleL[A]=I.l,p.seriesCandleC[A]=I.c,I}},{key:"handleRangeDataFormat",value:function(d,A,p){var I=[],w=[],k=A[p].data.filter(function(Y,U,z){return U===z.findIndex(function(te){return te.x===Y.x})}).map(function(Y,U){return{x:Y.x,overlaps:[],y:[]}});if(d==="array")for(var Z=0;Z<A[p].data.length;Z++)Array.isArray(A[p].data[Z])?(I.push(A[p].data[Z][1][0]),w.push(A[p].data[Z][1][1])):(I.push(A[p].data[Z]),w.push(A[p].data[Z]));else if(d==="xy")for(var E=function(Y){var U=Array.isArray(A[p].data[Y].y),z=_.randomId(),te=A[p].data[Y].x,ae={y1:U?A[p].data[Y].y[0]:A[p].data[Y].y,y2:U?A[p].data[Y].y[1]:A[p].data[Y].y,rangeName:z};A[p].data[Y].rangeName=z;var ge=k.findIndex(function(Ce){return Ce.x===te});k[ge].y.push(ae),I.push(ae.y1),w.push(ae.y2)},D=0;D<A[p].data.length;D++)E(D);return{start:I,end:w,rangeUniques:k}}},{key:"handleCandleStickBoxDataFormat",value:function(d,A,p){var I=this.w,w=I.config.chart.type==="boxPlot"||I.config.series[p].type==="boxPlot",k=[],Z=[],E=[],D=[],Y=[];if(d==="array")if(w&&A[p].data[0].length===6||!w&&A[p].data[0].length===5)for(var U=0;U<A[p].data.length;U++)k.push(A[p].data[U][1]),Z.push(A[p].data[U][2]),w?(E.push(A[p].data[U][3]),D.push(A[p].data[U][4]),Y.push(A[p].data[U][5])):(D.push(A[p].data[U][3]),Y.push(A[p].data[U][4]));else for(var z=0;z<A[p].data.length;z++)Array.isArray(A[p].data[z][1])&&(k.push(A[p].data[z][1][0]),Z.push(A[p].data[z][1][1]),w?(E.push(A[p].data[z][1][2]),D.push(A[p].data[z][1][3]),Y.push(A[p].data[z][1][4])):(D.push(A[p].data[z][1][2]),Y.push(A[p].data[z][1][3])));else if(d==="xy")for(var te=0;te<A[p].data.length;te++)Array.isArray(A[p].data[te].y)&&(k.push(A[p].data[te].y[0]),Z.push(A[p].data[te].y[1]),w?(E.push(A[p].data[te].y[2]),D.push(A[p].data[te].y[3]),Y.push(A[p].data[te].y[4])):(D.push(A[p].data[te].y[2]),Y.push(A[p].data[te].y[3])));return{o:k,h:Z,m:E,l:D,c:Y}}},{key:"parseDataAxisCharts",value:function(d){var A=this,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,I=this.w.config,w=this.w.globals,k=new de(p),Z=I.labels.length>0?I.labels.slice():I.xaxis.categories.slice();w.isRangeBar=I.chart.type==="rangeBar"&&w.isBarHorizontal,w.hasXaxisGroups=I.xaxis.type==="category"&&I.xaxis.group.groups.length>0,w.hasXaxisGroups&&(w.groups=I.xaxis.group.groups),d.forEach(function(te,ae){te.name!==void 0?w.seriesNames.push(te.name):w.seriesNames.push("series-"+parseInt(ae+1,10))}),this.coreUtils.setSeriesYAxisMappings();var E=[],D=H(new Set(I.series.map(function(te){return te.group})));I.series.forEach(function(te,ae){var ge=D.indexOf(te.group);E[ge]||(E[ge]=[]),E[ge].push(w.seriesNames[ae])}),w.seriesGroups=E;for(var Y=function(){for(var te=0;te<Z.length;te++)if(typeof Z[te]=="string"){if(!k.isValidDate(Z[te]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");A.twoDSeriesX.push(k.parseDate(Z[te]))}else A.twoDSeriesX.push(Z[te])},U=0;U<d.length;U++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],d[U].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(I.chart.type!=="rangeBar"&&I.chart.type!=="rangeArea"&&d[U].type!=="rangeBar"&&d[U].type!=="rangeArea"||(w.isRangeData=!0,I.chart.type!=="rangeBar"&&I.chart.type!=="rangeArea"||this.handleRangeData(d,U)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(d,U):this.isFormatXY()&&this.handleFormatXY(d,U),I.chart.type!=="candlestick"&&d[U].type!=="candlestick"&&I.chart.type!=="boxPlot"&&d[U].type!=="boxPlot"||this.handleCandleStickBoxData(d,U),w.series.push(this.twoDSeries),w.labels.push(this.twoDSeriesX),w.seriesX.push(this.twoDSeriesX),w.seriesGoals=this.seriesGoals,U!==this.activeSeriesIndex||this.fallbackToCategory||(w.isXNumeric=!0);else{I.xaxis.type==="datetime"?(w.isXNumeric=!0,Y(),w.seriesX.push(this.twoDSeriesX)):I.xaxis.type==="numeric"&&(w.isXNumeric=!0,Z.length>0&&(this.twoDSeriesX=Z,w.seriesX.push(this.twoDSeriesX))),w.labels.push(this.twoDSeriesX);var z=d[U].data.map(function(te){return _.parseNumber(te)});w.series.push(z)}w.seriesZ.push(this.threeDSeries),d[U].color!==void 0?w.seriesColors.push(d[U].color):w.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(d){var A=this.w.globals,p=this.w.config;A.series=d.slice(),A.seriesNames=p.labels.slice();for(var I=0;I<A.series.length;I++)A.seriesNames[I]===void 0&&A.seriesNames.push("series-"+(I+1));return this.w}},{key:"handleExternalLabelsData",value:function(d){var A=this.w.config,p=this.w.globals;A.xaxis.categories.length>0?p.labels=A.xaxis.categories:A.labels.length>0?p.labels=A.labels.slice():this.fallbackToCategory?(p.labels=p.labels[0],p.seriesRange.length&&(p.seriesRange.map(function(I){I.forEach(function(w){p.labels.indexOf(w.x)<0&&w.x&&p.labels.push(w.x)})}),p.labels=Array.from(new Set(p.labels.map(JSON.stringify)),JSON.parse)),A.xaxis.convertedCatToNumeric&&(new Ge(A).convertCatToNumericXaxis(A,this.ctx,p.seriesX[0]),this._generateExternalLabels(d))):this._generateExternalLabels(d)}},{key:"_generateExternalLabels",value:function(d){var A=this.w.globals,p=this.w.config,I=[];if(A.axisCharts){if(A.series.length>0)if(this.isFormatXY())for(var w=p.series.map(function(U,z){return U.data.filter(function(te,ae,ge){return ge.findIndex(function(Ce){return Ce.x===te.x})===ae})}),k=w.reduce(function(U,z,te,ae){return ae[U].length>z.length?U:te},0),Z=0;Z<w[k].length;Z++)I.push(Z+1);else for(var E=0;E<A.series[A.maxValsInArrayIndex].length;E++)I.push(E+1);A.seriesX=[];for(var D=0;D<d.length;D++)A.seriesX.push(I);this.w.globals.isBarHorizontal||(A.isXNumeric=!0)}if(I.length===0){I=A.axisCharts?[]:A.series.map(function(U,z){return z+1});for(var Y=0;Y<d.length;Y++)A.seriesX.push(I)}A.labels=I,p.xaxis.convertedCatToNumeric&&(A.categoryLabels=I.map(function(U){return p.xaxis.labels.formatter(U)})),A.noLabelsProvided=!0}},{key:"parseData",value:function(d){var A=this.w,p=A.config,I=A.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),I.axisCharts?(this.parseDataAxisCharts(d),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(d),p.chart.stacked){var w=new Ue(this.ctx);I.series=w.setNullSeriesToZeroValues(I.series)}this.coreUtils.getSeriesTotals(),I.axisCharts&&(I.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),I.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),I.dataFormatXNumeric||I.isXNumeric&&(p.xaxis.type!=="numeric"||p.labels.length!==0||p.xaxis.categories.length!==0)||this.handleExternalLabelsData(d);for(var k=this.coreUtils.getCategoryLabels(I.labels),Z=0;Z<k.length;Z++)if(Array.isArray(k[Z])){I.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var d=this.w,A=[];d.globals.seriesYAxisMap.forEach(function(p,I){var w=0;p.forEach(function(k){d.globals.collapsedSeriesIndices.indexOf(k)!==-1&&w++}),w>0&&w==p.length&&A.push(I)}),d.globals.ignoreYAxisIndexes=A.map(function(p){return p})}}]),Be}(),qe=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"scaleSvgNode",value:function(d,A){var p=parseFloat(d.getAttributeNS(null,"width")),I=parseFloat(d.getAttributeNS(null,"height"));d.setAttributeNS(null,"width",p*A),d.setAttributeNS(null,"height",I*A),d.setAttributeNS(null,"viewBox","0 0 "+p+" "+I)}},{key:"fixSvgStringForIe11",value:function(d){if(!_.isIE11())return d.replace(/&nbsp;/g,"&#160;");var A=0,p=d.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(I){return++A===2?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':I});return p=(p=p.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(d){d==null&&(d=1);var A=this.w.globals.dom.Paper.svg();if(d!==1){var p=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(p,d),A=new XMLSerializer().serializeToString(p)}return this.fixSvgStringForIe11(A)}},{key:"cleanup",value:function(){var d=this.w,A=d.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),p=d.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),I=d.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(I,function(w){w.setAttribute("width",0)}),A&&A[0]&&(A[0].setAttribute("x",-500),A[0].setAttribute("x1",-500),A[0].setAttribute("x2",-500)),p&&p[0]&&(p[0].setAttribute("y",-100),p[0].setAttribute("y1",-100),p[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var d=this.getSvgString(),A=new Blob([d],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(A)}},{key:"dataURI",value:function(d){var A=this;return new Promise(function(p){var I=A.w,w=d?d.scale||d.width/I.globals.svgWidth:1;A.cleanup();var k=document.createElement("canvas");k.width=I.globals.svgWidth*w,k.height=parseInt(I.globals.dom.elWrap.style.height,10)*w;var Z=I.config.chart.background==="transparent"?"#fff":I.config.chart.background,E=k.getContext("2d");E.fillStyle=Z,E.fillRect(0,0,k.width*w,k.height*w);var D=A.getSvgString(w);if(window.canvg&&_.isIE11()){var Y=window.canvg.Canvg.fromString(E,D,{ignoreClear:!0,ignoreDimensions:!0});Y.start();var U=k.msToBlob();Y.stop(),p({blob:U})}else{var z="data:image/svg+xml,"+encodeURIComponent(D),te=new Image;te.crossOrigin="anonymous",te.onload=function(){if(E.drawImage(te,0,0),k.msToBlob){var ae=k.msToBlob();p({blob:ae})}else{var ge=k.toDataURL("image/png");p({imgURI:ge})}},te.src=z}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var d=this;this.dataURI().then(function(A){var p=A.imgURI,I=A.blob;I?navigator.msSaveOrOpenBlob(I,d.w.globals.chartID+".png"):d.triggerDownload(p,d.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(d){var A=this,p=d.series,I=d.fileName,w=d.columnDelimiter,k=w===void 0?",":w,Z=d.lineDelimiter,E=Z===void 0?`
`:Z,D=this.w;p||(p=D.config.series);var Y,U,z=[],te=[],ae="",ge=D.globals.series.map(function(Se,Ze){return D.globals.collapsedSeriesIndices.indexOf(Ze)===-1?Se:[]}),Ce=function(Se){return D.config.xaxis.type==="datetime"&&String(Se).length>=10},we=Math.max.apply(Math,H(p.map(function(Se){return Se.data?Se.data.length:0}))),ke=new je(this.ctx),T=new ne(this.ctx),q=function(Se){var Ze="";if(D.globals.axisCharts){if(D.config.xaxis.type==="category"||D.config.xaxis.convertedCatToNumeric)if(D.globals.isBarHorizontal){var Te=D.globals.yLabelFormatters[0],Qe=new Ue(A.ctx).getActiveConfigSeriesIndex();Ze=Te(D.globals.labels[Se],{seriesIndex:Qe,dataPointIndex:Se,w:D})}else Ze=T.getLabel(D.globals.labels,D.globals.timescaleLabels,0,Se).text;D.config.xaxis.type==="datetime"&&(D.config.xaxis.categories.length?Ze=D.config.xaxis.categories[Se]:D.config.labels.length&&(Ze=D.config.labels[Se]))}else Ze=D.config.labels[Se];return Ze===null?"nullvalue":(Array.isArray(Ze)&&(Ze=Ze.join(" ")),_.isNumber(Ze)?Ze:Ze.split(k).join(""))},Ae=function(Se,Ze){if(z.length&&Ze===0&&te.push(z.join(k)),Se.data){Se.data=Se.data.length&&Se.data||H(Array(we)).map(function(){return""});for(var Te=0;Te<Se.data.length;Te++){z=[];var Qe=q(Te);if(Qe!=="nullvalue"){if(Qe||(ke.isFormatXY()?Qe=p[Ze].data[Te].x:ke.isFormat2DArray()&&(Qe=p[Ze].data[Te]?p[Ze].data[Te][0]:"")),Ze===0){z.push(Ce(Qe)?D.config.chart.toolbar.export.csv.dateFormatter(Qe):_.isNumber(Qe)?Qe:Qe.split(k).join(""));for(var Oe=0;Oe<D.globals.series.length;Oe++){var ut;ke.isFormatXY()?z.push((ut=p[Oe].data[Te])===null||ut===void 0?void 0:ut.y):z.push(ge[Oe][Te])}}(D.config.chart.type==="candlestick"||Se.type&&Se.type==="candlestick")&&(z.pop(),z.push(D.globals.seriesCandleO[Ze][Te]),z.push(D.globals.seriesCandleH[Ze][Te]),z.push(D.globals.seriesCandleL[Ze][Te]),z.push(D.globals.seriesCandleC[Ze][Te])),(D.config.chart.type==="boxPlot"||Se.type&&Se.type==="boxPlot")&&(z.pop(),z.push(D.globals.seriesCandleO[Ze][Te]),z.push(D.globals.seriesCandleH[Ze][Te]),z.push(D.globals.seriesCandleM[Ze][Te]),z.push(D.globals.seriesCandleL[Ze][Te]),z.push(D.globals.seriesCandleC[Ze][Te])),D.config.chart.type==="rangeBar"&&(z.pop(),z.push(D.globals.seriesRangeStart[Ze][Te]),z.push(D.globals.seriesRangeEnd[Ze][Te])),z.length&&te.push(z.join(k))}}}};z.push(D.config.chart.toolbar.export.csv.headerCategory),D.config.chart.type==="boxPlot"?(z.push("minimum"),z.push("q1"),z.push("median"),z.push("q3"),z.push("maximum")):D.config.chart.type==="candlestick"?(z.push("open"),z.push("high"),z.push("low"),z.push("close")):D.config.chart.type==="rangeBar"?(z.push("minimum"),z.push("maximum")):p.map(function(Se,Ze){var Te=(Se.name?Se.name:"series-".concat(Ze))+"";D.globals.axisCharts&&z.push(Te.split(k).join("")?Te.split(k).join(""):"series-".concat(Ze))}),D.globals.axisCharts||(z.push(D.config.chart.toolbar.export.csv.headerValue),te.push(z.join(k))),D.globals.allSeriesHasEqualX||!D.globals.axisCharts||D.config.xaxis.categories.length||D.config.labels.length?p.map(function(Se,Ze){D.globals.axisCharts?Ae(Se,Ze):((z=[]).push(D.globals.labels[Ze].split(k).join("")),z.push(ge[Ze]),te.push(z.join(k)))}):(Y=new Set,U={},p.forEach(function(Se,Ze){Se==null||Se.data.forEach(function(Te){var Qe,Oe;if(ke.isFormatXY())Qe=Te.x,Oe=Te.y;else{if(!ke.isFormat2DArray())return;Qe=Te[0],Oe=Te[1]}U[Qe]||(U[Qe]=Array(p.length).fill("")),U[Qe][Ze]=Oe,Y.add(Qe)})}),z.length&&te.push(z.join(k)),Array.from(Y).sort().forEach(function(Se){te.push([Ce(Se)&&D.config.xaxis.type==="datetime"?D.config.chart.toolbar.export.csv.dateFormatter(Se):_.isNumber(Se)?Se:Se.split(k).join(""),U[Se].join(k)])})),ae+=te.join(E),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+ae),I||D.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(d,A,p){var I=document.createElement("a");I.href=d,I.download=(A||this.w.globals.chartID)+p,document.body.appendChild(I),I.click(),document.body.removeChild(I)}}]),Be}(),At=function(){function Be(d,A){c(this,Be),this.ctx=d,this.elgrid=A,this.w=d.w;var p=this.w;this.axesUtils=new ne(d),this.xaxisLabels=p.globals.labels.slice(),p.globals.timescaleLabels.length>0&&!p.globals.isBarHorizontal&&(this.xaxisLabels=p.globals.timescaleLabels.slice()),p.config.xaxis.overwriteCategories&&(this.xaxisLabels=p.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],p.config.xaxis.position==="top"?this.offY=0:this.offY=p.globals.gridHeight,this.offY=this.offY+p.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=p.config.chart.type==="bar"&&p.config.plotOptions.bar.horizontal,this.xaxisFontSize=p.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=p.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=p.config.xaxis.labels.style.colors,this.xaxisBorderWidth=p.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=p.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=p.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=p.config.xaxis.axisBorder.height,this.yaxis=p.config.yaxis[0]}return C(Be,[{key:"drawXaxis",value:function(){var d=this.w,A=new j(this.ctx),p=A.group({class:"apexcharts-xaxis",transform:"translate(".concat(d.config.xaxis.offsetX,", ").concat(d.config.xaxis.offsetY,")")}),I=A.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(d.globals.translateXAxisX,", ").concat(d.globals.translateXAxisY,")")});p.add(I);for(var w=[],k=0;k<this.xaxisLabels.length;k++)w.push(this.xaxisLabels[k]);if(this.drawXAxisLabelAndGroup(!0,A,I,w,d.globals.isXNumeric,function(ae,ge){return ge}),d.globals.hasXaxisGroups){var Z=d.globals.groups;w=[];for(var E=0;E<Z.length;E++)w.push(Z[E].title);var D={};d.config.xaxis.group.style&&(D.xaxisFontSize=d.config.xaxis.group.style.fontSize,D.xaxisFontFamily=d.config.xaxis.group.style.fontFamily,D.xaxisForeColors=d.config.xaxis.group.style.colors,D.fontWeight=d.config.xaxis.group.style.fontWeight,D.cssClass=d.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,A,I,w,!1,function(ae,ge){return Z[ae].cols*ge},D)}if(d.config.xaxis.title.text!==void 0){var Y=A.group({class:"apexcharts-xaxis-title"}),U=A.drawText({x:d.globals.gridWidth/2+d.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(d.config.xaxis.position==="bottom"?d.globals.xAxisLabelsHeight:-d.globals.xAxisLabelsHeight-10)+d.config.xaxis.title.offsetY,text:d.config.xaxis.title.text,textAnchor:"middle",fontSize:d.config.xaxis.title.style.fontSize,fontFamily:d.config.xaxis.title.style.fontFamily,fontWeight:d.config.xaxis.title.style.fontWeight,foreColor:d.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+d.config.xaxis.title.style.cssClass});Y.add(U),p.add(Y)}if(d.config.xaxis.axisBorder.show){var z=d.globals.barPadForNumericAxis,te=A.drawLine(d.globals.padHorizontal+d.config.xaxis.axisBorder.offsetX-z,this.offY,this.xaxisBorderWidth+z,this.offY,d.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&d.config.grid.show?this.elgrid.elGridBorders.add(te):p.add(te)}return p}},{key:"drawXAxisLabelAndGroup",value:function(d,A,p,I,w,k){var Z,E=this,D=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},Y=[],U=[],z=this.w,te=D.xaxisFontSize||this.xaxisFontSize,ae=D.xaxisFontFamily||this.xaxisFontFamily,ge=D.xaxisForeColors||this.xaxisForeColors,Ce=D.fontWeight||z.config.xaxis.labels.style.fontWeight,we=D.cssClass||z.config.xaxis.labels.style.cssClass,ke=z.globals.padHorizontal,T=I.length,q=z.config.xaxis.type==="category"?z.globals.dataPoints:T;if(q===0&&T>q&&(q=T),w){var Ae=q>1?q-1:q;Z=z.globals.gridWidth/Math.min(Ae,T-1),ke=ke+k(0,Z)/2+z.config.xaxis.labels.offsetX}else Z=z.globals.gridWidth/q,ke=ke+k(0,Z)+z.config.xaxis.labels.offsetX;for(var Se=function(Te){var Qe=ke-k(Te,Z)/2+z.config.xaxis.labels.offsetX;Te===0&&T===1&&Z/2===ke&&q===1&&(Qe=z.globals.gridWidth/2);var Oe=E.axesUtils.getLabel(I,z.globals.timescaleLabels,Qe,Te,Y,te,d),ut=28;if(z.globals.rotateXLabels&&d&&(ut=22),z.config.xaxis.title.text&&z.config.xaxis.position==="top"&&(ut+=parseFloat(z.config.xaxis.title.style.fontSize)+2),d||(ut=ut+parseFloat(te)+(z.globals.xAxisLabelsHeight-z.globals.xAxisGroupLabelsHeight)+(z.globals.rotateXLabels?10:0)),Oe=z.config.xaxis.tickAmount!==void 0&&z.config.xaxis.tickAmount!=="dataPoints"&&z.config.xaxis.type!=="datetime"?E.axesUtils.checkLabelBasedOnTickamount(Te,Oe,T):E.axesUtils.checkForOverflowingLabels(Te,Oe,T,Y,U),z.config.xaxis.labels.show){var Gt=A.drawText({x:Oe.x,y:E.offY+z.config.xaxis.labels.offsetY+ut-(z.config.xaxis.position==="top"?z.globals.xAxisHeight+z.config.xaxis.axisTicks.height-2:0),text:Oe.text,textAnchor:"middle",fontWeight:Oe.isBold?600:Ce,fontSize:te,fontFamily:ae,foreColor:Array.isArray(ge)?d&&z.config.xaxis.convertedCatToNumeric?ge[z.globals.minX+Te-1]:ge[Te]:ge,isPlainText:!1,cssClass:(d?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+we});if(p.add(Gt),Gt.on("click",function(Et){if(typeof z.config.chart.events.xAxisLabelClick=="function"){var Ot=Object.assign({},z,{labelIndex:Te});z.config.chart.events.xAxisLabelClick(Et,E.ctx,Ot)}}),d){var dt=document.createElementNS(z.globals.SVGNS,"title");dt.textContent=Array.isArray(Oe.text)?Oe.text.join(" "):Oe.text,Gt.node.appendChild(dt),Oe.text!==""&&(Y.push(Oe.text),U.push(Oe))}}Te<T-1&&(ke+=k(Te+1,Z))},Ze=0;Ze<=T-1;Ze++)Se(Ze)}},{key:"drawXaxisInversed",value:function(d){var A,p,I=this,w=this.w,k=new j(this.ctx),Z=w.config.yaxis[0].opposite?w.globals.translateYAxisX[d]:0,E=k.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:d}),D=k.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+Z+", 0)"});E.add(D);var Y=[];if(w.config.yaxis[d].show)for(var U=0;U<this.xaxisLabels.length;U++)Y.push(this.xaxisLabels[U]);A=w.globals.gridHeight/Y.length,p=-A/2.2;var z=w.globals.yLabelFormatters[0],te=w.config.yaxis[0].labels;if(te.show)for(var ae=function(Ae){var Se=Y[Ae]===void 0?"":Y[Ae];Se=z(Se,{seriesIndex:d,dataPointIndex:Ae,w});var Ze=I.axesUtils.getYAxisForeColor(te.style.colors,d),Te=0;Array.isArray(Se)&&(Te=Se.length/2*parseInt(te.style.fontSize,10));var Qe=te.offsetX-15,Oe="end";I.yaxis.opposite&&(Oe="start"),w.config.yaxis[0].labels.align==="left"?(Qe=te.offsetX,Oe="start"):w.config.yaxis[0].labels.align==="center"?(Qe=te.offsetX,Oe="middle"):w.config.yaxis[0].labels.align==="right"&&(Oe="end");var ut=k.drawText({x:Qe,y:p+A+te.offsetY-Te,text:Se,textAnchor:Oe,foreColor:Array.isArray(Ze)?Ze[Ae]:Ze,fontSize:te.style.fontSize,fontFamily:te.style.fontFamily,fontWeight:te.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+te.style.cssClass,maxWidth:te.maxWidth});D.add(ut),ut.on("click",function(Et){if(typeof w.config.chart.events.xAxisLabelClick=="function"){var Ot=Object.assign({},w,{labelIndex:Ae});w.config.chart.events.xAxisLabelClick(Et,I.ctx,Ot)}});var Gt=document.createElementNS(w.globals.SVGNS,"title");if(Gt.textContent=Array.isArray(Se)?Se.join(" "):Se,ut.node.appendChild(Gt),w.config.yaxis[d].labels.rotate!==0){var dt=k.rotateAroundCenter(ut.node);ut.node.setAttribute("transform","rotate(".concat(w.config.yaxis[d].labels.rotate," 0 ").concat(dt.y,")"))}p+=A},ge=0;ge<=Y.length-1;ge++)ae(ge);if(w.config.yaxis[0].title.text!==void 0){var Ce=k.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+Z+", 0)"}),we=k.drawText({x:w.config.yaxis[0].title.offsetX,y:w.globals.gridHeight/2+w.config.yaxis[0].title.offsetY,text:w.config.yaxis[0].title.text,textAnchor:"middle",foreColor:w.config.yaxis[0].title.style.color,fontSize:w.config.yaxis[0].title.style.fontSize,fontWeight:w.config.yaxis[0].title.style.fontWeight,fontFamily:w.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+w.config.yaxis[0].title.style.cssClass});Ce.add(we),E.add(Ce)}var ke=0;this.isCategoryBarHorizontal&&w.config.yaxis[0].opposite&&(ke=w.globals.gridWidth);var T=w.config.xaxis.axisBorder;if(T.show){var q=k.drawLine(w.globals.padHorizontal+T.offsetX+ke,1+T.offsetY,w.globals.padHorizontal+T.offsetX+ke,w.globals.gridHeight+T.offsetY,T.color,0);this.elgrid&&this.elgrid.elGridBorders&&w.config.grid.show?this.elgrid.elGridBorders.add(q):E.add(q)}return w.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(ke,Y.length,w.config.yaxis[0].axisBorder,w.config.yaxis[0].axisTicks,0,A,E),E}},{key:"drawXaxisTicks",value:function(d,A,p){var I=this.w,w=d;if(!(d<0||d-2>I.globals.gridWidth)){var k=this.offY+I.config.xaxis.axisTicks.offsetY;if(A=A+k+I.config.xaxis.axisTicks.height,I.config.xaxis.position==="top"&&(A=k-I.config.xaxis.axisTicks.height),I.config.xaxis.axisTicks.show){var Z=new j(this.ctx).drawLine(d+I.config.xaxis.axisTicks.offsetX,k+I.config.xaxis.offsetY,w+I.config.xaxis.axisTicks.offsetX,A+I.config.xaxis.offsetY,I.config.xaxis.axisTicks.color);p.add(Z),Z.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var d=this.w,A=[],p=this.xaxisLabels.length,I=d.globals.padHorizontal;if(d.globals.timescaleLabels.length>0)for(var w=0;w<p;w++)I=this.xaxisLabels[w].position,A.push(I);else for(var k=p,Z=0;Z<k;Z++){var E=k;d.globals.isXNumeric&&d.config.chart.type!=="bar"&&(E-=1),I+=d.globals.gridWidth/E,A.push(I)}return A}},{key:"xAxisLabelCorrections",value:function(){var d=this.w,A=new j(this.ctx),p=d.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),I=d.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),w=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),k=d.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(d.globals.rotateXLabels||d.config.xaxis.labels.rotateAlways)for(var Z=0;Z<I.length;Z++){var E=A.rotateAroundCenter(I[Z]);E.y=E.y-1,E.x=E.x+1,I[Z].setAttribute("transform","rotate(".concat(d.config.xaxis.labels.rotate," ").concat(E.x," ").concat(E.y,")")),I[Z].setAttribute("text-anchor","end"),p.setAttribute("transform","translate(0, ".concat(-10,")"));var D=I[Z].childNodes;d.config.xaxis.labels.trim&&Array.prototype.forEach.call(D,function(te){A.placeTextWithEllipsis(te,te.textContent,d.globals.xAxisLabelsHeight-(d.config.legend.position==="bottom"?20:10))})}else(function(){for(var te=d.globals.gridWidth/(d.globals.labels.length+1),ae=0;ae<I.length;ae++){var ge=I[ae].childNodes;d.config.xaxis.labels.trim&&d.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(ge,function(Ce){A.placeTextWithEllipsis(Ce,Ce.textContent,te)})}})();if(w.length>0){var Y=w[w.length-1].getBBox(),U=w[0].getBBox();Y.x<-20&&w[w.length-1].parentNode.removeChild(w[w.length-1]),U.x+U.width>d.globals.gridWidth&&!d.globals.isBarHorizontal&&w[0].parentNode.removeChild(w[0]);for(var z=0;z<k.length;z++)A.placeTextWithEllipsis(k[z],k[z].textContent,d.config.yaxis[0].labels.maxWidth-(d.config.yaxis[0].title.text?2*parseFloat(d.config.yaxis[0].title.style.fontSize):0)-15)}}}]),Be}(),ct=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w;var A=this.w;this.xaxisLabels=A.globals.labels.slice(),this.axesUtils=new ne(d),this.isRangeBar=A.globals.seriesRange.length&&A.globals.isBarHorizontal,A.globals.timescaleLabels.length>0&&(this.xaxisLabels=A.globals.timescaleLabels.slice())}return C(Be,[{key:"drawGridArea",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,A=this.w,p=new j(this.ctx);d===null&&(d=p.group({class:"apexcharts-grid"}));var I=p.drawLine(A.globals.padHorizontal,1,A.globals.padHorizontal,A.globals.gridHeight,"transparent"),w=p.drawLine(A.globals.padHorizontal,A.globals.gridHeight,A.globals.gridWidth,A.globals.gridHeight,"transparent");return d.add(w),d.add(I),d}},{key:"drawGrid",value:function(){var d=null;return this.w.globals.axisCharts&&(d=this.renderGrid(),this.drawGridArea(d.el)),d}},{key:"createGridMask",value:function(){var d=this.w,A=d.globals,p=new j(this.ctx),I=Array.isArray(d.config.stroke.width)?0:d.config.stroke.width;if(Array.isArray(d.config.stroke.width)){var w=0;d.config.stroke.width.forEach(function(U){w=Math.max(w,U)}),I=w}A.dom.elGridRectMask=document.createElementNS(A.SVGNS,"clipPath"),A.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(A.cuid)),A.dom.elGridRectMarkerMask=document.createElementNS(A.SVGNS,"clipPath"),A.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(A.cuid)),A.dom.elForecastMask=document.createElementNS(A.SVGNS,"clipPath"),A.dom.elForecastMask.setAttribute("id","forecastMask".concat(A.cuid)),A.dom.elNonForecastMask=document.createElementNS(A.SVGNS,"clipPath"),A.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(A.cuid));var k=d.config.chart.type,Z=0,E=0;(k==="bar"||k==="rangeBar"||k==="candlestick"||k==="boxPlot"||d.globals.comboBarCount>0)&&d.globals.isXNumeric&&!d.globals.isBarHorizontal&&(Z=d.config.grid.padding.left,E=d.config.grid.padding.right,A.barPadForNumericAxis>Z&&(Z=A.barPadForNumericAxis,E=A.barPadForNumericAxis)),A.dom.elGridRect=p.drawRect(-I/2-Z-2,-I/2-2,A.gridWidth+I+E+Z+4,A.gridHeight+I+4,0,"#fff");var D=d.globals.markers.largestSize+1;A.dom.elGridRectMarker=p.drawRect(2*-D,2*-D,A.gridWidth+4*D,A.gridHeight+4*D,0,"#fff"),A.dom.elGridRectMask.appendChild(A.dom.elGridRect.node),A.dom.elGridRectMarkerMask.appendChild(A.dom.elGridRectMarker.node);var Y=A.dom.baseEl.querySelector("defs");Y.appendChild(A.dom.elGridRectMask),Y.appendChild(A.dom.elForecastMask),Y.appendChild(A.dom.elNonForecastMask),Y.appendChild(A.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(d){var A=d.i,p=d.x1,I=d.y1,w=d.x2,k=d.y2,Z=d.xCount,E=d.parent,D=this.w;if(!(A===0&&D.globals.skipFirstTimelinelabel||A===Z-1&&D.globals.skipLastTimelinelabel&&!D.config.xaxis.labels.formatter||D.config.chart.type==="radar")){D.config.grid.xaxis.lines.show&&this._drawGridLine({i:A,x1:p,y1:I,x2:w,y2:k,xCount:Z,parent:E});var Y=0;if(D.globals.hasXaxisGroups&&D.config.xaxis.tickPlacement==="between"){var U=D.globals.groups;if(U){for(var z=0,te=0;z<A&&te<U.length;te++)z+=U[te].cols;z===A&&(Y=.6*D.globals.xAxisLabelsHeight)}}new At(this.ctx).drawXaxisTicks(p,Y,D.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(d){var A=d.i,p=d.x1,I=d.y1,w=d.x2,k=d.y2,Z=d.xCount,E=d.parent,D=this.w,Y=!1,U=E.node.classList.contains("apexcharts-gridlines-horizontal"),z=D.config.grid.strokeDashArray,te=D.globals.barPadForNumericAxis;(I===0&&k===0||p===0&&w===0)&&(Y=!0),I===D.globals.gridHeight&&k===D.globals.gridHeight&&(Y=!0),!D.globals.isBarHorizontal||A!==0&&A!==Z-1||(Y=!0);var ae=new j(this).drawLine(p-(U?te:0),I,w+(U?te:0),k,D.config.grid.borderColor,z);ae.node.classList.add("apexcharts-gridline"),Y&&D.config.grid.show?this.elGridBorders.add(ae):E.add(ae)}},{key:"_drawGridBandRect",value:function(d){var A=d.c,p=d.x1,I=d.y1,w=d.x2,k=d.y2,Z=d.type,E=this.w,D=new j(this.ctx),Y=E.globals.barPadForNumericAxis;if(Z!=="column"||E.config.xaxis.type!=="datetime"){var U=E.config.grid[Z].colors[A],z=D.drawRect(p-(Z==="row"?Y:0),I,w+(Z==="row"?2*Y:0),k,0,U,E.config.grid[Z].opacity);this.elg.add(z),z.attr("clip-path","url(#gridRectMask".concat(E.globals.cuid,")")),z.node.classList.add("apexcharts-grid-".concat(Z))}}},{key:"_drawXYLines",value:function(d){var A=this,p=d.xCount,I=d.tickAmount,w=this.w;if(w.config.grid.xaxis.lines.show||w.config.xaxis.axisTicks.show){var k,Z=w.globals.padHorizontal,E=w.globals.gridHeight;w.globals.timescaleLabels.length?function(ae){for(var ge=ae.xC,Ce=ae.x1,we=ae.y1,ke=ae.x2,T=ae.y2,q=0;q<ge;q++)Ce=A.xaxisLabels[q].position,ke=A.xaxisLabels[q].position,A._drawGridLines({i:q,x1:Ce,y1:we,x2:ke,y2:T,xCount:p,parent:A.elgridLinesV})}({xC:p,x1:Z,y1:0,x2:k,y2:E}):(w.globals.isXNumeric&&(p=w.globals.xAxisScale.result.length),function(ae){for(var ge=ae.xC,Ce=ae.x1,we=ae.y1,ke=ae.x2,T=ae.y2,q=0;q<ge+(w.globals.isXNumeric?0:1);q++)q===0&&ge===1&&w.globals.dataPoints===1&&(ke=Ce=w.globals.gridWidth/2),A._drawGridLines({i:q,x1:Ce,y1:we,x2:ke,y2:T,xCount:p,parent:A.elgridLinesV}),ke=Ce+=w.globals.gridWidth/(w.globals.isXNumeric?ge-1:ge)}({xC:p,x1:Z,y1:0,x2:k,y2:E}))}if(w.config.grid.yaxis.lines.show){var D=0,Y=0,U=w.globals.gridWidth,z=I+1;this.isRangeBar&&(z=w.globals.labels.length);for(var te=0;te<z+(this.isRangeBar?1:0);te++)this._drawGridLine({i:te,xCount:z+(this.isRangeBar?1:0),x1:0,y1:D,x2:U,y2:Y,parent:this.elgridLinesH}),Y=D+=w.globals.gridHeight/(this.isRangeBar?z:I)}}},{key:"_drawInvertedXYLines",value:function(d){var A=d.xCount,p=this.w;if(p.config.grid.xaxis.lines.show||p.config.xaxis.axisTicks.show)for(var I,w=p.globals.padHorizontal,k=p.globals.gridHeight,Z=0;Z<A+1;Z++)p.config.grid.xaxis.lines.show&&this._drawGridLine({i:Z,xCount:A+1,x1:w,y1:0,x2:I,y2:k,parent:this.elgridLinesV}),new At(this.ctx).drawXaxisTicks(w,0,p.globals.dom.elGraphical),I=w+=p.globals.gridWidth/A;if(p.config.grid.yaxis.lines.show)for(var E=0,D=0,Y=p.globals.gridWidth,U=0;U<p.globals.dataPoints+1;U++)this._drawGridLine({i:U,xCount:p.globals.dataPoints+1,x1:0,y1:E,x2:Y,y2:D,parent:this.elgridLinesH}),D=E+=p.globals.gridHeight/p.globals.dataPoints}},{key:"renderGrid",value:function(){var d=this.w,A=d.globals,p=new j(this.ctx);this.elg=p.group({class:"apexcharts-grid"}),this.elgridLinesH=p.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=p.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=p.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),d.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var I=0;I<A.seriesYAxisMap.length&&A.ignoreYAxisIndexes.indexOf(I)!==-1;)I++;I===A.seriesYAxisMap.length&&(I=0);var w,k=A.yAxisScale[I].result.length-1;if(!A.isBarHorizontal||this.isRangeBar){var Z,E,D;w=this.xaxisLabels.length,this.isRangeBar&&(k=A.labels.length,d.config.xaxis.tickAmount&&d.config.xaxis.labels.formatter&&(w=d.config.xaxis.tickAmount),((Z=A.yAxisScale)===null||Z===void 0||(E=Z[I])===null||E===void 0||(D=E.result)===null||D===void 0?void 0:D.length)>0&&d.config.xaxis.type!=="datetime"&&(w=A.yAxisScale[I].result.length-1)),this._drawXYLines({xCount:w,tickAmount:k})}else w=k,k=A.xTickAmount,this._drawInvertedXYLines({xCount:w,tickAmount:k});return this.drawGridBands(w,k),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:A.gridWidth/w}}},{key:"drawGridBands",value:function(d,A){var p=this.w;if(p.config.grid.row.colors!==void 0&&p.config.grid.row.colors.length>0)for(var I=0,w=p.globals.gridHeight/A,k=p.globals.gridWidth,Z=0,E=0;Z<A;Z++,E++)E>=p.config.grid.row.colors.length&&(E=0),this._drawGridBandRect({c:E,x1:0,y1:I,x2:k,y2:w,type:"row"}),I+=p.globals.gridHeight/A;if(p.config.grid.column.colors!==void 0&&p.config.grid.column.colors.length>0)for(var D=p.globals.isBarHorizontal||p.config.xaxis.tickPlacement!=="on"||p.config.xaxis.type!=="category"&&!p.config.xaxis.convertedCatToNumeric?d:d-1,Y=p.globals.padHorizontal,U=p.globals.padHorizontal+p.globals.gridWidth/D,z=p.globals.gridHeight,te=0,ae=0;te<d;te++,ae++)ae>=p.config.grid.column.colors.length&&(ae=0),this._drawGridBandRect({c:ae,x1:Y,y1:0,x2:U,y2:z,type:"column"}),Y+=p.globals.gridWidth/D}}]),Be}(),lt=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"niceScale",value:function(d,A){var p,I,w,k,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,E=1e-11,D=this.w,Y=D.globals;Y.isBarHorizontal?(p=D.config.xaxis,I=Math.max((Y.svgWidth-100)/25,2)):(p=D.config.yaxis[Z],I=Math.max((Y.svgHeight-100)/15,2)),w=p.min!==void 0&&p.min!==null,k=p.max!==void 0&&p.min!==null;var U=p.stepSize!==void 0&&p.stepSize!==null,z=p.tickAmount!==void 0&&p.tickAmount!==null,te=z?p.tickAmount:p.forceNiceScale?Y.niceScaleDefaultTicks[Math.min(Math.round(I/2),Y.niceScaleDefaultTicks.length-1)]:10;if(Y.isMultipleYAxis&&!z&&Y.multiAxisTickAmount>0&&(te=Y.multiAxisTickAmount,z=!0),te=te==="dataPoints"?Y.dataPoints-1:Math.abs(Math.round(te)),(d===Number.MIN_VALUE&&A===0||!_.isNumber(d)&&!_.isNumber(A)||d===Number.MIN_VALUE&&A===-Number.MAX_VALUE)&&(d=_.isNumber(p.min)?p.min:0,A=_.isNumber(p.max)?p.max:d+te,Y.allSeriesCollapsed=!1),d>A){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var ae=A;A=d,d=ae}else d===A&&(d=d===0?0:d-1,A=A===0?2:A+1);var ge=[];te<1&&(te=1);var Ce=te,we=Math.abs(A-d);p.forceNiceScale&&(!w&&d>0&&d/we<.15&&(d=0,w=!0),!k&&A<0&&-A/we<.15&&(A=0,k=!0),we=Math.abs(A-d));var ke=we/Ce,T=ke,q=Math.floor(Math.log10(T)),Ae=Math.pow(10,q),Se=Math.ceil(T/Ae);if(ke=T=(Se=Y.niceScaleAllowedMagMsd[Y.yValueDecimal===0?0:1][Se])*Ae,Y.isBarHorizontal&&p.stepSize&&p.type!=="datetime"?(ke=p.stepSize,U=!0):U&&(ke=p.stepSize),U&&p.forceNiceScale){var Ze=Math.floor(Math.log10(ke));ke*=Math.pow(10,q-Ze)}if(w&&k){var Te=we/Ce;if(z)if(U)if(_.mod(we,ke)!=0){var Qe=_.getGCD(ke,Te);ke=Te/Qe<10?Qe:Te}else _.mod(ke,Te)==0?ke=Te:(Te=ke,z=!1);else ke=Te;else if(U)_.mod(we,ke)==0?Te=ke:ke=Te;else if(_.mod(we,ke)==0)Te=ke;else{Te=we/(Ce=Math.ceil(we/ke));var Oe=_.getGCD(we,ke);we/Oe<I&&(Te=Oe),ke=Te}Ce=Math.round(we/ke)}else{if(w||k){if(k)if(z)d=A-ke*Ce;else{var ut=d;d=ke*Math.floor(d/ke),Math.abs(A-d)/_.getGCD(we,ke)>I&&(d=A-ke*te,d+=ke*Math.floor((ut-d)/ke))}else if(w)if(z)A=d+ke*Ce;else{var Gt=A;A=ke*Math.ceil(A/ke),Math.abs(A-d)/_.getGCD(we,ke)>I&&(A=d+ke*te,A+=ke*Math.ceil((Gt-A)/ke))}}else if(z){var dt=ke/(A-d>A?1:2),Et=dt*Math.floor(d/dt);Math.abs(Et-d)<=dt/2?A=(d=Et)+ke*Ce:d=(A=dt*Math.ceil(A/dt))-ke*Ce}else d=ke*Math.floor(d/ke),A=ke*Math.ceil(A/ke);we=Math.abs(A-d),ke=_.getGCD(we,ke),Ce=Math.round(we/ke)}if(z||w||k||(Ce=Math.ceil((we-E)/(ke+E)))>16&&_.getPrimeFactors(Ce).length<2&&Ce++,!z&&p.forceNiceScale&&Y.yValueDecimal===0&&Ce>we&&(Ce=we,ke=Math.round(we/Ce)),Ce>I&&(!z&&!U||p.forceNiceScale)){var Ot=_.getPrimeFactors(Ce),an=Ot.length-1,hn=Ce;e:for(var In=0;In<an;In++)for(var bn=0;bn<=an-In;bn++){for(var kn=Math.min(bn+In,an),En=hn,Ri=1,jn=bn;jn<=kn;jn++)Ri*=Ot[jn];if((En/=Ri)<I){hn=En;break e}}ke=hn===Ce?we:we/hn,Ce=Math.round(we/ke)}Y.isMultipleYAxis&&Y.multiAxisTickAmount==0&&Y.ignoreYAxisIndexes.indexOf(Z)<0&&(Y.multiAxisTickAmount=Ce);var Ci=d-ke,eo=ke*E;do Ci+=ke,ge.push(_.stripNumber(Ci,7));while(A-Ci>eo);return{result:ge,niceMin:ge[0],niceMax:ge[ge.length-1]}}},{key:"linearScale",value:function(d,A){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,k=Math.abs(A-d);(p=this._adjustTicksForSmallRange(p,I,k))==="dataPoints"&&(p=this.w.globals.dataPoints-1),w||(w=k/p),p===Number.MAX_VALUE&&(p=5,w=1);for(var Z=[],E=d;p>=0;)Z.push(E),E+=w,p-=1;return{result:Z,niceMin:Z[0],niceMax:Z[Z.length-1]}}},{key:"logarithmicScaleNice",value:function(d,A,p){A<=0&&(A=Math.max(d,p)),d<=0&&(d=Math.min(A,p));for(var I=[],w=Math.ceil(Math.log(A)/Math.log(p)+1),k=Math.floor(Math.log(d)/Math.log(p));k<w;k++)I.push(Math.pow(p,k));return{result:I,niceMin:I[0],niceMax:I[I.length-1]}}},{key:"logarithmicScale",value:function(d,A,p){A<=0&&(A=Math.max(d,p)),d<=0&&(d=Math.min(A,p));for(var I=[],w=Math.log(A)/Math.log(p),k=Math.log(d)/Math.log(p),Z=w-k,E=Math.round(Z),D=Z/E,Y=0,U=k;Y<E;Y++,U+=D)I.push(Math.pow(p,U));return I.push(Math.pow(p,w)),{result:I,niceMin:d,niceMax:A}}},{key:"_adjustTicksForSmallRange",value:function(d,A,p){var I=d;if(A!==void 0&&this.w.config.yaxis[A].labels.formatter&&this.w.config.yaxis[A].tickAmount===void 0){var w=Number(this.w.config.yaxis[A].labels.formatter(1));_.isNumber(w)&&this.w.globals.yValueDecimal===0&&(I=Math.ceil(p))}return I<d?I:d}},{key:"setYScaleForIndex",value:function(d,A,p){var I=this.w.globals,w=this.w.config,k=I.isBarHorizontal?w.xaxis:w.yaxis[d];I.yAxisScale[d]===void 0&&(I.yAxisScale[d]=[]);var Z=Math.abs(p-A);k.logarithmic&&Z<=5&&(I.invalidLogScale=!0),k.logarithmic&&Z>5?(I.allSeriesCollapsed=!1,I.yAxisScale[d]=k.forceNiceScale?this.logarithmicScaleNice(A,p,k.logBase):this.logarithmicScale(A,p,k.logBase)):p!==-Number.MAX_VALUE&&_.isNumber(p)&&A!==Number.MAX_VALUE&&_.isNumber(A)?(I.allSeriesCollapsed=!1,I.yAxisScale[d]=this.niceScale(A,p,d)):I.yAxisScale[d]=this.niceScale(Number.MIN_VALUE,0,d)}},{key:"setXScale",value:function(d,A){var p=this.w,I=p.globals,w=Math.abs(A-d);return A!==-Number.MAX_VALUE&&_.isNumber(A)?I.xAxisScale=this.linearScale(d,A,p.config.xaxis.tickAmount?p.config.xaxis.tickAmount:w<10&&w>1?w+1:10,0,p.config.xaxis.stepSize):I.xAxisScale=this.linearScale(0,10,10),I.xAxisScale}},{key:"setSeriesYAxisMappings",value:function(){var d=this.w.globals,A=this.w.config;d.minYArr,d.maxYArr;var p=[],I=[],w=[],k=d.series.length>A.yaxis.length||A.yaxis.some(function(U){return Array.isArray(U.seriesName)});A.series.forEach(function(U,z){w.push(z),I.push(null)}),A.yaxis.forEach(function(U,z){p[z]=[]});var Z=[];A.yaxis.forEach(function(U,z){var te=!1;if(U.seriesName){var ae=[];Array.isArray(U.seriesName)?ae=U.seriesName:ae.push(U.seriesName),ae.forEach(function(ge){A.series.forEach(function(Ce,we){if(Ce.name===ge){var ke=we;z===we||k?!k||w.indexOf(we)>-1?p[z].push([z,we]):console.warn("Series '"+Ce.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(p[we].push([we,z]),ke=z),te=!0,(ke=w.indexOf(ke))!==-1&&w.splice(ke,1)}})})}te||Z.push(z)}),p=p.map(function(U,z){var te=[];return U.forEach(function(ae){I[ae[1]]=ae[0],te.push(ae[1])}),te});for(var E=A.yaxis.length-1,D=0;D<Z.length&&(E=Z[D],p[E]=[],w);D++){var Y=w[0];w.shift(),p[E].push(Y),I[Y]=E}w.forEach(function(U){p[E].push(U),I[U]=E}),d.seriesYAxisMap=p.map(function(U){return U}),d.seriesYAxisReverseMap=I.map(function(U){return U})}},{key:"scaleMultipleYAxes",value:function(){var d=this,A=this.w.config,p=this.w.globals;this.setSeriesYAxisMappings();var I=p.seriesYAxisMap,w=p.minYArr,k=p.maxYArr;p.allSeriesCollapsed=!0,p.barGroups=[],I.forEach(function(Z,E){var D=[];Z.forEach(function(Y){var U=A.series[Y].group;D.indexOf(U)<0&&D.push(U)}),Z.length>0?function(){var Y,U,z=Number.MAX_VALUE,te=-Number.MAX_VALUE,ae=z,ge=te;if(A.chart.stacked)(function(){var ke=p.seriesX[Z[0]],T=[],q=[],Ae=[];D.forEach(function(){T.push(ke.map(function(){return Number.MIN_VALUE})),q.push(ke.map(function(){return Number.MIN_VALUE})),Ae.push(ke.map(function(){return Number.MIN_VALUE}))});for(var Se=function(Te){!Y&&A.series[Z[Te]].type&&(Y=A.series[Z[Te]].type);var Qe=Z[Te];U=A.series[Qe].group?A.series[Qe].group:"axis-".concat(E),!(p.collapsedSeriesIndices.indexOf(Qe)<0&&p.ancillaryCollapsedSeriesIndices.indexOf(Qe)<0)||(p.allSeriesCollapsed=!1,D.forEach(function(Oe,ut){if(A.series[Qe].group===Oe)for(var Gt=0;Gt<p.series[Qe].length;Gt++){var dt=p.series[Qe][Gt];dt>=0?q[ut][Gt]+=dt:Ae[ut][Gt]+=dt,T[ut][Gt]+=dt,ae=Math.min(ae,dt),ge=Math.max(ge,dt)}})),Y!=="bar"&&Y!=="column"||p.barGroups.push(U)},Ze=0;Ze<Z.length;Ze++)Se(Ze);Y||(Y=A.chart.type),Y==="bar"||Y==="column"?D.forEach(function(Te,Qe){z=Math.min(z,Math.min.apply(null,Ae[Qe])),te=Math.max(te,Math.max.apply(null,q[Qe]))}):(D.forEach(function(Te,Qe){ae=Math.min(ae,Math.min.apply(null,T[Qe])),ge=Math.max(ge,Math.max.apply(null,T[Qe]))}),z=ae,te=ge),z===Number.MIN_VALUE&&te===Number.MIN_VALUE&&(te=-Number.MAX_VALUE)})();else for(var Ce=0;Ce<Z.length;Ce++){var we=Z[Ce];z=Math.min(z,w[we]),te=Math.max(te,k[we]),!(p.collapsedSeriesIndices.indexOf(we)<0&&p.ancillaryCollapsedSeriesIndices.indexOf(we)<0)||(p.allSeriesCollapsed=!1)}A.yaxis[E].min!==void 0&&(z=typeof A.yaxis[E].min=="function"?A.yaxis[E].min(z):A.yaxis[E].min),A.yaxis[E].max!==void 0&&(te=typeof A.yaxis[E].max=="function"?A.yaxis[E].max(te):A.yaxis[E].max),p.barGroups=p.barGroups.filter(function(ke,T,q){return q.indexOf(ke)===T}),d.setYScaleForIndex(E,z,te),Z.forEach(function(ke){w[ke]=p.yAxisScale[E].niceMin,k[ke]=p.yAxisScale[E].niceMax})}():d.setYScaleForIndex(E,0,-Number.MAX_VALUE)})}}]),Be}(),at=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w,this.scales=new lt(d)}return C(Be,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(d){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,w=this.w.config,k=this.w.globals,Z=-Number.MAX_VALUE,E=Number.MIN_VALUE;I===null&&(I=d+1);var D=0,Y=0,U=void 0;if(k.seriesX.length>=I){var z,te;D=0,Y=(U=H(new Set((z=[]).concat.apply(z,H(k.seriesX.slice(d,I)))))).length-1;var ae=(te=k.brushSource)===null||te===void 0?void 0:te.w.config.chart.brush;if(w.chart.zoom.enabled&&w.chart.zoom.autoScaleYaxis||ae!=null&&ae.enabled&&ae!=null&&ae.autoScaleYaxis){if(w.xaxis.min)for(D=0;D<Y&&U[D]<w.xaxis.min;D++);if(w.xaxis.max)for(;Y>D&&U[Y]>w.xaxis.max;Y--);}}var ge=k.series,Ce=ge,we=ge;w.chart.type==="candlestick"?(Ce=k.seriesCandleL,we=k.seriesCandleH):w.chart.type==="boxPlot"?(Ce=k.seriesCandleO,we=k.seriesCandleC):k.isRangeData&&(Ce=k.seriesRangeStart,we=k.seriesRangeEnd);for(var ke=d;ke<I;ke++){k.dataPoints=Math.max(k.dataPoints,ge[ke].length);var T=w.series[ke].type;k.categoryLabels.length&&(k.dataPoints=k.categoryLabels.filter(function(Se){return Se!==void 0}).length),k.labels.length&&w.xaxis.type!=="datetime"&&k.series.reduce(function(Se,Ze){return Se+Ze.length},0)!==0&&(k.dataPoints=Math.max(k.dataPoints,k.labels.length)),U||(D=0,Y=k.series[ke].length);for(var q=D;q<=Y&&q<k.series[ke].length;q++){var Ae=ge[ke][q];if(Ae!==null&&_.isNumber(Ae)){switch(we[ke][q]!==void 0&&(Z=Math.max(Z,we[ke][q]),A=Math.min(A,we[ke][q])),Ce[ke][q]!==void 0&&(A=Math.min(A,Ce[ke][q]),p=Math.max(p,Ce[ke][q])),T){case"candlestick":k.seriesCandleC[ke][q]!==void 0&&(Z=Math.max(Z,k.seriesCandleH[ke][q]),A=Math.min(A,k.seriesCandleL[ke][q]));break;case"boxPlot":k.seriesCandleC[ke][q]!==void 0&&(Z=Math.max(Z,k.seriesCandleC[ke][q]),A=Math.min(A,k.seriesCandleO[ke][q]))}T&&T!=="candlestick"&&T!=="boxPlot"&&T!=="rangeArea"&&T!=="rangeBar"&&(Z=Math.max(Z,k.series[ke][q]),A=Math.min(A,k.series[ke][q])),p=Z,k.seriesGoals[ke]&&k.seriesGoals[ke][q]&&Array.isArray(k.seriesGoals[ke][q])&&k.seriesGoals[ke][q].forEach(function(Se){E!==Number.MIN_VALUE&&(E=Math.min(E,Se.value),A=E),Z=Math.max(Z,Se.value),p=Z}),_.isFloat(Ae)&&(Ae=_.noExponents(Ae),k.yValueDecimal=Math.max(k.yValueDecimal,Ae.toString().split(".")[1].length)),E>Ce[ke][q]&&Ce[ke][q]<0&&(E=Ce[ke][q])}else k.hasNullValues=!0}T!=="bar"&&T!=="column"||(E<0&&Z<0&&(Z=0,p=Math.max(p,0)),E===Number.MIN_VALUE&&(E=0,A=Math.min(A,0)))}return w.chart.type==="rangeBar"&&k.seriesRangeStart.length&&k.isBarHorizontal&&(E=A),w.chart.type==="bar"&&(E<0&&Z<0&&(Z=0),E===Number.MIN_VALUE&&(E=0)),{minY:E,maxY:Z,lowestY:A,highestY:p}}},{key:"setYRange",value:function(){var d=this.w.globals,A=this.w.config;d.maxY=-Number.MAX_VALUE,d.minY=Number.MIN_VALUE;var p,I=Number.MAX_VALUE;if(d.isMultipleYAxis){I=Number.MAX_VALUE;for(var w=0;w<d.series.length;w++)p=this.getMinYMaxY(w),d.minYArr[w]=p.lowestY,d.maxYArr[w]=p.highestY,I=Math.min(I,p.lowestY)}return p=this.getMinYMaxY(0,I,null,d.series.length),A.chart.type==="bar"?(d.minY=p.minY,d.maxY=p.maxY):(d.minY=p.lowestY,d.maxY=p.highestY),I=p.lowestY,A.chart.stacked&&this._setStackedMinMax(),A.chart.type==="line"||A.chart.type==="area"||A.chart.type==="scatter"||A.chart.type==="candlestick"||A.chart.type==="boxPlot"||A.chart.type==="rangeBar"&&!d.isBarHorizontal?d.minY===Number.MIN_VALUE&&I!==-Number.MAX_VALUE&&I!==d.maxY&&(d.minY=I):d.minY=p.minY,A.yaxis.forEach(function(k,Z){k.max!==void 0&&(typeof k.max=="number"?d.maxYArr[Z]=k.max:typeof k.max=="function"&&(d.maxYArr[Z]=k.max(d.isMultipleYAxis?d.maxYArr[Z]:d.maxY)),d.maxY=d.maxYArr[Z]),k.min!==void 0&&(typeof k.min=="number"?d.minYArr[Z]=k.min:typeof k.min=="function"&&(d.minYArr[Z]=k.min(d.isMultipleYAxis?d.minYArr[Z]===Number.MIN_VALUE?0:d.minYArr[Z]:d.minY)),d.minY=d.minYArr[Z])}),d.isBarHorizontal&&["min","max"].forEach(function(k){A.xaxis[k]!==void 0&&typeof A.xaxis[k]=="number"&&(k==="min"?d.minY=A.xaxis[k]:d.maxY=A.xaxis[k])}),d.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),d.minY=I):(this.scales.setYScaleForIndex(0,d.minY,d.maxY),d.minY=d.yAxisScale[0].niceMin,d.maxY=d.yAxisScale[0].niceMax,d.minYArr[0]=d.minY,d.maxYArr[0]=d.maxY),d.barGroups=[],d.lineGroups=[],d.areaGroups=[],A.series.forEach(function(k){switch(k.type||A.chart.type){case"bar":case"column":d.barGroups.push(k.group);break;case"line":d.lineGroups.push(k.group);break;case"area":d.areaGroups.push(k.group)}}),d.barGroups=d.barGroups.filter(function(k,Z,E){return E.indexOf(k)===Z}),d.lineGroups=d.lineGroups.filter(function(k,Z,E){return E.indexOf(k)===Z}),d.areaGroups=d.areaGroups.filter(function(k,Z,E){return E.indexOf(k)===Z}),{minY:d.minY,maxY:d.maxY,minYArr:d.minYArr,maxYArr:d.maxYArr,yAxisScale:d.yAxisScale}}},{key:"setXRange",value:function(){var d=this.w.globals,A=this.w.config,p=A.xaxis.type==="numeric"||A.xaxis.type==="datetime"||A.xaxis.type==="category"&&!d.noLabelsProvided||d.noLabelsProvided||d.isXNumeric;if(d.isXNumeric&&function(){for(var Z=0;Z<d.series.length;Z++)if(d.labels[Z])for(var E=0;E<d.labels[Z].length;E++)d.labels[Z][E]!==null&&_.isNumber(d.labels[Z][E])&&(d.maxX=Math.max(d.maxX,d.labels[Z][E]),d.initialMaxX=Math.max(d.maxX,d.labels[Z][E]),d.minX=Math.min(d.minX,d.labels[Z][E]),d.initialMinX=Math.min(d.minX,d.labels[Z][E]))}(),d.noLabelsProvided&&A.xaxis.categories.length===0&&(d.maxX=d.labels[d.labels.length-1],d.initialMaxX=d.labels[d.labels.length-1],d.minX=1,d.initialMinX=1),d.isXNumeric||d.noLabelsProvided||d.dataFormatXNumeric){var I;if(A.xaxis.tickAmount===void 0?(I=Math.round(d.svgWidth/150),A.xaxis.type==="numeric"&&d.dataPoints<30&&(I=d.dataPoints-1),I>d.dataPoints&&d.dataPoints!==0&&(I=d.dataPoints-1)):A.xaxis.tickAmount==="dataPoints"?(d.series.length>1&&(I=d.series[d.maxValsInArrayIndex].length-1),d.isXNumeric&&(I=d.maxX-d.minX-1)):I=A.xaxis.tickAmount,d.xTickAmount=I,A.xaxis.max!==void 0&&typeof A.xaxis.max=="number"&&(d.maxX=A.xaxis.max),A.xaxis.min!==void 0&&typeof A.xaxis.min=="number"&&(d.minX=A.xaxis.min),A.xaxis.range!==void 0&&(d.minX=d.maxX-A.xaxis.range),d.minX!==Number.MAX_VALUE&&d.maxX!==-Number.MAX_VALUE)if(A.xaxis.convertedCatToNumeric&&!d.dataFormatXNumeric){for(var w=[],k=d.minX-1;k<d.maxX;k++)w.push(k+1);d.xAxisScale={result:w,niceMin:w[0],niceMax:w[w.length-1]}}else d.xAxisScale=this.scales.setXScale(d.minX,d.maxX);else d.xAxisScale=this.scales.linearScale(0,I,I,0,A.xaxis.stepSize),d.noLabelsProvided&&d.labels.length>0&&(d.xAxisScale=this.scales.linearScale(1,d.labels.length,I-1,0,A.xaxis.stepSize),d.seriesX=d.labels.slice());p&&(d.labels=d.xAxisScale.result.slice())}return d.isBarHorizontal&&d.labels.length&&(d.xTickAmount=d.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:d.minX,maxX:d.maxX}}},{key:"setZRange",value:function(){var d=this.w.globals;if(d.isDataXYZ){for(var A=0;A<d.series.length;A++)if(d.seriesZ[A]!==void 0)for(var p=0;p<d.seriesZ[A].length;p++)d.seriesZ[A][p]!==null&&_.isNumber(d.seriesZ[A][p])&&(d.maxZ=Math.max(d.maxZ,d.seriesZ[A][p]),d.minZ=Math.min(d.minZ,d.seriesZ[A][p]))}}},{key:"_handleSingleDataPoint",value:function(){var d=this.w.globals,A=this.w.config;if(d.minX===d.maxX){var p=new de(this.ctx);if(A.xaxis.type==="datetime"){var I=p.getDate(d.minX);A.xaxis.labels.datetimeUTC?I.setUTCDate(I.getUTCDate()-2):I.setDate(I.getDate()-2),d.minX=new Date(I).getTime();var w=p.getDate(d.maxX);A.xaxis.labels.datetimeUTC?w.setUTCDate(w.getUTCDate()+2):w.setDate(w.getDate()+2),d.maxX=new Date(w).getTime()}else(A.xaxis.type==="numeric"||A.xaxis.type==="category"&&!d.noLabelsProvided)&&(d.minX=d.minX-2,d.initialMinX=d.minX,d.maxX=d.maxX+2,d.initialMaxX=d.maxX)}}},{key:"_getMinXDiff",value:function(){var d=this.w.globals;d.isXNumeric&&d.seriesX.forEach(function(A,p){A.length===1&&A.push(d.seriesX[d.maxValsInArrayIndex][d.seriesX[d.maxValsInArrayIndex].length-1]);var I=A.slice();I.sort(function(w,k){return w-k}),I.forEach(function(w,k){if(k>0){var Z=w-I[k-1];Z>0&&(d.minXDiff=Math.min(Z,d.minXDiff))}}),d.dataPoints!==1&&d.minXDiff!==Number.MAX_VALUE||(d.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var d=this,A=this.w.globals;if(A.series.length){var p=A.seriesGroups;p.length||(p=[this.w.globals.seriesNames.map(function(k){return k})]);var I={},w={};p.forEach(function(k){I[k]=[],w[k]=[],d.w.config.series.map(function(Z,E){return k.indexOf(A.seriesNames[E])>-1?E:null}).filter(function(Z){return Z!==null}).forEach(function(Z){for(var E=0;E<A.series[A.maxValsInArrayIndex].length;E++){var D,Y,U,z;I[k][E]===void 0&&(I[k][E]=0,w[k][E]=0),(d.w.config.chart.stacked&&!A.comboCharts||d.w.config.chart.stacked&&A.comboCharts&&(!d.w.config.chart.stackOnlyBar||((D=d.w.config.series)===null||D===void 0||(Y=D[Z])===null||Y===void 0?void 0:Y.type)==="bar"||((U=d.w.config.series)===null||U===void 0||(z=U[Z])===null||z===void 0?void 0:z.type)==="column"))&&A.series[Z][E]!==null&&_.isNumber(A.series[Z][E])&&(A.series[Z][E]>0?I[k][E]+=parseFloat(A.series[Z][E])+1e-4:w[k][E]+=parseFloat(A.series[Z][E]))}})}),Object.entries(I).forEach(function(k){var Z=V(k,1)[0];I[Z].forEach(function(E,D){A.maxY=Math.max(A.maxY,I[Z][D]),A.minY=Math.min(A.minY,w[Z][D])})})}}}]),Be}(),Ht=function(){function Be(d,A){c(this,Be),this.ctx=d,this.elgrid=A,this.w=d.w;var p=this.w;this.xaxisFontSize=p.config.xaxis.labels.style.fontSize,this.axisFontFamily=p.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=p.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=p.config.chart.type==="bar"&&p.config.plotOptions.bar.horizontal,this.xAxisoffX=0,p.config.xaxis.position==="bottom"&&(this.xAxisoffX=p.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new ne(d)}return C(Be,[{key:"drawYaxis",value:function(d){var A=this,p=this.w,I=new j(this.ctx),w=p.config.yaxis[d].labels.style,k=w.fontSize,Z=w.fontFamily,E=w.fontWeight,D=I.group({class:"apexcharts-yaxis",rel:d,transform:"translate("+p.globals.translateYAxisX[d]+", 0)"});if(this.axesUtils.isYAxisHidden(d))return D;var Y=I.group({class:"apexcharts-yaxis-texts-g"});D.add(Y);var U=p.globals.yAxisScale[d].result.length-1,z=p.globals.gridHeight/U,te=p.globals.yLabelFormatters[d],ae=p.globals.yAxisScale[d].result.slice();ae=this.axesUtils.checkForReversedLabels(d,ae);var ge="";if(p.config.yaxis[d].labels.show){var Ce=p.globals.translateY+p.config.yaxis[d].labels.offsetY;p.globals.isBarHorizontal?Ce=0:p.config.chart.type==="heatmap"&&(Ce-=z/2),Ce+=parseInt(p.config.yaxis[d].labels.style.fontSize,10)/3;for(var we=function(Qe){var Oe=ae[Qe];Oe=te(Oe,Qe,p);var ut=p.config.yaxis[d].labels.padding;p.config.yaxis[d].opposite&&p.config.yaxis.length!==0&&(ut*=-1);var Gt="end";p.config.yaxis[d].opposite&&(Gt="start"),p.config.yaxis[d].labels.align==="left"?Gt="start":p.config.yaxis[d].labels.align==="center"?Gt="middle":p.config.yaxis[d].labels.align==="right"&&(Gt="end");var dt=A.axesUtils.getYAxisForeColor(w.colors,d),Et=I.drawText({x:ut,y:Ce,text:Oe,textAnchor:Gt,fontSize:k,fontFamily:Z,fontWeight:E,maxWidth:p.config.yaxis[d].labels.maxWidth,foreColor:Array.isArray(dt)?dt[Qe]:dt,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+w.cssClass});Qe===U&&(ge=Et),Y.add(Et);var Ot=document.createElementNS(p.globals.SVGNS,"title");if(Ot.textContent=Array.isArray(Oe)?Oe.join(" "):Oe,Et.node.appendChild(Ot),p.config.yaxis[d].labels.rotate!==0){var an=I.rotateAroundCenter(ge.node),hn=I.rotateAroundCenter(Et.node);Et.node.setAttribute("transform","rotate(".concat(p.config.yaxis[d].labels.rotate," ").concat(an.x," ").concat(hn.y,")"))}Ce+=z},ke=U;ke>=0;ke--)we(ke)}if(p.config.yaxis[d].title.text!==void 0){var T=I.group({class:"apexcharts-yaxis-title"}),q=0;p.config.yaxis[d].opposite&&(q=p.globals.translateYAxisX[d]);var Ae=I.drawText({x:q,y:p.globals.gridHeight/2+p.globals.translateY+p.config.yaxis[d].title.offsetY,text:p.config.yaxis[d].title.text,textAnchor:"end",foreColor:p.config.yaxis[d].title.style.color,fontSize:p.config.yaxis[d].title.style.fontSize,fontWeight:p.config.yaxis[d].title.style.fontWeight,fontFamily:p.config.yaxis[d].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+p.config.yaxis[d].title.style.cssClass});T.add(Ae),D.add(T)}var Se=p.config.yaxis[d].axisBorder,Ze=31+Se.offsetX;if(p.config.yaxis[d].opposite&&(Ze=-31-Se.offsetX),Se.show){var Te=I.drawLine(Ze,p.globals.translateY+Se.offsetY-2,Ze,p.globals.gridHeight+p.globals.translateY+Se.offsetY+2,Se.color,0,Se.width);D.add(Te)}return p.config.yaxis[d].axisTicks.show&&this.axesUtils.drawYAxisTicks(Ze,U,Se,p.config.yaxis[d].axisTicks,d,z,D),D}},{key:"drawYaxisInversed",value:function(d){var A=this.w,p=new j(this.ctx),I=p.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),w=p.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(A.globals.translateXAxisX,", ").concat(A.globals.translateXAxisY,")")});I.add(w);var k=A.globals.yAxisScale[d].result.length-1,Z=A.globals.gridWidth/k+.1,E=Z+A.config.xaxis.labels.offsetX,D=A.globals.xLabelFormatter,Y=A.globals.yAxisScale[d].result.slice(),U=A.globals.timescaleLabels;U.length>0&&(this.xaxisLabels=U.slice(),k=(Y=U.slice()).length),Y=this.axesUtils.checkForReversedLabels(d,Y);var z=U.length;if(A.config.xaxis.labels.show)for(var te=z?0:k;z?te<z:te>=0;z?te++:te--){var ae=Y[te];ae=D(ae,te,A);var ge=A.globals.gridWidth+A.globals.padHorizontal-(E-Z+A.config.xaxis.labels.offsetX);if(U.length){var Ce=this.axesUtils.getLabel(Y,U,ge,te,this.drawnLabels,this.xaxisFontSize);ge=Ce.x,ae=Ce.text,this.drawnLabels.push(Ce.text),te===0&&A.globals.skipFirstTimelinelabel&&(ae=""),te===Y.length-1&&A.globals.skipLastTimelinelabel&&(ae="")}var we=p.drawText({x:ge,y:this.xAxisoffX+A.config.xaxis.labels.offsetY+30-(A.config.xaxis.position==="top"?A.globals.xAxisHeight+A.config.xaxis.axisTicks.height-2:0),text:ae,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[d]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:A.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+A.config.xaxis.labels.style.cssClass});w.add(we),we.tspan(ae);var ke=document.createElementNS(A.globals.SVGNS,"title");ke.textContent=ae,we.node.appendChild(ke),E+=Z}return this.inversedYAxisTitleText(I),this.inversedYAxisBorder(I),I}},{key:"inversedYAxisBorder",value:function(d){var A=this.w,p=new j(this.ctx),I=A.config.xaxis.axisBorder;if(I.show){var w=0;A.config.chart.type==="bar"&&A.globals.isXNumeric&&(w-=15);var k=p.drawLine(A.globals.padHorizontal+w+I.offsetX,this.xAxisoffX,A.globals.gridWidth,this.xAxisoffX,I.color,0,I.height);this.elgrid&&this.elgrid.elGridBorders&&A.config.grid.show?this.elgrid.elGridBorders.add(k):d.add(k)}}},{key:"inversedYAxisTitleText",value:function(d){var A=this.w,p=new j(this.ctx);if(A.config.xaxis.title.text!==void 0){var I=p.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),w=p.drawText({x:A.globals.gridWidth/2+A.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(A.config.xaxis.title.style.fontSize)+A.config.xaxis.title.offsetY+20,text:A.config.xaxis.title.text,textAnchor:"middle",fontSize:A.config.xaxis.title.style.fontSize,fontFamily:A.config.xaxis.title.style.fontFamily,fontWeight:A.config.xaxis.title.style.fontWeight,foreColor:A.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+A.config.xaxis.title.style.cssClass});I.add(w),d.add(I)}}},{key:"yAxisTitleRotate",value:function(d,A){var p=this.w,I=new j(this.ctx),w={width:0,height:0},k={width:0,height:0},Z=p.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(d,"'] .apexcharts-yaxis-texts-g"));Z!==null&&(w=Z.getBoundingClientRect());var E=p.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(d,"'] .apexcharts-yaxis-title text"));if(E!==null&&(k=E.getBoundingClientRect()),E!==null){var D=this.xPaddingForYAxisTitle(d,w,k,A);E.setAttribute("x",D.xPos-(A?10:0))}if(E!==null){var Y=I.rotateAroundCenter(E);E.setAttribute("transform","rotate(".concat(A?-1*p.config.yaxis[d].title.rotate:p.config.yaxis[d].title.rotate," ").concat(Y.x," ").concat(Y.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(d,A,p,I){var w=this.w,k=0,Z=0,E=10;return w.config.yaxis[d].title.text===void 0||d<0?{xPos:Z,padd:0}:(I?(Z=A.width+w.config.yaxis[d].title.offsetX+p.width/2+E/2,(k+=1)===0&&(Z-=E/2)):(Z=-1*A.width+w.config.yaxis[d].title.offsetX+E/2+p.width/2,w.globals.isBarHorizontal&&(E=25,Z=-1*A.width-w.config.yaxis[d].title.offsetX-E)),{xPos:Z,padd:E})}},{key:"setYAxisXPosition",value:function(d,A){var p=this.w,I=0,w=0,k=18,Z=1;p.config.yaxis.length>1&&(this.multipleYs=!0),p.config.yaxis.map(function(E,D){var Y=p.globals.ignoreYAxisIndexes.indexOf(D)>-1||!E.show||E.floating||d[D].width===0,U=d[D].width+A[D].width;E.opposite?p.globals.isBarHorizontal?(w=p.globals.gridWidth+p.globals.translateX-1,p.globals.translateYAxisX[D]=w-E.labels.offsetX):(w=p.globals.gridWidth+p.globals.translateX+Z,Y||(Z=Z+U+20),p.globals.translateYAxisX[D]=w-E.labels.offsetX+20):(I=p.globals.translateX-k,Y||(k=k+U+20),p.globals.translateYAxisX[D]=I+E.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var d=this.w,A=d.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(A=_.listToArray(A)).forEach(function(p,I){var w=d.config.yaxis[I];if(w&&!w.floating&&w.labels.align!==void 0){var k=d.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(I,"'] .apexcharts-yaxis-texts-g")),Z=d.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(I,"'] .apexcharts-yaxis-label"));Z=_.listToArray(Z);var E=k.getBoundingClientRect();w.labels.align==="left"?(Z.forEach(function(D,Y){D.setAttribute("text-anchor","start")}),w.opposite||k.setAttribute("transform","translate(-".concat(E.width,", 0)"))):w.labels.align==="center"?(Z.forEach(function(D,Y){D.setAttribute("text-anchor","middle")}),k.setAttribute("transform","translate(".concat(E.width/2*(w.opposite?1:-1),", 0)"))):w.labels.align==="right"&&(Z.forEach(function(D,Y){D.setAttribute("text-anchor","end")}),w.opposite&&k.setAttribute("transform","translate(".concat(E.width,", 0)")))}})}}]),Be}(),st=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w,this.documentEvent=_.bind(this.documentEvent,this)}return C(Be,[{key:"addEventListener",value:function(d,A){var p=this.w;p.globals.events.hasOwnProperty(d)?p.globals.events[d].push(A):p.globals.events[d]=[A]}},{key:"removeEventListener",value:function(d,A){var p=this.w;if(p.globals.events.hasOwnProperty(d)){var I=p.globals.events[d].indexOf(A);I!==-1&&p.globals.events[d].splice(I,1)}}},{key:"fireEvent",value:function(d,A){var p=this.w;if(p.globals.events.hasOwnProperty(d)){A&&A.length||(A=[]);for(var I=p.globals.events[d],w=I.length,k=0;k<w;k++)I[k].apply(null,A)}}},{key:"setupEventHandlers",value:function(){var d=this,A=this.w,p=this.ctx,I=A.globals.dom.baseEl.querySelector(A.globals.chartClass);this.ctx.eventList.forEach(function(w){I.addEventListener(w,function(k){var Z=Object.assign({},A,{seriesIndex:A.globals.axisCharts?A.globals.capturedSeriesIndex:0,dataPointIndex:A.globals.capturedDataPointIndex});k.type==="mousemove"||k.type==="touchmove"?typeof A.config.chart.events.mouseMove=="function"&&A.config.chart.events.mouseMove(k,p,Z):k.type==="mouseleave"||k.type==="touchleave"?typeof A.config.chart.events.mouseLeave=="function"&&A.config.chart.events.mouseLeave(k,p,Z):(k.type==="mouseup"&&k.which===1||k.type==="touchend")&&(typeof A.config.chart.events.click=="function"&&A.config.chart.events.click(k,p,Z),p.ctx.events.fireEvent("click",[k,p,Z]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(w){A.globals.dom.baseEl.addEventListener(w,d.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(d){var A=this.w,p=d.target.className;if(d.type==="click"){var I=A.globals.dom.baseEl.querySelector(".apexcharts-menu");I&&I.classList.contains("apexcharts-menu-open")&&p!=="apexcharts-menu-icon"&&I.classList.remove("apexcharts-menu-open")}A.globals.clientX=d.type==="touchmove"?d.touches[0].clientX:d.clientX,A.globals.clientY=d.type==="touchmove"?d.touches[0].clientY:d.clientY}}]),Be}(),Ke=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"setCurrentLocaleValues",value:function(d){var A=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(A=this.w.config.chart.locales.concat(window.Apex.chart.locales));var p=A.filter(function(w){return w.name===d})[0];if(!p)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var I=_.extend(Ie,p);this.w.globals.locale=I.options}}]),Be}(),Vt=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"drawAxis",value:function(d,A){var p,I,w=this,k=this.w.globals,Z=this.w.config,E=new At(this.ctx,A),D=new Ht(this.ctx,A);k.axisCharts&&d!=="radar"&&(k.isBarHorizontal?(I=D.drawYaxisInversed(0),p=E.drawXaxisInversed(0),k.dom.elGraphical.add(p),k.dom.elGraphical.add(I)):(p=E.drawXaxis(),k.dom.elGraphical.add(p),Z.yaxis.map(function(Y,U){if(k.ignoreYAxisIndexes.indexOf(U)===-1&&(I=D.drawYaxis(U),k.dom.Paper.add(I),w.w.config.grid.position==="back")){var z=k.dom.Paper.children()[1];z.remove(),k.dom.Paper.add(z)}})))}}]),Be}(),Yt=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"drawXCrosshairs",value:function(){var d=this.w,A=new j(this.ctx),p=new Q(this.ctx),I=d.config.xaxis.crosshairs.fill.gradient,w=d.config.xaxis.crosshairs.dropShadow,k=d.config.xaxis.crosshairs.fill.type,Z=I.colorFrom,E=I.colorTo,D=I.opacityFrom,Y=I.opacityTo,U=I.stops,z=w.enabled,te=w.left,ae=w.top,ge=w.blur,Ce=w.color,we=w.opacity,ke=d.config.xaxis.crosshairs.fill.color;if(d.config.xaxis.crosshairs.show){k==="gradient"&&(ke=A.drawGradient("vertical",Z,E,D,Y,null,U,null));var T=A.drawRect();d.config.xaxis.crosshairs.width===1&&(T=A.drawLine());var q=d.globals.gridHeight;(!_.isNumber(q)||q<0)&&(q=0);var Ae=d.config.xaxis.crosshairs.width;(!_.isNumber(Ae)||Ae<0)&&(Ae=0),T.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:q,width:Ae,height:q,fill:ke,filter:"none","fill-opacity":d.config.xaxis.crosshairs.opacity,stroke:d.config.xaxis.crosshairs.stroke.color,"stroke-width":d.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":d.config.xaxis.crosshairs.stroke.dashArray}),z&&(T=p.dropShadow(T,{left:te,top:ae,blur:ge,color:Ce,opacity:we})),d.globals.dom.elGraphical.add(T)}}},{key:"drawYCrosshairs",value:function(){var d=this.w,A=new j(this.ctx),p=d.config.yaxis[0].crosshairs,I=d.globals.barPadForNumericAxis;if(d.config.yaxis[0].crosshairs.show){var w=A.drawLine(-I,0,d.globals.gridWidth+I,0,p.stroke.color,p.stroke.dashArray,p.stroke.width);w.attr({class:"apexcharts-ycrosshairs"}),d.globals.dom.elGraphical.add(w)}var k=A.drawLine(-I,0,d.globals.gridWidth+I,0,p.stroke.color,0,0);k.attr({class:"apexcharts-ycrosshairs-hidden"}),d.globals.dom.elGraphical.add(k)}}]),Be}(),It=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"checkResponsiveConfig",value:function(d){var A=this,p=this.w,I=p.config;if(I.responsive.length!==0){var w=I.responsive.slice();w.sort(function(D,Y){return D.breakpoint>Y.breakpoint?1:Y.breakpoint>D.breakpoint?-1:0}).reverse();var k=new De({}),Z=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Y=w[0].breakpoint,U=window.innerWidth>0?window.innerWidth:screen.width;if(U>Y){var z=_.clone(p.globals.initialConfig);z.series=_.clone(p.config.series);var te=re.extendArrayProps(k,z,p);D=_.extend(te,D),D=_.extend(p.config,D),A.overrideResponsiveOptions(D)}else for(var ae=0;ae<w.length;ae++)if(U<w[ae].breakpoint){var ge=re.extendArrayProps(k,w[ae].options,p);D=_.extend(ge,D),D=_.extend(p.config,D),A.overrideResponsiveOptions(D)}};if(d){var E=re.extendArrayProps(k,d,p);E=_.extend(p.config,E),Z(E=_.extend(E,d))}else Z({})}}},{key:"overrideResponsiveOptions",value:function(d){var A=new De(d).init({responsiveOverride:!0});this.w.config=A}}]),Be}(),bt=function(){function Be(d){c(this,Be),this.ctx=d,this.colors=[],this.w=d.w;var A=this.w;this.isColorFn=!1,this.isHeatmapDistributed=A.config.chart.type==="treemap"&&A.config.plotOptions.treemap.distributed||A.config.chart.type==="heatmap"&&A.config.plotOptions.heatmap.distributed,this.isBarDistributed=A.config.plotOptions.bar.distributed&&(A.config.chart.type==="bar"||A.config.chart.type==="rangeBar")}return C(Be,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var d,A=this,p=this.w,I=new _;if(p.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(p.config.theme.mode)),p.config.colors===void 0||((d=p.config.colors)===null||d===void 0?void 0:d.length)===0?p.globals.colors=this.predefined():(p.globals.colors=p.config.colors,Array.isArray(p.config.colors)&&p.config.colors.length>0&&typeof p.config.colors[0]=="function"&&(p.globals.colors=p.config.series.map(function(ae,ge){var Ce=p.config.colors[ge];return Ce||(Ce=p.config.colors[0]),typeof Ce=="function"?(A.isColorFn=!0,Ce({value:p.globals.axisCharts?p.globals.series[ge][0]?p.globals.series[ge][0]:0:p.globals.series[ge],seriesIndex:ge,dataPointIndex:ge,w:p})):Ce}))),p.globals.seriesColors.map(function(ae,ge){ae&&(p.globals.colors[ge]=ae)}),p.config.theme.monochrome.enabled){var w=[],k=p.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(k=p.globals.series[0].length*p.globals.series.length);for(var Z=p.config.theme.monochrome.color,E=1/(k/p.config.theme.monochrome.shadeIntensity),D=p.config.theme.monochrome.shadeTo,Y=0,U=0;U<k;U++){var z=void 0;D==="dark"?(z=I.shadeColor(-1*Y,Z),Y+=E):(z=I.shadeColor(Y,Z),Y+=E),w.push(z)}p.globals.colors=w.slice()}var te=p.globals.colors.slice();this.pushExtraColors(p.globals.colors),["fill","stroke"].forEach(function(ae){p.config[ae].colors===void 0?p.globals[ae].colors=A.isColorFn?p.config.colors:te:p.globals[ae].colors=p.config[ae].colors.slice(),A.pushExtraColors(p.globals[ae].colors)}),p.config.dataLabels.style.colors===void 0?p.globals.dataLabels.style.colors=te:p.globals.dataLabels.style.colors=p.config.dataLabels.style.colors.slice(),this.pushExtraColors(p.globals.dataLabels.style.colors,50),p.config.plotOptions.radar.polygons.fill.colors===void 0?p.globals.radarPolygons.fill.colors=[p.config.theme.mode==="dark"?"#424242":"none"]:p.globals.radarPolygons.fill.colors=p.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(p.globals.radarPolygons.fill.colors,20),p.config.markers.colors===void 0?p.globals.markers.colors=te:p.globals.markers.colors=p.config.markers.colors.slice(),this.pushExtraColors(p.globals.markers.colors)}},{key:"pushExtraColors",value:function(d,A){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,I=this.w,w=A||I.globals.series.length;if(p===null&&(p=this.isBarDistributed||this.isHeatmapDistributed||I.config.chart.type==="heatmap"&&I.config.plotOptions.heatmap.colorScale.inverse),p&&I.globals.series.length&&(w=I.globals.series[I.globals.maxValsInArrayIndex].length*I.globals.series.length),d.length<w)for(var k=w-d.length,Z=0;Z<k;Z++)d.push(d[Z])}},{key:"updateThemeOptions",value:function(d){d.chart=d.chart||{},d.tooltip=d.tooltip||{};var A=d.theme.mode||"light",p=d.theme.palette?d.theme.palette:A==="dark"?"palette4":"palette1",I=d.chart.foreColor?d.chart.foreColor:A==="dark"?"#f6f7f8":"#373d3f";return d.tooltip.theme=A,d.chart.foreColor=I,d.theme.palette=p,d}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),Be}(),yt=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(d){var A=this.w,p=d==="title"?A.config.title:A.config.subtitle,I=A.globals.svgWidth/2,w=p.offsetY,k="middle";if(p.align==="left"?(I=10,k="start"):p.align==="right"&&(I=A.globals.svgWidth-10,k="end"),I+=p.offsetX,w=w+parseInt(p.style.fontSize,10)+p.margin/2,p.text!==void 0){var Z=new j(this.ctx).drawText({x:I,y:w,text:p.text,textAnchor:k,fontSize:p.style.fontSize,fontFamily:p.style.fontFamily,fontWeight:p.style.fontWeight,foreColor:p.style.color,opacity:1});Z.node.setAttribute("class","apexcharts-".concat(d,"-text")),A.globals.dom.Paper.add(Z)}}}]),Be}(),kt=function(){function Be(d){c(this,Be),this.w=d.w,this.dCtx=d}return C(Be,[{key:"getTitleSubtitleCoords",value:function(d){var A=this.w,p=0,I=0,w=d==="title"?A.config.title.floating:A.config.subtitle.floating,k=A.globals.dom.baseEl.querySelector(".apexcharts-".concat(d,"-text"));if(k!==null&&!w){var Z=k.getBoundingClientRect();p=Z.width,I=A.globals.axisCharts?Z.height+5:Z.height}return{width:p,height:I}}},{key:"getLegendsRect",value:function(){var d=this.w,A=d.globals.dom.elLegendWrap;d.config.legend.height||d.config.legend.position!=="top"&&d.config.legend.position!=="bottom"||(A.style.maxHeight=d.globals.svgHeight/2+"px");var p=Object.assign({},_.getBoundingClientRect(A));return A!==null&&!d.config.legend.floating&&d.config.legend.show?this.dCtx.lgRect={x:p.x,y:p.y,height:p.height,width:p.height===0?0:p.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},d.config.legend.position!=="left"&&d.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>d.globals.svgWidth&&(this.dCtx.lgRect.width=d.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var d=this,A=this.w,p=[];A.config.series.forEach(function(E,D){E.data.forEach(function(Y,U){var z;z=A.globals.series[D][U],I=A.config.dataLabels.formatter(z,{ctx:d.dCtx.ctx,seriesIndex:D,dataPointIndex:U,w:A}),p.push(I)})});var I=_.getLargestStringFromArr(p),w=new j(this.dCtx.ctx),k=A.config.dataLabels.style,Z=w.getTextRects(I,parseInt(k.fontSize),k.fontFamily);return{width:1.05*Z.width,height:Z.height}}},{key:"getLargestStringFromMultiArr",value:function(d,A){var p=d;if(this.w.globals.isMultiLineX){var I=A.map(function(k,Z){return Array.isArray(k)?k.length:1}),w=Math.max.apply(Math,H(I));p=A[I.indexOf(w)]}return p}}]),Be}(),Jt=function(){function Be(d){c(this,Be),this.w=d.w,this.dCtx=d}return C(Be,[{key:"getxAxisLabelsCoords",value:function(){var d,A=this.w,p=A.globals.labels.slice();if(A.config.xaxis.convertedCatToNumeric&&p.length===0&&(p=A.globals.categoryLabels),A.globals.timescaleLabels.length>0){var I=this.getxAxisTimeScaleLabelsCoords();d={width:I.width,height:I.height},A.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=A.config.legend.position!=="left"&&A.config.legend.position!=="right"||A.config.legend.floating?0:this.dCtx.lgRect.width;var w=A.globals.xLabelFormatter,k=_.getLargestStringFromArr(p),Z=this.dCtx.dimHelpers.getLargestStringFromMultiArr(k,p);A.globals.isBarHorizontal&&(Z=k=A.globals.yAxisScale[0].result.reduce(function(ae,ge){return ae.length>ge.length?ae:ge},0));var E=new ce(this.dCtx.ctx),D=k;k=E.xLabelFormat(w,k,D,{i:void 0,dateFormatter:new de(this.dCtx.ctx).formatDate,w:A}),Z=E.xLabelFormat(w,Z,D,{i:void 0,dateFormatter:new de(this.dCtx.ctx).formatDate,w:A}),(A.config.xaxis.convertedCatToNumeric&&k===void 0||String(k).trim()==="")&&(Z=k="1");var Y=new j(this.dCtx.ctx),U=Y.getTextRects(k,A.config.xaxis.labels.style.fontSize),z=U;if(k!==Z&&(z=Y.getTextRects(Z,A.config.xaxis.labels.style.fontSize)),(d={width:U.width>=z.width?U.width:z.width,height:U.height>=z.height?U.height:z.height}).width*p.length>A.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&A.config.xaxis.labels.rotate!==0||A.config.xaxis.labels.rotateAlways){if(!A.globals.isBarHorizontal){A.globals.rotateXLabels=!0;var te=function(ae){return Y.getTextRects(ae,A.config.xaxis.labels.style.fontSize,A.config.xaxis.labels.style.fontFamily,"rotate(".concat(A.config.xaxis.labels.rotate," 0 0)"),!1)};U=te(k),k!==Z&&(z=te(Z)),d.height=(U.height>z.height?U.height:z.height)/1.5,d.width=U.width>z.width?U.width:z.width}}else A.globals.rotateXLabels=!1}return A.config.xaxis.labels.show||(d={width:0,height:0}),{width:d.width,height:d.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var d,A=this.w;if(!A.globals.hasXaxisGroups)return{width:0,height:0};var p,I=((d=A.config.xaxis.group.style)===null||d===void 0?void 0:d.fontSize)||A.config.xaxis.labels.style.fontSize,w=A.globals.groups.map(function(U){return U.title}),k=_.getLargestStringFromArr(w),Z=this.dCtx.dimHelpers.getLargestStringFromMultiArr(k,w),E=new j(this.dCtx.ctx),D=E.getTextRects(k,I),Y=D;return k!==Z&&(Y=E.getTextRects(Z,I)),p={width:D.width>=Y.width?D.width:Y.width,height:D.height>=Y.height?D.height:Y.height},A.config.xaxis.labels.show||(p={width:0,height:0}),{width:p.width,height:p.height}}},{key:"getxAxisTitleCoords",value:function(){var d=this.w,A=0,p=0;if(d.config.xaxis.title.text!==void 0){var I=new j(this.dCtx.ctx).getTextRects(d.config.xaxis.title.text,d.config.xaxis.title.style.fontSize);A=I.width,p=I.height}return{width:A,height:p}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var d,A=this.w;this.dCtx.timescaleLabels=A.globals.timescaleLabels.slice();var p=this.dCtx.timescaleLabels.map(function(w){return w.value}),I=p.reduce(function(w,k){return w===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):w.length>k.length?w:k},0);return 1.05*(d=new j(this.dCtx.ctx).getTextRects(I,A.config.xaxis.labels.style.fontSize)).width*p.length>A.globals.gridWidth&&A.config.xaxis.labels.rotate!==0&&(A.globals.overlappingXLabels=!0),d}},{key:"additionalPaddingXLabels",value:function(d){var A=this,p=this.w,I=p.globals,w=p.config,k=w.xaxis.type,Z=d.width;I.skipLastTimelinelabel=!1,I.skipFirstTimelinelabel=!1;var E=p.config.yaxis[0].opposite&&p.globals.isBarHorizontal,D=function(Y,U){w.yaxis.length>1&&function(z){return I.collapsedSeriesIndices.indexOf(z)!==-1}(U)||function(z){if(A.dCtx.timescaleLabels&&A.dCtx.timescaleLabels.length){var te=A.dCtx.timescaleLabels[0],ae=A.dCtx.timescaleLabels[A.dCtx.timescaleLabels.length-1].position+Z/1.75-A.dCtx.yAxisWidthRight,ge=te.position-Z/1.75+A.dCtx.yAxisWidthLeft,Ce=p.config.legend.position==="right"&&A.dCtx.lgRect.width>0?A.dCtx.lgRect.width:0;ae>I.svgWidth-I.translateX-Ce&&(I.skipLastTimelinelabel=!0),ge<-(z.show&&!z.floating||w.chart.type!=="bar"&&w.chart.type!=="candlestick"&&w.chart.type!=="rangeBar"&&w.chart.type!=="boxPlot"?10:Z/1.75)&&(I.skipFirstTimelinelabel=!0)}else k==="datetime"?A.dCtx.gridPad.right<Z&&!I.rotateXLabels&&(I.skipLastTimelinelabel=!0):k!=="datetime"&&A.dCtx.gridPad.right<Z/2-A.dCtx.yAxisWidthRight&&!I.rotateXLabels&&!p.config.xaxis.labels.trim&&(p.config.xaxis.tickPlacement!=="between"||p.globals.isBarHorizontal)&&(A.dCtx.xPadRight=Z/2+1)}(Y)};w.yaxis.forEach(function(Y,U){E?(A.dCtx.gridPad.left<Z&&(A.dCtx.xPadLeft=Z/2+1),A.dCtx.xPadRight=Z/2+1):D(Y,U)})}}]),Be}(),tn=function(){function Be(d){c(this,Be),this.w=d.w,this.dCtx=d}return C(Be,[{key:"getyAxisLabelsCoords",value:function(){var d=this,A=this.w,p=[],I=10,w=new ne(this.dCtx.ctx);return A.config.yaxis.map(function(k,Z){var E={seriesIndex:Z,dataPointIndex:-1,w:A},D=A.globals.yAxisScale[Z],Y=0;if(!w.isYAxisHidden(Z)&&k.labels.show&&k.labels.minWidth!==void 0&&(Y=k.labels.minWidth),!w.isYAxisHidden(Z)&&k.labels.show&&D.result.length){var U=A.globals.yLabelFormatters[Z],z=D.niceMin===Number.MIN_VALUE?0:D.niceMin,te=D.result.reduce(function(q,Ae){var Se,Ze;return((Se=String(U(q,E)))===null||Se===void 0?void 0:Se.length)>((Ze=String(U(Ae,E)))===null||Ze===void 0?void 0:Ze.length)?q:Ae},z),ae=te=U(te,E);if(te!==void 0&&te.length!==0||(te=D.niceMax),A.globals.isBarHorizontal){I=0;var ge=A.globals.labels.slice();te=_.getLargestStringFromArr(ge),te=U(te,{seriesIndex:Z,dataPointIndex:-1,w:A}),ae=d.dCtx.dimHelpers.getLargestStringFromMultiArr(te,ge)}var Ce=new j(d.dCtx.ctx),we="rotate(".concat(k.labels.rotate," 0 0)"),ke=Ce.getTextRects(te,k.labels.style.fontSize,k.labels.style.fontFamily,we,!1),T=ke;te!==ae&&(T=Ce.getTextRects(ae,k.labels.style.fontSize,k.labels.style.fontFamily,we,!1)),p.push({width:(Y>T.width||Y>ke.width?Y:T.width>ke.width?T.width:ke.width)+I,height:T.height>ke.height?T.height:ke.height})}else p.push({width:0,height:0})}),p}},{key:"getyAxisTitleCoords",value:function(){var d=this,A=this.w,p=[];return A.config.yaxis.map(function(I,w){if(I.show&&I.title.text!==void 0){var k=new j(d.dCtx.ctx),Z="rotate(".concat(I.title.rotate," 0 0)"),E=k.getTextRects(I.title.text,I.title.style.fontSize,I.title.style.fontFamily,Z,!1);p.push({width:E.width,height:E.height})}else p.push({width:0,height:0})}),p}},{key:"getTotalYAxisWidth",value:function(){var d=this.w,A=0,p=0,I=0,w=d.globals.yAxisScale.length>1?10:0,k=new ne(this.dCtx.ctx),Z=function(E,D){var Y=d.config.yaxis[D].floating,U=0;E.width>0&&!Y?(U=E.width+w,function(z){return d.globals.ignoreYAxisIndexes.indexOf(z)>-1}(D)&&(U=U-E.width-w)):U=Y||k.isYAxisHidden(D)?0:5,d.config.yaxis[D].opposite?I+=U:p+=U,A+=U};return d.globals.yLabelsCoords.map(function(E,D){Z(E,D)}),d.globals.yTitleCoords.map(function(E,D){Z(E,D)}),d.globals.isBarHorizontal&&!d.config.yaxis[0].floating&&(A=d.globals.yLabelsCoords[0].width+d.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=p,this.dCtx.yAxisWidthRight=I,A}}]),Be}(),An=function(){function Be(d){c(this,Be),this.w=d.w,this.dCtx=d}return C(Be,[{key:"gridPadForColumnsInNumericAxis",value:function(d){var A=this.w,p=A.config,I=A.globals;if(I.noData||I.collapsedSeries.length+I.ancillaryCollapsedSeries.length===p.series.length)return 0;var w=function(z){return z==="bar"||z==="rangeBar"||z==="candlestick"||z==="boxPlot"},k=p.chart.type,Z=0,E=w(k)?p.series.length:1;if(I.comboBarCount>0&&(E=I.comboBarCount),I.collapsedSeries.forEach(function(z){w(z.type)&&(E-=1)}),p.chart.stacked&&(E=1),(w(k)||I.comboBarCount>0)&&I.isXNumeric&&!I.isBarHorizontal&&E>0){var D,Y,U=Math.abs(I.initialMaxX-I.initialMinX);U<=3&&(U=I.dataPoints),D=U/d,I.minXDiff&&I.minXDiff/D>0&&(Y=I.minXDiff/D),Y>d/2&&(Y/=2),(Z=Y*parseInt(p.plotOptions.bar.columnWidth,10)/100)<1&&(Z=1),I.barPadForNumericAxis=Z}return Z}},{key:"gridPadFortitleSubtitle",value:function(){var d=this,A=this.w,p=A.globals,I=this.dCtx.isSparkline||!A.globals.axisCharts?0:10;["title","subtitle"].forEach(function(Z){A.config[Z].text!==void 0?I+=A.config[Z].margin:I+=d.dCtx.isSparkline||!A.globals.axisCharts?0:5}),!A.config.legend.show||A.config.legend.position!=="bottom"||A.config.legend.floating||A.globals.axisCharts||(I+=10);var w=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),k=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");p.gridHeight=p.gridHeight-w.height-k.height-I,p.translateY=p.translateY+w.height+k.height+I}},{key:"setGridXPosForDualYAxis",value:function(d,A){var p=this.w,I=new ne(this.dCtx.ctx);p.config.yaxis.map(function(w,k){p.globals.ignoreYAxisIndexes.indexOf(k)!==-1||w.floating||I.isYAxisHidden(k)||(w.opposite&&(p.globals.translateX=p.globals.translateX-(A[k].width+d[k].width)-parseInt(p.config.yaxis[k].labels.style.fontSize,10)/1.2-12),p.globals.translateX<2&&(p.globals.translateX=2))})}}]),Be}(),dn=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new kt(this),this.dimYAxis=new tn(this),this.dimXAxis=new Jt(this),this.dimGrid=new An(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return C(Be,[{key:"plotCoords",value:function(){var d=this,A=this.w,p=A.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var I=Array.isArray(A.config.stroke.width)?Math.max.apply(Math,H(A.config.stroke.width)):A.config.stroke.width;this.isSparkline&&((A.config.markers.discrete.length>0||A.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(k){var Z=V(k,2),E=Z[0],D=Z[1];d.gridPad[E]=Math.max(D,d.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(I/2,this.gridPad.top),this.gridPad.bottom=Math.max(I/2,this.gridPad.bottom)),p.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),p.gridHeight=p.gridHeight-this.gridPad.top-this.gridPad.bottom,p.gridWidth=p.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var w=this.dimGrid.gridPadForColumnsInNumericAxis(p.gridWidth);p.gridWidth=p.gridWidth-2*w,p.translateX=p.translateX+this.gridPad.left+this.xPadLeft+(w>0?w:0),p.translateY=p.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var d=this,A=this.w,p=A.globals,I=this.dimYAxis.getyAxisLabelsCoords(),w=this.dimYAxis.getyAxisTitleCoords();p.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),A.globals.yLabelsCoords=[],A.globals.yTitleCoords=[],A.config.yaxis.map(function(te,ae){A.globals.yLabelsCoords.push({width:I[ae].width,index:ae}),A.globals.yTitleCoords.push({width:w[ae].width,index:ae})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var k=this.dimXAxis.getxAxisLabelsCoords(),Z=this.dimXAxis.getxAxisGroupLabelsCoords(),E=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(k,E,Z),p.translateXAxisY=A.globals.rotateXLabels?this.xAxisHeight/8:-4,p.translateXAxisX=A.globals.rotateXLabels&&A.globals.isXNumeric&&A.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,A.globals.isBarHorizontal&&(p.rotateXLabels=!1,p.translateXAxisY=parseInt(A.config.xaxis.labels.style.fontSize,10)/1.5*-1),p.translateXAxisY=p.translateXAxisY+A.config.xaxis.labels.offsetY,p.translateXAxisX=p.translateXAxisX+A.config.xaxis.labels.offsetX;var D=this.yAxisWidth,Y=this.xAxisHeight;p.xAxisLabelsHeight=this.xAxisHeight-E.height,p.xAxisGroupLabelsHeight=p.xAxisLabelsHeight-k.height,p.xAxisLabelsWidth=this.xAxisWidth,p.xAxisHeight=this.xAxisHeight;var U=10;(A.config.chart.type==="radar"||this.isSparkline)&&(D=0,Y=p.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||A.config.chart.type==="treemap")&&(D=0,Y=0,U=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(k);var z=function(){p.translateX=D+d.datalabelsCoords.width,p.gridHeight=p.svgHeight-d.lgRect.height-Y-(d.isSparkline||A.config.chart.type==="treemap"?0:A.globals.rotateXLabels?10:15),p.gridWidth=p.svgWidth-D-2*d.datalabelsCoords.width};switch(A.config.xaxis.position==="top"&&(U=p.xAxisHeight-A.config.xaxis.axisTicks.height-5),A.config.legend.position){case"bottom":p.translateY=U,z();break;case"top":p.translateY=this.lgRect.height+U,z();break;case"left":p.translateY=U,p.translateX=this.lgRect.width+D+this.datalabelsCoords.width,p.gridHeight=p.svgHeight-Y-12,p.gridWidth=p.svgWidth-this.lgRect.width-D-2*this.datalabelsCoords.width;break;case"right":p.translateY=U,p.translateX=D+this.datalabelsCoords.width,p.gridHeight=p.svgHeight-Y-12,p.gridWidth=p.svgWidth-this.lgRect.width-D-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(w,I),new Ht(this.ctx).setYAxisXPosition(I,w)}},{key:"setDimensionsForNonAxisCharts",value:function(){var d=this.w,A=d.globals,p=d.config,I=0;d.config.legend.show&&!d.config.legend.floating&&(I=20);var w=p.chart.type==="pie"||p.chart.type==="polarArea"||p.chart.type==="donut"?"pie":"radialBar",k=p.plotOptions[w].offsetY,Z=p.plotOptions[w].offsetX;if(!p.legend.show||p.legend.floating)return A.gridHeight=A.svgHeight-p.grid.padding.left+p.grid.padding.right,A.gridWidth=Math.min(A.svgWidth,A.gridHeight),A.translateY=k,void(A.translateX=Z+(A.svgWidth-A.gridWidth)/2);switch(p.legend.position){case"bottom":A.gridHeight=A.svgHeight-this.lgRect.height-A.goldenPadding,A.gridWidth=A.svgWidth,A.translateY=k-10,A.translateX=Z+(A.svgWidth-A.gridWidth)/2;break;case"top":A.gridHeight=A.svgHeight-this.lgRect.height-A.goldenPadding,A.gridWidth=A.svgWidth,A.translateY=this.lgRect.height+k+10,A.translateX=Z+(A.svgWidth-A.gridWidth)/2;break;case"left":A.gridWidth=A.svgWidth-this.lgRect.width-I,A.gridHeight=p.chart.height!=="auto"?A.svgHeight:A.gridWidth,A.translateY=k,A.translateX=Z+this.lgRect.width+I;break;case"right":A.gridWidth=A.svgWidth-this.lgRect.width-I-5,A.gridHeight=p.chart.height!=="auto"?A.svgHeight:A.gridWidth,A.translateY=k,A.translateX=Z+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(d,A,p){var I=this.w,w=I.globals.hasXaxisGroups?2:1,k=p.height+d.height+A.height,Z=I.globals.isMultiLineX?1.2:I.globals.LINE_HEIGHT_RATIO,E=I.globals.rotateXLabels?22:10,D=I.globals.rotateXLabels&&I.config.legend.position==="bottom"?10:0;this.xAxisHeight=k*Z+w*E+D,this.xAxisWidth=d.width,this.xAxisHeight-A.height>I.config.xaxis.labels.maxHeight&&(this.xAxisHeight=I.config.xaxis.labels.maxHeight),I.config.xaxis.labels.minHeight&&this.xAxisHeight<I.config.xaxis.labels.minHeight&&(this.xAxisHeight=I.config.xaxis.labels.minHeight),I.config.xaxis.floating&&(this.xAxisHeight=0);var Y=0,U=0;I.config.yaxis.forEach(function(z){Y+=z.labels.minWidth,U+=z.labels.maxWidth}),this.yAxisWidth<Y&&(this.yAxisWidth=Y),this.yAxisWidth>U&&(this.yAxisWidth=U)}}]),Be}(),Bn=function(){function Be(d){c(this,Be),this.w=d.w,this.lgCtx=d}return C(Be,[{key:"getLegendStyles",value:function(){var d,A,p,I=document.createElement("style");I.setAttribute("type","text/css");var w=((d=this.lgCtx.ctx)===null||d===void 0||(A=d.opts)===null||A===void 0||(p=A.chart)===null||p===void 0?void 0:p.nonce)||this.w.config.chart.nonce;w&&I.setAttribute("nonce",w);var k=document.createTextNode(`
      .apexcharts-legend {
        display: flex;
        overflow: auto;
        padding: 0 10px;
      }
      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
        flex-wrap: wrap
      }
      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        flex-direction: column;
        bottom: 0;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
        justify-content: flex-start;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
        justify-content: center;
      }
      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
        justify-content: flex-end;
      }
      .apexcharts-legend-series {
        cursor: pointer;
        line-height: normal;
      }
      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{
        display: flex;
        align-items: center;
      }
      .apexcharts-legend-text {
        position: relative;
        font-size: 14px;
      }
      .apexcharts-legend-text *, .apexcharts-legend-marker * {
        pointer-events: none;
      }
      .apexcharts-legend-marker {
        position: relative;
        display: inline-block;
        cursor: pointer;
        margin-right: 3px;
        border-style: solid;
      }

      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{
        display: inline-block;
      }
      .apexcharts-legend-series.apexcharts-no-click {
        cursor: auto;
      }
      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
        display: none !important;
      }
      .apexcharts-inactive-legend {
        opacity: 0.45;
      }`);return I.appendChild(k),I}},{key:"getLegendBBox",value:function(){var d=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),A=d.width;return{clwh:d.height,clww:A}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(d,A){var p=this,I=this.w;if(I.globals.axisCharts||I.config.chart.type==="radialBar"){I.globals.resized=!0;var w=null,k=null;I.globals.risingSeries=[],I.globals.axisCharts?(w=I.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(d,"']")),k=parseInt(w.getAttribute("data:realIndex"),10)):(w=I.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(d+1,"']")),k=parseInt(w.getAttribute("rel"),10)-1),A?[{cs:I.globals.collapsedSeries,csi:I.globals.collapsedSeriesIndices},{cs:I.globals.ancillaryCollapsedSeries,csi:I.globals.ancillaryCollapsedSeriesIndices}].forEach(function(Y){p.riseCollapsedSeries(Y.cs,Y.csi,k)}):this.hideSeries({seriesEl:w,realIndex:k})}else{var Z=I.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(d+1,"'] path")),E=I.config.chart.type;if(E==="pie"||E==="polarArea"||E==="donut"){var D=I.config.plotOptions.pie.donut.labels;new j(this.lgCtx.ctx).pathMouseDown(Z.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(Z.members[0].node,D)}Z.fire("click")}}},{key:"hideSeries",value:function(d){var A=d.seriesEl,p=d.realIndex,I=this.w,w=I.globals,k=_.clone(I.config.series);if(w.axisCharts){var Z=I.config.yaxis[w.seriesYAxisReverseMap[p]];if(Z&&Z.show&&Z.showAlways)w.ancillaryCollapsedSeriesIndices.indexOf(p)<0&&(w.ancillaryCollapsedSeries.push({index:p,data:k[p].data.slice(),type:A.parentNode.className.baseVal.split("-")[1]}),w.ancillaryCollapsedSeriesIndices.push(p));else if(w.collapsedSeriesIndices.indexOf(p)<0){w.collapsedSeries.push({index:p,data:k[p].data.slice(),type:A.parentNode.className.baseVal.split("-")[1]}),w.collapsedSeriesIndices.push(p);var E=w.risingSeries.indexOf(p);w.risingSeries.splice(E,1)}}else w.collapsedSeries.push({index:p,data:k[p]}),w.collapsedSeriesIndices.push(p);for(var D=A.childNodes,Y=0;Y<D.length;Y++)D[Y].classList.contains("apexcharts-series-markers-wrap")&&(D[Y].classList.contains("apexcharts-hide")?D[Y].classList.remove("apexcharts-hide"):D[Y].classList.add("apexcharts-hide"));w.allSeriesCollapsed=w.collapsedSeries.length+w.ancillaryCollapsedSeries.length===I.config.series.length,k=this._getSeriesBasedOnCollapsedState(k),this.lgCtx.ctx.updateHelpers._updateSeries(k,I.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(d,A,p){var I=this.w,w=_.clone(I.config.series);if(d.length>0){for(var k=0;k<d.length;k++)d[k].index===p&&(I.globals.axisCharts?(w[p].data=d[k].data.slice(),d.splice(k,1),A.splice(k,1),I.globals.risingSeries.push(p)):(w[p]=d[k].data,d.splice(k,1),A.splice(k,1),I.globals.risingSeries.push(p)));w=this._getSeriesBasedOnCollapsedState(w),this.lgCtx.ctx.updateHelpers._updateSeries(w,I.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(d){var A=this.w,p=0;return A.globals.axisCharts?d.forEach(function(I,w){A.globals.collapsedSeriesIndices.indexOf(w)<0&&A.globals.ancillaryCollapsedSeriesIndices.indexOf(w)<0||(d[w].data=[],p++)}):d.forEach(function(I,w){!A.globals.collapsedSeriesIndices.indexOf(w)<0&&(d[w]=0,p++)}),A.globals.allSeriesCollapsed=p===d.length,d}}]),Be}(),wt=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new Bn(this)}return C(Be,[{key:"init",value:function(){var d=this.w,A=d.globals,p=d.config;if((p.legend.showForSingleSeries&&A.series.length===1||this.isBarsDistributed||A.series.length>1||!A.axisCharts)&&p.legend.show){for(;A.dom.elLegendWrap.firstChild;)A.dom.elLegendWrap.removeChild(A.dom.elLegendWrap.firstChild);this.drawLegends(),_.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),p.legend.position==="bottom"||p.legend.position==="top"?this.legendAlignHorizontal():p.legend.position!=="right"&&p.legend.position!=="left"||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var d=this,A=this.w,p=A.config.legend.fontFamily,I=A.globals.seriesNames,w=A.globals.colors.slice();if(A.config.chart.type==="heatmap"){var k=A.config.plotOptions.heatmap.colorScale.ranges;I=k.map(function(dt){return dt.name?dt.name:dt.from+" - "+dt.to}),w=k.map(function(dt){return dt.color})}else this.isBarsDistributed&&(I=A.globals.labels.slice());A.config.legend.customLegendItems.length&&(I=A.config.legend.customLegendItems);for(var Z=A.globals.legendFormatter,E=A.config.legend.inverseOrder,D=E?I.length-1:0;E?D>=0:D<=I.length-1;E?D--:D++){var Y,U=Z(I[D],{seriesIndex:D,w:A}),z=!1,te=!1;if(A.globals.collapsedSeries.length>0)for(var ae=0;ae<A.globals.collapsedSeries.length;ae++)A.globals.collapsedSeries[ae].index===D&&(z=!0);if(A.globals.ancillaryCollapsedSeriesIndices.length>0)for(var ge=0;ge<A.globals.ancillaryCollapsedSeriesIndices.length;ge++)A.globals.ancillaryCollapsedSeriesIndices[ge]===D&&(te=!0);var Ce=document.createElement("span");Ce.classList.add("apexcharts-legend-marker");var we=A.config.legend.markers.offsetX,ke=A.config.legend.markers.offsetY,T=A.config.legend.markers.height,q=A.config.legend.markers.width,Ae=A.config.legend.markers.strokeWidth,Se=A.config.legend.markers.strokeColor,Ze=A.config.legend.markers.radius,Te=Ce.style;Te.background=w[D],Te.color=w[D],Te.setProperty("background",w[D],"important"),A.config.legend.markers.fillColors&&A.config.legend.markers.fillColors[D]&&(Te.background=A.config.legend.markers.fillColors[D]),A.globals.seriesColors[D]!==void 0&&(Te.background=A.globals.seriesColors[D],Te.color=A.globals.seriesColors[D]),Te.height=Array.isArray(T)?parseFloat(T[D])+"px":parseFloat(T)+"px",Te.width=Array.isArray(q)?parseFloat(q[D])+"px":parseFloat(q)+"px",Te.left=(Array.isArray(we)?parseFloat(we[D]):parseFloat(we))+"px",Te.top=(Array.isArray(ke)?parseFloat(ke[D]):parseFloat(ke))+"px",Te.borderWidth=Array.isArray(Ae)?Ae[D]:Ae,Te.borderColor=Array.isArray(Se)?Se[D]:Se,Te.borderRadius=Array.isArray(Ze)?parseFloat(Ze[D])+"px":parseFloat(Ze)+"px",A.config.legend.markers.customHTML&&(Array.isArray(A.config.legend.markers.customHTML)?A.config.legend.markers.customHTML[D]&&(Ce.innerHTML=A.config.legend.markers.customHTML[D]()):Ce.innerHTML=A.config.legend.markers.customHTML()),j.setAttrs(Ce,{rel:D+1,"data:collapsed":z||te}),(z||te)&&Ce.classList.add("apexcharts-inactive-legend");var Qe=document.createElement("div"),Oe=document.createElement("span");Oe.classList.add("apexcharts-legend-text"),Oe.innerHTML=Array.isArray(U)?U.join(" "):U;var ut=A.config.legend.labels.useSeriesColors?A.globals.colors[D]:Array.isArray(A.config.legend.labels.colors)?(Y=A.config.legend.labels.colors)===null||Y===void 0?void 0:Y[D]:A.config.legend.labels.colors;ut||(ut=A.config.chart.foreColor),Oe.style.color=ut,Oe.style.fontSize=parseFloat(A.config.legend.fontSize)+"px",Oe.style.fontWeight=A.config.legend.fontWeight,Oe.style.fontFamily=p||A.config.chart.fontFamily,j.setAttrs(Oe,{rel:D+1,i:D,"data:default-text":encodeURIComponent(U),"data:collapsed":z||te}),Qe.appendChild(Ce),Qe.appendChild(Oe);var Gt=new re(this.ctx);A.config.legend.showForZeroSeries||Gt.getSeriesTotalByIndex(D)===0&&Gt.seriesHaveSameValues(D)&&!Gt.isSeriesNull(D)&&A.globals.collapsedSeriesIndices.indexOf(D)===-1&&A.globals.ancillaryCollapsedSeriesIndices.indexOf(D)===-1&&Qe.classList.add("apexcharts-hidden-zero-series"),A.config.legend.showForNullSeries||Gt.isSeriesNull(D)&&A.globals.collapsedSeriesIndices.indexOf(D)===-1&&A.globals.ancillaryCollapsedSeriesIndices.indexOf(D)===-1&&Qe.classList.add("apexcharts-hidden-null-series"),A.globals.dom.elLegendWrap.appendChild(Qe),A.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(A.config.legend.horizontalAlign)),A.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+A.config.legend.position),Qe.classList.add("apexcharts-legend-series"),Qe.style.margin="".concat(A.config.legend.itemMargin.vertical,"px ").concat(A.config.legend.itemMargin.horizontal,"px"),A.globals.dom.elLegendWrap.style.width=A.config.legend.width?A.config.legend.width+"px":"",A.globals.dom.elLegendWrap.style.height=A.config.legend.height?A.config.legend.height+"px":"",j.setAttrs(Qe,{rel:D+1,seriesName:_.escapeString(I[D]),"data:collapsed":z||te}),(z||te)&&Qe.classList.add("apexcharts-inactive-legend"),A.config.legend.onItemClick.toggleDataSeries||Qe.classList.add("apexcharts-no-click")}A.globals.dom.elWrap.addEventListener("click",d.onLegendClick,!0),A.config.legend.onItemHover.highlightDataSeries&&A.config.legend.customLegendItems.length===0&&(A.globals.dom.elWrap.addEventListener("mousemove",d.onLegendHovered,!0),A.globals.dom.elWrap.addEventListener("mouseout",d.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(d,A){var p=this.w,I=p.globals.dom.elLegendWrap,w=I.getBoundingClientRect(),k=0,Z=0;if(p.config.legend.position==="bottom")Z+=p.globals.svgHeight-w.height/2;else if(p.config.legend.position==="top"){var E=new dn(this.ctx),D=E.dimHelpers.getTitleSubtitleCoords("title").height,Y=E.dimHelpers.getTitleSubtitleCoords("subtitle").height;Z=Z+(D>0?D-10:0)+(Y>0?Y-10:0)}I.style.position="absolute",k=k+d+p.config.legend.offsetX,Z=Z+A+p.config.legend.offsetY,I.style.left=k+"px",I.style.top=Z+"px",p.config.legend.position==="bottom"?(I.style.top="auto",I.style.bottom=5-p.config.legend.offsetY+"px"):p.config.legend.position==="right"&&(I.style.left="auto",I.style.right=25+p.config.legend.offsetX+"px"),["width","height"].forEach(function(U){I.style[U]&&(I.style[U]=parseInt(p.config.legend[U],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var d=this.w;d.globals.dom.elLegendWrap.style.right=0;var A=this.legendHelpers.getLegendBBox(),p=new dn(this.ctx),I=p.dimHelpers.getTitleSubtitleCoords("title"),w=p.dimHelpers.getTitleSubtitleCoords("subtitle"),k=0;d.config.legend.position==="bottom"?k=-A.clwh/1.8:d.config.legend.position==="top"&&(k=I.height+w.height+d.config.title.margin+d.config.subtitle.margin-10),this.setLegendWrapXY(20,k)}},{key:"legendAlignVertical",value:function(){var d=this.w,A=this.legendHelpers.getLegendBBox(),p=0;d.config.legend.position==="left"&&(p=20),d.config.legend.position==="right"&&(p=d.globals.svgWidth-A.clww-10),this.setLegendWrapXY(p,20)}},{key:"onLegendHovered",value:function(d){var A=this.w,p=d.target.classList.contains("apexcharts-legend-series")||d.target.classList.contains("apexcharts-legend-text")||d.target.classList.contains("apexcharts-legend-marker");if(A.config.chart.type==="heatmap"||this.isBarsDistributed){if(p){var I=parseInt(d.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,I,this.w]),new Ue(this.ctx).highlightRangeInSeries(d,d.target)}}else!d.target.classList.contains("apexcharts-inactive-legend")&&p&&new Ue(this.ctx).toggleSeriesOnHover(d,d.target)}},{key:"onLegendClick",value:function(d){var A=this.w;if(!A.config.legend.customLegendItems.length&&(d.target.classList.contains("apexcharts-legend-series")||d.target.classList.contains("apexcharts-legend-text")||d.target.classList.contains("apexcharts-legend-marker"))){var p=parseInt(d.target.getAttribute("rel"),10)-1,I=d.target.getAttribute("data:collapsed")==="true",w=this.w.config.chart.events.legendClick;typeof w=="function"&&w(this.ctx,p,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,p,this.w]);var k=this.w.config.legend.markers.onClick;typeof k=="function"&&d.target.classList.contains("apexcharts-legend-marker")&&(k(this.ctx,p,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,p,this.w])),A.config.chart.type!=="treemap"&&A.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&A.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(p,I)}}}]),Be}(),St=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w;var A=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=A.globals.minX,this.maxX=A.globals.maxX}return C(Be,[{key:"createToolbar",value:function(){var d=this,A=this.w,p=function(){return document.createElement("div")},I=p();if(I.setAttribute("class","apexcharts-toolbar"),I.style.top=A.config.chart.toolbar.offsetY+"px",I.style.right=3-A.config.chart.toolbar.offsetX+"px",A.globals.dom.elWrap.appendChild(I),this.elZoom=p(),this.elZoomIn=p(),this.elZoomOut=p(),this.elPan=p(),this.elSelection=p(),this.elZoomReset=p(),this.elMenuIcon=p(),this.elMenu=p(),this.elCustomIcons=[],this.t=A.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var w=0;w<this.t.customIcons.length;w++)this.elCustomIcons.push(p());var k=[],Z=function(U,z,te){var ae=U.toLowerCase();d.t[ae]&&A.config.chart.zoom.enabled&&k.push({el:z,icon:typeof d.t[ae]=="string"?d.t[ae]:te,title:d.localeValues[U],class:"apexcharts-".concat(ae,"-icon")})};Z("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`),Z("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
</svg>
`);var E=function(U){d.t[U]&&A.config.chart[U].enabled&&k.push({el:U==="zoom"?d.elZoom:d.elSelection,icon:typeof d.t[U]=="string"?d.t[U]:U==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
</svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M0 0h24v24H0z" fill="none"/>
    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
</svg>`,title:d.localeValues[U==="zoom"?"selectionZoom":"selection"],class:A.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(U,"-icon")})};E("zoom"),E("selection"),this.t.pan&&A.config.chart.zoom.enabled&&k.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
    <defs>
        <path d="M0 0h24v24H0z" id="a"/>
    </defs>
    <clipPath id="b">
        <use overflow="visible" xlink:href="#a"/>
    </clipPath>
    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
</svg>`,title:this.localeValues.pan,class:A.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),Z("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`),this.t.download&&k.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var D=0;D<this.elCustomIcons.length;D++)k.push({el:this.elCustomIcons[D],icon:this.t.customIcons[D].icon,title:this.t.customIcons[D].title,index:this.t.customIcons[D].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[D].class});k.forEach(function(U,z){U.index&&_.moveIndexInArray(k,z,U.index)});for(var Y=0;Y<k.length;Y++)j.setAttrs(k[Y].el,{class:k[Y].class,title:k[Y].title}),k[Y].el.innerHTML=k[Y].icon,I.appendChild(k[Y].el);this._createHamburgerMenu(I),A.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):A.globals.panEnabled?this.elPan.classList.add(this.selectedClass):A.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(d){this.elMenuItems=[],d.appendChild(this.elMenu),j.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var A=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],p=0;p<A.length;p++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[p].innerHTML=A[p].title,j.setAttrs(this.elMenuItems[p],{class:"apexcharts-menu-item ".concat(A[p].name),title:A[p].title}),this.elMenu.appendChild(this.elMenuItems[p])}},{key:"addToolbarEventListeners",value:function(){var d=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(p){p.classList.contains("exportSVG")?p.addEventListener("click",d.handleDownload.bind(d,"svg")):p.classList.contains("exportPNG")?p.addEventListener("click",d.handleDownload.bind(d,"png")):p.classList.contains("exportCSV")&&p.addEventListener("click",d.handleDownload.bind(d,"csv"))});for(var A=0;A<this.t.customIcons.length;A++)this.elCustomIcons[A].addEventListener("click",this.t.customIcons[A].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(d){this.ctx.getSyncedCharts().forEach(function(A){A.ctx.toolbar.toggleOtherControls();var p=d==="selection"?A.ctx.toolbar.elSelection:A.ctx.toolbar.elZoom,I=d==="selection"?"selectionEnabled":"zoomEnabled";A.w.globals[I]=!A.w.globals[I],p.classList.contains(A.ctx.toolbar.selectedClass)?p.classList.remove(A.ctx.toolbar.selectedClass):p.classList.add(A.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var d=this.w;this.elZoom||(this.elZoom=d.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=d.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=d.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(d){this.toggleOtherControls(),d==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var A=d==="pan"?this.elPan:this.elZoom,p=d==="pan"?this.elZoom:this.elPan;A&&A.classList.add(this.selectedClass),p&&p.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(d){d.ctx.toolbar.toggleOtherControls(),d.w.globals.panEnabled=!d.w.globals.panEnabled,d.ctx.toolbar.elPan.classList.contains(d.ctx.toolbar.selectedClass)?d.ctx.toolbar.elPan.classList.remove(d.ctx.toolbar.selectedClass):d.ctx.toolbar.elPan.classList.add(d.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var d=this,A=this.w;A.globals.panEnabled=!1,A.globals.zoomEnabled=!1,A.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(p){p&&p.classList.remove(d.selectedClass)})}},{key:"handleZoomIn",value:function(){var d=this.w;d.globals.isRangeBar&&(this.minX=d.globals.minY,this.maxX=d.globals.maxY);var A=(this.minX+this.maxX)/2,p=(this.minX+A)/2,I=(this.maxX+A)/2,w=this._getNewMinXMaxX(p,I);d.globals.disableZoomIn||this.zoomUpdateOptions(w.minX,w.maxX)}},{key:"handleZoomOut",value:function(){var d=this.w;if(d.globals.isRangeBar&&(this.minX=d.globals.minY,this.maxX=d.globals.maxY),!(d.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var A=(this.minX+this.maxX)/2,p=this.minX-(A-this.minX),I=this.maxX-(A-this.maxX),w=this._getNewMinXMaxX(p,I);d.globals.disableZoomOut||this.zoomUpdateOptions(w.minX,w.maxX)}}},{key:"_getNewMinXMaxX",value:function(d,A){var p=this.w.config.xaxis.convertedCatToNumeric;return{minX:p?Math.floor(d):d,maxX:p?Math.floor(A):A}}},{key:"zoomUpdateOptions",value:function(d,A){var p=this.w;if(d!==void 0||A!==void 0){if(!(p.config.xaxis.convertedCatToNumeric&&(d<1&&(d=1,A=p.globals.dataPoints),A-d<2))){var I={min:d,max:A},w=this.getBeforeZoomRange(I);w&&(I=w.xaxis);var k={xaxis:I},Z=_.clone(p.globals.initialConfig.yaxis);p.config.chart.group||(k.yaxis=Z),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(k,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(I,Z)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(d,A){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:d,yaxis:A})}},{key:"getBeforeZoomRange",value:function(d,A){var p=null;return typeof this.ev.beforeZoom=="function"&&(p=this.ev.beforeZoom(this,{xaxis:d,yaxis:A})),p}},{key:"toggleMenu",value:function(){var d=this;window.setTimeout(function(){d.elMenu.classList.contains("apexcharts-menu-open")?d.elMenu.classList.remove("apexcharts-menu-open"):d.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(d){var A=this.w,p=new qe(this.ctx);switch(d){case"svg":p.exportToSVG(this.ctx);break;case"png":p.exportToPng(this.ctx);break;case"csv":p.exportToCSV({series:A.config.series,columnDelimiter:A.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(d){this.ctx.getSyncedCharts().forEach(function(A){var p=A.w;if(p.globals.lastXAxis.min=p.globals.initialConfig.xaxis.min,p.globals.lastXAxis.max=p.globals.initialConfig.xaxis.max,A.updateHelpers.revertDefaultAxisMinMax(),typeof p.config.chart.events.beforeResetZoom=="function"){var I=p.config.chart.events.beforeResetZoom(A,p);I&&A.updateHelpers.revertDefaultAxisMinMax(I)}typeof p.config.chart.events.zoomed=="function"&&A.ctx.toolbar.zoomCallback({min:p.config.xaxis.min,max:p.config.xaxis.max}),p.globals.zoomed=!1;var w=A.ctx.series.emptyCollapsedSeries(_.clone(p.globals.initialSeries));A.updateHelpers._updateSeries(w,p.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),Be}(),Wt=function(Be){v(A,St);var d=R(A);function A(p){var I;return c(this,A),(I=d.call(this,p)).ctx=p,I.w=p.w,I.dragged=!1,I.graphics=new j(I.ctx),I.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],I.clientX=0,I.clientY=0,I.startX=0,I.endX=0,I.dragX=0,I.startY=0,I.endY=0,I.dragY=0,I.moveDirection="none",I}return C(A,[{key:"init",value:function(p){var I=this,w=p.xyRatios,k=this.w,Z=this;this.xyRatios=w,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=k.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),k.globals.dom.elGraphical.add(this.zoomRect),k.globals.dom.elGraphical.add(this.selectionRect),k.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:k.globals.gridWidth,maxY:k.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):k.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:k.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=k.globals.dom.baseEl.querySelector("".concat(k.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(E){I.hoverArea.addEventListener(E,Z.svgMouseEvents.bind(Z,w),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(p,I){var w=this.w,k=this,Z=this.ctx.toolbar,E=w.globals.zoomEnabled?w.config.chart.zoom.type:w.config.chart.selection.type,D=w.config.chart.toolbar.autoSelected;if(I.shiftKey?(this.shiftWasPressed=!0,Z.enableZoomPanFromToolbar(D==="pan"?"zoom":"pan")):this.shiftWasPressed&&(Z.enableZoomPanFromToolbar(D),this.shiftWasPressed=!1),I.target){var Y,U=I.target.classList;if(I.target.parentNode&&I.target.parentNode!==null&&(Y=I.target.parentNode.classList),!(U.contains("apexcharts-selection-rect")||U.contains("apexcharts-legend-marker")||U.contains("apexcharts-legend-text")||Y&&Y.contains("apexcharts-toolbar"))){if(k.clientX=I.type==="touchmove"||I.type==="touchstart"?I.touches[0].clientX:I.type==="touchend"?I.changedTouches[0].clientX:I.clientX,k.clientY=I.type==="touchmove"||I.type==="touchstart"?I.touches[0].clientY:I.type==="touchend"?I.changedTouches[0].clientY:I.clientY,I.type==="mousedown"&&I.which===1){var z=k.gridRect.getBoundingClientRect();k.startX=k.clientX-z.left,k.startY=k.clientY-z.top,k.dragged=!1,k.w.globals.mousedown=!0}if((I.type==="mousemove"&&I.which===1||I.type==="touchmove")&&(k.dragged=!0,w.globals.panEnabled?(w.globals.selection=null,k.w.globals.mousedown&&k.panDragging({context:k,zoomtype:E,xyRatios:p})):(k.w.globals.mousedown&&w.globals.zoomEnabled||k.w.globals.mousedown&&w.globals.selectionEnabled)&&(k.selection=k.selectionDrawing({context:k,zoomtype:E}))),I.type==="mouseup"||I.type==="touchend"||I.type==="mouseleave"){var te=k.gridRect.getBoundingClientRect();k.w.globals.mousedown&&(k.endX=k.clientX-te.left,k.endY=k.clientY-te.top,k.dragX=Math.abs(k.endX-k.startX),k.dragY=Math.abs(k.endY-k.startY),(w.globals.zoomEnabled||w.globals.selectionEnabled)&&k.selectionDrawn({context:k,zoomtype:E}),w.globals.panEnabled&&w.config.xaxis.convertedCatToNumeric&&k.delayedPanScrolled()),w.globals.zoomEnabled&&k.hideSelectionRect(this.selectionRect),k.dragged=!1,k.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var p=this.w;if(this.selectionRect){var I=this.selectionRect.node.getBoundingClientRect();I.width>0&&I.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:p.globals.gridWidth,maxY:p.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var p=this.w,I=this.xyRatios;if(!p.globals.zoomEnabled){if(p.globals.selection!==void 0&&p.globals.selection!==null)this.drawSelectionRect(p.globals.selection);else if(p.config.chart.selection.xaxis.min!==void 0&&p.config.chart.selection.xaxis.max!==void 0){var w=(p.config.chart.selection.xaxis.min-p.globals.minX)/I.xRatio,k=p.globals.gridWidth-(p.globals.maxX-p.config.chart.selection.xaxis.max)/I.xRatio-w;p.globals.isRangeBar&&(w=(p.config.chart.selection.xaxis.min-p.globals.yAxisScale[0].niceMin)/I.invertedYRatio,k=(p.config.chart.selection.xaxis.max-p.config.chart.selection.xaxis.min)/I.invertedYRatio);var Z={x:w,y:0,width:k,height:p.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(Z),this.makeSelectionRectDraggable(),typeof p.config.chart.events.selection=="function"&&p.config.chart.events.selection(this.ctx,{xaxis:{min:p.config.chart.selection.xaxis.min,max:p.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(p){var I=p.x,w=p.y,k=p.width,Z=p.height,E=p.translateX,D=E===void 0?0:E,Y=p.translateY,U=Y===void 0?0:Y,z=this.w,te=this.zoomRect,ae=this.selectionRect;if(this.dragged||z.globals.selection!==null){var ge={transform:"translate("+D+", "+U+")"};z.globals.zoomEnabled&&this.dragged&&(k<0&&(k=1),te.attr({x:I,y:w,width:k,height:Z,fill:z.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":z.config.chart.zoom.zoomedArea.fill.opacity,stroke:z.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":z.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":z.config.chart.zoom.zoomedArea.stroke.opacity}),j.setAttrs(te.node,ge)),z.globals.selectionEnabled&&(ae.attr({x:I,y:w,width:k>0?k:0,height:Z>0?Z:0,fill:z.config.chart.selection.fill.color,"fill-opacity":z.config.chart.selection.fill.opacity,stroke:z.config.chart.selection.stroke.color,"stroke-width":z.config.chart.selection.stroke.width,"stroke-dasharray":z.config.chart.selection.stroke.dashArray,"stroke-opacity":z.config.chart.selection.stroke.opacity}),j.setAttrs(ae.node,ge))}}},{key:"hideSelectionRect",value:function(p){p&&p.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(p){var I=p.context,w=p.zoomtype,k=this.w,Z=I,E=this.gridRect.getBoundingClientRect(),D=Z.startX-1,Y=Z.startY,U=!1,z=!1,te=Z.clientX-E.left-D,ae=Z.clientY-E.top-Y,ge={};return Math.abs(te+D)>k.globals.gridWidth?te=k.globals.gridWidth-D:Z.clientX-E.left<0&&(te=D),D>Z.clientX-E.left&&(U=!0,te=Math.abs(te)),Y>Z.clientY-E.top&&(z=!0,ae=Math.abs(ae)),ge=w==="x"?{x:U?D-te:D,y:0,width:te,height:k.globals.gridHeight}:w==="y"?{x:0,y:z?Y-ae:Y,width:k.globals.gridWidth,height:ae}:{x:U?D-te:D,y:z?Y-ae:Y,width:te,height:ae},Z.drawSelectionRect(ge),Z.selectionDragging("resizing"),ge}},{key:"selectionDragging",value:function(p,I){var w=this,k=this.w,Z=this.xyRatios,E=this.selectionRect,D=0;p==="resizing"&&(D=30);var Y=function(z){return parseFloat(E.node.getAttribute(z))},U={x:Y("x"),y:Y("y"),width:Y("width"),height:Y("height")};k.globals.selection=U,typeof k.config.chart.events.selection=="function"&&k.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var z,te,ae,ge,Ce=w.gridRect.getBoundingClientRect(),we=E.node.getBoundingClientRect();k.globals.isRangeBar?(z=k.globals.yAxisScale[0].niceMin+(we.left-Ce.left)*Z.invertedYRatio,te=k.globals.yAxisScale[0].niceMin+(we.right-Ce.left)*Z.invertedYRatio,ae=0,ge=1):(z=k.globals.xAxisScale.niceMin+(we.left-Ce.left)*Z.xRatio,te=k.globals.xAxisScale.niceMin+(we.right-Ce.left)*Z.xRatio,ae=k.globals.yAxisScale[0].niceMin+(Ce.bottom-we.bottom)*Z.yRatio[0],ge=k.globals.yAxisScale[0].niceMax-(we.top-Ce.top)*Z.yRatio[0]);var ke={xaxis:{min:z,max:te},yaxis:{min:ae,max:ge}};k.config.chart.events.selection(w.ctx,ke),k.config.chart.brush.enabled&&k.config.chart.events.brushScrolled!==void 0&&k.config.chart.events.brushScrolled(w.ctx,ke)},D))}},{key:"selectionDrawn",value:function(p){var I=p.context,w=p.zoomtype,k=this.w,Z=I,E=this.xyRatios,D=this.ctx.toolbar;if(Z.startX>Z.endX){var Y=Z.startX;Z.startX=Z.endX,Z.endX=Y}if(Z.startY>Z.endY){var U=Z.startY;Z.startY=Z.endY,Z.endY=U}var z=void 0,te=void 0;k.globals.isRangeBar?(z=k.globals.yAxisScale[0].niceMin+Z.startX*E.invertedYRatio,te=k.globals.yAxisScale[0].niceMin+Z.endX*E.invertedYRatio):(z=k.globals.xAxisScale.niceMin+Z.startX*E.xRatio,te=k.globals.xAxisScale.niceMin+Z.endX*E.xRatio);var ae=[],ge=[];if(k.config.yaxis.forEach(function(Se,Ze){if(k.globals.seriesYAxisMap[Ze].length>0){var Te=k.globals.seriesYAxisMap[Ze][0];ae.push(k.globals.yAxisScale[Ze].niceMax-E.yRatio[Te]*Z.startY),ge.push(k.globals.yAxisScale[Ze].niceMax-E.yRatio[Te]*Z.endY)}}),Z.dragged&&(Z.dragX>10||Z.dragY>10)&&z!==te){if(k.globals.zoomEnabled){var Ce=_.clone(k.globals.initialConfig.yaxis),we=_.clone(k.globals.initialConfig.xaxis);if(k.globals.zoomed=!0,k.config.xaxis.convertedCatToNumeric&&(z=Math.floor(z),te=Math.floor(te),z<1&&(z=1,te=k.globals.dataPoints),te-z<2&&(te=z+1)),w!=="xy"&&w!=="x"||(we={min:z,max:te}),w!=="xy"&&w!=="y"||Ce.forEach(function(Se,Ze){Ce[Ze].min=ge[Ze],Ce[Ze].max=ae[Ze]}),D){var ke=D.getBeforeZoomRange(we,Ce);ke&&(we=ke.xaxis?ke.xaxis:we,Ce=ke.yaxis?ke.yaxis:Ce)}var T={xaxis:we};k.config.chart.group||(T.yaxis=Ce),Z.ctx.updateHelpers._updateOptions(T,!1,Z.w.config.chart.animations.dynamicAnimation.enabled),typeof k.config.chart.events.zoomed=="function"&&D.zoomCallback(we,Ce)}else if(k.globals.selectionEnabled){var q,Ae=null;q={min:z,max:te},w!=="xy"&&w!=="y"||(Ae=_.clone(k.config.yaxis)).forEach(function(Se,Ze){Ae[Ze].min=ge[Ze],Ae[Ze].max=ae[Ze]}),k.globals.selection=Z.selection,typeof k.config.chart.events.selection=="function"&&k.config.chart.events.selection(Z.ctx,{xaxis:q,yaxis:Ae})}}}},{key:"panDragging",value:function(p){var I=p.context,w=this.w,k=I;if(w.globals.lastClientPosition.x!==void 0){var Z=w.globals.lastClientPosition.x-k.clientX,E=w.globals.lastClientPosition.y-k.clientY;Math.abs(Z)>Math.abs(E)&&Z>0?this.moveDirection="left":Math.abs(Z)>Math.abs(E)&&Z<0?this.moveDirection="right":Math.abs(E)>Math.abs(Z)&&E>0?this.moveDirection="up":Math.abs(E)>Math.abs(Z)&&E<0&&(this.moveDirection="down")}w.globals.lastClientPosition={x:k.clientX,y:k.clientY};var D=w.globals.isRangeBar?w.globals.minY:w.globals.minX,Y=w.globals.isRangeBar?w.globals.maxY:w.globals.maxX;w.config.xaxis.convertedCatToNumeric||k.panScrolled(D,Y)}},{key:"delayedPanScrolled",value:function(){var p=this.w,I=p.globals.minX,w=p.globals.maxX,k=(p.globals.maxX-p.globals.minX)/2;this.moveDirection==="left"?(I=p.globals.minX+k,w=p.globals.maxX+k):this.moveDirection==="right"&&(I=p.globals.minX-k,w=p.globals.maxX-k),I=Math.floor(I),w=Math.floor(w),this.updateScrolledChart({xaxis:{min:I,max:w}},I,w)}},{key:"panScrolled",value:function(p,I){var w=this.w,k=this.xyRatios,Z=_.clone(w.globals.initialConfig.yaxis),E=k.xRatio,D=w.globals.minX,Y=w.globals.maxX;w.globals.isRangeBar&&(E=k.invertedYRatio,D=w.globals.minY,Y=w.globals.maxY),this.moveDirection==="left"?(p=D+w.globals.gridWidth/15*E,I=Y+w.globals.gridWidth/15*E):this.moveDirection==="right"&&(p=D-w.globals.gridWidth/15*E,I=Y-w.globals.gridWidth/15*E),w.globals.isRangeBar||(p<w.globals.initialMinX||I>w.globals.initialMaxX)&&(p=D,I=Y);var U={xaxis:{min:p,max:I}};w.config.chart.group||(U.yaxis=Z),this.updateScrolledChart(U,p,I)}},{key:"updateScrolledChart",value:function(p,I,w){var k=this.w;this.ctx.updateHelpers._updateOptions(p,!1,!1),typeof k.config.chart.events.scrolled=="function"&&k.config.chart.events.scrolled(this.ctx,{xaxis:{min:I,max:w}})}}]),A}(),Dt=function(){function Be(d){c(this,Be),this.w=d.w,this.ttCtx=d,this.ctx=d.ctx}return C(Be,[{key:"getNearestValues",value:function(d){var A=d.hoverArea,p=d.elGrid,I=d.clientX,w=d.clientY,k=this.w,Z=p.getBoundingClientRect(),E=Z.width,D=Z.height,Y=E/(k.globals.dataPoints-1),U=D/k.globals.dataPoints,z=this.hasBars();!k.globals.comboCharts&&!z||k.config.xaxis.convertedCatToNumeric||(Y=E/k.globals.dataPoints);var te=I-Z.left-k.globals.barPadForNumericAxis,ae=w-Z.top;te<0||ae<0||te>E||ae>D?(A.classList.remove("hovering-zoom"),A.classList.remove("hovering-pan")):k.globals.zoomEnabled?(A.classList.remove("hovering-pan"),A.classList.add("hovering-zoom")):k.globals.panEnabled&&(A.classList.remove("hovering-zoom"),A.classList.add("hovering-pan"));var ge=Math.round(te/Y),Ce=Math.floor(ae/U);z&&!k.config.xaxis.convertedCatToNumeric&&(ge=Math.ceil(te/Y),ge-=1);var we=null,ke=null,T=k.globals.seriesXvalues.map(function(Te){return Te.filter(function(Qe){return _.isNumber(Qe)})}),q=k.globals.seriesYvalues.map(function(Te){return Te.filter(function(Qe){return _.isNumber(Qe)})});if(k.globals.isXNumeric){var Ae=this.ttCtx.getElGrid().getBoundingClientRect(),Se=te*(Ae.width/E),Ze=ae*(Ae.height/D);we=(ke=this.closestInMultiArray(Se,Ze,T,q)).index,ge=ke.j,we!==null&&(T=k.globals.seriesXvalues[we],ge=(ke=this.closestInArray(Se,T)).index)}return k.globals.capturedSeriesIndex=we===null?-1:we,(!ge||ge<1)&&(ge=0),k.globals.isBarHorizontal?k.globals.capturedDataPointIndex=Ce:k.globals.capturedDataPointIndex=ge,{capturedSeries:we,j:k.globals.isBarHorizontal?Ce:ge,hoverX:te,hoverY:ae}}},{key:"closestInMultiArray",value:function(d,A,p,I){var w=this.w,k=0,Z=null,E=-1;w.globals.series.length>1?k=this.getFirstActiveXArray(p):Z=0;var D=p[k][0],Y=Math.abs(d-D);if(p.forEach(function(te){te.forEach(function(ae,ge){var Ce=Math.abs(d-ae);Ce<=Y&&(Y=Ce,E=ge)})}),E!==-1){var U=I[k][E],z=Math.abs(A-U);Z=k,I.forEach(function(te,ae){var ge=Math.abs(A-te[E]);ge<=z&&(z=ge,Z=ae)})}return{index:Z,j:E}}},{key:"getFirstActiveXArray",value:function(d){for(var A=this.w,p=0,I=d.map(function(k,Z){return k.length>0?Z:-1}),w=0;w<I.length;w++)if(I[w]!==-1&&A.globals.collapsedSeriesIndices.indexOf(w)===-1&&A.globals.ancillaryCollapsedSeriesIndices.indexOf(w)===-1){p=I[w];break}return p}},{key:"closestInArray",value:function(d,A){for(var p=A[0],I=null,w=Math.abs(d-p),k=0;k<A.length;k++){var Z=Math.abs(d-A[k]);Z<w&&(w=Z,I=k)}return{index:I}}},{key:"isXoverlap",value:function(d){var A=[],p=this.w.globals.seriesX.filter(function(w){return w[0]!==void 0});if(p.length>0)for(var I=0;I<p.length-1;I++)p[I][d]!==void 0&&p[I+1][d]!==void 0&&p[I][d]!==p[I+1][d]&&A.push("unEqual");return A.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var d=!0,A=this.w.globals.initialSeries,p=0;p<A.length-1;p++)if(A[p].data.length!==A[p+1].data.length){d=!1;break}return d}},{key:"getBarsHeight",value:function(d){return H(d).reduce(function(A,p){return A+p.getBBox().height},0)}},{key:"getElMarkers",value:function(d){return typeof d=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(d,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var d=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(d=H(d)).sort(function(p,I){var w=Number(p.getAttribute("data:realIndex")),k=Number(I.getAttribute("data:realIndex"));return k<w?1:k>w?-1:0});var A=[];return d.forEach(function(p){A.push(p.querySelector(".apexcharts-marker"))}),A}},{key:"hasMarkers",value:function(d){return this.getElMarkers(d).length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(d){var A=this.w,p=A.config.markers.hover.size;return p===void 0&&(p=A.globals.markers.size[d]+A.config.markers.hover.sizeOffset),p}},{key:"toggleAllTooltipSeriesGroups",value:function(d){var A=this.w,p=this.ttCtx;p.allTooltipSeriesGroups.length===0&&(p.allTooltipSeriesGroups=A.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var I=p.allTooltipSeriesGroups,w=0;w<I.length;w++)d==="enable"?(I[w].classList.add("apexcharts-active"),I[w].style.display=A.config.tooltip.items.display):(I[w].classList.remove("apexcharts-active"),I[w].style.display="none")}}]),Be}(),Zt=function(){function Be(d){c(this,Be),this.w=d.w,this.ctx=d.ctx,this.ttCtx=d,this.tooltipUtil=new Dt(d)}return C(Be,[{key:"drawSeriesTexts",value:function(d){var A=d.shared,p=A===void 0||A,I=d.ttItems,w=d.i,k=w===void 0?0:w,Z=d.j,E=Z===void 0?null:Z,D=d.y1,Y=d.y2,U=d.e,z=this.w;z.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:k,j:E,y1:D,y2:Y,w:z}):this.toggleActiveInactiveSeries(p);var te=this.getValuesToPrint({i:k,j:E});this.printLabels({i:k,j:E,values:te,ttItems:I,shared:p,e:U});var ae=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=ae.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=ae.getBoundingClientRect().height}},{key:"printLabels",value:function(d){var A,p=this,I=d.i,w=d.j,k=d.values,Z=d.ttItems,E=d.shared,D=d.e,Y=this.w,U=[],z=function(Ae){return Y.globals.seriesGoals[Ae]&&Y.globals.seriesGoals[Ae][w]&&Array.isArray(Y.globals.seriesGoals[Ae][w])},te=k.xVal,ae=k.zVal,ge=k.xAxisTTVal,Ce="",we=Y.globals.colors[I];w!==null&&Y.config.plotOptions.bar.distributed&&(we=Y.globals.colors[w]);for(var ke=function(Ae,Se){var Ze=p.getFormatters(I);Ce=p.getSeriesName({fn:Ze.yLbTitleFormatter,index:I,seriesIndex:I,j:w}),Y.config.chart.type==="treemap"&&(Ce=Ze.yLbTitleFormatter(String(Y.config.series[I].data[w].x),{series:Y.globals.series,seriesIndex:I,dataPointIndex:w,w:Y}));var Te=Y.config.tooltip.inverseOrder?Se:Ae;if(Y.globals.axisCharts){var Qe=function(Gt){var dt,Et,Ot,an;return Y.globals.isRangeData?Ze.yLbFormatter((dt=Y.globals.seriesRangeStart)===null||dt===void 0||(Et=dt[Gt])===null||Et===void 0?void 0:Et[w],{series:Y.globals.seriesRangeStart,seriesIndex:Gt,dataPointIndex:w,w:Y})+" - "+Ze.yLbFormatter((Ot=Y.globals.seriesRangeEnd)===null||Ot===void 0||(an=Ot[Gt])===null||an===void 0?void 0:an[w],{series:Y.globals.seriesRangeEnd,seriesIndex:Gt,dataPointIndex:w,w:Y}):Ze.yLbFormatter(Y.globals.series[Gt][w],{series:Y.globals.series,seriesIndex:Gt,dataPointIndex:w,w:Y})};if(E)Ze=p.getFormatters(Te),Ce=p.getSeriesName({fn:Ze.yLbTitleFormatter,index:Te,seriesIndex:I,j:w}),we=Y.globals.colors[Te],A=Qe(Te),z(Te)&&(U=Y.globals.seriesGoals[Te][w].map(function(Gt){return{attrs:Gt,val:Ze.yLbFormatter(Gt.value,{seriesIndex:Te,dataPointIndex:w,w:Y})}}));else{var Oe,ut=D==null||(Oe=D.target)===null||Oe===void 0?void 0:Oe.getAttribute("fill");ut&&(we=ut.indexOf("url")!==-1?document.querySelector(ut.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):ut),A=Qe(I),z(I)&&Array.isArray(Y.globals.seriesGoals[I][w])&&(U=Y.globals.seriesGoals[I][w].map(function(Gt){return{attrs:Gt,val:Ze.yLbFormatter(Gt.value,{seriesIndex:I,dataPointIndex:w,w:Y})}}))}}w===null&&(A=Ze.yLbFormatter(Y.globals.series[I],o(o({},Y),{},{seriesIndex:I,dataPointIndex:I}))),p.DOMHandling({i:I,t:Te,j:w,ttItems:Z,values:{val:A,goalVals:U,xVal:te,xAxisTTVal:ge,zVal:ae},seriesName:Ce,shared:E,pColor:we})},T=0,q=Y.globals.series.length-1;T<Y.globals.series.length;T++,q--)ke(T,q)}},{key:"getFormatters",value:function(d){var A,p=this.w,I=p.globals.yLabelFormatters[d];return p.globals.ttVal!==void 0?Array.isArray(p.globals.ttVal)?(I=p.globals.ttVal[d]&&p.globals.ttVal[d].formatter,A=p.globals.ttVal[d]&&p.globals.ttVal[d].title&&p.globals.ttVal[d].title.formatter):(I=p.globals.ttVal.formatter,typeof p.globals.ttVal.title.formatter=="function"&&(A=p.globals.ttVal.title.formatter)):A=p.config.tooltip.y.title.formatter,typeof I!="function"&&(I=p.globals.yLabelFormatters[0]?p.globals.yLabelFormatters[0]:function(w){return w}),typeof A!="function"&&(A=function(w){return w}),{yLbFormatter:I,yLbTitleFormatter:A}}},{key:"getSeriesName",value:function(d){var A=d.fn,p=d.index,I=d.seriesIndex,w=d.j,k=this.w;return A(String(k.globals.seriesNames[p]),{series:k.globals.series,seriesIndex:I,dataPointIndex:w,w:k})}},{key:"DOMHandling",value:function(d){d.i;var A=d.t,p=d.j,I=d.ttItems,w=d.values,k=d.seriesName,Z=d.shared,E=d.pColor,D=this.w,Y=this.ttCtx,U=w.val,z=w.goalVals,te=w.xVal,ae=w.xAxisTTVal,ge=w.zVal,Ce=null;Ce=I[A].children,D.config.tooltip.fillSeriesColor&&(I[A].style.backgroundColor=E,Ce[0].style.display="none"),Y.showTooltipTitle&&(Y.tooltipTitle===null&&(Y.tooltipTitle=D.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),Y.tooltipTitle.innerHTML=te),Y.isXAxisTooltipEnabled&&(Y.xaxisTooltipText.innerHTML=ae!==""?ae:te);var we=I[A].querySelector(".apexcharts-tooltip-text-y-label");we&&(we.innerHTML=k||"");var ke=I[A].querySelector(".apexcharts-tooltip-text-y-value");ke&&(ke.innerHTML=U!==void 0?U:""),Ce[0]&&Ce[0].classList.contains("apexcharts-tooltip-marker")&&(D.config.tooltip.marker.fillColors&&Array.isArray(D.config.tooltip.marker.fillColors)&&(E=D.config.tooltip.marker.fillColors[A]),Ce[0].style.backgroundColor=E),D.config.tooltip.marker.show||(Ce[0].style.display="none");var T=I[A].querySelector(".apexcharts-tooltip-text-goals-label"),q=I[A].querySelector(".apexcharts-tooltip-text-goals-value");if(z.length&&D.globals.seriesGoals[A]){var Ae=function(){var Te="<div >",Qe="<div>";z.forEach(function(Oe,ut){Te+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(Oe.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(Oe.attrs.name,"</div>"),Qe+="<div>".concat(Oe.val,"</div>")}),T.innerHTML=Te+"</div>",q.innerHTML=Qe+"</div>"};Z?D.globals.seriesGoals[A][p]&&Array.isArray(D.globals.seriesGoals[A][p])?Ae():(T.innerHTML="",q.innerHTML=""):Ae()}else T.innerHTML="",q.innerHTML="";if(ge!==null&&(I[A].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=D.config.tooltip.z.title,I[A].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=ge!==void 0?ge:""),Z&&Ce[0]){if(D.config.tooltip.hideEmptySeries){var Se=I[A].querySelector(".apexcharts-tooltip-marker"),Ze=I[A].querySelector(".apexcharts-tooltip-text");parseFloat(U)==0?(Se.style.display="none",Ze.style.display="none"):(Se.style.display="block",Ze.style.display="block")}U==null||D.globals.ancillaryCollapsedSeriesIndices.indexOf(A)>-1||D.globals.collapsedSeriesIndices.indexOf(A)>-1?Ce[0].parentNode.style.display="none":Ce[0].parentNode.style.display=D.config.tooltip.items.display}}},{key:"toggleActiveInactiveSeries",value:function(d){var A=this.w;if(d)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var p=A.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");p&&(p.classList.add("apexcharts-active"),p.style.display=A.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(d){var A=d.i,p=d.j,I=this.w,w=this.ctx.series.filteredSeriesX(),k="",Z="",E=null,D=null,Y={series:I.globals.series,seriesIndex:A,dataPointIndex:p,w:I},U=I.globals.ttZFormatter;p===null?D=I.globals.series[A]:I.globals.isXNumeric&&I.config.chart.type!=="treemap"?(k=w[A][p],w[A].length===0&&(k=w[this.tooltipUtil.getFirstActiveXArray(w)][p])):k=I.globals.labels[p]!==void 0?I.globals.labels[p]:"";var z=k;return I.globals.isXNumeric&&I.config.xaxis.type==="datetime"?k=new ce(this.ctx).xLabelFormat(I.globals.ttKeyFormatter,z,z,{i:void 0,dateFormatter:new de(this.ctx).formatDate,w:this.w}):k=I.globals.isBarHorizontal?I.globals.yLabelFormatters[0](z,Y):I.globals.xLabelFormatter(z,Y),I.config.tooltip.x.formatter!==void 0&&(k=I.globals.ttKeyFormatter(z,Y)),I.globals.seriesZ.length>0&&I.globals.seriesZ[A].length>0&&(E=U(I.globals.seriesZ[A][p],I)),Z=typeof I.config.xaxis.tooltip.formatter=="function"?I.globals.xaxisTooltipFormatter(z,Y):k,{val:Array.isArray(D)?D.join(" "):D,xVal:Array.isArray(k)?k.join(" "):k,xAxisTTVal:Array.isArray(Z)?Z.join(" "):Z,zVal:E}}},{key:"handleCustomTooltip",value:function(d){var A=d.i,p=d.j,I=d.y1,w=d.y2,k=d.w,Z=this.ttCtx.getElTooltip(),E=k.config.tooltip.custom;Array.isArray(E)&&E[A]&&(E=E[A]),Z.innerHTML=E({ctx:this.ctx,series:k.globals.series,seriesIndex:A,dataPointIndex:p,y1:I,y2:w,w:k})}}]),Be}(),Ct=function(){function Be(d){c(this,Be),this.ttCtx=d,this.ctx=d.ctx,this.w=d.w}return C(Be,[{key:"moveXCrosshairs",value:function(d){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,p=this.ttCtx,I=this.w,w=p.getElXCrosshairs(),k=d-p.xcrosshairsWidth/2,Z=I.globals.labels.slice().length;if(A!==null&&(k=I.globals.gridWidth/Z*A),w===null||I.globals.isBarHorizontal||(w.setAttribute("x",k),w.setAttribute("x1",k),w.setAttribute("x2",k),w.setAttribute("y2",I.globals.gridHeight),w.classList.add("apexcharts-active")),k<0&&(k=0),k>I.globals.gridWidth&&(k=I.globals.gridWidth),p.isXAxisTooltipEnabled){var E=k;I.config.xaxis.crosshairs.width!=="tickWidth"&&I.config.xaxis.crosshairs.width!=="barWidth"||(E=k+p.xcrosshairsWidth/2),this.moveXAxisTooltip(E)}}},{key:"moveYCrosshairs",value:function(d){var A=this.ttCtx;A.ycrosshairs!==null&&j.setAttrs(A.ycrosshairs,{y1:d,y2:d}),A.ycrosshairsHidden!==null&&j.setAttrs(A.ycrosshairsHidden,{y1:d,y2:d})}},{key:"moveXAxisTooltip",value:function(d){var A=this.w,p=this.ttCtx;if(p.xaxisTooltip!==null&&p.xcrosshairsWidth!==0){p.xaxisTooltip.classList.add("apexcharts-active");var I=p.xaxisOffY+A.config.xaxis.tooltip.offsetY+A.globals.translateY+1+A.config.xaxis.offsetY;if(d-=p.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(d)){d+=A.globals.translateX;var w;w=new j(this.ctx).getTextRects(p.xaxisTooltipText.innerHTML),p.xaxisTooltipText.style.minWidth=w.width+"px",p.xaxisTooltip.style.left=d+"px",p.xaxisTooltip.style.top=I+"px"}}}},{key:"moveYAxisTooltip",value:function(d){var A=this.w,p=this.ttCtx;p.yaxisTTEls===null&&(p.yaxisTTEls=A.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var I=parseInt(p.ycrosshairsHidden.getAttribute("y1"),10),w=A.globals.translateY+I,k=p.yaxisTTEls[d].getBoundingClientRect().height,Z=A.globals.translateYAxisX[d]-2;A.config.yaxis[d].opposite&&(Z-=26),w-=k/2,A.globals.ignoreYAxisIndexes.indexOf(d)===-1?(p.yaxisTTEls[d].classList.add("apexcharts-active"),p.yaxisTTEls[d].style.top=w+"px",p.yaxisTTEls[d].style.left=Z+A.config.yaxis[d].tooltip.offsetX+"px"):p.yaxisTTEls[d].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(d,A){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,I=this.w,w=this.ttCtx,k=w.getElTooltip(),Z=w.tooltipRect,E=p!==null?parseFloat(p):1,D=parseFloat(d)+E+5,Y=parseFloat(A)+E/2;if(D>I.globals.gridWidth/2&&(D=D-Z.ttWidth-E-10),D>I.globals.gridWidth-Z.ttWidth-10&&(D=I.globals.gridWidth-Z.ttWidth),D<-20&&(D=-20),I.config.tooltip.followCursor){var U=w.getElGrid().getBoundingClientRect();(D=w.e.clientX-U.left)>I.globals.gridWidth/2&&(D-=w.tooltipRect.ttWidth),(Y=w.e.clientY+I.globals.translateY-U.top)>I.globals.gridHeight/2&&(Y-=w.tooltipRect.ttHeight)}else I.globals.isBarHorizontal||Z.ttHeight/2+Y>I.globals.gridHeight&&(Y=I.globals.gridHeight-Z.ttHeight+I.globals.translateY);isNaN(D)||(D+=I.globals.translateX,k.style.left=D+"px",k.style.top=Y+"px")}},{key:"moveMarkers",value:function(d,A){var p=this.w,I=this.ttCtx;if(p.globals.markers.size[d]>0)for(var w=p.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(d,"'] .apexcharts-marker")),k=0;k<w.length;k++)parseInt(w[k].getAttribute("rel"),10)===A&&(I.marker.resetPointsSize(),I.marker.enlargeCurrentPoint(A,w[k]));else I.marker.resetPointsSize(),this.moveDynamicPointOnHover(A,d)}},{key:"moveDynamicPointOnHover",value:function(d,A){var p,I,w=this.w,k=this.ttCtx,Z=w.globals.pointsArray,E=k.tooltipUtil.getHoverMarkerSize(A),D=w.config.series[A].type;if(!D||D!=="column"&&D!=="candlestick"&&D!=="boxPlot"){p=Z[A][d][0],I=Z[A][d][1]?Z[A][d][1]:0;var Y=w.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(A,"'] .apexcharts-series-markers circle"));Y&&I<w.globals.gridHeight&&I>0&&(Y.setAttribute("r",E),Y.setAttribute("cx",p),Y.setAttribute("cy",I)),this.moveXCrosshairs(p),k.fixedTooltip||this.moveTooltip(p,I,E)}}},{key:"moveDynamicPointsOnHover",value:function(d){var A,p=this.ttCtx,I=p.w,w=0,k=0,Z=I.globals.pointsArray;A=new Ue(this.ctx).getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var E=p.tooltipUtil.getHoverMarkerSize(A);Z[A]&&(w=Z[A][d][0],k=Z[A][d][1]);var D=p.tooltipUtil.getAllMarkers();if(D!==null)for(var Y=0;Y<I.globals.series.length;Y++){var U=Z[Y];if(I.globals.comboCharts&&U===void 0&&D.splice(Y,0,null),U&&U.length){var z=Z[Y][d][1],te=void 0;if(D[Y].setAttribute("cx",w),I.config.chart.type==="rangeArea"&&!I.globals.comboCharts){var ae=d+I.globals.series[Y].length;te=Z[Y][ae][1],z-=Math.abs(z-te)/2}z!==null&&!isNaN(z)&&z<I.globals.gridHeight+E&&z+E>0?(D[Y]&&D[Y].setAttribute("r",E),D[Y]&&D[Y].setAttribute("cy",z)):D[Y]&&D[Y].setAttribute("r",0)}}this.moveXCrosshairs(w),p.fixedTooltip||this.moveTooltip(w,k||I.globals.gridHeight,E)}},{key:"moveStickyTooltipOverBars",value:function(d,A){var p=this.w,I=this.ttCtx,w=p.globals.columnSeries?p.globals.columnSeries.length:p.globals.series.length,k=w>=2&&w%2==0?Math.floor(w/2):Math.floor(w/2)+1;p.globals.isBarHorizontal&&(k=new Ue(this.ctx).getActiveConfigSeriesIndex("desc")+1);var Z=p.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(k,"'] path[j='").concat(d,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(k,"'] path[j='").concat(d,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(k,"'] path[j='").concat(d,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(k,"'] path[j='").concat(d,"']"));Z||typeof A!="number"||(Z=p.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(A,"'] path[j='").concat(d,`'],
        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(A,"'] path[j='").concat(d,`'],
        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(A,"'] path[j='").concat(d,`'],
        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(A,"'] path[j='").concat(d,"']")));var E=Z?parseFloat(Z.getAttribute("cx")):0,D=Z?parseFloat(Z.getAttribute("cy")):0,Y=Z?parseFloat(Z.getAttribute("barWidth")):0,U=I.getElGrid().getBoundingClientRect(),z=Z&&(Z.classList.contains("apexcharts-candlestick-area")||Z.classList.contains("apexcharts-boxPlot-area"));p.globals.isXNumeric?(Z&&!z&&(E-=w%2!=0?Y/2:0),Z&&z&&p.globals.comboCharts&&(E-=Y/2)):p.globals.isBarHorizontal||(E=I.xAxisTicksPositions[d-1]+I.dataPointsDividedWidth/2,isNaN(E)&&(E=I.xAxisTicksPositions[d]-I.dataPointsDividedWidth/2)),p.globals.isBarHorizontal?D-=I.tooltipRect.ttHeight:p.config.tooltip.followCursor?D=I.e.clientY-U.top-I.tooltipRect.ttHeight/2:D+I.tooltipRect.ttHeight+15>p.globals.gridHeight&&(D=p.globals.gridHeight),p.globals.isBarHorizontal||this.moveXCrosshairs(E),I.fixedTooltip||this.moveTooltip(E,D||p.globals.gridHeight)}}]),Be}(),Kt=function(){function Be(d){c(this,Be),this.w=d.w,this.ttCtx=d,this.ctx=d.ctx,this.tooltipPosition=new Ct(d)}return C(Be,[{key:"drawDynamicPoints",value:function(){var d=this.w,A=new j(this.ctx),p=new pe(this.ctx),I=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series");I=H(I),d.config.chart.stacked&&I.sort(function(U,z){return parseFloat(U.getAttribute("data:realIndex"))-parseFloat(z.getAttribute("data:realIndex"))});for(var w=0;w<I.length;w++){var k=I[w].querySelector(".apexcharts-series-markers-wrap");if(k!==null){var Z=void 0,E="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));d.config.chart.type!=="line"&&d.config.chart.type!=="area"||d.globals.comboCharts||d.config.tooltip.intersect||(E+=" no-pointer-events");var D=p.getMarkerConfig({cssClass:E,seriesIndex:Number(k.getAttribute("data:realIndex"))});(Z=A.drawMarker(0,0,D)).node.setAttribute("default-marker-size",0);var Y=document.createElementNS(d.globals.SVGNS,"g");Y.classList.add("apexcharts-series-markers"),Y.appendChild(Z.node),k.appendChild(Y)}}}},{key:"enlargeCurrentPoint",value:function(d,A){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,w=this.w;w.config.chart.type!=="bubble"&&this.newPointSize(d,A);var k=A.getAttribute("cx"),Z=A.getAttribute("cy");if(p!==null&&I!==null&&(k=p,Z=I),this.tooltipPosition.moveXCrosshairs(k),!this.fixedTooltip){if(w.config.chart.type==="radar"){var E=this.ttCtx.getElGrid().getBoundingClientRect();k=this.ttCtx.e.clientX-E.left}this.tooltipPosition.moveTooltip(k,Z,w.config.markers.hover.size)}}},{key:"enlargePoints",value:function(d){for(var A=this.w,p=this,I=this.ttCtx,w=d,k=A.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),Z=A.config.markers.hover.size,E=0;E<k.length;E++){var D=k[E].getAttribute("rel"),Y=k[E].getAttribute("index");if(Z===void 0&&(Z=A.globals.markers.size[Y]+A.config.markers.hover.sizeOffset),w===parseInt(D,10)){p.newPointSize(w,k[E]);var U=k[E].getAttribute("cx"),z=k[E].getAttribute("cy");p.tooltipPosition.moveXCrosshairs(U),I.fixedTooltip||p.tooltipPosition.moveTooltip(U,z,Z)}else p.oldPointSize(k[E])}}},{key:"newPointSize",value:function(d,A){var p=this.w,I=p.config.markers.hover.size,w=d===0?A.parentNode.firstChild:A.parentNode.lastChild;if(w.getAttribute("default-marker-size")!=="0"){var k=parseInt(w.getAttribute("index"),10);I===void 0&&(I=p.globals.markers.size[k]+p.config.markers.hover.sizeOffset),I<0&&(I=0),w.setAttribute("r",I)}}},{key:"oldPointSize",value:function(d){var A=parseFloat(d.getAttribute("default-marker-size"));d.setAttribute("r",A)}},{key:"resetPointsSize",value:function(){for(var d=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),A=0;A<d.length;A++){var p=parseFloat(d[A].getAttribute("default-marker-size"));_.isNumber(p)&&p>=0?d[A].setAttribute("r",p):d[A].setAttribute("r",0)}}}]),Be}(),en=function(){function Be(d){c(this,Be),this.w=d.w;var A=this.w;this.ttCtx=d,this.isVerticalGroupedRangeBar=!A.globals.isBarHorizontal&&A.config.chart.type==="rangeBar"&&A.config.plotOptions.bar.rangeBarGroupRows}return C(Be,[{key:"getAttr",value:function(d,A){return parseFloat(d.target.getAttribute(A))}},{key:"handleHeatTreeTooltip",value:function(d){var A=d.e,p=d.opt,I=d.x,w=d.y,k=d.type,Z=this.ttCtx,E=this.w;if(A.target.classList.contains("apexcharts-".concat(k,"-rect"))){var D=this.getAttr(A,"i"),Y=this.getAttr(A,"j"),U=this.getAttr(A,"cx"),z=this.getAttr(A,"cy"),te=this.getAttr(A,"width"),ae=this.getAttr(A,"height");if(Z.tooltipLabels.drawSeriesTexts({ttItems:p.ttItems,i:D,j:Y,shared:!1,e:A}),E.globals.capturedSeriesIndex=D,E.globals.capturedDataPointIndex=Y,I=U+Z.tooltipRect.ttWidth/2+te,w=z+Z.tooltipRect.ttHeight/2-ae/2,Z.tooltipPosition.moveXCrosshairs(U+te/2),I>E.globals.gridWidth/2&&(I=U-Z.tooltipRect.ttWidth/2+te),Z.w.config.tooltip.followCursor){var ge=E.globals.dom.elWrap.getBoundingClientRect();I=E.globals.clientX-ge.left-(I>E.globals.gridWidth/2?Z.tooltipRect.ttWidth:0),w=E.globals.clientY-ge.top-(w>E.globals.gridHeight/2?Z.tooltipRect.ttHeight:0)}}return{x:I,y:w}}},{key:"handleMarkerTooltip",value:function(d){var A,p,I=d.e,w=d.opt,k=d.x,Z=d.y,E=this.w,D=this.ttCtx;if(I.target.classList.contains("apexcharts-marker")){var Y=parseInt(w.paths.getAttribute("cx"),10),U=parseInt(w.paths.getAttribute("cy"),10),z=parseFloat(w.paths.getAttribute("val"));if(p=parseInt(w.paths.getAttribute("rel"),10),A=parseInt(w.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,D.intersect){var te=_.findAncestor(w.paths,"apexcharts-series");te&&(A=parseInt(te.getAttribute("data:realIndex"),10))}if(D.tooltipLabels.drawSeriesTexts({ttItems:w.ttItems,i:A,j:p,shared:!D.showOnIntersect&&E.config.tooltip.shared,e:I}),I.type==="mouseup"&&D.markerClick(I,A,p),E.globals.capturedSeriesIndex=A,E.globals.capturedDataPointIndex=p,k=Y,Z=U+E.globals.translateY-1.4*D.tooltipRect.ttHeight,D.w.config.tooltip.followCursor){var ae=D.getElGrid().getBoundingClientRect();Z=D.e.clientY+E.globals.translateY-ae.top}z<0&&(Z=U),D.marker.enlargeCurrentPoint(p,w.paths,k,Z)}return{x:k,y:Z}}},{key:"handleBarTooltip",value:function(d){var A,p,I=d.e,w=d.opt,k=this.w,Z=this.ttCtx,E=Z.getElTooltip(),D=0,Y=0,U=0,z=this.getBarTooltipXY({e:I,opt:w});A=z.i;var te=z.barHeight,ae=z.j;k.globals.capturedSeriesIndex=A,k.globals.capturedDataPointIndex=ae,k.globals.isBarHorizontal&&Z.tooltipUtil.hasBars()||!k.config.tooltip.shared?(Y=z.x,U=z.y,p=Array.isArray(k.config.stroke.width)?k.config.stroke.width[A]:k.config.stroke.width,D=Y):k.globals.comboCharts||k.config.tooltip.shared||(D/=2),isNaN(U)&&(U=k.globals.svgHeight-Z.tooltipRect.ttHeight);var ge=parseInt(w.paths.parentNode.getAttribute("data:realIndex"),10),Ce=k.globals.isMultipleYAxis?k.config.yaxis[ge]&&k.config.yaxis[ge].reversed:k.config.yaxis[0].reversed;if(Y+Z.tooltipRect.ttWidth>k.globals.gridWidth&&!Ce?Y-=Z.tooltipRect.ttWidth:Y<0&&(Y=0),Z.w.config.tooltip.followCursor){var we=Z.getElGrid().getBoundingClientRect();U=Z.e.clientY-we.top}Z.tooltip===null&&(Z.tooltip=k.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),k.config.tooltip.shared||(k.globals.comboBarCount>0?Z.tooltipPosition.moveXCrosshairs(D+p/2):Z.tooltipPosition.moveXCrosshairs(D)),!Z.fixedTooltip&&(!k.config.tooltip.shared||k.globals.isBarHorizontal&&Z.tooltipUtil.hasBars())&&(Ce&&(Y-=Z.tooltipRect.ttWidth)<0&&(Y=0),!Ce||k.globals.isBarHorizontal&&Z.tooltipUtil.hasBars()||(U=U+te-2*(k.globals.series[A][ae]<0?te:0)),U=U+k.globals.translateY-Z.tooltipRect.ttHeight/2,E.style.left=Y+k.globals.translateX+"px",E.style.top=U+"px")}},{key:"getBarTooltipXY",value:function(d){var A=this,p=d.e,I=d.opt,w=this.w,k=null,Z=this.ttCtx,E=0,D=0,Y=0,U=0,z=0,te=p.target.classList;if(te.contains("apexcharts-bar-area")||te.contains("apexcharts-candlestick-area")||te.contains("apexcharts-boxPlot-area")||te.contains("apexcharts-rangebar-area")){var ae=p.target,ge=ae.getBoundingClientRect(),Ce=I.elGrid.getBoundingClientRect(),we=ge.height;z=ge.height;var ke=ge.width,T=parseInt(ae.getAttribute("cx"),10),q=parseInt(ae.getAttribute("cy"),10);U=parseFloat(ae.getAttribute("barWidth"));var Ae=p.type==="touchmove"?p.touches[0].clientX:p.clientX;k=parseInt(ae.getAttribute("j"),10),E=parseInt(ae.parentNode.getAttribute("rel"),10)-1;var Se=ae.getAttribute("data-range-y1"),Ze=ae.getAttribute("data-range-y2");w.globals.comboCharts&&(E=parseInt(ae.parentNode.getAttribute("data:realIndex"),10));var Te=function(Oe){return w.globals.isXNumeric?T-ke/2:A.isVerticalGroupedRangeBar?T+ke/2:T-Z.dataPointsDividedWidth+ke/2},Qe=function(){return q-Z.dataPointsDividedHeight+we/2-Z.tooltipRect.ttHeight/2};Z.tooltipLabels.drawSeriesTexts({ttItems:I.ttItems,i:E,j:k,y1:Se?parseInt(Se,10):null,y2:Ze?parseInt(Ze,10):null,shared:!Z.showOnIntersect&&w.config.tooltip.shared,e:p}),w.config.tooltip.followCursor?w.globals.isBarHorizontal?(D=Ae-Ce.left+15,Y=Qe()):(D=Te(),Y=p.clientY-Ce.top-Z.tooltipRect.ttHeight/2-15):w.globals.isBarHorizontal?((D=T)<Z.xyRatios.baseLineInvertedY&&(D=T-Z.tooltipRect.ttWidth),Y=Qe()):(D=Te(),Y=q)}return{x:D,y:Y,barHeight:z,barWidth:U,i:E,j:k}}}]),Be}(),Qt=function(){function Be(d){c(this,Be),this.w=d.w,this.ttCtx=d}return C(Be,[{key:"drawXaxisTooltip",value:function(){var d=this.w,A=this.ttCtx,p=d.config.xaxis.position==="bottom";A.xaxisOffY=p?d.globals.gridHeight+1:-d.globals.xAxisHeight-d.config.xaxis.axisTicks.height+3;var I=p?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",w=d.globals.dom.elWrap;A.isXAxisTooltipEnabled&&d.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(A.xaxisTooltip=document.createElement("div"),A.xaxisTooltip.setAttribute("class",I+" apexcharts-theme-"+d.config.tooltip.theme),w.appendChild(A.xaxisTooltip),A.xaxisTooltipText=document.createElement("div"),A.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),A.xaxisTooltipText.style.fontFamily=d.config.xaxis.tooltip.style.fontFamily||d.config.chart.fontFamily,A.xaxisTooltipText.style.fontSize=d.config.xaxis.tooltip.style.fontSize,A.xaxisTooltip.appendChild(A.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var d=this.w,A=this.ttCtx,p=0;p<d.config.yaxis.length;p++){var I=d.config.yaxis[p].opposite||d.config.yaxis[p].crosshairs.opposite;A.yaxisOffX=I?d.globals.gridWidth+1:1;var w="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(p,I?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),k=d.globals.dom.elWrap;d.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(p))===null&&(A.yaxisTooltip=document.createElement("div"),A.yaxisTooltip.setAttribute("class",w+" apexcharts-theme-"+d.config.tooltip.theme),k.appendChild(A.yaxisTooltip),p===0&&(A.yaxisTooltipText=[]),A.yaxisTooltipText[p]=document.createElement("div"),A.yaxisTooltipText[p].classList.add("apexcharts-yaxistooltip-text"),A.yaxisTooltip.appendChild(A.yaxisTooltipText[p]))}}},{key:"setXCrosshairWidth",value:function(){var d=this.w,A=this.ttCtx,p=A.getElXCrosshairs();if(A.xcrosshairsWidth=parseInt(d.config.xaxis.crosshairs.width,10),d.globals.comboCharts){var I=d.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(I!==null&&d.config.xaxis.crosshairs.width==="barWidth"){var w=parseFloat(I.getAttribute("barWidth"));A.xcrosshairsWidth=w}else if(d.config.xaxis.crosshairs.width==="tickWidth"){var k=d.globals.labels.length;A.xcrosshairsWidth=d.globals.gridWidth/k}}else if(d.config.xaxis.crosshairs.width==="tickWidth"){var Z=d.globals.labels.length;A.xcrosshairsWidth=d.globals.gridWidth/Z}else if(d.config.xaxis.crosshairs.width==="barWidth"){var E=d.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(E!==null){var D=parseFloat(E.getAttribute("barWidth"));A.xcrosshairsWidth=D}else A.xcrosshairsWidth=1}d.globals.isBarHorizontal&&(A.xcrosshairsWidth=0),p!==null&&A.xcrosshairsWidth>0&&p.setAttribute("width",A.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var d=this.w,A=this.ttCtx;A.ycrosshairs=d.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),A.ycrosshairsHidden=d.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(d,A,p){var I=this.ttCtx,w=this.w,k=w.globals,Z=k.seriesYAxisMap[d];if(I.yaxisTooltips[d]&&Z.length>0){var E=k.yLabelFormatters[d],D=I.getElGrid().getBoundingClientRect(),Y=Z[0];p.yRatio.length>1&&function(ae){throw new TypeError('"'+ae+'" is read-only')}("translationsIndex");var U=(A-D.top)*p.yRatio[0],z=k.maxYArr[Y]-k.minYArr[Y],te=k.minYArr[Y]+(z-U);w.config.yaxis[d].reversed&&(te=k.maxYArr[Y]-(z-U)),I.tooltipPosition.moveYCrosshairs(A-D.top),I.yaxisTooltipText[d].innerHTML=E(te),I.tooltipPosition.moveYAxisTooltip(d)}}}]),Be}(),xn=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w;var A=this.w;this.tConfig=A.config.tooltip,this.tooltipUtil=new Dt(this),this.tooltipLabels=new Zt(this),this.tooltipPosition=new Ct(this),this.marker=new Kt(this),this.intersect=new en(this),this.axesTooltip=new Qt(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!A.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return C(Be,[{key:"getElTooltip",value:function(d){return d||(d=this),d.w.globals.dom.baseEl?d.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(d){var A=this.w;this.xyRatios=d,this.isXAxisTooltipEnabled=A.config.xaxis.tooltip.enabled&&A.globals.axisCharts,this.yaxisTooltips=A.config.yaxis.map(function(k,Z){return!!(k.show&&k.tooltip.enabled&&A.globals.axisCharts)}),this.allTooltipSeriesGroups=[],A.globals.axisCharts||(this.showTooltipTitle=!1);var p=document.createElement("div");if(p.classList.add("apexcharts-tooltip"),A.config.tooltip.cssClass&&p.classList.add(A.config.tooltip.cssClass),p.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),A.globals.dom.elWrap.appendChild(p),A.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var I=new At(this.ctx);this.xAxisTicksPositions=I.getXAxisTicksPositions()}if(!A.globals.comboCharts&&!this.tConfig.intersect&&A.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),A.config.markers.size!==0&&A.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),A.globals.collapsedSeries.length!==A.globals.series.length){this.dataPointsDividedHeight=A.globals.gridHeight/A.globals.dataPoints,this.dataPointsDividedWidth=A.globals.gridWidth/A.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||A.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,p.appendChild(this.tooltipTitle));var w=A.globals.series.length;(A.globals.xyCharts||A.globals.comboCharts)&&this.tConfig.shared&&(w=this.showOnIntersect?1:A.globals.series.length),this.legendLabels=A.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(w),this.addSVGEvents()}}},{key:"createTTElements",value:function(d){for(var A=this,p=this.w,I=[],w=this.getElTooltip(),k=function(E){var D=document.createElement("div");D.classList.add("apexcharts-tooltip-series-group"),D.style.order=p.config.tooltip.inverseOrder?d-E:E+1,A.tConfig.shared&&A.tConfig.enabledOnSeries&&Array.isArray(A.tConfig.enabledOnSeries)&&A.tConfig.enabledOnSeries.indexOf(E)<0&&D.classList.add("apexcharts-tooltip-series-group-hidden");var Y=document.createElement("span");Y.classList.add("apexcharts-tooltip-marker"),Y.style.backgroundColor=p.globals.colors[E],D.appendChild(Y);var U=document.createElement("div");U.classList.add("apexcharts-tooltip-text"),U.style.fontFamily=A.tConfig.style.fontFamily||p.config.chart.fontFamily,U.style.fontSize=A.tConfig.style.fontSize,["y","goals","z"].forEach(function(z){var te=document.createElement("div");te.classList.add("apexcharts-tooltip-".concat(z,"-group"));var ae=document.createElement("span");ae.classList.add("apexcharts-tooltip-text-".concat(z,"-label")),te.appendChild(ae);var ge=document.createElement("span");ge.classList.add("apexcharts-tooltip-text-".concat(z,"-value")),te.appendChild(ge),U.appendChild(te)}),D.appendChild(U),w.appendChild(D),I.push(D)},Z=0;Z<d;Z++)k(Z);return I}},{key:"addSVGEvents",value:function(){var d=this.w,A=d.config.chart.type,p=this.getElTooltip(),I=!(A!=="bar"&&A!=="candlestick"&&A!=="boxPlot"&&A!=="rangeBar"),w=A==="area"||A==="line"||A==="scatter"||A==="bubble"||A==="radar",k=d.globals.dom.Paper.node,Z=this.getElGrid();Z&&(this.seriesBound=Z.getBoundingClientRect());var E,D=[],Y=[],U={hoverArea:k,elGrid:Z,tooltipEl:p,tooltipY:D,tooltipX:Y,ttItems:this.ttItems};if(d.globals.axisCharts&&(w?E=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):I?E=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):A!=="heatmap"&&A!=="treemap"||(E=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),E&&E.length))for(var z=0;z<E.length;z++)D.push(E[z].getAttribute("cy")),Y.push(E[z].getAttribute("cx"));if(d.globals.xyCharts&&!this.showOnIntersect||d.globals.comboCharts&&!this.showOnIntersect||I&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([k],U);else if(I&&!d.globals.comboCharts||w&&this.showOnIntersect)this.addDatapointEventsListeners(U);else if(!d.globals.axisCharts||A==="heatmap"||A==="treemap"){var te=d.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(te,U)}if(this.showOnIntersect){var ae=d.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");ae.length>0&&this.addPathsEventListeners(ae,U),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(U)}}},{key:"drawFixedTooltipRect",value:function(){var d=this.w,A=this.getElTooltip(),p=A.getBoundingClientRect(),I=p.width+10,w=p.height+10,k=this.tConfig.fixed.offsetX,Z=this.tConfig.fixed.offsetY,E=this.tConfig.fixed.position.toLowerCase();return E.indexOf("right")>-1&&(k=k+d.globals.svgWidth-I+10),E.indexOf("bottom")>-1&&(Z=Z+d.globals.svgHeight-w-10),A.style.left=k+"px",A.style.top=Z+"px",{x:k,y:Z,ttWidth:I,ttHeight:w}}},{key:"addDatapointEventsListeners",value:function(d){var A=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(A,d)}},{key:"addPathsEventListeners",value:function(d,A){for(var p=this,I=function(k){var Z={paths:d[k],tooltipEl:A.tooltipEl,tooltipY:A.tooltipY,tooltipX:A.tooltipX,elGrid:A.elGrid,hoverArea:A.hoverArea,ttItems:A.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(E){return d[k].addEventListener(E,p.onSeriesHover.bind(p,Z),{capture:!1,passive:!0})})},w=0;w<d.length;w++)I(w)}},{key:"onSeriesHover",value:function(d,A){var p=this,I=Date.now()-this.lastHoverTime;I>=100?this.seriesHover(d,A):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){p.seriesHover(d,A)},100-I))}},{key:"seriesHover",value:function(d,A){var p=this;this.lastHoverTime=Date.now();var I=[],w=this.w;w.config.chart.group&&(I=this.ctx.getGroupedCharts()),w.globals.axisCharts&&(w.globals.minX===-1/0&&w.globals.maxX===1/0||w.globals.dataPoints===0)||(I.length?I.forEach(function(k){var Z=p.getElTooltip(k),E={paths:d.paths,tooltipEl:Z,tooltipY:d.tooltipY,tooltipX:d.tooltipX,elGrid:d.elGrid,hoverArea:d.hoverArea,ttItems:k.w.globals.tooltip.ttItems};k.w.globals.minX===p.w.globals.minX&&k.w.globals.maxX===p.w.globals.maxX&&k.w.globals.tooltip.seriesHoverByContext({chartCtx:k,ttCtx:k.w.globals.tooltip,opt:E,e:A})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:d,e:A}))}},{key:"seriesHoverByContext",value:function(d){var A=d.chartCtx,p=d.ttCtx,I=d.opt,w=d.e,k=A.w,Z=this.getElTooltip();Z&&(p.tooltipRect={x:0,y:0,ttWidth:Z.getBoundingClientRect().width,ttHeight:Z.getBoundingClientRect().height},p.e=w,p.tooltipUtil.hasBars()&&!k.globals.comboCharts&&!p.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ue(A).toggleSeriesOnHover(w,w.target.parentNode),p.fixedTooltip&&p.drawFixedTooltipRect(),k.globals.axisCharts?p.axisChartsTooltips({e:w,opt:I,tooltipRect:p.tooltipRect}):p.nonAxisChartsTooltips({e:w,opt:I,tooltipRect:p.tooltipRect}))}},{key:"axisChartsTooltips",value:function(d){var A,p,I=d.e,w=d.opt,k=this.w,Z=w.elGrid.getBoundingClientRect(),E=I.type==="touchmove"?I.touches[0].clientX:I.clientX,D=I.type==="touchmove"?I.touches[0].clientY:I.clientY;if(this.clientY=D,this.clientX=E,k.globals.capturedSeriesIndex=-1,k.globals.capturedDataPointIndex=-1,D<Z.top||D>Z.top+Z.height)this.handleMouseOut(w);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!k.config.tooltip.shared){var Y=parseInt(w.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(Y)<0)return void this.handleMouseOut(w)}var U=this.getElTooltip(),z=this.getElXCrosshairs(),te=k.globals.xyCharts||k.config.chart.type==="bar"&&!k.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||k.globals.comboCharts&&this.tooltipUtil.hasBars();if(I.type==="mousemove"||I.type==="touchmove"||I.type==="mouseup"){if(k.globals.collapsedSeries.length+k.globals.ancillaryCollapsedSeries.length===k.globals.series.length)return;z!==null&&z.classList.add("apexcharts-active");var ae=this.yaxisTooltips.filter(function(we){return we===!0});if(this.ycrosshairs!==null&&ae.length&&this.ycrosshairs.classList.add("apexcharts-active"),te&&!this.showOnIntersect)this.handleStickyTooltip(I,E,D,w);else if(k.config.chart.type==="heatmap"||k.config.chart.type==="treemap"){var ge=this.intersect.handleHeatTreeTooltip({e:I,opt:w,x:A,y:p,type:k.config.chart.type});A=ge.x,p=ge.y,U.style.left=A+"px",U.style.top=p+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:I,opt:w}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:I,opt:w,x:A,y:p});if(this.yaxisTooltips.length)for(var Ce=0;Ce<k.config.yaxis.length;Ce++)this.axesTooltip.drawYaxisTooltipText(Ce,D,this.xyRatios);w.tooltipEl.classList.add("apexcharts-active")}else I.type!=="mouseout"&&I.type!=="touchend"||this.handleMouseOut(w)}}},{key:"nonAxisChartsTooltips",value:function(d){var A=d.e,p=d.opt,I=d.tooltipRect,w=this.w,k=p.paths.getAttribute("rel"),Z=this.getElTooltip(),E=w.globals.dom.elWrap.getBoundingClientRect();if(A.type==="mousemove"||A.type==="touchmove"){Z.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:p.ttItems,i:parseInt(k,10)-1,shared:!1});var D=w.globals.clientX-E.left-I.ttWidth/2,Y=w.globals.clientY-E.top-I.ttHeight-10;if(Z.style.left=D+"px",Z.style.top=Y+"px",w.config.legend.tooltipHoverFormatter){var U=k-1,z=(0,w.config.legend.tooltipHoverFormatter)(this.legendLabels[U].getAttribute("data:default-text"),{seriesIndex:U,dataPointIndex:U,w});this.legendLabels[U].innerHTML=z}}else A.type!=="mouseout"&&A.type!=="touchend"||(Z.classList.remove("apexcharts-active"),w.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(te){var ae=te.getAttribute("data:default-text");te.innerHTML=decodeURIComponent(ae)}))}},{key:"handleStickyTooltip",value:function(d,A,p,I){var w=this.w,k=this.tooltipUtil.getNearestValues({context:this,hoverArea:I.hoverArea,elGrid:I.elGrid,clientX:A,clientY:p}),Z=k.j,E=k.capturedSeries;w.globals.collapsedSeriesIndices.includes(E)&&(E=null);var D=I.elGrid.getBoundingClientRect();if(k.hoverX<0||k.hoverX>D.width)this.handleMouseOut(I);else if(E!==null)this.handleStickyCapturedSeries(d,E,I,Z);else if(this.tooltipUtil.isXoverlap(Z)||w.globals.isBarHorizontal){var Y=w.globals.series.findIndex(function(U,z){return!w.globals.collapsedSeriesIndices.includes(z)});this.create(d,this,Y,Z,I.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(d,A,p,I){var w=this.w;if(!this.tConfig.shared&&w.globals.series[A][I]===null)return void this.handleMouseOut(p);if(w.globals.series[A][I]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(I)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(d,this,A,I,p.ttItems):this.create(d,this,A,I,p.ttItems,!1);else if(this.tooltipUtil.isXoverlap(I)){var k=w.globals.series.findIndex(function(Z,E){return!w.globals.collapsedSeriesIndices.includes(E)});this.create(d,this,k,I,p.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var d=this.w,A=new j(this.ctx),p=d.globals.dom.Paper.select(".apexcharts-bar-area"),I=0;I<p.length;I++)A.pathMouseLeave(p[I])}},{key:"handleMouseOut",value:function(d){var A=this.w,p=this.getElXCrosshairs();if(d.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),A.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),p!==null&&p.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=A.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var I=0;I<this.yaxisTTEls.length;I++)this.yaxisTTEls[I].classList.remove("apexcharts-active")}A.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(w){var k=w.getAttribute("data:default-text");w.innerHTML=decodeURIComponent(k)})}},{key:"markerClick",value:function(d,A,p){var I=this.w;typeof I.config.chart.events.markerClick=="function"&&I.config.chart.events.markerClick(d,this.ctx,{seriesIndex:A,dataPointIndex:p,w:I}),this.ctx.events.fireEvent("markerClick",[d,this.ctx,{seriesIndex:A,dataPointIndex:p,w:I}])}},{key:"create",value:function(d,A,p,I,w){var k,Z,E,D,Y,U,z,te,ae,ge,Ce,we,ke,T,q,Ae,Se=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,Ze=this.w,Te=A;d.type==="mouseup"&&this.markerClick(d,p,I),Se===null&&(Se=this.tConfig.shared);var Qe=this.tooltipUtil.hasMarkers(p),Oe=this.tooltipUtil.getElBars();if(Ze.config.legend.tooltipHoverFormatter){var ut=Ze.config.legend.tooltipHoverFormatter,Gt=Array.from(this.legendLabels);Gt.forEach(function(Ri){var jn=Ri.getAttribute("data:default-text");Ri.innerHTML=decodeURIComponent(jn)});for(var dt=0;dt<Gt.length;dt++){var Et=Gt[dt],Ot=parseInt(Et.getAttribute("i"),10),an=decodeURIComponent(Et.getAttribute("data:default-text")),hn=ut(an,{seriesIndex:Se?Ot:p,dataPointIndex:I,w:Ze});if(Se)Et.innerHTML=Ze.globals.collapsedSeriesIndices.indexOf(Ot)<0?hn:an;else if(Et.innerHTML=Ot===p?hn:an,p===Ot)break}}var In=o(o({ttItems:w,i:p,j:I},((k=Ze.globals.seriesRange)===null||k===void 0||(Z=k[p])===null||Z===void 0||(E=Z[I])===null||E===void 0||(D=E.y[0])===null||D===void 0?void 0:D.y1)!==void 0&&{y1:(Y=Ze.globals.seriesRange)===null||Y===void 0||(U=Y[p])===null||U===void 0||(z=U[I])===null||z===void 0||(te=z.y[0])===null||te===void 0?void 0:te.y1}),((ae=Ze.globals.seriesRange)===null||ae===void 0||(ge=ae[p])===null||ge===void 0||(Ce=ge[I])===null||Ce===void 0||(we=Ce.y[0])===null||we===void 0?void 0:we.y2)!==void 0&&{y2:(ke=Ze.globals.seriesRange)===null||ke===void 0||(T=ke[p])===null||T===void 0||(q=T[I])===null||q===void 0||(Ae=q.y[0])===null||Ae===void 0?void 0:Ae.y2});if(Se){if(Te.tooltipLabels.drawSeriesTexts(o(o({},In),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),Qe)Ze.globals.markers.largestSize>0?Te.marker.enlargePoints(I):Te.tooltipPosition.moveDynamicPointsOnHover(I);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(Oe),this.barSeriesHeight>0)){var bn=new j(this.ctx),kn=Ze.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(I,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(I,p);for(var En=0;En<kn.length;En++)bn.pathMouseEnter(kn[En])}}else Te.tooltipLabels.drawSeriesTexts(o({shared:!1},In)),this.tooltipUtil.hasBars()&&Te.tooltipPosition.moveStickyTooltipOverBars(I,p),Qe&&Te.tooltipPosition.moveMarkers(p,I)}}]),Be}(),Gn=function(){function Be(d){c(this,Be),this.w=d.w,this.barCtx=d,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return C(Be,[{key:"handleBarDataLabels",value:function(d){var A,p,I=d.x,w=d.y,k=d.y1,Z=d.y2,E=d.i,D=d.j,Y=d.realIndex,U=d.columnGroupIndex,z=d.series,te=d.barHeight,ae=d.barWidth,ge=d.barXPosition,Ce=d.barYPosition,we=d.visibleSeries,ke=d.renderedPath,T=this.w,q=new j(this.barCtx.ctx),Ae=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[Y]:this.barCtx.strokeWidth;T.globals.isXNumeric&&!T.globals.isBarHorizontal?(A=I+parseFloat(ae*(we+1)),p=w+parseFloat(te*(we+1))-Ae):(A=I+parseFloat(ae*we),p=w+parseFloat(te*we));var Se,Ze=null,Te=I,Qe=w,Oe={},ut=T.config.dataLabels,Gt=this.barCtx.barOptions.dataLabels,dt=this.barCtx.barOptions.dataLabels.total;Ce!==void 0&&this.barCtx.isRangeBar&&(p=Ce,Qe=Ce),ge!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(A=ge,Te=ge);var Et=ut.offsetX,Ot=ut.offsetY,an={width:0,height:0};if(T.config.dataLabels.enabled){var hn=this.barCtx.series[E][D];an=q.getTextRects(T.globals.yLabelFormatters[0](hn),parseFloat(ut.style.fontSize))}var In={x:I,y:w,i:E,j:D,realIndex:Y,columnGroupIndex:U,renderedPath:ke,bcx:A,bcy:p,barHeight:te,barWidth:ae,textRects:an,strokeWidth:Ae,dataLabelsX:Te,dataLabelsY:Qe,dataLabelsConfig:ut,barDataLabelsConfig:Gt,barTotalDataLabelsConfig:dt,offX:Et,offY:Ot};return Oe=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(In):this.calculateColumnsDataLabelsPosition(In),ke.attr({cy:Oe.bcy,cx:Oe.bcx,j:D,val:z[E][D],barHeight:te,barWidth:ae}),Se=this.drawCalculatedDataLabels({x:Oe.dataLabelsX,y:Oe.dataLabelsY,val:this.barCtx.isRangeBar?[k,Z]:z[E][D],i:Y,j:D,barWidth:ae,barHeight:te,textRects:an,dataLabelsConfig:ut}),T.config.chart.stacked&&dt.enabled&&(Ze=this.drawTotalDataLabels({x:Oe.totalDataLabelsX,y:Oe.totalDataLabelsY,barWidth:ae,barHeight:te,realIndex:Y,textAnchor:Oe.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:Y,j:D}),dataLabelsConfig:ut,barTotalDataLabelsConfig:dt})),{dataLabels:Se,totalDataLabels:Ze}}},{key:"getStackedTotalDataLabel",value:function(d){var A=d.realIndex,p=d.j,I=this.w,w=this.barCtx.stackedSeriesTotals[p];return this.totalFormatter&&(w=this.totalFormatter(w,o(o({},I),{},{seriesIndex:A,dataPointIndex:p,w:I}))),w}},{key:"calculateColumnsDataLabelsPosition",value:function(d){var A,p,I=this.w,w=d.i,k=d.j,Z=d.realIndex,E=d.columnGroupIndex,D=d.y,Y=d.bcx,U=d.barWidth,z=d.barHeight,te=d.textRects,ae=d.dataLabelsX,ge=d.dataLabelsY,Ce=d.dataLabelsConfig,we=d.barDataLabelsConfig,ke=d.barTotalDataLabelsConfig,T=d.strokeWidth,q=d.offX,Ae=d.offY,Se=Y;z=Math.abs(z);var Ze=I.config.plotOptions.bar.dataLabels.orientation==="vertical",Te=this.barCtx.barHelpers.getZeroValueEncounters({i:w,j:k}).zeroEncounters;Y=Y-T/2+E*U;var Qe=I.globals.gridWidth/I.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?ae+=U/2:(ae=I.globals.isXNumeric?Y-U/2+q:Y-Qe+U/2+q,Te>0&&I.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(ae-=U*Te)),Ze&&(ae=ae+te.height/2-T/2-2);var Oe=this.barCtx.series[w][k]<0,ut=D;switch(this.barCtx.isReversed&&(ut=D+(Oe?z:-z),D-=z),we.position){case"center":ge=Ze?Oe?ut-z/2+Ae:ut+z/2-Ae:Oe?ut-z/2+te.height/2+Ae:ut+z/2+te.height/2-Ae;break;case"bottom":ge=Ze?Oe?ut-z+Ae:ut+z-Ae:Oe?ut-z+te.height+T+Ae:ut+z-te.height/2+T-Ae;break;case"top":ge=Ze?Oe?ut+Ae:ut-Ae:Oe?ut-te.height/2-Ae:ut+te.height+Ae}if(this.barCtx.lastActiveBarSerieIndex===Z&&ke.enabled){var Gt=new j(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:Z,j:k}),Ce.fontSize);A=Oe?ut-Gt.height/2-Ae-ke.offsetY+18:ut+Gt.height+Ae+ke.offsetY-18,p=Se+(I.globals.isXNumeric?U*(I.globals.barGroups.length-1)-U/2:-(U*I.globals.barGroups.length-U/2-2*T))+ke.offsetX}return I.config.chart.stacked||(ge<0?ge=0+T:ge+te.height/3>I.globals.gridHeight&&(ge=I.globals.gridHeight-T)),{bcx:Y,bcy:D,dataLabelsX:ae,dataLabelsY:ge,totalDataLabelsX:p,totalDataLabelsY:A,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(d){var A=this.w,p=d.x,I=d.i,w=d.j,k=d.realIndex,Z=d.columnGroupIndex,E=d.bcy,D=d.barHeight,Y=d.barWidth,U=d.textRects,z=d.dataLabelsX,te=d.strokeWidth,ae=d.dataLabelsConfig,ge=d.barDataLabelsConfig,Ce=d.barTotalDataLabelsConfig,we=d.offX,ke=d.offY,T=A.globals.gridHeight/A.globals.dataPoints;Y=Math.abs(Y);var q,Ae,Se=(E+=Z*D)-(this.barCtx.isRangeBar?0:T)+D/2+U.height/2+ke-3,Ze="start",Te=this.barCtx.series[I][w]<0,Qe=p;switch(this.barCtx.isReversed&&(Qe=p+(Te?-Y:Y),p=A.globals.gridWidth-Y,Ze=Te?"start":"end"),ge.position){case"center":z=Te?Qe+Y/2-we:Math.max(U.width/2,Qe-Y/2)+we;break;case"bottom":z=Te?Qe+Y-te-Math.round(U.width/2)-we:Qe-Y+te+Math.round(U.width/2)+we;break;case"top":z=Te?Qe-te+Math.round(U.width/2)-we:Qe-te-Math.round(U.width/2)+we}if(this.barCtx.lastActiveBarSerieIndex===k&&Ce.enabled){var Oe=new j(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:k,j:w}),ae.fontSize);Te?(q=Qe-te-we-Ce.offsetX,Ze="end"):q=Qe+we+Ce.offsetX+(this.barCtx.isReversed?-(Y+te):te),Ae=Se-U.height/2+Oe.height/2+Ce.offsetY+te}return A.config.chart.stacked||(z<0?z=z+U.width+te:z+U.width/2>A.globals.gridWidth&&(z=A.globals.gridWidth-U.width-te)),{bcx:p,bcy:E,dataLabelsX:z,dataLabelsY:Se,totalDataLabelsX:q,totalDataLabelsY:Ae,totalDataLabelsAnchor:Ze}}},{key:"drawCalculatedDataLabels",value:function(d){var A=d.x,p=d.y,I=d.val,w=d.i,k=d.j,Z=d.textRects,E=d.barHeight,D=d.barWidth,Y=d.dataLabelsConfig,U=this.w,z="rotate(0)";U.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(z="rotate(-90, ".concat(A,", ").concat(p,")"));var te=new We(this.barCtx.ctx),ae=new j(this.barCtx.ctx),ge=Y.formatter,Ce=null,we=U.globals.collapsedSeriesIndices.indexOf(w)>-1;if(Y.enabled&&!we){Ce=ae.group({class:"apexcharts-data-labels",transform:z});var ke="";I!==void 0&&(ke=ge(I,o(o({},U),{},{seriesIndex:w,dataPointIndex:k,w:U}))),!I&&U.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(ke="");var T=U.globals.series[w][k]<0,q=U.config.plotOptions.bar.dataLabels.position;U.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(q==="top"&&(Y.textAnchor=T?"end":"start"),q==="center"&&(Y.textAnchor="middle"),q==="bottom"&&(Y.textAnchor=T?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&D<ae.getTextRects(ke,parseFloat(Y.style.fontSize)).width&&(ke=""),U.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?Z.width/1.6>Math.abs(D)&&(ke=""):Z.height/1.6>Math.abs(E)&&(ke=""));var Ae=o({},Y);this.barCtx.isHorizontal&&I<0&&(Y.textAnchor==="start"?Ae.textAnchor="end":Y.textAnchor==="end"&&(Ae.textAnchor="start")),te.plotDataLabelsText({x:A,y:p,text:ke,i:w,j:k,parent:Ce,dataLabelsConfig:Ae,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return Ce}},{key:"drawTotalDataLabels",value:function(d){var A,p=d.x,I=d.y,w=d.val,k=d.barWidth,Z=d.barHeight,E=d.realIndex,D=d.textAnchor,Y=d.barTotalDataLabelsConfig,U=this.w,z=new j(this.barCtx.ctx);return Y.enabled&&p!==void 0&&I!==void 0&&this.barCtx.lastActiveBarSerieIndex===E&&(A=z.drawText({x:p-(!U.globals.isBarHorizontal&&U.globals.barGroups.length?k*(U.globals.barGroups.length-1)/2:0),y:I-(U.globals.isBarHorizontal&&U.globals.barGroups.length?Z*(U.globals.barGroups.length-1)/2:0),foreColor:Y.style.color,text:w,textAnchor:D,fontFamily:Y.style.fontFamily,fontSize:Y.style.fontSize,fontWeight:Y.style.fontWeight})),A}}]),Be}(),ci=function(){function Be(d){c(this,Be),this.w=d.w,this.barCtx=d}return C(Be,[{key:"initVariables",value:function(d){var A=this.w;this.barCtx.series=d,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var p=0;p<d.length;p++)if(d[p].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=d[p].length),A.globals.isXNumeric)for(var I=0;I<d[p].length;I++)A.globals.seriesX[p][I]>A.globals.minX&&A.globals.seriesX[p][I]<A.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=A.globals.dataPoints;this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],A.globals.comboCharts||this.checkZeroSeries({series:d})}},{key:"initialPositions",value:function(){var d,A,p,I,w,k,Z,E,D=this.w,Y=D.globals.dataPoints;this.barCtx.isRangeBar&&(Y=D.globals.labels.length);var U=this.barCtx.seriesLen;if(D.config.plotOptions.bar.rangeBarGroupRows&&(U=1),this.barCtx.isHorizontal)w=(p=D.globals.gridHeight/Y)/U,D.globals.isXNumeric&&(w=(p=D.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),w=w*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(w=parseInt(this.barCtx.barOptions.barHeight,10)),E=this.barCtx.baseLineInvertedY+D.globals.padHorizontal+(this.barCtx.isReversed?D.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(E=D.globals.gridWidth/2),A=(p-w*this.barCtx.seriesLen)/2;else{if(I=D.globals.gridWidth/this.barCtx.visibleItems,D.config.xaxis.convertedCatToNumeric&&(I=D.globals.gridWidth/D.globals.dataPoints),k=I/U*parseInt(this.barCtx.barOptions.columnWidth,10)/100,D.globals.isXNumeric){var z=this.barCtx.xRatio;D.globals.minXDiff&&D.globals.minXDiff!==.5&&D.globals.minXDiff/z>0&&(I=D.globals.minXDiff/z),(k=I/U*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(k=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(k=parseInt(this.barCtx.barOptions.columnWidth,10)),Z=D.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?D.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),d=D.globals.padHorizontal+(I-k*this.barCtx.seriesLen)/2}return D.globals.barHeight=w,D.globals.barWidth=k,{x:d,y:A,yDivision:p,xDivision:I,barHeight:w,barWidth:k,zeroH:Z,zeroW:E}}},{key:"initializeStackedPrevVars",value:function(d){d.w.globals.seriesGroups.forEach(function(A){d[A]||(d[A]={}),d[A].prevY=[],d[A].prevX=[],d[A].prevYF=[],d[A].prevXF=[],d[A].prevYVal=[],d[A].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(d){d.w.globals.seriesGroups.forEach(function(A){d[A]||(d[A]={}),d[A].xArrj=[],d[A].xArrjF=[],d[A].xArrjVal=[],d[A].yArrj=[],d[A].yArrjF=[],d[A].yArrjVal=[]})}},{key:"getPathFillColor",value:function(d,A,p,I){var w,k,Z,E,D=this.w,Y=new _e(this.barCtx.ctx),U=null,z=this.barCtx.barOptions.distributed?p:A;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(te){d[A][p]>=te.from&&d[A][p]<=te.to&&(U=te.color)}),D.config.series[A].data[p]&&D.config.series[A].data[p].fillColor&&(U=D.config.series[A].data[p].fillColor),Y.fillPath({seriesNumber:this.barCtx.barOptions.distributed?z:I,dataPointIndex:p,color:U,value:d[A][p],fillConfig:(w=D.config.series[A].data[p])===null||w===void 0?void 0:w.fill,fillType:(k=D.config.series[A].data[p])!==null&&k!==void 0&&(Z=k.fill)!==null&&Z!==void 0&&Z.type?(E=D.config.series[A].data[p])===null||E===void 0?void 0:E.fill.type:Array.isArray(D.config.fill.type)?D.config.fill.type[A]:D.config.fill.type})}},{key:"getStrokeWidth",value:function(d,A,p){var I=0,w=this.w;return this.barCtx.series[d][A]===void 0||this.barCtx.series[d][A]===null?this.barCtx.isNullValue=!0:this.barCtx.isNullValue=!1,w.config.stroke.show&&(this.barCtx.isNullValue||(I=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[p]:this.barCtx.strokeWidth)),I}},{key:"shouldApplyRadius",value:function(d){var A=this.w,p=!1;return A.config.plotOptions.bar.borderRadius>0&&(A.config.chart.stacked&&A.config.plotOptions.bar.borderRadiusWhenStacked==="last"?this.barCtx.lastActiveBarSerieIndex===d&&(p=!0):p=!0),p}},{key:"barBackground",value:function(d){var A=d.j,p=d.i,I=d.x1,w=d.x2,k=d.y1,Z=d.y2,E=d.elSeries,D=this.w,Y=new j(this.barCtx.ctx),U=new Ue(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&U===p){A>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(A%=this.barCtx.barOptions.colors.backgroundBarColors.length);var z=this.barCtx.barOptions.colors.backgroundBarColors[A],te=Y.drawRect(I!==void 0?I:0,k!==void 0?k:0,w!==void 0?w:D.globals.gridWidth,Z!==void 0?Z:D.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,z,this.barCtx.barOptions.colors.backgroundBarOpacity);E.add(te),te.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(d){var A,p=d.barWidth,I=d.barXPosition,w=d.y1,k=d.y2,Z=d.strokeWidth,E=d.seriesGroup,D=d.realIndex,Y=d.i,U=d.j,z=d.w,te=new j(this.barCtx.ctx);(Z=Array.isArray(Z)?Z[D]:Z)||(Z=0);var ae=p,ge=I;(A=z.config.series[D].data[U])!==null&&A!==void 0&&A.columnWidthOffset&&(ge=I-z.config.series[D].data[U].columnWidthOffset/2,ae=p+z.config.series[D].data[U].columnWidthOffset);var Ce=Z/2,we=ge+Ce,ke=ge+ae-Ce;w+=.001-Ce,k+=.001+Ce;var T=te.move(we,w),q=te.move(we,w),Ae=te.line(ke,w);if(z.globals.previousPaths.length>0&&(q=this.barCtx.getPreviousPath(D,U,!1)),T=T+te.line(we,k)+te.line(ke,k)+te.line(ke,w)+(z.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),q=q+te.line(we,w)+Ae+Ae+Ae+Ae+Ae+te.line(we,w)+(z.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(D)&&(T=te.roundPathCorners(T,z.config.plotOptions.bar.borderRadius)),z.config.chart.stacked){var Se=this.barCtx;(Se=this.barCtx[E]).yArrj.push(k-Ce),Se.yArrjF.push(Math.abs(w-k+Z)),Se.yArrjVal.push(this.barCtx.series[Y][U])}return{pathTo:T,pathFrom:q}}},{key:"getBarpaths",value:function(d){var A,p=d.barYPosition,I=d.barHeight,w=d.x1,k=d.x2,Z=d.strokeWidth,E=d.seriesGroup,D=d.realIndex,Y=d.i,U=d.j,z=d.w,te=new j(this.barCtx.ctx);(Z=Array.isArray(Z)?Z[D]:Z)||(Z=0);var ae=p,ge=I;(A=z.config.series[D].data[U])!==null&&A!==void 0&&A.barHeightOffset&&(ae=p-z.config.series[D].data[U].barHeightOffset/2,ge=I+z.config.series[D].data[U].barHeightOffset);var Ce=Z/2,we=ae+Ce,ke=ae+ge-Ce;w+=.001-Ce,k+=.001+Ce;var T=te.move(w,we),q=te.move(w,we);z.globals.previousPaths.length>0&&(q=this.barCtx.getPreviousPath(D,U,!1));var Ae=te.line(w,ke);if(T=T+te.line(k,we)+te.line(k,ke)+Ae+(z.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),q=q+te.line(w,we)+Ae+Ae+Ae+Ae+Ae+te.line(w,we)+(z.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z"),this.shouldApplyRadius(D)&&(T=te.roundPathCorners(T,z.config.plotOptions.bar.borderRadius)),z.config.chart.stacked){var Se=this.barCtx;(Se=this.barCtx[E]).xArrj.push(k+Ce),Se.xArrjF.push(Math.abs(w-k)),Se.xArrjVal.push(this.barCtx.series[Y][U])}return{pathTo:T,pathFrom:q}}},{key:"checkZeroSeries",value:function(d){for(var A=d.series,p=this.w,I=0;I<A.length;I++){for(var w=0,k=0;k<A[p.globals.maxValsInArrayIndex].length;k++)w+=A[I][k];w===0&&this.barCtx.zeroSerieses.push(I)}}},{key:"getXForValue",value:function(d,A){var p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?A:null;return d!=null&&(p=A+d/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?d/this.barCtx.invertedYRatio:0)),p}},{key:"getYForValue",value:function(d,A,p){var I=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?A:null;return d!=null&&(I=A-d/this.barCtx.yRatio[p]+2*(this.barCtx.isReversed?d/this.barCtx.yRatio[p]:0)),I}},{key:"getGoalValues",value:function(d,A,p,I,w,k){var Z=this,E=this.w,D=[],Y=function(te,ae){var ge;D.push((m(ge={},d,d==="x"?Z.getXForValue(te,A,!1):Z.getYForValue(te,p,k,!1)),m(ge,"attrs",ae),ge))};if(E.globals.seriesGoals[I]&&E.globals.seriesGoals[I][w]&&Array.isArray(E.globals.seriesGoals[I][w])&&E.globals.seriesGoals[I][w].forEach(function(te){Y(te.value,te)}),this.barCtx.barOptions.isDumbbell&&E.globals.seriesRange.length){var U=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:E.globals.colors,z={strokeHeight:d==="x"?0:E.globals.markers.size[I],strokeWidth:d==="x"?E.globals.markers.size[I]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(U[I])?U[I][0]:U[I]};Y(E.globals.seriesRangeStart[I][w],z),Y(E.globals.seriesRangeEnd[I][w],o(o({},z),{},{strokeColor:Array.isArray(U[I])?U[I][1]:U[I]}))}return D}},{key:"drawGoalLine",value:function(d){var A=d.barXPosition,p=d.barYPosition,I=d.goalX,w=d.goalY,k=d.barWidth,Z=d.barHeight,E=new j(this.barCtx.ctx),D=E.group({className:"apexcharts-bar-goals-groups"});D.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:D.node}),D.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var Y=null;return this.barCtx.isHorizontal?Array.isArray(I)&&I.forEach(function(U){if(U.x>=-1&&U.x<=E.w.globals.gridWidth+1){var z=U.attrs.strokeHeight!==void 0?U.attrs.strokeHeight:Z/2,te=p+z+Z/2;Y=E.drawLine(U.x,te-2*z,U.x,te,U.attrs.strokeColor?U.attrs.strokeColor:void 0,U.attrs.strokeDashArray,U.attrs.strokeWidth?U.attrs.strokeWidth:2,U.attrs.strokeLineCap),D.add(Y)}}):Array.isArray(w)&&w.forEach(function(U){if(U.y>=-1&&U.y<=E.w.globals.gridHeight+1){var z=U.attrs.strokeWidth!==void 0?U.attrs.strokeWidth:k/2,te=A+z+k/2;Y=E.drawLine(te-2*z,U.y,te,U.y,U.attrs.strokeColor?U.attrs.strokeColor:void 0,U.attrs.strokeDashArray,U.attrs.strokeHeight?U.attrs.strokeHeight:2,U.attrs.strokeLineCap),D.add(Y)}}),D}},{key:"drawBarShadow",value:function(d){var A=d.prevPaths,p=d.currPaths,I=d.color,w=this.w,k=A.x,Z=A.x1,E=A.barYPosition,D=p.x,Y=p.x1,U=p.barYPosition,z=E+p.barHeight,te=new j(this.barCtx.ctx),ae=new _,ge=te.move(Z,z)+te.line(k,z)+te.line(D,U)+te.line(Y,U)+te.line(Z,z)+(w.config.plotOptions.bar.borderRadiusApplication==="around"?" Z":" z");return te.drawPath({d:ge,fill:ae.shadeColor(.5,_.rgb2hex(I)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(d){var A,p=d.i,I=d.j,w=this.w,k=0,Z=0;return(w.config.plotOptions.bar.horizontal?w.globals.series.map(function(E,D){return D}):((A=w.globals.columnSeries)===null||A===void 0?void 0:A.i.map(function(E){return E}))||[]).forEach(function(E){var D=w.globals.seriesPercent[E][I];D&&k++,E<p&&D===0&&Z++}),{nonZeroColumns:k,zeroEncounters:Z}}},{key:"getGroupIndex",value:function(d){var A=this.w,p=A.globals.seriesGroups.findIndex(function(k){return k.indexOf(A.globals.seriesNames[d])>-1}),I=this.barCtx.columnGroupIndices,w=I.indexOf(p);return w<0&&(I.push(p),w=I.length-1),{groupIndex:p,columnGroupIndex:w}}}]),Be}(),Qn=function(){function Be(d,A){c(this,Be),this.ctx=d,this.w=d.w;var p=this.w;this.barOptions=p.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=p.config.stroke.width,this.isNullValue=!1,this.isRangeBar=p.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!p.globals.isBarHorizontal&&p.globals.seriesRange.length&&p.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=A,this.xyRatios!==null&&(this.xRatio=A.xRatio,this.yRatio=A.yRatio,this.invertedXRatio=A.invertedXRatio,this.invertedYRatio=A.invertedYRatio,this.baseLineY=A.baseLineY,this.baseLineInvertedY=A.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var I=new Ue(this.ctx);this.lastActiveBarSerieIndex=I.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var w=I.getBarSeriesIndices(),k=new re(this.ctx);this.stackedSeriesTotals=k.getStackedSeriesTotals(this.w.config.series.map(function(Z,E){return w.indexOf(E)===-1?E:-1}).filter(function(Z){return Z!==-1})),this.barHelpers=new ci(this)}return C(Be,[{key:"draw",value:function(d,A){var p=this.w,I=new j(this.ctx),w=new re(this.ctx,p);d=w.getLogSeries(d),this.series=d,this.yRatio=w.getLogYRatios(this.yRatio),this.barHelpers.initVariables(d);var k=I.group({class:"apexcharts-bar-series apexcharts-plot-series"});p.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var Z=0,E=0;Z<d.length;Z++,E++){var D,Y,U,z,te=void 0,ae=void 0,ge=[],Ce=[],we=p.globals.comboCharts?A[Z]:Z,ke=this.barHelpers.getGroupIndex(we).columnGroupIndex,T=I.group({class:"apexcharts-series",rel:Z+1,seriesName:_.escapeString(p.globals.seriesNames[we]),"data:realIndex":we});this.ctx.series.addCollapsedClassToSeries(T,we),d[Z].length>0&&(this.visibleI=this.visibleI+1);var q=0,Ae=0;this.yRatio.length>1&&(this.yaxisIndex=p.globals.seriesYAxisReverseMap[we],this.translationsIndex=we);var Se=this.translationsIndex;this.isReversed=p.config.yaxis[this.yaxisIndex]&&p.config.yaxis[this.yaxisIndex].reversed;var Ze=this.barHelpers.initialPositions();ae=Ze.y,q=Ze.barHeight,Y=Ze.yDivision,z=Ze.zeroW,te=Ze.x,Ae=Ze.barWidth,D=Ze.xDivision,U=Ze.zeroH,this.horizontal||Ce.push(te+Ae/2);var Te=I.group({class:"apexcharts-datalabels","data:realIndex":we});p.globals.delayedElements.push({el:Te.node}),Te.node.classList.add("apexcharts-element-hidden");var Qe=I.group({class:"apexcharts-bar-goals-markers"}),Oe=I.group({class:"apexcharts-bar-shadows"});p.globals.delayedElements.push({el:Oe.node}),Oe.node.classList.add("apexcharts-element-hidden");for(var ut=0;ut<d[Z].length;ut++){var Gt=this.barHelpers.getStrokeWidth(Z,ut,we),dt=null,Et={indexes:{i:Z,j:ut,realIndex:we,translationsIndex:Se,bc:E},x:te,y:ae,strokeWidth:Gt,elSeries:T};this.isHorizontal?(dt=this.drawBarPaths(o(o({},Et),{},{barHeight:q,zeroW:z,yDivision:Y})),Ae=this.series[Z][ut]/this.invertedYRatio):(dt=this.drawColumnPaths(o(o({},Et),{},{xDivision:D,barWidth:Ae,zeroH:U})),q=this.series[Z][ut]/this.yRatio[Se]);var Ot=this.barHelpers.getPathFillColor(d,Z,ut,we);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&ut>0){var an=this.barHelpers.drawBarShadow({color:typeof Ot=="string"&&(Ot==null?void 0:Ot.indexOf("url"))===-1?Ot:_.hexToRgba(p.globals.colors[Z]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:dt});an&&Oe.add(an)}this.pathArr.push(dt);var hn=this.barHelpers.drawGoalLine({barXPosition:dt.barXPosition,barYPosition:dt.barYPosition,goalX:dt.goalX,goalY:dt.goalY,barHeight:q,barWidth:Ae});hn&&Qe.add(hn),ae=dt.y,te=dt.x,ut>0&&Ce.push(te+Ae/2),ge.push(ae),this.renderSeries({realIndex:we,pathFill:Ot,j:ut,i:Z,columnGroupIndex:ke,pathFrom:dt.pathFrom,pathTo:dt.pathTo,strokeWidth:Gt,elSeries:T,x:te,y:ae,series:d,barHeight:dt.barHeight?dt.barHeight:q,barWidth:dt.barWidth?dt.barWidth:Ae,elDataLabelsWrap:Te,elGoalsMarkers:Qe,elBarShadows:Oe,visibleSeries:this.visibleI,type:"bar"})}p.globals.seriesXvalues[we]=Ce,p.globals.seriesYvalues[we]=ge,k.add(T)}return k}},{key:"renderSeries",value:function(d){var A=d.realIndex,p=d.pathFill,I=d.lineFill,w=d.j,k=d.i,Z=d.columnGroupIndex,E=d.pathFrom,D=d.pathTo,Y=d.strokeWidth,U=d.elSeries,z=d.x,te=d.y,ae=d.y1,ge=d.y2,Ce=d.series,we=d.barHeight,ke=d.barWidth,T=d.barXPosition,q=d.barYPosition,Ae=d.elDataLabelsWrap,Se=d.elGoalsMarkers,Ze=d.elBarShadows,Te=d.visibleSeries,Qe=d.type,Oe=this.w,ut=new j(this.ctx);if(!I){var Gt=typeof Oe.globals.stroke.colors[A]=="function"?function(hn){var In,bn=Oe.config.stroke.colors;return Array.isArray(bn)&&bn.length>0&&((In=bn[hn])||(In=""),typeof In=="function")?In({value:Oe.globals.series[hn][w],dataPointIndex:w,w:Oe}):In}(A):Oe.globals.stroke.colors[A];I=this.barOptions.distributed?Oe.globals.stroke.colors[w]:Gt}Oe.config.series[k].data[w]&&Oe.config.series[k].data[w].strokeColor&&(I=Oe.config.series[k].data[w].strokeColor),this.isNullValue&&(p="none");var dt=w/Oe.config.chart.animations.animateGradually.delay*(Oe.config.chart.animations.speed/Oe.globals.dataPoints)/2.4,Et=ut.renderPaths({i:k,j:w,realIndex:A,pathFrom:E,pathTo:D,stroke:I,strokeWidth:Y,strokeLineCap:Oe.config.stroke.lineCap,fill:p,animationDelay:dt,initialSpeed:Oe.config.chart.animations.speed,dataChangeSpeed:Oe.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(Qe,"-area")});Et.attr("clip-path","url(#gridRectMask".concat(Oe.globals.cuid,")"));var Ot=Oe.config.forecastDataPoints;Ot.count>0&&w>=Oe.globals.dataPoints-Ot.count&&(Et.node.setAttribute("stroke-dasharray",Ot.dashArray),Et.node.setAttribute("stroke-width",Ot.strokeWidth),Et.node.setAttribute("fill-opacity",Ot.fillOpacity)),ae!==void 0&&ge!==void 0&&(Et.attr("data-range-y1",ae),Et.attr("data-range-y2",ge)),new Q(this.ctx).setSelectionFilter(Et,A,w),U.add(Et);var an=new Gn(this).handleBarDataLabels({x:z,y:te,y1:ae,y2:ge,i:k,j:w,series:Ce,realIndex:A,columnGroupIndex:Z,barHeight:we,barWidth:ke,barXPosition:T,barYPosition:q,renderedPath:Et,visibleSeries:Te});return an.dataLabels!==null&&Ae.add(an.dataLabels),an.totalDataLabels&&Ae.add(an.totalDataLabels),U.add(Ae),Se&&U.add(Se),Ze&&U.add(Ze),U}},{key:"drawBarPaths",value:function(d){var A,p=d.indexes,I=d.barHeight,w=d.strokeWidth,k=d.zeroW,Z=d.x,E=d.y,D=d.yDivision,Y=d.elSeries,U=this.w,z=p.i,te=p.j;if(U.globals.isXNumeric)A=(E=(U.globals.seriesX[z][te]-U.globals.minX)/this.invertedXRatio-I)+I*this.visibleI;else if(U.config.plotOptions.bar.hideZeroBarsWhenGrouped){var ae=0,ge=0;U.globals.seriesPercent.forEach(function(we,ke){we[te]&&ae++,ke<z&&we[te]===0&&ge++}),ae>0&&(I=this.seriesLen*I/ae),A=E+I*this.visibleI,A-=I*ge}else A=E+I*this.visibleI;this.isFunnel&&(k-=(this.barHelpers.getXForValue(this.series[z][te],k)-k)/2),Z=this.barHelpers.getXForValue(this.series[z][te],k);var Ce=this.barHelpers.getBarpaths({barYPosition:A,barHeight:I,x1:k,x2:Z,strokeWidth:w,series:this.series,realIndex:p.realIndex,i:z,j:te,w:U});return U.globals.isXNumeric||(E+=D),this.barHelpers.barBackground({j:te,i:z,y1:A-I*this.visibleI,y2:I*this.seriesLen,elSeries:Y}),{pathTo:Ce.pathTo,pathFrom:Ce.pathFrom,x1:k,x:Z,y:E,goalX:this.barHelpers.getGoalValues("x",k,null,z,te),barYPosition:A,barHeight:I}}},{key:"drawColumnPaths",value:function(d){var A,p=d.indexes,I=d.x,w=d.y,k=d.xDivision,Z=d.barWidth,E=d.zeroH,D=d.strokeWidth,Y=d.elSeries,U=this.w,z=p.realIndex,te=p.translationsIndex,ae=p.i,ge=p.j,Ce=p.bc;if(U.globals.isXNumeric){var we=this.getBarXForNumericXAxis({x:I,j:ge,realIndex:z,barWidth:Z});I=we.x,A=we.barXPosition}else if(U.config.plotOptions.bar.hideZeroBarsWhenGrouped){var ke=this.barHelpers.getZeroValueEncounters({i:ae,j:ge}),T=ke.nonZeroColumns,q=ke.zeroEncounters;T>0&&(Z=this.seriesLen*Z/T),A=I+Z*this.visibleI,A-=Z*q}else A=I+Z*this.visibleI;w=this.barHelpers.getYForValue(this.series[ae][ge],E,te);var Ae=this.barHelpers.getColumnPaths({barXPosition:A,barWidth:Z,y1:E,y2:w,strokeWidth:D,series:this.series,realIndex:z,i:ae,j:ge,w:U});return U.globals.isXNumeric||(I+=k),this.barHelpers.barBackground({bc:Ce,j:ge,i:ae,x1:A-D/2-Z*this.visibleI,x2:Z*this.seriesLen+D/2,elSeries:Y}),{pathTo:Ae.pathTo,pathFrom:Ae.pathFrom,x:I,y:w,goalY:this.barHelpers.getGoalValues("y",null,E,ae,ge,te),barXPosition:A,barWidth:Z}}},{key:"getBarXForNumericXAxis",value:function(d){var A=d.x,p=d.barWidth,I=d.realIndex,w=d.j,k=this.w,Z=I;return k.globals.seriesX[I].length||(Z=k.globals.maxValsInArrayIndex),k.globals.seriesX[Z][w]&&(A=(k.globals.seriesX[Z][w]-k.globals.minX)/this.xRatio-p*this.seriesLen/2),{barXPosition:A+p*this.visibleI,x:A}}},{key:"getPreviousPath",value:function(d,A){for(var p,I=this.w,w=0;w<I.globals.previousPaths.length;w++){var k=I.globals.previousPaths[w];k.paths&&k.paths.length>0&&parseInt(k.realIndex,10)===parseInt(d,10)&&I.globals.previousPaths[w].paths[A]!==void 0&&(p=I.globals.previousPaths[w].paths[A].d)}return p}}]),Be}(),rr=function(Be){v(A,Qn);var d=R(A);function A(){return c(this,A),d.apply(this,arguments)}return C(A,[{key:"draw",value:function(p,I){var w=this,k=this.w;this.graphics=new j(this.ctx),this.bar=new Qn(this.ctx,this.xyRatios);var Z=new re(this.ctx,k);p=Z.getLogSeries(p),this.yRatio=Z.getLogYRatios(this.yRatio),this.barHelpers.initVariables(p),k.config.chart.stackType==="100%"&&(p=k.globals.comboCharts?I.map(function(ae){return k.globals.seriesPercent[ae]}):k.globals.seriesPercent.slice()),this.series=p,this.barHelpers.initializeStackedPrevVars(this);for(var E=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),D=0,Y=0,U=function(ae,ge){var Ce=void 0,we=void 0,ke=void 0,T=void 0,q=k.globals.comboCharts?I[ae]:ae,Ae=w.barHelpers.getGroupIndex(q),Se=Ae.groupIndex,Ze=Ae.columnGroupIndex;w.groupCtx=w[k.globals.seriesGroups[Se]];var Te=[],Qe=[],Oe=0;w.yRatio.length>1&&(w.yaxisIndex=k.globals.seriesYAxisReverseMap[q][0],Oe=q),w.isReversed=k.config.yaxis[w.yaxisIndex]&&k.config.yaxis[w.yaxisIndex].reversed;var ut=w.graphics.group({class:"apexcharts-series",seriesName:_.escapeString(k.globals.seriesNames[q]),rel:ae+1,"data:realIndex":q});w.ctx.series.addCollapsedClassToSeries(ut,q);var Gt=w.graphics.group({class:"apexcharts-datalabels","data:realIndex":q}),dt=w.graphics.group({class:"apexcharts-bar-goals-markers"}),Et=0,Ot=0,an=w.initialPositions(D,Y,Ce,we,ke,T,Oe);Y=an.y,Et=an.barHeight,we=an.yDivision,T=an.zeroW,D=an.x,Ot=an.barWidth,Ce=an.xDivision,ke=an.zeroH,k.globals.barHeight=Et,k.globals.barWidth=Ot,w.barHelpers.initializeStackedXYVars(w),w.groupCtx.prevY.length===1&&w.groupCtx.prevY[0].every(function(jn){return isNaN(jn)})&&(w.groupCtx.prevY[0]=w.groupCtx.prevY[0].map(function(){return ke}),w.groupCtx.prevYF[0]=w.groupCtx.prevYF[0].map(function(){return 0}));for(var hn=0;hn<k.globals.dataPoints;hn++){var In=w.barHelpers.getStrokeWidth(ae,hn,q),bn={indexes:{i:ae,j:hn,realIndex:q,translationsIndex:Oe,bc:ge},strokeWidth:In,x:D,y:Y,elSeries:ut,columnGroupIndex:Ze,seriesGroup:k.globals.seriesGroups[Se]},kn=null;w.isHorizontal?(kn=w.drawStackedBarPaths(o(o({},bn),{},{zeroW:T,barHeight:Et,yDivision:we})),Ot=w.series[ae][hn]/w.invertedYRatio):(kn=w.drawStackedColumnPaths(o(o({},bn),{},{xDivision:Ce,barWidth:Ot,zeroH:ke})),Et=w.series[ae][hn]/w.yRatio[Oe]);var En=w.barHelpers.drawGoalLine({barXPosition:kn.barXPosition,barYPosition:kn.barYPosition,goalX:kn.goalX,goalY:kn.goalY,barHeight:Et,barWidth:Ot});En&&dt.add(En),Y=kn.y,D=kn.x,Te.push(D),Qe.push(Y);var Ri=w.barHelpers.getPathFillColor(p,ae,hn,q);ut=w.renderSeries({realIndex:q,pathFill:Ri,j:hn,i:ae,columnGroupIndex:Ze,pathFrom:kn.pathFrom,pathTo:kn.pathTo,strokeWidth:In,elSeries:ut,x:D,y:Y,series:p,barHeight:Et,barWidth:Ot,elDataLabelsWrap:Gt,elGoalsMarkers:dt,type:"bar",visibleSeries:0})}k.globals.seriesXvalues[q]=Te,k.globals.seriesYvalues[q]=Qe,w.groupCtx.prevY.push(w.groupCtx.yArrj),w.groupCtx.prevYF.push(w.groupCtx.yArrjF),w.groupCtx.prevYVal.push(w.groupCtx.yArrjVal),w.groupCtx.prevX.push(w.groupCtx.xArrj),w.groupCtx.prevXF.push(w.groupCtx.xArrjF),w.groupCtx.prevXVal.push(w.groupCtx.xArrjVal),E.add(ut)},z=0,te=0;z<p.length;z++,te++)U(z,te);return E}},{key:"initialPositions",value:function(p,I,w,k,Z,E,D){var Y,U,z=this.w;if(this.isHorizontal){k=z.globals.gridHeight/z.globals.dataPoints;var te=z.config.plotOptions.bar.barHeight;Y=String(te).indexOf("%")===-1?parseInt(te,10):k*parseInt(te,10)/100,E=z.globals.padHorizontal+(this.isReversed?z.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),I=(k-Y)/2}else{U=w=z.globals.gridWidth/z.globals.dataPoints;var ae=z.config.plotOptions.bar.columnWidth;z.globals.isXNumeric&&z.globals.dataPoints>1?U=(w=z.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(ae).indexOf("%")===-1?U=parseInt(ae,10):U*=parseInt(ae,10)/100,Z=z.globals.gridHeight-this.baseLineY[D]-(this.isReversed?z.globals.gridHeight:0),p=z.globals.padHorizontal+(w-U)/2}var ge=z.globals.barGroups.length||1;return{x:p,y:I,yDivision:k,xDivision:w,barHeight:Y/ge,barWidth:U/ge,zeroH:Z,zeroW:E}}},{key:"drawStackedBarPaths",value:function(p){for(var I,w=p.indexes,k=p.barHeight,Z=p.strokeWidth,E=p.zeroW,D=p.x,Y=p.y,U=p.columnGroupIndex,z=p.seriesGroup,te=p.yDivision,ae=p.elSeries,ge=this.w,Ce=Y+U*k,we=w.i,ke=w.j,T=w.realIndex,q=w.translationsIndex,Ae=0,Se=0;Se<this.groupCtx.prevXF.length;Se++)Ae+=this.groupCtx.prevXF[Se][ke];var Ze;if((Ze=z.indexOf(ge.config.series[T].name))>0){var Te=E;this.groupCtx.prevXVal[Ze-1][ke]<0?Te=this.series[we][ke]>=0?this.groupCtx.prevX[Ze-1][ke]+Ae-2*(this.isReversed?Ae:0):this.groupCtx.prevX[Ze-1][ke]:this.groupCtx.prevXVal[Ze-1][ke]>=0&&(Te=this.series[we][ke]>=0?this.groupCtx.prevX[Ze-1][ke]:this.groupCtx.prevX[Ze-1][ke]-Ae+2*(this.isReversed?Ae:0)),I=Te}else I=E;D=this.series[we][ke]===null?I:I+this.series[we][ke]/this.invertedYRatio-2*(this.isReversed?this.series[we][ke]/this.invertedYRatio:0);var Qe=this.barHelpers.getBarpaths({barYPosition:Ce,barHeight:k,x1:I,x2:D,strokeWidth:Z,series:this.series,realIndex:w.realIndex,seriesGroup:z,i:we,j:ke,w:ge});return this.barHelpers.barBackground({j:ke,i:we,y1:Ce,y2:k,elSeries:ae}),Y+=te,{pathTo:Qe.pathTo,pathFrom:Qe.pathFrom,goalX:this.barHelpers.getGoalValues("x",E,null,we,ke,q),barXPosition:I,barYPosition:Ce,x:D,y:Y}}},{key:"drawStackedColumnPaths",value:function(p){var I=p.indexes,w=p.x,k=p.y,Z=p.xDivision,E=p.barWidth,D=p.zeroH,Y=p.columnGroupIndex,U=p.seriesGroup,z=p.elSeries,te=this.w,ae=I.i,ge=I.j,Ce=I.bc,we=I.realIndex,ke=I.translationsIndex;if(te.globals.isXNumeric){var T=te.globals.seriesX[we][ge];T||(T=0),w=(T-te.globals.minX)/this.xRatio-E/2*te.globals.barGroups.length}for(var q,Ae=w+Y*E,Se=0,Ze=0;Ze<this.groupCtx.prevYF.length;Ze++)Se+=isNaN(this.groupCtx.prevYF[Ze][ge])?0:this.groupCtx.prevYF[Ze][ge];var Te=ae;if(U&&(Te=U.indexOf(te.globals.seriesNames[we])),Te>0&&!te.globals.isXNumeric||Te>0&&te.globals.isXNumeric&&te.globals.seriesX[we-1][ge]===te.globals.seriesX[we][ge]){var Qe,Oe,ut,Gt=Math.min(this.yRatio.length+1,we+1);if(this.groupCtx.prevY[Te-1]!==void 0&&this.groupCtx.prevY[Te-1].length)for(var dt=1;dt<Gt;dt++){var Et;if(!isNaN((Et=this.groupCtx.prevY[Te-dt])===null||Et===void 0?void 0:Et[ge])){ut=this.groupCtx.prevY[Te-dt][ge];break}}for(var Ot=1;Ot<Gt;Ot++){var an,hn;if(((an=this.groupCtx.prevYVal[Te-Ot])===null||an===void 0?void 0:an[ge])<0){Oe=this.series[ae][ge]>=0?ut-Se+2*(this.isReversed?Se:0):ut;break}if(((hn=this.groupCtx.prevYVal[Te-Ot])===null||hn===void 0?void 0:hn[ge])>=0){Oe=this.series[ae][ge]>=0?ut:ut+Se-2*(this.isReversed?Se:0);break}}Oe===void 0&&(Oe=te.globals.gridHeight),q=(Qe=this.groupCtx.prevYF[0])!==null&&Qe!==void 0&&Qe.every(function(bn){return bn===0})&&this.groupCtx.prevYF.slice(1,Te).every(function(bn){return bn.every(function(kn){return isNaN(kn)})})?D:Oe}else q=D;k=this.series[ae][ge]?q-this.series[ae][ge]/this.yRatio[ke]+2*(this.isReversed?this.series[ae][ge]/this.yRatio[ke]:0):q;var In=this.barHelpers.getColumnPaths({barXPosition:Ae,barWidth:E,y1:q,y2:k,yRatio:this.yRatio[ke],strokeWidth:this.strokeWidth,series:this.series,seriesGroup:U,realIndex:I.realIndex,i:ae,j:ge,w:te});return this.barHelpers.barBackground({bc:Ce,j:ge,i:ae,x1:Ae,x2:E,elSeries:z}),w+=Z,{pathTo:In.pathTo,pathFrom:In.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,D,ae,ge),barXPosition:Ae,x:te.globals.isXNumeric?w-Z:w,y:k}}}]),A}(),Lr=function(Be){v(A,Qn);var d=R(A);function A(){return c(this,A),d.apply(this,arguments)}return C(A,[{key:"draw",value:function(p,I,w){var k=this,Z=this.w,E=new j(this.ctx),D=Z.globals.comboCharts?I:Z.config.chart.type,Y=new _e(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=Z.config.plotOptions.bar.horizontal;var U=new re(this.ctx,Z);p=U.getLogSeries(p),this.series=p,this.yRatio=U.getLogYRatios(this.yRatio),this.barHelpers.initVariables(p);for(var z=E.group({class:"apexcharts-".concat(D,"-series apexcharts-plot-series")}),te=function(ge){k.isBoxPlot=Z.config.chart.type==="boxPlot"||Z.config.series[ge].type==="boxPlot";var Ce,we,ke,T,q=void 0,Ae=void 0,Se=[],Ze=[],Te=Z.globals.comboCharts?w[ge]:ge,Qe=k.barHelpers.getGroupIndex(Te).columnGroupIndex,Oe=E.group({class:"apexcharts-series",seriesName:_.escapeString(Z.globals.seriesNames[Te]),rel:ge+1,"data:realIndex":Te});k.ctx.series.addCollapsedClassToSeries(Oe,Te),p[ge].length>0&&(k.visibleI=k.visibleI+1);var ut,Gt,dt=0;k.yRatio.length>1&&(k.yaxisIndex=Z.globals.seriesYAxisReverseMap[Te][0],dt=Te);var Et=k.barHelpers.initialPositions();Ae=Et.y,ut=Et.barHeight,we=Et.yDivision,T=Et.zeroW,q=Et.x,Gt=Et.barWidth,Ce=Et.xDivision,ke=Et.zeroH,Ze.push(q+Gt/2);for(var Ot=E.group({class:"apexcharts-datalabels","data:realIndex":Te}),an=function(In){var bn=k.barHelpers.getStrokeWidth(ge,In,Te),kn=null,En={indexes:{i:ge,j:In,realIndex:Te,translationsIndex:dt},x:q,y:Ae,strokeWidth:bn,elSeries:Oe};kn=k.isHorizontal?k.drawHorizontalBoxPaths(o(o({},En),{},{yDivision:we,barHeight:ut,zeroW:T})):k.drawVerticalBoxPaths(o(o({},En),{},{xDivision:Ce,barWidth:Gt,zeroH:ke})),Ae=kn.y,q=kn.x,In>0&&Ze.push(q+Gt/2),Se.push(Ae),kn.pathTo.forEach(function(Ri,jn){var Ci=!k.isBoxPlot&&k.candlestickOptions.wick.useFillColor?kn.color[jn]:Z.globals.stroke.colors[ge],eo=Y.fillPath({seriesNumber:Te,dataPointIndex:In,color:kn.color[jn],value:p[ge][In]});k.renderSeries({realIndex:Te,pathFill:eo,lineFill:Ci,j:In,i:ge,pathFrom:kn.pathFrom,pathTo:Ri,strokeWidth:bn,elSeries:Oe,x:q,y:Ae,series:p,columnGroupIndex:Qe,barHeight:ut,barWidth:Gt,elDataLabelsWrap:Ot,visibleSeries:k.visibleI,type:Z.config.chart.type})})},hn=0;hn<Z.globals.dataPoints;hn++)an(hn);Z.globals.seriesXvalues[Te]=Ze,Z.globals.seriesYvalues[Te]=Se,z.add(Oe)},ae=0;ae<p.length;ae++)te(ae);return z}},{key:"drawVerticalBoxPaths",value:function(p){var I=p.indexes,w=p.x;p.y;var k=p.xDivision,Z=p.barWidth,E=p.zeroH,D=p.strokeWidth,Y=this.w,U=new j(this.ctx),z=I.i,te=I.j,ae=!0,ge=Y.config.plotOptions.candlestick.colors.upward,Ce=Y.config.plotOptions.candlestick.colors.downward,we="";this.isBoxPlot&&(we=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var ke=this.yRatio[I.translationsIndex],T=I.realIndex,q=this.getOHLCValue(T,te),Ae=E,Se=E;q.o>q.c&&(ae=!1);var Ze=Math.min(q.o,q.c),Te=Math.max(q.o,q.c),Qe=q.m;Y.globals.isXNumeric&&(w=(Y.globals.seriesX[T][te]-Y.globals.minX)/this.xRatio-Z/2);var Oe=w+Z*this.visibleI;this.series[z][te]===void 0||this.series[z][te]===null?(Ze=E,Te=E):(Ze=E-Ze/ke,Te=E-Te/ke,Ae=E-q.h/ke,Se=E-q.l/ke,Qe=E-q.m/ke);var ut=U.move(Oe,E),Gt=U.move(Oe+Z/2,Ze);return Y.globals.previousPaths.length>0&&(Gt=this.getPreviousPath(T,te,!0)),ut=this.isBoxPlot?[U.move(Oe,Ze)+U.line(Oe+Z/2,Ze)+U.line(Oe+Z/2,Ae)+U.line(Oe+Z/4,Ae)+U.line(Oe+Z-Z/4,Ae)+U.line(Oe+Z/2,Ae)+U.line(Oe+Z/2,Ze)+U.line(Oe+Z,Ze)+U.line(Oe+Z,Qe)+U.line(Oe,Qe)+U.line(Oe,Ze+D/2),U.move(Oe,Qe)+U.line(Oe+Z,Qe)+U.line(Oe+Z,Te)+U.line(Oe+Z/2,Te)+U.line(Oe+Z/2,Se)+U.line(Oe+Z-Z/4,Se)+U.line(Oe+Z/4,Se)+U.line(Oe+Z/2,Se)+U.line(Oe+Z/2,Te)+U.line(Oe,Te)+U.line(Oe,Qe)+"z"]:[U.move(Oe,Te)+U.line(Oe+Z/2,Te)+U.line(Oe+Z/2,Ae)+U.line(Oe+Z/2,Te)+U.line(Oe+Z,Te)+U.line(Oe+Z,Ze)+U.line(Oe+Z/2,Ze)+U.line(Oe+Z/2,Se)+U.line(Oe+Z/2,Ze)+U.line(Oe,Ze)+U.line(Oe,Te-D/2)],Gt+=U.move(Oe,Ze),Y.globals.isXNumeric||(w+=k),{pathTo:ut,pathFrom:Gt,x:w,y:Te,barXPosition:Oe,color:this.isBoxPlot?we:ae?[ge]:[Ce]}}},{key:"drawHorizontalBoxPaths",value:function(p){var I=p.indexes;p.x;var w=p.y,k=p.yDivision,Z=p.barHeight,E=p.zeroW,D=p.strokeWidth,Y=this.w,U=new j(this.ctx),z=I.i,te=I.j,ae=this.boxOptions.colors.lower;this.isBoxPlot&&(ae=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var ge=this.invertedYRatio,Ce=I.realIndex,we=this.getOHLCValue(Ce,te),ke=E,T=E,q=Math.min(we.o,we.c),Ae=Math.max(we.o,we.c),Se=we.m;Y.globals.isXNumeric&&(w=(Y.globals.seriesX[Ce][te]-Y.globals.minX)/this.invertedXRatio-Z/2);var Ze=w+Z*this.visibleI;this.series[z][te]===void 0||this.series[z][te]===null?(q=E,Ae=E):(q=E+q/ge,Ae=E+Ae/ge,ke=E+we.h/ge,T=E+we.l/ge,Se=E+we.m/ge);var Te=U.move(E,Ze),Qe=U.move(q,Ze+Z/2);return Y.globals.previousPaths.length>0&&(Qe=this.getPreviousPath(Ce,te,!0)),Te=[U.move(q,Ze)+U.line(q,Ze+Z/2)+U.line(ke,Ze+Z/2)+U.line(ke,Ze+Z/2-Z/4)+U.line(ke,Ze+Z/2+Z/4)+U.line(ke,Ze+Z/2)+U.line(q,Ze+Z/2)+U.line(q,Ze+Z)+U.line(Se,Ze+Z)+U.line(Se,Ze)+U.line(q+D/2,Ze),U.move(Se,Ze)+U.line(Se,Ze+Z)+U.line(Ae,Ze+Z)+U.line(Ae,Ze+Z/2)+U.line(T,Ze+Z/2)+U.line(T,Ze+Z-Z/4)+U.line(T,Ze+Z/4)+U.line(T,Ze+Z/2)+U.line(Ae,Ze+Z/2)+U.line(Ae,Ze)+U.line(Se,Ze)+"z"],Qe+=U.move(q,Ze),Y.globals.isXNumeric||(w+=k),{pathTo:Te,pathFrom:Qe,x:Ae,y:w,barYPosition:Ze,color:ae}}},{key:"getOHLCValue",value:function(p,I){var w=this.w;return{o:this.isBoxPlot?w.globals.seriesCandleH[p][I]:w.globals.seriesCandleO[p][I],h:this.isBoxPlot?w.globals.seriesCandleO[p][I]:w.globals.seriesCandleH[p][I],m:w.globals.seriesCandleM[p][I],l:this.isBoxPlot?w.globals.seriesCandleC[p][I]:w.globals.seriesCandleL[p][I],c:this.isBoxPlot?w.globals.seriesCandleL[p][I]:w.globals.seriesCandleC[p][I]}}}]),A}(),fi=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"checkColorRange",value:function(){var d=this.w,A=!1,p=d.config.plotOptions[d.config.chart.type];return p.colorScale.ranges.length>0&&p.colorScale.ranges.map(function(I,w){I.from<=0&&(A=!0)}),A}},{key:"getShadeColor",value:function(d,A,p,I){var w=this.w,k=1,Z=w.config.plotOptions[d].shadeIntensity,E=this.determineColor(d,A,p);w.globals.hasNegs||I?k=w.config.plotOptions[d].reverseNegativeShade?E.percent<0?E.percent/100*(1.25*Z):(1-E.percent/100)*(1.25*Z):E.percent<=0?1-(1+E.percent/100)*Z:(1-E.percent/100)*Z:(k=1-E.percent/100,d==="treemap"&&(k=(1-E.percent/100)*(1.25*Z)));var D=E.color,Y=new _;return w.config.plotOptions[d].enableShades&&(D=this.w.config.theme.mode==="dark"?_.hexToRgba(Y.shadeColor(-1*k,E.color),w.config.fill.opacity):_.hexToRgba(Y.shadeColor(k,E.color),w.config.fill.opacity)),{color:D,colorProps:E}}},{key:"determineColor",value:function(d,A,p){var I=this.w,w=I.globals.series[A][p],k=I.config.plotOptions[d],Z=k.colorScale.inverse?p:A;k.distributed&&I.config.chart.type==="treemap"&&(Z=p);var E=I.globals.colors[Z],D=null,Y=Math.min.apply(Math,H(I.globals.series[A])),U=Math.max.apply(Math,H(I.globals.series[A]));k.distributed||d!=="heatmap"||(Y=I.globals.minY,U=I.globals.maxY),k.colorScale.min!==void 0&&(Y=k.colorScale.min<I.globals.minY?k.colorScale.min:I.globals.minY,U=k.colorScale.max>I.globals.maxY?k.colorScale.max:I.globals.maxY);var z=Math.abs(U)+Math.abs(Y),te=100*w/(z===0?z-1e-6:z);return k.colorScale.ranges.length>0&&k.colorScale.ranges.map(function(ae,ge){if(w>=ae.from&&w<=ae.to){E=ae.color,D=ae.foreColor?ae.foreColor:null,Y=ae.from,U=ae.to;var Ce=Math.abs(U)+Math.abs(Y);te=100*w/(Ce===0?Ce-1e-6:Ce)}}),{color:E,foreColor:D,percent:te}}},{key:"calculateDataLabels",value:function(d){var A=d.text,p=d.x,I=d.y,w=d.i,k=d.j,Z=d.colorProps,E=d.fontSize,D=this.w.config.dataLabels,Y=new j(this.ctx),U=new We(this.ctx),z=null;if(D.enabled){z=Y.group({class:"apexcharts-data-labels"});var te=D.offsetX,ae=D.offsetY,ge=p+te,Ce=I+parseFloat(D.style.fontSize)/3+ae;U.plotDataLabelsText({x:ge,y:Ce,text:A,i:w,j:k,color:Z.foreColor,parent:z,fontSize:E,dataLabelsConfig:D})}return z}},{key:"addListeners",value:function(d){var A=new j(this.ctx);d.node.addEventListener("mouseenter",A.pathMouseEnter.bind(this,d)),d.node.addEventListener("mouseleave",A.pathMouseLeave.bind(this,d)),d.node.addEventListener("mousedown",A.pathMouseDown.bind(this,d))}}]),Be}(),Sn=function(){function Be(d,A){c(this,Be),this.ctx=d,this.w=d.w,this.xRatio=A.xRatio,this.yRatio=A.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new fi(d),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return C(Be,[{key:"draw",value:function(d){var A=this.w,p=new j(this.ctx),I=p.group({class:"apexcharts-heatmap"});I.attr("clip-path","url(#gridRectMask".concat(A.globals.cuid,")"));var w=A.globals.gridWidth/A.globals.dataPoints,k=A.globals.gridHeight/A.globals.series.length,Z=0,E=!1;this.negRange=this.helpers.checkColorRange();var D=d.slice();A.config.yaxis[0].reversed&&(E=!0,D.reverse());for(var Y=E?0:D.length-1;E?Y<D.length:Y>=0;E?Y++:Y--){var U=p.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:_.escapeString(A.globals.seriesNames[Y]),rel:Y+1,"data:realIndex":Y});if(this.ctx.series.addCollapsedClassToSeries(U,Y),A.config.chart.dropShadow.enabled){var z=A.config.chart.dropShadow;new Q(this.ctx).dropShadow(U,z,Y)}for(var te=0,ae=A.config.plotOptions.heatmap.shadeIntensity,ge=0;ge<D[Y].length;ge++){var Ce=this.helpers.getShadeColor(A.config.chart.type,Y,ge,this.negRange),we=Ce.color,ke=Ce.colorProps;A.config.fill.type==="image"&&(we=new _e(this.ctx).fillPath({seriesNumber:Y,dataPointIndex:ge,opacity:A.globals.hasNegs?ke.percent<0?1-(1+ke.percent/100):ae+ke.percent/100:ke.percent/100,patternID:_.randomId(),width:A.config.fill.image.width?A.config.fill.image.width:w,height:A.config.fill.image.height?A.config.fill.image.height:k}));var T=this.rectRadius,q=p.drawRect(te,Z,w,k,T);if(q.attr({cx:te,cy:Z}),q.node.classList.add("apexcharts-heatmap-rect"),U.add(q),q.attr({fill:we,i:Y,index:Y,j:ge,val:d[Y][ge],"stroke-width":this.strokeWidth,stroke:A.config.plotOptions.heatmap.useFillColorAsStroke?we:A.globals.stroke.colors[0],color:we}),this.helpers.addListeners(q),A.config.chart.animations.enabled&&!A.globals.dataChanged){var Ae=1;A.globals.resized||(Ae=A.config.chart.animations.speed),this.animateHeatMap(q,te,Z,w,k,Ae)}if(A.globals.dataChanged){var Se=1;if(this.dynamicAnim.enabled&&A.globals.shouldAnimate){Se=this.dynamicAnim.speed;var Ze=A.globals.previousPaths[Y]&&A.globals.previousPaths[Y][ge]&&A.globals.previousPaths[Y][ge].color;Ze||(Ze="rgba(255, 255, 255, 0)"),this.animateHeatColor(q,_.isColorHex(Ze)?Ze:_.rgb2hex(Ze),_.isColorHex(we)?we:_.rgb2hex(we),Se)}}var Te=(0,A.config.dataLabels.formatter)(A.globals.series[Y][ge],{value:A.globals.series[Y][ge],seriesIndex:Y,dataPointIndex:ge,w:A}),Qe=this.helpers.calculateDataLabels({text:Te,x:te+w/2,y:Z+k/2,i:Y,j:ge,colorProps:ke,series:D});Qe!==null&&U.add(Qe),te+=w}Z+=k,I.add(U)}var Oe=A.globals.yAxisScale[0].result.slice();return A.config.yaxis[0].reversed?Oe.unshift(""):Oe.push(""),A.globals.yAxisScale[0].result=Oe,I}},{key:"animateHeatMap",value:function(d,A,p,I,w,k){var Z=new X(this.ctx);Z.animateRect(d,{x:A+I/2,y:p+w/2,width:0,height:0},{x:A,y:p,width:I,height:w},k,function(){Z.animationCompleted(d)})}},{key:"animateHeatColor",value:function(d,A,p,I){d.attr({fill:A}).animate(I).attr({fill:p})}}]),Be}(),Kn=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"drawYAxisTexts",value:function(d,A,p,I){var w=this.w,k=w.config.yaxis[0],Z=w.globals.yLabelFormatters[0];return new j(this.ctx).drawText({x:d+k.labels.offsetX,y:A+k.labels.offsetY,text:Z(I,p),textAnchor:"middle",fontSize:k.labels.style.fontSize,fontFamily:k.labels.style.fontFamily,foreColor:Array.isArray(k.labels.style.colors)?k.labels.style.colors[p]:k.labels.style.colors})}}]),Be}(),qo=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w;var A=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=A.globals.stroke.colors!==void 0?A.globals.stroke.colors:A.globals.colors,this.defaultSize=Math.min(A.globals.gridWidth,A.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=A.globals.gridWidth/2,A.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(A.config.plotOptions.pie.endAngle-A.config.plotOptions.pie.startAngle),this.initialAngle=A.config.plotOptions.pie.startAngle%this.fullAngle,A.globals.radialSize=this.defaultSize/2.05-A.config.stroke.width-(A.config.chart.sparkline.enabled?0:A.config.chart.dropShadow.blur),this.donutSize=A.globals.radialSize*parseInt(A.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return C(Be,[{key:"draw",value:function(d){var A=this,p=this.w,I=new j(this.ctx);if(this.ret=I.group({class:"apexcharts-pie"}),p.globals.noData)return this.ret;for(var w=0,k=0;k<d.length;k++)w+=_.negToZero(d[k]);var Z=[],E=I.group();w===0&&(w=1e-5),d.forEach(function(Ze){A.maxY=Math.max(A.maxY,Ze)}),p.config.yaxis[0].max&&(this.maxY=p.config.yaxis[0].max),p.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret);for(var D=0;D<d.length;D++){var Y=this.fullAngle*_.negToZero(d[D])/w;Z.push(Y),this.chartType==="polarArea"?(Z[D]=this.fullAngle/d.length,this.sliceSizes.push(p.globals.radialSize*d[D]/this.maxY)):this.sliceSizes.push(p.globals.radialSize)}if(p.globals.dataChanged){for(var U,z=0,te=0;te<p.globals.previousPaths.length;te++)z+=_.negToZero(p.globals.previousPaths[te]);for(var ae=0;ae<p.globals.previousPaths.length;ae++)U=this.fullAngle*_.negToZero(p.globals.previousPaths[ae])/z,this.prevSectorAngleArr.push(U)}this.donutSize<0&&(this.donutSize=0);var ge=p.config.plotOptions.pie.customScale,Ce=p.globals.gridWidth/2,we=p.globals.gridHeight/2,ke=Ce-p.globals.gridWidth/2*ge,T=we-p.globals.gridHeight/2*ge;if(this.chartType==="donut"){var q=I.drawCircle(this.donutSize);q.attr({cx:this.centerX,cy:this.centerY,fill:p.config.plotOptions.pie.donut.background?p.config.plotOptions.pie.donut.background:"transparent"}),E.add(q)}var Ae=this.drawArcs(Z,d);if(this.sliceLabels.forEach(function(Ze){Ae.add(Ze)}),E.attr({transform:"translate(".concat(ke,", ").concat(T,") scale(").concat(ge,")")}),E.add(Ae),this.ret.add(E),this.donutDataLabels.show){var Se=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:ke,translateY:T});this.ret.add(Se)}return p.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(d,A){var p=this.w,I=new Q(this.ctx),w=new j(this.ctx),k=new _e(this.ctx),Z=w.group({class:"apexcharts-slices"}),E=this.initialAngle,D=this.initialAngle,Y=this.initialAngle,U=this.initialAngle;this.strokeWidth=p.config.stroke.show?p.config.stroke.width:0;for(var z=0;z<d.length;z++){var te=w.group({class:"apexcharts-series apexcharts-pie-series",seriesName:_.escapeString(p.globals.seriesNames[z]),rel:z+1,"data:realIndex":z});Z.add(te),D=U,Y=(E=Y)+d[z],U=D+this.prevSectorAngleArr[z];var ae=Y<E?this.fullAngle+Y-E:Y-E,ge=k.fillPath({seriesNumber:z,size:this.sliceSizes[z],value:A[z]}),Ce=this.getChangedPath(D,U),we=w.drawPath({d:Ce,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[z]:this.lineColorArr,strokeWidth:0,fill:ge,fillOpacity:p.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(z)});if(we.attr({index:0,j:z}),I.setSelectionFilter(we,0,z),p.config.chart.dropShadow.enabled){var ke=p.config.chart.dropShadow;I.dropShadow(we,ke,z)}this.addListeners(we,this.donutDataLabels),j.setAttrs(we.node,{"data:angle":ae,"data:startAngle":E,"data:strokeWidth":this.strokeWidth,"data:value":A[z]});var T={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?T=_.polarToCartesian(this.centerX,this.centerY,p.globals.radialSize/1.25+p.config.plotOptions.pie.dataLabels.offset,(E+ae/2)%this.fullAngle):this.chartType==="donut"&&(T=_.polarToCartesian(this.centerX,this.centerY,(p.globals.radialSize+this.donutSize)/2+p.config.plotOptions.pie.dataLabels.offset,(E+ae/2)%this.fullAngle)),te.add(we);var q=0;if(!this.initialAnim||p.globals.resized||p.globals.dataChanged?this.animBeginArr.push(0):((q=ae/this.fullAngle*p.config.chart.animations.speed)===0&&(q=1),this.animDur=q+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&p.globals.dataChanged?this.animatePaths(we,{size:this.sliceSizes[z],endAngle:Y,startAngle:E,prevStartAngle:D,prevEndAngle:U,animateStartingPos:!0,i:z,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:p.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(we,{size:this.sliceSizes[z],endAngle:Y,startAngle:E,i:z,totalItems:d.length-1,animBeginArr:this.animBeginArr,dur:q}),p.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&we.node.addEventListener("mouseup",this.pieClicked.bind(this,z)),p.globals.selectedDataPoints[0]!==void 0&&p.globals.selectedDataPoints[0].indexOf(z)>-1&&this.pieClicked(z),p.config.dataLabels.enabled){var Ae=T.x,Se=T.y,Ze=100*ae/this.fullAngle+"%";if(ae!==0&&p.config.plotOptions.pie.dataLabels.minAngleToShowLabel<d[z]){var Te=p.config.dataLabels.formatter;Te!==void 0&&(Ze=Te(p.globals.seriesPercent[z][0],{seriesIndex:z,w:p}));var Qe=p.globals.dataLabels.style.colors[z],Oe=w.group({class:"apexcharts-datalabels"}),ut=w.drawText({x:Ae,y:Se,text:Ze,textAnchor:"middle",fontSize:p.config.dataLabels.style.fontSize,fontFamily:p.config.dataLabels.style.fontFamily,fontWeight:p.config.dataLabels.style.fontWeight,foreColor:Qe});if(Oe.add(ut),p.config.dataLabels.dropShadow.enabled){var Gt=p.config.dataLabels.dropShadow;I.dropShadow(ut,Gt)}ut.node.classList.add("apexcharts-pie-label"),p.config.chart.animations.animate&&p.globals.resized===!1&&(ut.node.classList.add("apexcharts-pie-label-delay"),ut.node.style.animationDelay=p.config.chart.animations.speed/940+"s"),this.sliceLabels.push(Oe)}}}return Z}},{key:"addListeners",value:function(d,A){var p=new j(this.ctx);d.node.addEventListener("mouseenter",p.pathMouseEnter.bind(this,d)),d.node.addEventListener("mouseleave",p.pathMouseLeave.bind(this,d)),d.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,d.node,A)),d.node.addEventListener("mousedown",p.pathMouseDown.bind(this,d)),this.donutDataLabels.total.showAlways||(d.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,d.node,A)),d.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,d.node,A)))}},{key:"animatePaths",value:function(d,A){var p=this.w,I=A.endAngle<A.startAngle?this.fullAngle+A.endAngle-A.startAngle:A.endAngle-A.startAngle,w=I,k=A.startAngle,Z=A.startAngle;A.prevStartAngle!==void 0&&A.prevEndAngle!==void 0&&(k=A.prevEndAngle,w=A.prevEndAngle<A.prevStartAngle?this.fullAngle+A.prevEndAngle-A.prevStartAngle:A.prevEndAngle-A.prevStartAngle),A.i===p.config.series.length-1&&(I+Z>this.fullAngle?A.endAngle=A.endAngle-(I+Z):I+Z<this.fullAngle&&(A.endAngle=A.endAngle+(this.fullAngle-(I+Z)))),I===this.fullAngle&&(I=this.fullAngle-.01),this.animateArc(d,k,Z,I,w,A)}},{key:"animateArc",value:function(d,A,p,I,w,k){var Z,E=this,D=this.w,Y=new X(this.ctx),U=k.size;(isNaN(A)||isNaN(w))&&(A=p,w=I,k.dur=0);var z=I,te=p,ae=A<p?this.fullAngle+A-p:A-p;D.globals.dataChanged&&k.shouldSetPrevPaths&&k.prevEndAngle&&(Z=E.getPiePath({me:E,startAngle:k.prevStartAngle,angle:k.prevEndAngle<k.prevStartAngle?this.fullAngle+k.prevEndAngle-k.prevStartAngle:k.prevEndAngle-k.prevStartAngle,size:U}),d.attr({d:Z})),k.dur!==0?d.animate(k.dur,D.globals.easing,k.animBeginArr[k.i]).afterAll(function(){E.chartType!=="pie"&&E.chartType!=="donut"&&E.chartType!=="polarArea"||this.animate(D.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":E.strokeWidth}),k.i===D.config.series.length-1&&Y.animationCompleted(d)}).during(function(ge){z=ae+(I-ae)*ge,k.animateStartingPos&&(z=w+(I-w)*ge,te=A-w+(p-(A-w))*ge),Z=E.getPiePath({me:E,startAngle:te,angle:z,size:U}),d.node.setAttribute("data:pathOrig",Z),d.attr({d:Z})}):(Z=E.getPiePath({me:E,startAngle:te,angle:I,size:U}),k.isTrack||(D.globals.animationEnded=!0),d.node.setAttribute("data:pathOrig",Z),d.attr({d:Z,"stroke-width":E.strokeWidth}))}},{key:"pieClicked",value:function(d){var A,p=this.w,I=this,w=I.sliceSizes[d]+(p.config.plotOptions.pie.expandOnClick?4:0),k=p.globals.dom.Paper.select(".apexcharts-".concat(I.chartType.toLowerCase(),"-slice-").concat(d)).members[0];if(k.attr("data:pieClicked")!=="true"){var Z=p.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(Z,function(U){U.setAttribute("data:pieClicked","false");var z=U.getAttribute("data:pathOrig");z&&U.setAttribute("d",z)}),p.globals.capturedDataPointIndex=d,k.attr("data:pieClicked","true");var E=parseInt(k.attr("data:startAngle"),10),D=parseInt(k.attr("data:angle"),10);A=I.getPiePath({me:I,startAngle:E,angle:D,size:w}),D!==360&&k.plot(A)}else{k.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(k.node,this.donutDataLabels);var Y=k.attr("data:pathOrig");k.attr({d:Y})}}},{key:"getChangedPath",value:function(d,A){var p="";return this.dynamicAnim&&this.w.globals.dataChanged&&(p=this.getPiePath({me:this,startAngle:d,angle:A-d,size:this.size})),p}},{key:"getPiePath",value:function(d){var A,p=d.me,I=d.startAngle,w=d.angle,k=d.size,Z=new j(this.ctx),E=I,D=Math.PI*(E-90)/180,Y=w+I;Math.ceil(Y)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(Y=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(Y)>this.fullAngle&&(Y-=this.fullAngle);var U=Math.PI*(Y-90)/180,z=p.centerX+k*Math.cos(D),te=p.centerY+k*Math.sin(D),ae=p.centerX+k*Math.cos(U),ge=p.centerY+k*Math.sin(U),Ce=_.polarToCartesian(p.centerX,p.centerY,p.donutSize,Y),we=_.polarToCartesian(p.centerX,p.centerY,p.donutSize,E),ke=w>180?1:0,T=["M",z,te,"A",k,k,0,ke,1,ae,ge];return A=p.chartType==="donut"?[].concat(T,["L",Ce.x,Ce.y,"A",p.donutSize,p.donutSize,0,ke,0,we.x,we.y,"L",z,te,"z"]).join(" "):p.chartType==="pie"||p.chartType==="polarArea"?[].concat(T,["L",p.centerX,p.centerY,"L",z,te]).join(" "):[].concat(T).join(" "),Z.roundPathCorners(A,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(d){var A=this.w,p=new lt(this.ctx),I=new j(this.ctx),w=new Kn(this.ctx),k=I.group(),Z=I.group(),E=p.niceScale(0,Math.ceil(this.maxY),0),D=E.result.reverse(),Y=E.result.length;this.maxY=E.niceMax;for(var U=A.globals.radialSize,z=U/(Y-1),te=0;te<Y-1;te++){var ae=I.drawCircle(U);if(ae.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":A.config.plotOptions.polarArea.rings.strokeWidth,stroke:A.config.plotOptions.polarArea.rings.strokeColor}),A.config.yaxis[0].show){var ge=w.drawYAxisTexts(this.centerX,this.centerY-U+parseInt(A.config.yaxis[0].labels.style.fontSize,10)/2,te,D[te]);Z.add(ge)}k.add(ae),U-=z}this.drawSpokes(d),d.add(k),d.add(Z)}},{key:"renderInnerDataLabels",value:function(d,A){var p=this.w,I=new j(this.ctx),w=I.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(A.translateX?A.translateX:0,", ").concat(A.translateY?A.translateY:0,") scale(").concat(p.config.plotOptions.pie.customScale,")")}),k=d.total.show;w.node.style.opacity=A.opacity;var Z,E,D=A.centerX,Y=A.centerY;Z=d.name.color===void 0?p.globals.colors[0]:d.name.color;var U=d.name.fontSize,z=d.name.fontFamily,te=d.name.fontWeight;E=d.value.color===void 0?p.config.chart.foreColor:d.value.color;var ae=d.value.formatter,ge="",Ce="";if(k?(Z=d.total.color,U=d.total.fontSize,z=d.total.fontFamily,te=d.total.fontWeight,Ce=d.total.label,ge=d.total.formatter(p)):p.globals.series.length===1&&(ge=ae(p.globals.series[0],p),Ce=p.globals.seriesNames[0]),Ce&&(Ce=d.name.formatter(Ce,d.total.show,p)),d.name.show){var we=I.drawText({x:D,y:Y+parseFloat(d.name.offsetY),text:Ce,textAnchor:"middle",foreColor:Z,fontSize:U,fontWeight:te,fontFamily:z});we.node.classList.add("apexcharts-datalabel-label"),w.add(we)}if(d.value.show){var ke=d.name.show?parseFloat(d.value.offsetY)+16:d.value.offsetY,T=I.drawText({x:D,y:Y+ke,text:ge,textAnchor:"middle",foreColor:E,fontWeight:d.value.fontWeight,fontSize:d.value.fontSize,fontFamily:d.value.fontFamily});T.node.classList.add("apexcharts-datalabel-value"),w.add(T)}return w}},{key:"printInnerLabels",value:function(d,A,p,I){var w,k=this.w;I?w=d.name.color===void 0?k.globals.colors[parseInt(I.parentNode.getAttribute("rel"),10)-1]:d.name.color:k.globals.series.length>1&&d.total.show&&(w=d.total.color);var Z=k.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),E=k.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");p=(0,d.value.formatter)(p,k),I||typeof d.total.formatter!="function"||(p=d.total.formatter(k));var D=A===d.total.label;A=d.name.formatter(A,D,k),Z!==null&&(Z.textContent=A),E!==null&&(E.textContent=p),Z!==null&&(Z.style.fill=w)}},{key:"printDataLabelsInner",value:function(d,A){var p=this.w,I=d.getAttribute("data:value"),w=p.globals.seriesNames[parseInt(d.parentNode.getAttribute("rel"),10)-1];p.globals.series.length>1&&this.printInnerLabels(A,w,I,d);var k=p.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");k!==null&&(k.style.opacity=1)}},{key:"drawSpokes",value:function(d){var A=this,p=this.w,I=new j(this.ctx),w=p.config.plotOptions.polarArea.spokes;if(w.strokeWidth!==0){for(var k=[],Z=360/p.globals.series.length,E=0;E<p.globals.series.length;E++)k.push(_.polarToCartesian(this.centerX,this.centerY,p.globals.radialSize,p.config.plotOptions.pie.startAngle+Z*E));k.forEach(function(D,Y){var U=I.drawLine(D.x,D.y,A.centerX,A.centerY,Array.isArray(w.connectorColors)?w.connectorColors[Y]:w.connectorColors);d.add(U)})}}},{key:"revertDataLabelsInner",value:function(d,A,p){var I=this,w=this.w,k=w.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),Z=!1,E=w.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),D=function(z){var te=z.makeSliceOut,ae=z.printLabel;Array.prototype.forEach.call(E,function(ge){ge.getAttribute("data:pieClicked")==="true"&&(te&&(Z=!0),ae&&I.printDataLabelsInner(ge,A))})};if(D({makeSliceOut:!0,printLabel:!1}),A.total.show&&w.globals.series.length>1)Z&&!A.total.showAlways?D({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(A,A.total.label,A.total.formatter(w));else if(D({makeSliceOut:!1,printLabel:!0}),!Z)if(w.globals.selectedDataPoints.length&&w.globals.series.length>1)if(w.globals.selectedDataPoints[0].length>0){var Y=w.globals.selectedDataPoints[0],U=w.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(Y));this.printDataLabelsInner(U,A)}else k&&w.globals.selectedDataPoints.length&&w.globals.selectedDataPoints[0].length===0&&(k.style.opacity=0);else k&&w.globals.series.length>1&&(k.style.opacity=0)}}]),Be}(),qn=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var A=this.w;this.graphics=new j(this.ctx),this.lineColorArr=A.globals.stroke.colors!==void 0?A.globals.stroke.colors:A.globals.colors,this.defaultSize=A.globals.svgHeight<A.globals.svgWidth?A.globals.gridHeight+1.5*A.globals.goldenPadding:A.globals.gridWidth,this.isLog=A.config.yaxis[0].logarithmic,this.logBase=A.config.yaxis[0].logBase,this.coreUtils=new re(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,A.globals.maxY,0):A.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):A.globals.minY,this.polygons=A.config.plotOptions.radar.polygons,this.strokeWidth=A.config.stroke.show?A.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-A.config.chart.dropShadow.blur,A.config.xaxis.labels.show&&(this.size=this.size-A.globals.xAxisLabelsWidth/1.75),A.config.plotOptions.radar.size!==void 0&&(this.size=A.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return C(Be,[{key:"draw",value:function(d){var A=this,p=this.w,I=new _e(this.ctx),w=[],k=new We(this.ctx);d.length&&(this.dataPointsLen=d[p.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var Z=p.globals.gridWidth/2,E=p.globals.gridHeight/2,D=Z+p.config.plotOptions.radar.offsetX,Y=E+p.config.plotOptions.radar.offsetY,U=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(D||0,", ").concat(Y||0,")")}),z=[],te=null,ae=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),d.forEach(function(Ce,we){var ke=Ce.length===p.globals.dataPoints,T=A.graphics.group().attr({class:"apexcharts-series","data:longestSeries":ke,seriesName:_.escapeString(p.globals.seriesNames[we]),rel:we+1,"data:realIndex":we});A.dataRadiusOfPercent[we]=[],A.dataRadius[we]=[],A.angleArr[we]=[],Ce.forEach(function(dt,Et){var Ot=Math.abs(A.maxValue-A.minValue);dt-=A.minValue,A.isLog&&(dt=A.coreUtils.getLogVal(A.logBase,dt,0)),A.dataRadiusOfPercent[we][Et]=dt/Ot,A.dataRadius[we][Et]=A.dataRadiusOfPercent[we][Et]*A.size,A.angleArr[we][Et]=Et*A.disAngle}),z=A.getDataPointsPos(A.dataRadius[we],A.angleArr[we]);var q=A.createPaths(z,{x:0,y:0});te=A.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),ae=A.graphics.group({class:"apexcharts-datalabels","data:realIndex":we}),p.globals.delayedElements.push({el:te.node,index:we});var Ae={i:we,realIndex:we,animationDelay:we,initialSpeed:p.config.chart.animations.speed,dataChangeSpeed:p.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:p.globals.stroke.colors[we],strokeLineCap:p.config.stroke.lineCap},Se=null;p.globals.previousPaths.length>0&&(Se=A.getPreviousPath(we));for(var Ze=0;Ze<q.linePathsTo.length;Ze++){var Te=A.graphics.renderPaths(o(o({},Ae),{},{pathFrom:Se===null?q.linePathsFrom[Ze]:Se,pathTo:q.linePathsTo[Ze],strokeWidth:Array.isArray(A.strokeWidth)?A.strokeWidth[we]:A.strokeWidth,fill:"none",drawShadow:!1}));T.add(Te);var Qe=I.fillPath({seriesNumber:we}),Oe=A.graphics.renderPaths(o(o({},Ae),{},{pathFrom:Se===null?q.areaPathsFrom[Ze]:Se,pathTo:q.areaPathsTo[Ze],strokeWidth:0,fill:Qe,drawShadow:!1}));if(p.config.chart.dropShadow.enabled){var ut=new Q(A.ctx),Gt=p.config.chart.dropShadow;ut.dropShadow(Oe,Object.assign({},Gt,{noUserSpaceOnUse:!0}),we)}T.add(Oe)}Ce.forEach(function(dt,Et){var Ot=new pe(A.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:we,dataPointIndex:Et}),an=A.graphics.drawMarker(z[Et].x,z[Et].y,Ot);an.attr("rel",Et),an.attr("j",Et),an.attr("index",we),an.node.setAttribute("default-marker-size",Ot.pSize);var hn=A.graphics.group({class:"apexcharts-series-markers"});hn&&hn.add(an),te.add(hn),T.add(te);var In=p.config.dataLabels;if(In.enabled){var bn=In.formatter(p.globals.series[we][Et],{seriesIndex:we,dataPointIndex:Et,w:p});k.plotDataLabelsText({x:z[Et].x,y:z[Et].y,text:bn,textAnchor:"middle",i:we,j:we,parent:ae,offsetCorrection:!1,dataLabelsConfig:o({},In)})}T.add(ae)}),w.push(T)}),this.drawPolygons({parent:U}),p.config.xaxis.labels.show){var ge=this.drawXAxisTexts();U.add(ge)}return w.forEach(function(Ce){U.add(Ce)}),U.add(this.yaxisLabels),U}},{key:"drawPolygons",value:function(d){for(var A=this,p=this.w,I=d.parent,w=new Kn(this.ctx),k=p.globals.yAxisScale[0].result.reverse(),Z=k.length,E=[],D=this.size/(Z-1),Y=0;Y<Z;Y++)E[Y]=D*Y;E.reverse();var U=[],z=[];E.forEach(function(te,ae){var ge=_.getPolygonPos(te,A.dataPointsLen),Ce="";ge.forEach(function(we,ke){if(ae===0){var T=A.graphics.drawLine(we.x,we.y,0,0,Array.isArray(A.polygons.connectorColors)?A.polygons.connectorColors[ke]:A.polygons.connectorColors);z.push(T)}ke===0&&A.yaxisLabelsTextsPos.push({x:we.x,y:we.y}),Ce+=we.x+","+we.y+" "}),U.push(Ce)}),U.forEach(function(te,ae){var ge=A.polygons.strokeColors,Ce=A.polygons.strokeWidth,we=A.graphics.drawPolygon(te,Array.isArray(ge)?ge[ae]:ge,Array.isArray(Ce)?Ce[ae]:Ce,p.globals.radarPolygons.fill.colors[ae]);I.add(we)}),z.forEach(function(te){I.add(te)}),p.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(te,ae){var ge=w.drawYAxisTexts(te.x,te.y,ae,k[ae]);A.yaxisLabels.add(ge)})}},{key:"drawXAxisTexts",value:function(){var d=this,A=this.w,p=A.config.xaxis.labels,I=this.graphics.group({class:"apexcharts-xaxis"}),w=_.getPolygonPos(this.size,this.dataPointsLen);return A.globals.labels.forEach(function(k,Z){var E=A.config.xaxis.labels.formatter,D=new We(d.ctx);if(w[Z]){var Y=d.getTextPos(w[Z],d.size),U=E(k,{seriesIndex:-1,dataPointIndex:Z,w:A});D.plotDataLabelsText({x:Y.newX,y:Y.newY,text:U,textAnchor:Y.textAnchor,i:Z,j:Z,parent:I,color:Array.isArray(p.style.colors)&&p.style.colors[Z]?p.style.colors[Z]:"#a8a8a8",dataLabelsConfig:o({textAnchor:Y.textAnchor,dropShadow:{enabled:!1}},p),offsetCorrection:!1})}}),I}},{key:"createPaths",value:function(d,A){var p=this,I=[],w=[],k=[],Z=[];if(d.length){w=[this.graphics.move(A.x,A.y)],Z=[this.graphics.move(A.x,A.y)];var E=this.graphics.move(d[0].x,d[0].y),D=this.graphics.move(d[0].x,d[0].y);d.forEach(function(Y,U){E+=p.graphics.line(Y.x,Y.y),D+=p.graphics.line(Y.x,Y.y),U===d.length-1&&(E+="Z",D+="Z")}),I.push(E),k.push(D)}return{linePathsFrom:w,linePathsTo:I,areaPathsFrom:Z,areaPathsTo:k}}},{key:"getTextPos",value:function(d,A){var p="middle",I=d.x,w=d.y;return Math.abs(d.x)>=10?d.x>0?(p="start",I+=10):d.x<0&&(p="end",I-=10):p="middle",Math.abs(d.y)>=A-10&&(d.y<0?w-=10:d.y>0&&(w+=10)),{textAnchor:p,newX:I,newY:w}}},{key:"getPreviousPath",value:function(d){for(var A=this.w,p=null,I=0;I<A.globals.previousPaths.length;I++){var w=A.globals.previousPaths[I];w.paths.length>0&&parseInt(w.realIndex,10)===parseInt(d,10)&&A.globals.previousPaths[I].paths[0]!==void 0&&(p=A.globals.previousPaths[I].paths[0].d)}return p}},{key:"getDataPointsPos",value:function(d,A){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;d=d||[],A=A||[];for(var I=[],w=0;w<p;w++){var k={};k.x=d[w]*Math.sin(A[w]),k.y=-d[w]*Math.cos(A[w]),I.push(k)}return I}}]),Be}(),To=function(Be){v(A,qo);var d=R(A);function A(p){var I;c(this,A),(I=d.call(this,p)).ctx=p,I.w=p.w,I.animBeginArr=[0],I.animDur=0;var w=I.w;return I.startAngle=w.config.plotOptions.radialBar.startAngle,I.endAngle=w.config.plotOptions.radialBar.endAngle,I.totalAngle=Math.abs(w.config.plotOptions.radialBar.endAngle-w.config.plotOptions.radialBar.startAngle),I.trackStartAngle=w.config.plotOptions.radialBar.track.startAngle,I.trackEndAngle=w.config.plotOptions.radialBar.track.endAngle,I.barLabels=I.w.config.plotOptions.radialBar.barLabels,I.donutDataLabels=I.w.config.plotOptions.radialBar.dataLabels,I.radialDataLabels=I.donutDataLabels,I.trackStartAngle||(I.trackStartAngle=I.startAngle),I.trackEndAngle||(I.trackEndAngle=I.endAngle),I.endAngle===360&&(I.endAngle=359.99),I.margin=parseInt(w.config.plotOptions.radialBar.track.margin,10),I.onBarLabelClick=I.onBarLabelClick.bind(B(I)),I}return C(A,[{key:"draw",value:function(p){var I=this.w,w=new j(this.ctx),k=w.group({class:"apexcharts-radialbar"});if(I.globals.noData)return k;var Z=w.group(),E=this.defaultSize/2,D=I.globals.gridWidth/2,Y=this.defaultSize/2.05;I.config.chart.sparkline.enabled||(Y=Y-I.config.stroke.width-I.config.chart.dropShadow.blur);var U=I.globals.fill.colors;if(I.config.plotOptions.radialBar.track.show){var z=this.drawTracks({size:Y,centerX:D,centerY:E,colorArr:U,series:p});Z.add(z)}var te=this.drawArcs({size:Y,centerX:D,centerY:E,colorArr:U,series:p}),ae=360;I.config.plotOptions.radialBar.startAngle<0&&(ae=this.totalAngle);var ge=(360-ae)/360;if(I.globals.radialSize=Y-Y*ge,this.radialDataLabels.value.show){var Ce=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);I.globals.radialSize+=Ce*ge}return Z.add(te.g),I.config.plotOptions.radialBar.hollow.position==="front"&&(te.g.add(te.elHollow),te.dataLabels&&te.g.add(te.dataLabels)),k.add(Z),k}},{key:"drawTracks",value:function(p){var I=this.w,w=new j(this.ctx),k=w.group({class:"apexcharts-tracks"}),Z=new Q(this.ctx),E=new _e(this.ctx),D=this.getStrokeWidth(p);p.size=p.size-D/2;for(var Y=0;Y<p.series.length;Y++){var U=w.group({class:"apexcharts-radialbar-track apexcharts-track"});k.add(U),U.attr({rel:Y+1}),p.size=p.size-D-this.margin;var z=I.config.plotOptions.radialBar.track,te=E.fillPath({seriesNumber:0,size:p.size,fillColors:Array.isArray(z.background)?z.background[Y]:z.background,solid:!0}),ae=this.trackStartAngle,ge=this.trackEndAngle;Math.abs(ge)+Math.abs(ae)>=360&&(ge=360-Math.abs(this.startAngle)-.1);var Ce=w.drawPath({d:"",stroke:te,strokeWidth:D*parseInt(z.strokeWidth,10)/100,fill:"none",strokeOpacity:z.opacity,classes:"apexcharts-radialbar-area"});if(z.dropShadow.enabled){var we=z.dropShadow;Z.dropShadow(Ce,we)}U.add(Ce),Ce.attr("id","apexcharts-radialbarTrack-"+Y),this.animatePaths(Ce,{centerX:p.centerX,centerY:p.centerY,endAngle:ge,startAngle:ae,size:p.size,i:Y,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:I.globals.easing})}return k}},{key:"drawArcs",value:function(p){var I=this.w,w=new j(this.ctx),k=new _e(this.ctx),Z=new Q(this.ctx),E=w.group(),D=this.getStrokeWidth(p);p.size=p.size-D/2;var Y=I.config.plotOptions.radialBar.hollow.background,U=p.size-D*p.series.length-this.margin*p.series.length-D*parseInt(I.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,z=U-I.config.plotOptions.radialBar.hollow.margin;I.config.plotOptions.radialBar.hollow.image!==void 0&&(Y=this.drawHollowImage(p,E,U,Y));var te=this.drawHollow({size:z,centerX:p.centerX,centerY:p.centerY,fill:Y||"transparent"});if(I.config.plotOptions.radialBar.hollow.dropShadow.enabled){var ae=I.config.plotOptions.radialBar.hollow.dropShadow;Z.dropShadow(te,ae)}var ge=1;!this.radialDataLabels.total.show&&I.globals.series.length>1&&(ge=0);var Ce=null;this.radialDataLabels.show&&(Ce=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:U,centerX:p.centerX,centerY:p.centerY,opacity:ge})),I.config.plotOptions.radialBar.hollow.position==="back"&&(E.add(te),Ce&&E.add(Ce));var we=!1;I.config.plotOptions.radialBar.inverseOrder&&(we=!0);for(var ke=we?p.series.length-1:0;we?ke>=0:ke<p.series.length;we?ke--:ke++){var T=w.group({class:"apexcharts-series apexcharts-radial-series",seriesName:_.escapeString(I.globals.seriesNames[ke])});E.add(T),T.attr({rel:ke+1,"data:realIndex":ke}),this.ctx.series.addCollapsedClassToSeries(T,ke),p.size=p.size-D-this.margin;var q=k.fillPath({seriesNumber:ke,size:p.size,value:p.series[ke]}),Ae=this.startAngle,Se=void 0,Ze=_.negToZero(p.series[ke]>100?100:p.series[ke])/100,Te=Math.round(this.totalAngle*Ze)+this.startAngle,Qe=void 0;I.globals.dataChanged&&(Se=this.startAngle,Qe=Math.round(this.totalAngle*_.negToZero(I.globals.previousPaths[ke])/100)+Se),Math.abs(Te)+Math.abs(Ae)>=360&&(Te-=.01),Math.abs(Qe)+Math.abs(Se)>=360&&(Qe-=.01);var Oe=Te-Ae,ut=Array.isArray(I.config.stroke.dashArray)?I.config.stroke.dashArray[ke]:I.config.stroke.dashArray,Gt=w.drawPath({d:"",stroke:q,strokeWidth:D,fill:"none",fillOpacity:I.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+ke,strokeDashArray:ut});if(j.setAttrs(Gt.node,{"data:angle":Oe,"data:value":p.series[ke]}),I.config.chart.dropShadow.enabled){var dt=I.config.chart.dropShadow;Z.dropShadow(Gt,dt,ke)}if(Z.setSelectionFilter(Gt,0,ke),this.addListeners(Gt,this.radialDataLabels),T.add(Gt),Gt.attr({index:0,j:ke}),this.barLabels.enabled){var Et=_.polarToCartesian(p.centerX,p.centerY,p.size,Ae),Ot=this.barLabels.formatter(I.globals.seriesNames[ke],{seriesIndex:ke,w:I}),an=["apexcharts-radialbar-label"];this.barLabels.onClick||an.push("apexcharts-no-click");var hn=this.barLabels.useSeriesColors?I.globals.colors[ke]:I.config.chart.foreColor;hn||(hn=I.config.chart.foreColor);var In=Et.x-this.barLabels.margin,bn=Et.y,kn=w.drawText({x:In,y:bn,text:Ot,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:hn,cssClass:an.join(" ")});kn.on("click",this.onBarLabelClick),kn.attr({rel:ke+1}),Ae!==0&&kn.attr({"transform-origin":"".concat(In," ").concat(bn),transform:"rotate(".concat(Ae," 0 0)")}),T.add(kn)}var En=0;!this.initialAnim||I.globals.resized||I.globals.dataChanged||(En=I.config.chart.animations.speed),I.globals.dataChanged&&(En=I.config.chart.animations.dynamicAnimation.speed),this.animDur=En/(1.2*p.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(Gt,{centerX:p.centerX,centerY:p.centerY,endAngle:Te,startAngle:Ae,prevEndAngle:Qe,prevStartAngle:Se,size:p.size,i:ke,totalItems:2,animBeginArr:this.animBeginArr,dur:En,shouldSetPrevPaths:!0,easing:I.globals.easing})}return{g:E,elHollow:te,dataLabels:Ce}}},{key:"drawHollow",value:function(p){var I=new j(this.ctx).drawCircle(2*p.size);return I.attr({class:"apexcharts-radialbar-hollow",cx:p.centerX,cy:p.centerY,r:p.size,fill:p.fill}),I}},{key:"drawHollowImage",value:function(p,I,w,k){var Z=this.w,E=new _e(this.ctx),D=_.randomId(),Y=Z.config.plotOptions.radialBar.hollow.image;if(Z.config.plotOptions.radialBar.hollow.imageClipped)E.clippedImgArea({width:w,height:w,image:Y,patternID:"pattern".concat(Z.globals.cuid).concat(D)}),k="url(#pattern".concat(Z.globals.cuid).concat(D,")");else{var U=Z.config.plotOptions.radialBar.hollow.imageWidth,z=Z.config.plotOptions.radialBar.hollow.imageHeight;if(U===void 0&&z===void 0){var te=Z.globals.dom.Paper.image(Y).loaded(function(ge){this.move(p.centerX-ge.width/2+Z.config.plotOptions.radialBar.hollow.imageOffsetX,p.centerY-ge.height/2+Z.config.plotOptions.radialBar.hollow.imageOffsetY)});I.add(te)}else{var ae=Z.globals.dom.Paper.image(Y).loaded(function(ge){this.move(p.centerX-U/2+Z.config.plotOptions.radialBar.hollow.imageOffsetX,p.centerY-z/2+Z.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(U,z)});I.add(ae)}}return k}},{key:"getStrokeWidth",value:function(p){var I=this.w;return p.size*(100-parseInt(I.config.plotOptions.radialBar.hollow.size,10))/100/(p.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(p){var I=parseInt(p.target.getAttribute("rel"),10)-1,w=this.barLabels.onClick,k=this.w;w&&w(k.globals.seriesNames[I],{w:k,seriesIndex:I})}}]),A}(),Xr=function(Be){v(A,Qn);var d=R(A);function A(){return c(this,A),d.apply(this,arguments)}return C(A,[{key:"draw",value:function(p,I){var w=this.w,k=new j(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=p,this.seriesRangeStart=w.globals.seriesRangeStart,this.seriesRangeEnd=w.globals.seriesRangeEnd,this.barHelpers.initVariables(p);for(var Z=k.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),E=0;E<p.length;E++){var D,Y,U,z,te=void 0,ae=void 0,ge=w.globals.comboCharts?I[E]:E,Ce=this.barHelpers.getGroupIndex(ge).columnGroupIndex,we=k.group({class:"apexcharts-series",seriesName:_.escapeString(w.globals.seriesNames[ge]),rel:E+1,"data:realIndex":ge});this.ctx.series.addCollapsedClassToSeries(we,ge),p[E].length>0&&(this.visibleI=this.visibleI+1);var ke=0,T=0,q=0;this.yRatio.length>1&&(this.yaxisIndex=w.globals.seriesYAxisReverseMap[ge][0],q=ge);var Ae=this.barHelpers.initialPositions();ae=Ae.y,z=Ae.zeroW,te=Ae.x,T=Ae.barWidth,ke=Ae.barHeight,D=Ae.xDivision,Y=Ae.yDivision,U=Ae.zeroH;for(var Se=k.group({class:"apexcharts-datalabels","data:realIndex":ge}),Ze=k.group({class:"apexcharts-rangebar-goals-markers"}),Te=0;Te<w.globals.dataPoints;Te++){var Qe,Oe=this.barHelpers.getStrokeWidth(E,Te,ge),ut=this.seriesRangeStart[E][Te],Gt=this.seriesRangeEnd[E][Te],dt=null,Et=null,Ot=null,an={x:te,y:ae,strokeWidth:Oe,elSeries:we},hn=this.seriesLen;if(w.config.plotOptions.bar.rangeBarGroupRows&&(hn=1),w.config.series[E].data[Te]===void 0)break;if(this.isHorizontal){Ot=ae+ke*this.visibleI;var In=(Y-ke*hn)/2;if(w.config.series[E].data[Te].x){var bn=this.detectOverlappingBars({i:E,j:Te,barYPosition:Ot,srty:In,barHeight:ke,yDivision:Y,initPositions:Ae});ke=bn.barHeight,Ot=bn.barYPosition}T=(dt=this.drawRangeBarPaths(o({indexes:{i:E,j:Te,realIndex:ge},barHeight:ke,barYPosition:Ot,zeroW:z,yDivision:Y,y1:ut,y2:Gt},an))).barWidth}else{w.globals.isXNumeric&&(te=(w.globals.seriesX[E][Te]-w.globals.minX)/this.xRatio-T/2),Et=te+T*this.visibleI;var kn=(D-T*hn)/2;if(w.config.series[E].data[Te].x){var En=this.detectOverlappingBars({i:E,j:Te,barXPosition:Et,srtx:kn,barWidth:T,xDivision:D,initPositions:Ae});T=En.barWidth,Et=En.barXPosition}ke=(dt=this.drawRangeColumnPaths(o({indexes:{i:E,j:Te,realIndex:ge,translationsIndex:q},barWidth:T,barXPosition:Et,zeroH:U,xDivision:D},an))).barHeight}var Ri=this.barHelpers.drawGoalLine({barXPosition:dt.barXPosition,barYPosition:Ot,goalX:dt.goalX,goalY:dt.goalY,barHeight:ke,barWidth:T});Ri&&Ze.add(Ri),ae=dt.y,te=dt.x;var jn=this.barHelpers.getPathFillColor(p,E,Te,ge),Ci=w.globals.stroke.colors[ge];this.renderSeries((m(Qe={realIndex:ge,pathFill:jn,lineFill:Ci,j:Te,i:E,x:te,y:ae,y1:ut,y2:Gt,pathFrom:dt.pathFrom,pathTo:dt.pathTo,strokeWidth:Oe,elSeries:we,series:p,barHeight:ke,barWidth:T,barXPosition:Et,barYPosition:Ot},"barWidth",T),m(Qe,"columnGroupIndex",Ce),m(Qe,"elDataLabelsWrap",Se),m(Qe,"elGoalsMarkers",Ze),m(Qe,"visibleSeries",this.visibleI),m(Qe,"type","rangebar"),Qe))}Z.add(we)}return Z}},{key:"detectOverlappingBars",value:function(p){var I=p.i,w=p.j,k=p.barYPosition,Z=p.barXPosition,E=p.srty,D=p.srtx,Y=p.barHeight,U=p.barWidth,z=p.yDivision,te=p.xDivision,ae=p.initPositions,ge=this.w,Ce=[],we=ge.config.series[I].data[w].rangeName,ke=ge.config.series[I].data[w].x,T=Array.isArray(ke)?ke.join(" "):ke,q=ge.globals.labels.map(function(Se){return Array.isArray(Se)?Se.join(" "):Se}).indexOf(T),Ae=ge.globals.seriesRange[I].findIndex(function(Se){return Se.x===T&&Se.overlaps.length>0});return this.isHorizontal?(k=ge.config.plotOptions.bar.rangeBarGroupRows?E+z*q:E+Y*this.visibleI+z*q,Ae>-1&&!ge.config.plotOptions.bar.rangeBarOverlap&&(Ce=ge.globals.seriesRange[I][Ae].overlaps).indexOf(we)>-1&&(k=(Y=ae.barHeight/Ce.length)*this.visibleI+z*(100-parseInt(this.barOptions.barHeight,10))/100/2+Y*(this.visibleI+Ce.indexOf(we))+z*q)):(q>-1&&!ge.globals.timescaleLabels.length&&(Z=ge.config.plotOptions.bar.rangeBarGroupRows?D+te*q:D+U*this.visibleI+te*q),Ae>-1&&!ge.config.plotOptions.bar.rangeBarOverlap&&(Ce=ge.globals.seriesRange[I][Ae].overlaps).indexOf(we)>-1&&(Z=(U=ae.barWidth/Ce.length)*this.visibleI+te*(100-parseInt(this.barOptions.barWidth,10))/100/2+U*(this.visibleI+Ce.indexOf(we))+te*q)),{barYPosition:k,barXPosition:Z,barHeight:Y,barWidth:U}}},{key:"drawRangeColumnPaths",value:function(p){var I=p.indexes,w=p.x,k=p.xDivision,Z=p.barWidth,E=p.barXPosition,D=p.zeroH,Y=this.w,U=I.i,z=I.j,te=I.realIndex,ae=I.translationsIndex,ge=this.yRatio[ae],Ce=this.getRangeValue(te,z),we=Math.min(Ce.start,Ce.end),ke=Math.max(Ce.start,Ce.end);this.series[U][z]===void 0||this.series[U][z]===null?we=D:(we=D-we/ge,ke=D-ke/ge);var T=Math.abs(ke-we),q=this.barHelpers.getColumnPaths({barXPosition:E,barWidth:Z,y1:we,y2:ke,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:te,i:te,j:z,w:Y});if(Y.globals.isXNumeric){var Ae=this.getBarXForNumericXAxis({x:w,j:z,realIndex:te,barWidth:Z});w=Ae.x,E=Ae.barXPosition}else w+=k;return{pathTo:q.pathTo,pathFrom:q.pathFrom,barHeight:T,x:w,y:Ce.start<0&&Ce.end<0?we:ke,goalY:this.barHelpers.getGoalValues("y",null,D,U,z,ae),barXPosition:E}}},{key:"drawRangeBarPaths",value:function(p){var I=p.indexes,w=p.y,k=p.y1,Z=p.y2,E=p.yDivision,D=p.barHeight,Y=p.barYPosition,U=p.zeroW,z=this.w,te=I.realIndex,ae=I.j,ge=U+k/this.invertedYRatio,Ce=U+Z/this.invertedYRatio,we=this.getRangeValue(te,ae),ke=Math.abs(Ce-ge),T=this.barHelpers.getBarpaths({barYPosition:Y,barHeight:D,x1:ge,x2:Ce,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:te,realIndex:te,j:ae,w:z});return z.globals.isXNumeric||(w+=E),{pathTo:T.pathTo,pathFrom:T.pathFrom,barWidth:ke,x:we.start<0&&we.end<0?ge:Ce,goalX:this.barHelpers.getGoalValues("x",U,null,te,ae),y:w}}},{key:"getRangeValue",value:function(p,I){var w=this.w;return{start:w.globals.seriesRangeStart[p][I],end:w.globals.seriesRangeEnd[p][I]}}}]),A}(),yn=function(){function Be(d){c(this,Be),this.w=d.w,this.lineCtx=d}return C(Be,[{key:"sameValueSeriesFix",value:function(d,A){var p=this.w;if((p.config.fill.type==="gradient"||p.config.fill.type[d]==="gradient")&&new re(this.lineCtx.ctx,p).seriesHaveSameValues(d)){var I=A[d].slice();I[I.length-1]=I[I.length-1]+1e-6,A[d]=I}return A}},{key:"calculatePoints",value:function(d){var A=d.series,p=d.realIndex,I=d.x,w=d.y,k=d.i,Z=d.j,E=d.prevY,D=this.w,Y=[],U=[];if(Z===0){var z=this.lineCtx.categoryAxisCorrection+D.config.markers.offsetX;D.globals.isXNumeric&&(z=(D.globals.seriesX[p][0]-D.globals.minX)/this.lineCtx.xRatio+D.config.markers.offsetX),Y.push(z),U.push(_.isNumber(A[k][0])?E+D.config.markers.offsetY:null),Y.push(I+D.config.markers.offsetX),U.push(_.isNumber(A[k][Z+1])?w+D.config.markers.offsetY:null)}else Y.push(I+D.config.markers.offsetX),U.push(_.isNumber(A[k][Z+1])?w+D.config.markers.offsetY:null);return{x:Y,y:U}}},{key:"checkPreviousPaths",value:function(d){for(var A=d.pathFromLine,p=d.pathFromArea,I=d.realIndex,w=this.w,k=0;k<w.globals.previousPaths.length;k++){var Z=w.globals.previousPaths[k];(Z.type==="line"||Z.type==="area")&&Z.paths.length>0&&parseInt(Z.realIndex,10)===parseInt(I,10)&&(Z.type==="line"?(this.lineCtx.appendPathFrom=!1,A=w.globals.previousPaths[k].paths[0].d):Z.type==="area"&&(this.lineCtx.appendPathFrom=!1,p=w.globals.previousPaths[k].paths[0].d,w.config.stroke.show&&w.globals.previousPaths[k].paths[1]&&(A=w.globals.previousPaths[k].paths[1].d)))}return{pathFromLine:A,pathFromArea:p}}},{key:"determineFirstPrevY",value:function(d){var A,p,I,w=d.i,k=d.realIndex,Z=d.series,E=d.prevY,D=d.lineYPosition,Y=d.translationsIndex,U=this.w,z=U.config.chart.stacked&&!U.globals.comboCharts||U.config.chart.stacked&&U.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((A=this.w.config.series[k])===null||A===void 0?void 0:A.type)==="bar"||((p=this.w.config.series[k])===null||p===void 0?void 0:p.type)==="column");if(((I=Z[w])===null||I===void 0?void 0:I[0])!==void 0)E=(D=z&&w>0?this.lineCtx.prevSeriesY[w-1][0]:this.lineCtx.zeroY)-Z[w][0]/this.lineCtx.yRatio[Y]+2*(this.lineCtx.isReversed?Z[w][0]/this.lineCtx.yRatio[Y]:0);else if(z&&w>0&&Z[w][0]===void 0){for(var te=w-1;te>=0;te--)if(Z[te][0]!==null&&Z[te][0]!==void 0){E=D=this.lineCtx.prevSeriesY[te][0];break}}return{prevY:E,lineYPosition:D}}}]),Be}(),$o=function(Be){for(var d,A,p,I,w=function(Y){for(var U=[],z=Y[0],te=Y[1],ae=U[0]=or(z,te),ge=1,Ce=Y.length-1;ge<Ce;ge++)z=te,te=Y[ge+1],U[ge]=.5*(ae+(ae=or(z,te)));return U[ge]=ae,U}(Be),k=Be.length-1,Z=[],E=0;E<k;E++)p=or(Be[E],Be[E+1]),Math.abs(p)<1e-6?w[E]=w[E+1]=0:(I=(d=w[E]/p)*d+(A=w[E+1]/p)*A)>9&&(I=3*p/Math.sqrt(I),w[E]=I*d,w[E+1]=I*A);for(var D=0;D<=k;D++)I=(Be[Math.min(k,D+1)][0]-Be[Math.max(0,D-1)][0])/(6*(1+w[D]*w[D])),Z.push([I||0,w[D]*I||0]);return Z},Cs=function(Be){var d=$o(Be),A=Be[1],p=Be[0],I=[],w=d[1],k=d[0];I.push(p,[p[0]+k[0],p[1]+k[1],A[0]-w[0],A[1]-w[1],A[0],A[1]]);for(var Z=2,E=d.length;Z<E;Z++){var D=Be[Z],Y=d[Z];I.push([D[0]-Y[0],D[1]-Y[1],D[0],D[1]])}return I},fo=function(Be,d,A){var p=Be.slice(d,A);if(d){if(A-d>1&&p[1].length<6){var I=p[0].length;p[1]=[2*p[0][I-2]-p[0][I-4],2*p[0][I-1]-p[0][I-3]].concat(p[1])}p[0]=p[0].slice(-2)}return p};function or(Be,d){return(d[1]-Be[1])/(d[0]-Be[0])}var qi=function(){function Be(d,A,p){c(this,Be),this.ctx=d,this.w=d.w,this.xyRatios=A,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||p,this.scatter=new Ee(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new yn(this),this.markers=new pe(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return C(Be,[{key:"draw",value:function(d,A,p,I){var w,k=this.w,Z=new j(this.ctx),E=k.globals.comboCharts?A:k.config.chart.type,D=Z.group({class:"apexcharts-".concat(E,"-series apexcharts-plot-series")}),Y=new re(this.ctx,k);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,d=Y.getLogSeries(d),this.yRatio=Y.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var U=[],z=0;z<d.length;z++){d=this.lineHelpers.sameValueSeriesFix(z,d);var te=k.globals.comboCharts?p[z]:z,ae=this.yRatio.length>1?te:0;this._initSerieVariables(d,z,te);var ge=[],Ce=[],we=[],ke=k.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,te),k.globals.isXNumeric&&k.globals.seriesX.length>0&&(ke=(k.globals.seriesX[te][0]-k.globals.minX)/this.xRatio),we.push(ke);var T,q=ke,Ae=void 0,Se=q,Ze=this.zeroY,Te=this.zeroY;Ze=this.lineHelpers.determineFirstPrevY({i:z,realIndex:te,series:d,prevY:Ze,lineYPosition:0,translationsIndex:ae}).prevY,k.config.stroke.curve==="monotoneCubic"&&d[z][0]===null?ge.push(null):ge.push(Ze),T=Ze,E==="rangeArea"&&(Ae=Te=this.lineHelpers.determineFirstPrevY({i:z,realIndex:te,series:I,prevY:Te,lineYPosition:0,translationsIndex:ae}).prevY,Ce.push(ge[0]!==null?Te:null));var Qe=this._calculatePathsFrom({type:E,series:d,i:z,realIndex:te,translationsIndex:ae,prevX:Se,prevY:Ze,prevY2:Te}),Oe=[ge[0]],ut=[Ce[0]],Gt={type:E,series:d,realIndex:te,translationsIndex:ae,i:z,x:ke,y:1,pX:q,pY:T,pathsFrom:Qe,linePaths:[],areaPaths:[],seriesIndex:p,lineYPosition:0,xArrj:we,yArrj:ge,y2Arrj:Ce,seriesRangeEnd:I},dt=this._iterateOverDataPoints(o(o({},Gt),{},{iterations:E==="rangeArea"?d[z].length-1:void 0,isRangeStart:!0}));if(E==="rangeArea"){for(var Et=this._calculatePathsFrom({series:I,i:z,realIndex:te,prevX:Se,prevY:Te}),Ot=this._iterateOverDataPoints(o(o({},Gt),{},{series:I,xArrj:[ke],yArrj:Oe,y2Arrj:ut,pY:Ae,areaPaths:dt.areaPaths,pathsFrom:Et,iterations:I[z].length-1,isRangeStart:!1})),an=dt.linePaths.length/2,hn=0;hn<an;hn++)dt.linePaths[hn]=Ot.linePaths[hn+an]+dt.linePaths[hn];dt.linePaths.splice(an),dt.pathFromLine=Ot.pathFromLine+dt.pathFromLine}else dt.pathFromArea+=Z.line(0,this.zeroY);this._handlePaths({type:E,realIndex:te,i:z,paths:dt}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),U.push(this.elSeries)}if(((w=k.config.series[0])===null||w===void 0?void 0:w.zIndex)!==void 0&&U.sort(function(kn,En){return Number(kn.node.getAttribute("zIndex"))-Number(En.node.getAttribute("zIndex"))}),k.config.chart.stacked)for(var In=U.length-1;In>=0;In--)D.add(U[In]);else for(var bn=0;bn<U.length;bn++)D.add(U[bn]);return D}},{key:"_initSerieVariables",value:function(d,A,p){var I=this.w,w=new j(this.ctx);this.xDivision=I.globals.gridWidth/(I.globals.dataPoints-(I.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(I.config.stroke.width)?I.config.stroke.width[p]:I.config.stroke.width;var k=0;this.yRatio.length>1&&(this.yaxisIndex=I.globals.seriesYAxisReverseMap[p],k=p),this.isReversed=I.config.yaxis[this.yaxisIndex]&&I.config.yaxis[this.yaxisIndex].reversed,this.zeroY=I.globals.gridHeight-this.baseLineY[k]-(this.isReversed?I.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[k]:0),this.areaBottomY=this.zeroY,(this.zeroY>I.globals.gridHeight||I.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=I.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=w.group({class:"apexcharts-series",zIndex:I.config.series[p].zIndex!==void 0?I.config.series[p].zIndex:p,seriesName:_.escapeString(I.globals.seriesNames[p])}),this.elPointsMain=w.group({class:"apexcharts-series-markers-wrap","data:realIndex":p}),this.elDataLabelsWrap=w.group({class:"apexcharts-datalabels","data:realIndex":p});var Z=d[A].length===I.globals.dataPoints;this.elSeries.attr({"data:longestSeries":Z,rel:A+1,"data:realIndex":p}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(d){var A,p,I,w,k=d.type,Z=d.series,E=d.i,D=d.realIndex,Y=d.translationsIndex,U=d.prevX,z=d.prevY,te=d.prevY2,ae=this.w,ge=new j(this.ctx);if(Z[E][0]===null){for(var Ce=0;Ce<Z[E].length;Ce++)if(Z[E][Ce]!==null){U=this.xDivision*Ce,z=this.zeroY-Z[E][Ce]/this.yRatio[Y],A=ge.move(U,z),p=ge.move(U,this.areaBottomY);break}}else A=ge.move(U,z),k==="rangeArea"&&(A=ge.move(U,te)+ge.line(U,z)),p=ge.move(U,this.areaBottomY)+ge.line(U,z);if(I=ge.move(0,this.zeroY)+ge.line(0,this.zeroY),w=ge.move(0,this.zeroY)+ge.line(0,this.zeroY),ae.globals.previousPaths.length>0){var we=this.lineHelpers.checkPreviousPaths({pathFromLine:I,pathFromArea:w,realIndex:D});I=we.pathFromLine,w=we.pathFromArea}return{prevX:U,prevY:z,linePath:A,areaPath:p,pathFromLine:I,pathFromArea:w}}},{key:"_handlePaths",value:function(d){var A=d.type,p=d.realIndex,I=d.i,w=d.paths,k=this.w,Z=new j(this.ctx),E=new _e(this.ctx);this.prevSeriesY.push(w.yArrj),k.globals.seriesXvalues[p]=w.xArrj,k.globals.seriesYvalues[p]=w.yArrj;var D=k.config.forecastDataPoints;if(D.count>0&&A!=="rangeArea"){var Y=k.globals.seriesXvalues[p][k.globals.seriesXvalues[p].length-D.count-1],U=Z.drawRect(Y,0,k.globals.gridWidth,k.globals.gridHeight,0);k.globals.dom.elForecastMask.appendChild(U.node);var z=Z.drawRect(0,0,Y,k.globals.gridHeight,0);k.globals.dom.elNonForecastMask.appendChild(z.node)}this.pointsChart||k.globals.delayedElements.push({el:this.elPointsMain.node,index:p});var te={i:I,realIndex:p,animationDelay:I,initialSpeed:k.config.chart.animations.speed,dataChangeSpeed:k.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(A)};if(A==="area")for(var ae=E.fillPath({seriesNumber:p}),ge=0;ge<w.areaPaths.length;ge++){var Ce=Z.renderPaths(o(o({},te),{},{pathFrom:w.pathFromArea,pathTo:w.areaPaths[ge],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:ae}));this.elSeries.add(Ce)}if(k.config.stroke.show&&!this.pointsChart){var we=null;if(A==="line")we=E.fillPath({seriesNumber:p,i:I});else if(k.config.stroke.fill.type==="solid")we=k.globals.stroke.colors[p];else{var ke=k.config.fill;k.config.fill=k.config.stroke.fill,we=E.fillPath({seriesNumber:p,i:I}),k.config.fill=ke}for(var T=0;T<w.linePaths.length;T++){var q=we;A==="rangeArea"&&(q=E.fillPath({seriesNumber:p}));var Ae=o(o({},te),{},{pathFrom:w.pathFromLine,pathTo:w.linePaths[T],stroke:we,strokeWidth:this.strokeWidth,strokeLineCap:k.config.stroke.lineCap,fill:A==="rangeArea"?q:"none"}),Se=Z.renderPaths(Ae);if(this.elSeries.add(Se),Se.attr("fill-rule","evenodd"),D.count>0&&A!=="rangeArea"){var Ze=Z.renderPaths(Ae);Ze.node.setAttribute("stroke-dasharray",D.dashArray),D.strokeWidth&&Ze.node.setAttribute("stroke-width",D.strokeWidth),this.elSeries.add(Ze),Ze.attr("clip-path","url(#forecastMask".concat(k.globals.cuid,")")),Se.attr("clip-path","url(#nonForecastMask".concat(k.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(d){var A,p,I=this,w=d.type,k=d.series,Z=d.iterations,E=d.realIndex,D=d.translationsIndex,Y=d.i,U=d.x,z=d.y,te=d.pX,ae=d.pY,ge=d.pathsFrom,Ce=d.linePaths,we=d.areaPaths,ke=d.seriesIndex,T=d.lineYPosition,q=d.xArrj,Ae=d.yArrj,Se=d.y2Arrj,Ze=d.isRangeStart,Te=d.seriesRangeEnd,Qe=this.w,Oe=new j(this.ctx),ut=this.yRatio,Gt=ge.prevY,dt=ge.linePath,Et=ge.areaPath,Ot=ge.pathFromLine,an=ge.pathFromArea,hn=_.isNumber(Qe.globals.minYArr[E])?Qe.globals.minYArr[E]:Qe.globals.minY;Z||(Z=Qe.globals.dataPoints>1?Qe.globals.dataPoints-1:Qe.globals.dataPoints);var In=function(Yi,kr){return kr-Yi/ut[D]+2*(I.isReversed?Yi/ut[D]:0)},bn=z,kn=Qe.config.chart.stacked&&!Qe.globals.comboCharts||Qe.config.chart.stacked&&Qe.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((A=this.w.config.series[E])===null||A===void 0?void 0:A.type)==="bar"||((p=this.w.config.series[E])===null||p===void 0?void 0:p.type)==="column"),En=Qe.config.stroke.curve;Array.isArray(En)&&(En=Array.isArray(ke)?En[ke[Y]]:En[Y]);for(var Ri,jn=0,Ci=0;Ci<Z;Ci++){var eo=k[Y][Ci+1]===void 0||k[Y][Ci+1]===null;if(Qe.globals.isXNumeric){var ln=Qe.globals.seriesX[E][Ci+1];Qe.globals.seriesX[E][Ci+1]===void 0&&(ln=Qe.globals.seriesX[E][Z-1]),U=(ln-Qe.globals.minX)/this.xRatio}else U+=this.xDivision;kn?Y>0&&Qe.globals.collapsedSeries.length<Qe.config.series.length-1?T=this.prevSeriesY[function(Yi){for(var kr=Yi;kr>0;kr--){if(!(Qe.globals.collapsedSeriesIndices.indexOf((ke==null?void 0:ke[kr])||kr)>-1))return kr;kr--}return 0}(Y-1)][Ci+1]:T=this.zeroY:T=this.zeroY,eo?z=In(hn,T):(z=In(k[Y][Ci+1],T),w==="rangeArea"&&(bn=In(Te[Y][Ci+1],T))),q.push(U),!eo||Qe.config.stroke.curve!=="smooth"&&Qe.config.stroke.curve!=="monotoneCubic"?(Ae.push(z),Se.push(bn)):(Ae.push(null),Se.push(null));var gi=this.lineHelpers.calculatePoints({series:k,x:U,y:z,realIndex:E,i:Y,j:Ci,prevY:Gt}),ni=this._createPaths({type:w,series:k,i:Y,realIndex:E,j:Ci,x:U,y:z,y2:bn,xArrj:q,yArrj:Ae,y2Arrj:Se,pX:te,pY:ae,pathState:jn,segmentStartX:Ri,linePath:dt,areaPath:Et,linePaths:Ce,areaPaths:we,curve:En,isRangeStart:Ze});we=ni.areaPaths,Ce=ni.linePaths,te=ni.pX,ae=ni.pY,jn=ni.pathState,Ri=ni.segmentStartX,Et=ni.areaPath,dt=ni.linePath,!this.appendPathFrom||En==="monotoneCubic"&&w==="rangeArea"||(Ot+=Oe.line(U,this.zeroY),an+=Oe.line(U,this.zeroY)),this.handleNullDataPoints(k,gi,Y,Ci,E),this._handleMarkersAndLabels({type:w,pointsPos:gi,i:Y,j:Ci,realIndex:E,isRangeStart:Ze})}return{yArrj:Ae,xArrj:q,pathFromArea:an,areaPaths:we,pathFromLine:Ot,linePaths:Ce,linePath:dt,areaPath:Et}}},{key:"_handleMarkersAndLabels",value:function(d){var A=d.type,p=d.pointsPos,I=d.isRangeStart,w=d.i,k=d.j,Z=d.realIndex,E=this.w,D=new We(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,k,{realIndex:Z,pointsPos:p,zRatio:this.zRatio,elParent:this.elPointsMain});else{E.globals.series[w].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var Y=this.markers.plotChartMarkers(p,Z,k+1);Y!==null&&this.elPointsMain.add(Y)}var U=D.drawDataLabel({type:A,isRangeStart:I,pos:p,i:Z,j:k+1});U!==null&&this.elDataLabelsWrap.add(U)}},{key:"_createPaths",value:function(d){var A=d.type,p=d.series,I=d.i;d.realIndex;var w=d.j,k=d.x,Z=d.y,E=d.xArrj,D=d.yArrj,Y=d.y2,U=d.y2Arrj,z=d.pX,te=d.pY,ae=d.pathState,ge=d.segmentStartX,Ce=d.linePath,we=d.areaPath,ke=d.linePaths,T=d.areaPaths,q=d.curve,Ae=d.isRangeStart;this.w;var Se,Ze=new j(this.ctx),Te=this.areaBottomY,Qe=A==="rangeArea",Oe=A==="rangeArea"&&Ae;switch(q){case"monotoneCubic":var ut=Ae?D:U;switch(ae){case 0:if(ut[w+1]===null)break;ae=1;case 1:if(!(Qe?E.length===p[I].length:w===p[I].length-2))break;case 2:var Gt=Ae?E:E.slice().reverse(),dt=Ae?ut:ut.slice().reverse(),Et=(Se=dt,Gt.map(function(ln,gi){return[ln,Se[gi]]}).filter(function(ln){return ln[1]!==null})),Ot=Et.length>1?Cs(Et):Et,an=[];Qe&&(Oe?T=Et:an=T.reverse());var hn=0,In=0;if(function(ln,gi){for(var ni=function(Hs){var sr=[],Ds=0;return Hs.forEach(function(Wc){Wc!==null?Ds++:Ds>0&&(sr.push(Ds),Ds=0)}),Ds>0&&sr.push(Ds),sr}(ln),Yi=[],kr=0,Xo=0;kr<ni.length;Xo+=ni[kr++])Yi[kr]=fo(gi,Xo,Xo+ni[kr]);return Yi}(dt,Ot).forEach(function(ln){hn++;var gi=function(kr){for(var Xo="",Hs=0;Hs<kr.length;Hs++){var sr=kr[Hs],Ds=sr.length;Ds>4?(Xo+="C".concat(sr[0],", ").concat(sr[1]),Xo+=", ".concat(sr[2],", ").concat(sr[3]),Xo+=", ".concat(sr[4],", ").concat(sr[5])):Ds>2&&(Xo+="S".concat(sr[0],", ").concat(sr[1]),Xo+=", ".concat(sr[2],", ").concat(sr[3]))}return Xo}(ln),ni=In,Yi=(In+=ln.length)-1;Oe?Ce=Ze.move(Et[ni][0],Et[ni][1])+gi:Qe?Ce=Ze.move(an[ni][0],an[ni][1])+Ze.line(Et[ni][0],Et[ni][1])+gi+Ze.line(an[Yi][0],an[Yi][1]):(Ce=Ze.move(Et[ni][0],Et[ni][1])+gi,we=Ce+Ze.line(Et[Yi][0],Te)+Ze.line(Et[ni][0],Te)+"z",T.push(we)),ke.push(Ce)}),Qe&&hn>1&&!Oe){var bn=ke.slice(hn).reverse();ke.splice(hn),bn.forEach(function(ln){return ke.push(ln)})}ae=0}break;case"smooth":var kn=.35*(k-z);if(p[I][w]===null)ae=0;else switch(ae){case 0:if(ge=z,Ce=Oe?Ze.move(z,U[w])+Ze.line(z,te):Ze.move(z,te),we=Ze.move(z,te),ae=1,w<p[I].length-2){var En=Ze.curve(z+kn,te,k-kn,Z,k,Z);Ce+=En,we+=En;break}case 1:if(p[I][w+1]===null)Ce+=Oe?Ze.line(z,Y):Ze.move(z,te),we+=Ze.line(z,Te)+Ze.line(ge,Te)+"z",ke.push(Ce),T.push(we);else{var Ri=Ze.curve(z+kn,te,k-kn,Z,k,Z);Ce+=Ri,we+=Ri,w>=p[I].length-2&&(Oe&&(Ce+=Ze.curve(k,Z,k,Z,k,Y)+Ze.move(k,Y)),we+=Ze.curve(k,Z,k,Z,k,Te)+Ze.line(ge,Te)+"z",ke.push(Ce),T.push(we))}}z=k,te=Z;break;default:var jn=function(ln,gi,ni){var Yi=[];switch(ln){case"stepline":Yi=Ze.line(gi,null,"H")+Ze.line(null,ni,"V");break;case"linestep":Yi=Ze.line(null,ni,"V")+Ze.line(gi,null,"H");break;case"straight":Yi=Ze.line(gi,ni)}return Yi};if(p[I][w]===null)ae=0;else switch(ae){case 0:if(ge=z,Ce=Oe?Ze.move(z,U[w])+Ze.line(z,te):Ze.move(z,te),we=Ze.move(z,te),ae=1,w<p[I].length-2){var Ci=jn(q,k,Z);Ce+=Ci,we+=Ci;break}case 1:if(p[I][w+1]===null)Ce+=Oe?Ze.line(z,Y):Ze.move(z,te),we+=Ze.line(z,Te)+Ze.line(ge,Te)+"z",ke.push(Ce),T.push(we);else{var eo=jn(q,k,Z);Ce+=eo,we+=eo,w>=p[I].length-2&&(Oe&&(Ce+=Ze.line(k,Y)),we+=Ze.line(k,Te)+Ze.line(ge,Te)+"z",ke.push(Ce),T.push(we))}}z=k,te=Z}return{linePaths:ke,areaPaths:T,pX:z,pY:te,pathState:ae,segmentStartX:ge,linePath:Ce,areaPath:we}}},{key:"handleNullDataPoints",value:function(d,A,p,I,w){var k=this.w;if(d[p][I]===null&&k.config.markers.showNullDataPoints||d[p].length===1){var Z=this.strokeWidth-k.config.markers.strokeWidth/2;Z>0||(Z=0);var E=this.markers.plotChartMarkers(A,w,I+1,Z,!0);E!==null&&this.elPointsMain.add(E)}}}]),Be}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function Be(Z,E,D,Y){this.xoffset=Z,this.yoffset=E,this.height=Y,this.width=D,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(U){var z,te=[],ae=this.xoffset,ge=this.yoffset,Ce=w(U)/this.height,we=w(U)/this.width;if(this.width>=this.height)for(z=0;z<U.length;z++)te.push([ae,ge,ae+Ce,ge+U[z]/Ce]),ge+=U[z]/Ce;else for(z=0;z<U.length;z++)te.push([ae,ge,ae+U[z]/we,ge+we]),ae+=U[z]/we;return te},this.cutArea=function(U){var z;if(this.width>=this.height){var te=U/this.height,ae=this.width-te;z=new Be(this.xoffset+te,this.yoffset,ae,this.height)}else{var ge=U/this.width,Ce=this.height-ge;z=new Be(this.xoffset,this.yoffset+ge,this.width,Ce)}return z}}function d(Z,E,D,Y,U){Y=Y===void 0?0:Y,U=U===void 0?0:U;var z=A(function(te,ae){var ge,Ce=[],we=ae/w(te);for(ge=0;ge<te.length;ge++)Ce[ge]=te[ge]*we;return Ce}(Z,E*D),[],new Be(Y,U,E,D),[]);return function(te){var ae,ge,Ce=[];for(ae=0;ae<te.length;ae++)for(ge=0;ge<te[ae].length;ge++)Ce.push(te[ae][ge]);return Ce}(z)}function A(Z,E,D,Y){var U,z,te;if(Z.length!==0)return U=D.shortestEdge(),function(ae,ge,Ce){var we;if(ae.length===0)return!0;(we=ae.slice()).push(ge);var ke=p(ae,Ce),T=p(we,Ce);return ke>=T}(E,z=Z[0],U)?(E.push(z),A(Z.slice(1),E,D,Y)):(te=D.cutArea(w(E),Y),Y.push(D.getCoordinates(E)),A(Z,[],te,Y)),Y;Y.push(D.getCoordinates(E))}function p(Z,E){var D=Math.min.apply(Math,Z),Y=Math.max.apply(Math,Z),U=w(Z);return Math.max(Math.pow(E,2)*Y/Math.pow(U,2),Math.pow(U,2)/(Math.pow(E,2)*D))}function I(Z){return Z&&Z.constructor===Array}function w(Z){var E,D=0;for(E=0;E<Z.length;E++)D+=Z[E];return D}function k(Z){var E,D=0;if(I(Z[0]))for(E=0;E<Z.length;E++)D+=k(Z[E]);else D=w(Z);return D}return function Z(E,D,Y,U,z){U=U===void 0?0:U,z=z===void 0?0:z;var te,ae,ge=[],Ce=[];if(I(E[0])){for(ae=0;ae<E.length;ae++)ge[ae]=k(E[ae]);for(te=d(ge,D,Y,U,z),ae=0;ae<E.length;ae++)Ce.push(Z(E[ae],te[ae][2]-te[ae][0],te[ae][3]-te[ae][1],te[ae][0],te[ae][1]))}else Ce=d(E,D,Y,U,z);return Ce}}();var Gi,Lo,es=function(){function Be(d,A){c(this,Be),this.ctx=d,this.w=d.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new fi(d),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return C(Be,[{key:"draw",value:function(d){var A=this,p=this.w,I=new j(this.ctx),w=new _e(this.ctx),k=I.group({class:"apexcharts-treemap"});if(p.globals.noData)return k;var Z=[];return d.forEach(function(E){var D=E.map(function(Y){return Math.abs(Y)});Z.push(D)}),this.negRange=this.helpers.checkColorRange(),p.config.series.forEach(function(E,D){E.data.forEach(function(Y){Array.isArray(A.labels[D])||(A.labels[D]=[]),A.labels[D].push(Y.x)})}),window.TreemapSquared.generate(Z,p.globals.gridWidth,p.globals.gridHeight).forEach(function(E,D){var Y=I.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:_.escapeString(p.globals.seriesNames[D]),rel:D+1,"data:realIndex":D});if(p.config.chart.dropShadow.enabled){var U=p.config.chart.dropShadow;new Q(A.ctx).dropShadow(k,U,D)}var z=I.group({class:"apexcharts-data-labels"});E.forEach(function(te,ae){var ge=te[0],Ce=te[1],we=te[2],ke=te[3],T=I.drawRect(ge,Ce,we-ge,ke-Ce,p.config.plotOptions.treemap.borderRadius,"#fff",1,A.strokeWidth,p.config.plotOptions.treemap.useFillColorAsStroke?Ae:p.globals.stroke.colors[D]);T.attr({cx:ge,cy:Ce,index:D,i:D,j:ae,width:we-ge,height:ke-Ce});var q=A.helpers.getShadeColor(p.config.chart.type,D,ae,A.negRange),Ae=q.color;p.config.series[D].data[ae]!==void 0&&p.config.series[D].data[ae].fillColor&&(Ae=p.config.series[D].data[ae].fillColor);var Se=w.fillPath({color:Ae,seriesNumber:D,dataPointIndex:ae});T.node.classList.add("apexcharts-treemap-rect"),T.attr({fill:Se}),A.helpers.addListeners(T);var Ze={x:ge+(we-ge)/2,y:Ce+(ke-Ce)/2,width:0,height:0},Te={x:ge,y:Ce,width:we-ge,height:ke-Ce};if(p.config.chart.animations.enabled&&!p.globals.dataChanged){var Qe=1;p.globals.resized||(Qe=p.config.chart.animations.speed),A.animateTreemap(T,Ze,Te,Qe)}if(p.globals.dataChanged){var Oe=1;A.dynamicAnim.enabled&&p.globals.shouldAnimate&&(Oe=A.dynamicAnim.speed,p.globals.previousPaths[D]&&p.globals.previousPaths[D][ae]&&p.globals.previousPaths[D][ae].rect&&(Ze=p.globals.previousPaths[D][ae].rect),A.animateTreemap(T,Ze,Te,Oe))}var ut=A.getFontSize(te),Gt=p.config.dataLabels.formatter(A.labels[D][ae],{value:p.globals.series[D][ae],seriesIndex:D,dataPointIndex:ae,w:p});p.config.plotOptions.treemap.dataLabels.format==="truncate"&&(ut=parseInt(p.config.dataLabels.style.fontSize,10),Gt=A.truncateLabels(Gt,ut,ge,Ce,we,ke));var dt=A.helpers.calculateDataLabels({text:Gt,x:(ge+we)/2,y:(Ce+ke)/2+A.strokeWidth/2+ut/3,i:D,j:ae,colorProps:q,fontSize:ut,series:d});p.config.dataLabels.enabled&&dt&&A.rotateToFitLabel(dt,ut,Gt,ge,Ce,we,ke),Y.add(T),dt!==null&&Y.add(dt)}),Y.add(z),k.add(Y)}),k}},{key:"getFontSize",value:function(d){var A=this.w,p,I,w,k,Z=function E(D){var Y,U=0;if(Array.isArray(D[0]))for(Y=0;Y<D.length;Y++)U+=E(D[Y]);else for(Y=0;Y<D.length;Y++)U+=D[Y].length;return U}(this.labels)/function E(D){var Y,U=0;if(Array.isArray(D[0]))for(Y=0;Y<D.length;Y++)U+=E(D[Y]);else for(Y=0;Y<D.length;Y++)U+=1;return U}(this.labels);return p=d[2]-d[0],I=d[3]-d[1],w=p*I,k=Math.pow(w,.5),Math.min(k/Z,parseInt(A.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(d,A,p,I,w,k,Z){var E=new j(this.ctx),D=E.getTextRects(p,A);if(D.width+this.w.config.stroke.width+5>k-I&&D.width<=Z-w){var Y=E.rotateAroundCenter(d.node);d.node.setAttribute("transform","rotate(-90 ".concat(Y.x," ").concat(Y.y,") translate(").concat(D.height/3,")"))}}},{key:"truncateLabels",value:function(d,A,p,I,w,k){var Z=new j(this.ctx),E=Z.getTextRects(d,A).width+this.w.config.stroke.width+5>w-p&&k-I>w-p?k-I:w-p,D=Z.getTextBasedOnMaxWidth({text:d,maxWidth:E,fontSize:A});return d.length!==D.length&&E/A<5?"":D}},{key:"animateTreemap",value:function(d,A,p,I){var w=new X(this.ctx);w.animateRect(d,{x:A.x,y:A.y,width:A.width,height:A.height},{x:p.x,y:p.y,width:p.width,height:p.height},I,function(){w.animationCompleted(d)})}}]),Be}(),So=86400,ts=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return C(Be,[{key:"calculateTimeScaleTicks",value:function(d,A){var p=this,I=this.w;if(I.globals.allSeriesCollapsed)return I.globals.labels=[],I.globals.timescaleLabels=[],[];var w=new de(this.ctx),k=(A-d)/864e5;this.determineInterval(k),I.globals.disableZoomIn=!1,I.globals.disableZoomOut=!1,k<.00011574074074074075?I.globals.disableZoomIn=!0:k>5e4&&(I.globals.disableZoomOut=!0);var Z=w.getTimeUnitsfromTimestamp(d,A,this.utc),E=I.globals.gridWidth/k,D=E/24,Y=D/60,U=Y/60,z=Math.floor(24*k),te=Math.floor(1440*k),ae=Math.floor(k*So),ge=Math.floor(k),Ce=Math.floor(k/30),we=Math.floor(k/365),ke={minMillisecond:Z.minMillisecond,minSecond:Z.minSecond,minMinute:Z.minMinute,minHour:Z.minHour,minDate:Z.minDate,minMonth:Z.minMonth,minYear:Z.minYear},T={firstVal:ke,currentMillisecond:ke.minMillisecond,currentSecond:ke.minSecond,currentMinute:ke.minMinute,currentHour:ke.minHour,currentMonthDate:ke.minDate,currentDate:ke.minDate,currentMonth:ke.minMonth,currentYear:ke.minYear,daysWidthOnXAxis:E,hoursWidthOnXAxis:D,minutesWidthOnXAxis:Y,secondsWidthOnXAxis:U,numberOfSeconds:ae,numberOfMinutes:te,numberOfHours:z,numberOfDays:ge,numberOfMonths:Ce,numberOfYears:we};switch(this.tickInterval){case"years":this.generateYearScale(T);break;case"months":case"half_year":this.generateMonthScale(T);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(T);break;case"hours":this.generateHourScale(T);break;case"minutes_fives":case"minutes":this.generateMinuteScale(T);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(T)}var q=this.timeScaleArray.map(function(Ae){var Se={position:Ae.position,unit:Ae.unit,year:Ae.year,day:Ae.day?Ae.day:1,hour:Ae.hour?Ae.hour:0,month:Ae.month+1};return Ae.unit==="month"?o(o({},Se),{},{day:1,value:Ae.value+1}):Ae.unit==="day"||Ae.unit==="hour"?o(o({},Se),{},{value:Ae.value}):Ae.unit==="minute"?o(o({},Se),{},{value:Ae.value,minute:Ae.value}):Ae.unit==="second"?o(o({},Se),{},{value:Ae.value,minute:Ae.minute,second:Ae.second}):Ae});return q.filter(function(Ae){var Se=1,Ze=Math.ceil(I.globals.gridWidth/120),Te=Ae.value;I.config.xaxis.tickAmount!==void 0&&(Ze=I.config.xaxis.tickAmount),q.length>Ze&&(Se=Math.floor(q.length/Ze));var Qe=!1,Oe=!1;switch(p.tickInterval){case"years":Ae.unit==="year"&&(Qe=!0);break;case"half_year":Se=7,Ae.unit==="year"&&(Qe=!0);break;case"months":Se=1,Ae.unit==="year"&&(Qe=!0);break;case"months_fortnight":Se=15,Ae.unit!=="year"&&Ae.unit!=="month"||(Qe=!0),Te===30&&(Oe=!0);break;case"months_days":Se=10,Ae.unit==="month"&&(Qe=!0),Te===30&&(Oe=!0);break;case"week_days":Se=8,Ae.unit==="month"&&(Qe=!0);break;case"days":Se=1,Ae.unit==="month"&&(Qe=!0);break;case"hours":Ae.unit==="day"&&(Qe=!0);break;case"minutes_fives":case"seconds_fives":Te%5!=0&&(Oe=!0);break;case"seconds_tens":Te%10!=0&&(Oe=!0)}if(p.tickInterval==="hours"||p.tickInterval==="minutes_fives"||p.tickInterval==="seconds_tens"||p.tickInterval==="seconds_fives"){if(!Oe)return!0}else if((Te%Se==0||Qe)&&!Oe)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(d,A){var p=this.w,I=this.formatDates(d),w=this.removeOverlappingTS(I);p.globals.timescaleLabels=w.slice(),new dn(this.ctx).plotCoords()}},{key:"determineInterval",value:function(d){var A=24*d,p=60*A;switch(!0){case d/365>5:this.tickInterval="years";break;case d>800:this.tickInterval="half_year";break;case d>180:this.tickInterval="months";break;case d>90:this.tickInterval="months_fortnight";break;case d>60:this.tickInterval="months_days";break;case d>30:this.tickInterval="week_days";break;case d>2:this.tickInterval="days";break;case A>2.4:this.tickInterval="hours";break;case p>15:this.tickInterval="minutes_fives";break;case p>5:this.tickInterval="minutes";break;case p>1:this.tickInterval="seconds_tens";break;case 60*p>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(d){var A=d.firstVal,p=d.currentMonth,I=d.currentYear,w=d.daysWidthOnXAxis,k=d.numberOfYears,Z=A.minYear,E=0,D=new de(this.ctx),Y="year";if(A.minDate>1||A.minMonth>0){var U=D.determineRemainingDaysOfYear(A.minYear,A.minMonth,A.minDate);E=(D.determineDaysOfYear(A.minYear)-U+1)*w,Z=A.minYear+1,this.timeScaleArray.push({position:E,value:Z,unit:Y,year:Z,month:_.monthMod(p+1)})}else A.minDate===1&&A.minMonth===0&&this.timeScaleArray.push({position:E,value:Z,unit:Y,year:I,month:_.monthMod(p+1)});for(var z=Z,te=E,ae=0;ae<k;ae++)z++,te=D.determineDaysOfYear(z-1)*w+te,this.timeScaleArray.push({position:te,value:z,unit:Y,year:z,month:1})}},{key:"generateMonthScale",value:function(d){var A=d.firstVal,p=d.currentMonthDate,I=d.currentMonth,w=d.currentYear,k=d.daysWidthOnXAxis,Z=d.numberOfMonths,E=I,D=0,Y=new de(this.ctx),U="month",z=0;if(A.minDate>1){D=(Y.determineDaysOfMonths(I+1,A.minYear)-p+1)*k,E=_.monthMod(I+1);var te=w+z,ae=_.monthMod(E),ge=E;E===0&&(U="year",ge=te,ae=1,te+=z+=1),this.timeScaleArray.push({position:D,value:ge,unit:U,year:te,month:ae})}else this.timeScaleArray.push({position:D,value:E,unit:U,year:w,month:_.monthMod(I)});for(var Ce=E+1,we=D,ke=0,T=1;ke<Z;ke++,T++){(Ce=_.monthMod(Ce))===0?(U="year",z+=1):U="month";var q=this._getYear(w,Ce,z);we=Y.determineDaysOfMonths(Ce,q)*k+we;var Ae=Ce===0?q:Ce;this.timeScaleArray.push({position:we,value:Ae,unit:U,year:q,month:Ce===0?1:Ce}),Ce++}}},{key:"generateDayScale",value:function(d){var A=d.firstVal,p=d.currentMonth,I=d.currentYear,w=d.hoursWidthOnXAxis,k=d.numberOfDays,Z=new de(this.ctx),E="day",D=A.minDate+1,Y=D,U=function(T,q,Ae){return T>Z.determineDaysOfMonths(q+1,Ae)&&(Y=1,E="month",te=q+=1),q},z=(24-A.minHour)*w,te=D,ae=U(Y,p,I);A.minHour===0&&A.minDate===1?(z=0,te=_.monthMod(A.minMonth),E="month",Y=A.minDate):A.minDate!==1&&A.minHour===0&&A.minMinute===0&&(z=0,D=A.minDate,te=D,ae=U(Y=D,p,I)),this.timeScaleArray.push({position:z,value:te,unit:E,year:this._getYear(I,ae,0),month:_.monthMod(ae),day:Y});for(var ge=z,Ce=0;Ce<k;Ce++){E="day",ae=U(Y+=1,ae,this._getYear(I,ae,0));var we=this._getYear(I,ae,0);ge=24*w+ge;var ke=Y===1?_.monthMod(ae):Y;this.timeScaleArray.push({position:ge,value:ke,unit:E,year:we,month:_.monthMod(ae),day:ke})}}},{key:"generateHourScale",value:function(d){var A=d.firstVal,p=d.currentDate,I=d.currentMonth,w=d.currentYear,k=d.minutesWidthOnXAxis,Z=d.numberOfHours,E=new de(this.ctx),D="hour",Y=function(Se,Ze){return Se>E.determineDaysOfMonths(Ze+1,w)&&(Ce=1,Ze+=1),{month:Ze,date:Ce}},U=function(Se,Ze){return Se>E.determineDaysOfMonths(Ze+1,w)?Ze+=1:Ze},z=60-(A.minMinute+A.minSecond/60),te=z*k,ae=A.minHour+1,ge=ae;z===60&&(te=0,ge=ae=A.minHour);var Ce=p;ge>=24&&(ge=0,Ce+=1,D="day");var we=Y(Ce,I).month;we=U(Ce,we),this.timeScaleArray.push({position:te,value:ae,unit:D,day:Ce,hour:ge,year:w,month:_.monthMod(we)}),ge++;for(var ke=te,T=0;T<Z;T++){D="hour",ge>=24&&(ge=0,D="day",we=Y(Ce+=1,we).month,we=U(Ce,we));var q=this._getYear(w,we,0);ke=60*k+ke;var Ae=ge===0?Ce:ge;this.timeScaleArray.push({position:ke,value:Ae,unit:D,hour:ge,day:Ce,year:q,month:_.monthMod(we)}),ge++}}},{key:"generateMinuteScale",value:function(d){for(var A=d.currentMillisecond,p=d.currentSecond,I=d.currentMinute,w=d.currentHour,k=d.currentDate,Z=d.currentMonth,E=d.currentYear,D=d.minutesWidthOnXAxis,Y=d.secondsWidthOnXAxis,U=d.numberOfMinutes,z=I+1,te=k,ae=Z,ge=E,Ce=w,we=(60-p-A/1e3)*Y,ke=0;ke<U;ke++)z>=60&&(z=0,(Ce+=1)===24&&(Ce=0)),this.timeScaleArray.push({position:we,value:z,unit:"minute",hour:Ce,minute:z,day:te,year:this._getYear(ge,ae,0),month:_.monthMod(ae)}),we+=D,z++}},{key:"generateSecondScale",value:function(d){for(var A=d.currentMillisecond,p=d.currentSecond,I=d.currentMinute,w=d.currentHour,k=d.currentDate,Z=d.currentMonth,E=d.currentYear,D=d.secondsWidthOnXAxis,Y=d.numberOfSeconds,U=p+1,z=I,te=k,ae=Z,ge=E,Ce=w,we=(1e3-A)/1e3*D,ke=0;ke<Y;ke++)U>=60&&(U=0,++z>=60&&(z=0,++Ce===24&&(Ce=0))),this.timeScaleArray.push({position:we,value:U,unit:"second",hour:Ce,minute:z,second:U,day:te,year:this._getYear(ge,ae,0),month:_.monthMod(ae)}),we+=D,U++}},{key:"createRawDateString",value:function(d,A){var p=d.year;return d.month===0&&(d.month=1),p+="-"+("0"+d.month.toString()).slice(-2),d.unit==="day"?p+=d.unit==="day"?"-"+("0"+A).slice(-2):"-01":p+="-"+("0"+(d.day?d.day:"1")).slice(-2),d.unit==="hour"?p+=d.unit==="hour"?"T"+("0"+A).slice(-2):"T00":p+="T"+("0"+(d.hour?d.hour:"0")).slice(-2),d.unit==="minute"?p+=":"+("0"+A).slice(-2):p+=":"+(d.minute?("0"+d.minute).slice(-2):"00"),d.unit==="second"?p+=":"+("0"+A).slice(-2):p+=":00",this.utc&&(p+=".000Z"),p}},{key:"formatDates",value:function(d){var A=this,p=this.w;return d.map(function(I){var w=I.value.toString(),k=new de(A.ctx),Z=A.createRawDateString(I,w),E=k.getDate(k.parseDate(Z));if(A.utc||(E=k.getDate(k.parseDateWithTimezone(Z))),p.config.xaxis.labels.format===void 0){var D="dd MMM",Y=p.config.xaxis.labels.datetimeFormatter;I.unit==="year"&&(D=Y.year),I.unit==="month"&&(D=Y.month),I.unit==="day"&&(D=Y.day),I.unit==="hour"&&(D=Y.hour),I.unit==="minute"&&(D=Y.minute),I.unit==="second"&&(D=Y.second),w=k.formatDate(E,D)}else w=k.formatDate(E,p.config.xaxis.labels.format);return{dateString:Z,position:I.position,value:w,unit:I.unit,year:I.year,month:I.month}})}},{key:"removeOverlappingTS",value:function(d){var A,p=this,I=new j(this.ctx),w=!1;d.length>0&&d[0].value&&d.every(function(E){return E.value.length===d[0].value.length})&&(w=!0,A=I.getTextRects(d[0].value).width);var k=0,Z=d.map(function(E,D){if(D>0&&p.w.config.xaxis.labels.hideOverlappingLabels){var Y=w?A:I.getTextRects(d[k].value).width,U=d[k].position;return E.position>U+Y+10?(k=D,E):null}return E});return Z=Z.filter(function(E){return E!==null})}},{key:"_getYear",value:function(d,A,p){return d+Math.floor(A/12)+p}}]),Be}(),ui=function(){function Be(d,A){c(this,Be),this.ctx=A,this.w=A.w,this.el=d}return C(Be,[{key:"setupElements",value:function(){var d=this.w.globals,A=this.w.config,p=A.chart.type;d.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(p)>-1,d.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].indexOf(p)>-1,d.isBarHorizontal=(A.chart.type==="bar"||A.chart.type==="rangeBar"||A.chart.type==="boxPlot")&&A.plotOptions.bar.horizontal,d.chartClass=".apexcharts"+d.chartID,d.dom.baseEl=this.el,d.dom.elWrap=document.createElement("div"),j.setAttrs(d.dom.elWrap,{id:d.chartClass.substring(1),class:"apexcharts-canvas "+d.chartClass.substring(1)}),this.el.appendChild(d.dom.elWrap),d.dom.Paper=new window.SVG.Doc(d.dom.elWrap),d.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(A.chart.offsetX,", ").concat(A.chart.offsetY,")")}),d.dom.Paper.node.style.background=A.theme.mode!=="dark"||A.chart.background?A.chart.background:"rgba(0, 0, 0, 0.8)",this.setSVGDimensions(),d.dom.elLegendForeign=document.createElementNS(d.SVGNS,"foreignObject"),j.setAttrs(d.dom.elLegendForeign,{x:0,y:0,width:d.svgWidth,height:d.svgHeight}),d.dom.elLegendWrap=document.createElement("div"),d.dom.elLegendWrap.classList.add("apexcharts-legend"),d.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),d.dom.elLegendForeign.appendChild(d.dom.elLegendWrap),d.dom.Paper.node.appendChild(d.dom.elLegendForeign),d.dom.elGraphical=d.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),d.dom.elDefs=d.dom.Paper.defs(),d.dom.Paper.add(d.dom.elGraphical),d.dom.elGraphical.add(d.dom.elDefs)}},{key:"plotChartType",value:function(d,A){var p=this.w,I=p.config,w=p.globals,k={series:[],i:[]},Z={series:[],i:[]},E={series:[],i:[]},D={series:[],i:[]},Y={series:[],i:[]},U={series:[],i:[]},z={series:[],i:[]},te={series:[],i:[]},ae={series:[],seriesRangeEnd:[],i:[]},ge=I.chart.type!==void 0?I.chart.type:"line",Ce=null,we=0;w.series.forEach(function(dt,Et){var Ot=d[Et].type||ge;switch(Ot){case"column":case"bar":Y.series.push(dt),Y.i.push(Et),p.globals.columnSeries=Y;break;case"area":Z.series.push(dt),Z.i.push(Et);break;case"line":k.series.push(dt),k.i.push(Et);break;case"scatter":E.series.push(dt),E.i.push(Et);break;case"bubble":D.series.push(dt),D.i.push(Et);break;case"candlestick":U.series.push(dt),U.i.push(Et);break;case"boxPlot":z.series.push(dt),z.i.push(Et);break;case"rangeBar":te.series.push(dt),te.i.push(Et);break;case"rangeArea":ae.series.push(w.seriesRangeStart[Et]),ae.seriesRangeEnd.push(w.seriesRangeEnd[Et]),ae.i.push(Et);break;case"heatmap":case"treemap":case"pie":case"donut":case"polarArea":case"radialBar":case"radar":Ce=Ot;break;default:console.warn("You have specified an unrecognized series type (",Ot,").")}ge!==Ot&&Ot!=="scatter"&&we++}),we>0&&(Ce!==null&&console.warn("Chart or series type ",Ce," can not appear with other chart or series types."),Y.series.length>0&&I.plotOptions.bar.horizontal&&(we-=Y.length,Y={series:[],i:[]},p.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),w.comboCharts||(w.comboCharts=we>0);var ke=new qi(this.ctx,A),T=new Lr(this.ctx,A);this.ctx.pie=new qo(this.ctx);var q=new To(this.ctx);this.ctx.rangeBar=new Xr(this.ctx,A);var Ae=new qn(this.ctx),Se=[];if(w.comboCharts){var Ze,Te,Qe=new re(this.ctx);if(Z.series.length>0&&(Ze=Se).push.apply(Ze,H(Qe.drawSeriesByGroup(Z,w.areaGroups,"area",ke))),Y.series.length>0)if(p.config.chart.stacked){var Oe=new rr(this.ctx,A);Se.push(Oe.draw(Y.series,Y.i))}else this.ctx.bar=new Qn(this.ctx,A),Se.push(this.ctx.bar.draw(Y.series,Y.i));if(ae.series.length>0&&Se.push(ke.draw(ae.series,"rangeArea",ae.i,ae.seriesRangeEnd)),k.series.length>0&&(Te=Se).push.apply(Te,H(Qe.drawSeriesByGroup(k,w.lineGroups,"line",ke))),U.series.length>0&&Se.push(T.draw(U.series,"candlestick",U.i)),z.series.length>0&&Se.push(T.draw(z.series,"boxPlot",z.i)),te.series.length>0&&Se.push(this.ctx.rangeBar.draw(te.series,te.i)),E.series.length>0){var ut=new qi(this.ctx,A,!0);Se.push(ut.draw(E.series,"scatter",E.i))}if(D.series.length>0){var Gt=new qi(this.ctx,A,!0);Se.push(Gt.draw(D.series,"bubble",D.i))}}else switch(I.chart.type){case"line":Se=ke.draw(w.series,"line");break;case"area":Se=ke.draw(w.series,"area");break;case"bar":I.chart.stacked?Se=new rr(this.ctx,A).draw(w.series):(this.ctx.bar=new Qn(this.ctx,A),Se=this.ctx.bar.draw(w.series));break;case"candlestick":Se=new Lr(this.ctx,A).draw(w.series,"candlestick");break;case"boxPlot":Se=new Lr(this.ctx,A).draw(w.series,I.chart.type);break;case"rangeBar":Se=this.ctx.rangeBar.draw(w.series);break;case"rangeArea":Se=ke.draw(w.seriesRangeStart,"rangeArea",void 0,w.seriesRangeEnd);break;case"heatmap":Se=new Sn(this.ctx,A).draw(w.series);break;case"treemap":Se=new es(this.ctx,A).draw(w.series);break;case"pie":case"donut":case"polarArea":Se=this.ctx.pie.draw(w.series);break;case"radialBar":Se=q.draw(w.series);break;case"radar":Se=Ae.draw(w.series);break;default:Se=ke.draw(w.series)}return Se}},{key:"setSVGDimensions",value:function(){var d=this.w.globals,A=this.w.config;d.svgWidth=A.chart.width,d.svgHeight=A.chart.height;var p=_.getDimensions(this.el),I=A.chart.width.toString().split(/[0-9]+/g).pop();I==="%"?_.isNumber(p[0])&&(p[0].width===0&&(p=_.getDimensions(this.el.parentNode)),d.svgWidth=p[0]*parseInt(A.chart.width,10)/100):I!=="px"&&I!==""||(d.svgWidth=parseInt(A.chart.width,10));var w=A.chart.height.toString().split(/[0-9]+/g).pop();if(d.svgHeight!=="auto"&&d.svgHeight!=="")if(w==="%"){var k=_.getDimensions(this.el.parentNode);d.svgHeight=k[1]*parseInt(A.chart.height,10)/100}else d.svgHeight=parseInt(A.chart.height,10);else d.axisCharts?d.svgHeight=d.svgWidth/1.61:d.svgHeight=d.svgWidth/1.2;if(d.svgWidth<0&&(d.svgWidth=0),d.svgHeight<0&&(d.svgHeight=0),j.setAttrs(d.dom.Paper.node,{width:d.svgWidth,height:d.svgHeight}),w!=="%"){var Z=A.chart.sparkline.enabled?0:d.axisCharts?A.chart.parentHeightOffset:0;d.dom.Paper.node.parentNode.parentNode.style.minHeight=d.svgHeight+Z+"px"}d.dom.elWrap.style.width=d.svgWidth+"px",d.dom.elWrap.style.height=d.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var d=this.w.globals,A=d.translateY,p={transform:"translate("+d.translateX+", "+A+")"};j.setAttrs(d.dom.elGraphical.node,p)}},{key:"resizeNonAxisCharts",value:function(){var d=this.w,A=d.globals,p=0,I=d.config.chart.sparkline.enabled?1:15;I+=d.config.grid.padding.bottom,d.config.legend.position!=="top"&&d.config.legend.position!=="bottom"||!d.config.legend.show||d.config.legend.floating||(p=new wt(this.ctx).legendHelpers.getLegendBBox().clwh+10);var w=d.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),k=2.05*d.globals.radialSize;if(w&&!d.config.chart.sparkline.enabled&&d.config.plotOptions.radialBar.startAngle!==0){var Z=_.getBoundingClientRect(w);k=Z.bottom;var E=Z.bottom-Z.top;k=Math.max(2.05*d.globals.radialSize,E)}var D=k+A.translateY+p+I;A.dom.elLegendForeign&&A.dom.elLegendForeign.setAttribute("height",D),d.config.chart.height&&String(d.config.chart.height).indexOf("%")>0||(A.dom.elWrap.style.height=D+"px",j.setAttrs(A.dom.Paper.node,{height:D}),A.dom.Paper.node.parentNode.parentNode.style.minHeight=D+"px")}},{key:"coreCalculations",value:function(){new at(this.ctx).init()}},{key:"resetGlobals",value:function(){var d=this,A=function(){return d.w.config.series.map(function(w){return[]})},p=new Pe,I=this.w.globals;p.initGlobalVars(I),I.seriesXvalues=A(),I.seriesYvalues=A()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var d=null,A=this.w;if(A.globals.axisCharts){if(A.config.xaxis.crosshairs.position==="back"&&new Yt(this.ctx).drawXCrosshairs(),A.config.yaxis[0].crosshairs.position==="back"&&new Yt(this.ctx).drawYCrosshairs(),A.config.xaxis.type==="datetime"&&A.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new ts(this.ctx);var p=[];isFinite(A.globals.minX)&&isFinite(A.globals.maxX)&&!A.globals.isBarHorizontal?p=this.ctx.timeScale.calculateTimeScaleTicks(A.globals.minX,A.globals.maxX):A.globals.isBarHorizontal&&(p=this.ctx.timeScale.calculateTimeScaleTicks(A.globals.minY,A.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(p)}d=new re(this.ctx).getCalculatedRatios()}return d}},{key:"updateSourceChart",value:function(d){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:d.w.globals.minX,max:d.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var d=this,A=this.w;if(A.config.chart.brush.enabled&&typeof A.config.chart.events.selection!="function"){var p=Array.isArray(A.config.chart.brush.targets)?A.config.chart.brush.targets:[A.config.chart.brush.target];p.forEach(function(I){var w=ApexCharts.getChartByID(I);w.w.globals.brushSource=d.ctx,typeof w.w.config.chart.events.zoomed!="function"&&(w.w.config.chart.events.zoomed=function(){d.updateSourceChart(w)}),typeof w.w.config.chart.events.scrolled!="function"&&(w.w.config.chart.events.scrolled=function(){d.updateSourceChart(w)})}),A.config.chart.events.selection=function(I,w){p.forEach(function(k){ApexCharts.getChartByID(k).ctx.updateHelpers._updateOptions({xaxis:{min:w.xaxis.min,max:w.xaxis.max}},!1,!1,!1,!1)})}}}}]),Be}(),ti=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"_updateOptions",value:function(d){var A=this,p=arguments.length>1&&arguments[1]!==void 0&&arguments[1],I=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],w=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],k=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(Z){var E=[A.ctx];w&&(E=A.ctx.getSyncedCharts()),A.ctx.w.globals.isExecCalled&&(E=[A.ctx],A.ctx.w.globals.isExecCalled=!1),E.forEach(function(D,Y){var U=D.w;if(U.globals.shouldAnimate=I,p||(U.globals.resized=!0,U.globals.dataChanged=!0,I&&D.series.getPreviousPaths()),d&&s(d)==="object"&&(D.config=new De(d),d=re.extendArrayProps(D.config,d,U),D.w.globals.chartID!==A.ctx.w.globals.chartID&&delete d.series,U.config=_.extend(U.config,d),k&&(U.globals.lastXAxis=d.xaxis?_.clone(d.xaxis):[],U.globals.lastYAxis=d.yaxis?_.clone(d.yaxis):[],U.globals.initialConfig=_.extend({},U.config),U.globals.initialSeries=_.clone(U.config.series),d.series))){for(var z=0;z<U.globals.collapsedSeriesIndices.length;z++){var te=U.config.series[U.globals.collapsedSeriesIndices[z]];U.globals.collapsedSeries[z].data=U.globals.axisCharts?te.data.slice():te}for(var ae=0;ae<U.globals.ancillaryCollapsedSeriesIndices.length;ae++){var ge=U.config.series[U.globals.ancillaryCollapsedSeriesIndices[ae]];U.globals.ancillaryCollapsedSeries[ae].data=U.globals.axisCharts?ge.data.slice():ge}D.series.emptyCollapsedSeries(U.config.series)}return D.update(d).then(function(){Y===E.length-1&&Z(D)})})})}},{key:"_updateSeries",value:function(d,A){var p=this,I=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(w){var k,Z=p.w;return Z.globals.shouldAnimate=A,Z.globals.dataChanged=!0,A&&p.ctx.series.getPreviousPaths(),Z.globals.axisCharts?((k=d.map(function(E,D){return p._extendSeries(E,D)})).length===0&&(k=[{data:[]}]),Z.config.series=k):Z.config.series=d.slice(),I&&(Z.globals.initialConfig.series=_.clone(Z.config.series),Z.globals.initialSeries=_.clone(Z.config.series)),p.ctx.update().then(function(){w(p.ctx)})})}},{key:"_extendSeries",value:function(d,A){var p=this.w,I=p.config.series[A];return o(o({},p.config.series[A]),{},{name:d.name?d.name:I==null?void 0:I.name,color:d.color?d.color:I==null?void 0:I.color,type:d.type?d.type:I==null?void 0:I.type,group:d.group?d.group:I==null?void 0:I.group,data:d.data?d.data:I==null?void 0:I.data,zIndex:d.zIndex!==void 0?d.zIndex:A})}},{key:"toggleDataPointSelection",value:function(d,A){var p=this.w,I=null,w=".apexcharts-series[data\\:realIndex='".concat(d,"']");return p.globals.axisCharts?I=p.globals.dom.Paper.select("".concat(w," path[j='").concat(A,"'], ").concat(w," circle[j='").concat(A,"'], ").concat(w," rect[j='").concat(A,"']")).members[0]:A===void 0&&(I=p.globals.dom.Paper.select("".concat(w," path[j='").concat(d,"']")).members[0],p.config.chart.type!=="pie"&&p.config.chart.type!=="polarArea"&&p.config.chart.type!=="donut"||this.ctx.pie.pieClicked(d)),I?(new j(this.ctx).pathMouseDown(I,null),I.node?I.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(d){var A=this.w;if(["min","max"].forEach(function(I){d.xaxis[I]!==void 0&&(A.config.xaxis[I]=d.xaxis[I],A.globals.lastXAxis[I]=d.xaxis[I])}),d.xaxis.categories&&d.xaxis.categories.length&&(A.config.xaxis.categories=d.xaxis.categories),A.config.xaxis.convertedCatToNumeric){var p=new Ge(d);d=p.convertCatToNumericXaxis(d,this.ctx)}return d}},{key:"forceYAxisUpdate",value:function(d){return d.chart&&d.chart.stacked&&d.chart.stackType==="100%"&&(Array.isArray(d.yaxis)?d.yaxis.forEach(function(A,p){d.yaxis[p].min=0,d.yaxis[p].max=100}):(d.yaxis.min=0,d.yaxis.max=100)),d}},{key:"revertDefaultAxisMinMax",value:function(d){var A=this,p=this.w,I=p.globals.lastXAxis,w=p.globals.lastYAxis;d&&d.xaxis&&(I=d.xaxis),d&&d.yaxis&&(w=d.yaxis),p.config.xaxis.min=I.min,p.config.xaxis.max=I.max;var k=function(Z){w[Z]!==void 0&&(p.config.yaxis[Z].min=w[Z].min,p.config.yaxis[Z].max=w[Z].max)};p.config.yaxis.map(function(Z,E){p.globals.zoomed||w[E]!==void 0?k(E):A.ctx.opts.yaxis[E]!==void 0&&(Z.min=A.ctx.opts.yaxis[E].min,Z.max=A.ctx.opts.yaxis[E].max)})}}]),Be}();Gi=typeof window<"u"?window:void 0,Lo=function(Be,d){var A=(this!==void 0?this:Be).SVG=function(T){if(A.supported)return T=new A.Doc(T),A.parser.draw||A.prepare(),T};if(A.ns="http://www.w3.org/2000/svg",A.xmlns="http://www.w3.org/2000/xmlns/",A.xlink="http://www.w3.org/1999/xlink",A.svgjs="http://svgjs.dev",A.supported=!0,!A.supported)return!1;A.did=1e3,A.eid=function(T){return"Svgjs"+Y(T)+A.did++},A.create=function(T){var q=d.createElementNS(this.ns,T);return q.setAttribute("id",this.eid(T)),q},A.extend=function(){var T,q;q=(T=[].slice.call(arguments)).pop();for(var Ae=T.length-1;Ae>=0;Ae--)if(T[Ae])for(var Se in q)T[Ae].prototype[Se]=q[Se];A.Set&&A.Set.inherit&&A.Set.inherit()},A.invent=function(T){var q=typeof T.create=="function"?T.create:function(){this.constructor.call(this,A.create(T.create))};return T.inherit&&(q.prototype=new T.inherit),T.extend&&A.extend(q,T.extend),T.construct&&A.extend(T.parent||A.Container,T.construct),q},A.adopt=function(T){return T?T.instance?T.instance:((q=T.nodeName=="svg"?T.parentNode instanceof Be.SVGElement?new A.Nested:new A.Doc:T.nodeName=="linearGradient"?new A.Gradient("linear"):T.nodeName=="radialGradient"?new A.Gradient("radial"):A[Y(T.nodeName)]?new A[Y(T.nodeName)]:new A.Element(T)).type=T.nodeName,q.node=T,T.instance=q,q instanceof A.Doc&&q.namespace().defs(),q.setData(JSON.parse(T.getAttribute("svgjs:data"))||{}),q):null;var q},A.prepare=function(){var T=d.getElementsByTagName("body")[0],q=(T?new A.Doc(T):A.adopt(d.documentElement).nested()).size(2,0);A.parser={body:T||d.documentElement,draw:q.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:q.polyline().node,path:q.path().node,native:A.create("svg")}},A.parser={native:A.create("svg")},d.addEventListener("DOMContentLoaded",function(){A.parser.draw||A.prepare()},!1),A.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},A.utils={map:function(T,q){for(var Ae=T.length,Se=[],Ze=0;Ze<Ae;Ze++)Se.push(q(T[Ze]));return Se},filter:function(T,q){for(var Ae=T.length,Se=[],Ze=0;Ze<Ae;Ze++)q(T[Ze])&&Se.push(T[Ze]);return Se},filterSVGElements:function(T){return this.filter(T,function(q){return q instanceof Be.SVGElement})}},A.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},A.Color=function(T){var q,Ae;this.r=0,this.g=0,this.b=0,T&&(typeof T=="string"?A.regex.isRgb.test(T)?(q=A.regex.rgb.exec(T.replace(A.regex.whitespace,"")),this.r=parseInt(q[1]),this.g=parseInt(q[2]),this.b=parseInt(q[3])):A.regex.isHex.test(T)&&(q=A.regex.hex.exec((Ae=T).length==4?["#",Ae.substring(1,2),Ae.substring(1,2),Ae.substring(2,3),Ae.substring(2,3),Ae.substring(3,4),Ae.substring(3,4)].join(""):Ae),this.r=parseInt(q[1],16),this.g=parseInt(q[2],16),this.b=parseInt(q[3],16)):s(T)==="object"&&(this.r=T.r,this.g=T.g,this.b=T.b))},A.extend(A.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+U(this.r)+U(this.g)+U(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(T){return this.destination=new A.Color(T),this},at:function(T){return this.destination?(T=T<0?0:T>1?1:T,new A.Color({r:~~(this.r+(this.destination.r-this.r)*T),g:~~(this.g+(this.destination.g-this.g)*T),b:~~(this.b+(this.destination.b-this.b)*T)})):this}}),A.Color.test=function(T){return T+="",A.regex.isHex.test(T)||A.regex.isRgb.test(T)},A.Color.isRgb=function(T){return T&&typeof T.r=="number"&&typeof T.g=="number"&&typeof T.b=="number"},A.Color.isColor=function(T){return A.Color.isRgb(T)||A.Color.test(T)},A.Array=function(T,q){(T=(T||[]).valueOf()).length==0&&q&&(T=q.valueOf()),this.value=this.parse(T)},A.extend(A.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(T){return T=T.valueOf(),Array.isArray(T)?T:this.split(T)}}),A.PointArray=function(T,q){A.Array.call(this,T,q||[[0,0]])},A.PointArray.prototype=new A.Array,A.PointArray.prototype.constructor=A.PointArray;for(var p={M:function(T,q,Ae){return q.x=Ae.x=T[0],q.y=Ae.y=T[1],["M",q.x,q.y]},L:function(T,q){return q.x=T[0],q.y=T[1],["L",T[0],T[1]]},H:function(T,q){return q.x=T[0],["H",T[0]]},V:function(T,q){return q.y=T[0],["V",T[0]]},C:function(T,q){return q.x=T[4],q.y=T[5],["C",T[0],T[1],T[2],T[3],T[4],T[5]]},Q:function(T,q){return q.x=T[2],q.y=T[3],["Q",T[0],T[1],T[2],T[3]]},S:function(T,q){return q.x=T[2],q.y=T[3],["S",T[0],T[1],T[2],T[3]]},Z:function(T,q,Ae){return q.x=Ae.x,q.y=Ae.y,["Z"]}},I="mlhvqtcsaz".split(""),w=0,k=I.length;w<k;++w)p[I[w]]=function(T){return function(q,Ae,Se){if(T=="H")q[0]=q[0]+Ae.x;else if(T=="V")q[0]=q[0]+Ae.y;else if(T=="A")q[5]=q[5]+Ae.x,q[6]=q[6]+Ae.y;else for(var Ze=0,Te=q.length;Ze<Te;++Ze)q[Ze]=q[Ze]+(Ze%2?Ae.y:Ae.x);if(p&&typeof p[T]=="function")return p[T](q,Ae,Se)}}(I[w].toUpperCase());A.PathArray=function(T,q){A.Array.call(this,T,q||[["M",0,0]])},A.PathArray.prototype=new A.Array,A.PathArray.prototype.constructor=A.PathArray,A.extend(A.PathArray,{toString:function(){return function(T){for(var q=0,Ae=T.length,Se="";q<Ae;q++)Se+=T[q][0],T[q][1]!=null&&(Se+=T[q][1],T[q][2]!=null&&(Se+=" ",Se+=T[q][2],T[q][3]!=null&&(Se+=" ",Se+=T[q][3],Se+=" ",Se+=T[q][4],T[q][5]!=null&&(Se+=" ",Se+=T[q][5],Se+=" ",Se+=T[q][6],T[q][7]!=null&&(Se+=" ",Se+=T[q][7])))));return Se+" "}(this.value)},move:function(T,q){var Ae=this.bbox();return Ae.x,Ae.y,this},at:function(T){if(!this.destination)return this;for(var q=this.value,Ae=this.destination.value,Se=[],Ze=new A.PathArray,Te=0,Qe=q.length;Te<Qe;Te++){Se[Te]=[q[Te][0]];for(var Oe=1,ut=q[Te].length;Oe<ut;Oe++)Se[Te][Oe]=q[Te][Oe]+(Ae[Te][Oe]-q[Te][Oe])*T;Se[Te][0]==="A"&&(Se[Te][4]=+(Se[Te][4]!=0),Se[Te][5]=+(Se[Te][5]!=0))}return Ze.value=Se,Ze},parse:function(T){if(T instanceof A.PathArray)return T.valueOf();var q,Ae={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};T=typeof T=="string"?T.replace(A.regex.numbersWithDots,E).replace(A.regex.pathLetters," $& ").replace(A.regex.hyphen,"$1 -").trim().split(A.regex.delimiter):T.reduce(function(ut,Gt){return[].concat.call(ut,Gt)},[]);var Se=[],Ze=new A.Point,Te=new A.Point,Qe=0,Oe=T.length;do A.regex.isPathLetter.test(T[Qe])?(q=T[Qe],++Qe):q=="M"?q="L":q=="m"&&(q="l"),Se.push(p[q].call(null,T.slice(Qe,Qe+=Ae[q.toUpperCase()]).map(parseFloat),Ze,Te));while(Oe>Qe);return Se},bbox:function(){return A.parser.draw||A.prepare(),A.parser.path.setAttribute("d",this.toString()),A.parser.path.getBBox()}}),A.Number=A.invent({create:function(T,q){this.value=0,this.unit=q||"",typeof T=="number"?this.value=isNaN(T)?0:isFinite(T)?T:T<0?-34e37:34e37:typeof T=="string"?(q=T.match(A.regex.numberAndUnit))&&(this.value=parseFloat(q[1]),q[5]=="%"?this.value/=100:q[5]=="s"&&(this.value*=1e3),this.unit=q[5]):T instanceof A.Number&&(this.value=T.valueOf(),this.unit=T.unit)},extend:{toString:function(){return(this.unit=="%"?~~(1e8*this.value)/1e6:this.unit=="s"?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(T){return T=new A.Number(T),new A.Number(this+T,this.unit||T.unit)},minus:function(T){return T=new A.Number(T),new A.Number(this-T,this.unit||T.unit)},times:function(T){return T=new A.Number(T),new A.Number(this*T,this.unit||T.unit)},divide:function(T){return T=new A.Number(T),new A.Number(this/T,this.unit||T.unit)},to:function(T){var q=new A.Number(this);return typeof T=="string"&&(q.unit=T),q},morph:function(T){return this.destination=new A.Number(T),T.relative&&(this.destination.value+=this.value),this},at:function(T){return this.destination?new A.Number(this.destination).minus(this).times(T).plus(this):this}}}),A.Element=A.invent({create:function(T){this._stroke=A.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=T)&&(this.type=T.nodeName,this.node.instance=this,this._stroke=T.getAttribute("stroke")||this._stroke)},extend:{x:function(T){return this.attr("x",T)},y:function(T){return this.attr("y",T)},cx:function(T){return T==null?this.x()+this.width()/2:this.x(T-this.width()/2)},cy:function(T){return T==null?this.y()+this.height()/2:this.y(T-this.height()/2)},move:function(T,q){return this.x(T).y(q)},center:function(T,q){return this.cx(T).cy(q)},width:function(T){return this.attr("width",T)},height:function(T){return this.attr("height",T)},size:function(T,q){var Ae=z(this,T,q);return this.width(new A.Number(Ae.width)).height(new A.Number(Ae.height))},clone:function(T){this.writeDataToDom();var q=ge(this.node.cloneNode(!0));return T?T.add(q):this.after(q),q},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(T){return this.after(T).remove(),T},addTo:function(T){return T.put(this)},putIn:function(T){return T.add(this)},id:function(T){return this.attr("id",T)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return this.style("display")!="none"},toString:function(){return this.attr("id")},classes:function(){var T=this.attr("class");return T==null?[]:T.trim().split(A.regex.delimiter)},hasClass:function(T){return this.classes().indexOf(T)!=-1},addClass:function(T){if(!this.hasClass(T)){var q=this.classes();q.push(T),this.attr("class",q.join(" "))}return this},removeClass:function(T){return this.hasClass(T)&&this.attr("class",this.classes().filter(function(q){return q!=T}).join(" ")),this},toggleClass:function(T){return this.hasClass(T)?this.removeClass(T):this.addClass(T)},reference:function(T){return A.get(this.attr(T))},parent:function(T){var q=this;if(!q.node.parentNode)return null;if(q=A.adopt(q.node.parentNode),!T)return q;for(;q&&q.node instanceof Be.SVGElement;){if(typeof T=="string"?q.matches(T):q instanceof T)return q;if(!q.node.parentNode||q.node.parentNode.nodeName=="#document")return null;q=A.adopt(q.node.parentNode)}},doc:function(){return this instanceof A.Doc?this:this.parent(A.Doc)},parents:function(T){var q=[],Ae=this;do{if(!(Ae=Ae.parent(T))||!Ae.node)break;q.push(Ae)}while(Ae.parent);return q},matches:function(T){return function(q,Ae){return(q.matches||q.matchesSelector||q.msMatchesSelector||q.mozMatchesSelector||q.webkitMatchesSelector||q.oMatchesSelector).call(q,Ae)}(this.node,T)},native:function(){return this.node},svg:function(T){var q=d.createElementNS("http://www.w3.org/2000/svg","svg");if(!(T&&this instanceof A.Parent))return q.appendChild(T=d.createElementNS("http://www.w3.org/2000/svg","svg")),this.writeDataToDom(),T.appendChild(this.node.cloneNode(!0)),q.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");q.innerHTML="<svg>"+T.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var Ae=0,Se=q.firstChild.childNodes.length;Ae<Se;Ae++)this.node.appendChild(q.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(T){return this.dom=T,this},is:function(T){return function(q,Ae){return q instanceof Ae}(this,T)}}}),A.easing={"-":function(T){return T},"<>":function(T){return-Math.cos(T*Math.PI)/2+.5},">":function(T){return Math.sin(T*Math.PI/2)},"<":function(T){return 1-Math.cos(T*Math.PI/2)}},A.morph=function(T){return function(q,Ae){return new A.MorphObj(q,Ae).at(T)}},A.Situation=A.invent({create:function(T){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new A.Number(T.duration).valueOf(),this.delay=new A.Number(T.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=T.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),A.FX=A.invent({create:function(T){this._target=T,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(T,q,Ae){s(T)==="object"&&(q=T.ease,Ae=T.delay,T=T.duration);var Se=new A.Situation({duration:T||1e3,delay:Ae||0,ease:A.easing[q||"-"]||q});return this.queue(Se),this},target:function(T){return T&&T instanceof A.Element?(this._target=T,this):this._target},timeToAbsPos:function(T){return(T-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(T){return this.situation.duration/this._speed*T+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=Be.requestAnimationFrame((function(){this.step()}).bind(this))},stopAnimFrame:function(){Be.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(T){return(typeof T=="function"||T instanceof A.Situation)&&this.situations.push(T),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof A.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var T,q=this.situation;if(q.init)return this;for(var Ae in q.animations){T=this.target()[Ae](),Array.isArray(T)||(T=[T]),Array.isArray(q.animations[Ae])||(q.animations[Ae]=[q.animations[Ae]]);for(var Se=T.length;Se--;)q.animations[Ae][Se]instanceof A.Number&&(T[Se]=new A.Number(T[Se])),q.animations[Ae][Se]=T[Se].morph(q.animations[Ae][Se])}for(var Ae in q.attrs)q.attrs[Ae]=new A.MorphObj(this.target().attr(Ae),q.attrs[Ae]);for(var Ae in q.styles)q.styles[Ae]=new A.MorphObj(this.target().style(Ae),q.styles[Ae]);return q.initialTransformation=this.target().matrixify(),q.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(T,q){var Ae=this.active;return this.active=!1,q&&this.clearQueue(),T&&this.situation&&(!Ae&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(T){var q=this.last();return this.target().on("finished.fx",function Ae(Se){Se.detail.situation==q&&(T.call(this,q),this.off("finished.fx",Ae))}),this._callStart()},during:function(T){var q=this.last(),Ae=function(Se){Se.detail.situation==q&&T.call(this,Se.detail.pos,A.morph(Se.detail.pos),Se.detail.eased,q)};return this.target().off("during.fx",Ae).on("during.fx",Ae),this.after(function(){this.off("during.fx",Ae)}),this._callStart()},afterAll:function(T){var q=function Ae(Se){T.call(this),this.off("allfinished.fx",Ae)};return this.target().off("allfinished.fx",q).on("allfinished.fx",q),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(T,q,Ae){return this.last()[Ae||"animations"][T]=q,this._callStart()},step:function(T){var q,Ae,Se;T||(this.absPos=this.timeToAbsPos(+new Date)),this.situation.loops!==!1?(q=Math.max(this.absPos,0),Ae=Math.floor(q),this.situation.loops===!0||Ae<this.situation.loops?(this.pos=q-Ae,Se=this.situation.loop,this.situation.loop=Ae):(this.absPos=this.situation.loops,this.pos=1,Se=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=!!((this.situation.loop-Se)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var Ze=this.situation.ease(this.pos);for(var Te in this.situation.once)Te>this.lastPos&&Te<=Ze&&(this.situation.once[Te].call(this.target(),this.pos,Ze),delete this.situation.once[Te]);return this.active&&this.target().fire("during",{pos:this.pos,eased:Ze,fx:this,situation:this.situation}),this.situation?(this.eachAt(),this.pos==1&&!this.situation.reversed||this.situation.reversed&&this.pos==0?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=Ze,this):this},eachAt:function(){var T,q=this,Ae=this.target(),Se=this.situation;for(var Ze in Se.animations)T=[].concat(Se.animations[Ze]).map(function(Oe){return typeof Oe!="string"&&Oe.at?Oe.at(Se.ease(q.pos),q.pos):Oe}),Ae[Ze].apply(Ae,T);for(var Ze in Se.attrs)T=[Ze].concat(Se.attrs[Ze]).map(function(ut){return typeof ut!="string"&&ut.at?ut.at(Se.ease(q.pos),q.pos):ut}),Ae.attr.apply(Ae,T);for(var Ze in Se.styles)T=[Ze].concat(Se.styles[Ze]).map(function(ut){return typeof ut!="string"&&ut.at?ut.at(Se.ease(q.pos),q.pos):ut}),Ae.style.apply(Ae,T);if(Se.transforms.length){T=Se.initialTransformation,Ze=0;for(var Te=Se.transforms.length;Ze<Te;Ze++){var Qe=Se.transforms[Ze];Qe instanceof A.Matrix?T=Qe.relative?T.multiply(new A.Matrix().morph(Qe).at(Se.ease(this.pos))):T.morph(Qe).at(Se.ease(this.pos)):(Qe.relative||Qe.undo(T.extract()),T=T.multiply(Qe.at(Se.ease(this.pos))))}Ae.matrix(T)}return this},once:function(T,q,Ae){var Se=this.last();return Ae||(T=Se.ease(T)),Se.once[T]=q,this},_callStart:function(){return setTimeout((function(){this.start()}).bind(this),0),this}},parent:A.Element,construct:{animate:function(T,q,Ae){return(this.fx||(this.fx=new A.FX(this))).animate(T,q,Ae)},delay:function(T){return(this.fx||(this.fx=new A.FX(this))).delay(T)},stop:function(T,q){return this.fx&&this.fx.stop(T,q),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),A.MorphObj=A.invent({create:function(T,q){return A.Color.isColor(q)?new A.Color(T).morph(q):A.regex.delimiter.test(T)?A.regex.pathLetters.test(T)?new A.PathArray(T).morph(q):new A.Array(T).morph(q):A.regex.numberAndUnit.test(q)?new A.Number(T).morph(q):(this.value=T,void(this.destination=q))},extend:{at:function(T,q){return q<1?this.value:this.destination},valueOf:function(){return this.value}}}),A.extend(A.FX,{attr:function(T,q,Ae){if(s(T)==="object")for(var Se in T)this.attr(Se,T[Se]);else this.add(T,q,"attrs");return this},plot:function(T,q,Ae,Se){return arguments.length==4?this.plot([T,q,Ae,Se]):this.add("plot",new(this.target()).morphArray(T))}}),A.Box=A.invent({create:function(T,q,Ae,Se){if(!(s(T)!=="object"||T instanceof A.Element))return A.Box.call(this,T.left!=null?T.left:T.x,T.top!=null?T.top:T.y,T.width,T.height);var Ze;arguments.length==4&&(this.x=T,this.y=q,this.width=Ae,this.height=Se),(Ze=this).x==null&&(Ze.x=0,Ze.y=0,Ze.width=0,Ze.height=0),Ze.w=Ze.width,Ze.h=Ze.height,Ze.x2=Ze.x+Ze.width,Ze.y2=Ze.y+Ze.height,Ze.cx=Ze.x+Ze.width/2,Ze.cy=Ze.y+Ze.height/2}}),A.BBox=A.invent({create:function(T){if(A.Box.apply(this,[].slice.call(arguments)),T instanceof A.Element){var q;try{if(!d.documentElement.contains){for(var Ae=T.node;Ae.parentNode;)Ae=Ae.parentNode;if(Ae!=d)throw new Error("Element not in the dom")}q=T.node.getBBox()}catch{if(T instanceof A.Shape){A.parser.draw||A.prepare();var Se=T.clone(A.parser.draw.instance).show();Se&&Se.node&&typeof Se.node.getBBox=="function"&&(q=Se.node.getBBox()),Se&&typeof Se.remove=="function"&&Se.remove()}else q={x:T.node.clientLeft,y:T.node.clientTop,width:T.node.clientWidth,height:T.node.clientHeight}}A.Box.call(this,q)}},inherit:A.Box,parent:A.Element,construct:{bbox:function(){return new A.BBox(this)}}}),A.BBox.prototype.constructor=A.BBox,A.Matrix=A.invent({create:function(T){var q=ae([1,0,0,1,0,0]);T=T===null?q:T instanceof A.Element?T.matrixify():typeof T=="string"?ae(T.split(A.regex.delimiter).map(parseFloat)):arguments.length==6?ae([].slice.call(arguments)):Array.isArray(T)?ae(T):T&&s(T)==="object"?T:q;for(var Ae=we.length-1;Ae>=0;--Ae)this[we[Ae]]=T[we[Ae]]!=null?T[we[Ae]]:q[we[Ae]]},extend:{extract:function(){var T=te(this,0,1);te(this,1,0);var q=180/Math.PI*Math.atan2(T.y,T.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(q*Math.PI/180)+this.f*Math.sin(q*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(q*Math.PI/180)+this.e*Math.sin(-q*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:q,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new A.Matrix(this)}},clone:function(){return new A.Matrix(this)},morph:function(T){return this.destination=new A.Matrix(T),this},multiply:function(T){return new A.Matrix(this.native().multiply(function(q){return q instanceof A.Matrix||(q=new A.Matrix(q)),q}(T).native()))},inverse:function(){return new A.Matrix(this.native().inverse())},translate:function(T,q){return new A.Matrix(this.native().translate(T||0,q||0))},native:function(){for(var T=A.parser.native.createSVGMatrix(),q=we.length-1;q>=0;q--)T[we[q]]=this[we[q]];return T},toString:function(){return"matrix("+Ce(this.a)+","+Ce(this.b)+","+Ce(this.c)+","+Ce(this.d)+","+Ce(this.e)+","+Ce(this.f)+")"}},parent:A.Element,construct:{ctm:function(){return new A.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof A.Nested){var T=this.rect(1,1),q=T.node.getScreenCTM();return T.remove(),new A.Matrix(q)}return new A.Matrix(this.node.getScreenCTM())}}}),A.Point=A.invent({create:function(T,q){var Ae;Ae=Array.isArray(T)?{x:T[0],y:T[1]}:s(T)==="object"?{x:T.x,y:T.y}:T!=null?{x:T,y:q??T}:{x:0,y:0},this.x=Ae.x,this.y=Ae.y},extend:{clone:function(){return new A.Point(this)},morph:function(T,q){return this.destination=new A.Point(T,q),this}}}),A.extend(A.Element,{point:function(T,q){return new A.Point(T,q).transform(this.screenCTM().inverse())}}),A.extend(A.Element,{attr:function(T,q,Ae){if(T==null){for(T={},Ae=(q=this.node.attributes).length-1;Ae>=0;Ae--)T[q[Ae].nodeName]=A.regex.isNumber.test(q[Ae].nodeValue)?parseFloat(q[Ae].nodeValue):q[Ae].nodeValue;return T}if(s(T)==="object")for(var Se in T)this.attr(Se,T[Se]);else if(q===null)this.node.removeAttribute(T);else{if(q==null)return(q=this.node.getAttribute(T))==null?A.defaults.attrs[T]:A.regex.isNumber.test(q)?parseFloat(q):q;T=="stroke-width"?this.attr("stroke",parseFloat(q)>0?this._stroke:null):T=="stroke"&&(this._stroke=q),T!="fill"&&T!="stroke"||(A.regex.isImage.test(q)&&(q=this.doc().defs().image(q,0,0)),q instanceof A.Image&&(q=this.doc().defs().pattern(0,0,function(){this.add(q)}))),typeof q=="number"?q=new A.Number(q):A.Color.isColor(q)?q=new A.Color(q):Array.isArray(q)&&(q=new A.Array(q)),T=="leading"?this.leading&&this.leading(q):typeof Ae=="string"?this.node.setAttributeNS(Ae,T,q.toString()):this.node.setAttribute(T,q.toString()),!this.rebuild||T!="font-size"&&T!="x"||this.rebuild(T,q)}return this}}),A.extend(A.Element,{transform:function(T,q){var Ae;return s(T)!=="object"?(Ae=new A.Matrix(this).extract(),typeof T=="string"?Ae[T]:Ae):(Ae=new A.Matrix(this),q=!!q||!!T.relative,T.a!=null&&(Ae=q?Ae.multiply(new A.Matrix(T)):new A.Matrix(T)),this.attr("transform",Ae))}}),A.extend(A.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(A.regex.transforms).slice(0,-1).map(function(T){var q=T.trim().split("(");return[q[0],q[1].split(A.regex.delimiter).map(function(Ae){return parseFloat(Ae)})]}).reduce(function(T,q){return q[0]=="matrix"?T.multiply(ae(q[1])):T[q[0]].apply(T,q[1])},new A.Matrix)},toParent:function(T){if(this==T)return this;var q=this.screenCTM(),Ae=T.screenCTM().inverse();return this.addTo(T).untransform().transform(Ae.multiply(q)),this},toDoc:function(){return this.toParent(this.doc())}}),A.Transformation=A.invent({create:function(T,q){if(arguments.length>1&&typeof q!="boolean")return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(T))for(var Ae=0,Se=this.arguments.length;Ae<Se;++Ae)this[this.arguments[Ae]]=T[Ae];else if(T&&s(T)==="object")for(Ae=0,Se=this.arguments.length;Ae<Se;++Ae)this[this.arguments[Ae]]=T[this.arguments[Ae]];this.inversed=!1,q===!0&&(this.inversed=!0)}}),A.Translate=A.invent({parent:A.Matrix,inherit:A.Transformation,create:function(T,q){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),A.extend(A.Element,{style:function(T,q){if(arguments.length==0)return this.node.style.cssText||"";if(arguments.length<2)if(s(T)==="object")for(var Ae in T)this.style(Ae,T[Ae]);else{if(!A.regex.isCss.test(T))return this.node.style[D(T)];for(T=T.split(/\s*;\s*/).filter(function(Se){return!!Se}).map(function(Se){return Se.split(/\s*:\s*/)});q=T.pop();)this.style(q[0],q[1])}else this.node.style[D(T)]=q===null||A.regex.isBlank.test(q)?"":q;return this}}),A.Parent=A.invent({create:function(T){this.constructor.call(this,T)},inherit:A.Element,extend:{children:function(){return A.utils.map(A.utils.filterSVGElements(this.node.childNodes),function(T){return A.adopt(T)})},add:function(T,q){return q==null?this.node.appendChild(T.node):T.node!=this.node.childNodes[q]&&this.node.insertBefore(T.node,this.node.childNodes[q]),this},put:function(T,q){return this.add(T,q),T},has:function(T){return this.index(T)>=0},index:function(T){return[].slice.call(this.node.childNodes).indexOf(T.node)},get:function(T){return A.adopt(this.node.childNodes[T])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(T,q){for(var Ae=this.children(),Se=0,Ze=Ae.length;Se<Ze;Se++)Ae[Se]instanceof A.Element&&T.apply(Ae[Se],[Se,Ae]),q&&Ae[Se]instanceof A.Container&&Ae[Se].each(T,q);return this},removeElement:function(T){return this.node.removeChild(T.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),A.extend(A.Parent,{ungroup:function(T,q){return q===0||this instanceof A.Defs||this.node==A.parser.draw||(T=T||(this instanceof A.Doc?this:this.parent(A.Parent)),q=q||1/0,this.each(function(){return this instanceof A.Defs?this:this instanceof A.Parent?this.ungroup(T,q-1):this.toParent(T)}),this.node.firstChild||this.remove()),this},flatten:function(T,q){return this.ungroup(T,q)}}),A.Container=A.invent({create:function(T){this.constructor.call(this,T)},inherit:A.Parent}),A.ViewBox=A.invent({parent:A.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(T){A.Element.prototype[T]=function(q){return A.on(this.node,T,q),this}}),A.listeners=[],A.handlerMap=[],A.listenerId=0,A.on=function(T,q,Ae,Se,Ze){var Te=Ae.bind(Se||T.instance||T),Qe=(A.handlerMap.indexOf(T)+1||A.handlerMap.push(T))-1,Oe=q.split(".")[0],ut=q.split(".")[1]||"*";A.listeners[Qe]=A.listeners[Qe]||{},A.listeners[Qe][Oe]=A.listeners[Qe][Oe]||{},A.listeners[Qe][Oe][ut]=A.listeners[Qe][Oe][ut]||{},Ae._svgjsListenerId||(Ae._svgjsListenerId=++A.listenerId),A.listeners[Qe][Oe][ut][Ae._svgjsListenerId]=Te,T.addEventListener(Oe,Te,Ze||{passive:!1})},A.off=function(T,q,Ae){var Se=A.handlerMap.indexOf(T),Ze=q&&q.split(".")[0],Te=q&&q.split(".")[1],Qe="";if(Se!=-1)if(Ae){if(typeof Ae=="function"&&(Ae=Ae._svgjsListenerId),!Ae)return;A.listeners[Se][Ze]&&A.listeners[Se][Ze][Te||"*"]&&(T.removeEventListener(Ze,A.listeners[Se][Ze][Te||"*"][Ae],!1),delete A.listeners[Se][Ze][Te||"*"][Ae])}else if(Te&&Ze){if(A.listeners[Se][Ze]&&A.listeners[Se][Ze][Te]){for(var Oe in A.listeners[Se][Ze][Te])A.off(T,[Ze,Te].join("."),Oe);delete A.listeners[Se][Ze][Te]}}else if(Te)for(var ut in A.listeners[Se])for(var Qe in A.listeners[Se][ut])Te===Qe&&A.off(T,[ut,Te].join("."));else if(Ze){if(A.listeners[Se][Ze]){for(var Qe in A.listeners[Se][Ze])A.off(T,[Ze,Qe].join("."));delete A.listeners[Se][Ze]}}else{for(var ut in A.listeners[Se])A.off(T,ut);delete A.listeners[Se],delete A.handlerMap[Se]}},A.extend(A.Element,{on:function(T,q,Ae,Se){return A.on(this.node,T,q,Ae,Se),this},off:function(T,q){return A.off(this.node,T,q),this},fire:function(T,q){return T instanceof Be.Event?this.node.dispatchEvent(T):this.node.dispatchEvent(T=new A.CustomEvent(T,{detail:q,cancelable:!0})),this._event=T,this},event:function(){return this._event}}),A.Defs=A.invent({create:"defs",inherit:A.Container}),A.G=A.invent({create:"g",inherit:A.Container,extend:{x:function(T){return T==null?this.transform("x"):this.transform({x:T-this.x()},!0)}},construct:{group:function(){return this.put(new A.G)}}}),A.Doc=A.invent({create:function(T){T&&((T=typeof T=="string"?d.getElementById(T):T).nodeName=="svg"?this.constructor.call(this,T):(this.constructor.call(this,A.create("svg")),T.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:A.Container,extend:{namespace:function(){return this.attr({xmlns:A.ns,version:"1.1"}).attr("xmlns:xlink",A.xlink,A.xmlns).attr("xmlns:svgjs",A.svgjs,A.xmlns)},defs:function(){var T;return this._defs||((T=this.node.getElementsByTagName("defs")[0])?this._defs=A.adopt(T):this._defs=new A.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&this.node.parentNode.nodeName!="#document"?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,A.parser.draw&&!A.parser.draw.parentNode&&this.node.appendChild(A.parser.draw),this},clone:function(T){this.writeDataToDom();var q=this.node,Ae=ge(q.cloneNode(!0));return T?(T.node||T).appendChild(Ae.node):q.parentNode.insertBefore(Ae.node,q.nextSibling),Ae}}}),A.extend(A.Element,{}),A.Gradient=A.invent({create:function(T){this.constructor.call(this,A.create(T+"Gradient")),this.type=T},inherit:A.Container,extend:{at:function(T,q,Ae){return this.put(new A.Stop).update(T,q,Ae)},update:function(T){return this.clear(),typeof T=="function"&&T.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(T,q,Ae){return T=="transform"&&(T="gradientTransform"),A.Container.prototype.attr.call(this,T,q,Ae)}},construct:{gradient:function(T,q){return this.defs().gradient(T,q)}}}),A.extend(A.Gradient,A.FX,{from:function(T,q){return(this._target||this).type=="radial"?this.attr({fx:new A.Number(T),fy:new A.Number(q)}):this.attr({x1:new A.Number(T),y1:new A.Number(q)})},to:function(T,q){return(this._target||this).type=="radial"?this.attr({cx:new A.Number(T),cy:new A.Number(q)}):this.attr({x2:new A.Number(T),y2:new A.Number(q)})}}),A.extend(A.Defs,{gradient:function(T,q){return this.put(new A.Gradient(T)).update(q)}}),A.Stop=A.invent({create:"stop",inherit:A.Element,extend:{update:function(T){return(typeof T=="number"||T instanceof A.Number)&&(T={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),T.opacity!=null&&this.attr("stop-opacity",T.opacity),T.color!=null&&this.attr("stop-color",T.color),T.offset!=null&&this.attr("offset",new A.Number(T.offset)),this}}}),A.Pattern=A.invent({create:"pattern",inherit:A.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(T){return this.clear(),typeof T=="function"&&T.call(this,this),this},toString:function(){return this.fill()},attr:function(T,q,Ae){return T=="transform"&&(T="patternTransform"),A.Container.prototype.attr.call(this,T,q,Ae)}},construct:{pattern:function(T,q,Ae){return this.defs().pattern(T,q,Ae)}}}),A.extend(A.Defs,{pattern:function(T,q,Ae){return this.put(new A.Pattern).update(Ae).attr({x:0,y:0,width:T,height:q,patternUnits:"userSpaceOnUse"})}}),A.Shape=A.invent({create:function(T){this.constructor.call(this,T)},inherit:A.Element}),A.Symbol=A.invent({create:"symbol",inherit:A.Container,construct:{symbol:function(){return this.put(new A.Symbol)}}}),A.Use=A.invent({create:"use",inherit:A.Shape,extend:{element:function(T,q){return this.attr("href",(q||"")+"#"+T,A.xlink)}},construct:{use:function(T,q){return this.put(new A.Use).element(T,q)}}}),A.Rect=A.invent({create:"rect",inherit:A.Shape,construct:{rect:function(T,q){return this.put(new A.Rect).size(T,q)}}}),A.Circle=A.invent({create:"circle",inherit:A.Shape,construct:{circle:function(T){return this.put(new A.Circle).rx(new A.Number(T).divide(2)).move(0,0)}}}),A.extend(A.Circle,A.FX,{rx:function(T){return this.attr("r",T)},ry:function(T){return this.rx(T)}}),A.Ellipse=A.invent({create:"ellipse",inherit:A.Shape,construct:{ellipse:function(T,q){return this.put(new A.Ellipse).size(T,q).move(0,0)}}}),A.extend(A.Ellipse,A.Rect,A.FX,{rx:function(T){return this.attr("rx",T)},ry:function(T){return this.attr("ry",T)}}),A.extend(A.Circle,A.Ellipse,{x:function(T){return T==null?this.cx()-this.rx():this.cx(T+this.rx())},y:function(T){return T==null?this.cy()-this.ry():this.cy(T+this.ry())},cx:function(T){return T==null?this.attr("cx"):this.attr("cx",T)},cy:function(T){return T==null?this.attr("cy"):this.attr("cy",T)},width:function(T){return T==null?2*this.rx():this.rx(new A.Number(T).divide(2))},height:function(T){return T==null?2*this.ry():this.ry(new A.Number(T).divide(2))},size:function(T,q){var Ae=z(this,T,q);return this.rx(new A.Number(Ae.width).divide(2)).ry(new A.Number(Ae.height).divide(2))}}),A.Line=A.invent({create:"line",inherit:A.Shape,extend:{array:function(){return new A.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(T,q,Ae,Se){return T==null?this.array():(T=q!==void 0?{x1:T,y1:q,x2:Ae,y2:Se}:new A.PointArray(T).toLine(),this.attr(T))},move:function(T,q){return this.attr(this.array().move(T,q).toLine())},size:function(T,q){var Ae=z(this,T,q);return this.attr(this.array().size(Ae.width,Ae.height).toLine())}},construct:{line:function(T,q,Ae,Se){return A.Line.prototype.plot.apply(this.put(new A.Line),T!=null?[T,q,Ae,Se]:[0,0,0,0])}}}),A.Polyline=A.invent({create:"polyline",inherit:A.Shape,construct:{polyline:function(T){return this.put(new A.Polyline).plot(T||new A.PointArray)}}}),A.Polygon=A.invent({create:"polygon",inherit:A.Shape,construct:{polygon:function(T){return this.put(new A.Polygon).plot(T||new A.PointArray)}}}),A.extend(A.Polyline,A.Polygon,{array:function(){return this._array||(this._array=new A.PointArray(this.attr("points")))},plot:function(T){return T==null?this.array():this.clear().attr("points",typeof T=="string"?T:this._array=new A.PointArray(T))},clear:function(){return delete this._array,this},move:function(T,q){return this.attr("points",this.array().move(T,q))},size:function(T,q){var Ae=z(this,T,q);return this.attr("points",this.array().size(Ae.width,Ae.height))}}),A.extend(A.Line,A.Polyline,A.Polygon,{morphArray:A.PointArray,x:function(T){return T==null?this.bbox().x:this.move(T,this.bbox().y)},y:function(T){return T==null?this.bbox().y:this.move(this.bbox().x,T)},width:function(T){var q=this.bbox();return T==null?q.width:this.size(T,q.height)},height:function(T){var q=this.bbox();return T==null?q.height:this.size(q.width,T)}}),A.Path=A.invent({create:"path",inherit:A.Shape,extend:{morphArray:A.PathArray,array:function(){return this._array||(this._array=new A.PathArray(this.attr("d")))},plot:function(T){return T==null?this.array():this.clear().attr("d",typeof T=="string"?T:this._array=new A.PathArray(T))},clear:function(){return delete this._array,this}},construct:{path:function(T){return this.put(new A.Path).plot(T||new A.PathArray)}}}),A.Image=A.invent({create:"image",inherit:A.Shape,extend:{load:function(T){if(!T)return this;var q=this,Ae=new Be.Image;return A.on(Ae,"load",function(){A.off(Ae);var Se=q.parent(A.Pattern);Se!==null&&(q.width()==0&&q.height()==0&&q.size(Ae.width,Ae.height),Se&&Se.width()==0&&Se.height()==0&&Se.size(q.width(),q.height()),typeof q._loaded=="function"&&q._loaded.call(q,{width:Ae.width,height:Ae.height,ratio:Ae.width/Ae.height,url:T}))}),A.on(Ae,"error",function(Se){A.off(Ae),typeof q._error=="function"&&q._error.call(q,Se)}),this.attr("href",Ae.src=this.src=T,A.xlink)},loaded:function(T){return this._loaded=T,this},error:function(T){return this._error=T,this}},construct:{image:function(T,q,Ae){return this.put(new A.Image).load(T).size(q||0,Ae||q||0)}}}),A.Text=A.invent({create:function(){this.constructor.call(this,A.create("text")),this.dom.leading=new A.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",A.defaults.attrs["font-family"])},inherit:A.Shape,extend:{x:function(T){return T==null?this.attr("x"):this.attr("x",T)},text:function(T){if(T===void 0){T="";for(var q=this.node.childNodes,Ae=0,Se=q.length;Ae<Se;++Ae)Ae!=0&&q[Ae].nodeType!=3&&A.adopt(q[Ae]).dom.newLined==1&&(T+=`
`),T+=q[Ae].textContent;return T}if(this.clear().build(!0),typeof T=="function")T.call(this,this);else{Ae=0;for(var Ze=(T=T.split(`
`)).length;Ae<Ze;Ae++)this.tspan(T[Ae]).newLine()}return this.build(!1).rebuild()},size:function(T){return this.attr("font-size",T).rebuild()},leading:function(T){return T==null?this.dom.leading:(this.dom.leading=new A.Number(T),this.rebuild())},lines:function(){var T=(this.textPath&&this.textPath()||this).node,q=A.utils.map(A.utils.filterSVGElements(T.childNodes),function(Ae){return A.adopt(Ae)});return new A.Set(q)},rebuild:function(T){if(typeof T=="boolean"&&(this._rebuild=T),this._rebuild){var q=this,Ae=0,Se=this.dom.leading*new A.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(q.textPath()||this.attr("x",q.attr("x")),this.text()==`
`?Ae+=Se:(this.attr("dy",Se+Ae),Ae=0))}),this.fire("rebuild")}return this},build:function(T){return this._build=!!T,this},setData:function(T){return this.dom=T,this.dom.leading=new A.Number(T.leading||1.3),this}},construct:{text:function(T){return this.put(new A.Text).text(T)},plain:function(T){return this.put(new A.Text).plain(T)}}}),A.Tspan=A.invent({create:"tspan",inherit:A.Shape,extend:{text:function(T){return T==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof T=="function"?T.call(this,this):this.plain(T),this)},dx:function(T){return this.attr("dx",T)},dy:function(T){return this.attr("dy",T)},newLine:function(){var T=this.parent(A.Text);return this.dom.newLined=!0,this.dy(T.dom.leading*T.attr("font-size")).attr("x",T.x())}}}),A.extend(A.Text,A.Tspan,{plain:function(T){return this._build===!1&&this.clear(),this.node.appendChild(d.createTextNode(T)),this},tspan:function(T){var q=(this.textPath&&this.textPath()||this).node,Ae=new A.Tspan;return this._build===!1&&this.clear(),q.appendChild(Ae.node),Ae.text(T)},clear:function(){for(var T=(this.textPath&&this.textPath()||this).node;T.hasChildNodes();)T.removeChild(T.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),A.TextPath=A.invent({create:"textPath",inherit:A.Parent,parent:A.Text,construct:{morphArray:A.PathArray,array:function(){var T=this.track();return T?T.array():null},plot:function(T){var q=this.track(),Ae=null;return q&&(Ae=q.plot(T)),T==null?Ae:this},track:function(){var T=this.textPath();if(T)return T.reference("href")},textPath:function(){if(this.node.firstChild&&this.node.firstChild.nodeName=="textPath")return A.adopt(this.node.firstChild)}}}),A.Nested=A.invent({create:function(){this.constructor.call(this,A.create("svg")),this.style("overflow","visible")},inherit:A.Container,construct:{nested:function(){return this.put(new A.Nested)}}});var Z={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(T,q){return q=="color"?T:T+"-"+q}};function E(T,q,Ae,Se){return Ae+Se.replace(A.regex.dots," .")}function D(T){return T.toLowerCase().replace(/-(.)/g,function(q,Ae){return Ae.toUpperCase()})}function Y(T){return T.charAt(0).toUpperCase()+T.slice(1)}function U(T){var q=T.toString(16);return q.length==1?"0"+q:q}function z(T,q,Ae){if(q==null||Ae==null){var Se=T.bbox();q==null?q=Se.width/Se.height*Ae:Ae==null&&(Ae=Se.height/Se.width*q)}return{width:q,height:Ae}}function te(T,q,Ae){return{x:q*T.a+Ae*T.c+0,y:q*T.b+Ae*T.d+0}}function ae(T){return{a:T[0],b:T[1],c:T[2],d:T[3],e:T[4],f:T[5]}}function ge(T){for(var q=T.childNodes.length-1;q>=0;q--)T.childNodes[q]instanceof Be.SVGElement&&ge(T.childNodes[q]);return A.adopt(T).id(A.eid(T.nodeName))}function Ce(T){return Math.abs(T)>1e-37?T:0}["fill","stroke"].forEach(function(T){var q={};q[T]=function(Ae){if(Ae===void 0)return this;if(typeof Ae=="string"||A.Color.isRgb(Ae)||Ae&&typeof Ae.fill=="function")this.attr(T,Ae);else for(var Se=Z[T].length-1;Se>=0;Se--)Ae[Z[T][Se]]!=null&&this.attr(Z.prefix(T,Z[T][Se]),Ae[Z[T][Se]]);return this},A.extend(A.Element,A.FX,q)}),A.extend(A.Element,A.FX,{translate:function(T,q){return this.transform({x:T,y:q})},matrix:function(T){return this.attr("transform",new A.Matrix(arguments.length==6?[].slice.call(arguments):T))},opacity:function(T){return this.attr("opacity",T)},dx:function(T){return this.x(new A.Number(T).plus(this instanceof A.FX?0:this.x()),!0)},dy:function(T){return this.y(new A.Number(T).plus(this instanceof A.FX?0:this.y()),!0)}}),A.extend(A.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(T){return this.node.getPointAtLength(T)}}),A.Set=A.invent({create:function(T){Array.isArray(T)?this.members=T:this.clear()},extend:{add:function(){for(var T=[].slice.call(arguments),q=0,Ae=T.length;q<Ae;q++)this.members.push(T[q]);return this},remove:function(T){var q=this.index(T);return q>-1&&this.members.splice(q,1),this},each:function(T){for(var q=0,Ae=this.members.length;q<Ae;q++)T.apply(this.members[q],[q,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(T){return this.index(T)>=0},index:function(T){return this.members.indexOf(T)},get:function(T){return this.members[T]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(T){return new A.Set(T)}}}),A.FX.Set=A.invent({create:function(T){this.set=T}}),A.Set.inherit=function(){var T=[];for(var q in A.Shape.prototype)typeof A.Shape.prototype[q]=="function"&&typeof A.Set.prototype[q]!="function"&&T.push(q);for(var q in T.forEach(function(Se){A.Set.prototype[Se]=function(){for(var Ze=0,Te=this.members.length;Ze<Te;Ze++)this.members[Ze]&&typeof this.members[Ze][Se]=="function"&&this.members[Ze][Se].apply(this.members[Ze],arguments);return Se=="animate"?this.fx||(this.fx=new A.FX.Set(this)):this}}),T=[],A.FX.prototype)typeof A.FX.prototype[q]=="function"&&typeof A.FX.Set.prototype[q]!="function"&&T.push(q);T.forEach(function(Ae){A.FX.Set.prototype[Ae]=function(){for(var Se=0,Ze=this.set.members.length;Se<Ze;Se++)this.set.members[Se].fx[Ae].apply(this.set.members[Se].fx,arguments);return this}})},A.extend(A.Element,{}),A.extend(A.Element,{remember:function(T,q){if(s(arguments[0])==="object")for(var Ae in T)this.remember(Ae,T[Ae]);else{if(arguments.length==1)return this.memory()[T];this.memory()[T]=q}return this},forget:function(){if(arguments.length==0)this._memory={};else for(var T=arguments.length-1;T>=0;T--)delete this.memory()[arguments[T]];return this},memory:function(){return this._memory||(this._memory={})}}),A.get=function(T){var q=d.getElementById(function(Ae){var Se=(Ae||"").toString().match(A.regex.reference);if(Se)return Se[1]}(T)||T);return A.adopt(q)},A.select=function(T,q){return new A.Set(A.utils.map((q||d).querySelectorAll(T),function(Ae){return A.adopt(Ae)}))},A.extend(A.Parent,{select:function(T){return A.select(T,this.node)}});var we="abcdef".split("");if(typeof Be.CustomEvent!="function"){var ke=function(T,q){q=q||{bubbles:!1,cancelable:!1,detail:void 0};var Ae=d.createEvent("CustomEvent");return Ae.initCustomEvent(T,q.bubbles,q.cancelable,q.detail),Ae};ke.prototype=Be.Event.prototype,A.CustomEvent=ke}else A.CustomEvent=Be.CustomEvent;return A},s(t)==="object"?e.exports=Gi.document?Lo(Gi,Gi.document):function(Be){return Lo(Be,Be.document)}:Gi.SVG=Lo(Gi,Gi.document),(function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(k,Z){return this.add(k,Z),!k.attr("in")&&this.autoSetIn&&k.attr("in",this.source),k.attr("result")||k.attr("result",k),k},blend:function(k,Z,E){return this.put(new SVG.BlendEffect(k,Z,E))},colorMatrix:function(k,Z){return this.put(new SVG.ColorMatrixEffect(k,Z))},convolveMatrix:function(k){return this.put(new SVG.ConvolveMatrixEffect(k))},componentTransfer:function(k){return this.put(new SVG.ComponentTransferEffect(k))},composite:function(k,Z,E){return this.put(new SVG.CompositeEffect(k,Z,E))},flood:function(k,Z){return this.put(new SVG.FloodEffect(k,Z))},offset:function(k,Z){return this.put(new SVG.OffsetEffect(k,Z))},image:function(k){return this.put(new SVG.ImageEffect(k))},merge:function(){var k=[void 0];for(var Z in arguments)k.push(arguments[Z]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,k)))},gaussianBlur:function(k,Z){return this.put(new SVG.GaussianBlurEffect(k,Z))},morphology:function(k,Z){return this.put(new SVG.MorphologyEffect(k,Z))},diffuseLighting:function(k,Z,E){return this.put(new SVG.DiffuseLightingEffect(k,Z,E))},displacementMap:function(k,Z,E,D,Y){return this.put(new SVG.DisplacementMapEffect(k,Z,E,D,Y))},specularLighting:function(k,Z,E,D){return this.put(new SVG.SpecularLightingEffect(k,Z,E,D))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(k,Z,E,D,Y){return this.put(new SVG.TurbulenceEffect(k,Z,E,D,Y))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(k){var Z=this.put(new SVG.Filter);return typeof k=="function"&&k.call(Z,Z),Z}}),SVG.extend(SVG.Container,{filter:function(k){return this.defs().filter(k)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(k){return this.filterer=k instanceof SVG.Element?k:this.doc().filter(k),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(k){return this.filterer&&k===!0&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(k){return k==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",k)},result:function(k){return k==null?this.attr("result"):this.attr("result",k)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(k){return k==null?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",k)},result:function(k){return k==null?this.attr("result"):this.attr("result",k)},toString:function(){return this.result()}}});var Be={blend:function(k,Z){return this.parent()&&this.parent().blend(this,k,Z)},colorMatrix:function(k,Z){return this.parent()&&this.parent().colorMatrix(k,Z).in(this)},convolveMatrix:function(k){return this.parent()&&this.parent().convolveMatrix(k).in(this)},componentTransfer:function(k){return this.parent()&&this.parent().componentTransfer(k).in(this)},composite:function(k,Z){return this.parent()&&this.parent().composite(this,k,Z)},flood:function(k,Z){return this.parent()&&this.parent().flood(k,Z)},offset:function(k,Z){return this.parent()&&this.parent().offset(k,Z).in(this)},image:function(k){return this.parent()&&this.parent().image(k)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(k,Z){return this.parent()&&this.parent().gaussianBlur(k,Z).in(this)},morphology:function(k,Z){return this.parent()&&this.parent().morphology(k,Z).in(this)},diffuseLighting:function(k,Z,E){return this.parent()&&this.parent().diffuseLighting(k,Z,E).in(this)},displacementMap:function(k,Z,E,D){return this.parent()&&this.parent().displacementMap(this,k,Z,E,D)},specularLighting:function(k,Z,E,D){return this.parent()&&this.parent().specularLighting(k,Z,E,D).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(k,Z,E,D,Y){return this.parent()&&this.parent().turbulence(k,Z,E,D,Y).in(this)}};SVG.extend(SVG.Effect,Be),SVG.extend(SVG.ParentEffect,Be),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(k){this.attr("in",k)}}});var d={blend:function(k,Z,E){this.attr({in:k,in2:Z,mode:E||"normal"})},colorMatrix:function(k,Z){k=="matrix"&&(Z=I(Z)),this.attr({type:k,values:Z===void 0?null:Z})},convolveMatrix:function(k){k=I(k),this.attr({order:Math.sqrt(k.split(" ").length),kernelMatrix:k})},composite:function(k,Z,E){this.attr({in:k,in2:Z,operator:E})},flood:function(k,Z){this.attr("flood-color",k),Z!=null&&this.attr("flood-opacity",Z)},offset:function(k,Z){this.attr({dx:k,dy:Z})},image:function(k){this.attr("href",k,SVG.xlink)},displacementMap:function(k,Z,E,D,Y){this.attr({in:k,in2:Z,scale:E,xChannelSelector:D,yChannelSelector:Y})},gaussianBlur:function(k,Z){k!=null||Z!=null?this.attr("stdDeviation",function(E){if(!Array.isArray(E))return E;for(var D=0,Y=E.length,U=[];D<Y;D++)U.push(E[D]);return U.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(k,Z){this.attr({operator:k,radius:Z})},tile:function(){},turbulence:function(k,Z,E,D,Y){this.attr({numOctaves:Z,seed:E,stitchTiles:D,baseFrequency:k,type:Y})}},A={merge:function(){var k;if(arguments[0]instanceof SVG.Set){var Z=this;arguments[0].each(function(D){this instanceof SVG.MergeNode?Z.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&Z.put(new SVG.MergeNode(this))})}else{k=Array.isArray(arguments[0])?arguments[0]:arguments;for(var E=0;E<k.length;E++)k[E]instanceof SVG.MergeNode?this.put(k[E]):this.put(new SVG.MergeNode(k[E]))}},componentTransfer:function(k){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach((function(E){this[E]=new SVG["Func"+E.toUpperCase()]("identity"),this.rgb.add(this[E]),this.node.appendChild(this[E].node)}).bind(this)),k)for(var Z in k.rgb&&(["r","g","b"].forEach((function(E){this[E].attr(k.rgb)}).bind(this)),delete k.rgb),k)this[Z].attr(k[Z])},diffuseLighting:function(k,Z,E){this.attr({surfaceScale:k,diffuseConstant:Z,kernelUnitLength:E})},specularLighting:function(k,Z,E,D){this.attr({surfaceScale:k,diffuseConstant:Z,specularExponent:E,kernelUnitLength:D})}},p={distantLight:function(k,Z){this.attr({azimuth:k,elevation:Z})},pointLight:function(k,Z,E){this.attr({x:k,y:Z,z:E})},spotLight:function(k,Z,E,D,Y,U){this.attr({x:k,y:Z,z:E,pointsAtX:D,pointsAtY:Y,pointsAtZ:U})},mergeNode:function(k){this.attr("in",k)}};function I(k){return Array.isArray(k)&&(k=new SVG.Array(k)),k.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function w(){var k=function(){};for(var Z in typeof arguments[arguments.length-1]=="function"&&(k=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var E in arguments[Z])k(arguments[Z][E],E,arguments[Z])}["r","g","b","a"].forEach(function(k){p["Func"+k.toUpperCase()]=function(Z){switch(this.attr("type",Z),Z){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),w(d,function(k,Z){var E=Z.charAt(0).toUpperCase()+Z.slice(1);SVG[E+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+E)),k.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),w(A,function(k,Z){var E=Z.charAt(0).toUpperCase()+Z.slice(1);SVG[E+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+E)),k.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),w(p,function(k,Z){var E=Z.charAt(0).toUpperCase()+Z.slice(1);SVG[E]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+E)),k.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(k){return k instanceof SVG.MergeNode?this.add(k,0):this.add(new SVG.MergeNode(k),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(k){return k==null?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",k)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}).call(void 0),function(){function Be(w,k,Z,E,D,Y,U){for(var z=w.slice(k,Z||U),te=E.slice(D,Y||U),ae=0,ge={pos:[0,0],start:[0,0]},Ce={pos:[0,0],start:[0,0]};z[ae]=d.call(ge,z[ae]),te[ae]=d.call(Ce,te[ae]),z[ae][0]!=te[ae][0]||z[ae][0]=="M"||z[ae][0]=="A"&&(z[ae][4]!=te[ae][4]||z[ae][5]!=te[ae][5])?(Array.prototype.splice.apply(z,[ae,1].concat(p.call(ge,z[ae]))),Array.prototype.splice.apply(te,[ae,1].concat(p.call(Ce,te[ae])))):(z[ae]=A.call(ge,z[ae]),te[ae]=A.call(Ce,te[ae])),!(++ae==z.length&&ae==te.length);)ae==z.length&&z.push(["C",ge.pos[0],ge.pos[1],ge.pos[0],ge.pos[1],ge.pos[0],ge.pos[1]]),ae==te.length&&te.push(["C",Ce.pos[0],Ce.pos[1],Ce.pos[0],Ce.pos[1],Ce.pos[0],Ce.pos[1]]);return{start:z,dest:te}}function d(w){switch(w[0]){case"z":case"Z":w[0]="L",w[1]=this.start[0],w[2]=this.start[1];break;case"H":w[0]="L",w[2]=this.pos[1];break;case"V":w[0]="L",w[2]=w[1],w[1]=this.pos[0];break;case"T":w[0]="Q",w[3]=w[1],w[4]=w[2],w[1]=this.reflection[1],w[2]=this.reflection[0];break;case"S":w[0]="C",w[6]=w[4],w[5]=w[3],w[4]=w[2],w[3]=w[1],w[2]=this.reflection[1],w[1]=this.reflection[0]}return w}function A(w){var k=w.length;return this.pos=[w[k-2],w[k-1]],"SCQT".indexOf(w[0])!=-1&&(this.reflection=[2*this.pos[0]-w[k-4],2*this.pos[1]-w[k-3]]),w}function p(w){var k=[w];switch(w[0]){case"M":return this.pos=this.start=[w[1],w[2]],k;case"L":w[5]=w[3]=w[1],w[6]=w[4]=w[2],w[1]=this.pos[0],w[2]=this.pos[1];break;case"Q":w[6]=w[4],w[5]=w[3],w[4]=1*w[4]/3+2*w[2]/3,w[3]=1*w[3]/3+2*w[1]/3,w[2]=1*this.pos[1]/3+2*w[2]/3,w[1]=1*this.pos[0]/3+2*w[1]/3;break;case"A":k=function(Z,E){var D,Y,U,z,te,ae,ge,Ce,we,ke,T,q,Ae,Se,Ze,Te,Qe,Oe,ut,Gt,dt,Et,Ot,an,hn,In,bn=Math.abs(E[1]),kn=Math.abs(E[2]),En=E[3]%360,Ri=E[4],jn=E[5],Ci=E[6],eo=E[7],ln=new SVG.Point(Z),gi=new SVG.Point(Ci,eo),ni=[];if(bn===0||kn===0||ln.x===gi.x&&ln.y===gi.y)return[["C",ln.x,ln.y,gi.x,gi.y,gi.x,gi.y]];for(D=new SVG.Point((ln.x-gi.x)/2,(ln.y-gi.y)/2).transform(new SVG.Matrix().rotate(En)),(Y=D.x*D.x/(bn*bn)+D.y*D.y/(kn*kn))>1&&(bn*=Y=Math.sqrt(Y),kn*=Y),U=new SVG.Matrix().rotate(En).scale(1/bn,1/kn).rotate(-En),ln=ln.transform(U),gi=gi.transform(U),z=[gi.x-ln.x,gi.y-ln.y],ae=z[0]*z[0]+z[1]*z[1],te=Math.sqrt(ae),z[0]/=te,z[1]/=te,ge=ae<4?Math.sqrt(1-ae/4):0,Ri===jn&&(ge*=-1),Ce=new SVG.Point((gi.x+ln.x)/2+ge*-z[1],(gi.y+ln.y)/2+ge*z[0]),we=new SVG.Point(ln.x-Ce.x,ln.y-Ce.y),ke=new SVG.Point(gi.x-Ce.x,gi.y-Ce.y),T=Math.acos(we.x/Math.sqrt(we.x*we.x+we.y*we.y)),we.y<0&&(T*=-1),q=Math.acos(ke.x/Math.sqrt(ke.x*ke.x+ke.y*ke.y)),ke.y<0&&(q*=-1),jn&&T>q&&(q+=2*Math.PI),!jn&&T<q&&(q-=2*Math.PI),Se=Math.ceil(2*Math.abs(T-q)/Math.PI),Te=[],Qe=T,Ae=(q-T)/Se,Ze=4*Math.tan(Ae/4)/3,dt=0;dt<=Se;dt++)ut=Math.cos(Qe),Oe=Math.sin(Qe),Gt=new SVG.Point(Ce.x+ut,Ce.y+Oe),Te[dt]=[new SVG.Point(Gt.x+Ze*Oe,Gt.y-Ze*ut),Gt,new SVG.Point(Gt.x-Ze*Oe,Gt.y+Ze*ut)],Qe+=Ae;for(Te[0][0]=Te[0][1].clone(),Te[Te.length-1][2]=Te[Te.length-1][1].clone(),U=new SVG.Matrix().rotate(En).scale(bn,kn).rotate(-En),dt=0,Et=Te.length;dt<Et;dt++)Te[dt][0]=Te[dt][0].transform(U),Te[dt][1]=Te[dt][1].transform(U),Te[dt][2]=Te[dt][2].transform(U);for(dt=1,Et=Te.length;dt<Et;dt++)Ot=(Gt=Te[dt-1][2]).x,an=Gt.y,hn=(Gt=Te[dt][0]).x,In=Gt.y,Ci=(Gt=Te[dt][1]).x,eo=Gt.y,ni.push(["C",Ot,an,hn,In,Ci,eo]);return ni}(this.pos,w),w=k[0]}return w[0]="C",this.pos=[w[5],w[6]],this.reflection=[2*w[5]-w[3],2*w[6]-w[4]],k}function I(w,k){if(k===!1)return!1;for(var Z=k,E=w.length;Z<E;++Z)if(w[Z][0]=="M")return Z;return!1}SVG.extend(SVG.PathArray,{morph:function(w){for(var k=this.value,Z=this.parse(w),E=0,D=0,Y=!1,U=!1;E!==!1||D!==!1;){var z;Y=I(k,E!==!1&&E+1),U=I(Z,D!==!1&&D+1),E===!1&&(E=(z=new SVG.PathArray(te.start).bbox()).height==0||z.width==0?k.push(k[0])-1:k.push(["M",z.x+z.width/2,z.y+z.height/2])-1),D===!1&&(D=(z=new SVG.PathArray(te.dest).bbox()).height==0||z.width==0?Z.push(Z[0])-1:Z.push(["M",z.x+z.width/2,z.y+z.height/2])-1);var te=Be(k,E,Y,Z,D,U);k=k.slice(0,E).concat(te.start,Y===!1?[]:k.slice(Y)),Z=Z.slice(0,D).concat(te.dest,U===!1?[]:Z.slice(U)),E=Y!==!1&&E+te.start.length,D=U!==!1&&D+te.dest.length}return this.value=k,this.destination=new SVG.PathArray,this.destination.value=Z,this}})}(),(function(){function Be(d){d.remember("_draggable",this),this.el=d}Be.prototype.init=function(d,A){var p=this;this.constraint=d,this.value=A,this.el.on("mousedown.drag",function(I){p.start(I)}),this.el.on("touchstart.drag",function(I){p.start(I)})},Be.prototype.transformPoint=function(d,A){var p=(d=d||window.event).changedTouches&&d.changedTouches[0]||d;return this.p.x=p.clientX-(A||0),this.p.y=p.clientY,this.p.matrixTransform(this.m)},Be.prototype.getBBox=function(){var d=this.el.bbox();return this.el instanceof SVG.Nested&&(d=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(d.x=this.el.x(),d.y=this.el.y()),d},Be.prototype.start=function(d){if(d.type!="click"&&d.type!="mousedown"&&d.type!="mousemove"||(d.which||d.buttons)==1){var A=this;if(this.el.fire("beforedrag",{event:d,handler:this}),!this.el.event().defaultPrevented){d.preventDefault(),d.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var p,I=this.getBBox();if(this.el instanceof SVG.Text)switch(p=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":p/=2;break;case"start":p=0}this.startPoints={point:this.transformPoint(d,p),box:I,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(w){A.drag(w)}),SVG.on(window,"touchmove.drag",function(w){A.drag(w)}),SVG.on(window,"mouseup.drag",function(w){A.end(w)}),SVG.on(window,"touchend.drag",function(w){A.end(w)}),this.el.fire("dragstart",{event:d,p:this.startPoints.point,m:this.m,handler:this})}}},Be.prototype.drag=function(d){var A=this.getBBox(),p=this.transformPoint(d),I=this.startPoints.box.x+p.x-this.startPoints.point.x,w=this.startPoints.box.y+p.y-this.startPoints.point.y,k=this.constraint,Z=p.x-this.startPoints.point.x,E=p.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:d,p,m:this.m,handler:this}),this.el.event().defaultPrevented)return p;if(typeof k=="function"){var D=k.call(this.el,I,w,this.m);typeof D=="boolean"&&(D={x:D,y:D}),D.x===!0?this.el.x(I):D.x!==!1&&this.el.x(D.x),D.y===!0?this.el.y(w):D.y!==!1&&this.el.y(D.y)}else typeof k=="object"&&(k.minX!=null&&I<k.minX?Z=(I=k.minX)-this.startPoints.box.x:k.maxX!=null&&I>k.maxX-A.width&&(Z=(I=k.maxX-A.width)-this.startPoints.box.x),k.minY!=null&&w<k.minY?E=(w=k.minY)-this.startPoints.box.y:k.maxY!=null&&w>k.maxY-A.height&&(E=(w=k.maxY-A.height)-this.startPoints.box.y),k.snapToGrid!=null&&(I-=I%k.snapToGrid,w-=w%k.snapToGrid,Z-=Z%k.snapToGrid,E-=E%k.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:Z,y:E},!0):this.el.move(I,w));return p},Be.prototype.end=function(d){var A=this.drag(d);this.el.fire("dragend",{event:d,p:A,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(d,A){typeof d!="function"&&typeof d!="object"||(A=d,d=!0);var p=this.remember("_draggable")||new Be(this);return(d=d===void 0||d)?p.init(A||{},d):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}).call(void 0),function(){function Be(d){this.el=d,d.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(A,p,I){var w=typeof A!="string"?A:p[A];return I?w/2:w},this.pointCoords=function(A,p){var I=this.pointsList[A];return{x:this.pointCoord(I[0],p,A==="t"||A==="b"),y:this.pointCoord(I[1],p,A==="r"||A==="l")}}}Be.prototype.init=function(d,A){var p=this.el.bbox();this.options={};var I=this.el.selectize.defaults.points;for(var w in this.el.selectize.defaults)this.options[w]=this.el.selectize.defaults[w],A[w]!==void 0&&(this.options[w]=A[w]);var k=["points","pointsExclude"];for(var w in k){var Z=this.options[k[w]];typeof Z=="string"?Z=Z.length>0?Z.split(/\s*,\s*/i):[]:typeof Z=="boolean"&&k[w]==="points"&&(Z=Z?I:[]),this.options[k[w]]=Z}this.options.points=[I,this.options.points].reduce(function(E,D){return E.filter(function(Y){return D.indexOf(Y)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(E,D){return E.filter(function(Y){return D.indexOf(Y)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(p.x,p.y)),this.options.deepSelect&&["line","polyline","polygon"].indexOf(this.el.type)!==-1?this.selectPoints(d):this.selectRect(d),this.observe(),this.cleanup()},Be.prototype.selectPoints=function(d){return this.pointSelection.isSelected=d,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},Be.prototype.getPointArray=function(){var d=this.el.bbox();return this.el.array().valueOf().map(function(A){return[A[0]-d.x,A[1]-d.y]})},Be.prototype.drawPoints=function(){for(var d=this,A=this.getPointArray(),p=0,I=A.length;p<I;++p){var w=function(Z){return function(E){(E=E||window.event).preventDefault?E.preventDefault():E.returnValue=!1,E.stopPropagation();var D=E.pageX||E.touches[0].pageX,Y=E.pageY||E.touches[0].pageY;d.el.fire("point",{x:D,y:Y,i:Z,event:E})}}(p),k=this.drawPoint(A[p][0],A[p][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",w).on("mousedown",w);this.pointSelection.set.add(k)}},Be.prototype.drawPoint=function(d,A){var p=this.options.pointType;switch(p){case"circle":return this.drawCircle(d,A);case"rect":return this.drawRect(d,A);default:if(typeof p=="function")return p.call(this,d,A);throw new Error("Unknown "+p+" point type!")}},Be.prototype.drawCircle=function(d,A){return this.nested.circle(this.options.pointSize).center(d,A)},Be.prototype.drawRect=function(d,A){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(d,A)},Be.prototype.updatePointSelection=function(){var d=this.getPointArray();this.pointSelection.set.each(function(A){this.cx()===d[A][0]&&this.cy()===d[A][1]||this.center(d[A][0],d[A][1])})},Be.prototype.updateRectSelection=function(){var d=this,A=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:A.width,height:A.height}),this.options.points.length&&this.options.points.map(function(I,w){var k=d.pointCoords(I,A);d.rectSelection.set.get(w+1).center(k.x,k.y)}),this.options.rotationPoint){var p=this.rectSelection.set.length();this.rectSelection.set.get(p-1).center(A.width/2,20)}},Be.prototype.selectRect=function(d){var A=this,p=this.el.bbox();function I(Z){return function(E){(E=E||window.event).preventDefault?E.preventDefault():E.returnValue=!1,E.stopPropagation();var D=E.pageX||E.touches[0].pageX,Y=E.pageY||E.touches[0].pageY;A.el.fire(Z,{x:D,y:Y,event:E})}}if(this.rectSelection.isSelected=d,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(p.width,p.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(Z,E){var D=A.pointCoords(Z,p),Y=A.drawPoint(D.x,D.y).attr("class",A.options.classPoints+"_"+Z).on("mousedown",I(Z)).on("touchstart",I(Z));A.rectSelection.set.add(Y)}),this.rectSelection.set.each(function(){this.addClass(A.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var w=function(Z){(Z=Z||window.event).preventDefault?Z.preventDefault():Z.returnValue=!1,Z.stopPropagation();var E=Z.pageX||Z.touches[0].pageX,D=Z.pageY||Z.touches[0].pageY;A.el.fire("rot",{x:E,y:D,event:Z})},k=this.drawPoint(p.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",w).on("mousedown",w);this.rectSelection.set.add(k)}},Be.prototype.handler=function(){var d=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(d.x,d.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},Be.prototype.observe=function(){var d=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){d.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){d.handler()})},Be.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(d,A){return typeof d=="object"&&(A=d,d=!0),(this.remember("_selectHandler")||new Be(this)).init(d===void 0||d,A||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function Be(d){d.remember("_resizeHandler",this),this.el=d,this.parameters={},this.lastUpdateCall=null,this.p=d.doc().node.createSVGPoint()}Be.prototype.transformPoint=function(d,A,p){return this.p.x=d-(this.offset.x-window.pageXOffset),this.p.y=A-(this.offset.y-window.pageYOffset),this.p.matrixTransform(p||this.m)},Be.prototype._extractPosition=function(d){return{x:d.clientX!=null?d.clientX:d.touches[0].clientX,y:d.clientY!=null?d.clientY:d.touches[0].clientY}},Be.prototype.init=function(d){var A=this;if(this.stop(),d!=="stop"){for(var p in this.options={},this.el.resize.defaults)this.options[p]=this.el.resize.defaults[p],d[p]!==void 0&&(this.options[p]=d[p]);this.el.on("lt.resize",function(I){A.resize(I||window.event)}),this.el.on("rt.resize",function(I){A.resize(I||window.event)}),this.el.on("rb.resize",function(I){A.resize(I||window.event)}),this.el.on("lb.resize",function(I){A.resize(I||window.event)}),this.el.on("t.resize",function(I){A.resize(I||window.event)}),this.el.on("r.resize",function(I){A.resize(I||window.event)}),this.el.on("b.resize",function(I){A.resize(I||window.event)}),this.el.on("l.resize",function(I){A.resize(I||window.event)}),this.el.on("rot.resize",function(I){A.resize(I||window.event)}),this.el.on("point.resize",function(I){A.resize(I||window.event)}),this.update()}},Be.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},Be.prototype.resize=function(d){var A=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var p=this._extractPosition(d.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(p.x,p.y),x:d.detail.x,y:d.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},this.el.type==="text"&&(this.parameters.fontSize=this.el.attr()["font-size"]),d.detail.i!==void 0){var I=this.el.array().valueOf();this.parameters.i=d.detail.i,this.parameters.pointCoords=[I[d.detail.i][0],I[d.detail.i][1]]}switch(d.type){case"lt":this.calc=function(w,k){var Z=this.snapToGrid(w,k);if(this.parameters.box.width-Z[0]>0&&this.parameters.box.height-Z[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+Z[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-Z[0]);Z=this.checkAspectRatio(Z),this.el.move(this.parameters.box.x+Z[0],this.parameters.box.y+Z[1]).size(this.parameters.box.width-Z[0],this.parameters.box.height-Z[1])}};break;case"rt":this.calc=function(w,k){var Z=this.snapToGrid(w,k,2);if(this.parameters.box.width+Z[0]>0&&this.parameters.box.height-Z[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-Z[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+Z[0]);Z=this.checkAspectRatio(Z,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+Z[1]).size(this.parameters.box.width+Z[0],this.parameters.box.height-Z[1])}};break;case"rb":this.calc=function(w,k){var Z=this.snapToGrid(w,k,0);if(this.parameters.box.width+Z[0]>0&&this.parameters.box.height+Z[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x-Z[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+Z[0]);Z=this.checkAspectRatio(Z),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+Z[0],this.parameters.box.height+Z[1])}};break;case"lb":this.calc=function(w,k){var Z=this.snapToGrid(w,k,1);if(this.parameters.box.width-Z[0]>0&&this.parameters.box.height+Z[1]>0){if(this.parameters.type==="text")return this.el.move(this.parameters.box.x+Z[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-Z[0]);Z=this.checkAspectRatio(Z,!0),this.el.move(this.parameters.box.x+Z[0],this.parameters.box.y).size(this.parameters.box.width-Z[0],this.parameters.box.height+Z[1])}};break;case"t":this.calc=function(w,k){var Z=this.snapToGrid(w,k,2);if(this.parameters.box.height-Z[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y+Z[1]).height(this.parameters.box.height-Z[1])}};break;case"r":this.calc=function(w,k){var Z=this.snapToGrid(w,k,0);if(this.parameters.box.width+Z[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+Z[0])}};break;case"b":this.calc=function(w,k){var Z=this.snapToGrid(w,k,0);if(this.parameters.box.height+Z[1]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+Z[1])}};break;case"l":this.calc=function(w,k){var Z=this.snapToGrid(w,k,1);if(this.parameters.box.width-Z[0]>0){if(this.parameters.type==="text")return;this.el.move(this.parameters.box.x+Z[0],this.parameters.box.y).width(this.parameters.box.width-Z[0])}};break;case"rot":this.calc=function(w,k){var Z=w+this.parameters.p.x,E=k+this.parameters.p.y,D=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),Y=Math.atan2(E-this.parameters.box.y-this.parameters.box.height/2,Z-this.parameters.box.x-this.parameters.box.width/2),U=this.parameters.rotation+180*(Y-D)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(U-U%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(w,k){var Z=this.snapToGrid(w,k,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),E=this.el.array().valueOf();E[this.parameters.i][0]=this.parameters.pointCoords[0]+Z[0],E[this.parameters.i][1]=this.parameters.pointCoords[1]+Z[1],this.el.plot(E)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:d}),SVG.on(window,"touchmove.resize",function(w){A.update(w||window.event)}),SVG.on(window,"touchend.resize",function(){A.done()}),SVG.on(window,"mousemove.resize",function(w){A.update(w||window.event)}),SVG.on(window,"mouseup.resize",function(){A.done()})},Be.prototype.update=function(d){if(d){var A=this._extractPosition(d),p=this.transformPoint(A.x,A.y),I=p.x-this.parameters.p.x,w=p.y-this.parameters.p.y;this.lastUpdateCall=[I,w],this.calc(I,w),this.el.fire("resizing",{dx:I,dy:w,event:d})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},Be.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},Be.prototype.snapToGrid=function(d,A,p,I){var w;return I!==void 0?w=[(p+d)%this.options.snapToGrid,(I+A)%this.options.snapToGrid]:(p=p??3,w=[(this.parameters.box.x+d+(1&p?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+A+(2&p?0:this.parameters.box.height))%this.options.snapToGrid]),d<0&&(w[0]-=this.options.snapToGrid),A<0&&(w[1]-=this.options.snapToGrid),d-=Math.abs(w[0])<this.options.snapToGrid/2?w[0]:w[0]-(d<0?-this.options.snapToGrid:this.options.snapToGrid),A-=Math.abs(w[1])<this.options.snapToGrid/2?w[1]:w[1]-(A<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(d,A,p,I)},Be.prototype.constraintToBox=function(d,A,p,I){var w,k,Z=this.options.constraint||{};return I!==void 0?(w=p,k=I):(w=this.parameters.box.x+(1&p?0:this.parameters.box.width),k=this.parameters.box.y+(2&p?0:this.parameters.box.height)),Z.minX!==void 0&&w+d<Z.minX&&(d=Z.minX-w),Z.maxX!==void 0&&w+d>Z.maxX&&(d=Z.maxX-w),Z.minY!==void 0&&k+A<Z.minY&&(A=Z.minY-k),Z.maxY!==void 0&&k+A>Z.maxY&&(A=Z.maxY-k),[d,A]},Be.prototype.checkAspectRatio=function(d,A){if(!this.options.saveAspectRatio)return d;var p=d.slice(),I=this.parameters.box.width/this.parameters.box.height,w=this.parameters.box.width+d[0],k=this.parameters.box.height-d[1],Z=w/k;return Z<I?(p[1]=w/I-this.parameters.box.height,A&&(p[1]=-p[1])):Z>I&&(p[0]=this.parameters.box.width-k*I,A&&(p[0]=-p[0])),p},SVG.extend(SVG.Element,{resize:function(d){return(this.remember("_resizeHandler")||new Be(this)).init(d||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),window.Apex===void 0&&(window.Apex={});var Nr=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new X(this.ctx),this.ctx.axes=new Vt(this.ctx),this.ctx.core=new ui(this.ctx.el,this.ctx),this.ctx.config=new De({}),this.ctx.data=new je(this.ctx),this.ctx.grid=new ct(this.ctx),this.ctx.graphics=new j(this.ctx),this.ctx.coreUtils=new re(this.ctx),this.ctx.crosshairs=new Yt(this.ctx),this.ctx.events=new st(this.ctx),this.ctx.exports=new qe(this.ctx),this.ctx.localization=new Ke(this.ctx),this.ctx.options=new Re,this.ctx.responsive=new It(this.ctx),this.ctx.series=new Ue(this.ctx),this.ctx.theme=new bt(this.ctx),this.ctx.formatters=new ce(this.ctx),this.ctx.titleSubtitle=new yt(this.ctx),this.ctx.legend=new wt(this.ctx),this.ctx.toolbar=new St(this.ctx),this.ctx.tooltip=new xn(this.ctx),this.ctx.dimensions=new dn(this.ctx),this.ctx.updateHelpers=new ti(this.ctx),this.ctx.zoomPanSelection=new Wt(this.ctx),this.ctx.w.globals.tooltip=new xn(this.ctx)}}]),Be}(),$r=function(){function Be(d){c(this,Be),this.ctx=d,this.w=d.w}return C(Be,[{key:"clear",value:function(d){var A=d.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:A})}},{key:"killSVG",value:function(d){d.each(function(A,p){this.removeClass("*"),this.off(),this.stop()},!0),d.ungroup(),d.clear()}},{key:"clearDomElements",value:function(d){var A=this,p=d.isUpdating,I=this.w.globals.dom.Paper.node;I.parentNode&&I.parentNode.parentNode&&!p&&(I.parentNode.parentNode.style.minHeight="unset");var w=this.w.globals.dom.baseEl;w&&this.ctx.eventList.forEach(function(Z){w.removeEventListener(Z,A.ctx.events.documentEvent)});var k=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(k.Paper),k.Paper.remove(),k.elWrap=null,k.elGraphical=null,k.elLegendWrap=null,k.elLegendForeign=null,k.baseEl=null,k.elGridRect=null,k.elGridRectMask=null,k.elGridRectMarkerMask=null,k.elForecastMask=null,k.elNonForecastMask=null,k.elDefs=null}}]),Be}(),_r=new WeakMap,Fc=function(){function Be(d,A){c(this,Be),this.opts=A,this.ctx=this,this.w=new me(A).init(),this.el=d,this.w.globals.cuid=_.randomId(),this.w.globals.chartID=this.w.config.chart.id?_.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Nr(this).initModules(),this.create=_.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return C(Be,[{key:"render",value:function(){var d=this;return new Promise(function(A,p){if(d.el!==null){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),d.w.config.chart.id&&Apex._chartInstances.push({id:d.w.globals.chartID,group:d.w.config.chart.group,chart:d}),d.setLocale(d.w.config.chart.defaultLocale);var I=d.w.config.chart.events.beforeMount;typeof I=="function"&&I(d,d.w),d.events.fireEvent("beforeMount",[d,d.w]),window.addEventListener("resize",d.windowResizeHandler),function(z,te){var ae=!1;if(z.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var ge=z.getBoundingClientRect();z.style.display!=="none"&&ge.width!==0||(ae=!0)}var Ce=new ResizeObserver(function(we){ae&&te.call(z,we),ae=!0});z.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(z.children).forEach(function(we){return Ce.observe(we)}):Ce.observe(z),_r.set(te,Ce)}(d.el.parentNode,d.parentResizeHandler);var w=d.el.getRootNode&&d.el.getRootNode(),k=_.is("ShadowRoot",w),Z=d.el.ownerDocument,E=k?w.getElementById("apexcharts-css"):Z.getElementById("apexcharts-css");if(!E){var D;(E=document.createElement("style")).id="apexcharts-css",E.textContent=`@keyframes opaque {
  0% {
      opacity: 0
  }

  to {
      opacity: 1
  }
}

@keyframes resizeanim {
  0%,to {
      opacity: 0
  }
}

.apexcharts-canvas {
  position: relative;
  user-select: none
}

.apexcharts-canvas ::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 6px
}

.apexcharts-canvas ::-webkit-scrollbar-thumb {
  border-radius: 4px;
  background-color: rgba(0,0,0,.5);
  box-shadow: 0 0 1px rgba(255,255,255,.5);
  -webkit-box-shadow: 0 0 1px rgba(255,255,255,.5)
}

.apexcharts-inner {
  position: relative
}

.apexcharts-text tspan {
  font-family: inherit
}

.legend-mouseover-inactive {
  transition: .15s ease all;
  opacity: .2
}

.apexcharts-legend-text {
  padding-left: 15px;
  margin-left: -15px;
}

.apexcharts-series-collapsed {
  opacity: 0
}

.apexcharts-tooltip {
  border-radius: 5px;
  box-shadow: 2px 2px 6px -4px #999;
  cursor: default;
  font-size: 14px;
  left: 62px;
  opacity: 0;
  pointer-events: none;
  position: absolute;
  top: 20px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  white-space: nowrap;
  z-index: 12;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-tooltip.apexcharts-theme-light {
  border: 1px solid #e3e3e3;
  background: rgba(255,255,255,.96)
}

.apexcharts-tooltip.apexcharts-theme-dark {
  color: #fff;
  background: rgba(30,30,30,.8)
}

.apexcharts-tooltip * {
  font-family: inherit
}

.apexcharts-tooltip-title {
  padding: 6px;
  font-size: 15px;
  margin-bottom: 4px
}

.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  background: #eceff1;
  border-bottom: 1px solid #ddd
}

.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
  background: rgba(0,0,0,.7);
  border-bottom: 1px solid #333
}

.apexcharts-tooltip-text-goals-value,.apexcharts-tooltip-text-y-value,.apexcharts-tooltip-text-z-value {
  display: inline-block;
  margin-left: 5px;
  font-weight: 600
}

.apexcharts-tooltip-text-goals-label:empty,.apexcharts-tooltip-text-goals-value:empty,.apexcharts-tooltip-text-y-label:empty,.apexcharts-tooltip-text-y-value:empty,.apexcharts-tooltip-text-z-value:empty,.apexcharts-tooltip-title:empty {
  display: none
}

.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  padding: 6px 0 5px
}

.apexcharts-tooltip-goals-group,.apexcharts-tooltip-text-goals-label,.apexcharts-tooltip-text-goals-value {
  display: flex
}

.apexcharts-tooltip-text-goals-label:not(:empty),.apexcharts-tooltip-text-goals-value:not(:empty) {
  margin-top: -6px
}

.apexcharts-tooltip-marker {
  width: 12px;
  height: 12px;
  position: relative;
  top: 0;
  margin-right: 10px;
  border-radius: 50%
}

.apexcharts-tooltip-series-group {
  padding: 0 10px;
  display: none;
  text-align: left;
  justify-content: left;
  align-items: center
}

.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
  opacity: 1
}

.apexcharts-tooltip-series-group.apexcharts-active,.apexcharts-tooltip-series-group:last-child {
  padding-bottom: 4px
}

.apexcharts-tooltip-series-group-hidden {
  opacity: 0;
  height: 0;
  line-height: 0;
  padding: 0!important
}

.apexcharts-tooltip-y-group {
  padding: 6px 0 5px
}

.apexcharts-custom-tooltip,.apexcharts-tooltip-box {
  padding: 4px 8px
}

.apexcharts-tooltip-boxPlot {
  display: flex;
  flex-direction: column-reverse
}

.apexcharts-tooltip-box>div {
  margin: 4px 0
}

.apexcharts-tooltip-box span.value {
  font-weight: 700
}

.apexcharts-tooltip-rangebar {
  padding: 5px 8px
}

.apexcharts-tooltip-rangebar .category {
  font-weight: 600;
  color: #777
}

.apexcharts-tooltip-rangebar .series-name {
  font-weight: 700;
  display: block;
  margin-bottom: 5px
}

.apexcharts-xaxistooltip,.apexcharts-yaxistooltip {
  opacity: 0;
  pointer-events: none;
  color: #373d3f;
  font-size: 13px;
  text-align: center;
  border-radius: 2px;
  position: absolute;
  z-index: 10;
  background: #eceff1;
  border: 1px solid #90a4ae
}

.apexcharts-xaxistooltip {
  padding: 9px 10px;
  transition: .15s ease all
}

.apexcharts-xaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-xaxistooltip:after,.apexcharts-xaxistooltip:before {
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-xaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-left: -6px
}

.apexcharts-xaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-left: -7px
}

.apexcharts-xaxistooltip-bottom:after,.apexcharts-xaxistooltip-bottom:before {
  bottom: 100%
}

.apexcharts-xaxistooltip-top:after,.apexcharts-xaxistooltip-top:before {
  top: 100%
}

.apexcharts-xaxistooltip-bottom:after {
  border-bottom-color: #eceff1
}

.apexcharts-xaxistooltip-bottom:before {
  border-bottom-color: #90a4ae
}

.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
  border-bottom-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip-top:after {
  border-top-color: #eceff1
}

.apexcharts-xaxistooltip-top:before {
  border-top-color: #90a4ae
}

.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
  border-top-color: rgba(0,0,0,.5)
}

.apexcharts-xaxistooltip.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-yaxistooltip {
  padding: 4px 10px
}

.apexcharts-yaxistooltip.apexcharts-theme-dark {
  background: rgba(0,0,0,.7);
  border: 1px solid rgba(0,0,0,.5);
  color: #fff
}

.apexcharts-yaxistooltip:after,.apexcharts-yaxistooltip:before {
  top: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none
}

.apexcharts-yaxistooltip:after {
  border-color: transparent;
  border-width: 6px;
  margin-top: -6px
}

.apexcharts-yaxistooltip:before {
  border-color: transparent;
  border-width: 7px;
  margin-top: -7px
}

.apexcharts-yaxistooltip-left:after,.apexcharts-yaxistooltip-left:before {
  left: 100%
}

.apexcharts-yaxistooltip-right:after,.apexcharts-yaxistooltip-right:before {
  right: 100%
}

.apexcharts-yaxistooltip-left:after {
  border-left-color: #eceff1
}

.apexcharts-yaxistooltip-left:before {
  border-left-color: #90a4ae
}

.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
  border-left-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip-right:after {
  border-right-color: #eceff1
}

.apexcharts-yaxistooltip-right:before {
  border-right-color: #90a4ae
}

.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
  border-right-color: rgba(0,0,0,.5)
}

.apexcharts-yaxistooltip.apexcharts-active {
  opacity: 1
}

.apexcharts-yaxistooltip-hidden {
  display: none
}

.apexcharts-xcrosshairs,.apexcharts-ycrosshairs {
  pointer-events: none;
  opacity: 0;
  transition: .15s ease all
}

.apexcharts-xcrosshairs.apexcharts-active,.apexcharts-ycrosshairs.apexcharts-active {
  opacity: 1;
  transition: .15s ease all
}

.apexcharts-ycrosshairs-hidden {
  opacity: 0
}

.apexcharts-selection-rect {
  cursor: move
}

.svg_select_boundingRect,.svg_select_points_rot {
  pointer-events: none;
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_boundingRect,.apexcharts-selection-rect+g .svg_select_points_rot {
  opacity: 0;
  visibility: hidden
}

.apexcharts-selection-rect+g .svg_select_points_l,.apexcharts-selection-rect+g .svg_select_points_r {
  cursor: ew-resize;
  opacity: 1;
  visibility: visible
}

.svg_select_points {
  fill: #efefef;
  stroke: #333;
  rx: 2
}

.apexcharts-svg.apexcharts-zoomable.hovering-zoom {
  cursor: crosshair
}

.apexcharts-svg.apexcharts-zoomable.hovering-pan {
  cursor: move
}

.apexcharts-menu-icon,.apexcharts-pan-icon,.apexcharts-reset-icon,.apexcharts-selection-icon,.apexcharts-toolbar-custom-icon,.apexcharts-zoom-icon,.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  cursor: pointer;
  width: 20px;
  height: 20px;
  line-height: 24px;
  color: #6e8192;
  text-align: center
}

.apexcharts-menu-icon svg,.apexcharts-reset-icon svg,.apexcharts-zoom-icon svg,.apexcharts-zoomin-icon svg,.apexcharts-zoomout-icon svg {
  fill: #6e8192
}

.apexcharts-selection-icon svg {
  fill: #444;
  transform: scale(.76)
}

.apexcharts-theme-dark .apexcharts-menu-icon svg,.apexcharts-theme-dark .apexcharts-pan-icon svg,.apexcharts-theme-dark .apexcharts-reset-icon svg,.apexcharts-theme-dark .apexcharts-selection-icon svg,.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,.apexcharts-theme-dark .apexcharts-zoom-icon svg,.apexcharts-theme-dark .apexcharts-zoomin-icon svg,.apexcharts-theme-dark .apexcharts-zoomout-icon svg {
  fill: #f3f4f5
}

.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
  fill: #008ffb
}

.apexcharts-theme-light .apexcharts-menu-icon:hover svg,.apexcharts-theme-light .apexcharts-reset-icon:hover svg,.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
  fill: #333
}

.apexcharts-menu-icon,.apexcharts-selection-icon {
  position: relative
}

.apexcharts-reset-icon {
  margin-left: 5px
}

.apexcharts-menu-icon,.apexcharts-reset-icon,.apexcharts-zoom-icon {
  transform: scale(.85)
}

.apexcharts-zoomin-icon,.apexcharts-zoomout-icon {
  transform: scale(.7)
}

.apexcharts-zoomout-icon {
  margin-right: 3px
}

.apexcharts-pan-icon {
  transform: scale(.62);
  position: relative;
  left: 1px;
  top: 0
}

.apexcharts-pan-icon svg {
  fill: #fff;
  stroke: #6e8192;
  stroke-width: 2
}

.apexcharts-pan-icon.apexcharts-selected svg {
  stroke: #008ffb
}

.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
  stroke: #333
}

.apexcharts-toolbar {
  position: absolute;
  z-index: 11;
  max-width: 176px;
  text-align: right;
  border-radius: 3px;
  padding: 0 6px 2px;
  display: flex;
  justify-content: space-between;
  align-items: center
}

.apexcharts-menu {
  background: #fff;
  position: absolute;
  top: 100%;
  border: 1px solid #ddd;
  border-radius: 3px;
  padding: 3px;
  right: 10px;
  opacity: 0;
  min-width: 110px;
  transition: .15s ease all;
  pointer-events: none
}

.apexcharts-menu.apexcharts-menu-open {
  opacity: 1;
  pointer-events: all;
  transition: .15s ease all
}

.apexcharts-menu-item {
  padding: 6px 7px;
  font-size: 12px;
  cursor: pointer
}

.apexcharts-theme-light .apexcharts-menu-item:hover {
  background: #eee
}

.apexcharts-theme-dark .apexcharts-menu {
  background: rgba(0,0,0,.7);
  color: #fff
}

@media screen and (min-width:768px) {
  .apexcharts-canvas:hover .apexcharts-toolbar {
      opacity: 1
  }
}

.apexcharts-canvas .apexcharts-element-hidden,.apexcharts-datalabel.apexcharts-element-hidden,.apexcharts-hide .apexcharts-series-points {
  display: none;
}

.apexcharts-hidden-element-shown {
  opacity: 1;
  transition: 0.25s ease all;
}
.apexcharts-datalabel,.apexcharts-datalabel-label,.apexcharts-datalabel-value,.apexcharts-datalabels,.apexcharts-pie-label {
  cursor: default;
  pointer-events: none
}

.apexcharts-pie-label-delay {
  opacity: 0;
  animation-name: opaque;
  animation-duration: .3s;
  animation-fill-mode: forwards;
  animation-timing-function: ease
}

.apexcharts-radialbar-label {
  cursor: pointer;
}

.apexcharts-annotation-rect,.apexcharts-area-series .apexcharts-area,.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-gridline,.apexcharts-line,.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,.apexcharts-point-annotation-label,.apexcharts-radar-series path,.apexcharts-radar-series polygon,.apexcharts-toolbar svg,.apexcharts-tooltip .apexcharts-marker,.apexcharts-xaxis-annotation-label,.apexcharts-yaxis-annotation-label,.apexcharts-zoom-rect {
  pointer-events: none
}

.apexcharts-marker {
  transition: .15s ease all
}

.resize-triggers {
  animation: 1ms resizeanim;
  visibility: hidden;
  opacity: 0;
  height: 100%;
  width: 100%;
  overflow: hidden
}

.contract-trigger:before,.resize-triggers,.resize-triggers>div {
  content: " ";
  display: block;
  position: absolute;
  top: 0;
  left: 0
}

.resize-triggers>div {
  height: 100%;
  width: 100%;
  background: #eee;
  overflow: auto
}

.contract-trigger:before {
  overflow: hidden;
  width: 200%;
  height: 200%
}

.apexcharts-bar-goals-markers{
  pointer-events: none
}

.apexcharts-bar-shadows{
  pointer-events: none
}

.apexcharts-rangebar-goals-markers{
  pointer-events: none
}`;var Y=((D=d.opts.chart)===null||D===void 0?void 0:D.nonce)||d.w.config.chart.nonce;Y&&E.setAttribute("nonce",Y),k?w.prepend(E):Z.head.appendChild(E)}var U=d.create(d.w.config.series,{});if(!U)return A(d);d.mount(U).then(function(){typeof d.w.config.chart.events.mounted=="function"&&d.w.config.chart.events.mounted(d,d.w),d.events.fireEvent("mounted",[d,d.w]),A(U)}).catch(function(z){p(z)})}else p(new Error("Element not found"))})}},{key:"create",value:function(d,A){var p=this.w;new Nr(this).initModules();var I=this.w.globals;if(I.noData=!1,I.animationEnded=!1,this.responsive.checkResponsiveConfig(A),p.config.xaxis.convertedCatToNumeric&&new Ge(p.config).convertCatToNumericXaxis(p.config,this.ctx),this.el===null||(this.core.setupElements(),p.config.chart.type==="treemap"&&(p.config.grid.show=!1,p.config.yaxis[0].show=!1),I.svgWidth===0))return I.animationEnded=!0,null;var w=re.checkComboSeries(d,p.config.chart.type);I.comboCharts=w.comboCharts,I.comboBarCount=w.comboBarCount;var k=d.every(function(Y){return Y.data&&Y.data.length===0});(d.length===0||k&&I.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(d),this.theme.init(),new pe(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),I.noData&&I.collapsedSeries.length!==I.series.length&&!p.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),I.axisCharts&&(this.core.coreCalculations(),p.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=p.globals.minX,this.ctx.toolbar.maxX=p.globals.maxX),this.formatters.heatmapLabelFormatters(),new re(this).getLargestMarkerSize(),this.dimensions.plotCoords();var Z=this.core.xySettings();this.grid.createGridMask();var E=this.core.plotChartType(d,Z),D=new We(this);return D.bringForward(),p.config.dataLabels.background.enabled&&D.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:E,xyRatios:Z,dimensions:{plot:{left:p.globals.translateX,top:p.globals.translateY,width:p.globals.gridWidth,height:p.globals.gridHeight}}}}},{key:"mount",value:function(){var d=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,p=this,I=p.w;return new Promise(function(w,k){if(p.el===null)return k(new Error("Not enough data to display or target element not found"));(A===null||I.globals.allSeriesCollapsed)&&p.series.handleNoData(),p.grid=new ct(p);var Z,E,D=p.grid.drawGrid();if(p.annotations=new ye(p),p.annotations.drawImageAnnos(),p.annotations.drawTextAnnos(),I.config.grid.position==="back"&&(D&&I.globals.dom.elGraphical.add(D.el),D!=null&&(Z=D.elGridBorders)!==null&&Z!==void 0&&Z.node&&I.globals.dom.elGraphical.add(D.elGridBorders)),Array.isArray(A.elGraph))for(var Y=0;Y<A.elGraph.length;Y++)I.globals.dom.elGraphical.add(A.elGraph[Y]);else I.globals.dom.elGraphical.add(A.elGraph);I.config.grid.position==="front"&&(D&&I.globals.dom.elGraphical.add(D.el),D!=null&&(E=D.elGridBorders)!==null&&E!==void 0&&E.node&&I.globals.dom.elGraphical.add(D.elGridBorders)),I.config.xaxis.crosshairs.position==="front"&&p.crosshairs.drawXCrosshairs(),I.config.yaxis[0].crosshairs.position==="front"&&p.crosshairs.drawYCrosshairs(),I.config.chart.type!=="treemap"&&p.axes.drawAxis(I.config.chart.type,D);var U=new At(d.ctx,D),z=new Ht(d.ctx,D);if(D!==null&&(U.xAxisLabelCorrections(D.xAxisTickWidth),z.setYAxisTextAlignments(),I.config.yaxis.map(function(ae,ge){I.globals.ignoreYAxisIndexes.indexOf(ge)===-1&&z.yAxisTitleRotate(ge,ae.opposite)})),p.annotations.drawAxesAnnotations(),!I.globals.noData){if(I.config.tooltip.enabled&&!I.globals.noData&&p.w.globals.tooltip.drawTooltip(A.xyRatios),I.globals.axisCharts&&(I.globals.isXNumeric||I.config.xaxis.convertedCatToNumeric||I.globals.isRangeBar))(I.config.chart.zoom.enabled||I.config.chart.selection&&I.config.chart.selection.enabled||I.config.chart.pan&&I.config.chart.pan.enabled)&&p.zoomPanSelection.init({xyRatios:A.xyRatios});else{var te=I.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(ae){te[ae]=!1})}I.config.chart.toolbar.show&&!I.globals.allSeriesCollapsed&&p.toolbar.createToolbar()}I.globals.memory.methodsToExec.length>0&&I.globals.memory.methodsToExec.forEach(function(ae){ae.method(ae.params,!1,ae.context)}),I.globals.axisCharts||I.globals.noData||p.core.resizeNonAxisCharts(),w(p)})}},{key:"destroy",value:function(){var d,A;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,d=this.parentResizeHandler,(A=_r.get(d))&&(A.disconnect(),_r.delete(d));var p=this.w.config.chart.id;p&&Apex._chartInstances.forEach(function(I,w){I.id===_.escapeString(p)&&Apex._chartInstances.splice(w,1)}),new $r(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(d){var A=this,p=arguments.length>1&&arguments[1]!==void 0&&arguments[1],I=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],w=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],k=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],Z=this.w;return Z.globals.selection=void 0,d.series&&(this.series.resetSeries(!1,!0,!1),d.series.length&&d.series[0].data&&(d.series=d.series.map(function(E,D){return A.updateHelpers._extendSeries(E,D)})),this.updateHelpers.revertDefaultAxisMinMax()),d.xaxis&&(d=this.updateHelpers.forceXAxisUpdate(d)),d.yaxis&&(d=this.updateHelpers.forceYAxisUpdate(d)),Z.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),d.theme&&(d=this.theme.updateThemeOptions(d)),this.updateHelpers._updateOptions(d,p,I,w,k)}},{key:"updateSeries",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],A=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(d,A,p)}},{key:"appendSeries",value:function(d){var A=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],p=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],I=this.w.config.series.slice();return I.push(d),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(I,A,p)}},{key:"appendData",value:function(d){var A=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],p=this;p.w.globals.dataChanged=!0,p.series.getPreviousPaths();for(var I=p.w.config.series.slice(),w=0;w<I.length;w++)if(d[w]!==null&&d[w]!==void 0)for(var k=0;k<d[w].data.length;k++)I[w].data.push(d[w].data[k]);return p.w.config.series=I,A&&(p.w.globals.initialSeries=_.clone(p.w.config.series)),this.update()}},{key:"update",value:function(d){var A=this;return new Promise(function(p,I){new $r(A.ctx).clear({isUpdating:!0});var w=A.create(A.w.config.series,d);if(!w)return p(A);A.mount(w).then(function(){typeof A.w.config.chart.events.updated=="function"&&A.w.config.chart.events.updated(A,A.w),A.events.fireEvent("updated",[A,A.w]),A.w.globals.isDirty=!0,p(A)}).catch(function(k){I(k)})})}},{key:"getSyncedCharts",value:function(){var d=this.getGroupedCharts(),A=[this];return d.length&&(A=[],d.forEach(function(p){A.push(p)})),A}},{key:"getGroupedCharts",value:function(){var d=this;return Apex._chartInstances.filter(function(A){if(A.group)return!0}).map(function(A){return d.w.config.chart.group===A.group?A.chart:d})}},{key:"toggleSeries",value:function(d){return this.series.toggleSeries(d)}},{key:"highlightSeriesOnLegendHover",value:function(d,A){return this.series.toggleSeriesOnHover(d,A)}},{key:"showSeries",value:function(d){this.series.showSeries(d)}},{key:"hideSeries",value:function(d){this.series.hideSeries(d)}},{key:"isSeriesHidden",value:function(d){this.series.isSeriesHidden(d)}},{key:"resetSeries",value:function(){var d=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],A=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(d,A)}},{key:"addEventListener",value:function(d,A){this.events.addEventListener(d,A)}},{key:"removeEventListener",value:function(d,A){this.events.removeEventListener(d,A)}},{key:"addXaxisAnnotation",value:function(d){var A=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,I=this;p&&(I=p),I.annotations.addXaxisAnnotationExternal(d,A,I)}},{key:"addYaxisAnnotation",value:function(d){var A=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,I=this;p&&(I=p),I.annotations.addYaxisAnnotationExternal(d,A,I)}},{key:"addPointAnnotation",value:function(d){var A=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,I=this;p&&(I=p),I.annotations.addPointAnnotationExternal(d,A,I)}},{key:"clearAnnotations",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,A=this;d&&(A=d),A.annotations.clearAnnotations(A)}},{key:"removeAnnotation",value:function(d){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,p=this;A&&(p=A),p.annotations.removeAnnotation(p,d)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(d,A){return this.coreUtils.getSeriesTotalsXRange(d,A)}},{key:"getHighestValueInSeries",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new at(this.ctx).getMinYMaxY(d).highestY}},{key:"getLowestValueInSeries",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new at(this.ctx).getMinYMaxY(d).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(d,A){return this.updateHelpers.toggleDataPointSelection(d,A)}},{key:"zoomX",value:function(d,A){this.ctx.toolbar.zoomUpdateOptions(d,A)}},{key:"setLocale",value:function(d){this.localization.setCurrentLocaleValues(d)}},{key:"dataURI",value:function(d){return new qe(this.ctx).dataURI(d)}},{key:"exportToCSV",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new qe(this.ctx).exportToCSV(d)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var d=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){d.w.globals.resized=!0,d.w.globals.dataChanged=!1,d.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var d=this.w.config.chart.redrawOnWindowResize;typeof d=="function"&&(d=d()),d&&this._windowResize()}}],[{key:"getChartByID",value:function(d){var A=_.escapeString(d);if(Apex._chartInstances){var p=Apex._chartInstances.filter(function(I){return I.id===A})[0];return p&&p.chart}}},{key:"initOnLoad",value:function(){for(var d=document.querySelectorAll("[data-apexcharts]"),A=0;A<d.length;A++)new Be(d[A],JSON.parse(d[A].getAttribute("data-options"))).render()}},{key:"exec",value:function(d,A){var p=this.getChartByID(d);if(p){p.w.globals.isExecCalled=!0;var I=null;if(p.publicMethods.indexOf(A)!==-1){for(var w=arguments.length,k=new Array(w>2?w-2:0),Z=2;Z<w;Z++)k[Z-2]=arguments[Z];I=p[A].apply(p,k)}return I}}},{key:"merge",value:function(d,A){return _.extend(d,A)}}]),Be}();e.exports=Fc})(sG,sG.exports);var aMe=sG.exports,aG;Object.defineProperty(ej,"__esModule",{value:!0});var lMe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cMe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i,o=arguments[t];for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},gMe=function(){function e(t,i){for(var o=0;o<i.length;o++){var s=i[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),dMe=aMe,tj=I_(dMe),nj=le,Ff=I_(nj),AMe=Lb(),td=I_(AMe);function I_(e){return e&&e.__esModule?e:{default:e}}function uMe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function hMe(e,t){var i,o={};for(i in e)0<=t.indexOf(i)||Object.prototype.hasOwnProperty.call(e,i)&&(o[i]=e[i]);return o}function mMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pMe(e,t){if(e)return!t||typeof t!="object"&&typeof t!="function"?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function CMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}window.ApexCharts=tj.default;var LM=function(){function e(t){mMe(this,e);var i=pMe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Ff.default.createRef?i.chartRef=Ff.default.createRef():i.setRef=function(o){return i.chartRef=o},i.chart=null,i}return CMe(e,nj.Component),gMe(e,[{key:"render",value:function(){var t=hMe(this.props,[]);return Ff.default.createElement("div",cMe({ref:Ff.default.createRef?this.chartRef:this.setRef},t))}},{key:"componentDidMount",value:function(){var t=Ff.default.createRef?this.chartRef.current:this.chartRef;this.chart=new tj.default(t,this.getConfig()),this.chart.render()}},{key:"getConfig",value:function(){var c=this.props,t=c.type,i=c.height,o=c.width,s=c.series,c=c.options;return this.extend(c,{chart:{type:t,height:i,width:o},series:s})}},{key:"isObject",value:function(t){return t&&(t===void 0?"undefined":lMe(t))==="object"&&!Array.isArray(t)&&t!=null}},{key:"extend",value:function(t,i){var o=this,s=(typeof Object.assign!="function"&&(Object.assign=function(c){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var u=Object(c),C=1;C<arguments.length;C++){var m=arguments[C];if(m!=null)for(var v in m)m.hasOwnProperty(v)&&(u[v]=m[v])}return u}),Object.assign({},t));return this.isObject(t)&&this.isObject(i)&&Object.keys(i).forEach(function(c){o.isObject(i[c])&&c in t?s[c]=o.extend(t[c],i[c]):Object.assign(s,uMe({},c,i[c]))}),s}},{key:"componentDidUpdate",value:function(t){if(!this.chart)return null;var s=this.props,C=s.options,i=s.series,o=s.height,s=s.width,c=JSON.stringify(t.options),u=JSON.stringify(t.series),C=JSON.stringify(C),m=JSON.stringify(i);c===C&&u===m&&o===t.height&&s===t.width||(u!==m&&c===C&&o===t.height&&s===t.width?this.chart.updateSeries(i):this.chart.updateOptions(this.getConfig()))}},{key:"componentWillUnmount",value:function(){this.chart&&typeof this.chart.destroy=="function"&&this.chart.destroy()}}]),e}();(aG=ej.default=LM).propTypes={type:td.default.string.isRequired,width:td.default.oneOfType([td.default.string,td.default.number]),height:td.default.oneOfType([td.default.string,td.default.number]),series:td.default.array.isRequired,options:td.default.object.isRequired},LM.defaultProps={type:"line",width:"100%",height:"auto"};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lG=function(e,t){return lG=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},lG(e,t)};function _c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");lG(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var cG=function(){return cG=Object.assign||function(t){for(var i,o=1,s=arguments.length;o<s;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c])}return t},cG.apply(this,arguments)};function Ps(e,t,i,o){function s(c){return c instanceof i?c:new i(function(u){u(c)})}return new(i||(i=Promise))(function(c,u){function C(x){try{v(o.next(x))}catch(G){u(G)}}function m(x){try{v(o.throw(x))}catch(G){u(G)}}function v(x){x.done?c(x.value):s(x.value).then(C,m)}v((o=o.apply(e,[])).next())})}function Ns(e,t){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,s,c,u;return u={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function C(v){return function(x){return m([v,x])}}function m(v){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,s&&(c=v[0]&2?s.return:v[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,v[1])).done)return c;switch(s=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return i.label++,{value:v[1],done:!1};case 5:i.label++,s=v[1],v=[0];continue;case 7:v=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){i=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){i.label=v[1];break}if(v[0]===6&&i.label<c[1]){i.label=c[1],c=v;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(v);break}c[2]&&i.ops.pop(),i.trys.pop();continue}v=t.call(e,i)}catch(x){v=[6,x],s=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}function Oy(e,t,i){if(arguments.length===2)for(var o=0,s=t.length,c;o<s;o++)(c||!(o in t))&&(c||(c=Array.prototype.slice.call(t,0,o)),c[o]=t[o]);return e.concat(c||t)}var Sd=function(){function e(t,i,o,s){this.left=t,this.top=i,this.width=o,this.height=s}return e.prototype.add=function(t,i,o,s){return new e(this.left+t,this.top+i,this.width+o,this.height+s)},e.fromClientRect=function(t,i){return new e(i.left+t.windowBounds.left,i.top+t.windowBounds.top,i.width,i.height)},e.fromDOMRectList=function(t,i){var o=Array.from(i).find(function(s){return s.width!==0});return o?new e(o.left+t.windowBounds.left,o.top+t.windowBounds.top,o.width,o.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),C2=function(e,t){return Sd.fromClientRect(e,t.getBoundingClientRect())},fMe=function(e){var t=e.body,i=e.documentElement;if(!t||!i)throw new Error("Unable to get document size");var o=Math.max(Math.max(t.scrollWidth,i.scrollWidth),Math.max(t.offsetWidth,i.offsetWidth),Math.max(t.clientWidth,i.clientWidth)),s=Math.max(Math.max(t.scrollHeight,i.scrollHeight),Math.max(t.offsetHeight,i.offsetHeight),Math.max(t.clientHeight,i.clientHeight));return new Sd(0,0,o,s)},f2=function(e){for(var t=[],i=0,o=e.length;i<o;){var s=e.charCodeAt(i++);if(s>=55296&&s<=56319&&i<o){var c=e.charCodeAt(i++);(c&64512)===56320?t.push(((s&1023)<<10)+(c&1023)+65536):(t.push(s),i--)}else t.push(s)}return t},so=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var i=e.length;if(!i)return"";for(var o=[],s=-1,c="";++s<i;){var u=e[s];u<=65535?o.push(u):(u-=65536,o.push((u>>10)+55296,u%1024+56320)),(s+1===i||o.length>16384)&&(c+=String.fromCharCode.apply(String,o),o.length=0)}return c},XM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",IMe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var qy=0;qy<XM.length;qy++)IMe[XM.charCodeAt(qy)]=qy;var MM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Of=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var $y=0;$y<MM.length;$y++)Of[MM.charCodeAt($y)]=$y;var bMe=function(e){var t=e.length*.75,i=e.length,o,s=0,c,u,C,m;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var v=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),x=Array.isArray(v)?v:new Uint8Array(v);for(o=0;o<i;o+=4)c=Of[e.charCodeAt(o)],u=Of[e.charCodeAt(o+1)],C=Of[e.charCodeAt(o+2)],m=Of[e.charCodeAt(o+3)],x[s++]=c<<2|u>>4,x[s++]=(u&15)<<4|C>>2,x[s++]=(C&3)<<6|m&63;return v},yMe=function(e){for(var t=e.length,i=[],o=0;o<t;o+=2)i.push(e[o+1]<<8|e[o]);return i},vMe=function(e){for(var t=e.length,i=[],o=0;o<t;o+=4)i.push(e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o]);return i},mh=5,b_=11,ZS=2,wMe=b_-mh,ij=65536>>mh,kMe=1<<mh,GS=kMe-1,BMe=1024>>mh,xMe=ij+BMe,SMe=xMe,ZMe=32,GMe=SMe+ZMe,RMe=65536>>b_,NMe=1<<wMe,_Me=NMe-1,YM=function(e,t,i){return e.slice?e.slice(t,i):new Uint16Array(Array.prototype.slice.call(e,t,i))},VMe=function(e,t,i){return e.slice?e.slice(t,i):new Uint32Array(Array.prototype.slice.call(e,t,i))},EMe=function(e,t){var i=bMe(e),o=Array.isArray(i)?vMe(i):new Uint32Array(i),s=Array.isArray(i)?yMe(i):new Uint16Array(i),c=24,u=YM(s,c/2,o[4]/2),C=o[5]===2?YM(s,(c+o[4])/2):VMe(o,Math.ceil((c+o[4])/4));return new FMe(o[0],o[1],o[2],o[3],u,C)},FMe=function(){function e(t,i,o,s,c,u){this.initialValue=t,this.errorValue=i,this.highStart=o,this.highValueIndex=s,this.index=c,this.data=u}return e.prototype.get=function(t){var i;if(t>=0){if(t<55296||t>56319&&t<=65535)return i=this.index[t>>mh],i=(i<<ZS)+(t&GS),this.data[i];if(t<=65535)return i=this.index[ij+(t-55296>>mh)],i=(i<<ZS)+(t&GS),this.data[i];if(t<this.highStart)return i=GMe-RMe+(t>>b_),i=this.index[i],i+=t>>mh&_Me,i=this.index[i],i=(i<<ZS)+(t&GS),this.data[i];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),JM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",WMe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ev=0;ev<JM.length;ev++)WMe[JM.charCodeAt(ev)]=ev;var HMe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",UM=50,DMe=1,rj=2,oj=3,TMe=4,LMe=5,PM=7,sj=8,KM=9,SA=10,gG=11,zM=12,dG=13,XMe=14,qf=15,AG=16,tv=17,Wf=18,MMe=19,QM=20,uG=21,Hf=22,RS=23,Jm=24,Ma=25,$f=26,eI=27,Um=28,YMe=29,$u=30,JMe=31,nv=32,iv=33,hG=34,mG=35,pG=36,bb=37,CG=38,tw=39,nw=40,NS=41,aj=42,UMe=43,PMe=[9001,65288],lj="!",mi="",rv="",fG=EMe(HMe),nd=[$u,pG],IG=[DMe,rj,oj,LMe],cj=[SA,sj],jM=[eI,$f],KMe=IG.concat(cj),OM=[CG,tw,nw,hG,mG],zMe=[qf,dG],QMe=function(e,t){t===void 0&&(t="strict");var i=[],o=[],s=[];return e.forEach(function(c,u){var C=fG.get(c);if(C>UM?(s.push(!0),C-=UM):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(c)!==-1)return o.push(u),i.push(AG);if(C===TMe||C===gG){if(u===0)return o.push(u),i.push($u);var m=i[u-1];return KMe.indexOf(m)===-1?(o.push(o[u-1]),i.push(m)):(o.push(u),i.push($u))}if(o.push(u),C===JMe)return i.push(t==="strict"?uG:bb);if(C===aj||C===YMe)return i.push($u);if(C===UMe)return c>=131072&&c<=196605||c>=196608&&c<=262141?i.push(bb):i.push($u);i.push(C)}),[o,i,s]},_S=function(e,t,i,o){var s=o[i];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var c=i;c<=o.length;){c++;var u=o[c];if(u===t)return!0;if(u!==SA)break}if(s===SA)for(var c=i;c>0;){c--;var C=o[c];if(Array.isArray(e)?e.indexOf(C)!==-1:e===C)for(var m=i;m<=o.length;){m++;var u=o[m];if(u===t)return!0;if(u!==SA)break}if(C!==SA)break}return!1},qM=function(e,t){for(var i=e;i>=0;){var o=t[i];if(o===SA)i--;else return o}return 0},jMe=function(e,t,i,o,s){if(i[o]===0)return mi;var c=o-1;if(Array.isArray(s)&&s[c]===!0)return mi;var u=c-1,C=c+1,m=t[c],v=u>=0?t[u]:0,x=t[C];if(m===rj&&x===oj)return mi;if(IG.indexOf(m)!==-1)return lj;if(IG.indexOf(x)!==-1||cj.indexOf(x)!==-1)return mi;if(qM(c,t)===sj)return rv;if(fG.get(e[c])===gG||(m===nv||m===iv)&&fG.get(e[C])===gG||m===PM||x===PM||m===KM||[SA,dG,qf].indexOf(m)===-1&&x===KM||[tv,Wf,MMe,Jm,Um].indexOf(x)!==-1||qM(c,t)===Hf||_S(RS,Hf,c,t)||_S([tv,Wf],uG,c,t)||_S(zM,zM,c,t))return mi;if(m===SA)return rv;if(m===RS||x===RS)return mi;if(x===AG||m===AG)return rv;if([dG,qf,uG].indexOf(x)!==-1||m===XMe||v===pG&&zMe.indexOf(m)!==-1||m===Um&&x===pG||x===QM||nd.indexOf(x)!==-1&&m===Ma||nd.indexOf(m)!==-1&&x===Ma||m===eI&&[bb,nv,iv].indexOf(x)!==-1||[bb,nv,iv].indexOf(m)!==-1&&x===$f||nd.indexOf(m)!==-1&&jM.indexOf(x)!==-1||jM.indexOf(m)!==-1&&nd.indexOf(x)!==-1||[eI,$f].indexOf(m)!==-1&&(x===Ma||[Hf,qf].indexOf(x)!==-1&&t[C+1]===Ma)||[Hf,qf].indexOf(m)!==-1&&x===Ma||m===Ma&&[Ma,Um,Jm].indexOf(x)!==-1)return mi;if([Ma,Um,Jm,tv,Wf].indexOf(x)!==-1)for(var G=c;G>=0;){var B=t[G];if(B===Ma)return mi;if([Um,Jm].indexOf(B)!==-1)G--;else break}if([eI,$f].indexOf(x)!==-1)for(var G=[tv,Wf].indexOf(m)!==-1?u:c;G>=0;){var B=t[G];if(B===Ma)return mi;if([Um,Jm].indexOf(B)!==-1)G--;else break}if(CG===m&&[CG,tw,hG,mG].indexOf(x)!==-1||[tw,hG].indexOf(m)!==-1&&[tw,nw].indexOf(x)!==-1||[nw,mG].indexOf(m)!==-1&&x===nw||OM.indexOf(m)!==-1&&[QM,$f].indexOf(x)!==-1||OM.indexOf(x)!==-1&&m===eI||nd.indexOf(m)!==-1&&nd.indexOf(x)!==-1||m===Jm&&nd.indexOf(x)!==-1||nd.concat(Ma).indexOf(m)!==-1&&x===Hf&&PMe.indexOf(e[C])===-1||nd.concat(Ma).indexOf(x)!==-1&&m===Wf)return mi;if(m===NS&&x===NS){for(var R=i[c],V=1;R>0&&(R--,t[R]===NS);)V++;if(V%2!==0)return mi}return m===nv&&x===iv?mi:rv},OMe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var i=QMe(e,t.lineBreak),o=i[0],s=i[1],c=i[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(C){return[Ma,$u,aj].indexOf(C)!==-1?bb:C}));var u=t.wordBreak==="keep-all"?c.map(function(C,m){return C&&e[m]>=19968&&e[m]<=40959}):void 0;return[o,s,u]},qMe=function(){function e(t,i,o,s){this.codePoints=t,this.required=i===lj,this.start=o,this.end=s}return e.prototype.slice=function(){return so.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),$Me=function(e,t){var i=f2(e),o=OMe(i,t),s=o[0],c=o[1],u=o[2],C=i.length,m=0,v=0;return{next:function(){if(v>=C)return{done:!0,value:null};for(var x=mi;v<C&&(x=jMe(i,c,s,++v,u))===mi;);if(x!==mi||v===C){var G=new qMe(i,x,m,v);return m=v,{value:G,done:!1}}return{done:!0,value:null}}}},eYe=1,tYe=2,jb=4,$M=8,lk=10,eY=47,SI=92,nYe=9,iYe=32,ov=34,Df=61,rYe=35,oYe=36,sYe=37,sv=39,av=40,Tf=41,aYe=95,ha=45,lYe=33,cYe=60,gYe=62,dYe=64,AYe=91,uYe=93,hYe=61,mYe=123,lv=63,pYe=125,tY=124,CYe=126,fYe=128,nY=65533,VS=42,oh=43,IYe=44,bYe=58,yYe=59,yb=46,vYe=0,wYe=8,kYe=11,BYe=14,xYe=31,SYe=127,ng=-1,gj=48,dj=97,Aj=101,ZYe=102,GYe=117,RYe=122,uj=65,hj=69,mj=70,NYe=85,_Ye=90,_s=function(e){return e>=gj&&e<=57},VYe=function(e){return e>=55296&&e<=57343},Pm=function(e){return _s(e)||e>=uj&&e<=mj||e>=dj&&e<=ZYe},EYe=function(e){return e>=dj&&e<=RYe},FYe=function(e){return e>=uj&&e<=_Ye},WYe=function(e){return EYe(e)||FYe(e)},HYe=function(e){return e>=fYe},cv=function(e){return e===lk||e===nYe||e===iYe},ck=function(e){return WYe(e)||HYe(e)||e===aYe},iY=function(e){return ck(e)||_s(e)||e===ha},DYe=function(e){return e>=vYe&&e<=wYe||e===kYe||e>=BYe&&e<=xYe||e===SYe},CA=function(e,t){return e!==SI?!1:t!==lk},gv=function(e,t,i){return e===ha?ck(t)||CA(t,i):ck(e)?!0:!!(e===SI&&CA(e,t))},ES=function(e,t,i){return e===oh||e===ha?_s(t)?!0:t===yb&&_s(i):_s(e===yb?t:e)},TYe=function(e){var t=0,i=1;(e[t]===oh||e[t]===ha)&&(e[t]===ha&&(i=-1),t++);for(var o=[];_s(e[t]);)o.push(e[t++]);var s=o.length?parseInt(so.apply(void 0,o),10):0;e[t]===yb&&t++;for(var c=[];_s(e[t]);)c.push(e[t++]);var u=c.length,C=u?parseInt(so.apply(void 0,c),10):0;(e[t]===hj||e[t]===Aj)&&t++;var m=1;(e[t]===oh||e[t]===ha)&&(e[t]===ha&&(m=-1),t++);for(var v=[];_s(e[t]);)v.push(e[t++]);var x=v.length?parseInt(so.apply(void 0,v),10):0;return i*(s+C*Math.pow(10,-u))*Math.pow(10,m*x)},LYe={type:2},XYe={type:3},MYe={type:4},YYe={type:13},JYe={type:8},UYe={type:21},PYe={type:9},KYe={type:10},zYe={type:11},QYe={type:12},jYe={type:14},dv={type:23},OYe={type:1},qYe={type:25},$Ye={type:24},e9e={type:26},t9e={type:27},n9e={type:28},i9e={type:29},r9e={type:31},bG={type:32},pj=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(f2(t))},e.prototype.read=function(){for(var t=[],i=this.consumeToken();i!==bG;)t.push(i),i=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case ov:return this.consumeStringToken(ov);case rYe:var i=this.peekCodePoint(0),o=this.peekCodePoint(1),s=this.peekCodePoint(2);if(iY(i)||CA(o,s)){var c=gv(i,o,s)?tYe:eYe,u=this.consumeName();return{type:5,value:u,flags:c}}break;case oYe:if(this.peekCodePoint(0)===Df)return this.consumeCodePoint(),YYe;break;case sv:return this.consumeStringToken(sv);case av:return LYe;case Tf:return XYe;case VS:if(this.peekCodePoint(0)===Df)return this.consumeCodePoint(),jYe;break;case oh:if(ES(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case IYe:return MYe;case ha:var C=t,m=this.peekCodePoint(0),v=this.peekCodePoint(1);if(ES(C,m,v))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(gv(C,m,v))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(m===ha&&v===gYe)return this.consumeCodePoint(),this.consumeCodePoint(),$Ye;break;case yb:if(ES(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case eY:if(this.peekCodePoint(0)===VS)for(this.consumeCodePoint();;){var x=this.consumeCodePoint();if(x===VS&&(x=this.consumeCodePoint(),x===eY))return this.consumeToken();if(x===ng)return this.consumeToken()}break;case bYe:return e9e;case yYe:return t9e;case cYe:if(this.peekCodePoint(0)===lYe&&this.peekCodePoint(1)===ha&&this.peekCodePoint(2)===ha)return this.consumeCodePoint(),this.consumeCodePoint(),qYe;break;case dYe:var G=this.peekCodePoint(0),B=this.peekCodePoint(1),R=this.peekCodePoint(2);if(gv(G,B,R)){var u=this.consumeName();return{type:7,value:u}}break;case AYe:return n9e;case SI:if(CA(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case uYe:return i9e;case hYe:if(this.peekCodePoint(0)===Df)return this.consumeCodePoint(),JYe;break;case mYe:return zYe;case pYe:return QYe;case GYe:case NYe:var V=this.peekCodePoint(0),H=this.peekCodePoint(1);return V===oh&&(Pm(H)||H===lv)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case tY:if(this.peekCodePoint(0)===Df)return this.consumeCodePoint(),PYe;if(this.peekCodePoint(0)===tY)return this.consumeCodePoint(),UYe;break;case CYe:if(this.peekCodePoint(0)===Df)return this.consumeCodePoint(),KYe;break;case ng:return bG}return cv(t)?(this.consumeWhiteSpace(),r9e):_s(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):ck(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:so(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],i=this.consumeCodePoint();Pm(i)&&t.length<6;)t.push(i),i=this.consumeCodePoint();for(var o=!1;i===lv&&t.length<6;)t.push(i),i=this.consumeCodePoint(),o=!0;if(o){var s=parseInt(so.apply(void 0,t.map(function(m){return m===lv?gj:m})),16),c=parseInt(so.apply(void 0,t.map(function(m){return m===lv?mj:m})),16);return{type:30,start:s,end:c}}var u=parseInt(so.apply(void 0,t),16);if(this.peekCodePoint(0)===ha&&Pm(this.peekCodePoint(1))){this.consumeCodePoint(),i=this.consumeCodePoint();for(var C=[];Pm(i)&&C.length<6;)C.push(i),i=this.consumeCodePoint();var c=parseInt(so.apply(void 0,C),16);return{type:30,start:u,end:c}}else return{type:30,start:u,end:u}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===av?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===av?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ng)return{type:22,value:""};var i=this.peekCodePoint(0);if(i===sv||i===ov){var o=this.consumeStringToken(this.consumeCodePoint());return o.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ng||this.peekCodePoint(0)===Tf)?(this.consumeCodePoint(),{type:22,value:o.value}):(this.consumeBadUrlRemnants(),dv)}for(;;){var s=this.consumeCodePoint();if(s===ng||s===Tf)return{type:22,value:so.apply(void 0,t)};if(cv(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ng||this.peekCodePoint(0)===Tf?(this.consumeCodePoint(),{type:22,value:so.apply(void 0,t)}):(this.consumeBadUrlRemnants(),dv);if(s===ov||s===sv||s===av||DYe(s))return this.consumeBadUrlRemnants(),dv;if(s===SI)if(CA(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),dv;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;cv(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Tf||t===ng)return;CA(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var i=5e4,o="";t>0;){var s=Math.min(i,t);o+=so.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),o},e.prototype.consumeStringToken=function(t){var i="",o=0;do{var s=this._value[o];if(s===ng||s===void 0||s===t)return i+=this.consumeStringSlice(o),{type:0,value:i};if(s===lk)return this._value.splice(0,o),OYe;if(s===SI){var c=this._value[o+1];c!==ng&&c!==void 0&&(c===lk?(i+=this.consumeStringSlice(o),o=-1,this._value.shift()):CA(s,c)&&(i+=this.consumeStringSlice(o),i+=so(this.consumeEscapedCodePoint()),o=-1))}o++}while(!0)},e.prototype.consumeNumber=function(){var t=[],i=jb,o=this.peekCodePoint(0);for((o===oh||o===ha)&&t.push(this.consumeCodePoint());_s(this.peekCodePoint(0));)t.push(this.consumeCodePoint());o=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(o===yb&&_s(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),i=$M;_s(this.peekCodePoint(0));)t.push(this.consumeCodePoint());o=this.peekCodePoint(0),s=this.peekCodePoint(1);var c=this.peekCodePoint(2);if((o===hj||o===Aj)&&((s===oh||s===ha)&&_s(c)||_s(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),i=$M;_s(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[TYe(t),i]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),i=t[0],o=t[1],s=this.peekCodePoint(0),c=this.peekCodePoint(1),u=this.peekCodePoint(2);if(gv(s,c,u)){var C=this.consumeName();return{type:15,number:i,flags:o,unit:C}}return s===sYe?(this.consumeCodePoint(),{type:16,number:i,flags:o}):{type:17,number:i,flags:o}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Pm(t)){for(var i=so(t);Pm(this.peekCodePoint(0))&&i.length<6;)i+=so(this.consumeCodePoint());cv(this.peekCodePoint(0))&&this.consumeCodePoint();var o=parseInt(i,16);return o===0||VYe(o)||o>1114111?nY:o}return t===ng?nY:t},e.prototype.consumeName=function(){for(var t="";;){var i=this.consumeCodePoint();if(iY(i))t+=so(i);else if(CA(i,this.peekCodePoint(0)))t+=so(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(i),t}},e}(),Cj=function(){function e(t){this._tokens=t}return e.create=function(t){var i=new pj;return i.write(t),new e(i.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var i=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return i;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var i=this.consumeComponentValue();if(i.type===32)return t;t.push(i),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var i={type:t,values:[]},o=this.consumeToken();;){if(o.type===32||s9e(o,t))return i;this.reconsumeToken(o),i.values.push(this.consumeComponentValue()),o=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var i={name:t.value,values:[],type:18};;){var o=this.consumeToken();if(o.type===32||o.type===3)return i;this.reconsumeToken(o),i.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?bG:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Ob=function(e){return e.type===15},fC=function(e){return e.type===17},tr=function(e){return e.type===20},o9e=function(e){return e.type===0},yG=function(e,t){return tr(e)&&e.value===t},fj=function(e){return e.type!==31},Op=function(e){return e.type!==31&&e.type!==4},xg=function(e){var t=[],i=[];return e.forEach(function(o){if(o.type===4){if(i.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(i),i=[];return}o.type!==31&&i.push(o)}),i.length&&t.push(i),t},s9e=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},jA=function(e){return e.type===17||e.type===15},wo=function(e){return e.type===16||jA(e)},Ij=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},us={type:17,number:0,flags:jb},y_={type:16,number:50,flags:jb},ZA={type:16,number:100,flags:jb},tI=function(e,t,i){var o=e[0],s=e[1];return[Ar(o,t),Ar(typeof s<"u"?s:o,i)]},Ar=function(e,t){if(e.type===16)return e.number/100*t;if(Ob(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},bj="deg",yj="grad",vj="rad",wj="turn",I2={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case bj:return Math.PI*t.number/180;case yj:return Math.PI/200*t.number;case vj:return t.number;case wj:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},kj=function(e){return e.type===15&&(e.unit===bj||e.unit===yj||e.unit===vj||e.unit===wj)},Bj=function(e){var t=e.filter(tr).map(function(i){return i.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[us,us];case"to top":case"bottom":return El(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[us,ZA];case"to right":case"left":return El(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ZA,ZA];case"to bottom":case"top":return El(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ZA,us];case"to left":case"right":return El(270)}return 0},El=function(e){return Math.PI*e/180},JA={name:"color",parse:function(e,t){if(t.type===18){var i=a9e[t.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return i(e,t.values)}if(t.type===5){if(t.value.length===3){var o=t.value.substring(0,1),s=t.value.substring(1,2),c=t.value.substring(2,3);return GA(parseInt(o+o,16),parseInt(s+s,16),parseInt(c+c,16),1)}if(t.value.length===4){var o=t.value.substring(0,1),s=t.value.substring(1,2),c=t.value.substring(2,3),u=t.value.substring(3,4);return GA(parseInt(o+o,16),parseInt(s+s,16),parseInt(c+c,16),parseInt(u+u,16)/255)}if(t.value.length===6){var o=t.value.substring(0,2),s=t.value.substring(2,4),c=t.value.substring(4,6);return GA(parseInt(o,16),parseInt(s,16),parseInt(c,16),1)}if(t.value.length===8){var o=t.value.substring(0,2),s=t.value.substring(2,4),c=t.value.substring(4,6),u=t.value.substring(6,8);return GA(parseInt(o,16),parseInt(s,16),parseInt(c,16),parseInt(u,16)/255)}}if(t.type===20){var C=Id[t.value.toUpperCase()];if(typeof C<"u")return C}return Id.TRANSPARENT}},UA=function(e){return(255&e)===0},Po=function(e){var t=255&e,i=255&e>>8,o=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+o+","+i+","+t/255+")":"rgb("+s+","+o+","+i+")"},GA=function(e,t,i,o){return(e<<24|t<<16|i<<8|Math.round(o*255)<<0)>>>0},rY=function(e,t){if(e.type===17)return e.number;if(e.type===16){var i=t===3?1:255;return t===3?e.number/100*i:Math.round(e.number/100*i)}return 0},oY=function(e,t){var i=t.filter(Op);if(i.length===3){var o=i.map(rY),s=o[0],c=o[1],u=o[2];return GA(s,c,u,1)}if(i.length===4){var C=i.map(rY),s=C[0],c=C[1],u=C[2],m=C[3];return GA(s,c,u,m)}return 0};function FS(e,t,i){return i<0&&(i+=1),i>=1&&(i-=1),i<1/6?(t-e)*i*6+e:i<1/2?t:i<2/3?(t-e)*6*(2/3-i)+e:e}var sY=function(e,t){var i=t.filter(Op),o=i[0],s=i[1],c=i[2],u=i[3],C=(o.type===17?El(o.number):I2.parse(e,o))/(Math.PI*2),m=wo(s)?s.number/100:0,v=wo(c)?c.number/100:0,x=typeof u<"u"&&wo(u)?Ar(u,1):1;if(m===0)return GA(v*255,v*255,v*255,1);var G=v<=.5?v*(m+1):v+m-v*m,B=v*2-G,R=FS(B,G,C+1/3),V=FS(B,G,C),H=FS(B,G,C-1/3);return GA(R*255,V*255,H*255,x)},a9e={hsl:sY,hsla:sY,rgb:oY,rgba:oY},ZI=function(e,t){return JA.parse(e,Cj.create(t).parseComponentValue())},Id={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},l9e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(i){if(tr(i))switch(i.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},c9e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},b2=function(e,t){var i=JA.parse(e,t[0]),o=t[1];return o&&wo(o)?{color:i,stop:o}:{color:i,stop:null}},aY=function(e,t){var i=e[0],o=e[e.length-1];i.stop===null&&(i.stop=us),o.stop===null&&(o.stop=ZA);for(var s=[],c=0,u=0;u<e.length;u++){var C=e[u].stop;if(C!==null){var m=Ar(C,t);m>c?s.push(m):s.push(c),c=m}else s.push(null)}for(var v=null,u=0;u<s.length;u++){var x=s[u];if(x===null)v===null&&(v=u);else if(v!==null){for(var G=u-v,B=s[v-1],R=(x-B)/(G+1),V=1;V<=G;V++)s[v+V-1]=R*V;v=null}}return e.map(function(H,M){var L=H.color;return{color:L,stop:Math.max(Math.min(1,s[M]/t),0)}})},g9e=function(e,t,i){var o=t/2,s=i/2,c=Ar(e[0],t)-o,u=s-Ar(e[1],i);return(Math.atan2(u,c)+Math.PI*2)%(Math.PI*2)},d9e=function(e,t,i){var o=typeof e=="number"?e:g9e(e,t,i),s=Math.abs(t*Math.sin(o))+Math.abs(i*Math.cos(o)),c=t/2,u=i/2,C=s/2,m=Math.sin(o-Math.PI/2)*C,v=Math.cos(o-Math.PI/2)*C;return[s,c-v,c+v,u-m,u+m]},hc=function(e,t){return Math.sqrt(e*e+t*t)},lY=function(e,t,i,o,s){var c=[[0,0],[0,t],[e,0],[e,t]];return c.reduce(function(u,C){var m=C[0],v=C[1],x=hc(i-m,o-v);return(s?x<u.optimumDistance:x>u.optimumDistance)?{optimumCorner:C,optimumDistance:x}:u},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},A9e=function(e,t,i,o,s){var c=0,u=0;switch(e.size){case 0:e.shape===0?c=u=Math.min(Math.abs(t),Math.abs(t-o),Math.abs(i),Math.abs(i-s)):e.shape===1&&(c=Math.min(Math.abs(t),Math.abs(t-o)),u=Math.min(Math.abs(i),Math.abs(i-s)));break;case 2:if(e.shape===0)c=u=Math.min(hc(t,i),hc(t,i-s),hc(t-o,i),hc(t-o,i-s));else if(e.shape===1){var C=Math.min(Math.abs(i),Math.abs(i-s))/Math.min(Math.abs(t),Math.abs(t-o)),m=lY(o,s,t,i,!0),v=m[0],x=m[1];c=hc(v-t,(x-i)/C),u=C*c}break;case 1:e.shape===0?c=u=Math.max(Math.abs(t),Math.abs(t-o),Math.abs(i),Math.abs(i-s)):e.shape===1&&(c=Math.max(Math.abs(t),Math.abs(t-o)),u=Math.max(Math.abs(i),Math.abs(i-s)));break;case 3:if(e.shape===0)c=u=Math.max(hc(t,i),hc(t,i-s),hc(t-o,i),hc(t-o,i-s));else if(e.shape===1){var C=Math.max(Math.abs(i),Math.abs(i-s))/Math.max(Math.abs(t),Math.abs(t-o)),G=lY(o,s,t,i,!1),v=G[0],x=G[1];c=hc(v-t,(x-i)/C),u=C*c}break}return Array.isArray(e.size)&&(c=Ar(e.size[0],o),u=e.size.length===2?Ar(e.size[1],s):c),[c,u]},u9e=function(e,t){var i=El(180),o=[];return xg(t).forEach(function(s,c){if(c===0){var u=s[0];if(u.type===20&&u.value==="to"){i=Bj(s);return}else if(kj(u)){i=I2.parse(e,u);return}}var C=b2(e,s);o.push(C)}),{angle:i,stops:o,type:1}},Av=function(e,t){var i=El(180),o=[];return xg(t).forEach(function(s,c){if(c===0){var u=s[0];if(u.type===20&&["top","left","right","bottom"].indexOf(u.value)!==-1){i=Bj(s);return}else if(kj(u)){i=(I2.parse(e,u)+El(270))%El(360);return}}var C=b2(e,s);o.push(C)}),{angle:i,stops:o,type:1}},h9e=function(e,t){var i=El(180),o=[],s=1,c=0,u=3,C=[];return xg(t).forEach(function(m,v){var x=m[0];if(v===0){if(tr(x)&&x.value==="linear"){s=1;return}else if(tr(x)&&x.value==="radial"){s=2;return}}if(x.type===18){if(x.name==="from"){var G=JA.parse(e,x.values[0]);o.push({stop:us,color:G})}else if(x.name==="to"){var G=JA.parse(e,x.values[0]);o.push({stop:ZA,color:G})}else if(x.name==="color-stop"){var B=x.values.filter(Op);if(B.length===2){var G=JA.parse(e,B[1]),R=B[0];fC(R)&&o.push({stop:{type:16,number:R.number*100,flags:R.flags},color:G})}}}}),s===1?{angle:(i+El(180))%El(360),stops:o,type:s}:{size:u,shape:c,stops:o,position:C,type:s}},xj="closest-side",Sj="farthest-side",Zj="closest-corner",Gj="farthest-corner",Rj="circle",Nj="ellipse",_j="cover",Vj="contain",m9e=function(e,t){var i=0,o=3,s=[],c=[];return xg(t).forEach(function(u,C){var m=!0;if(C===0){var v=!1;m=u.reduce(function(G,B){if(v)if(tr(B))switch(B.value){case"center":return c.push(y_),G;case"top":case"left":return c.push(us),G;case"right":case"bottom":return c.push(ZA),G}else(wo(B)||jA(B))&&c.push(B);else if(tr(B))switch(B.value){case Rj:return i=0,!1;case Nj:return i=1,!1;case"at":return v=!0,!1;case xj:return o=0,!1;case _j:case Sj:return o=1,!1;case Vj:case Zj:return o=2,!1;case Gj:return o=3,!1}else if(jA(B)||wo(B))return Array.isArray(o)||(o=[]),o.push(B),!1;return G},m)}if(m){var x=b2(e,u);s.push(x)}}),{size:o,shape:i,stops:s,position:c,type:2}},uv=function(e,t){var i=0,o=3,s=[],c=[];return xg(t).forEach(function(u,C){var m=!0;if(C===0?m=u.reduce(function(x,G){if(tr(G))switch(G.value){case"center":return c.push(y_),!1;case"top":case"left":return c.push(us),!1;case"right":case"bottom":return c.push(ZA),!1}else if(wo(G)||jA(G))return c.push(G),!1;return x},m):C===1&&(m=u.reduce(function(x,G){if(tr(G))switch(G.value){case Rj:return i=0,!1;case Nj:return i=1,!1;case Vj:case xj:return o=0,!1;case Sj:return o=1,!1;case Zj:return o=2,!1;case _j:case Gj:return o=3,!1}else if(jA(G)||wo(G))return Array.isArray(o)||(o=[]),o.push(G),!1;return x},m)),m){var v=b2(e,u);s.push(v)}}),{size:o,shape:i,stops:s,position:c,type:2}},p9e=function(e){return e.type===1},C9e=function(e){return e.type===2},v_={name:"image",parse:function(e,t){if(t.type===22){var i={url:t.value,type:0};return e.cache.addImage(t.value),i}if(t.type===18){var o=Ej[t.name];if(typeof o>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return o(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function f9e(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Ej[e.name])}var Ej={"linear-gradient":u9e,"-moz-linear-gradient":Av,"-ms-linear-gradient":Av,"-o-linear-gradient":Av,"-webkit-linear-gradient":Av,"radial-gradient":m9e,"-moz-radial-gradient":uv,"-ms-radial-gradient":uv,"-o-radial-gradient":uv,"-webkit-radial-gradient":uv,"-webkit-gradient":h9e},I9e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var i=t[0];return i.type===20&&i.value==="none"?[]:t.filter(function(o){return Op(o)&&f9e(o)}).map(function(o){return v_.parse(e,o)})}},b9e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(i){if(tr(i))switch(i.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},y9e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return xg(t).map(function(i){return i.filter(wo)}).map(Ij)}},v9e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return xg(t).map(function(i){return i.filter(tr).map(function(o){return o.value}).join(" ")}).map(w9e)}},w9e=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Vp;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Vp||(Vp={}));var k9e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return xg(t).map(function(i){return i.filter(B9e)})}},B9e=function(e){return tr(e)||wo(e)},y2=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},x9e=y2("top"),S9e=y2("right"),Z9e=y2("bottom"),G9e=y2("left"),v2=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,i){return Ij(i.filter(wo))}}},R9e=v2("top-left"),N9e=v2("top-right"),_9e=v2("bottom-right"),V9e=v2("bottom-left"),w2=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,i){switch(i){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},E9e=w2("top"),F9e=w2("right"),W9e=w2("bottom"),H9e=w2("left"),k2=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,i){return Ob(i)?i.number:0}}},D9e=k2("top"),T9e=k2("right"),L9e=k2("bottom"),X9e=k2("left"),M9e={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Y9e={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},J9e={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(tr).reduce(function(i,o){return i|U9e(o.value)},0)}},U9e=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},P9e={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},K9e={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},gk;(function(e){e.NORMAL="normal",e.STRICT="strict"})(gk||(gk={}));var z9e={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return gk.STRICT;case"normal":default:return gk.NORMAL}}},Q9e={name:"line-height",initialValue:"normal",prefix:!1,type:4},cY=function(e,t){return tr(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:wo(e)?Ar(e,t):t},j9e={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:v_.parse(e,t)}},O9e={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},vG={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},B2=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},q9e=B2("top"),$9e=B2("right"),eJe=B2("bottom"),tJe=B2("left"),nJe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(tr).map(function(i){switch(i.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},iJe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},x2=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},rJe=x2("top"),oJe=x2("right"),sJe=x2("bottom"),aJe=x2("left"),lJe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},cJe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},gJe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&yG(t[0],"none")?[]:xg(t).map(function(i){for(var o={color:Id.TRANSPARENT,offsetX:us,offsetY:us,blur:us},s=0,c=0;c<i.length;c++){var u=i[c];jA(u)?(s===0?o.offsetX=u:s===1?o.offsetY=u:o.blur=u,s++):o.color=JA.parse(e,u)}return o})}},dJe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},AJe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var i=mJe[t.name];if(typeof i>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return i(t.values)}return null}},uJe=function(e){var t=e.filter(function(i){return i.type===17}).map(function(i){return i.number});return t.length===6?t:null},hJe=function(e){var t=e.filter(function(m){return m.type===17}).map(function(m){return m.number}),i=t[0],o=t[1];t[2],t[3];var s=t[4],c=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var u=t[12],C=t[13];return t[14],t[15],t.length===16?[i,o,s,c,u,C]:null},mJe={matrix:uJe,matrix3d:hJe},gY={type:16,number:50,flags:jb},pJe=[gY,gY],CJe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var i=t.filter(wo);return i.length!==2?pJe:[i[0],i[1]]}},fJe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},GI;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(GI||(GI={}));var IJe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return GI.BREAK_ALL;case"keep-all":return GI.KEEP_ALL;case"normal":default:return GI.NORMAL}}},bJe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(fC(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Fj={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},yJe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return fC(t)?t.number:1}},vJe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},wJe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(tr).map(function(i){switch(i.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(i){return i!==0})}},kJe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var i=[],o=[];return t.forEach(function(s){switch(s.type){case 20:case 0:i.push(s.value);break;case 17:i.push(s.number.toString());break;case 4:o.push(i.join(" ")),i.length=0;break}}),i.length&&o.push(i.join(" ")),o.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},BJe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},xJe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(fC(t))return t.number;if(tr(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},SJe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(tr).map(function(i){return i.value})}},ZJe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Wo=function(e,t){return(e&t)!==0},GJe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var i=t[0];return i.type===20&&i.value==="none"?[]:t}},RJe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var i=t[0];if(i.type===20&&i.value==="none")return null;for(var o=[],s=t.filter(fj),c=0;c<s.length;c++){var u=s[c],C=s[c+1];if(u.type===20){var m=C&&fC(C)?C.number:1;o.push({counter:u.value,increment:m})}}return o}},NJe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var i=[],o=t.filter(fj),s=0;s<o.length;s++){var c=o[s],u=o[s+1];if(tr(c)&&c.value!=="none"){var C=u&&fC(u)?u.number:0;i.push({counter:c.value,reset:C})}}return i}},_Je={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Ob).map(function(i){return Fj.parse(e,i)})}},VJe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var i=t[0];if(i.type===20&&i.value==="none")return null;var o=[],s=t.filter(o9e);if(s.length%2!==0)return null;for(var c=0;c<s.length;c+=2){var u=s[c].value,C=s[c+1].value;o.push({open:u,close:C})}return o}},dY=function(e,t,i){if(!e)return"";var o=e[Math.min(t,e.length-1)];return o?i?o.open:o.close:""},EJe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&yG(t[0],"none")?[]:xg(t).map(function(i){for(var o={color:255,offsetX:us,offsetY:us,blur:us,spread:us,inset:!1},s=0,c=0;c<i.length;c++){var u=i[c];yG(u,"inset")?o.inset=!0:jA(u)?(s===0?o.offsetX=u:s===1?o.offsetY=u:s===2?o.blur=u:o.spread=u,s++):o.color=JA.parse(e,u)}return o})}},FJe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var i=[0,1,2],o=[];return t.filter(tr).forEach(function(s){switch(s.value){case"stroke":o.push(1);break;case"fill":o.push(0);break;case"markers":o.push(2);break}}),i.forEach(function(s){o.indexOf(s)===-1&&o.push(s)}),o}},WJe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},HJe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Ob(t)?t.number:0}},DJe=function(){function e(t,i){var o,s;this.animationDuration=un(t,_Je,i.animationDuration),this.backgroundClip=un(t,l9e,i.backgroundClip),this.backgroundColor=un(t,c9e,i.backgroundColor),this.backgroundImage=un(t,I9e,i.backgroundImage),this.backgroundOrigin=un(t,b9e,i.backgroundOrigin),this.backgroundPosition=un(t,y9e,i.backgroundPosition),this.backgroundRepeat=un(t,v9e,i.backgroundRepeat),this.backgroundSize=un(t,k9e,i.backgroundSize),this.borderTopColor=un(t,x9e,i.borderTopColor),this.borderRightColor=un(t,S9e,i.borderRightColor),this.borderBottomColor=un(t,Z9e,i.borderBottomColor),this.borderLeftColor=un(t,G9e,i.borderLeftColor),this.borderTopLeftRadius=un(t,R9e,i.borderTopLeftRadius),this.borderTopRightRadius=un(t,N9e,i.borderTopRightRadius),this.borderBottomRightRadius=un(t,_9e,i.borderBottomRightRadius),this.borderBottomLeftRadius=un(t,V9e,i.borderBottomLeftRadius),this.borderTopStyle=un(t,E9e,i.borderTopStyle),this.borderRightStyle=un(t,F9e,i.borderRightStyle),this.borderBottomStyle=un(t,W9e,i.borderBottomStyle),this.borderLeftStyle=un(t,H9e,i.borderLeftStyle),this.borderTopWidth=un(t,D9e,i.borderTopWidth),this.borderRightWidth=un(t,T9e,i.borderRightWidth),this.borderBottomWidth=un(t,L9e,i.borderBottomWidth),this.borderLeftWidth=un(t,X9e,i.borderLeftWidth),this.boxShadow=un(t,EJe,i.boxShadow),this.color=un(t,M9e,i.color),this.direction=un(t,Y9e,i.direction),this.display=un(t,J9e,i.display),this.float=un(t,P9e,i.cssFloat),this.fontFamily=un(t,kJe,i.fontFamily),this.fontSize=un(t,BJe,i.fontSize),this.fontStyle=un(t,ZJe,i.fontStyle),this.fontVariant=un(t,SJe,i.fontVariant),this.fontWeight=un(t,xJe,i.fontWeight),this.letterSpacing=un(t,K9e,i.letterSpacing),this.lineBreak=un(t,z9e,i.lineBreak),this.lineHeight=un(t,Q9e,i.lineHeight),this.listStyleImage=un(t,j9e,i.listStyleImage),this.listStylePosition=un(t,O9e,i.listStylePosition),this.listStyleType=un(t,vG,i.listStyleType),this.marginTop=un(t,q9e,i.marginTop),this.marginRight=un(t,$9e,i.marginRight),this.marginBottom=un(t,eJe,i.marginBottom),this.marginLeft=un(t,tJe,i.marginLeft),this.opacity=un(t,yJe,i.opacity);var c=un(t,nJe,i.overflow);this.overflowX=c[0],this.overflowY=c[c.length>1?1:0],this.overflowWrap=un(t,iJe,i.overflowWrap),this.paddingTop=un(t,rJe,i.paddingTop),this.paddingRight=un(t,oJe,i.paddingRight),this.paddingBottom=un(t,sJe,i.paddingBottom),this.paddingLeft=un(t,aJe,i.paddingLeft),this.paintOrder=un(t,FJe,i.paintOrder),this.position=un(t,cJe,i.position),this.textAlign=un(t,lJe,i.textAlign),this.textDecorationColor=un(t,vJe,(o=i.textDecorationColor)!==null&&o!==void 0?o:i.color),this.textDecorationLine=un(t,wJe,(s=i.textDecorationLine)!==null&&s!==void 0?s:i.textDecoration),this.textShadow=un(t,gJe,i.textShadow),this.textTransform=un(t,dJe,i.textTransform),this.transform=un(t,AJe,i.transform),this.transformOrigin=un(t,CJe,i.transformOrigin),this.visibility=un(t,fJe,i.visibility),this.webkitTextStrokeColor=un(t,WJe,i.webkitTextStrokeColor),this.webkitTextStrokeWidth=un(t,HJe,i.webkitTextStrokeWidth),this.wordBreak=un(t,IJe,i.wordBreak),this.zIndex=un(t,bJe,i.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return UA(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Wo(this.display,4)||Wo(this.display,33554432)||Wo(this.display,268435456)||Wo(this.display,536870912)||Wo(this.display,67108864)||Wo(this.display,134217728)},e}(),TJe=function(){function e(t,i){this.content=un(t,GJe,i.content),this.quotes=un(t,VJe,i.quotes)}return e}(),AY=function(){function e(t,i){this.counterIncrement=un(t,RJe,i.counterIncrement),this.counterReset=un(t,NJe,i.counterReset)}return e}(),un=function(e,t,i){var o=new pj,s=i!==null&&typeof i<"u"?i.toString():t.initialValue;o.write(s);var c=new Cj(o.read());switch(t.type){case 2:var u=c.parseComponentValue();return t.parse(e,tr(u)?u.value:t.initialValue);case 0:return t.parse(e,c.parseComponentValue());case 1:return t.parse(e,c.parseComponentValues());case 4:return c.parseComponentValue();case 3:switch(t.format){case"angle":return I2.parse(e,c.parseComponentValue());case"color":return JA.parse(e,c.parseComponentValue());case"image":return v_.parse(e,c.parseComponentValue());case"length":var C=c.parseComponentValue();return jA(C)?C:us;case"length-percentage":var m=c.parseComponentValue();return wo(m)?m:us;case"time":return Fj.parse(e,c.parseComponentValue())}break}},LJe="data-html2canvas-debug",XJe=function(e){var t=e.getAttribute(LJe);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},wG=function(e,t){var i=XJe(e);return i===1||t===i},Sg=function(){function e(t,i){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,wG(i,3))debugger;this.styles=new DJe(t,window.getComputedStyle(i,null)),xG(i)&&(this.styles.animationDuration.some(function(o){return o>0})&&(i.style.animationDuration="0s"),this.styles.transform!==null&&(i.style.transform="none")),this.bounds=C2(this.context,i),wG(i,4)&&(this.flags|=16)}return e}(),MJe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",uY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nI=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hv=0;hv<uY.length;hv++)nI[uY.charCodeAt(hv)]=hv;var YJe=function(e){var t=e.length*.75,i=e.length,o,s=0,c,u,C,m;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var v=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),x=Array.isArray(v)?v:new Uint8Array(v);for(o=0;o<i;o+=4)c=nI[e.charCodeAt(o)],u=nI[e.charCodeAt(o+1)],C=nI[e.charCodeAt(o+2)],m=nI[e.charCodeAt(o+3)],x[s++]=c<<2|u>>4,x[s++]=(u&15)<<4|C>>2,x[s++]=(C&3)<<6|m&63;return v},JJe=function(e){for(var t=e.length,i=[],o=0;o<t;o+=2)i.push(e[o+1]<<8|e[o]);return i},UJe=function(e){for(var t=e.length,i=[],o=0;o<t;o+=4)i.push(e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o]);return i},ph=5,w_=11,WS=2,PJe=w_-ph,Wj=65536>>ph,KJe=1<<ph,HS=KJe-1,zJe=1024>>ph,QJe=Wj+zJe,jJe=QJe,OJe=32,qJe=jJe+OJe,$Je=65536>>w_,eUe=1<<PJe,tUe=eUe-1,hY=function(e,t,i){return e.slice?e.slice(t,i):new Uint16Array(Array.prototype.slice.call(e,t,i))},nUe=function(e,t,i){return e.slice?e.slice(t,i):new Uint32Array(Array.prototype.slice.call(e,t,i))},iUe=function(e,t){var i=YJe(e),o=Array.isArray(i)?UJe(i):new Uint32Array(i),s=Array.isArray(i)?JJe(i):new Uint16Array(i),c=24,u=hY(s,c/2,o[4]/2),C=o[5]===2?hY(s,(c+o[4])/2):nUe(o,Math.ceil((c+o[4])/4));return new rUe(o[0],o[1],o[2],o[3],u,C)},rUe=function(){function e(t,i,o,s,c,u){this.initialValue=t,this.errorValue=i,this.highStart=o,this.highValueIndex=s,this.index=c,this.data=u}return e.prototype.get=function(t){var i;if(t>=0){if(t<55296||t>56319&&t<=65535)return i=this.index[t>>ph],i=(i<<WS)+(t&HS),this.data[i];if(t<=65535)return i=this.index[Wj+(t-55296>>ph)],i=(i<<WS)+(t&HS),this.data[i];if(t<this.highStart)return i=qJe-$Je+(t>>w_),i=this.index[i],i+=t>>ph&tUe,i=this.index[i],i=(i<<WS)+(t&HS),this.data[i];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),mY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oUe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var mv=0;mv<mY.length;mv++)oUe[mY.charCodeAt(mv)]=mv;var sUe=1,DS=2,TS=3,pY=4,CY=5,aUe=7,fY=8,LS=9,XS=10,IY=11,bY=12,yY=13,vY=14,MS=15,lUe=function(e){for(var t=[],i=0,o=e.length;i<o;){var s=e.charCodeAt(i++);if(s>=55296&&s<=56319&&i<o){var c=e.charCodeAt(i++);(c&64512)===56320?t.push(((s&1023)<<10)+(c&1023)+65536):(t.push(s),i--)}else t.push(s)}return t},cUe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var i=e.length;if(!i)return"";for(var o=[],s=-1,c="";++s<i;){var u=e[s];u<=65535?o.push(u):(u-=65536,o.push((u>>10)+55296,u%1024+56320)),(s+1===i||o.length>16384)&&(c+=String.fromCharCode.apply(String,o),o.length=0)}return c},gUe=iUe(MJe),kl="",YS="",dUe=function(e){return gUe.get(e)},AUe=function(e,t,i){var o=i-2,s=t[o],c=t[i-1],u=t[i];if(c===DS&&u===TS)return kl;if(c===DS||c===TS||c===pY||u===DS||u===TS||u===pY)return YS;if(c===fY&&[fY,LS,IY,bY].indexOf(u)!==-1||(c===IY||c===LS)&&(u===LS||u===XS)||(c===bY||c===XS)&&u===XS||u===yY||u===CY||u===aUe||c===sUe)return kl;if(c===yY&&u===vY){for(;s===CY;)s=t[--o];if(s===vY)return kl}if(c===MS&&u===MS){for(var C=0;s===MS;)C++,s=t[--o];if(C%2===0)return kl}return YS},uUe=function(e){var t=lUe(e),i=t.length,o=0,s=0,c=t.map(dUe);return{next:function(){if(o>=i)return{done:!0,value:null};for(var u=kl;o<i&&(u=AUe(t,c,++o))===kl;);if(u!==kl||o===i){var C=cUe.apply(null,t.slice(s,o));return s=o,{value:C,done:!1}}return{done:!0,value:null}}}},hUe=function(e){for(var t=uUe(e),i=[],o;!(o=t.next()).done;)o.value&&i.push(o.value.slice());return i},mUe=function(e){var t=123;if(e.createRange){var i=e.createRange();if(i.getBoundingClientRect){var o=e.createElement("boundtest");o.style.height=t+"px",o.style.display="block",e.body.appendChild(o),i.selectNode(o);var s=i.getBoundingClientRect(),c=Math.round(s.height);if(e.body.removeChild(o),c===t)return!0}}return!1},pUe=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var i=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var o=t.firstChild,s=f2(o.data).map(function(m){return so(m)}),c=0,u={},C=s.every(function(m,v){i.setStart(o,c),i.setEnd(o,c+m.length);var x=i.getBoundingClientRect();c+=m.length;var G=x.x>u.x||x.y>u.y;return u=x,v===0?!0:G});return e.body.removeChild(t),C},CUe=function(){return typeof new Image().crossOrigin<"u"},fUe=function(){return typeof new XMLHttpRequest().responseType=="string"},IUe=function(e){var t=new Image,i=e.createElement("canvas"),o=i.getContext("2d");if(!o)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{o.drawImage(t,0,0),i.toDataURL()}catch{return!1}return!0},wY=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},bUe=function(e){var t=e.createElement("canvas"),i=100;t.width=i,t.height=i;var o=t.getContext("2d");if(!o)return Promise.reject(!1);o.fillStyle="rgb(0, 255, 0)",o.fillRect(0,0,i,i);var s=new Image,c=t.toDataURL();s.src=c;var u=kG(i,i,0,0,s);return o.fillStyle="red",o.fillRect(0,0,i,i),kY(u).then(function(C){o.drawImage(C,0,0);var m=o.getImageData(0,0,i,i).data;o.fillStyle="red",o.fillRect(0,0,i,i);var v=e.createElement("div");return v.style.backgroundImage="url("+c+")",v.style.height=i+"px",wY(m)?kY(kG(i,i,0,0,v)):Promise.reject(!1)}).then(function(C){return o.drawImage(C,0,0),wY(o.getImageData(0,0,i,i).data)}).catch(function(){return!1})},kG=function(e,t,i,o,s){var c="http://www.w3.org/2000/svg",u=document.createElementNS(c,"svg"),C=document.createElementNS(c,"foreignObject");return u.setAttributeNS(null,"width",e.toString()),u.setAttributeNS(null,"height",t.toString()),C.setAttributeNS(null,"width","100%"),C.setAttributeNS(null,"height","100%"),C.setAttributeNS(null,"x",i.toString()),C.setAttributeNS(null,"y",o.toString()),C.setAttributeNS(null,"externalResourcesRequired","true"),u.appendChild(C),C.appendChild(s),u},kY=function(e){return new Promise(function(t,i){var o=new Image;o.onload=function(){return t(o)},o.onerror=i,o.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},ds={get SUPPORT_RANGE_BOUNDS(){var e=mUe(document);return Object.defineProperty(ds,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=ds.SUPPORT_RANGE_BOUNDS&&pUe(document);return Object.defineProperty(ds,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=IUe(document);return Object.defineProperty(ds,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?bUe(document):Promise.resolve(!1);return Object.defineProperty(ds,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=CUe();return Object.defineProperty(ds,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=fUe();return Object.defineProperty(ds,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ds,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ds,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},RI=function(){function e(t,i){this.text=t,this.bounds=i}return e}(),yUe=function(e,t,i,o){var s=kUe(t,i),c=[],u=0;return s.forEach(function(C){if(i.textDecorationLine.length||C.trim().length>0)if(ds.SUPPORT_RANGE_BOUNDS){var m=BY(o,u,C.length).getClientRects();if(m.length>1){var v=k_(C),x=0;v.forEach(function(B){c.push(new RI(B,Sd.fromDOMRectList(e,BY(o,x+u,B.length).getClientRects()))),x+=B.length})}else c.push(new RI(C,Sd.fromDOMRectList(e,m)))}else{var G=o.splitText(C.length);c.push(new RI(C,vUe(e,o))),o=G}else ds.SUPPORT_RANGE_BOUNDS||(o=o.splitText(C.length));u+=C.length}),c},vUe=function(e,t){var i=t.ownerDocument;if(i){var o=i.createElement("html2canvaswrapper");o.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(o,t);var c=C2(e,o);return o.firstChild&&s.replaceChild(o.firstChild,o),c}}return Sd.EMPTY},BY=function(e,t,i){var o=e.ownerDocument;if(!o)throw new Error("Node has no owner document");var s=o.createRange();return s.setStart(e,t),s.setEnd(e,t+i),s},k_=function(e){if(ds.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(i){return i.segment})}return hUe(e)},wUe=function(e,t){if(ds.SUPPORT_NATIVE_TEXT_SEGMENTATION){var i=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(i.segment(e)).map(function(o){return o.segment})}return xUe(e,t)},kUe=function(e,t){return t.letterSpacing!==0?k_(e):wUe(e,t)},BUe=[32,160,4961,65792,65793,4153,4241],xUe=function(e,t){for(var i=$Me(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),o=[],s,c=function(){if(s.value){var u=s.value.slice(),C=f2(u),m="";C.forEach(function(v){BUe.indexOf(v)===-1?m+=so(v):(m.length&&o.push(m),o.push(so(v)),m="")}),m.length&&o.push(m)}};!(s=i.next()).done;)c();return o},SUe=function(){function e(t,i,o){this.text=ZUe(i.data,o.textTransform),this.textBounds=yUe(t,this.text,o,i)}return e}(),ZUe=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(GUe,RUe);case 2:return e.toUpperCase();default:return e}},GUe=/(^|\s|:|-|\(|\))([a-z])/g,RUe=function(e,t,i){return e.length>0?t+i.toUpperCase():e},Hj=function(e){_c(t,e);function t(i,o){var s=e.call(this,i,o)||this;return s.src=o.currentSrc||o.src,s.intrinsicWidth=o.naturalWidth,s.intrinsicHeight=o.naturalHeight,s.context.cache.addImage(s.src),s}return t}(Sg),Dj=function(e){_c(t,e);function t(i,o){var s=e.call(this,i,o)||this;return s.canvas=o,s.intrinsicWidth=o.width,s.intrinsicHeight=o.height,s}return t}(Sg),Tj=function(e){_c(t,e);function t(i,o){var s=e.call(this,i,o)||this,c=new XMLSerializer,u=C2(i,o);return o.setAttribute("width",u.width+"px"),o.setAttribute("height",u.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(c.serializeToString(o)),s.intrinsicWidth=o.width.baseVal.value,s.intrinsicHeight=o.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}(Sg),Lj=function(e){_c(t,e);function t(i,o){var s=e.call(this,i,o)||this;return s.value=o.value,s}return t}(Sg),BG=function(e){_c(t,e);function t(i,o){var s=e.call(this,i,o)||this;return s.start=o.start,s.reversed=typeof o.reversed=="boolean"&&o.reversed===!0,s}return t}(Sg),NUe=[{type:15,flags:0,unit:"px",number:3}],_Ue=[{type:16,flags:0,number:50}],VUe=function(e){return e.width>e.height?new Sd(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Sd(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},EUe=function(e){var t=e.type===FUe?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},dk="checkbox",Ak="radio",FUe="password",xY=707406591,B_=function(e){_c(t,e);function t(i,o){var s=e.call(this,i,o)||this;switch(s.type=o.type.toLowerCase(),s.checked=o.checked,s.value=EUe(o),(s.type===dk||s.type===Ak)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=VUe(s.bounds)),s.type){case dk:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=NUe;break;case Ak:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=_Ue;break}return s}return t}(Sg),Xj=function(e){_c(t,e);function t(i,o){var s=e.call(this,i,o)||this,c=o.options[o.selectedIndex||0];return s.value=c&&c.text||"",s}return t}(Sg),Mj=function(e){_c(t,e);function t(i,o){var s=e.call(this,i,o)||this;return s.value=o.value,s}return t}(Sg),Yj=function(e){_c(t,e);function t(i,o){var s=e.call(this,i,o)||this;s.src=o.src,s.width=parseInt(o.width,10)||0,s.height=parseInt(o.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(o.contentWindow&&o.contentWindow.document&&o.contentWindow.document.documentElement){s.tree=Uj(i,o.contentWindow.document.documentElement);var c=o.contentWindow.document.documentElement?ZI(i,getComputedStyle(o.contentWindow.document.documentElement).backgroundColor):Id.TRANSPARENT,u=o.contentWindow.document.body?ZI(i,getComputedStyle(o.contentWindow.document.body).backgroundColor):Id.TRANSPARENT;s.backgroundColor=UA(c)?UA(u)?s.styles.backgroundColor:u:c}}catch{}return s}return t}(Sg),WUe=["OL","UL","MENU"],iw=function(e,t,i,o){for(var s=t.firstChild,c=void 0;s;s=c)if(c=s.nextSibling,Pj(s)&&s.data.trim().length>0)i.textNodes.push(new SUe(e,s,i.styles));else if(bp(s))if(jj(s)&&s.assignedNodes)s.assignedNodes().forEach(function(C){return iw(e,C,i,o)});else{var u=Jj(e,s);u.styles.isVisible()&&(HUe(s,u,o)?u.flags|=4:DUe(u.styles)&&(u.flags|=2),WUe.indexOf(s.tagName)!==-1&&(u.flags|=8),i.elements.push(u),s.slot,s.shadowRoot?iw(e,s.shadowRoot,u,o):!uk(s)&&!Kj(s)&&!hk(s)&&iw(e,s,u,o))}},Jj=function(e,t){return SG(t)?new Hj(e,t):zj(t)?new Dj(e,t):Kj(t)?new Tj(e,t):TUe(t)?new Lj(e,t):LUe(t)?new BG(e,t):XUe(t)?new B_(e,t):hk(t)?new Xj(e,t):uk(t)?new Mj(e,t):Qj(t)?new Yj(e,t):new Sg(e,t)},Uj=function(e,t){var i=Jj(e,t);return i.flags|=4,iw(e,t,i,i),i},HUe=function(e,t,i){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||x_(e)&&i.styles.isTransparent()},DUe=function(e){return e.isPositioned()||e.isFloating()},Pj=function(e){return e.nodeType===Node.TEXT_NODE},bp=function(e){return e.nodeType===Node.ELEMENT_NODE},xG=function(e){return bp(e)&&typeof e.style<"u"&&!rw(e)},rw=function(e){return typeof e.className=="object"},TUe=function(e){return e.tagName==="LI"},LUe=function(e){return e.tagName==="OL"},XUe=function(e){return e.tagName==="INPUT"},MUe=function(e){return e.tagName==="HTML"},Kj=function(e){return e.tagName==="svg"},x_=function(e){return e.tagName==="BODY"},zj=function(e){return e.tagName==="CANVAS"},SY=function(e){return e.tagName==="VIDEO"},SG=function(e){return e.tagName==="IMG"},Qj=function(e){return e.tagName==="IFRAME"},ZY=function(e){return e.tagName==="STYLE"},YUe=function(e){return e.tagName==="SCRIPT"},uk=function(e){return e.tagName==="TEXTAREA"},hk=function(e){return e.tagName==="SELECT"},jj=function(e){return e.tagName==="SLOT"},GY=function(e){return e.tagName.indexOf("-")>0},JUe=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var i=this.counters[t];return i&&i.length?i[i.length-1]:1},e.prototype.getCounterValues=function(t){var i=this.counters[t];return i||[]},e.prototype.pop=function(t){var i=this;t.forEach(function(o){return i.counters[o].pop()})},e.prototype.parse=function(t){var i=this,o=t.counterIncrement,s=t.counterReset,c=!0;o!==null&&o.forEach(function(C){var m=i.counters[C.counter];m&&C.increment!==0&&(c=!1,m.length||m.push(1),m[Math.max(0,m.length-1)]+=C.increment)});var u=[];return c&&s.forEach(function(C){var m=i.counters[C.counter];u.push(C.counter),m||(m=i.counters[C.counter]=[]),m.push(C.reset)}),u},e}(),RY={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},NY={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},UUe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},PUe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Km=function(e,t,i,o,s,c){return e<t||e>i?vb(e,s,c.length>0):o.integers.reduce(function(u,C,m){for(;e>=C;)e-=C,u+=o.values[m];return u},"")+c},Oj=function(e,t,i,o){var s="";do i||e--,s=o(e)+s,e/=t;while(e*t>=t);return s},oo=function(e,t,i,o,s){var c=i-t+1;return(e<0?"-":"")+(Oj(Math.abs(e),c,o,function(u){return so(Math.floor(u%c)+t)})+s)},Uu=function(e,t,i){i===void 0&&(i=". ");var o=t.length;return Oj(Math.abs(e),o,!1,function(s){return t[Math.floor(s%o)]})+i},np=1,AA=2,uA=4,iI=8,id=function(e,t,i,o,s,c){if(e<-9999||e>9999)return vb(e,4,s.length>0);var u=Math.abs(e),C=s;if(u===0)return t[0]+C;for(var m=0;u>0&&m<=4;m++){var v=u%10;v===0&&Wo(c,np)&&C!==""?C=t[v]+C:v>1||v===1&&m===0||v===1&&m===1&&Wo(c,AA)||v===1&&m===1&&Wo(c,uA)&&e>100||v===1&&m>1&&Wo(c,iI)?C=t[v]+(m>0?i[m-1]:"")+C:v===1&&m>0&&(C=i[m-1]+C),u=Math.floor(u/10)}return(e<0?o:"")+C},_Y="",VY="",EY="",JS="",vb=function(e,t,i){var o=i?". ":"",s=i?"":"",c=i?", ":"",u=i?" ":"";switch(t){case 0:return""+u;case 1:return""+u;case 2:return""+u;case 5:var C=oo(e,48,57,!0,o);return C.length<4?"0"+C:C;case 4:return Uu(e,"",s);case 6:return Km(e,1,3999,RY,3,o).toLowerCase();case 7:return Km(e,1,3999,RY,3,o);case 8:return oo(e,945,969,!1,o);case 9:return oo(e,97,122,!1,o);case 10:return oo(e,65,90,!1,o);case 11:return oo(e,1632,1641,!0,o);case 12:case 49:return Km(e,1,9999,NY,3,o);case 35:return Km(e,1,9999,NY,3,o).toLowerCase();case 13:return oo(e,2534,2543,!0,o);case 14:case 30:return oo(e,6112,6121,!0,o);case 15:return Uu(e,"",s);case 16:return Uu(e,"",s);case 17:case 48:return id(e,"",_Y,"",s,AA|uA|iI);case 47:return id(e,"",VY,"",s,np|AA|uA|iI);case 42:return id(e,"",_Y,"",s,AA|uA|iI);case 41:return id(e,"",VY,"",s,np|AA|uA|iI);case 26:return id(e,"","",EY,s,0);case 25:return id(e,"","",EY,s,np|AA|uA);case 31:return id(e,"","",JS,c,np|AA|uA);case 33:return id(e,"","",JS,c,0);case 32:return id(e,"","",JS,c,np|AA|uA);case 18:return oo(e,2406,2415,!0,o);case 20:return Km(e,1,19999,PUe,3,o);case 21:return oo(e,2790,2799,!0,o);case 22:return oo(e,2662,2671,!0,o);case 22:return Km(e,1,10999,UUe,3,o);case 23:return Uu(e,"");case 24:return Uu(e,"");case 27:return oo(e,3302,3311,!0,o);case 28:return Uu(e,"",s);case 29:return Uu(e,"",s);case 34:return oo(e,3792,3801,!0,o);case 37:return oo(e,6160,6169,!0,o);case 38:return oo(e,4160,4169,!0,o);case 39:return oo(e,2918,2927,!0,o);case 40:return oo(e,1776,1785,!0,o);case 43:return oo(e,3046,3055,!0,o);case 44:return oo(e,3174,3183,!0,o);case 45:return oo(e,3664,3673,!0,o);case 46:return oo(e,3872,3881,!0,o);case 3:default:return oo(e,48,57,!0,o)}},qj="data-html2canvas-ignore",FY=function(){function e(t,i,o){if(this.context=t,this.options=o,this.scrolledElements=[],this.referenceElement=i,this.counters=new JUe,this.quoteDepth=0,!i.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(i.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,i){var o=this,s=KUe(t,i);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var c=t.defaultView.pageXOffset,u=t.defaultView.pageYOffset,C=s.contentWindow,m=C.document,v=jUe(s).then(function(){return Ps(o,void 0,void 0,function(){var x,G;return Ns(this,function(B){switch(B.label){case 0:return this.scrolledElements.forEach(ePe),C&&(C.scrollTo(i.left,i.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(C.scrollY!==i.top||C.scrollX!==i.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(C.scrollX-i.left,C.scrollY-i.top,0,0))),x=this.options.onclone,G=this.clonedReferenceElement,typeof G>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:m.fonts&&m.fonts.ready?[4,m.fonts.ready]:[3,2];case 1:B.sent(),B.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,QUe(m)]:[3,4];case 3:B.sent(),B.label=4;case 4:return typeof x=="function"?[2,Promise.resolve().then(function(){return x(m,G)}).then(function(){return s})]:[2,s]}})})});return m.open(),m.write(qUe(document.doctype)+"<html></html>"),$Ue(this.referenceElement.ownerDocument,c,u),m.replaceChild(m.adoptNode(this.documentElement),m.documentElement),m.close(),v},e.prototype.createElementClone=function(t){if(wG(t,2))debugger;if(zj(t))return this.createCanvasClone(t);if(SY(t))return this.createVideoClone(t);if(ZY(t))return this.createStyleClone(t);var i=t.cloneNode(!1);return SG(i)&&(SG(t)&&t.currentSrc&&t.currentSrc!==t.src&&(i.src=t.currentSrc,i.srcset=""),i.loading==="lazy"&&(i.loading="eager")),GY(i)?this.createCustomElementClone(i):i},e.prototype.createCustomElementClone=function(t){var i=document.createElement("html2canvascustomelement");return US(t.style,i),i},e.prototype.createStyleClone=function(t){try{var i=t.sheet;if(i&&i.cssRules){var o=[].slice.call(i.cssRules,0).reduce(function(c,u){return u&&typeof u.cssText=="string"?c+u.cssText:c},""),s=t.cloneNode(!1);return s.textContent=o,s}}catch(c){if(this.context.logger.error("Unable to access cssRules property",c),c.name!=="SecurityError")throw c}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var i;if(this.options.inlineImages&&t.ownerDocument){var o=t.ownerDocument.createElement("img");try{return o.src=t.toDataURL(),o}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var c=t.getContext("2d"),u=s.getContext("2d");if(u)if(!this.options.allowTaint&&c)u.putImageData(c.getImageData(0,0,t.width,t.height),0,0);else{var C=(i=t.getContext("webgl2"))!==null&&i!==void 0?i:t.getContext("webgl");if(C){var m=C.getContextAttributes();(m==null?void 0:m.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}u.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var i=t.ownerDocument.createElement("canvas");i.width=t.offsetWidth,i.height=t.offsetHeight;var o=i.getContext("2d");try{return o&&(o.drawImage(t,0,0,i.width,i.height),this.options.allowTaint||o.getImageData(0,0,i.width,i.height)),i}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,i,o){(!bp(i)||!YUe(i)&&!i.hasAttribute(qj)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(i)))&&(!this.options.copyStyles||!bp(i)||!ZY(i))&&t.appendChild(this.cloneNode(i,o))},e.prototype.cloneChildNodes=function(t,i,o){for(var s=this,c=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;c;c=c.nextSibling)if(bp(c)&&jj(c)&&typeof c.assignedNodes=="function"){var u=c.assignedNodes();u.length&&u.forEach(function(C){return s.appendChildNode(i,C,o)})}else this.appendChildNode(i,c,o)},e.prototype.cloneNode=function(t,i){if(Pj(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var o=t.ownerDocument.defaultView;if(o&&bp(t)&&(xG(t)||rw(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var c=o.getComputedStyle(t),u=o.getComputedStyle(t,":before"),C=o.getComputedStyle(t,":after");this.referenceElement===t&&xG(s)&&(this.clonedReferenceElement=s),x_(s)&&iPe(s);var m=this.counters.parse(new AY(this.context,c)),v=this.resolvePseudoContent(t,s,u,NI.BEFORE);GY(t)&&(i=!0),SY(t)||this.cloneChildNodes(t,s,i),v&&s.insertBefore(v,s.firstChild);var x=this.resolvePseudoContent(t,s,C,NI.AFTER);return x&&s.appendChild(x),this.counters.pop(m),(c&&(this.options.copyStyles||rw(t))&&!Qj(t)||i)&&US(c,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(uk(t)||hk(t))&&(uk(s)||hk(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,i,o,s){var c=this;if(o){var u=o.content,C=i.ownerDocument;if(!(!C||!u||u==="none"||u==="-moz-alt-content"||o.display==="none")){this.counters.parse(new AY(this.context,o));var m=new TJe(this.context,o),v=C.createElement("html2canvaspseudoelement");US(o,v),m.content.forEach(function(G){if(G.type===0)v.appendChild(C.createTextNode(G.value));else if(G.type===22){var B=C.createElement("img");B.src=G.value,B.style.opacity="1",v.appendChild(B)}else if(G.type===18){if(G.name==="attr"){var R=G.values.filter(tr);R.length&&v.appendChild(C.createTextNode(t.getAttribute(R[0].value)||""))}else if(G.name==="counter"){var V=G.values.filter(Op),H=V[0],M=V[1];if(H&&tr(H)){var L=c.counters.getCounterValue(H.value),_=M&&tr(M)?vG.parse(c.context,M.value):3;v.appendChild(C.createTextNode(vb(L,_,!1)))}}else if(G.name==="counters"){var X=G.values.filter(Op),H=X[0],Q=X[1],M=X[2];if(H&&tr(H)){var j=c.counters.getCounterValues(H.value),re=M&&tr(M)?vG.parse(c.context,M.value):3,P=Q&&Q.type===0?Q.value:"",O=j.map(function(ne){return vb(ne,re,!1)}).join(P);v.appendChild(C.createTextNode(O))}}}else if(G.type===20)switch(G.value){case"open-quote":v.appendChild(C.createTextNode(dY(m.quotes,c.quoteDepth++,!0)));break;case"close-quote":v.appendChild(C.createTextNode(dY(m.quotes,--c.quoteDepth,!1)));break;default:v.appendChild(C.createTextNode(G.value))}}),v.className=ZG+" "+GG;var x=s===NI.BEFORE?" "+ZG:" "+GG;return rw(i)?i.className.baseValue+=x:i.className+=x,v}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),NI;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(NI||(NI={}));var KUe=function(e,t){var i=e.createElement("iframe");return i.className="html2canvas-container",i.style.visibility="hidden",i.style.position="fixed",i.style.left="-10000px",i.style.top="0px",i.style.border="0",i.width=t.width.toString(),i.height=t.height.toString(),i.scrolling="no",i.setAttribute(qj,"true"),e.body.appendChild(i),i},zUe=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},QUe=function(e){return Promise.all([].slice.call(e.images,0).map(zUe))},jUe=function(e){return new Promise(function(t,i){var o=e.contentWindow;if(!o)return i("No window assigned for iframe");var s=o.document;o.onload=e.onload=function(){o.onload=e.onload=null;var c=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(c),t(e))},50)}})},OUe=["all","d","content"],US=function(e,t){for(var i=e.length-1;i>=0;i--){var o=e.item(i);OUe.indexOf(o)===-1&&t.style.setProperty(o,e.getPropertyValue(o))}return t},qUe=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},$Ue=function(e,t,i){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||i!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,i)},ePe=function(e){var t=e[0],i=e[1],o=e[2];t.scrollLeft=i,t.scrollTop=o},tPe=":before",nPe=":after",ZG="___html2canvas___pseudoelement_before",GG="___html2canvas___pseudoelement_after",WY=`{
    content: "" !important;
    display: none !important;
}`,iPe=function(e){rPe(e,"."+ZG+tPe+WY+`
         .`+GG+nPe+WY)},rPe=function(e,t){var i=e.ownerDocument;if(i){var o=i.createElement("style");o.textContent=t,e.appendChild(o)}},$j=function(){function e(){}return e.getOrigin=function(t){var i=e._link;return i?(i.href=t,i.href=i.href,i.protocol+i.hostname+i.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),oPe=function(){function e(t,i){this.context=t,this._options=i,this._cache={}}return e.prototype.addImage=function(t){var i=Promise.resolve();return this.has(t)||(KS(t)||cPe(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),i},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Ps(this,void 0,void 0,function(){var i,o,s,c,u=this;return Ns(this,function(C){switch(C.label){case 0:return i=$j.isSameOrigin(t),o=!PS(t)&&this._options.useCORS===!0&&ds.SUPPORT_CORS_IMAGES&&!i,s=!PS(t)&&!i&&!KS(t)&&typeof this._options.proxy=="string"&&ds.SUPPORT_CORS_XHR&&!o,!i&&this._options.allowTaint===!1&&!PS(t)&&!KS(t)&&!s&&!o?[2]:(c=t,s?[4,this.proxy(c)]:[3,2]);case 1:c=C.sent(),C.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(m,v){var x=new Image;x.onload=function(){return m(x)},x.onerror=v,(gPe(c)||o)&&(x.crossOrigin="anonymous"),x.src=c,x.complete===!0&&setTimeout(function(){return m(x)},500),u._options.imageTimeout>0&&setTimeout(function(){return v("Timed out ("+u._options.imageTimeout+"ms) loading image")},u._options.imageTimeout)})];case 3:return[2,C.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var i=this,o=this._options.proxy;if(!o)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(c,u){var C=ds.SUPPORT_RESPONSE_TYPE?"blob":"text",m=new XMLHttpRequest;m.onload=function(){if(m.status===200)if(C==="text")c(m.response);else{var G=new FileReader;G.addEventListener("load",function(){return c(G.result)},!1),G.addEventListener("error",function(B){return u(B)},!1),G.readAsDataURL(m.response)}else u("Failed to proxy resource "+s+" with status code "+m.status)},m.onerror=u;var v=o.indexOf("?")>-1?"&":"?";if(m.open("GET",""+o+v+"url="+encodeURIComponent(t)+"&responseType="+C),C!=="text"&&m instanceof XMLHttpRequest&&(m.responseType=C),i._options.imageTimeout){var x=i._options.imageTimeout;m.timeout=x,m.ontimeout=function(){return u("Timed out ("+x+"ms) proxying "+s)}}m.send()})},e}(),sPe=/^data:image\/svg\+xml/i,aPe=/^data:image\/.*;base64,/i,lPe=/^data:image\/.*/i,cPe=function(e){return ds.SUPPORT_SVG_DRAWING||!dPe(e)},PS=function(e){return lPe.test(e)},gPe=function(e){return aPe.test(e)},KS=function(e){return e.substr(0,4)==="blob"},dPe=function(e){return e.substr(-3).toLowerCase()==="svg"||sPe.test(e)},gn=function(){function e(t,i){this.type=0,this.x=t,this.y=i}return e.prototype.add=function(t,i){return new e(this.x+t,this.y+i)},e}(),zm=function(e,t,i){return new gn(e.x+(t.x-e.x)*i,e.y+(t.y-e.y)*i)},pv=function(){function e(t,i,o,s){this.type=1,this.start=t,this.startControl=i,this.endControl=o,this.end=s}return e.prototype.subdivide=function(t,i){var o=zm(this.start,this.startControl,t),s=zm(this.startControl,this.endControl,t),c=zm(this.endControl,this.end,t),u=zm(o,s,t),C=zm(s,c,t),m=zm(u,C,t);return i?new e(this.start,o,u,m):new e(m,C,c,this.end)},e.prototype.add=function(t,i){return new e(this.start.add(t,i),this.startControl.add(t,i),this.endControl.add(t,i),this.end.add(t,i))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Rl=function(e){return e.type===1},APe=function(){function e(t){var i=t.styles,o=t.bounds,s=tI(i.borderTopLeftRadius,o.width,o.height),c=s[0],u=s[1],C=tI(i.borderTopRightRadius,o.width,o.height),m=C[0],v=C[1],x=tI(i.borderBottomRightRadius,o.width,o.height),G=x[0],B=x[1],R=tI(i.borderBottomLeftRadius,o.width,o.height),V=R[0],H=R[1],M=[];M.push((c+m)/o.width),M.push((V+G)/o.width),M.push((u+H)/o.height),M.push((v+B)/o.height);var L=Math.max.apply(Math,M);L>1&&(c/=L,u/=L,m/=L,v/=L,G/=L,B/=L,V/=L,H/=L);var _=o.width-m,X=o.height-B,Q=o.width-G,j=o.height-H,re=i.borderTopWidth,P=i.borderRightWidth,O=i.borderBottomWidth,de=i.borderLeftWidth,ce=Ar(i.paddingTop,t.bounds.width),ne=Ar(i.paddingRight,t.bounds.width),oe=Ar(i.paddingBottom,t.bounds.width),be=Ar(i.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=c>0||u>0?Zr(o.left+de/3,o.top+re/3,c-de/3,u-re/3,Mi.TOP_LEFT):new gn(o.left+de/3,o.top+re/3),this.topRightBorderDoubleOuterBox=c>0||u>0?Zr(o.left+_,o.top+re/3,m-P/3,v-re/3,Mi.TOP_RIGHT):new gn(o.left+o.width-P/3,o.top+re/3),this.bottomRightBorderDoubleOuterBox=G>0||B>0?Zr(o.left+Q,o.top+X,G-P/3,B-O/3,Mi.BOTTOM_RIGHT):new gn(o.left+o.width-P/3,o.top+o.height-O/3),this.bottomLeftBorderDoubleOuterBox=V>0||H>0?Zr(o.left+de/3,o.top+j,V-de/3,H-O/3,Mi.BOTTOM_LEFT):new gn(o.left+de/3,o.top+o.height-O/3),this.topLeftBorderDoubleInnerBox=c>0||u>0?Zr(o.left+de*2/3,o.top+re*2/3,c-de*2/3,u-re*2/3,Mi.TOP_LEFT):new gn(o.left+de*2/3,o.top+re*2/3),this.topRightBorderDoubleInnerBox=c>0||u>0?Zr(o.left+_,o.top+re*2/3,m-P*2/3,v-re*2/3,Mi.TOP_RIGHT):new gn(o.left+o.width-P*2/3,o.top+re*2/3),this.bottomRightBorderDoubleInnerBox=G>0||B>0?Zr(o.left+Q,o.top+X,G-P*2/3,B-O*2/3,Mi.BOTTOM_RIGHT):new gn(o.left+o.width-P*2/3,o.top+o.height-O*2/3),this.bottomLeftBorderDoubleInnerBox=V>0||H>0?Zr(o.left+de*2/3,o.top+j,V-de*2/3,H-O*2/3,Mi.BOTTOM_LEFT):new gn(o.left+de*2/3,o.top+o.height-O*2/3),this.topLeftBorderStroke=c>0||u>0?Zr(o.left+de/2,o.top+re/2,c-de/2,u-re/2,Mi.TOP_LEFT):new gn(o.left+de/2,o.top+re/2),this.topRightBorderStroke=c>0||u>0?Zr(o.left+_,o.top+re/2,m-P/2,v-re/2,Mi.TOP_RIGHT):new gn(o.left+o.width-P/2,o.top+re/2),this.bottomRightBorderStroke=G>0||B>0?Zr(o.left+Q,o.top+X,G-P/2,B-O/2,Mi.BOTTOM_RIGHT):new gn(o.left+o.width-P/2,o.top+o.height-O/2),this.bottomLeftBorderStroke=V>0||H>0?Zr(o.left+de/2,o.top+j,V-de/2,H-O/2,Mi.BOTTOM_LEFT):new gn(o.left+de/2,o.top+o.height-O/2),this.topLeftBorderBox=c>0||u>0?Zr(o.left,o.top,c,u,Mi.TOP_LEFT):new gn(o.left,o.top),this.topRightBorderBox=m>0||v>0?Zr(o.left+_,o.top,m,v,Mi.TOP_RIGHT):new gn(o.left+o.width,o.top),this.bottomRightBorderBox=G>0||B>0?Zr(o.left+Q,o.top+X,G,B,Mi.BOTTOM_RIGHT):new gn(o.left+o.width,o.top+o.height),this.bottomLeftBorderBox=V>0||H>0?Zr(o.left,o.top+j,V,H,Mi.BOTTOM_LEFT):new gn(o.left,o.top+o.height),this.topLeftPaddingBox=c>0||u>0?Zr(o.left+de,o.top+re,Math.max(0,c-de),Math.max(0,u-re),Mi.TOP_LEFT):new gn(o.left+de,o.top+re),this.topRightPaddingBox=m>0||v>0?Zr(o.left+Math.min(_,o.width-P),o.top+re,_>o.width+P?0:Math.max(0,m-P),Math.max(0,v-re),Mi.TOP_RIGHT):new gn(o.left+o.width-P,o.top+re),this.bottomRightPaddingBox=G>0||B>0?Zr(o.left+Math.min(Q,o.width-de),o.top+Math.min(X,o.height-O),Math.max(0,G-P),Math.max(0,B-O),Mi.BOTTOM_RIGHT):new gn(o.left+o.width-P,o.top+o.height-O),this.bottomLeftPaddingBox=V>0||H>0?Zr(o.left+de,o.top+Math.min(j,o.height-O),Math.max(0,V-de),Math.max(0,H-O),Mi.BOTTOM_LEFT):new gn(o.left+de,o.top+o.height-O),this.topLeftContentBox=c>0||u>0?Zr(o.left+de+be,o.top+re+ce,Math.max(0,c-(de+be)),Math.max(0,u-(re+ce)),Mi.TOP_LEFT):new gn(o.left+de+be,o.top+re+ce),this.topRightContentBox=m>0||v>0?Zr(o.left+Math.min(_,o.width+de+be),o.top+re+ce,_>o.width+de+be?0:m-de+be,v-(re+ce),Mi.TOP_RIGHT):new gn(o.left+o.width-(P+ne),o.top+re+ce),this.bottomRightContentBox=G>0||B>0?Zr(o.left+Math.min(Q,o.width-(de+be)),o.top+Math.min(X,o.height+re+ce),Math.max(0,G-(P+ne)),B-(O+oe),Mi.BOTTOM_RIGHT):new gn(o.left+o.width-(P+ne),o.top+o.height-(O+oe)),this.bottomLeftContentBox=V>0||H>0?Zr(o.left+de+be,o.top+j,Math.max(0,V-(de+be)),H-(O+oe),Mi.BOTTOM_LEFT):new gn(o.left+de+be,o.top+o.height-(O+oe))}return e}(),Mi;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Mi||(Mi={}));var Zr=function(e,t,i,o,s){var c=4*((Math.sqrt(2)-1)/3),u=i*c,C=o*c,m=e+i,v=t+o;switch(s){case Mi.TOP_LEFT:return new pv(new gn(e,v),new gn(e,v-C),new gn(m-u,t),new gn(m,t));case Mi.TOP_RIGHT:return new pv(new gn(e,t),new gn(e+u,t),new gn(m,v-C),new gn(m,v));case Mi.BOTTOM_RIGHT:return new pv(new gn(m,t),new gn(m,t+C),new gn(e+u,v),new gn(e,v));case Mi.BOTTOM_LEFT:default:return new pv(new gn(m,v),new gn(m-u,v),new gn(e,t+C),new gn(e,t))}},mk=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},uPe=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},pk=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},hPe=function(){function e(t,i,o){this.offsetX=t,this.offsetY=i,this.matrix=o,this.type=0,this.target=6}return e}(),Cv=function(){function e(t,i){this.path=t,this.target=i,this.type=1}return e}(),mPe=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),pPe=function(e){return e.type===0},eO=function(e){return e.type===1},CPe=function(e){return e.type===2},HY=function(e,t){return e.length===t.length?e.some(function(i,o){return i===t[o]}):!1},fPe=function(e,t,i,o,s){return e.map(function(c,u){switch(u){case 0:return c.add(t,i);case 1:return c.add(t+o,i);case 2:return c.add(t+o,i+s);case 3:return c.add(t,i+s)}return c})},tO=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),nO=function(){function e(t,i){if(this.container=t,this.parent=i,this.effects=[],this.curves=new APe(this.container),this.container.styles.opacity<1&&this.effects.push(new mPe(this.container.styles.opacity)),this.container.styles.transform!==null){var o=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,c=this.container.styles.transform;this.effects.push(new hPe(o,s,c))}if(this.container.styles.overflowX!==0){var u=mk(this.curves),C=pk(this.curves);HY(u,C)?this.effects.push(new Cv(u,6)):(this.effects.push(new Cv(u,2)),this.effects.push(new Cv(C,4)))}}return e.prototype.getEffects=function(t){for(var i=[2,3].indexOf(this.container.styles.position)===-1,o=this.parent,s=this.effects.slice(0);o;){var c=o.effects.filter(function(m){return!eO(m)});if(i||o.container.styles.position!==0||!o.parent){if(s.unshift.apply(s,c),i=[2,3].indexOf(o.container.styles.position)===-1,o.container.styles.overflowX!==0){var u=mk(o.curves),C=pk(o.curves);HY(u,C)||s.unshift(new Cv(C,6))}}else s.unshift.apply(s,c);o=o.parent}return s.filter(function(m){return Wo(m.target,t)})},e}(),RG=function(e,t,i,o){e.container.elements.forEach(function(s){var c=Wo(s.flags,4),u=Wo(s.flags,2),C=new nO(s,e);Wo(s.styles.display,2048)&&o.push(C);var m=Wo(s.flags,8)?[]:o;if(c||u){var v=c||s.styles.isPositioned()?i:t,x=new tO(C);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var G=s.styles.zIndex.order;if(G<0){var B=0;v.negativeZIndex.some(function(V,H){return G>V.element.container.styles.zIndex.order?(B=H,!1):B>0}),v.negativeZIndex.splice(B,0,x)}else if(G>0){var R=0;v.positiveZIndex.some(function(V,H){return G>=V.element.container.styles.zIndex.order?(R=H+1,!1):R>0}),v.positiveZIndex.splice(R,0,x)}else v.zeroOrAutoZIndexOrTransformedOrOpacity.push(x)}else s.styles.isFloating()?v.nonPositionedFloats.push(x):v.nonPositionedInlineLevel.push(x);RG(C,x,c?x:i,m)}else s.styles.isInlineLevel()?t.inlineLevel.push(C):t.nonInlineLevel.push(C),RG(C,t,i,m);Wo(s.flags,8)&&iO(s,m)})},iO=function(e,t){for(var i=e instanceof BG?e.start:1,o=e instanceof BG?e.reversed:!1,s=0;s<t.length;s++){var c=t[s];c.container instanceof Lj&&typeof c.container.value=="number"&&c.container.value!==0&&(i=c.container.value),c.listValue=vb(i,c.container.styles.listStyleType,!0),i+=o?-1:1}},IPe=function(e){var t=new nO(e,null),i=new tO(t),o=[];return RG(t,i,i,o),iO(t.container,o),i},DY=function(e,t){switch(t){case 0:return Fl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Fl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Fl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Fl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},bPe=function(e,t){switch(t){case 0:return Fl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Fl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Fl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return Fl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},yPe=function(e,t){switch(t){case 0:return Fl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Fl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Fl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return Fl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},vPe=function(e,t){switch(t){case 0:return fv(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return fv(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return fv(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return fv(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},fv=function(e,t){var i=[];return Rl(e)?i.push(e.subdivide(.5,!1)):i.push(e),Rl(t)?i.push(t.subdivide(.5,!0)):i.push(t),i},Fl=function(e,t,i,o){var s=[];return Rl(e)?s.push(e.subdivide(.5,!1)):s.push(e),Rl(i)?s.push(i.subdivide(.5,!0)):s.push(i),Rl(o)?s.push(o.subdivide(.5,!0).reverse()):s.push(o),Rl(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},rO=function(e){var t=e.bounds,i=e.styles;return t.add(i.borderLeftWidth,i.borderTopWidth,-(i.borderRightWidth+i.borderLeftWidth),-(i.borderTopWidth+i.borderBottomWidth))},Ck=function(e){var t=e.styles,i=e.bounds,o=Ar(t.paddingLeft,i.width),s=Ar(t.paddingRight,i.width),c=Ar(t.paddingTop,i.width),u=Ar(t.paddingBottom,i.width);return i.add(o+t.borderLeftWidth,c+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+o+s),-(t.borderTopWidth+t.borderBottomWidth+c+u))},wPe=function(e,t){return e===0?t.bounds:e===2?Ck(t):rO(t)},kPe=function(e,t){return e===0?t.bounds:e===2?Ck(t):rO(t)},zS=function(e,t,i){var o=wPe(ip(e.styles.backgroundOrigin,t),e),s=kPe(ip(e.styles.backgroundClip,t),e),c=BPe(ip(e.styles.backgroundSize,t),i,o),u=c[0],C=c[1],m=tI(ip(e.styles.backgroundPosition,t),o.width-u,o.height-C),v=xPe(ip(e.styles.backgroundRepeat,t),m,c,o,s),x=Math.round(o.left+m[0]),G=Math.round(o.top+m[1]);return[v,x,G,u,C]},Qm=function(e){return tr(e)&&e.value===Vp.AUTO},Iv=function(e){return typeof e=="number"},BPe=function(e,t,i){var o=t[0],s=t[1],c=t[2],u=e[0],C=e[1];if(!u)return[0,0];if(wo(u)&&C&&wo(C))return[Ar(u,i.width),Ar(C,i.height)];var m=Iv(c);if(tr(u)&&(u.value===Vp.CONTAIN||u.value===Vp.COVER)){if(Iv(c)){var v=i.width/i.height;return v<c!=(u.value===Vp.COVER)?[i.width,i.width/c]:[i.height*c,i.height]}return[i.width,i.height]}var x=Iv(o),G=Iv(s),B=x||G;if(Qm(u)&&(!C||Qm(C))){if(x&&G)return[o,s];if(!m&&!B)return[i.width,i.height];if(B&&m){var R=x?o:s*c,V=G?s:o/c;return[R,V]}var H=x?o:i.width,M=G?s:i.height;return[H,M]}if(m){var L=0,_=0;return wo(u)?L=Ar(u,i.width):wo(C)&&(_=Ar(C,i.height)),Qm(u)?L=_*c:(!C||Qm(C))&&(_=L/c),[L,_]}var X=null,Q=null;if(wo(u)?X=Ar(u,i.width):C&&wo(C)&&(Q=Ar(C,i.height)),X!==null&&(!C||Qm(C))&&(Q=x&&G?X/o*s:i.height),Q!==null&&Qm(u)&&(X=x&&G?Q/s*o:i.width),X!==null&&Q!==null)return[X,Q];throw new Error("Unable to calculate background-size for element")},ip=function(e,t){var i=e[t];return typeof i>"u"?e[0]:i},xPe=function(e,t,i,o,s){var c=t[0],u=t[1],C=i[0],m=i[1];switch(e){case 2:return[new gn(Math.round(o.left),Math.round(o.top+u)),new gn(Math.round(o.left+o.width),Math.round(o.top+u)),new gn(Math.round(o.left+o.width),Math.round(m+o.top+u)),new gn(Math.round(o.left),Math.round(m+o.top+u))];case 3:return[new gn(Math.round(o.left+c),Math.round(o.top)),new gn(Math.round(o.left+c+C),Math.round(o.top)),new gn(Math.round(o.left+c+C),Math.round(o.height+o.top)),new gn(Math.round(o.left+c),Math.round(o.height+o.top))];case 1:return[new gn(Math.round(o.left+c),Math.round(o.top+u)),new gn(Math.round(o.left+c+C),Math.round(o.top+u)),new gn(Math.round(o.left+c+C),Math.round(o.top+u+m)),new gn(Math.round(o.left+c),Math.round(o.top+u+m))];default:return[new gn(Math.round(s.left),Math.round(s.top)),new gn(Math.round(s.left+s.width),Math.round(s.top)),new gn(Math.round(s.left+s.width),Math.round(s.height+s.top)),new gn(Math.round(s.left),Math.round(s.height+s.top))]}},SPe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",TY="Hidden Text",ZPe=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,i){var o=this._document.createElement("div"),s=this._document.createElement("img"),c=this._document.createElement("span"),u=this._document.body;o.style.visibility="hidden",o.style.fontFamily=t,o.style.fontSize=i,o.style.margin="0",o.style.padding="0",o.style.whiteSpace="nowrap",u.appendChild(o),s.src=SPe,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",c.style.fontFamily=t,c.style.fontSize=i,c.style.margin="0",c.style.padding="0",c.appendChild(this._document.createTextNode(TY)),o.appendChild(c),o.appendChild(s);var C=s.offsetTop-c.offsetTop+2;o.removeChild(c),o.appendChild(this._document.createTextNode(TY)),o.style.lineHeight="normal",s.style.verticalAlign="super";var m=s.offsetTop-o.offsetTop+2;return u.removeChild(o),{baseline:C,middle:m}},e.prototype.getMetrics=function(t,i){var o=t+" "+i;return typeof this._data[o]>"u"&&(this._data[o]=this.parseMetrics(t,i)),this._data[o]},e}(),oO=function(){function e(t,i){this.context=t,this.options=i}return e}(),GPe=1e4,RPe=function(e){_c(t,e);function t(i,o){var s=e.call(this,i,o)||this;return s._activeEffects=[],s.canvas=o.canvas?o.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),o.canvas||(s.canvas.width=Math.floor(o.width*o.scale),s.canvas.height=Math.floor(o.height*o.scale),s.canvas.style.width=o.width+"px",s.canvas.style.height=o.height+"px"),s.fontMetrics=new ZPe(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-o.x,-o.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+o.width+"x"+o.height+") with scale "+o.scale),s}return t.prototype.applyEffects=function(i){for(var o=this;this._activeEffects.length;)this.popEffect();i.forEach(function(s){return o.applyEffect(s)})},t.prototype.applyEffect=function(i){this.ctx.save(),CPe(i)&&(this.ctx.globalAlpha=i.opacity),pPe(i)&&(this.ctx.translate(i.offsetX,i.offsetY),this.ctx.transform(i.matrix[0],i.matrix[1],i.matrix[2],i.matrix[3],i.matrix[4],i.matrix[5]),this.ctx.translate(-i.offsetX,-i.offsetY)),eO(i)&&(this.path(i.path),this.ctx.clip()),this._activeEffects.push(i)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(i){return Ps(this,void 0,void 0,function(){var o;return Ns(this,function(s){switch(s.label){case 0:return o=i.element.container.styles,o.isVisible()?[4,this.renderStackContent(i)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(i){return Ps(this,void 0,void 0,function(){return Ns(this,function(o){switch(o.label){case 0:if(Wo(i.container.flags,16))debugger;return i.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(i)]:[3,3];case 1:return o.sent(),[4,this.renderNodeContent(i)];case 2:o.sent(),o.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(i,o,s){var c=this;if(o===0)this.ctx.fillText(i.text,i.bounds.left,i.bounds.top+s);else{var u=k_(i.text);u.reduce(function(C,m){return c.ctx.fillText(m,C,i.bounds.top+s),C+c.ctx.measureText(m).width},i.bounds.left)}},t.prototype.createFontStyle=function(i){var o=i.fontVariant.filter(function(u){return u==="normal"||u==="small-caps"}).join(""),s=FPe(i.fontFamily).join(", "),c=Ob(i.fontSize)?""+i.fontSize.number+i.fontSize.unit:i.fontSize.number+"px";return[[i.fontStyle,o,i.fontWeight,c,s].join(" "),s,c]},t.prototype.renderTextNode=function(i,o){return Ps(this,void 0,void 0,function(){var s,c,u,C,m,v,x,G,B=this;return Ns(this,function(R){return s=this.createFontStyle(o),c=s[0],u=s[1],C=s[2],this.ctx.font=c,this.ctx.direction=o.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",m=this.fontMetrics.getMetrics(u,C),v=m.baseline,x=m.middle,G=o.paintOrder,i.textBounds.forEach(function(V){G.forEach(function(H){switch(H){case 0:B.ctx.fillStyle=Po(o.color),B.renderTextWithLetterSpacing(V,o.letterSpacing,v);var M=o.textShadow;M.length&&V.text.trim().length&&(M.slice(0).reverse().forEach(function(L){B.ctx.shadowColor=Po(L.color),B.ctx.shadowOffsetX=L.offsetX.number*B.options.scale,B.ctx.shadowOffsetY=L.offsetY.number*B.options.scale,B.ctx.shadowBlur=L.blur.number,B.renderTextWithLetterSpacing(V,o.letterSpacing,v)}),B.ctx.shadowColor="",B.ctx.shadowOffsetX=0,B.ctx.shadowOffsetY=0,B.ctx.shadowBlur=0),o.textDecorationLine.length&&(B.ctx.fillStyle=Po(o.textDecorationColor||o.color),o.textDecorationLine.forEach(function(L){switch(L){case 1:B.ctx.fillRect(V.bounds.left,Math.round(V.bounds.top+v),V.bounds.width,1);break;case 2:B.ctx.fillRect(V.bounds.left,Math.round(V.bounds.top),V.bounds.width,1);break;case 3:B.ctx.fillRect(V.bounds.left,Math.ceil(V.bounds.top+x),V.bounds.width,1);break}}));break;case 1:o.webkitTextStrokeWidth&&V.text.trim().length&&(B.ctx.strokeStyle=Po(o.webkitTextStrokeColor),B.ctx.lineWidth=o.webkitTextStrokeWidth,B.ctx.lineJoin=window.chrome?"miter":"round",B.ctx.strokeText(V.text,V.bounds.left,V.bounds.top+v)),B.ctx.strokeStyle="",B.ctx.lineWidth=0,B.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(i,o,s){if(s&&i.intrinsicWidth>0&&i.intrinsicHeight>0){var c=Ck(i),u=pk(o);this.path(u),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,i.intrinsicWidth,i.intrinsicHeight,c.left,c.top,c.width,c.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(i){return Ps(this,void 0,void 0,function(){var o,s,c,u,C,m,_,_,v,x,G,B,Q,R,V,j,H,M,L,_,X,Q,j;return Ns(this,function(re){switch(re.label){case 0:this.applyEffects(i.getEffects(4)),o=i.container,s=i.curves,c=o.styles,u=0,C=o.textNodes,re.label=1;case 1:return u<C.length?(m=C[u],[4,this.renderTextNode(m,c)]):[3,4];case 2:re.sent(),re.label=3;case 3:return u++,[3,1];case 4:if(!(o instanceof Hj))return[3,8];re.label=5;case 5:return re.trys.push([5,7,,8]),[4,this.context.cache.match(o.src)];case 6:return _=re.sent(),this.renderReplacedElement(o,s,_),[3,8];case 7:return re.sent(),this.context.logger.error("Error loading image "+o.src),[3,8];case 8:if(o instanceof Dj&&this.renderReplacedElement(o,s,o.canvas),!(o instanceof Tj))return[3,12];re.label=9;case 9:return re.trys.push([9,11,,12]),[4,this.context.cache.match(o.svg)];case 10:return _=re.sent(),this.renderReplacedElement(o,s,_),[3,12];case 11:return re.sent(),this.context.logger.error("Error loading svg "+o.svg.substring(0,255)),[3,12];case 12:return o instanceof Yj&&o.tree?(v=new t(this.context,{scale:this.options.scale,backgroundColor:o.backgroundColor,x:0,y:0,width:o.width,height:o.height}),[4,v.render(o.tree)]):[3,14];case 13:x=re.sent(),o.width&&o.height&&this.ctx.drawImage(x,0,0,o.width,o.height,o.bounds.left,o.bounds.top,o.bounds.width,o.bounds.height),re.label=14;case 14:if(o instanceof B_&&(G=Math.min(o.bounds.width,o.bounds.height),o.type===dk?o.checked&&(this.ctx.save(),this.path([new gn(o.bounds.left+G*.39363,o.bounds.top+G*.79),new gn(o.bounds.left+G*.16,o.bounds.top+G*.5549),new gn(o.bounds.left+G*.27347,o.bounds.top+G*.44071),new gn(o.bounds.left+G*.39694,o.bounds.top+G*.5649),new gn(o.bounds.left+G*.72983,o.bounds.top+G*.23),new gn(o.bounds.left+G*.84,o.bounds.top+G*.34085),new gn(o.bounds.left+G*.39363,o.bounds.top+G*.79)]),this.ctx.fillStyle=Po(xY),this.ctx.fill(),this.ctx.restore()):o.type===Ak&&o.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(o.bounds.left+G/2,o.bounds.top+G/2,G/4,0,Math.PI*2,!0),this.ctx.fillStyle=Po(xY),this.ctx.fill(),this.ctx.restore())),NPe(o)&&o.value.length){switch(B=this.createFontStyle(c),Q=B[0],R=B[1],V=this.fontMetrics.getMetrics(Q,R).baseline,this.ctx.font=Q,this.ctx.fillStyle=Po(c.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=VPe(o.styles.textAlign),j=Ck(o),H=0,o.styles.textAlign){case 1:H+=j.width/2;break;case 2:H+=j.width;break}M=j.add(H,0,0,-j.height/2+1),this.ctx.save(),this.path([new gn(j.left,j.top),new gn(j.left+j.width,j.top),new gn(j.left+j.width,j.top+j.height),new gn(j.left,j.top+j.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new RI(o.value,M),c.letterSpacing,V),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Wo(o.styles.display,2048))return[3,20];if(o.styles.listStyleImage===null)return[3,19];if(L=o.styles.listStyleImage,L.type!==0)return[3,18];_=void 0,X=L.url,re.label=15;case 15:return re.trys.push([15,17,,18]),[4,this.context.cache.match(X)];case 16:return _=re.sent(),this.ctx.drawImage(_,o.bounds.left-(_.width+10),o.bounds.top),[3,18];case 17:return re.sent(),this.context.logger.error("Error loading list-style-image "+X),[3,18];case 18:return[3,20];case 19:i.listValue&&o.styles.listStyleType!==-1&&(Q=this.createFontStyle(c)[0],this.ctx.font=Q,this.ctx.fillStyle=Po(c.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",j=new Sd(o.bounds.left,o.bounds.top+Ar(o.styles.paddingTop,o.bounds.width),o.bounds.width,cY(c.lineHeight,c.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new RI(i.listValue,j),c.letterSpacing,cY(c.lineHeight,c.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),re.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(i){return Ps(this,void 0,void 0,function(){var o,s,L,c,u,L,C,m,L,v,x,L,G,B,L,R,V,L,H,M,L;return Ns(this,function(_){switch(_.label){case 0:if(Wo(i.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(i.element)];case 1:_.sent(),o=0,s=i.negativeZIndex,_.label=2;case 2:return o<s.length?(L=s[o],[4,this.renderStack(L)]):[3,5];case 3:_.sent(),_.label=4;case 4:return o++,[3,2];case 5:return[4,this.renderNodeContent(i.element)];case 6:_.sent(),c=0,u=i.nonInlineLevel,_.label=7;case 7:return c<u.length?(L=u[c],[4,this.renderNode(L)]):[3,10];case 8:_.sent(),_.label=9;case 9:return c++,[3,7];case 10:C=0,m=i.nonPositionedFloats,_.label=11;case 11:return C<m.length?(L=m[C],[4,this.renderStack(L)]):[3,14];case 12:_.sent(),_.label=13;case 13:return C++,[3,11];case 14:v=0,x=i.nonPositionedInlineLevel,_.label=15;case 15:return v<x.length?(L=x[v],[4,this.renderStack(L)]):[3,18];case 16:_.sent(),_.label=17;case 17:return v++,[3,15];case 18:G=0,B=i.inlineLevel,_.label=19;case 19:return G<B.length?(L=B[G],[4,this.renderNode(L)]):[3,22];case 20:_.sent(),_.label=21;case 21:return G++,[3,19];case 22:R=0,V=i.zeroOrAutoZIndexOrTransformedOrOpacity,_.label=23;case 23:return R<V.length?(L=V[R],[4,this.renderStack(L)]):[3,26];case 24:_.sent(),_.label=25;case 25:return R++,[3,23];case 26:H=0,M=i.positiveZIndex,_.label=27;case 27:return H<M.length?(L=M[H],[4,this.renderStack(L)]):[3,30];case 28:_.sent(),_.label=29;case 29:return H++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(i){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(i.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(i){this.ctx.beginPath(),this.formatPath(i),this.ctx.closePath()},t.prototype.formatPath=function(i){var o=this;i.forEach(function(s,c){var u=Rl(s)?s.start:s;c===0?o.ctx.moveTo(u.x,u.y):o.ctx.lineTo(u.x,u.y),Rl(s)&&o.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(i,o,s,c){this.path(i),this.ctx.fillStyle=o,this.ctx.translate(s,c),this.ctx.fill(),this.ctx.translate(-s,-c)},t.prototype.resizeImage=function(i,o,s){var c;if(i.width===o&&i.height===s)return i;var u=(c=this.canvas.ownerDocument)!==null&&c!==void 0?c:document,C=u.createElement("canvas");C.width=Math.max(1,o),C.height=Math.max(1,s);var m=C.getContext("2d");return m.drawImage(i,0,0,i.width,i.height,0,0,o,s),C},t.prototype.renderBackgroundImage=function(i){return Ps(this,void 0,void 0,function(){var o,s,c,u,C,m;return Ns(this,function(v){switch(v.label){case 0:o=i.styles.backgroundImage.length-1,s=function(x){var G,B,R,ce,ye,ve,be,Ie,O,V,ce,ye,ve,be,Ie,H,M,L,_,X,Q,j,re,P,O,de,ce,ne,oe,be,Ie,Re,ye,ve,fe,Ge,De,Pe,me,_e,pe,Ee;return Ns(this,function(We){switch(We.label){case 0:if(x.type!==0)return[3,5];G=void 0,B=x.url,We.label=1;case 1:return We.trys.push([1,3,,4]),[4,c.context.cache.match(B)];case 2:return G=We.sent(),[3,4];case 3:return We.sent(),c.context.logger.error("Error loading background-image "+B),[3,4];case 4:return G&&(R=zS(i,o,[G.width,G.height,G.width/G.height]),ce=R[0],ye=R[1],ve=R[2],be=R[3],Ie=R[4],O=c.ctx.createPattern(c.resizeImage(G,be,Ie),"repeat"),c.renderRepeat(ce,O,ye,ve)),[3,6];case 5:p9e(x)?(V=zS(i,o,[null,null,null]),ce=V[0],ye=V[1],ve=V[2],be=V[3],Ie=V[4],H=d9e(x.angle,be,Ie),M=H[0],L=H[1],_=H[2],X=H[3],Q=H[4],j=document.createElement("canvas"),j.width=be,j.height=Ie,re=j.getContext("2d"),P=re.createLinearGradient(L,X,_,Q),aY(x.stops,M).forEach(function(Ue){return P.addColorStop(Ue.stop,Po(Ue.color))}),re.fillStyle=P,re.fillRect(0,0,be,Ie),be>0&&Ie>0&&(O=c.ctx.createPattern(j,"repeat"),c.renderRepeat(ce,O,ye,ve))):C9e(x)&&(de=zS(i,o,[null,null,null]),ce=de[0],ne=de[1],oe=de[2],be=de[3],Ie=de[4],Re=x.position.length===0?[y_]:x.position,ye=Ar(Re[0],be),ve=Ar(Re[Re.length-1],Ie),fe=A9e(x,ye,ve,be,Ie),Ge=fe[0],De=fe[1],Ge>0&&De>0&&(Pe=c.ctx.createRadialGradient(ne+ye,oe+ve,0,ne+ye,oe+ve,Ge),aY(x.stops,Ge*2).forEach(function(Ue){return Pe.addColorStop(Ue.stop,Po(Ue.color))}),c.path(ce),c.ctx.fillStyle=Pe,Ge!==De?(me=i.bounds.left+.5*i.bounds.width,_e=i.bounds.top+.5*i.bounds.height,pe=De/Ge,Ee=1/pe,c.ctx.save(),c.ctx.translate(me,_e),c.ctx.transform(1,0,0,pe,0,0),c.ctx.translate(-me,-_e),c.ctx.fillRect(ne,Ee*(oe-_e)+_e,be,Ie*Ee),c.ctx.restore()):c.ctx.fill())),We.label=6;case 6:return o--,[2]}})},c=this,u=0,C=i.styles.backgroundImage.slice(0).reverse(),v.label=1;case 1:return u<C.length?(m=C[u],[5,s(m)]):[3,4];case 2:v.sent(),v.label=3;case 3:return u++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(i,o,s){return Ps(this,void 0,void 0,function(){return Ns(this,function(c){return this.path(DY(s,o)),this.ctx.fillStyle=Po(i),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(i,o,s,c){return Ps(this,void 0,void 0,function(){var u,C;return Ns(this,function(m){switch(m.label){case 0:return o<3?[4,this.renderSolidBorder(i,s,c)]:[3,2];case 1:return m.sent(),[2];case 2:return u=bPe(c,s),this.path(u),this.ctx.fillStyle=Po(i),this.ctx.fill(),C=yPe(c,s),this.path(C),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(i){return Ps(this,void 0,void 0,function(){var o,s,c,u,C,m,v,x,G=this;return Ns(this,function(B){switch(B.label){case 0:return this.applyEffects(i.getEffects(2)),o=i.container.styles,s=!UA(o.backgroundColor)||o.backgroundImage.length,c=[{style:o.borderTopStyle,color:o.borderTopColor,width:o.borderTopWidth},{style:o.borderRightStyle,color:o.borderRightColor,width:o.borderRightWidth},{style:o.borderBottomStyle,color:o.borderBottomColor,width:o.borderBottomWidth},{style:o.borderLeftStyle,color:o.borderLeftColor,width:o.borderLeftWidth}],u=_Pe(ip(o.backgroundClip,0),i.curves),s||o.boxShadow.length?(this.ctx.save(),this.path(u),this.ctx.clip(),UA(o.backgroundColor)||(this.ctx.fillStyle=Po(o.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(i.container)]):[3,2];case 1:B.sent(),this.ctx.restore(),o.boxShadow.slice(0).reverse().forEach(function(R){G.ctx.save();var V=mk(i.curves),H=R.inset?0:GPe,M=fPe(V,-H+(R.inset?1:-1)*R.spread.number,(R.inset?1:-1)*R.spread.number,R.spread.number*(R.inset?-2:2),R.spread.number*(R.inset?-2:2));R.inset?(G.path(V),G.ctx.clip(),G.mask(M)):(G.mask(V),G.ctx.clip(),G.path(M)),G.ctx.shadowOffsetX=R.offsetX.number+H,G.ctx.shadowOffsetY=R.offsetY.number,G.ctx.shadowColor=Po(R.color),G.ctx.shadowBlur=R.blur.number,G.ctx.fillStyle=R.inset?Po(R.color):"rgba(0,0,0,1)",G.ctx.fill(),G.ctx.restore()}),B.label=2;case 2:C=0,m=0,v=c,B.label=3;case 3:return m<v.length?(x=v[m],x.style!==0&&!UA(x.color)&&x.width>0?x.style!==2?[3,5]:[4,this.renderDashedDottedBorder(x.color,x.width,C,i.curves,2)]:[3,11]):[3,13];case 4:return B.sent(),[3,11];case 5:return x.style!==3?[3,7]:[4,this.renderDashedDottedBorder(x.color,x.width,C,i.curves,3)];case 6:return B.sent(),[3,11];case 7:return x.style!==4?[3,9]:[4,this.renderDoubleBorder(x.color,x.width,C,i.curves)];case 8:return B.sent(),[3,11];case 9:return[4,this.renderSolidBorder(x.color,C,i.curves)];case 10:B.sent(),B.label=11;case 11:C++,B.label=12;case 12:return m++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(i,o,s,c,u){return Ps(this,void 0,void 0,function(){var C,m,v,x,G,B,R,V,H,M,L,_,X,Q,j,re,j,re;return Ns(this,function(P){return this.ctx.save(),C=vPe(c,s),m=DY(c,s),u===2&&(this.path(m),this.ctx.clip()),Rl(m[0])?(v=m[0].start.x,x=m[0].start.y):(v=m[0].x,x=m[0].y),Rl(m[1])?(G=m[1].end.x,B=m[1].end.y):(G=m[1].x,B=m[1].y),s===0||s===2?R=Math.abs(v-G):R=Math.abs(x-B),this.ctx.beginPath(),u===3?this.formatPath(C):this.formatPath(m.slice(0,2)),V=o<3?o*3:o*2,H=o<3?o*2:o,u===3&&(V=o,H=o),M=!0,R<=V*2?M=!1:R<=V*2+H?(L=R/(2*V+H),V*=L,H*=L):(_=Math.floor((R+H)/(V+H)),X=(R-_*V)/(_-1),Q=(R-(_+1)*V)/_,H=Q<=0||Math.abs(H-X)<Math.abs(H-Q)?X:Q),M&&(u===3?this.ctx.setLineDash([0,V+H]):this.ctx.setLineDash([V,H])),u===3?(this.ctx.lineCap="round",this.ctx.lineWidth=o):this.ctx.lineWidth=o*2+1.1,this.ctx.strokeStyle=Po(i),this.ctx.stroke(),this.ctx.setLineDash([]),u===2&&(Rl(m[0])&&(j=m[3],re=m[0],this.ctx.beginPath(),this.formatPath([new gn(j.end.x,j.end.y),new gn(re.start.x,re.start.y)]),this.ctx.stroke()),Rl(m[1])&&(j=m[1],re=m[2],this.ctx.beginPath(),this.formatPath([new gn(j.end.x,j.end.y),new gn(re.start.x,re.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(i){return Ps(this,void 0,void 0,function(){var o;return Ns(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Po(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),o=IPe(i),[4,this.renderStack(o)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(oO),NPe=function(e){return e instanceof Mj||e instanceof Xj?!0:e instanceof B_&&e.type!==Ak&&e.type!==dk},_Pe=function(e,t){switch(e){case 0:return mk(t);case 2:return uPe(t);case 1:default:return pk(t)}},VPe=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},EPe=["-apple-system","system-ui"],FPe=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return EPe.indexOf(t)===-1}):e},WPe=function(e){_c(t,e);function t(i,o){var s=e.call(this,i,o)||this;return s.canvas=o.canvas?o.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=o,s.canvas.width=Math.floor(o.width*o.scale),s.canvas.height=Math.floor(o.height*o.scale),s.canvas.style.width=o.width+"px",s.canvas.style.height=o.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-o.x,-o.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+o.width+"x"+o.height+" at "+o.x+","+o.y+") with scale "+o.scale),s}return t.prototype.render=function(i){return Ps(this,void 0,void 0,function(){var o,s;return Ns(this,function(c){switch(c.label){case 0:return o=kG(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,i),[4,HPe(o)];case 1:return s=c.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Po(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(oO),HPe=function(e){return new Promise(function(t,i){var o=new Image;o.onload=function(){t(o)},o.onerror=i,o.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},DPe=function(){function e(t){var i=t.id,o=t.enabled;this.id=i,this.enabled=o,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Oy([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Oy([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Oy([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Oy([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),TPe=function(){function e(t,i){var o;this.windowBounds=i,this.instanceName="#"+e.instanceCount++,this.logger=new DPe({id:this.instanceName,enabled:t.logging}),this.cache=(o=t.cache)!==null&&o!==void 0?o:new oPe(this,t)}return e.instanceCount=1,e}(),sO=function(e,t){return t===void 0&&(t={}),LPe(e,t)};typeof window<"u"&&$j.setContext(window);var LPe=function(e,t){return Ps(void 0,void 0,void 0,function(){var i,o,s,c,u,C,m,v,x,G,B,R,V,H,M,L,_,X,Q,j,P,re,P,O,de,ce,ne,oe,be,Ie,Re,ye,ve,fe,Ge,De,Pe,me,_e,pe;return Ns(this,function(Ee){switch(Ee.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(i=e.ownerDocument,!i)throw new Error("Element is not attached to a Document");if(o=i.defaultView,!o)throw new Error("Document is not attached to a Window");return s={allowTaint:(O=t.allowTaint)!==null&&O!==void 0?O:!1,imageTimeout:(de=t.imageTimeout)!==null&&de!==void 0?de:15e3,proxy:t.proxy,useCORS:(ce=t.useCORS)!==null&&ce!==void 0?ce:!1},c=cG({logging:(ne=t.logging)!==null&&ne!==void 0?ne:!0,cache:t.cache},s),u={windowWidth:(oe=t.windowWidth)!==null&&oe!==void 0?oe:o.innerWidth,windowHeight:(be=t.windowHeight)!==null&&be!==void 0?be:o.innerHeight,scrollX:(Ie=t.scrollX)!==null&&Ie!==void 0?Ie:o.pageXOffset,scrollY:(Re=t.scrollY)!==null&&Re!==void 0?Re:o.pageYOffset},C=new Sd(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),m=new TPe(c,C),v=(ye=t.foreignObjectRendering)!==null&&ye!==void 0?ye:!1,x={allowTaint:(ve=t.allowTaint)!==null&&ve!==void 0?ve:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:v,copyStyles:v},m.logger.debug("Starting document clone with size "+C.width+"x"+C.height+" scrolled to "+-C.left+","+-C.top),G=new FY(m,e,x),B=G.clonedReferenceElement,B?[4,G.toIFrame(i,C)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return R=Ee.sent(),V=x_(B)||MUe(B)?fMe(B.ownerDocument):C2(m,B),H=V.width,M=V.height,L=V.left,_=V.top,X=XPe(m,B,t.backgroundColor),Q={canvas:t.canvas,backgroundColor:X,scale:(Ge=(fe=t.scale)!==null&&fe!==void 0?fe:o.devicePixelRatio)!==null&&Ge!==void 0?Ge:1,x:((De=t.x)!==null&&De!==void 0?De:0)+L,y:((Pe=t.y)!==null&&Pe!==void 0?Pe:0)+_,width:(me=t.width)!==null&&me!==void 0?me:Math.ceil(H),height:(_e=t.height)!==null&&_e!==void 0?_e:Math.ceil(M)},v?(m.logger.debug("Document cloned, using foreign object rendering"),P=new WPe(m,Q),[4,P.render(B)]):[3,3];case 2:return j=Ee.sent(),[3,5];case 3:return m.logger.debug("Document cloned, element located at "+L+","+_+" with size "+H+"x"+M+" using computed rendering"),m.logger.debug("Starting DOM parsing"),re=Uj(m,B),X===re.styles.backgroundColor&&(re.styles.backgroundColor=Id.TRANSPARENT),m.logger.debug("Starting renderer for element at "+Q.x+","+Q.y+" with size "+Q.width+"x"+Q.height),P=new RPe(m,Q),[4,P.render(re)];case 4:j=Ee.sent(),Ee.label=5;case 5:return(!((pe=t.removeContainer)!==null&&pe!==void 0)||pe)&&(FY.destroy(R)||m.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),m.logger.debug("Finished rendering"),[2,j]}})})},XPe=function(e,t,i){var o=t.ownerDocument,s=o.documentElement?ZI(e,getComputedStyle(o.documentElement).backgroundColor):Id.TRANSPARENT,c=o.body?ZI(e,getComputedStyle(o.body).backgroundColor):Id.TRANSPARENT,u=typeof i=="string"?ZI(e,i):i===null?Id.TRANSPARENT:4294967295;return t===o.documentElement?UA(s)?UA(c)?u:c:s:u};const MPe=Object.freeze(Object.defineProperty({__proto__:null,default:sO},Symbol.toStringTag,{value:"Module"})),YPe="modulepreload",JPe=function(e){return"/"+e},LY={},NG=function(t,i,o){let s=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.all(i.map(C=>{if(C=JPe(C),C in LY)return;LY[C]=!0;const m=C.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${C}"]${v}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":YPe,m||(x.as="script",x.crossOrigin=""),x.href=C,u&&x.setAttribute("nonce",u),document.head.appendChild(x),m)return new Promise((G,B)=>{x.addEventListener("load",G),x.addEventListener("error",()=>B(new Error(`Unable to preload CSS for ${C}`)))})}))}return s.then(()=>t()).catch(c=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c})};var fa=Uint8Array,Qs=Uint16Array,wb=Uint32Array,S2=new fa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Z2=new fa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_G=new fa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aO=function(e,t){for(var i=new Qs(31),o=0;o<31;++o)i[o]=t+=1<<e[o-1];for(var s=new wb(i[30]),o=1;o<30;++o)for(var c=i[o];c<i[o+1];++c)s[c]=c-i[o]<<5|o;return[i,s]},lO=aO(S2,2),cO=lO[0],VG=lO[1];cO[28]=258,VG[258]=28;var gO=aO(Z2,0),UPe=gO[0],XY=gO[1],EG=new Qs(32768);for(var br=0;br<32768;++br){var cA=(br&43690)>>>1|(br&21845)<<1;cA=(cA&52428)>>>2|(cA&13107)<<2,cA=(cA&61680)>>>4|(cA&3855)<<4,EG[br]=((cA&65280)>>>8|(cA&255)<<8)>>>1}var Ig=function(e,t,i){for(var o=e.length,s=0,c=new Qs(t);s<o;++s)++c[e[s]-1];var u=new Qs(t);for(s=0;s<t;++s)u[s]=u[s-1]+c[s-1]<<1;var C;if(i){C=new Qs(1<<t);var m=15-t;for(s=0;s<o;++s)if(e[s])for(var v=s<<4|e[s],x=t-e[s],G=u[e[s]-1]++<<x,B=G|(1<<x)-1;G<=B;++G)C[EG[G]>>>m]=v}else for(C=new Qs(o),s=0;s<o;++s)C[s]=EG[u[e[s]-1]++]>>>15-e[s];return C},OA=new fa(288);for(var br=0;br<144;++br)OA[br]=8;for(var br=144;br<256;++br)OA[br]=9;for(var br=256;br<280;++br)OA[br]=7;for(var br=280;br<288;++br)OA[br]=8;var kb=new fa(32);for(var br=0;br<32;++br)kb[br]=5;var PPe=Ig(OA,9,0),KPe=Ig(OA,9,1),zPe=Ig(kb,5,0),QPe=Ig(kb,5,1),QS=function(e){for(var t=e[0],i=1;i<e.length;++i)e[i]>t&&(t=e[i]);return t},Ac=function(e,t,i){var o=t/8>>0;return(e[o]|e[o+1]<<8)>>>(t&7)&i},jS=function(e,t){var i=t/8>>0;return(e[i]|e[i+1]<<8|e[i+2]<<16)>>>(t&7)},S_=function(e){return(e/8>>0)+(e&7&&1)},dO=function(e,t,i){(i==null||i>e.length)&&(i=e.length);var o=new(e instanceof Qs?Qs:e instanceof wb?wb:fa)(i-t);return o.set(e.subarray(t,i)),o},jPe=function(e,t,i){var o=e.length,s=!t||i,c=!i||i.i;i||(i={}),t||(t=new fa(o*3));var u=function(We){var Ue=t.length;if(We>Ue){var je=new fa(Math.max(Ue*2,We));je.set(t),t=je}},C=i.f||0,m=i.p||0,v=i.b||0,x=i.l,G=i.d,B=i.m,R=i.n,V=o*8;do{if(!x){i.f=C=Ac(e,m,1);var H=Ac(e,m+1,3);if(m+=3,H)if(H==1)x=KPe,G=QPe,B=9,R=5;else if(H==2){var X=Ac(e,m,31)+257,Q=Ac(e,m+10,15)+4,j=X+Ac(e,m+5,31)+1;m+=14;for(var re=new fa(j),P=new fa(19),O=0;O<Q;++O)P[_G[O]]=Ac(e,m+O*3,7);m+=Q*3;var de=QS(P),ce=(1<<de)-1;if(!c&&m+j*(de+7)>V)break;for(var ne=Ig(P,de,1),O=0;O<j;){var oe=ne[Ac(e,m,ce)];m+=oe&15;var M=oe>>>4;if(M<16)re[O++]=M;else{var be=0,Ie=0;for(M==16?(Ie=3+Ac(e,m,3),m+=2,be=re[O-1]):M==17?(Ie=3+Ac(e,m,7),m+=3):M==18&&(Ie=11+Ac(e,m,127),m+=7);Ie--;)re[O++]=be}}var Re=re.subarray(0,X),ye=re.subarray(X);B=QS(Re),R=QS(ye),x=Ig(Re,B,1),G=Ig(ye,R,1)}else throw"invalid block type";else{var M=S_(m)+4,L=e[M-4]|e[M-3]<<8,_=M+L;if(_>o){if(c)throw"unexpected EOF";break}s&&u(v+L),t.set(e.subarray(M,_),v),i.b=v+=L,i.p=m=_*8;continue}if(m>V)throw"unexpected EOF"}s&&u(v+131072);for(var ve=(1<<B)-1,fe=(1<<R)-1,Ge=B+R+18;c||m+Ge<V;){var be=x[jS(e,m)&ve],De=be>>>4;if(m+=be&15,m>V)throw"unexpected EOF";if(!be)throw"invalid length/literal";if(De<256)t[v++]=De;else if(De==256){x=null;break}else{var Pe=De-254;if(De>264){var O=De-257,me=S2[O];Pe=Ac(e,m,(1<<me)-1)+cO[O],m+=me}var _e=G[jS(e,m)&fe],pe=_e>>>4;if(!_e)throw"invalid distance";m+=_e&15;var ye=UPe[pe];if(pe>3){var me=Z2[pe];ye+=jS(e,m)&(1<<me)-1,m+=me}if(m>V)throw"unexpected EOF";s&&u(v+131072);for(var Ee=v+Pe;v<Ee;v+=4)t[v]=t[v-ye],t[v+1]=t[v+1-ye],t[v+2]=t[v+2-ye],t[v+3]=t[v+3-ye];v=Ee}}i.l=x,i.p=m,i.b=v,x&&(C=1,i.m=B,i.d=G,i.n=R)}while(!C);return v==t.length?t:dO(t,0,v)},rd=function(e,t,i){i<<=t&7;var o=t/8>>0;e[o]|=i,e[o+1]|=i>>>8},Lf=function(e,t,i){i<<=t&7;var o=t/8>>0;e[o]|=i,e[o+1]|=i>>>8,e[o+2]|=i>>>16},OS=function(e,t){for(var i=[],o=0;o<e.length;++o)e[o]&&i.push({s:o,f:e[o]});var s=i.length,c=i.slice();if(!s)return[new fa(0),0];if(s==1){var u=new fa(i[0].s+1);return u[i[0].s]=1,[u,1]}i.sort(function(j,re){return j.f-re.f}),i.push({s:-1,f:25001});var C=i[0],m=i[1],v=0,x=1,G=2;for(i[0]={s:-1,f:C.f+m.f,l:C,r:m};x!=s-1;)C=i[i[v].f<i[G].f?v++:G++],m=i[v!=x&&i[v].f<i[G].f?v++:G++],i[x++]={s:-1,f:C.f+m.f,l:C,r:m};for(var B=c[0].s,o=1;o<s;++o)c[o].s>B&&(B=c[o].s);var R=new Qs(B+1),V=FG(i[x-1],R,0);if(V>t){var o=0,H=0,M=V-t,L=1<<M;for(c.sort(function(re,P){return R[P.s]-R[re.s]||re.f-P.f});o<s;++o){var _=c[o].s;if(R[_]>t)H+=L-(1<<V-R[_]),R[_]=t;else break}for(H>>>=M;H>0;){var X=c[o].s;R[X]<t?H-=1<<t-R[X]++-1:++o}for(;o>=0&&H;--o){var Q=c[o].s;R[Q]==t&&(--R[Q],++H)}V=t}return[new fa(R),V]},FG=function(e,t,i){return e.s==-1?Math.max(FG(e.l,t,i+1),FG(e.r,t,i+1)):t[e.s]=i},MY=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new Qs(++t),o=0,s=e[0],c=1,u=function(m){i[o++]=m},C=1;C<=t;++C)if(e[C]==s&&C!=t)++c;else{if(!s&&c>2){for(;c>138;c-=138)u(32754);c>2&&(u(c>10?c-11<<5|28690:c-3<<5|12305),c=0)}else if(c>3){for(u(s),--c;c>6;c-=6)u(8304);c>2&&(u(c-3<<5|8208),c=0)}for(;c--;)u(s);c=1,s=e[C]}return[i.subarray(0,o),t]},Xf=function(e,t){for(var i=0,o=0;o<t.length;++o)i+=e[o]*t[o];return i},WG=function(e,t,i){var o=i.length,s=S_(t+2);e[s]=o&255,e[s+1]=o>>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var c=0;c<o;++c)e[s+c+4]=i[c];return(s+4+o)*8},YY=function(e,t,i,o,s,c,u,C,m,v,x){rd(t,x++,i),++s[256];for(var G=OS(s,15),B=G[0],R=G[1],V=OS(c,15),H=V[0],M=V[1],L=MY(B),_=L[0],X=L[1],Q=MY(H),j=Q[0],re=Q[1],P=new Qs(19),O=0;O<_.length;++O)P[_[O]&31]++;for(var O=0;O<j.length;++O)P[j[O]&31]++;for(var de=OS(P,7),ce=de[0],ne=de[1],oe=19;oe>4&&!ce[_G[oe-1]];--oe);var be=v+5<<3,Ie=Xf(s,OA)+Xf(c,kb)+u,Re=Xf(s,B)+Xf(c,H)+u+14+3*oe+Xf(P,ce)+(2*P[16]+3*P[17]+7*P[18]);if(be<=Ie&&be<=Re)return WG(t,x,e.subarray(m,m+v));var ye,ve,fe,Ge;if(rd(t,x,1+(Re<Ie)),x+=2,Re<Ie){ye=Ig(B,R,0),ve=B,fe=Ig(H,M,0),Ge=H;var De=Ig(ce,ne,0);rd(t,x,X-257),rd(t,x+5,re-1),rd(t,x+10,oe-4),x+=14;for(var O=0;O<oe;++O)rd(t,x+3*O,ce[_G[O]]);x+=3*oe;for(var Pe=[_,j],me=0;me<2;++me)for(var _e=Pe[me],O=0;O<_e.length;++O){var pe=_e[O]&31;rd(t,x,De[pe]),x+=ce[pe],pe>15&&(rd(t,x,_e[O]>>>5&127),x+=_e[O]>>>12)}}else ye=PPe,ve=OA,fe=zPe,Ge=kb;for(var O=0;O<C;++O)if(o[O]>255){var pe=o[O]>>>18&31;Lf(t,x,ye[pe+257]),x+=ve[pe+257],pe>7&&(rd(t,x,o[O]>>>23&31),x+=S2[pe]);var Ee=o[O]&31;Lf(t,x,fe[Ee]),x+=Ge[Ee],Ee>3&&(Lf(t,x,o[O]>>>5&8191),x+=Z2[Ee])}else Lf(t,x,ye[o[O]]),x+=ve[o[O]];return Lf(t,x,ye[256]),x+ve[256]},OPe=new wb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qPe=function(e,t,i,o,s,c){var u=e.length,C=new fa(o+u+5*(1+Math.floor(u/7e3))+s),m=C.subarray(o,C.length-s),v=0;if(!t||u<8)for(var x=0;x<=u;x+=65535){var G=x+65535;G<u?v=WG(m,v,e.subarray(x,G)):(m[x]=c,v=WG(m,v,e.subarray(x,u)))}else{for(var B=OPe[t-1],R=B>>>13,V=B&8191,H=(1<<i)-1,M=new Qs(32768),L=new Qs(H+1),_=Math.ceil(i/3),X=2*_,Q=function(Ht){return(e[Ht]^e[Ht+1]<<_^e[Ht+2]<<X)&H},j=new wb(25e3),re=new Qs(288),P=new Qs(32),O=0,de=0,x=0,ce=0,ne=0,oe=0;x<u;++x){var be=Q(x),Ie=x&32767,Re=L[be];if(M[Ie]=Re,L[be]=Ie,ne<=x){var ye=u-x;if((O>7e3||ce>24576)&&ye>423){v=YY(e,m,0,j,re,P,de,ce,oe,x-oe,v),ce=O=de=0,oe=x;for(var ve=0;ve<286;++ve)re[ve]=0;for(var ve=0;ve<30;++ve)P[ve]=0}var fe=2,Ge=0,De=V,Pe=Ie-Re&32767;if(ye>2&&be==Q(x-Pe))for(var me=Math.min(R,ye)-1,_e=Math.min(32767,x),pe=Math.min(258,ye);Pe<=_e&&--De&&Ie!=Re;){if(e[x+fe]==e[x+fe-Pe]){for(var Ee=0;Ee<pe&&e[x+Ee]==e[x+Ee-Pe];++Ee);if(Ee>fe){if(fe=Ee,Ge=Pe,Ee>me)break;for(var We=Math.min(Pe,Ee-2),Ue=0,ve=0;ve<We;++ve){var je=x-Pe+ve+32768&32767,qe=M[je],At=je-qe+32768&32767;At>Ue&&(Ue=At,Re=je)}}}Ie=Re,Re=M[Ie],Pe+=Ie-Re+32768&32767}if(Ge){j[ce++]=268435456|VG[fe]<<18|XY[Ge];var ct=VG[fe]&31,lt=XY[Ge]&31;de+=S2[ct]+Z2[lt],++re[257+ct],++P[lt],ne=x+fe,++O}else j[ce++]=e[x],++re[e[x]]}}v=YY(e,m,c,j,re,P,de,ce,oe,x-oe,v)}return dO(C,0,o+S_(v)+s)},$Pe=function(){var e=1,t=0;return{p:function(i){for(var o=e,s=t,c=i.length,u=0;u!=c;){for(var C=Math.min(u+5552,c);u<C;++u)o+=i[u],s+=o;o%=65521,s%=65521}e=o,t=s},d:function(){return(e>>>8<<16|(t&255)<<8|t>>>8)+((e&255)<<23)*2}}},eKe=function(e,t,i,o,s){return qPe(e,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+t.mem,i,o,!s)},tKe=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8},nKe=function(e,t){var i=t.level,o=i==0?0:i<6?1:i==9?3:2;e[0]=120,e[1]=o<<6|(o?32-2*o:1)},iKe=function(e){if((e[0]&15)!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(e[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function HG(e,t){t===void 0&&(t={});var i=$Pe();i.p(e);var o=eKe(e,t,2,4);return nKe(o,t),tKe(o,o.length-4,i.d()),o}function rKe(e,t){return jPe((iKe(e),e.subarray(2,-4)),t)}var Fn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function qS(){Fn.console&&typeof Fn.console.log=="function"&&Fn.console.log.apply(Fn.console,arguments)}var lr={log:qS,warn:function(e){Fn.console&&(typeof Fn.console.warn=="function"?Fn.console.warn.apply(Fn.console,arguments):qS.call(null,arguments))},error:function(e){Fn.console&&(typeof Fn.console.error=="function"?Fn.console.error.apply(Fn.console,arguments):qS(e))}};function $S(e,t,i){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){Ou(o.response,t,i)},o.onerror=function(){lr.error("could not download file")},o.send()}function JY(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function bv(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var _I,DG,Ou=Fn.saveAs||((typeof window>"u"?"undefined":Ni(window))!=="object"||window!==Fn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,i){var o=Fn.URL||Fn.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?JY(s.href)?$S(e,t,i):bv(s,s.target="_blank"):bv(s)):(s.href=o.createObjectURL(e),setTimeout(function(){o.revokeObjectURL(s.href)},4e4),setTimeout(function(){bv(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,i){if(t=t||e.name||"download",typeof e=="string")if(JY(e))$S(e,t,i);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout(function(){bv(o)})}else navigator.msSaveOrOpenBlob(function(s,c){return c===void 0?c={autoBom:!1}:Ni(c)!=="object"&&(lr.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(e,i),t)}:function(e,t,i,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),typeof e=="string")return $S(e,t,i);var s=e.type==="application/octet-stream",c=/constructor/i.test(Fn.HTMLElement)||Fn.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&c)&&(typeof FileReader>"u"?"undefined":Ni(FileReader))==="object"){var C=new FileReader;C.onloadend=function(){var x=C.result;x=u?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=x:location=x,o=null},C.readAsDataURL(e)}else{var m=Fn.URL||Fn.webkitURL,v=m.createObjectURL(e);o?o.location=v:location.href=v,o=null,setTimeout(function(){m.revokeObjectURL(v)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function AO(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var i=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(C){return[parseInt(C[1]),parseInt(C[2]),parseInt(C[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(C){return[parseInt(C[1],16),parseInt(C[2],16),parseInt(C[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(C){return[parseInt(C[1]+C[1],16),parseInt(C[2]+C[2],16),parseInt(C[3]+C[3],16)]}}],o=0;o<i.length;o++){var s=i[o].re,c=i[o].process,u=s.exec(e);u&&(t=c(u),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var C=this.r.toString(16),m=this.g.toString(16),v=this.b.toString(16);return C.length==1&&(C="0"+C),m.length==1&&(m="0"+m),v.length==1&&(v="0"+v),"#"+C+m+v}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function e5(e,t){var i=e[0],o=e[1],s=e[2],c=e[3];i=ks(i,o,s,c,t[0],7,-680876936),c=ks(c,i,o,s,t[1],12,-389564586),s=ks(s,c,i,o,t[2],17,606105819),o=ks(o,s,c,i,t[3],22,-1044525330),i=ks(i,o,s,c,t[4],7,-176418897),c=ks(c,i,o,s,t[5],12,1200080426),s=ks(s,c,i,o,t[6],17,-1473231341),o=ks(o,s,c,i,t[7],22,-45705983),i=ks(i,o,s,c,t[8],7,1770035416),c=ks(c,i,o,s,t[9],12,-1958414417),s=ks(s,c,i,o,t[10],17,-42063),o=ks(o,s,c,i,t[11],22,-1990404162),i=ks(i,o,s,c,t[12],7,1804603682),c=ks(c,i,o,s,t[13],12,-40341101),s=ks(s,c,i,o,t[14],17,-1502002290),i=Bs(i,o=ks(o,s,c,i,t[15],22,1236535329),s,c,t[1],5,-165796510),c=Bs(c,i,o,s,t[6],9,-1069501632),s=Bs(s,c,i,o,t[11],14,643717713),o=Bs(o,s,c,i,t[0],20,-373897302),i=Bs(i,o,s,c,t[5],5,-701558691),c=Bs(c,i,o,s,t[10],9,38016083),s=Bs(s,c,i,o,t[15],14,-660478335),o=Bs(o,s,c,i,t[4],20,-405537848),i=Bs(i,o,s,c,t[9],5,568446438),c=Bs(c,i,o,s,t[14],9,-1019803690),s=Bs(s,c,i,o,t[3],14,-187363961),o=Bs(o,s,c,i,t[8],20,1163531501),i=Bs(i,o,s,c,t[13],5,-1444681467),c=Bs(c,i,o,s,t[2],9,-51403784),s=Bs(s,c,i,o,t[7],14,1735328473),i=xs(i,o=Bs(o,s,c,i,t[12],20,-1926607734),s,c,t[5],4,-378558),c=xs(c,i,o,s,t[8],11,-2022574463),s=xs(s,c,i,o,t[11],16,1839030562),o=xs(o,s,c,i,t[14],23,-35309556),i=xs(i,o,s,c,t[1],4,-1530992060),c=xs(c,i,o,s,t[4],11,1272893353),s=xs(s,c,i,o,t[7],16,-155497632),o=xs(o,s,c,i,t[10],23,-1094730640),i=xs(i,o,s,c,t[13],4,681279174),c=xs(c,i,o,s,t[0],11,-358537222),s=xs(s,c,i,o,t[3],16,-722521979),o=xs(o,s,c,i,t[6],23,76029189),i=xs(i,o,s,c,t[9],4,-640364487),c=xs(c,i,o,s,t[12],11,-421815835),s=xs(s,c,i,o,t[15],16,530742520),i=Ss(i,o=xs(o,s,c,i,t[2],23,-995338651),s,c,t[0],6,-198630844),c=Ss(c,i,o,s,t[7],10,1126891415),s=Ss(s,c,i,o,t[14],15,-1416354905),o=Ss(o,s,c,i,t[5],21,-57434055),i=Ss(i,o,s,c,t[12],6,1700485571),c=Ss(c,i,o,s,t[3],10,-1894986606),s=Ss(s,c,i,o,t[10],15,-1051523),o=Ss(o,s,c,i,t[1],21,-2054922799),i=Ss(i,o,s,c,t[8],6,1873313359),c=Ss(c,i,o,s,t[15],10,-30611744),s=Ss(s,c,i,o,t[6],15,-1560198380),o=Ss(o,s,c,i,t[13],21,1309151649),i=Ss(i,o,s,c,t[4],6,-145523070),c=Ss(c,i,o,s,t[11],10,-1120210379),s=Ss(s,c,i,o,t[2],15,718787259),o=Ss(o,s,c,i,t[9],21,-343485551),e[0]=RA(i,e[0]),e[1]=RA(o,e[1]),e[2]=RA(s,e[2]),e[3]=RA(c,e[3])}function G2(e,t,i,o,s,c){return t=RA(RA(t,e),RA(o,c)),RA(t<<s|t>>>32-s,i)}function ks(e,t,i,o,s,c,u){return G2(t&i|~t&o,e,t,s,c,u)}function Bs(e,t,i,o,s,c,u){return G2(t&o|i&~o,e,t,s,c,u)}function xs(e,t,i,o,s,c,u){return G2(t^i^o,e,t,s,c,u)}function Ss(e,t,i,o,s,c,u){return G2(i^(t|~o),e,t,s,c,u)}function uO(e){var t,i=e.length,o=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)e5(o,oKe(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(e5(o,s),t=0;t<16;t++)s[t]=0;return s[14]=8*i,e5(o,s),o}function oKe(e){var t,i=[];for(t=0;t<64;t+=4)i[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return i}_I=Fn.atob.bind(Fn),DG=Fn.btoa.bind(Fn);var UY="0123456789abcdef".split("");function sKe(e){for(var t="",i=0;i<4;i++)t+=UY[e>>8*i+4&15]+UY[e>>8*i&15];return t}function aKe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function TG(e){return uO(e).map(aKe).join("")}var lKe=function(e){for(var t=0;t<e.length;t++)e[t]=sKe(e[t]);return e.join("")}(uO("hello"))!="5d41402abc4b2a76b9719d911017c592";function RA(e,t){if(lKe){var i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function LG(e,t){var i,o,s,c;if(e!==i){for(var u=(s=e,c=1+(256/e.length>>0),new Array(c+1).join(s)),C=[],m=0;m<256;m++)C[m]=m;var v=0;for(m=0;m<256;m++){var x=C[m];v=(v+x+u.charCodeAt(m))%256,C[m]=C[v],C[v]=x}i=e,o=C}else C=o;var G=t.length,B=0,R=0,V="";for(m=0;m<G;m++)R=(R+(x=C[B=(B+1)%256]))%256,C[B]=C[R],C[R]=x,u=C[(C[B]+C[R])%256],V+=String.fromCharCode(t.charCodeAt(m)^u);return V}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var PY={print:4,modify:8,copy:16,"annot-forms":32};function rp(e,t,i,o){this.v=1,this.r=2;var s=192;e.forEach(function(C){if(PY.perm!==void 0)throw new Error("Invalid permission: "+C);s+=PY[C]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var c=(t+this.padding).substr(0,32),u=(i+this.padding).substr(0,32);this.O=this.processOwnerPassword(c,u),this.P=-(1+(255^s)),this.encryptionKey=TG(c+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(o)).substr(0,5),this.U=LG(this.encryptionKey,this.padding)}function op(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",i=e.length,o=0;o<i;o++){var s=e.charCodeAt(o);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?t+="#"+("0"+s.toString(16)).slice(-2):t+=e[o]}return t}function KY(e){if(Ni(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(i,o,s){if(s=s||!1,typeof i!="string"||typeof o!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(i)||(t[i]={});var c=Math.random().toString(35);return t[i][c]=[o,!!s],c},this.unsubscribe=function(i){for(var o in t)if(t[o][i])return delete t[o][i],Object.keys(t[o]).length===0&&delete t[o],!0;return!1},this.publish=function(i){if(t.hasOwnProperty(i)){var o=Array.prototype.slice.call(arguments,1),s=[];for(var c in t[i]){var u=t[i][c];try{u[0].apply(e,o)}catch(C){Fn.console&&lr.error("jsPDF PubSub Error",C.message,C)}u[1]&&s.push(c)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Bb(e){if(!(this instanceof Bb))return new Bb(e);var t="opacity,stroke-opacity".split(",");for(var i in e)e.hasOwnProperty(i)&&t.indexOf(i)>=0&&(this[i]=e[i]);this.id="",this.objectNumber=-1}function hO(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function yA(e,t,i,o,s){if(!(this instanceof yA))return new yA(e,t,i,o,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=i,hO.call(this,o,s)}function sh(e,t,i,o,s){if(!(this instanceof sh))return new sh(e,t,i,o,s);this.boundingBox=e,this.xStep=t,this.yStep=i,this.stream="",this.cloneIndex=0,hO.call(this,o,s)}function _n(e){var t,i=typeof arguments[0]=="string"?arguments[0]:"p",o=arguments[1],s=arguments[2],c=arguments[3],u=[],C=1,m=16,v="S",x=null;Ni(e=e||{})==="object"&&(i=e.orientation,o=e.unit||o,s=e.format||s,c=e.compress||e.compressPdf||c,(x=e.encryption||null)!==null&&(x.userPassword=x.userPassword||"",x.ownerPassword=x.ownerPassword||"",x.userPermissions=x.userPermissions||[]),C=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(m=e.floatPrecision),v=e.defaultPathOperation||"S"),u=e.filters||(c===!0?["FlateEncode"]:u),o=o||"mm",i=(""+(i||"P")).toLowerCase();var G=e.putOnlyUsedFonts||!1,B={},R={internal:{},__private__:{}};R.__private__.PubSub=KY;var V="1.3",H=R.__private__.getPdfVersion=function(){return V};R.__private__.setPdfVersion=function($){V=$};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};R.__private__.getPageFormats=function(){return M};var L=R.__private__.getPageFormat=function($){return M[$]};s=s||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},X=_.COMPAT;function Q(){this.saveGraphicsState(),Ke(new yn(Dt,0,0,-Dt,0,Tc()*Dt).toString()+" cm"),this.setFontSize(this.getFontSize()/Dt),v="n",X=_.ADVANCED}function j(){this.restoreGraphicsState(),v="S",X=_.COMPAT}var re=R.__private__.combineFontStyleAndFontWeight=function($,Ve){if($=="bold"&&Ve=="normal"||$=="bold"&&Ve==400||$=="normal"&&Ve=="italic"||$=="bold"&&Ve=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Ve&&($=Ve==400||Ve==="normal"?$==="italic"?"italic":"normal":Ve!=700&&Ve!=="bold"||$!=="normal"?(Ve==700?"bold":Ve)+""+$:"bold"),$};R.advancedAPI=function($){var Ve=X===_.COMPAT;return Ve&&Q.call(this),typeof $!="function"||($(this),Ve&&j.call(this)),this},R.compatAPI=function($){var Ve=X===_.ADVANCED;return Ve&&j.call(this),typeof $!="function"||($(this),Ve&&Q.call(this)),this},R.isAdvancedAPI=function(){return X===_.ADVANCED};var P,O=function($){if(X!==_.ADVANCED)throw new Error($+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},de=R.roundToPrecision=R.__private__.roundToPrecision=function($,Ve){var ze=t||Ve;if(isNaN($)||isNaN(ze))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return $.toFixed(ze).replace(/0+$/,"")};P=R.hpf=R.__private__.hpf=typeof m=="number"?function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return de($,m)}:m==="smart"?function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return de($,$>-1&&$<1?16:5)}:function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.hpf");return de($,16)};var ce=R.f2=R.__private__.f2=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.f2");return de($,2)},ne=R.__private__.f3=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.f3");return de($,3)},oe=R.scale=R.__private__.scale=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.scale");return X===_.COMPAT?$*Dt:X===_.ADVANCED?$:void 0},be=function($){return X===_.COMPAT?Tc()-$:X===_.ADVANCED?$:void 0},Ie=function($){return oe(be($))};R.__private__.setPrecision=R.setPrecision=function($){typeof parseInt($,10)=="number"&&(t=parseInt($,10))};var Re,ye="00000000000000000000000000000000",ve=R.__private__.getFileId=function(){return ye},fe=R.__private__.setFileId=function($){return ye=$!==void 0&&/^[a-fA-F0-9]{32}$/.test($)?$.toUpperCase():ye.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),x!==null&&(jn=new rp(x.userPermissions,x.userPassword,x.ownerPassword,ye)),ye};R.setFileId=function($){return fe($),this},R.getFileId=function(){return ve()};var Ge=R.__private__.convertDateToPDFDate=function($){var Ve=$.getTimezoneOffset(),ze=Ve<0?"+":"-",et=Math.floor(Math.abs(Ve/60)),gt=Math.abs(Ve%60),Rt=[ze,pe(et),"'",pe(gt),"'"].join("");return["D:",$.getFullYear(),pe($.getMonth()+1),pe($.getDate()),pe($.getHours()),pe($.getMinutes()),pe($.getSeconds()),Rt].join("")},De=R.__private__.convertPDFDateToDate=function($){var Ve=parseInt($.substr(2,4),10),ze=parseInt($.substr(6,2),10)-1,et=parseInt($.substr(8,2),10),gt=parseInt($.substr(10,2),10),Rt=parseInt($.substr(12,2),10),zt=parseInt($.substr(14,2),10);return new Date(Ve,ze,et,gt,Rt,zt,0)},Pe=R.__private__.setCreationDate=function($){var Ve;if($===void 0&&($=new Date),$ instanceof Date)Ve=Ge($);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test($))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Ve=$}return Re=Ve},me=R.__private__.getCreationDate=function($){var Ve=Re;return $==="jsDate"&&(Ve=De(Re)),Ve};R.setCreationDate=function($){return Pe($),this},R.getCreationDate=function($){return me($)};var _e,pe=R.__private__.padd2=function($){return("0"+parseInt($)).slice(-2)},Ee=R.__private__.padd2Hex=function($){return("00"+($=$.toString())).substr($.length)},We=0,Ue=[],je=[],qe=0,At=[],ct=[],lt=!1,at=je,Ht=function(){We=0,qe=0,je=[],Ue=[],At=[],es=qi(),So=qi()};R.__private__.setCustomOutputDestination=function($){lt=!0,at=$};var st=function($){lt||(at=$)};R.__private__.resetCustomOutputDestination=function(){lt=!1,at=je};var Ke=R.__private__.out=function($){return $=$.toString(),qe+=$.length+1,at.push($),at},Vt=R.__private__.write=function($){return Ke(arguments.length===1?$.toString():Array.prototype.join.call(arguments," "))},Yt=R.__private__.getArrayBuffer=function($){for(var Ve=$.length,ze=new ArrayBuffer(Ve),et=new Uint8Array(ze);Ve--;)et[Ve]=$.charCodeAt(Ve);return ze},It=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];R.__private__.getStandardFonts=function(){return It};var bt=e.fontSize||16;R.__private__.setFontSize=R.setFontSize=function($){return bt=X===_.ADVANCED?$/Dt:$,this};var yt,kt=R.__private__.getFontSize=R.getFontSize=function(){return X===_.COMPAT?bt:bt*Dt},Jt=e.R2L||!1;R.__private__.setR2L=R.setR2L=function($){return Jt=$,this},R.__private__.getR2L=R.getR2L=function(){return Jt};var tn,An=R.__private__.setZoomMode=function($){var Ve=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test($))yt=$;else if(isNaN($)){if(Ve.indexOf($)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+$+'" is not recognized.');yt=$}else yt=parseInt($,10)};R.__private__.getZoomMode=function(){return yt};var dn,Bn=R.__private__.setPageMode=function($){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf($)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+$+'" is not recognized.');tn=$};R.__private__.getPageMode=function(){return tn};var wt=R.__private__.setLayoutMode=function($){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf($)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+$+'" is not recognized.');dn=$};R.__private__.getLayoutMode=function(){return dn},R.__private__.setDisplayMode=R.setDisplayMode=function($,Ve,ze){return An($),wt(Ve),Bn(ze),this};var St={title:"",subject:"",author:"",keywords:"",creator:""};R.__private__.getDocumentProperty=function($){if(Object.keys(St).indexOf($)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return St[$]},R.__private__.getDocumentProperties=function(){return St},R.__private__.setDocumentProperties=R.setProperties=R.setDocumentProperties=function($){for(var Ve in St)St.hasOwnProperty(Ve)&&$[Ve]&&(St[Ve]=$[Ve]);return this},R.__private__.setDocumentProperty=function($,Ve){if(Object.keys(St).indexOf($)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return St[$]=Ve};var Wt,Dt,Zt,Ct,Kt,en={},Qt={},xn=[],Gn={},ci={},Qn={},rr={},Lr=null,fi=0,Sn=[],Kn=new KY(R),qo=e.hotfixes||[],qn={},To={},Xr=[],yn=function $(Ve,ze,et,gt,Rt,zt){if(!(this instanceof $))return new $(Ve,ze,et,gt,Rt,zt);isNaN(Ve)&&(Ve=1),isNaN(ze)&&(ze=0),isNaN(et)&&(et=0),isNaN(gt)&&(gt=1),isNaN(Rt)&&(Rt=0),isNaN(zt)&&(zt=0),this._matrix=[Ve,ze,et,gt,Rt,zt]};Object.defineProperty(yn.prototype,"sx",{get:function(){return this._matrix[0]},set:function($){this._matrix[0]=$}}),Object.defineProperty(yn.prototype,"shy",{get:function(){return this._matrix[1]},set:function($){this._matrix[1]=$}}),Object.defineProperty(yn.prototype,"shx",{get:function(){return this._matrix[2]},set:function($){this._matrix[2]=$}}),Object.defineProperty(yn.prototype,"sy",{get:function(){return this._matrix[3]},set:function($){this._matrix[3]=$}}),Object.defineProperty(yn.prototype,"tx",{get:function(){return this._matrix[4]},set:function($){this._matrix[4]=$}}),Object.defineProperty(yn.prototype,"ty",{get:function(){return this._matrix[5]},set:function($){this._matrix[5]=$}}),Object.defineProperty(yn.prototype,"a",{get:function(){return this._matrix[0]},set:function($){this._matrix[0]=$}}),Object.defineProperty(yn.prototype,"b",{get:function(){return this._matrix[1]},set:function($){this._matrix[1]=$}}),Object.defineProperty(yn.prototype,"c",{get:function(){return this._matrix[2]},set:function($){this._matrix[2]=$}}),Object.defineProperty(yn.prototype,"d",{get:function(){return this._matrix[3]},set:function($){this._matrix[3]=$}}),Object.defineProperty(yn.prototype,"e",{get:function(){return this._matrix[4]},set:function($){this._matrix[4]=$}}),Object.defineProperty(yn.prototype,"f",{get:function(){return this._matrix[5]},set:function($){this._matrix[5]=$}}),Object.defineProperty(yn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(yn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(yn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(yn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),yn.prototype.join=function($){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join($)},yn.prototype.multiply=function($){var Ve=$.sx*this.sx+$.shy*this.shx,ze=$.sx*this.shy+$.shy*this.sy,et=$.shx*this.sx+$.sy*this.shx,gt=$.shx*this.shy+$.sy*this.sy,Rt=$.tx*this.sx+$.ty*this.shx+this.tx,zt=$.tx*this.shy+$.ty*this.sy+this.ty;return new yn(Ve,ze,et,gt,Rt,zt)},yn.prototype.decompose=function(){var $=this.sx,Ve=this.shy,ze=this.shx,et=this.sy,gt=this.tx,Rt=this.ty,zt=Math.sqrt($*$+Ve*Ve),cn=($/=zt)*ze+(Ve/=zt)*et;ze-=$*cn,et-=Ve*cn;var vn=Math.sqrt(ze*ze+et*et);return cn/=vn,$*(et/=vn)<Ve*(ze/=vn)&&($=-$,Ve=-Ve,cn=-cn,zt=-zt),{scale:new yn(zt,0,0,vn,0,0),translate:new yn(1,0,0,1,gt,Rt),rotate:new yn($,Ve,-Ve,$,0,0),skew:new yn(1,0,cn,1,0,0)}},yn.prototype.toString=function($){return this.join(" ")},yn.prototype.inversed=function(){var $=this.sx,Ve=this.shy,ze=this.shx,et=this.sy,gt=this.tx,Rt=this.ty,zt=1/($*et-Ve*ze),cn=et*zt,vn=-Ve*zt,Wn=-ze*zt,Ln=$*zt;return new yn(cn,vn,Wn,Ln,-cn*gt-Wn*Rt,-vn*gt-Ln*Rt)},yn.prototype.applyToPoint=function($){var Ve=$.x*this.sx+$.y*this.shx+this.tx,ze=$.x*this.shy+$.y*this.sy+this.ty;return new Ng(Ve,ze)},yn.prototype.applyToRectangle=function($){var Ve=this.applyToPoint($),ze=this.applyToPoint(new Ng($.x+$.w,$.y+$.h));return new Hd(Ve.x,Ve.y,ze.x-Ve.x,ze.y-Ve.y)},yn.prototype.clone=function(){var $=this.sx,Ve=this.shy,ze=this.shx,et=this.sy,gt=this.tx,Rt=this.ty;return new yn($,Ve,ze,et,gt,Rt)},R.Matrix=yn;var $o=R.matrixMult=function($,Ve){return Ve.multiply($)},Cs=new yn(1,0,0,1,0,0);R.unitMatrix=R.identityMatrix=Cs;var fo=function($,Ve){if(!ci[$]){var ze=(Ve instanceof yA?"Sh":"P")+(Object.keys(Gn).length+1).toString(10);Ve.id=ze,ci[$]=ze,Gn[ze]=Ve,Kn.publish("addPattern",Ve)}};R.ShadingPattern=yA,R.TilingPattern=sh,R.addShadingPattern=function($,Ve){return O("addShadingPattern()"),fo($,Ve),this},R.beginTilingPattern=function($){O("beginTilingPattern()"),gu($.boundingBox[0],$.boundingBox[1],$.boundingBox[2]-$.boundingBox[0],$.boundingBox[3]-$.boundingBox[1],$.matrix)},R.endTilingPattern=function($,Ve){O("endTilingPattern()"),Ve.stream=ct[_e].join(`
`),fo($,Ve),Kn.publish("endTilingPattern",Ve),Xr.pop().restore()};var or=R.__private__.newObject=function(){var $=qi();return Gi($,!0),$},qi=R.__private__.newObjectDeferred=function(){return We++,Ue[We]=function(){return qe},We},Gi=function($,Ve){return Ve=typeof Ve=="boolean"&&Ve,Ue[$]=qe,Ve&&Ke($+" 0 obj"),$},Lo=R.__private__.newAdditionalObject=function(){var $={objId:qi(),content:""};return At.push($),$},es=qi(),So=qi(),ts=R.__private__.decodeColorString=function($){var Ve=$.split(" ");if(Ve.length!==2||Ve[1]!=="g"&&Ve[1]!=="G")Ve.length===5&&(Ve[4]==="k"||Ve[4]==="K")&&(Ve=[(1-Ve[0])*(1-Ve[3]),(1-Ve[1])*(1-Ve[3]),(1-Ve[2])*(1-Ve[3]),"r"]);else{var ze=parseFloat(Ve[0]);Ve=[ze,ze,ze,"r"]}for(var et="#",gt=0;gt<3;gt++)et+=("0"+Math.floor(255*parseFloat(Ve[gt])).toString(16)).slice(-2);return et},ui=R.__private__.encodeColorString=function($){var Ve;typeof $=="string"&&($={ch1:$});var ze=$.ch1,et=$.ch2,gt=$.ch3,Rt=$.ch4,zt=$.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ze=="string"&&ze.charAt(0)!=="#"){var cn=new AO(ze);if(cn.ok)ze=cn.toHex();else if(!/^\d*\.?\d*$/.test(ze))throw new Error('Invalid color "'+ze+'" passed to jsPDF.encodeColorString.')}if(typeof ze=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ze)&&(ze="#"+ze[1]+ze[1]+ze[2]+ze[2]+ze[3]+ze[3]),typeof ze=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ze)){var vn=parseInt(ze.substr(1),16);ze=vn>>16&255,et=vn>>8&255,gt=255&vn}if(et===void 0||Rt===void 0&&ze===et&&et===gt)if(typeof ze=="string")Ve=ze+" "+zt[0];else switch($.precision){case 2:Ve=ce(ze/255)+" "+zt[0];break;case 3:default:Ve=ne(ze/255)+" "+zt[0]}else if(Rt===void 0||Ni(Rt)==="object"){if(Rt&&!isNaN(Rt.a)&&Rt.a===0)return Ve=["1.","1.","1.",zt[1]].join(" ");if(typeof ze=="string")Ve=[ze,et,gt,zt[1]].join(" ");else switch($.precision){case 2:Ve=[ce(ze/255),ce(et/255),ce(gt/255),zt[1]].join(" ");break;default:case 3:Ve=[ne(ze/255),ne(et/255),ne(gt/255),zt[1]].join(" ")}}else if(typeof ze=="string")Ve=[ze,et,gt,Rt,zt[2]].join(" ");else switch($.precision){case 2:Ve=[ce(ze),ce(et),ce(gt),ce(Rt),zt[2]].join(" ");break;case 3:default:Ve=[ne(ze),ne(et),ne(gt),ne(Rt),zt[2]].join(" ")}return Ve},ti=R.__private__.getFilters=function(){return u},Nr=R.__private__.putStream=function($){var Ve=($=$||{}).data||"",ze=$.filters||ti(),et=$.alreadyAppliedFilters||[],gt=$.addLength1||!1,Rt=Ve.length,zt=$.objectId,cn=function(Zo){return Zo};if(x!==null&&zt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");x!==null&&(cn=jn.encryptor(zt,0));var vn={};ze===!0&&(ze=["FlateEncode"]);var Wn=$.additionalKeyValues||[],Ln=(vn=_n.API.processDataByFilters!==void 0?_n.API.processDataByFilters(Ve,ze):{data:Ve,reverseChain:[]}).reverseChain+(Array.isArray(et)?et.join(" "):et.toString());if(vn.data.length!==0&&(Wn.push({key:"Length",value:vn.data.length}),gt===!0&&Wn.push({key:"Length1",value:Rt})),Ln.length!=0)if(Ln.split("/").length-1==1)Wn.push({key:"Filter",value:Ln});else{Wn.push({key:"Filter",value:"["+Ln+"]"});for(var ii=0;ii<Wn.length;ii+=1)if(Wn[ii].key==="DecodeParms"){for(var cr=[],hr=0;hr<vn.reverseChain.split("/").length-1;hr+=1)cr.push("null");cr.push(Wn[ii].value),Wn[ii].value="["+cr.join(" ")+"]"}}Ke("<<");for(var Vr=0;Vr<Wn.length;Vr++)Ke("/"+Wn[Vr].key+" "+Wn[Vr].value);Ke(">>"),vn.data.length!==0&&(Ke("stream"),Ke(cn(vn.data)),Ke("endstream"))},$r=R.__private__.putPage=function($){var Ve=$.number,ze=$.data,et=$.objId,gt=$.contentsObjId;Gi(et,!0),Ke("<</Type /Page"),Ke("/Parent "+$.rootDictionaryObjId+" 0 R"),Ke("/Resources "+$.resourceDictionaryObjId+" 0 R"),Ke("/MediaBox ["+parseFloat(P($.mediaBox.bottomLeftX))+" "+parseFloat(P($.mediaBox.bottomLeftY))+" "+P($.mediaBox.topRightX)+" "+P($.mediaBox.topRightY)+"]"),$.cropBox!==null&&Ke("/CropBox ["+P($.cropBox.bottomLeftX)+" "+P($.cropBox.bottomLeftY)+" "+P($.cropBox.topRightX)+" "+P($.cropBox.topRightY)+"]"),$.bleedBox!==null&&Ke("/BleedBox ["+P($.bleedBox.bottomLeftX)+" "+P($.bleedBox.bottomLeftY)+" "+P($.bleedBox.topRightX)+" "+P($.bleedBox.topRightY)+"]"),$.trimBox!==null&&Ke("/TrimBox ["+P($.trimBox.bottomLeftX)+" "+P($.trimBox.bottomLeftY)+" "+P($.trimBox.topRightX)+" "+P($.trimBox.topRightY)+"]"),$.artBox!==null&&Ke("/ArtBox ["+P($.artBox.bottomLeftX)+" "+P($.artBox.bottomLeftY)+" "+P($.artBox.topRightX)+" "+P($.artBox.topRightY)+"]"),typeof $.userUnit=="number"&&$.userUnit!==1&&Ke("/UserUnit "+$.userUnit),Kn.publish("putPage",{objId:et,pageContext:Sn[Ve],pageNumber:Ve,page:ze}),Ke("/Contents "+gt+" 0 R"),Ke(">>"),Ke("endobj");var Rt=ze.join(`
`);return X===_.ADVANCED&&(Rt+=`
Q`),Gi(gt,!0),Nr({data:Rt,filters:ti(),objectId:gt}),Ke("endobj"),et},_r=R.__private__.putPages=function(){var $,Ve,ze=[];for($=1;$<=fi;$++)Sn[$].objId=qi(),Sn[$].contentsObjId=qi();for($=1;$<=fi;$++)ze.push($r({number:$,data:ct[$],objId:Sn[$].objId,contentsObjId:Sn[$].contentsObjId,mediaBox:Sn[$].mediaBox,cropBox:Sn[$].cropBox,bleedBox:Sn[$].bleedBox,trimBox:Sn[$].trimBox,artBox:Sn[$].artBox,userUnit:Sn[$].userUnit,rootDictionaryObjId:es,resourceDictionaryObjId:So}));Gi(es,!0),Ke("<</Type /Pages");var et="/Kids [";for(Ve=0;Ve<fi;Ve++)et+=ze[Ve]+" 0 R ";Ke(et+"]"),Ke("/Count "+fi),Ke(">>"),Ke("endobj"),Kn.publish("postPutPages")},Fc=function($){Kn.publish("putFont",{font:$,out:Ke,newObject:or,putStream:Nr}),$.isAlreadyPutted!==!0&&($.objectNumber=or(),Ke("<<"),Ke("/Type /Font"),Ke("/BaseFont /"+op($.postScriptName)),Ke("/Subtype /Type1"),typeof $.encoding=="string"&&Ke("/Encoding /"+$.encoding),Ke("/FirstChar 32"),Ke("/LastChar 255"),Ke(">>"),Ke("endobj"))},Be=function(){for(var $ in en)en.hasOwnProperty($)&&(G===!1||G===!0&&B.hasOwnProperty($))&&Fc(en[$])},d=function($){$.objectNumber=or();var Ve=[];Ve.push({key:"Type",value:"/XObject"}),Ve.push({key:"Subtype",value:"/Form"}),Ve.push({key:"BBox",value:"["+[P($.x),P($.y),P($.x+$.width),P($.y+$.height)].join(" ")+"]"}),Ve.push({key:"Matrix",value:"["+$.matrix.toString()+"]"});var ze=$.pages[1].join(`
`);Nr({data:ze,additionalKeyValues:Ve,objectId:$.objectNumber}),Ke("endobj")},A=function(){for(var $ in qn)qn.hasOwnProperty($)&&d(qn[$])},p=function($,Ve){var ze,et=[],gt=1/(Ve-1);for(ze=0;ze<1;ze+=gt)et.push(ze);if(et.push(1),$[0].offset!=0){var Rt={offset:0,color:$[0].color};$.unshift(Rt)}if($[$.length-1].offset!=1){var zt={offset:1,color:$[$.length-1].color};$.push(zt)}for(var cn="",vn=0,Wn=0;Wn<et.length;Wn++){for(ze=et[Wn];ze>$[vn+1].offset;)vn++;var Ln=$[vn].offset,ii=(ze-Ln)/($[vn+1].offset-Ln),cr=$[vn].color,hr=$[vn+1].color;cn+=Ee(Math.round((1-ii)*cr[0]+ii*hr[0]).toString(16))+Ee(Math.round((1-ii)*cr[1]+ii*hr[1]).toString(16))+Ee(Math.round((1-ii)*cr[2]+ii*hr[2]).toString(16))}return cn.trim()},I=function($,Ve){Ve||(Ve=21);var ze=or(),et=p($.colors,Ve),gt=[];gt.push({key:"FunctionType",value:"0"}),gt.push({key:"Domain",value:"[0.0 1.0]"}),gt.push({key:"Size",value:"["+Ve+"]"}),gt.push({key:"BitsPerSample",value:"8"}),gt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),gt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Nr({data:et,additionalKeyValues:gt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ze}),Ke("endobj"),$.objectNumber=or(),Ke("<< /ShadingType "+$.type),Ke("/ColorSpace /DeviceRGB");var Rt="/Coords ["+P(parseFloat($.coords[0]))+" "+P(parseFloat($.coords[1]))+" ";$.type===2?Rt+=P(parseFloat($.coords[2]))+" "+P(parseFloat($.coords[3])):Rt+=P(parseFloat($.coords[2]))+" "+P(parseFloat($.coords[3]))+" "+P(parseFloat($.coords[4]))+" "+P(parseFloat($.coords[5])),Ke(Rt+="]"),$.matrix&&Ke("/Matrix ["+$.matrix.toString()+"]"),Ke("/Function "+ze+" 0 R"),Ke("/Extend [true true]"),Ke(">>"),Ke("endobj")},w=function($,Ve){var ze=qi(),et=or();Ve.push({resourcesOid:ze,objectOid:et}),$.objectNumber=et;var gt=[];gt.push({key:"Type",value:"/Pattern"}),gt.push({key:"PatternType",value:"1"}),gt.push({key:"PaintType",value:"1"}),gt.push({key:"TilingType",value:"1"}),gt.push({key:"BBox",value:"["+$.boundingBox.map(P).join(" ")+"]"}),gt.push({key:"XStep",value:P($.xStep)}),gt.push({key:"YStep",value:P($.yStep)}),gt.push({key:"Resources",value:ze+" 0 R"}),$.matrix&&gt.push({key:"Matrix",value:"["+$.matrix.toString()+"]"}),Nr({data:$.stream,additionalKeyValues:gt,objectId:$.objectNumber}),Ke("endobj")},k=function($){var Ve;for(Ve in Gn)Gn.hasOwnProperty(Ve)&&(Gn[Ve]instanceof yA?I(Gn[Ve]):Gn[Ve]instanceof sh&&w(Gn[Ve],$))},Z=function($){for(var Ve in $.objectNumber=or(),Ke("<<"),$)switch(Ve){case"opacity":Ke("/ca "+ce($[Ve]));break;case"stroke-opacity":Ke("/CA "+ce($[Ve]))}Ke(">>"),Ke("endobj")},E=function(){var $;for($ in Qn)Qn.hasOwnProperty($)&&Z(Qn[$])},D=function(){for(var $ in Ke("/XObject <<"),qn)qn.hasOwnProperty($)&&qn[$].objectNumber>=0&&Ke("/"+$+" "+qn[$].objectNumber+" 0 R");Kn.publish("putXobjectDict"),Ke(">>")},Y=function(){jn.oid=or(),Ke("<<"),Ke("/Filter /Standard"),Ke("/V "+jn.v),Ke("/R "+jn.r),Ke("/U <"+jn.toHexString(jn.U)+">"),Ke("/O <"+jn.toHexString(jn.O)+">"),Ke("/P "+jn.P),Ke(">>"),Ke("endobj")},U=function(){for(var $ in Ke("/Font <<"),en)en.hasOwnProperty($)&&(G===!1||G===!0&&B.hasOwnProperty($))&&Ke("/"+$+" "+en[$].objectNumber+" 0 R");Ke(">>")},z=function(){if(Object.keys(Gn).length>0){for(var $ in Ke("/Shading <<"),Gn)Gn.hasOwnProperty($)&&Gn[$]instanceof yA&&Gn[$].objectNumber>=0&&Ke("/"+$+" "+Gn[$].objectNumber+" 0 R");Kn.publish("putShadingPatternDict"),Ke(">>")}},te=function($){if(Object.keys(Gn).length>0){for(var Ve in Ke("/Pattern <<"),Gn)Gn.hasOwnProperty(Ve)&&Gn[Ve]instanceof R.TilingPattern&&Gn[Ve].objectNumber>=0&&Gn[Ve].objectNumber<$&&Ke("/"+Ve+" "+Gn[Ve].objectNumber+" 0 R");Kn.publish("putTilingPatternDict"),Ke(">>")}},ae=function(){if(Object.keys(Qn).length>0){var $;for($ in Ke("/ExtGState <<"),Qn)Qn.hasOwnProperty($)&&Qn[$].objectNumber>=0&&Ke("/"+$+" "+Qn[$].objectNumber+" 0 R");Kn.publish("putGStateDict"),Ke(">>")}},ge=function($){Gi($.resourcesOid,!0),Ke("<<"),Ke("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),U(),z(),te($.objectOid),ae(),D(),Ke(">>"),Ke("endobj")},Ce=function(){var $=[];Be(),E(),A(),k($),Kn.publish("putResources"),$.forEach(ge),ge({resourcesOid:So,objectOid:Number.MAX_SAFE_INTEGER}),Kn.publish("postPutResources")},we=function(){Kn.publish("putAdditionalObjects");for(var $=0;$<At.length;$++){var Ve=At[$];Gi(Ve.objId,!0),Ke(Ve.content),Ke("endobj")}Kn.publish("postPutAdditionalObjects")},ke=function($){Qt[$.fontName]=Qt[$.fontName]||{},Qt[$.fontName][$.fontStyle]=$.id},T=function($,Ve,ze,et,gt){var Rt={id:"F"+(Object.keys(en).length+1).toString(10),postScriptName:$,fontName:Ve,fontStyle:ze,encoding:et,isStandardFont:gt||!1,metadata:{}};return Kn.publish("addFont",{font:Rt,instance:this}),en[Rt.id]=Rt,ke(Rt),Rt.id},q=function($){for(var Ve=0,ze=It.length;Ve<ze;Ve++){var et=T.call(this,$[Ve][0],$[Ve][1],$[Ve][2],It[Ve][3],!0);G===!1&&(B[et]=!0);var gt=$[Ve][0].split("-");ke({id:et,fontName:gt[0],fontStyle:gt[1]||""})}Kn.publish("addFonts",{fonts:en,dictionary:Qt})},Ae=function($){return $.foo=function(){try{return $.apply(this,arguments)}catch(et){var Ve=et.stack||"";~Ve.indexOf(" at ")&&(Ve=Ve.split(" at ")[1]);var ze="Error in function "+Ve.split(`
`)[0].split("<")[0]+": "+et.message;if(!Fn.console)throw new Error(ze);Fn.console.error(ze,et),Fn.alert&&alert(ze)}},$.foo.bar=$,$.foo},Se=function($,Ve){var ze,et,gt,Rt,zt,cn,vn,Wn,Ln;if(gt=(Ve=Ve||{}).sourceEncoding||"Unicode",zt=Ve.outputEncoding,(Ve.autoencode||zt)&&en[Wt].metadata&&en[Wt].metadata[gt]&&en[Wt].metadata[gt].encoding&&(Rt=en[Wt].metadata[gt].encoding,!zt&&en[Wt].encoding&&(zt=en[Wt].encoding),!zt&&Rt.codePages&&(zt=Rt.codePages[0]),typeof zt=="string"&&(zt=Rt[zt]),zt)){for(vn=!1,cn=[],ze=0,et=$.length;ze<et;ze++)(Wn=zt[$.charCodeAt(ze)])?cn.push(String.fromCharCode(Wn)):cn.push($[ze]),cn[ze].charCodeAt(0)>>8&&(vn=!0);$=cn.join("")}for(ze=$.length;vn===void 0&&ze!==0;)$.charCodeAt(ze-1)>>8&&(vn=!0),ze--;if(!vn)return $;for(cn=Ve.noBOM?[]:[254,255],ze=0,et=$.length;ze<et;ze++){if((Ln=(Wn=$.charCodeAt(ze))>>8)>>8)throw new Error("Character at position "+ze+" of string '"+$+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");cn.push(Ln),cn.push(Wn-(Ln<<8))}return String.fromCharCode.apply(void 0,cn)},Ze=R.__private__.pdfEscape=R.pdfEscape=function($,Ve){return Se($,Ve).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Te=R.__private__.beginPage=function($){ct[++fi]=[],Sn[fi]={objId:0,contentsObjId:0,userUnit:Number(C),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number($[0]),topRightY:Number($[1])}},ut(fi),st(ct[_e])},Qe=function($,Ve){var ze,et,gt;switch(i=Ve||i,typeof $=="string"&&(ze=L($.toLowerCase()),Array.isArray(ze)&&(et=ze[0],gt=ze[1])),Array.isArray($)&&(et=$[0]*Dt,gt=$[1]*Dt),isNaN(et)&&(et=s[0],gt=s[1]),(et>14400||gt>14400)&&(lr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),et=Math.min(14400,et),gt=Math.min(14400,gt)),s=[et,gt],i.substr(0,1)){case"l":gt>et&&(s=[gt,et]);break;case"p":et>gt&&(s=[gt,et])}Te(s),au(Rg),Ke(Za),cu!==0&&Ke(cu+" J"),ll!==0&&Ke(ll+" j"),Kn.publish("addPage",{pageNumber:fi})},Oe=function($){$>0&&$<=fi&&(ct.splice($,1),Sn.splice($,1),fi--,_e>fi&&(_e=fi),this.setPage(_e))},ut=function($){$>0&&$<=fi&&(_e=$)},Gt=R.__private__.getNumberOfPages=R.getNumberOfPages=function(){return ct.length-1},dt=function($,Ve,ze){var et,gt=void 0;return ze=ze||{},$=$!==void 0?$:en[Wt].fontName,Ve=Ve!==void 0?Ve:en[Wt].fontStyle,et=$.toLowerCase(),Qt[et]!==void 0&&Qt[et][Ve]!==void 0?gt=Qt[et][Ve]:Qt[$]!==void 0&&Qt[$][Ve]!==void 0?gt=Qt[$][Ve]:ze.disableWarning===!1&&lr.warn("Unable to look up font label for font '"+$+"', '"+Ve+"'. Refer to getFontList() for available fonts."),gt||ze.noFallback||(gt=Qt.times[Ve])==null&&(gt=Qt.times.normal),gt},Et=R.__private__.putInfo=function(){var $=or(),Ve=function(et){return et};for(var ze in x!==null&&(Ve=jn.encryptor($,0)),Ke("<<"),Ke("/Producer ("+Ze(Ve("jsPDF "+_n.version))+")"),St)St.hasOwnProperty(ze)&&St[ze]&&Ke("/"+ze.substr(0,1).toUpperCase()+ze.substr(1)+" ("+Ze(Ve(St[ze]))+")");Ke("/CreationDate ("+Ze(Ve(Re))+")"),Ke(">>"),Ke("endobj")},Ot=R.__private__.putCatalog=function($){var Ve=($=$||{}).rootDictionaryObjId||es;switch(or(),Ke("<<"),Ke("/Type /Catalog"),Ke("/Pages "+Ve+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":Ke("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ke("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ke("/OpenAction [3 0 R /Fit]");break;case"original":Ke("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ze=""+yt;ze.substr(ze.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&Ke("/OpenAction [3 0 R /XYZ null null "+ce(yt)+"]")}switch(dn||(dn="continuous"),dn){case"continuous":Ke("/PageLayout /OneColumn");break;case"single":Ke("/PageLayout /SinglePage");break;case"two":case"twoleft":Ke("/PageLayout /TwoColumnLeft");break;case"tworight":Ke("/PageLayout /TwoColumnRight")}tn&&Ke("/PageMode /"+tn),Kn.publish("putCatalog"),Ke(">>"),Ke("endobj")},an=R.__private__.putTrailer=function(){Ke("trailer"),Ke("<<"),Ke("/Size "+(We+1)),Ke("/Root "+We+" 0 R"),Ke("/Info "+(We-1)+" 0 R"),x!==null&&Ke("/Encrypt "+jn.oid+" 0 R"),Ke("/ID [ <"+ye+"> <"+ye+"> ]"),Ke(">>")},hn=R.__private__.putHeader=function(){Ke("%PDF-"+V),Ke("%")},In=R.__private__.putXRef=function(){var $="0000000000";Ke("xref"),Ke("0 "+(We+1)),Ke("0000000000 65535 f ");for(var Ve=1;Ve<=We;Ve++)typeof Ue[Ve]=="function"?Ke(($+Ue[Ve]()).slice(-10)+" 00000 n "):Ue[Ve]!==void 0?Ke(($+Ue[Ve]).slice(-10)+" 00000 n "):Ke("0000000000 00000 n ")},bn=R.__private__.buildDocument=function(){Ht(),st(je),Kn.publish("buildDocument"),hn(),_r(),we(),Ce(),x!==null&&Y(),Et(),Ot();var $=qe;return In(),an(),Ke("startxref"),Ke(""+$),Ke("%%EOF"),st(ct[_e]),je.join(`
`)},kn=R.__private__.getBlob=function($){return new Blob([Yt($)],{type:"application/pdf"})},En=R.output=R.__private__.output=Ae(function($,Ve){switch(typeof(Ve=Ve||{})=="string"?Ve={filename:Ve}:Ve.filename=Ve.filename||"generated.pdf",$){case void 0:return bn();case"save":R.save(Ve.filename);break;case"arraybuffer":return Yt(bn());case"blob":return kn(bn());case"bloburi":case"bloburl":if(Fn.URL!==void 0&&typeof Fn.URL.createObjectURL=="function")return Fn.URL&&Fn.URL.createObjectURL(kn(bn()))||void 0;lr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ze="",et=bn();try{ze=DG(et)}catch{ze=DG(unescape(encodeURIComponent(et)))}return"data:application/pdf;filename="+Ve.filename+";base64,"+ze;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Fn)==="[object Window]"){var gt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Rt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Ve.pdfObjectUrl&&(gt=Ve.pdfObjectUrl,Rt="");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+gt+'"'+Rt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Ve)+");<\/script></body></html>",cn=Fn.open();return cn!==null&&cn.document.write(zt),cn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Fn)==="[object Window]"){var vn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Ve.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Ve.filename+'" width="500px" height="400px" /></body></html>',Wn=Fn.open();if(Wn!==null){Wn.document.write(vn);var Ln=this;Wn.document.documentElement.querySelector("#pdfViewer").onload=function(){Wn.document.title=Ve.filename,Wn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ln.output("bloburl"))}}return Wn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Fn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ii='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Ve)+'"></iframe></body></html>',cr=Fn.open();if(cr!==null&&(cr.document.write(ii),cr.document.title=Ve.filename),cr||typeof safari>"u")return cr;break;case"datauri":case"dataurl":return Fn.document.location.href=this.output("datauristring",Ve);default:return null}}),Ri=function($){return Array.isArray(qo)===!0&&qo.indexOf($)>-1};switch(o){case"pt":Dt=1;break;case"mm":Dt=72/25.4;break;case"cm":Dt=72/2.54;break;case"in":Dt=72;break;case"px":Dt=Ri("px_scaling")==1?.75:96/72;break;case"pc":case"em":Dt=12;break;case"ex":Dt=6;break;default:if(typeof o!="number")throw new Error("Invalid unit: "+o);Dt=o}var jn=null;Pe(),fe();var Ci=function($){return x!==null?jn.encryptor($,0):function(Ve){return Ve}},eo=R.__private__.getPageInfo=R.getPageInfo=function($){if(isNaN($)||$%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Sn[$].objId,pageNumber:$,pageContext:Sn[$]}},ln=R.__private__.getPageInfoByObjId=function($){if(isNaN($)||$%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Ve in Sn)if(Sn[Ve].objId===$)break;return eo(Ve)},gi=R.__private__.getCurrentPageInfo=R.getCurrentPageInfo=function(){return{objId:Sn[_e].objId,pageNumber:_e,pageContext:Sn[_e]}};R.addPage=function(){return Qe.apply(this,arguments),this},R.setPage=function(){return ut.apply(this,arguments),st.call(this,ct[_e]),this},R.insertPage=function($){return this.addPage(),this.movePage(_e,$),this},R.movePage=function($,Ve){var ze,et;if($>Ve){ze=ct[$],et=Sn[$];for(var gt=$;gt>Ve;gt--)ct[gt]=ct[gt-1],Sn[gt]=Sn[gt-1];ct[Ve]=ze,Sn[Ve]=et,this.setPage(Ve)}else if($<Ve){ze=ct[$],et=Sn[$];for(var Rt=$;Rt<Ve;Rt++)ct[Rt]=ct[Rt+1],Sn[Rt]=Sn[Rt+1];ct[Ve]=ze,Sn[Ve]=et,this.setPage(Ve)}return this},R.deletePage=function(){return Oe.apply(this,arguments),this},R.__private__.text=R.text=function($,Ve,ze,et,gt){var Rt,zt,cn,vn,Wn,Ln,ii,cr,hr,Vr=(et=et||{}).scope||this;if(typeof $=="number"&&typeof Ve=="number"&&(typeof ze=="string"||Array.isArray(ze))){var Zo=ze;ze=Ve,Ve=$,$=Zo}if(arguments[3]instanceof yn?(O("The transform parameter of text() with a Matrix value"),hr=gt):(cn=arguments[4],vn=arguments[5],Ni(ii=arguments[3])==="object"&&ii!==null||(typeof cn=="string"&&(vn=cn,cn=null),typeof ii=="string"&&(vn=ii,ii=null),typeof ii=="number"&&(cn=ii,ii=null),et={flags:ii,angle:cn,align:vn})),isNaN(Ve)||isNaN(ze)||$==null)throw new Error("Invalid arguments passed to jsPDF.text");if($.length===0)return Vr;var to="",Ra=!1,Ts=typeof et.lineHeightFactor=="number"?et.lineHeightFactor:xa,zl=Vr.internal.scaleFactor;function Uh(Ji){return Ji=Ji.split("	").join(Array(et.TabLen||9).join(" ")),Ze(Ji,ii)}function du(Ji){for(var Ui,Un=Ji.concat(),Br=[],hl=Un.length;hl--;)typeof(Ui=Un.shift())=="string"?Br.push(Ui):Array.isArray(Ji)&&(Ui.length===1||Ui[1]===void 0&&Ui[2]===void 0)?Br.push(Ui[0]):Br.push([Ui[0],Ui[1],Ui[2]]);return Br}function Na(Ji,Ui){var Un;if(typeof Ji=="string")Un=Ui(Ji)[0];else if(Array.isArray(Ji)){for(var Br,hl,$l=Ji.concat(),Xn=[],Wg=$l.length;Wg--;)typeof(Br=$l.shift())=="string"?Xn.push(Ui(Br)[0]):Array.isArray(Br)&&typeof Br[0]=="string"&&(hl=Ui(Br[0],Br[1],Br[2]),Xn.push([hl[0],hl[1],hl[2]]));Un=Xn}return Un}var cl=!1,Au=!0;if(typeof $=="string")cl=!0;else if(Array.isArray($)){var uu=$.concat();zt=[];for(var Ql,Mo=uu.length;Mo--;)(typeof(Ql=uu.shift())!="string"||Array.isArray(Ql)&&typeof Ql[0]!="string")&&(Au=!1);cl=Au}if(cl===!1)throw new Error('Type of text must be string or Array. "'+$+'" is not recognized.');typeof $=="string"&&($=$.match(/[\r?\n]/)?$.split(/\r\n|\r|\n/g):[$]);var Xd=bt/Vr.internal.scaleFactor,Md=Xd*(Ts-1);switch(et.baseline){case"bottom":ze-=Md;break;case"top":ze+=Xd-Md;break;case"hanging":ze+=Xd-2*Md;break;case"middle":ze+=Xd/2-Md}if((Ln=et.maxWidth||0)>0&&(typeof $=="string"?$=Vr.splitTextToSize($,Ln):Object.prototype.toString.call($)==="[object Array]"&&($=$.reduce(function(Ji,Ui){return Ji.concat(Vr.splitTextToSize(Ui,Ln))},[]))),Rt={text:$,x:Ve,y:ze,options:et,mutex:{pdfEscape:Ze,activeFontKey:Wt,fonts:en,activeFontSize:bt}},Kn.publish("preProcessText",Rt),$=Rt.text,cn=(et=Rt.options).angle,!(hr instanceof yn)&&cn&&typeof cn=="number"){cn*=Math.PI/180,et.rotationDirection===0&&(cn=-cn),X===_.ADVANCED&&(cn=-cn);var Yd=Math.cos(cn),Jd=Math.sin(cn);hr=new yn(Yd,Jd,-Jd,Yd,0,0)}else cn&&cn instanceof yn&&(hr=cn);X!==_.ADVANCED||hr||(hr=Cs),(Wn=et.charSpace||Wd)!==void 0&&(to+=P(oe(Wn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(cr=et.horizontalScale)!==void 0&&(to+=P(100*cr)+` Tz
`),et.lang;var ns=-1,vC=et.renderingMode!==void 0?et.renderingMode:et.stroke,Ud=Vr.internal.getCurrentPageInfo().pageContext;switch(vC){case 0:case!1:case"fill":ns=0;break;case 1:case!0:case"stroke":ns=1;break;case 2:case"fillThenStroke":ns=2;break;case 3:case"invisible":ns=3;break;case 4:case"fillAndAddForClipping":ns=4;break;case 5:case"strokeAndAddPathForClipping":ns=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ns=6;break;case 7:case"addToPathForClipping":ns=7}var Ph=Ud.usedRenderingMode!==void 0?Ud.usedRenderingMode:-1;ns!==-1?to+=ns+` Tr
`:Ph!==-1&&(to+=`0 Tr
`),ns!==-1&&(Ud.usedRenderingMode=ns),vn=et.align||"left";var $s,hu=bt*Ts,Kh=Vr.internal.pageSize.getWidth(),wC=en[Wt];Wn=et.charSpace||Wd,Ln=et.maxWidth||0,ii=Object.assign({autoencode:!0,noBOM:!0},et.flags);var jl=[];if(Object.prototype.toString.call($)==="[object Array]"){var ea;zt=du($),vn!=="left"&&($s=zt.map(function(Ji){return Vr.getStringUnitWidth(Ji,{font:wC,charSpace:Wn,fontSize:bt,doKerning:!1})*bt/zl}));var _a,Ol=0;if(vn==="right"){Ve-=$s[0],$=[],Mo=zt.length;for(var gl=0;gl<Mo;gl++)gl===0?(_a=Kl(Ve),ea=al(ze)):(_a=oe(Ol-$s[gl]),ea=-hu),$.push([zt[gl],_a,ea]),Ol=$s[gl]}else if(vn==="center"){Ve-=$s[0]/2,$=[],Mo=zt.length;for(var dl=0;dl<Mo;dl++)dl===0?(_a=Kl(Ve),ea=al(ze)):(_a=oe((Ol-$s[dl])/2),ea=-hu),$.push([zt[dl],_a,ea]),Ol=$s[dl]}else if(vn==="left"){$=[],Mo=zt.length;for(var Eg=0;Eg<Mo;Eg++)$.push(zt[Eg])}else{if(vn!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');$=[],Mo=zt.length,Ln=Ln!==0?Ln:Kh;for(var ta=0;ta<Mo;ta++)ea=ta===0?al(ze):-hu,_a=ta===0?Kl(Ve):0,ta<Mo-1?jl.push(P(oe((Ln-$s[ta])/(zt[ta].split(" ").length-1)))):jl.push(0),$.push([zt[ta],_a,ea])}}var yi=typeof et.R2L=="boolean"?et.R2L:Jt;yi===!0&&($=Na($,function(Ji,Ui,Un){return[Ji.split("").reverse().join(""),Ui,Un]})),Rt={text:$,x:Ve,y:ze,options:et,mutex:{pdfEscape:Ze,activeFontKey:Wt,fonts:en,activeFontSize:bt}},Kn.publish("postProcessText",Rt),$=Rt.text,Ra=Rt.mutex.isHex||!1;var Fg=en[Wt].encoding;Fg!=="WinAnsiEncoding"&&Fg!=="StandardEncoding"||($=Na($,function(Ji,Ui,Un){return[Uh(Ji),Ui,Un]})),zt=du($),$=[];for(var Al,Go,ul,Lc=0,Pd=1,fs=Array.isArray(zt[0])?Pd:Lc,Va="",Kd=function(Ji,Ui,Un){var Br="";return Un instanceof yn?(Un=typeof et.angle=="number"?$o(Un,new yn(1,0,0,1,Ji,Ui)):$o(new yn(1,0,0,1,Ji,Ui),Un),X===_.ADVANCED&&(Un=$o(new yn(1,0,0,-1,0,0),Un)),Br=Un.join(" ")+` Tm
`):Br=P(Ji)+" "+P(Ui)+` Td
`,Br},mr=0;mr<zt.length;mr++){switch(Va="",fs){case Pd:ul=(Ra?"<":"(")+zt[mr][0]+(Ra?">":")"),Al=parseFloat(zt[mr][1]),Go=parseFloat(zt[mr][2]);break;case Lc:ul=(Ra?"<":"(")+zt[mr]+(Ra?">":")"),Al=Kl(Ve),Go=al(ze)}jl!==void 0&&jl[mr]!==void 0&&(Va=jl[mr]+` Tw
`),mr===0?$.push(Va+Kd(Al,Go,hr)+ul):fs===Lc?$.push(Va+ul):fs===Pd&&$.push(Va+Kd(Al,Go,hr)+ul)}$=fs===Lc?$.join(` Tj
T* `):$.join(` Tj
`),$+=` Tj
`;var ql=`BT
/`;return ql+=Wt+" "+bt+` Tf
`,ql+=P(bt*Ts)+` TL
`,ql+=Ga+`
`,ql+=to,ql+=$,Ke(ql+="ET"),B[Wt]=!0,Vr};var ni=R.__private__.clip=R.clip=function($){return Ke($==="evenodd"?"W*":"W"),this};R.clipEvenOdd=function(){return ni("evenodd")},R.__private__.discardPath=R.discardPath=function(){return Ke("n"),this};var Yi=R.__private__.isValidStyle=function($){var Ve=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf($)!==-1&&(Ve=!0),Ve};R.__private__.setDefaultPathOperation=R.setDefaultPathOperation=function($){return Yi($)&&(v=$),this};var kr=R.__private__.getStyle=R.getStyle=function($){var Ve=v;switch($){case"D":case"S":Ve="S";break;case"F":Ve="f";break;case"FD":case"DF":Ve="B";break;case"f":case"f*":case"B":case"B*":Ve=$}return Ve},Xo=R.close=function(){return Ke("h"),this};R.stroke=function(){return Ke("S"),this},R.fill=function($){return Hs("f",$),this},R.fillEvenOdd=function($){return Hs("f*",$),this},R.fillStroke=function($){return Hs("B",$),this},R.fillStrokeEvenOdd=function($){return Hs("B*",$),this};var Hs=function($,Ve){Ni(Ve)==="object"?Wc(Ve,$):Ke($)},sr=function($){$===null||X===_.ADVANCED&&$===void 0||($=kr($),Ke($))};function Ds($,Ve,ze,et,gt){var Rt=new sh(Ve||this.boundingBox,ze||this.xStep,et||this.yStep,this.gState,gt||this.matrix);Rt.stream=this.stream;var zt=$+"$$"+this.cloneIndex+++"$$";return fo(zt,Rt),Rt}var Wc=function($,Ve){var ze=ci[$.key],et=Gn[ze];if(et instanceof yA)Ke("q"),Ke(su(Ve)),et.gState&&R.setGState(et.gState),Ke($.matrix.toString()+" cm"),Ke("/"+ze+" sh"),Ke("Q");else if(et instanceof sh){var gt=new yn(1,0,0,-1,0,Tc());$.matrix&&(gt=gt.multiply($.matrix||Cs),ze=Ds.call(et,$.key,$.boundingBox,$.xStep,$.yStep,gt).id),Ke("q"),Ke("/Pattern cs"),Ke("/"+ze+" scn"),et.gState&&R.setGState(et.gState),Ke(Ve),Ke("Q")}},su=function($){switch($){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ei=R.moveTo=function($,Ve){return Ke(P(oe($))+" "+P(Ie(Ve))+" m"),this},Gg=R.lineTo=function($,Ve){return Ke(P(oe($))+" "+P(Ie(Ve))+" l"),this},sl=R.curveTo=function($,Ve,ze,et,gt,Rt){return Ke([P(oe($)),P(Ie(Ve)),P(oe(ze)),P(Ie(et)),P(oe(gt)),P(Ie(Rt)),"c"].join(" ")),this};R.__private__.line=R.line=function($,Ve,ze,et,gt){if(isNaN($)||isNaN(Ve)||isNaN(ze)||isNaN(et)||!Yi(gt))throw new Error("Invalid arguments passed to jsPDF.line");return X===_.COMPAT?this.lines([[ze-$,et-Ve]],$,Ve,[1,1],gt||"S"):this.lines([[ze-$,et-Ve]],$,Ve,[1,1]).stroke()},R.__private__.lines=R.lines=function($,Ve,ze,et,gt,Rt){var zt,cn,vn,Wn,Ln,ii,cr,hr,Vr,Zo,to,Ra;if(typeof $=="number"&&(Ra=ze,ze=Ve,Ve=$,$=Ra),et=et||[1,1],Rt=Rt||!1,isNaN(Ve)||isNaN(ze)||!Array.isArray($)||!Array.isArray(et)||!Yi(gt)||typeof Rt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ei(Ve,ze),zt=et[0],cn=et[1],Wn=$.length,Zo=Ve,to=ze,vn=0;vn<Wn;vn++)(Ln=$[vn]).length===2?(Zo=Ln[0]*zt+Zo,to=Ln[1]*cn+to,Gg(Zo,to)):(ii=Ln[0]*zt+Zo,cr=Ln[1]*cn+to,hr=Ln[2]*zt+Zo,Vr=Ln[3]*cn+to,Zo=Ln[4]*zt+Zo,to=Ln[5]*cn+to,sl(ii,cr,hr,Vr,Zo,to));return Rt&&Xo(),sr(gt),this},R.path=function($){for(var Ve=0;Ve<$.length;Ve++){var ze=$[Ve],et=ze.c;switch(ze.op){case"m":Ei(et[0],et[1]);break;case"l":Gg(et[0],et[1]);break;case"c":sl.apply(this,et);break;case"h":Xo()}}return this},R.__private__.rect=R.rect=function($,Ve,ze,et,gt){if(isNaN($)||isNaN(Ve)||isNaN(ze)||isNaN(et)||!Yi(gt))throw new Error("Invalid arguments passed to jsPDF.rect");return X===_.COMPAT&&(et=-et),Ke([P(oe($)),P(Ie(Ve)),P(oe(ze)),P(oe(et)),"re"].join(" ")),sr(gt),this},R.__private__.triangle=R.triangle=function($,Ve,ze,et,gt,Rt,zt){if(isNaN($)||isNaN(Ve)||isNaN(ze)||isNaN(et)||isNaN(gt)||isNaN(Rt)||!Yi(zt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ze-$,et-Ve],[gt-ze,Rt-et],[$-gt,Ve-Rt]],$,Ve,[1,1],zt,!0),this},R.__private__.roundedRect=R.roundedRect=function($,Ve,ze,et,gt,Rt,zt){if(isNaN($)||isNaN(Ve)||isNaN(ze)||isNaN(et)||isNaN(gt)||isNaN(Rt)||!Yi(zt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var cn=4/3*(Math.SQRT2-1);return gt=Math.min(gt,.5*ze),Rt=Math.min(Rt,.5*et),this.lines([[ze-2*gt,0],[gt*cn,0,gt,Rt-Rt*cn,gt,Rt],[0,et-2*Rt],[0,Rt*cn,-gt*cn,Rt,-gt,Rt],[2*gt-ze,0],[-gt*cn,0,-gt,-Rt*cn,-gt,-Rt],[0,2*Rt-et],[0,-Rt*cn,gt*cn,-Rt,gt,-Rt]],$+gt,Ve,[1,1],zt,!0),this},R.__private__.ellipse=R.ellipse=function($,Ve,ze,et,gt){if(isNaN($)||isNaN(Ve)||isNaN(ze)||isNaN(et)||!Yi(gt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Rt=4/3*(Math.SQRT2-1)*ze,zt=4/3*(Math.SQRT2-1)*et;return Ei($+ze,Ve),sl($+ze,Ve-zt,$+Rt,Ve-et,$,Ve-et),sl($-Rt,Ve-et,$-ze,Ve-zt,$-ze,Ve),sl($-ze,Ve+zt,$-Rt,Ve+et,$,Ve+et),sl($+Rt,Ve+et,$+ze,Ve+zt,$+ze,Ve),sr(gt),this},R.__private__.circle=R.circle=function($,Ve,ze,et){if(isNaN($)||isNaN(Ve)||isNaN(ze)||!Yi(et))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse($,Ve,ze,ze,et)},R.setFont=function($,Ve,ze){return ze&&(Ve=re(Ve,ze)),Wt=dt($,Ve,{disableWarning:!1}),this};var Xh=R.__private__.getFont=R.getFont=function(){return en[dt.apply(R,arguments)]};R.__private__.getFontList=R.getFontList=function(){var $,Ve,ze={};for($ in Qt)if(Qt.hasOwnProperty($))for(Ve in ze[$]=[],Qt[$])Qt[$].hasOwnProperty(Ve)&&ze[$].push(Ve);return ze},R.addFont=function($,Ve,ze,et,gt){var Rt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Rt.indexOf(arguments[3])!==-1?gt=arguments[3]:arguments[3]&&Rt.indexOf(arguments[3])==-1&&(ze=re(ze,et)),gt=gt||"Identity-H",T.call(this,$,Ve,ze,gt)};var xa,Rg=e.lineWidth||.200025,Sa=R.__private__.getLineWidth=R.getLineWidth=function(){return Rg},au=R.__private__.setLineWidth=R.setLineWidth=function($){return Rg=$,Ke(P(oe($))+" w"),this};R.__private__.setLineDash=_n.API.setLineDash=_n.API.setLineDashPattern=function($,Ve){if($=$||[],Ve=Ve||0,isNaN(Ve)||!Array.isArray($))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return $=$.map(function(ze){return P(oe(ze))}).join(" "),Ve=P(oe(Ve)),Ke("["+$+"] "+Ve+" d"),this};var Fd=R.__private__.getLineHeight=R.getLineHeight=function(){return bt*xa};R.__private__.getLineHeight=R.getLineHeight=function(){return bt*xa};var Mh=R.__private__.setLineHeightFactor=R.setLineHeightFactor=function($){return typeof($=$||1.15)=="number"&&(xa=$),this},lu=R.__private__.getLineHeightFactor=R.getLineHeightFactor=function(){return xa};Mh(e.lineHeight);var Kl=R.__private__.getHorizontalCoordinate=function($){return oe($)},al=R.__private__.getVerticalCoordinate=function($){return X===_.ADVANCED?$:Sn[_e].mediaBox.topRightY-Sn[_e].mediaBox.bottomLeftY-oe($)},IC=R.__private__.getHorizontalCoordinateString=R.getHorizontalCoordinateString=function($){return P(Kl($))},Hc=R.__private__.getVerticalCoordinateString=R.getVerticalCoordinateString=function($){return P(al($))},Za=e.strokeColor||"0 G";R.__private__.getStrokeColor=R.getDrawColor=function(){return ts(Za)},R.__private__.setStrokeColor=R.setDrawColor=function($,Ve,ze,et){return Za=ui({ch1:$,ch2:Ve,ch3:ze,ch4:et,pdfColorType:"draw",precision:2}),Ke(Za),this};var Dc=e.fillColor||"0 g";R.__private__.getFillColor=R.getFillColor=function(){return ts(Dc)},R.__private__.setFillColor=R.setFillColor=function($,Ve,ze,et){return Dc=ui({ch1:$,ch2:Ve,ch3:ze,ch4:et,pdfColorType:"fill",precision:2}),Ke(Dc),this};var Ga=e.textColor||"0 g",bC=R.__private__.getTextColor=R.getTextColor=function(){return ts(Ga)};R.__private__.setTextColor=R.setTextColor=function($,Ve,ze,et){return Ga=ui({ch1:$,ch2:Ve,ch3:ze,ch4:et,pdfColorType:"text",precision:3}),this};var Wd=e.charSpace,yC=R.__private__.getCharSpace=R.getCharSpace=function(){return parseFloat(Wd||0)};R.__private__.setCharSpace=R.setCharSpace=function($){if(isNaN($))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wd=$,this};var cu=0;R.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},R.__private__.setLineCap=R.setLineCap=function($){var Ve=R.CapJoinStyles[$];if(Ve===void 0)throw new Error("Line cap style of '"+$+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return cu=Ve,Ke(Ve+" J"),this};var ll=0;R.__private__.setLineJoin=R.setLineJoin=function($){var Ve=R.CapJoinStyles[$];if(Ve===void 0)throw new Error("Line join style of '"+$+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ll=Ve,Ke(Ve+" j"),this},R.__private__.setLineMiterLimit=R.__private__.setMiterLimit=R.setLineMiterLimit=R.setMiterLimit=function($){if($=$||0,isNaN($))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ke(P(oe($))+" M"),this},R.GState=Bb,R.setGState=function($){($=typeof $=="string"?Qn[rr[$]]:Yh(null,$)).equals(Lr)||(Ke("/"+$.id+" gs"),Lr=$)};var Yh=function($,Ve){if(!$||!rr[$]){var ze=!1;for(var et in Qn)if(Qn.hasOwnProperty(et)&&Qn[et].equals(Ve)){ze=!0;break}if(ze)Ve=Qn[et];else{var gt="GS"+(Object.keys(Qn).length+1).toString(10);Qn[gt]=Ve,Ve.id=gt}return $&&(rr[$]=Ve.id),Kn.publish("addGState",Ve),Ve}};R.addGState=function($,Ve){return Yh($,Ve),this},R.saveGraphicsState=function(){return Ke("q"),xn.push({key:Wt,size:bt,color:Ga}),this},R.restoreGraphicsState=function(){Ke("Q");var $=xn.pop();return Wt=$.key,bt=$.size,Ga=$.color,Lr=null,this},R.setCurrentTransformationMatrix=function($){return Ke($.toString()+" cm"),this},R.comment=function($){return Ke("#"+$),this};var Ng=function($,Ve){var ze=$||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ze},set:function(Rt){isNaN(Rt)||(ze=parseFloat(Rt))}});var et=Ve||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return et},set:function(Rt){isNaN(Rt)||(et=parseFloat(Rt))}});var gt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return gt},set:function(Rt){gt=Rt.toString()}}),this},Hd=function($,Ve,ze,et){Ng.call(this,$,Ve),this.type="rect";var gt=ze||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return gt},set:function(zt){isNaN(zt)||(gt=parseFloat(zt))}});var Rt=et||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Rt},set:function(zt){isNaN(zt)||(Rt=parseFloat(zt))}}),this},Dd=function(){this.page=fi,this.currentPage=_e,this.pages=ct.slice(0),this.pagesContext=Sn.slice(0),this.x=Zt,this.y=Ct,this.matrix=Kt,this.width=Vg(_e),this.height=Tc(_e),this.outputDestination=at,this.id="",this.objectNumber=-1};Dd.prototype.restore=function(){fi=this.page,_e=this.currentPage,Sn=this.pagesContext,ct=this.pages,Zt=this.x,Ct=this.y,Kt=this.matrix,Td(_e,this.width),Ld(_e,this.height),at=this.outputDestination};var gu=function($,Ve,ze,et,gt){Xr.push(new Dd),fi=_e=0,ct=[],Zt=$,Ct=Ve,Kt=gt,Te([ze,et])},Jh=function($){if(To[$])Xr.pop().restore();else{var Ve=new Dd,ze="Xo"+(Object.keys(qn).length+1).toString(10);Ve.id=ze,To[$]=ze,qn[ze]=Ve,Kn.publish("addFormObject",Ve),Xr.pop().restore()}};for(var _g in R.beginFormObject=function($,Ve,ze,et,gt){return gu($,Ve,ze,et,gt),this},R.endFormObject=function($){return Jh($),this},R.doFormObject=function($,Ve){var ze=qn[To[$]];return Ke("q"),Ke(Ve.toString()+" cm"),Ke("/"+ze.id+" Do"),Ke("Q"),this},R.getFormObject=function($){var Ve=qn[To[$]];return{x:Ve.x,y:Ve.y,width:Ve.width,height:Ve.height,matrix:Ve.matrix}},R.save=function($,Ve){return $=$||"generated.pdf",(Ve=Ve||{}).returnPromise=Ve.returnPromise||!1,Ve.returnPromise===!1?(Ou(kn(bn()),$),typeof Ou.unload=="function"&&Fn.setTimeout&&setTimeout(Ou.unload,911),this):new Promise(function(ze,et){try{var gt=Ou(kn(bn()),$);typeof Ou.unload=="function"&&Fn.setTimeout&&setTimeout(Ou.unload,911),ze(gt)}catch(Rt){et(Rt.message)}})},_n.API)_n.API.hasOwnProperty(_g)&&(_g==="events"&&_n.API.events.length?function($,Ve){var ze,et,gt;for(gt=Ve.length-1;gt!==-1;gt--)ze=Ve[gt][0],et=Ve[gt][1],$.subscribe.apply($,[ze].concat(typeof et=="function"?[et]:et))}(Kn,_n.API.events):R[_g]=_n.API[_g]);var Vg=R.getPageWidth=function($){return(Sn[$=$||_e].mediaBox.topRightX-Sn[$].mediaBox.bottomLeftX)/Dt},Td=R.setPageWidth=function($,Ve){Sn[$].mediaBox.topRightX=Ve*Dt+Sn[$].mediaBox.bottomLeftX},Tc=R.getPageHeight=function($){return(Sn[$=$||_e].mediaBox.topRightY-Sn[$].mediaBox.bottomLeftY)/Dt},Ld=R.setPageHeight=function($,Ve){Sn[$].mediaBox.topRightY=Ve*Dt+Sn[$].mediaBox.bottomLeftY};return R.internal={pdfEscape:Ze,getStyle:kr,getFont:Xh,getFontSize:kt,getCharSpace:yC,getTextColor:bC,getLineHeight:Fd,getLineHeightFactor:lu,getLineWidth:Sa,write:Vt,getHorizontalCoordinate:Kl,getVerticalCoordinate:al,getCoordinateString:IC,getVerticalCoordinateString:Hc,collections:{},newObject:or,newAdditionalObject:Lo,newObjectDeferred:qi,newObjectDeferredBegin:Gi,getFilters:ti,putStream:Nr,events:Kn,scaleFactor:Dt,pageSize:{getWidth:function(){return Vg(_e)},setWidth:function($){Td(_e,$)},getHeight:function(){return Tc(_e)},setHeight:function($){Ld(_e,$)}},encryptionOptions:x,encryption:jn,getEncryptor:Ci,output:En,getNumberOfPages:Gt,pages:ct,out:Ke,f2:ce,f3:ne,getPageInfo:eo,getPageInfoByObjId:ln,getCurrentPageInfo:gi,getPDFVersion:H,Point:Ng,Rectangle:Hd,Matrix:yn,hasHotfix:Ri},Object.defineProperty(R.internal.pageSize,"width",{get:function(){return Vg(_e)},set:function($){Td(_e,$)},enumerable:!0,configurable:!0}),Object.defineProperty(R.internal.pageSize,"height",{get:function(){return Tc(_e)},set:function($){Ld(_e,$)},enumerable:!0,configurable:!0}),q.call(R,It),Wt="F1",Qe(s,i),Kn.publish("initialized"),R}rp.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},rp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},rp.prototype.hexToBytes=function(e){for(var t=[],i=0;i<e.length;i+=2)t.push(String.fromCharCode(parseInt(e.substr(i,2),16)));return t.join("")},rp.prototype.processOwnerPassword=function(e,t){return LG(TG(t).substr(0,5),e)},rp.prototype.encryptor=function(e,t){var i=TG(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(o){return LG(i,o)}},Bb.prototype.equals=function(e){var t,i="id,objectNumber,equals";if(!e||Ni(e)!==Ni(this))return!1;var o=0;for(t in this)if(!(i.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;o++}for(t in e)e.hasOwnProperty(t)&&i.indexOf(t)<0&&o--;return o===0},_n.API={events:[]},_n.version="2.5.1";var Kr=_n.API,Z_=1,Lh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jm=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yn=function(e){return e.toFixed(2)},gA=function(e){return e.toFixed(5)};Kr.__acroform__={};var Ba=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},zY=function(e){return e*Z_},ig=function(e){var t=new pO,i=fn.internal.getHeight(e)||0,o=fn.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Yn(o)),Number(Yn(i))],t},cKe=Kr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},gKe=Kr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},dKe=Kr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},co=Kr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return dKe(e,t-1)},go=Kr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return cKe(e,t-1)},Ao=Kr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return gKe(e,t-1)},AKe=Kr.__acroform__.calculateCoordinates=function(e,t){var i=t.internal.getHorizontalCoordinate,o=t.internal.getVerticalCoordinate,s=e[0],c=e[1],u=e[2],C=e[3],m={};return m.lowerLeft_X=i(s)||0,m.lowerLeft_Y=o(c+C)||0,m.upperRight_X=i(s+u)||0,m.upperRight_Y=o(c)||0,[Number(Yn(m.lowerLeft_X)),Number(Yn(m.lowerLeft_Y)),Number(Yn(m.upperRight_X)),Number(Yn(m.upperRight_Y))]},uKe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],i=e._V||e.DV,o=XG(e,i),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Yn(o.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC");var c=ig(e);return c.scope=e.scope,c.stream=t.join(`
`),c}},XG=function(e,t){var i=e.fontSize===0?e.maxFontSize:e.fontSize,o={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(ne){return ne.split(`
`)}):s.map(function(ne){return[ne]});var c=i,u=fn.internal.getHeight(e)||0;u=u<0?-u:u;var C=fn.internal.getWidth(e)||0;C=C<0?-C:C;var m=function(ne,oe,be){if(ne+1<s.length){var Ie=oe+" "+s[ne+1][0];return yv(Ie,e,be).width<=C-4}return!1};c++;e:for(;c>0;){t="",c--;var v,x,G=yv("3",e,c).height,B=e.multiline?u-c:(u-G)/2,R=B+=2,V=0,H=0,M=0;if(c<=0){t=`(...) Tj
`,t+="% Width of Text: "+yv(t,e,c=12).width+", FieldWidth:"+C+`
`;break}for(var L="",_=0,X=0;X<s.length;X++)if(s.hasOwnProperty(X)){var Q=!1;if(s[X].length!==1&&M!==s[X].length-1){if((G+2)*(_+2)+2>u)continue e;L+=s[X][M],Q=!0,H=X,X--}else{L=(L+=s[X][M]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var j=parseInt(X),re=m(j,L,c),P=X>=s.length-1;if(re&&!P){L+=" ",M=0;continue}if(re||P){if(P)H=j;else if(e.multiline&&(G+2)*(_+2)+2>u)continue e}else{if(!e.multiline||(G+2)*(_+2)+2>u)continue e;H=j}}for(var O="",de=V;de<=H;de++){var ce=s[de];if(e.multiline){if(de===H){O+=ce[M]+" ",M=(M+1)%ce.length;continue}if(de===V){O+=ce[ce.length-1]+" ";continue}}O+=ce[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,x=yv(O,e,c).width,e.textAlign){case"right":v=C-x-2;break;case"center":v=(C-x)/2;break;case"left":default:v=2}t+=Yn(v)+" "+Yn(R)+` Td
`,t+="("+Lh(O)+`) Tj
`,t+=-Yn(v)+` 0 Td
`,R=-(c+2),x=0,V=Q?H:H+1,_++,L=""}break}return o.text=t,o.fontSize=c,o},yv=function(e,t,i){var o=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:o,fontSize:parseFloat(i),charSpace:0})*parseFloat(i);return{height:t.scope.getStringUnitWidth("3",{font:o,fontSize:parseFloat(i),charSpace:0})*parseFloat(i)*1.5,width:s}},hKe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mKe=function(e,t){var i={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(o){return o.type===i.type&&o.object===i.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(i)},pKe=function(e,t){for(var i in e)if(e.hasOwnProperty(i)){var o=i,s=e[i];t.internal.newObjectDeferredBegin(s.objId,!0),Ni(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete e[o]}},CKe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Vc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(hKe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Z_=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new CO,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(i){i.internal.events.unsubscribe(i.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete i.internal.acroformPlugin.acroFormDictionaryRoot._eventID,i.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(i){i.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var o=i.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in o)if(o.hasOwnProperty(s)){var c=o[s];c.objId=void 0,c.hasAnnotation&&mKe(c,i)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(i){if(i.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");i.internal.write("/AcroForm "+i.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(i){(function(o,s){var c=!o;for(var u in o||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),o=o||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(o.hasOwnProperty(u)){var C=o[u],m=[],v=C.Rect;if(C.Rect&&(C.Rect=AKe(C.Rect,s)),s.internal.newObjectDeferredBegin(C.objId,!0),C.DA=fn.createDefaultAppearanceStream(C),Ni(C)==="object"&&typeof C.getKeyValueListForStream=="function"&&(m=C.getKeyValueListForStream()),C.Rect=v,C.hasAppearanceStream&&!C.appearanceStreamContent){var x=uKe(C);m.push({key:"AP",value:"<</N "+x+">>"}),s.internal.acroformPlugin.xForms.push(x)}if(C.appearanceStreamContent){var G="";for(var B in C.appearanceStreamContent)if(C.appearanceStreamContent.hasOwnProperty(B)){var R=C.appearanceStreamContent[B];if(G+="/"+B+" ",G+="<<",Object.keys(R).length>=1||Array.isArray(R)){for(var u in R)if(R.hasOwnProperty(u)){var V=R[u];typeof V=="function"&&(V=V.call(s,C)),G+="/"+u+" "+V+" ",s.internal.acroformPlugin.xForms.indexOf(V)>=0||s.internal.acroformPlugin.xForms.push(V)}}else typeof(V=R)=="function"&&(V=V.call(s,C)),G+="/"+u+" "+V,s.internal.acroformPlugin.xForms.indexOf(V)>=0||s.internal.acroformPlugin.xForms.push(V);G+=">>"}m.push({key:"AP",value:`<<
`+G+">>"})}s.internal.putStream({additionalKeyValues:m,objectId:C.objId}),s.internal.out("endobj")}c&&pKe(s.internal.acroformPlugin.xForms,s)})(i,e)}),e.internal.acroformPlugin.isInitialized=!0}},mO=Kr.__acroform__.arrayToPdfArray=function(e,t,i){var o=function(u){return u};if(Array.isArray(e)){for(var s="[",c=0;c<e.length;c++)switch(c!==0&&(s+=" "),Ni(e[c])){case"boolean":case"number":case"object":s+=e[c].toString();break;case"string":e[c].substr(0,1)!=="/"?(t!==void 0&&i&&(o=i.internal.getEncryptor(t)),s+="("+Lh(o(e[c].toString()))+")"):s+=e[c].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},t5=function(e,t,i){var o=function(s){return s};return t!==void 0&&i&&(o=i.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Lh(o(e))+")"},mg=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};mg.prototype.toString=function(){return this.objId+" 0 R"},mg.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},mg.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(c){return c!="content"&&c!="appearanceStreamContent"&&c!="scope"&&c!="objId"&&c.substring(0,1)!="_"});for(var i in t)if(Object.getOwnPropertyDescriptor(this,t[i]).configurable===!1){var o=t[i],s=this[o];s&&(Array.isArray(s)?e.push({key:o,value:mO(s,this.objId,this.scope)}):s instanceof mg?(s.scope=this.scope,e.push({key:o,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:o,value:s}))}return e};var pO=function(){mg.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(i){e=i.trim()},get:function(){return e||null}})};Ba(pO,mg);var CO=function(){mg.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var i=function(o){return o};return this.scope&&(i=this.scope.internal.getEncryptor(this.objId)),"("+Lh(i(e))+")"}},set:function(i){e=i}})};Ba(CO,mg);var Vc=function e(){mg.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');t=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!co(t,3)},set:function(L){L?this.F=go(t,3):this.F=Ao(t,3)}});var i=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return i},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');i=L}});var o=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(o.length!==0)return o},set:function(L){o=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[0])?0:o[0]},set:function(L){o[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[1])?0:o[1]},set:function(L){o[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[2])?0:o[2]},set:function(L){o[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[3])?0:o[3]},set:function(L){o[3]=L}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var c=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!c||c.length<1){if(this instanceof fk)return;c="FieldObject"+e.FieldNum++}var L=function(_){return _};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+Lh(L(c))+")"},set:function(L){c=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return c},set:function(L){c=L}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(L){u=L}});var C="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return C},set:function(L){C=L}});var m=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return m},set:function(L){m=L}});var v=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return v===void 0?50/Z_:v},set:function(L){v=L}});var x="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return x},set:function(L){x=L}});var G="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!G||this instanceof fk||this instanceof PA))return t5(G,this.objId,this.scope)},set:function(L){L=L.toString(),G=L}});var B=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(B)return this instanceof Fo?B:t5(B,this.objId,this.scope)},set:function(L){L=L.toString(),B=this instanceof Fo?L:L.substr(0,1)==="("?jm(L.substr(1,L.length-2)):jm(L)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fo?jm(B.substr(1,B.length-1)):B},set:function(L){L=L.toString(),B=this instanceof Fo?"/"+L:L}});var R=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(R)return R},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(R)return this instanceof Fo?R:t5(R,this.objId,this.scope)},set:function(L){L=L.toString(),R=this instanceof Fo?L:L.substr(0,1)==="("?jm(L.substr(1,L.length-2)):jm(L)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fo?jm(R.substr(1,R.length-1)):R},set:function(L){L=L.toString(),R=this instanceof Fo?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var V,H=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return H},set:function(L){L=!!L,H=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(V)return V},set:function(L){V=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,1)},set:function(L){L?this.Ff=go(this.Ff,1):this.Ff=Ao(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,2)},set:function(L){L?this.Ff=go(this.Ff,2):this.Ff=Ao(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,3)},set:function(L){L?this.Ff=go(this.Ff,3):this.Ff=Ao(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');M=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(M){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:M=2;break;case"center":case 1:M=1;break;case"left":case 0:default:M=0}}})};Ba(Vc,mg);var Ch=function(){Vc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(i){e=i}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mO(t,this.objId,this.scope)},set:function(i){var o,s;s=[],typeof(o=i)=="string"&&(s=function(c,u,C){C||(C=1);for(var m,v=[];m=u.exec(c);)v.push(m[C]);return v}(o,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(i){t=i,this.sort&&t.sort()},this.addOption=function(i){i=(i=i||"").toString(),t.push(i),this.sort&&t.sort()},this.removeOption=function(i,o){for(o=o||!1,i=(i=i||"").toString();t.indexOf(i)!==-1&&(t.splice(t.indexOf(i),1),o!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,18)},set:function(i){i?this.Ff=go(this.Ff,18):this.Ff=Ao(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,19)},set:function(i){this.combo===!0&&(i?this.Ff=go(this.Ff,19):this.Ff=Ao(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,20)},set:function(i){i?(this.Ff=go(this.Ff,20),t.sort()):this.Ff=Ao(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,22)},set:function(i){i?this.Ff=go(this.Ff,22):this.Ff=Ao(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,23)},set:function(i){i?this.Ff=go(this.Ff,23):this.Ff=Ao(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,27)},set:function(i){i?this.Ff=go(this.Ff,27):this.Ff=Ao(this.Ff,27)}}),this.hasAppearanceStream=!1};Ba(Ch,Vc);var fh=function(){Ch.call(this),this.fontName="helvetica",this.combo=!1};Ba(fh,Ch);var Ih=function(){fh.call(this),this.combo=!0};Ba(Ih,fh);var VI=function(){Ih.call(this),this.edit=!0};Ba(VI,Ih);var Fo=function(){Vc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,15)},set:function(i){i?this.Ff=go(this.Ff,15):this.Ff=Ao(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,16)},set:function(i){i?this.Ff=go(this.Ff,16):this.Ff=Ao(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,17)},set:function(i){i?this.Ff=go(this.Ff,17):this.Ff=Ao(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,26)},set:function(i){i?this.Ff=go(this.Ff,26):this.Ff=Ao(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};if(this.scope&&(i=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var o,s=[];for(o in s.push("<<"),t)s.push("/"+o+" ("+Lh(i(t[o]))+")");return s.push(">>"),s.join(`
`)}},set:function(i){Ni(i)==="object"&&(t=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(i){typeof i=="string"&&(t.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(i){e="/"+i}})};Ba(Fo,Vc);var EI=function(){Fo.call(this),this.pushButton=!0};Ba(EI,Fo);var bh=function(){Fo.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ba(bh,Fo);var fk=function(){var e,t;Vc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var i,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(C){return C};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var c,u=[];for(c in u.push("<<"),o)u.push("/"+c+" ("+Lh(s(o[c]))+")");return u.push(">>"),u.join(`
`)},set:function(s){Ni(s)==="object"&&(o=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(s){typeof s=="string"&&(o.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(s){i=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(s){i="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=fn.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ba(fk,Vc),bh.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var i=this.Kids[t];i.appearanceStreamContent=e.createAppearanceStream(i.optionName),i.caption=e.getCA()}},bh.prototype.createOption=function(e){var t=new fk;return t.Parent=this,t.optionName=e,this.Kids.push(t),fKe.call(this.scope,t),t};var FI=function(){Fo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=fn.CheckBox.createAppearanceStream()};Ba(FI,Fo);var PA=function(){Vc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,13)},set:function(t){t?this.Ff=go(this.Ff,13):this.Ff=Ao(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,21)},set:function(t){t?this.Ff=go(this.Ff,21):this.Ff=Ao(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,23)},set:function(t){t?this.Ff=go(this.Ff,23):this.Ff=Ao(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,24)},set:function(t){t?this.Ff=go(this.Ff,24):this.Ff=Ao(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,25)},set:function(t){t?this.Ff=go(this.Ff,25):this.Ff=Ao(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,26)},set:function(t){t?this.Ff=go(this.Ff,26):this.Ff=Ao(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ba(PA,Vc);var WI=function(){PA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!co(this.Ff,14)},set:function(e){e?this.Ff=go(this.Ff,14):this.Ff=Ao(this.Ff,14)}}),this.password=!0};Ba(WI,PA);var fn={CheckBox:{createAppearanceStream:function(){return{N:{On:fn.CheckBox.YesNormal},D:{On:fn.CheckBox.YesPushDown,Off:fn.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ig(e);t.scope=e.scope;var i=[],o=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),c=XG(e,e.caption);return i.push("0.749023 g"),i.push("0 0 "+Yn(fn.internal.getWidth(e))+" "+Yn(fn.internal.getHeight(e))+" re"),i.push("f"),i.push("BMC"),i.push("q"),i.push("0 0 1 rg"),i.push("/"+o+" "+Yn(c.fontSize)+" Tf "+s),i.push("BT"),i.push(c.text),i.push("ET"),i.push("Q"),i.push("EMC"),t.stream=i.join(`
`),t},YesNormal:function(e){var t=ig(e);t.scope=e.scope;var i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,o=e.scope.__private__.encodeColorString(e.color),s=[],c=fn.internal.getHeight(e),u=fn.internal.getWidth(e),C=XG(e,e.caption);return s.push("1 g"),s.push("0 0 "+Yn(u)+" "+Yn(c)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Yn(u-1)+" "+Yn(c-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+i+" "+Yn(C.fontSize)+" Tf "+o),s.push(C.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=ig(e);t.scope=e.scope;var i=[];return i.push("0.749023 g"),i.push("0 0 "+Yn(fn.internal.getWidth(e))+" "+Yn(fn.internal.getHeight(e))+" re"),i.push("f"),t.stream=i.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:fn.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=fn.RadioButton.Circle.YesNormal,t.D[e]=fn.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ig(e);t.scope=e.scope;var i=[],o=fn.internal.getWidth(e)<=fn.internal.getHeight(e)?fn.internal.getWidth(e)/4:fn.internal.getHeight(e)/4;o=Number((.9*o).toFixed(5));var s=fn.internal.Bezier_C,c=Number((o*s).toFixed(5));return i.push("q"),i.push("1 0 0 1 "+gA(fn.internal.getWidth(e)/2)+" "+gA(fn.internal.getHeight(e)/2)+" cm"),i.push(o+" 0 m"),i.push(o+" "+c+" "+c+" "+o+" 0 "+o+" c"),i.push("-"+c+" "+o+" -"+o+" "+c+" -"+o+" 0 c"),i.push("-"+o+" -"+c+" -"+c+" -"+o+" 0 -"+o+" c"),i.push(c+" -"+o+" "+o+" -"+c+" "+o+" 0 c"),i.push("f"),i.push("Q"),t.stream=i.join(`
`),t},YesPushDown:function(e){var t=ig(e);t.scope=e.scope;var i=[],o=fn.internal.getWidth(e)<=fn.internal.getHeight(e)?fn.internal.getWidth(e)/4:fn.internal.getHeight(e)/4;o=Number((.9*o).toFixed(5));var s=Number((2*o).toFixed(5)),c=Number((s*fn.internal.Bezier_C).toFixed(5)),u=Number((o*fn.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+gA(fn.internal.getWidth(e)/2)+" "+gA(fn.internal.getHeight(e)/2)+" cm"),i.push(s+" 0 m"),i.push(s+" "+c+" "+c+" "+s+" 0 "+s+" c"),i.push("-"+c+" "+s+" -"+s+" "+c+" -"+s+" 0 c"),i.push("-"+s+" -"+c+" -"+c+" -"+s+" 0 -"+s+" c"),i.push(c+" -"+s+" "+s+" -"+c+" "+s+" 0 c"),i.push("f"),i.push("Q"),i.push("0 g"),i.push("q"),i.push("1 0 0 1 "+gA(fn.internal.getWidth(e)/2)+" "+gA(fn.internal.getHeight(e)/2)+" cm"),i.push(o+" 0 m"),i.push(o+" "+u+" "+u+" "+o+" 0 "+o+" c"),i.push("-"+u+" "+o+" -"+o+" "+u+" -"+o+" 0 c"),i.push("-"+o+" -"+u+" -"+u+" -"+o+" 0 -"+o+" c"),i.push(u+" -"+o+" "+o+" -"+u+" "+o+" 0 c"),i.push("f"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=ig(e);t.scope=e.scope;var i=[],o=fn.internal.getWidth(e)<=fn.internal.getHeight(e)?fn.internal.getWidth(e)/4:fn.internal.getHeight(e)/4;o=Number((.9*o).toFixed(5));var s=Number((2*o).toFixed(5)),c=Number((s*fn.internal.Bezier_C).toFixed(5));return i.push("0.749023 g"),i.push("q"),i.push("1 0 0 1 "+gA(fn.internal.getWidth(e)/2)+" "+gA(fn.internal.getHeight(e)/2)+" cm"),i.push(s+" 0 m"),i.push(s+" "+c+" "+c+" "+s+" 0 "+s+" c"),i.push("-"+c+" "+s+" -"+s+" "+c+" -"+s+" 0 c"),i.push("-"+s+" -"+c+" -"+c+" -"+s+" 0 -"+s+" c"),i.push(c+" -"+s+" "+s+" -"+c+" "+s+" 0 c"),i.push("f"),i.push("Q"),t.stream=i.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:fn.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=fn.RadioButton.Cross.YesNormal,t.D[e]=fn.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ig(e);t.scope=e.scope;var i=[],o=fn.internal.calculateCross(e);return i.push("q"),i.push("1 1 "+Yn(fn.internal.getWidth(e)-2)+" "+Yn(fn.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(Yn(o.x1.x)+" "+Yn(o.x1.y)+" m"),i.push(Yn(o.x2.x)+" "+Yn(o.x2.y)+" l"),i.push(Yn(o.x4.x)+" "+Yn(o.x4.y)+" m"),i.push(Yn(o.x3.x)+" "+Yn(o.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},YesPushDown:function(e){var t=ig(e);t.scope=e.scope;var i=fn.internal.calculateCross(e),o=[];return o.push("0.749023 g"),o.push("0 0 "+Yn(fn.internal.getWidth(e))+" "+Yn(fn.internal.getHeight(e))+" re"),o.push("f"),o.push("q"),o.push("1 1 "+Yn(fn.internal.getWidth(e)-2)+" "+Yn(fn.internal.getHeight(e)-2)+" re"),o.push("W"),o.push("n"),o.push(Yn(i.x1.x)+" "+Yn(i.x1.y)+" m"),o.push(Yn(i.x2.x)+" "+Yn(i.x2.y)+" l"),o.push(Yn(i.x4.x)+" "+Yn(i.x4.y)+" m"),o.push(Yn(i.x3.x)+" "+Yn(i.x3.y)+" l"),o.push("s"),o.push("Q"),t.stream=o.join(`
`),t},OffPushDown:function(e){var t=ig(e);t.scope=e.scope;var i=[];return i.push("0.749023 g"),i.push("0 0 "+Yn(fn.internal.getWidth(e))+" "+Yn(fn.internal.getHeight(e))+" re"),i.push("f"),t.stream=i.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+i}};fn.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=fn.internal.getWidth(e),i=fn.internal.getHeight(e),o=Math.min(t,i);return{x1:{x:(t-o)/2,y:(i-o)/2+o},x2:{x:(t-o)/2+o,y:(i-o)/2},x3:{x:(t-o)/2,y:(i-o)/2},x4:{x:(t-o)/2+o,y:(i-o)/2+o}}}},fn.internal.getWidth=function(e){var t=0;return Ni(e)==="object"&&(t=zY(e.Rect[2])),t},fn.internal.getHeight=function(e){var t=0;return Ni(e)==="object"&&(t=zY(e.Rect[3])),t};var fKe=Kr.addField=function(e){if(CKe(this,e),!(e instanceof Vc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Kr.AcroFormChoiceField=Ch,Kr.AcroFormListBox=fh,Kr.AcroFormComboBox=Ih,Kr.AcroFormEditBox=VI,Kr.AcroFormButton=Fo,Kr.AcroFormPushButton=EI,Kr.AcroFormRadioButton=bh,Kr.AcroFormCheckBox=FI,Kr.AcroFormTextField=PA,Kr.AcroFormPasswordField=WI,Kr.AcroFormAppearance=fn,Kr.AcroForm={ChoiceField:Ch,ListBox:fh,ComboBox:Ih,EditBox:VI,Button:Fo,PushButton:EI,RadioButton:bh,CheckBox:FI,TextField:PA,PasswordField:WI,Appearance:fn},_n.AcroForm={ChoiceField:Ch,ListBox:fh,ComboBox:Ih,EditBox:VI,Button:Fo,PushButton:EI,RadioButton:bh,CheckBox:FI,TextField:PA,PasswordField:WI,Appearance:fn};var IKe=_n.AcroForm;function fO(e){return e.reduce(function(t,i,o){return t[i]=o,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=e.__addimage__.getImageFileTypeByImageData=function(ne,oe){var be,Ie,Re,ye,ve,fe=t;if((oe=oe||t)==="RGBA"||ne.data!==void 0&&ne.data instanceof Uint8ClampedArray&&"height"in ne&&"width"in ne)return"RGBA";if(re(ne))for(ve in i)for(Re=i[ve],be=0;be<Re.length;be+=1){for(ye=!0,Ie=0;Ie<Re[be].length;Ie+=1)if(Re[be][Ie]!==void 0&&Re[be][Ie]!==ne[Ie]){ye=!1;break}if(ye===!0){fe=ve;break}}else for(ve in i)for(Re=i[ve],be=0;be<Re.length;be+=1){for(ye=!0,Ie=0;Ie<Re[be].length;Ie+=1)if(Re[be][Ie]!==void 0&&Re[be][Ie]!==ne.charCodeAt(Ie)){ye=!1;break}if(ye===!0){fe=ve;break}}return fe===t&&oe!==t&&(fe=oe),fe},s=function ne(oe){for(var be=this.internal.write,Ie=this.internal.putStream,Re=(0,this.internal.getFilters)();Re.indexOf("FlateEncode")!==-1;)Re.splice(Re.indexOf("FlateEncode"),1);oe.objectId=this.internal.newObject();var ye=[];if(ye.push({key:"Type",value:"/XObject"}),ye.push({key:"Subtype",value:"/Image"}),ye.push({key:"Width",value:oe.width}),ye.push({key:"Height",value:oe.height}),oe.colorSpace===M.INDEXED?ye.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(oe.palette.length/3-1)+" "+("sMask"in oe&&oe.sMask!==void 0?oe.objectId+2:oe.objectId+1)+" 0 R]"}):(ye.push({key:"ColorSpace",value:"/"+oe.colorSpace}),oe.colorSpace===M.DEVICE_CMYK&&ye.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ye.push({key:"BitsPerComponent",value:oe.bitsPerComponent}),"decodeParameters"in oe&&oe.decodeParameters!==void 0&&ye.push({key:"DecodeParms",value:"<<"+oe.decodeParameters+">>"}),"transparency"in oe&&Array.isArray(oe.transparency)){for(var ve="",fe=0,Ge=oe.transparency.length;fe<Ge;fe++)ve+=oe.transparency[fe]+" "+oe.transparency[fe]+" ";ye.push({key:"Mask",value:"["+ve+"]"})}oe.sMask!==void 0&&ye.push({key:"SMask",value:oe.objectId+1+" 0 R"});var De=oe.filter!==void 0?["/"+oe.filter]:void 0;if(Ie({data:oe.data,additionalKeyValues:ye,alreadyAppliedFilters:De,objectId:oe.objectId}),be("endobj"),"sMask"in oe&&oe.sMask!==void 0){var Pe="/Predictor "+oe.predictor+" /Colors 1 /BitsPerComponent "+oe.bitsPerComponent+" /Columns "+oe.width,me={width:oe.width,height:oe.height,colorSpace:"DeviceGray",bitsPerComponent:oe.bitsPerComponent,decodeParameters:Pe,data:oe.sMask};"filter"in oe&&(me.filter=oe.filter),ne.call(this,me)}if(oe.colorSpace===M.INDEXED){var _e=this.internal.newObject();Ie({data:O(new Uint8Array(oe.palette)),objectId:_e}),be("endobj")}},c=function(){var ne=this.internal.collections.addImage_images;for(var oe in ne)s.call(this,ne[oe])},u=function(){var ne,oe=this.internal.collections.addImage_images,be=this.internal.write;for(var Ie in oe)be("/I"+(ne=oe[Ie]).index,ne.objectId,"0","R")},C=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",u))},m=function(){var ne=this.internal.collections.addImage_images;return C.call(this),ne},v=function(){return Object.keys(this.internal.collections.addImage_images).length},x=function(ne){return typeof e["process"+ne.toUpperCase()]=="function"},G=function(ne){return Ni(ne)==="object"&&ne.nodeType===1},B=function(ne,oe){if(ne.nodeName==="IMG"&&ne.hasAttribute("src")){var be=""+ne.getAttribute("src");if(be.indexOf("data:image/")===0)return _I(unescape(be).split("base64,").pop());var Ie=e.loadFile(be,!0);if(Ie!==void 0)return Ie}if(ne.nodeName==="CANVAS"){if(ne.width===0||ne.height===0)throw new Error("Given canvas must have data. Canvas width: "+ne.width+", height: "+ne.height);var Re;switch(oe){case"PNG":Re="image/png";break;case"WEBP":Re="image/webp";break;case"JPEG":case"JPG":default:Re="image/jpeg"}return _I(ne.toDataURL(Re,1).split("base64,").pop())}},R=function(ne){var oe=this.internal.collections.addImage_images;if(oe){for(var be in oe)if(ne===oe[be].alias)return oe[be]}},V=function(ne,oe,be){return ne||oe||(ne=-96,oe=-96),ne<0&&(ne=-1*be.width*72/ne/this.internal.scaleFactor),oe<0&&(oe=-1*be.height*72/oe/this.internal.scaleFactor),ne===0&&(ne=oe*be.width/be.height),oe===0&&(oe=ne*be.height/be.width),[ne,oe]},H=function(ne,oe,be,Ie,Re,ye){var ve=V.call(this,be,Ie,Re),fe=this.internal.getCoordinateString,Ge=this.internal.getVerticalCoordinateString,De=m.call(this);if(be=ve[0],Ie=ve[1],De[Re.index]=Re,ye){ye*=Math.PI/180;var Pe=Math.cos(ye),me=Math.sin(ye),_e=function(Ee){return Ee.toFixed(4)},pe=[_e(Pe),_e(me),_e(-1*me),_e(Pe),0,0,"cm"]}this.internal.write("q"),ye?(this.internal.write([1,"0","0",1,fe(ne),Ge(oe+Ie),"cm"].join(" ")),this.internal.write(pe.join(" ")),this.internal.write([fe(be),"0","0",fe(Ie),"0","0","cm"].join(" "))):this.internal.write([fe(be),"0","0",fe(Ie),fe(ne),Ge(oe+Ie),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Re.index+" Do"),this.internal.write("Q")},M=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(ne){var oe,be,Ie=0;if(typeof ne=="string")for(be=ne.length,oe=0;oe<be;oe++)Ie=(Ie<<5)-Ie+ne.charCodeAt(oe),Ie|=0;else if(re(ne))for(be=ne.byteLength/2,oe=0;oe<be;oe++)Ie=(Ie<<5)-Ie+ne[oe],Ie|=0;return Ie},X=e.__addimage__.validateStringAsBase64=function(ne){(ne=ne||"").toString().trim();var oe=!0;return ne.length===0&&(oe=!1),ne.length%4!=0&&(oe=!1),/^[A-Za-z0-9+/]+$/.test(ne.substr(0,ne.length-2))===!1&&(oe=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ne.substr(-2))===!1&&(oe=!1),oe},Q=e.__addimage__.extractImageFromDataUrl=function(ne){var oe=(ne=ne||"").split("base64,"),be=null;if(oe.length===2){var Ie=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(oe[0]);Array.isArray(Ie)&&(be={mimeType:Ie[1],charset:Ie[2],data:oe[1]})}return be},j=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(ne){return j()&&ne instanceof ArrayBuffer};var re=e.__addimage__.isArrayBufferView=function(ne){return j()&&typeof Uint32Array<"u"&&(ne instanceof Int8Array||ne instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&ne instanceof Uint8ClampedArray||ne instanceof Int16Array||ne instanceof Uint16Array||ne instanceof Int32Array||ne instanceof Uint32Array||ne instanceof Float32Array||ne instanceof Float64Array)},P=e.__addimage__.binaryStringToUint8Array=function(ne){for(var oe=ne.length,be=new Uint8Array(oe),Ie=0;Ie<oe;Ie++)be[Ie]=ne.charCodeAt(Ie);return be},O=e.__addimage__.arrayBufferToBinaryString=function(ne){for(var oe="",be=re(ne)?ne:new Uint8Array(ne),Ie=0;Ie<be.length;Ie+=8192)oe+=String.fromCharCode.apply(null,be.subarray(Ie,Ie+8192));return oe};e.addImage=function(){var ne,oe,be,Ie,Re,ye,ve,fe,Ge;if(typeof arguments[1]=="number"?(oe=t,be=arguments[1],Ie=arguments[2],Re=arguments[3],ye=arguments[4],ve=arguments[5],fe=arguments[6],Ge=arguments[7]):(oe=arguments[1],be=arguments[2],Ie=arguments[3],Re=arguments[4],ye=arguments[5],ve=arguments[6],fe=arguments[7],Ge=arguments[8]),Ni(ne=arguments[0])==="object"&&!G(ne)&&"imageData"in ne){var De=ne;ne=De.imageData,oe=De.format||oe||t,be=De.x||be||0,Ie=De.y||Ie||0,Re=De.w||De.width||Re,ye=De.h||De.height||ye,ve=De.alias||ve,fe=De.compression||fe,Ge=De.rotation||De.angle||Ge}var Pe=this.internal.getFilters();if(fe===void 0&&Pe.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(be)||isNaN(Ie))throw new Error("Invalid coordinates passed to jsPDF.addImage");C.call(this);var me=de.call(this,ne,oe,ve,fe);return H.call(this,be,Ie,Re,ye,me,Ge),this};var de=function(ne,oe,be,Ie){var Re,ye,ve;if(typeof ne=="string"&&o(ne)===t){ne=unescape(ne);var fe=ce(ne,!1);(fe!==""||(fe=e.loadFile(ne,!0))!==void 0)&&(ne=fe)}if(G(ne)&&(ne=B(ne,oe)),oe=o(ne,oe),!x(oe))throw new Error("addImage does not support files of type '"+oe+"', please ensure that a plugin for '"+oe+"' support is added.");if(((ve=be)==null||ve.length===0)&&(be=function(Ge){return typeof Ge=="string"||re(Ge)?_(Ge):re(Ge.data)?_(Ge.data):null}(ne)),(Re=R.call(this,be))||(j()&&(ne instanceof Uint8Array||oe==="RGBA"||(ye=ne,ne=P(ne))),Re=this["process"+oe.toUpperCase()](ne,v.call(this),be,function(Ge){return Ge&&typeof Ge=="string"&&(Ge=Ge.toUpperCase()),Ge in e.image_compression?Ge:L.NONE}(Ie),ye)),!Re)throw new Error("An unknown error occurred whilst processing the image.");return Re},ce=e.__addimage__.convertBase64ToBinaryString=function(ne,oe){var be;oe=typeof oe!="boolean"||oe;var Ie,Re="";if(typeof ne=="string"){Ie=(be=Q(ne))!==null?be.data:ne;try{Re=_I(Ie)}catch(ye){if(oe)throw X(Ie)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ye.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Re};e.getImageProperties=function(ne){var oe,be,Ie="";if(G(ne)&&(ne=B(ne)),typeof ne=="string"&&o(ne)===t&&((Ie=ce(ne,!1))===""&&(Ie=e.loadFile(ne)||""),ne=Ie),be=o(ne),!x(be))throw new Error("addImage does not support files of type '"+be+"', please ensure that a plugin for '"+be+"' support is added.");if(!j()||ne instanceof Uint8Array||(ne=P(ne)),!(oe=this["process"+be.toUpperCase()](ne)))throw new Error("An unknown error occurred whilst processing the image");return oe.fileType=be,oe}})(_n.API),function(e){var t=function(i){if(i!==void 0&&i!="")return!0};_n.API.events.push(["addPage",function(i){this.internal.getPageInfo(i.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(i){for(var o,s,c,u=this.internal.getCoordinateString,C=this.internal.getVerticalCoordinateString,m=this.internal.getPageInfoByObjId(i.objId),v=i.pageContext.annotations,x=!1,G=0;G<v.length&&!x;G++)switch((o=v[G]).type){case"link":(t(o.options.url)||t(o.options.pageNumber))&&(x=!0);break;case"reference":case"text":case"freetext":x=!0}if(x!=0){this.internal.write("/Annots [");for(var B=0;B<v.length;B++){o=v[B];var R=this.internal.pdfEscape,V=this.internal.getEncryptor(i.objId);switch(o.type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var H=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(H.objId),_=o.title||"Note";c="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(o.bounds.x)+" "+C(o.bounds.y+o.bounds.h)+" "+u(o.bounds.x+o.bounds.w)+" "+C(o.bounds.y)+"] ")+"/Contents ("+R(L(o.contents))+")",c+=" /Popup "+M.objId+" 0 R",c+=" /P "+m.objId+" 0 R",c+=" /T ("+R(L(_))+") >>",H.content=c;var X=H.objId+" 0 R";c="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(o.bounds.x+30)+" "+C(o.bounds.y+o.bounds.h)+" "+u(o.bounds.x+o.bounds.w+30)+" "+C(o.bounds.y)+"] ")+" /Parent "+X,o.open&&(c+=" /Open true"),c+=" >>",M.content=c,this.internal.write(H.objId,"0 R",M.objId,"0 R");break;case"freetext":s="/Rect ["+u(o.bounds.x)+" "+C(o.bounds.y)+" "+u(o.bounds.x+o.bounds.w)+" "+C(o.bounds.y+o.bounds.h)+"] ";var Q=o.color||"#000000";c="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+R(V(o.contents))+")",c+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Q+")",c+=" /Border [0 0 0]",c+=" >>",this.internal.write(c);break;case"link":if(o.options.name){var j=this.annotations._nameMap[o.options.name];o.options.pageNumber=j.page,o.options.top=j.y}else o.options.top||(o.options.top=0);if(s="/Rect ["+o.finalBounds.x+" "+o.finalBounds.y+" "+o.finalBounds.w+" "+o.finalBounds.h+"] ",c="",o.options.url)c="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+R(V(o.options.url))+") >>";else if(o.options.pageNumber)switch(c="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":c+=" /Fit]";break;case"FitH":c+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,c+=" /FitV "+o.options.left+"]";break;case"XYZ":default:var re=C(o.options.top);o.options.left=o.options.left||0,o.options.zoom===void 0&&(o.options.zoom=0),c+=" /XYZ "+o.options.left+" "+re+" "+o.options.zoom+"]"}c!=""&&(c+=" >>",this.internal.write(c))}}this.internal.write("]")}}]),e.createAnnotation=function(i){var o=this.internal.getCurrentPageInfo();switch(i.type){case"link":this.link(i.bounds.x,i.bounds.y,i.bounds.w,i.bounds.h,i);break;case"text":case"freetext":o.pageContext.annotations.push(i)}},e.link=function(i,o,s,c,u){var C=this.internal.getCurrentPageInfo(),m=this.internal.getCoordinateString,v=this.internal.getVerticalCoordinateString;C.pageContext.annotations.push({finalBounds:{x:m(i),y:v(o),w:m(i+s),h:v(o+c)},options:u,type:"link"})},e.textWithLink=function(i,o,s,c){var u,C,m=this.getTextWidth(i),v=this.internal.getLineHeight()/this.internal.scaleFactor;if(c.maxWidth!==void 0){C=c.maxWidth;var x=this.splitTextToSize(i,C).length;u=Math.ceil(v*x)}else C=m,u=v;return this.text(i,o,s,c),s+=.2*v,c.align==="center"&&(o-=m/2),c.align==="right"&&(o-=m),this.link(o,s-v,C,u,c),m},e.getTextWidth=function(i){var o=this.internal.getFontSize();return this.getStringUnitWidth(i)*o/this.internal.scaleFactor}}(_n.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},i={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},o={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var c=e.__arabicParser__.isInArabicSubstitutionA=function(H){return t[H.charCodeAt(0)]!==void 0},u=e.__arabicParser__.isArabicLetter=function(H){return typeof H=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(H)},C=e.__arabicParser__.isArabicEndLetter=function(H){return u(H)&&c(H)&&t[H.charCodeAt(0)].length<=2},m=e.__arabicParser__.isArabicAlfLetter=function(H){return u(H)&&s.indexOf(H.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(H){return u(H)&&c(H)&&t[H.charCodeAt(0)].length>=1};var v=e.__arabicParser__.arabicLetterHasFinalForm=function(H){return u(H)&&c(H)&&t[H.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(H){return u(H)&&c(H)&&t[H.charCodeAt(0)].length>=3};var x=e.__arabicParser__.arabicLetterHasMedialForm=function(H){return u(H)&&c(H)&&t[H.charCodeAt(0)].length==4},G=e.__arabicParser__.resolveLigatures=function(H){var M=0,L=i,_="",X=0;for(M=0;M<H.length;M+=1)L[H.charCodeAt(M)]!==void 0?(X++,typeof(L=L[H.charCodeAt(M)])=="number"&&(_+=String.fromCharCode(L),L=i,X=0),M===H.length-1&&(L=i,_+=H.charAt(M-(X-1)),M-=X-1,X=0)):(L=i,_+=H.charAt(M-X),M-=X,X=0);return _};e.__arabicParser__.isArabicDiacritic=function(H){return H!==void 0&&o[H.charCodeAt(0)]!==void 0};var B=e.__arabicParser__.getCorrectForm=function(H,M,L){return u(H)?c(H)===!1?-1:!v(H)||!u(M)&&!u(L)||!u(L)&&C(M)||C(H)&&!u(M)||C(H)&&m(M)||C(H)&&C(M)?0:x(H)&&u(M)&&!C(M)&&u(L)&&v(L)?3:C(H)||!u(L)?1:2:-1},R=function(H){var M=0,L=0,_=0,X="",Q="",j="",re=(H=H||"").split("\\s+"),P=[];for(M=0;M<re.length;M+=1){for(P.push(""),L=0;L<re[M].length;L+=1)X=re[M][L],Q=re[M][L-1],j=re[M][L+1],u(X)?(_=B(X,Q,j),P[M]+=_!==-1?String.fromCharCode(t[X.charCodeAt(0)][_]):X):P[M]+=X;P[M]=G(P[M])}return P.join(" ")},V=e.__arabicParser__.processArabic=e.processArabic=function(){var H,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(M)){var _=0;for(L=[],_=0;_<M.length;_+=1)Array.isArray(M[_])?L.push([R(M[_][0]),M[_][1],M[_][2]]):L.push([R(M[_])]);H=L}else H=R(M);return typeof arguments[0]=="string"?H:(arguments[0].text=H,arguments[0])};e.events.push(["preProcessText",V])}(_n.API),_n.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var i=void 0;Object.defineProperty(this,"pdf",{get:function(){return i},set:function(C){i=C}});var o=150;Object.defineProperty(this,"width",{get:function(){return o},set:function(C){o=isNaN(C)||Number.isInteger(C)===!1||C<0?150:C,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=o+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(C){s=isNaN(C)||Number.isInteger(C)===!1||C<0?300:C,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var c=[];Object.defineProperty(this,"childNodes",{get:function(){return c},set:function(C){c=C}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(C){u=C}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(i,o){var s;if((i=i||"2d")!=="2d")return null;for(s in o)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=o[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(_n.API),function(e){var t={left:0,top:0,bottom:0,right:0},i=!1,o=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new c,this.internal.__cell__.pages=1},c=function(){var m=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return m},set:function(H){m=H}});var v=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return v},set:function(H){v=H}});var x=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return x},set:function(H){x=H}});var G=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return G},set:function(H){G=H}});var B=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return B},set:function(H){B=H}});var R=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return R},set:function(H){R=H}});var V=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return V},set:function(H){V=H}}),this};c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},c.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(m){return o.call(this),this.internal.__cell__.headerFunction=typeof m=="function"?m:void 0,this},e.getTextDimensions=function(m,v){o.call(this);var x=(v=v||{}).fontSize||this.getFontSize(),G=v.font||this.getFont(),B=v.scaleFactor||this.internal.scaleFactor,R=0,V=0,H=0,M=this;if(!Array.isArray(m)&&typeof m!="string"){if(typeof m!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");m=String(m)}var L=v.maxWidth;L>0?typeof m=="string"?m=this.splitTextToSize(m,L):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(X,Q){return X.concat(M.splitTextToSize(Q,L))},[])):m=Array.isArray(m)?m:[m];for(var _=0;_<m.length;_++)R<(H=this.getStringUnitWidth(m[_],{font:G})*x)&&(R=H);return R!==0&&(V=m.length),{w:R/=B,h:Math.max((V*x*this.getLineHeightFactor()-x*(this.getLineHeightFactor()-1))/B,0)}},e.cellAddPage=function(){o.call(this),this.addPage();var m=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new c(m.left,m.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=e.cell=function(){var m;m=arguments[0]instanceof c?arguments[0]:new c(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),o.call(this);var v=this.internal.__cell__.lastCell,x=this.internal.__cell__.padding,G=this.internal.__cell__.margins||t,B=this.internal.__cell__.tableHeaderRow,R=this.internal.__cell__.printHeaders;return v.lineNumber!==void 0&&(v.lineNumber===m.lineNumber?(m.x=(v.x||0)+(v.width||0),m.y=v.y||0):v.y+v.height+m.height+G.bottom>this.getPageHeight()?(this.cellAddPage(),m.y=G.top,R&&B&&(this.printHeaderRow(m.lineNumber,!0),m.y+=B[0].height)):m.y=v.y+v.height||m.y),m.text[0]!==void 0&&(this.rect(m.x,m.y,m.width,m.height,i===!0?"FD":void 0),m.align==="right"?this.text(m.text,m.x+m.width-x,m.y+x,{align:"right",baseline:"top"}):m.align==="center"?this.text(m.text,m.x+m.width/2,m.y+x,{align:"center",baseline:"top",maxWidth:m.width-x-x}):this.text(m.text,m.x+x,m.y+x,{align:"left",baseline:"top",maxWidth:m.width-x-x})),this.internal.__cell__.lastCell=m,this};e.table=function(m,v,x,G,B){if(o.call(this),!x)throw new Error("No data for PDF table.");var R,V,H,M,L=[],_=[],X=[],Q={},j={},re=[],P=[],O=(B=B||{}).autoSize||!1,de=B.printHeaders!==!1,ce=B.css&&B.css["font-size"]!==void 0?16*B.css["font-size"]:B.fontSize||12,ne=B.margins||Object.assign({width:this.getPageWidth()},t),oe=typeof B.padding=="number"?B.padding:3,be=B.headerBackgroundColor||"#c8c8c8",Ie=B.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=de,this.internal.__cell__.margins=ne,this.internal.__cell__.table_font_size=ce,this.internal.__cell__.padding=oe,this.internal.__cell__.headerBackgroundColor=be,this.internal.__cell__.headerTextColor=Ie,this.setFontSize(ce),G==null)_=L=Object.keys(x[0]),X=L.map(function(){return"left"});else if(Array.isArray(G)&&Ni(G[0])==="object")for(L=G.map(function(De){return De.name}),_=G.map(function(De){return De.prompt||De.name||""}),X=G.map(function(De){return De.align||"left"}),R=0;R<G.length;R+=1)j[G[R].name]=G[R].width*(19.049976/25.4);else Array.isArray(G)&&typeof G[0]=="string"&&(_=L=G,X=L.map(function(){return"left"}));if(O||Array.isArray(G)&&typeof G[0]=="string")for(R=0;R<L.length;R+=1){for(Q[M=L[R]]=x.map(function(De){return De[M]}),this.setFont(void 0,"bold"),re.push(this.getTextDimensions(_[R],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),V=Q[M],this.setFont(void 0,"normal"),H=0;H<V.length;H+=1)re.push(this.getTextDimensions(V[H],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[M]=Math.max.apply(null,re)+oe+oe,re=[]}if(de){var Re={};for(R=0;R<L.length;R+=1)Re[L[R]]={},Re[L[R]].text=_[R],Re[L[R]].align=X[R];var ye=C.call(this,Re,j);P=L.map(function(De){return new c(m,v,j[De],ye,Re[De].text,void 0,Re[De].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var ve=G.reduce(function(De,Pe){return De[Pe.name]=Pe.align,De},{});for(R=0;R<x.length;R+=1){"rowStart"in B&&B.rowStart instanceof Function&&B.rowStart({row:R,data:x[R]},this);var fe=C.call(this,x[R],j);for(H=0;H<L.length;H+=1){var Ge=x[R][L[H]];"cellStart"in B&&B.cellStart instanceof Function&&B.cellStart({row:R,col:H,data:Ge},this),u.call(this,new c(m,v,j[L[H]],fe,Ge,R+2,ve[L[H]]))}}return this.internal.__cell__.table_x=m,this.internal.__cell__.table_y=v,this};var C=function(m,v){var x=this.internal.__cell__.padding,G=this.internal.__cell__.table_font_size,B=this.internal.scaleFactor;return Object.keys(m).map(function(R){var V=m[R];return this.splitTextToSize(V.hasOwnProperty("text")?V.text:V,v[R]-x-x)},this).map(function(R){return this.getLineHeightFactor()*R.length*G/B+x+x},this).reduce(function(R,V){return Math.max(R,V)},0)};e.setTableHeaderRow=function(m){o.call(this),this.internal.__cell__.tableHeaderRow=m},e.printHeaderRow=function(m,v){if(o.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var x;if(i=!0,typeof this.internal.__cell__.headerFunction=="function"){var G=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new c(G[0],G[1],G[2],G[3],void 0,-1)}this.setFont(void 0,"bold");for(var B=[],R=0;R<this.internal.__cell__.tableHeaderRow.length;R+=1){x=this.internal.__cell__.tableHeaderRow[R].clone(),v&&(x.y=this.internal.__cell__.margins.top||0,B.push(x)),x.lineNumber=m;var V=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,x),this.setTextColor(V)}B.length>0&&this.setTableHeaderRow(B),this.setFont(void 0,"normal"),i=!1}}(_n.API);var IO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},bO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],MG=fO(bO),yO=[100,200,300,400,500,600,700,800,900],bKe=fO(yO);function YG(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),i=function(c){return IO[c=c||"normal"]?c:"normal"}(e.style),o=function(c){if(!c)return 400;if(typeof c=="number")return c>=100&&c<=900&&c%100==0?c:400;if(/^\d00$/.test(c))return parseInt(c);switch(c){case"bold":return 700;case"normal":default:return 400}}(e.weight),s=function(c){return typeof MG[c=c||"normal"]=="number"?c:"normal"}(e.stretch);return{family:t,style:i,weight:o,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,i,o].join(" ")}}}function QY(e,t,i,o){var s;for(s=i;s>=0&&s<t.length;s+=o)if(e[t[s]])return e[t[s]];for(s=i;s>=0&&s<t.length;s-=o)if(e[t[s]])return e[t[s]]}var yKe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},jY={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function OY(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function vKe(e,t,i){for(var o=(i=i||{}).defaultFontFamily||"times",s=Object.assign({},yKe,i.genericFontFamilies||{}),c=null,u=null,C=0;C<t.length;++C)if(s[(c=YG(t[C])).family]&&(c.family=s[c.family]),e.hasOwnProperty(c.family)){u=e[c.family];break}if(!(u=u||e[o]))throw new Error("Could not find a font-family for the rule '"+OY(c)+"' and default family '"+o+"'.");if(u=function(m,v){if(v[m])return v[m];var x=MG[m],G=x<=MG.normal?-1:1,B=QY(v,bO,x,G);if(!B)throw new Error("Could not find a matching font-stretch value for "+m);return B}(c.stretch,u),u=function(m,v){if(v[m])return v[m];for(var x=IO[m],G=0;G<x.length;++G)if(v[x[G]])return v[x[G]];throw new Error("Could not find a matching font-style for "+m)}(c.style,u),!(u=function(m,v){if(v[m])return v[m];if(m===400&&v[500])return v[500];if(m===500&&v[400])return v[400];var x=bKe[m],G=QY(v,yO,x,m<400?-1:1);if(!G)throw new Error("Could not find a matching font-weight for value "+m);return G}(c.weight,u)))throw new Error("Failed to resolve a font for the rule '"+OY(c)+"'.");return u}function qY(e){return e.trimLeft()}function wKe(e,t){for(var i=0;i<e.length;){if(e.charAt(i)===t)return[e.substring(0,i),e.substring(i+1)];i+=1}return null}function kKe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var vv,$Y,e9,n5=["times"];(function(e){var t,i,o,s,c,u,C,m,v,x=function(me){return me=me||{},this.isStrokeTransparent=me.isStrokeTransparent||!1,this.strokeOpacity=me.strokeOpacity||1,this.strokeStyle=me.strokeStyle||"#000000",this.fillStyle=me.fillStyle||"#000000",this.isFillTransparent=me.isFillTransparent||!1,this.fillOpacity=me.fillOpacity||1,this.font=me.font||"10px sans-serif",this.textBaseline=me.textBaseline||"alphabetic",this.textAlign=me.textAlign||"left",this.lineWidth=me.lineWidth||1,this.lineJoin=me.lineJoin||"miter",this.lineCap=me.lineCap||"butt",this.path=me.path||[],this.transform=me.transform!==void 0?me.transform.clone():new m,this.globalCompositeOperation=me.globalCompositeOperation||"normal",this.globalAlpha=me.globalAlpha||1,this.clip_path=me.clip_path||[],this.currentPoint=me.currentPoint||new u,this.miterLimit=me.miterLimit||10,this.lastPoint=me.lastPoint||new u,this.lineDashOffset=me.lineDashOffset||0,this.lineDash=me.lineDash||[],this.margin=me.margin||[0,0,0,0],this.prevPageLastElemOffset=me.prevPageLastElemOffset||0,this.ignoreClearRect=typeof me.ignoreClearRect!="boolean"||me.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new G(this),t=this.internal.f2,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,c=this.internal.getVerticalCoordinate,u=this.internal.Point,C=this.internal.Rectangle,m=this.internal.Matrix,v=new x}]);var G=function(me){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var _e=me;Object.defineProperty(this,"pdf",{get:function(){return _e}});var pe=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return pe},set:function(st){pe=!!st}});var Ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Ee},set:function(st){Ee=!!st}});var We=0;Object.defineProperty(this,"posX",{get:function(){return We},set:function(st){isNaN(st)||(We=st)}});var Ue=0;Object.defineProperty(this,"posY",{get:function(){return Ue},set:function(st){isNaN(st)||(Ue=st)}}),Object.defineProperty(this,"margin",{get:function(){return v.margin},set:function(st){var Ke;typeof st=="number"?Ke=[st,st,st,st]:((Ke=new Array(4))[0]=st[0],Ke[1]=st.length>=2?st[1]:Ke[0],Ke[2]=st.length>=3?st[2]:Ke[0],Ke[3]=st.length>=4?st[3]:Ke[1]),v.margin=Ke}});var je=!1;Object.defineProperty(this,"autoPaging",{get:function(){return je},set:function(st){je=st}});var qe=0;Object.defineProperty(this,"lastBreak",{get:function(){return qe},set:function(st){qe=st}});var At=[];Object.defineProperty(this,"pageBreaks",{get:function(){return At},set:function(st){At=st}}),Object.defineProperty(this,"ctx",{get:function(){return v},set:function(st){st instanceof x&&(v=st)}}),Object.defineProperty(this,"path",{get:function(){return v.path},set:function(st){v.path=st}});var ct=[];Object.defineProperty(this,"ctxStack",{get:function(){return ct},set:function(st){ct=st}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(st){var Ke;Ke=B(st),this.ctx.fillStyle=Ke.style,this.ctx.isFillTransparent=Ke.a===0,this.ctx.fillOpacity=Ke.a,this.pdf.setFillColor(Ke.r,Ke.g,Ke.b,{a:Ke.a}),this.pdf.setTextColor(Ke.r,Ke.g,Ke.b,{a:Ke.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(st){var Ke=B(st);this.ctx.strokeStyle=Ke.style,this.ctx.isStrokeTransparent=Ke.a===0,this.ctx.strokeOpacity=Ke.a,Ke.a===0?this.pdf.setDrawColor(255,255,255):(Ke.a,this.pdf.setDrawColor(Ke.r,Ke.g,Ke.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(st){["butt","round","square"].indexOf(st)!==-1&&(this.ctx.lineCap=st,this.pdf.setLineCap(st))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(st){isNaN(st)||(this.ctx.lineWidth=st,this.pdf.setLineWidth(st))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(st){["bevel","round","miter"].indexOf(st)!==-1&&(this.ctx.lineJoin=st,this.pdf.setLineJoin(st))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(st){isNaN(st)||(this.ctx.miterLimit=st,this.pdf.setMiterLimit(st))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(st){this.ctx.textBaseline=st}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(st){["right","end","center","left","start"].indexOf(st)!==-1&&(this.ctx.textAlign=st)}});var lt=null;function at(st,Ke){if(lt===null){var Vt=function(Yt){var It=[];return Object.keys(Yt).forEach(function(bt){Yt[bt].forEach(function(yt){var kt=null;switch(yt){case"bold":kt={family:bt,weight:"bold"};break;case"italic":kt={family:bt,style:"italic"};break;case"bolditalic":kt={family:bt,weight:"bold",style:"italic"};break;case"":case"normal":kt={family:bt}}kt!==null&&(kt.ref={name:bt,style:yt},It.push(kt))})}),It}(st.getFontList());lt=function(Yt){for(var It={},bt=0;bt<Yt.length;++bt){var yt=YG(Yt[bt]),kt=yt.family,Jt=yt.stretch,tn=yt.style,An=yt.weight;It[kt]=It[kt]||{},It[kt][Jt]=It[kt][Jt]||{},It[kt][Jt][tn]=It[kt][Jt][tn]||{},It[kt][Jt][tn][An]=yt}return It}(Vt.concat(Ke))}return lt}var Ht=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ht},set:function(st){lt=null,Ht=st}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(st){var Ke;if(this.ctx.font=st,(Ke=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(st))!==null){var Vt=Ke[1],Yt=(Ke[2],Ke[3]),It=Ke[4],bt=(Ke[5],Ke[6]),yt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(It)[2];It=Math.floor(yt==="px"?parseFloat(It)*this.pdf.internal.scaleFactor:yt==="em"?parseFloat(It)*this.pdf.getFontSize():parseFloat(It)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(It);var kt=function(St){var Wt,Dt,Zt=[],Ct=St.trim();if(Ct==="")return n5;if(Ct in jY)return[jY[Ct]];for(;Ct!=="";){switch(Dt=null,Wt=(Ct=qY(Ct)).charAt(0)){case'"':case"'":Dt=wKe(Ct.substring(1),Wt);break;default:Dt=kKe(Ct)}if(Dt===null||(Zt.push(Dt[0]),(Ct=qY(Dt[1]))!==""&&Ct.charAt(0)!==","))return n5;Ct=Ct.replace(/^,/,"")}return Zt}(bt);if(this.fontFaces){var Jt=vKe(at(this.pdf,this.fontFaces),kt.map(function(St){return{family:St,stretch:"normal",weight:Yt,style:Vt}}));this.pdf.setFont(Jt.ref.name,Jt.ref.style)}else{var tn="";(Yt==="bold"||parseInt(Yt,10)>=700||Vt==="bold")&&(tn="bold"),Vt==="italic"&&(tn+="italic"),tn.length===0&&(tn="normal");for(var An="",dn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Bn=0;Bn<kt.length;Bn++){if(this.pdf.internal.getFont(kt[Bn],tn,{noFallback:!0,disableWarning:!0})!==void 0){An=kt[Bn];break}if(tn==="bolditalic"&&this.pdf.internal.getFont(kt[Bn],"bold",{noFallback:!0,disableWarning:!0})!==void 0)An=kt[Bn],tn="bold";else if(this.pdf.internal.getFont(kt[Bn],"normal",{noFallback:!0,disableWarning:!0})!==void 0){An=kt[Bn],tn="normal";break}}if(An===""){for(var wt=0;wt<kt.length;wt++)if(dn[kt[wt]]){An=dn[kt[wt]];break}}An=An===""?"Times":An,this.pdf.setFont(An,tn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(st){this.ctx.globalCompositeOperation=st}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(st){this.ctx.globalAlpha=st}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(st){this.ctx.lineDashOffset=st,Pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(st){this.ctx.lineDash=st,Pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(st){this.ctx.ignoreClearRect=!!st}})};G.prototype.setLineDash=function(me){this.lineDash=me},G.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},G.prototype.fill=function(){Q.call(this,"fill",!1)},G.prototype.stroke=function(){Q.call(this,"stroke",!1)},G.prototype.beginPath=function(){this.path=[{type:"begin"}]},G.prototype.moveTo=function(me,_e){if(isNaN(me)||isNaN(_e))throw lr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var pe=this.ctx.transform.applyToPoint(new u(me,_e));this.path.push({type:"mt",x:pe.x,y:pe.y}),this.ctx.lastPoint=new u(me,_e)},G.prototype.closePath=function(){var me=new u(0,0),_e=0;for(_e=this.path.length-1;_e!==-1;_e--)if(this.path[_e].type==="begin"&&Ni(this.path[_e+1])==="object"&&typeof this.path[_e+1].x=="number"){me=new u(this.path[_e+1].x,this.path[_e+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(me.x,me.y)},G.prototype.lineTo=function(me,_e){if(isNaN(me)||isNaN(_e))throw lr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var pe=this.ctx.transform.applyToPoint(new u(me,_e));this.path.push({type:"lt",x:pe.x,y:pe.y}),this.ctx.lastPoint=new u(pe.x,pe.y)},G.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Q.call(this,null,!0)},G.prototype.quadraticCurveTo=function(me,_e,pe,Ee){if(isNaN(pe)||isNaN(Ee)||isNaN(me)||isNaN(_e))throw lr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var We=this.ctx.transform.applyToPoint(new u(pe,Ee)),Ue=this.ctx.transform.applyToPoint(new u(me,_e));this.path.push({type:"qct",x1:Ue.x,y1:Ue.y,x:We.x,y:We.y}),this.ctx.lastPoint=new u(We.x,We.y)},G.prototype.bezierCurveTo=function(me,_e,pe,Ee,We,Ue){if(isNaN(We)||isNaN(Ue)||isNaN(me)||isNaN(_e)||isNaN(pe)||isNaN(Ee))throw lr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var je=this.ctx.transform.applyToPoint(new u(We,Ue)),qe=this.ctx.transform.applyToPoint(new u(me,_e)),At=this.ctx.transform.applyToPoint(new u(pe,Ee));this.path.push({type:"bct",x1:qe.x,y1:qe.y,x2:At.x,y2:At.y,x:je.x,y:je.y}),this.ctx.lastPoint=new u(je.x,je.y)},G.prototype.arc=function(me,_e,pe,Ee,We,Ue){if(isNaN(me)||isNaN(_e)||isNaN(pe)||isNaN(Ee)||isNaN(We))throw lr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ue=!!Ue,!this.ctx.transform.isIdentity){var je=this.ctx.transform.applyToPoint(new u(me,_e));me=je.x,_e=je.y;var qe=this.ctx.transform.applyToPoint(new u(0,pe)),At=this.ctx.transform.applyToPoint(new u(0,0));pe=Math.sqrt(Math.pow(qe.x-At.x,2)+Math.pow(qe.y-At.y,2))}Math.abs(We-Ee)>=2*Math.PI&&(Ee=0,We=2*Math.PI),this.path.push({type:"arc",x:me,y:_e,radius:pe,startAngle:Ee,endAngle:We,counterclockwise:Ue})},G.prototype.arcTo=function(me,_e,pe,Ee,We){throw new Error("arcTo not implemented.")},G.prototype.rect=function(me,_e,pe,Ee){if(isNaN(me)||isNaN(_e)||isNaN(pe)||isNaN(Ee))throw lr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(me,_e),this.lineTo(me+pe,_e),this.lineTo(me+pe,_e+Ee),this.lineTo(me,_e+Ee),this.lineTo(me,_e),this.lineTo(me+pe,_e),this.lineTo(me,_e)},G.prototype.fillRect=function(me,_e,pe,Ee){if(isNaN(me)||isNaN(_e)||isNaN(pe)||isNaN(Ee))throw lr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!R.call(this)){var We={};this.lineCap!=="butt"&&(We.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(We.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(me,_e,pe,Ee),this.fill(),We.hasOwnProperty("lineCap")&&(this.lineCap=We.lineCap),We.hasOwnProperty("lineJoin")&&(this.lineJoin=We.lineJoin)}},G.prototype.strokeRect=function(me,_e,pe,Ee){if(isNaN(me)||isNaN(_e)||isNaN(pe)||isNaN(Ee))throw lr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");V.call(this)||(this.beginPath(),this.rect(me,_e,pe,Ee),this.stroke())},G.prototype.clearRect=function(me,_e,pe,Ee){if(isNaN(me)||isNaN(_e)||isNaN(pe)||isNaN(Ee))throw lr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(me,_e,pe,Ee))},G.prototype.save=function(me){me=typeof me!="boolean"||me;for(var _e=this.pdf.internal.getCurrentPageInfo().pageNumber,pe=0;pe<this.pdf.internal.getNumberOfPages();pe++)this.pdf.setPage(pe+1),this.pdf.internal.out("q");if(this.pdf.setPage(_e),me){this.ctx.fontSize=this.pdf.internal.getFontSize();var Ee=new x(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Ee}},G.prototype.restore=function(me){me=typeof me!="boolean"||me;for(var _e=this.pdf.internal.getCurrentPageInfo().pageNumber,pe=0;pe<this.pdf.internal.getNumberOfPages();pe++)this.pdf.setPage(pe+1),this.pdf.internal.out("Q");this.pdf.setPage(_e),me&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},G.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var B=function(me){var _e,pe,Ee,We;if(me.isCanvasGradient===!0&&(me=me.getColor()),!me)return{r:0,g:0,b:0,a:0,style:me};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(me))_e=0,pe=0,Ee=0,We=0;else{var Ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(me);if(Ue!==null)_e=parseInt(Ue[1]),pe=parseInt(Ue[2]),Ee=parseInt(Ue[3]),We=1;else if((Ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(me))!==null)_e=parseInt(Ue[1]),pe=parseInt(Ue[2]),Ee=parseInt(Ue[3]),We=parseFloat(Ue[4]);else{if(We=1,typeof me=="string"&&me.charAt(0)!=="#"){var je=new AO(me);me=je.ok?je.toHex():"#000000"}me.length===4?(_e=me.substring(1,2),_e+=_e,pe=me.substring(2,3),pe+=pe,Ee=me.substring(3,4),Ee+=Ee):(_e=me.substring(1,3),pe=me.substring(3,5),Ee=me.substring(5,7)),_e=parseInt(_e,16),pe=parseInt(pe,16),Ee=parseInt(Ee,16)}}return{r:_e,g:pe,b:Ee,a:We,style:me}},R=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},V=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};G.prototype.fillText=function(me,_e,pe,Ee){if(isNaN(_e)||isNaN(pe)||typeof me!="string")throw lr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Ee=isNaN(Ee)?void 0:Ee,!R.call(this)){var We=fe(this.ctx.transform.rotation),Ue=this.ctx.transform.scaleX;oe.call(this,{text:me,x:_e,y:pe,scale:Ue,angle:We,align:this.textAlign,maxWidth:Ee})}},G.prototype.strokeText=function(me,_e,pe,Ee){if(isNaN(_e)||isNaN(pe)||typeof me!="string")throw lr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!V.call(this)){Ee=isNaN(Ee)?void 0:Ee;var We=fe(this.ctx.transform.rotation),Ue=this.ctx.transform.scaleX;oe.call(this,{text:me,x:_e,y:pe,scale:Ue,renderingMode:"stroke",angle:We,align:this.textAlign,maxWidth:Ee})}},G.prototype.measureText=function(me){if(typeof me!="string")throw lr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var _e=this.pdf,pe=this.pdf.internal.scaleFactor,Ee=_e.internal.getFontSize(),We=_e.getStringUnitWidth(me)*Ee/_e.internal.scaleFactor,Ue=function(je){var qe=(je=je||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return qe}}),this};return new Ue({width:We*=Math.round(96*pe/72*1e4)/1e4})},G.prototype.scale=function(me,_e){if(isNaN(me)||isNaN(_e))throw lr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var pe=new m(me,0,0,_e,0,0);this.ctx.transform=this.ctx.transform.multiply(pe)},G.prototype.rotate=function(me){if(isNaN(me))throw lr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var _e=new m(Math.cos(me),Math.sin(me),-Math.sin(me),Math.cos(me),0,0);this.ctx.transform=this.ctx.transform.multiply(_e)},G.prototype.translate=function(me,_e){if(isNaN(me)||isNaN(_e))throw lr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var pe=new m(1,0,0,1,me,_e);this.ctx.transform=this.ctx.transform.multiply(pe)},G.prototype.transform=function(me,_e,pe,Ee,We,Ue){if(isNaN(me)||isNaN(_e)||isNaN(pe)||isNaN(Ee)||isNaN(We)||isNaN(Ue))throw lr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var je=new m(me,_e,pe,Ee,We,Ue);this.ctx.transform=this.ctx.transform.multiply(je)},G.prototype.setTransform=function(me,_e,pe,Ee,We,Ue){me=isNaN(me)?1:me,_e=isNaN(_e)?0:_e,pe=isNaN(pe)?0:pe,Ee=isNaN(Ee)?1:Ee,We=isNaN(We)?0:We,Ue=isNaN(Ue)?0:Ue,this.ctx.transform=new m(me,_e,pe,Ee,We,Ue)};var H=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};G.prototype.drawImage=function(me,_e,pe,Ee,We,Ue,je,qe,At){var ct=this.pdf.getImageProperties(me),lt=1,at=1,Ht=1,st=1;Ee!==void 0&&qe!==void 0&&(Ht=qe/Ee,st=At/We,lt=ct.width/Ee*qe/Ee,at=ct.height/We*At/We),Ue===void 0&&(Ue=_e,je=pe,_e=0,pe=0),Ee!==void 0&&qe===void 0&&(qe=Ee,At=We),Ee===void 0&&qe===void 0&&(qe=ct.width,At=ct.height);for(var Ke,Vt=this.ctx.transform.decompose(),Yt=fe(Vt.rotate.shx),It=new m,bt=(It=(It=(It=It.multiply(Vt.translate)).multiply(Vt.skew)).multiply(Vt.scale)).applyToRectangle(new C(Ue-_e*Ht,je-pe*st,Ee*lt,We*at)),yt=M.call(this,bt),kt=[],Jt=0;Jt<yt.length;Jt+=1)kt.indexOf(yt[Jt])===-1&&kt.push(yt[Jt]);if(X(kt),this.autoPaging)for(var tn=kt[0],An=kt[kt.length-1],dn=tn;dn<An+1;dn++){this.pdf.setPage(dn);var Bn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=dn===1?this.posY+this.margin[0]:this.margin[0],St=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Dt=dn===1?0:St+(dn-2)*Wt;if(this.ctx.clip_path.length!==0){var Zt=this.path;Ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Ke,this.posX+this.margin[3],-Dt+wt+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=Zt}var Ct=JSON.parse(JSON.stringify(bt));Ct=_([Ct],this.posX+this.margin[3],-Dt+wt+this.ctx.prevPageLastElemOffset)[0];var Kt=(dn>tn||dn<An)&&H.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bn,Wt,null).clip().discardPath()),this.pdf.addImage(me,"JPEG",Ct.x,Ct.y,Ct.w,Ct.h,null,null,Yt),Kt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(me,"JPEG",bt.x,bt.y,bt.w,bt.h,null,null,Yt)};var M=function(me,_e,pe){var Ee=[];_e=_e||this.pdf.internal.pageSize.width,pe=pe||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var We=this.posY+this.ctx.prevPageLastElemOffset;switch(me.type){default:case"mt":case"lt":Ee.push(Math.floor((me.y+We)/pe)+1);break;case"arc":Ee.push(Math.floor((me.y+We-me.radius)/pe)+1),Ee.push(Math.floor((me.y+We+me.radius)/pe)+1);break;case"qct":var Ue=Ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,me.x1,me.y1,me.x,me.y);Ee.push(Math.floor((Ue.y+We)/pe)+1),Ee.push(Math.floor((Ue.y+Ue.h+We)/pe)+1);break;case"bct":var je=De(this.ctx.lastPoint.x,this.ctx.lastPoint.y,me.x1,me.y1,me.x2,me.y2,me.x,me.y);Ee.push(Math.floor((je.y+We)/pe)+1),Ee.push(Math.floor((je.y+je.h+We)/pe)+1);break;case"rect":Ee.push(Math.floor((me.y+We)/pe)+1),Ee.push(Math.floor((me.y+me.h+We)/pe)+1)}for(var qe=0;qe<Ee.length;qe+=1)for(;this.pdf.internal.getNumberOfPages()<Ee[qe];)L.call(this);return Ee},L=function(){var me=this.fillStyle,_e=this.strokeStyle,pe=this.font,Ee=this.lineCap,We=this.lineWidth,Ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=me,this.strokeStyle=_e,this.font=pe,this.lineCap=Ee,this.lineWidth=We,this.lineJoin=Ue},_=function(me,_e,pe){for(var Ee=0;Ee<me.length;Ee++)switch(me[Ee].type){case"bct":me[Ee].x2+=_e,me[Ee].y2+=pe;case"qct":me[Ee].x1+=_e,me[Ee].y1+=pe;case"mt":case"lt":case"arc":default:me[Ee].x+=_e,me[Ee].y+=pe}return me},X=function(me){return me.sort(function(_e,pe){return _e-pe})},Q=function(me,_e){for(var pe,Ee,We=this.fillStyle,Ue=this.strokeStyle,je=this.lineCap,qe=this.lineWidth,At=Math.abs(qe*this.ctx.transform.scaleX),ct=this.lineJoin,lt=JSON.parse(JSON.stringify(this.path)),at=JSON.parse(JSON.stringify(this.path)),Ht=[],st=0;st<at.length;st++)if(at[st].x!==void 0)for(var Ke=M.call(this,at[st]),Vt=0;Vt<Ke.length;Vt+=1)Ht.indexOf(Ke[Vt])===-1&&Ht.push(Ke[Vt]);for(var Yt=0;Yt<Ht.length;Yt++)for(;this.pdf.internal.getNumberOfPages()<Ht[Yt];)L.call(this);if(X(Ht),this.autoPaging)for(var It=Ht[0],bt=Ht[Ht.length-1],yt=It;yt<bt+1;yt++){this.pdf.setPage(yt),this.fillStyle=We,this.strokeStyle=Ue,this.lineCap=je,this.lineWidth=At,this.lineJoin=ct;var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Jt=yt===1?this.posY+this.margin[0]:this.margin[0],tn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],An=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dn=yt===1?0:tn+(yt-2)*An;if(this.ctx.clip_path.length!==0){var Bn=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(pe,this.posX+this.margin[3],-dn+Jt+this.ctx.prevPageLastElemOffset),j.call(this,me,!0),this.path=Bn}if(Ee=JSON.parse(JSON.stringify(lt)),this.path=_(Ee,this.posX+this.margin[3],-dn+Jt+this.ctx.prevPageLastElemOffset),_e===!1||yt===0){var wt=(yt>It||yt<bt)&&H.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,An,null).clip().discardPath()),j.call(this,me,_e),wt&&this.pdf.restoreGraphicsState()}this.lineWidth=qe}else this.lineWidth=At,j.call(this,me,_e),this.lineWidth=qe;this.path=lt},j=function(me,_e){if((me!=="stroke"||_e||!V.call(this))&&(me==="stroke"||_e||!R.call(this))){for(var pe,Ee,We=[],Ue=this.path,je=0;je<Ue.length;je++){var qe=Ue[je];switch(qe.type){case"begin":We.push({begin:!0});break;case"close":We.push({close:!0});break;case"mt":We.push({start:qe,deltas:[],abs:[]});break;case"lt":var At=We.length;if(Ue[je-1]&&!isNaN(Ue[je-1].x)&&(pe=[qe.x-Ue[je-1].x,qe.y-Ue[je-1].y],At>0)){for(;At>=0;At--)if(We[At-1].close!==!0&&We[At-1].begin!==!0){We[At-1].deltas.push(pe),We[At-1].abs.push(qe);break}}break;case"bct":pe=[qe.x1-Ue[je-1].x,qe.y1-Ue[je-1].y,qe.x2-Ue[je-1].x,qe.y2-Ue[je-1].y,qe.x-Ue[je-1].x,qe.y-Ue[je-1].y],We[We.length-1].deltas.push(pe);break;case"qct":var ct=Ue[je-1].x+2/3*(qe.x1-Ue[je-1].x),lt=Ue[je-1].y+2/3*(qe.y1-Ue[je-1].y),at=qe.x+2/3*(qe.x1-qe.x),Ht=qe.y+2/3*(qe.y1-qe.y),st=qe.x,Ke=qe.y;pe=[ct-Ue[je-1].x,lt-Ue[je-1].y,at-Ue[je-1].x,Ht-Ue[je-1].y,st-Ue[je-1].x,Ke-Ue[je-1].y],We[We.length-1].deltas.push(pe);break;case"arc":We.push({deltas:[],abs:[],arc:!0}),Array.isArray(We[We.length-1].abs)&&We[We.length-1].abs.push(qe)}}Ee=_e?null:me==="stroke"?"stroke":"fill";for(var Vt=!1,Yt=0;Yt<We.length;Yt++)if(We[Yt].arc)for(var It=We[Yt].abs,bt=0;bt<It.length;bt++){var yt=It[bt];yt.type==="arc"?O.call(this,yt.x,yt.y,yt.radius,yt.startAngle,yt.endAngle,yt.counterclockwise,void 0,_e,!Vt):be.call(this,yt.x,yt.y),Vt=!0}else if(We[Yt].close===!0)this.pdf.internal.out("h"),Vt=!1;else if(We[Yt].begin!==!0){var kt=We[Yt].start.x,Jt=We[Yt].start.y;Ie.call(this,We[Yt].deltas,kt,Jt),Vt=!0}Ee&&de.call(this,Ee),_e&&ce.call(this)}},re=function(me){var _e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,pe=_e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return me-pe;case"top":return me+_e-pe;case"hanging":return me+_e-2*pe;case"middle":return me+_e/2-pe;case"ideographic":return me;case"alphabetic":default:return me}},P=function(me){return me+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};G.prototype.createLinearGradient=function(){var me=function(){};return me.colorStops=[],me.addColorStop=function(_e,pe){this.colorStops.push([_e,pe])},me.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},me.isCanvasGradient=!0,me},G.prototype.createPattern=function(){return this.createLinearGradient()},G.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(me,_e,pe,Ee,We,Ue,je,qe,At){for(var ct=ye.call(this,pe,Ee,We,Ue),lt=0;lt<ct.length;lt++){var at=ct[lt];lt===0&&(At?ne.call(this,at.x1+me,at.y1+_e):be.call(this,at.x1+me,at.y1+_e)),Re.call(this,me,_e,at.x2,at.y2,at.x3,at.y3,at.x4,at.y4)}qe?ce.call(this):de.call(this,je)},de=function(me){switch(me){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ce=function(){this.pdf.clip(),this.pdf.discardPath()},ne=function(me,_e){this.pdf.internal.out(i(me)+" "+o(_e)+" m")},oe=function(me){var _e;switch(me.align){case"right":case"end":_e="right";break;case"center":_e="center";break;case"left":case"start":default:_e="left"}var pe=this.pdf.getTextDimensions(me.text),Ee=re.call(this,me.y),We=P.call(this,Ee)-pe.h,Ue=this.ctx.transform.applyToPoint(new u(me.x,Ee)),je=this.ctx.transform.decompose(),qe=new m;qe=(qe=(qe=qe.multiply(je.translate)).multiply(je.skew)).multiply(je.scale);for(var At,ct,lt,at=this.ctx.transform.applyToRectangle(new C(me.x,Ee,pe.w,pe.h)),Ht=qe.applyToRectangle(new C(me.x,We,pe.w,pe.h)),st=M.call(this,Ht),Ke=[],Vt=0;Vt<st.length;Vt+=1)Ke.indexOf(st[Vt])===-1&&Ke.push(st[Vt]);if(X(Ke),this.autoPaging)for(var Yt=Ke[0],It=Ke[Ke.length-1],bt=Yt;bt<It+1;bt++){this.pdf.setPage(bt);var yt=bt===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[2],tn=Jt-this.margin[0],An=this.pdf.internal.pageSize.width-this.margin[1],dn=An-this.margin[3],Bn=bt===1?0:kt+(bt-2)*tn;if(this.ctx.clip_path.length!==0){var wt=this.path;At=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(At,this.posX+this.margin[3],-1*Bn+yt),j.call(this,"fill",!0),this.path=wt}var St=_([JSON.parse(JSON.stringify(Ht))],this.posX+this.margin[3],-Bn+yt+this.ctx.prevPageLastElemOffset)[0];me.scale>=.01&&(ct=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ct*me.scale),lt=this.lineWidth,this.lineWidth=lt*me.scale);var Wt=this.autoPaging!=="text";if(Wt||St.y+St.h<=Jt){if(Wt||St.y>=yt&&St.x<=An){var Dt=Wt?me.text:this.pdf.splitTextToSize(me.text,me.maxWidth||An-St.x)[0],Zt=_([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-Bn+yt+this.ctx.prevPageLastElemOffset)[0],Ct=Wt&&(bt>Yt||bt<It)&&H.call(this);Ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dn,tn,null).clip().discardPath()),this.pdf.text(Dt,Zt.x,Zt.y,{angle:me.angle,align:_e,renderingMode:me.renderingMode}),Ct&&this.pdf.restoreGraphicsState()}}else St.y<Jt&&(this.ctx.prevPageLastElemOffset+=Jt-St.y);me.scale>=.01&&(this.pdf.setFontSize(ct),this.lineWidth=lt)}else me.scale>=.01&&(ct=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ct*me.scale),lt=this.lineWidth,this.lineWidth=lt*me.scale),this.pdf.text(me.text,Ue.x+this.posX,Ue.y+this.posY,{angle:me.angle,align:_e,renderingMode:me.renderingMode,maxWidth:me.maxWidth}),me.scale>=.01&&(this.pdf.setFontSize(ct),this.lineWidth=lt)},be=function(me,_e,pe,Ee){pe=pe||0,Ee=Ee||0,this.pdf.internal.out(i(me+pe)+" "+o(_e+Ee)+" l")},Ie=function(me,_e,pe){return this.pdf.lines(me,_e,pe,null,null)},Re=function(me,_e,pe,Ee,We,Ue,je,qe){this.pdf.internal.out([t(s(pe+me)),t(c(Ee+_e)),t(s(We+me)),t(c(Ue+_e)),t(s(je+me)),t(c(qe+_e)),"c"].join(" "))},ye=function(me,_e,pe,Ee){for(var We=2*Math.PI,Ue=Math.PI/2;_e>pe;)_e-=We;var je=Math.abs(pe-_e);je<We&&Ee&&(je=We-je);for(var qe=[],At=Ee?-1:1,ct=_e;je>1e-5;){var lt=ct+At*Math.min(je,Ue);qe.push(ve.call(this,me,ct,lt)),je-=Math.abs(lt-ct),ct=lt}return qe},ve=function(me,_e,pe){var Ee=(pe-_e)/2,We=me*Math.cos(Ee),Ue=me*Math.sin(Ee),je=We,qe=-Ue,At=je*je+qe*qe,ct=At+je*We+qe*Ue,lt=4/3*(Math.sqrt(2*At*ct)-ct)/(je*Ue-qe*We),at=je-lt*qe,Ht=qe+lt*je,st=at,Ke=-Ht,Vt=Ee+_e,Yt=Math.cos(Vt),It=Math.sin(Vt);return{x1:me*Math.cos(_e),y1:me*Math.sin(_e),x2:at*Yt-Ht*It,y2:at*It+Ht*Yt,x3:st*Yt-Ke*It,y3:st*It+Ke*Yt,x4:me*Math.cos(pe),y4:me*Math.sin(pe)}},fe=function(me){return 180*me/Math.PI},Ge=function(me,_e,pe,Ee,We,Ue){var je=me+.5*(pe-me),qe=_e+.5*(Ee-_e),At=We+.5*(pe-We),ct=Ue+.5*(Ee-Ue),lt=Math.min(me,We,je,At),at=Math.max(me,We,je,At),Ht=Math.min(_e,Ue,qe,ct),st=Math.max(_e,Ue,qe,ct);return new C(lt,Ht,at-lt,st-Ht)},De=function(me,_e,pe,Ee,We,Ue,je,qe){var At,ct,lt,at,Ht,st,Ke,Vt,Yt,It,bt,yt,kt,Jt,tn=pe-me,An=Ee-_e,dn=We-pe,Bn=Ue-Ee,wt=je-We,St=qe-Ue;for(ct=0;ct<41;ct++)Yt=(Ke=(lt=me+(At=ct/40)*tn)+At*((Ht=pe+At*dn)-lt))+At*(Ht+At*(We+At*wt-Ht)-Ke),It=(Vt=(at=_e+At*An)+At*((st=Ee+At*Bn)-at))+At*(st+At*(Ue+At*St-st)-Vt),ct==0?(bt=Yt,yt=It,kt=Yt,Jt=It):(bt=Math.min(bt,Yt),yt=Math.min(yt,It),kt=Math.max(kt,Yt),Jt=Math.max(Jt,It));return new C(Math.round(bt),Math.round(yt),Math.round(kt-bt),Math.round(Jt-yt))},Pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var me,_e,pe=(me=this.ctx.lineDash,_e=this.ctx.lineDashOffset,JSON.stringify({lineDash:me,lineDashOffset:_e}));this.prevLineDash!==pe&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=pe)}}})(_n.API),function(e){var t=function(c){var u,C,m,v,x,G,B,R,V,H;for(C=[],m=0,v=(c+=u="\0\0\0\0".slice(c.length%4||4)).length;v>m;m+=4)(x=(c.charCodeAt(m)<<24)+(c.charCodeAt(m+1)<<16)+(c.charCodeAt(m+2)<<8)+c.charCodeAt(m+3))!==0?(G=(x=((x=((x=((x=(x-(H=x%85))/85)-(V=x%85))/85)-(R=x%85))/85)-(B=x%85))/85)%85,C.push(G+33,B+33,R+33,V+33,H+33)):C.push(122);return function(M,L){for(var _=L;_>0;_--)M.pop()}(C,u.length),String.fromCharCode.apply(String,C)+"~>"},i=function(c){var u,C,m,v,x,G=String,B="length",R=255,V="charCodeAt",H="slice",M="replace";for(c[H](-2),c=c[H](0,-2)[M](/\s/g,"")[M]("z","!!!!!"),m=[],v=0,x=(c+=u="uuuuu"[H](c[B]%5||5))[B];x>v;v+=5)C=52200625*(c[V](v)-33)+614125*(c[V](v+1)-33)+7225*(c[V](v+2)-33)+85*(c[V](v+3)-33)+(c[V](v+4)-33),m.push(R&C>>24,R&C>>16,R&C>>8,R&C);return function(L,_){for(var X=_;X>0;X--)L.pop()}(m,u[B]),G.fromCharCode.apply(G,m)},o=function(c){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),u.test(c)===!1)return"";for(var C="",m=0;m<c.length;m+=2)C+=String.fromCharCode("0x"+(c[m]+c[m+1]));return C},s=function(c){for(var u=new Uint8Array(c.length),C=c.length;C--;)u[C]=c.charCodeAt(C);return c=(u=HG(u)).reduce(function(m,v){return m+String.fromCharCode(v)},"")};e.processDataByFilters=function(c,u){var C=0,m=c||"",v=[];for(typeof(u=u||[])=="string"&&(u=[u]),C=0;C<u.length;C+=1)switch(u[C]){case"ASCII85Decode":case"/ASCII85Decode":m=i(m),v.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=t(m),v.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=o(m),v.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=m.split("").map(function(x){return("0"+x.charCodeAt().toString(16)).slice(-2)}).join("")+">",v.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=s(m),v.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[C]+'" is not implemented')}return{data:m,reverseChain:v.reverse().join(" ")}}}(_n.API),function(e){e.loadFile=function(t,i,o){return function(s,c,u){c=c!==!1,u=typeof u=="function"?u:function(){};var C=void 0;try{C=function(m,v,x){var G=new XMLHttpRequest,B=0,R=function(V){var H=V.length,M=[],L=String.fromCharCode;for(B=0;B<H;B+=1)M.push(L(255&V.charCodeAt(B)));return M.join("")};if(G.open("GET",m,!v),G.overrideMimeType("text/plain; charset=x-user-defined"),v===!1&&(G.onload=function(){G.status===200?x(R(this.responseText)):x(void 0)}),G.send(null),v&&G.status===200)return R(G.responseText)}(s,c,u)}catch{}return C}(t,i,o)},e.loadImageFile=e.loadFile}(_n.API),function(e){function t(){return(Fn.html2canvas?Promise.resolve(Fn.html2canvas):NG(()=>Promise.resolve().then(()=>MPe),void 0)).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function i(){return(Fn.DOMPurify?Promise.resolve(Fn.DOMPurify):NG(()=>import("./purify.es-DGIRlouP.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var o=function(u){var C=Ni(u);return C==="undefined"?"undefined":C==="string"||u instanceof String?"string":C==="number"||u instanceof Number?"number":C==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":C==="object"?"object":"unknown"},s=function(u,C){var m=document.createElement(u);for(var v in C.className&&(m.className=C.className),C.innerHTML&&C.dompurify&&(m.innerHTML=C.dompurify.sanitize(C.innerHTML)),C.style)m.style[v]=C.style[v];return m},c=function u(C){var m=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),v=u.convert(Promise.resolve(),m);return v=(v=v.setProgress(1,u,1,[u])).set(C)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(u,C){return u.__proto__=C||c.prototype,u},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(u,C){return this.then(function(){switch(C=C||function(m){switch(o(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(u)){case"string":return this.then(i).then(function(m){return this.set({src:s("div",{innerHTML:u,dompurify:m})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},c.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},C=function m(v,x){for(var G=v.nodeType===3?document.createTextNode(v.nodeValue):v.cloneNode(!1),B=v.firstChild;B;B=B.nextSibling)x!==!0&&B.nodeType===1&&B.nodeName==="SCRIPT"||G.appendChild(m(B,x));return v.nodeType===1&&(v.nodeName==="CANVAS"?(G.width=v.width,G.height=v.height,G.getContext("2d").drawImage(v,0,0)):v.nodeName!=="TEXTAREA"&&v.nodeName!=="SELECT"||(G.value=v.value),G.addEventListener("load",function(){G.scrollTop=v.scrollTop,G.scrollLeft=v.scrollLeft},!0)),G}(this.prop.src,this.opt.html2canvas.javascriptEnabled);C.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(C),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(C){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,C(this.prop.container,m)}).then(function(C){(this.opt.html2canvas.onrendered||function(){})(C),this.prop.canvas=C,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(C){var m=this.opt.jsPDF,v=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,G=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete G.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=v,v)for(var B=0;B<v.length;++B){var R=v[B],V=R.src.find(function(H){return H.format==="truetype"});V&&m.addFont(V.url,R.ref.name,R.ref.style)}return G.windowHeight=G.windowHeight||0,G.windowHeight=G.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):G.windowHeight,m.context2d.save(!0),C(this.prop.container,G)}).then(function(C){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(C),this.prop.canvas=C,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(u,C,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(u,C):this.outputPdf(u,C)},c.prototype.outputPdf=function(u,C){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,C)})},c.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},c.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(u){if(o(u)!=="object")return this;var C=Object.keys(u||{}).map(function(m){if(m in c.template.prop)return function(){this.prop[m]=u[m]};switch(m){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[m]=u[m]}}},this);return this.then(function(){return this.thenList(C)})},c.prototype.get=function(u,C){return this.then(function(){var m=u in c.template.prop?this.prop[u]:this.opt[u];return C?C(m):m})},c.prototype.setMargin=function(u){return this.then(function(){switch(o(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},c.prototype.setPageSize=function(u){function C(m,v){return Math.floor(m*v/72*96)}return this.then(function(){(u=u||_n.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:C(u.inner.width,u.k),height:C(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},c.prototype.setProgress=function(u,C,m,v){return u!=null&&(this.progress.val=u),C!=null&&(this.progress.state=C),m!=null&&(this.progress.n=m),v!=null&&(this.progress.stack=v),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(u,C,m,v){return this.setProgress(u?this.progress.val+u:null,C||null,m?this.progress.n+m:null,v?this.progress.stack.concat(v):null)},c.prototype.then=function(u,C){var m=this;return this.thenCore(u,C,function(v,x){return m.updateProgress(null,null,1,[v]),Promise.prototype.then.call(this,function(G){return m.updateProgress(null,v),G}).then(v,x).then(function(G){return m.updateProgress(1),G})})},c.prototype.thenCore=function(u,C,m){m=m||Promise.prototype.then,u&&(u=u.bind(this)),C&&(C=C.bind(this));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:c.convert(Object.assign({},this),Promise.prototype),x=m.call(v,u,C);return c.convert(x,this.__proto__)},c.prototype.thenExternal=function(u,C){return Promise.prototype.then.call(this,u,C)},c.prototype.thenList=function(u){var C=this;return u.forEach(function(m){C=C.thenCore(m)}),C},c.prototype.catch=function(u){u&&(u=u.bind(this));var C=Promise.prototype.catch.call(this,u);return c.convert(C,this)},c.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},c.prototype.error=function(u){return this.then(function(){throw new Error(u)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,_n.getPageSize=function(u,C,m){if(Ni(u)==="object"){var v=u;u=v.orientation,C=v.unit||C,m=v.format||m}C=C||"mm",m=m||"a4",u=(""+(u||"P")).toLowerCase();var x,G=(""+m).toLowerCase(),B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(C){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+C}var R,V=0,H=0;if(B.hasOwnProperty(G))V=B[G][1]/x,H=B[G][0]/x;else try{V=m[1],H=m[0]}catch{throw new Error("Invalid format: "+m)}if(u==="p"||u==="portrait")u="p",H>V&&(R=H,H=V,V=R);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",V>H&&(R=H,H=V,V=R)}return{width:H,height:V,unit:C,k:x,orientation:u}},e.html=function(u,C){(C=C||{}).callback=C.callback||function(){},C.html2canvas=C.html2canvas||{},C.html2canvas.canvas=C.html2canvas.canvas||this.canvas,C.jsPDF=C.jsPDF||this,C.fontFaces=C.fontFaces?C.fontFaces.map(YG):null;var m=new c(C);return C.worker?m:m.from(u).doCallback()}}(_n.API),_n.API.addJS=function(e){return e9=e,this.internal.events.subscribe("postPutResources",function(){vv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(vv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),$Y=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+e9+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){vv!==void 0&&$Y!==void 0&&this.internal.out("/Names <</JavaScript "+vv+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var i=this,o=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=i.outline.render().split(/\r\n/),c=0;c<s.length;c++){var u=s[c],C=o.exec(u);if(C!=null){var m=C[1];i.internal.newObjectDeferredBegin(m,!1)}i.internal.write(u)}if(this.outline.createNamedDestinations){var v=this.internal.pages.length,x=[];for(c=0;c<v;c++){var G=i.internal.newObject();x.push(G);var B=i.internal.getPageInfo(c+1);i.internal.write("<< /D["+B.objId+" 0 R /XYZ null null null]>> endobj")}var R=i.internal.newObject();for(i.internal.write("<< /Names [ "),c=0;c<x.length;c++)i.internal.write("(page_"+(c+1)+")"+x[c]+" 0 R");i.internal.write(" ] >>","endobj"),t=i.internal.newObject(),i.internal.write("<< /Dests "+R+" 0 R"),i.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var i=this;i.outline={createNamedDestinations:!1,root:{children:[]}},i.outline.add=function(o,s,c){var u={title:s,options:c,children:[]};return o==null&&(o=this.root),o.children.push(u),u},i.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=i,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},i.outline.genIds_r=function(o){o.id=i.internal.newObjectDeferred();for(var s=0;s<o.children.length;s++)this.genIds_r(o.children[s])},i.outline.renderRoot=function(o){this.objStart(o),this.line("/Type /Outlines"),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1]))),this.line("/Count "+this.count_r({count:0},o)),this.objEnd()},i.outline.renderItems=function(o){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,c=0;c<o.children.length;c++){var u=o.children[c];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(o)),c>0&&this.line("/Prev "+this.makeRef(o.children[c-1])),c<o.children.length-1&&this.line("/Next "+this.makeRef(o.children[c+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var C=this.count=this.count_r({count:0},u);if(C>0&&this.line("/Count "+C),u.options&&u.options.pageNumber){var m=i.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+m.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var v=0;v<o.children.length;v++)this.renderItems(o.children[v])},i.outline.line=function(o){this.ctx.val+=o+`\r
`},i.outline.makeRef=function(o){return o.id+" 0 R"},i.outline.makeString=function(o){return"("+i.internal.pdfEscape(o)+")"},i.outline.objStart=function(o){this.ctx.val+=`\r
`+o.id+` 0 obj\r
<<\r
`},i.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},i.outline.count_r=function(o,s){for(var c=0;c<s.children.length;c++)o.count++,this.count_r(o,s.children[c]);return o.count}}])}(_n.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(i,o,s,c,u,C){var m,v=this.decode.DCT_DECODE,x=null;if(typeof i=="string"||this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i)){switch(i=u||i,i=this.__addimage__.isArrayBuffer(i)?new Uint8Array(i):i,(m=function(G){for(var B,R=256*G.charCodeAt(4)+G.charCodeAt(5),V=G.length,H={width:0,height:0,numcomponents:1},M=4;M<V;M+=2){if(M+=R,t.indexOf(G.charCodeAt(M+1))!==-1){B=256*G.charCodeAt(M+5)+G.charCodeAt(M+6),H={width:256*G.charCodeAt(M+7)+G.charCodeAt(M+8),height:B,numcomponents:G.charCodeAt(M+9)};break}R=256*G.charCodeAt(M+2)+G.charCodeAt(M+3)}return H}(i=this.__addimage__.isArrayBufferView(i)?this.__addimage__.arrayBufferToBinaryString(i):i)).numcomponents){case 1:C=this.color_spaces.DEVICE_GRAY;break;case 4:C=this.color_spaces.DEVICE_CMYK;break;case 3:C=this.color_spaces.DEVICE_RGB}x={data:i,width:m.width,height:m.height,colorSpace:C,bitsPerComponent:8,filter:v,index:o,alias:s}}return x}}(_n.API);var Om,wv,t9,n9,i9,BKe=function(){var e,t,i;function o(c){var u,C,m,v,x,G,B,R,V,H,M,L,_,X;for(this.data=c,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},G=null;;){switch(u=this.readUInt32(),V=(function(){var Q,j;for(j=[],Q=0;Q<4;++Q)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(u);break;case"fcTL":G&&this.animation.frames.push(G),this.pos+=4,G={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},x=this.readUInt16(),v=this.readUInt16()||100,G.delay=1e3*x/v,G.disposeOp=this.data[this.pos++],G.blendOp=this.data[this.pos++],G.data=[];break;case"IDAT":case"fdAT":for(V==="fdAT"&&(this.pos+=4,u-=4),c=(G!=null?G.data:void 0)||this.imgData,L=0;0<=u?L<u:L>u;0<=u?++L:--L)c.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(m=this.palette.length/3,this.transparency.indexed=this.read(u),this.transparency.indexed.length>m)throw new Error("More transparent colors than palette size");if((H=m-this.transparency.indexed.length)>0)for(_=0;0<=H?_<H:_>H;0<=H?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(u)[0];break;case 2:this.transparency.rgb=this.read(u)}break;case"tEXt":B=(M=this.read(u)).indexOf(0),R=String.fromCharCode.apply(String,M.slice(0,B)),this.text[R]=String.fromCharCode.apply(String,M.slice(B+1));break;case"IEND":return G&&this.animation.frames.push(G),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(X=this.colorType)===4||X===6,C=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*C,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=u}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}o.prototype.read=function(c){var u,C;for(C=[],u=0;0<=c?u<c:u>c;0<=c?++u:--u)C.push(this.data[this.pos++]);return C},o.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.decodePixels=function(c){var u=this.pixelBitlength/8,C=new Uint8Array(this.width*this.height*u),m=0,v=this;if(c==null&&(c=this.imgData),c.length===0)return new Uint8Array(0);function x(G,B,R,V){var H,M,L,_,X,Q,j,re,P,O,de,ce,ne,oe,be,Ie,Re,ye,ve,fe,Ge,De=Math.ceil((v.width-G)/R),Pe=Math.ceil((v.height-B)/V),me=v.width==De&&v.height==Pe;for(oe=u*De,ce=me?C:new Uint8Array(oe*Pe),Q=c.length,ne=0,M=0;ne<Pe&&m<Q;){switch(c[m++]){case 0:for(_=Re=0;Re<oe;_=Re+=1)ce[M++]=c[m++];break;case 1:for(_=ye=0;ye<oe;_=ye+=1)H=c[m++],X=_<u?0:ce[M-u],ce[M++]=(H+X)%256;break;case 2:for(_=ve=0;ve<oe;_=ve+=1)H=c[m++],L=(_-_%u)/u,be=ne&&ce[(ne-1)*oe+L*u+_%u],ce[M++]=(be+H)%256;break;case 3:for(_=fe=0;fe<oe;_=fe+=1)H=c[m++],L=(_-_%u)/u,X=_<u?0:ce[M-u],be=ne&&ce[(ne-1)*oe+L*u+_%u],ce[M++]=(H+Math.floor((X+be)/2))%256;break;case 4:for(_=Ge=0;Ge<oe;_=Ge+=1)H=c[m++],L=(_-_%u)/u,X=_<u?0:ce[M-u],ne===0?be=Ie=0:(be=ce[(ne-1)*oe+L*u+_%u],Ie=L&&ce[(ne-1)*oe+(L-1)*u+_%u]),j=X+be-Ie,re=Math.abs(j-X),O=Math.abs(j-be),de=Math.abs(j-Ie),P=re<=O&&re<=de?X:O<=de?be:Ie,ce[M++]=(H+P)%256;break;default:throw new Error("Invalid filter algorithm: "+c[m-1])}if(!me){var _e=((B+ne*V)*v.width+G)*u,pe=ne*oe;for(_=0;_<De;_+=1){for(var Ee=0;Ee<u;Ee+=1)C[_e++]=ce[pe++];_e+=(R-1)*u}}ne++}}return c=rKe(c),v.interlaceMethod==1?(x(0,0,8,8),x(4,0,8,8),x(0,4,4,8),x(2,0,4,4),x(0,2,2,4),x(1,0,2,2),x(0,1,1,2)):x(0,0,1,1),C},o.prototype.decodePalette=function(){var c,u,C,m,v,x,G,B,R;for(C=this.palette,x=this.transparency.indexed||[],v=new Uint8Array((x.length||0)+C.length),m=0,c=0,u=G=0,B=C.length;G<B;u=G+=3)v[m++]=C[u],v[m++]=C[u+1],v[m++]=C[u+2],v[m++]=(R=x[c++])!=null?R:255;return v},o.prototype.copyToImageData=function(c,u){var C,m,v,x,G,B,R,V,H,M,L;if(m=this.colors,H=null,C=this.hasAlphaChannel,this.palette.length&&(H=(L=this._decodedPalette)!=null?L:this._decodedPalette=this.decodePalette(),m=4,C=!0),V=(v=c.data||c).length,G=H||u,x=B=0,m===1)for(;x<V;)R=H?4*u[x/4]:B,M=G[R++],v[x++]=M,v[x++]=M,v[x++]=M,v[x++]=C?G[R++]:255,B=R;else for(;x<V;)R=H?4*u[x/4]:B,v[x++]=G[R++],v[x++]=G[R++],v[x++]=G[R++],v[x++]=C?G[R++]:255,B=R},o.prototype.decode=function(){var c;return c=new Uint8Array(this.width*this.height*4),this.copyToImageData(c,this.decodePixels()),c};var s=function(){if(Object.prototype.toString.call(Fn)==="[object Window]"){try{t=Fn.document.createElement("canvas"),i=t.getContext("2d")}catch{return!1}return!0}return!1};return s(),e=function(c){var u;if(s()===!0)return i.width=c.width,i.height=c.height,i.clearRect(0,0,c.width,c.height),i.putImageData(c,0,0),(u=new Image).src=t.toDataURL(),u;throw new Error("This method requires a Browser with Canvas-capability.")},o.prototype.decodeFrames=function(c){var u,C,m,v,x,G,B,R;if(this.animation){for(R=[],C=x=0,G=(B=this.animation.frames).length;x<G;C=++x)u=B[C],m=c.createImageData(u.width,u.height),v=this.decodePixels(new Uint8Array(u.data)),this.copyToImageData(m,v),u.imageData=m,R.push(u.image=e(m));return R}},o.prototype.renderFrame=function(c,u){var C,m,v;return C=(m=this.animation.frames)[u],v=m[u-1],u===0&&c.clearRect(0,0,this.width,this.height),(v!=null?v.disposeOp:void 0)===1?c.clearRect(v.xOffset,v.yOffset,v.width,v.height):(v!=null?v.disposeOp:void 0)===2&&c.putImageData(v.imageData,v.xOffset,v.yOffset),C.blendOp===0&&c.clearRect(C.xOffset,C.yOffset,C.width,C.height),c.drawImage(C.image,C.xOffset,C.yOffset)},o.prototype.animate=function(c){var u,C,m,v,x,G,B=this;return C=0,G=this.animation,v=G.numFrames,m=G.frames,x=G.numPlays,(u=function(){var R,V;if(R=C++%v,V=m[R],B.renderFrame(c,R),v>1&&C/v<x)return B.animation._timeout=setTimeout(u,V.delay)})()},o.prototype.stopAnimation=function(){var c;return clearTimeout((c=this.animation)!=null?c._timeout:void 0)},o.prototype.render=function(c){var u,C;return c._png&&c._png.stopAnimation(),c._png=this,c.width=this.width,c.height=this.height,u=c.getContext("2d"),this.animation?(this.decodeFrames(u),this.animate(u)):(C=u.createImageData(this.width,this.height),this.copyToImageData(C,this.decodePixels()),u.putImageData(C,0,0))},o}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function xKe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var i=e[t++]|e[t++]<<8,o=e[t++]|e[t++]<<8,s=e[t++],c=s>>7,u=1<<(7&s)+1;e[t++],e[t++];var C=null,m=null;c&&(C=t,m=u,t+=3*u);var v=!0,x=[],G=0,B=null,R=0,V=null;for(this.width=i,this.height=o;v&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,V=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((ne=e[t++])>=0))throw Error("Invalid block size");if(ne===0)break;t+=ne}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var H=e[t++];G=e[t++]|e[t++]<<8,B=e[t++],!(1&H)&&(B=null),R=H>>2&7,t++;break;case 254:for(;;){if(!((ne=e[t++])>=0))throw Error("Invalid block size");if(ne===0)break;t+=ne}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var M=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,X=e[t++]|e[t++]<<8,Q=e[t++],j=Q>>6&1,re=1<<(7&Q)+1,P=C,O=m,de=!1;Q>>7&&(de=!0,P=t,O=re,t+=3*re);var ce=t;for(t++;;){var ne;if(!((ne=e[t++])>=0))throw Error("Invalid block size");if(ne===0)break;t+=ne}x.push({x:M,y:L,width:_,height:X,has_local_palette:de,palette_offset:P,palette_size:O,data_offset:ce,data_length:t-ce,transparent_index:B,interlaced:!!j,delay:G,disposal:R});break;case 59:v=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return x.length},this.loopCount=function(){return V},this.frameInfo=function(oe){if(oe<0||oe>=x.length)throw new Error("Frame index out of range.");return x[oe]},this.decodeAndBlitFrameBGRA=function(oe,be){var Ie=this.frameInfo(oe),Re=Ie.width*Ie.height,ye=new Uint8Array(Re);r9(e,Ie.data_offset,ye,Re);var ve=Ie.palette_offset,fe=Ie.transparent_index;fe===null&&(fe=256);var Ge=Ie.width,De=i-Ge,Pe=Ge,me=4*(Ie.y*i+Ie.x),_e=4*((Ie.y+Ie.height)*i+Ie.x),pe=me,Ee=4*De;Ie.interlaced===!0&&(Ee+=4*i*7);for(var We=8,Ue=0,je=ye.length;Ue<je;++Ue){var qe=ye[Ue];if(Pe===0&&(Pe=Ge,(pe+=Ee)>=_e&&(Ee=4*De+4*i*(We-1),pe=me+(Ge+De)*(We<<1),We>>=1)),qe===fe)pe+=4;else{var At=e[ve+3*qe],ct=e[ve+3*qe+1],lt=e[ve+3*qe+2];be[pe++]=lt,be[pe++]=ct,be[pe++]=At,be[pe++]=255}--Pe}},this.decodeAndBlitFrameRGBA=function(oe,be){var Ie=this.frameInfo(oe),Re=Ie.width*Ie.height,ye=new Uint8Array(Re);r9(e,Ie.data_offset,ye,Re);var ve=Ie.palette_offset,fe=Ie.transparent_index;fe===null&&(fe=256);var Ge=Ie.width,De=i-Ge,Pe=Ge,me=4*(Ie.y*i+Ie.x),_e=4*((Ie.y+Ie.height)*i+Ie.x),pe=me,Ee=4*De;Ie.interlaced===!0&&(Ee+=4*i*7);for(var We=8,Ue=0,je=ye.length;Ue<je;++Ue){var qe=ye[Ue];if(Pe===0&&(Pe=Ge,(pe+=Ee)>=_e&&(Ee=4*De+4*i*(We-1),pe=me+(Ge+De)*(We<<1),We>>=1)),qe===fe)pe+=4;else{var At=e[ve+3*qe],ct=e[ve+3*qe+1],lt=e[ve+3*qe+2];be[pe++]=At,be[pe++]=ct,be[pe++]=lt,be[pe++]=255}--Pe}}}function r9(e,t,i,o){for(var s=e[t++],c=1<<s,u=c+1,C=u+1,m=s+1,v=(1<<m)-1,x=0,G=0,B=0,R=e[t++],V=new Int32Array(4096),H=null;;){for(;x<16&&R!==0;)G|=e[t++]<<x,x+=8,R===1?R=e[t++]:--R;if(x<m)break;var M=G&v;if(G>>=m,x-=m,M!==c){if(M===u)break;for(var L=M<C?M:H,_=0,X=L;X>c;)X=V[X]>>8,++_;var Q=X;if(B+_+(L!==M?1:0)>o)return void lr.log("Warning, gif stream longer than expected.");i[B++]=Q;var j=B+=_;for(L!==M&&(i[B++]=Q),X=L;_--;)X=V[X],i[--j]=255&X,X>>=8;H!==null&&C<4096&&(V[C++]=H<<8|Q,C>=v+1&&m<12&&(++m,v=v<<1|1)),H=M}else C=u+1,v=(1<<(m=s+1))-1,H=null}return B!==o&&lr.log("Warning, gif stream shorter than expected."),i}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function i5(e){var t,i,o,s,c,u=Math.floor,C=new Array(64),m=new Array(64),v=new Array(64),x=new Array(64),G=new Array(65535),B=new Array(65535),R=new Array(64),V=new Array(64),H=[],M=0,L=7,_=new Array(64),X=new Array(64),Q=new Array(64),j=new Array(256),re=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],de=[0,1,2,3,4,5,6,7,8,9,10,11],ce=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ne=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],oe=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],be=[0,1,2,3,4,5,6,7,8,9,10,11],Ie=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ye(me,_e){for(var pe=0,Ee=0,We=new Array,Ue=1;Ue<=16;Ue++){for(var je=1;je<=me[Ue];je++)We[_e[Ee]]=[],We[_e[Ee]][0]=pe,We[_e[Ee]][1]=Ue,Ee++,pe++;pe*=2}return We}function ve(me){for(var _e=me[0],pe=me[1]-1;pe>=0;)_e&1<<pe&&(M|=1<<L),pe--,--L<0&&(M==255?(fe(255),fe(0)):fe(M),L=7,M=0)}function fe(me){H.push(me)}function Ge(me){fe(me>>8&255),fe(255&me)}function De(me,_e,pe,Ee,We){for(var Ue,je=We[0],qe=We[240],At=function(It,bt){var yt,kt,Jt,tn,An,dn,Bn,wt,St,Wt,Dt=0;for(St=0;St<8;++St){yt=It[Dt],kt=It[Dt+1],Jt=It[Dt+2],tn=It[Dt+3],An=It[Dt+4],dn=It[Dt+5],Bn=It[Dt+6];var Zt=yt+(wt=It[Dt+7]),Ct=yt-wt,Kt=kt+Bn,en=kt-Bn,Qt=Jt+dn,xn=Jt-dn,Gn=tn+An,ci=tn-An,Qn=Zt+Gn,rr=Zt-Gn,Lr=Kt+Qt,fi=Kt-Qt;It[Dt]=Qn+Lr,It[Dt+4]=Qn-Lr;var Sn=.707106781*(fi+rr);It[Dt+2]=rr+Sn,It[Dt+6]=rr-Sn;var Kn=.382683433*((Qn=ci+xn)-(fi=en+Ct)),qo=.5411961*Qn+Kn,qn=1.306562965*fi+Kn,To=.707106781*(Lr=xn+en),Xr=Ct+To,yn=Ct-To;It[Dt+5]=yn+qo,It[Dt+3]=yn-qo,It[Dt+1]=Xr+qn,It[Dt+7]=Xr-qn,Dt+=8}for(Dt=0,St=0;St<8;++St){yt=It[Dt],kt=It[Dt+8],Jt=It[Dt+16],tn=It[Dt+24],An=It[Dt+32],dn=It[Dt+40],Bn=It[Dt+48];var $o=yt+(wt=It[Dt+56]),Cs=yt-wt,fo=kt+Bn,or=kt-Bn,qi=Jt+dn,Gi=Jt-dn,Lo=tn+An,es=tn-An,So=$o+Lo,ts=$o-Lo,ui=fo+qi,ti=fo-qi;It[Dt]=So+ui,It[Dt+32]=So-ui;var Nr=.707106781*(ti+ts);It[Dt+16]=ts+Nr,It[Dt+48]=ts-Nr;var $r=.382683433*((So=es+Gi)-(ti=or+Cs)),_r=.5411961*So+$r,Fc=1.306562965*ti+$r,Be=.707106781*(ui=Gi+or),d=Cs+Be,A=Cs-Be;It[Dt+40]=A+_r,It[Dt+24]=A-_r,It[Dt+8]=d+Fc,It[Dt+56]=d-Fc,Dt++}for(St=0;St<64;++St)Wt=It[St]*bt[St],R[St]=Wt>0?Wt+.5|0:Wt-.5|0;return R}(me,_e),ct=0;ct<64;++ct)V[P[ct]]=At[ct];var lt=V[0]-pe;pe=V[0],lt==0?ve(Ee[0]):(ve(Ee[B[Ue=32767+lt]]),ve(G[Ue]));for(var at=63;at>0&&V[at]==0;)at--;if(at==0)return ve(je),pe;for(var Ht,st=1;st<=at;){for(var Ke=st;V[st]==0&&st<=at;)++st;var Vt=st-Ke;if(Vt>=16){Ht=Vt>>4;for(var Yt=1;Yt<=Ht;++Yt)ve(qe);Vt&=15}Ue=32767+V[st],ve(We[(Vt<<4)+B[Ue]]),ve(G[Ue]),st++}return at!=63&&ve(je),pe}function Pe(me){me=Math.min(Math.max(me,1),100),c!=me&&(function(_e){for(var pe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Ee=0;Ee<64;Ee++){var We=u((pe[Ee]*_e+50)/100);We=Math.min(Math.max(We,1),255),C[P[Ee]]=We}for(var Ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],je=0;je<64;je++){var qe=u((Ue[je]*_e+50)/100);qe=Math.min(Math.max(qe,1),255),m[P[je]]=qe}for(var At=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ct=0,lt=0;lt<8;lt++)for(var at=0;at<8;at++)v[ct]=1/(C[P[ct]]*At[lt]*At[at]*8),x[ct]=1/(m[P[ct]]*At[lt]*At[at]*8),ct++}(me<50?Math.floor(5e3/me):Math.floor(200-2*me)),c=me)}this.encode=function(me,_e){_e&&Pe(_e),H=new Array,M=0,L=7,Ge(65496),Ge(65504),Ge(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),Ge(1),Ge(1),fe(0),fe(0),function(){Ge(65499),Ge(132),fe(0);for(var kt=0;kt<64;kt++)fe(C[kt]);fe(1);for(var Jt=0;Jt<64;Jt++)fe(m[Jt])}(),function(kt,Jt){Ge(65472),Ge(17),fe(8),Ge(Jt),Ge(kt),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)}(me.width,me.height),function(){Ge(65476),Ge(418),fe(0);for(var kt=0;kt<16;kt++)fe(O[kt+1]);for(var Jt=0;Jt<=11;Jt++)fe(de[Jt]);fe(16);for(var tn=0;tn<16;tn++)fe(ce[tn+1]);for(var An=0;An<=161;An++)fe(ne[An]);fe(1);for(var dn=0;dn<16;dn++)fe(oe[dn+1]);for(var Bn=0;Bn<=11;Bn++)fe(be[Bn]);fe(17);for(var wt=0;wt<16;wt++)fe(Ie[wt+1]);for(var St=0;St<=161;St++)fe(Re[St])}(),Ge(65498),Ge(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var pe=0,Ee=0,We=0;M=0,L=7,this.encode.displayName="_encode_";for(var Ue,je,qe,At,ct,lt,at,Ht,st,Ke=me.data,Vt=me.width,Yt=me.height,It=4*Vt,bt=0;bt<Yt;){for(Ue=0;Ue<It;){for(ct=It*bt+Ue,at=-1,Ht=0,st=0;st<64;st++)lt=ct+(Ht=st>>3)*It+(at=4*(7&st)),bt+Ht>=Yt&&(lt-=It*(bt+1+Ht-Yt)),Ue+at>=It&&(lt-=Ue+at-It+4),je=Ke[lt++],qe=Ke[lt++],At=Ke[lt++],_[st]=(re[je]+re[qe+256>>0]+re[At+512>>0]>>16)-128,X[st]=(re[je+768>>0]+re[qe+1024>>0]+re[At+1280>>0]>>16)-128,Q[st]=(re[je+1280>>0]+re[qe+1536>>0]+re[At+1792>>0]>>16)-128;pe=De(_,v,pe,t,o),Ee=De(X,x,Ee,i,s),We=De(Q,x,We,i,s),Ue+=32}bt+=8}if(L>=0){var yt=[];yt[1]=L+1,yt[0]=(1<<L+1)-1,ve(yt)}return Ge(65497),new Uint8Array(H)},e=e||50,function(){for(var me=String.fromCharCode,_e=0;_e<256;_e++)j[_e]=me(_e)}(),t=ye(O,de),i=ye(oe,be),o=ye(ce,ne),s=ye(Ie,Re),function(){for(var me=1,_e=2,pe=1;pe<=15;pe++){for(var Ee=me;Ee<_e;Ee++)B[32767+Ee]=pe,G[32767+Ee]=[],G[32767+Ee][1]=pe,G[32767+Ee][0]=Ee;for(var We=-(_e-1);We<=-me;We++)B[32767+We]=pe,G[32767+We]=[],G[32767+We][1]=pe,G[32767+We][0]=_e-1+We;me<<=1,_e<<=1}}(),function(){for(var me=0;me<256;me++)re[me]=19595*me,re[me+256>>0]=38470*me,re[me+512>>0]=7471*me+32768,re[me+768>>0]=-11059*me,re[me+1024>>0]=-21709*me,re[me+1280>>0]=32768*me+8421375,re[me+1536>>0]=-27439*me,re[me+1792>>0]=-5329*me}(),Pe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function uc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function o9(e){function t(O){if(!O)throw Error("assert :P")}function i(O,de,ce){for(var ne=0;4>ne;ne++)if(O[de+ne]!=ce.charCodeAt(ne))return!0;return!1}function o(O,de,ce,ne,oe){for(var be=0;be<oe;be++)O[de+be]=ce[ne+be]}function s(O,de,ce,ne){for(var oe=0;oe<ne;oe++)O[de+oe]=ce}function c(O){return new Int32Array(O)}function u(O,de){for(var ce=[],ne=0;ne<O;ne++)ce.push(new de);return ce}function C(O,de){var ce=[];return function ne(oe,be,Ie){for(var Re=Ie[be],ye=0;ye<Re&&(oe.push(Ie.length>be+1?[]:new de),!(Ie.length<be+1));ye++)ne(oe[ye],be+1,Ie)}(ce,0,O),ce}var m=function(){var O=this;function de(F,K){for(var ie=1<<K-1>>>0;F&ie;)ie>>>=1;return ie?(F&ie-1)+ie:F}function ce(F,K,ie,he,Ne){t(!(he%ie));do F[K+(he-=ie)]=Ne;while(0<he)}function ne(F,K,ie,he,Ne){if(t(2328>=Ne),512>=Ne)var Fe=c(512);else if((Fe=c(Ne))==null)return 0;return function(He,Xe,Me,Je,nt,mt){var pt,ot,Lt=Xe,Bt=1<<Me,it=c(16),rt=c(16);for(t(nt!=0),t(Je!=null),t(He!=null),t(0<Me),ot=0;ot<nt;++ot){if(15<Je[ot])return 0;++it[Je[ot]]}if(it[0]==nt)return 0;for(rt[1]=0,pt=1;15>pt;++pt){if(it[pt]>1<<pt)return 0;rt[pt+1]=rt[pt]+it[pt]}for(ot=0;ot<nt;++ot)pt=Je[ot],0<Je[ot]&&(mt[rt[pt]++]=ot);if(rt[15]==1)return(Je=new oe).g=0,Je.value=mt[0],ce(He,Lt,1,Bt,Je),Bt;var Xt,Ut=-1,Mt=Bt-1,ft=0,on=1,Rn=1,Nt=1<<Me;for(ot=0,pt=1,nt=2;pt<=Me;++pt,nt<<=1){if(on+=Rn<<=1,0>(Rn-=it[pt]))return 0;for(;0<it[pt];--it[pt])(Je=new oe).g=pt,Je.value=mt[ot++],ce(He,Lt+ft,nt,Nt,Je),ft=de(ft,pt)}for(pt=Me+1,nt=2;15>=pt;++pt,nt<<=1){if(on+=Rn<<=1,0>(Rn-=it[pt]))return 0;for(;0<it[pt];--it[pt]){if(Je=new oe,(ft&Mt)!=Ut){for(Lt+=Nt,Xt=1<<(Ut=pt)-Me;15>Ut&&!(0>=(Xt-=it[Ut]));)++Ut,Xt<<=1;Bt+=Nt=1<<(Xt=Ut-Me),He[Xe+(Ut=ft&Mt)].g=Xt+Me,He[Xe+Ut].value=Lt-Xe-Ut}Je.g=pt-Me,Je.value=mt[ot++],ce(He,Lt+(ft>>Me),nt,Nt,Je),ft=de(ft,pt)}}return on!=2*rt[15]-1?0:Bt}(F,K,ie,he,Ne,Fe)}function oe(){this.value=this.g=0}function be(){this.value=this.g=0}function Ie(){this.G=u(5,oe),this.H=c(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Mo,be)}function Re(F,K,ie,he){t(F!=null),t(K!=null),t(2147483648>he),F.Ca=254,F.I=0,F.b=-8,F.Ka=0,F.oa=K,F.pa=ie,F.Jd=K,F.Yc=ie+he,F.Zc=4<=he?ie+he-4+1:ie,Ue(F)}function ye(F,K){for(var ie=0;0<K--;)ie|=qe(F,128)<<K;return ie}function ve(F,K){var ie=ye(F,K);return je(F)?-ie:ie}function fe(F,K,ie,he){var Ne,Fe=0;for(t(F!=null),t(K!=null),t(4294967288>he),F.Sb=he,F.Ra=0,F.u=0,F.h=0,4<he&&(he=4),Ne=0;Ne<he;++Ne)Fe+=K[ie+Ne]<<8*Ne;F.Ra=Fe,F.bb=he,F.oa=K,F.pa=ie}function Ge(F){for(;8<=F.u&&F.bb<F.Sb;)F.Ra>>>=8,F.Ra+=F.oa[F.pa+F.bb]<<Yd-8>>>0,++F.bb,F.u-=8;pe(F)&&(F.h=1,F.u=0)}function De(F,K){if(t(0<=K),!F.h&&K<=Md){var ie=_e(F)&Xd[K];return F.u+=K,Ge(F),ie}return F.h=1,F.u=0}function Pe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function me(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function _e(F){return F.Ra>>>(F.u&Yd-1)>>>0}function pe(F){return t(F.bb<=F.Sb),F.h||F.bb==F.Sb&&F.u>Yd}function Ee(F,K){F.u=K,F.h=pe(F)}function We(F){F.u>=Jd&&(t(F.u>=Jd),Ge(F))}function Ue(F){t(F!=null&&F.oa!=null),F.pa<F.Zc?(F.I=(F.oa[F.pa++]|F.I<<8)>>>0,F.b+=8):(t(F!=null&&F.oa!=null),F.pa<F.Yc?(F.b+=8,F.I=F.oa[F.pa++]|F.I<<8):F.Ka?F.b=0:(F.I<<=8,F.b+=8,F.Ka=1))}function je(F){return ye(F,1)}function qe(F,K){var ie=F.Ca;0>F.b&&Ue(F);var he=F.b,Ne=ie*K>>>8,Fe=(F.I>>>he>Ne)+0;for(Fe?(ie-=Ne,F.I-=Ne+1<<he>>>0):ie=Ne+1,he=ie,Ne=0;256<=he;)Ne+=8,he>>=8;return he=7^Ne+ns[he],F.b-=he,F.Ca=(ie<<he)-1,Fe}function At(F,K,ie){F[K+0]=ie>>24&255,F[K+1]=ie>>16&255,F[K+2]=ie>>8&255,F[K+3]=ie>>0&255}function ct(F,K){return F[K+0]<<0|F[K+1]<<8}function lt(F,K){return ct(F,K)|F[K+2]<<16}function at(F,K){return ct(F,K)|ct(F,K+2)<<16}function Ht(F,K){var ie=1<<K;return t(F!=null),t(0<K),F.X=c(ie),F.X==null?0:(F.Mb=32-K,F.Xa=K,1)}function st(F,K){t(F!=null),t(K!=null),t(F.Xa==K.Xa),o(K.X,0,F.X,0,1<<K.Xa)}function Ke(){this.X=[],this.Xa=this.Mb=0}function Vt(F,K,ie,he){t(ie!=null),t(he!=null);var Ne=ie[0],Fe=he[0];return Ne==0&&(Ne=(F*Fe+K/2)/K),Fe==0&&(Fe=(K*Ne+F/2)/F),0>=Ne||0>=Fe?0:(ie[0]=Ne,he[0]=Fe,1)}function Yt(F,K){return F+(1<<K)-1>>>K}function It(F,K){return((4278255360&F)+(4278255360&K)>>>0&4278255360)+((16711935&F)+(16711935&K)>>>0&16711935)>>>0}function bt(F,K){O[K]=function(ie,he,Ne,Fe,He,Xe,Me){var Je;for(Je=0;Je<He;++Je){var nt=O[F](Xe[Me+Je-1],Ne,Fe+Je);Xe[Me+Je]=It(ie[he+Je],nt)}}}function yt(){this.ud=this.hd=this.jd=0}function kt(F,K){return((4278124286&(F^K))>>>1)+(F&K)>>>0}function Jt(F){return 0<=F&&256>F?F:0>F?0:255<F?255:void 0}function tn(F,K){return Jt(F+(F-K+.5>>1))}function An(F,K,ie){return Math.abs(K-ie)-Math.abs(F-ie)}function dn(F,K,ie,he,Ne,Fe,He){for(he=Fe[He-1],ie=0;ie<Ne;++ie)Fe[He+ie]=he=It(F[K+ie],he)}function Bn(F,K,ie,he,Ne){var Fe;for(Fe=0;Fe<ie;++Fe){var He=F[K+Fe],Xe=He>>8&255,Me=16711935&(Me=(Me=16711935&He)+((Xe<<16)+Xe));he[Ne+Fe]=(4278255360&He)+Me>>>0}}function wt(F,K){K.jd=F>>0&255,K.hd=F>>8&255,K.ud=F>>16&255}function St(F,K,ie,he,Ne,Fe){var He;for(He=0;He<he;++He){var Xe=K[ie+He],Me=Xe>>>8,Je=Xe,nt=255&(nt=(nt=Xe>>>16)+((F.jd<<24>>24)*(Me<<24>>24)>>>5));Je=255&(Je=(Je=Je+((F.hd<<24>>24)*(Me<<24>>24)>>>5))+((F.ud<<24>>24)*(nt<<24>>24)>>>5)),Ne[Fe+He]=(4278255360&Xe)+(nt<<16)+Je}}function Wt(F,K,ie,he,Ne){O[K]=function(Fe,He,Xe,Me,Je,nt,mt,pt,ot){for(Me=mt;Me<pt;++Me)for(mt=0;mt<ot;++mt)Je[nt++]=Ne(Xe[he(Fe[He++])])},O[F]=function(Fe,He,Xe,Me,Je,nt,mt){var pt=8>>Fe.b,ot=Fe.Ea,Lt=Fe.K[0],Bt=Fe.w;if(8>pt)for(Fe=(1<<Fe.b)-1,Bt=(1<<pt)-1;He<Xe;++He){var it,rt=0;for(it=0;it<ot;++it)it&Fe||(rt=he(Me[Je++])),nt[mt++]=Ne(Lt[rt&Bt]),rt>>=pt}else O["VP8LMapColor"+ie](Me,Je,Lt,Bt,nt,mt,He,Xe,ot)}}function Dt(F,K,ie,he,Ne){for(ie=K+ie;K<ie;){var Fe=F[K++];he[Ne++]=Fe>>16&255,he[Ne++]=Fe>>8&255,he[Ne++]=Fe>>0&255}}function Zt(F,K,ie,he,Ne){for(ie=K+ie;K<ie;){var Fe=F[K++];he[Ne++]=Fe>>16&255,he[Ne++]=Fe>>8&255,he[Ne++]=Fe>>0&255,he[Ne++]=Fe>>24&255}}function Ct(F,K,ie,he,Ne){for(ie=K+ie;K<ie;){var Fe=(He=F[K++])>>16&240|He>>12&15,He=He>>0&240|He>>28&15;he[Ne++]=Fe,he[Ne++]=He}}function Kt(F,K,ie,he,Ne){for(ie=K+ie;K<ie;){var Fe=(He=F[K++])>>16&248|He>>13&7,He=He>>5&224|He>>3&31;he[Ne++]=Fe,he[Ne++]=He}}function en(F,K,ie,he,Ne){for(ie=K+ie;K<ie;){var Fe=F[K++];he[Ne++]=Fe>>0&255,he[Ne++]=Fe>>8&255,he[Ne++]=Fe>>16&255}}function Qt(F,K,ie,he,Ne,Fe){if(Fe==0)for(ie=K+ie;K<ie;)At(he,((Fe=F[K++])[0]>>24|Fe[1]>>8&65280|Fe[2]<<8&16711680|Fe[3]<<24)>>>0),Ne+=32;else o(he,Ne,F,K,ie)}function xn(F,K){O[K][0]=O[F+"0"],O[K][1]=O[F+"1"],O[K][2]=O[F+"2"],O[K][3]=O[F+"3"],O[K][4]=O[F+"4"],O[K][5]=O[F+"5"],O[K][6]=O[F+"6"],O[K][7]=O[F+"7"],O[K][8]=O[F+"8"],O[K][9]=O[F+"9"],O[K][10]=O[F+"10"],O[K][11]=O[F+"11"],O[K][12]=O[F+"12"],O[K][13]=O[F+"13"],O[K][14]=O[F+"0"],O[K][15]=O[F+"0"]}function Gn(F){return F==SC||F==jh||F==Iu||F==Oh}function ci(){this.eb=[],this.size=this.A=this.fb=0}function Qn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function rr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ci,this.f.kb=new Qn,this.sd=null}function Lr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Sn(F){return alert("todo:WebPSamplerProcessPlane"),F.T}function Kn(F,K){var ie=F.T,he=K.ba.f.RGBA,Ne=he.eb,Fe=he.fb+F.ka*he.A,He=na[K.ba.S],Xe=F.y,Me=F.O,Je=F.f,nt=F.N,mt=F.ea,pt=F.W,ot=K.cc,Lt=K.dc,Bt=K.Mc,it=K.Nc,rt=F.ka,Xt=F.ka+F.T,Ut=F.U,Mt=Ut+1>>1;for(rt==0?He(Xe,Me,null,null,Je,nt,mt,pt,Je,nt,mt,pt,Ne,Fe,null,null,Ut):(He(K.ec,K.fc,Xe,Me,ot,Lt,Bt,it,Je,nt,mt,pt,Ne,Fe-he.A,Ne,Fe,Ut),++ie);rt+2<Xt;rt+=2)ot=Je,Lt=nt,Bt=mt,it=pt,nt+=F.Rc,pt+=F.Rc,Fe+=2*he.A,He(Xe,(Me+=2*F.fa)-F.fa,Xe,Me,ot,Lt,Bt,it,Je,nt,mt,pt,Ne,Fe-he.A,Ne,Fe,Ut);return Me+=F.fa,F.j+Xt<F.o?(o(K.ec,K.fc,Xe,Me,Ut),o(K.cc,K.dc,Je,nt,Mt),o(K.Mc,K.Nc,mt,pt,Mt),ie--):1&Xt||He(Xe,Me,null,null,Je,nt,mt,pt,Je,nt,mt,pt,Ne,Fe+he.A,null,null,Ut),ie}function qo(F,K,ie){var he=F.F,Ne=[F.J];if(he!=null){var Fe=F.U,He=K.ba.S,Xe=He==fu||He==Iu;K=K.ba.f.RGBA;var Me=[0],Je=F.ka;Me[0]=F.T,F.Kb&&(Je==0?--Me[0]:(--Je,Ne[0]-=F.width),F.j+F.ka+F.T==F.o&&(Me[0]=F.o-F.j-Je));var nt=K.eb;Je=K.fb+Je*K.A,F=Wg(he,Ne[0],F.width,Fe,Me,nt,Je+(Xe?0:3),K.A),t(ie==Me),F&&Gn(He)&&$l(nt,Je,Xe,Fe,Me,K.A)}return 0}function qn(F){var K=F.ma,ie=K.ba.S,he=11>ie,Ne=ie==mu||ie==Cu||ie==fu||ie==Qh||ie==12||Gn(ie);if(K.memory=null,K.Ib=null,K.Jb=null,K.Nd=null,!Au(K.Oa,F,Ne?11:12))return 0;if(Ne&&Gn(ie)&&zt(),F.da)alert("todo:use_scaling");else{if(he){if(K.Ib=Sn,F.Kb){if(ie=F.U+1>>1,K.memory=c(F.U+2*ie),K.memory==null)return 0;K.ec=K.memory,K.fc=0,K.cc=K.ec,K.dc=K.fc+F.U,K.Mc=K.cc,K.Nc=K.dc+ie,K.Ib=Kn,zt()}}else alert("todo:EmitYUV");Ne&&(K.Jb=qo,he&&gt())}if(he&&!ia){for(F=0;256>F;++F)Io[F]=89858*(F-128)+Qd>>bu,pl[F]=-22014*(F-128)+Qd,is[F]=-45773*(F-128),bo[F]=113618*(F-128)+Qd>>bu;for(F=yu;F<_C;++F)K=76283*(F-16)+Qd>>bu,EC[F-yu]=Ts(K,255),FC[F-yu]=Ts(K+8>>4,15);ia=1}return 1}function To(F){var K=F.ma,ie=F.U,he=F.T;return t(!(1&F.ka)),0>=ie||0>=he?0:(ie=K.Ib(F,K),K.Jb!=null&&K.Jb(F,K,ie),K.Dc+=ie,1)}function Xr(F){F.ma.memory=null}function yn(F,K,ie,he){return De(F,8)!=47?0:(K[0]=De(F,14)+1,ie[0]=De(F,14)+1,he[0]=De(F,1),De(F,3)!=0?0:!F.h)}function $o(F,K){if(4>F)return F+1;var ie=F-2>>1;return(2+(1&F)<<ie)+De(K,ie)+1}function Cs(F,K){return 120<K?K-120:1<=(ie=((ie=N2[K-1])>>4)*F+(8-(15&ie)))?ie:1;var ie}function fo(F,K,ie){var he=_e(ie),Ne=F[K+=255&he].g-8;return 0<Ne&&(Ee(ie,ie.u+8),he=_e(ie),K+=F[K].value,K+=he&(1<<Ne)-1),Ee(ie,ie.u+F[K].g),F[K].value}function or(F,K,ie){return ie.g+=F.g,ie.value+=F.value<<K>>>0,t(8>=ie.g),F.g}function qi(F,K,ie){var he=F.xc;return t((K=he==0?0:F.vc[F.md*(ie>>he)+(K>>he)])<F.Wb),F.Ya[K]}function Gi(F,K,ie,he){var Ne=F.ab,Fe=F.c*K,He=F.C;K=He+K;var Xe=ie,Me=he;for(he=F.Ta,ie=F.Ua;0<Ne--;){var Je=F.gc[Ne],nt=He,mt=K,pt=Xe,ot=Me,Lt=(Me=he,Xe=ie,Je.Ea);switch(t(nt<mt),t(mt<=Je.nc),Je.hc){case 2:Ph(pt,ot,(mt-nt)*Lt,Me,Xe);break;case 0:var Bt=nt,it=mt,rt=Me,Xt=Xe,Ut=(Nt=Je).Ea;Bt==0&&(vC(pt,ot,null,null,1,rt,Xt),dn(pt,ot+1,0,0,Ut-1,rt,Xt+1),ot+=Ut,Xt+=Ut,++Bt);for(var Mt=1<<Nt.b,ft=Mt-1,on=Yt(Ut,Nt.b),Rn=Nt.K,Nt=Nt.w+(Bt>>Nt.b)*on;Bt<it;){var hi=Rn,vi=Nt,ri=1;for(Ud(pt,ot,rt,Xt-Ut,1,rt,Xt);ri<Ut;){var oi=(ri&~ft)+Mt;oi>Ut&&(oi=Ut),(0,jl[hi[vi++]>>8&15])(pt,ot+ +ri,rt,Xt+ri-Ut,oi-ri,rt,Xt+ri),ri=oi}ot+=Ut,Xt+=Ut,++Bt&ft||(Nt+=on)}mt!=Je.nc&&o(Me,Xe-Lt,Me,Xe+(mt-nt-1)*Lt,Lt);break;case 1:for(Lt=pt,it=ot,Ut=(pt=Je.Ea)-(Xt=pt&~(rt=(ot=1<<Je.b)-1)),Bt=Yt(pt,Je.b),Mt=Je.K,Je=Je.w+(nt>>Je.b)*Bt;nt<mt;){for(ft=Mt,on=Je,Rn=new yt,Nt=it+Xt,hi=it+pt;it<Nt;)wt(ft[on++],Rn),ea(Rn,Lt,it,ot,Me,Xe),it+=ot,Xe+=ot;it<hi&&(wt(ft[on++],Rn),ea(Rn,Lt,it,Ut,Me,Xe),it+=Ut,Xe+=Ut),++nt&rt||(Je+=Bt)}break;case 3:if(pt==Me&&ot==Xe&&0<Je.b){for(it=Me,pt=Lt=Xe+(mt-nt)*Lt-(Xt=(mt-nt)*Yt(Je.Ea,Je.b)),ot=Me,rt=Xe,Bt=[],Xt=(Ut=Xt)-1;0<=Xt;--Xt)Bt[Xt]=ot[rt+Xt];for(Xt=Ut-1;0<=Xt;--Xt)it[pt+Xt]=Bt[Xt];$s(Je,nt,mt,Me,Lt,Me,Xe)}else $s(Je,nt,mt,pt,ot,Me,Xe)}Xe=he,Me=ie}Me!=ie&&o(he,ie,Xe,Me,Fe)}function Lo(F,K){var ie=F.V,he=F.Ba+F.c*F.C,Ne=K-F.C;if(t(K<=F.l.o),t(16>=Ne),0<Ne){var Fe=F.l,He=F.Ta,Xe=F.Ua,Me=Fe.width;if(Gi(F,Ne,ie,he),Ne=Xe=[Xe],t((ie=F.C)<(he=K)),t(Fe.v<Fe.va),he>Fe.o&&(he=Fe.o),ie<Fe.j){var Je=Fe.j-ie;ie=Fe.j,Ne[0]+=Je*Me}if(ie>=he?ie=0:(Ne[0]+=4*Fe.v,Fe.ka=ie-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=he-ie,ie=1),ie){if(Xe=Xe[0],11>(ie=F.ca).S){var nt=ie.f.RGBA,mt=(he=ie.S,Ne=Fe.U,Fe=Fe.T,Je=nt.eb,nt.A),pt=Fe;for(nt=nt.fb+F.Ma*nt.A;0<pt--;){var ot=He,Lt=Xe,Bt=Ne,it=Je,rt=nt;switch(he){case ml:_a(ot,Lt,Bt,it,rt);break;case mu:Ol(ot,Lt,Bt,it,rt);break;case SC:Ol(ot,Lt,Bt,it,rt),$l(it,rt,0,Bt,1,0);break;case pu:Eg(ot,Lt,Bt,it,rt);break;case Cu:Qt(ot,Lt,Bt,it,rt,1);break;case jh:Qt(ot,Lt,Bt,it,rt,1),$l(it,rt,0,Bt,1,0);break;case fu:Qt(ot,Lt,Bt,it,rt,0);break;case Iu:Qt(ot,Lt,Bt,it,rt,0),$l(it,rt,1,Bt,1,0);break;case Qh:gl(ot,Lt,Bt,it,rt);break;case Oh:gl(ot,Lt,Bt,it,rt),Xn(it,rt,Bt,1,0);break;case qb:dl(ot,Lt,Bt,it,rt);break;default:t(0)}Xe+=Me,nt+=mt}F.Ma+=Fe}else alert("todo:EmitRescaledRowsYUVA");t(F.Ma<=ie.height)}}F.C=K,t(F.C<=F.i)}function es(F){var K;if(0<F.ua)return 0;for(K=0;K<F.Wb;++K){var ie=F.Ya[K].G,he=F.Ya[K].H;if(0<ie[1][he[1]+0].g||0<ie[2][he[2]+0].g||0<ie[3][he[3]+0].g)return 0}return 1}function So(F,K,ie,he,Ne,Fe){if(F.Z!=0){var He=F.qd,Xe=F.rd;for(t(nc[F.Z]!=null);K<ie;++K)nc[F.Z](He,Xe,he,Ne,he,Ne,Fe),He=he,Xe=Ne,Ne+=Fe;F.qd=He,F.rd=Xe}}function ts(F,K){var ie=F.l.ma,he=ie.Z==0||ie.Z==1?F.l.j:F.C;if(he=F.C<he?he:F.C,t(K<=F.l.o),K>he){var Ne=F.l.width,Fe=ie.ca,He=ie.tb+Ne*he,Xe=F.V,Me=F.Ba+F.c*he,Je=F.gc;t(F.ab==1),t(Je[0].hc==3),Kh(Je[0],he,K,Xe,Me,Fe,He),So(ie,he,K,Fe,He,Ne)}F.C=F.Ma=K}function ui(F,K,ie,he,Ne,Fe,He){var Xe=F.$/he,Me=F.$%he,Je=F.m,nt=F.s,mt=ie+F.$,pt=mt;Ne=ie+he*Ne;var ot=ie+he*Fe,Lt=280+nt.ua,Bt=F.Pb?Xe:16777216,it=0<nt.ua?nt.Wa:null,rt=nt.wc,Xt=mt<ot?qi(nt,Me,Xe):null;t(F.C<Fe),t(ot<=Ne);var Ut=!1;e:for(;;){for(;Ut||mt<ot;){var Mt=0;if(Xe>=Bt){var ft=mt-ie;t((Bt=F).Pb),Bt.wd=Bt.m,Bt.xd=ft,0<Bt.s.ua&&st(Bt.s.Wa,Bt.s.vb),Bt=Xe+di}if(Me&rt||(Xt=qi(nt,Me,Xe)),t(Xt!=null),Xt.Qb&&(K[mt]=Xt.qb,Ut=!0),!Ut)if(We(Je),Xt.jc){Mt=Je,ft=K;var on=mt,Rn=Xt.pd[_e(Mt)&Mo-1];t(Xt.jc),256>Rn.g?(Ee(Mt,Mt.u+Rn.g),ft[on]=Rn.value,Mt=0):(Ee(Mt,Mt.u+Rn.g-256),t(256<=Rn.value),Mt=Rn.value),Mt==0&&(Ut=!0)}else Mt=fo(Xt.G[0],Xt.H[0],Je);if(Je.h)break;if(Ut||256>Mt){if(!Ut)if(Xt.nd)K[mt]=(Xt.qb|Mt<<8)>>>0;else{if(We(Je),Ut=fo(Xt.G[1],Xt.H[1],Je),We(Je),ft=fo(Xt.G[2],Xt.H[2],Je),on=fo(Xt.G[3],Xt.H[3],Je),Je.h)break;K[mt]=(on<<24|Ut<<16|Mt<<8|ft)>>>0}if(Ut=!1,++mt,++Me>=he&&(Me=0,++Xe,He!=null&&Xe<=Fe&&!(Xe%16)&&He(F,Xe),it!=null))for(;pt<mt;)Mt=K[pt++],it.X[(506832829*Mt&4294967295)>>>it.Mb]=Mt}else if(280>Mt){if(Mt=$o(Mt-256,Je),ft=fo(Xt.G[4],Xt.H[4],Je),We(Je),ft=Cs(he,ft=$o(ft,Je)),Je.h)break;if(mt-ie<ft||Ne-mt<Mt)break e;for(on=0;on<Mt;++on)K[mt+on]=K[mt+on-ft];for(mt+=Mt,Me+=Mt;Me>=he;)Me-=he,++Xe,He!=null&&Xe<=Fe&&!(Xe%16)&&He(F,Xe);if(t(mt<=Ne),Me&rt&&(Xt=qi(nt,Me,Xe)),it!=null)for(;pt<mt;)Mt=K[pt++],it.X[(506832829*Mt&4294967295)>>>it.Mb]=Mt}else{if(!(Mt<Lt))break e;for(Ut=Mt-280,t(it!=null);pt<mt;)Mt=K[pt++],it.X[(506832829*Mt&4294967295)>>>it.Mb]=Mt;Mt=mt,t(!(Ut>>>(ft=it).Xa)),K[Mt]=ft.X[Ut],Ut=!0}Ut||t(Je.h==pe(Je))}if(F.Pb&&Je.h&&mt<Ne)t(F.m.h),F.a=5,F.m=F.wd,F.$=F.xd,0<F.s.ua&&st(F.s.vb,F.s.Wa);else{if(Je.h)break e;He!=null&&He(F,Xe>Fe?Fe:Xe),F.a=0,F.$=mt-ie}return 1}return F.a=3,0}function ti(F){t(F!=null),F.vc=null,F.yc=null,F.Ya=null;var K=F.Wa;K!=null&&(K.X=null),F.vb=null,t(F!=null)}function Nr(){var F=new Jh;return F==null?null:(F.a=0,F.xb=o0,xn("Predictor","VP8LPredictors"),xn("Predictor","VP8LPredictors_C"),xn("PredictorAdd","VP8LPredictorsAdd"),xn("PredictorAdd","VP8LPredictorsAdd_C"),Ph=Bn,ea=St,_a=Dt,Ol=Zt,gl=Ct,dl=Kt,Eg=en,O.VP8LMapColor32b=hu,O.VP8LMapColor8b=wC,F)}function $r(F,K,ie,he,Ne){var Fe=1,He=[F],Xe=[K],Me=he.m,Je=he.s,nt=null,mt=0;e:for(;;){if(ie)for(;Fe&&De(Me,1);){var pt=He,ot=Xe,Lt=he,Bt=1,it=Lt.m,rt=Lt.gc[Lt.ab],Xt=De(it,2);if(Lt.Oc&1<<Xt)Fe=0;else{switch(Lt.Oc|=1<<Xt,rt.hc=Xt,rt.Ea=pt[0],rt.nc=ot[0],rt.K=[null],++Lt.ab,t(4>=Lt.ab),Xt){case 0:case 1:rt.b=De(it,3)+2,Bt=$r(Yt(rt.Ea,rt.b),Yt(rt.nc,rt.b),0,Lt,rt.K),rt.K=rt.K[0];break;case 3:var Ut,Mt=De(it,8)+1,ft=16<Mt?0:4<Mt?1:2<Mt?2:3;if(pt[0]=Yt(rt.Ea,ft),rt.b=ft,Ut=Bt=$r(Mt,1,0,Lt,rt.K)){var on,Rn=Mt,Nt=rt,hi=1<<(8>>Nt.b),vi=c(hi);if(vi==null)Ut=0;else{var ri=Nt.K[0],oi=Nt.w;for(vi[0]=Nt.K[0][0],on=1;on<1*Rn;++on)vi[on]=It(ri[oi+on],vi[on-1]);for(;on<4*hi;++on)vi[on]=0;Nt.K[0]=null,Nt.K[0]=vi,Ut=1}}Bt=Ut;break;case 2:break;default:t(0)}Fe=Bt}}if(He=He[0],Xe=Xe[0],Fe&&De(Me,1)&&!(Fe=1<=(mt=De(Me,4))&&11>=mt)){he.a=3;break e}var _t;if(_t=Fe)t:{var Fi,nn,Er,rs=he,Fr=He,os=Xe,Wi=mt,Ls=ie,bs=rs.m,Wr=rs.s,Ro=[null],Jo=1,sa=0,Xs=n0[Wi];n:for(;;){if(Ls&&De(bs,1)){var no=De(bs,3)+2,Cl=Yt(Fr,no),Hg=Yt(os,no),jd=Cl*Hg;if(!$r(Cl,Hg,0,rs,Ro))break n;for(Ro=Ro[0],Wr.xc=no,Fi=0;Fi<jd;++Fi){var Pc=Ro[Fi]>>8&65535;Ro[Fi]=Pc,Pc>=Jo&&(Jo=Pc+1)}}if(bs.h)break n;for(nn=0;5>nn;++nn){var gr=e0[nn];!nn&&0<Wi&&(gr+=1<<Wi),sa<gr&&(sa=gr)}var tm=u(Jo*Xs,oe),g0=Jo,Kc=u(g0,Ie);if(Kc==null)var vu=null;else t(65536>=g0),vu=Kc;var Fa=c(sa);if(vu==null||Fa==null||tm==null){rs.a=1;break n}var wi=tm;for(Fi=Er=0;Fi<Jo;++Fi){var Mr=vu[Fi],ss=Mr.G,Dg=Mr.H,nm=0,Tg=1,d0=0;for(nn=0;5>nn;++nn){gr=e0[nn],ss[nn]=wi,Dg[nn]=Er,!nn&&0<Wi&&(gr+=1<<Wi);r:{var im,wu=gr,Od=rs,ku=Fa,D2=wi,T2=Er,WC=0,zc=Od.m,L2=De(zc,1);if(s(ku,0,0,wu),L2){var X2=De(zc,1)+1,A0=De(zc,1),HC=De(zc,A0==0?1:8);ku[HC]=1,X2==2&&(ku[HC=De(zc,8)]=1);var rm=1}else{var om=c(19),Bu=De(zc,4)+4;if(19<Bu){Od.a=3;var sm=0;break r}for(im=0;im<Bu;++im)om[R2[im]]=De(zc,3);var Qc=void 0,Lg=void 0,DC=Od,M2=om,am=wu,u0=ku,Xg=0,jc=DC.m,h0=8,lm=u(128,oe);i:for(;ne(lm,0,7,M2,19);){if(De(jc,1)){var Y2=2+2*De(jc,3);if((Qc=2+De(jc,Y2))>am)break i}else Qc=am;for(Lg=0;Lg<am&&Qc--;){We(jc);var cm=lm[0+(127&_e(jc))];Ee(jc,jc.u+cm.g);var Oc=cm.value;if(16>Oc)u0[Lg++]=Oc,Oc!=0&&(h0=Oc);else{var Ms=Oc==16,TC=Oc-16,xu=ZC[TC],m0=De(jc,$b[TC])+xu;if(Lg+m0>am)break i;for(var gm=Ms?h0:0;0<m0--;)u0[Lg++]=gm}}Xg=1;break i}Xg||(DC.a=3),rm=Xg}(rm=rm&&!zc.h)&&(WC=ne(D2,T2,8,ku,wu)),rm&&WC!=0?sm=WC:(Od.a=3,sm=0)}if(sm==0)break n;if(Tg&&t0[nn]==1&&(Tg=wi[Er].g==0),nm+=wi[Er].g,Er+=sm,3>=nn){var qd,dm=Fa[0];for(qd=1;qd<gr;++qd)Fa[qd]>dm&&(dm=Fa[qd]);d0+=dm}}if(Mr.nd=Tg,Mr.Qb=0,Tg&&(Mr.qb=(ss[3][Dg[3]+0].value<<24|ss[1][Dg[1]+0].value<<16|ss[2][Dg[2]+0].value)>>>0,nm==0&&256>ss[0][Dg[0]+0].value&&(Mr.Qb=1,Mr.qb+=ss[0][Dg[0]+0].value<<8)),Mr.jc=!Mr.Qb&&6>d0,Mr.jc){var fl,jt=Mr;for(fl=0;fl<Mo;++fl){var wn=fl,Wa=jt.pd[wn],ys=jt.G[0][jt.H[0]+wn];256<=ys.value?(Wa.g=ys.g+256,Wa.value=ys.value):(Wa.g=0,Wa.value=0,wn>>=or(ys,8,Wa),wn>>=or(jt.G[1][jt.H[1]+wn],16,Wa),wn>>=or(jt.G[2][jt.H[2]+wn],0,Wa),or(jt.G[3][jt.H[3]+wn],24,Wa))}}}Wr.vc=Ro,Wr.Wb=Jo,Wr.Ya=vu,Wr.yc=tm,_t=1;break t}_t=0}if(!(Fe=_t)){he.a=3;break e}if(0<mt){if(Je.ua=1<<mt,!Ht(Je.Wa,mt)){he.a=1,Fe=0;break e}}else Je.ua=0;var Su=he,Mg=He,LC=Xe,Zu=Su.s,Yg=Zu.xc;if(Su.c=Mg,Su.i=LC,Zu.md=Yt(Mg,Yg),Zu.wc=Yg==0?-1:(1<<Yg)-1,ie){he.xb=Uc;break e}if((nt=c(He*Xe))==null){he.a=1,Fe=0;break e}Fe=(Fe=ui(he,nt,0,He,Xe,Xe,null))&&!Me.h;break e}return Fe?(Ne!=null?Ne[0]=nt:(t(nt==null),t(ie)),he.$=0,ie||ti(Je)):ti(Je),Fe}function _r(F,K){var ie=F.c*F.i,he=ie+K+16*K;return t(F.c<=K),F.V=c(he),F.V==null?(F.Ta=null,F.Ua=0,F.a=1,0):(F.Ta=F.V,F.Ua=F.Ba+ie+K,1)}function Fc(F,K){var ie=F.C,he=K-ie,Ne=F.V,Fe=F.Ba+F.c*ie;for(t(K<=F.l.o);0<he;){var He=16<he?16:he,Xe=F.l.ma,Me=F.l.width,Je=Me*He,nt=Xe.ca,mt=Xe.tb+Me*ie,pt=F.Ta,ot=F.Ua;Gi(F,He,Ne,Fe),kC(pt,ot,nt,mt,Je),So(Xe,ie,ie+He,nt,mt,Me),he-=He,Ne+=He*F.c,ie+=He}t(ie==K),F.C=F.Ma=K}function Be(){this.ub=this.yd=this.td=this.Rb=0}function d(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function A(){this.Fb=this.Bb=this.Cb=0,this.Zb=c(4),this.Lb=c(4)}function p(){this.Yb=function(){var F=[];return function K(ie,he,Ne){for(var Fe=Ne[he],He=0;He<Fe&&(ie.push(Ne.length>he+1?[]:0),!(Ne.length<he+1));He++)K(ie[He],he+1,Ne)}(F,0,[3,11]),F}()}function I(){this.jb=c(3),this.Wc=C([4,8],p),this.Xc=C([4,17],p)}function w(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new c(4),this.od=new c(4)}function k(){this.ld=this.La=this.dd=this.tc=0}function Z(){this.Na=this.la=0}function E(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function D(){this.ad=c(384),this.Za=0,this.Ob=c(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Y(){this.uc=this.M=this.Nb=0,this.wa=Array(new k),this.Y=0,this.ya=Array(new D),this.aa=0,this.l=new te}function U(){this.y=c(16),this.f=c(8),this.ea=c(8)}function z(){this.cb=this.a=0,this.sc="",this.m=new Pe,this.Od=new Be,this.Kc=new d,this.ed=new w,this.Qa=new A,this.Ic=this.$c=this.Aa=0,this.D=new Y,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,Pe),this.ia=0,this.pb=u(4,E),this.Pa=new I,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new U),this.Hd=0,this.rb=Array(new Z),this.sb=0,this.wa=Array(new k),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new D),this.L=this.aa=0,this.gd=C([4,2],k),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function te(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ae(){var F=new z;return F!=null&&(F.a=0,F.sc="OK",F.cb=0,F.Xb=0,ec||(ec=ke)),F}function ge(F,K,ie){return F.a==0&&(F.a=K,F.sc=ie,F.cb=0),0}function Ce(F,K,ie){return 3<=ie&&F[K+0]==157&&F[K+1]==1&&F[K+2]==42}function we(F,K){if(F==null)return 0;if(F.a=0,F.sc="OK",K==null)return ge(F,2,"null VP8Io passed to VP8GetHeaders()");var ie=K.data,he=K.w,Ne=K.ha;if(4>Ne)return ge(F,7,"Truncated header.");var Fe=ie[he+0]|ie[he+1]<<8|ie[he+2]<<16,He=F.Od;if(He.Rb=!(1&Fe),He.td=Fe>>1&7,He.yd=Fe>>4&1,He.ub=Fe>>5,3<He.td)return ge(F,3,"Incorrect keyframe parameters.");if(!He.yd)return ge(F,4,"Frame not displayable.");he+=3,Ne-=3;var Xe=F.Kc;if(He.Rb){if(7>Ne)return ge(F,7,"cannot parse picture header");if(!Ce(ie,he,Ne))return ge(F,3,"Bad code word");Xe.c=16383&(ie[he+4]<<8|ie[he+3]),Xe.Td=ie[he+4]>>6,Xe.i=16383&(ie[he+6]<<8|ie[he+5]),Xe.Ud=ie[he+6]>>6,he+=7,Ne-=7,F.za=Xe.c+15>>4,F.Ub=Xe.i+15>>4,K.width=Xe.c,K.height=Xe.i,K.Da=0,K.j=0,K.v=0,K.va=K.width,K.o=K.height,K.da=0,K.ib=K.width,K.hb=K.height,K.U=K.width,K.T=K.height,s((Fe=F.Pa).jb,0,255,Fe.jb.length),t((Fe=F.Qa)!=null),Fe.Cb=0,Fe.Bb=0,Fe.Fb=1,s(Fe.Zb,0,0,Fe.Zb.length),s(Fe.Lb,0,0,Fe.Lb)}if(He.ub>Ne)return ge(F,7,"bad partition length");Re(Fe=F.m,ie,he,He.ub),he+=He.ub,Ne-=He.ub,He.Rb&&(Xe.Ld=je(Fe),Xe.Kd=je(Fe)),Xe=F.Qa;var Me,Je=F.Pa;if(t(Fe!=null),t(Xe!=null),Xe.Cb=je(Fe),Xe.Cb){if(Xe.Bb=je(Fe),je(Fe)){for(Xe.Fb=je(Fe),Me=0;4>Me;++Me)Xe.Zb[Me]=je(Fe)?ve(Fe,7):0;for(Me=0;4>Me;++Me)Xe.Lb[Me]=je(Fe)?ve(Fe,6):0}if(Xe.Bb)for(Me=0;3>Me;++Me)Je.jb[Me]=je(Fe)?ye(Fe,8):255}else Xe.Bb=0;if(Fe.Ka)return ge(F,3,"cannot parse segment header");if((Xe=F.ed).zd=je(Fe),Xe.Tb=ye(Fe,6),Xe.wb=ye(Fe,3),Xe.Pc=je(Fe),Xe.Pc&&je(Fe)){for(Je=0;4>Je;++Je)je(Fe)&&(Xe.vd[Je]=ve(Fe,6));for(Je=0;4>Je;++Je)je(Fe)&&(Xe.od[Je]=ve(Fe,6))}if(F.L=Xe.Tb==0?0:Xe.zd?1:2,Fe.Ka)return ge(F,3,"cannot parse filter header");var nt=Ne;if(Ne=Me=he,he=Me+nt,Xe=nt,F.Xb=(1<<ye(F.m,2))-1,nt<3*(Je=F.Xb))ie=7;else{for(Me+=3*Je,Xe-=3*Je,nt=0;nt<Je;++nt){var mt=ie[Ne+0]|ie[Ne+1]<<8|ie[Ne+2]<<16;mt>Xe&&(mt=Xe),Re(F.Jc[+nt],ie,Me,mt),Me+=mt,Xe-=mt,Ne+=3}Re(F.Jc[+Je],ie,Me,Xe),ie=Me<he?0:5}if(ie!=0)return ge(F,ie,"cannot parse partitions");for(ie=ye(Me=F.m,7),Ne=je(Me)?ve(Me,4):0,he=je(Me)?ve(Me,4):0,Xe=je(Me)?ve(Me,4):0,Je=je(Me)?ve(Me,4):0,Me=je(Me)?ve(Me,4):0,nt=F.Qa,mt=0;4>mt;++mt){if(nt.Cb){var pt=nt.Zb[mt];nt.Fb||(pt+=ie)}else{if(0<mt){F.pb[mt]=F.pb[0];continue}pt=ie}var ot=F.pb[mt];ot.Sc[0]=GC[Ts(pt+Ne,127)],ot.Sc[1]=Yc[Ts(pt+0,127)],ot.Eb[0]=2*GC[Ts(pt+he,127)],ot.Eb[1]=101581*Yc[Ts(pt+Xe,127)]>>16,8>ot.Eb[1]&&(ot.Eb[1]=8),ot.Qc[0]=GC[Ts(pt+Je,117)],ot.Qc[1]=Yc[Ts(pt+Me,127)],ot.lc=pt+Me}if(!He.Rb)return ge(F,4,"Not a key frame.");for(je(Fe),He=F.Pa,ie=0;4>ie;++ie){for(Ne=0;8>Ne;++Ne)for(he=0;3>he;++he)for(Xe=0;11>Xe;++Xe)Je=qe(Fe,_2[ie][Ne][he][Xe])?ye(Fe,8):NC[ie][Ne][he][Xe],He.Wc[ie][Ne].Yb[he][Xe]=Je;for(Ne=0;17>Ne;++Ne)He.Xc[ie][Ne]=He.Wc[ie][r0[Ne]]}return F.kc=je(Fe),F.kc&&(F.Bd=ye(Fe,8)),F.cb=1}function ke(F,K,ie,he,Ne,Fe,He){var Xe=K[Ne].Yb[ie];for(ie=0;16>Ne;++Ne){if(!qe(F,Xe[ie+0]))return Ne;for(;!qe(F,Xe[ie+1]);)if(Xe=K[++Ne].Yb[0],ie=0,Ne==16)return 16;var Me=K[Ne+1].Yb;if(qe(F,Xe[ie+2])){var Je=F,nt=0;if(qe(Je,(pt=Xe)[(mt=ie)+3]))if(qe(Je,pt[mt+6])){for(Xe=0,mt=2*(nt=qe(Je,pt[mt+8]))+(pt=qe(Je,pt[mt+9+nt])),nt=0,pt=qh[mt];pt[Xe];++Xe)nt+=nt+qe(Je,pt[Xe]);nt+=3+(8<<mt)}else qe(Je,pt[mt+7])?(nt=7+2*qe(Je,165),nt+=qe(Je,145)):nt=5+qe(Je,159);else nt=qe(Je,pt[mt+4])?3+qe(Je,pt[mt+5]):2;Xe=Me[2]}else nt=1,Xe=Me[1];Me=He+RC[Ne],0>(Je=F).b&&Ue(Je);var mt,pt=Je.b,ot=(mt=Je.Ca>>1)-(Je.I>>pt)>>31;--Je.b,Je.Ca+=ot,Je.Ca|=1,Je.I-=(mt+1&ot)<<pt,Fe[Me]=((nt^ot)-ot)*he[(0<Ne)+0]}return 16}function T(F){var K=F.rb[F.sb-1];K.la=0,K.Na=0,s(F.zc,0,0,F.zc.length),F.ja=0}function q(F,K){if(F==null)return 0;if(K==null)return ge(F,2,"NULL VP8Io parameter in VP8Decode().");if(!F.cb&&!we(F,K))return 0;if(t(F.cb),K.ac==null||K.ac(K)){K.ob&&(F.L=0);var ie=em[F.L];if(F.L==2?(F.yb=0,F.zb=0):(F.yb=K.v-ie>>4,F.zb=K.j-ie>>4,0>F.yb&&(F.yb=0),0>F.zb&&(F.zb=0)),F.Va=K.o+15+ie>>4,F.Hb=K.va+15+ie>>4,F.Hb>F.za&&(F.Hb=F.za),F.Va>F.Ub&&(F.Va=F.Ub),0<F.L){var he=F.ed;for(ie=0;4>ie;++ie){var Ne;if(F.Qa.Cb){var Fe=F.Qa.Lb[ie];F.Qa.Fb||(Fe+=he.Tb)}else Fe=he.Tb;for(Ne=0;1>=Ne;++Ne){var He=F.gd[ie][Ne],Xe=Fe;if(he.Pc&&(Xe+=he.vd[0],Ne&&(Xe+=he.od[0])),0<(Xe=0>Xe?0:63<Xe?63:Xe)){var Me=Xe;0<he.wb&&(Me=4<he.wb?Me>>2:Me>>1)>9-he.wb&&(Me=9-he.wb),1>Me&&(Me=1),He.dd=Me,He.tc=2*Xe+Me,He.ld=40<=Xe?2:15<=Xe?1:0}else He.tc=0;He.La=Ne}}}ie=0}else ge(F,6,"Frame setup failed"),ie=F.a;if(ie=ie==0){if(ie){F.$c=0,0<F.Aa||(F.Ic=ra);e:{ie=F.Ic,he=4*(Me=F.za);var Je=32*Me,nt=Me+1,mt=0<F.L?Me*(0<F.Aa?2:1):0,pt=(F.Aa==2?2:1)*Me;if((He=he+832+(Ne=3*(16*ie+em[F.L])/2*Je)+(Fe=F.Fa!=null&&0<F.Fa.length?F.Kc.c*F.Kc.i:0))!=He)ie=0;else{if(He>F.Vb){if(F.Vb=0,F.Ec=c(He),F.Fc=0,F.Ec==null){ie=ge(F,1,"no memory during frame initialization.");break e}F.Vb=He}He=F.Ec,Xe=F.Fc,F.Ac=He,F.Bc=Xe,Xe+=he,F.Gd=u(Je,U),F.Hd=0,F.rb=u(nt+1,Z),F.sb=1,F.wa=mt?u(mt,k):null,F.Y=0,F.D.Nb=0,F.D.wa=F.wa,F.D.Y=F.Y,0<F.Aa&&(F.D.Y+=Me),t(!0),F.oc=He,F.pc=Xe,Xe+=832,F.ya=u(pt,D),F.aa=0,F.D.ya=F.ya,F.D.aa=F.aa,F.Aa==2&&(F.D.aa+=Me),F.R=16*Me,F.B=8*Me,Me=(Je=em[F.L])*F.R,Je=Je/2*F.B,F.sa=He,F.ta=Xe+Me,F.qa=F.sa,F.ra=F.ta+16*ie*F.R+Je,F.Ha=F.qa,F.Ia=F.ra+8*ie*F.B+Je,F.$c=0,Xe+=Ne,F.mb=Fe?He:null,F.nb=Fe?Xe:null,t(Xe+Fe<=F.Fc+F.Vb),T(F),s(F.Ac,F.Bc,0,he),ie=1}}if(ie){if(K.ka=0,K.y=F.sa,K.O=F.ta,K.f=F.qa,K.N=F.ra,K.ea=F.Ha,K.Vd=F.Ia,K.fa=F.R,K.Rc=F.B,K.F=null,K.J=0,!xC){for(ie=-255;255>=ie;++ie)zh[255+ie]=0>ie?-ie:ie;for(ie=-1020;1020>=ie;++ie)BC[1020+ie]=-128>ie?-128:127<ie?127:ie;for(ie=-112;112>=ie;++ie)xr[112+ie]=-16>ie?-16:15<ie?15:ie;for(ie=-255;510>=ie;++ie)zd[255+ie]=0>ie?0:255<ie?255:ie;xC=1}ta=Et,yi=Oe,Al=ut,Go=Gt,ul=dt,Fg=Qe,Lc=Dc,Pd=Ga,fs=yC,Va=cu,Kd=bC,mr=Wd,ql=ll,Ji=Yh,Ui=lu,Un=Kl,Br=al,hl=IC,Ea[0]=Yi,Ea[1]=an,Ea[2]=gi,Ea[3]=ni,Ea[4]=kr,Ea[5]=Hs,Ea[6]=Xo,Ea[7]=sr,Ea[8]=Wc,Ea[9]=Ds,Jc[0]=Ri,Jc[1]=In,Jc[2]=bn,Jc[3]=kn,Jc[4]=jn,Jc[5]=Ci,Jc[6]=eo,tc[0]=sl,tc[1]=hn,tc[2]=su,tc[3]=Ei,tc[4]=xa,tc[5]=Xh,tc[6]=Rg,ie=1}else ie=0}ie&&(ie=function(ot,Lt){for(ot.M=0;ot.M<ot.Va;++ot.M){var Bt,it=ot.Jc[ot.M&ot.Xb],rt=ot.m,Xt=ot;for(Bt=0;Bt<Xt.za;++Bt){var Ut=rt,Mt=Xt,ft=Mt.Ac,on=Mt.Bc+4*Bt,Rn=Mt.zc,Nt=Mt.ya[Mt.aa+Bt];if(Mt.Qa.Bb?Nt.$b=qe(Ut,Mt.Pa.jb[0])?2+qe(Ut,Mt.Pa.jb[2]):qe(Ut,Mt.Pa.jb[1]):Nt.$b=0,Mt.kc&&(Nt.Ad=qe(Ut,Mt.Bd)),Nt.Za=!qe(Ut,145)+0,Nt.Za){var hi=Nt.Ob,vi=0;for(Mt=0;4>Mt;++Mt){var ri,oi=Rn[0+Mt];for(ri=0;4>ri;++ri){oi=i0[ft[on+ri]][oi];for(var _t=Li[qe(Ut,oi[0])];0<_t;)_t=Li[2*_t+qe(Ut,oi[_t])];oi=-_t,ft[on+ri]=oi}o(hi,vi,ft,on,4),vi+=4,Rn[0+Mt]=oi}}else oi=qe(Ut,156)?qe(Ut,128)?1:3:qe(Ut,163)?2:0,Nt.Ob[0]=oi,s(ft,on,oi,4),s(Rn,0,oi,4);Nt.Dd=qe(Ut,142)?qe(Ut,114)?qe(Ut,183)?1:3:2:0}if(Xt.m.Ka)return ge(ot,7,"Premature end-of-partition0 encountered.");for(;ot.ja<ot.za;++ot.ja){if(Xt=it,Ut=(rt=ot).rb[rt.sb-1],ft=rt.rb[rt.sb+rt.ja],Bt=rt.ya[rt.aa+rt.ja],on=rt.kc?Bt.Ad:0)Ut.la=ft.la=0,Bt.Za||(Ut.Na=ft.Na=0),Bt.Hc=0,Bt.Gc=0,Bt.ia=0;else{var Fi,nn;if(Ut=ft,ft=Xt,on=rt.Pa.Xc,Rn=rt.ya[rt.aa+rt.ja],Nt=rt.pb[Rn.$b],Mt=Rn.ad,hi=0,vi=rt.rb[rt.sb-1],oi=ri=0,s(Mt,hi,0,384),Rn.Za)var Er=0,rs=on[3];else{_t=c(16);var Fr=Ut.Na+vi.Na;if(Fr=ec(ft,on[1],Fr,Nt.Eb,0,_t,0),Ut.Na=vi.Na=(0<Fr)+0,1<Fr)ta(_t,0,Mt,hi);else{var os=_t[0]+3>>3;for(_t=0;256>_t;_t+=16)Mt[hi+_t]=os}Er=1,rs=on[0]}var Wi=15&Ut.la,Ls=15&vi.la;for(_t=0;4>_t;++_t){var bs=1&Ls;for(os=nn=0;4>os;++os)Wi=Wi>>1|(bs=(Fr=ec(ft,rs,Fr=bs+(1&Wi),Nt.Sc,Er,Mt,hi))>Er)<<7,nn=nn<<2|(3<Fr?3:1<Fr?2:Mt[hi+0]!=0),hi+=16;Wi>>=4,Ls=Ls>>1|bs<<7,ri=(ri<<8|nn)>>>0}for(rs=Wi,Er=Ls>>4,Fi=0;4>Fi;Fi+=2){for(nn=0,Wi=Ut.la>>4+Fi,Ls=vi.la>>4+Fi,_t=0;2>_t;++_t){for(bs=1&Ls,os=0;2>os;++os)Fr=bs+(1&Wi),Wi=Wi>>1|(bs=0<(Fr=ec(ft,on[2],Fr,Nt.Qc,0,Mt,hi)))<<3,nn=nn<<2|(3<Fr?3:1<Fr?2:Mt[hi+0]!=0),hi+=16;Wi>>=2,Ls=Ls>>1|bs<<5}oi|=nn<<4*Fi,rs|=Wi<<4<<Fi,Er|=(240&Ls)<<Fi}Ut.la=rs,vi.la=Er,Rn.Hc=ri,Rn.Gc=oi,Rn.ia=43690&oi?0:Nt.ia,on=!(ri|oi)}if(0<rt.L&&(rt.wa[rt.Y+rt.ja]=rt.gd[Bt.$b][Bt.Za],rt.wa[rt.Y+rt.ja].La|=!on),Xt.Ka)return ge(ot,7,"Premature end-of-file encountered.")}if(T(ot),rt=Lt,Xt=1,Bt=(it=ot).D,Ut=0<it.L&&it.M>=it.zb&&it.M<=it.Va,it.Aa==0)e:{if(Bt.M=it.M,Bt.uc=Ut,Na(it,Bt),Xt=1,Bt=(nn=it.D).Nb,Ut=(oi=em[it.L])*it.R,ft=oi/2*it.B,_t=16*Bt*it.R,os=8*Bt*it.B,on=it.sa,Rn=it.ta-Ut+_t,Nt=it.qa,Mt=it.ra-ft+os,hi=it.Ha,vi=it.Ia-ft+os,Ls=(Wi=nn.M)==0,ri=Wi>=it.Va-1,it.Aa==2&&Na(it,nn),nn.uc)for(bs=(Fr=it).D.M,t(Fr.D.uc),nn=Fr.yb;nn<Fr.Hb;++nn){Er=nn,rs=bs;var Wr=(Ro=(gr=Fr).D).Nb;Fi=gr.R;var Ro=Ro.wa[Ro.Y+Er],Jo=gr.sa,sa=gr.ta+16*Wr*Fi+16*Er,Xs=Ro.dd,no=Ro.tc;if(no!=0)if(t(3<=no),gr.L==1)0<Er&&Un(Jo,sa,Fi,no+4),Ro.La&&hl(Jo,sa,Fi,no),0<rs&&Ui(Jo,sa,Fi,no+4),Ro.La&&Br(Jo,sa,Fi,no);else{var Cl=gr.B,Hg=gr.qa,jd=gr.ra+8*Wr*Cl+8*Er,Pc=gr.Ha,gr=gr.Ia+8*Wr*Cl+8*Er;Wr=Ro.ld,0<Er&&(Pd(Jo,sa,Fi,no+4,Xs,Wr),Va(Hg,jd,Pc,gr,Cl,no+4,Xs,Wr)),Ro.La&&(mr(Jo,sa,Fi,no,Xs,Wr),Ji(Hg,jd,Pc,gr,Cl,no,Xs,Wr)),0<rs&&(Lc(Jo,sa,Fi,no+4,Xs,Wr),fs(Hg,jd,Pc,gr,Cl,no+4,Xs,Wr)),Ro.La&&(Kd(Jo,sa,Fi,no,Xs,Wr),ql(Hg,jd,Pc,gr,Cl,no,Xs,Wr))}}if(it.ia&&alert("todo:DitherRow"),rt.put!=null){if(nn=16*Wi,Wi=16*(Wi+1),Ls?(rt.y=it.sa,rt.O=it.ta+_t,rt.f=it.qa,rt.N=it.ra+os,rt.ea=it.Ha,rt.W=it.Ia+os):(nn-=oi,rt.y=on,rt.O=Rn,rt.f=Nt,rt.N=Mt,rt.ea=hi,rt.W=vi),ri||(Wi-=oi),Wi>rt.o&&(Wi=rt.o),rt.F=null,rt.J=null,it.Fa!=null&&0<it.Fa.length&&nn<Wi&&(rt.J=Ld(it,rt,nn,Wi-nn),rt.F=it.mb,rt.F==null&&rt.F.length==0)){Xt=ge(it,3,"Could not decode alpha data.");break e}nn<rt.j&&(oi=rt.j-nn,nn=rt.j,t(!(1&oi)),rt.O+=it.R*oi,rt.N+=it.B*(oi>>1),rt.W+=it.B*(oi>>1),rt.F!=null&&(rt.J+=rt.width*oi)),nn<Wi&&(rt.O+=rt.v,rt.N+=rt.v>>1,rt.W+=rt.v>>1,rt.F!=null&&(rt.J+=rt.v),rt.ka=nn-rt.j,rt.U=rt.va-rt.v,rt.T=Wi-nn,Xt=rt.put(rt))}Bt+1!=it.Ic||ri||(o(it.sa,it.ta-Ut,on,Rn+16*it.R,Ut),o(it.qa,it.ra-ft,Nt,Mt+8*it.B,ft),o(it.Ha,it.Ia-ft,hi,vi+8*it.B,ft))}if(!Xt)return ge(ot,6,"Output aborted.")}return 1}(F,K)),K.bc!=null&&K.bc(K),ie&=1}return ie?(F.cb=0,ie):0}function Ae(F,K,ie,he,Ne){Ne=F[K+ie+32*he]+(Ne>>3),F[K+ie+32*he]=-256&Ne?0>Ne?0:255:Ne}function Se(F,K,ie,he,Ne,Fe){Ae(F,K,0,ie,he+Ne),Ae(F,K,1,ie,he+Fe),Ae(F,K,2,ie,he-Fe),Ae(F,K,3,ie,he-Ne)}function Ze(F){return(20091*F>>16)+F}function Te(F,K,ie,he){var Ne,Fe=0,He=c(16);for(Ne=0;4>Ne;++Ne){var Xe=F[K+0]+F[K+8],Me=F[K+0]-F[K+8],Je=(35468*F[K+4]>>16)-Ze(F[K+12]),nt=Ze(F[K+4])+(35468*F[K+12]>>16);He[Fe+0]=Xe+nt,He[Fe+1]=Me+Je,He[Fe+2]=Me-Je,He[Fe+3]=Xe-nt,Fe+=4,K++}for(Ne=Fe=0;4>Ne;++Ne)Xe=(F=He[Fe+0]+4)+He[Fe+8],Me=F-He[Fe+8],Je=(35468*He[Fe+4]>>16)-Ze(He[Fe+12]),Ae(ie,he,0,0,Xe+(nt=Ze(He[Fe+4])+(35468*He[Fe+12]>>16))),Ae(ie,he,1,0,Me+Je),Ae(ie,he,2,0,Me-Je),Ae(ie,he,3,0,Xe-nt),Fe++,he+=32}function Qe(F,K,ie,he){var Ne=F[K+0]+4,Fe=35468*F[K+4]>>16,He=Ze(F[K+4]),Xe=35468*F[K+1]>>16;Se(ie,he,0,Ne+He,F=Ze(F[K+1]),Xe),Se(ie,he,1,Ne+Fe,F,Xe),Se(ie,he,2,Ne-Fe,F,Xe),Se(ie,he,3,Ne-He,F,Xe)}function Oe(F,K,ie,he,Ne){Te(F,K,ie,he),Ne&&Te(F,K+16,ie,he+4)}function ut(F,K,ie,he){yi(F,K+0,ie,he,1),yi(F,K+32,ie,he+128,1)}function Gt(F,K,ie,he){var Ne;for(F=F[K+0]+4,Ne=0;4>Ne;++Ne)for(K=0;4>K;++K)Ae(ie,he,K,Ne,F)}function dt(F,K,ie,he){F[K+0]&&Go(F,K+0,ie,he),F[K+16]&&Go(F,K+16,ie,he+4),F[K+32]&&Go(F,K+32,ie,he+128),F[K+48]&&Go(F,K+48,ie,he+128+4)}function Et(F,K,ie,he){var Ne,Fe=c(16);for(Ne=0;4>Ne;++Ne){var He=F[K+0+Ne]+F[K+12+Ne],Xe=F[K+4+Ne]+F[K+8+Ne],Me=F[K+4+Ne]-F[K+8+Ne],Je=F[K+0+Ne]-F[K+12+Ne];Fe[0+Ne]=He+Xe,Fe[8+Ne]=He-Xe,Fe[4+Ne]=Je+Me,Fe[12+Ne]=Je-Me}for(Ne=0;4>Ne;++Ne)He=(F=Fe[0+4*Ne]+3)+Fe[3+4*Ne],Xe=Fe[1+4*Ne]+Fe[2+4*Ne],Me=Fe[1+4*Ne]-Fe[2+4*Ne],Je=F-Fe[3+4*Ne],ie[he+0]=He+Xe>>3,ie[he+16]=Je+Me>>3,ie[he+32]=He-Xe>>3,ie[he+48]=Je-Me>>3,he+=64}function Ot(F,K,ie){var he,Ne=K-32,Fe=Is,He=255-F[Ne-1];for(he=0;he<ie;++he){var Xe,Me=Fe,Je=He+F[K-1];for(Xe=0;Xe<ie;++Xe)F[K+Xe]=Me[Je+F[Ne+Xe]];K+=32}}function an(F,K){Ot(F,K,4)}function hn(F,K){Ot(F,K,8)}function In(F,K){Ot(F,K,16)}function bn(F,K){var ie;for(ie=0;16>ie;++ie)o(F,K+32*ie,F,K-32,16)}function kn(F,K){var ie;for(ie=16;0<ie;--ie)s(F,K,F[K-1],16),K+=32}function En(F,K,ie){var he;for(he=0;16>he;++he)s(K,ie+32*he,F,16)}function Ri(F,K){var ie,he=16;for(ie=0;16>ie;++ie)he+=F[K-1+32*ie]+F[K+ie-32];En(he>>5,F,K)}function jn(F,K){var ie,he=8;for(ie=0;16>ie;++ie)he+=F[K-1+32*ie];En(he>>4,F,K)}function Ci(F,K){var ie,he=8;for(ie=0;16>ie;++ie)he+=F[K+ie-32];En(he>>4,F,K)}function eo(F,K){En(128,F,K)}function ln(F,K,ie){return F+2*K+ie+2>>2}function gi(F,K){var ie,he=K-32;for(he=new Uint8Array([ln(F[he-1],F[he+0],F[he+1]),ln(F[he+0],F[he+1],F[he+2]),ln(F[he+1],F[he+2],F[he+3]),ln(F[he+2],F[he+3],F[he+4])]),ie=0;4>ie;++ie)o(F,K+32*ie,he,0,he.length)}function ni(F,K){var ie=F[K-1],he=F[K-1+32],Ne=F[K-1+64],Fe=F[K-1+96];At(F,K+0,16843009*ln(F[K-1-32],ie,he)),At(F,K+32,16843009*ln(ie,he,Ne)),At(F,K+64,16843009*ln(he,Ne,Fe)),At(F,K+96,16843009*ln(Ne,Fe,Fe))}function Yi(F,K){var ie,he=4;for(ie=0;4>ie;++ie)he+=F[K+ie-32]+F[K-1+32*ie];for(he>>=3,ie=0;4>ie;++ie)s(F,K+32*ie,he,4)}function kr(F,K){var ie=F[K-1+0],he=F[K-1+32],Ne=F[K-1+64],Fe=F[K-1-32],He=F[K+0-32],Xe=F[K+1-32],Me=F[K+2-32],Je=F[K+3-32];F[K+0+96]=ln(he,Ne,F[K-1+96]),F[K+1+96]=F[K+0+64]=ln(ie,he,Ne),F[K+2+96]=F[K+1+64]=F[K+0+32]=ln(Fe,ie,he),F[K+3+96]=F[K+2+64]=F[K+1+32]=F[K+0+0]=ln(He,Fe,ie),F[K+3+64]=F[K+2+32]=F[K+1+0]=ln(Xe,He,Fe),F[K+3+32]=F[K+2+0]=ln(Me,Xe,He),F[K+3+0]=ln(Je,Me,Xe)}function Xo(F,K){var ie=F[K+1-32],he=F[K+2-32],Ne=F[K+3-32],Fe=F[K+4-32],He=F[K+5-32],Xe=F[K+6-32],Me=F[K+7-32];F[K+0+0]=ln(F[K+0-32],ie,he),F[K+1+0]=F[K+0+32]=ln(ie,he,Ne),F[K+2+0]=F[K+1+32]=F[K+0+64]=ln(he,Ne,Fe),F[K+3+0]=F[K+2+32]=F[K+1+64]=F[K+0+96]=ln(Ne,Fe,He),F[K+3+32]=F[K+2+64]=F[K+1+96]=ln(Fe,He,Xe),F[K+3+64]=F[K+2+96]=ln(He,Xe,Me),F[K+3+96]=ln(Xe,Me,Me)}function Hs(F,K){var ie=F[K-1+0],he=F[K-1+32],Ne=F[K-1+64],Fe=F[K-1-32],He=F[K+0-32],Xe=F[K+1-32],Me=F[K+2-32],Je=F[K+3-32];F[K+0+0]=F[K+1+64]=Fe+He+1>>1,F[K+1+0]=F[K+2+64]=He+Xe+1>>1,F[K+2+0]=F[K+3+64]=Xe+Me+1>>1,F[K+3+0]=Me+Je+1>>1,F[K+0+96]=ln(Ne,he,ie),F[K+0+64]=ln(he,ie,Fe),F[K+0+32]=F[K+1+96]=ln(ie,Fe,He),F[K+1+32]=F[K+2+96]=ln(Fe,He,Xe),F[K+2+32]=F[K+3+96]=ln(He,Xe,Me),F[K+3+32]=ln(Xe,Me,Je)}function sr(F,K){var ie=F[K+0-32],he=F[K+1-32],Ne=F[K+2-32],Fe=F[K+3-32],He=F[K+4-32],Xe=F[K+5-32],Me=F[K+6-32],Je=F[K+7-32];F[K+0+0]=ie+he+1>>1,F[K+1+0]=F[K+0+64]=he+Ne+1>>1,F[K+2+0]=F[K+1+64]=Ne+Fe+1>>1,F[K+3+0]=F[K+2+64]=Fe+He+1>>1,F[K+0+32]=ln(ie,he,Ne),F[K+1+32]=F[K+0+96]=ln(he,Ne,Fe),F[K+2+32]=F[K+1+96]=ln(Ne,Fe,He),F[K+3+32]=F[K+2+96]=ln(Fe,He,Xe),F[K+3+64]=ln(He,Xe,Me),F[K+3+96]=ln(Xe,Me,Je)}function Ds(F,K){var ie=F[K-1+0],he=F[K-1+32],Ne=F[K-1+64],Fe=F[K-1+96];F[K+0+0]=ie+he+1>>1,F[K+2+0]=F[K+0+32]=he+Ne+1>>1,F[K+2+32]=F[K+0+64]=Ne+Fe+1>>1,F[K+1+0]=ln(ie,he,Ne),F[K+3+0]=F[K+1+32]=ln(he,Ne,Fe),F[K+3+32]=F[K+1+64]=ln(Ne,Fe,Fe),F[K+3+64]=F[K+2+64]=F[K+0+96]=F[K+1+96]=F[K+2+96]=F[K+3+96]=Fe}function Wc(F,K){var ie=F[K-1+0],he=F[K-1+32],Ne=F[K-1+64],Fe=F[K-1+96],He=F[K-1-32],Xe=F[K+0-32],Me=F[K+1-32],Je=F[K+2-32];F[K+0+0]=F[K+2+32]=ie+He+1>>1,F[K+0+32]=F[K+2+64]=he+ie+1>>1,F[K+0+64]=F[K+2+96]=Ne+he+1>>1,F[K+0+96]=Fe+Ne+1>>1,F[K+3+0]=ln(Xe,Me,Je),F[K+2+0]=ln(He,Xe,Me),F[K+1+0]=F[K+3+32]=ln(ie,He,Xe),F[K+1+32]=F[K+3+64]=ln(he,ie,He),F[K+1+64]=F[K+3+96]=ln(Ne,he,ie),F[K+1+96]=ln(Fe,Ne,he)}function su(F,K){var ie;for(ie=0;8>ie;++ie)o(F,K+32*ie,F,K-32,8)}function Ei(F,K){var ie;for(ie=0;8>ie;++ie)s(F,K,F[K-1],8),K+=32}function Gg(F,K,ie){var he;for(he=0;8>he;++he)s(K,ie+32*he,F,8)}function sl(F,K){var ie,he=8;for(ie=0;8>ie;++ie)he+=F[K+ie-32]+F[K-1+32*ie];Gg(he>>4,F,K)}function Xh(F,K){var ie,he=4;for(ie=0;8>ie;++ie)he+=F[K+ie-32];Gg(he>>3,F,K)}function xa(F,K){var ie,he=4;for(ie=0;8>ie;++ie)he+=F[K-1+32*ie];Gg(he>>3,F,K)}function Rg(F,K){Gg(128,F,K)}function Sa(F,K,ie){var he=F[K-ie],Ne=F[K+0],Fe=3*(Ne-he)+Xc[1020+F[K-2*ie]-F[K+ie]],He=Mc[112+(Fe+4>>3)];F[K-ie]=Is[255+he+Mc[112+(Fe+3>>3)]],F[K+0]=Is[255+Ne-He]}function au(F,K,ie,he){var Ne=F[K+0],Fe=F[K+ie];return Yo[255+F[K-2*ie]-F[K-ie]]>he||Yo[255+Fe-Ne]>he}function Fd(F,K,ie,he){return 4*Yo[255+F[K-ie]-F[K+0]]+Yo[255+F[K-2*ie]-F[K+ie]]<=he}function Mh(F,K,ie,he,Ne){var Fe=F[K-3*ie],He=F[K-2*ie],Xe=F[K-ie],Me=F[K+0],Je=F[K+ie],nt=F[K+2*ie],mt=F[K+3*ie];return 4*Yo[255+Xe-Me]+Yo[255+He-Je]>he?0:Yo[255+F[K-4*ie]-Fe]<=Ne&&Yo[255+Fe-He]<=Ne&&Yo[255+He-Xe]<=Ne&&Yo[255+mt-nt]<=Ne&&Yo[255+nt-Je]<=Ne&&Yo[255+Je-Me]<=Ne}function lu(F,K,ie,he){var Ne=2*he+1;for(he=0;16>he;++he)Fd(F,K+he,ie,Ne)&&Sa(F,K+he,ie)}function Kl(F,K,ie,he){var Ne=2*he+1;for(he=0;16>he;++he)Fd(F,K+he*ie,1,Ne)&&Sa(F,K+he*ie,1)}function al(F,K,ie,he){var Ne;for(Ne=3;0<Ne;--Ne)lu(F,K+=4*ie,ie,he)}function IC(F,K,ie,he){var Ne;for(Ne=3;0<Ne;--Ne)Kl(F,K+=4,ie,he)}function Hc(F,K,ie,he,Ne,Fe,He,Xe){for(Fe=2*Fe+1;0<Ne--;){if(Mh(F,K,ie,Fe,He))if(au(F,K,ie,Xe))Sa(F,K,ie);else{var Me=F,Je=K,nt=ie,mt=Me[Je-2*nt],pt=Me[Je-nt],ot=Me[Je+0],Lt=Me[Je+nt],Bt=Me[Je+2*nt],it=27*(Xt=Xc[1020+3*(ot-pt)+Xc[1020+mt-Lt]])+63>>7,rt=18*Xt+63>>7,Xt=9*Xt+63>>7;Me[Je-3*nt]=Is[255+Me[Je-3*nt]+Xt],Me[Je-2*nt]=Is[255+mt+rt],Me[Je-nt]=Is[255+pt+it],Me[Je+0]=Is[255+ot-it],Me[Je+nt]=Is[255+Lt-rt],Me[Je+2*nt]=Is[255+Bt-Xt]}K+=he}}function Za(F,K,ie,he,Ne,Fe,He,Xe){for(Fe=2*Fe+1;0<Ne--;){if(Mh(F,K,ie,Fe,He))if(au(F,K,ie,Xe))Sa(F,K,ie);else{var Me=F,Je=K,nt=ie,mt=Me[Je-nt],pt=Me[Je+0],ot=Me[Je+nt],Lt=Mc[112+((Bt=3*(pt-mt))+4>>3)],Bt=Mc[112+(Bt+3>>3)],it=Lt+1>>1;Me[Je-2*nt]=Is[255+Me[Je-2*nt]+it],Me[Je-nt]=Is[255+mt+Bt],Me[Je+0]=Is[255+pt-Lt],Me[Je+nt]=Is[255+ot-it]}K+=he}}function Dc(F,K,ie,he,Ne,Fe){Hc(F,K,ie,1,16,he,Ne,Fe)}function Ga(F,K,ie,he,Ne,Fe){Hc(F,K,1,ie,16,he,Ne,Fe)}function bC(F,K,ie,he,Ne,Fe){var He;for(He=3;0<He;--He)Za(F,K+=4*ie,ie,1,16,he,Ne,Fe)}function Wd(F,K,ie,he,Ne,Fe){var He;for(He=3;0<He;--He)Za(F,K+=4,1,ie,16,he,Ne,Fe)}function yC(F,K,ie,he,Ne,Fe,He,Xe){Hc(F,K,Ne,1,8,Fe,He,Xe),Hc(ie,he,Ne,1,8,Fe,He,Xe)}function cu(F,K,ie,he,Ne,Fe,He,Xe){Hc(F,K,1,Ne,8,Fe,He,Xe),Hc(ie,he,1,Ne,8,Fe,He,Xe)}function ll(F,K,ie,he,Ne,Fe,He,Xe){Za(F,K+4*Ne,Ne,1,8,Fe,He,Xe),Za(ie,he+4*Ne,Ne,1,8,Fe,He,Xe)}function Yh(F,K,ie,he,Ne,Fe,He,Xe){Za(F,K+4,1,Ne,8,Fe,He,Xe),Za(ie,he+4,1,Ne,8,Fe,He,Xe)}function Ng(){this.ba=new rr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Hd(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Dd(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function gu(){this.ua=0,this.Wa=new Ke,this.vb=new Ke,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ie,this.yc=new oe}function Jh(){this.xb=this.a=0,this.l=new te,this.ca=new rr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new me,this.Pb=0,this.wd=new me,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new gu,this.ab=0,this.gc=u(4,Dd),this.Oc=0}function _g(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new te,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Vg(F,K,ie,he,Ne,Fe,He){for(F=F==null?0:F[K+0],K=0;K<He;++K)Ne[Fe+K]=F+ie[he+K]&255,F=Ne[Fe+K]}function Td(F,K,ie,he,Ne,Fe,He){var Xe;if(F==null)Vg(null,null,ie,he,Ne,Fe,He);else for(Xe=0;Xe<He;++Xe)Ne[Fe+Xe]=F[K+Xe]+ie[he+Xe]&255}function Tc(F,K,ie,he,Ne,Fe,He){if(F==null)Vg(null,null,ie,he,Ne,Fe,He);else{var Xe,Me=F[K+0],Je=Me,nt=Me;for(Xe=0;Xe<He;++Xe)Je=nt+(Me=F[K+Xe])-Je,nt=ie[he+Xe]+(-256&Je?0>Je?0:255:Je)&255,Je=Me,Ne[Fe+Xe]=nt}}function Ld(F,K,ie,he){var Ne=K.width,Fe=K.o;if(t(F!=null&&K!=null),0>ie||0>=he||ie+he>Fe)return null;if(!F.Cc){if(F.ga==null){var He;if(F.ga=new _g,(He=F.ga==null)||(He=K.width*K.o,t(F.Gb.length==0),F.Gb=c(He),F.Uc=0,F.Gb==null?He=0:(F.mb=F.Gb,F.nb=F.Uc,F.rc=null,He=1),He=!He),!He){He=F.ga;var Xe=F.Fa,Me=F.P,Je=F.qc,nt=F.mb,mt=F.nb,pt=Me+1,ot=Je-1,Lt=He.l;if(t(Xe!=null&&nt!=null&&K!=null),nc[0]=null,nc[1]=Vg,nc[2]=Td,nc[3]=Tc,He.ca=nt,He.tb=mt,He.c=K.width,He.i=K.height,t(0<He.c&&0<He.i),1>=Je)K=0;else if(He.$a=Xe[Me+0]>>0&3,He.Z=Xe[Me+0]>>2&3,He.Lc=Xe[Me+0]>>4&3,Me=Xe[Me+0]>>6&3,0>He.$a||1<He.$a||4<=He.Z||1<He.Lc||Me)K=0;else if(Lt.put=To,Lt.ac=qn,Lt.bc=Xr,Lt.ma=He,Lt.width=K.width,Lt.height=K.height,Lt.Da=K.Da,Lt.v=K.v,Lt.va=K.va,Lt.j=K.j,Lt.o=K.o,He.$a)e:{t(He.$a==1),K=Nr();t:for(;;){if(K==null){K=0;break e}if(t(He!=null),He.mc=K,K.c=He.c,K.i=He.i,K.l=He.l,K.l.ma=He,K.l.width=He.c,K.l.height=He.i,K.a=0,fe(K.m,Xe,pt,ot),!$r(He.c,He.i,1,K,null)||(K.ab==1&&K.gc[0].hc==3&&es(K.s)?(He.ic=1,Xe=K.c*K.i,K.Ta=null,K.Ua=0,K.V=c(Xe),K.Ba=0,K.V==null?(K.a=1,K=0):K=1):(He.ic=0,K=_r(K,He.c)),!K))break t;K=1;break e}He.mc=null,K=0}else K=ot>=He.c*He.i;He=!K}if(He)return null;F.ga.Lc!=1?F.Ga=0:he=Fe-ie}t(F.ga!=null),t(ie+he<=Fe);e:{if(K=(Xe=F.ga).c,Fe=Xe.l.o,Xe.$a==0){if(pt=F.rc,ot=F.Vc,Lt=F.Fa,Me=F.P+1+ie*K,Je=F.mb,nt=F.nb+ie*K,t(Me<=F.P+F.qc),Xe.Z!=0)for(t(nc[Xe.Z]!=null),He=0;He<he;++He)nc[Xe.Z](pt,ot,Lt,Me,Je,nt,K),pt=Je,ot=nt,nt+=K,Me+=K;else for(He=0;He<he;++He)o(Je,nt,Lt,Me,K),pt=Je,ot=nt,nt+=K,Me+=K;F.rc=pt,F.Vc=ot}else{if(t(Xe.mc!=null),K=ie+he,t((He=Xe.mc)!=null),t(K<=He.i),He.C>=K)K=1;else if(Xe.ic||gt(),Xe.ic){Xe=He.V,pt=He.Ba,ot=He.c;var Bt=He.i,it=(Lt=1,Me=He.$/ot,Je=He.$%ot,nt=He.m,mt=He.s,He.$),rt=ot*Bt,Xt=ot*K,Ut=mt.wc,Mt=it<Xt?qi(mt,Je,Me):null;t(it<=rt),t(K<=Bt),t(es(mt));t:for(;;){for(;!nt.h&&it<Xt;){if(Je&Ut||(Mt=qi(mt,Je,Me)),t(Mt!=null),We(nt),256>(Bt=fo(Mt.G[0],Mt.H[0],nt)))Xe[pt+it]=Bt,++it,++Je>=ot&&(Je=0,++Me<=K&&!(Me%16)&&ts(He,Me));else{if(!(280>Bt)){Lt=0;break t}Bt=$o(Bt-256,nt);var ft,on=fo(Mt.G[4],Mt.H[4],nt);if(We(nt),!(it>=(on=Cs(ot,on=$o(on,nt)))&&rt-it>=Bt)){Lt=0;break t}for(ft=0;ft<Bt;++ft)Xe[pt+it+ft]=Xe[pt+it+ft-on];for(it+=Bt,Je+=Bt;Je>=ot;)Je-=ot,++Me<=K&&!(Me%16)&&ts(He,Me);it<Xt&&Je&Ut&&(Mt=qi(mt,Je,Me))}t(nt.h==pe(nt))}ts(He,Me>K?K:Me);break t}!Lt||nt.h&&it<rt?(Lt=0,He.a=nt.h?5:3):He.$=it,K=Lt}else K=ui(He,He.V,He.Ba,He.c,He.i,K,Fc);if(!K){he=0;break e}}ie+he>=Fe&&(F.Cc=1),he=1}if(!he)return null;if(F.Cc&&((he=F.ga)!=null&&(he.mc=null),F.ga=null,0<F.Ga))return alert("todo:WebPDequantizeLevels"),null}return F.nb+ie*Ne}function $(F,K,ie,he,Ne,Fe){for(;0<Ne--;){var He,Xe=F,Me=K+(ie?1:0),Je=F,nt=K+(ie?0:3);for(He=0;He<he;++He){var mt=Je[nt+4*He];mt!=255&&(mt*=32897,Xe[Me+4*He+0]=Xe[Me+4*He+0]*mt>>23,Xe[Me+4*He+1]=Xe[Me+4*He+1]*mt>>23,Xe[Me+4*He+2]=Xe[Me+4*He+2]*mt>>23)}K+=Fe}}function Ve(F,K,ie,he,Ne){for(;0<he--;){var Fe;for(Fe=0;Fe<ie;++Fe){var He=F[K+2*Fe+0],Xe=15&(Je=F[K+2*Fe+1]),Me=4369*Xe,Je=(240&Je|Je>>4)*Me>>16;F[K+2*Fe+0]=(240&He|He>>4)*Me>>16&240|(15&He|He<<4)*Me>>16>>4&15,F[K+2*Fe+1]=240&Je|Xe}K+=Ne}}function ze(F,K,ie,he,Ne,Fe,He,Xe){var Me,Je,nt=255;for(Je=0;Je<Ne;++Je){for(Me=0;Me<he;++Me){var mt=F[K+Me];Fe[He+4*Me]=mt,nt&=mt}K+=ie,He+=Xe}return nt!=255}function et(F,K,ie,he,Ne){var Fe;for(Fe=0;Fe<Ne;++Fe)ie[he+Fe]=F[K+Fe]>>8}function gt(){$l=$,Xn=Ve,Wg=ze,kC=et}function Rt(F,K,ie){O[F]=function(he,Ne,Fe,He,Xe,Me,Je,nt,mt,pt,ot,Lt,Bt,it,rt,Xt,Ut){var Mt,ft=Ut-1>>1,on=Xe[Me+0]|Je[nt+0]<<16,Rn=mt[pt+0]|ot[Lt+0]<<16;t(he!=null);var Nt=3*on+Rn+131074>>2;for(K(he[Ne+0],255&Nt,Nt>>16,Bt,it),Fe!=null&&(Nt=3*Rn+on+131074>>2,K(Fe[He+0],255&Nt,Nt>>16,rt,Xt)),Mt=1;Mt<=ft;++Mt){var hi=Xe[Me+Mt]|Je[nt+Mt]<<16,vi=mt[pt+Mt]|ot[Lt+Mt]<<16,ri=on+hi+Rn+vi+524296,oi=ri+2*(hi+Rn)>>3;Nt=oi+on>>1,on=(ri=ri+2*(on+vi)>>3)+hi>>1,K(he[Ne+2*Mt-1],255&Nt,Nt>>16,Bt,it+(2*Mt-1)*ie),K(he[Ne+2*Mt-0],255&on,on>>16,Bt,it+(2*Mt-0)*ie),Fe!=null&&(Nt=ri+Rn>>1,on=oi+vi>>1,K(Fe[He+2*Mt-1],255&Nt,Nt>>16,rt,Xt+(2*Mt-1)*ie),K(Fe[He+2*Mt+0],255&on,on>>16,rt,Xt+(2*Mt+0)*ie)),on=hi,Rn=vi}1&Ut||(Nt=3*on+Rn+131074>>2,K(he[Ne+Ut-1],255&Nt,Nt>>16,Bt,it+(Ut-1)*ie),Fe!=null&&(Nt=3*Rn+on+131074>>2,K(Fe[He+Ut-1],255&Nt,Nt>>16,rt,Xt+(Ut-1)*ie)))}}function zt(){na[ml]=V2,na[mu]=s0,na[pu]=E2,na[Cu]=F2,na[fu]=a0,na[Qh]=l0,na[qb]=W2,na[SC]=s0,na[jh]=F2,na[Iu]=a0,na[Oh]=l0}function cn(F){return F&~H2?0>F?0:255:F>>VC}function vn(F,K){return cn((19077*F>>8)+(26149*K>>8)-14234)}function Wn(F,K,ie){return cn((19077*F>>8)-(6419*K>>8)-(13320*ie>>8)+8708)}function Ln(F,K){return cn((19077*F>>8)+(33050*K>>8)-17685)}function ii(F,K,ie,he,Ne){he[Ne+0]=vn(F,ie),he[Ne+1]=Wn(F,K,ie),he[Ne+2]=Ln(F,K)}function cr(F,K,ie,he,Ne){he[Ne+0]=Ln(F,K),he[Ne+1]=Wn(F,K,ie),he[Ne+2]=vn(F,ie)}function hr(F,K,ie,he,Ne){var Fe=Wn(F,K,ie);K=Fe<<3&224|Ln(F,K)>>3,he[Ne+0]=248&vn(F,ie)|Fe>>5,he[Ne+1]=K}function Vr(F,K,ie,he,Ne){var Fe=240&Ln(F,K)|15;he[Ne+0]=240&vn(F,ie)|Wn(F,K,ie)>>4,he[Ne+1]=Fe}function Zo(F,K,ie,he,Ne){he[Ne+0]=255,ii(F,K,ie,he,Ne+1)}function to(F,K,ie,he,Ne){cr(F,K,ie,he,Ne),he[Ne+3]=255}function Ra(F,K,ie,he,Ne){ii(F,K,ie,he,Ne),he[Ne+3]=255}function Ts(F,K){return 0>F?0:F>K?K:F}function zl(F,K,ie){O[F]=function(he,Ne,Fe,He,Xe,Me,Je,nt,mt){for(var pt=nt+(-2&mt)*ie;nt!=pt;)K(he[Ne+0],Fe[He+0],Xe[Me+0],Je,nt),K(he[Ne+1],Fe[He+0],Xe[Me+0],Je,nt+ie),Ne+=2,++He,++Me,nt+=2*ie;1&mt&&K(he[Ne+0],Fe[He+0],Xe[Me+0],Je,nt)}}function Uh(F,K,ie){return ie==0?F==0?K==0?6:5:K==0?4:0:ie}function du(F,K,ie,he,Ne){switch(F>>>30){case 3:yi(K,ie,he,Ne,0);break;case 2:Fg(K,ie,he,Ne);break;case 1:Go(K,ie,he,Ne)}}function Na(F,K){var ie,he,Ne=K.M,Fe=K.Nb,He=F.oc,Xe=F.pc+40,Me=F.oc,Je=F.pc+584,nt=F.oc,mt=F.pc+600;for(ie=0;16>ie;++ie)He[Xe+32*ie-1]=129;for(ie=0;8>ie;++ie)Me[Je+32*ie-1]=129,nt[mt+32*ie-1]=129;for(0<Ne?He[Xe-1-32]=Me[Je-1-32]=nt[mt-1-32]=129:(s(He,Xe-32-1,127,21),s(Me,Je-32-1,127,9),s(nt,mt-32-1,127,9)),he=0;he<F.za;++he){var pt=K.ya[K.aa+he];if(0<he){for(ie=-1;16>ie;++ie)o(He,Xe+32*ie-4,He,Xe+32*ie+12,4);for(ie=-1;8>ie;++ie)o(Me,Je+32*ie-4,Me,Je+32*ie+4,4),o(nt,mt+32*ie-4,nt,mt+32*ie+4,4)}var ot=F.Gd,Lt=F.Hd+he,Bt=pt.ad,it=pt.Hc;if(0<Ne&&(o(He,Xe-32,ot[Lt].y,0,16),o(Me,Je-32,ot[Lt].f,0,8),o(nt,mt-32,ot[Lt].ea,0,8)),pt.Za){var rt=He,Xt=Xe-32+16;for(0<Ne&&(he>=F.za-1?s(rt,Xt,ot[Lt].y[15],4):o(rt,Xt,ot[Lt+1].y,0,4)),ie=0;4>ie;ie++)rt[Xt+128+ie]=rt[Xt+256+ie]=rt[Xt+384+ie]=rt[Xt+0+ie];for(ie=0;16>ie;++ie,it<<=2)rt=He,Xt=Xe+$h[ie],Ea[pt.Ob[ie]](rt,Xt),du(it,Bt,16*+ie,rt,Xt)}else if(rt=Uh(he,Ne,pt.Ob[0]),Jc[rt](He,Xe),it!=0)for(ie=0;16>ie;++ie,it<<=2)du(it,Bt,16*+ie,He,Xe+$h[ie]);for(ie=pt.Gc,rt=Uh(he,Ne,pt.Dd),tc[rt](Me,Je),tc[rt](nt,mt),it=Bt,rt=Me,Xt=Je,255&(pt=ie>>0)&&(170&pt?Al(it,256,rt,Xt):ul(it,256,rt,Xt)),pt=nt,it=mt,255&(ie>>=8)&&(170&ie?Al(Bt,320,pt,it):ul(Bt,320,pt,it)),Ne<F.Ub-1&&(o(ot[Lt].y,0,He,Xe+480,16),o(ot[Lt].f,0,Me,Je+224,8),o(ot[Lt].ea,0,nt,mt+224,8)),ie=8*Fe*F.B,ot=F.sa,Lt=F.ta+16*he+16*Fe*F.R,Bt=F.qa,pt=F.ra+8*he+ie,it=F.Ha,rt=F.Ia+8*he+ie,ie=0;16>ie;++ie)o(ot,Lt+ie*F.R,He,Xe+32*ie,16);for(ie=0;8>ie;++ie)o(Bt,pt+ie*F.B,Me,Je+32*ie,8),o(it,rt+ie*F.B,nt,mt+32*ie,8)}}function cl(F,K,ie,he,Ne,Fe,He,Xe,Me){var Je=[0],nt=[0],mt=0,pt=Me!=null?Me.kd:0,ot=Me??new Hd;if(F==null||12>ie)return 7;ot.data=F,ot.w=K,ot.ha=ie,K=[K],ie=[ie],ot.gb=[ot.gb];e:{var Lt=K,Bt=ie,it=ot.gb;if(t(F!=null),t(Bt!=null),t(it!=null),it[0]=0,12<=Bt[0]&&!i(F,Lt[0],"RIFF")){if(i(F,Lt[0]+8,"WEBP")){it=3;break e}var rt=at(F,Lt[0]+4);if(12>rt||4294967286<rt){it=3;break e}if(pt&&rt>Bt[0]-8){it=7;break e}it[0]=rt,Lt[0]+=12,Bt[0]-=12}it=0}if(it!=0)return it;for(rt=0<ot.gb[0],ie=ie[0];;){e:{var Xt=F;Bt=K,it=ie;var Ut=Je,Mt=nt,ft=Lt=[0];if((Nt=mt=[mt])[0]=0,8>it[0])it=7;else{if(!i(Xt,Bt[0],"VP8X")){if(at(Xt,Bt[0]+4)!=10){it=3;break e}if(18>it[0]){it=7;break e}var on=at(Xt,Bt[0]+8),Rn=1+lt(Xt,Bt[0]+12);if(2147483648<=Rn*(Xt=1+lt(Xt,Bt[0]+15))){it=3;break e}ft!=null&&(ft[0]=on),Ut!=null&&(Ut[0]=Rn),Mt!=null&&(Mt[0]=Xt),Bt[0]+=18,it[0]-=18,Nt[0]=1}it=0}}if(mt=mt[0],Lt=Lt[0],it!=0)return it;if(Bt=!!(2&Lt),!rt&&mt)return 3;if(Fe!=null&&(Fe[0]=!!(16&Lt)),He!=null&&(He[0]=Bt),Xe!=null&&(Xe[0]=0),He=Je[0],Lt=nt[0],mt&&Bt&&Me==null){it=0;break}if(4>ie){it=7;break}if(rt&&mt||!rt&&!mt&&!i(F,K[0],"ALPH")){ie=[ie],ot.na=[ot.na],ot.P=[ot.P],ot.Sa=[ot.Sa];e:{on=F,it=K,rt=ie;var Nt=ot.gb;Ut=ot.na,Mt=ot.P,ft=ot.Sa,Rn=22,t(on!=null),t(rt!=null),Xt=it[0];var hi=rt[0];for(t(Ut!=null),t(ft!=null),Ut[0]=null,Mt[0]=null,ft[0]=0;;){if(it[0]=Xt,rt[0]=hi,8>hi){it=7;break e}var vi=at(on,Xt+4);if(4294967286<vi){it=3;break e}var ri=8+vi+1&-2;if(Rn+=ri,0<Nt&&Rn>Nt){it=3;break e}if(!i(on,Xt,"VP8 ")||!i(on,Xt,"VP8L")){it=0;break e}if(hi[0]<ri){it=7;break e}i(on,Xt,"ALPH")||(Ut[0]=on,Mt[0]=Xt+8,ft[0]=vi),Xt+=ri,hi-=ri}}if(ie=ie[0],ot.na=ot.na[0],ot.P=ot.P[0],ot.Sa=ot.Sa[0],it!=0)break}ie=[ie],ot.Ja=[ot.Ja],ot.xa=[ot.xa];e:if(Nt=F,it=K,rt=ie,Ut=ot.gb[0],Mt=ot.Ja,ft=ot.xa,on=it[0],Xt=!i(Nt,on,"VP8 "),Rn=!i(Nt,on,"VP8L"),t(Nt!=null),t(rt!=null),t(Mt!=null),t(ft!=null),8>rt[0])it=7;else{if(Xt||Rn){if(Nt=at(Nt,on+4),12<=Ut&&Nt>Ut-12){it=3;break e}if(pt&&Nt>rt[0]-8){it=7;break e}Mt[0]=Nt,it[0]+=8,rt[0]-=8,ft[0]=Rn}else ft[0]=5<=rt[0]&&Nt[on+0]==47&&!(Nt[on+4]>>5),Mt[0]=rt[0];it=0}if(ie=ie[0],ot.Ja=ot.Ja[0],ot.xa=ot.xa[0],K=K[0],it!=0)break;if(4294967286<ot.Ja)return 3;if(Xe==null||Bt||(Xe[0]=ot.xa?2:1),He=[He],Lt=[Lt],ot.xa){if(5>ie){it=7;break}Xe=He,pt=Lt,Bt=Fe,F==null||5>ie?F=0:5<=ie&&F[K+0]==47&&!(F[K+4]>>5)?(rt=[0],Nt=[0],Ut=[0],fe(Mt=new me,F,K,ie),yn(Mt,rt,Nt,Ut)?(Xe!=null&&(Xe[0]=rt[0]),pt!=null&&(pt[0]=Nt[0]),Bt!=null&&(Bt[0]=Ut[0]),F=1):F=0):F=0}else{if(10>ie){it=7;break}Xe=Lt,F==null||10>ie||!Ce(F,K+3,ie-3)?F=0:(pt=F[K+0]|F[K+1]<<8|F[K+2]<<16,Bt=16383&(F[K+7]<<8|F[K+6]),F=16383&(F[K+9]<<8|F[K+8]),1&pt||3<(pt>>1&7)||!(pt>>4&1)||pt>>5>=ot.Ja||!Bt||!F?F=0:(He&&(He[0]=Bt),Xe&&(Xe[0]=F),F=1))}if(!F||(He=He[0],Lt=Lt[0],mt&&(Je[0]!=He||nt[0]!=Lt)))return 3;Me!=null&&(Me[0]=ot,Me.offset=K-Me.w,t(4294967286>K-Me.w),t(Me.offset==Me.ha-ie));break}return it==0||it==7&&mt&&Me==null?(Fe!=null&&(Fe[0]|=ot.na!=null&&0<ot.na.length),he!=null&&(he[0]=He),Ne!=null&&(Ne[0]=Lt),0):it}function Au(F,K,ie){var he=K.width,Ne=K.height,Fe=0,He=0,Xe=he,Me=Ne;if(K.Da=F!=null&&0<F.Da,K.Da&&(Xe=F.cd,Me=F.bd,Fe=F.v,He=F.j,11>ie||(Fe&=-2,He&=-2),0>Fe||0>He||0>=Xe||0>=Me||Fe+Xe>he||He+Me>Ne))return 0;if(K.v=Fe,K.j=He,K.va=Fe+Xe,K.o=He+Me,K.U=Xe,K.T=Me,K.da=F!=null&&0<F.da,K.da){if(!Vt(Xe,Me,ie=[F.ib],Fe=[F.hb]))return 0;K.ib=ie[0],K.hb=Fe[0]}return K.ob=F!=null&&F.ob,K.Kb=F==null||!F.Sd,K.da&&(K.ob=K.ib<3*he/4&&K.hb<3*Ne/4,K.Kb=0),1}function uu(F){if(F==null)return 2;if(11>F.S){var K=F.f.RGBA;K.fb+=(F.height-1)*K.A,K.A=-K.A}else K=F.f.kb,F=F.height,K.O+=(F-1)*K.fa,K.fa=-K.fa,K.N+=(F-1>>1)*K.Ab,K.Ab=-K.Ab,K.W+=(F-1>>1)*K.Db,K.Db=-K.Db,K.F!=null&&(K.J+=(F-1)*K.lb,K.lb=-K.lb);return 0}function Ql(F,K,ie,he){if(he==null||0>=F||0>=K)return 2;if(ie!=null){if(ie.Da){var Ne=ie.cd,Fe=ie.bd,He=-2&ie.v,Xe=-2&ie.j;if(0>He||0>Xe||0>=Ne||0>=Fe||He+Ne>F||Xe+Fe>K)return 2;F=Ne,K=Fe}if(ie.da){if(!Vt(F,K,Ne=[ie.ib],Fe=[ie.hb]))return 2;F=Ne[0],K=Fe[0]}}he.width=F,he.height=K;e:{var Me=he.width,Je=he.height;if(F=he.S,0>=Me||0>=Je||!(F>=ml&&13>F))F=2;else{if(0>=he.Rd&&he.sd==null){He=Fe=Ne=K=0;var nt=(Xe=Me*oa[F])*Je;if(11>F||(Fe=(Je+1)/2*(K=(Me+1)/2),F==12&&(He=(Ne=Me)*Je)),(Je=c(nt+2*Fe+He))==null){F=1;break e}he.sd=Je,11>F?((Me=he.f.RGBA).eb=Je,Me.fb=0,Me.A=Xe,Me.size=nt):((Me=he.f.kb).y=Je,Me.O=0,Me.fa=Xe,Me.Fd=nt,Me.f=Je,Me.N=0+nt,Me.Ab=K,Me.Cd=Fe,Me.ea=Je,Me.W=0+nt+Fe,Me.Db=K,Me.Ed=Fe,F==12&&(Me.F=Je,Me.J=0+nt+2*Fe),Me.Tc=He,Me.lb=Ne)}if(K=1,Ne=he.S,Fe=he.width,He=he.height,Ne>=ml&&13>Ne)if(11>Ne)F=he.f.RGBA,K&=(Xe=Math.abs(F.A))*(He-1)+Fe<=F.size,K&=Xe>=Fe*oa[Ne],K&=F.eb!=null;else{F=he.f.kb,Xe=(Fe+1)/2,nt=(He+1)/2,Me=Math.abs(F.fa),Je=Math.abs(F.Ab);var mt=Math.abs(F.Db),pt=Math.abs(F.lb),ot=pt*(He-1)+Fe;K&=Me*(He-1)+Fe<=F.Fd,K&=Je*(nt-1)+Xe<=F.Cd,K=(K&=mt*(nt-1)+Xe<=F.Ed)&Me>=Fe&Je>=Xe&mt>=Xe,K&=F.y!=null,K&=F.f!=null,K&=F.ea!=null,Ne==12&&(K&=pt>=Fe,K&=ot<=F.Tc,K&=F.F!=null)}else K=0;F=K?0:2}}return F!=0||ie!=null&&ie.fd&&(F=uu(he)),F}var Mo=64,Xd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Md=24,Yd=32,Jd=8,ns=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];bt("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(F){return F},O.Predictor2=function(F,K,ie){return K[ie+0]},O.Predictor3=function(F,K,ie){return K[ie+1]},O.Predictor4=function(F,K,ie){return K[ie-1]},O.Predictor5=function(F,K,ie){return kt(kt(F,K[ie+1]),K[ie+0])},O.Predictor6=function(F,K,ie){return kt(F,K[ie-1])},O.Predictor7=function(F,K,ie){return kt(F,K[ie+0])},O.Predictor8=function(F,K,ie){return kt(K[ie-1],K[ie+0])},O.Predictor9=function(F,K,ie){return kt(K[ie+0],K[ie+1])},O.Predictor10=function(F,K,ie){return kt(kt(F,K[ie-1]),kt(K[ie+0],K[ie+1]))},O.Predictor11=function(F,K,ie){var he=K[ie+0];return 0>=An(he>>24&255,F>>24&255,(K=K[ie-1])>>24&255)+An(he>>16&255,F>>16&255,K>>16&255)+An(he>>8&255,F>>8&255,K>>8&255)+An(255&he,255&F,255&K)?he:F},O.Predictor12=function(F,K,ie){var he=K[ie+0];return(Jt((F>>24&255)+(he>>24&255)-((K=K[ie-1])>>24&255))<<24|Jt((F>>16&255)+(he>>16&255)-(K>>16&255))<<16|Jt((F>>8&255)+(he>>8&255)-(K>>8&255))<<8|Jt((255&F)+(255&he)-(255&K)))>>>0},O.Predictor13=function(F,K,ie){var he=K[ie-1];return(tn((F=kt(F,K[ie+0]))>>24&255,he>>24&255)<<24|tn(F>>16&255,he>>16&255)<<16|tn(F>>8&255,he>>8&255)<<8|tn(F>>0&255,he>>0&255))>>>0};var vC=O.PredictorAdd0;O.PredictorAdd1=dn,bt("Predictor2","PredictorAdd2"),bt("Predictor3","PredictorAdd3"),bt("Predictor4","PredictorAdd4"),bt("Predictor5","PredictorAdd5"),bt("Predictor6","PredictorAdd6"),bt("Predictor7","PredictorAdd7"),bt("Predictor8","PredictorAdd8"),bt("Predictor9","PredictorAdd9"),bt("Predictor10","PredictorAdd10"),bt("Predictor11","PredictorAdd11"),bt("Predictor12","PredictorAdd12"),bt("Predictor13","PredictorAdd13");var Ud=O.PredictorAdd2;Wt("ColorIndexInverseTransform","MapARGB","32b",function(F){return F>>8&255},function(F){return F}),Wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(F){return F},function(F){return F>>8&255});var Ph,$s=O.ColorIndexInverseTransform,hu=O.MapARGB,Kh=O.VP8LColorIndexInverseTransformAlpha,wC=O.MapAlpha,jl=O.VP8LPredictorsAdd=[];jl.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var ea,_a,Ol,gl,dl,Eg,ta,yi,Fg,Al,Go,ul,Lc,Pd,fs,Va,Kd,mr,ql,Ji,Ui,Un,Br,hl,$l,Xn,Wg,kC,zh=c(511),BC=c(2041),xr=c(225),zd=c(767),xC=0,Xc=BC,Mc=xr,Is=zd,Yo=zh,ml=0,mu=1,pu=2,Cu=3,fu=4,Qh=5,qb=6,SC=7,jh=8,Iu=9,Oh=10,$b=[2,3,7],ZC=[3,3,11],e0=[280,256,256,256,40],t0=[0,1,1,1,0],R2=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],N2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],n0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],di=8,GC=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ec=null,qh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],RC=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Li=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],NC=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],i0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],r0=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Jc=[],Ea=[],tc=[],Uc=1,o0=2,nc=[],na=[];Rt("UpsampleRgbLinePair",ii,3),Rt("UpsampleBgrLinePair",cr,3),Rt("UpsampleRgbaLinePair",Ra,4),Rt("UpsampleBgraLinePair",to,4),Rt("UpsampleArgbLinePair",Zo,4),Rt("UpsampleRgba4444LinePair",Vr,2),Rt("UpsampleRgb565LinePair",hr,2);var V2=O.UpsampleRgbLinePair,E2=O.UpsampleBgrLinePair,s0=O.UpsampleRgbaLinePair,F2=O.UpsampleBgraLinePair,a0=O.UpsampleArgbLinePair,l0=O.UpsampleRgba4444LinePair,W2=O.UpsampleRgb565LinePair,bu=16,Qd=1<<bu-1,yu=-227,_C=482,VC=6,H2=(256<<VC)-1,ia=0,Io=c(256),bo=c(256),is=c(256),pl=c(256),EC=c(_C-yu),FC=c(_C-yu);zl("YuvToRgbRow",ii,3),zl("YuvToBgrRow",cr,3),zl("YuvToRgbaRow",Ra,4),zl("YuvToBgraRow",to,4),zl("YuvToArgbRow",Zo,4),zl("YuvToRgba4444Row",Vr,2),zl("YuvToRgb565Row",hr,2);var $h=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],em=[0,2,8],c0=[8,7,6,4,4,2,2,2,1,1,1,1],ra=1;this.WebPDecodeRGBA=function(F,K,ie,he,Ne){var Fe=mu,He=new Ng,Xe=new rr;He.ba=Xe,Xe.S=Fe,Xe.width=[Xe.width],Xe.height=[Xe.height];var Me=Xe.width,Je=Xe.height,nt=new Lr;if(nt==null||F==null)var mt=2;else t(nt!=null),mt=cl(F,K,ie,nt.width,nt.height,nt.Pd,nt.Qd,nt.format,null);if(mt!=0?Me=0:(Me!=null&&(Me[0]=nt.width[0]),Je!=null&&(Je[0]=nt.height[0]),Me=1),Me){Xe.width=Xe.width[0],Xe.height=Xe.height[0],he!=null&&(he[0]=Xe.width),Ne!=null&&(Ne[0]=Xe.height);e:{if(he=new te,(Ne=new Hd).data=F,Ne.w=K,Ne.ha=ie,Ne.kd=1,K=[0],t(Ne!=null),((F=cl(Ne.data,Ne.w,Ne.ha,null,null,null,K,null,Ne))==0||F==7)&&K[0]&&(F=4),(K=F)==0){if(t(He!=null),he.data=Ne.data,he.w=Ne.w+Ne.offset,he.ha=Ne.ha-Ne.offset,he.put=To,he.ac=qn,he.bc=Xr,he.ma=He,Ne.xa){if((F=Nr())==null){He=1;break e}if(function(pt,ot){var Lt=[0],Bt=[0],it=[0];t:for(;;){if(pt==null)return 0;if(ot==null)return pt.a=2,0;if(pt.l=ot,pt.a=0,fe(pt.m,ot.data,ot.w,ot.ha),!yn(pt.m,Lt,Bt,it)){pt.a=3;break t}if(pt.xb=o0,ot.width=Lt[0],ot.height=Bt[0],!$r(Lt[0],Bt[0],1,pt,null))break t;return 1}return t(pt.a!=0),0}(F,he)){if(he=(K=Ql(he.width,he.height,He.Oa,He.ba))==0){t:{he=F;n:for(;;){if(he==null){he=0;break t}if(t(he.s.yc!=null),t(he.s.Ya!=null),t(0<he.s.Wb),t((ie=he.l)!=null),t((Ne=ie.ma)!=null),he.xb!=0){if(he.ca=Ne.ba,he.tb=Ne.tb,t(he.ca!=null),!Au(Ne.Oa,ie,Cu)){he.a=2;break n}if(!_r(he,ie.width)||ie.da)break n;if((ie.da||Gn(he.ca.S))&&gt(),11>he.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),he.ca.f.kb.F!=null&&gt()),he.Pb&&0<he.s.ua&&he.s.vb.X==null&&!Ht(he.s.vb,he.s.Wa.Xa)){he.a=1;break n}he.xb=0}if(!ui(he,he.V,he.Ba,he.c,he.i,ie.o,Lo))break n;Ne.Dc=he.Ma,he=1;break t}t(he.a!=0),he=0}he=!he}he&&(K=F.a)}else K=F.a}else{if((F=new ae)==null){He=1;break e}if(F.Fa=Ne.na,F.P=Ne.P,F.qc=Ne.Sa,we(F,he)){if((K=Ql(he.width,he.height,He.Oa,He.ba))==0){if(F.Aa=0,ie=He.Oa,t((Ne=F)!=null),ie!=null){if(0<(Me=0>(Me=ie.Md)?0:100<Me?255:255*Me/100)){for(Je=nt=0;4>Je;++Je)12>(mt=Ne.pb[Je]).lc&&(mt.ia=Me*c0[0>mt.lc?0:mt.lc]>>3),nt|=mt.ia;nt&&(alert("todo:VP8InitRandom"),Ne.ia=1)}Ne.Ga=ie.Id,100<Ne.Ga?Ne.Ga=100:0>Ne.Ga&&(Ne.Ga=0)}q(F,he)||(K=F.a)}}else K=F.a}K==0&&He.Oa!=null&&He.Oa.fd&&(K=uu(He.ba))}He=K}Fe=He!=0?null:11>Fe?Xe.f.RGBA.eb:Xe.f.kb.y}else Fe=null;return Fe};var oa=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function v(O,de){for(var ce="",ne=0;ne<4;ne++)ce+=String.fromCharCode(O[de++]);return ce}function x(O,de){return(O[de+0]<<0|O[de+1]<<8|O[de+2]<<16)>>>0}function G(O,de){return(O[de+0]<<0|O[de+1]<<8|O[de+2]<<16|O[de+3]<<24)>>>0}new m;var B=[0],R=[0],V=[],H=new m,M=e,L=function(O,de){var ce={},ne=0,oe=!1,be=0,Ie=0;if(ce.frames=[],!function(_e,pe,Ee,We){for(var Ue=0;Ue<We;Ue++)if(_e[pe+Ue]!=Ee.charCodeAt(Ue))return!0;return!1}(O,de,"RIFF",4)){var Re,ye;for(G(O,de+=4),de+=8;de<O.length;){var ve=v(O,de),fe=G(O,de+=4);de+=4;var Ge=fe+(1&fe);switch(ve){case"VP8 ":case"VP8L":ce.frames[ne]===void 0&&(ce.frames[ne]={}),(me=ce.frames[ne]).src_off=oe?Ie:de-8,me.src_size=be+fe+8,ne++,oe&&(oe=!1,be=0,Ie=0);break;case"VP8X":(me=ce.header={}).feature_flags=O[de];var De=de+4;me.canvas_width=1+x(O,De),De+=3,me.canvas_height=1+x(O,De),De+=3;break;case"ALPH":oe=!0,be=Ge+8,Ie=de-8;break;case"ANIM":(me=ce.header).bgcolor=G(O,de),De=de+4,me.loop_count=(Re=O)[(ye=De)+0]<<0|Re[ye+1]<<8,De+=2;break;case"ANMF":var Pe,me;(me=ce.frames[ne]={}).offset_x=2*x(O,de),de+=3,me.offset_y=2*x(O,de),de+=3,me.width=1+x(O,de),de+=3,me.height=1+x(O,de),de+=3,me.duration=x(O,de),de+=3,Pe=O[de++],me.dispose=1&Pe,me.blend=Pe>>1&1}ve!="ANMF"&&(de+=Ge)}return ce}}(M,0);L.response=M,L.rgbaoutput=!0,L.dataurl=!1;var _=L.header?L.header:null,X=L.frames?L.frames:null;if(_){_.loop_counter=_.loop_count,B=[_.canvas_height],R=[_.canvas_width];for(var Q=0;Q<X.length&&X[Q].blend!=0;Q++);}var j=X[0],re=H.WebPDecodeRGBA(M,j.src_off,j.src_size,R,B);j.rgba=re,j.imgwidth=R[0],j.imgheight=B[0];for(var P=0;P<R[0]*B[0]*4;P++)V[P]=re[P];return this.width=R,this.height=B,this.data=V,this}(function(e){var t=function(){return typeof HG=="function"},i=function(B,R,V,H){var M=4,L=u;switch(H){case e.image_compression.FAST:M=1,L=c;break;case e.image_compression.MEDIUM:M=6,L=C;break;case e.image_compression.SLOW:M=9,L=m}B=o(B,R,V,L);var _=HG(B,{level:M});return e.__addimage__.arrayBufferToBinaryString(_)},o=function(B,R,V,H){for(var M,L,_,X=B.length/R,Q=new Uint8Array(B.length+X),j=x(),re=0;re<X;re+=1){if(_=re*R,M=B.subarray(_,_+R),H)Q.set(H(M,V,L),_+re);else{for(var P,O=j.length,de=[];P<O;P+=1)de[P]=j[P](M,V,L);var ce=G(de.concat());Q.set(de[ce],_+re)}L=M}return Q},s=function(B){var R=Array.apply([],B);return R.unshift(0),R},c=function(B,R){var V,H=[],M=B.length;H[0]=1;for(var L=0;L<M;L+=1)V=B[L-R]||0,H[L+1]=B[L]-V+256&255;return H},u=function(B,R,V){var H,M=[],L=B.length;M[0]=2;for(var _=0;_<L;_+=1)H=V&&V[_]||0,M[_+1]=B[_]-H+256&255;return M},C=function(B,R,V){var H,M,L=[],_=B.length;L[0]=3;for(var X=0;X<_;X+=1)H=B[X-R]||0,M=V&&V[X]||0,L[X+1]=B[X]+256-(H+M>>>1)&255;return L},m=function(B,R,V){var H,M,L,_,X=[],Q=B.length;X[0]=4;for(var j=0;j<Q;j+=1)H=B[j-R]||0,M=V&&V[j]||0,L=V&&V[j-R]||0,_=v(H,M,L),X[j+1]=B[j]-_+256&255;return X},v=function(B,R,V){if(B===R&&R===V)return B;var H=Math.abs(R-V),M=Math.abs(B-V),L=Math.abs(B+R-V-V);return H<=M&&H<=L?B:M<=L?R:V},x=function(){return[s,c,u,C,m]},G=function(B){var R=B.map(function(V){return V.reduce(function(H,M){return H+Math.abs(M)},0)});return R.indexOf(Math.min.apply(null,R))};e.processPNG=function(B,R,V,H){var M,L,_,X,Q,j,re,P,O,de,ce,ne,oe,be,Ie,Re=this.decode.FLATE_DECODE,ye="";if(this.__addimage__.isArrayBuffer(B)&&(B=new Uint8Array(B)),this.__addimage__.isArrayBufferView(B)){if(B=(_=new BKe(B)).imgData,L=_.bits,M=_.colorSpace,Q=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){O=(P=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,ce=new Uint8Array(O*_.colors),de=new Uint8Array(O);var ve,fe=_.pixelBitlength-_.bits;for(be=0,Ie=0;be<O;be++){for(oe=P[be],ve=0;ve<fe;)ce[Ie++]=oe>>>ve&255,ve+=_.bits;de[be]=oe>>>ve&255}}if(_.bits===16){O=(P=new Uint32Array(_.decodePixels().buffer)).length,ce=new Uint8Array(O*(32/_.pixelBitlength)*_.colors),de=new Uint8Array(O*(32/_.pixelBitlength)),ne=_.colors>1,be=0,Ie=0;for(var Ge=0;be<O;)oe=P[be++],ce[Ie++]=oe>>>0&255,ne&&(ce[Ie++]=oe>>>16&255,oe=P[be++],ce[Ie++]=oe>>>0&255),de[Ge++]=oe>>>16&255;L=8}H!==e.image_compression.NONE&&t()?(B=i(ce,_.width*_.colors,_.colors,H),re=i(de,_.width,1,H)):(B=ce,re=de,Re=void 0)}if(_.colorType===3&&(M=this.color_spaces.INDEXED,j=_.palette,_.transparency.indexed)){var De=_.transparency.indexed,Pe=0;for(be=0,O=De.length;be<O;++be)Pe+=De[be];if((Pe/=255)===O-1&&De.indexOf(0)!==-1)X=[De.indexOf(0)];else if(Pe!==O){for(P=_.decodePixels(),de=new Uint8Array(P.length),be=0,O=P.length;be<O;be++)de[be]=De[P[be]];re=i(de,_.width,1)}}var me=function(_e){var pe;switch(_e){case e.image_compression.FAST:pe=11;break;case e.image_compression.MEDIUM:pe=13;break;case e.image_compression.SLOW:pe=14;break;default:pe=12}return pe}(H);return Re===this.decode.FLATE_DECODE&&(ye="/Predictor "+me+" "),ye+="/Colors "+Q+" /BitsPerComponent "+L+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),(re&&this.__addimage__.isArrayBuffer(re)||this.__addimage__.isArrayBufferView(re))&&(re=this.__addimage__.arrayBufferToBinaryString(re)),{alias:V,data:B,index:R,filter:Re,decodeParameters:ye,transparency:X,palette:j,sMask:re,predictor:me,width:_.width,height:_.height,bitsPerComponent:L,colorSpace:M}}}})(_n.API),function(e){e.processGIF89A=function(t,i,o,s){var c=new xKe(t),u=c.width,C=c.height,m=[];c.decodeAndBlitFrameRGBA(0,m);var v={data:m,width:u,height:C},x=new i5(100).encode(v,100);return e.processJPEG.call(this,x,i,o,s)},e.processGIF87A=e.processGIF89A}(_n.API),uc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:o,blue:i,quad:c}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},uc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(i){lr.log("bit decode error:"+i)}},uc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),i=t%4;for(e=this.height-1;e>=0;e--){for(var o=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var c=this.datav.getUint8(this.pos++,!0),u=o*this.width*4+8*s*4,C=0;C<8&&8*s+C<this.width;C++){var m=this.palette[c>>7-C&1];this.data[u+4*C]=m.blue,this.data[u+4*C+1]=m.green,this.data[u+4*C+2]=m.red,this.data[u+4*C+3]=255}i!==0&&(this.pos+=4-i)}},uc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,s=0;s<e;s++){var c=this.datav.getUint8(this.pos++,!0),u=o*this.width*4+2*s*4,C=c>>4,m=15&c,v=this.palette[C];if(this.data[u]=v.blue,this.data[u+1]=v.green,this.data[u+2]=v.red,this.data[u+3]=255,2*s+1>=this.width)break;v=this.palette[m],this.data[u+4]=v.blue,this.data[u+4+1]=v.green,this.data[u+4+2]=v.red,this.data[u+4+3]=255}t!==0&&(this.pos+=4-t)}},uc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,o=0;o<this.width;o++){var s=this.datav.getUint8(this.pos++,!0),c=i*this.width*4+4*o;if(s<this.palette.length){var u=this.palette[s];this.data[c]=u.red,this.data[c+1]=u.green,this.data[c+2]=u.blue,this.data[c+3]=255}else this.data[c]=255,this.data[c+1]=255,this.data[c+2]=255,this.data[c+3]=255}e!==0&&(this.pos+=4-e)}},uc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),i=this.height-1;i>=0;i--){for(var o=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(c&t)/t*255|0,C=(c>>5&t)/t*255|0,m=(c>>10&t)/t*255|0,v=c>>15?255:0,x=o*this.width*4+4*s;this.data[x]=m,this.data[x+1]=C,this.data[x+2]=u,this.data[x+3]=v}this.pos+=e}},uc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),i=parseInt("111111",2),o=this.height-1;o>=0;o--){for(var s=this.bottom_up?o:this.height-1-o,c=0;c<this.width;c++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var C=(u&t)/t*255|0,m=(u>>5&i)/i*255|0,v=(u>>11)/t*255|0,x=s*this.width*4+4*c;this.data[x]=v,this.data[x+1]=m,this.data[x+2]=C,this.data[x+3]=255}this.pos+=e}},uc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*i;this.data[u]=c,this.data[u+1]=s,this.data[u+2]=o,this.data[u+3]=255}this.pos+=this.width%4}},uc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),C=t*this.width*4+4*i;this.data[C]=c,this.data[C+1]=s,this.data[C+2]=o,this.data[C+3]=u}},uc.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,i,o,s){var c=new uc(t,!1),u=c.width,C=c.height,m={data:c.getData(),width:u,height:C},v=new i5(100).encode(m,100);return e.processJPEG.call(this,v,i,o,s)}}(_n.API),o9.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,i,o,s){var c=new o9(t),u=c.width,C=c.height,m={data:c.getData(),width:u,height:C},v=new i5(100).encode(m,100);return e.processJPEG.call(this,v,i,o,s)}}(_n.API),_n.API.processRGBA=function(e,t,i){for(var o=e.data,s=o.length,c=new Uint8Array(s/4*3),u=new Uint8Array(s/4),C=0,m=0,v=0;v<s;v+=4){var x=o[v],G=o[v+1],B=o[v+2],R=o[v+3];c[C++]=x,c[C++]=G,c[C++]=B,u[m++]=R}var V=this.__addimage__.arrayBufferToBinaryString(c);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:V,index:t,alias:i,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},_n.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Om=_n.API,wv=Om.getCharWidthsArray=function(e,t){var i,o,s=(t=t||{}).font||this.internal.getFont(),c=t.fontSize||this.internal.getFontSize(),u=t.charSpace||this.internal.getCharSpace(),C=t.widths?t.widths:s.metadata.Unicode.widths,m=C.fof?C.fof:1,v=t.kerning?t.kerning:s.metadata.Unicode.kerning,x=v.fof?v.fof:1,G=t.doKerning!==!1,B=0,R=e.length,V=0,H=C[0]||m,M=[];for(i=0;i<R;i++)o=e.charCodeAt(i),typeof s.metadata.widthOfString=="function"?M.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(o))+u*(1e3/c)||0)/1e3):(B=G&&Ni(v[o])==="object"&&!isNaN(parseInt(v[o][V],10))?v[o][V]/x:0,M.push((C[o]||H)/m+B)),V=o;return M},t9=Om.getStringUnitWidth=function(e,t){var i=(t=t||{}).fontSize||this.internal.getFontSize(),o=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Om.processArabic&&(e=Om.processArabic(e)),typeof o.metadata.widthOfString=="function"?o.metadata.widthOfString(e,i,s)/i:wv.apply(this,arguments).reduce(function(c,u){return c+u},0)},n9=function(e,t,i,o){for(var s=[],c=0,u=e.length,C=0;c!==u&&C+t[c]<i;)C+=t[c],c++;s.push(e.slice(0,c));var m=c;for(C=0;c!==u;)C+t[c]>o&&(s.push(e.slice(m,c)),C=0,m=c),C+=t[c],c++;return m!==c&&s.push(e.slice(m,c)),s},i9=function(e,t,i){i||(i={});var o,s,c,u,C,m,v,x=[],G=[x],B=i.textIndent||0,R=0,V=0,H=e.split(" "),M=wv.apply(this,[" ",i])[0];if(m=i.lineIndent===-1?H[0].length+2:i.lineIndent||0){var L=Array(m).join(" "),_=[];H.map(function(Q){(Q=Q.split(/\s*\n/)).length>1?_=_.concat(Q.map(function(j,re){return(re&&j.length?`
`:"")+j})):_.push(Q[0])}),H=_,m=t9.apply(this,[L,i])}for(c=0,u=H.length;c<u;c++){var X=0;if(o=H[c],m&&o[0]==`
`&&(o=o.substr(1),X=1),B+R+(V=(s=wv.apply(this,[o,i])).reduce(function(Q,j){return Q+j},0))>t||X){if(V>t){for(C=n9.apply(this,[o,s,t-(B+R),t]),x.push(C.shift()),x=[C.pop()];C.length;)G.push([C.shift()]);V=s.slice(o.length-(x[0]?x[0].length:0)).reduce(function(Q,j){return Q+j},0)}else x=[o];G.push(x),B=V+m,R=M}else x.push(o),B+=R+V,R=M}return v=m?function(Q,j){return(j?L:"")+Q.join(" ")}:function(Q){return Q.join(" ")},G.map(v)},Om.splitTextToSize=function(e,t,i){var o,s=(i=i||{}).fontSize||this.internal.getFontSize(),c=(function(x){if(x.widths&&x.kerning)return{widths:x.widths,kerning:x.kerning};var G=this.internal.getFont(x.fontName,x.fontStyle);return G.metadata.Unicode?{widths:G.metadata.Unicode.widths||{0:1},kerning:G.metadata.Unicode.kerning||{}}:{font:G.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,i);o=Array.isArray(e)?e:String(e).split(/\r?\n/);var u=1*this.internal.scaleFactor*t/s;c.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/s:0,c.lineIndent=i.lineIndent;var C,m,v=[];for(C=0,m=o.length;C<m;C++)v=v.concat(i9.apply(this,[o[C],u,c]));return v},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",i={},o={},s=0;s<t.length;s++)i[t[s]]="0123456789abcdef"[s],o["0123456789abcdef"[s]]=t[s];var c=function(G){return"0x"+parseInt(G,10).toString(16)},u=e.__fontmetrics__.compress=function(G){var B,R,V,H,M=["{"];for(var L in G){if(B=G[L],isNaN(parseInt(L,10))?R="'"+L+"'":(L=parseInt(L,10),R=(R=c(L).slice(2)).slice(0,-1)+o[R.slice(-1)]),typeof B=="number")B<0?(V=c(B).slice(3),H="-"):(V=c(B).slice(2),H=""),V=H+V.slice(0,-1)+o[V.slice(-1)];else{if(Ni(B)!=="object")throw new Error("Don't know what to do with value type "+Ni(B)+".");V=u(B)}M.push(R+V)}return M.push("}"),M.join("")},C=e.__fontmetrics__.uncompress=function(G){if(typeof G!="string")throw new Error("Invalid argument passed to uncompress.");for(var B,R,V,H,M={},L=1,_=M,X=[],Q="",j="",re=G.length-1,P=1;P<re;P+=1)(H=G[P])=="'"?B?(V=B.join(""),B=void 0):B=[]:B?B.push(H):H=="{"?(X.push([_,V]),_={},V=void 0):H=="}"?((R=X.pop())[0][R[1]]=_,V=void 0,_=R[0]):H=="-"?L=-1:V===void 0?i.hasOwnProperty(H)?(Q+=i[H],V=parseInt(Q,16)*L,L=1,Q=""):Q+=H:i.hasOwnProperty(H)?(j+=i[H],_[V]=parseInt(j,16)*L,L=1,V=void 0,j=""):j+=H;return M},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:C("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},v={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},x={Unicode:{"Courier-Oblique":C("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":C("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":C("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:C("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":C("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":C("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:C("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:C("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":C("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:C("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":C("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":C("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":C("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":C("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(G){var B=G.font,R=x.Unicode[B.postScriptName];R&&(B.metadata.Unicode={},B.metadata.Unicode.widths=R.widths,B.metadata.Unicode.kerning=R.kerning);var V=v.Unicode[B.postScriptName];V&&(B.metadata.Unicode.encoding=V,B.encoding=V.codePages[0])}])}(_n.API),function(e){var t=function(i){for(var o=i.length,s=new Uint8Array(o),c=0;c<o;c++)s[c]=i.charCodeAt(c);return s};e.API.events.push(["addFont",function(i){var o=void 0,s=i.font,c=i.instance;if(!s.isStandardFont){if(c===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(o=c.existsFileInVFS(s.postScriptName)===!1?c.loadFile(s.postScriptName):c.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,C){C=/^\x00\x01\x00\x00/.test(C)?t(C):t(_I(C)),u.metadata=e.API.TTFFont.open(C),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,o)}}])}(_n),function(e){function t(){return(Fn.canvg?Promise.resolve(Fn.canvg):NG(()=>import("./index.es-CExM7MQ6.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load canvg: "+i))}).then(function(i){return i.default?i.default:i})}_n.API.addSvgAsImage=function(i,o,s,c,u,C,m,v){if(isNaN(o)||isNaN(s))throw lr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(c)||isNaN(u))throw lr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var x=document.createElement("canvas");x.width=c,x.height=u;var G=x.getContext("2d");G.fillStyle="#fff",G.fillRect(0,0,x.width,x.height);var B={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},R=this;return t().then(function(V){return V.fromString(G,i,B)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(V){return V.render(B)}).then(function(){R.addImage(x.toDataURL("image/jpeg",1),o,s,c,u,m,v)})}}(),_n.API.putTotalPages=function(e){var t,i=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),i=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),i=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var o=1;o<=this.internal.getNumberOfPages();o++)for(var s=0;s<this.internal.pages[o].length;s++)this.internal.pages[o][s]=this.internal.pages[o][s].replace(t,i);return this},_n.API.viewerPreferences=function(e,t){var i;e=e||{},t=t||!1;var o,s,c,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},C=Object.keys(u),m=[],v=0,x=0,G=0;function B(V,H){var M,L=!1;for(M=0;M<V.length;M+=1)V[M]===H&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),i=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var R=C.length;for(G=0;G<R;G+=1)i[C[G]].value=i[C[G]].defaultValue,i[C[G]].explicitSet=!1}if(Ni(e)==="object"){for(s in e)if(c=e[s],B(C,s)&&c!==void 0){if(i[s].type==="boolean"&&typeof c=="boolean")i[s].value=c;else if(i[s].type==="name"&&B(i[s].valueSet,c))i[s].value=c;else if(i[s].type==="integer"&&Number.isInteger(c))i[s].value=c;else if(i[s].type==="array"){for(v=0;v<c.length;v+=1)if(o=!0,c[v].length===1&&typeof c[v][0]=="number")m.push(String(c[v]-1));else if(c[v].length>1){for(x=0;x<c[v].length;x+=1)typeof c[v][x]!="number"&&(o=!1);o===!0&&m.push([c[v][0]-1,c[v][1]-1].join(" "))}i[s].value="["+m.join(" ")+"]"}else i[s].value=i[s].defaultValue;i[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var V,H=[];for(V in i)i[V].explicitSet===!0&&(i[V].type==="name"?H.push("/"+V+" /"+i[V].value):H.push("/"+V+" "+i[V].value));H.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+H.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=i,this},function(e){var t=function(){var o='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),c=unescape(encodeURIComponent(o)),u=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),C=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),m=unescape(encodeURIComponent("</x:xmpmeta>")),v=c.length+u.length+C.length+s.length+m.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+v+" >>"),this.internal.write("stream"),this.internal.write(s+c+u+C+m),this.internal.write("endstream"),this.internal.write("endobj")},i=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(o,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:o,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",i),this.internal.events.subscribe("postPutResources",t)),this}}(_n.API),function(e){var t=e.API,i=t.pdfEscape16=function(c,u){for(var C,m=u.metadata.Unicode.widths,v=["","0","00","000","0000"],x=[""],G=0,B=c.length;G<B;++G){if(C=u.metadata.characterToGlyph(c.charCodeAt(G)),u.metadata.glyIdsUsed.push(C),u.metadata.toUnicode[C]=c.charCodeAt(G),m.indexOf(C)==-1&&(m.push(C),m.push([parseInt(u.metadata.widthOfGlyph(C),10)])),C=="0")return x.join("");C=C.toString(16),x.push(v[4-C.length],C)}return x.join("")},o=function(c){var u,C,m,v,x,G,B;for(x=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,m=[],G=0,B=(C=Object.keys(c).sort(function(R,V){return R-V})).length;G<B;G++)u=C[G],m.length>=100&&(x+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar`,m=[]),c[u]!==void 0&&c[u]!==null&&typeof c[u].toString=="function"&&(v=("0000"+c[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),m.push("<"+u+"><"+v+">"));return m.length&&(x+=`
`+m.length+` beginbfchar
`+m.join(`
`)+`
endbfchar
`),x+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(c){(function(u){var C=u.font,m=u.out,v=u.newObject,x=u.putStream;if(C.metadata instanceof e.API.TTFFont&&C.encoding==="Identity-H"){for(var G=C.metadata.Unicode.widths,B=C.metadata.subset.encode(C.metadata.glyIdsUsed,1),R="",V=0;V<B.length;V++)R+=String.fromCharCode(B[V]);var H=v();x({data:R,addLength1:!0,objectId:H}),m("endobj");var M=v();x({data:o(C.metadata.toUnicode),addLength1:!0,objectId:M}),m("endobj");var L=v();m("<<"),m("/Type /FontDescriptor"),m("/FontName /"+op(C.fontName)),m("/FontFile2 "+H+" 0 R"),m("/FontBBox "+e.API.PDFObject.convert(C.metadata.bbox)),m("/Flags "+C.metadata.flags),m("/StemV "+C.metadata.stemV),m("/ItalicAngle "+C.metadata.italicAngle),m("/Ascent "+C.metadata.ascender),m("/Descent "+C.metadata.decender),m("/CapHeight "+C.metadata.capHeight),m(">>"),m("endobj");var _=v();m("<<"),m("/Type /Font"),m("/BaseFont /"+op(C.fontName)),m("/FontDescriptor "+L+" 0 R"),m("/W "+e.API.PDFObject.convert(G)),m("/CIDToGIDMap /Identity"),m("/DW 1000"),m("/Subtype /CIDFontType2"),m("/CIDSystemInfo"),m("<<"),m("/Supplement 0"),m("/Registry (Adobe)"),m("/Ordering ("+C.encoding+")"),m(">>"),m(">>"),m("endobj"),C.objectNumber=v(),m("<<"),m("/Type /Font"),m("/Subtype /Type0"),m("/ToUnicode "+M+" 0 R"),m("/BaseFont /"+op(C.fontName)),m("/Encoding /"+C.encoding),m("/DescendantFonts ["+_+" 0 R]"),m(">>"),m("endobj"),C.isAlreadyPutted=!0}})(c)}]),t.events.push(["putFont",function(c){(function(u){var C=u.font,m=u.out,v=u.newObject,x=u.putStream;if(C.metadata instanceof e.API.TTFFont&&C.encoding==="WinAnsiEncoding"){for(var G=C.metadata.rawData,B="",R=0;R<G.length;R++)B+=String.fromCharCode(G[R]);var V=v();x({data:B,addLength1:!0,objectId:V}),m("endobj");var H=v();x({data:o(C.metadata.toUnicode),addLength1:!0,objectId:H}),m("endobj");var M=v();m("<<"),m("/Descent "+C.metadata.decender),m("/CapHeight "+C.metadata.capHeight),m("/StemV "+C.metadata.stemV),m("/Type /FontDescriptor"),m("/FontFile2 "+V+" 0 R"),m("/Flags 96"),m("/FontBBox "+e.API.PDFObject.convert(C.metadata.bbox)),m("/FontName /"+op(C.fontName)),m("/ItalicAngle "+C.metadata.italicAngle),m("/Ascent "+C.metadata.ascender),m(">>"),m("endobj"),C.objectNumber=v();for(var L=0;L<C.metadata.hmtx.widths.length;L++)C.metadata.hmtx.widths[L]=parseInt(C.metadata.hmtx.widths[L]*(1e3/C.metadata.head.unitsPerEm));m("<</Subtype/TrueType/Type/Font/ToUnicode "+H+" 0 R/BaseFont/"+op(C.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+C.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(C.metadata.hmtx.widths)+">>"),m("endobj"),C.isAlreadyPutted=!0}})(c)}]);var s=function(c){var u,C=c.text||"",m=c.x,v=c.y,x=c.options||{},G=c.mutex||{},B=G.pdfEscape,R=G.activeFontKey,V=G.fonts,H=R,M="",L=0,_="",X=V[H].encoding;if(V[H].encoding!=="Identity-H")return{text:C,x:m,y:v,options:x,mutex:G};for(_=C,H=R,Array.isArray(C)&&(_=C[0]),L=0;L<_.length;L+=1)V[H].metadata.hasOwnProperty("cmap")&&(u=V[H].metadata.cmap.unicode.codeMap[_[L].charCodeAt(0)]),u||_[L].charCodeAt(0)<256&&V[H].metadata.hasOwnProperty("Unicode")?M+=_[L]:M+="";var Q="";return parseInt(H.slice(1))<14||X==="WinAnsiEncoding"?Q=B(M,H).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):X==="Identity-H"&&(Q=i(M,V[H])),G.isHex=!0,{text:Q,x:m,y:v,options:x,mutex:G}};t.events.push(["postProcessText",function(c){var u=c.text||"",C=[],m={text:u,x:c.x,y:c.y,options:c.options,mutex:c.mutex};if(Array.isArray(u)){var v=0;for(v=0;v<u.length;v+=1)Array.isArray(u[v])&&u[v].length===3?C.push([s(Object.assign({},m,{text:u[v][0]})).text,u[v][1],u[v][2]]):C.push(s(Object.assign({},m,{text:u[v]})).text);c.text=C}else c.text=s(Object.assign({},m,{text:u})).text}])}(_n),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(i){return t.call(this),this.internal.vFS[i]!==void 0},e.addFileToVFS=function(i,o){return t.call(this),this.internal.vFS[i]=o,this},e.getFileFromVFS=function(i){return t.call(this),this.internal.vFS[i]!==void 0?this.internal.vFS[i]:null}}(_n.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(o){var s,c,u,C,m,v,x,G=t,B=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],R=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],V={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},H={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,X=0;this.__bidiEngine__={};var Q=function(ne){var oe=ne.charCodeAt(),be=oe>>8,Ie=H[be];return Ie!==void 0?G[256*Ie+(255&oe)]:be===252||be===253?"AL":L.test(be)?"L":be===8?"R":"N"},j=function(ne){for(var oe,be=0;be<ne.length;be++){if((oe=Q(ne.charAt(be)))==="L")return!1;if(oe==="R")return!0}return!1},re=function(ne,oe,be,Ie){var Re,ye,ve,fe,Ge=oe[Ie];switch(Ge){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(Ge="AN");break;case"AL":_=!0,Ge="R";break;case"WS":Ge="N";break;case"CS":Ie<1||Ie+1>=oe.length||(Re=be[Ie-1])!=="EN"&&Re!=="AN"||(ye=oe[Ie+1])!=="EN"&&ye!=="AN"?Ge="N":_&&(ye="AN"),Ge=ye===Re?ye:"N";break;case"ES":Ge=(Re=Ie>0?be[Ie-1]:"B")==="EN"&&Ie+1<oe.length&&oe[Ie+1]==="EN"?"EN":"N";break;case"ET":if(Ie>0&&be[Ie-1]==="EN"){Ge="EN";break}if(_){Ge="N";break}for(ve=Ie+1,fe=oe.length;ve<fe&&oe[ve]==="ET";)ve++;Ge=ve<fe&&oe[ve]==="EN"?"EN":"N";break;case"NSM":if(u&&!C){for(fe=oe.length,ve=Ie+1;ve<fe&&oe[ve]==="NSM";)ve++;if(ve<fe){var De=ne[Ie],Pe=De>=1425&&De<=2303||De===64286;if(Re=oe[ve],Pe&&(Re==="R"||Re==="AL")){Ge="R";break}}}Ge=Ie<1||(Re=oe[Ie-1])==="B"?"N":be[Ie-1];break;case"B":_=!1,s=!0,Ge=X;break;case"S":c=!0,Ge="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":Ge="N"}return Ge},P=function(ne,oe,be){var Ie=ne.split("");return be&&O(Ie,be,{hiLevel:X}),Ie.reverse(),oe&&oe.reverse(),Ie.join("")},O=function(ne,oe,be){var Ie,Re,ye,ve,fe,Ge=-1,De=ne.length,Pe=0,me=[],_e=X?R:B,pe=[];for(_=!1,s=!1,c=!1,Re=0;Re<De;Re++)pe[Re]=Q(ne[Re]);for(ye=0;ye<De;ye++){if(fe=Pe,me[ye]=re(ne,pe,me,ye),Ie=240&(Pe=_e[fe][V[me[ye]]]),Pe&=15,oe[ye]=ve=_e[Pe][5],Ie>0)if(Ie===16){for(Re=Ge;Re<ye;Re++)oe[Re]=1;Ge=-1}else Ge=-1;if(_e[Pe][6])Ge===-1&&(Ge=ye);else if(Ge>-1){for(Re=Ge;Re<ye;Re++)oe[Re]=ve;Ge=-1}pe[ye]==="B"&&(oe[ye]=0),be.hiLevel|=ve}c&&function(Ee,We,Ue){for(var je=0;je<Ue;je++)if(Ee[je]==="S"){We[je]=X;for(var qe=je-1;qe>=0&&Ee[qe]==="WS";qe--)We[qe]=X}}(pe,oe,De)},de=function(ne,oe,be,Ie,Re){if(!(Re.hiLevel<ne)){if(ne===1&&X===1&&!s)return oe.reverse(),void(be&&be.reverse());for(var ye,ve,fe,Ge,De=oe.length,Pe=0;Pe<De;){if(Ie[Pe]>=ne){for(fe=Pe+1;fe<De&&Ie[fe]>=ne;)fe++;for(Ge=Pe,ve=fe-1;Ge<ve;Ge++,ve--)ye=oe[Ge],oe[Ge]=oe[ve],oe[ve]=ye,be&&(ye=be[Ge],be[Ge]=be[ve],be[ve]=ye);Pe=fe}Pe++}}},ce=function(ne,oe,be){var Ie=ne.split(""),Re={hiLevel:X};return be||(be=[]),O(Ie,be,Re),function(ye,ve,fe){if(fe.hiLevel!==0&&x)for(var Ge,De=0;De<ye.length;De++)ve[De]===1&&(Ge=M.indexOf(ye[De]))>=0&&(ye[De]=M[Ge+1])}(Ie,be,Re),de(2,Ie,oe,be,Re),de(1,Ie,oe,be,Re),Ie.join("")};return this.__bidiEngine__.doBidiReorder=function(ne,oe,be){if(function(Re,ye){if(ye)for(var ve=0;ve<Re.length;ve++)ye[ve]=ve;C===void 0&&(C=j(Re)),v===void 0&&(v=j(Re))}(ne,oe),u||!m||v)if(u&&m&&C^v)X=C?1:0,ne=P(ne,oe,be);else if(!u&&m&&v)X=C?1:0,ne=ce(ne,oe,be),ne=P(ne,oe);else if(!u||C||m||v){if(u&&!m&&C^v)ne=P(ne,oe),C?(X=0,ne=ce(ne,oe,be)):(X=1,ne=ce(ne,oe,be),ne=P(ne,oe));else if(u&&C&&!m&&v)X=1,ne=ce(ne,oe,be),ne=P(ne,oe);else if(!u&&!m&&C^v){var Ie=x;C?(X=1,ne=ce(ne,oe,be),X=0,x=!1,ne=ce(ne,oe,be),x=Ie):(X=0,ne=ce(ne,oe,be),ne=P(ne,oe),X=1,x=!1,ne=ce(ne,oe,be),x=Ie,ne=P(ne,oe))}}else X=0,ne=ce(ne,oe,be);else X=C?1:0,ne=ce(ne,oe,be);return ne},this.__bidiEngine__.setOptions=function(ne){ne&&(u=ne.isInputVisual,m=ne.isOutputVisual,C=ne.isInputRtl,v=ne.isOutputRtl,x=ne.isSymmetricSwapping)},this.__bidiEngine__.setOptions(o),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],i=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(o){var s=o.text,c=(o.x,o.y,o.options||{}),u=(o.mutex,c.lang,[]);if(c.isInputVisual=typeof c.isInputVisual!="boolean"||c.isInputVisual,i.setOptions(c),Object.prototype.toString.call(s)==="[object Array]"){var C=0;for(u=[],C=0;C<s.length;C+=1)Object.prototype.toString.call(s[C])==="[object Array]"?u.push([i.doBidiReorder(s[C][0]),s[C][1],s[C][2]]):u.push([i.doBidiReorder(s[C])]);o.text=u}else o.text=i.doBidiReorder(s);i.setOptions({isInputVisual:!0})}])}(_n),_n.API.TTFFont=function(){function e(t){var i;if(this.rawData=t,i=this.contents=new qA(t),this.contents.pos=4,i.readString(4)==="ttcf")throw new Error("TTCF not supported.");i.pos=0,this.parse(),this.subset=new XKe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new SKe(this.contents),this.head=new GKe(this),this.name=new EKe(this),this.cmap=new vO(this),this.toUnicode={},this.hhea=new RKe(this),this.maxp=new FKe(this),this.hmtx=new WKe(this),this.post=new _Ke(this),this.os2=new NKe(this),this.loca=new LKe(this),this.glyf=new HKe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,i,o,s,c;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,C,m,v;for(v=[],u=0,C=(m=this.bbox).length;u<C;u++)t=m[u],v.push(Math.round(t*this.scaleFactor));return v}).call(this),this.stemV=0,this.post.exists?(o=255&(s=this.post.italic_angle),32768&(i=s>>16)&&(i=-(1+(65535^i))),this.italicAngle=+(i+"."+o)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(c=this.familyClass)===1||c===2||c===3||c===4||c===5||c===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var i;return((i=this.cmap.unicode)!=null?i.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var i;return i=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*i},e.prototype.widthOfString=function(t,i,o){var s,c,u,C;for(u=0,c=0,C=(t=""+t).length;0<=C?c<C:c>C;c=0<=C?++c:--c)s=t.charCodeAt(c),u+=this.widthOfGlyph(this.characterToGlyph(s))+o*(1e3/i)||0;return u*(i/1e3)},e.prototype.lineHeight=function(t,i){var o;return i==null&&(i=!1),o=i?this.lineGap:0,(this.ascender+o-this.decender)/1e3*t},e}();var Ec,qA=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var i,o;for(o=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)o[i]=String.fromCharCode(this.readByte());return o.join("")},e.prototype.writeString=function(t){var i,o,s;for(s=[],i=0,o=t.length;0<=o?i<o:i>o;i=0<=o?++i:--i)s.push(this.writeByte(t.charCodeAt(i)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,i,o,s,c,u,C,m;return t=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),c=this.readByte(),u=this.readByte(),C=this.readByte(),m=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^i)+1099511627776*(255^o)+4294967296*(255^s)+16777216*(255^c)+65536*(255^u)+256*(255^C)+(255^m)+1):72057594037927940*t+281474976710656*i+1099511627776*o+4294967296*s+16777216*c+65536*u+256*C+m},e.prototype.writeLongLong=function(t){var i,o;return i=Math.floor(t/4294967296),o=4294967295&t,this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i),this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var i,o;for(i=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)i.push(this.readByte());return i},e.prototype.write=function(t){var i,o,s,c;for(c=[],o=0,s=t.length;o<s;o++)i=t[o],c.push(this.writeByte(i));return c},e}(),SKe=function(){var e;function t(i){var o,s,c;for(this.scalarType=i.readInt(),this.tableCount=i.readShort(),this.searchRange=i.readShort(),this.entrySelector=i.readShort(),this.rangeShift=i.readShort(),this.tables={},s=0,c=this.tableCount;0<=c?s<c:s>c;s=0<=c?++s:--s)o={tag:i.readString(4),checksum:i.readInt(),offset:i.readInt(),length:i.readInt()},this.tables[o.tag]=o}return t.prototype.encode=function(i){var o,s,c,u,C,m,v,x,G,B,R,V,H;for(H in R=Object.keys(i).length,m=Math.log(2),G=16*Math.floor(Math.log(R)/m),u=Math.floor(G/m),x=16*R-G,(s=new qA).writeInt(this.scalarType),s.writeShort(R),s.writeShort(G),s.writeShort(u),s.writeShort(x),c=16*R,v=s.pos+c,C=null,V=[],i)for(B=i[H],s.writeString(H),s.writeInt(e(B)),s.writeInt(v),s.writeInt(B.length),V=V.concat(B),H==="head"&&(C=v),v+=B.length;v%4;)V.push(0),v++;return s.write(V),o=2981146554-e(s.data),s.pos=C+8,s.writeUInt32(o),s.data},e=function(i){var o,s,c,u;for(i=wO.call(i);i.length%4;)i.push(0);for(c=new qA(i),s=0,o=0,u=i.length;o<u;o=o+=4)s+=c.readUInt32();return 4294967295&s},t}(),ZKe={}.hasOwnProperty,Zg=function(e,t){for(var i in t)ZKe.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}return o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype,e};Ec=function(){function e(t){var i;this.file=t,i=this.file.directory.tables[this.tag],this.exists=!!i,i&&(this.offset=i.offset,this.length=i.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var GKe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zg(t,Ec),t.prototype.tag="head",t.prototype.parse=function(i){return i.pos=this.offset,this.version=i.readInt(),this.revision=i.readInt(),this.checkSumAdjustment=i.readInt(),this.magicNumber=i.readInt(),this.flags=i.readShort(),this.unitsPerEm=i.readShort(),this.created=i.readLongLong(),this.modified=i.readLongLong(),this.xMin=i.readShort(),this.yMin=i.readShort(),this.xMax=i.readShort(),this.yMax=i.readShort(),this.macStyle=i.readShort(),this.lowestRecPPEM=i.readShort(),this.fontDirectionHint=i.readShort(),this.indexToLocFormat=i.readShort(),this.glyphDataFormat=i.readShort()},t.prototype.encode=function(i){var o;return(o=new qA).writeInt(this.version),o.writeInt(this.revision),o.writeInt(this.checkSumAdjustment),o.writeInt(this.magicNumber),o.writeShort(this.flags),o.writeShort(this.unitsPerEm),o.writeLongLong(this.created),o.writeLongLong(this.modified),o.writeShort(this.xMin),o.writeShort(this.yMin),o.writeShort(this.xMax),o.writeShort(this.yMax),o.writeShort(this.macStyle),o.writeShort(this.lowestRecPPEM),o.writeShort(this.fontDirectionHint),o.writeShort(i),o.writeShort(this.glyphDataFormat),o.data},t}(),s9=function(){function e(t,i){var o,s,c,u,C,m,v,x,G,B,R,V,H,M,L,_,X;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=i+t.readInt(),G=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(m=0;m<256;++m)this.codeMap[m]=t.readByte();break;case 4:for(R=t.readUInt16(),B=R/2,t.pos+=6,c=function(){var Q,j;for(j=[],m=Q=0;0<=B?Q<B:Q>B;m=0<=B?++Q:--Q)j.push(t.readUInt16());return j}(),t.pos+=2,H=function(){var Q,j;for(j=[],m=Q=0;0<=B?Q<B:Q>B;m=0<=B?++Q:--Q)j.push(t.readUInt16());return j}(),v=function(){var Q,j;for(j=[],m=Q=0;0<=B?Q<B:Q>B;m=0<=B?++Q:--Q)j.push(t.readUInt16());return j}(),x=function(){var Q,j;for(j=[],m=Q=0;0<=B?Q<B:Q>B;m=0<=B?++Q:--Q)j.push(t.readUInt16());return j}(),s=(this.length-t.pos+this.offset)/2,C=function(){var Q,j;for(j=[],m=Q=0;0<=s?Q<s:Q>s;m=0<=s?++Q:--Q)j.push(t.readUInt16());return j}(),m=L=0,X=c.length;L<X;m=++L)for(M=c[m],o=_=V=H[m];V<=M?_<=M:_>=M;o=V<=M?++_:--_)x[m]===0?u=o+v[m]:(u=C[x[m]/2+(o-V)-(B-m)]||0)!==0&&(u+=v[m]),this.codeMap[o]=65535&u}t.pos=G}return e.encode=function(t,i){var o,s,c,u,C,m,v,x,G,B,R,V,H,M,L,_,X,Q,j,re,P,O,de,ce,ne,oe,be,Ie,Re,ye,ve,fe,Ge,De,Pe,me,_e,pe,Ee,We,Ue,je,qe,At,ct,lt;switch(Ie=new qA,u=Object.keys(t).sort(function(at,Ht){return at-Ht}),i){case"macroman":for(H=0,M=function(){var at=[];for(V=0;V<256;++V)at.push(0);return at}(),_={0:0},c={},Re=0,Ge=u.length;Re<Ge;Re++)_[qe=t[s=u[Re]]]==null&&(_[qe]=++H),c[s]={old:t[s],new:_[t[s]]},M[s]=_[t[s]];return Ie.writeUInt16(1),Ie.writeUInt16(0),Ie.writeUInt32(12),Ie.writeUInt16(0),Ie.writeUInt16(262),Ie.writeUInt16(0),Ie.write(M),{charMap:c,subtable:Ie.data,maxGlyphID:H+1};case"unicode":for(oe=[],G=[],X=0,_={},o={},L=v=null,ye=0,De=u.length;ye<De;ye++)_[j=t[s=u[ye]]]==null&&(_[j]=++X),o[s]={old:j,new:_[j]},C=_[j]-s,L!=null&&C===v||(L&&G.push(L),oe.push(s),v=C),L=s;for(L&&G.push(L),G.push(65535),oe.push(65535),ce=2*(de=oe.length),O=2*Math.pow(Math.log(de)/Math.LN2,2),B=Math.log(O/2)/Math.LN2,P=2*de-O,m=[],re=[],R=[],V=ve=0,Pe=oe.length;ve<Pe;V=++ve){if(ne=oe[V],x=G[V],ne===65535){m.push(0),re.push(0);break}if(ne-(be=o[ne].new)>=32768)for(m.push(0),re.push(2*(R.length+de-V)),s=fe=ne;ne<=x?fe<=x:fe>=x;s=ne<=x?++fe:--fe)R.push(o[s].new);else m.push(be-ne),re.push(0)}for(Ie.writeUInt16(3),Ie.writeUInt16(1),Ie.writeUInt32(12),Ie.writeUInt16(4),Ie.writeUInt16(16+8*de+2*R.length),Ie.writeUInt16(0),Ie.writeUInt16(ce),Ie.writeUInt16(O),Ie.writeUInt16(B),Ie.writeUInt16(P),Ue=0,me=G.length;Ue<me;Ue++)s=G[Ue],Ie.writeUInt16(s);for(Ie.writeUInt16(0),je=0,_e=oe.length;je<_e;je++)s=oe[je],Ie.writeUInt16(s);for(At=0,pe=m.length;At<pe;At++)C=m[At],Ie.writeUInt16(C);for(ct=0,Ee=re.length;ct<Ee;ct++)Q=re[ct],Ie.writeUInt16(Q);for(lt=0,We=R.length;lt<We;lt++)H=R[lt],Ie.writeUInt16(H);return{charMap:o,subtable:Ie.data,maxGlyphID:X+1}}},e}(),vO=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zg(t,Ec),t.prototype.tag="cmap",t.prototype.parse=function(i){var o,s,c;for(i.pos=this.offset,this.version=i.readUInt16(),c=i.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=c?s<c:s>c;s=0<=c?++s:--s)o=new s9(i,this.offset),this.tables.push(o),o.isUnicode&&this.unicode==null&&(this.unicode=o);return!0},t.encode=function(i,o){var s,c;return o==null&&(o="macroman"),s=s9.encode(i,o),(c=new qA).writeUInt16(0),c.writeUInt16(1),s.table=c.data.concat(s.subtable),s},t}(),RKe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zg(t,Ec),t.prototype.tag="hhea",t.prototype.parse=function(i){return i.pos=this.offset,this.version=i.readInt(),this.ascender=i.readShort(),this.decender=i.readShort(),this.lineGap=i.readShort(),this.advanceWidthMax=i.readShort(),this.minLeftSideBearing=i.readShort(),this.minRightSideBearing=i.readShort(),this.xMaxExtent=i.readShort(),this.caretSlopeRise=i.readShort(),this.caretSlopeRun=i.readShort(),this.caretOffset=i.readShort(),i.pos+=8,this.metricDataFormat=i.readShort(),this.numberOfMetrics=i.readUInt16()},t}(),NKe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zg(t,Ec),t.prototype.tag="OS/2",t.prototype.parse=function(i){if(i.pos=this.offset,this.version=i.readUInt16(),this.averageCharWidth=i.readShort(),this.weightClass=i.readUInt16(),this.widthClass=i.readUInt16(),this.type=i.readShort(),this.ySubscriptXSize=i.readShort(),this.ySubscriptYSize=i.readShort(),this.ySubscriptXOffset=i.readShort(),this.ySubscriptYOffset=i.readShort(),this.ySuperscriptXSize=i.readShort(),this.ySuperscriptYSize=i.readShort(),this.ySuperscriptXOffset=i.readShort(),this.ySuperscriptYOffset=i.readShort(),this.yStrikeoutSize=i.readShort(),this.yStrikeoutPosition=i.readShort(),this.familyClass=i.readShort(),this.panose=function(){var o,s;for(s=[],o=0;o<10;++o)s.push(i.readByte());return s}(),this.charRange=function(){var o,s;for(s=[],o=0;o<4;++o)s.push(i.readInt());return s}(),this.vendorID=i.readString(4),this.selection=i.readShort(),this.firstCharIndex=i.readShort(),this.lastCharIndex=i.readShort(),this.version>0&&(this.ascent=i.readShort(),this.descent=i.readShort(),this.lineGap=i.readShort(),this.winAscent=i.readShort(),this.winDescent=i.readShort(),this.codePageRange=function(){var o,s;for(s=[],o=0;o<2;o=++o)s.push(i.readInt());return s}(),this.version>1))return this.xHeight=i.readShort(),this.capHeight=i.readShort(),this.defaultChar=i.readShort(),this.breakChar=i.readShort(),this.maxContext=i.readShort()},t}(),_Ke=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zg(t,Ec),t.prototype.tag="post",t.prototype.parse=function(i){var o,s,c;switch(i.pos=this.offset,this.format=i.readInt(),this.italicAngle=i.readInt(),this.underlinePosition=i.readShort(),this.underlineThickness=i.readShort(),this.isFixedPitch=i.readInt(),this.minMemType42=i.readInt(),this.maxMemType42=i.readInt(),this.minMemType1=i.readInt(),this.maxMemType1=i.readInt(),this.format){case 65536:break;case 131072:var u;for(s=i.readUInt16(),this.glyphNameIndex=[],u=0;0<=s?u<s:u>s;u=0<=s?++u:--u)this.glyphNameIndex.push(i.readUInt16());for(this.names=[],c=[];i.pos<this.offset+this.length;)o=i.readByte(),c.push(this.names.push(i.readString(o)));return c;case 151552:return s=i.readUInt16(),this.offsets=i.read(s);case 196608:break;case 262144:return this.map=(function(){var C,m,v;for(v=[],u=C=0,m=this.file.maxp.numGlyphs;0<=m?C<m:C>m;u=0<=m?++C:--C)v.push(i.readUInt32());return v}).call(this)}},t}(),VKe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},EKe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zg(t,Ec),t.prototype.tag="name",t.prototype.parse=function(i){var o,s,c,u,C,m,v,x,G,B,R;for(i.pos=this.offset,i.readShort(),o=i.readShort(),m=i.readShort(),s=[],u=0;0<=o?u<o:u>o;u=0<=o?++u:--u)s.push({platformID:i.readShort(),encodingID:i.readShort(),languageID:i.readShort(),nameID:i.readShort(),length:i.readShort(),offset:this.offset+m+i.readShort()});for(v={},u=G=0,B=s.length;G<B;u=++G)c=s[u],i.pos=c.offset,x=i.readString(c.length),C=new VKe(x,c),v[R=c.nameID]==null&&(v[R]=[]),v[c.nameID].push(C);this.strings=v,this.copyright=v[0],this.fontFamily=v[1],this.fontSubfamily=v[2],this.uniqueSubfamily=v[3],this.fontName=v[4],this.version=v[5];try{this.postscriptName=v[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=v[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=v[7],this.manufacturer=v[8],this.designer=v[9],this.description=v[10],this.vendorUrl=v[11],this.designerUrl=v[12],this.license=v[13],this.licenseUrl=v[14],this.preferredFamily=v[15],this.preferredSubfamily=v[17],this.compatibleFull=v[18],this.sampleText=v[19]},t}(),FKe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zg(t,Ec),t.prototype.tag="maxp",t.prototype.parse=function(i){return i.pos=this.offset,this.version=i.readInt(),this.numGlyphs=i.readUInt16(),this.maxPoints=i.readUInt16(),this.maxContours=i.readUInt16(),this.maxCompositePoints=i.readUInt16(),this.maxComponentContours=i.readUInt16(),this.maxZones=i.readUInt16(),this.maxTwilightPoints=i.readUInt16(),this.maxStorage=i.readUInt16(),this.maxFunctionDefs=i.readUInt16(),this.maxInstructionDefs=i.readUInt16(),this.maxStackElements=i.readUInt16(),this.maxSizeOfInstructions=i.readUInt16(),this.maxComponentElements=i.readUInt16(),this.maxComponentDepth=i.readUInt16()},t}(),WKe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zg(t,Ec),t.prototype.tag="hmtx",t.prototype.parse=function(i){var o,s,c,u,C,m,v;for(i.pos=this.offset,this.metrics=[],o=0,m=this.file.hhea.numberOfMetrics;0<=m?o<m:o>m;o=0<=m?++o:--o)this.metrics.push({advance:i.readUInt16(),lsb:i.readInt16()});for(c=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var x,G;for(G=[],o=x=0;0<=c?x<c:x>c;o=0<=c?++x:--x)G.push(i.readInt16());return G}(),this.widths=(function(){var x,G,B,R;for(R=[],x=0,G=(B=this.metrics).length;x<G;x++)u=B[x],R.push(u.advance);return R}).call(this),s=this.widths[this.widths.length-1],v=[],o=C=0;0<=c?C<c:C>c;o=0<=c?++C:--C)v.push(this.widths.push(s));return v},t.prototype.forGlyph=function(i){return i in this.metrics?this.metrics[i]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[i-this.metrics.length]}},t}(),wO=[].slice,HKe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zg(t,Ec),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(i){var o,s,c,u,C,m,v,x,G,B;return i in this.cache?this.cache[i]:(u=this.file.loca,o=this.file.contents,s=u.indexOf(i),(c=u.lengthOf(i))===0?this.cache[i]=null:(o.pos=this.offset+s,C=(m=new qA(o.read(c))).readShort(),x=m.readShort(),B=m.readShort(),v=m.readShort(),G=m.readShort(),this.cache[i]=C===-1?new TKe(m,x,B,v,G):new DKe(m,C,x,B,v,G),this.cache[i]))},t.prototype.encode=function(i,o,s){var c,u,C,m,v;for(C=[],u=[],m=0,v=o.length;m<v;m++)c=i[o[m]],u.push(C.length),c&&(C=C.concat(c.encode(s)));return u.push(C.length),{table:C,offsets:u}},t}(),DKe=function(){function e(t,i,o,s,c,u){this.raw=t,this.numberOfContours=i,this.xMin=o,this.yMin=s,this.xMax=c,this.yMax=u,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),TKe=function(){function e(t,i,o,s,c){var u,C;for(this.raw=t,this.xMin=i,this.yMin=o,this.xMax=s,this.yMax=c,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;C=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&C;)u.pos+=1&C?4:2,128&C?u.pos+=8:64&C?u.pos+=4:8&C&&(u.pos+=2)}return e.prototype.encode=function(){var t,i,o;for(i=new qA(wO.call(this.raw.data)),t=0,o=this.glyphIDs.length;t<o;++t)i.pos=this.glyphOffsets[t];return i.data},e}(),LKe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Zg(t,Ec),t.prototype.tag="loca",t.prototype.parse=function(i){var o,s;return i.pos=this.offset,o=this.file.head.indexToLocFormat,this.offsets=o===0?(function(){var c,u;for(u=[],s=0,c=this.length;s<c;s+=2)u.push(2*i.readUInt16());return u}).call(this):(function(){var c,u;for(u=[],s=0,c=this.length;s<c;s+=4)u.push(i.readUInt32());return u}).call(this)},t.prototype.indexOf=function(i){return this.offsets[i]},t.prototype.lengthOf=function(i){return this.offsets[i+1]-this.offsets[i]},t.prototype.encode=function(i,o){for(var s=new Uint32Array(this.offsets.length),c=0,u=0,C=0;C<s.length;++C)if(s[C]=c,u<o.length&&o[u]==C){++u,s[C]=c;var m=this.offsets[C],v=this.offsets[C+1]-m;v>0&&(c+=v)}for(var x=new Array(4*s.length),G=0;G<s.length;++G)x[4*G+3]=255&s[G],x[4*G+2]=(65280&s[G])>>8,x[4*G+1]=(16711680&s[G])>>16,x[4*G]=(4278190080&s[G])>>24;return x},t}(),XKe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,i,o,s,c;for(i in s=this.font.cmap.tables[0].codeMap,t={},c=this.subset)o=c[i],t[i]=s[o];return t},e.prototype.glyphsFor=function(t){var i,o,s,c,u,C,m;for(s={},u=0,C=t.length;u<C;u++)s[c=t[u]]=this.font.glyf.glyphFor(c);for(c in i=[],s)(o=s[c])!=null&&o.compound&&i.push.apply(i,o.glyphIDs);if(i.length>0)for(c in m=this.glyphsFor(i))o=m[c],s[c]=o;return s},e.prototype.encode=function(t,i){var o,s,c,u,C,m,v,x,G,B,R,V,H,M,L;for(s in o=vO.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(t),R={0:0},L=o.charMap)R[(m=L[s]).old]=m.new;for(V in B=o.maxGlyphID,u)V in R||(R[V]=B++);return x=function(_){var X,Q;for(X in Q={},_)Q[_[X]]=X;return Q}(R),G=Object.keys(x).sort(function(_,X){return _-X}),H=function(){var _,X,Q;for(Q=[],_=0,X=G.length;_<X;_++)C=G[_],Q.push(x[C]);return Q}(),c=this.font.glyf.encode(u,H,R),v=this.font.loca.encode(c.offsets,H),M={cmap:this.font.cmap.raw(),glyf:c.table,loca:v,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(i)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},e}();_n.API.PDFObject=function(){var e;function t(){}return e=function(i,o){return(Array(o+1).join("0")+i).slice(-o)},t.convert=function(i){var o,s,c,u;if(Array.isArray(i))return"["+function(){var C,m,v;for(v=[],C=0,m=i.length;C<m;C++)o=i[C],v.push(t.convert(o));return v}().join(" ")+"]";if(typeof i=="string")return"/"+i;if(i!=null&&i.isString)return"("+i+")";if(i instanceof Date)return"(D:"+e(i.getUTCFullYear(),4)+e(i.getUTCMonth(),2)+e(i.getUTCDate(),2)+e(i.getUTCHours(),2)+e(i.getUTCMinutes(),2)+e(i.getUTCSeconds(),2)+"Z)";if({}.toString.call(i)==="[object Object]"){for(s in c=["<<"],i)u=i[s],c.push("/"+s+" "+t.convert(u));return c.push(">>"),c.join(`
`)}return""+i},t}();const MKe=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:IKe,AcroFormAppearance:fn,AcroFormButton:Fo,AcroFormCheckBox:FI,AcroFormChoiceField:Ch,AcroFormComboBox:Ih,AcroFormEditBox:VI,AcroFormListBox:fh,AcroFormPasswordField:WI,AcroFormPushButton:EI,AcroFormRadioButton:bh,AcroFormTextField:PA,GState:Bb,ShadingPattern:yA,TilingPattern:sh,default:_n,jsPDF:_n},Symbol.toStringTag,{value:"Module"}));var YKe={exports:{}};const JKe=Zc(MKe);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.2
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(o,s){e.exports=s(function(){try{return JKe}catch{}}())})(typeof globalThis<"u"?globalThis:typeof gg<"u"?gg:typeof window<"u"?window:typeof self<"u"?self:gg,function(i){return function(){var o={172:function(C,m){var v=this&&this.__extends||function(){var B=function(R,V){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,M){H.__proto__=M}||function(H,M){for(var L in M)Object.prototype.hasOwnProperty.call(M,L)&&(H[L]=M[L])},B(R,V)};return function(R,V){if(typeof V!="function"&&V!==null)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");B(R,V);function H(){this.constructor=R}R.prototype=V===null?Object.create(V):(H.prototype=V.prototype,new H)}}();Object.defineProperty(m,"__esModule",{value:!0}),m.CellHookData=m.HookData=void 0;var x=function(){function B(R,V,H){this.table=V,this.pageNumber=V.pageNumber,this.pageCount=this.pageNumber,this.settings=V.settings,this.cursor=H,this.doc=R.getDocument()}return B}();m.HookData=x;var G=function(B){v(R,B);function R(V,H,M,L,_,X){var Q=B.call(this,V,H,X)||this;return Q.cell=M,Q.row=L,Q.column=_,Q.section=L.section,Q}return R}(x);m.CellHookData=G},340:function(C,m,v){Object.defineProperty(m,"__esModule",{value:!0});var x=v(4),G=v(136),B=v(744),R=v(776),V=v(664),H=v(972);function M(L){L.API.autoTable=function(){for(var _=[],X=0;X<arguments.length;X++)_[X]=arguments[X];var Q;_.length===1?Q=_[0]:(console.error("Use of deprecated autoTable initiation"),Q=_[2]||{},Q.columns=_[0],Q.body=_[1]);var j=(0,R.parseInput)(this,Q),re=(0,H.createTable)(this,j);return(0,V.drawTable)(this,re),this},L.API.lastAutoTable=!1,L.API.previousAutoTable=!1,L.API.autoTable.previous=!1,L.API.autoTableText=function(_,X,Q,j){(0,G.default)(_,X,Q,j,this)},L.API.autoTableSetDefaults=function(_){return B.DocHandler.setDefaults(_,this),this},L.autoTableSetDefaults=function(_,X){B.DocHandler.setDefaults(_,X)},L.API.autoTableHtmlToJson=function(_,X){var Q;if(X===void 0&&(X=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var j=new B.DocHandler(this),re=(0,x.parseHtml)(j,_,window,X,!1),P=re.head,O=re.body,de=((Q=P[0])===null||Q===void 0?void 0:Q.map(function(ce){return ce.content}))||[];return{columns:de,rows:O,data:O}},L.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var _=this.lastAutoTable;return _&&_.finalY?_.finalY:0},L.API.autoTableAddPageContent=function(_){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),L.API.autoTable.globalDefaults||(L.API.autoTable.globalDefaults={}),L.API.autoTable.globalDefaults.addPageContent=_,this},L.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}m.default=M},136:function(C,m){Object.defineProperty(m,"__esModule",{value:!0});function v(x,G,B,R,V){R=R||{};var H=1.15,M=V.internal.scaleFactor,L=V.internal.getFontSize()/M,_=V.getLineHeightFactor?V.getLineHeightFactor():H,X=L*_,Q=/\r\n|\r|\n/g,j="",re=1;if((R.valign==="middle"||R.valign==="bottom"||R.halign==="center"||R.halign==="right")&&(j=typeof x=="string"?x.split(Q):x,re=j.length||1),B+=L*(2-H),R.valign==="middle"?B-=re/2*X:R.valign==="bottom"&&(B-=re*X),R.halign==="center"||R.halign==="right"){var P=L;if(R.halign==="center"&&(P*=.5),j&&re>=1){for(var O=0;O<j.length;O++)V.text(j[O],G-V.getStringUnitWidth(j[O])*P,B),B+=X;return V}G-=V.getStringUnitWidth(x)*P}return R.halign==="justify"?V.text(x,G,B,{maxWidth:R.maxWidth||100,align:"justify"}):V.text(x,G,B),V}m.default=v},420:function(C,m){Object.defineProperty(m,"__esModule",{value:!0}),m.getPageAvailableWidth=m.parseSpacing=m.getFillStyle=m.addTableBorder=m.getStringWidth=void 0;function v(V,H,M){M.applyStyles(H,!0);var L=Array.isArray(V)?V:[V],_=L.map(function(X){return M.getTextWidth(X)}).reduce(function(X,Q){return Math.max(X,Q)},0);return _}m.getStringWidth=v;function x(V,H,M,L){var _=H.settings.tableLineWidth,X=H.settings.tableLineColor;V.applyStyles({lineWidth:_,lineColor:X});var Q=G(_,!1);Q&&V.rect(M.x,M.y,H.getWidth(V.pageSize().width),L.y-M.y,Q)}m.addTableBorder=x;function G(V,H){var M=V>0,L=H||H===0;return M&&L?"DF":M?"S":L?"F":null}m.getFillStyle=G;function B(V,H){var M,L,_,X;if(V=V||H,Array.isArray(V)){if(V.length>=4)return{top:V[0],right:V[1],bottom:V[2],left:V[3]};if(V.length===3)return{top:V[0],right:V[1],bottom:V[2],left:V[1]};if(V.length===2)return{top:V[0],right:V[1],bottom:V[0],left:V[1]};V.length===1?V=V[0]:V=H}return typeof V=="object"?(typeof V.vertical=="number"&&(V.top=V.vertical,V.bottom=V.vertical),typeof V.horizontal=="number"&&(V.right=V.horizontal,V.left=V.horizontal),{left:(M=V.left)!==null&&M!==void 0?M:H,top:(L=V.top)!==null&&L!==void 0?L:H,right:(_=V.right)!==null&&_!==void 0?_:H,bottom:(X=V.bottom)!==null&&X!==void 0?X:H}):(typeof V!="number"&&(V=H),{top:V,right:V,bottom:V,left:V})}m.parseSpacing=B;function R(V,H){var M=B(H.settings.margin,0);return V.pageSize().width-(M.left+M.right)}m.getPageAvailableWidth=R},796:function(C,m){var v=this&&this.__extends||function(){var R=function(V,H){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,L){M.__proto__=L}||function(M,L){for(var _ in L)Object.prototype.hasOwnProperty.call(L,_)&&(M[_]=L[_])},R(V,H)};return function(V,H){if(typeof H!="function"&&H!==null)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");R(V,H);function M(){this.constructor=V}V.prototype=H===null?Object.create(H):(M.prototype=H.prototype,new M)}}();Object.defineProperty(m,"__esModule",{value:!0}),m.getTheme=m.defaultStyles=m.HtmlRowInput=void 0;var x=function(R){v(V,R);function V(H){var M=R.call(this)||this;return M._element=H,M}return V}(Array);m.HtmlRowInput=x;function G(R){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/R,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}m.defaultStyles=G;function B(R){var V={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return V[R]}m.getTheme=B},903:function(C,m,v){Object.defineProperty(m,"__esModule",{value:!0}),m.parseCss=void 0;var x=v(420);function G(M,L,_,X,Q){var j={},re=1.3333333333333333,P=R(L,function(Ge){return Q.getComputedStyle(Ge).backgroundColor});P!=null&&(j.fillColor=P);var O=R(L,function(Ge){return Q.getComputedStyle(Ge).color});O!=null&&(j.textColor=O);var de=H(X,_);de&&(j.cellPadding=de);var ce="borderTopColor",ne=re*_,oe=X.borderTopWidth;if(X.borderBottomWidth===oe&&X.borderRightWidth===oe&&X.borderLeftWidth===oe){var be=(parseFloat(oe)||0)/ne;be&&(j.lineWidth=be)}else j.lineWidth={top:(parseFloat(X.borderTopWidth)||0)/ne,right:(parseFloat(X.borderRightWidth)||0)/ne,bottom:(parseFloat(X.borderBottomWidth)||0)/ne,left:(parseFloat(X.borderLeftWidth)||0)/ne},j.lineWidth.top||(j.lineWidth.right?ce="borderRightColor":j.lineWidth.bottom?ce="borderBottomColor":j.lineWidth.left&&(ce="borderLeftColor"));console.log(j.lineWidth);var Ie=R(L,function(Ge){return Q.getComputedStyle(Ge)[ce]});Ie!=null&&(j.lineColor=Ie);var Re=["left","right","center","justify"];Re.indexOf(X.textAlign)!==-1&&(j.halign=X.textAlign),Re=["middle","bottom","top"],Re.indexOf(X.verticalAlign)!==-1&&(j.valign=X.verticalAlign);var ye=parseInt(X.fontSize||"");isNaN(ye)||(j.fontSize=ye/re);var ve=B(X);ve&&(j.fontStyle=ve);var fe=(X.fontFamily||"").toLowerCase();return M.indexOf(fe)!==-1&&(j.font=fe),j}m.parseCss=G;function B(M){var L="";return(M.fontWeight==="bold"||M.fontWeight==="bolder"||parseInt(M.fontWeight)>=700)&&(L="bold"),(M.fontStyle==="italic"||M.fontStyle==="oblique")&&(L+="italic"),L}function R(M,L){var _=V(M,L);if(!_)return null;var X=_.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!X||!Array.isArray(X))return null;var Q=[parseInt(X[1]),parseInt(X[2]),parseInt(X[3])],j=parseInt(X[4]);return j===0||isNaN(Q[0])||isNaN(Q[1])||isNaN(Q[2])?null:Q}function V(M,L){var _=L(M);return _==="rgba(0, 0, 0, 0)"||_==="transparent"||_==="initial"||_==="inherit"?M.parentElement==null?null:V(M.parentElement,L):_}function H(M,L){var _=[M.paddingTop,M.paddingRight,M.paddingBottom,M.paddingLeft],X=96/(72/L),Q=(parseInt(M.lineHeight)-parseInt(M.fontSize))/L/2,j=_.map(function(P){return parseInt(P||"0")/X}),re=(0,x.parseSpacing)(j,0);return Q>re.top&&(re.top=Q),Q>re.bottom&&(re.bottom=Q),re}},744:function(C,m){Object.defineProperty(m,"__esModule",{value:!0}),m.DocHandler=void 0;var v={},x=function(){function G(B){this.jsPDFDocument=B,this.userStyles={textColor:B.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:B.internal.getFontSize(),fontStyle:B.internal.getFont().fontStyle,font:B.internal.getFont().fontName,lineWidth:B.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:B.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return G.setDefaults=function(B,R){R===void 0&&(R=null),R?R.__autoTableDocumentDefaults=B:v=B},G.unifyColor=function(B){return Array.isArray(B)?B:typeof B=="number"?[B,B,B]:typeof B=="string"?[B]:null},G.prototype.applyStyles=function(B,R){var V,H,M;R===void 0&&(R=!1),B.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(B.fontStyle);var L=this.jsPDFDocument.internal.getFont(),_=L.fontStyle,X=L.fontName;if(B.font&&(X=B.font),B.fontStyle){_=B.fontStyle;var Q=this.getFontList()[X];Q&&Q.indexOf(_)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(Q[0]),_=Q[0])}if(this.jsPDFDocument.setFont(X,_),B.fontSize&&this.jsPDFDocument.setFontSize(B.fontSize),!R){var j=G.unifyColor(B.fillColor);j&&(V=this.jsPDFDocument).setFillColor.apply(V,j),j=G.unifyColor(B.textColor),j&&(H=this.jsPDFDocument).setTextColor.apply(H,j),j=G.unifyColor(B.lineColor),j&&(M=this.jsPDFDocument).setDrawColor.apply(M,j),typeof B.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(B.lineWidth)}},G.prototype.splitTextToSize=function(B,R,V){return this.jsPDFDocument.splitTextToSize(B,R,V)},G.prototype.rect=function(B,R,V,H,M){return this.jsPDFDocument.rect(B,R,V,H,M)},G.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},G.prototype.getTextWidth=function(B){return this.jsPDFDocument.getTextWidth(B)},G.prototype.getDocument=function(){return this.jsPDFDocument},G.prototype.setPage=function(B){this.jsPDFDocument.setPage(B)},G.prototype.addPage=function(){return this.jsPDFDocument.addPage()},G.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},G.prototype.getGlobalOptions=function(){return v||{}},G.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},G.prototype.pageSize=function(){var B=this.jsPDFDocument.internal.pageSize;return B.width==null&&(B={width:B.getWidth(),height:B.getHeight()}),B},G.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},G.prototype.getLineHeightFactor=function(){var B=this.jsPDFDocument;return B.getLineHeightFactor?B.getLineHeightFactor():1.15},G.prototype.getLineHeight=function(B){return B/this.scaleFactor()*this.getLineHeightFactor()},G.prototype.pageNumber=function(){var B=this.jsPDFDocument.internal.getCurrentPageInfo();return B?B.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},G}();m.DocHandler=x},4:function(C,m,v){Object.defineProperty(m,"__esModule",{value:!0}),m.parseHtml=void 0;var x=v(903),G=v(796);function B(H,M,L,_,X){var Q,j;_===void 0&&(_=!1),X===void 0&&(X=!1);var re;typeof M=="string"?re=L.document.querySelector(M):re=M;var P=Object.keys(H.getFontList()),O=H.scaleFactor(),de=[],ce=[],ne=[];if(!re)return console.error("Html table could not be found with input: ",M),{head:de,body:ce,foot:ne};for(var oe=0;oe<re.rows.length;oe++){var be=re.rows[oe],Ie=(j=(Q=be==null?void 0:be.parentElement)===null||Q===void 0?void 0:Q.tagName)===null||j===void 0?void 0:j.toLowerCase(),Re=R(P,O,L,be,_,X);Re&&(Ie==="thead"?de.push(Re):Ie==="tfoot"?ne.push(Re):ce.push(Re))}return{head:de,body:ce,foot:ne}}m.parseHtml=B;function R(H,M,L,_,X,Q){for(var j=new G.HtmlRowInput(_),re=0;re<_.cells.length;re++){var P=_.cells[re],O=L.getComputedStyle(P);if(X||O.display!=="none"){var de=void 0;Q&&(de=(0,x.parseCss)(H,P,M,O,L)),j.push({rowSpan:P.rowSpan,colSpan:P.colSpan,styles:de,_element:P,content:V(P)})}}var ce=L.getComputedStyle(_);if(j.length>0&&(X||ce.display!=="none"))return j}function V(H){var M=H.cloneNode(!0);return M.innerHTML=M.innerHTML.replace(/\n/g,"").replace(/ +/g," "),M.innerHTML=M.innerHTML.split(/<br.*?>/).map(function(L){return L.trim()}).join(`
`),M.innerText||M.textContent||""}},776:function(C,m,v){Object.defineProperty(m,"__esModule",{value:!0}),m.parseInput=void 0;var x=v(4),G=v(356),B=v(420),R=v(744),V=v(792);function H(re,P){var O=new R.DocHandler(re),de=O.getDocumentOptions(),ce=O.getGlobalOptions();(0,V.default)(O,ce,de,P);var ne=(0,G.assign)({},ce,de,P),oe;typeof window<"u"&&(oe=window);var be=M(ce,de,P),Ie=L(ce,de,P),Re=_(O,ne),ye=Q(O,ne,oe);return{id:P.tableId,content:ye,hooks:Ie,styles:be,settings:Re}}m.parseInput=H;function M(re,P,O){for(var de={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},ce=function(Ie){if(Ie==="columnStyles"){var Re=re[Ie],ye=P[Ie],ve=O[Ie];de.columnStyles=(0,G.assign)({},Re,ye,ve)}else{var fe=[re,P,O],Ge=fe.map(function(De){return De[Ie]||{}});de[Ie]=(0,G.assign)({},Ge[0],Ge[1],Ge[2])}},ne=0,oe=Object.keys(de);ne<oe.length;ne++){var be=oe[ne];ce(be)}return de}function L(re,P,O){for(var de=[re,P,O],ce={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},ne=0,oe=de;ne<oe.length;ne++){var be=oe[ne];be.didParseCell&&ce.didParseCell.push(be.didParseCell),be.willDrawCell&&ce.willDrawCell.push(be.willDrawCell),be.didDrawCell&&ce.didDrawCell.push(be.didDrawCell),be.willDrawPage&&ce.willDrawPage.push(be.willDrawPage),be.didDrawPage&&ce.didDrawPage.push(be.didDrawPage)}return ce}function _(re,P){var O,de,ce,ne,oe,be,Ie,Re,ye,ve,fe,Ge,De=(0,B.parseSpacing)(P.margin,40/re.scaleFactor()),Pe=(O=X(re,P.startY))!==null&&O!==void 0?O:De.top,me;P.showFoot===!0?me="everyPage":P.showFoot===!1?me="never":me=(de=P.showFoot)!==null&&de!==void 0?de:"everyPage";var _e;P.showHead===!0?_e="everyPage":P.showHead===!1?_e="never":_e=(ce=P.showHead)!==null&&ce!==void 0?ce:"everyPage";var pe=(ne=P.useCss)!==null&&ne!==void 0?ne:!1,Ee=P.theme||(pe?"plain":"striped"),We=!!P.horizontalPageBreak,Ue=(oe=P.horizontalPageBreakRepeat)!==null&&oe!==void 0?oe:null;return{includeHiddenHtml:(be=P.includeHiddenHtml)!==null&&be!==void 0?be:!1,useCss:pe,theme:Ee,startY:Pe,margin:De,pageBreak:(Ie=P.pageBreak)!==null&&Ie!==void 0?Ie:"auto",rowPageBreak:(Re=P.rowPageBreak)!==null&&Re!==void 0?Re:"auto",tableWidth:(ye=P.tableWidth)!==null&&ye!==void 0?ye:"auto",showHead:_e,showFoot:me,tableLineWidth:(ve=P.tableLineWidth)!==null&&ve!==void 0?ve:0,tableLineColor:(fe=P.tableLineColor)!==null&&fe!==void 0?fe:200,horizontalPageBreak:We,horizontalPageBreakRepeat:Ue,horizontalPageBreakBehaviour:(Ge=P.horizontalPageBreakBehaviour)!==null&&Ge!==void 0?Ge:"afterAllRows"}}function X(re,P){var O=re.getLastAutoTable(),de=re.scaleFactor(),ce=re.pageNumber(),ne=!1;if(O&&O.startPageNumber){var oe=O.startPageNumber+O.pageNumber-1;ne=oe===ce}return typeof P=="number"?P:(P==null||P===!1)&&ne&&(O==null?void 0:O.finalY)!=null?O.finalY+20/de:null}function Q(re,P,O){var de=P.head||[],ce=P.body||[],ne=P.foot||[];if(P.html){var oe=P.includeHiddenHtml;if(O){var be=(0,x.parseHtml)(re,P.html,O,oe,P.useCss)||{};de=be.head||de,ce=be.body||de,ne=be.foot||de}else console.error("Cannot parse html in non browser environment")}var Ie=P.columns||j(de,ce,ne);return{columns:Ie,head:de,body:ce,foot:ne}}function j(re,P,O){var de=re[0]||P[0]||O[0]||[],ce=[];return Object.keys(de).filter(function(ne){return ne!=="_element"}).forEach(function(ne){var oe=1,be;Array.isArray(de)?be=de[parseInt(ne)]:be=de[ne],typeof be=="object"&&!Array.isArray(be)&&(oe=(be==null?void 0:be.colSpan)||1);for(var Ie=0;Ie<oe;Ie++){var Re=void 0;Array.isArray(de)?Re=ce.length:Re=ne+(Ie>0?"_".concat(Ie):"");var ye={dataKey:Re};ce.push(ye)}}),ce}},792:function(C,m){Object.defineProperty(m,"__esModule",{value:!0});function v(G,B,R,V){for(var H=function(X){X&&typeof X!="object"&&console.error("The options parameter should be of type object, is: "+typeof X),typeof X.extendWidth<"u"&&(X.tableWidth=X.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof X.margins<"u"&&(typeof X.margin>"u"&&(X.margin=X.margins),console.error("Use of deprecated option: margins, use margin instead.")),X.startY&&typeof X.startY!="number"&&(console.error("Invalid value for startY option",X.startY),delete X.startY),!X.didDrawPage&&(X.afterPageContent||X.beforePageContent||X.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),X.didDrawPage=function(ne){G.applyStyles(G.userStyles),X.beforePageContent&&X.beforePageContent(ne),G.applyStyles(G.userStyles),X.afterPageContent&&X.afterPageContent(ne),G.applyStyles(G.userStyles),X.afterPageAdd&&ne.pageNumber>1&&ne.afterPageAdd(ne),G.applyStyles(G.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(ne){X[ne]&&console.error('The "'.concat(ne,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(ne){var oe=ne[0],be=ne[1];X[be]&&(console.error("Use of deprecated option ".concat(be,". Use ").concat(oe," instead")),X[oe]=X[be])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(ne){var oe=typeof ne=="string"?ne:ne[0],be=typeof ne=="string"?ne:ne[1];typeof X[oe]<"u"&&(typeof X.styles[be]>"u"&&(X.styles[be]=X[oe]),console.error("Use of deprecated option: "+oe+", use the style "+be+" instead."))});for(var Q=0,j=["styles","bodyStyles","headStyles","footStyles"];Q<j.length;Q++){var re=j[Q];x(X[re]||{})}for(var P=X.columnStyles||{},O=0,de=Object.keys(P);O<de.length;O++){var ce=de[O];x(P[ce]||{})}},M=0,L=[B,R,V];M<L.length;M++){var _=L[M];H(_)}}m.default=v;function x(G){G.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),G.minCellHeight||(G.minCellHeight=G.rowHeight)):G.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),G.cellWidth||(G.cellWidth=G.columnWidth))}},260:function(C,m,v){Object.defineProperty(m,"__esModule",{value:!0}),m.Column=m.Cell=m.Row=m.Table=void 0;var x=v(796),G=v(172),B=v(420),R=function(){function L(_,X){this.pageNumber=1,this.pageCount=1,this.id=_.id,this.settings=_.settings,this.styles=_.styles,this.hooks=_.hooks,this.columns=X.columns,this.head=X.head,this.body=X.body,this.foot=X.foot}return L.prototype.getHeadHeight=function(_){return this.head.reduce(function(X,Q){return X+Q.getMaxCellHeight(_)},0)},L.prototype.getFootHeight=function(_){return this.foot.reduce(function(X,Q){return X+Q.getMaxCellHeight(_)},0)},L.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},L.prototype.callCellHooks=function(_,X,Q,j,re,P){for(var O=0,de=X;O<de.length;O++){var ce=de[O],ne=new G.CellHookData(_,this,Q,j,re,P),oe=ce(ne)===!1;if(Q.text=Array.isArray(Q.text)?Q.text:[Q.text],oe)return!1}return!0},L.prototype.callEndPageHooks=function(_,X){_.applyStyles(_.userStyles);for(var Q=0,j=this.hooks.didDrawPage;Q<j.length;Q++){var re=j[Q];re(new G.HookData(_,this,X))}},L.prototype.callWillDrawPageHooks=function(_,X){for(var Q=0,j=this.hooks.willDrawPage;Q<j.length;Q++){var re=j[Q];re(new G.HookData(_,this,X))}},L.prototype.getWidth=function(_){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var X=this.columns.reduce(function(j,re){return j+re.wrappedWidth},0);return X}else{var Q=this.settings.margin;return _-Q.left-Q.right}},L}();m.Table=R;var V=function(){function L(_,X,Q,j,re){re===void 0&&(re=!1),this.height=0,this.raw=_,_ instanceof x.HtmlRowInput&&(this.raw=_._element,this.element=_._element),this.index=X,this.section=Q,this.cells=j,this.spansMultiplePages=re}return L.prototype.getMaxCellHeight=function(_){var X=this;return _.reduce(function(Q,j){var re;return Math.max(Q,((re=X.cells[j.index])===null||re===void 0?void 0:re.height)||0)},0)},L.prototype.hasRowSpan=function(_){var X=this;return _.filter(function(Q){var j=X.cells[Q.index];return j?j.rowSpan>1:!1}).length>0},L.prototype.canEntireRowFit=function(_,X){return this.getMaxCellHeight(X)<=_},L.prototype.getMinimumRowHeight=function(_,X){var Q=this;return _.reduce(function(j,re){var P=Q.cells[re.index];if(!P)return 0;var O=X.getLineHeight(P.styles.fontSize),de=P.padding("vertical"),ce=de+O;return ce>j?ce:j},0)},L}();m.Row=V;var H=function(){function L(_,X,Q){var j,re;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=X,this.section=Q,this.raw=_;var P=_;_!=null&&typeof _=="object"&&!Array.isArray(_)?(this.rowSpan=_.rowSpan||1,this.colSpan=_.colSpan||1,P=(re=(j=_.content)!==null&&j!==void 0?j:_.title)!==null&&re!==void 0?re:_,_._element&&(this.raw=_._element)):(this.rowSpan=1,this.colSpan=1);var O=P!=null?""+P:"",de=/\r\n|\r|\n/g;this.text=O.split(de)}return L.prototype.getTextPos=function(){var _;if(this.styles.valign==="top")_=this.y+this.padding("top");else if(this.styles.valign==="bottom")_=this.y+this.height-this.padding("bottom");else{var X=this.height-this.padding("vertical");_=this.y+X/2+this.padding("top")}var Q;if(this.styles.halign==="right")Q=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var j=this.width-this.padding("horizontal");Q=this.x+j/2+this.padding("left")}else Q=this.x+this.padding("left");return{x:Q,y:_}},L.prototype.getContentHeight=function(_,X){X===void 0&&(X=1.15);var Q=Array.isArray(this.text)?this.text.length:1,j=this.styles.fontSize/_*X,re=Q*j+this.padding("vertical");return Math.max(re,this.styles.minCellHeight)},L.prototype.padding=function(_){var X=(0,B.parseSpacing)(this.styles.cellPadding,0);return _==="vertical"?X.top+X.bottom:_==="horizontal"?X.left+X.right:X[_]},L}();m.Cell=H;var M=function(){function L(_,X,Q){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=_,this.raw=X,this.index=Q}return L.prototype.getMaxCustomCellWidth=function(_){for(var X=0,Q=0,j=_.allRows();Q<j.length;Q++){var re=j[Q],P=re.cells[this.index];P&&typeof P.styles.cellWidth=="number"&&(X=Math.max(X,P.styles.cellWidth))}return X},L}();m.Column=M},356:function(C,m){Object.defineProperty(m,"__esModule",{value:!0}),m.assign=void 0;function v(x,G,B,R,V){if(x==null)throw new TypeError("Cannot convert undefined or null to object");for(var H=Object(x),M=1;M<arguments.length;M++){var L=arguments[M];if(L!=null)for(var _ in L)Object.prototype.hasOwnProperty.call(L,_)&&(H[_]=L[_])}return H}m.assign=v},972:function(C,m,v){Object.defineProperty(m,"__esModule",{value:!0}),m.createTable=void 0;var x=v(744),G=v(260),B=v(324),R=v(796),V=v(356);function H(re,P){var O=new x.DocHandler(re),de=M(P,O.scaleFactor()),ce=new G.Table(P,de);return(0,B.calculateWidths)(O,ce),O.applyStyles(O.userStyles),ce}m.createTable=H;function M(re,P){var O=re.content,de=Q(O.columns);if(O.head.length===0){var ce=_(de,"head");ce&&O.head.push(ce)}if(O.foot.length===0){var ce=_(de,"foot");ce&&O.foot.push(ce)}var ne=re.settings.theme,oe=re.styles;return{columns:de,head:L("head",O.head,de,oe,ne,P),body:L("body",O.body,de,oe,ne,P),foot:L("foot",O.foot,de,oe,ne,P)}}function L(re,P,O,de,ce,ne){var oe={},be=P.map(function(Ie,Re){for(var ye=0,ve={},fe=0,Ge=0,De=0,Pe=O;De<Pe.length;De++){var me=Pe[De];if(oe[me.index]==null||oe[me.index].left===0)if(Ge===0){var _e=void 0;Array.isArray(Ie)?_e=Ie[me.index-fe-ye]:_e=Ie[me.dataKey];var pe={};typeof _e=="object"&&!Array.isArray(_e)&&(pe=(_e==null?void 0:_e.styles)||{});var Ee=j(re,me,Re,ce,de,ne,pe),We=new G.Cell(_e,Ee,re);ve[me.dataKey]=We,ve[me.index]=We,Ge=We.colSpan-1,oe[me.index]={left:We.rowSpan-1,times:Ge}}else Ge--,fe++;else oe[me.index].left--,Ge=oe[me.index].times,ye++}return new G.Row(Ie,Re,re,ve)});return be}function _(re,P){var O={};return re.forEach(function(de){if(de.raw!=null){var ce=X(P,de.raw);ce!=null&&(O[de.dataKey]=ce)}}),Object.keys(O).length>0?O:null}function X(re,P){if(re==="head"){if(typeof P=="object")return P.header||P.title||null;if(typeof P=="string"||typeof P=="number")return P}else if(re==="foot"&&typeof P=="object")return P.footer;return null}function Q(re){return re.map(function(P,O){var de,ce,ne;return typeof P=="object"?ne=(ce=(de=P.dataKey)!==null&&de!==void 0?de:P.key)!==null&&ce!==void 0?ce:O:ne=O,new G.Column(ne,P,O)})}function j(re,P,O,de,ce,ne,oe){var be=(0,R.getTheme)(de),Ie;re==="head"?Ie=ce.headStyles:re==="body"?Ie=ce.bodyStyles:re==="foot"&&(Ie=ce.footStyles);var Re=(0,V.assign)({},be.table,be[re],ce.styles,Ie),ye=ce.columnStyles[P.dataKey]||ce.columnStyles[P.index]||{},ve=re==="body"?ye:{},fe=re==="body"&&O%2===0?(0,V.assign)({},be.alternateRow,ce.alternateRowStyles):{},Ge=(0,R.defaultStyles)(ne),De=(0,V.assign)({},Ge,Re,fe,ve);return(0,V.assign)(De,oe)}},664:function(C,m,v){Object.defineProperty(m,"__esModule",{value:!0}),m.addPage=m.drawTable=void 0;var x=v(420),G=v(260),B=v(744),R=v(356),V=v(136),H=v(224);function M(ye,ve){var fe=ve.settings,Ge=fe.startY,De=fe.margin,Pe={x:De.left,y:Ge},me=ve.getHeadHeight(ve.columns)+ve.getFootHeight(ve.columns),_e=Ge+De.bottom+me;if(fe.pageBreak==="avoid"){var pe=ve.body,Ee=pe.reduce(function(je,qe){return je+qe.height},0);_e+=Ee}var We=new B.DocHandler(ye);(fe.pageBreak==="always"||fe.startY!=null&&_e>We.pageSize().height)&&(Re(We),Pe.y=De.top),ve.callWillDrawPageHooks(We,Pe);var Ue=(0,R.assign)({},Pe);ve.startPageNumber=We.pageNumber(),fe.horizontalPageBreak?L(We,ve,Ue,Pe):(We.applyStyles(We.userStyles),(fe.showHead==="firstPage"||fe.showHead==="everyPage")&&ve.head.forEach(function(je){return ce(We,ve,je,Pe,ve.columns)}),We.applyStyles(We.userStyles),ve.body.forEach(function(je,qe){var At=qe===ve.body.length-1;de(We,ve,je,At,Ue,Pe,ve.columns)}),We.applyStyles(We.userStyles),(fe.showFoot==="lastPage"||fe.showFoot==="everyPage")&&ve.foot.forEach(function(je){return ce(We,ve,je,Pe,ve.columns)})),(0,x.addTableBorder)(We,ve,Ue,Pe),ve.callEndPageHooks(We,Pe),ve.finalY=Pe.y,ye.lastAutoTable=ve,ye.previousAutoTable=ve,ye.autoTable&&(ye.autoTable.previous=ve),We.applyStyles(We.userStyles)}m.drawTable=M;function L(ye,ve,fe,Ge){var De=(0,H.calculateAllColumnsCanFitInPage)(ye,ve),Pe=ve.settings;if(Pe.horizontalPageBreakBehaviour==="afterAllRows")De.forEach(function(Ee,We){ye.applyStyles(ye.userStyles),We>0?Ie(ye,ve,fe,Ge,Ee.columns,!0):_(ye,ve,Ge,Ee.columns),X(ye,ve,fe,Ge,Ee.columns),j(ye,ve,Ge,Ee.columns)});else for(var me=-1,_e=De[0],pe=function(){var Ee=me;if(_e){ye.applyStyles(ye.userStyles);var We=_e.columns;me>=0?Ie(ye,ve,fe,Ge,We,!0):_(ye,ve,Ge,We),Ee=Q(ye,ve,me+1,Ge,We),j(ye,ve,Ge,We)}var Ue=Ee-me;De.slice(1).forEach(function(je){ye.applyStyles(ye.userStyles),Ie(ye,ve,fe,Ge,je.columns,!0),Q(ye,ve,me+1,Ge,je.columns,Ue),j(ye,ve,Ge,je.columns)}),me=Ee};me<ve.body.length-1;)pe()}function _(ye,ve,fe,Ge){var De=ve.settings;ye.applyStyles(ye.userStyles),(De.showHead==="firstPage"||De.showHead==="everyPage")&&ve.head.forEach(function(Pe){return ce(ye,ve,Pe,fe,Ge)})}function X(ye,ve,fe,Ge,De){ye.applyStyles(ye.userStyles),ve.body.forEach(function(Pe,me){var _e=me===ve.body.length-1;de(ye,ve,Pe,_e,fe,Ge,De)})}function Q(ye,ve,fe,Ge,De,Pe){ye.applyStyles(ye.userStyles),Pe=Pe??ve.body.length;var me=Math.min(fe+Pe,ve.body.length),_e=-1;return ve.body.slice(fe,me).forEach(function(pe,Ee){var We=fe+Ee===ve.body.length-1,Ue=be(ye,ve,We,Ge);pe.canEntireRowFit(Ue,De)&&(ce(ye,ve,pe,Ge,De),_e=fe+Ee)}),_e}function j(ye,ve,fe,Ge){var De=ve.settings;ye.applyStyles(ye.userStyles),(De.showFoot==="lastPage"||De.showFoot==="everyPage")&&ve.foot.forEach(function(Pe){return ce(ye,ve,Pe,fe,Ge)})}function re(ye,ve,fe){var Ge=fe.getLineHeight(ye.styles.fontSize),De=ye.padding("vertical"),Pe=Math.floor((ve-De)/Ge);return Math.max(0,Pe)}function P(ye,ve,fe,Ge){var De={};ye.spansMultiplePages=!0,ye.height=0;for(var Pe=0,me=0,_e=fe.columns;me<_e.length;me++){var pe=_e[me],Ee=ye.cells[pe.index];if(Ee){Array.isArray(Ee.text)||(Ee.text=[Ee.text]);var We=new G.Cell(Ee.raw,Ee.styles,Ee.section);We=(0,R.assign)(We,Ee),We.text=[];var Ue=re(Ee,ve,Ge);Ee.text.length>Ue&&(We.text=Ee.text.splice(Ue,Ee.text.length));var je=Ge.scaleFactor(),qe=Ge.getLineHeightFactor();Ee.contentHeight=Ee.getContentHeight(je,qe),Ee.contentHeight>=ve&&(Ee.contentHeight=ve,We.styles.minCellHeight-=ve),Ee.contentHeight>ye.height&&(ye.height=Ee.contentHeight),We.contentHeight=We.getContentHeight(je,qe),We.contentHeight>Pe&&(Pe=We.contentHeight),De[pe.index]=We}}var At=new G.Row(ye.raw,-1,ye.section,De,!0);At.height=Pe;for(var ct=0,lt=fe.columns;ct<lt.length;ct++){var pe=lt[ct],We=At.cells[pe.index];We&&(We.height=At.height);var Ee=ye.cells[pe.index];Ee&&(Ee.height=ye.height)}return At}function O(ye,ve,fe,Ge){var De=ye.pageSize().height,Pe=Ge.settings.margin,me=Pe.top+Pe.bottom,_e=De-me;ve.section==="body"&&(_e-=Ge.getHeadHeight(Ge.columns)+Ge.getFootHeight(Ge.columns));var pe=ve.getMinimumRowHeight(Ge.columns,ye),Ee=pe<fe;if(pe>_e)return console.error("Will not be able to print row ".concat(ve.index," correctly since it's minimum height is larger than page height")),!0;if(!Ee)return!1;var We=ve.hasRowSpan(Ge.columns),Ue=ve.getMaxCellHeight(Ge.columns)>_e;return Ue?(We&&console.error("The content of row ".concat(ve.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(We||Ge.settings.rowPageBreak==="avoid")}function de(ye,ve,fe,Ge,De,Pe,me){var _e=be(ye,ve,Ge,Pe);if(fe.canEntireRowFit(_e,me))ce(ye,ve,fe,Pe,me);else if(O(ye,fe,_e,ve)){var pe=P(fe,_e,ve,ye);ce(ye,ve,fe,Pe,me),Ie(ye,ve,De,Pe,me),de(ye,ve,pe,Ge,De,Pe,me)}else Ie(ye,ve,De,Pe,me),de(ye,ve,fe,Ge,De,Pe,me)}function ce(ye,ve,fe,Ge,De){Ge.x=ve.settings.margin.left;for(var Pe=0,me=De;Pe<me.length;Pe++){var _e=me[Pe],pe=fe.cells[_e.index];if(!pe){Ge.x+=_e.width;continue}ye.applyStyles(pe.styles),pe.x=Ge.x,pe.y=Ge.y;var Ee=ve.callCellHooks(ye,ve.hooks.willDrawCell,pe,fe,_e,Ge);if(Ee===!1){Ge.x+=_e.width;continue}ne(ye,pe,Ge);var We=pe.getTextPos();(0,V.default)(pe.text,We.x,We.y,{halign:pe.styles.halign,valign:pe.styles.valign,maxWidth:Math.ceil(pe.width-pe.padding("left")-pe.padding("right"))},ye.getDocument()),ve.callCellHooks(ye,ve.hooks.didDrawCell,pe,fe,_e,Ge),Ge.x+=_e.width}Ge.y+=fe.height}function ne(ye,ve,fe){var Ge=ve.styles;if(ye.getDocument().setFillColor(ye.getDocument().getFillColor()),typeof Ge.lineWidth=="number"){var De=(0,x.getFillStyle)(Ge.lineWidth,Ge.fillColor);De&&ye.rect(ve.x,fe.y,ve.width,ve.height,De)}else typeof Ge.lineWidth=="object"&&(Ge.fillColor&&ye.rect(ve.x,fe.y,ve.width,ve.height,"F"),oe(ye,ve,fe,Ge.lineWidth))}function oe(ye,ve,fe,Ge){var De,Pe,me,_e;Ge.top&&(De=fe.x,Pe=fe.y,me=fe.x+ve.width,_e=fe.y,Ge.right&&(me+=.5*Ge.right),Ge.left&&(De-=.5*Ge.left),pe(Ge.top,De,Pe,me,_e)),Ge.bottom&&(De=fe.x,Pe=fe.y+ve.height,me=fe.x+ve.width,_e=fe.y+ve.height,Ge.right&&(me+=.5*Ge.right),Ge.left&&(De-=.5*Ge.left),pe(Ge.bottom,De,Pe,me,_e)),Ge.left&&(De=fe.x,Pe=fe.y,me=fe.x,_e=fe.y+ve.height,Ge.top&&(Pe-=.5*Ge.top),Ge.bottom&&(_e+=.5*Ge.bottom),pe(Ge.left,De,Pe,me,_e)),Ge.right&&(De=fe.x+ve.width,Pe=fe.y,me=fe.x+ve.width,_e=fe.y+ve.height,Ge.top&&(Pe-=.5*Ge.top),Ge.bottom&&(_e+=.5*Ge.bottom),pe(Ge.right,De,Pe,me,_e));function pe(Ee,We,Ue,je,qe){ye.getDocument().setLineWidth(Ee),ye.getDocument().line(We,Ue,je,qe,"S")}}function be(ye,ve,fe,Ge){var De=ve.settings.margin.bottom,Pe=ve.settings.showFoot;return(Pe==="everyPage"||Pe==="lastPage"&&fe)&&(De+=ve.getFootHeight(ve.columns)),ye.pageSize().height-Ge.y-De}function Ie(ye,ve,fe,Ge,De,Pe){De===void 0&&(De=[]),Pe===void 0&&(Pe=!1),ye.applyStyles(ye.userStyles),ve.settings.showFoot==="everyPage"&&!Pe&&ve.foot.forEach(function(_e){return ce(ye,ve,_e,Ge,De)}),ve.callEndPageHooks(ye,Ge);var me=ve.settings.margin;(0,x.addTableBorder)(ye,ve,fe,Ge),Re(ye),ve.pageNumber++,ve.pageCount++,Ge.x=me.left,Ge.y=me.top,fe.y=me.top,ve.callWillDrawPageHooks(ye,Ge),ve.settings.showHead==="everyPage"&&(ve.head.forEach(function(_e){return ce(ye,ve,_e,Ge,De)}),ye.applyStyles(ye.userStyles))}m.addPage=Ie;function Re(ye){var ve=ye.pageNumber();ye.setPage(ve+1);var fe=ye.pageNumber();return fe===ve?(ye.addPage(),!0):!1}},224:function(C,m,v){Object.defineProperty(m,"__esModule",{value:!0}),m.calculateAllColumnsCanFitInPage=void 0;var x=v(420);function G(R,V,H){var M;H===void 0&&(H={});var L=(0,x.getPageAvailableWidth)(R,V),_=new Map,X=[],Q=[],j=[];V.settings.horizontalPageBreakRepeat,Array.isArray(V.settings.horizontalPageBreakRepeat)?j=V.settings.horizontalPageBreakRepeat:(typeof V.settings.horizontalPageBreakRepeat=="string"||typeof V.settings.horizontalPageBreakRepeat=="number")&&(j=[V.settings.horizontalPageBreakRepeat]),j.forEach(function(de){var ce=V.columns.find(function(ne){return ne.dataKey===de||ne.index===de});ce&&!_.has(ce.index)&&(_.set(ce.index,!0),X.push(ce.index),Q.push(V.columns[ce.index]),L-=ce.wrappedWidth)});for(var re=!0,P=(M=H==null?void 0:H.start)!==null&&M!==void 0?M:0;P<V.columns.length;){if(_.has(P)){P++;continue}var O=V.columns[P].wrappedWidth;if(re||L>=O)re=!1,X.push(P),Q.push(V.columns[P]),L-=O;else break;P++}return{colIndexes:X,columns:Q,lastIndex:P-1}}function B(R,V){for(var H=[],M=0;M<V.columns.length;M++){var L=G(R,V,{start:M});L.columns.length&&(H.push(L),M=L.lastIndex)}return H}m.calculateAllColumnsCanFitInPage=B},324:function(C,m,v){Object.defineProperty(m,"__esModule",{value:!0}),m.ellipsize=m.resizeColumns=m.calculateWidths=void 0;var x=v(420);function G(X,Q){B(X,Q);var j=[],re=0;Q.columns.forEach(function(O){var de=O.getMaxCustomCellWidth(Q);de?O.width=de:(O.width=O.wrappedWidth,j.push(O)),re+=O.width});var P=Q.getWidth(X.pageSize().width)-re;P&&(P=R(j,P,function(O){return Math.max(O.minReadableWidth,O.minWidth)})),P&&(P=R(j,P,function(O){return O.minWidth})),P=Math.abs(P),!Q.settings.horizontalPageBreak&&P>.1/X.scaleFactor()&&(P=P<1?P:Math.round(P),console.warn("Of the table content, ".concat(P," units width could not fit page"))),H(Q),M(Q,X),V(Q)}m.calculateWidths=G;function B(X,Q){var j=X.scaleFactor(),re=Q.settings.horizontalPageBreak,P=(0,x.getPageAvailableWidth)(X,Q);Q.allRows().forEach(function(O){for(var de=0,ce=Q.columns;de<ce.length;de++){var ne=ce[de],oe=O.cells[ne.index];if(oe){var be=Q.hooks.didParseCell;Q.callCellHooks(X,be,oe,O,ne,null);var Ie=oe.padding("horizontal");oe.contentWidth=(0,x.getStringWidth)(oe.text,oe.styles,X)+Ie;var Re=(0,x.getStringWidth)(oe.text.join(" ").split(/\s+/),oe.styles,X);if(oe.minReadableWidth=Re+oe.padding("horizontal"),typeof oe.styles.cellWidth=="number")oe.minWidth=oe.styles.cellWidth,oe.wrappedWidth=oe.styles.cellWidth;else if(oe.styles.cellWidth==="wrap"||re===!0)oe.contentWidth>P?(oe.minWidth=P,oe.wrappedWidth=P):(oe.minWidth=oe.contentWidth,oe.wrappedWidth=oe.contentWidth);else{var ye=10/j;oe.minWidth=oe.styles.minCellWidth||ye,oe.wrappedWidth=oe.contentWidth,oe.minWidth>oe.wrappedWidth&&(oe.wrappedWidth=oe.minWidth)}}}}),Q.allRows().forEach(function(O){for(var de=0,ce=Q.columns;de<ce.length;de++){var ne=ce[de],oe=O.cells[ne.index];if(oe&&oe.colSpan===1)ne.wrappedWidth=Math.max(ne.wrappedWidth,oe.wrappedWidth),ne.minWidth=Math.max(ne.minWidth,oe.minWidth),ne.minReadableWidth=Math.max(ne.minReadableWidth,oe.minReadableWidth);else{var be=Q.styles.columnStyles[ne.dataKey]||Q.styles.columnStyles[ne.index]||{},Ie=be.cellWidth||be.minCellWidth;Ie&&typeof Ie=="number"&&(ne.minWidth=Ie,ne.wrappedWidth=Ie)}oe&&(oe.colSpan>1&&!ne.minWidth&&(ne.minWidth=oe.minWidth),oe.colSpan>1&&!ne.wrappedWidth&&(ne.wrappedWidth=oe.minWidth))}})}function R(X,Q,j){for(var re=Q,P=X.reduce(function(ye,ve){return ye+ve.wrappedWidth},0),O=0;O<X.length;O++){var de=X[O],ce=de.wrappedWidth/P,ne=re*ce,oe=de.width+ne,be=j(de),Ie=oe<be?be:oe;Q-=Ie-de.width,de.width=Ie}if(Q=Math.round(Q*1e10)/1e10,Q){var Re=X.filter(function(ye){return Q<0?ye.width>j(ye):!0});Re.length&&(Q=R(Re,Q,j))}return Q}m.resizeColumns=R;function V(X){for(var Q={},j=1,re=X.allRows(),P=0;P<re.length;P++)for(var O=re[P],de=0,ce=X.columns;de<ce.length;de++){var ne=ce[de],oe=Q[ne.index];if(j>1)j--,delete O.cells[ne.index];else if(oe)oe.cell.height+=O.height,j=oe.cell.colSpan,delete O.cells[ne.index],oe.left--,oe.left<=1&&delete Q[ne.index];else{var be=O.cells[ne.index];if(!be)continue;if(be.height=O.height,be.rowSpan>1){var Ie=re.length-P,Re=be.rowSpan>Ie?Ie:be.rowSpan;Q[ne.index]={cell:be,left:Re,row:O}}}}}function H(X){for(var Q=X.allRows(),j=0;j<Q.length;j++)for(var re=Q[j],P=null,O=0,de=0,ce=0;ce<X.columns.length;ce++){var ne=X.columns[ce];if(de-=1,de>1&&X.columns[ce+1])O+=ne.width,delete re.cells[ne.index];else if(P){var oe=P;delete re.cells[ne.index],P=null,oe.width=ne.width+O}else{var oe=re.cells[ne.index];if(!oe)continue;if(de=oe.colSpan,O=0,oe.colSpan>1){P=oe,O+=ne.width;continue}oe.width=ne.width+O}}}function M(X,Q){for(var j={count:0,height:0},re=0,P=X.allRows();re<P.length;re++){for(var O=P[re],de=0,ce=X.columns;de<ce.length;de++){var ne=ce[de],oe=O.cells[ne.index];if(oe){Q.applyStyles(oe.styles,!0);var be=oe.width-oe.padding("horizontal");if(oe.styles.overflow==="linebreak")oe.text=Q.splitTextToSize(oe.text,be+1/Q.scaleFactor(),{fontSize:oe.styles.fontSize});else if(oe.styles.overflow==="ellipsize")oe.text=L(oe.text,be,oe.styles,Q,"...");else if(oe.styles.overflow==="hidden")oe.text=L(oe.text,be,oe.styles,Q,"");else if(typeof oe.styles.overflow=="function"){var Ie=oe.styles.overflow(oe.text,be);typeof Ie=="string"?oe.text=[Ie]:oe.text=Ie}oe.contentHeight=oe.getContentHeight(Q.scaleFactor(),Q.getLineHeightFactor());var Re=oe.contentHeight/oe.rowSpan;oe.rowSpan>1&&j.count*j.height<Re*oe.rowSpan?j={height:Re,count:oe.rowSpan}:j&&j.count>0&&j.height>Re&&(Re=j.height),Re>O.height&&(O.height=Re)}}j.count--}}function L(X,Q,j,re,P){return X.map(function(O){return _(O,Q,j,re,P)})}m.ellipsize=L;function _(X,Q,j,re,P){var O=1e4*re.scaleFactor();if(Q=Math.ceil(Q*O)/O,Q>=(0,x.getStringWidth)(X,j,re))return X;for(;Q<(0,x.getStringWidth)(X+P,j,re)&&!(X.length<=1);)X=X.substring(0,X.length-1);return X.trim()+P}},964:function(C){if(typeof i>"u"){var m=new Error("Cannot find module 'undefined'");throw m.code="MODULE_NOT_FOUND",m}C.exports=i}},s={};function c(C){var m=s[C];if(m!==void 0)return m.exports;var v=s[C]={exports:{}};return o[C].call(v.exports,v,v.exports,c),v.exports}var u={};return function(){var C=u;Object.defineProperty(C,"__esModule",{value:!0}),C.Cell=C.Column=C.Row=C.Table=C.CellHookData=C.__drawTable=C.__createTable=C.applyPlugin=void 0;var m=c(340),v=c(776),x=c(664),G=c(972),B=c(260);Object.defineProperty(C,"Table",{enumerable:!0,get:function(){return B.Table}});var R=c(172);Object.defineProperty(C,"CellHookData",{enumerable:!0,get:function(){return R.CellHookData}});var V=c(260);Object.defineProperty(C,"Cell",{enumerable:!0,get:function(){return V.Cell}}),Object.defineProperty(C,"Column",{enumerable:!0,get:function(){return V.Column}}),Object.defineProperty(C,"Row",{enumerable:!0,get:function(){return V.Row}});function H(Q){(0,m.default)(Q)}C.applyPlugin=H;function M(Q,j){var re=(0,v.parseInput)(Q,j),P=(0,G.createTable)(Q,re);(0,x.drawTable)(Q,P)}function L(Q,j){var re=(0,v.parseInput)(Q,j);return(0,G.createTable)(Q,re)}C.__createTable=L;function _(Q,j){(0,x.drawTable)(Q,j)}C.__drawTable=_;try{var X=c(964);X.jsPDF&&(X=X.jsPDF),H(X)}catch{}C.default=M}(),u}()})})(YKe);const ow=Array.from({length:10},(e,t)=>xt().subtract(9-t,"days").format("YYYY-MM-DD")),kv=(e,t)=>{let i=[];return ow.forEach(o=>{e[o]?t?i.push(e[o]*.05/1e3):i.push(e[o]):i.push(0)}),i},UKe=e=>{let t=[];for(let i=0;i<ow.length;i++){if(i===0){t.push(0);continue}const o=ow[i],s=ow[i-1];e[o]&&e[s]?t.push((e[o]-e[s])/e[s]):e[s]?t.push(-1):t.push(0)}return t},PKe=()=>{const{t:e}=Jn(),t=new AbortController,{signal:i}=t,[o,s]=le.useState(),[c,u]=le.useState(!0),[C,m]=le.useState({customers:[],managers:[],centres:[],revenues:[],rate:[]}),v=async()=>{await mn.get("/courtstar/admin/platform",{signal:i}).then(_=>{s(_.data.data)}).catch(_=>{console.log(_.message)}).finally(()=>{u(!1)})};le.useEffect(()=>{v()},[]),le.useEffect(()=>{o&&m(_=>({..._,customers:kv(o.customers,!1),managers:kv(o.managers,!1),centres:kv(o.centres,!1),revenues:kv(o.revenues,!0),rates:UKe(o.revenues)}))},[o]);const x=[{name:e("revenue"),color:"#2B5A50",data:C.revenues,type:"bar"},{name:e("profitGrowth"),color:"#dc2626",data:C.rates,type:"line"}],G={chart:{fontFamily:"Inter",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},stroke:{width:[0,2],curve:["smooth","straight"]},tooltip:{x:{show:!0,formatter:function(_){return xt().subtract(10-_,"days").format("MMM DD, YYYY")}},y:[{title:{formatter:function(_){return _+":"}},formatter:function(_){return _+"K VND"}},{title:{formatter:function(_){return _+":"}},formatter:function(_){return Math.round(_*100)+"%"}}]},xaxis:{categories:Array.from({length:10},(_,X)=>xt().subtract(9-X,"days").format("MMM DD"))},yaxis:{labels:{formatter:function(_){return Number.isInteger(_)?_.toString():""}}},plotOptions:{bar:{columnWidth:"30%"}}},B=[{name:e("registeredCustomer"),color:"#2563eb",data:C.customers,type:"line"},{name:e("registeredPartner"),color:"#9563eb",data:C.managers,type:"line"},{name:e("approvedCentre"),color:"#9ca3af",data:C.centres,type:"line"}],R={chart:{fontFamily:"Inter",animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},stroke:{width:[3,3,3],curve:["smooth","smooth","smooth"],dashArray:[0,0,0]},tooltip:{x:{show:!0,formatter:function(_){return xt().subtract(10-_,"days").format("MMM DD, YYYY")}},y:[{title:{formatter:function(_){return _+":"}},formatter:function(_){return _+""}},{title:{formatter:function(_){return _+":"}},formatter:function(_){return _+""}},{title:{formatter:function(_){return _+":"}},formatter:function(_){return _+""}}]},xaxis:{categories:Array.from({length:10},(_,X)=>xt().subtract(9-X,"days").format("MMM DD"))},yaxis:{labels:{formatter:function(_){return Number.isInteger(_)?_.toString():""}}}},V=le.useRef(null),[H,M]=le.useState(!1),L=async()=>{M(!0),V.current&&await sO(V.current).then(_=>{const X=_.toDataURL("image/png"),Q=new _n,j=Q.getImageProperties(X),re=Q.internal.pageSize.getWidth(),P=j.height*re/j.width;Q.addImage(X,"PNG",0,0,re,P),Q.save(`dashboard-export-${xt().format("yyyyMMDDHHmmss")}.pdf`)}),M(!1)};return y.jsxs("div",{className:"py-6 w-full flex flex-col gap-5",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("div",{className:"text-3xl font-bold",children:e("dashboard")}),y.jsx(Pn,{label:e("export"),icon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-download",children:[y.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),y.jsx("polyline",{points:"7 10 12 15 17 10"}),y.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}),size:"medium",className:"bg-primary-green text-white hover:bg-teal-900 w-32",onClick:L,loading:H})]}),c?y.jsx("div",{className:"h-[500px] flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})}):y.jsxs("div",{ref:V,className:"w-full flex flex-col gap-5",children:[y.jsxs("div",{className:"w-full h-[20rem] rounded-lg relative flex justify-between shadow-lg",children:[y.jsx("div",{className:"absolute w-full h-full overflow-hidden rounded-lg",children:y.jsx("img",{src:"/images/bg-admin.svg",alt:"bg-balance",className:"object-cover object-center w-full h-full"})}),y.jsxs("div",{className:"z-10 px-20 w-full flex flex-col gap-10 justify-center",children:[y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("div",{children:y.jsx("div",{className:"text-2xl font-semibold mb-2",children:e("overviewThisWeek")})})}),y.jsxs("div",{className:"flex gap-10",children:[y.jsxs("div",{className:"py-3 px-5 w-full shadow-md rounded-lg bg-white font-semibold",children:[y.jsx("div",{className:"flex justify-between items-center mb-2",children:y.jsx("div",{children:e("revenue")})}),y.jsxs("div",{className:"text-lg flex gap-0.5 font-bold",children:[y.jsx(Ja,{endNumber:o==null?void 0:o.weekRevenue,duration:1e3}),y.jsx("span",{className:"text-[7px]",children:"VND"})]})]}),y.jsxs("div",{className:"py-3 px-5 w-full shadow-md rounded-lg bg-white font-semibold",children:[y.jsx("div",{className:"flex justify-between items-center mb-2",children:y.jsx("div",{children:e("approvedCentre")})}),y.jsx("div",{className:"text-lg flex gap-0.5 font-bold",children:y.jsx(Ja,{endNumber:o==null?void 0:o.weekCentre,duration:1e3})})]}),y.jsxs("div",{className:"py-3 px-5 w-full shadow-md rounded-lg bg-white font-semibold",children:[e("registeredPartner"),y.jsx("div",{className:"text-lg flex gap-0.5 font-bold mt-2",children:y.jsx(Ja,{endNumber:o==null?void 0:o.weekManager,duration:1e3})})]}),y.jsxs("div",{className:"py-3 px-5 w-full shadow-md rounded-lg bg-white font-semibold",children:[e("registeredCustomer"),y.jsx("div",{className:"text-lg flex gap-0.5 font-bold mt-2",children:y.jsx(Ja,{endNumber:o==null?void 0:o.weekCustomer,duration:1e3})})]})]})]})]}),y.jsxs("div",{className:"bg-white rounded-lg flex flex-col gap-5",children:[y.jsx("div",{className:"text-center font-semibold text-white py-1.5 text-2xl bg-primary-green rounded-t-lg",children:e("revenueGrowthChart")}),y.jsx("div",{className:"flex flex-col gap-5 w-full py-2 px-5",children:y.jsx(aG,{height:"350",width:"100%",options:G,series:x})})]}),y.jsxs("div",{className:"bg-white rounded-lg flex flex-col gap-5",children:[y.jsx("div",{className:"text-center font-semibold text-white py-1.5 text-2xl bg-primary-green rounded-t-lg",children:e("accountAndCentreRegistrationChart")}),y.jsx("div",{className:"flex flex-col gap-5 w-full py-2 px-5",children:y.jsx(aG,{height:"350",width:"100%",options:R,series:B})})]})]})]})},KKe=()=>{var At,ct;const{t:e}=Jn(),t=new AbortController,{signal:i}=t,o=[{key:"all",label:e("allCenTre")},{key:"thuDucCity",label:e("thuDucCity")},{key:"district1",label:e("district1")},{key:"district3",label:e("district3")},{key:"district4",label:e("district4")},{key:"district5",label:e("district5")},{key:"district6",label:e("district6")},{key:"district7",label:e("district7")},{key:"district8",label:e("district8")},{key:"district10",label:e("district10")},{key:"district11",label:e("district11")},{key:"district12",label:e("district12")},{key:"binhTanDistrict",label:e("binhTanDistrict")},{key:"binhThanhDistrict",label:e("binhThanhDistrict")},{key:"goVapDistrict",label:e("goVapDistrict")},{key:"phuNhuanDistrict",label:e("phuNhuanDistrict")},{key:"tanBinhDistrict",label:e("tanBinhDistrict")},{key:"tanPhuDistrict",label:e("tanPhuDistrict")},{key:"nhaBeProvince",label:e("nhaBeProvince")},{key:"canGioProvince",label:e("canGioProvince")},{key:"cuChiProvince",label:e("cuChiProvince")},{key:"hocMonProvince",label:e("hocMonProvince")},{key:"binhChanhProvince",label:e("binhChanhProvince")}],s=[{key:"all",label:e("allRating")},{key:"1",label:e("1star")},{key:"2",label:e("2star")},{key:"3",label:e("3star")},{key:"4",label:e("4star")},{key:"5",label:e("5star")}],c=[{key:"all",label:e("allStatus")},{key:"true",label:e("deleted")},{ket:"false",label:e("active")}],[u,C]=le.useState([]),[m,v]=le.useState(!0),[x,G]=le.useState(),[B,R]=le.useState(!1);le.useState(!1);const[V,H]=le.useState(!1),[M,L]=le.useState([]),[_,X]=le.useState(!1),[Q,j]=le.useState(1),re=10,[P,O]=le.useState([]),[de,ce]=le.useState(""),[ne,oe]=le.useState(""),[be,Ie]=le.useState("all"),[Re,ye]=le.useState("all"),[ve,fe]=le.useState("all"),Ge=async()=>{v(!0),await mn.get("/courtstar/centre/allCentre",{signal:i}).then(lt=>{C(lt.data.data.reverse()),O(lt.data.data)}).catch(lt=>{console.log(lt.message)}).finally(()=>{v(!1)})};le.useEffect(()=>{Ge()},[]);const De=lt=>{Ie(lt.key)},Pe=lt=>{ye(lt.key)},me=lt=>{fe(lt.key)};le.useEffect(()=>{(()=>{let at=u;de&&(at=at.filter(Ht=>Ht.name.toLowerCase().includes(de.toLowerCase()))),ne&&(at=at.filter(Ht=>Ht.managerEmail.toLowerCase().includes(ne.toLowerCase()))),be&&be!=="all"&&(at=at.filter(Ht=>Ht.district===be)),Re&&Re!=="all"&&(at=at.filter(Ht=>Ht.currentRate===parseInt(Re))),ve!=="all"&&(at=at.filter(Ht=>Ht.deleted===!!ve)),O(at)})()},[de,ne,be,Re,ve,u]);const _e=async lt=>{let at=u.filter(Ht=>Ht.id===lt);G(at[0]),R(!0),X(!0),await mn.get(`/courtstar/feedback/${lt}`).then(Ht=>{L(Ht.data.data),console.log(Ht.data.data)}).catch(Ht=>{console.log(Ht.message)}).finally(()=>{X(!1)})},pe=async lt=>{H(!0),await mn.post(`/courtstar/centre/delete/${lt}`).then(at=>{at.data.data&&(sn.success("Delete successfully",{toastId:"delete-success"}),R(!1),Ge())}).catch(at=>{sn.error(at.message,{toastId:"delete-unsuccess"})}).finally(()=>{H(!1)})};le.useState(!1);const Ee=Q*re,We=Ee-re,Ue=P.slice(We,Ee),je=lt=>{j(lt)},qe=y.jsx(y.Fragment,{children:x&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"h-[calc(75vh)] w-[calc(80vw)] overflow-y-auto px-2 mx-2",children:y.jsxs("div",{className:"",children:[y.jsxs("div",{className:"flex justify-between gap-4",children:[y.jsx("div",{className:"w-[44rem]",children:y.jsx(t2,{images:x==null?void 0:x.images})}),y.jsx("div",{className:"flex-1 w-[410px] flex flex-col gap-3",children:y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow flex flex-col gap-3",children:y.jsxs("div",{className:"flex flex-col gap-1.5",children:[y.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[e("information"),x!=null&&x.deleted?y.jsx("div",{className:"bg-red-500 text-white text-sm px-3 py-1 rounded-md font-semibold",children:"Deleted"}):y.jsx("div",{className:"font-semibold",children:x!=null&&x.status?y.jsx("div",{className:"bg-primary-green text-white text-sm px-3 py-1 rounded-md",children:"Opening"}):y.jsx("div",{className:"bg-black text-white px-3 text-sm py-1 rounded-md",children:"Closed"})})]}),y.jsxs("div",{className:"px-2",children:[y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[e("address"),": "]}),x.address]}),y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[e("openTime"),": "]}),xt(x.openTime,"HH:mm:ss").format("HH:mm")," - ",xt(x.closeTime,"HH:mm:ss").format("HH:mm")]}),y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[e("price"),": "]}),y.jsxs("span",{className:"font-semibold text-rose-600",children:[(At=x==null?void 0:x.pricePerHour)==null?void 0:At.toLocaleString("de-DE")," VND/h"]})]})]})]})}),(x==null?void 0:x.description)&&y.jsxs("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow",children:[y.jsxs("span",{className:"font-semibold",children:[e("description"),": "]}),y.jsx("div",{dangerouslySetInnerHTML:{__html:x.description}})]}),y.jsxs("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow flex flex-col gap-3",children:[y.jsx("div",{className:"flex justify-between text-lg font-semibold",children:y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[e("numberOfCourts"),": "]}),x.numberOfCourts]})}),y.jsx("div",{className:"mx-auto",children:y.jsx("div",{className:"grid grid-cols-2 gap-x-20",children:(ct=x==null?void 0:x.courts)==null?void 0:ct.map((lt,at)=>y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsxs("div",{className:"",children:[lt.courtNo,"."]}),y.jsx("div",{className:"flex justify-between gap-1 w-full items-center",children:y.jsxs("div",{className:"flex gap-1 ",children:[y.jsxs("div",{className:"font-semibold",children:[e("status"),":"]}),y.jsx("div",{className:lt.status?"font-semibold text-primary-green":"font-semibold text-red-500",children:lt.status?"Active":"Close"})]})})]},lt.id))})})]})]})})]}),y.jsxs("div",{id:"top",className:"flex-1 bg-white rounded-lg shadow-md my-3",children:[y.jsx("div",{className:"text-white rounded-t-lg bg-primary-green flex items-center justify-center gap-1.5 py-2",children:y.jsx("span",{className:"text-3xl font-medium",children:"Feedbacks"})}),_?y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"}):y.jsx("div",{className:"",children:y.jsx(QN,{listItem:M,itemsPerPage:10})})]})]})}),!(x!=null&&x.deleted)&&y.jsx("div",{className:"pt-2",children:y.jsx(Pn,{className:"text-center text-red-500 text-lg font-semibold w-full py-1 border-red-500 border-2 rounded hover:bg-red-500 hover:text-white",icon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),y.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),y.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),y.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]}),label:e("delete"),onClick:()=>{Sc({title:e("areYouSure")+"?",message:e("youAllowThisWithdrawalRequest")+"!",type:"warning",onConfirmClick:()=>pe(x==null?void 0:x.id)})},loading:V,loadingColor:"#ef4444"})})]})});return y.jsxs(y.Fragment,{children:[y.jsx(Ll,{isOpen:B,setIsOpen:()=>{R(!1),G()},html:qe,title:x==null?void 0:x.name,centreInfo:!0}),y.jsxs("div",{id:"top",className:"py-6 w-full",children:[y.jsx("div",{className:"flex justify-between",children:y.jsx("div",{className:"text-3xl font-bold",children:e("allCenTre")})}),m?y.jsx("div",{className:"h-[500px] flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})}):y.jsx(y.Fragment,{children:y.jsxs("div",{className:"mt-5 mb-10",children:[y.jsxs("div",{className:"px-10 bg-white py-4 grid grid-cols-5 gap-x-1 rounded-xl shadow",children:[y.jsx("div",{className:"",children:y.jsx(Nn,{placeholder:e("enterCentreName"),label:e("centreName"),value:de,onchange:lt=>ce(lt.target.value)})}),y.jsx("div",{className:"",children:y.jsx(Nn,{placeholder:e("enterManagerEmail"),label:"Email",value:ne,onchange:lt=>oe(lt.target.value)})}),y.jsxs("div",{className:"",children:[y.jsx("div",{className:"font-semibold mb-2",children:e("district")}),y.jsx(ho,{placeholder:e("selectTheDistrict"),items:o,onSelect:De,buttonClassName:"!px-3"})]}),y.jsxs("div",{className:"",children:[y.jsx("div",{className:"font-semibold mb-2",children:e("feedback")}),y.jsx(ho,{placeholder:e("selectRating"),items:s,onSelect:Pe,buttonClassName:"!px-3"})]}),y.jsxs("div",{className:"",children:[y.jsx("div",{className:"font-semibold mb-2",children:e("status")}),y.jsx(ho,{placeholder:e("selectStatus"),items:c,onSelect:me,buttonClassName:"!px-3"})]})]}),y.jsx("div",{className:"mt-2",children:Ue.length?y.jsx(y.Fragment,{children:Ue==null?void 0:Ue.map(lt=>y.jsxs("div",{className:"bg-white px-10 py-3 grid grid-cols-5 content-center gap-2 font-medium hover:bg-teal-50 hover:px-8 cursor-pointer mt-1 rounded-lg shadow-sm ease-in-out duration-300",onClick:()=>_e(lt.id),children:[y.jsx("div",{className:"ml-5 truncate",children:lt.name}),y.jsx("div",{className:"ml-5 truncate",children:lt.managerEmail}),y.jsx("div",{className:"ml-5 truncate",children:e(lt.district)}),y.jsx("div",{className:"mx-auto",children:y.jsx(ru,{ratingWrapper:"flex gap-1",value:lt.currentRate,editable:!1})}),lt.deleted===!0?y.jsx("div",{className:"mx-auto text-white text-xs font-semibold px-2 py-1 bg-rose-500 rounded-md",children:e("deleted")}):y.jsx("div",{className:"mx-auto text-white text-xs font-semibold px-2 py-1 bg-primary-green rounded-md",children:e("active")})]},lt.id))}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px] text-3xl text-primary mx-auto",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"250",height:"250",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search-x",children:[y.jsx("path",{d:"m13.5 8.5-5 5"}),y.jsx("path",{d:"m8.5 8.5 5 5"}),y.jsx("circle",{cx:"11",cy:"11",r:"8"}),y.jsx("path",{d:"m21 21-4.3-4.3"})]}),"No centre found."]})})]})}),P.length>re&&y.jsx(Vd,{totalItems:P.length,itemsPerPage:re,currentPage:Q,onPageChange:je})]})]})},zKe=()=>{const{t:e}=Jn(),t=new AbortController,{signal:i}=t,[o,s]=le.useState([]),[c,u]=le.useState(!0),[C,m]=le.useState(1),v=10,[x,G]=le.useState([]),[B,R]=le.useState(""),[V,H]=le.useState(""),[M,L]=le.useState("");le.useEffect(()=>{(()=>{let de=o;B&&(de=de.filter(ce=>ce.account.firstName.toLowerCase().includes(B.toLowerCase())||ce.account.lastName.toLowerCase().includes(B.toLowerCase()))),V&&(de=de.filter(ce=>ce.account.email.toLowerCase().includes(V.toLowerCase()))),M&&(de=de.filter(ce=>ce.account.phone.toLowerCase().includes(M.toLowerCase()))),G(de)})()},[B,V,M,o]);const _=async()=>{await mn.get("/courtstar/manager",{signal:i}).then(O=>{s(O.data.data.map(de=>({...de,loading:!1}))),G(O.data.data)}).catch(O=>{console.log(O.message)}).finally(()=>{u(!1)})};le.useEffect(()=>{_()},[]),console.log(o);const X=async(O,de)=>{s(ce=>{const ne=[...ce];return ne[de]={...ne[de],loading:!0},ne}),await mn.post(`/courtstar/account/${O}`,{signal:i}).then(ce=>{console.log(ce.data),sn.success("Delete Successfully!",{toastId:"delete-manager-success"}),_()}).catch(ce=>{console.log(ce.message),sn.error(ce.message,{toastId:"delete-manager-error"})}).finally()},Q=O=>{m(O)},j=C*v,re=j-v,P=x.slice(re,j);return y.jsxs("div",{className:"py-6 w-full",children:[y.jsx("div",{className:"flex justify-between",children:y.jsxs("div",{className:"text-3xl font-bold",children:[" ",e("centreManager")," "]})}),c?y.jsx("div",{className:"h-[500px] flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mt-5",children:[y.jsxs("div",{className:"bg-white rounded-xl px-10 py-4 grid grid-cols-12 gap-2",children:[y.jsx("div",{className:"col-span-4 ",children:y.jsx(Nn,{id:"name",name:"name",placeholder:e("enterManagerName"),label:e("managerName"),value:B,onchange:O=>R(O.target.value)})}),y.jsx("div",{className:"col-span-4 ",children:y.jsx(Nn,{id:"email",name:"email",placeholder:e("enterManagerEmail"),label:"Email",value:V,onchange:O=>H(O.target.value)})}),y.jsx("div",{className:"col-span-3 ",children:y.jsx(Nn,{id:"phone",name:"phone",placeholder:e("enterManagerPhone"),label:e("phone"),value:M,onchange:O=>L(O.target.value)})}),y.jsx("div",{className:"col-span-1 "})]}),y.jsx("div",{className:"mt-2 font-medium",children:P.length?y.jsx(y.Fragment,{children:P.map((O,de)=>y.jsxs("div",{className:"bg-white px-10 py-3 grid grid-cols-12 content-center gap-2 font-medium mt-1 rounded-lg shadow-sm",children:[y.jsxs("div",{className:"col-span-4 content-center truncate ml-4",children:[O.account.firstName," ",O.account.lastName]}),y.jsx("div",{className:"col-span-4 content-center truncate ml-4",children:O.account.email}),y.jsx("div",{className:"col-span-3 content-center ml-4",children:O.account.phone}),y.jsx("div",{className:"mx-auto col-span-1",children:O.loading?y.jsx(Ti,{height:"30",width:"30",color:"#2B5A50"}):y.jsx(y.Fragment,{children:O.account.deleted?y.jsx("div",{className:"p-1.5 rounded-full text-red-500",children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),y.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),y.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),y.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"}),y.jsx("line",{x1:"2",y1:"2",x2:"22",y2:"22"})]})}):y.jsx("div",{className:"p-1.5 rounded-full hover:bg-red-600 hover:text-white cursor-pointer ease-in-out duration-300",onClick:()=>{Sc({title:e("areYouSure")+"?",message:e("youDeleteThisManagerAccount")+"!",type:"warning",onConfirmClick:()=>X(O.account.id,de)})},children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),y.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),y.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),y.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})})})})]},O.account.id))}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px] text-3xl text-primary mx-auto",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"300",height:"300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users-round",children:[y.jsx("path",{d:"M18 21a8 8 0 0 0-16 0"}),y.jsx("circle",{cx:"10",cy:"8",r:"5"}),y.jsx("path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3"})]}),"No manager found."]})})]}),o.length>v&&y.jsx(Vd,{totalItems:o.length,itemsPerPage:v,currentPage:C,onPageChange:Q})]})]})},QKe=()=>{const{t:e}=Jn(),t=new AbortController,{signal:i}=t,[o,s]=le.useState([]),[c,u]=le.useState(!0),[C,m]=le.useState(1),v=10,[x,G]=le.useState([]),[B,R]=le.useState(""),[V,H]=le.useState(""),[M,L]=le.useState("");le.useEffect(()=>{(()=>{let de=o;B&&(de=de.filter(ce=>ce.account.firstName.toLowerCase().includes(B.toLowerCase())||ce.account.lastName.toLowerCase().includes(B.toLowerCase()))),V&&(de=de.filter(ce=>ce.account.email.toLowerCase().includes(V.toLowerCase()))),M&&(de=de.filter(ce=>ce.account.phone.toLowerCase().includes(M.toLowerCase()))),G(de)})()},[B,V,M,o]);const _=async()=>{await mn.get("/courtstar/staff",{signal:i}).then(O=>{s(O.data.data.map(de=>({...de,loading:!1}))),G(O.data.data)}).catch(O=>{console.log(O.message)}).finally(()=>{u(!1)})};le.useEffect(()=>{_()},[]),console.log(o);const X=async(O,de)=>{s(ce=>{const ne=[...ce];return ne[de]={...ne[de],loading:!0},ne}),await mn.post(`/courtstar/account/${O}`,{signal:i}).then(ce=>{console.log(ce.data),sn.success("Delete Successfully!",{toastId:"delete-manager-success"}),_()}).catch(ce=>{console.log(ce.message),sn.error(ce.message,{toastId:"delete-manager-error"})}).finally()},Q=O=>{m(O)},j=C*v,re=j-v,P=x.slice(re,j);return y.jsxs("div",{className:"py-6 w-full",children:[y.jsx("div",{className:"flex justify-between",children:y.jsx("div",{className:"text-3xl font-bold",children:e("staffs")})}),c?y.jsx("div",{className:"h-[500px] flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mt-5",children:[y.jsxs("div",{className:"bg-white rounded-xl px-10 py-4 grid grid-cols-12 gap-2",children:[y.jsx("div",{className:"col-span-4 ",children:y.jsx(Nn,{id:"name",name:"name",placeholder:e("enterStaffName"),label:e("staffName"),value:B,onchange:O=>R(O.target.value)})}),y.jsx("div",{className:"col-span-4 ",children:y.jsx(Nn,{id:"email",name:"email",placeholder:e("enterStaffEmail"),label:"Email",value:V,onchange:O=>H(O.target.value)})}),y.jsx("div",{className:"col-span-3 ",children:y.jsx(Nn,{id:"phone",name:"phone",placeholder:e("enterStaffPhone"),label:e("phone"),value:M,onchange:O=>L(O.target.value)})}),y.jsx("div",{className:"col-span-1 "})]}),y.jsx("div",{className:"mt-2 font-medium",children:P.length?y.jsx(y.Fragment,{children:P.map((O,de)=>y.jsxs("div",{className:"bg-white px-10 py-3 grid grid-cols-12 content-center gap-2 font-medium mt-1 rounded-lg shadow-sm",children:[y.jsxs("div",{className:"col-span-4 content-center truncate ml-4",children:[O.account.firstName," ",O.account.lastName]}),y.jsx("div",{className:"col-span-4 content-center truncate ml-4",children:O.account.email}),y.jsx("div",{className:"col-span-3 content-center ml-4",children:O.account.phone}),y.jsx("div",{className:"mx-auto col-span-1",children:O.loading?y.jsx(Ti,{height:"30",width:"30",color:"#2B5A50"}):y.jsx(y.Fragment,{children:O.account.deleted?y.jsx("div",{className:"p-1.5 rounded-full text-red-500",children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),y.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),y.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),y.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"}),y.jsx("line",{x1:"2",y1:"2",x2:"22",y2:"22"})]})}):y.jsx("div",{className:"p-1.5 rounded-full hover:bg-red-600 hover:text-white cursor-pointer ease-in-out duration-300",onClick:()=>{Sc({title:e("areYouSure")+"?",message:e("youDeleteThisStaffAccount")+"!",type:"warning",onConfirmClick:()=>X(O.account.id,de)})},children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),y.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),y.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),y.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})})})})]},O.account.id))}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px] text-3xl text-primary mx-auto",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"300",height:"300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users-round",children:[y.jsx("path",{d:"M18 21a8 8 0 0 0-16 0"}),y.jsx("circle",{cx:"10",cy:"8",r:"5"}),y.jsx("path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3"})]}),"No staff found."]})})]}),o.length>v&&y.jsx(Vd,{totalItems:o.length,itemsPerPage:v,currentPage:C,onPageChange:Q})]})]})},jKe=()=>{const{t:e}=Jn(),t=new AbortController,{signal:i}=t,[o,s]=le.useState([]),[c,u]=le.useState(!0),[C,m]=le.useState(1),v=10,[x,G]=le.useState([]),[B,R]=le.useState(""),[V,H]=le.useState(""),[M,L]=le.useState("");le.useEffect(()=>{(()=>{let de=o;B&&(de=de.filter(ce=>ce.firstName.toLowerCase().includes(B.toLowerCase())||ce.lastName.toLowerCase().includes(B.toLowerCase()))),V&&(de=de.filter(ce=>ce.email.toLowerCase().includes(V.toLowerCase()))),M&&(de=de.filter(ce=>{var ne;return(ne=ce.phone)==null?void 0:ne.toLowerCase().includes(M.toLowerCase())})),G(de)})()},[B,V,M,o]);const _=async()=>{await mn.get("/courtstar/customer",{signal:i}).then(O=>{s(O.data.data.map(de=>({...de,loading:!1}))),G(O.data.data)}).catch(O=>{console.log(O.message)}).finally(()=>{u(!1)})};le.useEffect(()=>{_()},[]),console.log(o);const X=async(O,de)=>{s(ce=>{const ne=[...ce];return ne[de]={...ne[de],loading:!0},ne}),await mn.post(`/courtstar/account/${O}`,{signal:i}).then(ce=>{console.log(ce.data),sn.success("Delete Successfully!",{toastId:"delete-customer-success"}),_()}).catch(ce=>{console.log(ce.message),sn.error(ce.message,{toastId:"delete-customer-error"})}).finally(()=>{})},Q=O=>{m(O)},j=C*v,re=j-v,P=x.slice(re,j);return y.jsxs("div",{className:"py-6 w-full",children:[y.jsx("div",{className:"flex justify-between",children:y.jsx("div",{className:"text-3xl font-bold",children:e("customer")})}),c?y.jsx("div",{className:"h-[500px] flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mt-5",children:[y.jsxs("div",{className:"px-10 py-4 grid grid-cols-12 gap-2 bg-white rounded-xl",children:[y.jsx("div",{className:"col-span-4 ",children:y.jsx(Nn,{id:"name",name:"name",placeholder:e("enterCustomerName"),label:e("customerName"),value:B,onchange:O=>R(O.target.value)})}),y.jsx("div",{className:"col-span-4 ",children:y.jsx(Nn,{id:"email",name:"email",placeholder:e("enterCustomerEmail"),label:"Email",value:V,onchange:O=>H(O.target.value)})}),y.jsx("div",{className:"col-span-3 ",children:y.jsx(Nn,{id:"phone",name:"phone",placeholder:e("enterCustomerPhone"),label:e("phone"),value:M,onchange:O=>L(O.target.value)})}),y.jsx("div",{className:"col-span-1 "})]}),y.jsx("div",{className:"mt-2 font-medium",children:P.length?y.jsx(y.Fragment,{children:P.map((O,de)=>y.jsxs("div",{className:"bg-white px-10 py-3 grid grid-cols-12 content-center gap-2 font-medium mt-1 rounded-lg shadow-sm",children:[y.jsxs("div",{className:"col-span-4 content-center truncate ml-4",children:[O.firstName," ",O.lastName]}),y.jsx("div",{className:"col-span-4 content-center truncate ml-4",children:O.email}),y.jsx("div",{className:"col-span-3 content-center ml-4",children:O.phone}),y.jsx("div",{className:"mx-auto col-span-1",children:O.loading?y.jsx(Ti,{height:"30",width:"30",color:"#2B5A50"}):y.jsx(y.Fragment,{children:O.deleted?y.jsx("div",{className:"p-1.5 rounded-full text-red-500",children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),y.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),y.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),y.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"}),y.jsx("line",{x1:"2",y1:"2",x2:"22",y2:"22"})]})}):y.jsx("div",{className:"p-1.5 rounded-full hover:bg-red-600 hover:text-white cursor-pointer ease-in-out duration-300",onClick:()=>{Sc({title:e("areYouSure")+"?",message:e("youDeleteThisCustomerAccount")+"!",type:"warning",onConfirmClick:()=>X(O.id,de)})},children:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-trash-2",children:[y.jsx("path",{d:"M3 6h18"}),y.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),y.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}),y.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),y.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]})})})})]},O.id))}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px] text-3xl text-primary mx-auto",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"300",height:"300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-users-round",children:[y.jsx("path",{d:"M18 21a8 8 0 0 0-16 0"}),y.jsx("circle",{cx:"10",cy:"8",r:"5"}),y.jsx("path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3"})]}),"No customer found."]})})]}),o.length>v&&y.jsx(Vd,{totalItems:o.length,itemsPerPage:v,currentPage:C,onPageChange:Q})]})]})},OKe=e=>y.jsxs(y.Fragment,{children:[e.tabItem===1&&y.jsx(zKe,{}),e.tabItem===2&&y.jsx(QKe,{}),e.tabItem===3&&y.jsx(jKe,{})]}),qKe=()=>{const[e,t]=le.useState(!0),[i,o]=le.useState(),[s,c]=le.useState(null),[u,C]=le.useState(!1),{t:m}=Jn(),v=[{key:"all",label:m("allRequest")},{key:"asc",label:m("Ascending")},{key:"dsc",label:m("Descending")}],x=[{key:"all",label:m("allRequest")},{key:"asc",label:m("Ascending")},{key:"dsc",label:m("Descending")}],G=[{key:"all",label:m("allRequest")},{key:"acp",label:m("Accepted")},{key:"den",label:m("Denied")},{key:"pen",label:m("Pending")}],[B,R]=le.useState(),[V,H]=le.useState(""),[M,L]=le.useState("all"),[_,X]=le.useState("all"),[Q,j]=le.useState("all");le.useEffect(()=>{(()=>{let oe=i;V&&(oe=oe.filter(be=>be.managerEmail.toLowerCase().includes(V.toLowerCase()))),Q&&Q!=="all"&&(oe=oe.filter(be=>Q==="acp"?be.status===!0:Q==="den"?be.status===!1&&be.dateAuthenticate:Q==="pen"?!be.dateAuthenticate:!0)),M&&M!=="all"&&(oe=oe.slice().sort((be,Ie)=>M==="asc"?be.amount-Ie.amount:M==="dsc"?Ie.amount-be.amount:0)),_&&_!=="all"&&(oe=oe.slice().sort((be,Ie)=>_==="asc"?xt(be.dateCreateWithdrawalOrder).diff(Ie.dateCreateWithdrawalOrder):_==="dsc"?xt(Ie.dateCreateWithdrawalOrder).diff(be.dateCreateWithdrawalOrder):0)),R(oe)})()},[V,M,_,Q,i]);const re=async()=>{try{const oe=(await mn.get("/courtstar/transfer-money/all")).data.data.map(be=>({...be,loading:!1})).sort((be,Ie)=>Ie.id-be.id);o(oe)}catch(ne){console.log(ne.message)}finally{t(!1)}},P=ne=>{c(ne),C(!0)},O=y.jsxs("div",{className:"text-black w-96",children:[y.jsxs("div",{className:"",children:[y.jsx("span",{className:"font-semibold",children:"Manager's email:"})," ",s==null?void 0:s.managerEmail]}),y.jsxs("div",{className:"",children:[y.jsx("span",{className:"font-semibold",children:"Created date:"})," ",xt(s==null?void 0:s.dateCreateWithdrawalOrder).format("yyyy-MM-DD")]}),y.jsx("div",{className:"",children:(s==null?void 0:s.dateAuthenticate)&&y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"font-semibold",children:"Response date:"})," ",xt(s==null?void 0:s.dateAuthenticate).format("yyyy-MM-DD")]})}),y.jsx("div",{className:"my-3",children:y.jsx(Jz,{bankName:s==null?void 0:s.nameBanking,cardHolderName:s==null?void 0:s.cardHolderName,number:s==null?void 0:s.numberBanking})}),s!=null&&s.dateAuthenticate?y.jsx(y.Fragment,{children:s!=null&&s.status?y.jsx("div",{className:"text-center py-1 mt-2 text-white bg-primary-green font-semibold rounded",children:"Accepted"}):y.jsx("div",{className:"text-center py-1 mt-2 text-white bg-rose-500 font-semibold rounded",children:"Denied"})}):y.jsx(y.Fragment,{children:s!=null&&s.loading?y.jsx("div",{className:"mx-auto mt-2",children:y.jsx(Ti,{width:"24",height:"24",color:"#2b5a50"})}):y.jsxs("div",{className:"mt-2 flex gap-1 w-full",children:[y.jsx(Pn,{className:"text-center text-white bg-primary-green font-semibold w-full py-1 border-primary-green border-2 rounded hover:bg-teal-900 hover:text-white",icon:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-check",children:y.jsx("path",{d:"M20 6 9 17l-5-5"})}),label:"Accept",onClick:()=>{Sc({title:m("areYouSure")+"?",message:m("youAllowThisWithdrawalRequest")+"!",type:"success",onConfirmClick:()=>de(s)})}}),y.jsx(Pn,{className:"text-center text-red-500 font-semibold w-full py-1 border-red-500 border-2 rounded hover:bg-red-500 hover:text-white",icon:y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x",children:[y.jsx("path",{d:"M18 6 6 18"}),y.jsx("path",{d:"m6 6 12 12"})]}),label:"Deny",onClick:()=>{Sc({title:m("areYouSure")+"?",message:m("youAllowThisWithdrawalRequest")+"!",type:"warning",onConfirmClick:()=>ce(s)})}})]})})]}),de=async ne=>{c(oe=>({...oe,loading:!0}));try{const oe=await mn.post(`/courtstar/transfer-money/authenticate-withdrawal-order/${ne.id}`);sn.success("Accepted withdrawal!",{toastId:"accept-withdrawal-success"}),oe.data.data&&(re(),C(!1))}catch(oe){sn.error(oe.message,{toastId:"accept-withdrawal-unsuccess"})}},ce=async ne=>{c(oe=>({...oe,loading:!0}));try{const oe=await mn.post(`/courtstar/transfer-money/authenticate-deny-withdrawal-order/${ne.id}`);sn.success("Denied withdrawal!",{toastId:"deny-withdrawal-success"}),oe.data.data&&(re(),C(!1))}catch(oe){sn.error(oe.message,{toastId:"deny-withdrawal-unsuccess"})}};return le.useEffect(()=>{re()},[]),y.jsxs("div",{className:"py-6 w-full",children:[y.jsx(Ll,{isOpen:u,setIsOpen:()=>{C(!1),c(null)},html:O,title:"Request Detail",centreInfo:!0}),y.jsx("div",{className:"text-3xl font-bold mb-4",children:m("withdrawalRequest")}),e?y.jsx("div",{className:"h-[500px] flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"px-10 bg-white py-4 grid grid-cols-4 gap-x-1 rounded-xl shadow",children:[y.jsx("div",{className:"",children:y.jsx(Nn,{placeholder:m("enterManagerEmail"),label:m("managerEmail"),value:V,onchange:ne=>H(ne.target.value)})}),y.jsxs("div",{className:"",children:[y.jsx("div",{className:"font-semibold mb-2",children:m("amount")}),y.jsx(ho,{placeholder:m("selectAmount"),items:v,onSelect:ne=>L((ne==null?void 0:ne.key)??"all"),buttonClassName:"!px-3"})]}),y.jsxs("div",{className:"",children:[y.jsx("div",{className:"font-semibold mb-2",children:m("dateCreate")}),y.jsx(ho,{placeholder:m("selectDateCreate"),items:x,onSelect:ne=>X((ne==null?void 0:ne.key)??"all"),buttonClassName:"!px-3"})]}),y.jsxs("div",{className:"",children:[y.jsx("div",{className:"font-semibold mb-2",children:m("status")}),y.jsx(ho,{placeholder:m("selectStatus"),items:G,onSelect:ne=>j((ne==null?void 0:ne.key)??"all"),buttonClassName:"!px-3"})]})]}),B&&B.length>0?B.map(ne=>y.jsxs("div",{className:`grid grid-cols-4 py-3 px-10 mt-2 rounded-lg shadow ease-in-out duration-300 font-medium
                        ${ne.dateAuthenticate?"bg-slate-50":"bg-white"}
                        hover:px-8 cursor-pointer`,onClick:()=>P(ne),children:[y.jsx("div",{className:"self-center font-semibold ml-5 truncate",children:ne.managerEmail}),y.jsxs("div",{className:"self-center text-center truncate",children:[ne.amount.toLocaleString("de-DE")," VND"]}),y.jsx("div",{className:"self-center text-center truncate",children:xt(ne.dateCreateWithdrawalOrder).format("yyyy-MM-DD")}),ne.status?y.jsx("div",{className:"text-xs mx-auto py-1 px-2 text-white bg-primary-green w-fit font-semibold rounded",children:m("Accepted")}):ne.dateAuthenticate?y.jsx("div",{className:"text-xs mx-auto py-1 px-2 text-white bg-rose-500 w-fit font-semibold rounded",children:m("Denied")}):y.jsx("div",{className:"text-xs mx-auto py-1 px-2 text-white bg-yellow-400 w-fit font-semibold rounded",children:m("Pending")})]},ne.id)):y.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px] text-3xl text-primary mx-auto",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"250",height:"250",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search-x",children:[y.jsx("path",{d:"m13.5 8.5-5 5"}),y.jsx("path",{d:"m8.5 8.5 5 5"}),y.jsx("circle",{cx:"11",cy:"11",r:"8"}),y.jsx("path",{d:"m21 21-4.3-4.3"})]}),"No request found."]})]})]})},$Ke=()=>{var P,O;const e=new AbortController,{signal:t}=e,{t:i}=Jn(),[o,s]=le.useState(!0),[c,u]=le.useState(),[C,m]=le.useState(!1),[v,x]=le.useState(),[G,B]=le.useState(""),[R,V]=le.useState(!1),H=async()=>{await mn.get("/courtstar/centre/centre/pending",{signal:t}).then(de=>{u(de.data.data)}).catch(de=>{console.log(de.message)}).finally(()=>{s(!1)})};le.useEffect(()=>{H()},[]);const M=async de=>{let ce=c.filter(ne=>ne.id===de);x(ce[0]),m(!0)},L=async de=>{await mn.post(`/courtstar/admin/centre/approve/${de}`,{signal:t}).then(ce=>{sn.success("Approve successfully",{toastId:"approve-success"}),ce.data.data&&(H(),m(!1))}).catch(ce=>{sn.error(ce.message,{toastId:"approve-unsuccess"})}).finally()},_=async de=>{V(!0),await mn.post(`/courtstar/admin/centre/deny/${de}`,{description:G}).then(ce=>{sn.success("Deny successfully",{toastId:"deny-success"}),ce.data.data&&(H(),re(!1),m(!1))}).catch(ce=>{sn.error(ce.message,{toastId:"deny-unsuccess"})}).finally(()=>{V(!1)})},X=y.jsx(y.Fragment,{children:v&&y.jsx("div",{className:"w-[calc(80vw)]",children:y.jsxs("div",{className:"flex justify-between gap-4",children:[y.jsx("div",{className:"",children:y.jsx(t2,{images:v==null?void 0:v.images})}),y.jsx("div",{className:"flex-1 w-[410px] flex flex-col gap-3",children:y.jsxs("div",{className:"flex flex-col gap-3",children:[y.jsx("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow flex flex-col gap-3",children:y.jsxs("div",{className:"flex flex-col gap-1.5",children:[y.jsx("div",{className:"flex justify-between text-lg font-semibold",children:i("information")}),y.jsxs("div",{className:"px-2",children:[y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[i("address"),": "]}),v.address]}),y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[i("openTime"),": "]}),xt(v.openTime,"HH:mm:ss").format("HH:mm")," - ",xt(v.closeTime,"HH:mm:ss").format("HH:mm")]}),y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[i("price"),": "]}),y.jsxs("span",{className:"font-semibold text-rose-600",children:[(P=v==null?void 0:v.pricePerHour)==null?void 0:P.toLocaleString("de-DE")," VND/h"]})]})]})]})}),(v==null?void 0:v.description)&&y.jsxs("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow",children:[y.jsxs("span",{className:"font-semibold",children:[i("description"),": "]}),y.jsx("div",{dangerouslySetInnerHTML:{__html:v.description}})]}),y.jsxs("div",{className:"bg-white h-fit w-full px-4 py-2 rounded-md shadow flex flex-col gap-3",children:[y.jsx("div",{className:"flex justify-between text-lg font-semibold",children:y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:[i("numberOfCourts"),": "]}),v.numberOfCourts]})}),y.jsx("div",{className:"mx-auto",children:y.jsx("div",{className:"grid grid-cols-2 gap-x-20",children:(O=v==null?void 0:v.courts)==null?void 0:O.map(de=>y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsxs("div",{className:"",children:[de.courtNo,"."]}),y.jsx("div",{className:"flex justify-between gap-1 w-full items-center",children:y.jsxs("div",{className:"flex gap-1 ",children:[y.jsxs("div",{className:"font-semibold",children:[i("status"),":"]}),y.jsx("div",{className:de.status?"font-semibold text-primary-green":"font-semibold text-red-500",children:de.status?"Active":"Close"})]})})]},de.id))})})]})]})})]})})}),Q=y.jsxs("div",{className:"",children:[y.jsx(Nn,{id:"description",name:"description",value:G,onchange:de=>B(de.target.value)}),y.jsx(Pn,{className:"bg-primary-green mx-auto mt-3 w-full py-0.5 text-white hover:bg-teal-900",label:i("confirm"),onClick:()=>_(v==null?void 0:v.id),loading:R})]}),[j,re]=le.useState(!1);return y.jsxs(y.Fragment,{children:[y.jsx(s2,{isOpen:C,setIsOpen:()=>{m(!1)},html:X,title:v==null?void 0:v.name,submit:()=>{Sc({title:i("areYouSure")+"?",message:i("youAllowThisCentreOpenInTheSystem")+"!",type:"success",onConfirmClick:()=>L(v==null?void 0:v.id)})},submitDeny:()=>re(!0),centreInfo:!0}),y.jsx(Ll,{isOpen:j,setIsOpen:()=>re(!1),html:Q,centreInfo:!0,title:i("reasonForDenial")}),y.jsxs("div",{className:"py-6 w-full",children:[y.jsx("div",{className:"text-3xl font-bold",children:i("postCentre")}),o?y.jsx("div",{className:"h-[500px] flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})}):y.jsx(y.Fragment,{children:c.length?y.jsx("div",{className:"mt-2",children:c==null?void 0:c.map(de=>y.jsxs("div",{className:"grid grid-cols-3 py-3 px-10 mt-1 bg-white rounded-lg shadow-sm ease-in-out duration-300 font-medium hover:bg-teal-50 hover:px-8 cursor-pointer",onClick:()=>M(de.id),children:[y.jsx("div",{className:"self-center font-semibold",children:de.name}),y.jsx("div",{className:"self-center",children:de.managerEmail}),y.jsx("div",{className:"w-fit justify-self-end",children:y.jsx("div",{className:"mx-auto text-white text-xs font-semibold px-2 py-1 bg-yellow-400 rounded-md",children:i("Pending")})})]},de.id))}):y.jsxs("div",{className:"flex flex-col items-center justify-center h-[500px] text-3xl text-primary mx-auto",children:[y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"250",height:"250",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search-x",children:[y.jsx("path",{d:"m13.5 8.5-5 5"}),y.jsx("path",{d:"m8.5 8.5 5 5"}),y.jsx("circle",{cx:"11",cy:"11",r:"8"}),y.jsx("path",{d:"m21 21-4.3-4.3"})]}),"No request found."]})})]})]})},eze=e=>y.jsxs("div",{className:"flex-1 flex justify-center max-w-screen-1440 px-14 mx-auto",children:[e.tab===1&&y.jsx(PKe,{}),e.tab===2&&y.jsx(KKe,{}),e.tab===3&&y.jsx(OKe,{tabItem:e.tabItem}),e.tab===4&&y.jsx(qKe,{}),e.tab===5&&y.jsx($Ke,{})]}),tze=()=>{const[e,t]=le.useState(),[i,o]=le.useState(),s=u=>{t(u)},c=u=>{o(u)};return y.jsxs("div",{className:"bg-gray-100 text-gray-800 flex",children:[y.jsx(sMe,{onDataTabSubmit:s,onDataTabItemSubmit:c}),y.jsx(eze,{tab:e,tabItem:i})]})};function nze(){const{t:e}=Jn(),{state:t,dispatch:i}=_d(),{account:o}=t,[s,c]=le.useState(!1),[u,C]=le.useState(!1),[m,v]=le.useState({firstName:"",lastName:"",phone:"",password:""}),x=B=>{const{name:R,value:V}=B.target;v(H=>({...H,[R]:V}))};le.useEffect(()=>{v({firstName:o.firstName,lastName:o.lastName,phone:o.phone,password:""})},[o]);const G=async()=>{C(!0);const{email:B,...R}=m;try{const V=await mn.put("/courtstar/account",R);sn.success("Profile updated successfully!",{toastId:"update-success"}),i({type:"SET_ACCOUNT",payload:V.data.data})}catch(V){sn.error(V.message,{toastId:"update-error"})}finally{C(!1)}};return s?y.jsx("div",{className:"h-[652px] flex items-center justify-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})}):y.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:y.jsx("div",{className:"items-center bg-gray-100 py-10",children:y.jsxs("div",{className:"max-w-xl mx-auto py-8 px-16 bg-white rounded-lg",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:e("yourProfile")}),y.jsxs("div",{children:[y.jsxs("div",{className:"mb-4 flex gap-5",children:[y.jsx(Nn,{id:"firstName",name:"firstName",label:e("firstName"),onchange:x,value:m.firstName}),y.jsx(Nn,{id:"lastName",name:"lastName",label:e("lastName"),onchange:x,value:m.lastName})]}),y.jsx("div",{className:"mb-4",children:y.jsx(Nn,{id:"email",name:"email",label:"Email",value:o.email,disabled:!0})}),y.jsx("div",{className:"mb-4",children:y.jsx(Nn,{id:"phone",name:"phone",label:e("phone"),onchange:x,value:m.phone})}),y.jsx("div",{className:"mb-3",children:y.jsx(Nn,{id:"password",name:"password",label:e("password"),onchange:x,value:m.password})}),y.jsxs("div",{className:"pb-5 px-5 pt-3 -mx-5 font-semibold flex gap-6",children:[y.jsx(Pn,{label:e("update"),fullWidth:!0,size:"medium",className:"bg-primary-green hover:bg-teal-900 text-white",icon:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 22 22",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-check",children:y.jsx("path",{d:"M20 6 9 17l-5-5"})}),loading:u,onClick:G}),y.jsx(Pn,{label:e("cancel"),fullWidth:!0,size:"medium",className:"text-red-600 border-2 border-red-600 w-1/2  hover:bg-red-600 hover:text-white !font-semibold"})]})]})]})})})}function ize(e){var v,x,G;const[t,i]=le.useState(0),[o,s]=le.useState("");le.useEffect(()=>{e.isOpen&&(i(0),s(""))},[e.isOpen]);const c=()=>{e.setIsOpen()},u=B=>{i(B)},C=async B=>{B.preventDefault();const R={content:o,rate:t,centreId:e.booking.centreId,bookingId:e.booking.id};try{await mn.post("/courtstar/feedback/create",R),c(),sn.success("Feedback submitted successfully!",{toastId:"feedback-success"}),e.onFeedbackSubmitted()}catch(V){console.error("Error submitting feedback:",V),sn.error(V.message,{toastId:"feedback-error"})}},m=y.jsx("form",{onSubmit:C,className:"w-[28rem] mx-auto",children:y.jsxs("div",{className:"max-w-md mx-auto",children:[y.jsx("h2",{className:"text-2xl font-bold mb-3 text-center",children:"Rate us!"}),y.jsxs("p",{className:"text-gray-600 text-sm mb-3 text-center",children:["Your feedback is useful for us to understand your needs, ",y.jsx("br",{}),"so we can customize our services to suit you perfectly."]}),y.jsx("div",{className:"mb-3",children:y.jsx("p",{className:"text-gray-700 font-semibold text-center",children:"How would you rate our centre?"})}),y.jsxs("div",{className:"text-center mb-3",children:[y.jsx("img",{src:(v=e==null?void 0:e.booking)==null?void 0:v.centreImg,alt:(x=e==null?void 0:e.booking)==null?void 0:x.centreName,className:"mx-auto object-cover object-center min-w-72 max-w-72 h-44 rounded-lg mb-3"}),y.jsx("h3",{className:"font-semibold text-lg mb-2",children:(G=e==null?void 0:e.booking)==null?void 0:G.centreName})]}),y.jsx("div",{className:"flex justify-center mb-3",children:y.jsx(ru,{ratingWrapper:"flex gap-1",value:t,editable:!0,onChange:u})}),y.jsxs("div",{className:"mb-3",children:[y.jsx("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"comment",children:"Add a comment..."}),y.jsx("textarea",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"comment",rows:"3",placeholder:"Enter your comment here...",value:o,onChange:B=>s(B.target.value)})]}),y.jsx("div",{className:"flex justify-center",children:y.jsx("button",{className:"bg-primary-green hover:bg-teal-900 text-white font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline",type:"submit",children:"Send now"})})]})});return y.jsx("div",{children:y.jsx(Ll,{html:m,isOpen:e.isOpen,setIsOpen:c})})}const rze=()=>{const[e,t]=le.useState(!1),[i,o]=le.useState(!0),[s,c]=le.useState([]),[u,C]=le.useState(null),[m,v]=le.useState(1),[x,G]=le.useState(null),B=4,R=async()=>{try{const j=await mn.get("/courtstar/booking");if(j.data.code===1e3){const re=j.data.data.sort((P,O)=>P.rate===0&&O.rate!==0?-1:P.rate!==0&&O.rate===0?1:new Date(O.bookingDetails[0].date)-new Date(P.bookingDetails[0].date));c(re)}else G("Failed to fetch bookings")}catch{G("Error fetching booking data")}finally{o(!1)}};le.useEffect(()=>{R()},[]);const V=j=>{C(j),t(!0)},H=()=>{t(!1),C(null)},M=j=>{v(j)},L=m*B,_=L-B,X=s.slice(_,L),Q=j=>{const re=j.map(O=>xt(`${O.date} ${O.slot.endTime}`,"YYYY-MM-DD HH:mm:ss")),P=xt.max(re);return xt().isAfter(P)};return y.jsxs("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:[y.jsx(ize,{isOpen:e,setIsOpen:H,booking:u,onFeedbackSubmitted:R}),y.jsx("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-100",children:y.jsxs("div",{id:"top",className:"max-w-screen-1440 1440:mx-auto mx-4 py-10 px-12 w-full flex flex-col gap-4 items-center justify-between",children:[y.jsx("div",{className:"font-bold text-3xl uppercase text-start w-full pb-5 pl-2",children:"Booking History"}),y.jsx("div",{className:"flex gap-5 w-full rounded-2xl py-10 min-h-[50px]",children:i?y.jsx(Ti,{type:"page",height:"80",width:"80",color:"#2B5A50"}):x?y.jsx("div",{className:"text-red-500 text-xl",children:x}):y.jsx("div",{className:"flex-1 flex flex-col gap-5 items-center",children:X.length?X.map(j=>y.jsx(oze,{booking:j,handleFeedbackPopup:V,isFeedbackAvailable:Q},j.id)):y.jsxs("div",{className:"flex flex-col items-center justify-center h-56 text-3xl text-primary",children:[y.jsx(sze,{}),"You don't have any bookings yet!"]})})}),s.length>B&&y.jsx(Vd,{totalItems:s.length,itemsPerPage:B,currentPage:m,onPageChange:M})]})})]})},oze=({booking:e,handleFeedbackPopup:t,isFeedbackAvailable:i})=>y.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border py-5 px-7 flex gap-7 max-w-5xl w-full",children:[y.jsx("img",{src:e.centreImg||centrePlaceholder,alt:e.centreName,className:"min-w-80 max-w-80 h-56 rounded-lg object-cover object-center"}),y.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[y.jsx("div",{className:"font-semibold text-xl",children:e.centreName}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Address: "}),e.centreAddress]}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Court Number: "}),e.bookingDetails[0].court.courtNo]}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Total price: "}),y.jsx("span",{className:"font-semibold text-rose-600",children:e.totalPrice.toLocaleString("vi-VN",{style:"currency",currency:"VND"})})]}),e.bookingDetails.map(o=>y.jsxs("div",{className:"border-t pt-3",children:[y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Date: "}),xt(o.date).format("DD/MM/YYYY")]}),y.jsxs("div",{children:[y.jsxs("span",{className:"font-semibold",children:["Slot: ",o.slot.slotNo," / "]}),y.jsx("span",{className:"font-semibold",children:"Time: "}),xt(o.slot.startTime,"HH:mm:ss").format("HH:mm")," -"," ",xt(o.slot.endTime,"HH:mm:ss").format("HH:mm")]})]},o.id)),y.jsx("div",{className:"flex justify-center items-end h-full",children:e.rate===0?i(e.bookingDetails)?y.jsx("button",{className:"block text-center py-1 w-full border bg-primary-green text-white rounded-md font-semibold hover:bg-teal-900 transition-all ease-in-out duration-300",onClick:()=>t(e),children:"Feedback"}):y.jsx("button",{className:"block text-center py-1 w-full border bg-primary-green text-white rounded-md font-semibold opacity-80",disabled:!0,children:"Feedback"}):y.jsx(ru,{ratingWrapper:"flex gap-1",value:e.rate,editable:!1})})]})]}),sze=()=>y.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"150",height:"150",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-ticket-x",children:[y.jsx("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),y.jsx("path",{d:"m9.5 14.5 5-5"}),y.jsx("path",{d:"m9.5 9.5 5 5"})]}),aze=({children:e})=>{const t=localStorage.getItem("role");return!t||t==="CUSTOMER"?y.jsx(YR,{to:"/"}):y.jsx(y.Fragment,{children:e})},lze=({children:e})=>{const t=localStorage.getItem("role");return!t||t!=="ADMIN"?y.jsx(YR,{to:"/"}):y.jsx(y.Fragment,{children:e})},a9=({children:e})=>localStorage.getItem("role")?y.jsx(y.Fragment,{children:e}):y.jsx(YR,{to:"/"}),cze=()=>{const{t:e}=Jn();return y.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:y.jsx("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-100",children:y.jsxs("div",{className:"max-w-screen-1440 1440:mx-auto mx-4 py-8 px-12 w-full flex flex-col gap-3",children:[y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h1",{className:"text-3xl font-bold font py-8",children:e("aboutUs")})}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsxs("div",{className:"text-3xl font-semibold py-5",children:[y.jsxs("p",{className:"text-2xl font-semibold py-5 text-center",children:[" ",e("COURTSTAR - A healthy body leads to a healthy mind")]}),y.jsxs("p",{className:"text-xl font-semibold py-6",children:[" 1. ",e("History and Development")]}),y.jsxs("div",{className:"text-base font-normal",children:[y.jsx("p",{children:e("foundedIn2024")}),y.jsx("p",{children:e("dynamicTeam")}),y.jsx("p",{children:e("manyCourts")}),y.jsx("p",{children:e("enthusiasticStaff")})]}),y.jsxs("p",{className:"text-xl font-semibold py-6",children:["2. ",e("Mission and Vision")]}),y.jsx("p",{className:"text-lg font-semibold",children:e("Vision")}),y.jsx("p",{className:"font-normal text-base py-6",children:e("visionDescription")}),y.jsx("p",{className:"text-lg font-semibold py-6",children:e("Mission")}),y.jsx("p",{className:"font-normal text-base py-6",children:e("missionDescription")}),y.jsxs("p",{className:"text-xl font-semibold py-6",children:["3. ",e("CourtStar Commitments")]}),y.jsx("p",{className:"text-lg font-semibold py-6",children:e("Commitment to the Guest")}),y.jsx("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:e("guestCommitments",{returnObjects:!0}).map((t,i)=>y.jsx("li",{children:t},i))}),y.jsx("p",{className:"text-lg font-semibold py-6",children:e("Commitment to the Partner")}),y.jsx("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:e("partnerCommitments",{returnObjects:!0}).map((t,i)=>y.jsx("li",{children:t},i))})]})})]})})})},gze=()=>{const{t:e}=Jn();return y.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:y.jsx("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-100",children:y.jsxs("div",{className:"max-w-screen-1440 mx-auto mx-4 py-8 px-12 w-full flex flex-col gap-3",children:[y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h1",{className:"text-3xl font-bold py-8",children:e("privacyPolicy")})}),y.jsxs("table",{className:"w-fit mx-4 py-8 px-12 flex flex-col gap-3 bg-slate-200",children:[y.jsx("thead",{children:y.jsx("tr",{className:"table-header text-left",children:y.jsx("th",{children:e("quickView")})})}),y.jsxs("tbody",{children:[y.jsx("tr",{children:y.jsx("td",{children:y.jsxs("a",{href:"#personal",children:["1. ",e("personalDataWeCollect")]})})}),y.jsx("tr",{children:y.jsx("td",{children:y.jsxs("a",{href:"#provided",children:["2. ",e("thirdPartyPersonalDataProvided")]})})}),y.jsx("tr",{children:y.jsx("td",{children:y.jsxs("a",{href:"#purpose",children:["3. ",e("purposeForDataProcessing")]})})}),y.jsx("tr",{children:y.jsx("td",{children:y.jsxs("a",{href:"#sharing",children:["4. ",e("sharingPersonalData")]})})}),y.jsx("tr",{children:y.jsx("td",{children:y.jsxs("a",{href:"#international",children:["5. ",e("internationalDataTransfer")]})})}),y.jsx("tr",{children:y.jsx("td",{children:y.jsxs("a",{href:"#storage",children:["6. ",e("dataStorageAndProcessingTime")]})})}),y.jsx("tr",{children:y.jsx("td",{children:y.jsxs("a",{href:"#rights",children:["7. ",e("rightsAndObligationsOfCustomers")]})})}),y.jsx("tr",{children:y.jsx("td",{children:y.jsxs("a",{href:"#protection",children:["8. ",e("dataProtection")]})})}),y.jsx("tr",{children:y.jsx("td",{children:y.jsxs("a",{href:"#cookies",children:["9. ",e("cookies")]})})}),y.jsx("tr",{children:y.jsx("td",{children:y.jsxs("a",{href:"#updating",children:["10. ",e("updatingDataProtectionPolicy")]})})})]})]}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsxs("div",{className:"text-3xl font-semibold py-5",children:[y.jsx("h2",{className:"text-2xl font-semibold py-5",children:e("thankYouForVisiting")}),y.jsx("h3",{className:"text-xl font-semibold py-6",children:e("overview")}),y.jsxs("h4",{className:"text-base font-normal",children:[y.jsx("p",{className:"pb-4",children:e("overviewText1")}),y.jsx("p",{className:"pb-4",children:e("overviewText2")}),y.jsx("p",{className:"pb-4",children:e("overviewText3")})]}),y.jsxs("p",{id:"personal",className:"text-xl font-semibold py-6",children:["1. ",e("personalDataWeCollect")]}),y.jsx("p",{className:"text-base font-normal",children:e("dataCollectionIntro")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["1.1 ",e("personalData")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("personalDataDetails")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["1.2 ",e("personalDataCollectedAutomatically")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("automaticDataCollectionIntro")}),y.jsxs("p",{className:"text-lg font-semibold py-6",children:["1.2.1 ",e("contactInformation")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("contactInformationDetails")}),y.jsxs("p",{className:"text-lg font-semibold py-6",children:["1.2.2 ",e("financialInformation")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("financialInformationDetails")}),y.jsxs("p",{className:"text-lg font-semibold py-6",children:["1.2.3 ",e("transactionInformation")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("transactionInformationDetails")}),y.jsxs("p",{className:"text-lg font-semibold py-6",children:["1.2.4 ",e("behavioralInformation")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("behavioralInformationDetails")}),y.jsxs("p",{className:"text-lg font-semibold py-6",children:["1.2.5 ",e("profileInformation")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("profileInformationDetails")}),y.jsxs("p",{className:"text-lg font-semibold py-6",children:["1.2.6 ",e("marketingAndCommunicationInformation")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("marketingAndCommunicationDetails")}),y.jsxs("p",{id:"provided",className:"text-lg font-semibold py-6",children:["2. ",e("thirdPartyPersonalDataProvided")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("thirdPartyPersonalDataIntro")}),y.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[y.jsx("li",{children:e("thirdPartyPersonalDataItem1")}),y.jsx("li",{children:e("thirdPartyPersonalDataItem2")}),y.jsx("li",{children:e("thirdPartyPersonalDataItem3")}),y.jsx("li",{children:e("thirdPartyPersonalDataItem4")}),y.jsx("li",{children:e("thirdPartyPersonalDataItem5")})]}),y.jsxs("p",{id:"purpose",className:"text-lg font-semibold py-6",children:["3. ",e("purposeForData")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("scopePermitted")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.1 ",e("regisAuthen")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("processData")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.2 ",e("relationManagement")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("processYour")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.3 ",e("dataAnalysis")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("dataPurpose")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.4 ",e("improveProduct")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("dataServe")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.5 ",e("meetFunction")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("weMay")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.6 ",e("informationTech")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("toPerform")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.7 ",e("protectCommon")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("thirdParties")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["3.8 ",e("complianceLegal")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("complyLegal")}),y.jsxs("p",{id:"sharing",className:"text-lg font-semibold py-6",children:["4. ",e("personalShare")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("mayDisclose")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["4.1 ",e("websiteSocial")," "]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("provideYou")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["4.2 ",e("uponRequest")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("toProtecting")}),y.jsxs("p",{id:"international",className:"text-lg font-semibold py-6",children:["5. ",e("dataTransfer")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("beTransfer")}),y.jsx("p",{className:"text-base font-normal py-6",children:e("legalBasis")}),y.jsxs("p",{id:"storage",className:"text-lg font-semibold py-6",children:["6. ",e("dataStorage")]}),y.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[y.jsx("li",{children:e("storeProcess")}),y.jsx("li",{children:e("ceaseStoring")}),y.jsx("li",{children:e("regulationsAbove")})]}),y.jsxs("p",{id:"rights",className:"text-lg font-semibold py-6",children:["7. ",e("rightsAnd")]}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.1. ",e("knowRight")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("rightTo")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.2. ",e("toConsent")]}),y.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[y.jsx("li",{children:e("haveRight")}),y.jsx("li",{children:e("toWithdraw")})]}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.3. ",e("toAccess")]}),y.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[y.jsx("li",{children:e("toView")}),y.jsx("li",{children:e("notResponsible")})]}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.4. ",e("deleteData")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("toRequest")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.5. ",e("toRestrict")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("toLimit")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.6. ",e("toProvided")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("mayRequest")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.7. ",e("toObject")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("toData")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.8. ",e("toComplain")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("toSubmit")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.9. ",e("toRequests")]}),y.jsx("p",{className:"text-base font-normal py-6",children:e("requestCompensation")}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.10. ",e("toSelf")]}),y.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[y.jsx("li",{children:e("asRegulated")}),y.jsx("li",{children:e("tryTo")}),y.jsx("li",{children:e("mayExercise")}),y.jsx("li",{children:e("ownPrivacy")})]}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.11 ",e("ofCustomers")]}),y.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[y.jsx("li",{children:e("provideFull")}),y.jsx("li",{children:e("respectProtect")}),y.jsx("li",{children:e("otherLegal")})]}),y.jsxs("p",{className:"font-semibold text-lg py-6",children:["7.12. ",e("notesOn")]}),y.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[y.jsx("li",{children:e("ifYou")}),y.jsx("li",{children:e("ofYours")})]}),y.jsxs("p",{id:"protection",className:"text-lg font-semibold py-6 pb-6",children:["8. ",e("dataProtections")]}),y.jsx("p",{className:"text-base font-normal py-6 pb-4",children:e("weHave")}),y.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[y.jsx("li",{children:e("byLaw")}),y.jsx("li",{children:e("rulesOn")}),y.jsx("li",{children:e("conductSecurity")}),y.jsx("li",{children:e("weAlso")}),y.jsx("li",{children:e("theEvent")})]}),y.jsxs("p",{id:"cookies",className:"text-lg font-semibold py-6",children:["9. ",e("forCookies")]}),y.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[y.jsx("li",{children:e("cookieIs")}),y.jsx("li",{children:e("toHelp")}),y.jsx("li",{children:e("acceptDecline")})]}),y.jsxs("p",{id:"updating",className:"text-lg font-semibold py-6",children:["10. ",e("updatingThe")]}),y.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[y.jsx("li",{children:e("mayModify")}),y.jsx("li",{children:e("agreeThat")})]}),y.jsx("p",{className:"text-lg font-semibold py-6",children:e("forConsent")}),y.jsxs("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:[y.jsx("li",{children:e("pleaseRead")}),y.jsx("li",{children:e("notAgree")})]})]})})]})})})},dze=()=>{const{t:e}=Jn();return y.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:y.jsx("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-100",children:y.jsxs("div",{className:"max-w-screen-1440 1440:mx-auto mx-4 py-8 px-12 w-full flex flex-col gap-3",children:[y.jsx("div",{className:"flex justify-between items-center",children:y.jsxs("h1",{className:"text-3xl font-bold font py-8",children:[" ",e("Customer")," "]})}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsxs("div",{className:"text-3xl font-semibold py-5",children:[y.jsxs("p",{className:"text-xl font-semibold py-6",children:[" 1. ",e("basicTerm")]}),y.jsx("div",{className:"text-base font-normal",children:y.jsxs("p",{children:["- ",e("beLiable")," "]})}),y.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:e("basicTerms",{returnObjects:!0}).map((t,i)=>y.jsx("li",{children:t},i))}),y.jsxs("p",{className:"text-xl font-semibold py-6",children:["2. ",e("condition")]}),y.jsx("ul",{className:"font-normal text-base",style:{paddingLeft:"50px",listStyleType:"disc"},children:e("generalConditions",{returnObjects:!0}).map((t,i)=>y.jsx("li",{children:t},i))}),y.jsxs("p",{className:"text-xl font-semibold py-6",children:["3. ",e("prohibitedActivity")]}),y.jsx("div",{className:"text-base font-normal",children:y.jsxs("p",{children:["- ",e("useThe")," "]})}),y.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:e("prohibitedActivities",{returnObjects:!0}).map((t,i)=>y.jsx("li",{children:t},i))}),y.jsxs("p",{className:"text-xl font-semibold py-6",children:["4. ",e("refunderPolicy")," "]}),y.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:e("refundPolicy",{returnObjects:!0}).map((t,i)=>y.jsx("li",{children:t},i))}),y.jsx("p",{className:"text-xl font-semibold py-6",children:e("copyRight")}),y.jsx("div",{className:"text-base font-normal",children:y.jsx("p",{children:e("allCopyright")})})]})})]})})})},Aze=()=>{const{t:e}=Jn();return y.jsx("div",{className:"font-Inter text-base overflow-x-hidden text-gray-800",children:y.jsx("div",{className:"flex flex-wrap sm:justify-start sm:flex-nowrap w-full bg-gray-100",children:y.jsxs("div",{className:"max-w-screen-1440 1440:mx-auto mx-4 py-8 px-12 w-full flex flex-col gap-3",children:[y.jsx("div",{className:"flex justify-between items-center",children:y.jsx("h1",{className:"text-3xl font-bold font py-8",children:e("Partners")})}),y.jsx("div",{className:"flex justify-between items-center",children:y.jsxs("div",{className:"text-3xl font-semibold py-5",children:[y.jsxs("p",{className:"text-xl font-semibold py-6",children:[" 1. ",e("basicTerm")]}),y.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:e("basicTermsPartner",{returnObjects:!0}).map((t,i)=>y.jsx("li",{children:t},i))}),y.jsxs("p",{className:"text-xl font-semibold py-6",children:["2. ",e("condition")]}),y.jsxs("p",{className:"text-lg font-semibold",children:["2.1 ",e("uploadCourt")," "]}),y.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:e("uploadCondition",{returnObjects:!0}).map((t,i)=>y.jsx("li",{children:t},i))}),y.jsxs("p",{className:"text-lg font-semibold font py-6",children:["2.2 ",e("partnerSharing")," "]}),y.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:e("moneySharing",{returnObjects:!0}).map((t,i)=>y.jsx("li",{children:t},i))}),y.jsxs("p",{className:"text-lg font-semibold font py-6",children:["2.3 ",e("withdrawalPolicy")," "]}),y.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:e("withdrawPolicy",{returnObjects:!0}).map((t,i)=>y.jsx("li",{children:t},i))}),y.jsxs("p",{className:"text-lg font-semibold font py-6",children:["3. ",e("prohibitedActivity")," "]}),y.jsx("ul",{className:"font-normal text-base py-4",style:{paddingLeft:"50px",listStyleType:"disc"},children:e("prohibitedActPartner",{returnObjects:!0}).map((t,i)=>y.jsx("li",{children:t},i))}),y.jsxs("p",{className:"text-xl font-semibold py-6",children:[" ",e("copyRight")," "]}),y.jsx("div",{className:"text-base font-normal",children:y.jsxs("p",{children:[" ",e("allCopyright")," "]})})]})})]})})})},uze="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='%2322c55e'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'%20class='lucide%20lucide-circle-check-big'%3e%3cpath%20d='M22%2011.08V12a10%2010%200%201%201-5.93-9.14'/%3e%3cpath%20d='m9%2011%203%203L22%204'/%3e%3c/svg%3e";function hze(){return new URLSearchParams(iu().search)}const mze=()=>{var B;const[e,t]=le.useState(!0),[i,o]=le.useState(null),[s,c]=le.useState(null),u=hze(),[C,m]=le.useState(u.get("status")),[v,x]=le.useState(u.get("apptransid")),G=iu();return le.useEffect(()=>{C==="1"?(async()=>{await mn.post("/courtstar/payment/order-info",{appTransId:v}).then(V=>{c(V.data)}).catch(V=>{console.log(V.message)}).finally(()=>{t(!1)})})():C?t(!1):mn.get(`/courtstar/payment-vn-pay/callback${G.search}`).then(V=>{m(V.data.status),x(V.data.appTransId)}).catch(V=>{console.log(V.message)}).finally(()=>{t(!1)}),o(C)},[C,v]),y.jsx("div",{className:"flex flex-col justify-center items-center min-h-[calc(100vh-350px)]",children:e?y.jsx("div",{className:"w-full h-[500px] flex justify-center items-center",children:y.jsx(Ti,{height:"80",width:"80",color:"#2B5A50"})}):y.jsxs("div",{className:"w-full max-w-xl bg-white shadow-lg rounded-lg p-6 m-10",children:[i==="1"?y.jsxs("div",{className:"text-center text-green-500 text-xl font-bold flex justify-center",children:[y.jsx("img",{src:uze,className:"pr-3",alt:"check"}),"Payment successfully!"]}):y.jsxs("div",{className:"divide-y divide-slate-700",children:[y.jsx("div",{className:"text-center text-red-500 text-3xl font-semibold mb-4",children:"Payment fail!"}),y.jsxs("div",{className:"text-gray-500 text-md text-center mb-4 pt-4",children:["Your payment was not successfully proceed.",y.jsx("br",{}),"Please contact our customer support."]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-bold mt-4",children:"Why did it fail?"}),y.jsxs("ol",{children:[y.jsx("li",{children:"Payment is overdue."}),y.jsx("li",{children:"Cancel payment."}),y.jsx("li",{children:"Invalid card's information."})]})]})]}),s&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"mt-6",children:[y.jsxs("div",{className:"text-gray-500 text-sm text-center my-4",children:["We just sent the booking schedule to your email",y.jsx("br",{}),y.jsx("span",{className:"text-black font-bold",children:s.account?s.account.email:(B=s.guest)==null?void 0:B.email})]}),y.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Booking Schedule"}),y.jsxs("div",{className:"mb-4 flex flex-col text-lg",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Centre Name:"})," ",s.centreName]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Centre Address:"})," ",s.centreAddress]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Total Price:"})," ",s.totalPrice.toLocaleString("de-DE"),y.jsx("span",{className:"text-sm font-semibold text-gray-500",children:" VND"})]})]}),s.bookingDetails.map((R,V)=>y.jsxs("div",{className:"mb-4 grid grid-cols-2 text-lg",children:[y.jsxs("p",{children:[y.jsx("strong",{children:"Date:"})," ",R.date]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Court No:"})," ",R.court.courtNo]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Status:"})," ",R.checkedIn?"Checked in":"Not yet"]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Slot No:"})," ",R.slot.slotNo]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Time:"})," ",xt(R.slot.startTime,"hh:mm:ss").format("H:mm")," - ",xt(R.slot.endTime,"hh:mm:ss").format("H:mm")]})]},V))]})})]})})};function pze(){const[e,t]=le.useState(!0);return le.useEffect(()=>{setTimeout(()=>{t(!1)},1e3)},[]),e?y.jsx(Ti,{type:"page",height:"80",width:"80",color:"#2B5A50"}):y.jsx(g5e,{children:y.jsxs(nwe,{children:[y.jsx(B5e,{}),y.jsx(Qve,{children:y.jsxs(Zs,{path:"/",element:y.jsx(w5e,{}),children:[y.jsx(Zs,{index:!0,element:y.jsx(lFe,{})}),y.jsx(Zs,{path:"/partnerRegister",element:y.jsx(yWe,{})}),y.jsx(Zs,{path:"/customerRegister",element:y.jsx(vWe,{})}),y.jsx(Zs,{path:"/centreBooking/:id",element:y.jsx(bWe,{})}),y.jsx(Zs,{path:"/aboutUs",element:y.jsx(cze,{})}),y.jsx(Zs,{path:"/PrivacyPolicy",element:y.jsx(gze,{})}),y.jsx(Zs,{path:"/CustomerTerm",element:y.jsx(dze,{})}),y.jsx(Zs,{path:"/PartnerTerm",element:y.jsx(Aze,{})}),y.jsx(Zs,{path:"/payment/result",element:y.jsx(mze,{})}),y.jsx(Zs,{path:"/myCentre/:id",element:y.jsx(aze,{children:y.jsx(oMe,{})})}),y.jsx(Zs,{path:"/admin",element:y.jsx(lze,{children:y.jsx(tze,{})})}),y.jsx(Zs,{path:"/profile",element:y.jsx(a9,{children:y.jsx(nze,{})})}),y.jsx(Zs,{path:"/bookingHistory",element:y.jsx(a9,{children:y.jsx(rze,{})})}),y.jsx(Zs,{path:"*",element:y.jsx(k5e,{})})]})})]})})}aw.createRoot(document.getElementById("root")).render(y.jsx(pze,{}));export{GXe as _,gg as c,Ik as g};
